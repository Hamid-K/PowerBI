"use strict";(self.webpackChunkdesktopDataExplore=self.webpackChunkdesktopDataExplore||[]).push([["export-pbip-dialog"],{73191:function(k,c,t){t.r(c),t.d(c,{ExportPbipDialogModule:function(){return O}});var u=t(77476),s=t(17174),h=t(32293),g=t(20914),m=t(79061),v=t(76966),f=t(96327),x=t(16095),P=t(44913),b=t(95228),C=t(14977),E=t(17890),p=t(81337),d=t(67489),e=t(50423),M=t(65181),y=t(83730),D=t(58938),S=t(96777),B=t(10965),I=t(85102),F=function(){function r(o,n,i,l){this.localizationService=o,this.fileMenuService=n,this.dialogService=i,this.templateDialogPayload=l}return r.prototype.ngOnInit=function(){var o;return(0,p.__awaiter)(this,void 0,void 0,function(){var n,i,l=this;return(0,p.__generator)(this,function(a){switch(a.label){case 0:return n=this,null!==(o=this.templateDialogPayload.input.path)&&void 0!==o?(i=o,[3,3]):[3,1];case 1:return[4,this.fileMenuService.getDefaultPBIPSaveLocationAsync()];case 2:i=a.sent(),a.label=3;case 3:return n.path=i,this.keepModelReference=this.templateDialogPayload.input.keepModelReference,this.openExportFolder=this.templateDialogPayload.input.openExportFolder,this.templateDialogPayload.onOkButtonClick=function(){return l.onOk()},this.templateDialogPayload.onCancelButtonClick=function(){return l.onCancel()},[2]}})})},r.prototype.onOk=function(){return(0,p.__awaiter)(this,void 0,void 0,function(){var o,n,i;return(0,p.__generator)(this,function(l){switch(l.label){case 0:return o={status:"exportClicked"},[4,this.fileMenuService.checkExportPBIPCollisionAsync(this.path)];case 1:return n=l.sent(),i=!0,n?[4,this.confirmOverwrite()]:[3,3];case 2:i=l.sent(),l.label=3;case 3:return i&&(this.fileMenuService.exportPBIP(this.path,this.keepModelReference,this.openExportFolder),this.templateDialogPayload.closeDialogFromConsumer(o)),[2,Promise.resolve(o)]}})})},r.prototype.onCancel=function(){var o={status:"canceled"};return this.templateDialogPayload.closeDialogFromConsumer(o),Promise.resolve(o)},r.prototype.confirmOverwrite=function(){return(0,p.__awaiter)(this,void 0,void 0,function(){var o;return(0,p.__generator)(this,function(a){switch(a.label){case 0:return o={title:this.localizationService.get("ExportPbip_ConfirmOverwriteTitle"),message:this.localizationService.get("ExportPbip_ConfirmOverwriteMessage"),okButtonText:this.localizationService.get("Yes"),cancelButtonText:this.localizationService.get("No")},[4,this.dialogService.openHostDialog({dialogName:"SimpleConfirmationDialogComponent",componentName:"SimpleConfirmationDialogComponent",bindings:o,config:{width:"500px"}})];case 1:return[4,a.sent().afterClosed().toPromise()];case 2:return[2,1===a.sent()]}})})},r.prototype.onBrowse=function(){return(0,p.__awaiter)(this,void 0,void 0,function(){var o;return(0,p.__generator)(this,function(n){switch(n.label){case 0:return[4,this.fileMenuService.browsePBIPSaveLocationAsync(this.path)];case 1:return(o=n.sent())&&(this.path=o),[2]}})})},r.prototype.toggleKeepModelReference=function(){this.keepModelReference=!this.keepModelReference},r.prototype.toggleOpenExportFolder=function(){this.openExportFolder=!this.openExportFolder},r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(M.o),e.\u0275\u0275directiveInject(y.g),e.\u0275\u0275directiveInject(D.x),e.\u0275\u0275directiveInject(d.x))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["export-pbip-dialog"]],features:[e.\u0275\u0275ProvidersFeature([d.x])],decls:20,vars:15,consts:[[1,"export-pbip-dialog"],[1,"export-pbip-browse"],["aria-label","pathLabel",1,"pbi-modern-input","export-pbip-input",3,"ngModel","ngModelChange"],[1,"pbi-fluent-button","export-browse-button",3,"click"],[1,"export-pbip-checkboxes"],[3,"checked","onChange"],[1,"checkbox-label"]],template:function(n,i){1&n&&(e.\u0275\u0275elementStart(0,"template-dialog")(1,"div",0)(2,"div")(3,"b"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",1)(7,"input",2),e.\u0275\u0275listener("ngModelChange",function(a){return i.path=a}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",3),e.\u0275\u0275listener("click",function(){return i.onBrowse()}),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",4)(12,"tri-checkbox",5),e.\u0275\u0275listener("onChange",function(){return i.toggleKeepModelReference()}),e.\u0275\u0275elementStart(13,"span",6),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"tri-checkbox",5),e.\u0275\u0275listener("onChange",function(){return i.toggleOpenExportFolder()}),e.\u0275\u0275elementStart(17,"span",6),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd()()()()()),2&n&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,7,"Location")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",i.path),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,9,"Browse")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("checked",i.keepModelReference),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,11,"PBIP_Export_Keep_Reference")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",i.openExportFolder),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(19,13,"PBIP_Export_Open_Folder")," "))},dependencies:[S.J,s.Fj,s.JJ,s.On,B.r,I.F],styles:[".export-browse-button[_ngcontent-%COMP%]{margin-left:5px;line-height:1em}.export-pbip-checkboxes[_ngcontent-%COMP%]{margin-top:12px}.export-pbip-input[_ngcontent-%COMP%]{width:430px;height:32px;position:relative;top:1px}.export-pbip-browse[_ngcontent-%COMP%]{margin-top:4px}"]}),r}(),O=function(){function r(){}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=e.\u0275\u0275defineInjector({imports:[u.CommonModule,v.c.withManifest([{componentIdentifier:E.k,componentType:F}]),f.F,s.u5,m.v,h.Is,C.B,g._,x.Z,P.lK,b.W]}),r}()}}]);