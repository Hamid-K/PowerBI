"use strict";(self.webpackChunkdesktopDialogHost=self.webpackChunkdesktopDialogHost||[]).push([["sparklines-dialog"],{61587:function(ne,V,n){n.r(V),n.d(V,{SparklinesDialogModule:function(){return De}});var u=n(81337),k=n(54834),Q=n(67290),D=n(62458),K=n(46135),T=n(94419),B=n(74082),R=n(75096),O=n(44529),y=n(73221),M=n(67489),I=n(35510),E=n(59017),F=n(83317),v=n(59973),b=n(14172),h=n(58295),e=n(50423),j=n(28199),H=n(26898),f=n(83008),Y=n(13702),U=n(40823),X=n(29524),ie=n(88023),re=n(72525),oe=n(72193),ae=n(66014),ee=n(23983),le=n(65181),te=n(93215),J=n(77476),i=n(96777),m=n(59968),l=n(22844),c=n(65005),L=n(76492),w=n(58679),N=n(42189),de=n(9529);function pe(p,g){1&p&&e.\u0275\u0275element(0,"label",18)}var se=function(g){return{placeholderState:g}};function ce(p,g){if(1&p){var r=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275element(1,"label",10),e.\u0275\u0275elementStart(2,"pbi-dropdown",11,12)(4,"pbi-dropdown-trigger")(5,"span",13),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",14)(8,"pbi-field-list",15),e.\u0275\u0275listener("onNodeClick",function(S){e.\u0275\u0275restoreView(r);var x=e.\u0275\u0275reference(3),C=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(C.onMeasureSelect(S,x))}),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"div",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,pe,1,0,"label",17),e.\u0275\u0275elementEnd()}if(2&p){var o=g.ngIf,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("options",a.dropdownOptions),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(10,se,!o.expr)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",o.displayName," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("fieldListTree",e.\u0275\u0275pipeBind1(9,8,a.fieldListTree$))("scrollSelectedItemIntoViewOnInit",!0)("hasHighlights",!1)("options",a.fieldListTreeOptions),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!o.isValid)}}function ge(p,g){if(1&p&&(e.\u0275\u0275elementStart(0,"pbi-dropdown-item",24)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&p){var r=g.$implicit;e.\u0275\u0275property("value",r),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(r.displayName)}}function me(p,g){if(1&p){var r=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",19),e.\u0275\u0275element(1,"label",20),e.\u0275\u0275elementStart(2,"pbi-dropdown",21),e.\u0275\u0275listener("valueChange",function(d){var S=e.\u0275\u0275restoreView(r);return e.\u0275\u0275resetView(S.ngIf.selectedAggregate=d)}),e.\u0275\u0275elementStart(3,"pbi-dropdown-trigger")(4,"span",22),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(6,ge,3,2,"pbi-dropdown-item",23),e.\u0275\u0275elementEnd()()}if(2&p){var o=g.ngIf;e.\u0275\u0275advance(2),e.\u0275\u0275property("value",o.selectedAggregate)("isDisabled",null==o.availableAggregates),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(null==o.selectedAggregate?null:o.selectedAggregate.displayName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",o.availableAggregates)}}function ue(p,g){1&p&&e.\u0275\u0275element(0,"label",31)}function he(p,g){if(1&p){var r=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25),e.\u0275\u0275element(1,"label",26),e.\u0275\u0275elementStart(2,"pbi-dropdown",27,28)(4,"pbi-dropdown-trigger")(5,"span",13),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",29)(8,"pbi-field-list",15),e.\u0275\u0275listener("onNodeClick",function(S){e.\u0275\u0275restoreView(r);var x=e.\u0275\u0275reference(3),C=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(C.onGroupingSelect(S,x))}),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"div",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,ue,1,0,"label",30),e.\u0275\u0275elementEnd()}if(2&p){var o=g.ngIf,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("options",a.dropdownOptions),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(10,se,!o.expr)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",o.displayName," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("fieldListTree",e.\u0275\u0275pipeBind1(9,8,a.fieldListTree$))("scrollSelectedItemIntoViewOnInit",!0)("hasHighlights",!1)("options",a.fieldListTreeOptions),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!o.isValid)}}var ve=function(){return{"aria-label":"Sparkline_Dialog_Description"}},fe=function(){return{"aria-label":"Generic_LearnMore"}},Ce=function(p){function g(r,o,a,d,S,x,C,P,A,G,W,Z,q,z,Te){var s=p.call(this)||this;return s.aggrOps=r,s.conceptualSchemaProxy=o,s.dataSourcesService=a,s.displayNameService=d,s.fieldListTreeService=S,s.captionSetting=x,s.draggableSetting=C,s.inlineItemsSetting=P,s.groupingDesignStateService=A,s.hiddenSetting=G,s.localizationService=W,s.modelService=Z,s.templateDialogPayload=q,s.tooltipStrategy=z,s.dataSourceSerializer=Te,s.dropdownOptions={dropdownHeight:184},s.fieldListTree$=s.fieldListTreeService.fieldListTree$,s.fieldListTreeOptions={editLabel:null,tooltip:s.tooltipStrategy},s.pbiTreeNodeSettingOptions={captionSetting:s.captionSetting,draggableSetting:s.draggableSetting,inlineItemsSetting:s.inlineItemsSetting,hiddenSetting:s.hiddenSetting,showMenuSetting:{canShowMenu:function(){return!1}}},s.measureInput$=new I.X({displayName:s.localizationService.get("Select_A_Field"),expr:void 0,isValid:!0}),s.groupingInput$=new I.X({displayName:s.localizationService.get("Select_A_Field"),expr:void 0,isValid:!0}),s.aggregateInput$=new I.X({availableAggregates:void 0,selectedAggregate:void 0}),s.fieldListTreeService.modelToPbiTreeConverterOptions=s.pbiTreeNodeSettingOptions,s}return(0,u.__extends)(g,p),g.prototype.ngOnInit=function(){return(0,u.__awaiter)(this,void 0,void 0,function(){var r,o,a,d,S,x=this;return(0,u.__generator)(this,function(C){switch(C.label){case 0:return this.input=this.templateDialogPayload.input,r=this.dataSourceSerializer.deserializeDataSources(this.input.dataSources),this.dataSourcesService.set(r),(0,E.aj)([this.measureInput$,this.groupingInput$]).pipe((0,F.R)(this.onDestroy$)).subscribe(function(P){var A=P[0],G=P[1];x.templateDialogPayload.setOkButtonState(!(A.expr&&G.expr&&A.isValid&&G.isValid))}),(o=this.input.selectedMeasure)?(a=k.ib.deserializeExpr(o),[4,this.updateMeasureInput(a)]):[3,2];case 1:C.sent(),C.label=2;case 2:return(d=this.input.selectedGrouping)?(S=k.ib.deserializeExpr(d),[4,this.updateGroupingInput(S)]):[3,4];case 3:C.sent(),C.label=4;case 4:return this.templateDialogPayload.onOkButtonClick=function(){return x.onCommit()},[4,this.modelService.update([])];case 5:return C.sent(),this.modelService.modelChange$.pipe((0,v.h)(function(P){return!!P?.model}),(0,b.U)(function(P){return P.model}),(0,F.R)(this.onDestroy$)).subscribe(function(P){return x.fieldListTreeService.setOrUpdateFieldListTreeModel(P,[])}),[2]}})})},g.prototype.ngOnDestroy=function(){return this.measureInput$.complete(),this.groupingInput$.complete(),this.aggregateInput$.complete(),p.prototype.ngOnDestroy.call(this)},g.prototype.onMeasureSelect=function(r,o){return(0,u.__awaiter)(this,void 0,void 0,function(){var a;return(0,u.__generator)(this,function(d){switch(d.label){case 0:return[4,this.getExprFromNodeSelection(r)];case 1:return(a=d.sent())?[4,this.updateMeasureInput(a)]:[2];case 2:return d.sent(),o.closeDropdown(),[2]}})})},g.prototype.onGroupingSelect=function(r,o){return(0,u.__awaiter)(this,void 0,void 0,function(){var a;return(0,u.__generator)(this,function(d){switch(d.label){case 0:return[4,this.getExprFromNodeSelection(r)];case 1:return(a=d.sent())?[4,this.updateGroupingInput(a)]:[2];case 2:return d.sent(),o.closeDropdown(),[2]}})})},g.prototype.updateMeasureInput=function(r){return(0,u.__awaiter)(this,void 0,void 0,function(){var o,a,d,S,x,C,P,A,G,W,Z;return(0,u.__generator)(this,function(q){switch(q.label){case 0:return[4,this.conceptualSchemaProxy.get(this.dataSourcesService.get())];case 1:return o=q.sent(),d=(0,Q.Hh)(r,o,this.aggrOps,!1,K.DW.Measure,[{numeric:!0}],this.localizationService),_.isEmpty(d)||(a=_.map(d,function(z){return{displayName:z.text,value:z.key.aggregate}})),S=r.getMetadata(o),x=S?.type,(0,B.iV)(r)&&x?.numeric?(D.fF.assertNonEmpty(a,"if expr has aggregate set, then it should have available aggregates"),C=_.find(a,function(z){return z.value===r.func})):(P=r,(0,B.iV)(r)&&(P=r.arg),null!=(A=this.aggregateInput$.value.selectedAggregate)&&_.find(a,function(z){return z.value===A.value})?C=A:null!=(G=this.aggrOps.defaultAggregate(P,o,!0,[{numeric:!0}]))&&(C=_.find(a,function(z){return z.value===G}))),W=(0,B.iV)(r)?r.arg:r,Z=this.displayNameService.getDisplayName(W,o,void 0),this.measureInput$.next({displayName:Z,expr:W,isValid:(0,B.kb)(W)||null!=C}),this.aggregateInput$.next({availableAggregates:a,selectedAggregate:C}),[2]}})})},g.prototype.updateGroupingInput=function(r){return(0,u.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,u.__generator)(this,function(d){switch(d.label){case 0:return[4,this.conceptualSchemaProxy.get(this.dataSourcesService.get())];case 1:return o=d.sent(),a=this.displayNameService.getDisplayName(r,o,void 0),this.groupingInput$.next({expr:r,displayName:a,isValid:!(0,h.k)(r)}),[2]}})})},g.prototype.getExprFromNodeSelection=function(r){var o;return(0,u.__awaiter)(this,void 0,void 0,function(){var a,d;return(0,u.__generator)(this,function(S){return a=null===(o=r?.node)||void 0===o?void 0:o.data,(d=(0,O.Sd)(a,this.groupingDesignStateService))?(0,B.Lk)(d)||(0,B.y3)(d)?[2]:[2,d]:[2]})})},g.prototype.onCommit=function(){var r,o=this.measureInput$.value.expr,a=null===(r=this.aggregateInput$.value.selectedAggregate)||void 0===r?void 0:r.value,d=this.groupingInput$.value.expr,S=null!=a?(0,T.m_)(o,a):o;return new Promise(function(x,C){x({grouping:k.ib.serializeExpr(d),measure:k.ib.serializeExpr(S)})})},g.\u0275fac=function(o){return new(o||g)(e.\u0275\u0275directiveInject(j.C),e.\u0275\u0275directiveInject(H.i),e.\u0275\u0275directiveInject(f.D),e.\u0275\u0275directiveInject(Y.O),e.\u0275\u0275directiveInject(R.p),e.\u0275\u0275directiveInject(X.B),e.\u0275\u0275directiveInject(ie.F),e.\u0275\u0275directiveInject(re.wt),e.\u0275\u0275directiveInject(ee.AA),e.\u0275\u0275directiveInject(oe.J),e.\u0275\u0275directiveInject(le.o),e.\u0275\u0275directiveInject(te.b),e.\u0275\u0275directiveInject(M.x),e.\u0275\u0275directiveInject(ae.Z),e.\u0275\u0275directiveInject(U._))},g.\u0275cmp=e.\u0275\u0275defineComponent({type:g,selectors:[["ng-component"]],features:[e.\u0275\u0275ProvidersFeature([R.p,M.x]),e.\u0275\u0275InheritDefinitionFeature],decls:13,vars:14,consts:[[1,"sparklineDialogContent"],[1,"header"],["localize","Sparkline_Dialog_Description","tabindex","0",3,"localizeAttr"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2173413","rel","noreferrer noopener",1,"pbi-internal-link",3,"localize","localizeAttr"],[1,"linkGlyph","glyphicon","pbi-glyph-miniexpand","glyph-mini"],[1,"inputContainer","measureInputContainer"],["class","measureFieldContainer",4,"ngIf"],["class","measureSummarizationContainer",4,"ngIf"],["class","inputContainer groupingInputContainer",4,"ngIf"],[1,"measureFieldContainer"],["localize","Visual_YAxis_Hyphen","id","sparklineMeasureLabel"],["aria-labelledby","sparklineMeasureLabel","aria-describedby","sparklineMeasureError","dropdown-type","field-list",3,"options"],["dropdownMeasureRef",""],[1,"dropdownSelection",3,"ngClass"],[1,"sparklinesDialogFieldList","measureFieldList"],["focus-nav-mode","Browser",1,"fieldList","themeableElement",3,"fieldListTree","scrollSelectedItemIntoViewOnInit","hasHighlights","options","onNodeClick"],["tabindex","0",1,"container-stop-bottom"],["id","sparklineMeasureError","class","error","localize","Sparkline_Dialog_InvalidY",4,"ngIf"],["id","sparklineMeasureError","localize","Sparkline_Dialog_InvalidY",1,"error"],[1,"measureSummarizationContainer"],["localize","Summarization","id","sparklineAggregateLabel"],["aria-labelledby","sparklineAggregateLabel",3,"value","isDisabled","valueChange"],[1,"dropdownSelection"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"inputContainer","groupingInputContainer"],["localize","Visual_XAxis_Hyphen","id","sparklineGroupingLabel"],["aria-labelledby","sparklineGroupingLabel","aria-describedby","sparklineGroupingError","dropdown-type","field-list",3,"options"],["dropdownGroupingRef",""],[1,"sparklinesDialogFieldList"],["id","sparklineGroupingError","class","error","localize","Sparkline_Dialog_InvalidX",4,"ngIf"],["id","sparklineGroupingError","localize","Sparkline_Dialog_InvalidX",1,"error"]],template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"template-dialog")(1,"section",0)(2,"div",1),e.\u0275\u0275element(3,"span",2)(4,"a",3)(5,"i",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275template(7,ce,12,12,"div",6),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275template(9,me,7,4,"div",7),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,he,12,12,"div",8),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("localizeAttr",e.\u0275\u0275pureFunction0(12,ve)),e.\u0275\u0275advance(1),e.\u0275\u0275property("localize","Generic_LearnMore")("localizeAttr",e.\u0275\u0275pureFunction0(13,fe)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(8,6,a.measureInput$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(10,8,a.aggregateInput$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(12,10,a.groupingInput$)))},dependencies:[J.NgClass,J.NgForOf,J.NgIf,i.J,m.X,l.b,c.l,L.H,w.I,N.r,de._,L.T,J.AsyncPipe],styles:['.sparklineDialogContent[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:120px;max-width:400px}.sparklineDialogContent[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{line-height:initial}.sparklineDialogContent[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 4px}.sparklineDialogContent[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .linkGlyph[_ngcontent-%COMP%]{color:var(--fluent-theme-link-color, #0078D4)}.sparklineDialogContent[_ngcontent-%COMP%]   .inputContainer[_ngcontent-%COMP%]{margin-top:16px;display:flex}.sparklineDialogContent[_ngcontent-%COMP%]   .inputContainer[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%]{width:100%}.sparklineDialogContent[_ngcontent-%COMP%]   .inputContainer[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%]   .dropdownSelection.placeholderState[_ngcontent-%COMP%]{color:var(--gray-130, #605E5C)}.sparklineDialogContent[_ngcontent-%COMP%]   .inputContainer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600);margin-bottom:4px}.sparklineDialogContent[_ngcontent-%COMP%]   .inputContainer[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{margin-top:4px;color:var(--fluent-theme-error-dark-color, #A80000);font-size:12px}.sparklineDialogContent[_ngcontent-%COMP%]   .inputContainer.groupingInputContainer[_ngcontent-%COMP%]{flex-direction:column}.sparklineDialogContent[_ngcontent-%COMP%]   .inputContainer.measureInputContainer[_ngcontent-%COMP%]   .measureFieldContainer[_ngcontent-%COMP%]{width:60%;display:flex;flex-direction:column}.sparklineDialogContent[_ngcontent-%COMP%]   .inputContainer.measureInputContainer[_ngcontent-%COMP%]   .measureSummarizationContainer[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}html:not([dir="rtl"])[_nghost-%COMP%]   .sparklineDialogContent[_ngcontent-%COMP%]   .inputContainer.measureInputContainer[_ngcontent-%COMP%]   .measureSummarizationContainer[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .sparklineDialogContent[_ngcontent-%COMP%]   .inputContainer.measureInputContainer[_ngcontent-%COMP%]   .measureSummarizationContainer[_ngcontent-%COMP%]{margin-left:8px}html[dir="rtl"][_nghost-%COMP%]   .sparklineDialogContent[_ngcontent-%COMP%]   .inputContainer.measureInputContainer[_ngcontent-%COMP%]   .measureSummarizationContainer[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .sparklineDialogContent[_ngcontent-%COMP%]   .inputContainer.measureInputContainer[_ngcontent-%COMP%]   .measureSummarizationContainer[_ngcontent-%COMP%]{margin-right:8px}.sparklinesDialogFieldList[_ngcontent-%COMP%]   pbi-field-list[_ngcontent-%COMP%]{position:absolute;box-shadow:var(--fluent-shadow-depth8, 0px 0px 2px var(--colorNeutralShadowAmbient), 0px 4px 8px var(--colorNeutralShadowKey));padding:4px 4px 8px;box-sizing:border-box;width:100%;height:100%;background-color:var(--fluent-theme-white-color, #FFF);border:1px solid transparent}.container-stop-bottom[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;pointer-events:none}'],changeDetection:0}),g}(y.w),be=n(17174),Se=n(11494),xe=n(27531),ye=n(79061),Pe=n(41920),Oe=n(42729),Me=n(6015),_e=n(63654),Ie=n(39433),Le=n(35284),De=function(){function p(){}return p.\u0275fac=function(r){return new(r||p)},p.\u0275mod=e.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=e.\u0275\u0275defineInjector({providers:(0,u.__spreadArray)((0,u.__spreadArray)((0,u.__spreadArray)([],xe.H,!0),Pe.U,!0),[f.D,Se.J,ee.AA,te.b],!1),imports:[J.CommonModule,Oe.c.withManifest([{componentIdentifier:"SparklinesDialog",componentType:Ce}]),ye.v,Ie.t,Le.J,_e.X,Me.C,be.u5]}),p}()},93215:function(ne,V,n){n.d(V,{b:function(){return O}});var u=n(81337),t=n(98209),k=n(8590),Q=n(35510),D=n(50423),K=n(11494),T=n(83008),B=n(26898),R=n(65181),O=function(){function y(M,I,E,F){var v=this;this.conceptualSchemaProxy=I,this.dataSourcesService=E,this.localizationService=F,this.modelUpdates=new Q.X({schema:void 0,model:void 0,appliedChanges:void 0}),this.subscriptionManager=M.createChannelSubscriptionManager(),this.subscriptionManager.subscribe(k.CCe,function(b,h){return v.update(h.result.changes)})}return y.prototype.update=function(M,I,E){return void 0===I&&(I=!0),void 0===E&&(E=!1),(0,u.__awaiter)(this,void 0,void 0,function(){var F,v;return(0,u.__generator)(this,function(h){switch(h.label){case 0:return this.dataSourcesService.get()?(I||this.conceptualSchemaProxy.clearCache(),[4,this.conceptualSchemaProxy.get(this.dataSourcesService.get())]):[3,2];case 1:(F=h.sent())&&(v=new t.O(this.localizationService).createModel(F,E)),h.label=2;case 2:return this.modelUpdates.next({schema:F,model:v,appliedChanges:M}),[2]}})})},Object.defineProperty(y.prototype,"modelChange$",{get:function(){return this.modelUpdates.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"model",{get:function(){return this.modelUpdates.value.model},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"schema",{get:function(){return this.modelUpdates.value.schema},enumerable:!1,configurable:!0}),y.\u0275fac=function(I){return new(I||y)(D.\u0275\u0275inject(K.J),D.\u0275\u0275inject(B.i),D.\u0275\u0275inject(T.D),D.\u0275\u0275inject(R.o))},y.\u0275prov=D.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}()},58679:function(ne,V,n){n.d(V,{I:function(){return F}});var u=n(65005),t=n(62458),k=n(9795),Q=n(59017),D=n(59973),K=n(14172),T=n(81905),B=n(83317),R=n(48787),O=n(50423),y=n(84354),M=function(){function v(b){this.pbiDropdownService=b,this.isOpen$=this.pbiDropdownService.select$("open");var h=this.pbiDropdownService.select$("dropdownItems"),e=this.pbiDropdownService.select$("overlayRef"),j=h.pipe((0,D.h)(function(f){return!!f}),(0,K.U)(function(f){return t.fF.assert(function(){return 1===f.length},"Expected 1 FieldListComponent"),f.first})),H=j.pipe((0,T.w)(function(f){return f.onFirstRenderComplete}));(0,Q.aj)([this.isOpen$,e,j,H]).pipe((0,B.R)(this.pbiDropdownService.onDestroy$),(0,D.h)(function(f){var U=f[1],X=f[2];return f[0]&&!!U?.overlayRef.overlayElement&&!!X})).subscribe(function(f){f[2].focusSearchBox()})}return v.prototype.buttonKeydown=function(b){var h=this;this.isOpen$.pipe((0,R.q)(1)).subscribe(function(e){e||(0,k.Wl)(b.keyCode)&&(h.pbiDropdownService.toggleOpenState(),b.preventDefault())})},v.\u0275fac=function(h){return new(h||v)(O.\u0275\u0275inject(y.S))},v.\u0275prov=O.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac}),v}(),I=n(26333),E=n(31343),F=function(){function v(b,h){this.pbiDropdownService=b,this.strategy=h}return v.prototype.ngAfterViewInit=function(){var b=this;(0,I.x)([{strategy:this.strategy,dropdownItems:this.dropdownItems}],E.N).subscribe(function(h){b.pbiDropdownService.updateState(h)})},v.\u0275fac=function(h){return new(h||v)(O.\u0275\u0275directiveInject(y.S),O.\u0275\u0275directiveInject(M))},v.\u0275dir=O.\u0275\u0275defineDirective({type:v,selectors:[["pbi-dropdown","dropdown-type","field-list"]],contentQueries:function(h,e,j){var H;(1&h&&O.\u0275\u0275contentQuery(j,u.l,5),2&h)&&(O.\u0275\u0275queryRefresh(H=O.\u0275\u0275loadQuery())&&(e.dropdownItems=H))},features:[O.\u0275\u0275ProvidersFeature([M])]}),v}()},65005:function(ne,V,n){n.d(V,{l:function(){return J}});var u=n(81337),t=n(50423),k=n(48787),Q=n(30794),D=n(37196),K=[],T=n(77476),B=n(68070),R=n(89237);function O(i,m){1&i&&t.\u0275\u0275element(0,"div",7)}function y(i,m){1&i&&(t.\u0275\u0275elementStart(0,"div",8),t.\u0275\u0275element(1,"div",9)(2,"div",10),t.\u0275\u0275elementEnd())}function M(i,m){1&i&&(t.\u0275\u0275elementStart(0,"div",11),t.\u0275\u0275element(1,"div",12),t.\u0275\u0275elementStart(2,"div",13),t.\u0275\u0275element(3,"div",14)(4,"div",15),t.\u0275\u0275elementEnd()())}function I(i,m){if(1&i&&(t.\u0275\u0275elementContainerStart(0,3),t.\u0275\u0275template(1,O,1,0,"div",4),t.\u0275\u0275template(2,y,3,0,"div",5),t.\u0275\u0275template(3,M,5,0,"div",6),t.\u0275\u0275elementContainerEnd()),2&i){var l=m.$implicit,c=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngSwitch",l),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase",c.largeBarType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase",c.multipleBarType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase",c.multipleSmallLargeType)}}function E(i,m){if(1&i&&(t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275template(1,I,4,4,"ng-container",2),t.\u0275\u0275elementEnd()),2&i){var l=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngStyle",l.barsStyle),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",l.barsProperties.bars)}}var j=function(){function i(){this.largeBarType=0,this.multipleBarType=1,this.multipleSmallLargeType=2}return i.prototype.ngOnChanges=function(){this.barsProperties&&(this.barsStyle={height:"".concat((this.barsProperties.height+8)*this.barsProperties.bars.length,"px")})},i.\u0275fac=function(l){return new(l||i)},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["shimmering-bars"]],inputs:{barsProperties:"barsProperties"},features:[t.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[["class","bars",3,"ngStyle",4,"ngIf"],[1,"bars",3,"ngStyle"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","largerLoadingBar animate",4,"ngSwitchCase"],["class","multipleBars",4,"ngSwitchCase"],["class","multipleSmallLarge",4,"ngSwitchCase"],[1,"largerLoadingBar","animate"],[1,"multipleBars"],[1,"miniLoadingBar","animate"],[1,"smallerLoadingBar","animate"],[1,"multipleSmallLarge"],[1,"shimmerBox","animate"],[1,"smallLargeBarContainer"],[1,"upperLoadingBar","animate"],[1,"lowerLoadingBar","animate"]],template:function(l,c){1&l&&t.\u0275\u0275template(0,E,2,2,"div",0),2&l&&t.\u0275\u0275property("ngIf",c.barsProperties)},dependencies:[T.NgForOf,T.NgIf,T.NgStyle,T.NgSwitch,T.NgSwitchCase],styles:['[_nghost-%COMP%]{--shimmer-background-color: var(--gray-20);--shimmer-animate1: var(--gray-30);--shimmer-animate2: var(--gray-50)}[data-legacy-theming=false]   [_nghost-%COMP%]{--shimmer-background-color: var(--colorNeutralBackground3);--shimmer-animate1: var(--colorNeutralBackground3Hover);--shimmer-animate2: var(--colorNeutralBackground3Pressed)}.bars[_ngcontent-%COMP%]{display:flex;flex-direction:column}.largerLoadingBar[_ngcontent-%COMP%]{border-radius:2px;flex-grow:1;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%]{margin:4px 8px}html[dir="rtl"][_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%]{margin:4px 8px}.multipleBars[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}html:not([dir="rtl"])[_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%]{margin:4px 8px}html[dir="rtl"][_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%]{margin:4px 8px}.miniLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:60%;width:10%;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%]{margin-right:4px}html[dir="rtl"][_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%]{margin-left:4px}.smallerLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:80%;width:100%;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%]{margin-left:4px}html[dir="rtl"][_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%]{margin-right:4px}.multipleSmallLarge[_ngcontent-%COMP%]{display:flex;flex-grow:1;padding:10px 9px}html:not([dir="rtl"])[_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%]{margin:4px 8px}html[dir="rtl"][_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%]{margin:4px 8px}.upperLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:65%;width:49%;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%]{margin:0 4px 11px 0}html[dir="rtl"][_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%]{margin:0 0 11px 4px}.lowerLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:65%;width:100%;background:var(--shimmer-background-color)}.shimmerBox[_ngcontent-%COMP%]{background:var(--shimmer-background-color);border-radius:2px;height:32px;width:32px}.smallLargeBarContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:167px}html:not([dir="rtl"])[_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%]{margin:4px 0 2.42px 13px}html[dir="rtl"][_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%]{margin:4px 13px 2.42px 0}.animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 5s infinite linear;background:linear-gradient(270deg,var(--shimmer-animate1) 0%,var(--shimmer-animate2) 50%,var(--shimmer-animate1) 100%);background-size:250% 100%}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:250% 0}to{background-position:-250% 0}}'],changeDetection:0}),i}(),H=n(85102),f=["pbiTree"];function Y(i,m){if(1&i){var l=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"tri-search-box",5),t.\u0275\u0275listener("value",function(w){t.\u0275\u0275restoreView(l);var N=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(N.search$.next(w))}),t.\u0275\u0275pipe(1,"localize"),t.\u0275\u0275pipe(2,"localize"),t.\u0275\u0275elementEnd()}if(2&i){var c=t.\u0275\u0275nextContext();t.\u0275\u0275property("currentInputValue",c.searchText||"")("placeholderText",t.\u0275\u0275pipeBind1(2,8,"SearchBox_Text"))("fluentTheme",!0)("compact",!0)("fullWidth",!0),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(1,6,"SearchBox_Text"))}}function U(i,m){if(1&i){var l=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"pbi-search-box")(1,"input",6),t.\u0275\u0275listener("input",function(w){t.\u0275\u0275restoreView(l);var N=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(N.search$.next(w.target.value))}),t.\u0275\u0275pipe(2,"localize"),t.\u0275\u0275pipe(3,"localize"),t.\u0275\u0275elementEnd()()}if(2&i){var c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("value",c.searchText||"")("placeholder",t.\u0275\u0275pipeBind1(3,5,"SearchBox_Text")),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(2,3,"SearchBox_Text"))}}function X(i,m){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"shimmering-bars",7),t.\u0275\u0275elementContainerEnd()),2&i){var l=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("barsProperties",l.shimmeringBars)}}function ie(i,m){if(1&i){var l=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"pbi-tree",12,13),t.\u0275\u0275listener("onNodeClick",function(w){t.\u0275\u0275restoreView(l);var N=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(N.onNodeClick.emit(w))})("onNodeCheck",function(w){t.\u0275\u0275restoreView(l);var N=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(N.onNodeCheck.emit(w))})("onNodeExpansionToggle",function(w){t.\u0275\u0275restoreView(l);var N=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(N.onNodeExpansionToggle.emit(w))})("onFirstRender",function(){t.\u0275\u0275restoreView(l);var w=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(w.onFirstRender())}),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementEnd()}if(2&i){var c=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("tree",c.fieldListTree)("search",t.\u0275\u0275pipeBind1(2,5,c.search$))("hasHighlights",c.hasHighlights)("checkMode",c.checkMode)("options",c._options)}}function re(i,m){1&i&&t.\u0275\u0275projection(0,2)}function oe(i,m){if(1&i&&(t.\u0275\u0275elementStart(0,"div",8),t.\u0275\u0275element(1,"div",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(2,ie,3,7,"pbi-tree",10),t.\u0275\u0275template(3,re,1,0,"ng-template",null,11,t.\u0275\u0275templateRefExtractor)),2&i){var l=t.\u0275\u0275reference(4),c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",c.fieldListTree)("ngIfElse",l)}}var ae=[[["",8,"pbi-field-list-perspective-header"]],[["",8,"pbi-field-list-header"]],[["",8,"pbi-field-list-watermark"]]],ee=[".pbi-field-list-perspective-header",".pbi-field-list-header",".pbi-field-list-watermark"],te={height:24,bars:[0,1,1,0,0]},J=function(){function i(){this.hasHighlights=!1,this.loading=!1,this.shimmeringBars=te,this.defaultOptions={},this._options=this.defaultOptions,this.onNodeExpansionToggle=new t.EventEmitter,this.onNodeClick=new t.EventEmitter,this.onNodeCheck=new t.EventEmitter,this.onFirstRenderComplete=new t.EventEmitter,this.handleFieldListTreeHeightDiff=new t.EventEmitter,this.search$=new Q.xQ}return Object.defineProperty(i.prototype,"options",{set:function(l){this._options=(0,u.__assign)((0,u.__assign)({},this.defaultOptions),l)},enumerable:!1,configurable:!0}),i.prototype.ngOnInit=function(){var m=this;this.focusSearchBoxOnFirstRenderComplete&&this.onFirstRenderComplete.pipe((0,k.q)(1)).subscribe(function(){return m.focusSearchBox()})},i.prototype.onFirstRender=function(){var m=this.getFieldListTreeHeightDiff();this.handleFieldListTreeHeightDiff.emit(m),this.scrollSelectedItemIntoViewOnInit&&this.pbiTree.scrollToFirstSelectedNode(),this.onFirstRenderComplete.emit()},i.prototype.focusSearchBox=function(){$(".field-list-search-container input").trigger("focus")},i.prototype.getFieldListTreeHeightDiff=function(){return this.pbiTree.getTreeHeight()+2-this.pbiTreeElementRef.nativeElement.getBoundingClientRect().height},i.\u0275fac=function(l){return new(l||i)},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["pbi-field-list"]],viewQuery:function(l,c){if(1&l&&(t.\u0275\u0275viewQuery(D.u,5),t.\u0275\u0275viewQuery(f,5,t.ElementRef)),2&l){var L=void 0;t.\u0275\u0275queryRefresh(L=t.\u0275\u0275loadQuery())&&(c.pbiTree=L.first),t.\u0275\u0275queryRefresh(L=t.\u0275\u0275loadQuery())&&(c.pbiTreeElementRef=L.first)}},inputs:{fieldListTree:"fieldListTree",scrollSelectedItemIntoViewOnInit:"scrollSelectedItemIntoViewOnInit",checkMode:"checkMode",hasHighlights:"hasHighlights",loading:"loading",searchText:"searchText",focusSearchBoxOnFirstRenderComplete:"focusSearchBoxOnFirstRenderComplete",fluent:"fluent",options:"options"},outputs:{onNodeExpansionToggle:"onNodeExpansionToggle",onNodeClick:"onNodeClick",onNodeCheck:"onNodeCheck",onFirstRenderComplete:"onFirstRenderComplete",handleFieldListTreeHeightDiff:"handleFieldListTreeHeightDiff"},features:[t.\u0275\u0275ProvidersFeature(K)],ngContentSelectors:ee,decls:8,vars:4,consts:[["data-tutorial-target","search-box",1,"field-list-search-container"],["data-testid","search-bar-input",3,"currentInputValue","placeholderText","fluentTheme","compact","fullWidth","value",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["loaded",""],["data-testid","search-bar-input",3,"currentInputValue","placeholderText","fluentTheme","compact","fullWidth","value"],["pbiSearchInput","","data-testid","search-bar-input",1,"pbi-focus-outline",3,"value","placeholder","input"],[3,"barsProperties"],[1,"tutorial-target-container"],["data-tutorial-target","data-tree"],["data-testid","data-tree",3,"tree","search","hasHighlights","checkMode","options","onNodeClick","onNodeCheck","onNodeExpansionToggle","onFirstRender",4,"ngIf","ngIfElse"],["watermark",""],["data-testid","data-tree",3,"tree","search","hasHighlights","checkMode","options","onNodeClick","onNodeCheck","onNodeExpansionToggle","onFirstRender"],["pbiTree",""]],template:function(l,c){if(1&l&&(t.\u0275\u0275projectionDef(ae),t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,Y,3,10,"tri-search-box",1),t.\u0275\u0275template(2,U,4,7,"pbi-search-box",2),t.\u0275\u0275elementEnd(),t.\u0275\u0275projection(3),t.\u0275\u0275projection(4,1),t.\u0275\u0275template(5,X,2,1,"ng-container",3),t.\u0275\u0275template(6,oe,5,2,"ng-template",null,4,t.\u0275\u0275templateRefExtractor)),2&l){var L=t.\u0275\u0275reference(7);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",c.fluent),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!c.fluent),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",c.loading)("ngIfElse",L)}},dependencies:[T.NgIf,B.a,B.p,R.U,D.u,j,T.AsyncPipe,H.F],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}pbi-tree[_ngcontent-%COMP%]{margin-top:9px;height:100%;display:block;overflow:hidden}.tutorial-target-container[_ngcontent-%COMP%]{position:relative;visibility:hidden;height:0;width:0}.tutorial-target-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:20px;visibility:hidden;height:0;width:0}"],changeDetection:0}),i}()}}]);