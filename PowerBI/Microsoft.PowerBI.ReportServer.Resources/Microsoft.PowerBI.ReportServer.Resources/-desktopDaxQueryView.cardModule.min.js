"use strict";(self.webpackChunkdesktopDaxQueryView=self.webpackChunkdesktopDaxQueryView||[]).push([["cardModule"],{68193:function(k,U,l){l.d(U,{V:function(){return d}});var b=l(14599),T=l(53197),D=l(90120),w=l(38400),c=l(79154),t=l(62458),a=l(32041),n=l(64329),s=l(10389),u=l(72489),d=function(){function f(e){this.defaultTitleColor="#333333",this._animatedTextOptions={},this.mainText=(0,c.CH)("mainText"),this.name=e,this.visualConfiguration={maxFontSize:60}}return f.prototype.getMetaDataColumn=function(e){if(e&&e.metadata&&e.metadata.columns)for(var i=0,h=e.metadata.columns.length;i<h;i++){var g=e.metadata.columns[i];if(g.isMeasure){this.metaDataColumn=g;break}}},f.prototype.getAdjustedFontHeight=function(e,i,h){var g,x,L,F,p={fontFamily:null===(g=this._animatedTextOptions.textProperties)||void 0===g?void 0:g.fontFamily,fontWeight:null===(x=this._animatedTextOptions.textProperties)||void 0===x?void 0:x.fontWeight,fontStyle:null===(L=this._animatedTextOptions.textProperties)||void 0===L?void 0:L.fontStyle,textDecoration:null===(F=this._animatedTextOptions.textProperties)||void 0===F?void 0:F.textDecoration,text:i};return this.getAdjustedFontHeightCore(p,e,h,0)},f.prototype.getAdjustedFontHeightCore=function(e,i,h,g){return g>10?h:(e.fontSize=n.FP.toString(h),a.b.measureSvgTextWidth(e)<i?h:this.getAdjustedFontHeightCore(e,i,.9*h,g+1))},f.prototype.clear=function(){this.svg.select(this.mainText.selector).text("")},f.prototype.doValueTransition=function(e,i,h,g,x,L,F,p){var S,I,M,A;if(L||e!==i||null==i){e||(e=0),p||(p=this.getDefaultDatumTransform());var q=this.svg,tt=this.currentViewport,et=tt.height,G=tt.width,it=this.getSeedFontHeight(G,et),st=this.getTranslateX(G),rt=this.getTranslateY(it),W=this.metaDataColumn;F||(F=(0,u.Ue)({format:this.getFormatString(this.dataPointObjects,W),value:i,displayUnitSystemType:h,formatSingleValues:!0,allowFormatBeautification:!0,columnType:W?W.type:void 0}));var v=String(e),r=String(i);(_.isEmpty(i)||"string"!=typeof i)&&(r=F.format(i)),(_.isEmpty(e)||"string"!=typeof e)&&(v=F.format(e)),q.classed(this.name,!0);var o=[p.getDatum(i,r)],y=q.selectAll("text").data(o),m=y.enter().append("text").classed(this.mainText.class,!0).merge(y),C=this.getAdjustedFontHeight(G,r,it);if(rt=this.getTranslateY(C+(et-C)/2),m.text(v).attr("text-anchor",this.getTextAnchor()).attr("font-size",C).attr("transform",(0,s.Iu)(st,rt)).style("font-style",null===(S=this._animatedTextOptions.textProperties)||void 0===S?void 0:S.fontStyle).style("text-decoration",null===(I=this._animatedTextOptions.textProperties)||void 0===I?void 0:I.textDecoration).style("font-weight",null===(M=this._animatedTextOptions.textProperties)||void 0===M?void 0:M.fontWeight).style("font-family",null===(A=this._animatedTextOptions.textProperties)||void 0===A?void 0:A.fontFamily).style("fill",this.getTextColor()).call(w.Q,[v]),null==i||W&&(0,T.v9)(W.type)||"string"==typeof i||"string"==typeof e)m.text(r).call(w.Q,[r]);else{var E=e;m.transition().duration(x).tween("text",function(O){var R=p.getValue(O),H=d3.interpolate(E,R);return function(B){var j=H(B);this.textContent=F.format(j)}})}return(0,s.bL)(g,m),m}},f.prototype.getDefaultDatumTransform=function(){return{getDatum:function(i,h){return{value:i}},getValue:function(i){return i.value}}},Object.defineProperty(f.prototype,"animatedTextOptions",{get:function(){return this._animatedTextOptions},set:function(i){this._animatedTextOptions=i},enumerable:!1,configurable:!0}),f.prototype.getTextColor=function(){var e,i=this.style&&D.v.getThemeColor(this.style,"foreground");return(null===(e=this._animatedTextOptions)||void 0===e?void 0:e.titleColor)||i||this.defaultTitleColor},f.prototype.getSeedFontHeight=function(e,i){var h=Math.floor(.75*Math.min(e,i)),g=this.visualConfiguration.maxFontSize;return g?Math.min(g,h):h},f.prototype.getTranslateX=function(e){if(this.visualConfiguration)switch(this.visualConfiguration.align){case"left":return 0;case"right":return e}return e/2},f.prototype.getTranslateY=function(e){return e},f.prototype.getTextAnchor=function(){if(this.visualConfiguration)switch(this.visualConfiguration.align){case"left":return"start";case"right":return"end"}return"middle"},f.prototype.getFormatString=function(e,i){return t.fF.assertAnyValue(i,"column"),(0,u.eU)(e,i,b.e0.formatString)},f}()},26101:function(k,U,l){l.r(U),l.d(U,{createCard:function(){return rt}});var b=l(81337),T=l(94478),D=l(16891),w=l(53197),c=l(11856),t=l(90120),a=l(56707),n=l(21181),s=l(70188),u=l(18664),d=l(91358),f=l(80065),e=l(51660),i=l(86900),h=l(44977),g=l(38400),x=l(40739),L=l(79154),F=l(62458),p=l(32041),S=l(56578),I=l(10389),M=l(46135),A=l(58098),q=l(82755),tt=l(72489),et=l(26543),st=function(W){function v(r){var o=W.call(this,v.cardClassName)||this;return o.isScrollable=!1,o.displayUnitSystemType=A.V.WholeUnits,r&&(o.tooltipsEnabled=r.tooltipsEnabled,o.isScrollable=!!r.isScrollable,o.interactivityEnabled=r.interactivityEnabled,r.animator&&(o.animator=r.animator),null!=r.displayUnitSystemType&&(o.displayUnitSystemType=r.displayUnitSystemType),r.cardSmallViewportProperties&&(o.cardSmallViewportProperties=r.cardSmallViewportProperties),o.featureSwitches=r.featureSwitches||{}),o}return(0,b.__extends)(v,W),v.prototype.init=function(r){var y,o=this;F.fF.assertValue(r,"options"),this.animationOptions=r.animation;var C=r.element.get(0);this.tooltipsEnabled&&(this.tooltipService=(0,x.r)(r.host)),this.kpiImage=d3.select(C).append("div").classed(v.KPIImage.class,!0);var P=this.svg=d3.select(C).append("svg");if(this.graphicsContext=P.append("g"),this.currentViewport=r.viewport,this.hostServices=r.host,this.style=r.style,this.updateViewportProperties(),this.isScrollable&&(P.attr("class",v.cardClassName),this.labelContext=P.append("g")),this.interactivityEnabled&&P.attr("tabindex",0).attr("focusable",!0),this.featureSwitches.onObject){var O=(null===(y=this.hostServices)||void 0===y?void 0:y.getSubSelectionService())??i.D.createWithDefaultHost();this.subSelectionHelper=e.O5.createHtmlSubselectionHelper({hostElement:C,hostServices:this.hostServices,renderer:O,targetSource:"format",scale:function(){return o.currentViewport.scale}})}},v.prototype.onDataChanged=function(r){F.fF.assertValue(r,"options"),this.featureSwitches.onObject&&r.formatMode?this.removeContextmenuHandler():this.attachContextmenuHandler();var y,m,o=r.dataViews&&r.dataViews[0];if(o){this.getMetaDataColumn(o),o.single&&(y=o.single.value,m=o.single.objects,o.single.column&&(this.selector={metadata:[o.single.column.queryName]})),this.cardFormatSetting=this.getDefaultFormatSettings(this.style);var C=o.metadata;if(C){var P=C.objects;if(P){var E=this.cardFormatSetting.labelSettings,O=P.labels;O&&E&&(0,n.ww)(O,E,void 0,this.style),E.precision!==a.NZ&&E.precision<0&&(E.precision=0);var R=P.categoryLabels,H=this.cardFormatSetting.categoryLabelSetting;R&&H&&(0,n.ww)(R,H,void 0,this.style),this.cardFormatSetting.wordWrap=(0,q.NA)(P,D.d.wordWrap.show,this.cardFormatSetting.wordWrap)}}}this.featureSwitches.onObject&&r.formatMode!==this.formatMode&&(this.formatMode=r.formatMode,this.subSelectionHelper.setFormatMode(r.formatMode)),this.updateInternal(y,m,!0,!0);var j=r.type&M.EP.FormattingSubSelectionChange;if(this.subSelectionHelper&&(r.type&M.EP.Data||r.type&M.EP.Resize||r.type&M.EP.FormattingSubSelectionChange)&&(this.subSelectionHelper.updateOutlinesFromSubSelections(r.subSelections,!0),this.hostServices.alertScreenReader&&j)){var V=this.subSelectionHelper.getLabelsFromSubSelections(r.subSelections,["aria-label"]),Q=V?.length&&V.join(" ");Q&&this.hostServices.alertScreenReader(Q)}},v.prototype.onResizing=function(r){this.currentViewport=r,this.updateViewportProperties(),this.updateInternal(this.value,this.dataPointObjects,!0,!0)},v.prototype.attachContextmenuHandler=function(){var r=this;this.svg.on("contextmenu",function(){var o=d3.event;r.hostServices.onContextMenu({data:[r.selector],position:{x:o.clientX,y:o.clientY}}),o.preventDefault(),o.stopPropagation()})},v.prototype.removeContextmenuHandler=function(){this.svg.on("contextmenu",null)},v.prototype.updateViewportProperties=function(){var r=this.currentViewport;this.svg.attr("width",r.width).attr("height",r.height)},v.prototype.setTextProperties=function(r,o){v.cardTextProperties=(0,u.qk)(o,r)},v.prototype.isSmallViewport=function(){return!!(this.cardSmallViewportProperties&&this.currentViewport.width<=this.cardSmallViewportProperties.cardSmallViewportWidth)},v.prototype.getCardPrecision=function(r){return void 0===r&&(r=!1),r?a.NZ:this.cardFormatSetting.labelSettings.precision},v.prototype.getCardDisplayUnits=function(r){return void 0===r&&(r=!1),r||this.metaDataColumn&&this.metaDataColumn.type&&!this.metaDataColumn.type.numeric?0:this.cardFormatSetting.labelSettings.displayUnits},v.prototype.getAdjustedFontHeight=function(r,o,y){var m=W.prototype.getAdjustedFontHeight.call(this,r,o,y);return Math.min(m,c.D.card.maxFontSize)},v.prototype.clear=function(r){void 0===r&&(r=!1),this.svg.select(v.Value.selector).text(""),r||this.svg.select(v.Label.selector).text(""),W.prototype.clear.call(this)},v.prototype.updateInternal=function(r,o,y,m){void 0===m&&(m=!1);var C=this.value,P=(0,T.Mb)(this.animator,y);if(void 0!==r){var E=this.metaDataColumn,O=this.cardFormatSetting.labelSettings,R=this.cardFormatSetting.categoryLabelSetting,H=this.isSmallViewport(),B=this.getCardPrecision(H),j=this.getCardDisplayUnits(H),V=0===j,Q=this.getFormatString(o,E),vt=(0,tt.Ue)({format:Q,value:V?r:j,precision:(0,s.h1)(B,Q),displayUnitSystemType:V&&B===a.NZ?this.displayUnitSystemType:A.V.WholeUnits,formatSingleValues:!!V,allowFormatBeautification:!0,columnType:E?E.type:void 0}),yt=this.cardFormatSetting,N=O.fontProperties.size.px;this.setTextProperties(r,this.cardFormatSetting.categoryLabelSetting.fontProperties);var at=(R.show?p.b.estimateSvgTextHeight(v.cardTextProperties):0)+c.D.label.paddingTop,Z=this.currentViewport.width,nt=this.currentViewport.height,J=this.getTranslateX(Z),K=(nt-at-N)/2,ot=E&&E.displayName,$=(0,d.jz)(E)&&(0,d.zl)(E,r,1);if(this.isScrollable){if(!m&&C===r)return;if($)this.graphicsContext.selectAll("text").remove(),this.displayStatusGraphic($,r,J,K,N);else{var lt;lt=_.isEmpty(r)||"string"!=typeof r?vt.format(r):r;var Ct=[{displayName:ot,value:lt}];this.kpiImage.selectAll("div").remove();var ut=this.getTranslateY(N+K),z=(Y=this.graphicsContext.attr("transform",(0,I.Iu)(J,ut)).selectAll("text").data(Ct)).enter().append("text").attr("class",v.Value.class).merge(Y);if(z.text(function(dt){return dt.value}).style("text-anchor",this.getTextAnchor()).styles((0,u.E_)(O.fontProperties)),z.style("white-space",O.preserveWhitespace?"pre":"normal"),this.featureSwitches.onObject&&z.classed(e.cy,!0).attr(e.CP,!0).attr(e.Ez,"callout-value").attr(e.CK,"Visual_Gauge_CalloutValue").attr(e.QZ,2),yt.wordWrap){var gt=z.node();(0,h.lM)(gt,Z,nt-at,void 0,!0,O.preserveWhitespace);var mt=gt.childElementCount;mt>1&&(ut=this.getTranslateY(N+(K=(nt-at-(N*=mt))/2)),this.graphicsContext.attr("transform",(0,I.Iu)(J,ut)))}else z.call(w.oq,Z,p.b.svgEllipsis);this.addTooltip(z),Y.exit().remove()}if(R.show&&ot){var bt=[ot],pt=this.getTranslateY(N+at+K),ht=this.labelContext.attr("transform",(0,I.Iu)(J,pt)).selectAll("text").data(bt),X=ht.enter().append("text").attr("class",v.Label.class).merge(ht);X.text(function(dt){return dt}).styles((0,u.E_)(R.fontProperties)).style("text-anchor",this.getTextAnchor()),X.style("white-space",R.preserveWhitespace?"pre":"normal"),this.featureSwitches.onObject&&X.classed(e.cy,!0).attr(e.CP,!0).attr(e.Ez,"category-labels").attr(e.CK,"Visual_CategoryLabel").attr(e.QZ,1);var xt=X.node();xt&&(yt.wordWrap?(0,h.lM)(xt,Z,nt-pt,void 0,!0,R.preserveWhitespace):X.call(w.oq,Z,p.b.svgEllipsis)),ht.exit().remove()}else this.labelContext.selectAll("text").remove()}else if($)this.graphicsContext.selectAll("text").remove(),this.displayStatusGraphic($,r,J,K,N);else{var Y;this.kpiImage.selectAll("div").remove(),(Y=this.doValueTransition(C,r,this.displayUnitSystemType,this.animationOptions,P,m,vt,{getDatum:function(ft,Ft){return{displayName:ot,value:Ft,unformattedValue:ft}},getValue:function(ft){return ft.unformattedValue}})).classed("value",!0),this.addTooltip(Y),this.graphicsContext.call(g.Q,[r])}if(this.interactivityEnabled){var ct;ct=$?this.kpiImage.selectAll("div").datum():this.graphicsContext.selectAll("text").datum(),this.svg.attr("aria-label",(0,g.X)([ct]))}this.value=r,this.dataPointObjects=o}else void 0!==C&&this.clear()},v.prototype.displayStatusGraphic=function(r,o,y,m,C){this.graphicsContext.selectAll("text").remove();var P=this.kpiImage.select("div");(!P||P.empty())&&(P=this.kpiImage.append("div")),P.attr("class",["value",r.class].join(" ")).style("position","absolute").style("font-size",C+"px");var E=P.node().offsetWidth,O=P.node().offsetHeight;P.style("transform",(0,I.O7)(y-E/2,this.getTranslateY(C+m)-O)),P.datum({displayName:this.metaDataColumn&&this.metaDataColumn.displayName,kpiValue:{value:o,metadata:this.metaDataColumn.kpi}}),this.addTooltip(P)},v.prototype.getDefaultFormatSettings=function(r){var o=function(m){return t.v.getThemeColor(r,m)};return{labelSettings:(0,n.bT)({show:!0,labelColor:o(c.D.value.colorName),fontSize:c.D.value.textSize,fontFamily:c.D.value.fontFamily,preserveWhitespace:!0,style:r,textClassName:"callout"}),categoryLabelSetting:(0,n.bT)({show:!0,labelColor:o(c.D.label.colorName),fontSize:c.D.label.textSize,fontFamily:c.D.label.fontFamily,preserveWhitespace:!0,style:r,textClassName:"largeLightLabel"}),wordWrap:!1}},v.prototype.getDataLabelSettingsOptionsWithWordWrap=function(r,o,y){return o.wordWrap=this.cardFormatSetting.wordWrap,{enumeration:r,dataLabelsSettings:o,show:!0,displayUnits:y,precision:y,fontSize:!0,fontFamily:!0,style:this.style,preserveWhitespace:!0,wordWrap:!0,bold:!0,italic:!0,underline:!0}},v.prototype.getFormattingModel=function(){var o,r=this;return null!==(o=this.cardFormatSetting)&&void 0!==o||(this.cardFormatSetting=this.getDefaultFormatSettings(this.style)),new S.Nq(function(){return r.getCalloutValueCard()},function(){return(0,n.Zu)({cardName:"Visual_CategoryLabel",dataLabelSettings:r.cardFormatSetting.categoryLabelSetting,isShowCategory:!1,localize:function(m){return r.hostServices.getLocalizedString(m)},props:(0,b.__assign)((0,b.__assign)({},D.d.categoryLabels),{color:(0,b.__assign)((0,b.__assign)({},D.d.categoryLabels.color),{instanceKind:3})}),revertToDefaultProps:D.d.categoryLabels,showBackground:!1,showValueColor:!0,style:r.style})}).build()},v.prototype.getCalloutValueCard=function(){var r=this,o=(0,b.__assign)((0,b.__assign)({},D.d.labels),{precision:D.d.labels.labelPrecision,displayUnits:D.d.labels.labelDisplayUnits,wordWrap:D.d.wordWrap.show});return(0,n.XQ)({cardBuilder:new S.CQ(new S.lg("labels"),"Visual_Gauge_CalloutValue",o,function(y){return r.hostServices.getLocalizedString(y)}),dataLabelsProps:o,featureSwitches:this.featureSwitches,hostServices:this.hostServices,options:this.getDataLabelSettingsOptionsWithWordWrap(void 0,this.cardFormatSetting.labelSettings,!0),omitGroupDisplayNames:!0,instanceKind:3})},v.prototype.addTooltip=function(r){var o=this,y=this.hostServices.tooltips();this.tooltipsEnabled&&y&&y.enabled()&&this.tooltipService.addTooltip(r,function(m){var C=m.data;return function(W){return!!W.kpiValue}(C)?[{displayName:C.displayName,kpiValue:C.kpiValue}]:[{displayName:C.displayName,value:C.value}]},function(){return o.getTooltipIdentity()&&[o.getTooltipIdentity()]})},v.prototype.getTooltipIdentity=function(){return this.metaDataColumn&&et.l0.createWithMeasure(this.metaDataColumn.queryName)},v.prototype.getSubSelectionStyles=function(r){var o=(0,f.dF)(r);if(o)switch(o.objectName){case"callout-value":var y=D.d.labels;return(0,f.xs)(this.hostServices,{fontFamilyReference:y.fontFamily,fontSizeReference:y.fontSize,boldReference:y.bold,italicReference:y.italic,underlineReference:y.underline,fontColorReference:y.color,displayUnitsReference:y.labelDisplayUnits,precisionReference:y.labelPrecision,wordWrapReference:D.d.wordWrap.show});case"category-labels":var m=D.d.categoryLabels;return(0,f.un)(this.hostServices,{fontFamilyReference:m.fontFamily,fontSizeReference:m.fontSize,boldReference:m.bold,italicReference:m.italic,underlineReference:m.underline,fontColorReference:m.color});default:return}},v.prototype.getSubSelectionShortcuts=function(r){var o=(0,f.dF)(r);if(o){var y="".concat("Visual","-").concat("labels"),m="".concat("labels","-").concat("values"),C="".concat("Visual","-").concat("categoryLabels"),P="".concat("categoryLabels","-").concat("values");switch(o.objectName){case"callout-value":return[{type:0,excludedResetFormattingIds:[D.d.categoryLabels.show]},(0,b.__assign)((0,b.__assign)({type:2},D.d.categoryLabels.show),{enabledLabel:this.hostServices.getLocalizedString("Format_AddCategoryLabel")}),{type:1,destinationInfo:{cardUid:y,groupUid:m},label:this.hostServices.getLocalizedString("Format_Callout_Value")}];case"category-labels":return[{type:0},{type:1,destinationInfo:{cardUid:C,groupUid:P},label:this.hostServices.getLocalizedString("Format_Category_Label")}];default:return}}},v.cardClassName="card",v.Label=(0,L.CH)("label"),v.Value=(0,L.CH)("value"),v.KPIImage=(0,L.CH)("caption"),v.cardTextProperties={fontSize:null,text:null,fontFamily:a.bL.family},v}(l(68193).V);function rt(W){return new st(W)}},79476:function(k,U,l){l.d(U,{ao:function(){return f},fS:function(){return D},oY:function(){return d}});var b=l(19377);function D(e,i){return null!=e&&null!=i&&e.x===i.x&&e.y===i.y}function d(e,i,h){var g=(i.y-e.y)*(h.x-i.x)-(i.x-e.x)*(h.y-i.y);return 0===g?b.i.Colinear:g>0?b.i.Clockwise:b.i.Counterclockwise}function f(e,i,h){return h.x<=Math.max(e.x,i.x)&&h.x>=Math.min(e.x,i.x)&&h.y<=Math.max(e.y,i.y)&&h.y>=Math.min(e.y,i.y)}},92379:function(k,U,l){l.d(U,{m:function(){return w}});var b=l(19377),T=l(79476),D=l(80758),w=function(){function c(t){t&&(this.polygonPoints=this.convertArrayPathToPoints(t))}return c.fromPolygonPoints=function(t){var a=new c(null);return a.polygonPoints=t,a},c.prototype.absoluteCentroid=function(){return null==this._absoluteCentroid&&(this._absoluteCentroid=this.calculatePolygonCentroid()),this._absoluteCentroid},c.prototype.absoluteBoundingRect=function(){return null==this._absoluteBoundingRect&&(this._absoluteBoundingRect=this.calculateBoundingRect()),this._absoluteBoundingRect},c.prototype.contains=function(t){var n={x:t.left+t.width,y:t.top},s={x:t.left,y:t.top+t.height},u={x:t.left+t.width,y:t.top+t.height};return this.inside({x:t.left,y:t.top})&&this.inside(n)&&this.inside(s)&&this.inside(u)},c.prototype.conflicts=function(t){if(!this.isConflictWithBoundingBox(t))return!1;var n={x:t.left+t.width/2,y:t.top},s={x:t.left+t.width,y:t.top},u={x:t.left,y:t.top+t.height},d={x:t.left+t.width/2,y:t.top+t.height},f={x:t.left+t.width,y:t.top+t.height},e={x:t.left,y:t.top+t.height/2},i={x:t.left+t.width,y:t.top+t.height/2};return this.inside({x:t.left,y:t.top})||this.inside(n)||this.inside(s)||this.inside(u)||this.inside(d)||this.inside(f)||this.inside(e)||this.inside(i)},c.prototype.lineIntersectionPoint=function(t,a){for(var n=0;n<this.polygonPoints.length;n++){var d=this.getLineIntersection(t,a,this.polygonPoints[n],n===this.polygonPoints.length-1?this.polygonPoints[0]:this.polygonPoints[n+1]);if(null!==d)return d}return null},c.calculateAbsolutePolygonArea=function(t){var a,n=1,s=0;for(a=0;a<t.length;a++)s+=t[a].x*t[n].y-t[n].x*t[a].y,n=(n+1)%t.length;return.5*s},c.prototype.overlapPath=function(t){if(this.inside({x:t[0],y:t[1]}))return!0;var a=new c(t);if(a.inside(this.polygonPoints[0]))return!0;for(var n=0;n<this.polygonPoints.length;n++)if(a.lineIntersectionPoint(this.polygonPoints[n],this.polygonPoints[(n+1)%this.polygonPoints.length]))return!0;return!1},c.prototype.inside=function(t){for(var a=t.x,n=t.y,s=!1,u=0,d=this.polygonPoints.length-1;u<this.polygonPoints.length;d=u++){var f=this.polygonPoints[u].x,e=this.polygonPoints[u].y,h=this.polygonPoints[d].y;e>n!=h>n&&a<(this.polygonPoints[d].x-f)*(n-e)/(h-e)+f&&(s=!s)}return s},c.translateX=function(t,a){for(var n=new Float64Array(2*t.polygonPoints.length),s=0;s<t.polygonPoints.length;s++)n[2*s]=t.polygonPoints[s].x+a,n[2*s+1]=t.polygonPoints[s].y;return new c(n)},c.polygonBoundsOverlap=function(t,a){var n=(0,D.WN)(c.getPolyBoundLeft(t),c.getPolyBoundRight(t),c.getPolyBoundLeft(a),c.getPolyBoundRight(a)),s=(0,D.WN)(c.getPolyBoundLower(t),c.getPolyBoundUpper(t),c.getPolyBoundLower(a),c.getPolyBoundUpper(a));return n&&s},c.circleRectangleOverlap=function(t,a,n){var s=Math.max(t.left,Math.min(a.x,t.right)),u=Math.min(t.bottom,Math.max(a.y,t.top)),d=s-a.x,f=u-a.y;return d*d+f*f<=n*n},c.linesIntersect=function(t,a,n,s,u){void 0===u&&(u=!0);var d=(0,T.oY)(t,a,n),f=(0,T.oY)(t,a,s),e=(0,T.oY)(n,s,t),i=(0,T.oY)(n,s,a);return d!==f&&e!==i||!!u&&!!(d===b.i.Colinear&&(0,T.ao)(t,a,n)||f===b.i.Colinear&&(0,T.ao)(t,a,s)||e===b.i.Colinear&&(0,T.ao)(n,s,t)||i===b.i.Colinear&&(0,T.ao)(n,s,a))},c.resize=function(t,a){if(0===a)return t;for(var n=c.calculateAbsolutePolygonArea(t.polygonPoints)>0,u=_.clone(a>0&&!0===n||a<0&&!1===n?t.polygonPoints.reverse():t.polygonPoints),d=t.absoluteCentroid(),f=[],e=0;e<u.length;e++){var i=u[e],h=u[(e+1)%u.length],g=h.y-i.y,x=void 0;0!==g&&(x=-(h.x-i.x)/g);var L=0;_.isUndefined(x)||(L=(i.y<h.y?-1:1)*Math.sqrt(a*a/(1+x*x)));var F=0;0===L?F=(i.x>h.x?-1:1)*a:_.isUndefined(x)||(F=x*L);var p={x:i.x+L,y:i.y+F},S={x:0,y:0};0===x?(S.x=p.x,S.y=p.y+10):_.isUndefined(x)||(S.x=p.x+10,S.y=p.y-10/x);var I=(p.x-S.x)*(d.y-i.y)-(p.y-S.y)*(d.x-i.x);if(0!==I){var M={x:((p.x*S.y-p.y*S.x)*(d.x-i.x)-(p.x-S.x)*(d.x*i.y-d.y*i.x))/I,y:((p.x*S.y-p.y*S.x)*(d.y-i.y)-(p.y-S.y)*(d.x*i.y-d.y*i.x))/I};isFinite(M.x)&&isFinite(M.y)&&f.push(M)}}return c.fromPolygonPoints(f)},c.getPolyBoundLeft=function(t){var a;return null===(a=_.minBy(t.polygonPoints,function(n){return n.x}))||void 0===a?void 0:a.x},c.getPolyBoundRight=function(t){var a;return null===(a=_.maxBy(t.polygonPoints,function(n){return n.x}))||void 0===a?void 0:a.x},c.getPolyBoundUpper=function(t){var a;return null===(a=_.maxBy(t.polygonPoints,function(n){return n.y}))||void 0===a?void 0:a.y},c.getPolyBoundLower=function(t){var a;return null===(a=_.minBy(t.polygonPoints,function(n){return n.y}))||void 0===a?void 0:a.y},c.prototype.isConflictWithBoundingBox=function(t){return(0,D.HL)(this.absoluteBoundingRect(),t)},c.prototype.calculatePolygonCentroid=function(){var t,a,n,s,u,d;for(t=c.calculateAbsolutePolygonArea(this.polygonPoints),n=s=0,d=1,u=0;u<this.polygonPoints.length;u++)n+=(this.polygonPoints[u].x+this.polygonPoints[d].x)*(a=this.polygonPoints[u].x*this.polygonPoints[d].y-this.polygonPoints[d].x*this.polygonPoints[u].y),s+=(this.polygonPoints[u].y+this.polygonPoints[d].y)*a,d=(d+1)%this.polygonPoints.length;return{x:n/=6*t,y:s/=6*t}},c.prototype.calculateBoundingRect=function(){for(var t=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=0,d=this.polygonPoints;u<d.length;u++){var f=d[u];f.x<t?t=f.x:f.x>n&&(n=f.x),f.y<a?a=f.y:f.y>s&&(s=f.y)}return{left:t,top:a,width:n-t,height:s-a}},c.prototype.getLineIntersection=function(t,a,n,s){var u=t.x,d=t.y,i=n.x,h=n.y,L=a.x-u,F=a.y-d,p=s.x-i,S=s.y-h,I=(-F*(u-i)+L*(d-h))/(-p*F+L*S),M=(p*(d-h)-S*(u-i))/(-p*F+L*S);return I>=0&&I<=1&&M>=0&&M<=1?{x:u+M*L,y:d+M*F}:null},c.prototype.convertArrayPathToPoints=function(t){for(var a=[],n=0;n<t.length;n+=2)a.push({x:t[n],y:t[n+1]});return a},c}()},19377:function(k,U,l){l.d(U,{i:function(){return b}});var b=function(T){return T[T.Clockwise=0]="Clockwise",T[T.Counterclockwise=1]="Counterclockwise",T[T.Colinear=2]="Colinear",T}({})}}]);