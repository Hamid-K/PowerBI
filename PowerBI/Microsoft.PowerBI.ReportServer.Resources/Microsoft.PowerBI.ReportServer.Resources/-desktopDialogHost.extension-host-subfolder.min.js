"use strict";(self.webpackChunkdesktopDialogHost=self.webpackChunkdesktopDialogHost||[]).push([["extension-host-subfolder"],{17299:function(X,P,t){t.r(P),t.d(P,{ExtensionHostSubfolderModule:function(){return W}});var H=t(77476),B=t(60756),w=t(81337),T=t(82762),N=t(60225),L=t(11547),U=t(81905),g=t(14172),z=t(59822),v=t(97558),C=t(60397),F=t(17899),V=t(37976),$=t(6814),a=t(50423),A=t(54323),R=function(){function r(l,s,m,f){var I=this;this.actions$=l,this.messageBroker=s,this.telemetryService=m,this.lazyProvider=f,this.onOpenSubfolderPickerDialogReceived$=(0,F.Av)(this.actions$,this.messageBroker,v.Vm.openSubfolderPickerDialog,function(i){return(0,T.D)(I.lazyProvider.get("@powerbi/SubfolderPicker/subfolder-picker.module#SubfolderPickerModule",V.cU)).pipe((0,U.w)(function(u){var c,b;if(null!==(c=i.messageBarModel)&&void 0!==c&&c.link){var D=I.validateLink(null===(b=i.messageBarModel)||void 0===b?void 0:b.link);if(D)return(0,N._)(D)}return(0,T.D)(u.openSubfolderPicker({initialSubfolderId:i.initialSubfolderId,title:i.title,confirmButtonText:i.confirmButtonText,allowSelectWorkspace:i.allowSelectWorkspace,semanticInputLabelText:i.semanticInputLabelText,semanticInputPlaceholder:i.semanticInputPlaceholder,messageBarModel:i.messageBarModel,allowSelectItemTypes:i.allowSelectItemTypes,allowMultiSelection:i.allowMultiSelection,hideNewButton:!i.showNewButton,preSelectedItems:i.preSelectedItems,visibleItemTypes:i.visibleItemTypes})).pipe((0,g.U)(function(n){var p,h,j,S,y,M,k,E;if(!n)return n;var x=(0,w.__assign)({},n);return n.selectedItems&&(x.selectedItems={subfolders:null===(p=n.selectedItems.subfolders)||void 0===p?void 0:p.map(function(e){return{id:e.id,objectId:e.objectId}}),artifacts:null===(h=n.selectedItems.artifacts)||void 0===h?void 0:h.map(function(e){return{id:e.id,objectId:e.objectId}}),dashboards:null===(j=n.selectedItems.dashboards)||void 0===j?void 0:j.map(function(e){return{id:e.id,objectId:e.objectId}}),reports:null===(S=n.selectedItems.reports)||void 0===S?void 0:S.map(function(e){return{id:e.id,objectId:e.objectId}}),datasets:null===(y=n.selectedItems.datasets)||void 0===y?void 0:y.map(function(e){return{id:e.id,objectId:e.objectId}}),datamarts:null===(M=n.selectedItems.datamarts)||void 0===M?void 0:M.map(function(e){return{id:e.id,objectId:e.objectId}}),workbooks:null===(k=n.selectedItems.workbooks)||void 0===k?void 0:k.map(function(e){return{id:e.id,packageId:e.packageId}}),cdsaModels:null===(E=n.selectedItems.cdsaModels)||void 0===E?void 0:E.map(function(e){return{id:e.id,objectId:e.objectId}})}),n.selectedItemsMetadata&&(x.selectedItemsMetadata=n.selectedItemsMetadata.map(function(e){return{id:e.id,objectId:e.objectId,displayName:e.displayName,type:e.type}})),x}),(0,g.U)(function(n){return v.Vm.openSubfolderPickerDialog.resolve({value:n})}))}),(0,z.K)(function(u){return I.telemetryService.logEvent({name:"SubfolderAPI.openSubfolderPickerDialog",properties:{error:u}}),(0,L.of)(v.Vm.openSubfolderPickerDialog.reject({error:u}))}))})}return r.prototype.validateLink=function(l){var s,m=(s=new URL(l)).protocol,f=s.hostname;return"https:"!==m?new Error('The link url must start with "https://".'):f===window.location.hostname?new Error("The link url must not contain fabric doamin."):void 0},r.\u0275fac=function(s){return new(s||r)(a.\u0275\u0275inject(B.eX),a.\u0275\u0275inject(C.u),a.\u0275\u0275inject(A.t),a.\u0275\u0275inject($.rn))},r.\u0275prov=a.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r}(),W=function(){function r(){}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=a.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=a.\u0275\u0275defineInjector({imports:[H.CommonModule,B.sQ.forFeature([R])]}),r}()}}]);