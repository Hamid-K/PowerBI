(self.webpackChunkdesktopDialogHost=self.webpackChunkdesktopDialogHost||[]).push([["publish-to-group-dialog"],{5637:function(Y,X,l){"use strict";function u(D){return Array.prototype.slice.call(arguments,1).forEach(function(K){K&&Object.keys(K).forEach(function(N){D[N]=K[N]})}),D}function h(D){return Object.prototype.toString.call(D)}function y(D){return"[object Function]"===h(D)}function I(D){return D.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var v={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},b={"http:":{validate:function(P,K,N){var g=P.slice(K);return N.re.http||(N.re.http=new RegExp("^\\/\\/"+N.re.src_auth+N.re.src_host_port_strict+N.re.src_path,"i")),N.re.http.test(g)?g.match(N.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(P,K,N){var g=P.slice(K);return N.re.no_http||(N.re.no_http=new RegExp("^"+N.re.src_auth+"(?:localhost|(?:(?:"+N.re.src_domain+")\\.)+"+N.re.src_domain_root+")"+N.re.src_port+N.re.src_host_terminator+N.re.src_path,"i")),N.re.no_http.test(g)?K>=3&&":"===P[K-3]||K>=3&&"/"===P[K-3]?0:g.match(N.re.no_http)[0].length:0}},"mailto:":{validate:function(P,K,N){var g=P.slice(K);return N.re.mailto||(N.re.mailto=new RegExp("^"+N.re.src_email_name+"@"+N.re.src_host_strict,"i")),N.re.mailto.test(g)?g.match(N.re.mailto)[0].length:0}}},O="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function B(D){var P=D.re=l(3916)(D.__opts__),K=D.__tlds__.slice();function N(z){return z.replace("%TLDS%",P.src_tlds)}D.onCompile(),D.__tlds_replaced__||K.push(O),K.push(P.src_xn),P.src_tlds=K.join("|"),P.email_fuzzy=RegExp(N(P.tpl_email_fuzzy),"i"),P.link_fuzzy=RegExp(N(P.tpl_link_fuzzy),"i"),P.link_no_ip_fuzzy=RegExp(N(P.tpl_link_no_ip_fuzzy),"i"),P.host_fuzzy_test=RegExp(N(P.tpl_host_fuzzy_test),"i");var g=[];function A(z,H){throw new Error('(LinkifyIt) Invalid schema "'+z+'": '+H)}D.__compiled__={},Object.keys(D.__schemas__).forEach(function(z){var H=D.__schemas__[z];if(null!==H){var le={validate:null,link:null};if(D.__compiled__[z]=le,function(D){return"[object Object]"===h(D)}(H))return function(D){return"[object RegExp]"===h(D)}(H.validate)?le.validate=function(D){return function(P,K){var N=P.slice(K);return D.test(N)?N.match(D)[0].length:0}}(H.validate):y(H.validate)?le.validate=H.validate:A(z,H),void(y(H.normalize)?le.normalize=H.normalize:H.normalize?A(z,H):le.normalize=function(D,P){P.normalize(D)});if(function(D){return"[object String]"===h(D)}(H))return void g.push(z);A(z,H)}}),g.forEach(function(z){D.__compiled__[D.__schemas__[z]]&&(D.__compiled__[z].validate=D.__compiled__[D.__schemas__[z]].validate,D.__compiled__[z].normalize=D.__compiled__[D.__schemas__[z]].normalize)}),D.__compiled__[""]={validate:null,normalize:function(D,P){P.normalize(D)}};var G=Object.keys(D.__compiled__).filter(function(z){return z.length>0&&D.__compiled__[z]}).map(I).join("|");D.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+P.src_ZPCc+"))("+G+")","i"),D.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+P.src_ZPCc+"))("+G+")","ig"),D.re.pretest=RegExp("("+D.re.schema_test.source+")|("+D.re.host_fuzzy_test.source+")|@","i"),function(D){D.__index__=-1,D.__text_cache__=""}(D)}function j(D,P){var K=D.__index__,N=D.__last_index__,g=D.__text_cache__.slice(K,N);this.schema=D.__schema__.toLowerCase(),this.index=K+P,this.lastIndex=N+P,this.raw=g,this.text=g,this.url=g}function F(D,P){var K=new j(D,P);return D.__compiled__[K.schema].normalize(K,D),K}function W(D,P){if(!(this instanceof W))return new W(D,P);P||function(D){return Object.keys(D||{}).reduce(function(P,K){return P||v.hasOwnProperty(K)},!1)}(D)&&(P=D,D={}),this.__opts__=u({},v,P),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=u({},b,D),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},B(this)}W.prototype.add=function(P,K){return this.__schemas__[P]=K,B(this),this},W.prototype.set=function(P){return this.__opts__=u(this.__opts__,P),this},W.prototype.test=function(P){if(this.__text_cache__=P,this.__index__=-1,!P.length)return!1;var K,N,g,A,G,z,H,le;if(this.re.schema_test.test(P))for((H=this.re.schema_search).lastIndex=0;null!==(K=H.exec(P));)if(A=this.testSchemaAt(P,K[2],H.lastIndex)){this.__schema__=K[2],this.__index__=K.index+K[1].length,this.__last_index__=K.index+K[0].length+A;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(le=P.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||le<this.__index__)&&null!==(N=P.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(G=N.index+N[1].length,(this.__index__<0||G<this.__index__)&&(this.__schema__="",this.__index__=G,this.__last_index__=N.index+N[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&P.indexOf("@")>=0&&null!==(g=P.match(this.re.email_fuzzy))&&(G=g.index+g[1].length,z=g.index+g[0].length,(this.__index__<0||G<this.__index__||G===this.__index__&&z>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=G,this.__last_index__=z)),this.__index__>=0},W.prototype.pretest=function(P){return this.re.pretest.test(P)},W.prototype.testSchemaAt=function(P,K,N){return this.__compiled__[K.toLowerCase()]?this.__compiled__[K.toLowerCase()].validate(P,N,this):0},W.prototype.match=function(P){var K=0,N=[];this.__index__>=0&&this.__text_cache__===P&&(N.push(F(this,K)),K=this.__last_index__);for(var g=K?P.slice(K):P;this.test(g);)N.push(F(this,K)),g=g.slice(this.__last_index__),K+=this.__last_index__;return N.length?N:null},W.prototype.tlds=function(P,K){return P=Array.isArray(P)?P:[P],K?(this.__tlds__=this.__tlds__.concat(P).sort().filter(function(N,g,A){return N!==A[g-1]}).reverse(),B(this),this):(this.__tlds__=P.slice(),this.__tlds_replaced__=!0,B(this),this)},W.prototype.normalize=function(P){P.schema||(P.url="http://"+P.url),"mailto:"===P.schema&&!/^mailto:/i.test(P.url)&&(P.url="mailto:"+P.url)},W.prototype.onCompile=function(){},Y.exports=W},3916:function(Y,X,l){"use strict";Y.exports=function(u){var h={};h.src_Any=l(52246).source,h.src_Cc=l(21477).source,h.src_Z=l(58079).source,h.src_P=l(32606).source,h.src_ZPCc=[h.src_Z,h.src_P,h.src_Cc].join("|"),h.src_ZCc=[h.src_Z,h.src_Cc].join("|");return h.src_pseudo_letter="(?:(?![><\uff5c]|"+h.src_ZPCc+")"+h.src_Any+")",h.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",h.src_auth="(?:(?:(?!"+h.src_ZCc+"|[@/\\[\\]()]).)+@)?",h.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",h.src_host_terminator="(?=$|[><\uff5c]|"+h.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+h.src_ZPCc+"))",h.src_path="(?:[/?#](?:(?!"+h.src_ZCc+"|[><\uff5c]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+h.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+h.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+h.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+h.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+h.src_ZCc+"|[']).)+\\'|\\'(?="+h.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+h.src_ZCc+"|[.]).|"+(u&&u["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+h.src_ZCc+").|;(?!"+h.src_ZCc+").|\\!+(?!"+h.src_ZCc+"|[!]).|\\?(?!"+h.src_ZCc+"|[?]).)+|\\/)?",h.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',h.src_xn="xn--[a-z0-9\\-]{1,59}",h.src_domain_root="(?:"+h.src_xn+"|"+h.src_pseudo_letter+"{1,63})",h.src_domain="(?:"+h.src_xn+"|(?:"+h.src_pseudo_letter+")|(?:"+h.src_pseudo_letter+"(?:-|"+h.src_pseudo_letter+"){0,61}"+h.src_pseudo_letter+"))",h.src_host="(?:(?:(?:(?:"+h.src_domain+")\\.)*"+h.src_domain+"))",h.tpl_host_fuzzy="(?:"+h.src_ip4+"|(?:(?:(?:"+h.src_domain+")\\.)+(?:%TLDS%)))",h.tpl_host_no_ip_fuzzy="(?:(?:(?:"+h.src_domain+")\\.)+(?:%TLDS%))",h.src_host_strict=h.src_host+h.src_host_terminator,h.tpl_host_fuzzy_strict=h.tpl_host_fuzzy+h.src_host_terminator,h.src_host_port_strict=h.src_host+h.src_port+h.src_host_terminator,h.tpl_host_port_fuzzy_strict=h.tpl_host_fuzzy+h.src_port+h.src_host_terminator,h.tpl_host_port_no_ip_fuzzy_strict=h.tpl_host_no_ip_fuzzy+h.src_port+h.src_host_terminator,h.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+h.src_ZPCc+"|>|$))",h.tpl_email_fuzzy='(^|[><\uff5c]|"|\\(|'+h.src_ZCc+")("+h.src_email_name+"@"+h.tpl_host_fuzzy_strict+")",h.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+h.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+h.tpl_host_port_fuzzy_strict+h.src_path+")",h.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+h.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+h.tpl_host_port_no_ip_fuzzy_strict+h.src_path+")",h}},17261:function(Y,X,l){"use strict";Y.exports=l(5161)},76235:function(Y,X,l){"use strict";Y.exports=l(83992)},28715:function(Y){"use strict";Y.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},22289:function(Y){"use strict";var C="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",y="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",O=new RegExp("^(?:"+C+"|"+y+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),c=new RegExp("^(?:"+C+"|"+y+")");Y.exports.n=O,Y.exports.q=c},50195:function(Y,X,l){"use strict";var d=Object.prototype.hasOwnProperty;function f(x,U){return d.call(x,U)}function I(x){return!(x>=55296&&x<=57343||x>=64976&&x<=65007||!(65535&~x)||65534==(65535&x)||x>=0&&x<=8||11===x||x>=14&&x<=31||x>=127&&x<=159||x>1114111)}function v(x){return x>65535?(x-=65536,String.fromCharCode(55296+(x>>10),56320+(1023&x))):String.fromCharCode(x)}var M=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,O=new RegExp(M.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),c=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,T=l(76235),j=/[&<>"]/,F=/[&<>"]/g,W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function D(x){return W[x]}var K=/[.?*+^$[\]\\(){}|-]/g,G=l(32606);X.lib={},X.lib.mdurl=l(30229),X.lib.ucmicro=l(47643),X.assign=function(x){return Array.prototype.slice.call(arguments,1).forEach(function(V){if(V){if("object"!=typeof V)throw new TypeError(V+"must be object");Object.keys(V).forEach(function(q){x[q]=V[q]})}}),x},X.isString=function(x){return"[object String]"===function(x){return Object.prototype.toString.call(x)}(x)},X.has=f,X.unescapeMd=function(x){return x.indexOf("\\")<0?x:x.replace(M,"$1")},X.unescapeAll=function(x){return x.indexOf("\\")<0&&x.indexOf("&")<0?x:x.replace(O,function(U,V,q){return V||function(x,U){var V=0;return f(T,U)?T[U]:35===U.charCodeAt(0)&&c.test(U)&&I(V="x"===U[1].toLowerCase()?parseInt(U.slice(2),16):parseInt(U.slice(1),10))?v(V):x}(U,q)})},X.isValidEntityCode=I,X.fromCodePoint=v,X.escapeHtml=function(x){return j.test(x)?x.replace(F,D):x},X.arrayReplaceAt=function(x,U,V){return[].concat(x.slice(0,U),V,x.slice(U+1))},X.isSpace=function(x){switch(x){case 9:case 32:return!0}return!1},X.isWhiteSpace=function(x){if(x>=8192&&x<=8202)return!0;switch(x){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},X.isMdAsciiPunct=function(x){switch(x){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},X.isPunctChar=function(x){return G.test(x)},X.escapeRE=function(x){return x.replace(K,"\\$&")},X.normalizeReference=function(x){return x=x.trim().replace(/\s+/g," "),"\u1e7e"==="\u1e9e".toLowerCase()&&(x=x.replace(/\u1e9e/g,"\xdf")),x.toLowerCase().toUpperCase()}},84563:function(Y,X,l){"use strict";X.parseLinkLabel=l(31099),X.parseLinkDestination=l(18450),X.parseLinkTitle=l(17094)},18450:function(Y,X,l){"use strict";var u=l(50195).unescapeAll;Y.exports=function(d,f,C){var y,I,M=f,b={ok:!1,pos:0,lines:0,str:""};if(60===d.charCodeAt(f)){for(f++;f<C;){if(10===(y=d.charCodeAt(f))||60===y)return b;if(62===y)return b.pos=f+1,b.str=u(d.slice(M+1,f)),b.ok=!0,b;92===y&&f+1<C?f+=2:f++}return b}for(I=0;f<C&&!(32===(y=d.charCodeAt(f))||y<32||127===y);)if(92===y&&f+1<C){if(32===d.charCodeAt(f+1))break;f+=2}else{if(40===y&&++I>32)return b;if(41===y){if(0===I)break;I--}f++}return M===f||0!==I||(b.str=u(d.slice(M,f)),b.lines=0,b.pos=f,b.ok=!0),b}},31099:function(Y){"use strict";Y.exports=function(l,u,h){var d,f,C,y,I=-1,v=l.posMax,M=l.pos;for(l.pos=u+1,d=1;l.pos<v;){if(93===(C=l.src.charCodeAt(l.pos))&&0==--d){f=!0;break}if(y=l.pos,l.md.inline.skipToken(l),91===C)if(y===l.pos-1)d++;else if(h)return l.pos=M,-1}return f&&(I=l.pos),l.pos=M,I}},17094:function(Y,X,l){"use strict";var u=l(50195).unescapeAll;Y.exports=function(d,f,C){var y,I,v=0,M=f,b={ok:!1,pos:0,lines:0,str:""};if(f>=C||34!==(I=d.charCodeAt(f))&&39!==I&&40!==I)return b;for(f++,40===I&&(I=41);f<C;){if((y=d.charCodeAt(f))===I)return b.pos=f+1,b.lines=v,b.str=u(d.slice(M+1,f)),b.ok=!0,b;if(40===y&&41===I)return b;10===y?v++:92===y&&f+1<C&&(f++,10===d.charCodeAt(f)&&v++),f++}return b}},5161:function(Y,X,l){"use strict";var u=l(50195),h=l(84563),d=l(1614),f=l(73733),C=l(13472),y=l(29924),I=l(5637),v=l(30229),M=l(38648),b={default:l(8585),zero:l(27229),commonmark:l(84922)},O=/^(vbscript|javascript|file|data):/,c=/^data:image\/(gif|png|jpeg|webp);/;function T(F){var W=F.trim().toLowerCase();return!O.test(W)||!!c.test(W)}var k=["http:","https:","mailto:"];function e(F){var W=v.parse(F,!0);if(W.hostname&&(!W.protocol||k.indexOf(W.protocol)>=0))try{W.hostname=M.toASCII(W.hostname)}catch{}return v.encode(v.format(W))}function B(F){var W=v.parse(F,!0);if(W.hostname&&(!W.protocol||k.indexOf(W.protocol)>=0))try{W.hostname=M.toUnicode(W.hostname)}catch{}return v.decode(v.format(W),v.decode.defaultChars+"%")}function j(F,W){if(!(this instanceof j))return new j(F,W);W||u.isString(F)||(W=F||{},F="default"),this.inline=new y,this.block=new C,this.core=new f,this.renderer=new d,this.linkify=new I,this.validateLink=T,this.normalizeLink=e,this.normalizeLinkText=B,this.utils=u,this.helpers=u.assign({},h),this.options={},this.configure(F),W&&this.set(W)}j.prototype.set=function(F){return u.assign(this.options,F),this},j.prototype.configure=function(F){var D,W=this;if(u.isString(F)&&!(F=b[D=F]))throw new Error('Wrong `markdown-it` preset "'+D+'", check name');if(!F)throw new Error("Wrong `markdown-it` preset, can't be empty");return F.options&&W.set(F.options),F.components&&Object.keys(F.components).forEach(function(P){F.components[P].rules&&W[P].ruler.enableOnly(F.components[P].rules),F.components[P].rules2&&W[P].ruler2.enableOnly(F.components[P].rules2)}),this},j.prototype.enable=function(F,W){var D=[];Array.isArray(F)||(F=[F]),["core","block","inline"].forEach(function(K){D=D.concat(this[K].ruler.enable(F,!0))},this),D=D.concat(this.inline.ruler2.enable(F,!0));var P=F.filter(function(K){return D.indexOf(K)<0});if(P.length&&!W)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+P);return this},j.prototype.disable=function(F,W){var D=[];Array.isArray(F)||(F=[F]),["core","block","inline"].forEach(function(K){D=D.concat(this[K].ruler.disable(F,!0))},this),D=D.concat(this.inline.ruler2.disable(F,!0));var P=F.filter(function(K){return D.indexOf(K)<0});if(P.length&&!W)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+P);return this},j.prototype.use=function(F){var W=[this].concat(Array.prototype.slice.call(arguments,1));return F.apply(F,W),this},j.prototype.parse=function(F,W){if("string"!=typeof F)throw new Error("Input data should be a String");var D=new this.core.State(F,this,W);return this.core.process(D),D.tokens},j.prototype.render=function(F,W){return this.renderer.render(this.parse(F,W=W||{}),this.options,W)},j.prototype.parseInline=function(F,W){var D=new this.core.State(F,this,W);return D.inlineMode=!0,this.core.process(D),D.tokens},j.prototype.renderInline=function(F,W){return this.renderer.render(this.parseInline(F,W=W||{}),this.options,W)},Y.exports=j},13472:function(Y,X,l){"use strict";var u=l(67037),h=[["table",l(36185),["paragraph","reference"]],["code",l(93061)],["fence",l(81915),["paragraph","reference","blockquote","list"]],["blockquote",l(88889),["paragraph","reference","blockquote","list"]],["hr",l(80215),["paragraph","reference","blockquote","list"]],["list",l(54950),["paragraph","reference","blockquote"]],["reference",l(87257)],["html_block",l(53019),["paragraph","reference","blockquote"]],["heading",l(4576),["paragraph","reference","blockquote"]],["lheading",l(75657)],["paragraph",l(8143)]];function d(){this.ruler=new u;for(var f=0;f<h.length;f++)this.ruler.push(h[f][0],h[f][1],{alt:(h[f][2]||[]).slice()})}d.prototype.tokenize=function(f,C,y){for(var v,M=this.ruler.getRules(""),b=M.length,O=C,c=!1,T=f.md.options.maxNesting;O<y&&(f.line=O=f.skipEmptyLines(O),!(O>=y||f.sCount[O]<f.blkIndent));){if(f.level>=T){f.line=y;break}for(v=0;v<b&&!M[v](f,O,y,!1);v++);f.tight=!c,f.isEmpty(f.line-1)&&(c=!0),(O=f.line)<y&&f.isEmpty(O)&&(c=!0,O++,f.line=O)}},d.prototype.parse=function(f,C,y,I){var v;f&&(v=new this.State(f,C,y,I),this.tokenize(v,v.line,v.lineMax))},d.prototype.State=l(80272),Y.exports=d},73733:function(Y,X,l){"use strict";var u=l(67037),h=[["normalize",l(5665)],["block",l(20715)],["inline",l(71953)],["linkify",l(44558)],["replacements",l(84586)],["smartquotes",l(38028)]];function d(){this.ruler=new u;for(var f=0;f<h.length;f++)this.ruler.push(h[f][0],h[f][1])}d.prototype.process=function(f){var C,y,I;for(C=0,y=(I=this.ruler.getRules("")).length;C<y;C++)I[C](f)},d.prototype.State=l(9849),Y.exports=d},29924:function(Y,X,l){"use strict";var u=l(67037),h=[["text",l(8670)],["newline",l(38184)],["escape",l(19167)],["backticks",l(97286)],["strikethrough",l(62501).w],["emphasis",l(63792).w],["link",l(65617)],["image",l(61527)],["autolink",l(49133)],["html_inline",l(68237)],["entity",l(69022)]],d=[["balance_pairs",l(87463)],["strikethrough",l(62501).g],["emphasis",l(63792).g],["text_collapse",l(86071)]];function f(){var C;for(this.ruler=new u,C=0;C<h.length;C++)this.ruler.push(h[C][0],h[C][1]);for(this.ruler2=new u,C=0;C<d.length;C++)this.ruler2.push(d[C][0],d[C][1])}f.prototype.skipToken=function(C){var y,I,v=C.pos,M=this.ruler.getRules(""),b=M.length,O=C.md.options.maxNesting,c=C.cache;if(typeof c[v]<"u")C.pos=c[v];else{if(C.level<O)for(I=0;I<b&&(C.level++,y=M[I](C,!0),C.level--,!y);I++);else C.pos=C.posMax;y||C.pos++,c[v]=C.pos}},f.prototype.tokenize=function(C){for(var y,I,v=this.ruler.getRules(""),M=v.length,b=C.posMax,O=C.md.options.maxNesting;C.pos<b;){if(C.level<O)for(I=0;I<M&&!(y=v[I](C,!1));I++);if(y){if(C.pos>=b)break}else C.pending+=C.src[C.pos++]}C.pending&&C.pushPending()},f.prototype.parse=function(C,y,I,v){var M,b,O,c=new this.State(C,y,I,v);for(this.tokenize(c),O=(b=this.ruler2.getRules("")).length,M=0;M<O;M++)b[M](c)},f.prototype.State=l(85547),Y.exports=f},84922:function(Y){"use strict";Y.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},8585:function(Y){"use strict";Y.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},27229:function(Y){"use strict";Y.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},1614:function(Y,X,l){"use strict";var u=l(50195).assign,h=l(50195).unescapeAll,d=l(50195).escapeHtml,f={};function C(){this.rules=u({},f)}f.code_inline=function(y,I,v,M,b){return"<code"+b.renderAttrs(y[I])+">"+d(y[I].content)+"</code>"},f.code_block=function(y,I,v,M,b){return"<pre"+b.renderAttrs(y[I])+"><code>"+d(y[I].content)+"</code></pre>\n"},f.fence=function(y,I,v,M,b){var e,B,j,F,O=y[I],c=O.info?h(O.info).trim():"",T="",k="";return c&&(T=(j=c.split(/(\s+)/g))[0],k=j.slice(2).join("")),0===(e=v.highlight&&v.highlight(O.content,T,k)||d(O.content)).indexOf("<pre")?e+"\n":c?(B=O.attrIndex("class"),F=O.attrs?O.attrs.slice():[],B<0?F.push(["class",v.langPrefix+T]):(F[B]=F[B].slice(),F[B][1]+=" "+v.langPrefix+T),"<pre><code"+b.renderAttrs({attrs:F})+">"+e+"</code></pre>\n"):"<pre><code"+b.renderAttrs(O)+">"+e+"</code></pre>\n"},f.image=function(y,I,v,M,b){var O=y[I];return O.attrs[O.attrIndex("alt")][1]=b.renderInlineAsText(O.children,v,M),b.renderToken(y,I,v)},f.hardbreak=function(y,I,v){return v.xhtmlOut?"<br />\n":"<br>\n"},f.softbreak=function(y,I,v){return v.breaks?v.xhtmlOut?"<br />\n":"<br>\n":"\n"},f.text=function(y,I){return d(y[I].content)},f.html_block=function(y,I){return y[I].content},f.html_inline=function(y,I){return y[I].content},C.prototype.renderAttrs=function(I){var v,M,b;if(!I.attrs)return"";for(b="",v=0,M=I.attrs.length;v<M;v++)b+=" "+d(I.attrs[v][0])+'="'+d(I.attrs[v][1])+'"';return b},C.prototype.renderToken=function(I,v,M){var b,O="",c=!1,T=I[v];return T.hidden?"":(T.block&&-1!==T.nesting&&v&&I[v-1].hidden&&(O+="\n"),O+=(-1===T.nesting?"</":"<")+T.tag,O+=this.renderAttrs(T),0===T.nesting&&M.xhtmlOut&&(O+=" /"),T.block&&(c=!0,1===T.nesting&&v+1<I.length&&("inline"===(b=I[v+1]).type||b.hidden||-1===b.nesting&&b.tag===T.tag)&&(c=!1)),O+=c?">\n":">")},C.prototype.renderInline=function(y,I,v){for(var M,b="",O=this.rules,c=0,T=y.length;c<T;c++)b+=typeof O[M=y[c].type]<"u"?O[M](y,c,I,v,this):this.renderToken(y,c,I);return b},C.prototype.renderInlineAsText=function(y,I,v){for(var M="",b=0,O=y.length;b<O;b++)"text"===y[b].type?M+=y[b].content:"image"===y[b].type?M+=this.renderInlineAsText(y[b].children,I,v):"softbreak"===y[b].type&&(M+="\n");return M},C.prototype.render=function(y,I,v){var M,b,O,c="",T=this.rules;for(M=0,b=y.length;M<b;M++)c+="inline"===(O=y[M].type)?this.renderInline(y[M].children,I,v):typeof T[O]<"u"?T[y[M].type](y,M,I,v,this):this.renderToken(y,M,I,v);return c},Y.exports=C},67037:function(Y){"use strict";function X(){this.__rules__=[],this.__cache__=null}X.prototype.__find__=function(l){for(var u=0;u<this.__rules__.length;u++)if(this.__rules__[u].name===l)return u;return-1},X.prototype.__compile__=function(){var l=this,u=[""];l.__rules__.forEach(function(h){h.enabled&&h.alt.forEach(function(d){u.indexOf(d)<0&&u.push(d)})}),l.__cache__={},u.forEach(function(h){l.__cache__[h]=[],l.__rules__.forEach(function(d){d.enabled&&(h&&d.alt.indexOf(h)<0||l.__cache__[h].push(d.fn))})})},X.prototype.at=function(l,u,h){var d=this.__find__(l),f=h||{};if(-1===d)throw new Error("Parser rule not found: "+l);this.__rules__[d].fn=u,this.__rules__[d].alt=f.alt||[],this.__cache__=null},X.prototype.before=function(l,u,h,d){var f=this.__find__(l),C=d||{};if(-1===f)throw new Error("Parser rule not found: "+l);this.__rules__.splice(f,0,{name:u,enabled:!0,fn:h,alt:C.alt||[]}),this.__cache__=null},X.prototype.after=function(l,u,h,d){var f=this.__find__(l),C=d||{};if(-1===f)throw new Error("Parser rule not found: "+l);this.__rules__.splice(f+1,0,{name:u,enabled:!0,fn:h,alt:C.alt||[]}),this.__cache__=null},X.prototype.push=function(l,u,h){this.__rules__.push({name:l,enabled:!0,fn:u,alt:(h||{}).alt||[]}),this.__cache__=null},X.prototype.enable=function(l,u){Array.isArray(l)||(l=[l]);var h=[];return l.forEach(function(d){var f=this.__find__(d);if(f<0){if(u)return;throw new Error("Rules manager: invalid rule name "+d)}this.__rules__[f].enabled=!0,h.push(d)},this),this.__cache__=null,h},X.prototype.enableOnly=function(l,u){Array.isArray(l)||(l=[l]),this.__rules__.forEach(function(h){h.enabled=!1}),this.enable(l,u)},X.prototype.disable=function(l,u){Array.isArray(l)||(l=[l]);var h=[];return l.forEach(function(d){var f=this.__find__(d);if(f<0){if(u)return;throw new Error("Rules manager: invalid rule name "+d)}this.__rules__[f].enabled=!1,h.push(d)},this),this.__cache__=null,h},X.prototype.getRules=function(l){return null===this.__cache__&&this.__compile__(),this.__cache__[l]||[]},Y.exports=X},88889:function(Y,X,l){"use strict";var u=l(50195).isSpace;Y.exports=function(d,f,C,y){var I,v,M,b,O,c,T,k,e,B,j,F,W,D,P,K,N,g,A,G,z=d.lineMax,H=d.bMarks[f]+d.tShift[f],le=d.eMarks[f];if(d.sCount[f]-d.blkIndent>=4||62!==d.src.charCodeAt(H++))return!1;if(y)return!0;for(b=e=d.sCount[f]+1,32===d.src.charCodeAt(H)?(H++,b++,e++,I=!1,K=!0):9===d.src.charCodeAt(H)?(K=!0,(d.bsCount[f]+e)%4==3?(H++,b++,e++,I=!1):I=!0):K=!1,B=[d.bMarks[f]],d.bMarks[f]=H;H<le&&(v=d.src.charCodeAt(H),u(v));)9===v?e+=4-(e+d.bsCount[f]+(I?1:0))%4:e++,H++;for(j=[d.bsCount[f]],d.bsCount[f]=d.sCount[f]+1+(K?1:0),c=H>=le,D=[d.sCount[f]],d.sCount[f]=e-b,P=[d.tShift[f]],d.tShift[f]=H-d.bMarks[f],g=d.md.block.ruler.getRules("blockquote"),W=d.parentType,d.parentType="blockquote",k=f+1;k<C&&(G=d.sCount[k]<d.blkIndent,!((H=d.bMarks[k]+d.tShift[k])>=(le=d.eMarks[k])));k++)if(62!==d.src.charCodeAt(H++)||G){if(c)break;for(N=!1,M=0,O=g.length;M<O;M++)if(g[M](d,k,C,!0)){N=!0;break}if(N){d.lineMax=k,0!==d.blkIndent&&(B.push(d.bMarks[k]),j.push(d.bsCount[k]),P.push(d.tShift[k]),D.push(d.sCount[k]),d.sCount[k]-=d.blkIndent);break}B.push(d.bMarks[k]),j.push(d.bsCount[k]),P.push(d.tShift[k]),D.push(d.sCount[k]),d.sCount[k]=-1}else{for(b=e=d.sCount[k]+1,32===d.src.charCodeAt(H)?(H++,b++,e++,I=!1,K=!0):9===d.src.charCodeAt(H)?(K=!0,(d.bsCount[k]+e)%4==3?(H++,b++,e++,I=!1):I=!0):K=!1,B.push(d.bMarks[k]),d.bMarks[k]=H;H<le&&(v=d.src.charCodeAt(H),u(v));)9===v?e+=4-(e+d.bsCount[k]+(I?1:0))%4:e++,H++;c=H>=le,j.push(d.bsCount[k]),d.bsCount[k]=d.sCount[k]+1+(K?1:0),D.push(d.sCount[k]),d.sCount[k]=e-b,P.push(d.tShift[k]),d.tShift[k]=H-d.bMarks[k]}for(F=d.blkIndent,d.blkIndent=0,(A=d.push("blockquote_open","blockquote",1)).markup=">",A.map=T=[f,0],d.md.block.tokenize(d,f,k),(A=d.push("blockquote_close","blockquote",-1)).markup=">",d.lineMax=z,d.parentType=W,T[1]=d.line,M=0;M<P.length;M++)d.bMarks[M+f]=B[M],d.tShift[M+f]=P[M],d.sCount[M+f]=D[M],d.bsCount[M+f]=j[M];return d.blkIndent=F,!0}},93061:function(Y){"use strict";Y.exports=function(l,u,h){var d,f,C;if(l.sCount[u]-l.blkIndent<4)return!1;for(f=d=u+1;d<h;)if(l.isEmpty(d))d++;else{if(!(l.sCount[d]-l.blkIndent>=4))break;f=++d}return l.line=f,(C=l.push("code_block","code",0)).content=l.getLines(u,f,4+l.blkIndent,!1)+"\n",C.map=[u,l.line],!0}},81915:function(Y){"use strict";Y.exports=function(l,u,h,d){var f,C,y,I,v,M,b,O=!1,c=l.bMarks[u]+l.tShift[u],T=l.eMarks[u];if(l.sCount[u]-l.blkIndent>=4||c+3>T||126!==(f=l.src.charCodeAt(c))&&96!==f||(v=c,(C=(c=l.skipChars(c,f))-v)<3)||(b=l.src.slice(v,c),y=l.src.slice(c,T),96===f&&y.indexOf(String.fromCharCode(f))>=0))return!1;if(d)return!0;for(I=u;!(++I>=h||(c=v=l.bMarks[I]+l.tShift[I],T=l.eMarks[I],c<T&&l.sCount[I]<l.blkIndent));)if(!(l.src.charCodeAt(c)!==f||l.sCount[I]-l.blkIndent>=4||(c=l.skipChars(c,f),c-v<C||(c=l.skipSpaces(c),c<T)))){O=!0;break}return C=l.sCount[u],l.line=I+(O?1:0),(M=l.push("fence","code",0)).info=y,M.content=l.getLines(u+1,I,C,!0),M.markup=b,M.map=[u,l.line],!0}},4576:function(Y,X,l){"use strict";var u=l(50195).isSpace;Y.exports=function(d,f,C,y){var I,v,M,b,O=d.bMarks[f]+d.tShift[f],c=d.eMarks[f];if(d.sCount[f]-d.blkIndent>=4||35!==(I=d.src.charCodeAt(O))||O>=c)return!1;for(v=1,I=d.src.charCodeAt(++O);35===I&&O<c&&v<=6;)v++,I=d.src.charCodeAt(++O);return!(v>6||O<c&&!u(I)||(y||(c=d.skipSpacesBack(c,O),(M=d.skipCharsBack(c,35,O))>O&&u(d.src.charCodeAt(M-1))&&(c=M),d.line=f+1,(b=d.push("heading_open","h"+String(v),1)).markup="########".slice(0,v),b.map=[f,d.line],(b=d.push("inline","",0)).content=d.src.slice(O,c).trim(),b.map=[f,d.line],b.children=[],(b=d.push("heading_close","h"+String(v),-1)).markup="########".slice(0,v)),0))}},80215:function(Y,X,l){"use strict";var u=l(50195).isSpace;Y.exports=function(d,f,C,y){var I,v,M,b,O=d.bMarks[f]+d.tShift[f],c=d.eMarks[f];if(d.sCount[f]-d.blkIndent>=4||42!==(I=d.src.charCodeAt(O++))&&45!==I&&95!==I)return!1;for(v=1;O<c;){if((M=d.src.charCodeAt(O++))!==I&&!u(M))return!1;M===I&&v++}return!(v<3||(y||(d.line=f+1,(b=d.push("hr","hr",0)).map=[f,d.line],b.markup=Array(v+1).join(String.fromCharCode(I))),0))}},53019:function(Y,X,l){"use strict";var u=l(28715),h=l(22289).q,d=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+u.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(h.source+"\\s*$"),/^$/,!1]];Y.exports=function(C,y,I,v){var M,b,O,c,T=C.bMarks[y]+C.tShift[y],k=C.eMarks[y];if(C.sCount[y]-C.blkIndent>=4||!C.md.options.html||60!==C.src.charCodeAt(T))return!1;for(c=C.src.slice(T,k),M=0;M<d.length&&!d[M][0].test(c);M++);if(M===d.length)return!1;if(v)return d[M][2];if(b=y+1,!d[M][1].test(c))for(;b<I&&!(C.sCount[b]<C.blkIndent);b++)if(c=C.src.slice(T=C.bMarks[b]+C.tShift[b],k=C.eMarks[b]),d[M][1].test(c)){0!==c.length&&b++;break}return C.line=b,(O=C.push("html_block","",0)).map=[y,b],O.content=C.getLines(y,b,C.blkIndent,!0),!0}},75657:function(Y){"use strict";Y.exports=function(l,u,h){var d,f,C,y,I,v,M,b,O,T,c=u+1,k=l.md.block.ruler.getRules("paragraph");if(l.sCount[u]-l.blkIndent>=4)return!1;for(T=l.parentType,l.parentType="paragraph";c<h&&!l.isEmpty(c);c++)if(!(l.sCount[c]-l.blkIndent>3)){if(l.sCount[c]>=l.blkIndent&&(v=l.bMarks[c]+l.tShift[c])<(M=l.eMarks[c])&&(45===(O=l.src.charCodeAt(v))||61===O)&&(v=l.skipChars(v,O),(v=l.skipSpaces(v))>=M)){b=61===O?1:2;break}if(!(l.sCount[c]<0)){for(f=!1,C=0,y=k.length;C<y;C++)if(k[C](l,c,h,!0)){f=!0;break}if(f)break}}return!!b&&(d=l.getLines(u,c,l.blkIndent,!1).trim(),l.line=c+1,(I=l.push("heading_open","h"+String(b),1)).markup=String.fromCharCode(O),I.map=[u,l.line],(I=l.push("inline","",0)).content=d,I.map=[u,l.line-1],I.children=[],(I=l.push("heading_close","h"+String(b),-1)).markup=String.fromCharCode(O),l.parentType=T,!0)}},54950:function(Y,X,l){"use strict";var u=l(50195).isSpace;function h(C,y){var I,v,M,b;return v=C.bMarks[y]+C.tShift[y],M=C.eMarks[y],42!==(I=C.src.charCodeAt(v++))&&45!==I&&43!==I||v<M&&(b=C.src.charCodeAt(v),!u(b))?-1:v}function d(C,y){var I,v=C.bMarks[y]+C.tShift[y],M=v,b=C.eMarks[y];if(M+1>=b||(I=C.src.charCodeAt(M++))<48||I>57)return-1;for(;;){if(M>=b)return-1;if(!((I=C.src.charCodeAt(M++))>=48&&I<=57)){if(41===I||46===I)break;return-1}if(M-v>=10)return-1}return M<b&&(I=C.src.charCodeAt(M),!u(I))?-1:M}Y.exports=function(y,I,v,M){var b,O,c,T,k,e,B,j,F,W,D,P,K,N,g,A,G,z,H,le,x,U,V,q,se,ue,_e,ge,We=!1,Oe=!0;if(y.sCount[I]-y.blkIndent>=4||y.listIndent>=0&&y.sCount[I]-y.listIndent>=4&&y.sCount[I]<y.blkIndent)return!1;if(M&&"paragraph"===y.parentType&&y.sCount[I]>=y.blkIndent&&(We=!0),(V=d(y,I))>=0){if(B=!0,se=y.bMarks[I]+y.tShift[I],K=Number(y.src.slice(se,V-1)),We&&1!==K)return!1}else{if(!((V=h(y,I))>=0))return!1;B=!1}if(We&&y.skipSpaces(V)>=y.eMarks[I])return!1;if(P=y.src.charCodeAt(V-1),M)return!0;for(D=y.tokens.length,B?(ge=y.push("ordered_list_open","ol",1),1!==K&&(ge.attrs=[["start",K]])):ge=y.push("bullet_list_open","ul",1),ge.map=W=[I,0],ge.markup=String.fromCharCode(P),g=I,q=!1,_e=y.md.block.ruler.getRules("list"),z=y.parentType,y.parentType="list";g<v;){for(U=V,N=y.eMarks[g],e=A=y.sCount[g]+V-(y.bMarks[I]+y.tShift[I]);U<N;){if(9===(b=y.src.charCodeAt(U)))A+=4-(A+y.bsCount[g])%4;else{if(32!==b)break;A++}U++}if((k=(O=U)>=N?1:A-e)>4&&(k=1),T=e+k,(ge=y.push("list_item_open","li",1)).markup=String.fromCharCode(P),ge.map=j=[I,0],B&&(ge.info=y.src.slice(se,V-1)),x=y.tight,le=y.tShift[I],H=y.sCount[I],G=y.listIndent,y.listIndent=y.blkIndent,y.blkIndent=T,y.tight=!0,y.tShift[I]=O-y.bMarks[I],y.sCount[I]=A,O>=N&&y.isEmpty(I+1)?y.line=Math.min(y.line+2,v):y.md.block.tokenize(y,I,v,!0),(!y.tight||q)&&(Oe=!1),q=y.line-I>1&&y.isEmpty(y.line-1),y.blkIndent=y.listIndent,y.listIndent=G,y.tShift[I]=le,y.sCount[I]=H,y.tight=x,(ge=y.push("list_item_close","li",-1)).markup=String.fromCharCode(P),g=I=y.line,j[1]=g,O=y.bMarks[I],g>=v||y.sCount[g]<y.blkIndent||y.sCount[I]-y.blkIndent>=4)break;for(ue=!1,c=0,F=_e.length;c<F;c++)if(_e[c](y,g,v,!0)){ue=!0;break}if(ue)break;if(B){if((V=d(y,g))<0)break;se=y.bMarks[g]+y.tShift[g]}else if((V=h(y,g))<0)break;if(P!==y.src.charCodeAt(V-1))break}return(ge=B?y.push("ordered_list_close","ol",-1):y.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(P),W[1]=g,y.line=g,y.parentType=z,Oe&&function(C,y){var I,v,M=C.level+2;for(I=y+2,v=C.tokens.length-2;I<v;I++)C.tokens[I].level===M&&"paragraph_open"===C.tokens[I].type&&(C.tokens[I+2].hidden=!0,C.tokens[I].hidden=!0,I+=2)}(y,D),!0}},8143:function(Y){"use strict";Y.exports=function(l,u){var h,d,f,C,y,I,v=u+1,M=l.md.block.ruler.getRules("paragraph"),b=l.lineMax;for(I=l.parentType,l.parentType="paragraph";v<b&&!l.isEmpty(v);v++)if(!(l.sCount[v]-l.blkIndent>3||l.sCount[v]<0)){for(d=!1,f=0,C=M.length;f<C;f++)if(M[f](l,v,b,!0)){d=!0;break}if(d)break}return h=l.getLines(u,v,l.blkIndent,!1).trim(),l.line=v,(y=l.push("paragraph_open","p",1)).map=[u,l.line],(y=l.push("inline","",0)).content=h,y.map=[u,l.line],y.children=[],y=l.push("paragraph_close","p",-1),l.parentType=I,!0}},87257:function(Y,X,l){"use strict";var u=l(50195).normalizeReference,h=l(50195).isSpace;Y.exports=function(f,C,y,I){var v,M,b,O,c,T,k,e,B,j,F,W,D,P,K,N,g=0,A=f.bMarks[C]+f.tShift[C],G=f.eMarks[C],z=C+1;if(f.sCount[C]-f.blkIndent>=4||91!==f.src.charCodeAt(A))return!1;for(;++A<G;)if(93===f.src.charCodeAt(A)&&92!==f.src.charCodeAt(A-1)){if(A+1===G||58!==f.src.charCodeAt(A+1))return!1;break}for(O=f.lineMax,K=f.md.block.ruler.getRules("reference"),j=f.parentType,f.parentType="reference";z<O&&!f.isEmpty(z);z++)if(!(f.sCount[z]-f.blkIndent>3||f.sCount[z]<0)){for(P=!1,T=0,k=K.length;T<k;T++)if(K[T](f,z,O,!0)){P=!0;break}if(P)break}for(G=(D=f.getLines(C,z,f.blkIndent,!1).trim()).length,A=1;A<G;A++){if(91===(v=D.charCodeAt(A)))return!1;if(93===v){B=A;break}(10===v||92===v&&++A<G&&10===D.charCodeAt(A))&&g++}if(B<0||58!==D.charCodeAt(B+1))return!1;for(A=B+2;A<G;A++)if(10===(v=D.charCodeAt(A)))g++;else if(!h(v))break;if(!(F=f.md.helpers.parseLinkDestination(D,A,G)).ok||(c=f.md.normalizeLink(F.str),!f.md.validateLink(c)))return!1;for(M=A=F.pos,b=g+=F.lines,W=A;A<G;A++)if(10===(v=D.charCodeAt(A)))g++;else if(!h(v))break;for(F=f.md.helpers.parseLinkTitle(D,A,G),A<G&&W!==A&&F.ok?(N=F.str,A=F.pos,g+=F.lines):(N="",A=M,g=b);A<G&&(v=D.charCodeAt(A),h(v));)A++;if(A<G&&10!==D.charCodeAt(A)&&N)for(N="",A=M,g=b;A<G&&(v=D.charCodeAt(A),h(v));)A++;return!(A<G&&10!==D.charCodeAt(A)||(e=u(D.slice(1,B)),!e)||(I||(typeof f.env.references>"u"&&(f.env.references={}),typeof f.env.references[e]>"u"&&(f.env.references[e]={title:N,href:c}),f.parentType=j,f.line=C+g+1),0))}},80272:function(Y,X,l){"use strict";var u=l(49384),h=l(50195).isSpace;function d(f,C,y,I){var v,M,b,O,c,T,k,e;for(this.src=f,this.md=C,this.env=y,this.tokens=I,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",e=!1,b=O=T=k=0,c=(M=this.src).length;O<c;O++){if(v=M.charCodeAt(O),!e){if(h(v)){T++,9===v?k+=4-k%4:k++;continue}e=!0}(10===v||O===c-1)&&(10!==v&&O++,this.bMarks.push(b),this.eMarks.push(O),this.tShift.push(T),this.sCount.push(k),this.bsCount.push(0),e=!1,T=0,k=0,b=O+1)}this.bMarks.push(M.length),this.eMarks.push(M.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}d.prototype.push=function(f,C,y){var I=new u(f,C,y);return I.block=!0,y<0&&this.level--,I.level=this.level,y>0&&this.level++,this.tokens.push(I),I},d.prototype.isEmpty=function(C){return this.bMarks[C]+this.tShift[C]>=this.eMarks[C]},d.prototype.skipEmptyLines=function(C){for(var y=this.lineMax;C<y&&!(this.bMarks[C]+this.tShift[C]<this.eMarks[C]);C++);return C},d.prototype.skipSpaces=function(C){for(var y,I=this.src.length;C<I&&(y=this.src.charCodeAt(C),h(y));C++);return C},d.prototype.skipSpacesBack=function(C,y){if(C<=y)return C;for(;C>y;)if(!h(this.src.charCodeAt(--C)))return C+1;return C},d.prototype.skipChars=function(C,y){for(var I=this.src.length;C<I&&this.src.charCodeAt(C)===y;C++);return C},d.prototype.skipCharsBack=function(C,y,I){if(C<=I)return C;for(;C>I;)if(y!==this.src.charCodeAt(--C))return C+1;return C},d.prototype.getLines=function(C,y,I,v){var M,b,O,c,T,k,e,B=C;if(C>=y)return"";for(k=new Array(y-C),M=0;B<y;B++,M++){for(b=0,e=c=this.bMarks[B],T=B+1<y||v?this.eMarks[B]+1:this.eMarks[B];c<T&&b<I;){if(O=this.src.charCodeAt(c),h(O))9===O?b+=4-(b+this.bsCount[B])%4:b++;else{if(!(c-e<this.tShift[B]))break;b++}c++}k[M]=b>I?new Array(b-I+1).join(" ")+this.src.slice(c,T):this.src.slice(c,T)}return k.join("")},d.prototype.Token=u,Y.exports=d},36185:function(Y,X,l){"use strict";var u=l(50195).isSpace;function h(f,C){var y=f.bMarks[C]+f.tShift[C];return f.src.substr(y,f.eMarks[C]-y)}function d(f){var v,C=[],y=0,I=f.length,M=!1,b=0,O="";for(v=f.charCodeAt(y);y<I;)124===v&&(M?(O+=f.substring(b,y-1),b=y):(C.push(O+f.substring(b,y)),O="",b=y+1)),M=92===v,y++,v=f.charCodeAt(y);return C.push(O+f.substring(b)),C}Y.exports=function(C,y,I,v){var M,b,O,c,T,k,e,B,j,F,W,D,P,K,N,g,A,G;if(y+2>I||C.sCount[k=y+1]<C.blkIndent||C.sCount[k]-C.blkIndent>=4||(O=C.bMarks[k]+C.tShift[k])>=C.eMarks[k]||124!==(A=C.src.charCodeAt(O++))&&45!==A&&58!==A||O>=C.eMarks[k]||124!==(G=C.src.charCodeAt(O++))&&45!==G&&58!==G&&!u(G)||45===A&&u(G))return!1;for(;O<C.eMarks[k];){if(124!==(M=C.src.charCodeAt(O))&&45!==M&&58!==M&&!u(M))return!1;O++}for(e=(b=h(C,y+1)).split("|"),F=[],c=0;c<e.length;c++){if(!(W=e[c].trim())){if(0===c||c===e.length-1)continue;return!1}if(!/^:?-+:?$/.test(W))return!1;58===W.charCodeAt(W.length-1)?F.push(58===W.charCodeAt(0)?"center":"right"):58===W.charCodeAt(0)?F.push("left"):F.push("")}if(-1===(b=h(C,y).trim()).indexOf("|")||C.sCount[y]-C.blkIndent>=4||((e=d(b)).length&&""===e[0]&&e.shift(),e.length&&""===e[e.length-1]&&e.pop(),0===(B=e.length)||B!==F.length))return!1;if(v)return!0;for(K=C.parentType,C.parentType="table",g=C.md.block.ruler.getRules("blockquote"),(j=C.push("table_open","table",1)).map=D=[y,0],(j=C.push("thead_open","thead",1)).map=[y,y+1],(j=C.push("tr_open","tr",1)).map=[y,y+1],c=0;c<e.length;c++)j=C.push("th_open","th",1),F[c]&&(j.attrs=[["style","text-align:"+F[c]]]),(j=C.push("inline","",0)).content=e[c].trim(),j.children=[],j=C.push("th_close","th",-1);for(j=C.push("tr_close","tr",-1),j=C.push("thead_close","thead",-1),k=y+2;k<I&&!(C.sCount[k]<C.blkIndent);k++){for(N=!1,c=0,T=g.length;c<T;c++)if(g[c](C,k,I,!0)){N=!0;break}if(N||!(b=h(C,k).trim())||C.sCount[k]-C.blkIndent>=4)break;for((e=d(b)).length&&""===e[0]&&e.shift(),e.length&&""===e[e.length-1]&&e.pop(),k===y+2&&((j=C.push("tbody_open","tbody",1)).map=P=[y+2,0]),(j=C.push("tr_open","tr",1)).map=[k,k+1],c=0;c<B;c++)j=C.push("td_open","td",1),F[c]&&(j.attrs=[["style","text-align:"+F[c]]]),(j=C.push("inline","",0)).content=e[c]?e[c].trim():"",j.children=[],j=C.push("td_close","td",-1);j=C.push("tr_close","tr",-1)}return P&&(j=C.push("tbody_close","tbody",-1),P[1]=k),j=C.push("table_close","table",-1),D[1]=k,C.parentType=K,C.line=k,!0}},20715:function(Y){"use strict";Y.exports=function(l){var u;l.inlineMode?((u=new l.Token("inline","",0)).content=l.src,u.map=[0,1],u.children=[],l.tokens.push(u)):l.md.block.parse(l.src,l.md,l.env,l.tokens)}},71953:function(Y){"use strict";Y.exports=function(l){var h,d,f,u=l.tokens;for(d=0,f=u.length;d<f;d++)"inline"===(h=u[d]).type&&l.md.inline.parse(h.content,l.md,l.env,h.children)}},44558:function(Y,X,l){"use strict";var u=l(50195).arrayReplaceAt;Y.exports=function(C){var y,I,v,M,b,O,c,T,k,e,B,j,F,D,P,N,K=C.tokens;if(C.md.options.linkify)for(I=0,v=K.length;I<v;I++)if("inline"===K[I].type&&C.md.linkify.pretest(K[I].content))for(F=0,y=(M=K[I].children).length-1;y>=0;y--)if("link_close"!==(O=M[y]).type){if("html_inline"===O.type&&(/^<a[>\s]/i.test(O.content)&&F>0&&F--,/^<\/a\s*>/i.test(O.content)&&F++),!(F>0)&&"text"===O.type&&C.md.linkify.test(O.content)){for(N=C.md.linkify.match(k=O.content),c=[],j=O.level,B=0,T=0;T<N.length;T++)D=C.md.normalizeLink(N[T].url),C.md.validateLink(D)&&(P=N[T].text,P=N[T].schema?"mailto:"!==N[T].schema||/^mailto:/i.test(P)?C.md.normalizeLinkText(P):C.md.normalizeLinkText("mailto:"+P).replace(/^mailto:/,""):C.md.normalizeLinkText("http://"+P).replace(/^http:\/\//,""),(e=N[T].index)>B&&((b=new C.Token("text","",0)).content=k.slice(B,e),b.level=j,c.push(b)),(b=new C.Token("link_open","a",1)).attrs=[["href",D]],b.level=j++,b.markup="linkify",b.info="auto",c.push(b),(b=new C.Token("text","",0)).content=P,b.level=j,c.push(b),(b=new C.Token("link_close","a",-1)).level=--j,b.markup="linkify",b.info="auto",c.push(b),B=N[T].lastIndex);B<k.length&&((b=new C.Token("text","",0)).content=k.slice(B),b.level=j,c.push(b)),K[I].children=M=u(M,y,c)}}else for(y--;M[y].level!==O.level&&"link_open"!==M[y].type;)y--}},5665:function(Y){"use strict";var X=/\r\n?|\n/g,l=/\0/g;Y.exports=function(h){var d;d=(d=h.src.replace(X,"\n")).replace(l,"\ufffd"),h.src=d}},84586:function(Y){"use strict";var X=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,l=/\((c|tm|r|p)\)/i,u=/\((c|tm|r|p)\)/gi,h={c:"\xa9",r:"\xae",p:"\xa7",tm:"\u2122"};function d(y,I){return h[I.toLowerCase()]}function f(y){var I,v,M=0;for(I=y.length-1;I>=0;I--)"text"===(v=y[I]).type&&!M&&(v.content=v.content.replace(u,d)),"link_open"===v.type&&"auto"===v.info&&M--,"link_close"===v.type&&"auto"===v.info&&M++}function C(y){var I,v,M=0;for(I=y.length-1;I>=0;I--)"text"===(v=y[I]).type&&!M&&X.test(v.content)&&(v.content=v.content.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1\u2014").replace(/(^|\s)--(?=\s|$)/gm,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1\u2013")),"link_open"===v.type&&"auto"===v.info&&M--,"link_close"===v.type&&"auto"===v.info&&M++}Y.exports=function(I){var v;if(I.md.options.typographer)for(v=I.tokens.length-1;v>=0;v--)"inline"===I.tokens[v].type&&(l.test(I.tokens[v].content)&&f(I.tokens[v].children),X.test(I.tokens[v].content)&&C(I.tokens[v].children))}},38028:function(Y,X,l){"use strict";var u=l(50195).isWhiteSpace,h=l(50195).isPunctChar,d=l(50195).isMdAsciiPunct,f=/['"]/,C=/['"]/g;function I(M,b,O){return M.substr(0,b)+O+M.substr(b+1)}function v(M,b){var O,c,T,k,e,B,j,F,W,D,P,K,N,g,A,G,z,H,le,x,U;for(le=[],O=0;O<M.length;O++){for(c=M[O],j=M[O].level,z=le.length-1;z>=0&&!(le[z].level<=j);z--);if(le.length=z+1,"text"===c.type){e=0,B=(T=c.content).length;e:for(;e<B&&(C.lastIndex=e,k=C.exec(T),k);){if(A=G=!0,e=k.index+1,H="'"===k[0],W=32,k.index-1>=0)W=T.charCodeAt(k.index-1);else for(z=O-1;z>=0&&"softbreak"!==M[z].type&&"hardbreak"!==M[z].type;z--)if(M[z].content){W=M[z].content.charCodeAt(M[z].content.length-1);break}if(D=32,e<B)D=T.charCodeAt(e);else for(z=O+1;z<M.length&&"softbreak"!==M[z].type&&"hardbreak"!==M[z].type;z++)if(M[z].content){D=M[z].content.charCodeAt(0);break}if(P=d(W)||h(String.fromCharCode(W)),K=d(D)||h(String.fromCharCode(D)),N=u(W),(g=u(D))?A=!1:K&&(N||P||(A=!1)),N?G=!1:P&&(g||K||(G=!1)),34===D&&'"'===k[0]&&W>=48&&W<=57&&(G=A=!1),A&&G&&(A=P,G=K),A||G){if(G)for(z=le.length-1;z>=0&&(F=le[z],!(le[z].level<j));z--)if(F.single===H&&le[z].level===j){F=le[z],H?(x=b.md.options.quotes[2],U=b.md.options.quotes[3]):(x=b.md.options.quotes[0],U=b.md.options.quotes[1]),c.content=I(c.content,k.index,U),M[F.token].content=I(M[F.token].content,F.pos,x),e+=U.length-1,F.token===O&&(e+=x.length-1),B=(T=c.content).length,le.length=z;continue e}A?le.push({token:O,pos:k.index,single:H,level:j}):G&&H&&(c.content=I(c.content,k.index,"\u2019"))}else H&&(c.content=I(c.content,k.index,"\u2019"))}}}}Y.exports=function(b){var O;if(b.md.options.typographer)for(O=b.tokens.length-1;O>=0;O--)"inline"!==b.tokens[O].type||!f.test(b.tokens[O].content)||v(b.tokens[O].children,b)}},9849:function(Y,X,l){"use strict";var u=l(49384);function h(d,f,C){this.src=d,this.env=C,this.tokens=[],this.inlineMode=!1,this.md=f}h.prototype.Token=u,Y.exports=h},49133:function(Y){"use strict";var X=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,l=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;Y.exports=function(h,d){var f,C,y,I,v,M,b=h.pos;if(60!==h.src.charCodeAt(b))return!1;for(v=h.pos,M=h.posMax;;){if(++b>=M||60===(I=h.src.charCodeAt(b)))return!1;if(62===I)break}return f=h.src.slice(v+1,b),l.test(f)?(C=h.md.normalizeLink(f),!!h.md.validateLink(C)&&(d||((y=h.push("link_open","a",1)).attrs=[["href",C]],y.markup="autolink",y.info="auto",(y=h.push("text","",0)).content=h.md.normalizeLinkText(f),(y=h.push("link_close","a",-1)).markup="autolink",y.info="auto"),h.pos+=f.length+2,!0)):!!X.test(f)&&(C=h.md.normalizeLink("mailto:"+f),!!h.md.validateLink(C)&&(d||((y=h.push("link_open","a",1)).attrs=[["href",C]],y.markup="autolink",y.info="auto",(y=h.push("text","",0)).content=h.md.normalizeLinkText(f),(y=h.push("link_close","a",-1)).markup="autolink",y.info="auto"),h.pos+=f.length+2,!0))}},97286:function(Y){"use strict";Y.exports=function(l,u){var h,d,f,C,y,I,v,M,b=l.pos;if(96!==l.src.charCodeAt(b))return!1;for(h=b,b++,d=l.posMax;b<d&&96===l.src.charCodeAt(b);)b++;if(v=(f=l.src.slice(h,b)).length,l.backticksScanned&&(l.backticks[v]||0)<=h)return u||(l.pending+=f),l.pos+=v,!0;for(y=I=b;-1!==(y=l.src.indexOf("`",I));){for(I=y+1;I<d&&96===l.src.charCodeAt(I);)I++;if((M=I-y)===v)return u||((C=l.push("code_inline","code",0)).markup=f,C.content=l.src.slice(b,y).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),l.pos=I,!0;l.backticks[M]=y}return l.backticksScanned=!0,u||(l.pending+=f),l.pos+=v,!0}},87463:function(Y){"use strict";function X(l,u){var h,d,f,C,y,I,v,M,b={},O=u.length;if(O){var c=0,T=-2,k=[];for(h=0;h<O;h++)if(f=u[h],k.push(0),(u[c].marker!==f.marker||T!==f.token-1)&&(c=h),T=f.token,f.length=f.length||0,f.close){for(b.hasOwnProperty(f.marker)||(b[f.marker]=[-1,-1,-1,-1,-1,-1]),y=b[f.marker][(f.open?3:0)+f.length%3],I=d=c-k[c]-1;d>y;d-=k[d]+1)if((C=u[d]).marker===f.marker&&C.open&&C.end<0&&(v=!1,(C.close||f.open)&&(C.length+f.length)%3==0&&(C.length%3!=0||f.length%3!=0)&&(v=!0),!v)){k[h]=h-d+(M=d>0&&!u[d-1].open?k[d-1]+1:0),k[d]=M,f.open=!1,C.end=h,C.close=!1,I=-1,T=-2;break}-1!==I&&(b[f.marker][(f.open?3:0)+(f.length||0)%3]=I)}}}Y.exports=function(u){var h,d=u.tokens_meta,f=u.tokens_meta.length;for(X(0,u.delimiters),h=0;h<f;h++)d[h]&&d[h].delimiters&&X(0,d[h].delimiters)}},63792:function(Y){"use strict";function X(l,u){var h,d,f,C,y,I;for(h=u.length-1;h>=0;h--)(95===(d=u[h]).marker||42===d.marker)&&-1!==d.end&&(f=u[d.end],I=h>0&&u[h-1].end===d.end+1&&u[h-1].marker===d.marker&&u[h-1].token===d.token-1&&u[d.end+1].token===f.token+1,y=String.fromCharCode(d.marker),(C=l.tokens[d.token]).type=I?"strong_open":"em_open",C.tag=I?"strong":"em",C.nesting=1,C.markup=I?y+y:y,C.content="",(C=l.tokens[f.token]).type=I?"strong_close":"em_close",C.tag=I?"strong":"em",C.nesting=-1,C.markup=I?y+y:y,C.content="",I&&(l.tokens[u[h-1].token].content="",l.tokens[u[d.end+1].token].content="",h--))}Y.exports.w=function(u,h){var d,f,I=u.src.charCodeAt(u.pos);if(h||95!==I&&42!==I)return!1;for(f=u.scanDelims(u.pos,42===I),d=0;d<f.length;d++)u.push("text","",0).content=String.fromCharCode(I),u.delimiters.push({marker:I,length:f.length,token:u.tokens.length-1,end:-1,open:f.can_open,close:f.can_close});return u.pos+=f.length,!0},Y.exports.g=function(u){var h,d=u.tokens_meta,f=u.tokens_meta.length;for(X(u,u.delimiters),h=0;h<f;h++)d[h]&&d[h].delimiters&&X(u,d[h].delimiters)}},69022:function(Y,X,l){"use strict";var u=l(76235),h=l(50195).has,d=l(50195).isValidEntityCode,f=l(50195).fromCodePoint,C=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,y=/^&([a-z][a-z0-9]{1,31});/i;Y.exports=function(v,M){var O,c,T=v.pos,k=v.posMax;if(38!==v.src.charCodeAt(T))return!1;if(T+1<k)if(35===v.src.charCodeAt(T+1)){if(c=v.src.slice(T).match(C))return M||(O="x"===c[1][0].toLowerCase()?parseInt(c[1].slice(1),16):parseInt(c[1],10),v.pending+=d(O)?f(O):f(65533)),v.pos+=c[0].length,!0}else if((c=v.src.slice(T).match(y))&&h(u,c[1]))return M||(v.pending+=u[c[1]]),v.pos+=c[0].length,!0;return M||(v.pending+="&"),v.pos++,!0}},19167:function(Y,X,l){"use strict";for(var u=l(50195).isSpace,h=[],d=0;d<256;d++)h.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(f){h[f.charCodeAt(0)]=1}),Y.exports=function(C,y){var I,v=C.pos,M=C.posMax;if(92!==C.src.charCodeAt(v))return!1;if(++v<M){if((I=C.src.charCodeAt(v))<256&&0!==h[I])return y||(C.pending+=C.src[v]),C.pos+=2,!0;if(10===I){for(y||C.push("hardbreak","br",0),v++;v<M&&(I=C.src.charCodeAt(v),u(I));)v++;return C.pos=v,!0}}return y||(C.pending+="\\"),C.pos++,!0}},68237:function(Y,X,l){"use strict";var u=l(22289).n;Y.exports=function(f,C){var y,I,v,b=f.pos;return!(!f.md.options.html||(v=f.posMax,60!==f.src.charCodeAt(b)||b+2>=v)||(y=f.src.charCodeAt(b+1),33!==y&&63!==y&&47!==y&&!function(d){var f=32|d;return f>=97&&f<=122}(y))||(I=f.src.slice(b).match(u),!I)||(C||(f.push("html_inline","",0).content=f.src.slice(b,b+I[0].length)),f.pos+=I[0].length,0))}},61527:function(Y,X,l){"use strict";var u=l(50195).normalizeReference,h=l(50195).isSpace;Y.exports=function(f,C){var y,I,v,M,b,O,c,T,k,e,B,j,F,W="",D=f.pos,P=f.posMax;if(33!==f.src.charCodeAt(f.pos)||91!==f.src.charCodeAt(f.pos+1)||(O=f.pos+2,(b=f.md.helpers.parseLinkLabel(f,f.pos+1,!1))<0))return!1;if((c=b+1)<P&&40===f.src.charCodeAt(c)){for(c++;c<P&&(I=f.src.charCodeAt(c),h(I)||10===I);c++);if(c>=P)return!1;for(F=c,(k=f.md.helpers.parseLinkDestination(f.src,c,f.posMax)).ok&&(W=f.md.normalizeLink(k.str),f.md.validateLink(W)?c=k.pos:W=""),F=c;c<P&&(I=f.src.charCodeAt(c),h(I)||10===I);c++);if(k=f.md.helpers.parseLinkTitle(f.src,c,f.posMax),c<P&&F!==c&&k.ok)for(e=k.str,c=k.pos;c<P&&(I=f.src.charCodeAt(c),h(I)||10===I);c++);else e="";if(c>=P||41!==f.src.charCodeAt(c))return f.pos=D,!1;c++}else{if(typeof f.env.references>"u")return!1;if(c<P&&91===f.src.charCodeAt(c)?(F=c+1,(c=f.md.helpers.parseLinkLabel(f,c))>=0?M=f.src.slice(F,c++):c=b+1):c=b+1,M||(M=f.src.slice(O,b)),!(T=f.env.references[u(M)]))return f.pos=D,!1;W=T.href,e=T.title}return C||(v=f.src.slice(O,b),f.md.inline.parse(v,f.md,f.env,j=[]),(B=f.push("image","img",0)).attrs=y=[["src",W],["alt",""]],B.children=j,B.content=v,e&&y.push(["title",e])),f.pos=c,f.posMax=P,!0}},65617:function(Y,X,l){"use strict";var u=l(50195).normalizeReference,h=l(50195).isSpace;Y.exports=function(f,C){var y,I,v,M,b,O,c,T,e="",B="",j=f.pos,F=f.posMax,W=f.pos,D=!0;if(91!==f.src.charCodeAt(f.pos)||(b=f.pos+1,(M=f.md.helpers.parseLinkLabel(f,f.pos,!0))<0))return!1;if((O=M+1)<F&&40===f.src.charCodeAt(O)){for(D=!1,O++;O<F&&(I=f.src.charCodeAt(O),h(I)||10===I);O++);if(O>=F)return!1;if(W=O,(c=f.md.helpers.parseLinkDestination(f.src,O,f.posMax)).ok){for(e=f.md.normalizeLink(c.str),f.md.validateLink(e)?O=c.pos:e="",W=O;O<F&&(I=f.src.charCodeAt(O),h(I)||10===I);O++);if(c=f.md.helpers.parseLinkTitle(f.src,O,f.posMax),O<F&&W!==O&&c.ok)for(B=c.str,O=c.pos;O<F&&(I=f.src.charCodeAt(O),h(I)||10===I);O++);}(O>=F||41!==f.src.charCodeAt(O))&&(D=!0),O++}if(D){if(typeof f.env.references>"u")return!1;if(O<F&&91===f.src.charCodeAt(O)?(W=O+1,(O=f.md.helpers.parseLinkLabel(f,O))>=0?v=f.src.slice(W,O++):O=M+1):O=M+1,v||(v=f.src.slice(b,M)),!(T=f.env.references[u(v)]))return f.pos=j,!1;e=T.href,B=T.title}return C||(f.pos=b,f.posMax=M,f.push("link_open","a",1).attrs=y=[["href",e]],B&&y.push(["title",B]),f.md.inline.tokenize(f),f.push("link_close","a",-1)),f.pos=O,f.posMax=F,!0}},38184:function(Y,X,l){"use strict";var u=l(50195).isSpace;Y.exports=function(d,f){var C,y,I,v=d.pos;if(10!==d.src.charCodeAt(v))return!1;if(C=d.pending.length-1,y=d.posMax,!f)if(C>=0&&32===d.pending.charCodeAt(C))if(C>=1&&32===d.pending.charCodeAt(C-1)){for(I=C-1;I>=1&&32===d.pending.charCodeAt(I-1);)I--;d.pending=d.pending.slice(0,I),d.push("hardbreak","br",0)}else d.pending=d.pending.slice(0,-1),d.push("softbreak","br",0);else d.push("softbreak","br",0);for(v++;v<y&&u(d.src.charCodeAt(v));)v++;return d.pos=v,!0}},85547:function(Y,X,l){"use strict";var u=l(49384),h=l(50195).isWhiteSpace,d=l(50195).isPunctChar,f=l(50195).isMdAsciiPunct;function C(y,I,v,M){this.src=y,this.env=v,this.md=I,this.tokens=M,this.tokens_meta=Array(M.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}C.prototype.pushPending=function(){var y=new u("text","",0);return y.content=this.pending,y.level=this.pendingLevel,this.tokens.push(y),this.pending="",y},C.prototype.push=function(y,I,v){this.pending&&this.pushPending();var M=new u(y,I,v),b=null;return v<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),M.level=this.level,v>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],b={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(M),this.tokens_meta.push(b),M},C.prototype.scanDelims=function(y,I){var M,b,O,c,T,k,e,B,j,v=y,F=!0,W=!0,D=this.posMax,P=this.src.charCodeAt(y);for(M=y>0?this.src.charCodeAt(y-1):32;v<D&&this.src.charCodeAt(v)===P;)v++;return O=v-y,b=v<D?this.src.charCodeAt(v):32,e=f(M)||d(String.fromCharCode(M)),j=f(b)||d(String.fromCharCode(b)),k=h(M),(B=h(b))?F=!1:j&&(k||e||(F=!1)),k?W=!1:e&&(B||j||(W=!1)),I?(c=F,T=W):(c=F&&(!W||e),T=W&&(!F||j)),{can_open:c,can_close:T,length:O}},C.prototype.Token=u,Y.exports=C},62501:function(Y){"use strict";function X(l,u){var h,d,f,C,y,I=[],v=u.length;for(h=0;h<v;h++)126===(f=u[h]).marker&&-1!==f.end&&(C=u[f.end],(y=l.tokens[f.token]).type="s_open",y.tag="s",y.nesting=1,y.markup="~~",y.content="",(y=l.tokens[C.token]).type="s_close",y.tag="s",y.nesting=-1,y.markup="~~",y.content="","text"===l.tokens[C.token-1].type&&"~"===l.tokens[C.token-1].content&&I.push(C.token-1));for(;I.length;){for(d=(h=I.pop())+1;d<l.tokens.length&&"s_close"===l.tokens[d].type;)d++;h!==--d&&(y=l.tokens[d],l.tokens[d]=l.tokens[h],l.tokens[h]=y)}}Y.exports.w=function(u,h){var d,f,y,I,M=u.src.charCodeAt(u.pos);if(h||126!==M||(y=(f=u.scanDelims(u.pos,!0)).length,I=String.fromCharCode(M),y<2))return!1;for(y%2&&(u.push("text","",0).content=I,y--),d=0;d<y;d+=2)u.push("text","",0).content=I+I,u.delimiters.push({marker:M,length:0,token:u.tokens.length-1,end:-1,open:f.can_open,close:f.can_close});return u.pos+=f.length,!0},Y.exports.g=function(u){var h,d=u.tokens_meta,f=u.tokens_meta.length;for(X(u,u.delimiters),h=0;h<f;h++)d[h]&&d[h].delimiters&&X(u,d[h].delimiters)}},8670:function(Y){"use strict";function X(l){switch(l){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}Y.exports=function(u,h){for(var d=u.pos;d<u.posMax&&!X(u.src.charCodeAt(d));)d++;return d!==u.pos&&(h||(u.pending+=u.src.slice(u.pos,d)),u.pos=d,!0)}},86071:function(Y){"use strict";Y.exports=function(l){var u,h,d=0,f=l.tokens,C=l.tokens.length;for(u=h=0;u<C;u++)f[u].nesting<0&&d--,f[u].level=d,f[u].nesting>0&&d++,"text"===f[u].type&&u+1<C&&"text"===f[u+1].type?f[u+1].content=f[u].content+f[u+1].content:(u!==h&&(f[h]=f[u]),h++);u!==h&&(f.length=h)}},49384:function(Y){"use strict";function X(l,u,h){this.type=l,this.tag=u,this.attrs=null,this.map=null,this.nesting=h,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}X.prototype.attrIndex=function(u){var h,d,f;if(!this.attrs)return-1;for(d=0,f=(h=this.attrs).length;d<f;d++)if(h[d][0]===u)return d;return-1},X.prototype.attrPush=function(u){this.attrs?this.attrs.push(u):this.attrs=[u]},X.prototype.attrSet=function(u,h){var d=this.attrIndex(u),f=[u,h];d<0?this.attrPush(f):this.attrs[d]=f},X.prototype.attrGet=function(u){var h=this.attrIndex(u),d=null;return h>=0&&(d=this.attrs[h][1]),d},X.prototype.attrJoin=function(u,h){var d=this.attrIndex(u);d<0?this.attrPush([u,h]):this.attrs[d][1]=this.attrs[d][1]+" "+h},Y.exports=X},22918:function(Y){"use strict";var X={};function u(h,d){var f;return"string"!=typeof d&&(d=u.defaultChars),f=function(h){var d,f,C=X[h];if(C)return C;for(C=X[h]=[],d=0;d<128;d++)f=String.fromCharCode(d),C.push(f);for(d=0;d<h.length;d++)C[f=h.charCodeAt(d)]="%"+("0"+f.toString(16).toUpperCase()).slice(-2);return C}(d),h.replace(/(%[a-f0-9]{2})+/gi,function(C){var y,I,v,M,b,O,c,T="";for(y=0,I=C.length;y<I;y+=3)(v=parseInt(C.slice(y+1,y+3),16))<128?T+=f[v]:192==(224&v)&&y+3<I&&128==(192&(M=parseInt(C.slice(y+4,y+6),16)))?(T+=(c=v<<6&1984|63&M)<128?"\ufffd\ufffd":String.fromCharCode(c),y+=3):224==(240&v)&&y+6<I&&(M=parseInt(C.slice(y+4,y+6),16),b=parseInt(C.slice(y+7,y+9),16),128==(192&M)&&128==(192&b))?(T+=(c=v<<12&61440|M<<6&4032|63&b)<2048||c>=55296&&c<=57343?"\ufffd\ufffd\ufffd":String.fromCharCode(c),y+=6):240==(248&v)&&y+9<I&&(M=parseInt(C.slice(y+4,y+6),16),b=parseInt(C.slice(y+7,y+9),16),O=parseInt(C.slice(y+10,y+12),16),128==(192&M)&&128==(192&b)&&128==(192&O))?((c=v<<18&1835008|M<<12&258048|b<<6&4032|63&O)<65536||c>1114111?T+="\ufffd\ufffd\ufffd\ufffd":(c-=65536,T+=String.fromCharCode(55296+(c>>10),56320+(1023&c))),y+=9):T+="\ufffd";return T})}u.defaultChars=";/?:@&=+$,#",u.componentChars="",Y.exports=u},73138:function(Y){"use strict";var X={};function u(h,d,f){var C,y,I,v,M,b="";for("string"!=typeof d&&(f=d,d=u.defaultChars),typeof f>"u"&&(f=!0),M=function(h){var d,f,C=X[h];if(C)return C;for(C=X[h]=[],d=0;d<128;d++)f=String.fromCharCode(d),/^[0-9a-z]$/i.test(f)?C.push(f):C.push("%"+("0"+d.toString(16).toUpperCase()).slice(-2));for(d=0;d<h.length;d++)C[h.charCodeAt(d)]=h[d];return C}(d),C=0,y=h.length;C<y;C++)if(I=h.charCodeAt(C),f&&37===I&&C+2<y&&/^[0-9a-f]{2}$/i.test(h.slice(C+1,C+3)))b+=h.slice(C,C+3),C+=2;else if(I<128)b+=M[I];else if(I>=55296&&I<=57343){if(I>=55296&&I<=56319&&C+1<y&&(v=h.charCodeAt(C+1))>=56320&&v<=57343){b+=encodeURIComponent(h[C]+h[C+1]),C++;continue}b+="%EF%BF%BD"}else b+=encodeURIComponent(h[C]);return b}u.defaultChars=";/?:@&=+$,-_.!~*'()#",u.componentChars="-_.!~*'()",Y.exports=u},99239:function(Y){"use strict";Y.exports=function(l){var u="";return u+=l.protocol||"",u+=l.slashes?"//":"",u+=l.auth?l.auth+"@":"",l.hostname&&-1!==l.hostname.indexOf(":")?u+="["+l.hostname+"]":u+=l.hostname||"",u+=l.port?":"+l.port:"",u+=l.pathname||"",(u+=l.search||"")+(l.hash||"")}},30229:function(Y,X,l){"use strict";Y.exports.encode=l(73138),Y.exports.decode=l(22918),Y.exports.format=l(99239),Y.exports.parse=l(14692)},14692:function(Y){"use strict";function X(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var l=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),C=["'"].concat(f),y=["%","/","?",";","#"].concat(C),I=["/","?","#"],M=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,O={javascript:!0,"javascript:":!0},c={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};X.prototype.parse=function(k,e){var B,j,F,W,D,P=k;if(P=P.trim(),!e&&1===k.split("#").length){var K=h.exec(P);if(K)return this.pathname=K[1],K[2]&&(this.search=K[2]),this}var N=l.exec(P);if(N&&(F=(N=N[0]).toLowerCase(),this.protocol=N,P=P.substr(N.length)),(e||N||P.match(/^\/\/[^@\/]+@[^@\/]+/))&&(D="//"===P.substr(0,2))&&!(N&&O[N])&&(P=P.substr(2),this.slashes=!0),!O[N]&&(D||N&&!c[N])){var A,G,g=-1;for(B=0;B<I.length;B++)-1!==(W=P.indexOf(I[B]))&&(-1===g||W<g)&&(g=W);for(-1!==(G=-1===g?P.lastIndexOf("@"):P.lastIndexOf("@",g))&&(A=P.slice(0,G),P=P.slice(G+1),this.auth=A),g=-1,B=0;B<y.length;B++)-1!==(W=P.indexOf(y[B]))&&(-1===g||W<g)&&(g=W);-1===g&&(g=P.length),":"===P[g-1]&&g--;var z=P.slice(0,g);P=P.slice(g),this.parseHost(z),this.hostname=this.hostname||"";var H="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!H){var le=this.hostname.split(/\./);for(B=0,j=le.length;B<j;B++){var x=le[B];if(x&&!x.match(M)){for(var U="",V=0,q=x.length;V<q;V++)x.charCodeAt(V)>127?U+="x":U+=x[V];if(!U.match(M)){var se=le.slice(0,B),ue=le.slice(B+1),_e=x.match(b);_e&&(se.push(_e[1]),ue.unshift(_e[2])),ue.length&&(P=ue.join(".")+P),this.hostname=se.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var ge=P.indexOf("#");-1!==ge&&(this.hash=P.substr(ge),P=P.slice(0,ge));var We=P.indexOf("?");return-1!==We&&(this.search=P.substr(We),P=P.slice(0,We)),P&&(this.pathname=P),c[F]&&this.hostname&&!this.pathname&&(this.pathname=""),this},X.prototype.parseHost=function(k){var e=u.exec(k);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),k=k.substr(0,k.length-e.length)),k&&(this.hostname=k)},Y.exports=function(k,e){if(k&&k instanceof X)return k;var B=new X;return B.parse(k,e),B}},38648:function(Y,X,l){"use strict";l.r(X),l.d(X,{decode:function(){return G},encode:function(){return z},toASCII:function(){return le},toUnicode:function(){return H},ucs2decode:function(){return P},ucs2encode:function(){return K}});var u=l(62661),h=2147483647,d=36,O=/^xn--/,c=/[^\0-\x7F]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=Math.floor,j=String.fromCharCode;function F(U){throw new RangeError(k[U])}function D(U,V){var q=U.split("@"),se="";q.length>1&&(se=q[0]+"@",U=q[1]);var _e=function(U,V){for(var q=[],se=U.length;se--;)q[se]=V(U[se]);return q}((U=U.replace(T,".")).split("."),V).join(".");return se+_e}function P(U){for(var V=[],q=0,se=U.length;q<se;){var ue=U.charCodeAt(q++);if(ue>=55296&&ue<=56319&&q<se){var _e=U.charCodeAt(q++);56320==(64512&_e)?V.push(((1023&ue)<<10)+(1023&_e)+65536):(V.push(ue),q--)}else V.push(ue)}return V}var K=function(V){return String.fromCodePoint.apply(String,V)},N=function(V){return V>=48&&V<58?V-48+26:V>=65&&V<91?V-65:V>=97&&V<123?V-97:d},g=function(V,q){return V+22+75*(V<26)-((0!=q)<<5)},A=function(V,q,se){var ue=0;for(V=se?B(V/700):V>>1,V+=B(V/q);V>455;ue+=d)V=B(V/35);return B(ue+36*V/(V+38))},G=function(V){var q=[],se=V.length,ue=0,_e=128,ge=72,We=V.lastIndexOf("-");We<0&&(We=0);for(var Oe=0;Oe<We;++Oe)V.charCodeAt(Oe)>=128&&F("not-basic"),q.push(V.charCodeAt(Oe));for(var Be=We>0?We+1:0;Be<se;){for(var re=ue,fe=1,me=d;;me+=d){Be>=se&&F("invalid-input");var Se=N(V.charCodeAt(Be++));Se>=d&&F("invalid-input"),Se>B((h-ue)/fe)&&F("overflow"),ue+=Se*fe;var Ke=me<=ge?1:me>=ge+26?26:me-ge;if(Se<Ke)break;var tt=d-Ke;fe>B(h/tt)&&F("overflow"),fe*=tt}var ct=q.length+1;ge=A(ue-re,ct,0==re),B(ue/ct)>h-_e&&F("overflow"),_e+=B(ue/ct),ue%=ct,q.splice(ue++,0,_e)}return String.fromCodePoint.apply(String,q)},z=function(V){for(var Oe,q=[],se=(V=P(V)).length,ue=128,_e=0,ge=72,We=(0,u.Z)(V);!(Oe=We()).done;){var Be=Oe.value;Be<128&&q.push(j(Be))}var re=q.length,fe=re;for(re&&q.push("-");fe<se;){for(var Ke,me=h,Se=(0,u.Z)(V);!(Ke=Se()).done;){var tt=Ke.value;tt>=ue&&tt<me&&(me=tt)}var ct=fe+1;me-ue>B((h-_e)/ct)&&F("overflow"),_e+=(me-ue)*ct,ue=me;for(var Me,ae=(0,u.Z)(V);!(Me=ae()).done;){var ke=Me.value;if(ke<ue&&++_e>h&&F("overflow"),ke===ue){for(var de=_e,Re=d;;Re+=d){var pe=Re<=ge?1:Re>=ge+26?26:Re-ge;if(de<pe)break;var Ee=de-pe,Qe=d-pe;q.push(j(g(pe+Ee%Qe,0))),de=B(Ee/Qe)}q.push(j(g(de,0))),ge=A(_e,ct,fe===re),_e=0,++fe}}++_e,++ue}return q.join("")},H=function(V){return D(V,function(q){return O.test(q)?G(q.slice(4).toLowerCase()):q})},le=function(V){return D(V,function(q){return c.test(q)?"xn--"+z(q):q})};X.default={version:"2.1.0",ucs2:{decode:P,encode:K},decode:G,encode:z,toASCII:le,toUnicode:H}},21477:function(Y){Y.exports=/[\0-\x1F\x7F-\x9F]/},57803:function(Y){Y.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},32606:function(Y){Y.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},58079:function(Y){Y.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},47643:function(Y,X,l){"use strict";X.Any=l(52246),X.Cc=l(21477),X.Cf=l(57803),X.P=l(32606),X.Z=l(58079)},52246:function(Y){Y.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},89803:function(Y,X,l){"use strict";l.d(X,{Ce:function(){return ue},kA:function(){return le},oM:function(){return A}});var u=l(41114),h="PBI.Dashboard.RenameReport",f=(u.cx[h]=(0,u.b1)(h),"PBI.Dashboard.DeleteReport"),y=(u.cx[f]=(0,u.b1)(f),"PBI.Dashboard.InitializeNavigationPaneModels"),v=(u.cx[y]=(0,u.b1)(y),"PBI.Dashboard.RenameDataset"),b=(u.cx[v]=(0,u.b1)(v),"PBI.Dashboard.UpdateModelQnaFeatures"),c=(u.cx[b]=(0,u.b1)(b),"PBI.Dashboard.UpdateFeaturedQuestions"),k=(u.cx[c]=(0,u.b1)(c),"PBI.Dashboard.DeleteDataset"),B=(u.cx[k]=(0,u.b1)(k),"PBI.Dashboard.AddUpdateDashboard"),F=(u.cx[B]=(0,u.b1)(B),"PBI.Dashboard.RenameWorkbook"),D=(u.cx[F]=(0,u.b1)(F),"PBI.Dashboard.RemoveWorkbook"),K=(u.cx[D]=(0,u.b1)(D),"PBI.Dashboard.GetWorkbookWopiAccessInformation"),g=(u.cx[K]=(0,u.b1)(K),"PBI.Dashboard.ImportResourcePackagesOnLoad"),A=u.cx[g]=(0,u.b1)(g),G="PBI.Dashboard.GetNavigationPanePackage",H=(u.cx[G]=(0,u.b1)(G),"PBI.TileConfig.UpgradeTileConfig"),le=u.cx[H]=(0,u.b1)(H),x="PBI.Permissions.UpdateArtifactVisibility",V=(u.cx[x]=(0,u.b1)(x),"PBI.Datapool.UpdateProperties"),se=(u.cx[V]=(0,u.b1)(V),"PBI.Http.RequestThrottled"),ue=u.cx[se]=(0,u.b1)(se),_e="PBI.Dataset.GetSharedDatasets",We=(u.cx[_e]=(0,u.b1)(_e),"PBI.Dataset.GetReadonlySharedDatasets");u.cx[We]=(0,u.b1)(We)},73088:function(Y,X,l){"use strict";l.d(X,{F:function(){return h}});var h=new(l(50423).InjectionToken)("ScorecardActionsService")},65818:function(Y,X,l){"use strict";l.d(X,{r:function(){return e}});var u=l(73471),h=l(16808),d=l(50423),f=l(77476),C=l(59968),y=l(36858),I=l(74913),v=l(85102);function M(B,j){if(1&B&&(d.\u0275\u0275elementStart(0,"section",5),d.\u0275\u0275pipe(1,"localize"),d.\u0275\u0275element(2,"tri-svg-icon",6)(3,"span",7),d.\u0275\u0275elementEnd()),2&B){var F=d.\u0275\u0275nextContext();d.\u0275\u0275property("ngClass",F.isIeBrowser?"in-ie-browser":"browser-default")("pbiTooltip",F.customTooltip?F.customTooltip:d.\u0275\u0275pipeBind1(1,4,"MasterData"))("pbiTooltipDisabled",F.hideTooltip),d.\u0275\u0275attribute("tabindex",0)}}function b(B,j){if(1&B&&(d.\u0275\u0275elementStart(0,"section",10),d.\u0275\u0275pipe(1,"localize"),d.\u0275\u0275element(2,"tri-svg-icon",11)(3,"span",12),d.\u0275\u0275elementEnd()),2&B){var F=d.\u0275\u0275nextContext(2);d.\u0275\u0275property("ngClass",F.isIeBrowser?"in-ie-browser":"browser-default")("pbiTooltip",F.customTooltip?F.customTooltip:d.\u0275\u0275pipeBind1(1,4,"Certified"))("pbiTooltipDisabled",F.hideTooltip),d.\u0275\u0275attribute("tabindex",0)}}function O(B,j){if(1&B&&(d.\u0275\u0275elementStart(0,"section",13),d.\u0275\u0275pipe(1,"localize"),d.\u0275\u0275element(2,"tri-svg-icon",14)(3,"span",15),d.\u0275\u0275elementEnd()),2&B){var F=d.\u0275\u0275nextContext(2);d.\u0275\u0275property("ngClass",F.isIeBrowser?"in-ie-browser":"browser-default")("pbiTooltip",F.customTooltip?F.customTooltip:d.\u0275\u0275pipeBind1(1,4,"Certified"))("pbiTooltipDisabled",F.hideTooltip),d.\u0275\u0275attribute("tabindex",0)}}function c(B,j){if(1&B&&(d.\u0275\u0275elementContainerStart(0),d.\u0275\u0275template(1,b,4,6,"section",8),d.\u0275\u0275template(2,O,4,6,"ng-template",null,9,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275elementContainerEnd()),2&B){var F=d.\u0275\u0275reference(3),W=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",W.useWhiteTheme)("ngIfElse",F)}}function T(B,j){if(1&B&&(d.\u0275\u0275elementStart(0,"section",16),d.\u0275\u0275pipe(1,"localize"),d.\u0275\u0275element(2,"tri-svg-icon",17)(3,"span",18),d.\u0275\u0275elementEnd()),2&B){var F=d.\u0275\u0275nextContext();d.\u0275\u0275property("ngClass",F.isIeBrowser?"in-ie-browser":"browser-default")("pbiTooltip",F.customTooltip?F.customTooltip:d.\u0275\u0275pipeBind1(1,4,"Promoted"))("pbiTooltipDisabled",F.hideTooltip),d.\u0275\u0275attribute("tabindex",0)}}function k(B,j){if(1&B&&(d.\u0275\u0275element(0,"span",19),d.\u0275\u0275pipe(1,"localize")),2&B){var F=d.\u0275\u0275nextContext();d.\u0275\u0275property("pbiTooltip",F.customTooltip||d.\u0275\u0275pipeBind1(1,2,"None"))("pbiTooltipDisabled",F.hideTooltip)}}var e=function(){function B(){this.promoted=u.X_.Promoted,this.certified=u.X_.Certified,this.masterData=u.X_.MasterData,this.isIeBrowser=(0,h.rO)()}return B.\u0275fac=function(F){return new(F||B)},B.\u0275cmp=d.\u0275\u0275defineComponent({type:B,selectors:[["endorsement-badge"]],inputs:{stage:"stage",useWhiteTheme:"useWhiteTheme",customTooltip:"customTooltip",hideTooltip:"hideTooltip"},decls:5,vars:4,consts:[[3,"ngSwitch"],["class","endorsementBadge masterData defaultTheme",3,"ngClass","pbiTooltip","pbiTooltipDisabled",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","endorsementBadge promoted defaultTheme",3,"ngClass","pbiTooltip","pbiTooltipDisabled",4,"ngSwitchCase"],["class","endorsementBadge none",3,"pbiTooltip","pbiTooltipDisabled",4,"ngSwitchDefault"],[1,"endorsementBadge","masterData","defaultTheme",3,"ngClass","pbiTooltip","pbiTooltipDisabled"],["name","database_stack_asterisk_16_regular","sprite","trident-icons",1,"endorsementIcon","defaultTheme"],["localize","MasterData",1,"endorsementLabel","masterData","defaultTheme"],["class","endorsementBadge whiteTheme",3,"ngClass","pbiTooltip","pbiTooltipDisabled",4,"ngIf","ngIfElse"],["defaultTheme",""],[1,"endorsementBadge","whiteTheme",3,"ngClass","pbiTooltip","pbiTooltipDisabled"],["name","ribbon_16_regular",1,"endorsementIcon"],["localize","Certified",1,"endorsementLabel","certified"],[1,"endorsementBadge","certified","defaultTheme",3,"ngClass","pbiTooltip","pbiTooltipDisabled"],["name","ribbon_16_regular",1,"endorsementIcon","defaultTheme"],["localize","Certified",1,"endorsementLabel","certified","defaultTheme"],[1,"endorsementBadge","promoted","defaultTheme",3,"ngClass","pbiTooltip","pbiTooltipDisabled"],["name","checkmark_starburst_16_regular",1,"endorsementIcon","defaultTheme"],["localize","Promoted",1,"endorsementLabel","promoted","defaultTheme"],[1,"endorsementBadge","none",3,"pbiTooltip","pbiTooltipDisabled"]],template:function(F,W){1&F&&(d.\u0275\u0275elementContainerStart(0,0),d.\u0275\u0275template(1,M,4,6,"section",1),d.\u0275\u0275template(2,c,4,2,"ng-container",2),d.\u0275\u0275template(3,T,4,6,"section",3),d.\u0275\u0275template(4,k,2,4,"span",4),d.\u0275\u0275elementContainerEnd()),2&F&&(d.\u0275\u0275property("ngSwitch",W.stage),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase",W.masterData),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase",W.certified),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase",W.promoted))},dependencies:[f.NgClass,f.NgIf,f.NgSwitch,f.NgSwitchCase,f.NgSwitchDefault,C.X,y.V,I.M,v.F],styles:['[_nghost-%COMP%]{--colorEndorsementForeground: var(--colorNeutralForeground2Rest)}[_nghost-%COMP%]   .endorsementBadge[_ngcontent-%COMP%]{line-height:initial;border-radius:20px;height:100%;max-height:24px}[_nghost-%COMP%]   .endorsementBadge.certified[_ngcontent-%COMP%]{border:1px solid #25891C}[_nghost-%COMP%]   .endorsementBadge.promoted[_ngcontent-%COMP%]{border:1px solid #4668C5}[_nghost-%COMP%]   .endorsementBadge.masterData[_ngcontent-%COMP%]{border:1px solid #9470BD}[_nghost-%COMP%]   .endorsementBadge.none[_ngcontent-%COMP%]{padding-left:8px}[_nghost-%COMP%]   .endorsementBadge.none[_ngcontent-%COMP%]:before{content:"\\2014"}[_nghost-%COMP%]   .endorsementBadge.whiteTheme[_ngcontent-%COMP%]{border:1px solid}[_nghost-%COMP%]   .endorsementBadge[_ngcontent-%COMP%]   .endorsementIcon[_ngcontent-%COMP%]{width:100%;max-height:14px;max-width:14px;font-size:14px;fill:currentColor}[_nghost-%COMP%]   .endorsementBadge[_ngcontent-%COMP%]   .endorsementIcon.defaultTheme[_ngcontent-%COMP%]{color:var(--colorEndorsementForeground)}[_nghost-%COMP%]   .endorsementBadge[_ngcontent-%COMP%]   .endorsementLabel[_ngcontent-%COMP%]{font-size:var(--sm-font-size, 12px);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .endorsementBadge[_ngcontent-%COMP%]   .endorsementLabel.defaultTheme[_ngcontent-%COMP%]{color:var(--colorEndorsementForeground)}[_nghost-%COMP%]   .in-ie-browser.promoted[_ngcontent-%COMP%]{max-width:95px}[_nghost-%COMP%]   .in-ie-browser.certified[_ngcontent-%COMP%]{max-width:85px}[_nghost-%COMP%]   .in-ie-browser.masterData[_ngcontent-%COMP%]{max-width:85px}[_nghost-%COMP%]   .in-ie-browser[_ngcontent-%COMP%]   .endorsementLabel[_ngcontent-%COMP%]{bottom:2px}[_nghost-%COMP%]   .browser-default[_ngcontent-%COMP%]{display:flex;align-items:center;max-width:fit-content}[_nghost-%COMP%]   .browser-default[_ngcontent-%COMP%]   .endorsementLabel[_ngcontent-%COMP%]{flex:1;bottom:1px}html:not([dir="rtl"])[_nghost-%COMP%]   .browser-default[_ngcontent-%COMP%]   .endorsementIcon[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .browser-default[_ngcontent-%COMP%]   .endorsementIcon[_ngcontent-%COMP%]{margin:8px 4px 8px 8px}html[dir="rtl"][_nghost-%COMP%]   .browser-default[_ngcontent-%COMP%]   .endorsementIcon[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .browser-default[_ngcontent-%COMP%]   .endorsementIcon[_ngcontent-%COMP%]{margin:8px 8px 8px 4px}html:not([dir="rtl"])[_nghost-%COMP%]   .browser-default[_ngcontent-%COMP%]   .pbi-glyph-promotedendorsement[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .browser-default[_ngcontent-%COMP%]   .pbi-glyph-promotedendorsement[_ngcontent-%COMP%]{padding:8px 4px 8px 10px}html[dir="rtl"][_nghost-%COMP%]   .browser-default[_ngcontent-%COMP%]   .pbi-glyph-promotedendorsement[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .browser-default[_ngcontent-%COMP%]   .pbi-glyph-promotedendorsement[_ngcontent-%COMP%]{padding:8px 10px 8px 4px}html:not([dir="rtl"])[_nghost-%COMP%]   .in-ie-browser[_ngcontent-%COMP%]   .endorsementIcon[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .in-ie-browser[_ngcontent-%COMP%]   .endorsementIcon[_ngcontent-%COMP%]{padding:5px 4px 8px 8px}html[dir="rtl"][_nghost-%COMP%]   .in-ie-browser[_ngcontent-%COMP%]   .endorsementIcon[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .in-ie-browser[_ngcontent-%COMP%]   .endorsementIcon[_ngcontent-%COMP%]{padding:5px 8px 8px 4px}html:not([dir="rtl"])[_nghost-%COMP%]   .in-ie-browser[_ngcontent-%COMP%]   .pbi-glyph-promotedendorsement[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .in-ie-browser[_ngcontent-%COMP%]   .pbi-glyph-promotedendorsement[_ngcontent-%COMP%]{padding:5px 4px 8px 10px}html[dir="rtl"][_nghost-%COMP%]   .in-ie-browser[_ngcontent-%COMP%]   .pbi-glyph-promotedendorsement[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .in-ie-browser[_ngcontent-%COMP%]   .pbi-glyph-promotedendorsement[_ngcontent-%COMP%]{padding:5px 10px 8px 4px}html:not([dir="rtl"])[_nghost-%COMP%]   .endorsementLabel[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .endorsementLabel[_ngcontent-%COMP%]{margin-left:0;margin-right:12px}html[dir="rtl"][_nghost-%COMP%]   .endorsementLabel[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .endorsementLabel[_ngcontent-%COMP%]{margin-left:12px;margin-right:0}'],changeDetection:0}),B}()},702:function(Y,X,l){"use strict";l.d(X,{v:function(){return b}});var u=l(73471),h=l(50423),d=l(77476),f=l(36858),C=l(74913),y=l(85102);function I(O,c){if(1&O&&(h.\u0275\u0275element(0,"tri-svg-icon",4),h.\u0275\u0275pipe(1,"localize"),h.\u0275\u0275pipe(2,"localize")),2&O){var T=h.\u0275\u0275nextContext();h.\u0275\u0275property("pbiTooltip",h.\u0275\u0275pipeBind1(1,3,"MasterData"))("pbiTooltipDisabled",T.disableTooltip),h.\u0275\u0275attribute("aria-label",h.\u0275\u0275pipeBind1(2,5,"MasterData"))}}function v(O,c){if(1&O&&(h.\u0275\u0275element(0,"tri-svg-icon",5),h.\u0275\u0275pipe(1,"localize"),h.\u0275\u0275pipe(2,"localize")),2&O){var T=h.\u0275\u0275nextContext();h.\u0275\u0275property("pbiTooltip",h.\u0275\u0275pipeBind1(1,3,"Certified"))("pbiTooltipDisabled",T.disableTooltip),h.\u0275\u0275attribute("aria-label",h.\u0275\u0275pipeBind1(2,5,"Certified"))}}function M(O,c){if(1&O&&(h.\u0275\u0275element(0,"tri-svg-icon",6),h.\u0275\u0275pipe(1,"localize"),h.\u0275\u0275pipe(2,"localize")),2&O){var T=h.\u0275\u0275nextContext();h.\u0275\u0275property("pbiTooltip",h.\u0275\u0275pipeBind1(1,3,"Promoted"))("pbiTooltipDisabled",T.disableTooltip),h.\u0275\u0275attribute("aria-label",h.\u0275\u0275pipeBind1(2,5,"Promoted"))}}var b=function(){function O(){this.disableTooltip=!1,this.promoted=u.X_.Promoted,this.certified=u.X_.Certified,this.masterData=u.X_.MasterData}return O.\u0275fac=function(T){return new(T||O)},O.\u0275cmp=h.\u0275\u0275defineComponent({type:O,selectors:[["endorsement-icon"]],inputs:{stage:"stage",disableTooltip:"disableTooltip"},decls:4,vars:4,consts:[[3,"ngSwitch"],["name","database_stack_asterisk_16_regular","class","masterData","sprite","trident-icons",3,"pbiTooltip","pbiTooltipDisabled",4,"ngSwitchCase"],["name","ribbon_16_regular","class","certified",3,"pbiTooltip","pbiTooltipDisabled",4,"ngSwitchCase"],["name","checkmark_starburst_16_regular","class","promoted",3,"pbiTooltip","pbiTooltipDisabled",4,"ngSwitchCase"],["name","database_stack_asterisk_16_regular","sprite","trident-icons",1,"masterData",3,"pbiTooltip","pbiTooltipDisabled"],["name","ribbon_16_regular",1,"certified",3,"pbiTooltip","pbiTooltipDisabled"],["name","checkmark_starburst_16_regular",1,"promoted",3,"pbiTooltip","pbiTooltipDisabled"]],template:function(T,k){1&T&&(h.\u0275\u0275elementContainerStart(0,0),h.\u0275\u0275template(1,I,3,7,"tri-svg-icon",1),h.\u0275\u0275template(2,v,3,7,"tri-svg-icon",2),h.\u0275\u0275template(3,M,3,7,"tri-svg-icon",3),h.\u0275\u0275elementContainerEnd()),2&T&&(h.\u0275\u0275property("ngSwitch",k.stage),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngSwitchCase",k.masterData),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngSwitchCase",k.certified),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngSwitchCase",k.promoted))},dependencies:[d.NgSwitch,d.NgSwitchCase,f.V,C.M,y.F],styles:["[_nghost-%COMP%]{display:inline-block}"],changeDetection:0}),O}()},11248:function(Y,X,l){"use strict";l.d(X,{a:function(){return M}}),l(65818),l(702);var d=l(77476),f=l(79061),C=l(16095),y=l(17177),I=l(50423),M=function(){function b(){}return b.\u0275fac=function(c){return new(c||b)},b.\u0275mod=I.\u0275\u0275defineNgModule({type:b}),b.\u0275inj=I.\u0275\u0275defineInjector({imports:[d.CommonModule,f.v,C.Z,y.T6]}),b}()},16452:function(Y,X,l){"use strict";l.d(X,{xO:function(){return y}});var d,u=l(81337),h=l(41838),C=((d={})[0]="unknown",d[1]="dashboard",d[2]="report",d[3]="dataset",d[4]="workbook",d[5]="app",d[6]="rdlreport",d[7]="workspace",d[8]="dataflow",d[9]="streaming-dataflow",d[10]="scorecard",d[11]="datamart",d[12]="tile",d[13]="streaming-model",d[103]="dataflow-gen2",d[14]="lake-warehouse",d[15]="data-warehouse",d[17]="mounted-warehouse",d[16]="subfolder",d);function y(M){return"number"==typeof M?C[M]:M}(0,u.__assign)((0,u.__assign)({},h.z_.dataflow),{glyphIcon:{name:"pbi-glyph-dataflow",color:"#99700A"}}),(0,u.__assign)((0,u.__assign)({},h.z_["dataflow-gen2"]),{glyphIcon:{name:"pbi-glyph-dataflow",color:"#99700A"}}),(0,u.__assign)((0,u.__assign)({},h.z_.datamart),{glyphIcon:{name:"pbi-glyph-datamart",color:"#484644"}}),(0,u.__assign)((0,u.__assign)({},h.z_.dataset),{glyphIcon:{name:"pbi-glyph-database",color:"#C94F0F"}}),(0,u.__assign)((0,u.__assign)({},h.z_.dataset),{glyphIcon:{name:"pbi-glyph-database",color:"#C94F0F"}}),(0,u.__assign)((0,u.__assign)({},h.z_["data-warehouse"]),{glyphIcon:{name:"pbi-glyph-datamart",color:"#484644"}}),(0,u.__assign)((0,u.__assign)({},h.z_["lake-warehouse"]),{glyphIcon:{name:"pbi-glyph-datamart",color:"#484644"}}),(0,u.__assign)((0,u.__assign)({},h.z_["mounted-warehouse"]),{glyphIcon:{name:"pbi-glyph-datamart",color:"#484644"}}),(0,u.__assign)((0,u.__assign)({},h.z_.report),{glyphIcon:{name:"pbi-glyph-barchart",color:"#12239E"}}),(0,u.__assign)((0,u.__assign)({},h.z_.rdlreport),{glyphIcon:{name:"pbi-glyph-rdl-report",color:"#12239E"}}),(0,u.__assign)((0,u.__assign)({},h.z_.dashboard),{glyphIcon:{name:"pbi-glyph-gauge",color:"#197278"}}),(0,u.__assign)((0,u.__assign)({},h.z_.workbook),{glyphIcon:{name:"pbi-glyph-excel",color:"#217346"}}),(0,u.__assign)((0,u.__assign)({},h.z_["streaming-dataflow"]),{glyphIcon:{name:"pbi-glyph-streamingdataflow",color:"#99700A"}}),(0,u.__assign)((0,u.__assign)({},h.z_.scorecard),{glyphIcon:{name:"pbi-glyph-trophy2",color:"#99008A"}}),(0,u.__assign)((0,u.__assign)({},h.z_["streaming-model"]),{glyphIcon:{name:"pbi-glyph-streamingdataset",color:"#C94F0F"}})},32452:function(Y,X,l){"use strict";l.d(X,{s:function(){return We}});var u=l(81337),h=l(64336),d=l(4301),f=l(48723),C=l(62458),y=l(98665),I=l(86286),v=l(50423),M=l(85732),b=l(86940),O=l(65181),c=l(17497),T=l(77476),k=l(85102),e=l(74199);function B(Oe,Be){if(1&Oe){var re=v.\u0275\u0275getCurrentView();v.\u0275\u0275elementStart(0,"div")(1,"div"),v.\u0275\u0275text(2),v.\u0275\u0275pipe(3,"localize"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(4,"a",6),v.\u0275\u0275listener("click",function(){v.\u0275\u0275restoreView(re);var Se=v.\u0275\u0275nextContext();return v.\u0275\u0275resetView(Se.onClick())}),v.\u0275\u0275text(5),v.\u0275\u0275pipe(6,"localize"),v.\u0275\u0275elementEnd()()}if(2&Oe){var fe=v.\u0275\u0275nextContext();v.\u0275\u0275advance(2),v.\u0275\u0275textInterpolate1(" ",v.\u0275\u0275pipeBind1(3,2,fe.datamartType===fe.DatamartSqlType?"Datamart_Suspended_Message_Bar":"Warehouse_Suspended_Message_Bar")," "),v.\u0275\u0275advance(3),v.\u0275\u0275textInterpolate1(" ",v.\u0275\u0275pipeBind1(6,4,"TryAgain")," ")}}function j(Oe,Be){if(1&Oe&&(v.\u0275\u0275elementStart(0,"div"),v.\u0275\u0275text(1),v.\u0275\u0275pipe(2,"localizeFormat"),v.\u0275\u0275elementEnd()),2&Oe){var re=v.\u0275\u0275nextContext();v.\u0275\u0275advance(1),v.\u0275\u0275textInterpolate1(" ",v.\u0275\u0275pipeBind2(2,1,"Datamart_Unavailable_Message_Out_Of_Region",re.datamartTypeLowercaseName)," ")}}function F(Oe,Be){if(1&Oe&&(v.\u0275\u0275elementStart(0,"div"),v.\u0275\u0275text(1),v.\u0275\u0275pipe(2,"localizeFormat"),v.\u0275\u0275elementEnd()),2&Oe){var re=v.\u0275\u0275nextContext();v.\u0275\u0275advance(1),v.\u0275\u0275textInterpolate1(" ",v.\u0275\u0275pipeBind2(2,1,"Datamart_Unavailable_Message_Upgrade",re.datamartTypeLowercaseName)," ")}}function W(Oe,Be){if(1&Oe&&(v.\u0275\u0275elementStart(0,"div"),v.\u0275\u0275text(1),v.\u0275\u0275pipe(2,"localizeFormat"),v.\u0275\u0275elementEnd()),2&Oe){var re=v.\u0275\u0275nextContext();v.\u0275\u0275advance(1),v.\u0275\u0275textInterpolate1(" ",v.\u0275\u0275pipeBind2(2,1,"Datamart_Unavailable_Message_No_Action",re.datamartTypeLowercaseName)," ")}}var D=function(){function Oe(Be,re,fe,me,Se,Ke){this.args=Be,this.store=re,this.pbiOverlay=fe,this.telemetryService=me,this.localizationService=Se,this.notificationToastService=Ke,this.DatamartSqlType=1,this.datamartType=this.args.datamartType,this.datamartTypeTitlecaseName=this.localizationService.get((0,f.q4)(this.args.datamartType)),this.datamartTypeLowercaseName=this.localizationService.get((0,f.kK)(this.args.datamartType))}return Oe.prototype.ngOnInit=function(){C.fF.assertValue(this.args,"args must be provided"),this.status=this.args.status},Oe.prototype.onClick=function(){var Be=this;this.pbiOverlay.closeAll(),this.store.dispatch(d.CZ({datamartObjectId:this.args.datamartObjectId})),this.telemetryService.logEvent(h.nh,{datamartObjectId:this.args.datamartObjectId}),C.fF.assert(function(){return 2===Be.status},"Cannot retry for datamartType: ".concat(this.args.datamartType," that is not in SuspendedInCriticalPhase status")),this.notificationToastService.notify({title:this.localizationService.format("Datamart_Unavailable_Connecting_Title",this.datamartTypeLowercaseName),message:this.localizationService.format("Datamart_Unavailable_Use_Other_Features",this.datamartTypeLowercaseName),notificationType:3})},Oe.\u0275fac=function(re){return new(re||Oe)(v.\u0275\u0275directiveInject(I.M),v.\u0275\u0275directiveInject(M.yh),v.\u0275\u0275directiveInject(b._),v.\u0275\u0275directiveInject(y.y0),v.\u0275\u0275directiveInject(O.o),v.\u0275\u0275directiveInject(c.Q))},Oe.\u0275cmp=v.\u0275\u0275defineComponent({type:Oe,selectors:[["unavailable-callout"]],decls:11,vars:8,consts:[[1,"unavailable-callout"],[1,"header-row"],[1,"content"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"linkText",3,"click"]],template:function(re,fe){1&re&&(v.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h3"),v.\u0275\u0275text(3),v.\u0275\u0275pipe(4,"localizeFormat"),v.\u0275\u0275elementEnd()(),v.\u0275\u0275elementStart(5,"div",2),v.\u0275\u0275elementContainerStart(6,3),v.\u0275\u0275template(7,B,7,6,"div",4),v.\u0275\u0275template(8,j,3,4,"div",4),v.\u0275\u0275template(9,F,3,4,"div",4),v.\u0275\u0275template(10,W,3,4,"div",5),v.\u0275\u0275elementContainerEnd(),v.\u0275\u0275elementEnd()()),2&re&&(v.\u0275\u0275advance(3),v.\u0275\u0275textInterpolate(v.\u0275\u0275pipeBind2(4,5,"Datamart_Unavailable_Label",fe.datamartTypeTitlecaseName)),v.\u0275\u0275advance(3),v.\u0275\u0275property("ngSwitch",fe.status),v.\u0275\u0275advance(1),v.\u0275\u0275property("ngSwitchCase",2),v.\u0275\u0275advance(1),v.\u0275\u0275property("ngSwitchCase",5),v.\u0275\u0275advance(1),v.\u0275\u0275property("ngSwitchCase",6))},dependencies:[T.NgSwitch,T.NgSwitchCase,T.NgSwitchDefault,k.F,e.j],styles:['[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;overflow:auto;border-radius:2px;box-shadow:0 0 2px var(--colorNeutralShadowAmbient),0 8px 16px var(--colorNeutralShadowKey);animation:fade-in .15s ease;font-size:var(--sm-font-size, 12px);word-break:break-word;background-color:var(--fluent-theme-neutral-secondary-color, #605E5C);max-width:290px}.pbi-overlay-caret-large.pbi-overlay-caret[_nghost-%COMP%]:after{background:var(--fluent-theme-white-color, #FFF);border-color:var(--fluent-theme-white-color, #FFF)}.unavailable-callout[_ngcontent-%COMP%]{z-index:1;padding:20px 24px;width:364px;background-color:var(--fluent-theme-white-color, #FFF);color:var(--gray-180, #252423)}.unavailable-callout[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.unavailable-callout[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--xlg-font-size, 20px);font-weight:var(--font-weight-semi-bold, 600);margin:0}.unavailable-callout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);margin-top:10px;line-height:22px}.unavailable-callout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .linkText[_ngcontent-%COMP%]{margin-top:10px;display:block;color:var(--fluent-theme-link-color, #0078D4);font-size:14px;cursor:pointer}'],changeDetection:0}),Oe}(),P=l(2253),K=l(83359),N=l(5708),g=l(73221),A=l(25512),G=l(14172),z=l(22844),H=l(50057),le=l(73425);function x(Oe,Be){if(1&Oe&&(v.\u0275\u0275elementStart(0,"span"),v.\u0275\u0275pipe(1,"async"),v.\u0275\u0275text(2),v.\u0275\u0275pipe(3,"async"),v.\u0275\u0275elementEnd()),2&Oe){var re=v.\u0275\u0275nextContext();v.\u0275\u0275attribute("title",v.\u0275\u0275pipeBind1(1,2,re.lastRefreshTime$)||"\u2014"),v.\u0275\u0275advance(2),v.\u0275\u0275textInterpolate1(" ",v.\u0275\u0275pipeBind1(3,4,re.lastRefreshTime$)||"\u2014","\n")}}function U(Oe,Be){if(1&Oe&&(v.\u0275\u0275element(0,"spinner",5),v.\u0275\u0275pipe(1,"async")),2&Oe){var re=v.\u0275\u0275nextContext(2);v.\u0275\u0275propertyInterpolate("localizeTooltip",v.\u0275\u0275pipeBind1(1,1,re.spinnerLocalizeToolTip$))}}var V=function(){return{"aria-label":"DatapoolRefreshError_Label"}};function q(Oe,Be){if(1&Oe&&v.\u0275\u0275element(0,"button",6),2&Oe){var re=v.\u0275\u0275nextContext(2);v.\u0275\u0275property("localizeAttr",v.\u0275\u0275pureFunction0(2,V)),v.\u0275\u0275attribute("tabindex",re.tabindex)}}function se(Oe,Be){if(1&Oe&&(v.\u0275\u0275elementContainerStart(0),v.\u0275\u0275template(1,U,2,3,"spinner",3),v.\u0275\u0275pipe(2,"async"),v.\u0275\u0275template(3,q,1,3,"button",4),v.\u0275\u0275pipe(4,"async"),v.\u0275\u0275elementContainerEnd()),2&Oe){var re=v.\u0275\u0275nextContext();v.\u0275\u0275advance(1),v.\u0275\u0275property("ngIf",v.\u0275\u0275pipeBind1(2,2,re.isRefreshInProgress$)),v.\u0275\u0275advance(2),v.\u0275\u0275property("ngIf",v.\u0275\u0275pipeBind1(4,4,re.isRefreshError$))}}function ue(Oe,Be){if(1&Oe){var re=v.\u0275\u0275getCurrentView();v.\u0275\u0275elementStart(0,"button",8),v.\u0275\u0275listener("click",function(){v.\u0275\u0275restoreView(re);var Se=v.\u0275\u0275nextContext(2);return v.\u0275\u0275resetView(Se.onClick())}),v.\u0275\u0275pipe(1,"localizeFormat"),v.\u0275\u0275pipe(2,"localize"),v.\u0275\u0275pipe(3,"async"),v.\u0275\u0275elementEnd()}if(2&Oe){var fe=v.\u0275\u0275nextContext(2);v.\u0275\u0275attribute("tabindex",fe.tabindex)("aria-label",v.\u0275\u0275pipeBind2(1,2,"Datamart_Unavailable_Label",v.\u0275\u0275pipeBind1(2,5,v.\u0275\u0275pipeBind1(3,7,fe.datamartTypeName$))))}}function _e(Oe,Be){if(1&Oe&&(v.\u0275\u0275template(0,ue,4,9,"button",7),v.\u0275\u0275pipe(1,"async")),2&Oe){var re=v.\u0275\u0275nextContext();v.\u0275\u0275property("ngIf",v.\u0275\u0275pipeBind1(1,1,re.isUnavailableError$))}}var ge={year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},We=function(Oe){function Be(re,fe,me){var Se=Oe.call(this)||this;return Se.elementRef=re,Se.pbiOverlay=fe,Se.store=me,Se.tabindex=0,Se}return(0,u.__extends)(Be,Oe),Be.prototype.ngOnInit=function(){var re=this;if(!this.viewModel.fromExternalOrgs){var fe=this.changes$("viewModel");this.datamartTypeName$=this.store.select(P.jf(this.viewModel.objectId)),this.lastRefreshTime$=fe.pipe((0,G.U)(function(me){if(isNaN(Date.parse(me.lastRefreshTimeUTC)))return(0,N.A7)(me.lastRefreshTimeUTC,{format:ge});var Se=new Date(me.lastRefreshTimeUTC);return(0,N.A7)("/Date(".concat(Se.getTime(),")/"),{format:ge})})),this.isRefreshIcon=void 0===this.status,this.isRefreshInProgress$=fe.pipe((0,G.U)(function(me){return 4===me.currentRefreshStatus||15===me.currentRefreshStatus})),this.isRefreshError$=fe.pipe((0,G.U)(function(me){return re.shouldShowRefreshFailureWarningButton(me)})),this.spinnerLocalizeToolTip$=fe.pipe((0,G.U)(function(me){return 15===me.currentRefreshStatus?"NavigationPane_RefreshCanceling":"NavigationPane_RefreshInProgress"})),this.isUnavailableError$=fe.pipe((0,G.U)(function(me){return!(0,K.LP)(me.status)}))}},Be.prototype.onClick=function(){var re=this.pbiOverlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withPositions([(0,A.v3)()]).withPush(!0).withGrowAfterOpen(!0);this.pbiOverlay.open({component:D,data:{status:this.status,datamartObjectId:this.viewModel.objectId,datamartType:this.viewModel.datamartType},options:{backdropClass:b.L,disposeOnNavigation:!0,hasBackdrop:!0,positionStrategy:re},caretSize:2,closeOnBackdropClick:!0,disableCloseOnEsc:!0,focusElementOnClose:null,hasCaret:!0})},Be.prototype.shouldShowRefreshFailureWarningButton=function(re){if(!re.currentRefreshStatus)return!1;switch(re.currentRefreshStatus){case 1:case 4:case 5:case 15:case 16:return!1;default:return!0}},Be.\u0275fac=function(fe){return new(fe||Be)(v.\u0275\u0275directiveInject(v.ElementRef),v.\u0275\u0275directiveInject(b._),v.\u0275\u0275directiveInject(M.yh))},Be.\u0275cmp=v.\u0275\u0275defineComponent({type:Be,selectors:[["datamart-icon-container"]],inputs:{tabindex:"tabindex",viewModel:"viewModel",status:"status",showLastRefreshTime:"showLastRefreshTime"},features:[v.\u0275\u0275InheritDefinitionFeature],decls:4,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["unavailableIcon",""],[3,"localizeTooltip",4,"ngIf"],["class","glyphicon pbi-glyph-warning","localizeTooltip","NavigationPane_DatamartRefreshError",3,"localizeAttr",4,"ngIf"],[3,"localizeTooltip"],["localizeTooltip","NavigationPane_DatamartRefreshError",1,"glyphicon","pbi-glyph-warning",3,"localizeAttr"],["class","glyphicon pbi-glyph-warning",3,"click",4,"ngIf"],[1,"glyphicon","pbi-glyph-warning",3,"click"]],template:function(fe,me){if(1&fe&&(v.\u0275\u0275template(0,x,4,6,"span",0),v.\u0275\u0275template(1,se,5,6,"ng-container",1),v.\u0275\u0275template(2,_e,2,3,"ng-template",null,2,v.\u0275\u0275templateRefExtractor)),2&fe){var Se=v.\u0275\u0275reference(3);v.\u0275\u0275property("ngIf",me.showLastRefreshTime),v.\u0275\u0275advance(1),v.\u0275\u0275property("ngIf",me.isRefreshIcon)("ngIfElse",Se)}},dependencies:[T.NgIf,z.b,H.r,le.O,T.AsyncPipe,k.F,e.j],styles:["[_nghost-%COMP%]{display:inline-flex;padding:0;cursor:pointer}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{vertical-align:middle;display:contents}[_nghost-%COMP%]   button.glyphicon.pbi-glyph-warning[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px);color:var(--fluent-theme-error-dark-alt-color, #D83B01)}"],changeDetection:0}),Be}(g.w)},62116:function(Y,X,l){"use strict";l.d(X,{h:function(){return wt}});var u=l(81337),h=l(64336),d=l(26112),f="ServerError_";function O(ie,L,Q){if(!L)return"";var Z,Ce=ie.get(f+L);return Ce&&(Z=Ce.replace(/\{\s*([^}\s]+)\s*\}/g,function(Te,Ae,Le,ut){return Q[Ae]})),Z}var c=l(6219),T=l(87632),k=l(5708),e=l(62458),B=l(98665),j=l(35510),F=l(30794),W=l(59017),D=l(83317),P=l(14172),K=l(17653),N=l(48787),g=l(50423),A=l(98873),G=1024,z=function(){function ie(L){this.folderService=L}return ie.prototype.getProgressDelayStringForGivenFileSize=function(L){var Q=this.getDurationInSecondsForGivenFileSizeInMB(L);return this.getDelayDurationStringForProgressBarAnimation(Q)},ie.prototype.getEstimatedLoadingTimeForGivenFileSize=function(L){return this.getDurationInSecondsForGivenFileSizeInMB(L)},ie.prototype.getProgressBarDetailsForGivenFileSize=function(L){var Z=this.getEstimatedLoadingTimeForGivenFileSize(L);return{estimatedLoadingTimeInMinutes:Math.floor(Z/60),delayDurationString:this.getDelayDurationStringForProgressBarAnimation(Z)}},ie.prototype.isLargeModelNotInPremium=function(L,Q){if(!this.folderService)return e.fF.log("no folderService in dataset-size service"),L>G;var Z=Q?this.folderService.getFolder(Q):this.folderService.activeFolder;return!(Z&&null!=Z.capacity)&&L>G},ie.prototype.isModelNotInPremiumAndLargeSize=function(L,Q){return!Q&&L>G},ie.prototype.getDurationInSecondsForGivenFileSizeInMB=function(L){return L>0&&L<G?0:30*Math.floor(L/G)},ie.prototype.getDelayDurationStringForProgressBarAnimation=function(L){var Z=L+0;return"".concat(0,"s, ").concat(Z,"s, ").concat(2*Z,"s, ").concat(3*Z,"s")},ie.\u0275fac=function(Q){return new(Q||ie)(g.\u0275\u0275inject(A.s,8))},ie.\u0275prov=g.\u0275\u0275defineInjectable({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie}(),H=l(58630),le=l(76323),x=l(89803),U=function(){function ie(L){this.telemetryService=L,this.requests={}}return ie.prototype.debounce=function(L,Q,Z){var Ce=this;e.fF.assertValue(L,"HttpThrottler.debounce operationName required"),e.fF.assertValue(Q,"HttpThrottler.debounce operationKey required"),e.fF.assertValue(Z,"HttpThrottler.debounce httpFunction required");var Te=L+Q,Ae=this.requests[Te];if(Ae)return Ae.throttleCount++,Ae.promise;var Le=Z();return this.requests[Te]={operationName:L,promise:Le,throttleCount:0},Le.finally(function(){var ut=Ce.requests[Te];e.fF.assertValue(L,"HttpThrottler.debounce invalid state, missing request key on completion"),Ce.requests[Te]=void 0,ut.throttleCount>0&&Ce.telemetryService.logEvent(x.Ce,{operation:ut.operationName,count:ut.throttleCount})}),Le},ie.\u0275fac=function(Q){return new(Q||ie)(g.\u0275\u0275inject(B.y0))},ie.\u0275prov=g.\u0275\u0275defineInjectable({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie}(),V=l(629),q=function(){function ie(L,Q,Z){this.syncService=L,this.httpThrottler=Q,this.httpCoreService=Z}return ie.prototype.getModels=function(L){var Q=this.httpCoreService.powerbiRequestOptions(L,"GetModels");return this.httpCoreService.get("powerbi/metadata/models",Q)},ie.prototype.getModel=function(L,Q,Z,Ce){var Te=this,Le=this.httpCoreService.powerbiRequestOptions(Z,"GetModel"),ut=function(){return Te.httpCoreService.get(Q?"powerbi/metadata/models/"+L+"/?modelOptions=Default&packageId="+Q:"powerbi/metadata/models/"+L+"/?modelOptions=Default",Le)};return Ce?this.httpThrottler.debounce("GetModel","p:".concat(Q,",m:").concat(L),ut):ut()},ie.prototype.getModelForRefresh=function(L,Q,Z){var Ce=this.httpCoreService.powerbiRequestOptions(Z,"GetModelForRefresh");return this.httpCoreService.get(Q?"powerbi/metadata/models/"+L+"/?modelOption=Refresh&packageId="+Q:"powerbi/metadata/models/"+L+"/?modelOption=Refresh",Ce)},ie.prototype.getModelAndPackageForRefresh=function(L,Q,Z){var Ce=this.httpCoreService.powerbiRequestOptions(Z,"GetModelAndPackageForRefresh");return this.syncService.addDashboardMetadataEditRequestId(Ce.headers[H.t7]),this.httpCoreService.get("powerbi/metadata/models/"+L+"/?modelOption=PackageModelRefresh&packageId="+Q,Ce)},ie.prototype.renameModel=function(L,Q,Z){var Ce=this.httpCoreService.powerbiRequestOptions(Z,"RenameModel");return this.syncService.addDashboardMetadataEditRequestId(Ce.headers[H.t7]),this.httpCoreService.post("powerbi/metadata/models/"+L.id+"/name",JSON.stringify(Q),Ce)},ie.prototype.deleteModel=function(L,Q){var Z=this.httpCoreService.powerbiRequestOptions(Q,"DeleteModel");return this.httpCoreService.delete("powerbi/content/models/"+L.id+"/?packageId="+L.packageId,Z)},ie.prototype.getPackageModels=function(L,Q){var Z=this.httpCoreService.powerbiRequestOptions(Q,"GetPackageModels");return this.httpCoreService.get("powerbi/metadata/packages/"+L+"/models",Z)},ie.prototype.getModelRefreshHistories=function(L,Q){var Z=this.httpCoreService.powerbiRequestOptions(Q,"GetModelRefreshHistories");return this.httpCoreService.get("powerbi/metadata/models/"+L+"/refreshhistories",Z)},ie.prototype.getModelDirectLakeAutoSyncStatus=function(L,Q){var Z=this.httpCoreService.powerbiRequestOptions(Q,"GetModelDirectLakeAutoSyncStatus");return this.httpCoreService.get("metadata/models/"+L+"/directLakeSyncStatus",Z)},ie.prototype.getModelRefreshScheduleContacts=function(L,Q){var Z=this.httpCoreService.powerbiRequestOptions(Q,"GetModelRefreshScheduleContacts");return this.httpCoreService.get("powerbi/metadata/models/"+L+"/refreshschedule/contacts",Z)},ie.prototype.getPackageRefreshHistories=function(L,Q){var Z=this.httpCoreService.powerbiRequestOptions(Q,"GetPackageRefreshHistories");return this.httpCoreService.get("powerbi/metadata/packages/"+L+"/refreshhistories",Z)},ie.prototype.updateFeaturedQuestions=function(L,Q,Z){var Ce=this.httpCoreService.powerbiRequestOptions(Z,"UpdateFeaturedQuestions");return this.httpCoreService.put("powerbi/metadata/models/"+L+"/featuredQuestions",JSON.stringify(Q),Ce)},ie.prototype.disableRlsModel=function(L,Q){var Z=this.httpCoreService.powerbiRequestOptions(Q,"DisableRlsModel");return this.httpCoreService.post("metadata/model/"+L+"/rlsdisabled",JSON.stringify(!1),Z)},ie.prototype.updateModelQnaFeatures=function(L,Q,Z){var Ce=this.httpCoreService.powerbiRequestOptions(Z,"UpdateModelQnaFeatures");return this.httpCoreService.post("powerbi/metadata/models/"+L+"/qnafeatures",JSON.stringify(Q),Ce)},ie.prototype.updateModelCaching=function(L,Q,Z){var Ce=this.httpCoreService.powerbiRequestOptions(Z,"UpdateModelCaching");return this.httpCoreService.post("metadata/models/"+L+"/caching",JSON.stringify(Q),Ce)},ie.prototype.getSharedDatasets=function(L){var Q=this.httpCoreService.powerbiRequestOptions(L,"GetSharedDatasets");return this.httpCoreService.get("metadata/gallery/SharedDatasets",Q)},ie.prototype.getReadonlySharedDatasets=function(L){var Z=this.httpCoreService.powerbiRequestOptions(L,"GetReadonlySharedDatasets",{dismissGroupObjectId:!0});return this.httpCoreService.get("metadata/gallery/sharedDatasets/readonly",Z)},ie.prototype.updatePerformanceAccelerator=function(L,Q,Z,Ce,Te){var Ae={paEnabled:Q,paSettings:{queryCoverage:Z.queryCoverage},shouldDeleteGenAggTable:Ce},Le=this.httpCoreService.powerbiRequestOptions(Te,"updatePerformanceAccelerator");return this.httpCoreService.post("powerbi/metadata/models/"+L+"/pasettings",JSON.stringify(Ae),Le)},ie.prototype.getPerformanceAcceleratorSupportability=function(L,Q){var Z=this.httpCoreService.powerbiRequestOptions(Q,"GetPerformanceAccelerator");return this.httpCoreService.get("powerbi/metadata/models/".concat(L,"/pasupportability"),Z)},ie.prototype.getPerformanceAcceleratorMetrics=function(L,Q,Z){var Ce=this.httpCoreService.powerbiRequestOptions(Z,"GetPerformanceAcceleratorMetrics");return this.httpCoreService.get("powerbi/metadata/models/".concat(L,"/paUsageMetrics?queryCoverage=").concat(Q),Ce)},ie.prototype.getAggsSSOInfo=function(L,Q){var Z=this.httpCoreService.powerbiRequestOptions(Q,"getAggsSSOInfo");return this.httpCoreService.get("powerbi/metadata/models/".concat(L,"/aggregationsSSOcheck"),Z)},ie.prototype.updateModelSettings=function(L,Q,Z,Ce){var Te=this.httpCoreService.powerbiRequestOptions(Ce,"updateModelSettings"),Ae="metadata/models/"+L+"/settings";return Z&&(Ae+="?deleteArtifactFolder=true"),this.httpCoreService.post(Ae,JSON.stringify(Q),Te)},ie.prototype.getModelBindingAffnity=function(L,Q){var Z=this.httpCoreService.powerbiRequestOptions(Q,"getModelBindingAffnity");return this.httpCoreService.get("metadata/datasourcebinding/settings/models/".concat(L,"/bindingaffinity"),Z)},ie.prototype.setModelBindingAffnity=function(L,Q,Z){var Ce=this.httpCoreService.powerbiRequestOptions(Z,"setModelBindingAffnity");return this.httpCoreService.put("metadata/datasourcebinding/settings/models/"+L+"/bindingaffinity",JSON.stringify(Q),Ce)},ie.\u0275fac=function(Q){return new(Q||ie)(g.\u0275\u0275inject(le._),g.\u0275\u0275inject(U),g.\u0275\u0275inject(V.M))},ie.\u0275prov=g.\u0275\u0275defineInjectable({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie}(),se=l(50911),ue=l(65692),_e=l(81213),ge=l(65181),We=l(18873),Oe=l(9380),Be=l(77476),re=l(73425),fe=l(1240),me=l(85102);function Se(ie,L){if(1&ie&&(g.\u0275\u0275elementStart(0,"span"),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),2&ie){var Q=g.\u0275\u0275nextContext();g.\u0275\u0275attribute("title",Q.lastRefreshTime||"\u2014"),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",Q.lastRefreshTime||"\u2014","\n")}}function Ke(ie,L){if(1&ie&&g.\u0275\u0275element(0,"spinner",7),2&ie){var Q=g.\u0275\u0275nextContext(2);g.\u0275\u0275property("size",Q.spinnerSize)}}function tt(ie,L){if(1&ie&&g.\u0275\u0275element(0,"i",8),2&ie){var Q=g.\u0275\u0275nextContext(2);g.\u0275\u0275property("pbi-tooltip",Q.publishErrorTooltipConfig)}}function ct(ie,L){if(1&ie){var Q=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"button",9),g.\u0275\u0275listener("click",function(Te){g.\u0275\u0275restoreView(Q);var Ae=g.\u0275\u0275nextContext(2);return Te.stopPropagation(),g.\u0275\u0275resetView(Ae.showRefreshErrorDialog())}),g.\u0275\u0275pipe(1,"localize"),g.\u0275\u0275element(2,"i",10),g.\u0275\u0275elementEnd()}if(2&ie){var Z=g.\u0275\u0275nextContext(2);g.\u0275\u0275property("pbi-tooltip",Z.refreshErrorTooltipConfig),g.\u0275\u0275attribute("tabindex",Z.tabindex)("aria-label",g.\u0275\u0275pipeBind1(1,3,Z.refreshErrorTooltipConfig.tooltipLocalizeDescription))}}function ae(ie,L){if(1&ie){var Q=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"button",9),g.\u0275\u0275listener("click",function(Te){g.\u0275\u0275restoreView(Q);var Ae=g.\u0275\u0275nextContext(2);return Te.stopPropagation(),g.\u0275\u0275resetView(Ae.showUnboundDatasourceDialog())}),g.\u0275\u0275pipe(1,"localize"),g.\u0275\u0275element(2,"i",10),g.\u0275\u0275elementEnd()}if(2&ie){var Z=g.\u0275\u0275nextContext(2);g.\u0275\u0275property("pbi-tooltip",Z.unboundDatasourceTooltipConfig),g.\u0275\u0275attribute("tabindex",Z.tabindex)("aria-label",g.\u0275\u0275pipeBind1(1,3,Z.unboundDatasourceTooltipConfig.tooltipLocalizeDescription))}}function Me(ie,L){if(1&ie){var Q=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"button",9),g.\u0275\u0275listener("click",function(Te){g.\u0275\u0275restoreView(Q);var Ae=g.\u0275\u0275nextContext(2);return Te.stopPropagation(),g.\u0275\u0275resetView(Ae.showQsoPendingUpdatesDialog())}),g.\u0275\u0275pipe(1,"localize"),g.\u0275\u0275element(2,"i",10),g.\u0275\u0275elementEnd()}if(2&ie){var Z=g.\u0275\u0275nextContext(2);g.\u0275\u0275property("pbi-tooltip",Z.refreshErrorTooltipConfig),g.\u0275\u0275attribute("tabindex",Z.tabindex)("aria-label",g.\u0275\u0275pipeBind1(1,3,Z.refreshErrorTooltipConfig.tooltipLocalizeDescription))}}function ke(ie,L){if(1&ie){var Q=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"button",9),g.\u0275\u0275listener("click",function(Te){g.\u0275\u0275restoreView(Q);var Ae=g.\u0275\u0275nextContext(2);return Te.stopPropagation(),g.\u0275\u0275resetView(Ae.showLargeModelNotInPremiumErrorDialog())}),g.\u0275\u0275pipe(1,"localize"),g.\u0275\u0275element(2,"i",10),g.\u0275\u0275elementEnd()}if(2&ie){var Z=g.\u0275\u0275nextContext(2);g.\u0275\u0275property("pbi-tooltip",Z.refreshErrorTooltipConfig),g.\u0275\u0275attribute("aria-label",g.\u0275\u0275pipeBind1(1,2,Z.refreshErrorTooltipConfig.tooltipLocalizeDescription))}}function de(ie,L){if(1&ie){var Q=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"button",9),g.\u0275\u0275listener("click",function(Te){g.\u0275\u0275restoreView(Q);var Ae=g.\u0275\u0275nextContext(2);return Te.stopPropagation(),g.\u0275\u0275resetView(Ae.showMissingCapabilitiesDialog())}),g.\u0275\u0275pipe(1,"localize"),g.\u0275\u0275element(2,"i",10),g.\u0275\u0275elementEnd()}if(2&ie){var Z=g.\u0275\u0275nextContext(2);g.\u0275\u0275property("pbi-tooltip",Z.refreshErrorTooltipConfig),g.\u0275\u0275attribute("aria-label",g.\u0275\u0275pipeBind1(1,2,Z.refreshErrorTooltipConfig.tooltipLocalizeDescription))}}function Re(ie,L){if(1&ie&&(g.\u0275\u0275elementStart(0,"span",3),g.\u0275\u0275template(1,Ke,1,1,"spinner",4),g.\u0275\u0275pipe(2,"async"),g.\u0275\u0275template(3,tt,1,1,"i",5),g.\u0275\u0275pipe(4,"async"),g.\u0275\u0275template(5,ct,3,5,"button",6),g.\u0275\u0275pipe(6,"async"),g.\u0275\u0275template(7,ae,3,5,"button",6),g.\u0275\u0275pipe(8,"async"),g.\u0275\u0275template(9,Me,3,5,"button",6),g.\u0275\u0275pipe(10,"async"),g.\u0275\u0275template(11,ke,3,4,"button",6),g.\u0275\u0275template(12,de,3,4,"button",6),g.\u0275\u0275pipe(13,"async"),g.\u0275\u0275elementEnd()),2&ie){var Q=g.\u0275\u0275nextContext();g.\u0275\u0275attribute("tabindex",Q.tabindex),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(2,8,Q.isRefreshInProgress$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(4,10,Q.isPublishError$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(6,12,Q.isRefreshError$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(8,14,Q.isUnboundDatasource$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(10,16,Q.hasQsoPendingUpdates$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",Q.isLargeModelNotInPremium()),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(13,18,Q.hasSemanticModelMissingCapabilities$))}}function pe(ie,L){if(1&ie&&(g.\u0275\u0275elementStart(0,"span",13),g.\u0275\u0275pipe(1,"localize"),g.\u0275\u0275element(2,"i",10),g.\u0275\u0275elementEnd()),2&ie){var Q=g.\u0275\u0275nextContext(2);g.\u0275\u0275property("pbi-tooltip",Q.refreshDisabledDueToConsecutiveErrorsTooltipConfig),g.\u0275\u0275attribute("aria-label",g.\u0275\u0275pipeBind1(1,2,Q.refreshDisabledDueToConsecutiveErrorsTooltipConfig.tooltipLocalizeDescription))}}function Ee(ie,L){if(1&ie&&(g.\u0275\u0275elementStart(0,"span",13),g.\u0275\u0275pipe(1,"localize"),g.\u0275\u0275element(2,"i",10),g.\u0275\u0275elementEnd()),2&ie){var Q=g.\u0275\u0275nextContext(2);g.\u0275\u0275property("pbi-tooltip",Q.refreshDisabledDueToModelSizeExceedRefreshLimitTooltipConfig),g.\u0275\u0275attribute("aria-label",g.\u0275\u0275pipeBind1(1,2,Q.refreshDisabledDueToModelSizeExceedRefreshLimitTooltipConfig.tooltipLocalizeDescription))}}function Qe(ie,L){if(1&ie&&(g.\u0275\u0275elementStart(0,"span",11),g.\u0275\u0275template(1,pe,3,4,"span",12),g.\u0275\u0275pipe(2,"async"),g.\u0275\u0275template(3,Ee,3,4,"span",12),g.\u0275\u0275pipe(4,"async"),g.\u0275\u0275elementEnd()),2&ie){var Q=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(2,2,Q.isRefreshDisabledDueToConsecutiveErrors$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(4,4,Q.isRefreshDisabledDueToModelSizeExceedRefreshLimit$))}}var at={year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},wt=function(){function ie(L,Q,Z,Ce,Te,Ae,Le,ut,ne,Tt){this.datasetSizeService=L,this.datasetStore=Q,this.errorService=Z,this.folderService=Ce,this.localizationService=Te,this.modelHttpService=Ae,this.navigation=Le,this.packageStore=ut,this.telemetryService=ne,this.featureSwitchService=Tt,this.tabindex=0,this.spinnerSize="xsmall",this.refreshInprogressTooltipConfig={tooltipLocalizeDescription:"NavigationPane_RefreshInProgress",tooltipArrowPosition:T.xI.arrowBottomLeft},this.publishErrorTooltipConfig={tooltipLocalizeDescription:"NavigationPane_RefreshPublishError",tooltipArrowPosition:T.xI.arrowBottomLeft},this.refreshErrorTooltipConfig={tooltipLocalizeDescription:"NavigationPane_RefreshError",tooltipArrowPosition:T.xI.arrowBottomLeft},this.unboundDatasourceTooltipConfig={tooltipLocalizeDescription:"NavigationPane_UnboundDatasource",tooltipArrowPosition:T.xI.arrowBottomLeft},this.refreshDisabledDueToConsecutiveErrorsTooltipConfig={tooltipLocalizeDescription:"Notification_ModelRefreshDisabledDueToConsecutiveErrors",tooltipArrowPosition:T.xI.arrowBottomLeft},this.refreshDisabledDueToModelSizeExceedRefreshLimitTooltipConfig={tooltipLocalizeDescription:"Notification_ModelRefreshDisabledDueToModelSizeExceedRefreshLimit",tooltipArrowPosition:T.xI.arrowBottomLeft},this.packageId$=new j.X(null),this.destroy$=new F.xQ}return ie.prototype.ngOnInit=function(){return(0,u.__awaiter)(this,void 0,void 0,function(){var L=this;return(0,u.__generator)(this,function(Q){return this.dataset$=(0,W.aj)(this.datasetStore.datasets,this.packageId$).pipe((0,D.R)(this.destroy$),(0,P.U)(function(Z){var Te=Z[1];return _.find(_.map(Z[0],function(Ae){return Ae.dataset}),function(Ae){return Ae.packageId===Te})}),(0,K.b)(function(Z){L.lastRefreshTime=(0,k.A7)(Z?Z.lastRefreshTime:L.viewModel.lastRefreshTime,{format:at})})),this.isRefreshInProgress$=this.dataset$.pipe((0,D.R)(this.destroy$),(0,P.U)(function(Z){return 3===Z?.lastRefreshStatus})),this.isPublishError$=this.dataset$.pipe((0,D.R)(this.destroy$),(0,P.U)(function(Z){return 2===Z?.packagePublishStatus})),this.isRefreshError$=this.dataset$.pipe((0,D.R)(this.destroy$),(0,P.U)(function(Z){return 4===Z?.lastRefreshStatus||4===Z?.packagePublishStatus})),this.isUnboundDatasource$=this.dataset$.pipe((0,D.R)(this.destroy$),(0,P.U)(function(Z){return 1===Z?.datasourceUnbindReason})),this.isRefreshDisabledDueToConsecutiveErrors$=this.dataset$.pipe((0,D.R)(this.destroy$),(0,P.U)(function(Z){var Ce;return 2===(null===(Ce=Z?.refreshSchedule)||void 0===Ce?void 0:Ce.refreshDisabledReason)})),this.isRefreshDisabledDueToModelSizeExceedRefreshLimit$=this.dataset$.pipe((0,D.R)(this.destroy$),(0,P.U)(function(Z){var Ce;return 3===(null===(Ce=Z?.refreshSchedule)||void 0===Ce?void 0:Ce.refreshDisabledReason)})),this.hasQsoPendingUpdates$=this.dataset$.pipe((0,D.R)(this.destroy$),(0,P.U)(function(Z){return L.featureSwitchService.featureSwitches.ASQsoUISupport&&L.featureSwitchService.featureSwitches.queryScaleOutTenantEnabled&&2===Z?.storageMode&&!0===Z?.isQsoSupported&&!0===Z?.isQsoManualSyncWithPendingUpdates})),this.hasSemanticModelMissingCapabilities$=this.dataset$.pipe((0,D.R)(this.destroy$),(0,P.U)(function(Z){return!!Z?.contentProviderId&&7!==Z?.contentProviderId&&26!==Z?.contentProviderId})),[2]})})},ie.prototype.ngOnChanges=function(){this.packageId$.next(this.viewModel.packageId)},ie.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},ie.prototype.isLargeModelNotInPremium=function(){var L,Q=!(null===(L=this.viewModel)||void 0===L||!L.capacityObjectId);return Q?this.datasetSizeService.isModelNotInPremiumAndLargeSize(this.viewModel.sizeInMBs,Q):this.datasetSizeService.isLargeModelNotInPremium(this.viewModel.sizeInMBs,this.folderObjectId||this.folderService.activeFolderObjectId)},ie.prototype.showRefreshErrorDialog=function(){return(0,u.__awaiter)(this,void 0,void 0,function(){var L,Q,Te;return(0,u.__generator)(this,function(Le){switch(Le.label){case 0:return[4,this.dataset$.pipe((0,N.q)(1)).toPromise()];case 1:if(L=Le.sent(),e.fF.assert(function(){return!!L},"should have valid dataset"),Q=this.telemetryService.startEvent(h.Cr),4!==L.lastRefreshStatus||4!==L.packagePublishStatus)return[3,8];Le.label=2;case 2:return Le.trys.push([2,5,,7]),[4,this.modelHttpService.getModelRefreshHistories(this.viewModel.id.toString(),Q.event)];case 3:return Te=Le.sent(),[4,this.processModelAndPackageRefreshHistories(Q,Te)];case 4:return Le.sent(),[3,7];case 5:return Le.sent(),[4,this.processModelAndPackageRefreshHistories(Q)];case 6:return Le.sent(),[3,7];case 7:return[3,19];case 8:if(4!==L.lastRefreshStatus)return[3,14];Le.label=9;case 9:return Le.trys.push([9,12,,13]),[4,this.modelHttpService.getModelRefreshHistories(this.viewModel.id.toString(),Q.event)];case 10:return Te=Le.sent(),[4,this.displaySuccessHistoryResult(_.filter(Te.data,function(ut){return 10!==ut.refreshType}))];case 11:return Le.sent(),Q.resolve(),[3,13];case 12:return Le.sent(),this.displayErrorHistoryResult(),Q.reject(),[3,13];case 13:return[3,19];case 14:if(4!==L.packagePublishStatus)return[3,19];Le.label=15;case 15:return Le.trys.push([15,18,,19]),[4,this.modelHttpService.getPackageRefreshHistories(this.viewModel.packageId.toString(),Q.event)];case 16:return Te=Le.sent(),[4,this.displaySuccessHistoryResult(Te.data)];case 17:return Le.sent(),Q.resolve(),[3,19];case 18:return Le.sent(),this.displayErrorHistoryResult(),Q.reject(),[3,19];case 19:return[2]}})})},ie.prototype.showUnboundDatasourceDialog=function(){return(0,u.__awaiter)(this,void 0,void 0,function(){var L,Q,Z,Ce,Te,Le,ut,ne,Tt,te,he=this;return(0,u.__generator)(this,function(ce){switch(ce.label){case 0:return[4,this.dataset$.pipe((0,N.q)(1)).toPromise()];case 1:return L=ce.sent(),e.fF.assert(function(){return!!L},"should have valid dataset"),Q=L?.packageId,Z=this.packageStore.findById(Q),Ce=this.errorService.control(),Te=[new c.l(this.localizationService.get("OpenDatasetSettings"),function(Ie,Je){return(0,u.__awaiter)(he,void 0,void 0,function(){return(0,u.__generator)(this,function(mt){switch(mt.label){case 0:return Ce.hideDialog(),[4,this.navigation.navigateToDatasetSettings("datasets",L.dbName)];case 1:return mt.sent(),[2]}})})})],Le=this.localizationService.get("Generic_LearnMore"),ut=this.localizationService.get("UnboundDatasource_TitleText"),ne=this.localizationService.format("UnboundDatasource_Message",[Z?.name])+" ",Tt=$("<a></a>").text(Le).attr({href:"https://go.microsoft.com/fwlink/?linkid=2226207",target:"_blank"}),te=$("<div></div>").html(ne).append(Tt),Ce.showCustomDialog(ut,$(te),Te,function(Ie){Ie.parent().find('input[value="'+he.localizationService.get("OpenDatasetSettings")+'"]').focus()},!0),[2]}})})},ie.prototype.showQsoPendingUpdatesDialog=function(){return(0,u.__awaiter)(this,void 0,void 0,function(){var L,Q,Ce,Te,Ae,Le,ut,ne=this;return(0,u.__generator)(this,function(Tt){return L=this.errorService.control(),Q=[new c.l(this.localizationService.get("PBI_Button_Label_Close"),function(te,he){L.hideDialog()})],Ce=this.localizationService.get("Generic_LearnMore"),Te=this.localizationService.get("QsoPendingUpdates_TitleText"),Ae=this.localizationService.get("QsoPendingUpdates_Message")+" ",Le=$("<a></a>").text(Ce).attr({href:"https://go.microsoft.com/fwlink/?linkid=2238711",target:"_blank"}),ut=$("<div></div>").html(Ae).append(Le),L.showCustomDialog(Te,$(ut),Q,function(te){te.parent().find('input[value="'+ne.localizationService.get("PBI_Button_Label_Close")+'"]').focus()},!0),[2]})})},ie.prototype.showMissingCapabilitiesDialog=function(){return(0,u.__awaiter)(this,void 0,void 0,function(){var L,Q,Ce,Te,Ae,Le,ut,ne=this;return(0,u.__generator)(this,function(Tt){return L=this.errorService.control(),Q=[new c.l(this.localizationService.get("PBI_Button_Label_Close"),function(te,he){L.hideDialog()})],Ce=this.localizationService.get("Generic_LearnMore"),Te=this.localizationService.get("SemanticModelMissingCapabilities_TitleText"),Ae=this.localizationService.get("SettingsDataset_MissingCapabilities_Warning")+" ",Le=$("<a></a>").text(Ce).attr({href:"https://go.microsoft.com/fwlink/?linkid=2250339",target:"_blank"}),ut=$("<div></div>").html(Ae).append(Le),L.showCustomDialog(Te,$(ut),Q,function(te){te.parent().find('input[value="'+ne.localizationService.get("PBI_Button_Label_Close")+'"]').focus()},!0),[2]})})},ie.prototype.processModelAndPackageRefreshHistories=function(L,Q){return(0,u.__awaiter)(this,void 0,void 0,function(){var Z,Ce,Te,Ae,Le,ut;return(0,u.__generator)(this,function(Tt){switch(Tt.label){case 0:Z=[],Tt.label=1;case 1:return Tt.trys.push([1,7,,11]),[4,this.modelHttpService.getPackageRefreshHistories(this.viewModel.packageId.toString(),L.event)];case 2:return Ce=Tt.sent(),Te=void 0,Q&&!_.isEmpty(Q.data)&&(Z=_.filter(Q.data,function(te){return 10!==te.refreshType})),Ae=Z[0],_.isEmpty(Z)||Ae.isSuccessful?Te=!1:_.isEmpty(Ce.data)||Ce.data[0].isSuccessful?Te=!0:(Le=(0,k.ee)(Q.data[0].endTime).getTime(),ut=(0,k.ee)(Ce.data[0].endTime).getTime(),Te=Le>ut),Te?[4,this.displaySuccessHistoryResult(Z)]:[3,4];case 3:return Tt.sent(),L.resolve(),[3,6];case 4:return[4,this.displaySuccessHistoryResult(Ce.data)];case 5:Tt.sent(),L.resolve(),Tt.label=6;case 6:return[3,11];case 7:return Tt.sent(),_.isEmpty(Z)?[3,9]:[4,this.displaySuccessHistoryResult(Z)];case 8:return Tt.sent(),L.resolve(),[3,10];case 9:this.displayErrorHistoryResult(),L.reject(),Tt.label=10;case 10:return[3,11];case 11:return[2]}})})},ie.prototype.displaySuccessHistoryResult=function(L){return(0,u.__awaiter)(this,void 0,void 0,function(){var Q,Z,Ce;return(0,u.__generator)(this,function(Te){switch(Te.label){case 0:return _.isEmpty(L)?(e.fF.assertFail("The refresh histories is empty or null"),[3,3]):[3,1];case 1:return Z=function(ie,L){if(!_.isEmpty(ie)){var Q=(0,d.K)(ie);if(Q){var Z=null;Q.error["pbi.error"]&&(Z=Q.error["pbi.error"].parameters);var Ce={};if(Z)if(_.isArray(Z))for(var Te=0,Ae=Z;Te<Ae.length;Te++){var Le=Ae[Te];Ce[Le.Key]=Le.Value}else Ce=Z;return O(L,Q.error.code,Ce)}}}(Q=L[0].serviceExceptionJson,this.localizationService),[4,this.parseAdditionalErrorInfo(Q)];case 2:Ce=Te.sent(),Q.match(/RefreshBlockedDueToRestrictedPolicy/)?this.errorService.error(Z,"RefreshBlocked",{displayableErrorInfo:Ce,helpLink:"https://go.microsoft.com/fwlink/?linkid=2247625",title:this.localizationService.get("Refresh_Blocked"),getHelpTextOverride:"TenantSetting_AdminApisIncludeDetailedMetadata_DescriptionLink",customErrorDialogHelperText:this.localizationService.get("ErrorDialogHelperText_TechnicalDetails")}):this.errorService.errorNoDefaultAdditionalErrorInfo(Z,"RefreshFailure",{displayableErrorInfo:Ce}),Te.label=3;case 3:return[2]}})})},ie.prototype.displayErrorHistoryResult=function(){this.errorService.error(this.localizationService.get("RefreshError_Unknown"),"RefreshFailure_FailedToGetHistories")},ie.prototype.parseAdditionalErrorInfo=function(L){return(0,u.__awaiter)(this,void 0,void 0,function(){var Q,Z;return(0,u.__generator)(this,function(Ce){return Q=function(ie,L){if(!_.isEmpty(ie)){var Q=(0,d.K)(ie);if(!Q)return[];var Z=[],Ce=function(ie,L){if(ie&&ie["pbi.error"]){var Q=ie["pbi.error"];if(Q)return function(ie,L,Q,Z){try{return function(ie,L,Q,Z){var Ce,Te={};if(Q)if(_.isArray(Q))for(var Ae=0,Le=Q;Ae<Le.length;Ae++){var ut=Le[Ae];Te[ut.Key]=ut.Value}else Te=Q;return Ce={message:O(ie,L,Te),displayableErrorInfo:[]},Z&&function(ie,L,Q){if(!L)return ie;for(var Z=0,Ce=L;Z<Ce.length;Z++){var Te=Ce[Z],Ae=Q.getOptional(f+Te.code),Le=Te.detail.value;0===Te.detail.type&&(Le=Q.get(f+Le)),ie.displayableErrorInfo.push({errorInfoKey:Ae||Te.code,errorInfoValue:Le})}}(Ce,Z,ie),Ce}(Z,ie,L,Q)}catch{return}}(Q.code,Q.parameters,Q.details,L)}}(Q.error,L);if(!Ce)return[];for(var Te=0,Ae=Ce.displayableErrorInfo;Te<Ae.length;Te++){var Le=Ae[Te];Z.push({Name:Le.errorInfoKey,Value:Le.errorInfoValue})}return Z}}(L,this.localizationService),Z=[],Q.forEach(function(Te){Z.push({errorInfoKey:Te.Name,errorInfoValue:Te.Value})}),[2,Z]})})},ie.prototype.showLargeModelNotInPremiumErrorDialog=function(){var L=this,Q=this.errorService.control(),Z=[new c.l(this.localizationService.get("PBI_Button_Label_Close"),function(Tt,te){Q.hideDialog()})],Te=this.localizationService.get("Generic_LearnMore"),Ae=this.localizationService.get("PremiumRequired_TitleText"),Le=this.localizationService.get("LargeDataset_DatasetNotInPremium_Message")+" ",ut=$("<a></a>").text(Te).attr({href:"https://go.microsoft.com/fwlink/?linkid=861459",target:"_blank"}),ne=$("<div></div>").html(Le).append(ut);Q.showCustomDialog(Ae,$(ne),Z,function(Tt){Tt.parent().find('input[value="'+L.localizationService.get("PBI_Button_Label_Close")+'"]').focus()},!0)},ie.\u0275fac=function(Q){return new(Q||ie)(g.\u0275\u0275directiveInject(z),g.\u0275\u0275directiveInject(se.s),g.\u0275\u0275directiveInject(_e.T),g.\u0275\u0275directiveInject(A.s),g.\u0275\u0275directiveInject(ge.o),g.\u0275\u0275directiveInject(q),g.\u0275\u0275directiveInject(We.W),g.\u0275\u0275directiveInject(ue.V),g.\u0275\u0275directiveInject(B.y0),g.\u0275\u0275directiveInject(Oe.vZ))},ie.\u0275cmp=g.\u0275\u0275defineComponent({type:ie,selectors:[["dataset-icon-container-modern"]],inputs:{viewModel:"viewModel",folderObjectId:"folderObjectId",showLastRefreshTime:"showLastRefreshTime",isNextRefresh:"isNextRefresh",tabindex:"tabindex"},features:[g.\u0275\u0275NgOnChangesFeature],decls:3,vars:3,consts:[[4,"ngIf"],["class","datasetRefreshIcons",4,"ngIf"],["class","datasetNextRefreshIcons",4,"ngIf"],[1,"datasetRefreshIcons"],[3,"size",4,"ngIf"],["class","warning glyphicon pbi-glyph-warning glyph-small",3,"pbi-tooltip",4,"ngIf"],[3,"pbi-tooltip","click",4,"ngIf"],[3,"size"],[1,"warning","glyphicon","pbi-glyph-warning","glyph-small",3,"pbi-tooltip"],[3,"pbi-tooltip","click"],[1,"warning","glyphicon","pbi-glyph-warning","glyph-small"],[1,"datasetNextRefreshIcons"],[3,"pbi-tooltip",4,"ngIf"],[3,"pbi-tooltip"]],template:function(Q,Z){1&Q&&(g.\u0275\u0275template(0,Se,2,2,"span",0),g.\u0275\u0275template(1,Re,14,20,"span",1),g.\u0275\u0275template(2,Qe,5,6,"span",2)),2&Q&&(g.\u0275\u0275property("ngIf",Z.showLastRefreshTime),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",!Z.isNextRefresh),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",Z.isNextRefresh))},dependencies:[Be.NgIf,re.O,fe.i,Be.AsyncPipe,me.F],styles:["i[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;font-size:14px;margin-top:3px;color:var(--neutral-secondary-color, #666666)}.datasetRefreshIcons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:0;padding:0}.datasetRefreshIcons[_ngcontent-%COMP%]   .refreshIcon[_ngcontent-%COMP%]{width:16px;height:16px;padding-top:2px;box-sizing:border-box}.warning[_ngcontent-%COMP%]{color:var(--fluent-theme-error-dark-alt-color, #D83B01)}"],changeDetection:0}),ie}()},89233:function(Y,X,l){"use strict";l.d(X,{a:function(){return O}});var u=l(16452),h=l(41838),d=l(42369),f=l(50423),C=l(65181),y=l(9380),I=l(77476),v=l(74913),M=l(36858);function b(c,T){if(1&c&&f.\u0275\u0275element(0,"tri-svg-icon",1),2&c){var k=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("pbiTooltipPosition",k.tooltipPosition),f.\u0275\u0275property("sprite",k.icon.sprite||"fluentui-icons")("name",k.icon.name)("pbiTooltip",k.label),f.\u0275\u0275attribute("tri-svg-icon-24","24"===k.size?"":null)("aria-label",k.label)}}var O=function(){function c(T,k,e,B){this.localizationService=T,this.extensionManifestService=k,this.changeDetection=e,this.featureSwitchService=B,this.tooltipPosition="before",this.state="rest",this.preset=h.tB.Default,this.size="20",this.label=""}return c.prototype.update=function(T,k,e){var B=this;void 0===k&&(k="rest"),void 0===e&&(e=h.tB.Default);var j=(0,u.xO)(T);e===h.tB.Default&&("24"===this.size?e=h.tB.Size24:"64"===this.size&&(e=h.tB.Size64)),j&&(this.featureSwitchService.featureSwitches.useExtensionsManifestsModule&&this.extensionManifestService?this.extensionManifestService.getArtifactManifest(j).then(function(F){if(!F)return B.icon=void 0,B.label="",void B.changeDetection.detectChanges();B.icon=B.extensionManifestService.getArtifactTypeIcon(F,k,e),B.label=B.extensionManifestService.getArtifactTypeDisplayName(F),B.changeDetection.detectChanges()}):(this.icon=(0,h.zD)(j,k,e),this.label=this.localizationService.get((0,h.Ky)(j))))},c.prototype.ngOnChanges=function(T){(T.artifactType||T.state||T.preset)&&this.update(this.artifactType,this.state,this.preset)},c.\u0275fac=function(k){return new(k||c)(f.\u0275\u0275directiveInject(C.o),f.\u0275\u0275directiveInject(d.vC,8),f.\u0275\u0275directiveInject(f.ChangeDetectorRef),f.\u0275\u0275directiveInject(y.vZ))},c.\u0275cmp=f.\u0275\u0275defineComponent({type:c,selectors:[["tri-artifact-icon"]],inputs:{tooltipPosition:"tooltipPosition",state:"state",preset:"preset",artifactType:"artifactType",size:"size"},features:[f.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[["class","tri-svg-icon","role","img",3,"sprite","name","pbiTooltip","pbiTooltipPosition",4,"ngIf"],["role","img",1,"tri-svg-icon",3,"sprite","name","pbiTooltip","pbiTooltipPosition"]],template:function(k,e){1&k&&f.\u0275\u0275template(0,b,1,6,"tri-svg-icon",0),2&k&&f.\u0275\u0275property("ngIf",e.icon)},dependencies:[I.NgIf,v.M,M.V],styles:[".tri-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground3)}"],changeDetection:0}),c}()},92671:function(Y,X,l){"use strict";l.d(X,{u:function(){return c}});var u=l(77476),h=l(82156),d=l(79061),f=l(42729),C=l(70137),y=l(3741),I=l(66972),v=l(16095),M=l(17177),b=l(50423),O=[{componentIdentifier:"DataflowGen2PublishErrorComponentId",path:"dummy-dataflow-gen2-publish-error-route",loadChildren:function(){return l.e("dataflow-gen2-publish-error").then(l.bind(l,30587)).then(function(k){return k.DataflowGen2PublishErrorModule})}}],c=function(){function T(){}return T.\u0275fac=function(e){return new(e||T)},T.\u0275mod=b.\u0275\u0275defineNgModule({type:T}),T.\u0275inj=b.\u0275\u0275defineInjector({imports:[u.CommonModule,f.c.withLazyManifest(O),h.N,d.v,C.F,y.z,I.N,M.T6,v.Z]}),T}()},64336:function(Y,X,l){"use strict";l.d(X,{Cr:function(){return d},nh:function(){return C}});var u=l(41114),h="PBI.Dashboard.GetRefreshHistoriesOnRefreshFailures",d=u.cx[h]=(0,u.b1)(h),f="PBI.DatamartIcons.Unavailable.TryAgain",C=u.cx[f]=(0,u.b1)(f)},47824:function(Y,X,l){"use strict";l.d(X,{Gg:function(){return e},HG:function(){return b},Zt:function(){return B},a:function(){return c},pA:function(){return j}});var b=function(){return function(D){this.payload=D,this.type="[Package] Delete"}}(),c=function(){return function(D){this.payload=D,this.type="[Package] Add or Update"}}(),e=function(){return function(D){this.payload=D,this.type="[Package] Add Many"}}(),B=function(){return function(D){this.payload=D,this.type="[Package] Upsert Many"}}(),j=function(){return function(D){this.payload=D,this.type="[Package] Publish Success"}}()},19178:function(Y,X,l){"use strict";l.d(X,{Y:function(){return e}});var u=l(81337),h=l(82515),d=l(74076),f=l(40898),C=l(82762),y=l(11547),I=l(59017),v=l(81905),M=l(14172),b=l(48787),O=l(41198),c=l(23558),T=l(50423),k=l(85732),e=function(){function B(j){this.store=j}return Object.defineProperty(B.prototype,"selectedGroup$",{get:function(){return this.store.select(d.S6)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"selectedFolderId$",{get:function(){return this.store.select(d.CW)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"myFolderObjectId$",{get:function(){return this.store.select(d.iF)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"nonMyWorkspaces$",{get:function(){return this.store.select(d.c_)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"myWorkspace$",{get:function(){return this.store.select(d.Au)},enumerable:!1,configurable:!0}),B.prototype.foldersWithEditPermissions=function(j){var F=this;return(0,C.D)(this.ensureWorkspacesLoaded()).pipe((0,v.w)(function(){return(0,I.aj)([F.store.select(f.Ou),j?F.store.select(d.Ze):(0,y.of)(null)])}),(0,M.U)(function(W){var P=W[1],K=_(W[0]).filter(function(N){return!P||!_.isEqual(N,P)}).sortBy(function(N){return N.displayName.toLocaleLowerCase()}).value();return P?(0,u.__spreadArray)([P],K,!0):K}))},B.prototype.add=function(j,F){this.store.dispatch(new h.mm({group:j,isFolder:F}))},Object.defineProperty(B.prototype,"folders",{get:function(){return this.store.select(f.xh).pipe((0,M.U)(function(F){return _.map(Object.keys(F),function(W){return F[W]})}))},enumerable:!1,configurable:!0}),B.prototype.remove=function(j){this.store.dispatch(new h.JW(j))},B.prototype.update=function(j){this.store.dispatch(new h.BN(j))},B.prototype.updateGroup=function(j){this.store.dispatch(new h.bn(j))},B.prototype.updatePartialWorkspaces=function(j){this.store.dispatch(new h.ZG(j))},B.prototype.load=function(j){this.store.dispatch(new h.q5({groupId:j}))},B.prototype.getGroupById=function(j){return this.store.select(d.VL,{id:j})},B.prototype.getAllNonEmptyDomains=function(){return this.store.select(d.vL)},B.prototype.addDomainFilters=function(j){this.store.dispatch(new h.qC({domainObjectIds:j}))},B.prototype.deleteDomainFilters=function(j){this.store.dispatch(new h.tk({domainObjectIds:j}))},B.prototype.getGroupObjectId=function(j){return this.store.select(d.cM).pipe((0,v.w)(function(F){for(var W in F){var D=F[W];if(D.id===j)return(0,y.of)(D?.objectId)}return(0,y.of)(void 0)}),(0,b.q)(1))},B.prototype.loadSuccess=function(j,F,W,D){this.store.dispatch(new h.Xt({id:j,group:F,folderId:W,permissions:D}))},B.prototype.loadSuccessBasedOnWorkspaceContext=function(j,F){var W=this;this.store.select(d.ve).pipe((0,b.q)(1)).subscribe(function(D){W.store.dispatch(new h.Xt(D?{id:j,group:F,folderId:void 0,permissions:void 0,currentWorkspaceType:"folder"}:{id:j,group:F,folderId:void 0,permissions:void 0,currentWorkspaceType:"group"}))})},B.prototype.select=function(j){this.store.dispatch(new h.Ph({id:j}))},B.prototype.switch=function(j,F){this.store.dispatch(new h.q_({groupId:j,groupSwitchOptions:F}))},B.prototype.ensureGroupArtifactsLoaded=function(j,F){var W=this;return this.store.select(d.s4).pipe((0,O.n)(function(D){return!D}),(0,b.q)(1)).subscribe(function(){W.store.dispatch(new h._S({groupObjectId:j,refreshIfStale:!1,addArtifacts:F}))}),this.store.select(d.VL,{id:j}).pipe((0,c.M)(this.store.select(d.Uy)),(0,O.n)(function(D){var P=D[0];return!P||!(P.loaded&&(!F||!0===D[1]))}),(0,b.q)(1),(0,M.U)(function(){return!0})).toPromise()},B.prototype.ensureGroupArtifactsLoadedOrError=function(j){var F=this;return this.store.select(d.s4).pipe((0,O.n)(function(W){return!W}),(0,b.q)(1)).subscribe(function(){F.store.dispatch(new h._S({groupObjectId:j,refreshIfStale:!1}))}),this.store.select(d.VL,{id:j}).pipe((0,O.n)(function(W){return!W||!W.loaded&&!W.loadedWithError}),(0,b.q)(1),(0,M.U)(function(){return!0})).toPromise()},B.prototype.ensureGroupSelectedAndLoaded=function(j){return this.store.select(d.S6).pipe((0,O.n)(function(F){return!F||!F.loaded||F.objectId!==j}),(0,b.q)(1),(0,M.U)(function(){return!0})).toPromise()},B.prototype.ensureWorkspacesLoaded=function(){var j=this;return this.store.select(d.LD).pipe((0,O.n)(function(F){return!F||F.loading}),(0,b.q)(1)).subscribe(function(F){F.loaded||j.store.dispatch(new h.Us)}),this.store.select(d.LD).pipe((0,O.n)(function(F){return!F||!F.loaded}),(0,b.q)(1),(0,M.U)(function(){return!0})).toPromise()},B.prototype.forceReloadWorkspaces=function(){return this.store.dispatch(new h.Us),this.store.select(d.LD).pipe((0,O.n)(function(j){return!j||!j.loaded}),(0,b.q)(1),(0,M.U)(function(){return!0})).toPromise()},B.prototype.updateMyWorkSpaceCapacity=function(j){this.store.dispatch(new h.Vd(j))},B.prototype.loadFoldersSuccess=function(j){this.store.dispatch(new h.uw(j))},B.prototype.hide=function(j){this.store.dispatch(new h.c({group:j}))},B.prototype.unhide=function(j){this.store.dispatch(new h.yO({group:j}))},B.\u0275fac=function(F){return new(F||B)(T.\u0275\u0275inject(k.yh))},B.\u0275prov=T.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B}()},65692:function(Y,X,l){"use strict";l.d(X,{V:function(){return O}});var u=l(47824),h=l(81871),d=l(43286),f=l(11547),C=l(48787),y=l(59973),I=l(14172),v=l(50423),M=l(9380),b=l(85732),O=function(){function c(T,k){this.featureSwitchService=T,this.store=k,this.package$=this.store.select(h.it)}return Object.defineProperty(c.prototype,"packages",{get:function(){return this.package$},enumerable:!1,configurable:!0}),c.prototype.findById=function(T){var k;return this.store.select(h.zu).pipe((0,C.q)(1)).subscribe(function(e){return k=e[T]}),k},c.prototype.delete=function(T){var k=this.findById(T);k&&this.store.dispatch(new u.HG({pkg:k}))},c.prototype.addOrUpdate=function(T,k,e,B){var j=this.findById(T);return this.store.dispatch(new u.a({id:T,telemetryEvent:k,loadCompletion:e,skipDisplayError:B})),j},c.prototype.addMany=function(T){this.store.dispatch(new u.Gg({packages:T}))},c.prototype.publishSuccess=function(T){this.store.dispatch(new u.pA({pkg:T}))},c.prototype.getPackage=function(T){if(!T.model)return(0,f.of)(void 0);var k=this.findById(T.model.packageId);return k||this.addOrUpdate(T.model.packageId),k?(0,f.of)(k):this.packages.pipe((0,y.h)(function(e){return!!_.find(e,function(B){return B.id===T.model.packageId})}),(0,C.q)(1),(0,I.U)(function(e){return _.find(e,function(B){return B.id===T.model.packageId})}))},c.prototype.isLocalWorkbook=function(T){var k=this.findById(T);return 0===k?.storageProviderType},c.prototype.getWorkbookStorageProvider=function(T){var k=this.findById(T);return k?.storageProviderType},c.prototype.getWorkbookContentProvider=function(T){var k=this.findById(T);return k?.contentProviderId},c.prototype.isRefreshNowEnabledForWorkbook=function(T){var k=this.featureSwitchService.featureSwitches.disallowWorkbookRefresh,e=(0,d.yE)(T.getPermissions(),2),B=this.findById(T.packageId);return!(k||!T||!e||!B)},c.prototype.isRefreshNowEnabledForWorkbookContract=function(T){var k=this.featureSwitchService.featureSwitches.disallowWorkbookRefresh,e=(0,d.yE)(T.permissions,2),B=this.findById(T.packageId);return!(k||!T||!e||!B)},c.\u0275fac=function(k){return new(k||c)(v.\u0275\u0275inject(M.vZ),v.\u0275\u0275inject(b.yh))},c.\u0275prov=v.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"}),c}()},4565:function(Y,X,l){"use strict";l.d(X,{EL:function(){return M},LE:function(){return F},WZ:function(){return W},pM:function(){return D}});var u=l(81337),h=l(4301),d=l(8894),f=l(85732),C=l(93731),y=l(2142),I=l(50600),v=l(7600);function M(x){return x.objectId}var b=(0,d.H)({selectId:function(U){return M(U)},sortComparer:!1}),O=b.getInitialState({selectedDatamartId:null}),k=((0,f.Lq)(O,(0,f.on)(h.bU,function(x,U){var V=U.datamartObjectId,q=U.datamartType,se=U.folderId,ue=U.subfolderId;return x.entities[V]?b.updateOne({id:V,changes:{datamartType:q,state:0,status:1,folderId:se,subfolderId:ue}},x):b.addOne({objectId:V,datamartType:q,state:0,status:1,folderId:se,subfolderId:ue},x)}),(0,f.on)(h.Ou,function(x,U){return(0,u.__assign)((0,u.__assign)({},x),{selectedDatamartId:null})}),(0,f.on)(h.g3,function(x,U){var V=U.datamarts,q=U.artifacts,se=q?.filter(function(We){return"Warehouse"===We.artifactType||"SqlAnalyticsEndpoint"===We.artifactType}),ue=V;if(se&&se.length>0){var _e=_.map(se,function(We){return function(x,U){var V,q,se=U?.find(function(ue){var _e;return null===(_e=ue.artifactRelations)||void 0===_e?void 0:_e.find(function(ge){return ge.dependentArtifactObjectId===x.objectId})});return{objectId:x.objectId,isGenericArtifact:!0,datamartType:H(x,se),datasetId:null===(q=null===(V=x.datasetRelations)||void 0===V?void 0:V[0])||void 0===q?void 0:q.dependentArtifactId,lastModifiedTimeUTC:"",lastRefreshTimeUTC:"",nextRefreshTimeUTC:"",artifactPermissions:x.artifactPermissions,lastRefreshStatus:0,state:x.extendedProperties.state,status:x.extendedProperties.status,id:x.extendedProperties.DatamartsMetadataId,capabilities:x.extendedProperties.Capabilities,displayName:x.displayName,modifiedByUserId:x.modifiedByUserId,modifiedByUser:{id:x.modifiedByUser.id,objectId:x.modifiedByUser.objectId,displayName:x.modifiedByUser.name,userPrincipalName:x.modifiedByUser.userPrincipalName},ownerUserId:x.ownerUserId,ownerUser:{id:x.ownerUser.id,objectId:x.ownerUser.objectId,displayName:x.ownerUser.name,userPrincipalName:x.ownerUser.userPrincipalName},parentArtifact:se}}(We,q)});ue=V.concat(_e)}q?.forEach(function(We){var Oe;null===(Oe=We.datamartRelations)||void 0===Oe||Oe.forEach(function(Be){var re=ue.find(function(fe){return fe.id===Be.dependentArtifactId});re&&(re.parentArtifact=We)})});var ge=_.map(ue,function(We){return(0,u.__assign)((0,u.__assign)({},We),{currentRefreshStatus:We.lastRefreshStatus})});return b.upsertMany(ge||[],x)}),(0,f.on)(h.Ap,function(x,U){var q=_.map(U.datamarts,function(se){return(0,u.__assign)((0,u.__assign)({},se),{currentRefreshStatus:se.lastRefreshStatus})});return b.addMany(q,x)}),(0,f.on)(h.$3,function(x,U){var se=U.artifactInfo.title;return b.updateOne({id:U.datamartObjectId,changes:{displayName:se,name:se}},x)}),(0,f.on)(h.wV,function(x,U){var V=U.name;return b.updateOne({id:U.datamartObjectId,changes:{displayName:V,name:V}},x)}),(0,f.on)(h.hG,function(x,U){return b.updateOne({id:U.datamartObjectId,changes:{description:U.description}},x)}),(0,f.on)(h.lp,function(x,U){var V=U.originalData;return b.updateOne({id:U.datamartObjectId,changes:{displayName:V.name,name:V.name}},x)}),(0,f.on)(h.d7,function(x,U){var V=U.datamartObjectId;return(0,u.__assign)((0,u.__assign)({},x),{selectedDatamartId:V})}),(0,f.on)(h.Iz,function(x,U){return b.updateOne({id:U.datamartObjectId,changes:{currentRefreshStatus:4}},x)}),(0,f.on)(h.uB,function(x,U){return b.updateOne({id:U.datamartObjectId,changes:{currentRefreshStatus:2}},x)}),(0,f.on)(h.rM,function(x,U){return b.updateOne({id:U.datamartObjectId,changes:{currentRefreshStatus:U.currentRefreshStatus}},x)}),(0,f.on)(C.fk,C.d_,function(x,U){var q=_.filter(U.artifacts,function(_e){return _e.artifactType===I.B.Datamart});if(_.isEmpty(q))return x;var se=_.map(q,function(_e){var ge=function(x){var U=x.workspaceObjectId===y.wku;return(0,u.__assign)((0,u.__assign)((0,u.__assign)((0,u.__assign)((0,u.__assign)((0,u.__assign)((0,u.__assign)({id:x.artifactId,workspaceName:x.workspaceName,workspaceType:x.workspaceType,objectId:x.artifactObjectId.toLowerCase(),artifactEndorsement:x.artifactEndorsement,artifactInformationProtection:x.artifactInformationProtection},x.ownerUser&&{ownerUser:x.ownerUser}),x.workspaceId&&{workspaceId:x.workspaceId}),x.snapshotId&&{snapshotId:x.snapshotId}),x.description&&{description:x.description}),x.lastVisitedTimeUTC&&{lastVisitedTimeUTC:x.lastVisitedTimeUTC}),x.lastRefreshTime&&{lastRefreshTime:x.lastRefreshTime}),!U&&x.workspaceObjectId&&{workspaceObjectId:x.workspaceObjectId.toLocaleLowerCase()})}(_e);return{id:ge.objectId,changes:ge}}),ue=b.upsertMany(_.map(q,function(_e){return function(x){return(0,u.__assign)((0,u.__assign)({},x.artifact),{displayName:x.displayName,id:x.artifactId,permissions:x.permissions})}(_e)}),x);return(0,u.__assign)({},b.updateMany(se,ue))}),(0,f.on)(h.vh,function(x,U){return b.updateOne({id:U.datamartObjectId,changes:{status:1}},x)}),(0,f.on)(h.sl,function(x,U){var V=U.datamartInformation;return b.updateOne({id:V.objectId,changes:{ownerUser:V.ownerUser,modifiedByUser:V.modifiedByUser}},x)}),(0,f.on)(h.SX,function(x,U){var q=G(U.datamartInformation);return b.updateOne({id:q.objectId,changes:q},x)}),(0,f.on)(h.pT,function(x,U){var q=G(U.datamartInformation);return b.updateOne({id:q.objectId,changes:q},(0,u.__assign)((0,u.__assign)({},x),{selectedDatamartId:q.objectId}))}),(0,f.on)(h.Mo,function(x,U){var V=U.datamartObjectId,q=U.datamartType,se=U.artifactId;return x.entities[V]?x.entities[V].id?x:b.updateOne({id:V,changes:{id:se}},(0,u.__assign)((0,u.__assign)({},x),{selectedDatamartId:V})):b.addOne({objectId:V,datamartType:q,isNew:!0,id:se},x)}),(0,f.on)(h.gY,function(x,U){var q=U.recents.filter(function(_e){return 8===_e.ty});if(_.isEmpty(q))return x;var se=q.map(function(_e){var ge=g(_e);return{id:ge.objectId,changes:ge}}),ue=b.upsertMany(_.map(q,function(_e){return g(_e)}),x);return(0,u.__assign)({},b.updateMany(se,ue))}),(0,f.on)(h.Sw,function(x,U){var q=g(U.recent);return b.updateOne({id:q.objectId,changes:q},x)}),(0,f.on)(h.c7,function(x,U){var q=U.favorites.filter(function(_e){return _e.favoriteType===v.nW.Datamart});if(_.isEmpty(q))return x;var se=q.map(function(_e){var ge=A(_e);return{id:_e.objectId,changes:ge}}),ue=b.upsertMany(_.map(q,function(_e){return A(_e)}),x);return(0,u.__assign)({},b.updateMany(se,ue))}),(0,f.on)(h.s,function(x,U){return b.updateOne({id:U.objectId,changes:{favoriteId:-1}},x)}),(0,f.on)(h.Nl,function(x,U){return b.updateOne({id:U.objectId,changes:{favoriteId:U.favoriteId,workspaceObjectId:U.workspaceObjectId}},x)}),(0,f.on)(h.XI,function(x,U){return b.updateOne({id:U.objectId,changes:{favoriteId:void 0}},x)}),(0,f.on)(h.BQ,function(x,U){var V=U.datamartObjectId,se={sampleName:le(U.sampleName)};return b.updateOne({id:V,changes:se},x)}),(0,f.on)(h.QC,h.rD,function(x,U){return b.updateOne({id:U.datamartObjectId,changes:{sampleName:""}},x)}),(0,f.on)(h.uh,function(x,U){return b.updateMany(U.movedDatamarts.map(function(q){return{id:q.objectId,changes:{subfolderId:q.subfolderId}}}),x)}),(0,f.on)(h.Ok,function(x,U){return b.updateOne({id:U.datamartObjectId,changes:{autoAddToDefaultDataset:U.autoAddToDefaultDataset}},x)}),(0,f.on)(h.fr,function(x,U){return b.updateOne({id:U.datamartObjectId,changes:{autoAddToDefaultDataset:U.autoAddToDefaultDataset}},x)})),b.getSelectors()),F=k.selectIds,W=k.selectEntities,D=k.selectAll;function g(x){return{displayName:x.dn,objectId:x.oid,lastAccessDate:x.la,count:x.co,workspaceObjectId:x.gid,datamartType:x.datamartType,status:x.artifactStatus,state:x.artifactState,datasetId:x.datasetId}}function A(x){return{displayName:x.displayName,objectId:x.objectId,favoriteId:x.id,workspaceObjectId:x.workspaceId,permissions:x.permissions,datamartType:x.datamartType,status:x.datamartStatus,state:x.datamartState,datasetId:x.datasetId}}function G(x){var U={objectId:x.objectId,name:x.name,displayName:x.name,description:x.description,gatewayObjectId:x.gatewayObjectId,dataflowObjectId:x.dataflowObjectId,datasetObjectId:x.datasetObjectId,datasetId:x.datasetId,status:x.status,currentRefreshStatus:x.lastRefreshStatus,lastRefreshStatus:x.lastRefreshStatus,tdsEndpoint:x.tdsEndpoint,ownerUser:x.ownerUser,datamartType:x.datamartType,lastModifiedTimeUTC:void 0,lastRefreshTimeUTC:x.lastRefreshTimeUTC,ownerUserId:x.ownerUser.id,ownerArtifactObjectId:x.ownerArtifactObjectId,nextRefreshTimeUTC:x.nextRefreshTimeUTC,modifiedByUser:x.modifiedByUser,permissions:x.permissions,artifactPermissions:x.artifactPermissions,subfolderId:x.subfolderId};return void 0!==x.state&&(U.state=x.state),U}function H(x,U){return"Warehouse"===x.artifactType?4:"SqlAnalyticsEndpoint"===x.artifactType?"Lakehouse"===U?.artifactType?2:5:void 0}function le(x){return x&&"nytaxi"===x.toLowerCase()?"nytaxi":""}},2253:function(Y,X,l){"use strict";l.d(X,{WZ:function(){return T},sv:function(){return N},LR:function(){return G},jf:function(){return z},JJ:function(){return B}});var u=l(4565),d=l(85732),f=l(48723),C=l(19533),I=((0,d.P1)(C.C,function(q){return q&&q.params.groupid}),(0,d.P1)(C.C,function(q){return q&&q.params.datamartId})),v=(0,d.P1)(C.C,function(q){var se,ue=q&&(null===(se=q?.url)||void 0===se?void 0:se.match(/warehouses\/([^\/\?]+)/));return ue?ue[1]:null}),M=(0,d.ZF)("datamartMetadataState"),c=((0,d.P1)(M,function(q){return q&&q.selectedDatamartId}),(0,d.P1)(M,u.LE),(0,d.P1)(M,u.pM)),T=(0,d.P1)(M,u.WZ),e=(0,d.P1)(T,I,function(q,se){return se&&q[se]}),B=(0,d.P1)(T,I,v,function(q,se,ue){var _e=se||ue;return _e&&q[_e]}),N=((0,d.P1)(e,function(q){return q&&q.status}),(0,d.P1)(e,function(q){return q&&q.datasetId}),(0,d.P1)(e,function(q){return q&&q.permissions}),(0,d.P1)(T,function(q){return _.map(q,function(se){return se.displayName||se.name})}),function(se){return(0,d.P1)(T,function(ue){return ue[se].displayName||ue[se].name})}),G=function(se){return(0,d.P1)(T,function(ue){return ue&&ue[se].datamartType})},z=function(se){return(0,d.P1)(T,function(ue){var _e;return ue&&null!==(_e=ue[se])&&void 0!==_e&&_e.datamartType?(0,f.kK)(ue[se].datamartType):"ArtifactKind_Datamart"})};(0,d.P1)(e,function(q){return q&&q.datamartType}),(0,d.P1)(T,I,function(q,se){var ue;return null===(ue=q[se])||void 0===ue?void 0:ue.autoAddToDefaultDataset}),(0,d.P1)(c,function(q,se){return se?_.find(q,function(ue){return ue.id===se}):null})},83359:function(Y,X,l){"use strict";function d(y){switch(y){case 0:case 1:case 3:return!0;default:return!1}}function f(y){return 1===y||3===y||4===y||8===y||7===y||9===y}l.d(X,{LP:function(){return d},MD:function(){return f}})},48723:function(Y,X,l){"use strict";l.d(X,{LC:function(){return h},PQ:function(){return v},kK:function(){return f},q4:function(){return C},wZ:function(){return d}});var u=l(62458);function h(b){switch(b){case 4:return"datawarehouses";case 2:return"lakewarehouses";case 5:return"mountedwarehouses";case 1:return"datamarts";default:return u.fF.assertFail("invalid datamartType"),"datamarts"}}function d(b){switch(b){case 4:return"datawarehouses";case 2:return"lhdatamarts";case 5:return"mountedwarehouses";case 1:return"datamarts";default:return u.fF.assertFail("invalid datamartType"),"datamarts"}}function f(b){switch(b){case 4:return"ArtifactKind_Warehouse";case 2:case 5:return"Artifact_SQL_Analytics_Endpoint";case 1:return"ArtifactKind_Datamart";default:return u.fF.assert(function(){return _.isNil(b)},"invalid datamartType"),"ArtifactKind_Datamart"}}function C(b){switch(b){case 4:return"Artifact_Warehouse";case 2:case 5:return"Artifact_SQL_Analytics_Endpoint";case 1:return"Artifact_Datamart";default:return u.fF.assert(function(){return _.isNil(b)},"invalid datamartType"),"Artifact_Datamart"}}function v(b){switch(b){case 4:return"data-warehouse";case 2:return"lake-warehouse";case 1:return"datamart";case 5:return"mounted-warehouse";default:return u.fF.assert(function(){return _.isNil(b)},"invalid datamartType"),"datamart"}}},26244:function(Y,X,l){"use strict";l.d(X,{U:function(){return h}});var h=new(l(50423).InjectionToken)("DlpPolicyTipsSidePanelInjectionToken")},32196:function(Y,X,l){"use strict";l.d(X,{A0:function(){return I},Df:function(){return h},G8:function(){return K},K9:function(){return d},NY:function(){return j},PE:function(){return f},Pl:function(){return O},R8:function(){return A},VN:function(){return M},X9:function(){return F},XN:function(){return y},XX:function(){return k},YL:function(){return e},aV:function(){return B},dc:function(){return b},hg:function(){return D},kw:function(){return W},lx:function(){return u},nl:function(){return G},oZ:function(){return P},rb:function(){return g},vZ:function(){return v},wM:function(){return C},wd:function(){return N}});var u="[Dlp] Get_Artifact_Policy_Tips",h="[Dlp] Get_Artifact_Policy_Tips_Success",d="[Dlp] Get_Artifact_Policy_Tips_Fail",f="[Dlp] Remove_Artifact_Policy_Tip",C="[Dlp] Override_Rule",y="[Dlp] Override_Rule_Success",I="[Dlp] Override_Rule_Fail",v="[Dlp] Report_False_Positive_Rule",M="[Dlp] Report_False_Positive_Rule_Success",b="[Dlp] Report_False_Positive_Rule_Fail",O="[Dlp] Clear_Policy_Tip_Action_Status",k="[Dlp] Set_Loading_Current_Side_Panel_Tips_State",e=function(){return function(H){this.payload=H,this.type=u}}(),B=function(){return function(H){this.payload=H,this.type=h}}(),j=function(){return function(H){this.payload=H,this.type=d}}(),F=function(){return function(H){this.payload=H,this.type=f}}(),W=function(){return function(H){this.payload=H,this.type=C}}(),D=function(){return function(H){this.payload=H,this.type=y}}(),P=function(){return function(H){this.payload=H,this.type=I}}(),K=function(){return function(H){this.payload=H,this.type=v}}(),N=function(){return function(H){this.payload=H,this.type=O}}(),g=function(){return function(H){this.payload=H,this.type=M}}(),A=function(){return function(H){this.payload=H,this.type=b}}(),G=function(){return function(H){this.payload=H,this.type=k}}()},92702:function(Y,X,l){"use strict";l.d(X,{pF:function(){return ct},Cr:function(){return tt},$d:function(){return ue},ll:function(){return U}});var u=l(81337),C=function(ae){return ae[ae.Override=0]="Override",ae[ae.ReportFalsePositiveAndOverride=1]="ReportFalsePositiveAndOverride",ae}({}),b=l(67863),O=l(32196),c=l(8894),T=l(50600);function k(ae,Me){return"".concat(ae,"_").concat(Me)}function e(ae,Me){return"".concat(ae,"_").concat(Me)}function B(ae,Me,ke){return"".concat(ae,"_").concat(Me,"_").concat(ke)}function j(ae,Me,ke){return"".concat(ae,"_").concat(Me,"_").concat(ke)}var W=(0,c.H)({selectId:function(Me){return Me.artifactType===T.B.Artifact?e(Me.artifactObjectId,Me.artifactType):k(Me.artifactId,Me.artifactType)},sortComparer:!1}),D=(0,c.H)({selectId:function(Me){return Me.artifactType===T.B.Artifact?j(Me.artifactObjectId,Me.artifactType,Me.ruleObjectId):B(Me.artifactId,Me.artifactType,Me.ruleObjectId)},sortComparer:!1}),P={artifactWithPolicyTipsState:W.getInitialState({}),policyTipsState:D.getInitialState({}),loadingCurrentSidePanelTipsState:b.Te.INIT};function N(ae){return ae.artifactType===T.B.Artifact?j(ae.artifactObjectId,ae.artifactType,ae.ruleObjectId):B(ae.id,ae.artifactType,ae.ruleObjectId)}function A(ae){return ae===C.ReportFalsePositiveAndOverride?b.Fy.ReportFalsePositiveAndOverride:b.Fy.Override}function G(ae,Me){return{artifactId:ae.artifactId,artifactObjectId:ae.artifactObjectId,artifactType:Me,lastProcessedTime:ae.lastProcessedTime,ruleObjectIds:_.map(ae.policyTips,function(ke){return ke.ruleObjectId})}}var H=l(85732),U={artifactPolicyTips:function(ae,Me){switch(void 0===ae&&(ae=P),Me.type){case O.lx:return(ke=Me.payload)?ke.artifactType!==T.B.Model&&ke.artifactType!==T.B.Artifact?ae:(0,u.__assign)((0,u.__assign)({},ae),{loadingCurrentSidePanelTipsState:ke.forSidePanel?b.Te.LOADING:ae.loadingCurrentSidePanelTipsState}):ae;case O.Df:var de=Me.payload;return de?de.artifactType!==T.B.Model&&de.artifactType!==T.B.Artifact?ae:_.isEmpty(de.artifactPolicyTips)?(0,u.__assign)((0,u.__assign)({},ae),{loadingCurrentSidePanelTipsState:de.forSidePanel?b.Te.LOADED:ae.loadingCurrentSidePanelTipsState}):(0,u.__assign)((0,u.__assign)({},ae),{artifactWithPolicyTipsState:W.setOne(G(de.artifactPolicyTips,de.artifactType),ae.artifactWithPolicyTipsState),policyTipsState:D.setMany(_.map(de.artifactPolicyTips.policyTips,function(Re){return function(ae,Me,ke,de){return{artifactId:ae,artifactObjectId:Me,artifactType:ke,policyTipText:de.policyTipText,matchingConditions:(0,u.__assign)({},de.matchingConditions),matchedConditionDescriptions:(0,u.__spreadArray)([],de.matchedConditionDescriptions,!0),ruleObjectId:de.ruleObjectId,ruleOverrideOptions:de.ruleOverrideOptions,actionStatus:_.isNil(de.actionStatus)?void 0:{status:de.actionStatus.status,action:de.actionStatus.action},dlpRestrictOption:de.dlpRestrictOption}}(de.artifactPolicyTips.artifactId,de.artifactPolicyTips.artifactObjectId,de.artifactType,Re)}),ae.policyTipsState),loadingCurrentSidePanelTipsState:de.forSidePanel?b.Te.LOADED:ae.loadingCurrentSidePanelTipsState}):ae;case O.K9:return(ke=Me.payload)?ke.artifactType!==T.B.Model&&ke.artifactType!==T.B.Artifact?ae:(0,u.__assign)((0,u.__assign)({},ae),{loadingCurrentSidePanelTipsState:ke.forSidePanel?b.Te.LOADED:ae.loadingCurrentSidePanelTipsState}):ae;case O.XN:var ke=Me.payload;return(0,u.__assign)((0,u.__assign)({},ae),{policyTipsState:D.updateOne({id:N(ke),changes:{actionStatus:{status:b.ke.Succeeded,action:A(ke.userAction)}}},ae.policyTipsState)});case O.A0:return ke=Me.payload,(0,u.__assign)((0,u.__assign)({},ae),{policyTipsState:D.updateOne({id:N(ke),changes:{actionStatus:{status:b.ke.Failed,action:A(ke.userAction)}}},ae.policyTipsState)});case O.VN:return ke=Me.payload,(0,u.__assign)((0,u.__assign)({},ae),{policyTipsState:D.updateOne({id:N(ke),changes:{actionStatus:{status:b.ke.Succeeded,action:b.Fy.ReportFalsePositive}}},ae.policyTipsState)});case O.dc:return ke=Me.payload,(0,u.__assign)((0,u.__assign)({},ae),{policyTipsState:D.updateOne({id:N(ke),changes:{actionStatus:{status:b.ke.Failed,action:b.Fy.ReportFalsePositive}}},ae.policyTipsState)});case O.PE:return function(ae,Me){if(!ae||ae.artifactType!==T.B.Model&&ae.artifactType!==T.B.Artifact)return Me;var ke=Me.artifactWithPolicyTipsState.entities[ae.artifactType===T.B.Artifact?e(ae.artifactObjectId,ae.artifactType):k(ae.id,ae.artifactType)];return ke?(0,u.__assign)((0,u.__assign)({},Me),{artifactWithPolicyTipsState:W.updateOne({id:ae.artifactType===T.B.Artifact?e(ae.artifactObjectId,ae.artifactType):k(ae.id,ae.artifactType),changes:{ruleObjectIds:_.filter(ke.ruleObjectIds,function(de){return de!==ae.ruleObjectId})}},Me.artifactWithPolicyTipsState),policyTipsState:D.removeOne(ae.artifactType===T.B.Artifact?j(ae.artifactObjectId,ae.artifactType,ae.ruleObjectId):B(ae.id,ae.artifactType,ae.ruleObjectId),Me.policyTipsState)}):Me}(Me.payload,ae);case O.Pl:return ke=Me.payload,(0,u.__assign)((0,u.__assign)({},ae),{policyTipsState:D.updateOne({id:N(ke),changes:{actionStatus:void 0}},ae.policyTipsState)});case O.XX:return(ke=Me.payload)?(0,u.__assign)((0,u.__assign)({},ae),{loadingCurrentSidePanelTipsState:ke.loadingState}):ae;default:return ae}}},V=(0,H.ZF)("artifactPolicyTipsState"),q=(0,H.P1)(V,function(ae){return ae.artifactPolicyTips.artifactWithPolicyTipsState}),se=(0,H.P1)(V,function(ae){return ae.artifactPolicyTips.policyTipsState}),ue=(0,H.P1)(V,function(ae){return ae.artifactPolicyTips.loadingCurrentSidePanelTipsState}),ge=W.getSelectors(q).selectEntities,fe=D.getSelectors(se).selectEntities,tt=function(Me){return(0,H.P1)(function(Me,ke){return(0,H.P1)(ge,function(de){return de[k(Me,ke)]})}(Me,T.B.Model),fe,function(ke,de){if(!_.isNil(ke)&&!_.isEmpty(ke.ruleObjectIds))return{artifactId:ke.artifactId,lastProcessedTime:ke.lastProcessedTime,policyTips:_.chain(ke.ruleObjectIds).map(function(pe){return de[B(ke.artifactId,ke.artifactType,pe)]}).map(function(pe){return{policyTipText:pe.policyTipText,matchingConditions:pe.matchingConditions,matchedConditionDescriptions:(0,u.__spreadArray)([],pe.matchedConditionDescriptions,!0),ruleObjectId:pe.ruleObjectId,ruleOverrideOptions:pe.ruleOverrideOptions,actionStatus:pe.actionStatus?{status:pe.actionStatus.status,action:pe.actionStatus.action}:void 0,dlpRestrictOption:pe.dlpRestrictOption}}).value()}})},ct=function(Me){return(0,H.P1)(function(Me,ke){return(0,H.P1)(ge,function(de){return de[e(Me,ke)]})}(Me,T.B.Artifact),fe,function(ke,de){if(!_.isNil(ke)&&!_.isEmpty(ke.ruleObjectIds))return{artifactObjectId:ke.artifactObjectId,lastProcessedTime:ke.lastProcessedTime,policyTips:_.chain(ke.ruleObjectIds).map(function(pe){return de[j(ke.artifactObjectId,ke.artifactType,pe)]}).map(function(pe){return{policyTipText:pe.policyTipText,matchingConditions:pe.matchingConditions,matchedConditionDescriptions:(0,u.__spreadArray)([],pe.matchedConditionDescriptions,!0),ruleObjectId:pe.ruleObjectId,ruleOverrideOptions:pe.ruleOverrideOptions,actionStatus:pe.actionStatus?{status:pe.actionStatus.status,action:pe.actionStatus.action}:void 0,dlpRestrictOption:pe.dlpRestrictOption}}).value()}})}},67863:function(Y,X,l){"use strict";l.d(X,{Fy:function(){return d},Te:function(){return M},ke:function(){return h}});var h=function(b){return b[b.Succeeded=0]="Succeeded",b[b.Failed=1]="Failed",b}({}),d=function(b){return b[b.Override=0]="Override",b[b.ReportFalsePositiveAndOverride=1]="ReportFalsePositiveAndOverride",b[b.ReportFalsePositive=2]="ReportFalsePositive",b}({}),M=function(b){return b[b.INIT=0]="INIT",b[b.LOADING=1]="LOADING",b[b.LOADED=2]="LOADED",b}({})},11450:function(Y,X,l){"use strict";l.d(X,{M:function(){return y}});var u=l(32196),h=l(92702),d=l(50600),f=l(50423),C=l(85732),y=function(){function I(v){this.store=v}return I.prototype.loadDatasetPolicyTips=function(v,M){this.store.dispatch(new u.YL({id:v,artifactType:d.B.Model,forSidePanel:M}))},I.prototype.getDatasetPolicyTipsById=function(v){return this.store.select(h.Cr(v))},I.prototype.removeDatasetPolicyTipTextById=function(v,M){this.store.dispatch(new u.X9({id:v,artifactType:d.B.Model,ruleObjectId:M}))},I.prototype.overrideRule=function(v,M,b,O,c,T){this.store.dispatch(new u.kw({id:v,artifactType:d.B.Model,ruleObjectId:M,userAction:b,justificationText:T,artifactName:O,artifactWorkspace:c}))},I.prototype.reportFalsePositiveRule=function(v,M,b,O){this.store.dispatch(new u.G8({id:v,artifactType:d.B.Model,ruleObjectId:M,artifactName:b,artifactWorkspace:O}))},I.prototype.clearPolicyTipActionStatus=function(v,M){this.store.dispatch(new u.wd({id:v,artifactType:d.B.Model,ruleObjectId:M}))},I.prototype.loadArtifactPolicyTips=function(v,M){this.store.dispatch(new u.YL({artifactObjectId:v,artifactType:d.B.Artifact,forSidePanel:M}))},I.prototype.getArtifactPolicyTipsByObjectId=function(v){return this.store.select(h.pF(v))},I.prototype.removeArtifactPolicyTipTextByObjectId=function(v,M){this.store.dispatch(new u.X9({artifactObjectId:v,artifactType:d.B.Artifact,ruleObjectId:M}))},I.prototype.overrideArtifactRule=function(v,M,b,O,c,T){this.store.dispatch(new u.kw({artifactObjectId:v,artifactType:d.B.Artifact,ruleObjectId:M,userAction:b,justificationText:T,artifactName:O,artifactWorkspace:c}))},I.prototype.reportArtifactFalsePositiveRule=function(v,M,b,O){this.store.dispatch(new u.G8({artifactObjectId:v,artifactType:d.B.Artifact,ruleObjectId:M,artifactName:b,artifactWorkspace:O}))},I.prototype.clearArtifactPolicyTipActionStatus=function(v,M){this.store.dispatch(new u.wd({artifactObjectId:v,artifactType:d.B.Artifact,ruleObjectId:M}))},I.prototype.getLoadingCurrentSidePanelTipsState=function(){return this.store.select(h.$d)},I.prototype.setLoadingCurrentSidePanelTipsState=function(v){this.store.dispatch(new u.nl({loadingState:v}))},I.\u0275fac=function(M){return new(M||I)(f.\u0275\u0275inject(C.yh))},I.\u0275prov=f.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"}),I}()},83296:function(Y,X,l){"use strict";function h(f){return!_.isNil(f)&&!_.isNil(f.dlpPolicyTip)}l.d(X,{_:function(){return h}})},94803:function(Y,X,l){"use strict";l.d(X,{u:function(){return b}});var u=l(47326),h=l(50423),d=l(9380),f=l(77476),C=l(74913),y=l(55490),I=l(85102),v=function(c,T){return{"width.px":c,"height.px":T}};function M(O,c){if(1&O&&(h.\u0275\u0275element(0,"tri-svg-icon",1),h.\u0275\u0275pipe(1,"localize"),h.\u0275\u0275pipe(2,"localize")),2&O){var T=h.\u0275\u0275nextContext();h.\u0275\u0275property("tabindex",T.tabindex)("sprite","fluentui-icons")("name",T.iconName)("triTooltip",T.showTooltip?h.\u0275\u0275pipeBind1(2,9,T.tooltipKey):void 0)("ngClass",T.styleClass)("ngStyle",h.\u0275\u0275pureFunction2(11,v,T.iconSizePx,T.iconSizePx)),h.\u0275\u0275attribute("aria-label",h.\u0275\u0275pipeBind1(1,7,T.tooltipKey))}}var b=function(){function O(c){this.featureSwitchService=c,this.iconSizePx="20",this.tabindex=0,this.showTooltip=!0,this.iconName="",this.styleClass="",this.tooltipKey="",this.shouldDisplayIcon=!1}return O.prototype.ngOnChanges=function(){this.shouldDisplayRestrictionIcon()?(this.iconName="subtract_circle_".concat(this.iconSizePx,"_filled"),this.styleClass="dlp-restrict-access",this.tooltipKey="Item_Restricted",this.shouldDisplayIcon=!0):this.shouldDisplayPolicyTipIcon()&&(this.iconName="info_".concat(this.iconSizePx,"_filled"),this.styleClass="dlp-policy-tip",this.tooltipKey="Dlp_PolicyTip_Dataset_Warning_tooltip",this.shouldDisplayIcon=!0)},O.prototype.shouldDisplayRestrictionIcon=function(){return this.featureSwitchService.featureSwitches.restrictAccess_HEAD_DLP_FE&&!_.isEmpty(this.restrictions)&&(this.restrictions.blocked||(this.restrictions.restrictionSources&u.i.DLP)===u.i.DLP)},O.prototype.shouldDisplayPolicyTipIcon=function(){return this.featureSwitchService.featureSwitches.dlpPolicyTip&&this.hasDlpPolicyTip},O.\u0275fac=function(T){return new(T||O)(h.\u0275\u0275directiveInject(d.vZ))},O.\u0275cmp=h.\u0275\u0275defineComponent({type:O,selectors:[["dlp-icon"]],inputs:{hasDlpPolicyTip:"hasDlpPolicyTip",restrictions:"restrictions",iconSizePx:"iconSizePx",tabindex:"tabindex",showTooltip:"showTooltip"},features:[h.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[["role","img",3,"tabindex","sprite","name","triTooltip","ngClass","ngStyle",4,"ngIf"],["role","img",3,"tabindex","sprite","name","triTooltip","ngClass","ngStyle"]],template:function(T,k){1&T&&h.\u0275\u0275template(0,M,3,14,"tri-svg-icon",0),2&T&&h.\u0275\u0275property("ngIf",k.shouldDisplayIcon)},dependencies:[f.NgClass,f.NgIf,f.NgStyle,C.M,y.Z,I.F],styles:["[_nghost-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .dlp-policy-tip[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground3)}[_nghost-%COMP%]   .dlp-restrict-access[_ngcontent-%COMP%]{fill:var(--globalColorCranberryShade10)}"],changeDetection:0}),O}()},48461:function(Y,X,l){"use strict";l.d(X,{C:function(){return e},v:function(){return k}});var u=l(81337),h=l(50423),d=l(26244),f=l(30794),C=l(17653),y=l(83317),I=l(11450),v=l(65181),M=l(50911),b=l(9380),O=l(77476),c=l(44641);function T(B,j){if(1&B){var F=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementContainerStart(0),h.\u0275\u0275elementStart(1,"message-banner",1),h.\u0275\u0275listener("buttonClicked",function(){h.\u0275\u0275restoreView(F);var P=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(P.onBannerClicked())}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementContainerEnd()}if(2&B){var W=j.$implicit;h.\u0275\u0275advance(1),h.\u0275\u0275property("viewModel",W)}}var k="showPolicyTipSidePane",e=function(){function B(j,F,W,D,P,K){this.dlpPolicyTipStoreService=j,this.changeDetectorRef=F,this.localizationService=W,this.datasetStore=D,this.featureSwitchService=P,this.dlpPolicyTipsPanelService=K,this.viewAllClicked=new h.EventEmitter,this.policyTipsMessagesModels=[],this.destroy$=new f.xQ}return B.prototype.ngOnChanges=function(){return(0,u.__awaiter)(this,void 0,void 0,function(){var j,F=this;return(0,u.__generator)(this,function(W){switch(W.label){case 0:return!this.featureSwitchService.featureSwitches.dlpPolicyTip||!this.datasetId||this.datasetId<=0?[2]:[4,this.datasetStore.findDatasetById(this.datasetId)];case 1:return j=W.sent(),this.isFromPremiumWS(j)?(this.dlpPolicyTipStoreService.loadDatasetPolicyTips(this.datasetId),this.dlpPolicyTipStoreService.getDatasetPolicyTipsById(this.datasetId).pipe((0,C.b)(function(D){return F.policyTipsMessagesModels=[]}),(0,y.R)(this.destroy$)).subscribe(function(D){var P;_.isNil(D)||_.isEmpty(D.policyTips)||(P=1===D.policyTips.length?{bannerType:2,iconName:"pbi-glyph-info",message:D.policyTips[0].policyTipText,buttonText:F.localizationService.get("View")}:{bannerType:2,iconName:"pbi-glyph-info",message:"".concat(D.policyTips[0].policyTipText," ").concat(F.localizationService.format("Dlp_PolicyTip_Artifact_Warning",D.policyTips.length-1)),buttonText:F.localizationService.get("View_All")},F.policyTipsMessagesModels.push(P)),F.markForCheck()}),[2]):[2]}})})},B.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},B.prototype.onBannerClicked=function(){this.dlpPolicyTipsPanelService.showPolicyTipsSidePanel(this.datasetId,void 0,"dataset"),this.viewAllClicked.emit()},B.prototype.markForCheck=function(){this.changeDetectorRef&&this.changeDetectorRef.markForCheck()},B.prototype.isFromPremiumWS=function(j){return null!==j.capacityObjectId||1===j.sharedFromEnterpriseCapacitySkuTier},B.\u0275fac=function(F){return new(F||B)(h.\u0275\u0275directiveInject(I.M),h.\u0275\u0275directiveInject(h.ChangeDetectorRef),h.\u0275\u0275directiveInject(v.o),h.\u0275\u0275directiveInject(M.s),h.\u0275\u0275directiveInject(b.vZ),h.\u0275\u0275directiveInject(d.U))},B.\u0275cmp=h.\u0275\u0275defineComponent({type:B,selectors:[["dlp-policy-tip-messages"]],inputs:{datasetId:"datasetId"},outputs:{viewAllClicked:"viewAllClicked"},features:[h.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"viewModel","buttonClicked"]],template:function(F,W){1&F&&h.\u0275\u0275template(0,T,2,1,"ng-container",0),2&F&&h.\u0275\u0275property("ngForOf",W.policyTipsMessagesModels)},dependencies:[O.NgForOf,c.A],styles:["[_nghost-%COMP%]   message-banner[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   message-banner[_ngcontent-%COMP%]     .message-banner i{margin-top:4px;color:var(--gray-130, #605E5C)}[_nghost-%COMP%]   message-banner[_ngcontent-%COMP%]     .message-banner .message-banner-warning{padding:6px 8px}[_nghost-%COMP%]   message-banner[_ngcontent-%COMP%]     .message-banner .message-banner-text-container{display:flex!important;color:var(--gray-160, #323130);width:100%}[_nghost-%COMP%]   message-banner[_ngcontent-%COMP%]     .message-banner .message-banner-text-container .message-banner-text{flex:1;margin-top:4px;margin-right:8px}[_nghost-%COMP%]   message-banner[_ngcontent-%COMP%]     .message-banner button{align-self:unset!important;height:24px;max-width:150px;background-color:#fff;margin-left:8px}"],changeDetection:0}),B}()},59231:function(Y,X,l){"use strict";l.d(X,{F:function(){return Re}});var u=l(48461),h=l(26244),d=l(30794),f=l(83317),C=l(50423),y=l(9398),I=l(18460),v=l(69542),M=function(Ee,Qe,at){return{datasetId:Ee,artifactObjectId:Qe,artifactType:at}},b=function(){function pe(Ee,Qe){this.router=Ee,this.dlpPolicyTipsPanelService=Qe,this.ComponentId="DlpPolicyTipsPanelContainerComponentId",this.ModulePath="@powerbi/DlpPolicyTipsSidePanel/dlp-policy-tips-side-panel.module#DlpPolicyTipsSidePanelModule",this.destroy$=new d.xQ}return pe.prototype.ngOnInit=function(){var Ee=this;this.router.events.pipe((0,f.R)(this.destroy$)).subscribe(function(Qe){Ee.dlpPolicyTipsPanelService.hidePolicyTipsSidePanel()})},pe.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},pe.\u0275fac=function(Qe){return new(Qe||pe)(C.\u0275\u0275directiveInject(y.F0),C.\u0275\u0275directiveInject(h.U))},pe.\u0275cmp=C.\u0275\u0275defineComponent({type:pe,selectors:[["dlp-policy-tips-panel"]],inputs:{policyTipsSidePaneInput:"policyTipsSidePaneInput"},decls:2,vars:8,consts:[["role","dialog","focus-trap","",1,"panel"],[3,"modulePath","componentId","inputArgs","outputArgs"]],template:function(Qe,at){1&Qe&&(C.\u0275\u0275elementStart(0,"div",0),C.\u0275\u0275element(1,"pbi-lazy-load",1),C.\u0275\u0275elementEnd()),2&Qe&&(C.\u0275\u0275advance(1),C.\u0275\u0275property("modulePath",at.ModulePath)("componentId",at.ComponentId)("inputArgs",C.\u0275\u0275pureFunction3(4,M,at.policyTipsSidePaneInput.artifactId,at.policyTipsSidePaneInput.artifactObjectId,at.policyTipsSidePaneInput.artifactType))("outputArgs",void 0))},dependencies:[I.R,v.d],styles:[".panel[_ngcontent-%COMP%]{position:flex;height:100%;background:var(--fluent-theme-white-color, #FFF);box-shadow:0 4.8px 14.4px rgba(0,0,0,.18),0 25.6px 57.6px rgba(0,0,0,.22)}"],changeDetection:0}),pe}(),O=l(77476),c=l(57746),T=l(67659),k=l(67863),e=l(41114),B="PBI.DlpPolicyTips.GetArtifactPolicyTips",j=e.cx[B]=(0,e.b1)(B),F="PBI.DlpPolicyTips.OverrideRule",W=e.cx[F]=(0,e.b1)(F),D="PBI.DlpPolicyTips.ReportFalsePositiveRule",P=e.cx[D]=(0,e.b1)(D),K=l(32196),N=l(60756),g=l(94853),A=l(50600),G=l(98665),z=l(59017),H=l(11547),le=l(37272),x=l(40133),U=l(14172),V=l(81905),q=l(48787),se=l(42195),ue=l(24874),_e=l(59822),ge=l(59973),We=l(73875),Oe=function(){function pe(Ee){this.httpService=Ee,this.baseUri="/metadata/dlp"}return pe.prototype.getDatasetPolicyTips=function(Ee){var Qe="".concat(this.baseUri,"/models/").concat(Ee,"/policyTips");return this.httpService.get(Qe)},pe.prototype.overrideRule=function(Ee,Qe,at,wt){var ie="".concat(this.baseUri,"/models/").concat(Ee,"/rules/").concat(Qe,"/override");return this.httpService.post(ie,{userAction:at,justificationText:wt})},pe.prototype.reportFalsePositiveRule=function(Ee,Qe){var at="".concat(this.baseUri,"/models/").concat(Ee,"/rules/").concat(Qe,"/reportFalsePositive");return this.httpService.post(at,{})},pe.prototype.getArtifactPolicyTips=function(Ee){var Qe="".concat(this.baseUri,"/artifacts/").concat(Ee,"/policyTips");return this.httpService.get(Qe)},pe.prototype.overrideArtifactRule=function(Ee,Qe,at,wt){var ie="".concat(this.baseUri,"/artifacts/").concat(Ee,"/rules/").concat(Qe,"/override");return this.httpService.post(ie,{userAction:at,justificationText:wt})},pe.prototype.reportArtifactFalsePositiveRule=function(Ee,Qe){var at="".concat(this.baseUri,"/artifacts/").concat(Ee,"/rules/").concat(Qe,"/reportFalsePositive");return this.httpService.post(at,{})},pe.\u0275fac=function(Qe){return new(Qe||pe)(C.\u0275\u0275inject(We.O))},pe.\u0275prov=C.\u0275\u0275defineInjectable({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe}(),Be=l(11450),re=function(){function pe(Ee,Qe,at,wt){var ie=this;this.actions$=Ee,this.dlpPolicyTipHttpService=Qe,this.dlpPolicyTipStoreService=at,this.telemetryService=wt,this.loadDlpPolicyTips$=(0,N.GW)(function(){return ie.actions$.pipe((0,N.l4)(K.lx),(0,U.U)(function(L){return L.payload}),(0,V.w)(function(L){switch(L.artifactType){case A.B.Model:return(0,z.aj)([(0,H.of)(L),ie.dlpPolicyTipStoreService.getDatasetPolicyTipsById(L.id).pipe((0,q.q)(1))]);case A.B.Artifact:return(0,z.aj)([(0,H.of)(L),ie.dlpPolicyTipStoreService.getArtifactPolicyTipsByObjectId(L.artifactObjectId).pipe((0,q.q)(1))]);default:return le.E}}),(0,se.zg)(function(L){var Q=L[0];if(L[1])return Q.forSidePanel&&ie.dlpPolicyTipStoreService.setLoadingCurrentSidePanelTipsState(k.Te.LOADED),le.E;var Ce=ie.telemetryService.startEvent(j,{artifactId:Q.id,artifactObjectId:Q.artifactObjectId,artifactType:Q.artifactType});return(Q.artifactType===A.B.Model?ie.dlpPolicyTipHttpService.getDatasetPolicyTips(Q.id):ie.dlpPolicyTipHttpService.getArtifactPolicyTips(Q.artifactObjectId)).pipe((0,U.U)(function(Ae){return Ae.data}),(0,ue.b)(function(Ae){var Le;return Ce.resolve(),Le=!Ae||_.isEmpty(Ae.policyTips)?{id:Q.id,artifactObjectId:Q.artifactObjectId,artifactType:Q.artifactType,artifactPolicyTips:void 0,forSidePanel:Q.forSidePanel}:{id:Ae.artifactId,artifactObjectId:Ae.artifactObjectId,artifactType:Ae.artifactType,artifactPolicyTips:pe.createArtifactPolicyTips(Ae),forSidePanel:Q.forSidePanel},(0,H.of)(new K.aV(Le))}),(0,_e.K)(function(Ae){return Ce.reject((0,g.GB)(Ae.error,Ae.status)),(0,H.of)(new K.NY(Q))}))}))}),this.overrideRule$=(0,N.GW)(function(){return ie.actions$.pipe((0,N.l4)(K.wM),(0,U.U)(function(L){return L.payload}),(0,ge.h)(function(L){return L.artifactType===A.B.Model||L.artifactType===A.B.Artifact}),(0,se.zg)(function(L){var Q=ie.telemetryService.startEvent(W,{artifactId:L.id,artifactObjectId:L.artifactObjectId,artifactType:L.artifactType,userAction:L.userAction}),Z=L.artifactType===A.B.Model;return(Z?ie.dlpPolicyTipHttpService.overrideRule(L.id,L.ruleObjectId,L.userAction,L.justificationText):ie.dlpPolicyTipHttpService.overrideArtifactRule(L.artifactObjectId,L.ruleObjectId,L.userAction,L.justificationText)).pipe((0,se.zg)(function(Te){return Q.resolve(),(0,x.H)(0,1e4).pipe((0,q.q)(2),(0,se.zg)(function(Ae){return(0,H.of)(0===Ae?new K.hg(Z?{id:L.id,artifactType:L.artifactType,ruleObjectId:L.ruleObjectId,userAction:L.userAction}:{artifactObjectId:L.artifactObjectId,artifactType:L.artifactType,ruleObjectId:L.ruleObjectId,userAction:L.userAction}):new K.X9(Z?{id:L.id,artifactType:L.artifactType,ruleObjectId:L.ruleObjectId}:{artifactObjectId:L.artifactObjectId,artifactType:L.artifactType,ruleObjectId:L.ruleObjectId}))}))}),(0,_e.K)(function(Te){return Q.reject((0,g.GB)(Te.error)),(0,H.of)(new K.oZ(Z?{id:L.id,artifactType:L.artifactType,ruleObjectId:L.ruleObjectId,userAction:L.userAction}:{artifactObjectId:L.artifactObjectId,artifactType:L.artifactType,ruleObjectId:L.ruleObjectId,userAction:L.userAction}))}))}))}),this.reportFalsePositiveRule$=(0,N.GW)(function(){return ie.actions$.pipe((0,N.l4)(K.vZ),(0,U.U)(function(L){return L.payload}),(0,ge.h)(function(L){return L.artifactType===A.B.Model||L.artifactType===A.B.Artifact}),(0,se.zg)(function(L){var Q=ie.telemetryService.startEvent(P,{artifactId:L.id,artifactType:L.artifactType}),Z=L.artifactType===A.B.Model;return(Z?ie.dlpPolicyTipHttpService.reportFalsePositiveRule(L.id,L.ruleObjectId):ie.dlpPolicyTipHttpService.reportArtifactFalsePositiveRule(L.artifactObjectId,L.ruleObjectId)).pipe((0,se.zg)(function(Te){return Q.resolve(),(0,H.of)(new K.rb(Z?{id:L.id,artifactType:L.artifactType,ruleObjectId:L.ruleObjectId}:{artifactObjectId:L.artifactObjectId,artifactType:L.artifactType,ruleObjectId:L.ruleObjectId}))}),(0,_e.K)(function(Te){return Q.reject((0,g.GB)(Te.error)),(0,H.of)(new K.R8(Z?{id:L.id,artifactType:L.artifactType,ruleObjectId:L.ruleObjectId}:{artifactObjectId:L.artifactObjectId,artifactType:L.artifactType,ruleObjectId:L.ruleObjectId}))}))}))})}return pe.createArtifactPolicyTips=function(Ee){return{artifactId:Ee.artifactId,artifactObjectId:Ee.artifactObjectId,policyTips:_.map(Ee.policyTips,function(Qe){return pe.createDlpPolicyTip(Qe)}),lastProcessedTime:Ee.lastProcessedTime}},pe.createDlpPolicyTip=function(Ee){return{matchedConditionDescriptions:Ee.matchedConditionDescriptions,matchingConditions:pe.createMatchingConditions(Ee.matchingConditions),policyTipText:Ee.policyTipText,ruleObjectId:Ee.ruleObjectId,ruleOverrideOptions:Ee.ruleOverrideOptions,dlpRestrictOption:Ee.dlpRestrictOption}},pe.createMatchingConditions=function(Ee){if(!_.isNil(Ee))return{sensitivityLabel:pe.createDlpSensitivityLabel(Ee.sensitivityLabel),sensitiveInfoTypes:pe.createDlpSensitiveInfoType(Ee.sensitiveInfoTypes)}},pe.createDlpSensitivityLabel=function(Ee){if(!_.isNil(Ee))return{id:Ee.id,name:Ee.name}},pe.createDlpSensitiveInfoType=function(Ee){if(!_.isNil(Ee)&&!_.isEmpty(Ee))return _.map(Ee,function(Qe){return{id:Qe.id,name:Qe.name,count:Qe.count,confidence:Qe.confidence}})},pe.\u0275fac=function(Qe){return new(Qe||pe)(C.\u0275\u0275inject(N.eX),C.\u0275\u0275inject(Oe),C.\u0275\u0275inject(Be.M),C.\u0275\u0275inject(G.y0))},pe.\u0275prov=C.\u0275\u0275defineInjectable({token:pe,factory:pe.\u0275fac}),pe}(),fe=l(92702),me=l(85732),Se=l(82156),Ke=function(){function pe(){}return pe.\u0275fac=function(Qe){return new(Qe||pe)},pe.\u0275mod=C.\u0275\u0275defineNgModule({type:pe}),pe.\u0275inj=C.\u0275\u0275defineInjector({imports:[O.CommonModule,me.Aw.forFeature("artifactPolicyTipsState",fe.ll),N.sQ.forFeature([re]),Se.N]}),pe}(),tt=l(79061),ct=l(52040),ae=l(16149),Me=l(17177),ke=l(8816),de=[{type:u.C,componentId:"DlpPolicyTipMessagesComponentComponentId"},{type:b,componentId:"DlpPolicyTipsPanelComponentId"}],Re=function(){function pe(){}return pe.\u0275fac=function(Qe){return new(Qe||pe)},pe.\u0275mod=C.\u0275\u0275defineNgModule({type:pe}),pe.\u0275inj=C.\u0275\u0275defineInjector({imports:[O.CommonModule,Ke,Se.N.withManifests(de),tt.v,c.t,ct.x,T._,ae.m,Me.T6,ke.w,Ke]}),pe}()},56894:function(Y,X,l){"use strict";function h(f){if(!_.isNil(f))return _.isNil(f.parent)?f.name:"".concat(f.parent.name,"\\").concat(f.name)}function d(f,C,y){if(_.isUndefined(f))return-1*(y?1:-1);if(_.isUndefined(C))return 1*(y?1:-1);var I=h(f),v=h(C);return function(f,C,y){return(f<C?-1:1)*(y?1:-1)}(I.toLocaleLowerCase(),v.toLocaleLowerCase(),y)}l.d(X,{Kg:function(){return d},s4:function(){return h}})},49645:function(Y,X,l){"use strict";l.d(X,{l:function(){return Tt}});var u=l(81337),h=l(30794),d=l(59017),f=l(83317),C=l(59973),y=l(48787),I=l(47326),v=l(16452),M=l(48761),b=l(41838),O=l(42369),c=l(50423),T=l(9380),k=l(76072),e=l(77476),B=l(48461),j=l(26244),F=l(98665),W=l(75563),D=l(62458),P=l(65181),K=l(44581),N=l(54932),g=l(65e3),A=l(94803);function G(te,he){if(1&te){var ce=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275elementStart(1,"div",1),c.\u0275\u0275element(2,"dlp-icon",2),c.\u0275\u0275elementStart(3,"div",3),c.\u0275\u0275text(4),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(5,"div",4)(6,"span"),c.\u0275\u0275text(7),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(8,"tri-link",5),c.\u0275\u0275listener("accessible-click",function(){c.\u0275\u0275restoreView(ce);var mt=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(mt.openLink())}),c.\u0275\u0275text(9),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementContainerEnd()}if(2&te){var Ie=c.\u0275\u0275nextContext();c.\u0275\u0275advance(2),c.\u0275\u0275property("hasDlpPolicyTip",Ie.hasDlpPolicyTip)("restrictions",Ie.restrictions)("iconSizePx","16")("showTooltip",!1),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(Ie.title),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(Ie.details),c.\u0275\u0275advance(1),c.\u0275\u0275property("block",!0),c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate1(" ",Ie.actionLinkText," ")}}var z=function(te){return te[te.PolicyTip=1]="PolicyTip",te[te.Restrictions=2]="Restrictions",te}({}),H=function(){function te(he,ce,Ie,Je,mt,bt,Lt,Ut){this.localizationService=he,this.featureSwitchService=ce,this.certifiedEventsService=Ie,this.telemetryService=Je,this.dlpPolicyTipsPanelService=mt,this.windowOpenerService=bt,this.extensionManifestService=Lt,this.changeDetectorRef=Ut,this.openLinkInNewTab=!1,this.actionLinkText="",this.displaySection=!1,this.CardContentType=z}return te.prototype.ngOnInit=function(){return(0,u.__awaiter)(this,void 0,void 0,function(){return(0,u.__generator)(this,function(he){switch(he.label){case 0:return this.shouldDisplayRestrictionsCard()?(this.renderRestrictionsCard(),[3,4]):[3,1];case 1:return this.shouldDisplayPolicyTipsCard()?[4,this.renderPolicyTipsCard()]:[3,3];case 2:return he.sent(),[3,4];case 3:this.displaySection=!1,he.label=4;case 4:return[2]}})})},te.prototype.openLink=function(){var he;return(0,u.__awaiter)(this,void 0,void 0,function(){return(0,u.__generator)(this,function(ce){switch(ce.label){case 0:return[4,this.extensionManifestService.isTridentArtifact(this.artifactType)];case 1:if(ce.sent())return this.showPolicyTipsSidePanel(void 0,this.artifactObjectId),[2];switch(this.artifactType){case"dataset":case"dataset-autogenerated":this.showPolicyTipsSidePanel(this.artifactId,this.artifactObjectId);break;case"report":case"scorecard":null!==(he=this.restrictions)&&void 0!==he&&he.blocked||this.showPolicyTipsSidePanel(this.underlyingArtifactId)}return[2]}})})},te.prototype.showPolicyTipsSidePanel=function(he,ce){if(this.openLinkInNewTab)if(ce){var Ie="/datahub/datasets/".concat(ce);this.windowOpenerService.open("".concat(Ie,"?").concat(B.v,"=1"),"_blank")}else D.fF.assertValue(ce,"artifactObjectId does not have value");else he||ce?this.dlpPolicyTipsPanelService.showPolicyTipsSidePanel(he,ce,this.artifactType):D.fF.assertValue(he,"artifactId and artifactObjectId do not have value");this.certifiedEventsService.logStandardizedFeatureEvent({featureName:"Data Loss Prevention - Restrict Access",activityName:"HoverCardClickAction",activityAttributes:{artifactType:this.artifactType,host:this.hostedEnvironmentTelemetryHint,contentType:this.cardType,callToActionText:this.actionLinkText},activityStatus:"Succeeded",correlationId:this.telemetryService.root.id,resultCode:"0"})},te.prototype.shouldDisplayRestrictionsCard=function(){return this.featureSwitchService.featureSwitches.restrictAccess_HEAD_DLP_FE&&!_.isEmpty(this.restrictions)&&(this.restrictions.blocked||(this.restrictions.restrictionSources&I.i.DLP)===I.i.DLP)},te.prototype.shouldDisplayPolicyTipsCard=function(){return this.featureSwitchService.featureSwitches.dlpPolicyTip&&this.featureSwitchService.featureSwitches.dlpHoverCardPolicies_HEAD_DLP_FE&&this.hasDlpPolicyTip},te.prototype.renderRestrictionsCard=function(){var he;this.displaySection=!0,this.cardType=z.Restrictions,this.title=this.localizationService.get("Dlp_Access_restricted");var ce=this.localizationService.get("ArtifactKind_SemanticModel"),Ie=void 0;switch(this.artifactType){case"dataset":case"dataset-autogenerated":this.details=this.localizationService.format("Dlp_HoverCard_Restrictions_explanation_dataOwner_ArtifactKind",Ie=ce),this.actionLinkText=this.localizationService.get("Dlp_HoverCard_SeeFullDetails");break;case"report":case"scorecard":Ie=this.localizationService.get("report"===this.artifactType?"ArtifactKind_Report":"ArtifactKind_Scorecard"),null!==(he=this.restrictions)&&void 0!==he&&he.blocked?(this.details=this.localizationService.format("Dlp_HoverCard_Restrictions_explanation_restrictedUser_downstreamArtifact",Ie),this.actionLinkText=void 0):(this.details=this.localizationService.format("Dlp_HoverCard_Restrictions_explanation_dataOwner_downstreamArtifact",[Ie,ce]),this.actionLinkText=this.localizationService.format("Dlp_HoverCard_SeeDetails_OfArtifactKind",ce));break;default:this.displaySection=!1}},te.prototype.renderPolicyTipsCard=function(){return(0,u.__awaiter)(this,void 0,void 0,function(){var he,ce,Ie;return(0,u.__generator)(this,function(Je){switch(Je.label){case 0:return this.displaySection=!0,this.cardType=z.PolicyTip,[4,this.extensionManifestService.isTridentArtifact(this.artifactType)];case 1:return(he=Je.sent())||"dataset"===this.artifactType||"dataset-autogenerated"===this.artifactType?(ce=void 0,he?[4,this.extensionManifestService.getArtifactManifest(this.artifactType)]:[3,3]):[3,5];case 2:return Ie=Je.sent(),ce=this.extensionManifestService.getArtifactTypeDisplayName(Ie,!1,!0),[3,4];case 3:ce=this.localizationService.get("ArtifactKind_SemanticModel"),Je.label=4;case 4:return this.title=this.localizationService.get("Policies"),this.details=this.localizationService.format("Dlp_Policies_explanation_ArtifactKind",ce),this.actionLinkText=this.localizationService.get("Dlp_HoverCard_SeeFullDetails"),[3,6];case 5:this.displaySection=!1,Je.label=6;case 6:return this.markForCheck(),[2]}})})},te.prototype.markForCheck=function(){this.changeDetectorRef&&this.changeDetectorRef.markForCheck()},te.\u0275fac=function(ce){return new(ce||te)(c.\u0275\u0275directiveInject(P.o),c.\u0275\u0275directiveInject(T.vZ),c.\u0275\u0275directiveInject(F.ly),c.\u0275\u0275directiveInject(F.y0),c.\u0275\u0275directiveInject(j.U),c.\u0275\u0275directiveInject(W.p),c.\u0275\u0275directiveInject(O.vC),c.\u0275\u0275directiveInject(c.ChangeDetectorRef))},te.\u0275cmp=c.\u0275\u0275defineComponent({type:te,selectors:[["dlp-hover-card"]],inputs:{artifactId:"artifactId",artifactType:"artifactType",hasDlpPolicyTip:"hasDlpPolicyTip",restrictions:"restrictions",hostedEnvironmentTelemetryHint:"hostedEnvironmentTelemetryHint",openLinkInNewTab:"openLinkInNewTab",artifactObjectId:"artifactObjectId",underlyingArtifactId:"underlyingArtifactId"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"dlp-card-header"],[3,"hasDlpPolicyTip","restrictions","iconSizePx","showTooltip"],[1,"dlp-card-title"],[1,"dlp-card-details"],["target","_blank","pbiAutoFocus","",1,"action-link",3,"block","accessible-click"]],template:function(ce,Ie){1&ce&&c.\u0275\u0275template(0,G,10,8,"ng-container",0),2&ce&&c.\u0275\u0275property("ngIf",Ie.displaySection)},dependencies:[e.NgIf,K.t,N.r,g.v,A.u],styles:['[_nghost-%COMP%]   .dlp-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:0;gap:4px;line-height:16px}[_nghost-%COMP%]   .dlp-card-header[_ngcontent-%COMP%]   .dlp-card-title[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-semi-bold, 600);color:var(--colorNeutralForeground2)}[_nghost-%COMP%]   .dlp-card-details[_ngcontent-%COMP%]{margin-top:8px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);color:var(--colorNeutralForeground2)}[_nghost-%COMP%]   .action-link[_ngcontent-%COMP%]{margin-top:4px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);cursor:pointer}'],changeDetection:0}),te}(),le=l(89233),x=l(74913),U=l(55490),V=l(50600);function Se(te){switch(te.type){case V.B.Dashboard:return"dashboard";case V.B.Report:return function(te){switch(te){case 0:default:return"report";case 1:return"rdlreport";case 2:return"scorecard"}}(te.subType);case V.B.RdlReport:return"rdlreport";case V.B.Model:return"dataset";case V.B.Dataflow:return function(te){return 2===te?"dataflow-gen2":"dataflow"}(te.subType);case V.B.StreamingDataflow:return"streaming-dataflow";case V.B.Datamart:return function(te){switch(te){case 2:return"lake-warehouse";case 4:return"data-warehouse";case 5:return"mounted-warehouse";default:return"datamart"}}(te.subType);case V.B.Artifact:return te.typeName;default:return}}function ke(te){return"dataset"===te||"dataset-autogenerated"===te||"streaming-model"===te}function de(te,he,ce,Ie){return(0,u.__awaiter)(this,void 0,void 0,function(){var Je,mt;return(0,u.__generator)(this,function(bt){switch(bt.label){case 0:return he&&ce&&Ie?[4,te.getArtifactManifest(ce)]:[2,""];case 1:return Je=bt.sent(),mt=te.getArtifactRoutePath(Je,Ie,he),[2,ke(ce)?"".concat(mt,"/details"):mt]}})})}l(69195);var pe=l(85102);function Ee(te,he){1&te&&(c.\u0275\u0275elementStart(0,"div",7),c.\u0275\u0275text(1),c.\u0275\u0275pipe(2,"lowercase"),c.\u0275\u0275pipe(3,"localize"),c.\u0275\u0275elementEnd()),2&te&&(c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate1(" ","("+c.\u0275\u0275pipeBind1(2,1,c.\u0275\u0275pipeBind1(3,3,"Source_Item"))+")"," "))}function Qe(te,he){if(1&te){var ce=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"li"),c.\u0275\u0275element(1,"tri-artifact-icon",3),c.\u0275\u0275elementStart(2,"a",4),c.\u0275\u0275listener("click",function(){var Lt=c.\u0275\u0275restoreView(ce).$implicit,Ut=c.\u0275\u0275nextContext(2);return c.\u0275\u0275resetView(Ut.onArtifactClicked(Lt))})("keydown.enter",function(){var Lt=c.\u0275\u0275restoreView(ce).$implicit,Ut=c.\u0275\u0275nextContext(2);return c.\u0275\u0275resetView(Ut.onArtifactClicked(Lt))}),c.\u0275\u0275pipe(3,"async"),c.\u0275\u0275elementStart(4,"div",5),c.\u0275\u0275text(5),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(6,Ee,4,5,"div",6),c.\u0275\u0275elementEnd()()}if(2&te){var Ie=he.$implicit,Je=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(1),c.\u0275\u0275property("artifactType",Ie.artifactType),c.\u0275\u0275advance(1),c.\u0275\u0275property("target","_blank")("href",c.\u0275\u0275pipeBind1(3,7,Ie.routeLink),c.\u0275\u0275sanitizeUrl)("triTooltip",Ie.tooltipText)("triTooltipAlwaysShow",!0),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate1(" ",Ie.displayName," "),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf","Upstream"===Ie.relatedType&&(null==Je.config?null:Je.config.shouldMarkSourceItems))}}function at(te,he){if(1&te){var ce=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275elementStart(1,"tri-link",8),c.\u0275\u0275listener("click",function(){c.\u0275\u0275restoreView(ce);var mt=c.\u0275\u0275nextContext(2);return c.\u0275\u0275resetView(mt.logTelemetry("View_All_Related_Items"))}),c.\u0275\u0275text(2),c.\u0275\u0275pipe(3,"localize"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementContainerEnd()}if(2&te){var Ie=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(1),c.\u0275\u0275property("href",Ie.currentRouteLink)("external",!0)("block",!0)("size","small"),c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate1(" ",c.\u0275\u0275pipeBind1(3,5,"View_All_Related_Items")," ")}}function wt(te,he){if(1&te&&(c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275elementStart(1,"div",1),c.\u0275\u0275text(2),c.\u0275\u0275pipe(3,"localize"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(4,"ul"),c.\u0275\u0275template(5,Qe,7,9,"li",2),c.\u0275\u0275pipe(6,"slice"),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(7,at,4,7,"ng-container",0),c.\u0275\u0275elementContainerEnd()),2&te){var ce=c.\u0275\u0275nextContext();c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate1(" ",c.\u0275\u0275pipeBind1(3,3,"Related_Items")," "),c.\u0275\u0275advance(3),c.\u0275\u0275property("ngForOf",c.\u0275\u0275pipeBind3(6,5,ce.relatedArtifactInternalList,0,3)),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",ce.relatedArtifactInternalList.length>3&&ce.config.hasViewAllRelatedItemLink)}}var ie=function(){function te(he,ce,Ie,Je){this.extensionManifestService=he,this.certifiedEventsService=ce,this.telemetryService=Ie,this.localizationService=Je,this.relatedArtifactInternalList=[],this.upstreamArtifacts=[],this.downstreamArtifacts=[]}return te.prototype.ngOnChanges=function(he){var Ie,Je,mt,ce=this;if((this.upstream||this.downstream)&&(he.artifactType&&(this.config=function(te){return function(te){switch(te){case"dashboard":case"report":case"rdlreport":case"scorecard":return{shouldMarkSourceItems:!0,shouldUpstreamAppearFirst:!0,hasViewAllRelatedItemLink:!1};case"dataflow":case"streaming-dataflow":return{shouldMarkSourceItems:!0,shouldUpstreamAppearFirst:!1,hasViewAllRelatedItemLink:!1};default:return{shouldMarkSourceItems:!0,shouldUpstreamAppearFirst:!1,hasViewAllRelatedItemLink:!0}}}(te)}(this.artifactType)),he.upstream&&this.upstream&&(this.upstreamArtifacts=this.mapArtifactsToInternalArtifacts(Array.from(this.upstream.artifacts.values()),"Upstream")),he.downstream&&this.downstream&&(this.downstreamArtifacts=this.mapArtifactsToInternalArtifacts(Array.from(this.downstream.artifacts.values()),"Downstream")),this.relatedArtifactInternalList=(0,u.__spreadArray)((0,u.__spreadArray)([],this.upstreamArtifacts,!0),this.downstreamArtifacts,!0).sort(function(Lt,Ut){return ce.internalArtifactCompareFn(Lt,Ut)}),null!==(Ie=this.config)&&void 0!==Ie&&Ie.hasViewAllRelatedItemLink)){var bt=(null===(Je=this.upstream)||void 0===Je?void 0:Je.rootArtifact)||(null===(mt=this.downstream)||void 0===mt?void 0:mt.rootArtifact);this.currentRouteLink=function(te,he){var ce="".concat(window.baseUrl,"/datahub/");switch(te){case"dashboard":case"rdlreport":case"report":case"scorecard":case"streaming-dataflow":case"workbook":case"dataflow":case"dataflow-gen2":return"";case"dataset":case"dataset-autogenerated":case"streaming-model":return"".concat(ce,"datasets/").concat(he);case"datamart":case"data-warehouse":case"lake-warehouse":case"mounted-warehouse":return"".concat(ce,"datamarts/").concat(he);default:return"".concat(ce,"artifacts/").concat(he)}}(bt.extendedArtifactType,bt.objectId)}},te.prototype.onArtifactClicked=function(he){this.logTelemetry(Se(he))},te.prototype.logTelemetry=function(he){this.certifiedEventsService.logStandardizedFeatureEvent({featureName:"Hover Card - Related Content Clicked",activityAttributes:{host:this.hostedEnvironment,hoverCardArtifactType:this.artifactType,clickedItemType:he},activityName:"Hover Card - Related Content Clicked",correlationId:this.telemetryService.root.id,resultCode:"0",activityStatus:"Succeeded"})},te.prototype.mapArtifactsToInternalArtifacts=function(he,ce){var Ie=this;return he?.map(function(Je){var mt,bt,Lt=Se(Je);return(0,u.__assign)((0,u.__assign)({},Je),{routeLink:de(Ie.extensionManifestService,Je.objectId,Lt,null===(mt=Je.workspace)||void 0===mt?void 0:mt.objectId),relatedType:ce,artifactType:Lt,tooltipText:"Upstream"===ce&&null!==(bt=Ie.config)&&void 0!==bt&&bt.shouldMarkSourceItems?Ie.localizationService.format("Source_Item_With_name",Je.displayName):Je.displayName})})},te.prototype.internalArtifactCompareFn=function(he,ce){var Ie;return he.relatedType!==ce.relatedType&&null!==(Ie=this.config)&&void 0!==Ie&&Ie.shouldUpstreamAppearFirst?"Upstream"===he.relatedType?-1:1:he.displayName.localeCompare(ce.displayName)},te.\u0275fac=function(ce){return new(ce||te)(c.\u0275\u0275directiveInject(O.vC),c.\u0275\u0275directiveInject(F.ly),c.\u0275\u0275directiveInject(F.y0),c.\u0275\u0275directiveInject(P.o))},te.\u0275cmp=c.\u0275\u0275defineComponent({type:te,selectors:[["hover-card-relation-section"]],inputs:{upstream:"upstream",downstream:"downstream",artifactType:"artifactType",hostedEnvironment:"hostedEnvironment"},features:[c.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[[4,"ngIf"],[1,"related-artifacts-title"],[4,"ngFor","ngForOf"],[3,"artifactType"],[3,"target","href","triTooltip","triTooltipAlwaysShow","click","keydown.enter"],[1,"artifact-name"],["class","source-item-marker",4,"ngIf"],[1,"source-item-marker"],["target","_blank",1,"show-more-link",3,"href","external","block","size","click"]],template:function(ce,Ie){1&ce&&c.\u0275\u0275template(0,wt,8,9,"ng-container",0),2&ce&&c.\u0275\u0275property("ngIf",Ie.relatedArtifactInternalList&&Ie.relatedArtifactInternalList.length>0)},dependencies:[e.NgForOf,e.NgIf,le.a,U.Z,g.v,e.AsyncPipe,e.LowerCasePipe,e.SlicePipe,pe.F],styles:["[_nghost-%COMP%]   .related-artifacts-title[_ngcontent-%COMP%]{margin-block-end:8px;font-size:var(--fontSizeBase200);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase200)}[_nghost-%COMP%]   li[_ngcontent-%COMP%]{height:32px;overflow:hidden;display:flex;align-items:center}[_nghost-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--colorNeutralBackground1Hover)}[_nghost-%COMP%]   li[_ngcontent-%COMP%]:active{background-color:var(--colorNeutralBackground1Pressed)}[_nghost-%COMP%]   li[_ngcontent-%COMP%]   tri-artifact-icon[_ngcontent-%COMP%]{margin-inline:8px}[_nghost-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:400;font-size:var(--md-font-size);color:var(--globalColorGrey26);display:flex;align-items:center;gap:8px;flex:1;height:100%;overflow:hidden}[_nghost-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .artifact-name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .source-item-marker[_ngcontent-%COMP%]{color:var(--colorNeutralForeground4)}[_nghost-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{white-space:nowrap}[_nghost-%COMP%]   .show-more-link[_ngcontent-%COMP%]{margin-block:8px;color:var(--colorNeutralForeground1);font-size:var(--sm-font-size)}"]}),te}(),L=l(74199);function Q(te,he){1&te&&(c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275element(1,"tri-svg-icon",9),c.\u0275\u0275pipe(2,"localizeFormat"),c.\u0275\u0275pipe(3,"localize"),c.\u0275\u0275pipe(4,"localizeFormat"),c.\u0275\u0275pipe(5,"localize"),c.\u0275\u0275elementContainerEnd()),2&te&&(c.\u0275\u0275advance(1),c.\u0275\u0275property("triTooltip",c.\u0275\u0275pipeBind2(4,8,"Restricted_Artifact_tooltip",c.\u0275\u0275pipeBind1(5,11,"ArtifactKind_Report")))("triTooltipPosition","before"),c.\u0275\u0275attribute("aria-label",c.\u0275\u0275pipeBind2(2,3,"Restricted_Artifact_tooltip",c.\u0275\u0275pipeBind1(3,6,"ArtifactKind_Report"))))}function Z(te,he){if(1&te&&c.\u0275\u0275element(0,"tri-artifact-icon",10),2&te){var ce=c.\u0275\u0275nextContext(2);c.\u0275\u0275property("artifactType",ce.extendedArtifactType)("size",ce.iconSize)}}function Ce(te,he){if(1&te&&(c.\u0275\u0275elementStart(0,"div",11),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),2&te){var ce=c.\u0275\u0275nextContext(2);c.\u0275\u0275property("triTooltip",ce.itemHoverCardArgs.itemDescription),c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate1(" ",ce.itemHoverCardArgs.itemDescription," ")}}function Te(te,he){if(1&te&&c.\u0275\u0275element(0,"dlp-hover-card",14),2&te){var ce=c.\u0275\u0275nextContext(3);c.\u0275\u0275property("artifactId",ce.itemHoverCardArgs.itemId)("artifactType",ce.extendedArtifactType)("artifactObjectId",ce.itemHoverCardArgs.itemObjectId)("hasDlpPolicyTip",ce.itemHoverCardArgs.hasDlpPolicyTip)("restrictions",ce.itemHoverCardArgs.restrictions)("hostedEnvironmentTelemetryHint",ce.itemHoverCardArgs.hostedEnvironmentTelemetryHint)("openLinkInNewTab",ce.itemHoverCardArgs.openLinkInNewTab)("underlyingArtifactId",ce.itemHoverCardArgs.underlyingArtifactId)}}function Ae(te,he){if(1&te&&(c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275element(1,"hover-card-relation-section",15),c.\u0275\u0275elementContainerEnd()),2&te){var ce=c.\u0275\u0275nextContext(3);c.\u0275\u0275advance(1),c.\u0275\u0275property("upstream",ce.upstream)("downstream",ce.downstream)("artifactType",ce.extendedArtifactType)("hostedEnvironment",ce.itemHoverCardArgs.hostedEnvironmentTelemetryHint)}}function Le(te,he){if(1&te&&(c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275elementStart(1,"div",12),c.\u0275\u0275template(2,Te,1,8,"dlp-hover-card",13),c.\u0275\u0275template(3,Ae,2,4,"ng-container",8),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementContainerEnd()),2&te){var ce=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",ce.shouldDisplayDlpSection),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",ce.shouldDisplayRelatedContent&&ce.hasRelatedArtifacts)}}function ut(te,he){if(1&te&&(c.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"div",3),c.\u0275\u0275template(3,Q,6,13,"ng-container",4),c.\u0275\u0275template(4,Z,1,2,"ng-template",null,5,c.\u0275\u0275templateRefExtractor),c.\u0275\u0275elementStart(6,"div",6),c.\u0275\u0275text(7),c.\u0275\u0275elementEnd()(),c.\u0275\u0275template(8,Ce,2,2,"div",7),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(9,Le,4,2,"ng-container",8),c.\u0275\u0275elementEnd()),2&te){var ce=c.\u0275\u0275reference(5),Ie=c.\u0275\u0275nextContext();c.\u0275\u0275advance(3),c.\u0275\u0275property("ngIf","report"===Ie.extendedArtifactType&&!(null==Ie.itemHoverCardArgs.restrictions||!Ie.itemHoverCardArgs.restrictions.blocked))("ngIfElse",ce),c.\u0275\u0275advance(4),c.\u0275\u0275textInterpolate(Ie.itemHoverCardArgs.itemName),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",Ie.itemHoverCardArgs.itemDescription),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",Ie.hasExpandedContent)}}var ne=function(te){return te.Datahab="Datahub",te.HomeRecent="home-recents",te.HomeFavorites="home-favorites",te.WorkspacePage="workspace-page",te}({}),Tt=function(){function te(he,ce,Ie,Je){this.extensionManifestService=he,this.featureSwitchService=ce,this.lazyProvider=Ie,this.changeDetectionRef=Je,this.iconSize="24",this.displayCard=!1,this.hasExpandedContent=!1,this.shouldDisplayDlpSection=!1,this.shouldDisplayRelatedContent=!1,this.hasRelatedArtifacts=!1,this.onDestroy$=new h.xQ}return te.prototype.ngOnInit=function(){this.featureSwitchService.featureSwitches.itemHoverCard_HEAD_FE&&(_.isEmpty(this.itemHoverCardArgs)||!this.itemHoverCardArgs.itemType||(this.extendedArtifactType=(0,v.xO)(this.itemHoverCardArgs.itemType),this.initDisplayRelatedContentSection(),this.evaluateShouldDisplayCard()))},te.prototype.loadRelatedItemContent=function(){return(0,u.__awaiter)(this,void 0,void 0,function(){var he,ce,Ie,Je=this;return(0,u.__generator)(this,function(mt){switch(mt.label){case 0:return[4,this.loadRelationsStore()];case 1:return(he=mt.sent())?(ce=he.getUpstreamDirectNeighborsWholeData(this.itemHoverCardArgs.itemObjectId,this.extendedArtifactType,M.r.HoverCard).pipe((0,f.R)(this.onDestroy$),(0,C.h)(function(bt){return!!bt&&2===bt.requestStatus}),(0,y.q)(1)),Ie=he.getDownstreamDirectNeighborsWholeData(this.itemHoverCardArgs.itemObjectId,this.extendedArtifactType,M.r.HoverCard).pipe((0,f.R)(this.onDestroy$),(0,C.h)(function(bt){return!!bt&&2===bt.requestStatus}),(0,y.q)(1)),(0,d.aj)([ce,Ie]).subscribe(function(bt){var Lt=bt[0],Ut=bt[1];(Lt.artifacts&&Lt.artifacts.size>0||Ut.artifacts&&Ut.artifacts.size>0)&&(Je.hasRelatedArtifacts=!0,Je.evaluateShouldDisplayCard(),Je.upstream=Lt,Je.downstream=Ut,Je.changeDetectionRef.markForCheck())}),[2]):[2]}})})},te.prototype.initDisplayRelatedContentSection=function(){return(0,u.__awaiter)(this,void 0,void 0,function(){var he,ce;return(0,u.__generator)(this,function(Ie){switch(Ie.label){case 0:return he=this,this.itemHoverCardArgs.shouldHideRelatedContent?(ce=!1,[3,3]):[3,1];case 1:return[4,this.shouldDisplayRelatedContentSectionIfExists()];case 2:ce=Ie.sent(),Ie.label=3;case 3:return he.shouldDisplayRelatedContent=ce,this.shouldDisplayRelatedContent&&this.loadRelatedItemContent(),[2]}})})},te.prototype.evaluateShouldDisplayDlpSection=function(){return!!this.featureSwitchService.featureSwitches.dlpHoverCardPolicies_HEAD_DLP_FE&&!!this.featureSwitchService.featureSwitches.dlpPolicyTip&&!!this.itemHoverCardArgs.hasDlpPolicyTip},te.prototype.shouldDisplayDlpRestrictionsCard=function(){return!!this.featureSwitchService.featureSwitches.restrictAccess_HEAD_DLP_FE&&!_.isEmpty(this.itemHoverCardArgs.restrictions)&&(this.itemHoverCardArgs.restrictions.blocked||(this.itemHoverCardArgs.restrictions.restrictionSources&I.i.DLP)===I.i.DLP)},te.prototype.shouldDisplayRelatedContentSectionIfExists=function(){return(0,u.__awaiter)(this,void 0,void 0,function(){var he,ce;return(0,u.__generator)(this,function(Je){switch(Je.label){case 0:if(!this.featureSwitchService.featureSwitches.hoverCardRelatedContent_HEAD_Lineage_FE||!this.itemHoverCardArgs.itemObjectId||!this.extendedArtifactType)return[2,!1];he=(0,b.jb)(this.extendedArtifactType)&&!(0,b.nk)(this.extendedArtifactType),ce=null,Je.label=1;case 1:return Je.trys.push([1,3,,4]),[4,this.extensionManifestService.isTridentArtifact(this.extendedArtifactType)];case 2:return ce=Je.sent(),[3,4];case 3:return Je.sent(),[2,!1];case 4:return(he||ce)&&this.itemHoverCardArgs.hostedEnvironmentTelemetryHint===ne.Datahab?[2,!0]:[2,!1]}})})},te.prototype.loadRelationsStore=function(){return this.lazyProvider.get("@powerbi/RelationsStore/relations.module#RelationsStoreModule","RelationsStoreService")},te.prototype.shouldDisplayRelatedContentSection=function(){return this.shouldDisplayRelatedContent&&this.hasRelatedArtifacts},te.prototype.evaluateShouldDisplayCard=function(){this.shouldDisplayDlpSection=this.evaluateShouldDisplayDlpSection()||this.shouldDisplayDlpRestrictionsCard(),this.hasExpandedContent=this.shouldDisplayDlpSection||this.shouldDisplayRelatedContentSection(),this.displayCard=!!this.itemHoverCardArgs.itemDescription||this.hasExpandedContent},te.prototype.ngOnDestroy=function(){this.onDestroy$.next(),this.onDestroy$.complete()},te.\u0275fac=function(ce){return new(ce||te)(c.\u0275\u0275directiveInject(O.vC),c.\u0275\u0275directiveInject(T.vZ),c.\u0275\u0275directiveInject(k.E),c.\u0275\u0275directiveInject(c.ChangeDetectorRef))},te.\u0275cmp=c.\u0275\u0275defineComponent({type:te,selectors:[["item-hover-card"]],inputs:{itemHoverCardArgs:"itemHoverCardArgs"},decls:1,vars:1,consts:[["class","item-hover-card",4,"ngIf"],[1,"item-hover-card"],[1,"primary-content"],[1,"title"],[4,"ngIf","ngIfElse"],["artifactIcon",""],[1,"item-name"],["class","description",3,"triTooltip",4,"ngIf"],[4,"ngIf"],["tri-svg-icon-24","","name","restricted_report_24_item","sprite","artifact-colored-icons",3,"triTooltip","triTooltipPosition"],[3,"artifactType","size"],[1,"description",3,"triTooltip"],[1,"expanded-content"],["class","expanded-element",3,"artifactId","artifactType","artifactObjectId","hasDlpPolicyTip","restrictions","hostedEnvironmentTelemetryHint","openLinkInNewTab","underlyingArtifactId",4,"ngIf"],[1,"expanded-element",3,"artifactId","artifactType","artifactObjectId","hasDlpPolicyTip","restrictions","hostedEnvironmentTelemetryHint","openLinkInNewTab","underlyingArtifactId"],[1,"expanded-element",3,"upstream","downstream","artifactType","hostedEnvironment"]],template:function(ce,Ie){1&ce&&c.\u0275\u0275template(0,ut,10,5,"div",0),2&ce&&c.\u0275\u0275property("ngIf",Ie.displayCard)},dependencies:[e.NgIf,H,le.a,x.M,U.Z,ie,pe.F,L.j],styles:['[_nghost-%COMP%]{--hover-card-max-height: inherit}.hover-card-default-max-height[_nghost-%COMP%]{--hover-card-max-height: 625px}@media only screen and (max-height: 640px){.hover-card-default-max-height[_nghost-%COMP%]{--hover-card-max-height: 256px}}[_nghost-%COMP%]   .item-hover-card[_ngcontent-%COMP%]{display:flex;background-color:var(--colorNeutralBackground1);width:320px;box-sizing:border-box;box-shadow:0 8px 16px rgba(0,0,0,.14),0 0 2px rgba(0,0,0,.12);border-radius:4px;flex-direction:column;align-items:flex-start;max-height:var(--hover-card-max-height)}html:not([dir="rtl"])   [_nghost-%COMP%]   .item-hover-card[_ngcontent-%COMP%]{padding:0 24px}html[dir="rtl"]   [_nghost-%COMP%]   .item-hover-card[_ngcontent-%COMP%]{padding:0 24px}[_nghost-%COMP%]   .item-hover-card[_ngcontent-%COMP%]   .primary-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:272px}html:not([dir="rtl"])   [_nghost-%COMP%]   .item-hover-card[_ngcontent-%COMP%]   .primary-content[_ngcontent-%COMP%]{padding:24px 0 16px}html[dir="rtl"]   [_nghost-%COMP%]   .item-hover-card[_ngcontent-%COMP%]   .primary-content[_ngcontent-%COMP%]{padding:24px 0 16px}[_nghost-%COMP%]   .item-hover-card[_ngcontent-%COMP%]   .primary-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;text-overflow:ellipsis;overflow:hidden;padding:0;gap:8px}[_nghost-%COMP%]   .item-hover-card[_ngcontent-%COMP%]   .primary-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground3);flex-shrink:0}[_nghost-%COMP%]   .item-hover-card[_ngcontent-%COMP%]   .primary-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600);line-height:20px;color:var(--colorNeutralForeground1);word-break:break-word}[_nghost-%COMP%]   .item-hover-card[_ngcontent-%COMP%]   .primary-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:18px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);color:var(--colorNeutralForeground2);width:100%;word-wrap:break-word;text-overflow:ellipsis;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical}[_nghost-%COMP%]   .item-hover-card[_ngcontent-%COMP%]   .expanded-content[_ngcontent-%COMP%]{width:272px;overflow:scroll;gap:4px}[_nghost-%COMP%]   .item-hover-card[_ngcontent-%COMP%]   .expanded-content[_ngcontent-%COMP%]   .expanded-element[_ngcontent-%COMP%]{display:block;border-top:1px solid var(--globalColorGrey82);padding-block:16px}'],changeDetection:0}),te}()},4965:function(Y,X,l){"use strict";l.d(X,{V:function(){return O}});var u=l(77476),h=l(9398),d=l(79061),f=l(59231),C=l(92671),y=l(82156),I=l(17177),v=l(8816),M=l(16149),b=l(50423),O=function(){function c(){}return c.\u0275fac=function(k){return new(k||c)},c.\u0275mod=b.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=b.\u0275\u0275defineInjector({imports:[u.CommonModule,h.Bz,d.v,y.N,f.F,C.u,I.T6,v.w,M.m]}),c}()},47754:function(Y,X,l){"use strict";l.d(X,{L:function(){return B}});var u=l(82515),h=l(14463),d=l(34410),f=l(59055),C=l(38078),y=l(98665),I=l(76609),v=l(50423),M=l(27887),b=l(32140),O=l(18942),c=l(85732),e="",B=function(){function j(F,W,D,P,K,N,g,A){this.applicationOptions=F,this.userInfo=W,this.userProfileImageService=D,this.telemetryService=P,this.sanitizer=K,this.store=N,this.groupPhotos=[],this.userPhotos=[],this.findGroupIconPromises=[],this.getOtherUserPhotoPromises=[],this.getGroupIconPromises=[],this.userMetadataHttpService=g,this.promiseFactory=A}return j.prototype.getGroupIcons=function(F){var W=this;if(void 0===F&&(F=4900),this.groupIconsPromise)return this.groupIconsPromise;var D=this.promiseFactory.defer();return setTimeout(function(){var P=W.telemetryService.startEvent(f.Sj);W.userMetadataHttpService.getUserGroupIcons(P.event).toPromise().then(function(K){K.data&&(D.resolve(K.data),W.store.dispatch(new u.YI({groupIcons:K.data})))},function(){D.reject()})},F),this.groupIconsPromise=D.promise,D.promise},j.prototype.getGroupIcon=function(F,W){var D=this;void 0===W&&(W=4900);var P=_.find(this.getGroupIconPromises,function(g){return g.groupObjectId===F});if(P)return P.promise;var K=this.promiseFactory.defer(),N=this.applicationOptions.isE2ERun?this.getRejectedHttpResultPromiseWithNotFound():this.userMetadataHttpService.getGroupIcon(F).toPromise();return setTimeout(function(){N.then(function(g){if(g.data){var A=D.base64Enconding(g.data.groupIcon);K.resolve(A),D.groupPhotos.push({groupObjectId:F,groupIcon:A})}else K.reject()},function(g){D.resultHasStatusEquivalentOfNotFound(g.status)?(K.resolve(e),D.groupPhotos.push({groupObjectId:F,groupIcon:e})):K.reject()})},W),this.getGroupIconPromises.push({groupObjectId:F,promise:K.promise}),K.promise},j.prototype.getUserPhoto=function(){var F=this;if(this._userPhotoPromise)return this._userPhotoPromise;var W=this.userProfileImageService.getUserPhoto();return this._userPhotoPromise=W,W.then(function(D){F.userPhotos.push({userObjectId:F.userInfo.puid,userIcon:D});var P=D.substring(4,D.length-1),K=F.sanitizer.bypassSecurityTrustUrl(P);F.store.dispatch(new u.Ar(K))},function(D){if(D.name!==I.SJ)throw D}),W},j.prototype.getOtherUserPhoto=function(F){var W=this,D=_.find(this.getOtherUserPhotoPromises,function(N){return N.userObjectId===F});if(D)return D.promise;var P=this.promiseFactory.defer();return(this.applicationOptions.isE2ERun?this.getRejectedHttpResultPromiseWithNotFound():this.userMetadataHttpService.getOtherUserPhoto(F).toPromise()).then(function(N){if(N.data.type===C.JA){var g=URL.createObjectURL(N.data);return P.resolve(g),void W.userPhotos.push({userObjectId:F,userIcon:g})}P.reject()},function(N){W.resultHasStatusEquivalentOfNotFound(N.status)?(P.resolve(e),W.userPhotos.push({userObjectId:F,userIcon:e})):P.reject()}),this.getOtherUserPhotoPromises.push({userObjectId:F,promise:P.promise}),P.promise},j.prototype.findGroupIcon=function(F,W){var D=this,P=_.find(this.findGroupIconPromises,function(N){return N.groupObjectId===F});if(P)return P.promise;var K=this.promiseFactory.defer();return this.getGroupIcons(W).then(function(N){var g=_.find(N,function(G){return G.groupObjectId===F});if(g){var A=D.base64Enconding(g.groupIcon);K.resolve(A),D.groupPhotos.push({groupObjectId:F,groupIcon:A})}else K.reject("Group with objectid "+F+" has no icon")},function(){K.reject()}),this.findGroupIconPromises.push({groupObjectId:F,promise:K.promise}),K.promise},j.prototype.findOrGetGroupPhoto=function(F){var W=this,D=this.promiseFactory.defer(),P=_.find(this.groupPhotos,function(K){return K.groupObjectId===F});return P?P.groupIcon!==e?D.resolve(P.groupIcon):D.reject():this.findGroupIcon(F).then(function(K){D.resolve(K)},function(){W.getGroupIcon(F).then(function(K){D.resolve(K)},function(K){D.reject()})}),D.promise},j.prototype.findOrGetUserPhoto=function(F){var W=this.promiseFactory.defer(),D=_.find(this.userPhotos,function(P){return P.userObjectId===F});return D?D.userIcon!==e?W.resolve(D.userIcon):W.reject():F===this.userInfo.puid?this._userPhotoPromise&&this._userPhotoPromise.then(function(P){W.resolve(P)}):this.getOtherUserPhoto(F).then(function(P){P?W.resolve(P):W.reject()}),W.promise},j.prototype.base64Enconding=function(F){return"data:image/jpeg;base64,"+F},j.prototype.resultHasStatusEquivalentOfNotFound=function(F){return 404===F||400===F||500===F},j.prototype.getRejectedHttpResultPromiseWithNotFound=function(){return this.promiseFactory.reject({data:{},status:404,headers:function(){return""}})},j.\u0275fac=function(W){return new(W||j)(v.\u0275\u0275inject(M.V),v.\u0275\u0275inject(b.a),v.\u0275\u0275inject(I.lH),v.\u0275\u0275inject(y.y0),v.\u0275\u0275inject(O.H7),v.\u0275\u0275inject(c.yh),v.\u0275\u0275inject(d.y),v.\u0275\u0275inject(h.t))},j.\u0275prov=v.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac,providedIn:"root"}),j}()},38549:function(Y,X,l){"use strict";l.r(X),l.d(X,{PublishToGroupDialogModule:function(){return lT}});var u=l(77476),h=l(17174),d=l(60756),f=l(32293),C=l(47347),y=l(42729),I=l(72359),v=l(96327),M=l(39433),b=l(59051),O=l(92671),c=l(81337),T=function(t){return t.Icon="icon",t.Name="name",t.Owner="owner",t.LastRefresh="last-refresh",t.NextRefresh="next-refresh",t.Endorsement="endorsement",t.Type="type",t.ViewCount="viewCount",t.GitStatus="git-status",t.IncludeInApp="includeInApp",t.Sensitivity="Sensitivity",t.LastAccess="last-access",t.LastActivity="last-activity",t.Relation="relation",t.Location="location",t.SharedTime="shared-time",t.Description="description",t.HiddenTime="hidden-time",t.Version="version",t.Organization="organization",t.SharedBy="shared-by",t.Task="task",t.Score="score",t.DomainsWorkspacePath="domains-workspace-path",t}({}),k=l(35510),e=l(50423),B=function(){function t(){this.currentFilter=new Map,this.filter$=new k.X(this.currentFilter)}return t.prototype.getFilter=function(){return this.filter$.asObservable()},t.prototype.clearAllFilters=function(){this.currentFilter.clear(),this.filter$.next(this.currentFilter)},t.prototype.clearAllFiltersExcept=function(r){for(var i=0,o=Array.from(this.currentFilter.keys());i<o.length;i++){var a=o[i];r.includes(a)||this.currentFilter.delete(a)}this.filter$.next(this.currentFilter)},t.prototype.hasNameFilterApplied=function(){var r=this.currentFilter;return!!r.has(T.Name)&&!!r.get(T.Name)},t.prototype.hasFilterApplied=function(){var r=this.currentFilter;return r.has(T.Name)?!!r.get(T.Name):r.size>=1},t.prototype.hasFilterAppliedExceptName=function(){var r=this.currentFilter;return r.has(T.Name)?r.size>=2:r.size>=1},t.prototype.checkFilterApplied=function(r,n){if(!this.isValidColumnName(r))return!1;var i=this.currentFilter.get(r);if(!i)return!1;switch(r){case T.Type:var o=i.values;return!_.isEmpty(o)&&-1!==o.indexOf(n);case T.Owner:var a=i.values;return!_.isEmpty(a)&&-1!==a.indexOf(n);case T.IncludeInApp:case T.LastAccess:case T.SharedTime:case T.Task:return i.values===n;case T.Relation:var s=i.values;return!_.isEmpty(s)&&-1!==s.indexOf(n);default:return!1}},t.prototype.addFilter=function(r,n){if(this.isValidColumnName(r)){this.currentFilter.has(r)||this.currentFilter.set(r,{disabled:!1,values:null});var i=this.currentFilter.get(r);switch(r){case T.Type:case T.Owner:i.values=i.values||[],i.values.push(n);break;case T.IncludeInApp:i.values=!!n;break;case T.Name:case T.LastAccess:case T.SharedTime:i.values=n;break;default:i.values=i.values||[],i.values.push(n)}this.filter$.next(this.currentFilter)}},t.prototype.removeFilter=function(r,n){if(this.isValidColumnName(r)){var i=this.currentFilter.get(r);if(i){switch(r){case T.Type:var o=i.values;_.pull(o,n),_.isEmpty(o)&&this.currentFilter.delete(T.Type);break;case T.Owner:var a=i.values;_.pull(a,n),_.isEmpty(a)&&this.currentFilter.delete(T.Owner);break;case T.IncludeInApp:this.currentFilter.delete(T.IncludeInApp);break;case T.Name:case T.LastAccess:case T.SharedTime:case T.Task:this.currentFilter.delete(r);break;case T.Relation:var s=i.values;_.pull(s,n),_.isEmpty(s)&&this.currentFilter.delete(T.Relation);break;case T.Endorsement:var p=i.values;_.pull(p,n),_.isEmpty(p)&&this.currentFilter.delete(T.Endorsement);break;default:var m=i.values;_.pull(m,n),_.isEmpty(m)&&this.currentFilter.delete(r)}this.filter$.next(this.currentFilter)}}},t.prototype.clearFilterByType=function(r){this.currentFilter.delete(r),this.filter$.next(this.currentFilter)},t.prototype.updateFilterState=function(r,n){if(this.isValidColumnName(r)){var i=this.currentFilter.get(r);i&&(this.currentFilter.set(r,(0,c.__assign)((0,c.__assign)({},i),n)),this.filter$.next(this.currentFilter))}},t.prototype.addFilters=function(r,n){var i,o,a,s,p;if(this.isValidColumnName(r)){this.currentFilter.has(r)||this.currentFilter.set(r,{disabled:!1,values:null});var m=this.currentFilter.get(r);switch(r){case T.Type:m.values=m.values||[],(i=m.values).push.apply(i,n||[]);break;case T.Owner:m.values=m.values||[],(o=m.values).push.apply(o,n||[]);break;case T.IncludeInApp:m.values=!!n;break;case T.Name:case T.LastAccess:case T.SharedTime:case T.Task:m.values=n;break;case T.Relation:m.values=m.values||[],(a=m.values).push.apply(a,n||[]);break;case T.Endorsement:m.values=m.values||[],(s=m.values).push.apply(s,n||[]);break;default:m.values=m.values||[],(p=m.values).push.apply(p,n||[])}this.filter$.next(this.currentFilter)}},t.prototype.getFilterState=function(r){return this.currentFilter.get(r)},t.prototype.isValidColumnName=function(r){return r===T.Type||r===T.Owner||r===T.IncludeInApp||r===T.Name||r===T.Relation||r===T.Endorsement||r===T.LastAccess||r===T.Organization||r===T.SharedTime||r===T.Task},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac=function(n){return new(n||t)}}),t}(),j=l(73471),F=l(69637),W=l(30794),D=l(83317),P=l(14172),K=l(41114),N="PBI.ContentList.OpenFluentListFilterPane",g=K.cx[N]=(0,K.b1)(N),A="PBI.Dashboard.GetRefreshHistoriesOnRefreshFailures",z=(K.cx[A]=(0,K.b1)(A),"PBI.FluentList.ResizeColumnEnd"),H=K.cx[z]=(0,K.b1)(z),le="PBI.ArtifactList.Unavailable.TryAgain",x=K.cx[le]=(0,K.b1)(le),U=l(98665),V=l(77526),q=function(t){return t[t.None=0]="None",t[t.Filter=1]="Filter",t[t.Git=2]="Git",t}({}),se=function(){function t(r){this.telemetryService=r,this.sidenavOpened$=new k.X(q.None)}return t.prototype.getSidenavKindOpened=function(){return this.sidenavOpened$.asObservable()},t.prototype.getSidenavOpened=function(r){return this.getSidenavKindOpened().pipe((0,P.U)(function(n){return n===r}),(0,V.x)())},t.prototype.toggleSidenav=function(r,n){this.sidenavOpened$.value===r?this.closeSidenav():this.openSidenav(r,n)},t.prototype.openSidenav=function(r,n){n&&this.telemetryService.logEvent(n),this.sidenavOpened$.next(r)},t.prototype.closeSidenav=function(){this.sidenavOpened$.next(q.None)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(U.y0))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}(),ue=function(){function t(r){this.fluentSidenavToggleService=r,this.filterButtonEnabled$=new k.X(!1)}return t.prototype.getFilterPaneOpened=function(){return this.fluentSidenavToggleService.getSidenavOpened(q.Filter)},t.prototype.toggleFilterPane=function(){this.fluentSidenavToggleService.toggleSidenav(q.Filter,g)},t.prototype.openFilterPane=function(){this.fluentSidenavToggleService.openSidenav(q.Filter,g)},t.prototype.closeFilterPane=function(){this.fluentSidenavToggleService.closeSidenav()},t.prototype.setFilterButtonEnabled=function(r){this.filterButtonEnabled$.next(r)},t.prototype.getFilterButtonEnabled=function(){return this.filterButtonEnabled$.asObservable()},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(se))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}(),_e=l(65181),ge=l(44408),We=l(59968),Oe=l(22844),Be=l(50057),re=l(51193),fe=l(69437),me=l(2467),Se=l(36858),Ke=l(85102);function tt(t,r){if(1&t&&e.\u0275\u0275element(0,"mat-icon",15),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate("fontIcon",n.iconName)}}function ct(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",16),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.displayName)}}function ae(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",17),e.\u0275\u0275element(2,"pbi-office-icon",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"span",19),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("name","Datamart_16")("pbiTooltip",n.typeName||n.displayName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.displayName)}}function Me(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0,10),e.\u0275\u0275elementStart(1,"mat-checkbox",11),e.\u0275\u0275listener("change",function(a){var p=e.\u0275\u0275restoreView(n).$implicit,m=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(m.onCheckBoxChange(a,p))}),e.\u0275\u0275template(2,tt,1,1,"mat-icon",12),e.\u0275\u0275template(3,ct,2,1,"span",13),e.\u0275\u0275template(4,ae,5,3,"ng-container",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&t){var i=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",i.checked)("disabled",i.disabled)("title",i.displayName),e.\u0275\u0275attribute("data-testid",i.displayName+"-workspace-filter-checkbox"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Datamart"!==i.displayName&&!!i.iconName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Datamart"!==i.displayName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Datamart"===i.displayName)}}function ke(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span",8),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Me,5,7,"ng-container",9),e.\u0275\u0275elementContainerEnd()),2&t){var n=r.$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,n)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",i.availableFilters.get(n))("ngForTrackBy",i.trackByFilterValue)}}var de=function(){return{"aria-label":"Close"}},Re=function(){return{"aria-label":"Filter_ClearAll"}},Ee=function(){function t(r,n,i,o){this.ref=r,this.fluentListFilterService=n,this.fluentListFilterPaneService=i,this.localizationService=o,this.destroy$=new W.xQ}return t.prototype.ngOnInit=function(){var n,i,r=this;this.filter$=this.fluentListFilterService.getFilter(),this.availableFilters=new Map,this.generateFilterOptions(),null===(n=this.dataSource$)||void 0===n||n.subscribe(function(o){var a;r.dataSource=o,null===(a=r.dataSource)||void 0===a||a.connect().pipe((0,D.R)(r.destroy$)).subscribe(function(){r.generateFilterOptions()})}),null===(i=this.dataSource)||void 0===i||i.connect().pipe((0,D.R)(this.destroy$)).subscribe(function(){r.generateFilterOptions()}),this.filter$.pipe((0,D.R)(this.destroy$)).subscribe(function(){return r.updateFilterOptions()}),this.hasFilterApplied$=this.filter$.pipe((0,D.R)(this.destroy$),(0,P.U)(function(){return r.fluentListFilterService.hasFilterAppliedExceptName()}))},t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.prototype.generateFilterOptions=function(){var r=this;this.availableFilters.clear(),this.dataSource&&(this.availableFilters.set("Type",_.sortBy(_.uniqWith(_.map(this.dataSource.data,function(n){var i=8===n.type?n.isStreaming?9:8:n.type;return{value:i,displayName:n.typeName,columnName:T.Type,iconName:r.getFilterTypeIcon(i)}}),this.typeComparator),"displayName")),this.hideOwnerFilter||this.availableFilters.set("Owner_Lowercase",_.sortBy(_.uniqBy(_.map(this.dataSource.data,function(n){return{value:n.owner,displayName:n.owner,columnName:T.Owner}}),"value"),"displayName").filter(function(n){return!!n.displayName&&""!==n.displayName.trim()})),this.showIncludeInAppFilter&&this.availableFilters.set("GroupingDefinition_OtherGroupName",_.sortBy(_.uniqBy(_.map(this.dataSource.data,function(n){return{value:!!n.isIncludedInApp,displayName:r.localizationService.get(n.isIncludedInApp?"Include_In_The_App_Filter":"Not_Include_In_The_App_Filter"),columnName:T.IncludeInApp,iconName:"pbi-glyph-my-apps"}}),"value"),"displayName")),this.showEndorsementFilter&&this.availableFilters.set("Endorsement",_.sortBy(_.uniqBy(_.map(this.dataSource.data,function(n){return{value:n.endorsement&&n.endorsement.stage?n.endorsement.stage:null,displayName:r.getEndorsementString(n),columnName:T.Endorsement}}),"value"),"displayName")),this.showLastAccessFilter&&this.availableFilters.set("Opened",_.sortBy(_.uniqBy(_.map(this.dataSource.data,function(n){return{value:n.lastAccessTime,displayName:n.lastAccessTime,columnName:T.LastAccess,numericSort:(0,F.YL)(n.lastAccess)}}),"value"),"numericSort").filter(function(n){return!!n.displayName&&""!==n.displayName.trim()})),this.showRelationFilter&&this.availableFilters.set("Relation",_.sortBy(_.uniqBy(_.map(this.dataSource.data,function(n){return{value:n?.relation,displayName:r.localizationService.get(n?.relation),columnName:T.Relation}}),"value"),"displayName")),this.updateFilterOptions())},t.prototype.typeComparator=function(r,n){return r.value===n.value||6===r.value&&2===n.value||2===r.value&&6===n.value},t.prototype.closeFilterPane=function(){this.fluentListFilterPaneService.closeFilterPane()},t.prototype.onCheckBoxChange=function(r,n){r.checked?this.fluentListFilterService.addFilter(n.columnName,n.value):this.fluentListFilterService.removeFilter(n.columnName,n.value)},t.prototype.updateFilterOptions=function(){var r=this;this.availableFilters.forEach(function(n,i){_.forEach(n,function(o){o.checked=r.fluentListFilterService.checkFilterApplied(o.columnName,o.value);var a=r.fluentListFilterService.getFilterState(o.columnName);o.disabled=a&&a.disabled})}),this.ref.markForCheck()},t.prototype.getFilterTypeIcon=function(r){switch(r){case 5:return"pbi-glyph-my-apps";case 8:case 103:return"pbi-glyph-dataflow";case 9:return"pbi-glyph-streamingdataflow";case 1:return"pbi-glyph-gauge";case 3:return"pbi-glyph-database";case 6:case 2:return"pbi-glyph-barchart";case 4:return"pbi-glyph-excel";case 7:return"pbi-glyph-collections";case 10:return"pbi-glyph-trophy2"}},t.prototype.clearAllFilter=function(){this.fluentListFilterService.clearAllFilters()},t.prototype.trackByFilterSection=function(r,n){return n},t.prototype.trackByFilterValue=function(r,n){return n.value},t.prototype.getEndorsementString=function(r){var n,i,o="None";return(null===(n=r?.endorsement)||void 0===n?void 0:n.stage)===j.X_.Promoted?o="Promoted":(null===(i=r?.endorsement)||void 0===i?void 0:i.stage)===j.X_.Certified&&(o="Certified"),this.localizationService.get(o)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(B),e.\u0275\u0275directiveInject(ue),e.\u0275\u0275directiveInject(_e.o))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["artifact-list-filter-pane"]],inputs:{dataSource:"dataSource",dataSource$:"dataSource$",hideOwnerFilter:"hideOwnerFilter",showIncludeInAppFilter:"showIncludeInAppFilter",showEndorsementFilter:"showEndorsementFilter",showLastAccessFilter:"showLastAccessFilter",showRelationFilter:"showRelationFilter"},decls:10,vars:9,consts:[["localize","Filters","localizeTooltip","Filters",1,"title"],["cdkMonitorElementFocus","","data-testid","workspace-filter-pane-close-btn","localizeTooltip","Close",1,"closebtn",3,"localizeAttr","click"],["fontIcon","pbi-glyph-close",1,"glyph-small"],[1,"command"],["cdkMonitorElementFocus","","data-testid","workspace-filter-pane-clear-btn","localizeTooltip","Filter_ClearAll",1,"clearbtn",3,"disabled","localizeAttr","click"],["fontIcon","pbi-glyph-clear-filter",1,"glyph-small"],["localize","Filter_ClearAll"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"section"],["class","filter",4,"ngFor","ngForOf","ngForTrackBy"],[1,"filter"],[3,"checked","disabled","title","change"],["class","glyph-small filterTagIcon",3,"fontIcon",4,"ngIf"],["class","filterTagContent",4,"ngIf"],[4,"ngIf"],[1,"glyph-small","filterTagIcon",3,"fontIcon"],[1,"filterTagContent"],[1,"datamartIcon"],["pbiTooltipPosition","before","aria-hidden","false",3,"name","pbiTooltip"],["data-testid","filter-artifact-tag",1,"datamartTagName"]],template:function(n,i){1&n&&(e.\u0275\u0275elementStart(0,"section"),e.\u0275\u0275element(1,"span",0),e.\u0275\u0275elementStart(2,"button",1),e.\u0275\u0275listener("click",function(){return i.closeFilterPane()}),e.\u0275\u0275element(3,"mat-icon",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"section",3)(5,"button",4),e.\u0275\u0275listener("click",function(){return i.clearAllFilter()}),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275element(7,"mat-icon",5)(8,"span",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(9,ke,5,5,"ng-container",7)),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("localizeAttr",e.\u0275\u0275pureFunction0(7,de)),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!e.\u0275\u0275pipeBind1(6,5,i.hasFilterApplied$))("localizeAttr",e.\u0275\u0275pureFunction0(8,Re)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",i.availableFilters.keys())("ngForTrackBy",i.trackByFilterSection))},dependencies:[u.NgForOf,u.NgIf,ge.Hw,We.X,Oe.b,Be.r,re.kH,fe.m,me.FC,Se.V,u.AsyncPipe,Ke.F],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]     .mat-checkbox{padding:0 8px}[_nghost-%COMP%]     .mat-checkbox .mat-checkbox-layout{display:flex;align-items:center}[_nghost-%COMP%]     .mat-checkbox .mat-checkbox-layout>.mat-checkbox-inner-container{margin:6px 8px;height:20px;width:20px;color:var(--fluent-theme-neutral-secondary-color, #605E5C)}[_nghost-%COMP%]     .mat-checkbox .mat-checkbox-layout .mat-checkbox-label{display:flex;min-width:0;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);line-height:20px;padding:6px 0;color:var(--fluent-theme-neutral-primary-color, #323130)}[_nghost-%COMP%]     .mat-checkbox .mat-checkbox-layout .mat-checkbox-label .filterTagIcon{margin:0 4px}[_nghost-%COMP%]     .mat-checkbox .mat-checkbox-layout .mat-checkbox-label .filterTagContent{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;margin:0 8px}[_nghost-%COMP%]     .mat-checkbox .datamartIcon{width:16px;height:16px;margin:2px 0 0 3px}[_nghost-%COMP%]     .mat-checkbox .datamartTagName{margin-left:15px}[_nghost-%COMP%]     .mat-checkbox .mat-checkbox-frame{border-width:1px}[_nghost-%COMP%]     .mat-checkbox.mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:var(--fluent-theme-primary-color, #F2C811)}[_nghost-%COMP%]     .mat-checkbox .mat-checkbox-checkmark-path{stroke:var(--checkmark-primary-content-color, #323130)!important}[_nghost-%COMP%]     .mat-checkbox.mat-checkbox-disabled{opacity:.3}','.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-selection-list[_ngcontent-%COMP%]{padding-top:0}virtual-scroll[_ngcontent-%COMP%]     .scrollable-content{position:unset}mat-list-option.filter[_ngcontent-%COMP%]{height:32px;outline:unset}mat-list-option.filter[_ngcontent-%COMP%]:hover, mat-list-option.filter[_ngcontent-%COMP%]:focus{background-color:var(--fluent-theme-white-color, #FFF)}mat-list-option.filter.cdk-keyboard-focused[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}mat-list-option.filter[_ngcontent-%COMP%]     .mat-list-text{flex-direction:row;min-width:0;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);line-height:20px;color:var(--fluent-theme-neutral-primary-color, #323130)}html:not([dir="rtl"])[_nghost-%COMP%]   mat-list-option.filter[_ngcontent-%COMP%]     .mat-list-text, html:not([dir="rtl"])   [_nghost-%COMP%]   mat-list-option.filter[_ngcontent-%COMP%]     .mat-list-text{padding-left:8px}html[dir="rtl"][_nghost-%COMP%]   mat-list-option.filter[_ngcontent-%COMP%]     .mat-list-text, html[dir="rtl"]   [_nghost-%COMP%]   mat-list-option.filter[_ngcontent-%COMP%]     .mat-list-text{padding-right:8px}mat-list-option.filter[_ngcontent-%COMP%]     .mat-pseudo-checkbox{border-width:1px;width:20px;height:20px}mat-list-option.filter[_ngcontent-%COMP%]     .mat-pseudo-checkbox-checked{background-color:var(--fluent-theme-primary-color, #F2C811)}.expander[_ngcontent-%COMP%], .expander[_ngcontent-%COMP%]:hover{color:var(--fluent-theme-dark-alt-color, #DAB50F);border:none;background-color:transparent}section[_ngcontent-%COMP%]{display:flex}section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--xlg-font-size, 20px);font-weight:var(--font-weight-semi-bold, 600);color:var(--fluent-theme-neutral-primary-color, #323130);line-height:27px;margin:0;display:flex;flex:1 1 auto}html:not([dir="rtl"])[_nghost-%COMP%]   section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:16px 20px 11px 16px}html[dir="rtl"][_nghost-%COMP%]   section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:16px 16px 11px 20px}section[_ngcontent-%COMP%]   .closebtn[_ngcontent-%COMP%]{padding:12px;background-color:var(--fluent-theme-white-color, #FFF);border:none;flex:0 0 auto;display:flex}section[_ngcontent-%COMP%]   .closebtn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-secondary-color, #605E5C);padding:8px}section[_ngcontent-%COMP%]   .closebtn.cdk-keyboard-focused[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-primary-color, #323130);background-color:var(--fluent-theme-white-color, #FFF);border:none;padding:0;align-items:center;display:flex}html:not([dir="rtl"])[_nghost-%COMP%]   section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]{padding-left:8px}html[dir="rtl"][_nghost-%COMP%]   section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]{padding-right:8px}section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-mobile-color, #212121);padding:14px 8px;display:inline-flex}section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);line-height:19px}html:not([dir="rtl"])[_nghost-%COMP%]   section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:12px 8px 12px 0}html[dir="rtl"][_nghost-%COMP%]   section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:12px 0 12px 8px}section[_ngcontent-%COMP%]   .clearbtn.cdk-keyboard-focused[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]:disabled, section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]:disabled   mat-icon[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-tertia-color, #A19F9D)}section.command[_ngcontent-%COMP%]{border-bottom:1px solid var(--fluent-theme-neutral-light-color, #EDEBE9);margin-bottom:5px}.section[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600);line-height:20px}html:not([dir="rtl"])[_nghost-%COMP%]   .section[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .section[_ngcontent-%COMP%]{padding:16px 16px 8px}html[dir="rtl"][_nghost-%COMP%]   .section[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .section[_ngcontent-%COMP%]{padding:16px 16px 8px}.filterSection[_ngcontent-%COMP%], .sectionTitle[_ngcontent-%COMP%]{display:block}.mat-icon[_ngcontent-%COMP%]{overflow:visible}.mat-icon.glyph-small[_ngcontent-%COMP%]{font-size:var(--lg-font-size, 16px);width:var(--lg-font-size, 16px);height:var(--lg-font-size, 16px)}.mat-icon.glyph-mini[_ngcontent-%COMP%]{font-size:var(--sm-font-size, 12px);width:var(--sm-font-size, 12px);height:var(--sm-font-size, 12px)}.mat-icon.mat-ligature-font[fontIcon][_ngcontent-%COMP%]{overflow:auto}'],changeDetection:0}),t}(),Qe=l(74199);function at(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",6),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.openFilterPane())}),e.\u0275\u0275pipe(1,"localizeFormat"),e.\u0275\u0275pipe(2,"localizeFormat"),e.\u0275\u0275elementStart(3,"span",7)(4,"span",8),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"button",9),e.\u0275\u0275listener("click",function(){var p=e.\u0275\u0275restoreView(n).$implicit,m=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(m.deleteTypeFilter(p))}),e.\u0275\u0275pipe(7,"localizeFormat"),e.\u0275\u0275pipe(8,"localizeFormat"),e.\u0275\u0275elementEnd()()}if(2&t){var i=r.$implicit,o=e.\u0275\u0275nextContext(3);e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(1,3,"AppliedFilter",e.\u0275\u0275pipeBind2(2,6,"Types",o.getTypeTagContent(i)))),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(o.getTypeTagContent(i)),e.\u0275\u0275advance(1),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(7,9,"RemoveFilter",e.\u0275\u0275pipeBind2(8,12,"Types",o.getTypeTagContent(i))))}}function wt(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,at,9,15,"div",5),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.filter.get(n.typeColumnName).values)}}function ie(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.openFilterPane())}),e.\u0275\u0275pipe(1,"localizeFormat"),e.\u0275\u0275pipe(2,"localizeFormat"),e.\u0275\u0275elementStart(3,"span",12)(4,"span",8),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"button",9),e.\u0275\u0275listener("click",function(){var s=e.\u0275\u0275restoreView(n).$implicit,p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.deleteOwnerFilter(s))}),e.\u0275\u0275pipe(7,"localizeFormat"),e.\u0275\u0275pipe(8,"localizeFormat"),e.\u0275\u0275elementEnd()()}if(2&t){var i=r.$implicit;e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(1,3,"AppliedFilter",e.\u0275\u0275pipeBind2(2,6,"Owners",i))),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(i),e.\u0275\u0275advance(1),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(7,9,"RemoveFilter",e.\u0275\u0275pipeBind2(8,12,"Owners",i)))}}function L(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ie,9,15,"div",10),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.filter.get(n.ownerColumnName).values)}}function Q(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.openFilterPane())}),e.\u0275\u0275pipe(1,"localizeFormat"),e.\u0275\u0275pipe(2,"localizeFormat"),e.\u0275\u0275elementStart(3,"span",14)(4,"span",8),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"button",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.deleteIsIncludedInAppFilter())}),e.\u0275\u0275pipe(7,"localizeFormat"),e.\u0275\u0275pipe(8,"localizeFormat"),e.\u0275\u0275elementEnd()()}if(2&t){var i=e.\u0275\u0275nextContext(2);e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(1,3,"AppliedFilter",e.\u0275\u0275pipeBind2(2,6,"IncludedInTheApp",i.includedInAppTagContent))),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(i.includedInAppTagContent),e.\u0275\u0275advance(1),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(7,9,"RemoveFilter",e.\u0275\u0275pipeBind2(8,12,"IncludedInTheApp",i.includedInAppTagContent)))}}function Z(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275template(2,wt,2,1,"ng-container",0),e.\u0275\u0275template(3,L,2,1,"ng-container",0),e.\u0275\u0275template(4,Q,9,15,"div",2),e.\u0275\u0275elementStart(5,"button",3),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.clearAll())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"button",4),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.openFilterPane())}),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&t){var i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.shouldShowFilterTag(i.typeColumnName)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.shouldShowFilterTag(i.ownerColumnName)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.shouldShowFilterTag(i.includeColumnName)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.numOfFiltersTagContent)}}var Ce=function(){function t(r,n,i,o){this.fluentListFilterService=r,this.fluentListFilterPaneService=n,this.localizationService=i,this.changeDetector=o,this.destroy$=new W.xQ,this.typeColumnName=T.Type,this.ownerColumnName=T.Owner,this.includeColumnName=T.IncludeInApp}return t.prototype.ngOnInit=function(){var r=this;this.fluentListFilterService.getFilter().pipe((0,D.R)(this.destroy$)).subscribe(function(n){r.filter=n,r.changeDetector.markForCheck()})},t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.prototype.clearAll=function(){this.fluentListFilterService.clearAllFilters()},t.prototype.openFilterPane=function(){this.fluentListFilterPaneService.openFilterPane()},t.prototype.deleteTypeFilter=function(r){this.fluentListFilterService.removeFilter(T.Type,r)},t.prototype.deleteOwnerFilter=function(r){this.fluentListFilterService.removeFilter(T.Owner,r)},t.prototype.deleteIsIncludedInAppFilter=function(){this.fluentListFilterService.clearFilterByType(T.IncludeInApp)},t.prototype.hasFilter=function(){return this.hasEnabledFilters(T.Type)||this.hasEnabledFilters(T.Owner)||this.hasEnabledFilters(T.IncludeInApp)},t.prototype.getTypeTagContent=function(r){return this.localizationService.get(this.getLocalizeKeyFromType(r))},Object.defineProperty(t.prototype,"includedInAppTagContent",{get:function(){return this.filter.has(T.IncludeInApp)&&this.filter.get(T.IncludeInApp).values?this.localizationService.get("Yes"):this.localizationService.get("No")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numOfFiltersTagContent",{get:function(){var n=this.filter;return this.localizationService.format("Filter_Applied",(n.has(T.Type)?1:0)+(n.has(T.Owner)?1:0)+(n.has(T.IncludeInApp)?1:0))},enumerable:!1,configurable:!0}),t.prototype.shouldShowFilterTag=function(r){var n=this.fluentListFilterService.getFilterState(r);return n&&!n.disabled},t.prototype.getLocalizeKeyFromType=function(r){return 6===r?"Artifact_Report":this.convertArtifactTypeToString(r)},t.prototype.convertArtifactTypeToString=function(r){switch(r){case 5:return"App";case 8:return"ContentList_Datapool";case 9:return"StreamingDataflow_Label";case 1:return"Artifact_Dashboard";case 103:return"Artifact_Dataflow_Gen2";case 3:return"Artifact_Dataset";case 6:return"Artifact_RdlReport";case 2:return"Artifact_Report";case 4:return"Artifact_Workbook";case 7:return"Workspace";case 10:return"Scorecard";case 11:return"Artifact_Datamart";default:throw new Error("Type ".concat(r," is not valid"))}},t.prototype.hasEnabledFilters=function(r){return this.filter.has(r)&&!this.filter.get(r).disabled},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(B),e.\u0275\u0275directiveInject(ue),e.\u0275\u0275directiveInject(_e.o),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["artifact-list-filter-tags"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"fluentListFilterTags"],["role","button","class","fluentListFilterTag isIncludedInAppTag","tabindex","0",3,"click",4,"ngIf"],["cdkMonitorElementFocus","","tabindex","0","localize","Clear_All","localizeTooltip","Filter_ClearAll",1,"clearAll",3,"click"],[1,"allFilters",3,"click"],["role","button","class","fluentListFilterTag typeTag","tabindex","0",3,"click",4,"ngFor","ngForOf"],["role","button","tabindex","0",1,"fluentListFilterTag","typeTag",3,"click"],["localize","Types","localize-fragments","",1,"tagContent"],["fragment-index","0",1,"filterContent"],["cdkMonitorElementFocus","","tabindex","0",1,"closeBtn","glyphicon","pbi-glyph-close",3,"click"],["role","button","class","fluentListFilterTag ownerTag","tabindex","0",3,"click",4,"ngFor","ngForOf"],["role","button","tabindex","0",1,"fluentListFilterTag","ownerTag",3,"click"],["localize","Owners","localize-fragments","",1,"tagContent"],["role","button","tabindex","0",1,"fluentListFilterTag","isIncludedInAppTag",3,"click"],["localize","IncludedInTheApp","localize-fragments","",1,"tagContent"]],template:function(n,i){1&n&&e.\u0275\u0275template(0,Z,8,4,"ng-container",0),2&n&&e.\u0275\u0275property("ngIf",i.hasFilter())},dependencies:[u.NgForOf,u.NgIf,We.X,Be.r,re.kH,Qe.j],styles:['.fluentListFilterTags[_ngcontent-%COMP%]{padding-top:16px;background-color:var(--fluent-theme-white-color, #FFF)}html:not([dir="rtl"])[_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]{padding-left:8px}html[dir="rtl"][_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]{padding-right:8px}.fluentListFilterTags.isEmpty[_ngcontent-%COMP%]{display:none}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]{cursor:pointer;display:inline-flex;border-radius:2px;background-color:var(--fluent-theme-neutral-lighter-color, #F3F2F1);line-height:16px;height:28px;color:var(--fluent-theme-neutral-primary-color, #323130);align-items:center;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);margin-bottom:8px}html:not([dir="rtl"])[_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]{margin-left:8px}html[dir="rtl"][_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]{margin-right:8px}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .tagContent[_ngcontent-%COMP%]{display:flex;white-space:pre-wrap;padding-top:5px;padding-bottom:7px}html:not([dir="rtl"])[_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .tagContent[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .tagContent[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}html[dir="rtl"][_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .tagContent[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .tagContent[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .tagContent[_ngcontent-%COMP%]   .filterContent[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-semi-bold, 600);text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:30em}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .tagContent[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-lighter-secondary-color, #E5E5E5)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .tagContent[_ngcontent-%COMP%]:hover + .closeBtn[_ngcontent-%COMP%]{background-color:var(--fluent-theme-neutral-lighter-secondary-color, #E5E5E5)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .closeBtn[_ngcontent-%COMP%]{height:28px;width:28px;background:transparent;border:none;padding:0;font-size:12px;transition:none}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .closeBtn.cdk-keyboard-focused[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]:hover   .closeBtn[_ngcontent-%COMP%]{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]:focus{background-color:var(--fluent-theme-primary-color, #F2C811)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]:focus   .tagContent[_ngcontent-%COMP%]{background-color:var(--fluent-theme-primary-color, #F2C811)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]:focus   .tagContent[_ngcontent-%COMP%]:hover + .closeBtn[_ngcontent-%COMP%]{background-color:var(--fluent-theme-primary-color, #F2C811)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]:focus   .closeBtn[_ngcontent-%COMP%]{background-color:var(--fluent-theme-primary-color, #F2C811)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]:focus   .closeBtn[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-dark-alt-color, #DAB50F)}html:not([dir="rtl"])[_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .clearAll[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .clearAll[_ngcontent-%COMP%]{padding-left:8px}html[dir="rtl"][_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .clearAll[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .clearAll[_ngcontent-%COMP%]{padding-right:8px}.fluentListFilterTags[_ngcontent-%COMP%]   .clearAll.cdk-keyboard-focused[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.allFilters[_ngcontent-%COMP%], .clearAll[_ngcontent-%COMP%]{background:none;border:none;color:var(--fluent-theme-link-color, #0078D4);font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400)}.allFilters[_ngcontent-%COMP%]{background-color:var(--fluent-theme-white-color, #FFF);padding-top:22px;width:100%;align-items:flex-start}html:not([dir="rtl"])[_nghost-%COMP%]   .allFilters[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .allFilters[_ngcontent-%COMP%]{padding-left:16px}html[dir="rtl"][_nghost-%COMP%]   .allFilters[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .allFilters[_ngcontent-%COMP%]{padding-right:16px}@media only screen and (min-width: 320px){.allFilters[_ngcontent-%COMP%]{display:flex}.fluentListFilterTags[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 640px){.allFilters[_ngcontent-%COMP%]{display:none}.fluentListFilterTags[_ngcontent-%COMP%]{display:block}}'],changeDetection:0}),t}();function Te(t,r){1&t&&e.\u0275\u0275element(0,"mat-icon",4)}function Ae(t,r){1&t&&e.\u0275\u0275element(0,"mat-icon",5)}var Le=function(r){return{active:r}},ut=function(){function t(r,n){this.FluentListFilterService=r,this.fluentListFilterPaneService=n}return t.prototype.ngOnInit=function(){var r=this;this.isFilterPaneOpened$=this.fluentListFilterPaneService.getFilterPaneOpened(),this.isFilterButtonEnabled$=this.fluentListFilterPaneService.getFilterButtonEnabled(),this.hasFilterApplied$=this.FluentListFilterService.getFilter().pipe((0,P.U)(function(){return r.FluentListFilterService.hasFilterAppliedExceptName()}))},t.prototype.toggleFilterPane=function(){this.fluentListFilterPaneService.toggleFilterPane()},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(B),e.\u0275\u0275directiveInject(ue))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["artifact-list-filter"]],decls:8,vars:16,consts:[["mat-button","","id","fluent-list-filter-button","data-testid","filter-btn","cdkMonitorElementFocus","","localizeTooltip","Filters",1,"pbi-fluent-button","fluentTheme-md-reg",3,"ngClass","ngSwitch","disabled","click"],["class","glyph-small","fontIcon","pbi-glyph-filterfilled",4,"ngSwitchCase"],["class","glyph-small","fontIcon","pbi-glyph-filter",4,"ngSwitchCase"],["localize","Filters"],["fontIcon","pbi-glyph-filterfilled",1,"glyph-small"],["fontIcon","pbi-glyph-filter",1,"glyph-small"]],template:function(n,i){1&n&&(e.\u0275\u0275elementStart(0,"button",0),e.\u0275\u0275listener("click",function(){return i.toggleFilterPane()}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,Te,1,0,"mat-icon",1),e.\u0275\u0275template(6,Ae,1,0,"mat-icon",2),e.\u0275\u0275element(7,"span",3),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(14,Le,e.\u0275\u0275pipeBind1(2,8,i.isFilterPaneOpened$)))("ngSwitch",e.\u0275\u0275pipeBind1(3,10,i.hasFilterApplied$))("disabled",!e.\u0275\u0275pipeBind1(4,12,i.isFilterButtonEnabled$)),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(1,6,"Filters")),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1))},dependencies:[u.NgClass,u.NgSwitch,u.NgSwitchCase,ge.Hw,We.X,Be.r,re.kH,u.AsyncPipe,Ke.F],styles:['[_nghost-%COMP%]{box-sizing:border-box}button[_ngcontent-%COMP%]{height:36px;padding:0 8px;display:inline-flex;border:1px solid transparent;box-sizing:content-box}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus:hover{background-color:var(--fluent-theme-neutral-lighter-color, #F3F2F1)}button.cdk-keyboard-focused[_ngcontent-%COMP%], button.cdk-program-focused[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}button[_ngcontent-%COMP%]:active, button.active[_ngcontent-%COMP%], button.active[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]:active:focus:hover, button.active[_ngcontent-%COMP%]:focus:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:36px;display:inline-block;vertical-align:top}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);padding:0 8px}button[_ngcontent-%COMP%]     .mat-button-focus-overlay{display:none}'],changeDetection:0}),t}(),ne=l(85732),Tt="[Artifact List Message Banner]",te=(0,ne.PH)("".concat(Tt," Open message banner"),(0,ne.Ky)()),he=(0,ne.PH)("".concat(Tt," Close message banner")),ce={showBanner:!1,item:void 0},Ie=(0,ne.Lq)(ce,(0,ne.on)(te,function(t,r){var n=r.item;return(0,c.__assign)((0,c.__assign)({},t),{showBanner:!0,item:n})}),(0,ne.on)(he,function(t){return(0,c.__assign)((0,c.__assign)({},t),{showBanner:!1,item:void 0})})),bt={messageBanner:function(t,r){return void 0===t&&(t=ce),Ie(t,r)}},Lt=(0,ne.ZF)("artifactList"),Ut=(0,ne.P1)(Lt,function(t){return t.messageBanner}),Gl=(0,ne.P1)(Ut,function(t){return t.showBanner}),Kl=(0,ne.P1)(Ut,function(t){return t.item}),pn=l(48723),xe=l(62458),ti=l(4301),on=l(2253),Cr=l(73221),je=l(48787),ni=l(17497),Yl=l(44641);function ec(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"message-banner",2),e.\u0275\u0275listener("buttonClicked",function(){var p=e.\u0275\u0275restoreView(n).ngIf,m=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(m.onTryAgainClicked(p))})("hideBanner",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.closeBanner())}),e.\u0275\u0275elementEnd()}if(2&t){var i=r.ngIf,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("viewModel",o.messageBannerModel(i))}}function tc(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,ec,1,1,"message-banner",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,n.getFluentListItem$))}}var nc=function(t){function r(n,i,o,a,s){var p=t.call(this)||this;return p.store=n,p.localizationService=i,p.notificationToastService=o,p.telemetryService=a,p.actions$=s,p.showBanner$=p.store.select(Gl),p.getFluentListItem$=p.store.select(Kl),p}return(0,c.__extends)(r,t),r.prototype.ngOnInit=function(){var n=this;this.actions$.pipe((0,d.l4)(ti.vh),(0,d.IC)(function(i){var o=i.datamartObjectId;return[n.store.select(on.sv(o)),n.store.select(on.LR(o))]}),(0,D.R)(this.onDestroy$)).subscribe(function(i){var a=i[1],s=i[2],p=(0,pn.q4)(s),m=(0,pn.kK)(s);n.notificationToastService.notify({title:n.localizationService.format("Datamart_Unavailable_Connected_Title",p),message:n.localizationService.format("Datamart_Unavailable_Datamart_Is_Ready",a,m),notificationType:99,customIcon:{tooltipString:"SuccessToastTitle",iconClass:"pbi-glyph-circled-checkmark"}})}),this.actions$.pipe((0,d.l4)(ti.PZ),(0,d.IC)(function(i){return[n.store.select(on.LR(i.datamartObjectId))]}),(0,D.R)(this.onDestroy$)).subscribe(function(i){return n.notificationToastService.notify({title:n.localizationService.format("Datamart_Unavailable_Unable_To_Connect",n.localizationService.get((0,pn.kK)(i[1]))),notificationType:99,customIcon:{tooltipString:"Error",iconClass:"pbi-glyph-error-circle-exclamation"}})})},r.prototype.onTryAgainClicked=function(n){var i=this;this.store.dispatch(ti.CZ({datamartObjectId:n.objectId})),this.store.dispatch(he()),this.telemetryService.logEvent(x,{objectId:n.objectId}),this.store.select(on.LR(n.objectId)).pipe((0,je.q)(1)).subscribe(function(o){var a=i.localizationService.get((0,pn.kK)(o));i.notificationToastService.notify({title:i.localizationService.format("Datamart_Unavailable_Connecting_Title",a),message:i.localizationService.format("Datamart_Unavailable_Use_Other_Features",a),notificationType:3})})},r.prototype.closeBanner=function(){this.store.dispatch(he())},r.prototype.messageBannerModel=function(n){return function(t,r){var n=r,i=n.status,o=n?.datamartType,a=(0,pn.kK)(o);switch(i){case 2:return function(t,r,n){return{bannerType:1,iconName:"pbi-glyph-blocked2",message:t.format(1===n?"Datamart_Suspended_Message_Bar":"Warehouse_Suspended_Message_Bar",t.get(r)),buttonText:t.get("TryAgain"),allowDismiss:!0,closeButtonTooltip:"Close"}}(t,a,o);case 5:return function(t,r){return{bannerType:1,iconName:"pbi-glyph-blocked2",message:t.format("Datamart_Unavailable_Message_Out_Of_Region",t.get(r)),allowDismiss:!0,closeButtonTooltip:"Close"}}(t,a);case 6:return function(t,r){return{bannerType:1,iconName:"pbi-glyph-blocked2",message:t.format("Datamart_Unavailable_Message_Upgrade",t.get(r)),allowDismiss:!0,closeButtonTooltip:"Close"}}(t,a);case 4:return function(t,r){return{bannerType:1,iconName:"pbi-glyph-blocked2",message:t.format("Datamart_Unavailable_Message_No_Action",t.get(r)),allowDismiss:!0,closeButtonTooltip:"Close"}}(t,a);default:xe.fF.assertFail("Error message banner not supported for other statuses")}}(this.localizationService,n)},r.\u0275fac=function(i){return new(i||r)(e.\u0275\u0275directiveInject(ne.yh),e.\u0275\u0275directiveInject(_e.o),e.\u0275\u0275directiveInject(ni.Q),e.\u0275\u0275directiveInject(U.y0),e.\u0275\u0275directiveInject(d.eX))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["artifact-list-message-banner"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[4,"ngIf"],[3,"viewModel","buttonClicked","hideBanner",4,"ngIf"],[3,"viewModel","buttonClicked","hideBanner"]],template:function(i,o){1&i&&(e.\u0275\u0275template(0,tc,3,3,"div",0),e.\u0275\u0275pipe(1,"async")),2&i&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,o.showBanner$))},dependencies:[u.NgIf,Yl.A,u.AsyncPipe],styles:['[_nghost-%COMP%]{background-color:var(--colorNeutralBackground2)}html:not([dir="rtl"])   [_nghost-%COMP%]   message-banner[_ngcontent-%COMP%]{margin:0 10px}html[dir="rtl"]   [_nghost-%COMP%]   message-banner[_ngcontent-%COMP%]{margin:0 10px}[_nghost-%COMP%]   message-banner[_ngcontent-%COMP%]     .message-banner-error{padding:8px 15px;height:16px}[_nghost-%COMP%]   message-banner[_ngcontent-%COMP%]     .message-banner-text-container{width:100%}[_nghost-%COMP%]   message-banner[_ngcontent-%COMP%]     .message-banner-text-container .message-banner-text{display:inline-block}[_nghost-%COMP%]   message-banner[_ngcontent-%COMP%]     .message-banner-text-container button{background-color:var(--fluent-theme-white-color, #FFF);height:24px;padding:2px 20px;float:right}html:not([dir="rtl"])   [_nghost-%COMP%]   message-banner[_ngcontent-%COMP%]     .message-banner-text-container button{margin:-4px 16px 0 0}html[dir="rtl"]   [_nghost-%COMP%]   message-banner[_ngcontent-%COMP%]     .message-banner-text-container button{margin:-4px 0 0 16px}'],changeDetection:0}),r}(Cr.w),yo=l(93247),bo=l(59787),dn=l(6754),ri=l(87650),ii=l(30927),rc=["filter"],ic=function(){function t(r){this.fluentListFilterService=r,this.setFocus=!0,this.destroy$=new W.xQ,this.searchPlaceholder="SearchBox_Text",this.searchTooltip="SearchContentInWorkspace"}return t.prototype.ngAfterViewInit=function(){this.setFocus&&this.filter.nativeElement.focus()},t.prototype.ngOnInit=function(){var r=this;this.fluentListFilterService.getFilter().pipe((0,D.R)(this.destroy$)).subscribe(function(n){var i;r.filter.nativeElement.value=(null===(i=n.get(T.Name))||void 0===i?void 0:i.values)||""}),(0,bo.R)(this.filter.nativeElement,"keyup").pipe((0,D.R)(this.destroy$),(0,dn.b)(150),(0,V.x)(),(0,P.U)(function(n){return n.keyCode})).subscribe(function(n){n===yo.hY?(r.filter.nativeElement.value="",r.fluentListFilterService.removeFilter(T.Name)):r.fluentListFilterService.addFilter(T.Name,r.filter.nativeElement.value)})},t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(B))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["artifact-list-search"]],viewQuery:function(n,i){var o;(1&n&&e.\u0275\u0275viewQuery(rc,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.filter=o.first))},inputs:{setFocus:"setFocus"},decls:5,vars:4,consts:[[1,"glyphicon","glyph-small","pbi-glyph-search"],["floatLabel","never"],["matInput","","data-testid","search-input","data-unique-id","fluentListSearchBar",3,"placeholder","localizeTooltip"],["filter",""]],template:function(n,i){1&n&&(e.\u0275\u0275element(0,"span",0),e.\u0275\u0275elementStart(1,"mat-form-field",1),e.\u0275\u0275element(2,"input",2,3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(4,2,i.searchPlaceholder)),e.\u0275\u0275propertyInterpolate("localizeTooltip",i.searchTooltip))},dependencies:[Be.r,ri.v_,ii.k0,Ke.F],styles:["[_nghost-%COMP%]   .pbi-glyph-search[_ngcontent-%COMP%]{cursor:default}[_nghost-%COMP%]     mat-form-field{width:355px;margin-left:5px}[_nghost-%COMP%]     mat-form-field.mat-focused .mat-input-element, [_nghost-%COMP%]     mat-form-field.mat-focused .mat-form-field-label{color:var(--gray-180, #252423)!important}[_nghost-%COMP%]     mat-form-field .mat-input-element, [_nghost-%COMP%]     mat-form-field .mat-form-field-label{color:var(--gray-140, #484644)!important}[_nghost-%COMP%]     .mat-form-field-label span{line-height:20px}[_nghost-%COMP%]     .mat-form-field-ripple{background-color:transparent;background:transparent!important}[_nghost-%COMP%]     .mat-input-element{caret-color:var(--black-color, #000)!important;line-height:21px}"]}),t}(),oc=new e.InjectionToken("ITridentFluentListItemService");function Fn(t){return"string"==typeof t}function oi(t){return 14===t||15===t||17===t||11===t}function Qn(t){return"".concat(t.uniqueId)}function Jt(t,r){return"".concat(t,":").concat(r)}xe.fF.assert(function(){return!0});var En=l(47064),qe=l(11547),sc=l(3307),Io=l(22318),tn=l(21661),yr=l(63047),pc=function(t){function r(n){var i=t.call(this,45,400,400)||this;return i.cdr=n,i}return(0,c.__extends)(r,t),r.prototype.onContentRendered=function(){t.prototype.onContentRendered.call(this),this.cdr.detectChanges()},r.\u0275fac=function(i){return new(i||r)(e.\u0275\u0275inject(e.ChangeDetectorRef))},r.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r}(tn.Ee),Pt=l(9380);function dc(t,r){if(1&t&&e.\u0275\u0275element(0,"span",2),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275attribute("aria-label",n.localize("ContentList_EmptySearchResults"))}}function fc(t,r){if(1&t&&e.\u0275\u0275element(0,"span",2),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275attribute("aria-label",n.localize("WorkspaceAccess_member_list_valid_single_result"))}}function mc(t,r){if(1&t&&e.\u0275\u0275element(0,"span",2),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275attribute("aria-label",n.localize("WorkspaceAccess_member_list_valid_multiple_results",n.items.length))}}function hc(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",2),e.\u0275\u0275template(1,dc,1,1,"span",0),e.\u0275\u0275template(2,fc,1,1,"span",0),e.\u0275\u0275template(3,mc,1,1,"span",0),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.items.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",1===n.items.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.items.length>1)}}function gc(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",16),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("pbiTooltip",n.tooltip),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.content," ")}}function vc(t,r){1&t&&(e.\u0275\u0275element(0,"mat-icon",17),e.\u0275\u0275pipe(1,"localize")),2&t&&e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,1,"Type"))}function _c(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"th",13),e.\u0275\u0275template(1,gc,2,2,"span",14),e.\u0275\u0275template(2,vc,2,3,"ng-template",null,15,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngClass",i.class),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.content)("ngIfElse",n)}}function Cc(t,r){1&t&&e.\u0275\u0275elementContainer(0)}var ai=function(r){return{$implicit:r}};function yc(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"td",18),e.\u0275\u0275template(1,Cc,1,0,"ng-container",19),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",i.cellTemplate)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,ai,n))}}function bc(t,r){1&t&&(e.\u0275\u0275elementContainerStart(0,10),e.\u0275\u0275template(1,_c,4,3,"th",11),e.\u0275\u0275template(2,yc,2,4,"td",12),e.\u0275\u0275elementContainerEnd()),2&t&&e.\u0275\u0275property("matColumnDef",r.$implicit.name)}function Ic(t,r){1&t&&e.\u0275\u0275element(0,"tr",20)}function Sc(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",21),e.\u0275\u0275listener("mouseenter",function(){var a=e.\u0275\u0275restoreView(n).$implicit,s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.setHoveredRow(a))})("mouseleave",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.setHoveredRow(null))})("cdkFocusChange",function(o){var s=e.\u0275\u0275restoreView(n).$implicit,p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.setFocusedRow(o,s))}),e.\u0275\u0275elementEnd()}}function Tc(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"table",6),e.\u0275\u0275template(2,bc,3,1,"ng-container",7),e.\u0275\u0275template(3,Ic,1,0,"tr",8),e.\u0275\u0275template(4,Sc,1,0,"tr",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("dataSource",n.items)("trackBy",n.trackFluentListItemBy),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.columnConfigs)("ngForTrackBy",n.trackByIndex),e.\u0275\u0275advance(1),e.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),e.\u0275\u0275advance(1),e.\u0275\u0275property("matRowDefColumns",n.displayedColumns)}}function xc(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-checkbox",31),e.\u0275\u0275listener("keydown.enter",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.masterToggle())})("onChange",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.masterToggle())}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("ngClass",i.selection.hasValue()&&i.isAllSelected()||i.isPartialSelected()?"checkbox-checked":"checkbox")("disabled",i.noSelectableRows())("checked",i.selection.hasValue()&&i.isAllSelected())("indeterminate",i.isPartialSelected())("ariaLabel",e.\u0275\u0275pipeBind1(1,5,"SelectAll"))}}function wc(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",28)(1,"div",29),e.\u0275\u0275template(2,xc,2,7,"tri-checkbox",30),e.\u0275\u0275elementEnd()()),2&t){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==n.selection?null:n.selection.isMultipleSelection())}}function Mc(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",42)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&t){var n=e.\u0275\u0275nextContext(3).$implicit,i=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("mat-sort-header",n.name)("start",n.start),e.\u0275\u0275attribute("data-testid","fluentListHeader."+n.name)("title",i.getHeaderTooltip(n)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.content)}}function Pc(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",43)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&t){var n=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275attribute("data-testid","fluentListHeader."+n.name)("title",n.tooltip),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.content)}}function kc(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",44),e.\u0275\u0275listener("accessible-click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(6);return e.\u0275\u0275resetView(a.seeAllClickEmit())}),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(6);e.\u0275\u0275propertyInterpolate("localize",i.seeAllDisplayName?i.seeAllDisplayName:"NavigationPane_SeeAllLabel")}}function Oc(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-column-option",45),e.\u0275\u0275listener("sortChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(6);return e.\u0275\u0275resetView(p.sortChangeViaColumnOption(s))})("columnResize",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(6);return e.\u0275\u0275resetView(p.columnWidthChangeViaColumnOption(s))}),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(3).$implicit,o=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("canSort",i.canSort)("canResize",i.canResize)("colName",i.name)("colCurWidth",o.getColumnCurWidth(i.name))}}var Dc=function(){return{right:!0}};function Fc(t,r){1&t&&e.\u0275\u0275element(0,"span",46),2&t&&e.\u0275\u0275property("resizeEdges",e.\u0275\u0275pureFunction0(1,Dc))}var Ec=function(r,n){return{width:r,"min-width":n}};function Ac(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",36),e.\u0275\u0275listener("resizing",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(m.onColumnResizing(s,p.name))})("resizeStart",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(m.onColumnResizingStart(s,p.name))})("resizeEnd",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(m.onColumnResizingEnd(s,p.name))}),e.\u0275\u0275template(1,Mc,3,5,"span",37),e.\u0275\u0275template(2,Pc,3,3,"span",38),e.\u0275\u0275template(3,kc,1,1,"div",39),e.\u0275\u0275template(4,Oc,1,4,"tri-column-option",40),e.\u0275\u0275template(5,Fc,1,2,"span",41),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngClass",i.class)("ngStyle",e.\u0275\u0275pureFunction2(7,Ec,o.getWidthFromConfig(i),o.colWidth[i.name]+"px")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!i.content&&!!i.canSort),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!i.content&&!i.canSort),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.showSeeAll),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!o.enableColumnOptions&&!!i.content&&!!i.showMoreOption),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==o.seeAllColumn||i!=o.columnConfigs[o.columnConfigs.length-1])}}function Rc(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",51)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&t){var n=e.\u0275\u0275nextContext(3).$implicit,i=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("mat-sort-header",n.name),e.\u0275\u0275attribute("data-testid","fluentListHeader."+n.name)("title",i.getHeaderTooltip(n)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.content)}}function Lc(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",43)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&t){var n=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275attribute("data-testid","fluentListHeader."+n.name)("title",n.tooltip),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.content)}}function jc(t,r){1&t&&(e.\u0275\u0275elementStart(0,"span",52),e.\u0275\u0275element(1,"mat-icon",53),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(2,1,"Type")))}function Bc(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-column-option",54),e.\u0275\u0275listener("sortChange",function(a){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(6);return e.\u0275\u0275resetView(s.sortChangeViaColumnOption(a))})("columnResize",function(a){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(6);return e.\u0275\u0275resetView(s.columnWidthChangeViaColumnOption(a))}),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275property("canSort",i.canSort)("canResize",i.canResize)("colName",i.name)}}var Nc=function(r){return{width:r}};function Wc(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",47),e.\u0275\u0275template(1,Rc,3,4,"span",48),e.\u0275\u0275template(2,Lc,3,3,"span",38),e.\u0275\u0275template(3,jc,3,3,"span",49),e.\u0275\u0275template(4,Bc,1,3,"tri-column-option",50),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext(2).$implicit,i=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngClass",n.class)("ngStyle",e.\u0275\u0275pureFunction1(6,Nc,i.colWidth[n.name]+"px")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!n.content&&!!n.canSort),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!n.content&&!n.canSort),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.content),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!i.enableColumnOptions&&!!n.content&&!!n.showMoreOption)}}function zc(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,33),e.\u0275\u0275template(1,Ac,6,10,"span",34),e.\u0275\u0275template(2,Wc,5,8,"span",35),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngSwitch",!!n.canResize),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}function Uc(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,zc,3,3,"ng-container",32),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&t){var n=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,n.visible$)&&!n.isOutsideViewport)}}function $c(t,r){1&t&&e.\u0275\u0275elementContainer(0)}function Vc(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,$c,1,0,"ng-container",19),e.\u0275\u0275elementContainerEnd()),2&t){var n=r.$implicit;e.\u0275\u0275nextContext(3);var i=e.\u0275\u0275reference(5);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,ai,n))}}var si=function(r){return{isResizing:r}};function Hc(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"virtual-scroll",55,56),e.\u0275\u0275listener("change",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.onVirtualScrollChange())}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Vc,2,4,"ng-container",57),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275reference(1),o=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("items",e.\u0275\u0275pipeBind1(2,6,o.items$))("ngClass",e.\u0275\u0275pureFunction1(8,si,!!o.isResizing))("parentScroll",o.scrollElement)("bufferAmount",3),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",i.viewPortItems)("ngForTrackBy",o.trackFluentListItemBy)}}function Gc(t,r){1&t&&e.\u0275\u0275elementContainer(0)}function Kc(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Gc,1,0,"ng-container",19),e.\u0275\u0275elementContainerEnd()),2&t){var n=r.$implicit;e.\u0275\u0275nextContext(3);var i=e.\u0275\u0275reference(5);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,ai,n))}}function Qc(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"cdk-virtual-scroll-viewport",58),e.\u0275\u0275template(1,Kc,2,4,"ng-container",59),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(3,si,!!n.isResizing)),e.\u0275\u0275advance(1),e.\u0275\u0275property("cdkVirtualForOf",n.dataSource)("cdkVirtualForTrackBy",n.trackFluentListItemBy)}}var qc=function(r){return{"responsive-columns":r}};function Zc(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",22)(1,"div",23),e.\u0275\u0275listener("matSortChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(p.sortChange(s))}),e.\u0275\u0275template(2,wc,3,1,"span",24),e.\u0275\u0275template(3,Uc,3,3,"ng-container",25),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Hc,4,10,"virtual-scroll",26),e.\u0275\u0275template(5,Qc,2,5,"ng-template",null,27,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275reference(6),o=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(9,qc,!!o.responsiveColumns)),e.\u0275\u0275attribute("aria-rowcount",o.dataSource.filteredData.length)("aria-busy",o.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275property("matSortDisabled",!!o.isResizing)("ngClass",e.\u0275\u0275pureFunction1(11,si,!!o.isResizing)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!o.allowSelection),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",o.columnConfigs),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.scrollElement)("ngIfElse",i)}}var Xc=function(){return{display:"flex"}};function Jc(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",62)(1,"div",63)(2,"tri-checkbox",64),e.\u0275\u0275listener("click",function(s){return s.stopPropagation()})("keydown.enter",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext().$implicit,p=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(p.toggleSelection(s))})("onChange",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext().$implicit,p=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(p.toggleSelection(s))}),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()()}if(2&t){var i=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction0(10,Xc)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",o.itemShouldBeDisplayAsChecked(i)?"checkbox-checked":"checkbox")("disabled",o.itemCannotBeSelected(i))("checked",o.itemShouldBeDisplayAsChecked(i))("ariaLabel",e.\u0275\u0275pipeBind1(3,6,"SelectRow"))("title",e.\u0275\u0275pipeBind1(4,8,"SelectRow"))}}function Yc(t,r){1&t&&e.\u0275\u0275elementContainer(0)}var So=function(r,n,i,o,a){return{$implicit:r,colWidth:n,isSelected$:i,seeAllColumn:o,nextToIconColumn:a}};function eu(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",70),e.\u0275\u0275template(1,Yc,1,0,"ng-container",19),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext(2).$implicit,i=e.\u0275\u0275reference(6),o=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("popper",i)("popperDelay",500)("popperTimeout",500)("popperHideOnClickOutside",!0)("popperHideOnScroll",!0)("popperPlacement","right-start")("popperDisableStyle",!0)("popperAppendTo","#artifactContentView"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",n.cellTemplate)("ngTemplateOutletContext",e.\u0275\u0275pureFunction5(10,So,o,a.colWidth,a.isSelected(o),a.seeAllColumn,a.nextToIconColumn))}}function tu(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,eu,2,16,"div",69),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,n.visible$)&&!n.isOutsideViewport)}}function nu(t,r){1&t&&e.\u0275\u0275elementContainer(0)}function ru(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",72),e.\u0275\u0275template(1,nu,1,0,"ng-container",19),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext(2).$implicit,i=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",n.cellTemplate)("ngTemplateOutletContext",e.\u0275\u0275pureFunction5(2,So,i,o.colWidth,o.isSelected(i),o.seeAllColumn,o.nextToIconColumn))}}function iu(t,r){if(1&t&&(e.\u0275\u0275template(0,ru,2,8,"div",71),e.\u0275\u0275pipe(1,"async")),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,n.visible$)&&!n.isOutsideViewport)}}function ou(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"item-hover-card",73),e.\u0275\u0275listener("mouseenter",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(s.hoverOnItemCard(!0))})("mouseleave",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(s.hoverOnItemCard(!1))}),e.\u0275\u0275pipe(1,"fluentListItemHoverCardArgs"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("itemHoverCardArgs",e.\u0275\u0275pipeBind2(1,1,i,o.hostedEnvironmentTelemetryHint))}}function au(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,tu,3,3,"div",3),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,iu,2,3,"ng-template",null,65,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(5,"popper-content",66,67),e.\u0275\u0275template(7,ou,2,4,"item-hover-card",68),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&t){var s,n=r.$implicit,i=e.\u0275\u0275reference(4),o=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.name===a.FluentColumnName.Name&&(null==(s=e.\u0275\u0275pipeBind1(2,3,a.featureSwitches$))?null:s.itemHoverCard_HEAD_FE))("ngIfElse",i),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",a.isHoverOnItemHoverCard||a.uniqueItemKey(o)==e.\u0275\u0275pipeBind1(8,5,a.hoveredRowId$))}}var su=function(r,n){return{hover:r,selected:n}};function lu(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",60),e.\u0275\u0275listener("cdkFocusChange",function(s){var m=e.\u0275\u0275restoreView(n).$implicit,S=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(S.setFocusedRow(s,m))})("mouseenter",function(){var p=e.\u0275\u0275restoreView(n).$implicit,m=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(m.setHoveredRow(p))})("mouseleave",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.setHoveredRow(null))})("click",function(){var p=e.\u0275\u0275restoreView(n).$implicit,m=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(m.onClickRow(p))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,Jc,5,11,"span",61),e.\u0275\u0275template(3,au,9,7,"ng-container",25),e.\u0275\u0275elementEnd()}if(2&t){var i=r.$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(5,su,!!o.currentMenuItemId&&o.currentMenuItemId===i.uniqueId,e.\u0275\u0275pipeBind1(1,3,o.isSelected(i)))),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!!o.allowSelection),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",o.columnConfigs)}}function cu(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Tc,5,6,"ng-container",3),e.\u0275\u0275template(2,Zc,7,13,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(4,lu,4,8,"ng-template",null,5,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.useVirtualScroll)("ngIfElse",n)}}var pi=function(){function t(r,n,i,o,a,s,p){this.el=r,this.featureSwitchService=n,this.cd=i,this.elementRef=o,this.liveAnnouncer=a,this.localizationService=s,this.telemetryService=p,this.useVirtualScroll=!0,this.proportionalColumFillStrategy$=(0,qe.of)("NoProportional"),this.hostedEnvironmentTelemetryHint="",this.responsiveColumnsStrategy$=(0,qe.of)("NoResponsive"),this.seeAllDisplayName="",this.onSortChange=new e.EventEmitter,this.clickRow=new e.EventEmitter,this.onSeeAll=new e.EventEmitter,this.onClickMasterCheckbox=new e.EventEmitter,this.FluentColumnName=T,this.isResizing=!1,this.colWidth={},this.widthSettings={},this.columnConfigs=[],this.displayedColumns=[],this.seeAllColumn=null,this.nextToIconColumn=T.Name,this.isHoverOnItemHoverCard=!1,this.proportionalColumFill=!1,this.responsiveColumns=!1,this.enableColumnOptions=!1,this.destroy$=new W.xQ,this.anyColHidden=!1,this.queue=new du,this.featureSwitches$=this.featureSwitchService.featureSwitches$,this.enableColumnOptions=this.featureSwitchService.featureSwitches.FluentListColumnOption}return Object.defineProperty(t.prototype,"matSort",{set:function(n){this._matSort=n,this.dataSource.sort=n},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var r,n,i,a=this;return(0,c.__generator)(this,function(s){switch(s.label){case 0:return this.isLoading=!0,this.items$=this.dataSource.connect(),this.items$.pipe((0,D.R)(this.destroy$)).subscribe(function(p){a.items=p;for(var m=0;m<a.items.length;m++)a.items[m].relativePosition=m;a.virtualScroll?requestAnimationFrame(function(){return a.cd.detectChanges()}):a.cd.markForCheck()}),this.dataSource.connect().pipe((0,V.x)(),(0,P.U)(function(p){return new Set(_.map(p,function(m){return a.uniqueItemKey(m)}))}),(0,D.R)(this.destroy$)).subscribe(function(p){for(var m,w=[],E=0,R=a.selection.selected;E<R.length;E++){var J=R[E];p.has(J)||w.push(J)}(m=a.selection).deselect.apply(m,w||[])}),r=this,[4,this.columnConfigs$.toPromise()];case 1:return r.columnConfigs=s.sent(),this.displayedColumns=_(this.columnConfigs).filter(function(p){return(0,c.__awaiter)(a,void 0,void 0,function(){return(0,c.__generator)(this,function(m){switch(m.label){case 0:return[4,p.visible$.toPromise()];case 1:return[2,m.sent()]}})})}).map(function(p){return p.name}).value(),this.refreshScroll$&&this.refreshScroll$.pipe((0,D.R)(this.destroy$)).subscribe(function(){return a.refreshScroll()}),this.resizeEvent$&&this.resizeEvent$.pipe((0,D.R)(this.destroy$)).subscribe(function(){return a.onResize()}),[4,this.initColumnWidth()];case 2:for(s.sent(),n=0,i=this.columnConfigs;n<i.length;n++)i[n].visible$.pipe((0,sc.T)(1),(0,V.x)(),(0,D.R)(this.destroy$)).subscribe(function(){a.triggerInitColumnWidth(!0)});return this.isLoading=!1,[2]}})})},t.prototype.ngAfterViewInit=function(){var n,r=this;this.useVirtualScroll||$(this.elementRef.nativeElement).find("*[role='cell']").attr("role",""),this.defaultSort&&this._matSort.sort(this.defaultSort),this.containerHeightResizeEvent$&&this.containerHeightResizeEvent$.pipe((0,D.R)(this.destroy$)).subscribe(function(){r.cdkVirtualScrollViewPort&&r.cdkVirtualScrollViewPort.checkViewportSize()}),this.tableContainerWidthObserver=new ResizeObserver(function(){return r.onResize()}),null===(n=this.tableContainerWidthObserver)||void 0===n||n.observe(this.el.nativeElement)},t.prototype.ngOnDestroy=function(){var r;this.destroy$.next(),this.destroy$.complete(),null===(r=this.tableContainerWidthObserver)||void 0===r||r.unobserve(this.el.nativeElement)},t.prototype.onResizeWhenNonProportionalColumFill=function(){this.proportionalColumFill||this.onResize()},t.prototype.onResize=function(){(this.virtualScroll||this.cdkVirtualScrollViewPort&&this.featureSwitchService.featureSwitches.unlimitedListColumnWidth)&&this.refreshScroll()},t.prototype.triggerInitColumnWidth=function(r){var n=this;this.queue.enqueue(function(){return n.initColumnWidth(r)})},t.prototype.sortChange=function(r){this.onSortChange.emit(r),this.announceSortChange(r)},t.prototype.sortChangeViaColumnOption=function(r){var n;(null===(n=this._matSort)||void 0===n?void 0:n.direction)!==r.direction&&this._matSort.sort({id:r.active,start:r.direction,disableClear:!0})},t.prototype.columnWidthChangeViaColumnOption=function(r){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(n){switch(n.label){case 0:return this.isResizing=!0,this.resizingStartSize=this.getColumnCurWidth(r.colName),[4,this.resizeColumn(r.colName,r.resizeWidth,!0)];case 1:return n.sent(),this.isResizing=!1,this.telemetryService.logEvent(H,{hostedContext:this.hostedEnvironmentTelemetryHint,resizedColumnName:r.colName,resizedColumnOldSize:this.resizingStartSize,resizedColumnNewSize:this.getColumnCurWidth(r.colName)}),[2]}})})},t.prototype.getColumnCurWidth=function(r){var n=this.widthSettings[r].curWidth;if(n)return n;var i=this.columnConfigs.find(function(o){return o.name===r});return i?.defaultWidth||98},t.prototype.seeAllClickEmit=function(){this.onSeeAll.emit()},t.prototype.trackFluentListItemBy=function(r,n){return Qn(n)},t.prototype.trackByIndex=function(r){return"".concat(r)},t.prototype.getHeaderTooltip=function(r){return!this._matSort||this._matSort.active!==r.name||"asc"!==this._matSort.direction&&"desc"!==this._matSort.direction?r.tooltip[0]:"asc"===this._matSort.direction?r.tooltip[1]:r.tooltip[2]},t.prototype.initColumnWidth=function(r){var n;return(0,c.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,p,m,S;return(0,c.__generator)(this,function(w){switch(w.label){case 0:for(i=0,o=this.columnConfigs;i<o.length;i++)a=o[i],(!r||null===(n=this.widthSettings[a.name])||void 0===n||!n.userAdjusted)&&(s=this.colWidth[a.name]=a.defaultWidth||98,this.widthSettings[a.name]={minWidth:a.minWidth||98,maxWidth:a.maxWidth||400,curWidth:s,userAdjusted:!1,defaultWidth:s});return p=this,[4,this.getProportionalColumFill()];case 1:return p.proportionalColumFill=w.sent(),m=this,[4,this.getResponsiveColumns()];case 2:return m.responsiveColumns=w.sent(),[4,this.setVisibleColumns()];case 3:return w.sent(),this.proportionalColumFill?[4,this.proportionalScaleColumns()]:[3,5];case 4:w.sent(),w.label=5;case 5:return S=this,[4,this.calculateTableMinWidth()];case 6:return S.tableMinWidth=w.sent(),this.cd.markForCheck(),[2]}})})},t.prototype.proportionalScaleColumns=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var r,n,i,o,a,s,p,m,S;return(0,c.__generator)(this,function(w){switch(w.label){case 0:r=0,n=0,i=this.columnConfigs,w.label=1;case 1:return n<i.length?[4,(m=i[n]).visible$.pipe((0,je.q)(1)).toPromise()]:[3,4];case 2:w.sent()&&!this.widthSettings[m.name].isOutsideViewport&&!(this.widthSettings[m.name].userAdjusted||!m.canResize)&&(r+=this.colWidth[m.name]),w.label=3;case 3:return n++,[3,1];case 4:o=this.availableFlexWidth(),a=o/r,s=0,p=this.columnConfigs,w.label=5;case 5:return s<p.length?[4,(m=p[s]).visible$.pipe((0,je.q)(1)).toPromise()]:[3,8];case 6:w.sent()&&!this.widthSettings[m.name].isOutsideViewport&&!(this.widthSettings[m.name].userAdjusted||!m.canResize)&&(this.colWidth[m.name]=S=this.colWidth[m.name]*a,this.widthSettings[m.name].curWidth=S),w.label=7;case 7:return s++,[3,5];case 8:return[4,this.handleSeeAllAddOrRemove()];case 9:return w.sent(),[2]}})})},t.prototype.availableDisplayWidth=function(){var r,n,i,o=this.elementRef.nativeElement.querySelector(".scrollable-content"),a=this.allowSelection?32:0,s=0;if(o){var p=getComputedStyle(o),m=parseFloat(null!==(n=p.paddingLeft)&&void 0!==n?n:"0")+parseFloat(null!==(i=p.paddingRight)&&void 0!==i?i:"0");s=parseFloat(p.width)-m-a}else s=parseFloat(getComputedStyle(null===(r=this.elementRef)||void 0===r?void 0:r.nativeElement).width)-64-a;return(this.anyColHidden||this.seeAllAlwaysAvailable)&&this.onSeeAll.observers.length>0&&(s-=55),s},t.prototype.availableFlexWidth=function(){for(var r=this.availableDisplayWidth(),n=0,i=this.columnConfigs;n<i.length;n++){var o=i[n];(this.widthSettings[o.name].userAdjusted||!o.canResize)&&!o.isOutsideViewport&&(r-=this.widthSettings[o.name].curWidth)}return r},t.prototype.onColumnResizing=function(r,n){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(o){switch(o.label){case 0:return[4,this.resizeColumn(n,r.rectangle&&r.rectangle.width)];case 1:return o.sent(),[2]}})})},t.prototype.resizeColumn=function(r,n,i){return(0,c.__awaiter)(this,void 0,void 0,function(){var o,a,s;return(0,c.__generator)(this,function(p){switch(p.label){case 0:return o=this.getColumnMinWidth(r),a=this.getColumnMaxWidthNonProportional(r),this.proportionalColumFill?[4,this.getColumnMaxWidthProportional(r)]:[3,2];case 1:return a=p.sent(),[3,3];case 2:this.columnWidthRecoverable&&(a=Math.max(a,this.widthSettings[r].defaultWidth||0)),p.label=3;case 3:return i&&a>0&&n>a&&(n=a-1),n>o&&n<a?(this.widthSettings[r].curWidth=this.colWidth[r]=n,this.widthSettings[r].userAdjusted=!0,s=this,[4,this.calculateTableMinWidth()]):[3,5];case 4:return s.tableMinWidth=p.sent(),[3,6];case 5:return[2];case 6:return this.proportionalColumFill?[4,this.proportionalScaleColumnsOnResize(r)]:[3,8];case 7:p.sent(),p.label=8;case 8:return[2]}})})},t.prototype.onColumnResizingEnd=function(r,n){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(i){return this.isResizing=!1,this.telemetryService.logEvent(H,{hostedContext:this.hostedEnvironmentTelemetryHint,resizedColumnName:n,resizedColumnOldSize:this.resizingStartSize,resizedColumnNewSize:r.rectangle&&r.rectangle.width}),[2]})})},t.prototype.onColumnResizingStart=function(r,n){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(i){return this.isResizing=!0,this.resizingStartSize=r.rectangle&&r.rectangle.width,[2]})})},t.prototype.setVisibleColumns=function(r){return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s;return(0,c.__generator)(this,function(p){switch(p.label){case 0:if(!this.responsiveColumns&&!this.proportionalColumFill){for(n=0,i=this.columnConfigs;n<i.length;n++)(o=i[n]).isOutsideViewport=!1,o.showSeeAll=!1;return this.seeAllColumn=null,this.nextToIconColumn=T.Name,[2]}return(a=this.availableDisplayWidth())>-1?this.proportionalColumFill?[4,this.setVisibleColumnsProportionalColumnFill(a,r)]:[3,4]:[3,6];case 1:return p.sent()?[4,this.setVisibleColumns(r)]:[3,3];case 2:p.sent(),p.label=3;case 3:return[3,6];case 4:return[4,this.setVisibleColumnsNonProportionalColumnFill(a)];case 5:p.sent(),p.label=6;case 6:return s=this,[4,this.getNextToIconColumn()];case 7:return s.nextToIconColumn=p.sent(),[2]}})})},t.prototype.getNextToIconColumn=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var r,n,i;return(0,c.__generator)(this,function(o){switch(o.label){case 0:r=this.columnConfigs.findIndex(function(a){return a.name===T.Icon}),n=r+1,o.label=1;case 1:return n<this.columnConfigs.length?(i=!this.columnConfigs[n].isOutsideViewport)?[4,this.columnConfigs[n].visible$.pipe((0,je.q)(1)).toPromise()]:[3,3]:[3,5];case 2:i=o.sent(),o.label=3;case 3:if(i)return[2,this.columnConfigs[n].name];o.label=4;case 4:return n++,[3,1];case 5:return[2,null]}})})},t.prototype.getWidthFromConfig=function(r){return r.showSeeAll?this.colWidth[r.name]+55+"px":this.colWidth[r.name]+"px"},t.prototype.localize=function(r,n){return n?this.localizationService.format(r,[n]):this.localizationService.get(r)},t.prototype.hoverOnItemCard=function(r){this.isHoverOnItemHoverCard=r},t.prototype.announceSortChange=function(r){var n,o=null===(n=this.columnConfigs.find(function(s){return s.name===r.active}))||void 0===n?void 0:n.content;if(o){var a=this.localizationService.format({asc:"DataGrid_ColumnSortedAscending",desc:"DataGrid_ColumnSortedDescending","":"Sort_Cleared"}[r.direction],o);this.liveAnnouncer.announce(a)}},t.prototype.handleSeeAllAddOrRemove=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var r,n,i;return(0,c.__generator)(this,function(o){switch(o.label){case 0:if(!(this.onSeeAll.observers.length>0))return[3,6];r=!1,n=this.columnConfigs.length-1,o.label=1;case 1:return n>=0?(i=!this.columnConfigs[n].isOutsideViewport)?[4,this.columnConfigs[n].visible$.pipe((0,je.q)(1)).toPromise()]:[3,3]:[3,5];case 2:i=o.sent(),o.label=3;case 3:i&&!r&&(this.anyColHidden||this.seeAllAlwaysAvailable)?(this.columnConfigs[n].showSeeAll=!0,this.seeAllColumn=this.columnConfigs[n].name,r=!0):this.columnConfigs[n].showSeeAll=!1,o.label=4;case 4:return n--,[3,1];case 5:r||(this.seeAllColumn=null),o.label=6;case 6:return[2]}})})},t.prototype.setVisibleColumnsProportionalColumnFill=function(r,n){return(0,c.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,p,m,S,w,E,R;return(0,c.__generator)(this,function(J){switch(J.label){case 0:i=!0,o=!1,n&&(i=!1),a=0,s=this.columnConfigs,J.label=1;case 1:return a<s.length?[4,(w=s[a]).visible$.pipe((0,je.q)(1)).toPromise()]:[3,4];case 2:if(J.sent()&&(this.widthSettings[w.name].userAdjusted||!w.canResize||!i))if(!(p=(E=this.widthSettings[w.name]).curWidth)||r>=p)E.isOutsideViewport=w.isOutsideViewport=!1,r-=p;else if(E.isOutsideViewport=w.isOutsideViewport=!0,o=!0,!this.anyColHidden)return this.anyColHidden=!0,[2,!0];n===w.name&&(i=!0),J.label=3;case 3:return a++,[3,1];case 4:i=!0,n&&(i=!1),m=0,S=this.columnConfigs,J.label=5;case 5:return m<S.length?[4,(w=S[m]).visible$.pipe((0,je.q)(1)).toPromise()]:[3,8];case 6:if(J.sent()&&!this.widthSettings[w.name].userAdjusted&&w.canResize&&i)if(!(R=(E=this.widthSettings[w.name]).minWidth)||r>=R)E.isOutsideViewport=w.isOutsideViewport=!1,r-=R;else if(E.isOutsideViewport=w.isOutsideViewport=!0,o=!0,!this.anyColHidden)return this.anyColHidden=!0,[2,!0];n===w.name&&(i=!0),J.label=7;case 7:return m++,[3,5];case 8:return this.anyColHidden=o,[2,!1]}})})},t.prototype.setVisibleColumnsNonProportionalColumnFill=function(r){return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s;return(0,c.__generator)(this,function(p){switch(p.label){case 0:n=0,i=this.columnConfigs,p.label=1;case 1:return n<i.length?[4,(o=i[n]).visible$.pipe((0,je.q)(1)).toPromise()]:[3,4];case 2:p.sent()&&(!(s=(a=this.widthSettings[o.name]).curWidth)||r>=s?(a.isOutsideViewport=o.isOutsideViewport=!1,r-=s):r>=a.minWidth?(this.colWidth[o.name]=a.curWidth=r,a.isOutsideViewport=o.isOutsideViewport=!1,r-=a.curWidth):a.isOutsideViewport=o.isOutsideViewport=!0),p.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.proportionalScaleColumnsOnResize=function(r){return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,p,m,S,w,E,R;return(0,c.__generator)(this,function(J){switch(J.label){case 0:return[4,this.setVisibleColumns(r)];case 1:J.sent(),n=0,i=!1,o=this.availableDisplayWidth(),a=0,s=this.columnConfigs,J.label=2;case 2:return a<s.length?[4,(w=s[a]).visible$.pipe((0,je.q)(1)).toPromise()]:[3,5];case 3:J.sent()&&(i&&!this.widthSettings[w.name].isOutsideViewport&&!this.widthSettings[w.name].userAdjusted&&w.canResize?n+=this.colWidth[w.name]:this.widthSettings[w.name].isOutsideViewport||(o-=this.colWidth[w.name])),r===w.name&&(i=!0),J.label=4;case 4:return a++,[3,2];case 5:p=o/n,i=!1,m=0,S=this.columnConfigs,J.label=6;case 6:return m<S.length?(w=S[m],(E=i)?[4,w.visible$.pipe((0,je.q)(1)).toPromise()]:[3,8]):[3,10];case 7:E=!!J.sent(),J.label=8;case 8:E&&!this.widthSettings[w.name].isOutsideViewport&&!(this.widthSettings[w.name].userAdjusted||!w.canResize)&&(this.colWidth[w.name]=R=this.colWidth[w.name]*p,this.widthSettings[w.name].curWidth=R),r===w.name&&(i=!0),J.label=9;case 9:return m++,[3,6];case 10:return[4,this.handleSeeAllAddOrRemove()];case 11:return J.sent(),[2]}})})},t.prototype.getColumnMaxWidthProportional=function(r){return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,p,m;return(0,c.__generator)(this,function(S){switch(S.label){case 0:n=!0,i=this.availableDisplayWidth(),o=0,a=this.columnConfigs,S.label=1;case 1:return o<a.length?(r===(s=a[o]).name&&(n=!1),(p=n)?[4,s.visible$.pipe((0,je.q)(1)).toPromise()]:[3,3]):[3,7];case 2:p=!!S.sent(),S.label=3;case 3:return p&&!this.widthSettings[s.name].isOutsideViewport&&(i-=this.widthSettings[s.name].curWidth),(m=!n)?[4,s.visible$.pipe((0,je.q)(1)).toPromise()]:[3,5];case 4:m=!!S.sent(),S.label=5;case 5:m&&!this.widthSettings[s.name].isOutsideViewport&&this.widthSettings[s.name].userAdjusted&&r!==s.name&&(i-=this.widthSettings[s.name].curWidth),S.label=6;case 6:return o++,[3,1];case 7:return[2,i]}})})},t.prototype.getColumnMinWidth=function(r){var n=this.columnConfigs.find(function(a){return a.name===r}),o=this.widthSettings[r].minWidth||98;return this.enableColumnOptions&&n?.showMoreOption?o+20:o},t.prototype.getColumnMaxWidthNonProportional=function(r){var n=this.availableDisplayWidth();if(n){var i=_.reduce(this.widthSettings,function(o,a,s){return s===r||a.isOutsideViewport?o:o-a.curWidth},n);return Math.min(i,this.widthSettings[r].maxWidth)}return this.widthSettings[r].maxWidth||400},t.prototype.refreshScroll=function(){var r;null===(r=this.virtualScroll)||void 0===r||r.refresh(),this.triggerInitColumnWidth(!0)},t.prototype.calculateTableMinWidth=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var r,n,i,o,a;return(0,c.__generator)(this,function(s){switch(s.label){case 0:if(!this.useVirtualScroll||this.responsiveColumns)return[2,null];r=64+(this.allowSelection?32:0),n=0,i=this.columnConfigs,s.label=1;case 1:return n<i.length?(a=!!(o=i[n]).defaultWidth)?[4,o.visible$.pipe((0,je.q)(1)).toPromise()]:[3,3]:[3,5];case 2:a=!!s.sent(),s.label=3;case 3:a&&!o.isOutsideViewport&&(r+=this.colWidth[o.name]),s.label=4;case 4:return n++,[3,1];case 5:return[2,r]}})})},t.prototype.masterToggle=function(){var r,n=this;if(this.isAllSelected())this.selection.clear(),this.onClickMasterCheckbox.emit(!1);else{var i=_.filter(this.dataSource.filteredData,function(o){return!1!==o.canBeSelected});(r=this.selection).select.apply(r,_.map(i,function(o){return n.uniqueItemKey(o)})),this.onClickMasterCheckbox.emit(!0)}},t.prototype.isAllSelected=function(){var r=this,n=this.selection.selected;return _.filter(this.dataSource.filteredData,function(o){return!1!==o.canBeSelected}).every(function(o){return n.includes(r.uniqueItemKey(o))})},t.prototype.noSelectableRows=function(){return this.dataSource.filteredData.every(function(r){return!1===r.canBeSelected})},t.prototype.itemCannotBeSelected=function(r){return!1===r.canBeSelected},t.prototype.itemShouldBeDisplayAsChecked=function(r){return this.itemCannotBeSelected(r)&&r.isCheckedAndDisabled||this.selection.isSelected(this.uniqueItemKey(r))},t.prototype.isPartialSelected=function(){return this.selection.selected.length>0&&!this.isAllSelected()},t.prototype.uniqueItemKey=function(r){return Qn(r)},t.prototype.toggleSelection=function(r){this.selection.toggle(this.uniqueItemKey(r))},t.prototype.setFocusedRow=function(r,n){this.focusedRowId$.next(!!r&&this.uniqueItemKey(n))},t.prototype.setHoveredRow=function(r){this.hoveredRowId$.next(!!r&&this.uniqueItemKey(r))},t.prototype.isSelected=function(r){var n=this;return this.selection.changed.asObservable().pipe((0,Io.O)(null),(0,P.U)(function(i){return n.selection.isSelected(n.uniqueItemKey(r))}))},t.prototype.onVirtualScrollChange=function(){this.cd.markForCheck()},t.prototype.onClickRow=function(r){xe.fF.assertValue(r,"item must be defined"),this.clickRow.emit(r)},t.prototype.getProportionalColumFill=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var r;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return[4,this.proportionalColumFillStrategy$.pipe((0,je.q)(1)).toPromise()];case 1:return"NoProportional"===(r=n.sent())?[2,!1]:"Proportional"===r?[2,!0]:[2,this.canSeeAllColumnsWithoutScrollbar()]}})})},t.prototype.getResponsiveColumns=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var r;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return[4,this.responsiveColumnsStrategy$.pipe((0,je.q)(1)).toPromise()];case 1:return"NoResponsive"===(r=n.sent())?[2,!1]:"Responsive"===r?[2,!0]:[2,this.canSeeAllColumnsWithoutScrollbar()]}})})},t.prototype.canSeeAllColumnsWithoutScrollbar=function(){var r;return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s;return(0,c.__generator)(this,function(m){switch(m.label){case 0:n=0,i=0,o=this.columnConfigs,m.label=1;case 1:return i<o.length?[4,(a=o[i]).visible$.pipe((0,je.q)(1)).toPromise()]:[3,4];case 2:m.sent()&&(n+=this.getColumnMinWidth(a.name)),m.label=3;case 3:return i++,[3,1];case 4:return s=this.allowSelection?32:0,[2,parseFloat(getComputedStyle(null===(r=this.elementRef)||void 0===r?void 0:r.nativeElement.parentElement).width)-64-s>=n]}})})},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(Pt.vZ),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(re.Kd),e.\u0275\u0275directiveInject(_e.o),e.\u0275\u0275directiveInject(U.y0))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["fluent-list-table-base"]],viewQuery:function(n,i){if(1&n&&(e.\u0275\u0275viewQuery(yr.YE,5),e.\u0275\u0275viewQuery(En.Sl,5),e.\u0275\u0275viewQuery(tn.N7,5)),2&n){var o=void 0;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.matSort=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.virtualScroll=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.cdkVirtualScrollViewPort=o.first)}},hostVars:2,hostBindings:function(n,i){1&n&&e.\u0275\u0275listener("resize",function(a){return i.onResizeWhenNonProportionalColumFill(a)},!1,e.\u0275\u0275resolveWindow),2&n&&e.\u0275\u0275styleProp("min-width",i.tableMinWidth,"px")},inputs:{dataSource:"dataSource",selection:"selection",allowSelection:"allowSelection",columnConfigs$:"columnConfigs$",focusedRowId$:"focusedRowId$",hoveredRowId$:"hoveredRowId$",defaultSort:"defaultSort",useVirtualScroll:"useVirtualScroll",proportionalColumFillStrategy$:"proportionalColumFillStrategy$",hostedEnvironmentTelemetryHint:"hostedEnvironmentTelemetryHint",refreshScroll$:"refreshScroll$",responsiveColumnsStrategy$:"responsiveColumnsStrategy$",seeAllDisplayName:"seeAllDisplayName",seeAllAlwaysAvailable:"seeAllAlwaysAvailable",columnWidthRecoverable:"columnWidthRecoverable",scrollElement:"scrollElement",resizeEvent$:"resizeEvent$",containerHeightResizeEvent$:"containerHeightResizeEvent$"},outputs:{onSortChange:"onSortChange",clickRow:"clickRow",onSeeAll:"onSeeAll",onClickMasterCheckbox:"onClickMasterCheckbox"},features:[e.\u0275\u0275ProvidersFeature([{provide:tn.yU,useClass:pc}])],decls:2,vars:2,consts:[["role","status",4,"ngIf"],[4,"ngIf"],["role","status"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],["rowTemplate",""],["mat-table","",1,"fluent-mat-table",3,"dataSource","trackBy"],[3,"matColumnDef",4,"ngFor","ngForOf","ngForTrackBy"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","cdkMonitorSubtreeFocus","",3,"mouseenter","mouseleave","cdkFocusChange",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","",3,"ngClass",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","",3,"ngClass"],[3,"pbiTooltip",4,"ngIf","ngIfElse"],["fileIcon",""],[3,"pbiTooltip"],["fontIcon","pbi-glyph-file",1,"glyph-small",3,"pbiTooltip"],["mat-cell",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-header-row",""],["mat-row","","cdkMonitorSubtreeFocus","",3,"mouseenter","mouseleave","cdkFocusChange"],["aria-live","polite","role","grid",1,"gridWrapper",3,"ngClass"],["cdkMonitorSubtreeFocus","","role","row","matSort","",1,"column-headers",3,"matSortDisabled","ngClass","matSortChange"],["role","columnheader","class","col col-checkbox",4,"ngIf"],[4,"ngFor","ngForOf"],["id","artifactContentView","data-testid","artifact-content-view",3,"items","ngClass","parentScroll","bufferAmount","change",4,"ngIf","ngIfElse"],["cdkScroll",""],["role","columnheader",1,"col","col-checkbox"],["tabindex","0"],["data-testid","master-checkbox","localizeTooltip","Toggle_Select_All",3,"ngClass","disabled","checked","indeterminate","ariaLabel","keydown.enter","onChange",4,"ngIf"],["data-testid","master-checkbox","localizeTooltip","Toggle_Select_All",3,"ngClass","disabled","checked","indeterminate","ariaLabel","keydown.enter","onChange"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],["class","column-header","mwlResizable","",3,"ngClass","ngStyle","resizing","resizeStart","resizeEnd",4,"ngSwitchCase"],["class","no-resize-header",3,"ngClass","ngStyle",4,"ngSwitchCase"],["mwlResizable","",1,"column-header",3,"ngClass","ngStyle","resizing","resizeStart","resizeEnd"],["class","content","role","columnheader","aria-live","polite",3,"mat-sort-header","start",4,"ngIf"],["class","content","role","columnheader",4,"ngIf"],["class","seeAllLink","tabindex","0","role","link",3,"localize","accessible-click",4,"ngIf"],["class","more-option","role","columnheader","tabindex","1",3,"canSort","canResize","colName","colCurWidth","sortChange","columnResize",4,"ngIf"],["class","resize-handler","data-testid","fluentListHeaderResizeHandle","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["role","columnheader","aria-live","polite",1,"content",3,"mat-sort-header","start"],["role","columnheader",1,"content"],["tabindex","0","role","link",1,"seeAllLink",3,"localize","accessible-click"],["role","columnheader","tabindex","1",1,"more-option",3,"canSort","canResize","colName","colCurWidth","sortChange","columnResize"],["data-testid","fluentListHeaderResizeHandle","mwlResizeHandle","",1,"resize-handler",3,"resizeEdges"],[1,"no-resize-header",3,"ngClass","ngStyle"],["class","content","role","columnheader",3,"mat-sort-header",4,"ngIf"],["role","columnheader",4,"ngIf"],["class","more-option","role","columnheader","tabindex","1",3,"canSort","canResize","colName","sortChange","columnResize",4,"ngIf"],["role","columnheader",1,"content",3,"mat-sort-header"],["role","columnheader"],["fontIcon","pbi-glyph-file","aria-hidden","false",1,"glyph-small",3,"pbiTooltip"],["role","columnheader","tabindex","1",1,"more-option",3,"canSort","canResize","colName","sortChange","columnResize"],["id","artifactContentView","data-testid","artifact-content-view",3,"items","ngClass","parentScroll","bufferAmount","change"],["scroll",""],[4,"ngFor","ngForOf","ngForTrackBy"],["id","artifactContentView","data-testid","artifact-content-view",3,"ngClass"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["role","row","cdkMonitorSubtreeFocus","","data-testid","workspace-list-content-view-row",1,"row",3,"ngClass","cdkFocusChange","mouseenter","mouseleave","click"],["cdkMonitorElementFocus","","role","cell","class","col col-checkbox",4,"ngIf"],["cdkMonitorElementFocus","","role","cell",1,"col","col-checkbox"],["tabindex","0",3,"ngStyle"],["localizeTooltip","Toggle_Select_Row","data-testid","checkbox-btn",3,"ngClass","disabled","checked","ariaLabel","title","click","keydown.enter","onChange"],["otherCells",""],["aria-hidden","true"],["itemHoverCardPopper",""],[3,"itemHoverCardArgs","mouseenter","mouseleave",4,"ngIf"],["role","cell","class","fluent-cell","popperTrigger","hover",3,"popper","popperDelay","popperTimeout","popperHideOnClickOutside","popperHideOnScroll","popperPlacement","popperDisableStyle","popperAppendTo",4,"ngIf"],["role","cell","popperTrigger","hover",1,"fluent-cell",3,"popper","popperDelay","popperTimeout","popperHideOnClickOutside","popperHideOnScroll","popperPlacement","popperDisableStyle","popperAppendTo"],["role","cell","class","fluent-cell",4,"ngIf"],["role","cell",1,"fluent-cell"],[3,"itemHoverCardArgs","mouseenter","mouseleave"]],template:function(n,i){1&n&&(e.\u0275\u0275template(0,hc,4,3,"span",0),e.\u0275\u0275template(1,cu,6,2,"ng-container",1)),2&n&&(e.\u0275\u0275property("ngIf",i.items),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.dataSource.data.length>0))},styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;flex:1 1 auto}.gridWrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;flex:1 1 auto}[tabindex][_ngcontent-%COMP%]{outline:none}.column-headers[_ngcontent-%COMP%]{flex:0 0 auto}  .mat-sort-header-arrow{color:var(--fluent-theme-neutral-primary-color, #323130)}  .mat-sort-header-pointer-left,   .mat-sort-header-pointer-right,   .mat-sort-header-stem{outline:1px solid transparent}.column-headers[_ngcontent-%COMP%], cdk-virtual-scroll-viewport[_ngcontent-%COMP%], virtual-scroll[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}.column-headers.isResizing[_ngcontent-%COMP%], cdk-virtual-scroll-viewport.isResizing[_ngcontent-%COMP%], virtual-scroll.isResizing[_ngcontent-%COMP%]{pointer-events:none}.column-headers[_ngcontent-%COMP%], .row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-primary-color, #323130);border-bottom:1px solid var(--fluent-theme-neutral-light-color, #EDEBE9);display:flex;align-items:center}.column-headers[_ngcontent-%COMP%]     .mat-icon:before, .row[_ngcontent-%COMP%]     .mat-icon:before, .mat-row[_ngcontent-%COMP%]     .mat-icon:before{vertical-align:middle}.column-headers[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:break-spaces}.column-headers[_ngcontent-%COMP%]   .col.col-gitStatus[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col.col-gitStatus[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]   .col.col-gitStatus[_ngcontent-%COMP%], .column-headers[_ngcontent-%COMP%]   .col.col-checkbox[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col.col-checkbox[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]   .col.col-checkbox[_ngcontent-%COMP%]{padding:0 8px;height:100%;display:flex;align-items:center}.column-headers[_ngcontent-%COMP%]   .col.col-icon[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col.col-icon[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]   .col.col-icon[_ngcontent-%COMP%]{line-height:24px}html:not([dir="rtl"])[_nghost-%COMP%]   .column-headers[_ngcontent-%COMP%]   .col.col-icon[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .column-headers[_ngcontent-%COMP%]   .col.col-icon[_ngcontent-%COMP%], html:not([dir="rtl"])[_nghost-%COMP%]   .row[_ngcontent-%COMP%]   .col.col-icon[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .row[_ngcontent-%COMP%]   .col.col-icon[_ngcontent-%COMP%], html:not([dir="rtl"])[_nghost-%COMP%]   .mat-row[_ngcontent-%COMP%]   .col.col-icon[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .mat-row[_ngcontent-%COMP%]   .col.col-icon[_ngcontent-%COMP%]{padding-left:16px}html[dir="rtl"][_nghost-%COMP%]   .column-headers[_ngcontent-%COMP%]   .col.col-icon[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .column-headers[_ngcontent-%COMP%]   .col.col-icon[_ngcontent-%COMP%], html[dir="rtl"][_nghost-%COMP%]   .row[_ngcontent-%COMP%]   .col.col-icon[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .row[_ngcontent-%COMP%]   .col.col-icon[_ngcontent-%COMP%], html[dir="rtl"][_nghost-%COMP%]   .mat-row[_ngcontent-%COMP%]   .col.col-icon[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .mat-row[_ngcontent-%COMP%]   .col.col-icon[_ngcontent-%COMP%]{padding-right:16px}.column-headers[_ngcontent-%COMP%]   .col.col-name[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col.col-name[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]   .col.col-name[_ngcontent-%COMP%]{padding-left:10px}.column-headers[_ngcontent-%COMP%]   .col.col-last-refresh[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col.col-last-refresh[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]   .col.col-last-refresh[_ngcontent-%COMP%]{display:flex}.column-headers[_ngcontent-%COMP%]   .col.col-last-refresh[_ngcontent-%COMP%]     .datasetItemIcon .warning, .row[_ngcontent-%COMP%]   .col.col-last-refresh[_ngcontent-%COMP%]     .datasetItemIcon .warning, .mat-row[_ngcontent-%COMP%]   .col.col-last-refresh[_ngcontent-%COMP%]     .datasetItemIcon .warning{color:var(--fluent-theme-error-dark-alt-color, #D83B01)}.column-headers[_ngcontent-%COMP%]   .col.col-last-refresh[_ngcontent-%COMP%]     dataflow-icon-container button.pbi-glyph-warning, .row[_ngcontent-%COMP%]   .col.col-last-refresh[_ngcontent-%COMP%]     dataflow-icon-container button.pbi-glyph-warning, .mat-row[_ngcontent-%COMP%]   .col.col-last-refresh[_ngcontent-%COMP%]     dataflow-icon-container button.pbi-glyph-warning{background:none;border:none}.column-headers[_ngcontent-%COMP%]   .col.col-sensitivity[_ngcontent-%COMP%]     .labelName, .row[_ngcontent-%COMP%]   .col.col-sensitivity[_ngcontent-%COMP%]     .labelName, .mat-row[_ngcontent-%COMP%]   .col.col-sensitivity[_ngcontent-%COMP%]     .labelName{font-size:12px}.column-headers[_ngcontent-%COMP%]   .col.col-sensitivity[_ngcontent-%COMP%]     .labelName.emptyLabel:before, .row[_ngcontent-%COMP%]   .col.col-sensitivity[_ngcontent-%COMP%]     .labelName.emptyLabel:before, .mat-row[_ngcontent-%COMP%]   .col.col-sensitivity[_ngcontent-%COMP%]     .labelName.emptyLabel:before{content:" \\2014  "}.column-headers[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-primary-color, #323130)}.column-headers[_ngcontent-%COMP%]   div.seeAllLink[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   div.seeAllLink[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]   div.seeAllLink[_ngcontent-%COMP%]{line-height:normal;color:#0078d4;text-decoration:none;font-size:14px;font-family:Segoe UI,wf_segoe-ui_normal,helvetica,arial,sans-serif;outline:none;cursor:pointer}.column-headers[_ngcontent-%COMP%]   div.seeAllLink[_ngcontent-%COMP%]:hover, .row[_ngcontent-%COMP%]   div.seeAllLink[_ngcontent-%COMP%]:hover, .mat-row[_ngcontent-%COMP%]   div.seeAllLink[_ngcontent-%COMP%]:hover, .column-headers[_ngcontent-%COMP%]   div.seeAllLink[_ngcontent-%COMP%]:focus, .row[_ngcontent-%COMP%]   div.seeAllLink[_ngcontent-%COMP%]:focus, .mat-row[_ngcontent-%COMP%]   div.seeAllLink[_ngcontent-%COMP%]:focus{text-decoration:underline;color:#005a9e}[_ngcontent-%COMP%]:not(.responsive-columns)   .column-headers.col-type[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .row.col-type[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .column-headers.col-owner[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .row.col-owner[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .column-headers.col-last-refresh[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .row.col-last-refresh[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .column-headers.col-endorsement[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .row.col-endorsement[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .column-headers.col-included-in-app[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .row.col-included-in-app[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .column-headers.col-attached-to[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .row.col-attached-to[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .column-headers.col-last-access[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .row.col-last-access[_ngcontent-%COMP%]{min-width:94px;max-width:200px}[_ngcontent-%COMP%]:not(.responsive-columns)   .column-headers.col-sensitivity[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .row.col-sensitivity[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .column-headers.col-location[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .row.col-location[_ngcontent-%COMP%]{min-width:154px;max-width:200px}[_ngcontent-%COMP%]:not(.responsive-columns)   .column-headers.col-name[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.responsive-columns)   .row.col-name[_ngcontent-%COMP%]{min-width:342px}.column-headers.col-name[_ngcontent-%COMP%], .row.col-name[_ngcontent-%COMP%], .column-headers.col-type[_ngcontent-%COMP%], .row.col-type[_ngcontent-%COMP%], .column-headers.col-owner[_ngcontent-%COMP%], .row.col-owner[_ngcontent-%COMP%], .column-headers.col-last-refresh[_ngcontent-%COMP%], .row.col-last-refresh[_ngcontent-%COMP%], .column-headers.col-endorsement[_ngcontent-%COMP%], .row.col-endorsement[_ngcontent-%COMP%], .column-headers.col-sensitivity[_ngcontent-%COMP%], .row.col-sensitivity[_ngcontent-%COMP%], .column-headers.col-last-access[_ngcontent-%COMP%], .row.col-last-access[_ngcontent-%COMP%], .column-headers.col-location[_ngcontent-%COMP%], .row.col-location[_ngcontent-%COMP%]{flex:0 0 auto}.column-headers.col-included-in-app[_ngcontent-%COMP%], .row.col-included-in-app[_ngcontent-%COMP%], .column-headers.col-attached-to[_ngcontent-%COMP%], .row.col-attached-to[_ngcontent-%COMP%]{flex:1 1 auto}.fluent-cell[_ngcontent-%COMP%]{display:flex}.column-headers[_ngcontent-%COMP%]{margin:16px 32px 0;height:43px;font-family:Segoe UI Semibold,wf_segoe-ui_semibold,helvetica,arial,sans-serif}.column-headers[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{height:43px;line-height:20px;display:flex;align-items:center}.column-headers[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1 1 auto;padding:0 8px;overflow:hidden}.column-headers[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-lighter-color, #F3F2F1)}.column-headers[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:hover     .mat-sort-header-container{background:none}.column-headers[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .mat-sort-header-container{overflow:hidden}.column-headers[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:normal;border:1px solid transparent;overflow:hidden;text-overflow:ellipsis}.column-headers[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .mat-sort-header-container[disabled]{color:inherit;background:none;border:none}.column-headers[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .mat-sort-header-container:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.column-headers[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .resize-handler[_ngcontent-%COMP%]{flex:0 0 16px;display:inline-block;position:relative;cursor:col-resize;height:33px;margin:0 -7px;text-align:center}.column-headers[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .resize-handler[_ngcontent-%COMP%]:after{content:"";width:1px;position:absolute;top:0;bottom:0;opacity:0;background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.column-headers[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .resize-handler[_ngcontent-%COMP%]:hover:after{opacity:1}.column-headers[_ngcontent-%COMP%]   .col.resize-active[_ngcontent-%COMP%]   .resize-handler[_ngcontent-%COMP%]:after{opacity:1}.column-headers[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   .more-option[_ngcontent-%COMP%]{height:20px;width:26px}.column-headers.cdk-focused.cdk-keyboard-focused[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{display:inline-flex;visibility:visible}.column-headers.cdk-focused.cdk-keyboard-focused[_ngcontent-%COMP%]     .tri-checkbox-input:focus-visible+label:after{display:none}.column-headers[_ngcontent-%COMP%]:hover   .checkbox[_ngcontent-%COMP%]{display:inline-flex;visibility:visible}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%], [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]{flex:1 1 auto;overflow-x:hidden}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{border-bottom:0}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper, [_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .scrollable-content, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .scrollable-content, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .scrollable-content{padding:0 32px;box-sizing:border-box}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .row, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .row, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .row, [_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .mat-row, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .mat-row, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .mat-row{height:44px}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .row .col, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .row .col, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .row .col, [_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .mat-row .col, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .mat-row .col, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .mat-row .col{padding:0 8px}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .row.hover, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .row.hover, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .row.hover, [_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .mat-row.hover, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .mat-row.hover, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .mat-row.hover, [_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .row:hover, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .row:hover, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .row:hover, [_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .mat-row:hover, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .mat-row:hover, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .mat-row:hover{background-color:var(--fluent-theme-neutral-lighter-color, #F3F2F1)}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .row.hover .checkbox, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .row.hover .checkbox, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .row.hover .checkbox, [_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .mat-row.hover .checkbox, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .mat-row.hover .checkbox, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .mat-row.hover .checkbox, [_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .row:hover .checkbox, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .row:hover .checkbox, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .row:hover .checkbox, [_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .mat-row:hover .checkbox, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .mat-row:hover .checkbox, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .mat-row:hover .checkbox{display:inline-flex;visibility:visible}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .row.cdk-focused.cdk-keyboard-focused .checkbox, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .row.cdk-focused.cdk-keyboard-focused .checkbox, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .row.cdk-focused.cdk-keyboard-focused .checkbox, [_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .mat-row.cdk-focused.cdk-keyboard-focused .checkbox, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .mat-row.cdk-focused.cdk-keyboard-focused .checkbox, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .mat-row.cdk-focused.cdk-keyboard-focused .checkbox{display:inline-flex;visibility:visible}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .row.cdk-focused.cdk-keyboard-focused   .tri-checkbox-input:focus-visible+label:after, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .row.cdk-focused.cdk-keyboard-focused   .tri-checkbox-input:focus-visible+label:after, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .row.cdk-focused.cdk-keyboard-focused   .tri-checkbox-input:focus-visible+label:after, [_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .mat-row.cdk-focused.cdk-keyboard-focused   .tri-checkbox-input:focus-visible+label:after, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .mat-row.cdk-focused.cdk-keyboard-focused   .tri-checkbox-input:focus-visible+label:after, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .mat-row.cdk-focused.cdk-keyboard-focused   .tri-checkbox-input:focus-visible+label:after{display:none}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .row.selected, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .row.selected, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .row.selected, [_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .mat-row.selected, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .mat-row.selected, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .mat-row.selected{background-color:var(--fluent-theme-neutral-lighter-color, #F3F2F1)}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .total-padding, [_nghost-%COMP%]   virtual-scroll[_ngcontent-%COMP%]     .total-padding, [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]     .total-padding{padding-block-end:12px}.checkbox[_ngcontent-%COMP%]{display:inline-flex;visibility:hidden}.checkbox[_ngcontent-%COMP%]:hover{visibility:visible}.checkbox-checked[_ngcontent-%COMP%]{display:inline-flex;visibility:visible}[_nghost-%COMP%]     .tri-checkbox-input+label{padding:0!important}[_nghost-%COMP%]     .tri-checkbox-custom{margin-left:0!important}.fluent-mat-table[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.fluent-mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%], .fluent-mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:flex;width:100%;height:48px;border-width:0;border-bottom-width:1px;border-style:solid;border-color:var(--fluent-theme-neutral-light-color, #EDEBE9);align-items:center;box-sizing:border-box;font-size:14px}.fluent-mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .fluent-mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:14px;flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;height:inherit;border-width:0}html:not([dir="rtl"])[_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-of-type, html:not([dir="rtl"])   [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-of-type, html:not([dir="rtl"])[_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:first-of-type, html:not([dir="rtl"])   [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:6px}html[dir="rtl"][_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-of-type, html[dir="rtl"]   [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-of-type, html[dir="rtl"][_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:first-of-type, html[dir="rtl"]   [_nghost-%COMP%]   .fluent-mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-right:6px}.fluent-mat-table[_ngcontent-%COMP%]   .mat-cell.mat-column-icon[_ngcontent-%COMP%], .fluent-mat-table[_ngcontent-%COMP%]   .mat-header-cell.mat-column-icon[_ngcontent-%COMP%]{justify-content:center;line-height:24px}.fluent-mat-table[_ngcontent-%COMP%]   .mat-cell.mat-column-name[_ngcontent-%COMP%], .fluent-mat-table[_ngcontent-%COMP%]   .mat-header-cell.mat-column-name[_ngcontent-%COMP%], .fluent-mat-table[_ngcontent-%COMP%]   .mat-cell.mat-column-description[_ngcontent-%COMP%], .fluent-mat-table[_ngcontent-%COMP%]   .mat-header-cell.mat-column-description[_ngcontent-%COMP%]{flex:2}[_nghost-%COMP%]     .fluent-mat-table thead{display:flex;height:48px;font-family:Segoe UI Semibold,wf_segoe-ui_semibold,helvetica,arial,sans-serif}[_nghost-%COMP%]     .fluent-mat-table thead .mat-header-cell{color:var(--fluent-theme-neutral-primary-color, #323130)}[_nghost-%COMP%]     .fluent-mat-table thead .mat-header-cell.mat-header-icon{padding:0}[_nghost-%COMP%]     .fluent-mat-table tbody{display:flex;flex-direction:column}html:not([dir="rtl"])[_nghost-%COMP%]     .fluent-mat-table thead .mat-header-cell, html:not([dir="rtl"])   [_nghost-%COMP%]     .fluent-mat-table thead .mat-header-cell{padding-left:12px}html[dir="rtl"][_nghost-%COMP%]     .fluent-mat-table thead .mat-header-cell, html[dir="rtl"]   [_nghost-%COMP%]     .fluent-mat-table thead .mat-header-cell{padding-right:12px}  .no-resize-header:hover,   .column-header:hover{background-color:var(--fluent-theme-neutral-lighter-color, #F3F2F1)}  .no-resize-header:hover .column-option,   .column-header:hover .column-option{opacity:1}@media screen and (-ms-high-contrast: active),screen and (forced-colors: active){cdk-virtual-scroll-viewport[_ngcontent-%COMP%]   .row.hover[_ngcontent-%COMP%], virtual-scroll[_ngcontent-%COMP%]   .row.hover[_ngcontent-%COMP%], .fluent-mat-table[_ngcontent-%COMP%]   .row.hover[_ngcontent-%COMP%], cdk-virtual-scroll-viewport[_ngcontent-%COMP%]   .mat-row.hover[_ngcontent-%COMP%], virtual-scroll[_ngcontent-%COMP%]   .mat-row.hover[_ngcontent-%COMP%], .fluent-mat-table[_ngcontent-%COMP%]   .mat-row.hover[_ngcontent-%COMP%], cdk-virtual-scroll-viewport[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:hover, virtual-scroll[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:hover, .fluent-mat-table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:hover, cdk-virtual-scroll-viewport[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover, virtual-scroll[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover, .fluent-mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:var(--globalColorhcHighlightText)}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]   .row.selected[_ngcontent-%COMP%], virtual-scroll[_ngcontent-%COMP%]   .row.selected[_ngcontent-%COMP%], .fluent-mat-table[_ngcontent-%COMP%]   .row.selected[_ngcontent-%COMP%], cdk-virtual-scroll-viewport[_ngcontent-%COMP%]   .mat-row.selected[_ngcontent-%COMP%], virtual-scroll[_ngcontent-%COMP%]   .mat-row.selected[_ngcontent-%COMP%], .fluent-mat-table[_ngcontent-%COMP%]   .mat-row.selected[_ngcontent-%COMP%]{background-color:var(--globalColorhcHighlight)}}'],changeDetection:0}),t}(),du=function(){function t(){this.tasks=[],this.running=!1}return t.prototype.enqueue=function(r){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(i){switch(i.label){case 0:if(this.tasks.push(r),this.running)return[3,4];this.running=!0,i.label=1;case 1:return this.tasks.length>0?[4,(0,this.tasks[0])()]:[3,3];case 2:return i.sent(),this.tasks.shift(),[3,1];case 3:this.running=!1,i.label=4;case 4:return[2]}})})},t}(),fu=l(16452),di=l(65858),xo=l(55005),rt=l(74076),wo=function(r){return 1===r||3===r||4===r||8===r||7===r||9===r},Mo=function(r,n){return!(r&&!n)},mu=(0,ne.P1)(rt.d_,wo),Po=((0,ne.P1)(rt.d_,function(t){return 4===t}),(0,ne.P1)(rt.kM,rt.WG,Mo)),hu=(0,ne.P1)(rt.S6,function(t){return(0,xo.qR)(t)}),gu=((0,ne.P1)(hu,rt.T,function(t,r){return t&&!r}),function(r){return(0,ne.P1)((0,rt.KB)(r),function(n){return n&&wo(n.capacitySkuTier)})}),vu=function(r){return(0,ne.P1)((0,rt.Oh)(r),(0,rt.Jq)(r),Mo)},_u=l(4444),Cu=l(44527),Xe=l(7600),Bt=l(38078),an=l(41838),It=l(37976),Gt=l(82762),fn=l(41198),Tn=l(9398);function ko(t){return{kind:"Failure",value:t}}function yu(t){return{kind:"Success",value:t}}var An=l(58938),Ir=l(629),Oo=window,Iu=function(){function t(r,n,i){this.dialogService=r,this.featureSwitchService=n,this.httpService=i}return t.prototype.checkCapacityAndShowDialog=function(r,n,i,o){return(0,c.__awaiter)(this,void 0,void 0,function(){var a,s,m,S,w;return(0,c.__generator)(this,function(R){switch(R.label){case 0:return R.trys.push([0,2,,3]),S="metadata/dataflows/".concat(r,"/capacityActive"),[4,this.httpService.get(S,this.httpService.powerbiRequestOptions())];case 1:return s=R.sent().data,a=s.isActive,[3,3];case 2:return R.sent(),a=!0,[3,3];case 3:if(!1===a)return this.dialogService.showSimpleDialog(n,o),[2,ko(void 0)];R.label=4;case 4:return R.trys.push([4,6,,7]),S="metadata/dataflows/".concat(r,"/throttlingCheck"),[4,this.httpService.get(S,this.httpService.powerbiRequestOptions())];case 5:return w=R.sent().data,m=w.isThrottled,[3,7];case 6:return R.sent(),m=!1,[3,7];case 7:return m?(this.dialogService.showSimpleDialog(n,i),[2,ko(void 0)]):[2,yu(void 0)]}})})},t.prototype.shouldDisableEditActions=function(r,n){var i;return 4===(null!==(i=r.currentRefreshStatus)&&void 0!==i?i:r.lastRefreshStatus)||2===r.state||2===r.publishStatus||!n&&!this.featureSwitchService.featureSwitches.enableGen2DataflowsForSharedWorkspaces||!this.featureSwitchService.featureSwitches.cdsaFrontend||!(Oo.isTrident?this.featureSwitchService.featureSwitches.enableGen2DataflowsInTrident:this.featureSwitchService.featureSwitches.enableGen2DataflowsInPowerBI)},t.prototype.shouldDisableRefreshActions=function(r,n){var i;return 4===(null!==(i=r.currentRefreshStatus)&&void 0!==i?i:r.lastRefreshStatus)||2===r.state||2===r.publishStatus||5===r.publishStatus||4===r.publishStatus||null==r.publishRequestCreationTime||!n&&!this.featureSwitchService.featureSwitches.enableGen2DataflowsForSharedWorkspaces||!this.featureSwitchService.featureSwitches.cdsaFrontend||!(Oo.isTrident?this.featureSwitchService.featureSwitches.enableGen2DataflowsInTrident:this.featureSwitchService.featureSwitches.enableGen2DataflowsInPowerBI)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(An.x),e.\u0275\u0275inject(Pt.vZ),e.\u0275\u0275inject(Ir.M))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Do=l(60134),mn=l(14463),Su=l(94685),Fo=l(9936),Tu=l(2956),nt=l(59017),hn=l(42195),wu=l(32140),Eo="PBI.AppMetadata.Refresh",Mu=K.cx[Eo]=(0,K.b1)(Eo),Ao="PBI.GetHomeMetadata",Pu=K.cx[Ao]=(0,K.b1)(Ao),Ro="PBI.GetGoalsHubMetadata",ku=K.cx[Ro]=(0,K.b1)(Ro),Lo="PBI.GetDatahubMetadata",Ou=K.cx[Lo]=(0,K.b1)(Lo),St=l(35911),fi=l(89803),Rn=l(28717),Ln=l(94853),qn=l(60225),jo=l(17653),jn=l(59822),Du=l(73875),Fu=l(41134),Bo=l(58417),No=window,Eu=function(){function t(r){this.store=r,this.metadata=new Bo.y(function(n){No.initialDashboardContainer!==Rn.ms?n.next(No.initialDashboardContainer):n.error()})}return Object.defineProperty(t.prototype,"initialMetadata",{get:function(){return this.metadata},enumerable:!1,configurable:!0}),t.prototype.loadInitialMetadata=function(r){this.store.dispatch(new Fu.RA(r))},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(ne.yh))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Au=l(84916),Zn=l(29866),gn=window,Wo=function(){function t(r,n,i,o,a,s,p,m,S){var w=this;this.promiseFactory=r,this.featureSwitchService=n,this.httpService=i,this.metadataStore=o,this.ngZone=a,this.resourcePackagesService=s,this.telemetryService=p,this.visualPluginService=m,this.localizationService=S,this.processedAppMetadata=!1,this.getAppMetadataDeferredWithoutForceRefresh=this.promiseFactory.defer(),this.getAppMetadataDeferredWithoutForceRefresh.promise.then(function(E){w.localizationService.loaded$.subscribe(function(R){R&&w.metadataStore.loadInitialMetadata(E)})}),window.powerbi.notifyDashboardContainerReady=function(E){return w.ngZone.run(function(){return w.populateAppMetadata(E)})}}return t.prototype.getAppMetadata=function(r){var n=this;if(void 0===r&&(r=!1),this.checkIfAppMetadataIsReady(),r&&!this.getAppMetadataDeferredWithForceRefresh){var i=this.telemetryService.startEvent(Mu),o=this.httpService.powerbiRequestOptions(i.event,"RefreshingAppMetadata",{});this.getAppMetadataDeferredWithForceRefresh=this.promiseFactory.defer(),this.httpService.get("powerbi/metadata/app",o).pipe((0,jo.b)(function(a){n.getAppMetadataDeferredWithForceRefresh.resolve(a.data),n.metadataStore.loadInitialMetadata(a.data),i.resolve()}),(0,jn.K)(function(a){return n.getAppMetadataDeferredWithForceRefresh.reject(a),i.reject(),(0,qe.of)(a)})).subscribe(function(a){return n.checkIfAppMetadataIsReady()})}return this.getMostRecentAppMetadataPromise()},t.prototype.getHomeMetadata=function(){var r=this.telemetryService.startEvent(Pu),n=this.httpService.powerbiRequestOptions(r.event,"getHomeMetadata",{groupObjectIdOverride:St.fm});return this.httpService.get("metadata/app?preferReadOnlySession=true&cmd=home",n).pipe((0,hn.zg)(function(i){return r.resolve(),(0,qe.of)(i)}),(0,jn.K)(function(i){var o=(0,Ln.GB)(i.error,i.status);return r.reject(o),(0,qe.of)(null)}))},t.prototype.getGoalsHubMetadata=function(r){var n=this.telemetryService.startEvent(ku,{requestedSharedArtifactsCount:r}),i=this.httpService.powerbiRequestOptions(n.event,"getGoalsHubMetadata",{groupObjectIdOverride:St.fm});return this.httpService.get("metadata/app?preferReadOnlySession=true&cmd=goalshub&requestedSharedArtifactsCount=".concat(r),i).pipe((0,hn.zg)(function(o){return n.resolve(),(0,qe.of)(o)}),(0,jn.K)(function(o){var a=(0,Ln.GB)(o.error,o.status);return n.reject(a),(0,qe.of)(null)}))},t.prototype.getDatahubMetadata=function(r){var n=this.telemetryService.startEvent(Ou),i=_.isNil(r)||_.isEmpty(r)?"metadata/datahub/app":"metadata/datahub/".concat(r,"/app");return this.httpService.get(i).pipe((0,hn.zg)(function(o){return n.resolve(),(0,qe.of)(o)}),(0,jn.K)(function(o){var a=(0,Ln.GB)(o.error,o.status);return n.reject(a),(0,qn._)(o)}))},t.prototype.getMostRecentAppMetadataPromise=function(){return this.getAppMetadataDeferredWithForceRefresh&&this.getAppMetadataDeferredWithForceRefresh.promise||this.getAppMetadataDeferredWithoutForceRefresh.promise},t.prototype.checkIfAppMetadataIsReady=function(){if(!this.processedAppMetadata)if(gn.initialDashboardContainer){if(gn.initialDashboardContainer===Rn.JO)return;gn.initialDashboardContainer!==Rn.ms?(this.processedAppMetadata=!0,this.populateAppMetadata(gn.initialDashboardContainer)):(this.processedAppMetadata=!1,xe.fF.assertFail("Invalid initialDashboardContainer state: "+gn.initialDashboardContainer),this.getAppMetadataDeferredWithoutForceRefresh.reject())}else this.processedAppMetadata=!0,this.getAppMetadataDeferredWithoutForceRefresh.resolve(null)},t.prototype.importResourcePackages=function(r){var n=this;if(this.importResourcePackagesDeferred)return this.importResourcePackagesDeferred.promise;this.importResourcePackagesDeferred=this.promiseFactory.defer();var o,i=gn.initialDashboardContainer.activeDashboardId;return _.isEmpty(r)?(this.importResourcePackagesDeferred.resolve(null),gn.initialDashboardContainer&&i&&this.telemetryService.logEvent(fi.oM,{dashboardId:i.toString(),resourcePackagesCount:0})):(gn.initialDashboardContainer&&i&&(o=this.telemetryService.startEvent(fi.oM,{dashboardId:i.toString(),resourcePackagesCount:r.length})),this.resourcePackagesService.registerPackages(r),this.featureSwitchService.featureSwitches.disablePrivateCVPreloading?(o&&o.resolve(),this.importResourcePackagesDeferred.resolve(null)):this.visualPluginService.ensurePlugins(r,!1).catch(function(){o&&o.reject()}).finally(function(){o&&o.resolve(),n.importResourcePackagesDeferred.resolve(null)})),this.importResourcePackagesDeferred.promise},t.prototype.populateAppMetadata=function(r){var n=this;if(this.featureSwitchService.registerFeatureSwitches(r.featureSwitches),this.visualPluginService)return this.importResourcePackages(r.resourcePackages).finally(function(){n.getAppMetadataDeferredWithoutForceRefresh.resolve(r)});this.getAppMetadataDeferredWithoutForceRefresh.resolve(r)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(mn.t),e.\u0275\u0275inject(Pt.vZ),e.\u0275\u0275inject(Du.O),e.\u0275\u0275inject(Eu),e.\u0275\u0275inject(e.NgZone),e.\u0275\u0275inject(Au.o),e.\u0275\u0275inject(U.y0),e.\u0275\u0275inject(Zn.D,8),e.\u0275\u0275inject(_e.o))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Ru=window,Lu=function(){function t(){}return t.prototype.getShellCapabilities=function(r,n,i,o,a,s){return(0,qe.of)({appsSettings:{showEditApps:r&&n,showGetApps:r&&n},navBarSettings:{showContentPacks:!o&&n,showManageGateways:r&&n,showPublishToWeb:r&&n},navPane:{showHome:!0,showFavorites:r,showGetData:r&&n,showQuickAccessPane:r&&n,showPipelines:r&&n&&i,showNavOnlyOnHome:!1,closeNavPaneOnInit:!1},getDataPane:{supportsOrgApp:r&&n,supportsServiceApp:r&&n,supportsFiles:r&&n,supportsDatabases:r&&n,supportsDataflows:r&&n},workbookSettings:{showBackButtonOnAppBar:!1},contentListSettings:{supportsAnalyzeInExcel:!o},dashboardSettings:{disableDashboardRefresh:!1,showPinButton:r&&n,alertingEnabled:!0,inFocusModeEnabled:!0,showComments:r},showFluentUI:!!a.showFluentUI,showNavBarNotifications:r,showNavBarSettings:r,showNavPane:r,showAppBar:void 0,showO365Launcher:r&&!Ru.privateLinkHeaderPresent,supportsWorkspaces:r&&n,showArtifactSettings:r&&n,openArtifactsInNewTab:!!a.showFluentUI&&!s,showQuickCreate:r&&n})},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac=function(n){return new(n||t)},providedIn:"root"}),t}(),ju=l(27887),zo="PBI.Settings.EnterFullScreen",Bu=K.cx[zo]=(0,K.b1)(zo,{logExpAssignment:!0}),Nu=new e.InjectionToken("RouteCapabilities"),Sr=l(41288),Ft=l(59973),Uo=new e.InjectionToken("HostSupportsFullScreen"),Wu=function(){function t(r,n,i,o,a,s,p){var m=this;this.hostSupportsFullscreen=r,this.document=n,this.routeCapabilitiesHelperService=o,this.telemetryService=a,this.router=s,this.activatedRoute=p,this.changeListeners=[],this._customFullScreenControleSubject=new k.X(void 0),this.customFullScreenControl$=this._customFullScreenControleSubject.asObservable(),this._fullScreenEnabledSubject=new k.X(!1),this.fullScreenEnabled$=this._fullScreenEnabledSubject.asObservable(),i&&i.addNotificationFilter&&i.addNotificationFilter(function(J){return!m.fullScreenMode});for(var w=0,E=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange","mozfullscreenchange"];w<E.length;w++)this.document.addEventListener(E[w],function(J){return m.updateFullScreenFromBrowser()});this.fullScreenModeEnabled=!1,this.fitStyle=0,this._enterFullScreenSupported=this.hostSupportsFullscreen,this.routeCapabilitiesHelperService&&this.routeCapabilitiesHelperService.getRouteCapabilities().subscribe(function(J){var oe=m._enterFullScreenSupported;m._enterFullScreenSupported=m.hostSupportsFullscreen||!!(J&&J.navBar&&J.navBar.isFullScreenSupported),oe!==m._enterFullScreenSupported&&m.notifyListeners(function(ve){ve.onFullScreenSupportChanged&&ve.onFullScreenSupportChanged(m._enterFullScreenSupported)})}),this.forceFullScreen()&&this.enterFullScreen(),this.fullScreenCustomControlConfigSubscription=this.router.events.pipe((0,Ft.h)(function(J){return J instanceof Tn.m2}),(0,P.U)(function(J){return m.findCustomFullScreenControlConfig(m.activatedRoute.snapshot)})).subscribe(function(J){m.setCustomControl(J)})}return t.prototype.ngOnDestroy=function(){this.fullScreenCustomControlConfigSubscription&&this.fullScreenCustomControlConfigSubscription.unsubscribe()},t.prototype.subscribe=function(r){this.changeListeners.push(r)},t.prototype.unsubscribe=function(r){_.pull(this.changeListeners,r)},t.prototype.enterFullScreen=function(r){void 0!==r&&this.telemetryService.logEvent(Bu,{startingState:Sr.s.clearAllQueriesFromUrl(r)}),!this.fullScreenMode&&(this.setFullScreenMode(!0),this.fitStyle=0)},t.prototype.exitFullScreen=function(){this.fullScreenMode&&(this.setFullScreenMode(!1),this.fitStyle=0)},t.prototype.toggleFullScreen=function(){this.fullScreenMode?this.exitFullScreen():this.enterFullScreen()},Object.defineProperty(t.prototype,"enterFullScreenSupported",{get:function(){return this._enterFullScreenSupported},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullScreenMode",{get:function(){return this.fullScreenModeEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fitStyle",{get:function(){return this._fitStyle},set:function(n){this._fitStyle!==n&&(this._fitStyle=n,this.notifyListeners(function(i){return i.onFitStyleChanged()}))},enumerable:!1,configurable:!0}),t.prototype.setCustomControl=function(r){this._customFullScreenControleSubject.next(r)},t.prototype.notifyListeners=function(r){var n=this.changeListeners;if(!_.isEmpty(n)&&r)for(var i=n.length-1;i>=0;i--)r(n[i])},t.prototype.forceFullScreen=function(){return!!Sr.s.getQueryStringValue("chromeless")},t.prototype.updateFullScreenFromBrowser=function(){var r=this,n=null!=(this.document.fullScreenElement||this.document.msFullscreenElement||this.document.mozFullScreenElement||this.document.webkitFullscreenElement);n!==this.fullScreenMode&&setTimeout(function(){n?r.enterFullScreen():r.exitFullScreen()})},t.prototype.setFullScreenMode=function(r){var n=this.document.documentElement,i=this.document.body;if(n&&i){if(r){if(!this._enterFullScreenSupported&&!this.forceFullScreen())return;i.classList.add(t.fullScreenCSSClass);var o=n.requestFullscreen||n.msRequestFullscreen||n.webkitRequestFullscreen||n.mozRequestFullScreen;o&&o.call(n)}else{i.classList.remove(t.fullScreenCSSClass);var a=i.querySelector(".enterFullScreenBtn");a&&a.blur();var s=this.document.exitFullscreen||this.document.msExitFullscreen||this.document.webkitExitFullscreen||this.document.mozCancelFullScreen;s&&s.call(this.document)}this.fullScreenModeEnabled=r,this.notifyListeners(function(p){return p.onFullScreenModeChanged()}),this._fullScreenEnabledSubject.next(r)}},t.prototype.findCustomFullScreenControlConfig=function(r){var n=this.findDeepestNodeWithLoadedRouteConfig(r);return this.findNodeWithResolvedFullScreenControl(n)},t.prototype.findDeepestNodeWithLoadedRouteConfig=function(r){var n=this,i=_(r.children).map(function(o){return n.findDeepestNodeWithLoadedRouteConfig(o)}).filter(function(o){return!!o}).value();return 1===i.length?i[0]:r.routeConfig?r:void 0},t.prototype.findNodeWithResolvedFullScreenControl=function(r){if(r)return r.data&&r.data.customFullscreenControlConfig||this.findNodeWithResolvedFullScreenControl(r.parent)},t.fullScreenCSSClass="fullScreen",t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(Uo,8),e.\u0275\u0275inject(u.DOCUMENT),e.\u0275\u0275inject(ni.Q),e.\u0275\u0275inject(Nu,8),e.\u0275\u0275inject(U.y0),e.\u0275\u0275inject(Tn.F0),e.\u0275\u0275inject(Tn.gz))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),$o=function(){function t(r,n,i,o,a,s,p,m){this.featureSwitchService=r,this.store=n,this.userInfo=i,this.appMetadataService=o,this.promiseFactory=a,this.shellCapabilitiesProvider=s,this.applicationOptions=p,this.fullScreenService=m,this.init()}return t.prototype.ensureCapabilitiesInitialized=function(){return this.initializationDeferred.promise},t.prototype.getCapabilities=function(){return xe.fF.assertValue(this.frozenCapabilities,"shellCapabilities was not initialized"),this.frozenCapabilities},t.prototype.getCapabilities$=function(){return this.shellCapabilities$},t.prototype.updateCapabilities=function(r){this.shellCapabilities$.next((0,c.__assign)((0,c.__assign)({},this.shellCapabilities$.value),r))},t.prototype.init=function(){var r=this;this.initializationDeferred=this.promiseFactory.defer(),this.shellCapabilities$=new k.X(void 0),(0,Fo.D)(this.featureSwitchService.featureSwitches$,(0,Gt.D)(this.appMetadataService.getAppMetadata())).pipe(function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=null;return"function"==typeof r[r.length-1]&&(i=r.pop()),1===r.length&&(0,Tu.k)(r[0])&&(r=r[0].slice()),function(o){return o.lift.call((0,Gt.D)([o].concat(r)),new nt.Ms(i))}}(this.store.select(Do.mc).pipe((0,fn.n)(function(n){return!n}))),(0,hn.zg)(function(n){var i=n[0],o=i[0],a=i[1],s=n[1],m=!!r.userInfo.isGuestUser,R=a&&a.userMetadata;return r.shellCapabilitiesProvider.getShellCapabilities(!m||m&&!!o.elevatedGuestsTenantEnabled,!!o.contentAuthoringUIEnabled,r.applicationOptions.isE2ERun||R&&R.userHasPipelines||R?.userIsFolderAdmin&&(r.userInfo.isProPlusUser||r.userInfo.isPremiumUser&&a.tenantHasNonPPUCapacities),m,s,!o.openArtifactsInNewTab||r.applicationOptions.isE2ERun||r.fullScreenService.fullScreenMode)})).subscribe(this.shellCapabilities$),this.shellCapabilities$.pipe((0,fn.n)(function(n){return!n})).subscribe(function(n){r.frozenCapabilities||(r.freeze(n),r.initializationDeferred.resolve(r))})},t.prototype.freeze=function(r){(0,Su._)(r),this.frozenCapabilities=r},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(Pt.vZ),e.\u0275\u0275inject(ne.yh),e.\u0275\u0275inject(wu.a),e.\u0275\u0275inject(Wo),e.\u0275\u0275inject(mn.t),e.\u0275\u0275inject(Lu),e.\u0275\u0275inject(ju.V),e.\u0275\u0275inject(Wu))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Vo="PBI.Favorite.Add",zu=K.cx[Vo]=(0,K.b1)(Vo),Ho="PBI.Favorite.Delete",Uu=K.cx[Ho]=(0,K.b1)(Ho),Gu=function(){return function(r){this.payload=r,this.type="[Favorite] Add"}}(),Ku=function(){return function(r){this.payload=r,this.type="[Favorite] Add Without Numeric Id"}}(),Qu=function(){return function(r){this.payload=r,this.type="[Favorite] Delete"}}(),Go=l(43419),mi=l(88255),Et=l(74913);function qu(t,r){1&t&&e.\u0275\u0275elementContainer(0)}function Zu(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"button",3),e.\u0275\u0275listener("click",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext();return s.stopPropagation(),e.\u0275\u0275resetView(p.toggleFavorite())}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275template(3,qu,1,0,"ng-container",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&t){var i=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(2,4,null!=i.item&&i.item.favoriteId?"Artifact_UnFavorite":"Artifact_Favorite"))("pbiTooltipDisabled",i.showLabel),e.\u0275\u0275attribute("aria-checked",!(null==i.item||!i.item.favoriteId)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",o)}}function Xu(t,r){1&t&&e.\u0275\u0275elementContainer(0)}function Ju(t,r){if(1&t&&e.\u0275\u0275template(0,Xu,1,0,"ng-container",4),2&t){e.\u0275\u0275nextContext();var n=e.\u0275\u0275reference(4);e.\u0275\u0275property("ngTemplateOutlet",n)}}var Yu=function(r,n){return{"pbi-glyph-favoritestar":r,"pbi-glyph-favoritefilled":n}};function ep(t,r){if(1&t&&e.\u0275\u0275element(0,"mat-icon",8),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(1,Yu,!(null!=n.item&&n.item.favoriteId),!(null==n.item||!n.item.favoriteId)))}}function tp(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",9),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("name",null!=n.item&&n.item.favoriteId?"star_20_filled":"star_20_regular")}}function np(t,r){if(1&t&&e.\u0275\u0275element(0,"span",10),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("localize",null!=n.item&&n.item.favoriteId?"Artifact_UnFavorite":"Artifact_Favorite")}}function rp(t,r){if(1&t&&(e.\u0275\u0275template(0,ep,1,4,"mat-icon",5),e.\u0275\u0275template(1,tp,1,1,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(3,np,1,1,"span",7)),2&t){var n=e.\u0275\u0275reference(2),i=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",!i.tridentStyle)("ngIfElse",n),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",i.showLabel)}}var hi=function(){function t(r,n){var i;this.store=r,this.telemetryService=n,this.onFavoriteToggle=new e.EventEmitter,this.TelemetryTypeMap=((i={})[Xe.nW.Dashboard]="Dashboard",i[Xe.nW.Report]="Report",i[Xe.nW.App]="App",i[Xe.nW.RdlReport]="RdlReport",i[Xe.nW.ResourcePackage]="ResourcePackage",i[Xe.nW.Artifact]="Artifact",i[Xe.nW.Datamart]="Datamart",i)}return t.prototype.toggleFavorite=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var r,n,i,o;return(0,c.__generator)(this,function(a){if(this.onFavoriteToggle.emit({item:this.item,type:this.type}),r=this.type===Xe.nW.App?this.item.packageId:this.item.objectId,n=this.type===Xe.nW.App?this.item.packageId:this.item.id,this.item.favoriteId){if(-1===this.item.favoriteId)return[2];if(i=this.telemetryService.startEvent(Uu,{numericId:n,objectId:this.item.objectId,groupId:this.item.workspaceId,favoriteType:this.TelemetryTypeMap[this.type],actionSource:this.actionSource}),this.type===Xe.nW.Artifact)return[2,this.store.dispatch(Go.HG({objectId:this.item.contract.objectId,favoriteId:this.item.favoriteId,telemetryEvent:i}))];this.store.dispatch(new Qu({favoriteId:this.item.favoriteId,artifactUniqueId:r,favoriteType:this.type,workspaceId:this.item.workspaceId,telemetryEvent:i}))}else{if(i=this.telemetryService.startEvent(zu,{numericId:n,objectId:this.item.objectId,groupId:this.item.workspaceId,favoriteType:this.TelemetryTypeMap[this.type],actionSource:this.actionSource}),this.type===Xe.nW.Artifact)return[2,this.store.dispatch(Go.mm({objectId:this.item.contract.objectId,telemetryEvent:i}))];if(!this.item.id&&this.type!==Xe.nW.App)return[2,this.store.dispatch(new Ku({artifactUniqueId:r,favoriteType:this.type,workspaceId:this.item.workspaceId,telemetryEvent:i}))];this.store.select(rt.CW).pipe((0,mi.P)(),(0,P.U)(function(s){o=s})).subscribe(),i.event.info.groupId=this.item.workspaceId||o,this.store.dispatch(new Gu({artifactId:n,artifactUniqueId:r,favoriteType:this.type,workspaceId:this.item.workspaceId||o,telemetryEvent:i}))}return[2]})})},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(ne.yh),e.\u0275\u0275directiveInject(U.y0))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["favorite-star"]],inputs:{item:"item",type:"type",showLabel:"showLabel",actionSource:"actionSource",tridentStyle:"tridentStyle",showButtonContentOnly:"showButtonContentOnly"},outputs:{onFavoriteToggle:"onFavoriteToggle"},decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["showContentOnly",""],["buttonContent",""],["role","checkbox","data-testid","favorite-button",3,"pbiTooltip","pbiTooltipDisabled","click"],[4,"ngTemplateOutlet"],["class","glyphicon glyph-small","fontIcon","pbi-glyph-favoritestar",3,"ngClass",4,"ngIf","ngIfElse"],["triIcon",""],[3,"localize",4,"ngIf"],["fontIcon","pbi-glyph-favoritestar",1,"glyphicon","glyph-small",3,"ngClass"],[3,"name"],[3,"localize"]],template:function(n,i){if(1&n&&(e.\u0275\u0275template(0,Zu,4,6,"ng-container",0),e.\u0275\u0275template(1,Ju,1,1,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(3,rp,4,3,"ng-template",null,2,e.\u0275\u0275templateRefExtractor)),2&n){var o=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngIf",!i.showButtonContentOnly)("ngIfElse",o)}},dependencies:[u.NgClass,u.NgIf,u.NgTemplateOutlet,We.X,ge.Hw,Se.V,Et.M,Ke.F],styles:['button[_ngcontent-%COMP%]{background:none;border:none;padding:0}button[_ngcontent-%COMP%]:focus:hover, button[_ngcontent-%COMP%]:focus:active{background:none}html[data-focus-source="key"][_nghost-%COMP%] button:focus   [_ngcontent-%COMP%]:before, html[data-focus-source="key"]   [_nghost-%COMP%]   button[_ngcontent-%COMP%]:focus   [_ngcontent-%COMP%]:before{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.hover-display[_nghost-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.noFocusBorder[_nghost-%COMP%]   button[_ngcontent-%COMP%]:focus   mat-icon[_ngcontent-%COMP%]:before{border:none;box-shadow:none}.cdk-keyboard-focused[_nghost-%COMP%]   mat-icon[_ngcontent-%COMP%]:before, .cdk-program-focused[_nghost-%COMP%]   mat-icon[_ngcontent-%COMP%]:before{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}'],changeDetection:0}),t}(),ip=l(65818),op=l(91480),Nt=l(76072),Ze=l(55710),Qt=l(24326),ap=["appMenu"];function sp(t,r){if(1&t&&e.\u0275\u0275element(0,"mat-icon",8),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("fontIcon",n.menuIcon)}}function lp(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",9),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("name",n.triMenuIcon)}}function cp(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.label)}}function up(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",14)(1,"button",15),e.\u0275\u0275listener("click",function(){var s=e.\u0275\u0275restoreView(n).$implicit,p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.clickHandler(s))}),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()()()}if(2&t){var i=r.$implicit;e.\u0275\u0275property("pbiTooltip",i.disabled?i.disabledTooltip:i.tooltip),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!!i.disabled),e.\u0275\u0275attribute("data-testid","appContextMenuItem."+i.text),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.text||e.\u0275\u0275pipeBind1(4,4,i.text$))}}function pp(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,up,5,6,"div",13),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.items)}}function dp(t,r){1&t&&e.\u0275\u0275element(0,"pbi-spinner",16)}function fp(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,10),e.\u0275\u0275template(1,pp,2,1,"ng-container",11),e.\u0275\u0275template(2,dp,1,0,"pbi-spinner",12),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",!!n.items&&n.items.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}var mp=function(r){return{active:r}},hp=[3],gp=function(){function t(r,n){this.lazyProvider=r,this.changeDetectorRef=n,this.currentMenuItemIdChange=new e.EventEmitter,this.onMenuOpenedEvent=new e.EventEmitter,this.executionRun=new e.EventEmitter}return t.prototype.ngOnInit=function(){(0,St.mv)(this.app,"App cannotbe null")},t.prototype.onMenuOpened=function(){var r;return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,c.__generator)(this,function(o){switch(o.label){case 0:return this.currentMenuItemId=(0,op.EL)(this.app),this.currentMenuItemIdChange.emit(this.currentMenuItemId),this.appActionsService?[3,2]:(n=this,[4,this.lazyProvider.get("@powerbi/ArtifactActions/artifact-actions.module#ArtifactActionsModule","AppActionsService")]);case 1:n.appActionsService=o.sent(),o.label=2;case 2:return i=this,[4,this.appActionsService.getMenuItems(this.app,this.availableActions||hp,this.callingContext)];case 3:return i.items=o.sent(),this.onMenuOpenedEvent.emit(this.items),null===(r=this.menu)||void 0===r||r.focusFirstItem(),this.changeDetectorRef.markForCheck(),[2]}})})},t.prototype.onMenuClosed=function(){this.currentMenuItemId=null,this.currentMenuItemIdChange.emit(this.currentMenuItemId)},t.prototype.clickHandler=function(r){r.execute(),this.executionRun.emit(r)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(Nt.E),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-context-menu"]],viewQuery:function(n,i){var o;(1&n&&e.\u0275\u0275viewQuery(ap,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.menu=o.first))},inputs:{menuIcon:"menuIcon",triMenuIcon:"triMenuIcon",label:"label",ariaLabel:"ariaLabel",tooltip:"tooltip",app:"app",availableActions:"availableActions",callingContext:"callingContext",currentMenuItemId:"currentMenuItemId"},outputs:{currentMenuItemIdChange:"currentMenuItemIdChange",onMenuOpenedEvent:"onMenuOpenedEvent",executionRun:"executionRun"},decls:8,vars:9,consts:[["mat-icon-button","","cdkMonitorElementFocus","","data-testid","app-menu-options-btn",1,"menuTrigger",3,"matMenuTriggerFor","pbiTooltip","ngClass","menuOpened","menuClosed"],["appMenuTrigger","matMenuTrigger"],["class","glyph-small",3,"fontIcon",4,"ngIf"],[3,"name",4,"ngIf"],[4,"ngIf"],[1,"artifact-menu"],["appMenu","matMenu"],["matMenuContent",""],[1,"glyph-small",3,"fontIcon"],[3,"name"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","pbi-spinner-small",4,"ngSwitchCase"],[3,"pbiTooltip",4,"ngFor","ngForOf"],[3,"pbiTooltip"],["mat-menu-item","","role","menuitem",3,"disabled","click"],[1,"pbi-spinner-small"]],template:function(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275listener("menuOpened",function(){return i.onMenuOpened()})("menuClosed",function(){return i.onMenuClosed()}),e.\u0275\u0275template(2,sp,1,1,"mat-icon",2),e.\u0275\u0275template(3,lp,1,1,"tri-svg-icon",3),e.\u0275\u0275template(4,cp,2,1,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"mat-menu",5,6),e.\u0275\u0275template(7,fp,3,3,"ng-template",7),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(1),a=e.\u0275\u0275reference(6);e.\u0275\u0275property("matMenuTriggerFor",a)("pbiTooltip",i.tooltip||i.ariaLabel)("ngClass",e.\u0275\u0275pureFunction1(7,mp,!0===o.menuOpen)),e.\u0275\u0275attribute("aria-label",i.ariaLabel),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.menuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.menuIcon&&i.triMenuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.label)}},dependencies:[u.NgClass,u.NgForOf,u.NgIf,u.NgSwitch,u.NgSwitchCase,Ze.W0,Ze.tN,Ze.D8,Ze.hd,ge.Hw,Qt.k,re.kH,Se.V,Et.M,u.AsyncPipe],styles:[".mat-menu-panel.artifact-menu{min-height:auto}  .menuTrigger mat-icon:before{vertical-align:middle}[_nghost-%COMP%]{display:flex;align-items:center}.menuTrigger[_ngcontent-%COMP%]{background:none;border:none;padding:0;height:48px;width:36px;fill:currentColor}.menuTrigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.menuTrigger[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.menuTrigger[_ngcontent-%COMP%]:hover   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground2BrandHover)}.menuTrigger.active[_ngcontent-%COMP%], .menuTrigger.active[_ngcontent-%COMP%]:hover, .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%], .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}button.mat-menu-item[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-dark-color, #201F1E);height:36px;line-height:19px;padding:8px}button.mat-menu-item[_ngcontent-%COMP%]:disabled{color:var(--fluent-theme-neutral-tertia-color, #A19F9D)}"],changeDetection:0}),t}(),gi=l(17427),vp=["dashboardMenu"];function _p(t,r){if(1&t&&e.\u0275\u0275element(0,"mat-icon",8),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("fontIcon",n.menuIcon)}}function Cp(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",9),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("name",n.triMenuIcon)}}function yp(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.label)}}function bp(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",14)(1,"button",15),e.\u0275\u0275listener("click",function(){var s=e.\u0275\u0275restoreView(n).$implicit,p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.clickHandler(s))}),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()()()}if(2&t){var i=r.$implicit;e.\u0275\u0275property("pbiTooltip",i.disabled?i.disabledTooltip:i.tooltip),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!!i.disabled),e.\u0275\u0275attribute("data-testid","dashboardContextMenuItem."+i.text),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.text||e.\u0275\u0275pipeBind1(4,4,i.text$))}}function Ip(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,bp,5,6,"div",13),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.items)}}function Sp(t,r){1&t&&e.\u0275\u0275element(0,"pbi-spinner",16)}function Tp(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,10),e.\u0275\u0275template(1,Ip,2,1,"ng-container",11),e.\u0275\u0275template(2,Sp,1,0,"pbi-spinner",12),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",!!n.items&&n.items.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}var xp=function(r){return{active:r}},wp=[5,6,7,3,0,2,8,9,13],Mp=window,Pp=function(){function t(r,n,i){this.lazyProvider=r,this.changeDetectorRef=n,this.featureSwitchService=i,this.tabindex=0,this.currentMenuItemIdChange=new e.EventEmitter,this.onMenuOpenedEvent=new e.EventEmitter,this.executionRun=new e.EventEmitter,this.defaultActions=wp}return t.prototype.ngOnInit=function(){(0,St.mv)(this.dashboard,"Dashboard cannotbe null"),this.featureSwitchService.featureSwitches.hideActionAsDefault&&this.defaultActions.indexOf(11)<0&&this.defaultActions.push(11),Mp.isTrident&&this.featureSwitchService.featureSwitches.subfolderInWorkspace&&this.defaultActions.indexOf(14)<0&&this.defaultActions.push(14)},t.prototype.onMenuOpened=function(){var r;return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,c.__generator)(this,function(o){switch(o.label){case 0:return this.currentMenuItemId=(0,gi.E)(this.dashboard),this.currentMenuItemIdChange.emit(this.currentMenuItemId),this.dashboardActionsService?[3,2]:(n=this,[4,this.lazyProvider.get("@powerbi/ArtifactActions/artifact-actions.module#ArtifactActionsModule","DashboardActionsService")]);case 1:n.dashboardActionsService=o.sent(),o.label=2;case 2:return i=this,[4,this.dashboardActionsService.getMenuItems({artifact:this.dashboard},this.availableActions||this.defaultActions,this.callingContext)];case 3:return i.items=o.sent(),this.onMenuOpenedEvent.emit(this.items),null===(r=this.menu)||void 0===r||r.focusFirstItem(),this.changeDetectorRef.markForCheck(),[2]}})})},t.prototype.onMenuClosed=function(){this.currentMenuItemId=null,this.currentMenuItemIdChange.emit(this.currentMenuItemId)},t.prototype.clickHandler=function(r){r.execute(),this.executionRun.emit(r)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(Nt.E),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(Pt.vZ))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["dashboard-context-menu"]],viewQuery:function(n,i){var o;(1&n&&e.\u0275\u0275viewQuery(vp,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.menu=o.first))},inputs:{menuIcon:"menuIcon",triMenuIcon:"triMenuIcon",label:"label",ariaLabel:"ariaLabel",tooltip:"tooltip",dashboard:"dashboard",availableActions:"availableActions",callingContext:"callingContext",tabindex:"tabindex",currentMenuItemId:"currentMenuItemId"},outputs:{currentMenuItemIdChange:"currentMenuItemIdChange",onMenuOpenedEvent:"onMenuOpenedEvent",executionRun:"executionRun"},decls:8,vars:10,consts:[["mat-icon-button","","cdkMonitorElementFocus","","data-testid","dashboard-context-menu-button",1,"menuTrigger",3,"matMenuTriggerFor","ngClass","menuOpened","menuClosed"],["dashboardMenuTrigger","matMenuTrigger"],["class","glyph-small",3,"fontIcon",4,"ngIf"],[3,"name",4,"ngIf"],[4,"ngIf"],[1,"artifact-menu"],["dashboardMenu","matMenu"],["matMenuContent",""],[1,"glyph-small",3,"fontIcon"],[3,"name"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","pbi-spinner-small",4,"ngSwitchCase"],[3,"pbiTooltip",4,"ngFor","ngForOf"],[3,"pbiTooltip"],["mat-menu-item","","role","menuitem",3,"disabled","click"],[1,"pbi-spinner-small"]],template:function(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275listener("menuOpened",function(){return i.onMenuOpened()})("menuClosed",function(){return i.onMenuClosed()}),e.\u0275\u0275template(2,_p,1,1,"mat-icon",2),e.\u0275\u0275template(3,Cp,1,1,"tri-svg-icon",3),e.\u0275\u0275template(4,yp,2,1,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"mat-menu",5,6),e.\u0275\u0275template(7,Tp,3,3,"ng-template",7),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(1),a=e.\u0275\u0275reference(6);e.\u0275\u0275property("matMenuTriggerFor",a)("ngClass",e.\u0275\u0275pureFunction1(8,xp,!0===o.menuOpen)),e.\u0275\u0275attribute("tabindex",i.tabindex)("aria-label",i.ariaLabel)("title",i.tooltip),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.menuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.menuIcon&&i.triMenuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.label)}},dependencies:[u.NgClass,u.NgForOf,u.NgIf,u.NgSwitch,u.NgSwitchCase,Ze.W0,Ze.tN,Ze.D8,Ze.hd,ge.Hw,Qt.k,re.kH,Se.V,Et.M,u.AsyncPipe],styles:[".mat-menu-panel.artifact-menu{min-height:auto}  .menuTrigger mat-icon:before{vertical-align:middle}.menuTrigger[_ngcontent-%COMP%]{background:none;border:none;padding:0;height:48px;width:36px;fill:currentColor}.menuTrigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg);vertical-align:middle}.menuTrigger[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.menuTrigger[_ngcontent-%COMP%]:hover   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground2BrandHover)}.menuTrigger.active[_ngcontent-%COMP%], .menuTrigger.active[_ngcontent-%COMP%]:hover, .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%], .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}button.mat-menu-item[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-dark-color, #201F1E);height:36px;line-height:19px;padding:8px}button.mat-menu-item[_ngcontent-%COMP%]:disabled{color:var(--fluent-theme-neutral-tertia-color, #A19F9D)}"],changeDetection:0}),t}(),Ko="PBI.DatasetContextMenu.MenuClicked",kp=K.cx[Ko]=(0,K.b1)(Ko,{logExpAssignment:!0}),Qo="PBI.DatasetContextMenu.DatasetActionClicked",Op=K.cx[Qo]=(0,K.b1)(Qo,{logExpAssignment:!0}),qo="PBI.DatamartTypeContextMenu.MenuClicked",Dp=K.cx[qo]=(0,K.b1)(qo,{logExpAssignment:!0}),Zo="PBI.DatamartTypeContextMenu.DatamartTypeActionClicked",Fp=K.cx[Zo]=(0,K.b1)(Zo,{logExpAssignment:!0}),Xo=l(4565),Jo=l(57746),Rp=["datamartMenu"],Lp=["triggerButton"];function jp(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.label)}}var Bp=function(r){return{disabled:r}};function Np(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",20),2&t){var n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(3,Bp,!!n.disabled))("sprite",n.triIcon.sprite)("name",n.triIcon.name)}}function Wp(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"button",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext().$implicit,s=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(s.datamartActionClick(a))}),e.\u0275\u0275template(2,Np,1,5,"tri-svg-icon",19),e.\u0275\u0275elementStart(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&t){var i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!!i.disabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.triIcon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.text)}}function zp(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",24),2&t){var n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("sprite",n.triIcon.sprite)("name",n.triIcon.name)}}function Up(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"button",21),e.\u0275\u0275template(1,zp,1,2,"tri-svg-icon",22),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"mat-icon",23),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext(5),o=e.\u0275\u0275reference(9),a=e.\u0275\u0275reference(14);e.\u0275\u0275property("matMenuTriggerFor",n.action===i.OpenWithMenu?o:a)("disabled",!!n.disabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.triIcon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function $p(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",15),e.\u0275\u0275template(1,Wp,5,3,"ng-container",16),e.\u0275\u0275template(2,Up,5,4,"ng-template",null,17,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=e.\u0275\u0275reference(3),o=e.\u0275\u0275nextContext(5);e.\u0275\u0275property("pbiTooltip",n.tooltip),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.action!==o.OpenWithMenu&&n.action!==o.RefreshMenu)("ngIfElse",i)}}function Vp(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,$p,4,3,"div",14),e.\u0275\u0275element(2,"mat-divider"),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n)}}function Hp(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Vp,3,1,"ng-container",3),e.\u0275\u0275elementContainerEnd()),2&t){var n=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!n&&n.length>0)}}function Gp(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Hp,2,1,"ng-container",13),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.items)}}function Kp(t,r){1&t&&e.\u0275\u0275element(0,"pbi-spinner",25)}function Qp(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,9),e.\u0275\u0275template(1,Gp,2,1,"ng-container",10),e.\u0275\u0275template(2,Kp,1,0,"pbi-spinner",11),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",!!n.items&&n.items.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}function qp(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",18),e.\u0275\u0275listener("click",function(){var s=e.\u0275\u0275restoreView(n).$implicit,p=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(p.datamartActionClick(s))}),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()}if(2&t){var i=r.$implicit;e.\u0275\u0275property("disabled",!!i.disabled),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.text)}}function Zp(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,qp,3,2,"button",26),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.openWithActionItems)}}function Xp(t,r){1&t&&e.\u0275\u0275element(0,"pbi-spinner",25)}function Jp(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",18),e.\u0275\u0275listener("click",function(){var s=e.\u0275\u0275restoreView(n).$implicit,p=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(p.datamartActionClick(s))}),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()}if(2&t){var i=r.$implicit;e.\u0275\u0275property("disabled",!!i.disabled),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.text)}}function Yp(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Jp,3,2,"button",26),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.refreshActionItems)}}function ed(t,r){1&t&&e.\u0275\u0275element(0,"pbi-spinner",25)}var td=function(r){return{active:r}},nd=[0,1,2],rd=[24,3,4,20],id=[5,6,7,25],od=[8,9,10],ad=[21,15,27,22],sd=[12,13,14],ld=[0,1],cd=[24,3,4,20],ud=[5],pd=[8,9,10],dd=[11,15,27,22],fd=[0,1],md=[24,3,4,20],hd=[5],gd=[8,9,10],vd=[15,27,22],_d=[0,1,2,26],Cd=[24,3,4,20],yd=[5,6,7,25],bd=[8,9,10],Id=[18],Sd=[11,15,27,22],Td=function(){function t(r,n,i){this.telemetryService=r,this.lazyProvider=n,this.changeDetectorRef=i,this.showPbiTooltip=!1,this.menuXPosition="after",this.tabindex=0,this.currentMenuItemIdChange=new e.EventEmitter,this.onMenuOpenedEvent=new e.EventEmitter,this.datamartActionClicked=new e.EventEmitter,this.OpenWithMenu=1,this.RefreshMenu=21}return t.prototype.ngOnInit=function(){(0,St.mv)(this.datamart,"Datamart cannot be null")},t.prototype.onMenuOpened=function(){var r;return(0,c.__awaiter)(this,void 0,void 0,function(){var n;return(0,c.__generator)(this,function(i){switch(i.label){case 0:return this.currentMenuItemId=Xo.EL(this.datamart),this.currentMenuItemIdChange.emit(this.currentMenuItemId),this.datamartType=this.datamart.datamartType,n=this,[4,this.getActionItems()];case 1:return n.items=i.sent(),this.onMenuOpenedEvent.emit(this.items),null===(r=this.menu)||void 0===r||r.focusFirstItem(),this.changeDetectorRef.markForCheck(),this.telemetryService.logEvent(Dp),[2]}})})},t.prototype.onMenuClosed=function(){this.currentMenuItemId=null,this.currentMenuItemIdChange.emit(this.currentMenuItemId)},t.prototype.datamartActionClick=function(r){return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,c.__generator)(this,function(o){switch(o.label){case 0:return[4,r.execute()];case 1:return n=o.sent(),this.triggerButton.nativeElement.focus(),this.datamartActionClicked.emit([r.action,n]),i=function(t){switch(t){case 0:return"Open";case 2:return"Share";case 3:return"AnalyzeInExcel";case 4:return"CreateReport";case 20:return"CreatePaginatedReport";case 5:return"Favorite";case 6:return"Rename";case 7:return"Delete";case 8:return"ManagePermissions";case 9:return"CopySQLEndpoint";case 10:return"Settings";case 11:return"QueryActivity";case 12:return"RefreshNow";case 13:return"ScheduleRefresh";case 14:return"RefreshHistory";case 15:return"ViewLineage";case 24:return"DataExplore";default:return"Unknown"}}(r.action),this.telemetryService.logEvent(Fp,{datamartTypeActionName:i}),[2]}})})},t.prototype.getActionItems=function(){var r,n;return(0,c.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,p,m,S,w,E,R,J,oe,ve;return(0,c.__generator)(this,function(ee){switch(ee.label){case 0:return i=[],this.datamartActionsService?[3,2]:(o=this,[4,this.lazyProvider.get("@powerbi/ArtifactActions/artifact-actions.module#ArtifactActionsModule","DatamartActionsService")]);case 1:o.datamartActionsService=ee.sent(),ee.label=2;case 2:a=null!==(r=this.datamartTypeActions)&&void 0!==r?r:this.getDefaultActions(),s=0,p=a,ee.label=3;case 3:if(!(s<p.length))return[3,10];if(m=p[s],S=[],_.isEmpty(m))return[3,8];w=0,E=m,ee.label=4;case 4:return w<E.length?(oe=(J=S.push).apply,ve=[S],[4,this.getMenuItemAction(R=E[w])]):[3,8];case 5:return oe.apply(J,ve.concat([null!==(n=ee.sent())&&void 0!==n?n:[]])),1===R||21===R&&1===this.datamartType?[4,this.getSubMenuItems(R)]:[3,7];case 6:ee.sent(),ee.label=7;case 7:return w++,[3,4];case 8:i.push(S),ee.label=9;case 9:return s++,[3,3];case 10:return[2,i]}})})},t.prototype.getMenuItemAction=function(r){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(o){switch(o.label){case 0:return[4,this.datamartActionsService.getMenuItems({artifact:this.datamart,container:this.containerByAction&&r in this.containerByAction?this.containerByAction[r]:this.container,actionSource:this.actionSource},[r])];case 1:return[2,o.sent()]}})})},t.prototype.getSubMenuItems=function(r){return(0,c.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,c.__generator)(this,function(a){switch(a.label){case 0:switch(r){case 1:return[3,1];case 21:return[3,3]}return[3,5];case 1:return i=this,[4,this.getSubMenuActionItems(Id)];case 2:return i.openWithActionItems=a.sent(),[3,6];case 3:return o=this,[4,this.getSubMenuActionItems(sd)];case 4:return o.refreshActionItems=a.sent(),[3,6];case 5:return xe.fF.assertFail("not valid datamartType subMenu action"),[3,6];case 6:return[2]}})})},t.prototype.getSubMenuActionItems=function(r){var n;return(0,c.__awaiter)(this,void 0,void 0,function(){var i,o,a,p,m,S;return(0,c.__generator)(this,function(w){switch(w.label){case 0:i=[],o=0,a=r,w.label=1;case 1:return o<a.length?(m=(p=i.push).apply,S=[i],[4,this.getMenuItemAction(a[o])]):[3,4];case 2:m.apply(p,S.concat([null!==(n=w.sent())&&void 0!==n?n:[]])),w.label=3;case 3:return o++,[3,1];case 4:return[2,i]}})})},t.prototype.getDefaultActions=function(){switch(this.datamartType){case 1:return[nd,rd,id,od,ad];case 5:return[fd,md,hd,gd,vd];case 2:return[ld,cd,ud,pd,dd];case 4:return[_d,Cd,yd,bd,Sd];default:return xe.fF.assertFail("Cannot get DatamartType default actions"),[]}},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(U.y0),e.\u0275\u0275directiveInject(Nt.E),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["datamart-context-menu"]],viewQuery:function(n,i){if(1&n&&(e.\u0275\u0275viewQuery(Rp,7),e.\u0275\u0275viewQuery(Lp,7)),2&n){var o=void 0;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.menu=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.triggerButton=o.first)}},inputs:{triMenuIcon:"triMenuIcon",label:"label",ariaLabel:"ariaLabel",tooltip:"tooltip",datamart:"datamart",datamartTypeActions:"datamartTypeActions",container:"container",containerByAction:"containerByAction",showPbiTooltip:"showPbiTooltip",menuXPosition:"menuXPosition",actionSource:"actionSource",tabindex:"tabindex",currentMenuItemId:"currentMenuItemId"},outputs:{currentMenuItemIdChange:"currentMenuItemIdChange",onMenuOpenedEvent:"onMenuOpenedEvent",datamartActionClicked:"datamartActionClicked"},decls:18,vars:21,consts:[["mat-icon-button","","cdkMonitorElementFocus","",1,"menuTrigger",3,"matMenuTriggerFor","aria-label","pbiTooltip","ngClass","menuOpened","menuClosed"],["triggerButton","","datamartMenuTrigger","matMenuTrigger"],["sprite","fluentui-icons","name","more_horizontal_16_regular"],[4,"ngIf"],[1,"artifact-menu",3,"xPosition"],["datamartMenu","matMenu"],["matMenuContent",""],[1,"artifact-menu",3,"overlapTrigger","xPosition"],["openWithSubMenu","matMenu"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","pbi-spinner-small",4,"ngSwitchCase"],["refreshSubMenu","matMenu"],[4,"ngFor","ngForOf"],[3,"pbiTooltip",4,"ngFor","ngForOf"],[3,"pbiTooltip"],[4,"ngIf","ngIfElse"],["openSubMenu",""],["mat-menu-item","","role","menuitem",3,"disabled","click"],[3,"ngClass","sprite","name",4,"ngIf"],[3,"ngClass","sprite","name"],["mat-menu-item","","role","menuitem",3,"matMenuTriggerFor","disabled"],[3,"sprite","name",4,"ngIf"],["fontIcon","pbi-glyph-arrowright",1,"chevron-right-icon"],[3,"sprite","name"],[1,"pbi-spinner-small"],["mat-menu-item","","role","menuitem",3,"disabled","click",4,"ngFor","ngForOf"]],template:function(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275listener("menuOpened",function(){return i.onMenuOpened()})("menuClosed",function(){return i.onMenuClosed()}),e.\u0275\u0275element(3,"tri-svg-icon",2),e.\u0275\u0275template(4,jp,2,1,"span",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"mat-menu",4,5),e.\u0275\u0275template(7,Qp,3,3,"ng-template",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"mat-menu",7,8),e.\u0275\u0275elementContainerStart(10,9),e.\u0275\u0275template(11,Zp,2,1,"ng-container",10),e.\u0275\u0275template(12,Xp,1,0,"pbi-spinner",11),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"mat-menu",7,12),e.\u0275\u0275elementContainerStart(15,9),e.\u0275\u0275template(16,Yp,2,1,"ng-container",10),e.\u0275\u0275template(17,ed,1,0,"pbi-spinner",11),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(2),a=e.\u0275\u0275reference(6);e.\u0275\u0275property("matMenuTriggerFor",a)("aria-label",i.ariaLabel)("pbiTooltip",i.showPbiTooltip?i.tooltip:void 0)("ngClass",e.\u0275\u0275pureFunction1(19,td,!0===o.menuOpen)),e.\u0275\u0275attribute("aria-label",i.ariaLabel)("tabindex",i.tabindex)("title",i.showPbiTooltip?void 0:i.tooltip),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",i.label),e.\u0275\u0275advance(1),e.\u0275\u0275property("xPosition",i.menuXPosition),e.\u0275\u0275advance(3),e.\u0275\u0275property("overlapTrigger",!1)("xPosition",i.menuXPosition),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitch",!!i.openWithActionItems&&i.openWithActionItems.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("overlapTrigger",!1)("xPosition",i.menuXPosition),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitch",!!i.refreshActionItems&&i.refreshActionItems.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}},dependencies:[u.NgClass,u.NgForOf,u.NgIf,u.NgSwitch,u.NgSwitchCase,Ze.W0,Ze.tN,Ze.D8,Ze.hd,ge.Hw,Jo.d,Qt.k,re.kH,Se.V,Et.M],styles:[".mat-menu-panel.artifact-menu{min-height:auto;width:248px}  .mat-menu-panel.artifact-menu mat-icon{margin-right:0}  .mat-menu-panel.artifact-menu .mat-menu-submenu-icon{display:none}  .menuTrigger mat-icon:before{vertical-align:middle}.menuTrigger[_ngcontent-%COMP%]{background:none;border:none;padding:0;height:48px;width:36px;fill:currentColor}.menuTrigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.menuTrigger[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.menuTrigger[_ngcontent-%COMP%]:hover   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground2BrandHover)}.menuTrigger.active[_ngcontent-%COMP%], .menuTrigger.active[_ngcontent-%COMP%]:hover, .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%], .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}.menuTrigger.cdk-program-focused[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}button.mat-menu-item[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-dark-color, #201F1E);height:36px;line-height:19px;padding:8px}button.mat-menu-item[_ngcontent-%COMP%]:disabled{color:var(--fluent-theme-neutral-tertia-color, #A19F9D)}button.mat-menu-item[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{float:left;margin-right:5px}button.mat-menu-item[_ngcontent-%COMP%]   tri-svg-icon.disabled[_ngcontent-%COMP%]{fill:var(--colorNeutralForegroundDisabled)}.chevron-right-icon[_ngcontent-%COMP%]{display:inline-flex;float:right;color:var(--globalColorGrey0);width:20px;height:20px;font-size:18px}"],changeDetection:0}),t}(),Xn=l(3408),xd=["datasetMenu"];function wd(t,r){if(1&t&&e.\u0275\u0275element(0,"mat-icon",8),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("fontIcon",n.menuIcon)}}function Md(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",9),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("name",n.triMenuIcon)}}function Pd(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.label)}}function kd(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",14),e.\u0275\u0275listener("click",function(){var s=e.\u0275\u0275restoreView(n).$implicit,p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.datasetActionClick(s))}),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()}if(2&t){var i=r.$implicit;e.\u0275\u0275property("disabled",!!i.disabled),e.\u0275\u0275attribute("data-testid","datasetContextMenuItem."+i.text),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.text)}}function Od(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,kd,3,3,"button",13),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.items)}}function Dd(t,r){1&t&&e.\u0275\u0275element(0,"pbi-spinner",15)}function Fd(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,10),e.\u0275\u0275template(1,Od,2,1,"ng-container",11),e.\u0275\u0275template(2,Dd,1,0,"pbi-spinner",12),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",!!n.items&&n.items.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}var Ed=function(r){return{active:r}},Ad=[33,10,1,23,2,9,3,4,5,28,11,32,12,13,16,17,18,34,29,35],Yo=[1,9,13,3,15,14,34],Rd=function(){function t(r,n,i,o,a,s){this.telemetryService=r,this.lazyProvider=n,this.changeDetectorRef=i,this.ngZone=o,this.featureSwitchService=a,this.certifiedEventsService=s,this.menuXPosition="after",this.showPbiTooltip=!1,this.autoAssignTrial=!1,this.tabindex=0,this.currentMenuItemIdChange=new e.EventEmitter,this.onMenuOpenedEvent=new e.EventEmitter,this.datasetActionClicked=new e.EventEmitter}return t.prototype.ngOnInit=function(){(0,St.mv)(this.datasetItem,"Dataset cannotbe null")},t.prototype.onMenuOpened=function(){var r;return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,p,m,S,w,E=this;return(0,c.__generator)(this,function(R){switch(R.label){case 0:return this.currentMenuItemId=(0,Xn.EL)(this.datasetItem),this.currentMenuItemIdChange.emit(this.currentMenuItemId),this.items=[],[4,this.getDatasetActionsService()];case 1:n=R.sent(),i=this.getActions(),o=0,a=i,R.label=2;case 2:return o<a.length?[4,(p=n.getMenuItemAction(s=a[o])).canExecute({artifact:this.datasetItem,container:m=this.containerByAction&&s in this.containerByAction?this.containerByAction[s]:this.container,actionSource:this.actionSource})]:[3,6];case 3:return R.sent()?(w=(S=this.items).push,[4,p.getMenuItem({artifact:this.datasetItem,container:m,autoAssignTrial:this.autoAssignTrial,actionSource:this.actionSource})]):[3,5];case 4:w.apply(S,[R.sent()]),R.label=5;case 5:return o++,[3,2];case 6:return this.onMenuOpenedEvent.emit(this.items),null===(r=this.menu)||void 0===r||r.focusFirstItem(),this.ngZone.onStable.pipe((0,mi.P)()).subscribe(function(){var oe=E.menuTrigger._overlayRef.getConfig();oe.positionStrategy._isInitialRender=!0,oe.positionStrategy.apply()}),this.changeDetectorRef.markForCheck(),this.telemetryService.logEvent(kp),[2]}})})},t.prototype.getDatasetActionsService=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var r;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return this._datasetActionsService?[3,2]:(r=this,[4,this.lazyProvider.get("@powerbi/ArtifactActions/artifact-actions.module#ArtifactActionsModule","DatasetActionsService")]);case 1:r._datasetActionsService=n.sent(),n.label=2;case 2:return[2,this._datasetActionsService]}})})},t.prototype.datasetActionClick=function(r){return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,c.__generator)(this,function(o){switch(o.label){case 0:return[4,r.execute()];case 1:return n=o.sent(),this.datasetActionClicked.emit([r.action,n]),i=function(t){switch(t){case 0:return"Disabled";case 1:return"CreateReport";case 2:return"CreatePaginatedReport";case 3:return"GetInsights";case 4:return"GranularSecurity";case 5:return"Rename";case 6:return"RefreshNow";case 7:return"ScheduleRefresh";case 8:return"Delete";case 9:return"DeleteConfirmation";case 10:return"AnalyzeInExcel";case 11:return"DatasetSettings";case 12:return"DownloadPbix";case 13:return"ManagePermissions";case 14:return"StreamingDatasetPushInfo";case 15:return"StreamingDatasetEdit";case 16:return"ViewRelated";case 17:return"ViewLineage";case 19:return"ViewHighlightLineage";case 20:return"Share";case 21:return"ChatInTeams";case 33:return"DataExplore";default:return"Unknown"}}(r.action),this.telemetryService.logEvent(Op,{datasetActionName:i}),"CreatePaginatedReport"===i&&this.certifiedEventsService&&this.certifiedEventsService.logStandardizedFeatureEvent({correlationId:this.telemetryService.root.id,activityName:"PBI.DatasetContextMenu.DatasetActionClicked.CreatePaginatedReport",activityAttributes:{},resultCode:null,featureName:"".concat("PaginatedReport",", ").concat("Paginated Report Web Authoring"),activityStatus:"Succeeded"}),[2]}})})},t.prototype.onMenuClosed=function(){this.currentMenuItemId=null,this.currentMenuItemIdChange.emit(this.currentMenuItemId)},t.prototype.getActions=function(){if(this.datasetItem.realTimeMode)return this.streamingDatasetActions?this.streamingDatasetActions:2===this.datasetItem.realTimeMode?(0,c.__spreadArray)((0,c.__spreadArray)([],Yo,!0),[11],!1):Yo;var r=this.datasetActions?this.datasetActions:Ad;return this.featureSwitchService.featureSwitches.immersiveCopilotOnArtifactEntryPoint&&r.indexOf(36)<0&&r.push(36),r},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(U.y0),e.\u0275\u0275directiveInject(Nt.E),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(Pt.vZ),e.\u0275\u0275directiveInject(U.ly,8))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["dataset-context-menu"]],viewQuery:function(n,i){if(1&n&&(e.\u0275\u0275viewQuery(xd,7),e.\u0275\u0275viewQuery(Ze.D8,5)),2&n){var o=void 0;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.menu=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.menuTrigger=o.first)}},inputs:{menuIcon:"menuIcon",triMenuIcon:"triMenuIcon",label:"label",ariaLabel:"ariaLabel",tooltip:"tooltip",datasetItem:"datasetItem",container:"container",containerByAction:"containerByAction",datasetActions:"datasetActions",streamingDatasetActions:"streamingDatasetActions",menuXPosition:"menuXPosition",showPbiTooltip:"showPbiTooltip",autoAssignTrial:"autoAssignTrial",actionSource:"actionSource",tabindex:"tabindex",currentMenuItemId:"currentMenuItemId"},outputs:{currentMenuItemIdChange:"currentMenuItemIdChange",onMenuOpenedEvent:"onMenuOpenedEvent",datasetActionClicked:"datasetActionClicked"},decls:8,vars:12,consts:[["mat-icon-button","","cdkMonitorElementFocus","","aria-haspopup","true",1,"menuTrigger",3,"matMenuTriggerFor","aria-label","pbiTooltip","ngClass","menuOpened","menuClosed"],["datasetMenuTrigger","matMenuTrigger"],["class","glyph-small",3,"fontIcon",4,"ngIf"],[3,"name",4,"ngIf"],[4,"ngIf"],[1,"artifact-menu",3,"xPosition"],["datasetMenu","matMenu"],["matMenuContent",""],[1,"glyph-small",3,"fontIcon"],[3,"name"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","pbi-spinner-small",4,"ngSwitchCase"],["mat-menu-item","","role","menuitem",3,"disabled","click",4,"ngFor","ngForOf"],["mat-menu-item","","role","menuitem",3,"disabled","click"],[1,"pbi-spinner-small"]],template:function(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275listener("menuOpened",function(){return i.onMenuOpened()})("menuClosed",function(){return i.onMenuClosed()}),e.\u0275\u0275template(2,wd,1,1,"mat-icon",2),e.\u0275\u0275template(3,Md,1,1,"tri-svg-icon",3),e.\u0275\u0275template(4,Pd,2,1,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"mat-menu",5,6),e.\u0275\u0275template(7,Fd,3,3,"ng-template",7),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(1),a=e.\u0275\u0275reference(6);e.\u0275\u0275property("matMenuTriggerFor",a)("aria-label",i.ariaLabel)("pbiTooltip",i.showPbiTooltip?i.tooltip:void 0)("ngClass",e.\u0275\u0275pureFunction1(10,Ed,!0===o.menuOpen)),e.\u0275\u0275attribute("tabindex",i.tabindex)("title",i.showPbiTooltip?void 0:i.tooltip),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.menuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.menuIcon&&i.triMenuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.label),e.\u0275\u0275advance(1),e.\u0275\u0275property("xPosition",i.menuXPosition)}},dependencies:[u.NgClass,u.NgForOf,u.NgIf,u.NgSwitch,u.NgSwitchCase,Ze.W0,Ze.tN,Ze.D8,Ze.hd,ge.Hw,Qt.k,re.kH,Se.V,Et.M],styles:[".mat-menu-panel.artifact-menu{min-height:auto}  .menuTrigger mat-icon:before{vertical-align:middle}.menuTrigger[_ngcontent-%COMP%]{background:none;border:none;padding:0;height:48px;width:36px;fill:currentColor}.menuTrigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.menuTrigger[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.menuTrigger[_ngcontent-%COMP%]:hover   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground2BrandHover)}.menuTrigger.active[_ngcontent-%COMP%], .menuTrigger.active[_ngcontent-%COMP%]:hover, .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%], .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}.menuTrigger.cdk-program-focused[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}button.mat-menu-item[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-dark-color, #201F1E);height:36px;line-height:19px;padding:8px}button.mat-menu-item[_ngcontent-%COMP%]:disabled{color:var(--fluent-theme-neutral-tertia-color, #A19F9D)}"],changeDetection:0}),t}(),xn=l(29784),Ld=["dataflowMenu"];function jd(t,r){if(1&t&&e.\u0275\u0275element(0,"mat-icon",9),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("fontIcon",n.menuIcon)}}function Bd(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",10),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("name",n.triMenuIcon)}}function Nd(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.label)}}function Wd(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.text)}}function zd(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"button",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275resetView(s.execute())}),e.\u0275\u0275template(2,Wd,2,1,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&t){var i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275nextContext(3);var o=e.\u0275\u0275reference(9);e.\u0275\u0275advance(1),e.\u0275\u0275property("matMenuTriggerFor",o)("disabled",i.disabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.text)}}function Ud(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.text)}}function $d(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275resetView(a.execute())}),e.\u0275\u0275template(1,Ud,2,1,"span",4),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("disabled",i.disabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.text)}}function Vd(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,zd,3,3,"ng-container",15),e.\u0275\u0275template(2,$d,2,2,"ng-template",null,16,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&t){var n=r.$implicit,i=e.\u0275\u0275reference(3),o=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.type===o.StartMenuFlyout)("ngIfElse",i)}}function Hd(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Vd,4,2,"ng-container",14),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.items)}}function Gd(t,r){1&t&&e.\u0275\u0275element(0,"pbi-spinner",19)}function Kd(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,11),e.\u0275\u0275template(1,Hd,2,1,"ng-container",12),e.\u0275\u0275template(2,Gd,1,0,"pbi-spinner",13),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",!!n.items&&n.items.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}function Qd(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.text)}}function qd(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",18),e.\u0275\u0275listener("click",function(){var a=e.\u0275\u0275restoreView(n);return e.\u0275\u0275resetView(a.$implicit.execute())}),e.\u0275\u0275template(1,Qd,2,1,"span",4),e.\u0275\u0275elementEnd()}if(2&t){var i=r.$implicit;e.\u0275\u0275property("disabled",i.disabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.text)}}function Zd(t,r){if(1&t&&e.\u0275\u0275template(0,qd,2,2,"button",20),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngForOf",n.startItems)}}var Xd=function(r){return{active:r}},Jd=[0,2,3,4,19,5,6,9,16,17],Yd=[14,2,19,5,6,9,18,16,17],ef=[10,13,12],tf=function(){function t(r,n){this.lazyProvider=r,this.changeDetectorRef=n,this.tabindex=0,this.currentMenuItemIdChange=new e.EventEmitter,this.onMenuOpenedEvent=new e.EventEmitter,this.StartMenuFlyout=14}return t.prototype.ngOnInit=function(){(0,St.mv)(this.cdsaModel,"dataflow cannot be null")},t.prototype.onMenuOpened=function(){var r;return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i,o,a;return(0,c.__generator)(this,function(s){switch(s.label){case 0:return this.currentMenuItemId=(0,xn.EL)(this.cdsaModel),this.currentMenuItemIdChange.emit(this.currentMenuItemId),this.items=[],this.dataflowActionsService?[3,2]:(n=this,[4,this.lazyProvider.get("@powerbi/ArtifactActions/artifact-actions.module#ArtifactActionsModule","DataflowActionsService")]);case 1:n.dataflowActionsService=s.sent(),s.label=2;case 2:return i=(0,xn.sK)(this.cdsaModel),o=this,[4,this.dataflowActionsService.getMenuItems({artifact:this.cdsaModel},i?Yd:Jd)];case 3:return o.items=s.sent(),i?(a=this,[4,this.dataflowActionsService.getMenuItems({artifact:this.cdsaModel},ef)]):[3,5];case 4:a.startItems=s.sent(),s.label=5;case 5:return this.onMenuOpenedEvent.emit(this.items),null===(r=this.menu)||void 0===r||r.focusFirstItem(),this.changeDetectorRef.markForCheck(),[2]}})})},t.prototype.onMenuClosed=function(){this.currentMenuItemId=null,this.currentMenuItemIdChange.emit(this.currentMenuItemId)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(Nt.E),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["dataflow-context-menu"]],viewQuery:function(n,i){var o;(1&n&&e.\u0275\u0275viewQuery(Ld,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.menu=o.first))},inputs:{menuIcon:"menuIcon",triMenuIcon:"triMenuIcon",label:"label",ariaLabel:"ariaLabel",tooltip:"tooltip",cdsaModel:"cdsaModel",tabindex:"tabindex",currentMenuItemId:"currentMenuItemId"},outputs:{currentMenuItemIdChange:"currentMenuItemIdChange",onMenuOpenedEvent:"onMenuOpenedEvent"},decls:11,vars:10,consts:[["mat-icon-button","","cdkMonitorElementFocus","",1,"menuTrigger",3,"matMenuTriggerFor","ngClass","menuOpened","menuClosed"],["dataflowMenuTrigger","matMenuTrigger"],["class","glyph-small",3,"fontIcon",4,"ngIf"],[3,"name",4,"ngIf"],[4,"ngIf"],[1,"artifact-menu"],["dataflowMenu","matMenu"],["matMenuContent",""],["startMenu","matMenu"],[1,"glyph-small",3,"fontIcon"],[3,"name"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","pbi-spinner-small",4,"ngSwitchCase"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["menuItem",""],["mat-menu-item","","role","menuitem",3,"matMenuTriggerFor","disabled","click"],["mat-menu-item","","role","menuitem",3,"disabled","click"],[1,"pbi-spinner-small"],["mat-menu-item","","role","menuitem",3,"disabled","click",4,"ngFor","ngForOf"]],template:function(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275listener("menuOpened",function(){return i.onMenuOpened()})("menuClosed",function(){return i.onMenuClosed()}),e.\u0275\u0275template(2,jd,1,1,"mat-icon",2),e.\u0275\u0275template(3,Bd,1,1,"tri-svg-icon",3),e.\u0275\u0275template(4,Nd,2,1,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"mat-menu",5,6),e.\u0275\u0275template(7,Kd,3,3,"ng-template",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"mat-menu",null,8),e.\u0275\u0275template(10,Zd,1,1,"ng-template",7),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(1),a=e.\u0275\u0275reference(6);e.\u0275\u0275property("matMenuTriggerFor",a)("ngClass",e.\u0275\u0275pureFunction1(8,Xd,!0===o.menuOpen)),e.\u0275\u0275attribute("tabindex",i.tabindex)("aria-label",i.ariaLabel)("title",i.tooltip),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.menuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.menuIcon&&i.triMenuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.label)}},dependencies:[u.NgClass,u.NgForOf,u.NgIf,u.NgSwitch,u.NgSwitchCase,Ze.W0,Ze.tN,Ze.D8,Ze.hd,ge.Hw,Qt.k,re.kH,Et.M],styles:[".mat-menu-panel.artifact-menu{min-height:auto}  .menuTrigger mat-icon:before{vertical-align:middle}.menuTrigger[_ngcontent-%COMP%]{background:none;border:none;padding:0;height:48px;width:36px;fill:currentColor}.menuTrigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.menuTrigger[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.menuTrigger[_ngcontent-%COMP%]:hover   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground2BrandHover)}.menuTrigger.active[_ngcontent-%COMP%], .menuTrigger.active[_ngcontent-%COMP%]:hover, .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%], .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}button.mat-menu-item[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-dark-color, #201F1E);height:36px;line-height:19px;padding:8px}button.mat-menu-item[_ngcontent-%COMP%]:disabled{color:var(--fluent-theme-neutral-tertia-color, #A19F9D)}"],changeDetection:0}),t}(),nf=["dataflowGen2Menu"];function rf(t,r){if(1&t&&e.\u0275\u0275element(0,"mat-icon",8),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("fontIcon",n.menuIcon)}}function af(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",9),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("name",n.triMenuIcon)}}function sf(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.label)}}function lf(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.text)}}function cf(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"button",14),e.\u0275\u0275listener("click",function(){var a=e.\u0275\u0275restoreView(n);return e.\u0275\u0275resetView(a.$implicit.execute())}),e.\u0275\u0275template(2,lf,2,1,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&t){var i=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",i.disabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.text)}}function uf(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,cf,3,2,"ng-container",13),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.items)}}function pf(t,r){1&t&&e.\u0275\u0275element(0,"pbi-spinner",15)}function df(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,10),e.\u0275\u0275template(1,uf,2,1,"ng-container",11),e.\u0275\u0275template(2,pf,1,0,"pbi-spinner",12),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",!!n.items&&n.items.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}var ff=function(r){return{active:r}},mf=[0,2,3,4,13,5,6,9,11,12],hf=function(){function t(r,n){this.lazyProvider=r,this.changeDetectorRef=n,this.tabindex=0,this.currentMenuItemIdChange=new e.EventEmitter,this.onMenuOpenedEvent=new e.EventEmitter}return t.prototype.ngOnInit=function(){(0,St.mv)(this.cdsaModel,"dataflow cannot be null")},t.prototype.onMenuOpened=function(){var r;return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,c.__generator)(this,function(o){switch(o.label){case 0:return this.currentMenuItemId=(0,xn.EL)(this.cdsaModel),this.currentMenuItemIdChange.emit(this.currentMenuItemId),this.items=[],this.dataflowGen2ActionsService?[3,2]:(n=this,[4,this.lazyProvider.get("@powerbi/ArtifactActions/artifact-actions.module#ArtifactActionsModule","DataflowGen2ActionsService")]);case 1:n.dataflowGen2ActionsService=o.sent(),o.label=2;case 2:return i=this,[4,this.dataflowGen2ActionsService.getMenuItems({artifact:this.cdsaModel},mf)];case 3:return i.items=o.sent(),this.onMenuOpenedEvent.emit(this.items),null===(r=this.menu)||void 0===r||r.focusFirstItem(),this.changeDetectorRef.markForCheck(),[2]}})})},t.prototype.onMenuClosed=function(){this.currentMenuItemId=null,this.currentMenuItemIdChange.emit(this.currentMenuItemId)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(Nt.E),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["dataflow-gen2-context-menu"]],viewQuery:function(n,i){var o;(1&n&&e.\u0275\u0275viewQuery(nf,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.menu=o.first))},inputs:{disabled:"disabled",menuIcon:"menuIcon",triMenuIcon:"triMenuIcon",label:"label",ariaLabel:"ariaLabel",tooltip:"tooltip",cdsaModel:"cdsaModel",tabindex:"tabindex",currentMenuItemId:"currentMenuItemId"},outputs:{currentMenuItemIdChange:"currentMenuItemIdChange",onMenuOpenedEvent:"onMenuOpenedEvent"},decls:8,vars:11,consts:[["mat-icon-button","","cdkMonitorElementFocus","",1,"menuTrigger",3,"disabled","matMenuTriggerFor","ngClass","menuOpened","menuClosed"],["dataflowGen2MenuTrigger","matMenuTrigger"],["class","glyph-small",3,"fontIcon",4,"ngIf"],[3,"name",4,"ngIf"],[4,"ngIf"],[1,"artifact-menu"],["dataflowGen2Menu","matMenu"],["matMenuContent",""],[1,"glyph-small",3,"fontIcon"],[3,"name"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","pbi-spinner-small",4,"ngSwitchCase"],[4,"ngFor","ngForOf"],["mat-menu-item","","role","menuitem",3,"disabled","click"],[1,"pbi-spinner-small"]],template:function(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275listener("menuOpened",function(){return i.onMenuOpened()})("menuClosed",function(){return i.onMenuClosed()}),e.\u0275\u0275template(2,rf,1,1,"mat-icon",2),e.\u0275\u0275template(3,af,1,1,"tri-svg-icon",3),e.\u0275\u0275template(4,sf,2,1,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"mat-menu",5,6),e.\u0275\u0275template(7,df,3,3,"ng-template",7),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(1),a=e.\u0275\u0275reference(6);e.\u0275\u0275property("disabled",i.disabled)("matMenuTriggerFor",a)("ngClass",e.\u0275\u0275pureFunction1(9,ff,!0===o.menuOpen)),e.\u0275\u0275attribute("tabindex",i.tabindex)("aria-label",i.ariaLabel)("title",i.tooltip),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.menuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.menuIcon&&i.triMenuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.label)}},dependencies:[u.NgClass,u.NgForOf,u.NgIf,u.NgSwitch,u.NgSwitchCase,Ze.W0,Ze.tN,Ze.D8,Ze.hd,ge.Hw,Qt.k,re.kH,Et.M],styles:[".mat-menu-panel.artifact-menu{min-height:auto}  .menuTrigger mat-icon:before{vertical-align:middle}.menuTrigger[_ngcontent-%COMP%]{background:none;border:none;padding:0;height:48px;width:36px;fill:currentColor}.menuTrigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.menuTrigger[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.menuTrigger[_ngcontent-%COMP%]:hover   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground2BrandHover)}.menuTrigger.active[_ngcontent-%COMP%], .menuTrigger.active[_ngcontent-%COMP%]:hover, .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%], .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}button.mat-menu-item[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-dark-color, #201F1E);height:36px;line-height:19px;padding:8px}button.mat-menu-item[_ngcontent-%COMP%]:disabled{color:var(--fluent-theme-neutral-tertia-color, #A19F9D)}"],changeDetection:0}),t}(),Tr=l(12058),gf=["reportMenu"];function vf(t,r){if(1&t&&e.\u0275\u0275element(0,"mat-icon",8),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("fontIcon",n.menuIcon)}}function _f(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",9),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("name",n.triMenuIcon)}}function Cf(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.label)}}function yf(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",14)(1,"button",15),e.\u0275\u0275listener("click",function(){var s=e.\u0275\u0275restoreView(n).$implicit,p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.clickHandler(s))}),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()()()}if(2&t){var i=r.$implicit;e.\u0275\u0275property("pbiTooltip",i.disabled?i.disabledTooltip:i.tooltip),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!!i.disabled),e.\u0275\u0275attribute("data-testid","reportContextMenuItem."+i.text),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.text||e.\u0275\u0275pipeBind1(4,4,i.text$))}}function bf(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,yf,5,6,"div",13),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.items)}}function If(t,r){1&t&&e.\u0275\u0275element(0,"pbi-spinner",16)}function Sf(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,10),e.\u0275\u0275template(1,bf,2,1,"ng-container",11),e.\u0275\u0275template(2,If,1,0,"pbi-spinner",12),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",!!n.items&&n.items.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}var Tf=function(r){return{active:r}},xf=[2,13,9,3,11,10,12,7,0,4,5,6,15,18,20],wf=function(){function t(r,n,i){this.lazyProvider=r,this.changeDetectorRef=n,this.featureSwitchService=i,this.tabindex=0,this.currentMenuItemIdChange=new e.EventEmitter,this.onMenuOpenedEvent=new e.EventEmitter,this.executionRun=new e.EventEmitter,this.defaultActions=xf}return t.prototype.ngOnInit=function(){(0,St.mv)(this.report,"Report cannotbe null"),this.featureSwitchService.featureSwitches.hideActionAsDefault&&this.defaultActions.indexOf(17)<0&&this.defaultActions.push(17),this.featureSwitchService.featureSwitches.dataExplore&&this.defaultActions.indexOf(21)<0&&this.defaultActions.unshift(21),this.featureSwitchService.featureSwitches.immersiveCopilotOnArtifactEntryPoint&&this.defaultActions.indexOf(22)<0&&this.defaultActions.push(22)},t.prototype.onMenuOpened=function(){var r;return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,c.__generator)(this,function(o){switch(o.label){case 0:return this.currentMenuItemId=(0,Tr.EL)(this.report),this.currentMenuItemIdChange.emit(this.currentMenuItemId),this.reportActionsService?[3,2]:(n=this,[4,this.lazyProvider.get("@powerbi/ArtifactActions/artifact-actions.module#ArtifactActionsModule","ReportActionsService")]);case 1:n.reportActionsService=o.sent(),o.label=2;case 2:return i=this,[4,this.reportActionsService.getMenuItems({artifact:this.report},this.availableActions||this.defaultActions,this.callingContext)];case 3:return i.items=o.sent(),this.onMenuOpenedEvent.emit(this.items),null===(r=this.menu)||void 0===r||r.focusFirstItem(),this.changeDetectorRef.markForCheck(),[2]}})})},t.prototype.onMenuClosed=function(){this.currentMenuItemId=null,this.currentMenuItemIdChange.emit(this.currentMenuItemId)},t.prototype.clickHandler=function(r){r.execute(),this.executionRun.emit(r)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(Nt.E),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(Pt.vZ))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["report-context-menu"]],viewQuery:function(n,i){var o;(1&n&&e.\u0275\u0275viewQuery(gf,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.menu=o.first))},inputs:{menuIcon:"menuIcon",triMenuIcon:"triMenuIcon",label:"label",ariaLabel:"ariaLabel",tooltip:"tooltip",report:"report",availableActions:"availableActions",callingContext:"callingContext",tabindex:"tabindex",currentMenuItemId:"currentMenuItemId"},outputs:{currentMenuItemIdChange:"currentMenuItemIdChange",onMenuOpenedEvent:"onMenuOpenedEvent",executionRun:"executionRun"},decls:8,vars:9,consts:[["mat-icon-button","","cdkMonitorElementFocus","","data-testid","report-context-menu-button",1,"menuTrigger",3,"matMenuTriggerFor","pbiTooltip","ngClass","menuOpened","menuClosed"],["reportMenuTrigger","matMenuTrigger"],["class","glyph-small",3,"fontIcon",4,"ngIf"],[3,"name",4,"ngIf"],[4,"ngIf"],[1,"artifact-menu"],["reportMenu","matMenu"],["matMenuContent",""],[1,"glyph-small",3,"fontIcon"],[3,"name"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","pbi-spinner-small",4,"ngSwitchCase"],[3,"pbiTooltip",4,"ngFor","ngForOf"],[3,"pbiTooltip"],["mat-menu-item","","role","menuitem",3,"disabled","click"],[1,"pbi-spinner-small"]],template:function(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275listener("menuOpened",function(){return i.onMenuOpened()})("menuClosed",function(){return i.onMenuClosed()}),e.\u0275\u0275template(2,vf,1,1,"mat-icon",2),e.\u0275\u0275template(3,_f,1,1,"tri-svg-icon",3),e.\u0275\u0275template(4,Cf,2,1,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"mat-menu",5,6),e.\u0275\u0275template(7,Sf,3,3,"ng-template",7),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(1),a=e.\u0275\u0275reference(6);e.\u0275\u0275property("matMenuTriggerFor",a)("pbiTooltip",i.ariaLabel)("ngClass",e.\u0275\u0275pureFunction1(7,Tf,!0===o.menuOpen)),e.\u0275\u0275attribute("tabindex",i.tabindex),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.menuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.menuIcon&&i.triMenuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.label)}},dependencies:[u.NgClass,u.NgForOf,u.NgIf,u.NgSwitch,u.NgSwitchCase,Ze.W0,Ze.tN,Ze.D8,Ze.hd,ge.Hw,Qt.k,re.kH,Se.V,Et.M,u.AsyncPipe],styles:[".mat-menu-panel.artifact-menu{min-height:auto}  .menuTrigger mat-icon:before{vertical-align:middle}.menuTrigger[_ngcontent-%COMP%]{background:none;border:none;padding:0;height:48px;width:36px;fill:currentColor}.menuTrigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.menuTrigger[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.menuTrigger[_ngcontent-%COMP%]:hover   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground2BrandHover)}.menuTrigger.active[_ngcontent-%COMP%], .menuTrigger.active[_ngcontent-%COMP%]:hover, .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%], .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}button.mat-menu-item[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-dark-color, #201F1E);height:36px;line-height:19px;padding:8px}button.mat-menu-item[_ngcontent-%COMP%]:disabled{color:var(--fluent-theme-neutral-tertia-color, #A19F9D)}"],changeDetection:0}),t}(),Mf=l(73088),Pf=["scorecardMenu"];function kf(t,r){if(1&t&&e.\u0275\u0275element(0,"mat-icon",8),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("fontIcon",n.menuIcon)}}function Of(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",9),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("name",n.triMenuIcon)}}function Df(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.label)}}function Ff(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",14),e.\u0275\u0275listener("click",function(){var a=e.\u0275\u0275restoreView(n);return e.\u0275\u0275resetView(a.$implicit.execute())}),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()()}if(2&t){var i=r.$implicit;e.\u0275\u0275property("disabled",!!i.disabled),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.text||e.\u0275\u0275pipeBind1(3,2,i.text$))}}function Ef(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Ff,4,4,"button",13),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.items)}}function Af(t,r){1&t&&e.\u0275\u0275element(0,"pbi-spinner",15)}function Rf(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,10),e.\u0275\u0275template(1,Ef,2,1,"ng-container",11),e.\u0275\u0275template(2,Af,1,0,"pbi-spinner",12),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",!!n.items&&n.items.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}var Lf=function(r){return{active:r}},jf=[2,9,7,0,5,18,20],Bf=function(){function t(r,n,i){this.lazyProvider=r,this.scorecardActions=n,this.changeDetectorRef=i,this.tabindex=0,this.currentMenuItemIdChange=new e.EventEmitter,this.onMenuOpenedEvent=new e.EventEmitter}return t.prototype.ngOnInit=function(){(0,St.mv)(this.scorecard,"Scorecard cannot be null")},t.prototype.onMenuOpened=function(){var r;return(0,c.__awaiter)(this,void 0,void 0,function(){var n,o;return(0,c.__generator)(this,function(a){switch(a.label){case 0:return this.currentMenuItemId=(0,Tr.EL)(this.scorecard),this.currentMenuItemIdChange.emit(this.currentMenuItemId),this.scorecardActions||this.reportActionsService?[3,2]:(n=this,[4,this.lazyProvider.get("@powerbi/ArtifactActions/artifact-actions.module#ArtifactActionsModule","ReportActionsService")]);case 1:n.reportActionsService=a.sent(),a.label=2;case 2:return o=this,[4,(this.scorecardActions||this.reportActionsService).getMenuItems({artifact:this.scorecard},this.availableActions||jf)];case 3:return o.items=a.sent(),this.onMenuOpenedEvent.emit(this.items),null===(r=this.menu)||void 0===r||r.focusFirstItem(),this.changeDetectorRef.markForCheck(),[2]}})})},t.prototype.onMenuClosed=function(){this.currentMenuItemId=null,this.currentMenuItemIdChange.emit(this.currentMenuItemId)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(Nt.E),e.\u0275\u0275directiveInject(Mf.F,8),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["scorecard-context-menu"]],viewQuery:function(n,i){var o;(1&n&&e.\u0275\u0275viewQuery(Pf,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.menu=o.first))},inputs:{menuIcon:"menuIcon",triMenuIcon:"triMenuIcon",label:"label",ariaLabel:"ariaLabel",tooltip:"tooltip",scorecard:"scorecard",availableActions:"availableActions",tabindex:"tabindex",currentMenuItemId:"currentMenuItemId"},outputs:{currentMenuItemIdChange:"currentMenuItemIdChange",onMenuOpenedEvent:"onMenuOpenedEvent"},decls:8,vars:10,consts:[["mat-icon-button","","cdkMonitorElementFocus","",1,"menuTrigger",3,"matMenuTriggerFor","ngClass","menuOpened","menuClosed"],["scorecardMenuTrigger","matMenuTrigger"],["class","glyph-small",3,"fontIcon",4,"ngIf"],[3,"name",4,"ngIf"],[4,"ngIf"],[1,"artifact-menu"],["scorecardMenu","matMenu"],["matMenuContent",""],[1,"glyph-small",3,"fontIcon"],[3,"name"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","pbi-spinner-small",4,"ngSwitchCase"],["mat-menu-item","","role","menuitem",3,"disabled","click",4,"ngFor","ngForOf"],["mat-menu-item","","role","menuitem",3,"disabled","click"],[1,"pbi-spinner-small"]],template:function(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275listener("menuOpened",function(){return i.onMenuOpened()})("menuClosed",function(){return i.onMenuClosed()}),e.\u0275\u0275template(2,kf,1,1,"mat-icon",2),e.\u0275\u0275template(3,Of,1,1,"tri-svg-icon",3),e.\u0275\u0275template(4,Df,2,1,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"mat-menu",5,6),e.\u0275\u0275template(7,Rf,3,3,"ng-template",7),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(1),a=e.\u0275\u0275reference(6);e.\u0275\u0275property("matMenuTriggerFor",a)("ngClass",e.\u0275\u0275pureFunction1(8,Lf,!0===o.menuOpen)),e.\u0275\u0275attribute("tabindex",i.tabindex)("aria-label",i.ariaLabel)("title",i.tooltip),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.menuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.menuIcon&&i.triMenuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.label)}},dependencies:[u.NgClass,u.NgForOf,u.NgIf,u.NgSwitch,u.NgSwitchCase,Ze.W0,Ze.tN,Ze.D8,Ze.hd,ge.Hw,Qt.k,re.kH,Et.M,u.AsyncPipe],styles:[".mat-menu-panel.artifact-menu{min-height:auto}  .menuTrigger mat-icon:before{vertical-align:middle}.menuTrigger[_ngcontent-%COMP%]{background:none;border:none;padding:0;height:48px;width:36px;fill:currentColor}.menuTrigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.menuTrigger[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.menuTrigger[_ngcontent-%COMP%]:hover   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground2BrandHover)}.menuTrigger.active[_ngcontent-%COMP%], .menuTrigger.active[_ngcontent-%COMP%]:hover, .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%], .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}button.mat-menu-item[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-dark-color, #201F1E);height:36px;line-height:19px;padding:8px}button.mat-menu-item[_ngcontent-%COMP%]:disabled{color:var(--fluent-theme-neutral-tertia-color, #A19F9D)}"],changeDetection:0}),t}(),Nf=["subfolderMenu"];function Wf(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.label)}}var zf=function(r){return{disabled:r}};function Uf(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",14),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(3,zf,!!n.disabled))("sprite",n.triIcon.sprite)("name",n.triIcon.name)}}function $f(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11)(1,"button",12),e.\u0275\u0275listener("click",function(){var s=e.\u0275\u0275restoreView(n).$implicit,p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.clickHandler(s))}),e.\u0275\u0275template(2,Uf,1,5,"tri-svg-icon",13),e.\u0275\u0275elementStart(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd()()()}if(2&t){var i=r.$implicit;e.\u0275\u0275property("pbiTooltip",i.disabled?i.disabledTooltip:i.tooltip),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!!i.disabled),e.\u0275\u0275attribute("data-testid","contextMenuItem."+i.text),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.triIcon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.text||e.\u0275\u0275pipeBind1(5,5,i.text$))}}function Vf(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,$f,6,7,"div",10),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.items)}}function Hf(t,r){1&t&&e.\u0275\u0275element(0,"pbi-spinner",15)}function Gf(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,7),e.\u0275\u0275template(1,Vf,2,1,"ng-container",8),e.\u0275\u0275template(2,Hf,1,0,"pbi-spinner",9),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",!!n.items&&n.items.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}var Kf=function(r){return{active:r}},Qf=[2,3,1,0],qf=function(){function t(r,n){this.lazyProvider=r,this.changeDetectorRef=n,this.menuXPosition="after",this.tabindex=0,this.currentMenuItemIdChange=new e.EventEmitter,this.onMenuOpenedEvent=new e.EventEmitter,this.executionRun=new e.EventEmitter,this.items=[]}return t.prototype.ngOnInit=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(r){return(0,St.mv)(this.subfolder,"Subfolder cannot be null"),[2]})})},t.prototype.onMenuOpened=function(){var r,n;return(0,c.__awaiter)(this,void 0,void 0,function(){var i,o,a;return(0,c.__generator)(this,function(s){switch(s.label){case 0:return i=(null===(r=this.subfolder)||void 0===r?void 0:r.contract)||this.subfolder,this.subfolderActionsService?[3,2]:(o=this,[4,this.lazyProvider.get("@powerbi/ArtifactActions/artifact-actions.module#ArtifactActionsModule","SubfolderActionsService")]);case 1:o.subfolderActionsService=s.sent(),s.label=2;case 2:return a=this,[4,this.subfolderActionsService.getMenuItems(i,this.availableActions||Qf)];case 3:return a.items=s.sent(),this.currentMenuItemId=(0,It.EL)(i),this.currentMenuItemIdChange.emit(this.currentMenuItemId),this.onMenuOpenedEvent.emit(this.items),null===(n=this.menu)||void 0===n||n.focusFirstItem(),this.changeDetectorRef.markForCheck(),[2]}})})},t.prototype.onMenuClosed=function(){this.currentMenuItemId=null,this.currentMenuItemIdChange.emit(this.currentMenuItemId)},t.prototype.clickHandler=function(r){r.execute(),this.executionRun.emit(r)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(Nt.E),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["subfolder-context-menu"]],viewQuery:function(n,i){var o;(1&n&&e.\u0275\u0275viewQuery(Nf,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.menu=o.first))},inputs:{menuIcon:"menuIcon",label:"label",ariaLabel:"ariaLabel",tooltip:"tooltip",subfolder:"subfolder",callingContext:"callingContext",availableActions:"availableActions",menuXPosition:"menuXPosition",tabindex:"tabindex",currentMenuItemId:"currentMenuItemId"},outputs:{currentMenuItemIdChange:"currentMenuItemIdChange",onMenuOpenedEvent:"onMenuOpenedEvent",executionRun:"executionRun"},decls:7,vars:10,consts:[["mat-icon-button","","cdkMonitorElementFocus","",1,"menuTrigger",3,"matMenuTriggerFor","ngClass","menuOpened","menuClosed"],["subfolderMenuTrigger","matMenuTrigger"],[3,"name"],[4,"ngIf"],[1,"artifact-menu",3,"xPosition"],["subfolderMenu","matMenu"],["matMenuContent",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","pbi-spinner-small",4,"ngSwitchCase"],[3,"pbiTooltip",4,"ngFor","ngForOf"],[3,"pbiTooltip"],["mat-menu-item","","role","menuitem",3,"disabled","click"],[3,"ngClass","sprite","name",4,"ngIf"],[3,"ngClass","sprite","name"],[1,"pbi-spinner-small"]],template:function(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275listener("menuOpened",function(){return i.onMenuOpened()})("menuClosed",function(){return i.onMenuClosed()}),e.\u0275\u0275element(2,"tri-svg-icon",2),e.\u0275\u0275template(3,Wf,2,1,"span",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"mat-menu",4,5),e.\u0275\u0275template(6,Gf,3,3,"ng-template",6),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(1),a=e.\u0275\u0275reference(5);e.\u0275\u0275property("matMenuTriggerFor",a)("ngClass",e.\u0275\u0275pureFunction1(8,Kf,!0===o.menuOpen)),e.\u0275\u0275attribute("tabindex",i.tabindex)("aria-label",i.ariaLabel)("title",i.tooltip),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",i.menuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.label),e.\u0275\u0275advance(1),e.\u0275\u0275property("xPosition",i.menuXPosition)}},dependencies:[u.NgClass,u.NgForOf,u.NgIf,u.NgSwitch,u.NgSwitchCase,Ze.W0,Ze.tN,Ze.D8,Ze.hd,Qt.k,re.kH,Se.V,Et.M,u.AsyncPipe],styles:[".mat-menu-panel.artifact-menu{min-height:auto}  .menuTrigger mat-icon:before{vertical-align:middle}.menuTrigger[_ngcontent-%COMP%]{background:none;border:none;padding:0;height:48px;width:36px;fill:currentColor}.menuTrigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.menuTrigger[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.menuTrigger[_ngcontent-%COMP%]:hover   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground2BrandHover)}.menuTrigger.active[_ngcontent-%COMP%], .menuTrigger.active[_ngcontent-%COMP%]:hover, .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%], .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}button.mat-menu-item[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-dark-color, #201F1E);height:36px;line-height:19px;padding:8px}button.mat-menu-item[_ngcontent-%COMP%]:disabled{color:var(--fluent-theme-neutral-tertia-color, #A19F9D)}button.mat-menu-item[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{float:left;margin-right:5px}button.mat-menu-item[_ngcontent-%COMP%]   tri-svg-icon.disabled[_ngcontent-%COMP%]{fill:var(--colorNeutralForegroundDisabled)}"],changeDetection:0}),t}(),Zf=["tridentMenu"];function Xf(t,r){if(1&t&&e.\u0275\u0275element(0,"mat-icon",13),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("fontIcon",n.menuIcon)}}function Jf(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",14),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("name",n.triMenuIcon)}}function Yf(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.label)}}function em(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",21),2&t){var n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("sprite",n.triIcon.sprite)("name",n.triIcon.name)}}function tm(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext().$implicit,s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.clickHandler(a))}),e.\u0275\u0275template(2,em,1,2,"tri-svg-icon",20),e.\u0275\u0275elementStart(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&t){var i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!!i.disabled),e.\u0275\u0275attribute("data-testid","contextMenuItem."+i.text),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.triIcon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.text||e.\u0275\u0275pipeBind1(5,4,i.text$))}}function nm(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",21),2&t){var n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("sprite",n.triIcon.sprite)("name",n.triIcon.name)}}function rm(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext().$implicit,p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.clickHandler(s))}),e.\u0275\u0275template(1,nm,1,2,"tri-svg-icon",20),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(5,"span",22),e.\u0275\u0275elementStart(6,"button",23),e.\u0275\u0275listener("menuOpened",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext().$implicit,p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.onSubMenuOpened(s))})("menuClosed",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(s.onSubMenuClosed())}),e.\u0275\u0275element(7,"tri-svg-icon",24),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275nextContext(3);var o=e.\u0275\u0275reference(9);e.\u0275\u0275property("disabled",!!i.disabled),e.\u0275\u0275attribute("data-testid","contextMenuItem."+i.text),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.triIcon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.text||e.\u0275\u0275pipeBind1(4,6,i.text$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("matMenuTriggerFor",o),e.\u0275\u0275attribute("data-testid","contextMenuItem.chevron-icon-"+i.text)}}function im(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275template(1,tm,6,6,"ng-container",17),e.\u0275\u0275template(2,rm,8,8,"ng-template",null,18,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=e.\u0275\u0275reference(3);e.\u0275\u0275property("pbiTooltip",n.disabled?n.disabledTooltip:n.tooltip),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.subMenuItems||0===n.subMenuItems.length)("ngIfElse",i)}}function om(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,im,4,3,"div",15),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.items)}}function am(t,r){1&t&&e.\u0275\u0275element(0,"pbi-spinner",25)}function sm(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,10),e.\u0275\u0275template(1,om,2,1,"ng-container",11),e.\u0275\u0275template(2,am,1,0,"pbi-spinner",12),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",!!n.items&&n.items.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}function lm(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",21),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("sprite",n.triIcon.sprite)("name",n.triIcon.name)}}function cm(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",19),e.\u0275\u0275listener("click",function(){var s=e.\u0275\u0275restoreView(n).$implicit,p=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(p.clickHandler(s))}),e.\u0275\u0275template(1,lm,1,2,"tri-svg-icon",20),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()}if(2&t){var i=r.$implicit;e.\u0275\u0275property("disabled",!!i.disabled),e.\u0275\u0275attribute("data-testid","contextMenuItem."+i.text),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.triIcon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.text)}}function um(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,cm,4,4,"button",26),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.activeSubItems)}}function pm(t,r){1&t&&e.\u0275\u0275element(0,"pbi-spinner",25)}var dm=function(r){return{active:r}},fm=function(){function t(r,n){this.lazyProvider=r,this.changeDetectorRef=n,this.menuXPosition="after",this.tabindex=0,this.currentMenuItemIdChange=new e.EventEmitter,this.onMenuOpenedEvent=new e.EventEmitter,this.executionRun=new e.EventEmitter}return t.prototype.ngOnInit=function(){(0,St.mv)(this.artifact,"Artifact cannot be null")},t.prototype.getArtifactActionScenario=function(){if(this.callingContext)switch(this.callingContext){case"FavoritesWidget":return"homeFavorites";case"RecentWidget":return"homeRecent";case"WorkspaceList":return"workspace";default:return}return location.pathname.includes("/lineage")?"lineage":location.pathname.startsWith("/pipelines/")?"pipeline":location.pathname.startsWith("/groups/")?"workspace":location.pathname.startsWith("/datahub")||location.pathname.startsWith("/functionshub")||location.pathname.startsWith("/metrics/hub")?"datahub":void 0},t.prototype.ensureArtifactActonServiceLoaded=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var r;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return this.tridentArtifactActionsService?[3,2]:(r=this,[4,this.lazyProvider.get("@powerbi/ArtifactActions/artifact-actions.module#ArtifactActionsModule","TridentArtifactActionsService")]);case 1:r.tridentArtifactActionsService=n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.onMenuOpened=function(){var r;return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,c.__generator)(this,function(o){switch(o.label){case 0:return this.currentMenuItemId=(n=this.artifact.contract||this.artifact).objectId,this.currentMenuItemIdChange.emit(this.currentMenuItemId),[4,this.ensureArtifactActonServiceLoaded()];case 1:return o.sent(),i=this,[4,this.tridentArtifactActionsService.getMenuItems({artifact:n,scenario:this.getArtifactActionScenario()},this.availableActions)];case 2:return i.items=o.sent(),this.onMenuOpenedEvent.emit(this.items),null===(r=this.menu)||void 0===r||r.focusFirstItem(),this.changeDetectorRef.markForCheck(),[2]}})})},t.prototype.onMenuClosed=function(){this.currentMenuItemId=null,this.currentMenuItemIdChange.emit(this.currentMenuItemId)},t.prototype.clickHandler=function(r){r.execute(),this.executionRun.emit(r)},t.prototype.onSubMenuOpened=function(r){this.activeSubItems=r.subMenuItems},t.prototype.onSubMenuClosed=function(){this.activeSubItems=void 0},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(Nt.E),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["trident-context-menu"]],viewQuery:function(n,i){var o;(1&n&&e.\u0275\u0275viewQuery(Zf,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.menu=o.first))},inputs:{menuIcon:"menuIcon",triMenuIcon:"triMenuIcon",label:"label",ariaLabel:"ariaLabel",tooltip:"tooltip",artifact:"artifact",callingContext:"callingContext",availableActions:"availableActions",menuXPosition:"menuXPosition",tabindex:"tabindex",currentMenuItemId:"currentMenuItemId"},outputs:{currentMenuItemIdChange:"currentMenuItemIdChange",onMenuOpenedEvent:"onMenuOpenedEvent",executionRun:"executionRun"},decls:13,vars:16,consts:[["mat-icon-button","","cdkMonitorElementFocus","",1,"menuTrigger",3,"matMenuTriggerFor","ngClass","menuOpened","menuClosed"],["tridentMenuTrigger","matMenuTrigger"],["class","glyph-small",3,"fontIcon",4,"ngIf"],[3,"name",4,"ngIf"],[4,"ngIf"],[1,"artifact-menu",3,"xPosition"],["tridentMenu","matMenu"],["matMenuContent",""],[1,"artifact-menu",3,"overlapTrigger","xPosition"],["subMenu","matMenu"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","pbi-spinner-small",4,"ngSwitchCase"],[1,"glyph-small",3,"fontIcon"],[3,"name"],["class","contextMenuItem",3,"pbiTooltip",4,"ngFor","ngForOf"],[1,"contextMenuItem",3,"pbiTooltip"],[4,"ngIf","ngIfElse"],["withSubMenuItem",""],["mat-menu-item","","role","menuitem",3,"disabled","click"],[3,"sprite","name",4,"ngIf"],[3,"sprite","name"],[1,"divider"],["mat-menu-item","","role","menuitem",1,"chevron-icon",3,"matMenuTriggerFor","menuOpened","menuClosed"],["name","chevron_right_20_regular",1,"tri-fill-gray-180","tri-ml-1"],[1,"pbi-spinner-small"],["mat-menu-item","","role","menuitem",3,"disabled","click",4,"ngFor","ngForOf"]],template:function(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275listener("menuOpened",function(){return i.onMenuOpened()})("menuClosed",function(){return i.onMenuClosed()}),e.\u0275\u0275template(2,Xf,1,1,"mat-icon",2),e.\u0275\u0275template(3,Jf,1,1,"tri-svg-icon",3),e.\u0275\u0275template(4,Yf,2,1,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"mat-menu",5,6),e.\u0275\u0275template(7,sm,3,3,"ng-template",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"mat-menu",8,9),e.\u0275\u0275elementContainerStart(10,10),e.\u0275\u0275template(11,um,2,1,"ng-container",11),e.\u0275\u0275template(12,pm,1,0,"pbi-spinner",12),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(1),a=e.\u0275\u0275reference(6);e.\u0275\u0275property("matMenuTriggerFor",a)("ngClass",e.\u0275\u0275pureFunction1(14,dm,!0===o.menuOpen)),e.\u0275\u0275attribute("tabindex",i.tabindex)("aria-label",i.ariaLabel)("title",i.tooltip),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.menuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.menuIcon&&i.triMenuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.label),e.\u0275\u0275advance(1),e.\u0275\u0275property("xPosition",i.menuXPosition),e.\u0275\u0275advance(3),e.\u0275\u0275property("overlapTrigger",!1)("xPosition",i.menuXPosition),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitch",!!i.activeSubItems&&i.activeSubItems.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}},dependencies:[u.NgClass,u.NgForOf,u.NgIf,u.NgSwitch,u.NgSwitchCase,Ze.W0,Ze.tN,Ze.D8,Ze.hd,ge.Hw,Qt.k,re.kH,Se.V,Et.M,u.AsyncPipe],styles:[".mat-menu-panel.artifact-menu{min-height:auto}  .menuTrigger mat-icon:before{vertical-align:middle}.menuTrigger[_ngcontent-%COMP%]{background:none;border:none;padding:0;height:48px;width:36px;fill:currentColor}.menuTrigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.menuTrigger[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.menuTrigger[_ngcontent-%COMP%]:hover   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground2BrandHover)}.menuTrigger.active[_ngcontent-%COMP%], .menuTrigger.active[_ngcontent-%COMP%]:hover, .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%], .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}button.mat-menu-item[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-dark-color, #201F1E);height:36px;line-height:19px;padding:8px}button.mat-menu-item[_ngcontent-%COMP%]:disabled{color:var(--fluent-theme-neutral-tertia-color, #A19F9D)}button.mat-menu-item[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{float:left;margin-right:5px}.divider[_ngcontent-%COMP%]{width:0px;height:28px;margin:0 2px;background-color:var(--colorNeutralBackground6);border:1px solid var(--colorNeutralStroke2)}.contextMenuItem[_ngcontent-%COMP%]{display:flex;align-items:center}.chevron-icon[_ngcontent-%COMP%]{margin-left:auto;width:auto}.chevron-icon[_ngcontent-%COMP%]     .mat-menu-submenu-icon{display:none}"],changeDetection:0}),t}(),xr=l(8714),mm=["workbookMenu"];function hm(t,r){if(1&t&&e.\u0275\u0275element(0,"mat-icon",8),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("fontIcon",n.menuIcon)}}function gm(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",9),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("name",n.triMenuIcon)}}function vm(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.label)}}function _m(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",14)(1,"button",15),e.\u0275\u0275listener("click",function(){var s=e.\u0275\u0275restoreView(n).$implicit,p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.clickHandler(s))}),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()()}if(2&t){var i=r.$implicit;e.\u0275\u0275property("pbiTooltip",i.disabled?i.disabledTooltip:i.tooltip),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!!i.disabled),e.\u0275\u0275attribute("data-testid","workbookContextMenuItem."+i.text),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.text)}}function Cm(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,_m,4,4,"div",13),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.items)}}function ym(t,r){1&t&&e.\u0275\u0275element(0,"pbi-spinner",16)}function bm(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,10),e.\u0275\u0275template(1,Cm,2,1,"ng-container",11),e.\u0275\u0275template(2,ym,1,0,"pbi-spinner",12),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",!!n.items&&n.items.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}var Im=function(r){return{active:r}},Sm=window,Tm=function(){function t(r,n,i){this.lazyProvider=r,this.changeDetectorRef=n,this.featureSwitchService=i,this.tabindex=0,this.currentMenuItemIdChange=new e.EventEmitter,this.onMenuOpenedEvent=new e.EventEmitter,this.executionRun=new e.EventEmitter,this.defaultActions=[0,1,2,3,4,6]}return t.prototype.ngOnInit=function(){(0,St.mv)(this.workbook,"Workbook cannotbe null"),this.featureSwitchService.featureSwitches.hideActionAsDefault&&this.defaultActions.indexOf(7)<0&&this.defaultActions.push(7),this.featureSwitchService.featureSwitches.convertConnectedWorkbookFFXL&&this.defaultActions.indexOf(9)<0&&this.defaultActions.push(9),this.featureSwitchService.featureSwitches.downloadLocalWorkbookFFXL&&this.defaultActions.indexOf(10)<0&&this.defaultActions.push(10),Sm.isTrident&&this.featureSwitchService.featureSwitches.subfolderInWorkspace&&this.defaultActions.indexOf(11)<0&&this.defaultActions.push(11)},t.prototype.onMenuOpened=function(){var r;return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,c.__generator)(this,function(o){switch(o.label){case 0:return this.currentMenuItemId=(0,xr.E)(this.workbook),this.currentMenuItemIdChange.emit(this.currentMenuItemId),this.items=[],this.workbookActionsService?[3,2]:(n=this,[4,this.lazyProvider.get("@powerbi/ArtifactActions/artifact-actions.module#ArtifactActionsModule","WorkbookActionsService")]);case 1:n.workbookActionsService=o.sent(),o.label=2;case 2:return i=this,[4,this.workbookActionsService.getMenuItems(this.workbook,this.availableActions||this.defaultActions,this.callingContext)];case 3:return i.items=o.sent(),this.onMenuOpenedEvent.emit(this.items),null===(r=this.menu)||void 0===r||r.focusFirstItem(),this.changeDetectorRef.markForCheck(),[2]}})})},t.prototype.onMenuClosed=function(){this.currentMenuItemId=null,this.currentMenuItemIdChange.emit(this.currentMenuItemId)},t.prototype.clickHandler=function(r){r.execute(),this.executionRun.emit(r)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(Nt.E),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(Pt.vZ))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["workbook-context-menu"]],viewQuery:function(n,i){var o;(1&n&&e.\u0275\u0275viewQuery(mm,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.menu=o.first))},inputs:{menuIcon:"menuIcon",triMenuIcon:"triMenuIcon",label:"label",ariaLabel:"ariaLabel",tooltip:"tooltip",workbook:"workbook",availableActions:"availableActions",callingContext:"callingContext",tabindex:"tabindex",currentMenuItemId:"currentMenuItemId"},outputs:{currentMenuItemIdChange:"currentMenuItemIdChange",onMenuOpenedEvent:"onMenuOpenedEvent",executionRun:"executionRun"},decls:8,vars:10,consts:[["mat-icon-button","","cdkMonitorElementFocus","",1,"menuTrigger",3,"matMenuTriggerFor","ngClass","menuOpened","menuClosed"],["workbookMenuTrigger","matMenuTrigger"],["class","glyph-small",3,"fontIcon",4,"ngIf"],[3,"name",4,"ngIf"],[4,"ngIf"],[1,"artifact-menu"],["workbookMenu","matMenu"],["matMenuContent",""],[1,"glyph-small",3,"fontIcon"],[3,"name"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","pbi-spinner-small",4,"ngSwitchCase"],[3,"pbiTooltip",4,"ngFor","ngForOf"],[3,"pbiTooltip"],["mat-menu-item","","role","menuitem",3,"disabled","click"],[1,"pbi-spinner-small"]],template:function(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275listener("menuOpened",function(){return i.onMenuOpened()})("menuClosed",function(){return i.onMenuClosed()}),e.\u0275\u0275template(2,hm,1,1,"mat-icon",2),e.\u0275\u0275template(3,gm,1,1,"tri-svg-icon",3),e.\u0275\u0275template(4,vm,2,1,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"mat-menu",5,6),e.\u0275\u0275template(7,bm,3,3,"ng-template",7),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(1),a=e.\u0275\u0275reference(6);e.\u0275\u0275property("matMenuTriggerFor",a)("ngClass",e.\u0275\u0275pureFunction1(8,Im,!0===o.menuOpen)),e.\u0275\u0275attribute("tabindex",i.tabindex)("aria-label",i.ariaLabel)("title",i.tooltip),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.menuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.menuIcon&&i.triMenuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.label)}},dependencies:[u.NgClass,u.NgForOf,u.NgIf,u.NgSwitch,u.NgSwitchCase,Ze.W0,Ze.tN,Ze.D8,Ze.hd,ge.Hw,Qt.k,re.kH,Se.V,Et.M],styles:[".mat-menu-panel.artifact-menu{min-height:auto}  .menuTrigger mat-icon:before{vertical-align:middle}.menuTrigger[_ngcontent-%COMP%]{background:none;border:none;padding:0;height:48px;width:36px;fill:currentColor}.menuTrigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.menuTrigger[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.menuTrigger[_ngcontent-%COMP%]:hover   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground2BrandHover)}.menuTrigger.active[_ngcontent-%COMP%], .menuTrigger.active[_ngcontent-%COMP%]:hover, .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%], .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}button.mat-menu-item[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-dark-color, #201F1E);height:36px;line-height:19px;padding:8px}button.mat-menu-item[_ngcontent-%COMP%]:disabled{color:var(--fluent-theme-neutral-tertia-color, #A19F9D)}"],changeDetection:0}),t}(),xm=["workspaceMenu"];function wm(t,r){if(1&t&&e.\u0275\u0275element(0,"mat-icon",8),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("fontIcon",n.menuIcon)}}function Mm(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",9),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("name",n.triMenuIcon)}}function Pm(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.label)}}function km(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",14)(1,"button",15),e.\u0275\u0275listener("click",function(){var s=e.\u0275\u0275restoreView(n).$implicit,p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.clickHandler(s))}),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()()}if(2&t){var i=r.$implicit;e.\u0275\u0275property("pbiTooltip",i.disabled?i.disabledTooltip:i.tooltip),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!!i.disabled),e.\u0275\u0275attribute("data-testid","workspaceContextMenuItem."+i.text),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.text)}}function Om(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,km,4,4,"div",13),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.items)}}function Dm(t,r){1&t&&e.\u0275\u0275element(0,"pbi-spinner",16)}function Fm(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,10),e.\u0275\u0275template(1,Om,2,1,"ng-container",11),e.\u0275\u0275template(2,Dm,1,0,"pbi-spinner",12),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",!!n.items&&n.items.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}var Em=function(r){return{active:r}},Am=[11],Rm=function(){function t(r,n){this.lazyProvider=r,this.changeDetectorRef=n,this.tabindex=0,this.currentMenuItemIdChange=new e.EventEmitter,this.onMenuOpenedEvent=new e.EventEmitter,this.executionRun=new e.EventEmitter}return t.prototype.ngOnInit=function(){(0,St.mv)(this.workspace,"Workspace cannotbe null")},t.prototype.onMenuOpened=function(){var r;return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,c.__generator)(this,function(o){switch(o.label){case 0:return this.currentMenuItemId=(0,xo.EL)(this.workspace),this.currentMenuItemIdChange.emit(this.currentMenuItemId),this.workspaceActionsService?[3,2]:(n=this,[4,this.lazyProvider.get("@powerbi/ArtifactActions/artifact-actions.module#ArtifactActionsModule","workspaceActionsService")]);case 1:n.workspaceActionsService=o.sent(),o.label=2;case 2:return i=this,[4,this.workspaceActionsService.getMenuItems(this.workspace,this.availableActions||Am,this.callingContext)];case 3:return i.items=o.sent(),this.onMenuOpenedEvent.emit(this.items),null===(r=this.menu)||void 0===r||r.focusFirstItem(),this.changeDetectorRef.markForCheck(),[2]}})})},t.prototype.onMenuClosed=function(){this.currentMenuItemId=null,this.currentMenuItemIdChange.emit(this.currentMenuItemId)},t.prototype.clickHandler=function(r){r.execute(),this.executionRun.emit(r)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(Nt.E),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["workspace-context-menu"]],viewQuery:function(n,i){var o;(1&n&&e.\u0275\u0275viewQuery(xm,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.menu=o.first))},inputs:{menuIcon:"menuIcon",triMenuIcon:"triMenuIcon",label:"label",ariaLabel:"ariaLabel",tooltip:"tooltip",workspace:"workspace",availableActions:"availableActions",callingContext:"callingContext",tabindex:"tabindex",currentMenuItemId:"currentMenuItemId"},outputs:{currentMenuItemIdChange:"currentMenuItemIdChange",onMenuOpenedEvent:"onMenuOpenedEvent",executionRun:"executionRun"},decls:8,vars:10,consts:[["mat-icon-button","","cdkMonitorElementFocus","",1,"menuTrigger",3,"matMenuTriggerFor","ngClass","menuOpened","menuClosed"],["workspaceMenuTrigger","matMenuTrigger"],["class","glyph-small",3,"fontIcon",4,"ngIf"],[3,"name",4,"ngIf"],[4,"ngIf"],[1,"artifact-menu"],["workspaceMenu","matMenu"],["matMenuContent",""],[1,"glyph-small",3,"fontIcon"],[3,"name"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","pbi-spinner-small",4,"ngSwitchCase"],[3,"pbiTooltip",4,"ngFor","ngForOf"],[3,"pbiTooltip"],["mat-menu-item","","role","menuitem",3,"disabled","click"],[1,"pbi-spinner-small"]],template:function(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275listener("menuOpened",function(){return i.onMenuOpened()})("menuClosed",function(){return i.onMenuClosed()}),e.\u0275\u0275template(2,wm,1,1,"mat-icon",2),e.\u0275\u0275template(3,Mm,1,1,"tri-svg-icon",3),e.\u0275\u0275template(4,Pm,2,1,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"mat-menu",5,6),e.\u0275\u0275template(7,Fm,3,3,"ng-template",7),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(1),a=e.\u0275\u0275reference(6);e.\u0275\u0275property("matMenuTriggerFor",a)("ngClass",e.\u0275\u0275pureFunction1(8,Em,!0===o.menuOpen)),e.\u0275\u0275attribute("tabindex",i.tabindex)("aria-label",i.ariaLabel)("title",i.tooltip),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.menuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.menuIcon&&i.triMenuIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.label)}},dependencies:[u.NgClass,u.NgForOf,u.NgIf,u.NgSwitch,u.NgSwitchCase,Ze.W0,Ze.tN,Ze.D8,Ze.hd,ge.Hw,Qt.k,re.kH,Se.V,Et.M],styles:[".mat-menu-panel.artifact-menu{min-height:auto}  .menuTrigger mat-icon:before{vertical-align:middle}.menuTrigger[_ngcontent-%COMP%]{background:none;border:none;padding:0;height:48px;width:36px;fill:currentColor}.menuTrigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.menuTrigger[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.menuTrigger[_ngcontent-%COMP%]:hover   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground2BrandHover)}.menuTrigger.active[_ngcontent-%COMP%], .menuTrigger.active[_ngcontent-%COMP%]:hover, .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%], .menuTrigger.cdk-keyboard-focused[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}button.mat-menu-item[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-dark-color, #201F1E);height:36px;line-height:19px;padding:8px}button.mat-menu-item[_ngcontent-%COMP%]:disabled{color:var(--fluent-theme-neutral-tertia-color, #A19F9D)}"],changeDetection:0}),t}(),Lm=l(73226),vi=l(98873),ea=l(73425);function jm(t,r){if(1&t&&e.\u0275\u0275element(0,"spinner",4),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("localizeTooltip",n.spinnerLocalizeTooltip)}}var Bm=function(){return{"aria-label":"DatapoolRefreshError_Label"}};function Nm(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",5),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.handleWarningAction())}),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext();e.\u0275\u0275property("localizeAttr",e.\u0275\u0275pureFunction0(2,Bm)),e.\u0275\u0275attribute("tabindex",i.tabindex)}}var zm=function(){return{"aria-label":"CDSA_ScheduledRefreshDisabledDueToConsecutiveErrors"}};function Um(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",6),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.handleWarningAction())}),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext();e.\u0275\u0275property("localizeAttr",e.\u0275\u0275pureFunction0(2,zm)),e.\u0275\u0275attribute("tabindex",i.tabindex)}}var $m=function(){function t(r,n,i,o,a){this.dialogService=r,this.folderService=n,this.lazyProvider=i,this.localizationService=o,this.featureSwitchService=a,this.tabindex=0}return Object.defineProperty(t.prototype,"isRefreshInProgress",{get:function(){var n,i=null!==(n=this.viewModel.currentRefreshStatus)&&void 0!==n?n:this.viewModel.lastRefreshStatus;return!this.isNextRefresh&&(4===i||15===i)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spinnerLocalizeTooltip",{get:function(){return 15===this.viewModel.lastRefreshStatus?"NavigationPane_RefreshCanceling":"NavigationPane_RefreshInProgress"},enumerable:!1,configurable:!0}),t.prototype.shouldShowRefreshFailureWarningButton=function(){return!this.isNextRefresh&&(this.shouldShowRefreshWarning()||this.isDataflowInSharedWithPremiumCapabilities())},t.prototype.shouldShowNextRefreshWarning=function(){return this.featureSwitchService.featureSwitches.dataflowsPauseConsecutivlyFailingDataflowRefreshes&&this.isNextRefresh&&13===this.viewModel.lastRefreshStatus},t.prototype.shouldShowRefreshWarning=function(){switch(this.viewModel.lastRefreshStatus){case 1:case 4:case 5:case 15:case 16:return!1;default:return!0}},t.prototype.isDataflowInSharedWithPremiumCapabilities=function(){return(7&this.viewModel.capabilities)>0&&!this.isWorkspaceInsideCapacity()},t.prototype.isWorkspaceInsideCapacity=function(){var r=this.folderObjectId?this.folderService.getFolder(this.folderObjectId):this.folderService.activeFolder;return!!r&&!!r.capacity&&6!==r.contract.capacitySkuTier},t.prototype.showErrorDialog=function(){var r=this.localizationService.get("CDSA_ContentList_DisabledDatapools"),n=this.localizationService.get(this.getCdsaCapabilitiesErrorMessageKey());this.dialogService.showSimpleDialog(r,n)},t.prototype.getCdsaCapabilitiesErrorMessageKey=function(){switch(this.viewModel.capabilities){case 1:return"CdsaAuthoring_Iframe_PremiumWarningComputed";case 65538:return"CdsaAuthoring_Iframe_PremiumWarningLinked";case 4:return"CdsaAuthoring_Iframe_PremiumWarningIncrementalRefresh";case 3:return"CdsaAuthoring_Iframe_PremiumWarningComputedAndLinked";case 5:return"CdsaAuthoring_Iframe_PremiumWarningComputedAndIncrementalRefresh";case 6:return"CdsaAuthoring_Iframe_PremiumWarningLinkedAndIncrementalRefresh";case 7:return"CdsaAuthoring_Iframe_PremiumWarningComputedAndLinkedAndIncrementalRefresh";default:return xe.fF.assertFail("unknown value for capabilities: "+this.viewModel.capabilities),""}},t.prototype.handleWarningAction=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var r,n;return(0,c.__generator)(this,function(i){switch(i.label){case 0:return this.isDataflowInSharedWithPremiumCapabilities()?(this.showErrorDialog(),[3,7]):[3,1];case 1:return this.shouldShowRefreshWarning()||this.shouldShowNextRefreshWarning()?2!==this.viewModel.generation?[3,4]:this.dataflowGen2ActionsService?[3,3]:(r=this,[4,this.lazyProvider.get("@powerbi/DataflowGen2Actions/dataflow-gen2-actions.module#DataflowGen2ActionsModule","DataflowGen2ActionsService")]):[3,7];case 2:r.dataflowGen2ActionsService=i.sent(),i.label=3;case 3:return this.dataflowGen2ActionsService.getAction(10).execute({artifact:this.viewModel}),[3,7];case 4:return this.dataflowActionsService?[3,6]:(n=this,[4,this.lazyProvider.get("@powerbi/DataflowActions/dataflow-actions.module#DataflowActionsModule","DataflowActionsService")]);case 5:n.dataflowActionsService=i.sent(),i.label=6;case 6:this.dataflowActionsService.getAction(6).execute({artifact:this.viewModel}),i.label=7;case 7:return[2]}})})},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(An.x),e.\u0275\u0275directiveInject(vi.s),e.\u0275\u0275directiveInject(Nt.E),e.\u0275\u0275directiveInject(_e.o),e.\u0275\u0275directiveInject(Pt.vZ))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["dataflow-icon-container"]],inputs:{viewModel:"viewModel",tabindex:"tabindex",folderObjectId:"folderObjectId",isNextRefresh:"isNextRefresh"},decls:4,vars:3,consts:[[1,"dataflow-refresh-icons"],[3,"localizeTooltip",4,"ngIf"],["class","glyphicon pbi-glyph-warning","localizeTooltip","NavigationPane_DatapoolRefreshError",3,"localizeAttr","click",4,"ngIf"],["class","glyphicon pbi-glyph-warning","localizeTooltip","CDSA_ScheduledRefreshDisabledDueToConsecutiveErrors",3,"localizeAttr","click",4,"ngIf"],[3,"localizeTooltip"],["localizeTooltip","NavigationPane_DatapoolRefreshError",1,"glyphicon","pbi-glyph-warning",3,"localizeAttr","click"],["localizeTooltip","CDSA_ScheduledRefreshDisabledDueToConsecutiveErrors",1,"glyphicon","pbi-glyph-warning",3,"localizeAttr","click"]],template:function(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span",0),e.\u0275\u0275template(1,jm,1,1,"spinner",1),e.\u0275\u0275template(2,Nm,1,3,"button",2),e.\u0275\u0275template(3,Um,1,3,"button",3),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.isRefreshInProgress),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.shouldShowRefreshFailureWarningButton()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.shouldShowNextRefreshWarning()))},dependencies:[u.NgIf,Oe.b,Be.r,ea.O],styles:["[_nghost-%COMP%]{padding:0}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{padding:0;border:0;background:none}[_nghost-%COMP%]   button.glyphicon.pbi-glyph-warning[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px);color:var(--fluent-theme-error-dark-alt-color, #D83B01)}"],changeDetection:0}),t}(),ta=l(12315),Vm=function(){function t(r,n){this.featureSwitchService=r,this.httpService=n}return t.prototype.updateDataflow=function(r,n,i){var a="".concat("metadata/dataflows","/").concat(r),s=this.httpService.powerbiRequestOptions(i,"updateDataflowAsync");return this.httpService.patch(a,n,s)},t.prototype.updateExistingDataflowModel=function(r,n){var o="".concat("metadata/dataflows","/build/update"),a=this.httpService.powerbiRequestOptions(n,"createDataflowModelFromExistingModel");return this.httpService.post(o,r,a)},t.prototype.saveDataflowModel=function(r,n,i,o){var s="".concat("metadata/dataflows","/").concat(n),m=this.httpService.powerbiRequestOptions(r,"saveDataflowModel");return m.timeout=3e4,this.httpService.put(s,{model:i,modelVersion:o},m)},t.prototype.getDataflowModelData=function(r,n){var o="".concat("metadata/dataflows","/").concat(n),s=this.httpService.powerbiRequestOptions(r,"getDataflowModel");return s.timeout=3e4,this.httpService.get(o,s)},t.prototype.refreshCdsaModel=function(r){var n=r.cdsaModelId,i=r.isGen2Dataflow,o=r.parentEvent,s=r.time??new Date,p="".concat(this.getBaseUri({useGen2DataflowUri:i}),"/").concat(n,"/refresh?refreshTime=").concat(encodeURIComponent(moment.utc(s).format("YYYY-MM-DDTHH:mm:ssZ"))),m=this.httpService.powerbiRequestOptions(o,"refreshCdsaModel");return this.httpService.post(p,null,m)},t.prototype.cancelGen2ModelRefresh=function(r,n){var o="".concat("metadata/dataflows","/gen2/").concat(r,"/cancelRefresh"),a=this.httpService.powerbiRequestOptions(n,"cancelModelRefresh");return this.httpService.post(o,null,a)},t.prototype.cancelModelRefresh=function(r,n){var o="".concat("metadata/dataflows","/").concat(r,"/cancelRefresh"),a=this.httpService.powerbiRequestOptions(n,"cancelModelRefresh");return this.httpService.post(o,null,a)},t.prototype.deleteCdsaModel=function(r){var n=r.cdsaModel,o=r.parentEvent,a="".concat(this.getBaseUri({useGen2DataflowUri:r.isGen2Dataflow}),"/").concat(n.id),s=this.httpService.powerbiRequestOptions(o,"deleteCdsaModel");return this.httpService.delete(a,s)},t.prototype.downloadCdsaModel=function(r){var n=r.cdsaModelId,o=r.parentEvent,a="".concat(this.getBaseUri({useGen2DataflowUri:r.isGen2Dataflow}),"/").concat(n,"/export"),s=this.httpService.powerbiRequestOptions(o,"downloadCdsaModel");return s.responseType="json",this.httpService.get(a,s)},t.prototype.getCdsaModel=function(r){var n,i=r.cdsaModelId,o=r.parentEvent,a="".concat(this.getBaseUri({useGen2DataflowUri:null!==(n=this.featureSwitchService.featureSwitches.enableGen2EndpointsForDataflows)&&void 0!==n&&n}),"/").concat(i,"/info"),s=this.httpService.powerbiRequestOptions(o,"getCdsaModel");return this.httpService.get(a,s)},t.prototype.renameExternalDataflow=function(r){var n=r.dataflowId,o=r.newDescription,a=r.newName,s=r.parentEvent,p="".concat(this.getBaseUri({useGen2DataflowUri:r.isGen2Dataflow}),"/").concat(n,"/referenceMetadata"),S=this.httpService.powerbiRequestOptions(s,"renameExternalDataflow");return S.timeout=3e4,this.httpService.put(p,{name:a,description:o},S)},t.prototype.publishGen2CdsaModel=function(r,n,i){var s=n.match(/[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}/g),p=s[0],m=s[1],S=s[2],w="".concat("metadata/dataflows","/").concat(m,"/publish"),E={workspaceObjectId:p,publishJobId:S},R=this.httpService.powerbiRequestOptions(i,"publishGen2CdsaModel");return R.headers["x-ms-host-context-type"]=r,this.httpService.post(w,E,R)},t.prototype.getBaseUri=function(r){return r.useGen2DataflowUri&&this.featureSwitchService.featureSwitches.enableGen2EndpointsForDataflows?"metadata/dataflows/gen2":"metadata/dataflows"},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(Pt.vZ),e.\u0275\u0275inject(Ir.M))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Hm(t,r){1&t&&e.\u0275\u0275element(0,"spinner",2),2&t&&e.\u0275\u0275propertyInterpolate("localizeTooltip","DataFlow_Gen2_PublishInProgress")}var Gm=function(){return{"aria-label":"DatapoolRefreshError_Label"}};function Km(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",3),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.showPublishErrorDialog())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",!e.\u0275\u0275pipeBind1(1,3,i.canOpenPublishErrorDialog()))("localizeAttr",e.\u0275\u0275pureFunction0(5,Gm)),e.\u0275\u0275attribute("tabindex",i.tabindex)}}var Qm=function(){function t(r,n){var i=this;this.dialogService=r,this.cdsaModelHttpService=n,this.showPublishErrorDialog=function(){return(0,c.__awaiter)(i,void 0,void 0,function(){var o,a;return(0,c.__generator)(this,function(s){switch(s.label){case 0:return this.viewModel.publishErrorDetails?[3,2]:[4,this.cdsaModelHttpService.getCdsaModel({cdsaModelId:this.viewModel.id})];case 1:(o=s.sent())&&o.data&&(this.viewModel.publishErrorDetails=o.data.publishErrorDetails),s.label=2;case 2:return a={dataflowId:this.viewModel.objectId,disableCallToActionButton:4===this.viewModel.lastRefreshStatus,errorCode:this.viewModel.publishErrorCode,rootActivityId:this.viewModel.publishRootActivityId,timestamp:(0,ta.cN)(this.viewModel.lastEditedTimeUTC).toISOString(),errorDetails:this.viewModel.publishErrorDetails},[4,this.dialogService.openHostDialog({componentName:"DataflowGen2PublishErrorComponentId",dialogName:"DataflowGen2PublishError",bindings:a,config:{disableClose:!0,height:"300px",maxHeight:"90vh",maxWidth:"45vw",panelClass:["no-padding"],width:"45vw"}})];case 3:return s.sent(),[2]}})})}}return t.prototype.canOpenPublishErrorDialog=function(){return(0,qe.of)(2!==this.viewModel.publishErrorCode)},t.prototype.hasPublishError=function(){return 4===this.viewModel.publishStatus},t.prototype.isPublishInProgress=function(){return 2===this.viewModel.publishStatus},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(An.x),e.\u0275\u0275directiveInject(Vm))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["dataflow-gen2-icon-container"]],inputs:{viewModel:"viewModel"},decls:3,vars:2,consts:[[3,"localizeTooltip",4,"ngIf"],["class","glyphicon pbi-glyph-warning","localizeTooltip","NavigationPane_DataflowGen2_PublishError",3,"disabled","localizeAttr","click",4,"ngIf"],[3,"localizeTooltip"],["localizeTooltip","NavigationPane_DataflowGen2_PublishError",1,"glyphicon","pbi-glyph-warning",3,"disabled","localizeAttr","click"]],template:function(n,i){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Hm,1,1,"spinner",0),e.\u0275\u0275template(2,Km,2,6,"button",1),e.\u0275\u0275elementContainerEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.isPublishInProgress()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.hasPublishError()))},dependencies:[u.NgIf,Oe.b,Be.r,ea.O,u.AsyncPipe],styles:["[_nghost-%COMP%]{padding:0}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{padding:0;border:0;background:none}[_nghost-%COMP%]   button.glyphicon.pbi-glyph-warning[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px);color:var(--fluent-theme-error-dark-alt-color, #D83B01)}"],changeDetection:0}),t}(),qm=l(32452),Zm=l(62116),na=l(89233),wr=l(55490),Xm=l(94803),Jm=window,Ym=l(18438),eh=l(42683),Jn=l(7452),th=l(65e3);function nh(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.domainsPath)}}function rh(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"tri-link",4),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("href",n.workspaceLink)("block",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.slicedWorkspaceName," ")}}function ih(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.slicedWorkspaceName)}}var ra="My workspace",sh=function(t){return t.Default="default",t.Strong="strong",t}({}),lh=function(){function t(r,n,i,o){this.folderService=r,this.localizationService=n,this.domainsUIService=i,this.cd=o,this.workspaceObjectId="",this.workspaceName="",this.ownerPrincipalName="",this.dataDomainArtifactInfo={domainDisplayName:"",parentDisplayName:""},this.appearance=sh.Default,this.workspaceLink="",this.domainsPath="",this.locationTooltip="",this.slicedWorkspaceName=""}return t.prototype.ngOnChanges=function(){this.currentFolder=this.folderService.getFolder(this.workspaceObjectId);var r=this.currentFolder?"/groups/".concat(this.workspaceObjectId||this.currentFolder.uniqueId):this.workspaceLink;this.workspaceLink=r&&Jm.inTeams?"/teams".concat(r).concat(window.location.search):r;var n=this.getWorkspaceName();this.slicedWorkspaceName=n.slice(0,30),this.initLocalizeTooltip(n),this.initDomainPathDisplayName()},t.prototype.getWorkspaceName=function(){return this.currentFolder&&this.currentFolder.displayName===ra?this.localizationService.get("GetData_MyWorkspace"):this.workspaceName===ra?this.ownerPrincipalName:this.workspaceName},t.prototype.initLocalizeTooltip=function(r){var n,i,o=(null===(n=this.dataDomainArtifactInfo)||void 0===n?void 0:n.parentDisplayName)||"",a=(null===(i=this.dataDomainArtifactInfo)||void 0===i?void 0:i.domainDisplayName)||"",s=o?"".concat(o," ").concat(">"," ").concat(a):a;this.locationTooltip=s?"".concat(s," > ").concat(r):r},t.prototype.initDomainPathDisplayName=function(){var r,n,i=(null===(r=this.dataDomainArtifactInfo)||void 0===r?void 0:r.parentDisplayName)||"",o=(null===(n=this.dataDomainArtifactInfo)||void 0===n?void 0:n.domainDisplayName)||"",a=this.domainsUIService.getFormatDomainName(i,o);this.domainsPath=a?"".concat(a," > "):""},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(Ym.D),e.\u0275\u0275directiveInject(Jn.z),e.\u0275\u0275directiveInject(eh.k),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["trident-domain-link"]],inputs:{workspaceObjectId:"workspaceObjectId",workspaceName:"workspaceName",ownerPrincipalName:"ownerPrincipalName",dataDomainArtifactInfo:"dataDomainArtifactInfo",appearance:"appearance"},features:[e.\u0275\u0275NgOnChangesFeature],decls:5,vars:5,consts:[[1,"domain-link",3,"triTooltip"],[4,"ngIf"],["size","small",3,"href","block",4,"ngIf","ngIfElse"],["workspaceWithoutLink",""],["size","small",3,"href","block"]],template:function(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,nh,2,1,"span",1),e.\u0275\u0275template(2,rh,2,3,"tri-link",2),e.\u0275\u0275template(3,ih,2,1,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(4);e.\u0275\u0275property("triTooltip",i.locationTooltip),e.\u0275\u0275attribute("appearance",i.appearance||null),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.domainsPath),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.workspaceLink)("ngIfElse",o)}},dependencies:[u.NgIf,wr.Z,th.v],styles:[".domain-link[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.domain-link[appearance=default][_ngcontent-%COMP%]{font-size:12px;color:var(--globalColorGrey38)}.domain-link[appearance=strong][_ngcontent-%COMP%]{font-size:14px;color:var(--globalColorGrey26)}"],changeDetection:0}),t}(),ch=l(32920),uh=["iconCell"],ph=["nameCell"],dh=["gitStatusCell"],fh=["typeCell"],mh=["sensitivityCell"],hh=["ownerCell"],gh=["scoreCell"],vh=["lastRefreshCell"],_h=["nextRefreshCell"],Ch=["endorsementCell"],yh=["lastAccessCell"],bh=["lastActivityCell"],Ih=["hiddenTime"],Sh=["relationCell"],Th=["locationCell"],xh=["sharedTimeCell"],wh=["descriptionCell"],Mh=["organizationCell"],Ph=["sharedByCell"],kh=["domainsWorkspacePathCell"];function Oh(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",25),e.\u0275\u0275element(1,"tri-svg-icon",26),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("sprite","parent-child-icons")("name",i.getChildIndicator(n))}}function Dh(t,r){1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-svg-icon",27),e.\u0275\u0275pipe(2,"localizeFormat"),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275pipe(4,"localizeFormat"),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementContainerEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind2(4,7,"Restricted_Artifact_tooltip",e.\u0275\u0275pipeBind1(5,10,"ArtifactKind_Report"))),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(2,2,"Restricted_Artifact_tooltip",e.\u0275\u0275pipeBind1(3,5,"ArtifactKind_Report"))))}function Fh(t,r){if(1&t&&e.\u0275\u0275element(0,"img",35),2&t){var n=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275property("src",n.iconUrl,e.\u0275\u0275sanitizeUrl)("pbiTooltip",n.displayName)}}var Eh=function(r,n){return{"background-color":r,color:n}};function Ah(t,r){if(1&t&&e.\u0275\u0275element(0,"mat-icon",36),2&t){var n=e.\u0275\u0275nextContext(4).$implicit;e.\u0275\u0275property("pbiTooltip",n.typeName||n.displayName)("fontIcon",n.iconName)("ngStyle",e.\u0275\u0275pureFunction2(3,Eh,n.iconColor,n.iconForegroundColor))}}function Rh(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,32),e.\u0275\u0275template(1,Fh,1,2,"img",33),e.\u0275\u0275template(2,Ah,1,6,"mat-icon",34),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275property("ngSwitch",!!n.iconName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0)}}function Lh(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",37),e.\u0275\u0275element(1,"pbi-office-icon",38),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("name","DatamartWhite_16")("pbiTooltip",n.typeName||n.displayName)}}function jh(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Rh,3,3,"ng-container",30),e.\u0275\u0275template(2,Lh,2,2,"ng-template",null,31,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",11!==i.type)("ngIfElse",n)}}function Bh(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275element(1,"tri-artifact-icon",40),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext(2).$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("artifactType",n.triType||n.type)("size","24")("preset",i.getTridentArtifactIconPreset(n))("pbiTooltip",n.typeName||n.displayName)}}function Nh(t,r){if(1&t&&(e.\u0275\u0275template(0,jh,4,2,"div",28),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,Bh,2,4,"div",29),e.\u0275\u0275pipe(3,"async")),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,2,n.isTridentUI$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(3,4,n.isTridentUI$))}}function Wh(t,r){if(1&t&&(e.\u0275\u0275template(0,Oh,2,2,"span",21),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"span",22),e.\u0275\u0275template(3,Dh,6,12,"ng-container",23),e.\u0275\u0275template(4,Nh,4,6,"ng-template",null,24,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=e.\u0275\u0275reference(5),o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,3,o.isParentChildEnabled$)&&!!n.parentUniqueId&&!!n.childIndex),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!!o.featureSwitchService.featureSwitches.restrictAccess_HEAD_DLP_FE&&n.type===o.reportArtifactType&&!(null==n.restrictions||!n.restrictions.blocked))("ngIfElse",i)}}function zh(t,r){1&t&&e.\u0275\u0275element(0,"mat-icon",53)}function Uh(t,r){1&t&&e.\u0275\u0275element(0,"tri-svg-icon",54)}function $h(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",55),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275propertyInterpolate("aria-label",null==n.browseArtifactContentsIcon?null:n.browseArtifactContentsIcon.name),e.\u0275\u0275property("sprite",(null==n.browseArtifactContentsIcon?null:n.browseArtifactContentsIcon.sprite)||"fluentui-icons")("name",null==n.browseArtifactContentsIcon?null:n.browseArtifactContentsIcon.name)("pbiTooltip",null==n.browseArtifactContentsIcon?null:n.browseArtifactContentsIcon.label)}}function Vh(t,r){1&t&&e.\u0275\u0275elementContainer(0)}var Yt=function(r){return{$implicit:r}};function Hh(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"a",57),e.\u0275\u0275listener("mouseup",function(p){e.\u0275\u0275restoreView(n);var m=e.\u0275\u0275nextContext(2).$implicit,S=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(S.navigateToDataflowGen2(p,m))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Vh,1,0,"ng-container",58),e.\u0275\u0275elementContainerEnd()}if(2&t){e.\u0275\u0275nextContext();var i=e.\u0275\u0275reference(4),o=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("target",e.\u0275\u0275pipeBind1(2,5,a.openArtifactsInNewTab$)?"_blank":"_self")("pbiTooltip",a.featureSwitchService.featureSwitches.logDataflowsDebugInfo?"Publish status: "+o.publishStatus+", refresh status: "+o.lastRefreshStatus:null!=o.warning&&o.warning.warningText?void 0:o.displayName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",o.displayName," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(7,Yt,o))}}function Gh(t,r){1&t&&e.\u0275\u0275elementContainer(0)}function Kh(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"a",59),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Gh,1,0,"ng-container",58),e.\u0275\u0275elementContainerEnd()),2&t){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(4),i=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("href",i.href,e.\u0275\u0275sanitizeUrl)("target",e.\u0275\u0275pipeBind1(2,6,o.openArtifactsInNewTab$)?"_blank":"_self")("pbiTooltip",o.featureSwitchService.featureSwitches.logDataflowsDebugInfo?"Publish status: "+i.publishStatus+", refresh status: "+i.lastRefreshStatus:null!=i.warning&&i.warning.warningText?void 0:i.displayName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",i.displayName," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(8,Yt,i))}}function Qh(t,r){1&t&&e.\u0275\u0275elementContainer(0)}function qh(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span",60),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,Qh,1,0,"ng-container",58),e.\u0275\u0275elementContainerEnd()),2&t){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(4),i=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("pbiTooltip",o.featureSwitchService.featureSwitches.logDataflowsDebugInfo?"Publish status: "+i.publishStatus+", refresh status: "+i.lastRefreshStatus:null!=i.warning&&i.warning.warningText?void 0:i.displayName),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",i.displayName," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(4,Yt,i))}}function Zh(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,32),e.\u0275\u0275template(1,Kh,5,10,"ng-container",47),e.\u0275\u0275template(2,qh,4,6,"ng-container",47),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("ngSwitch",!!n.href),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}function Xh(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",66),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("triTooltip",n.trialCapacityCloseToExpiredTooltip)("name","gift_open_warning_20_regular")("sprite","misc-icons")}}function Jh(t,r){1&t&&(e.\u0275\u0275element(0,"i",67),e.\u0275\u0275pipe(1,"localize")),2&t&&e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,1,"Capacity_PremiumCapacity"))}function Yh(t,r){1&t&&(e.\u0275\u0275element(0,"i",68),e.\u0275\u0275pipe(1,"localize")),2&t&&e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,1,"PowerBI_PremiumPerUser"))}function eg(t,r){1&t&&(e.\u0275\u0275element(0,"i",68),e.\u0275\u0275pipe(1,"localize")),2&t&&e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,1,"CapacityHeader_FabricCapacity"))}function tg(t,r){if(1&t&&e.\u0275\u0275element(0,"i",69),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("pbiTooltip",n.warning.warningText)}}function ng(t,r){if(1&t&&(e.\u0275\u0275template(0,Xh,1,3,"tri-svg-icon",61),e.\u0275\u0275template(1,Jh,2,3,"i",62),e.\u0275\u0275template(2,Yh,2,3,"i",63),e.\u0275\u0275template(3,eg,2,3,"i",63),e.\u0275\u0275template(4,tg,1,1,"i",64),e.\u0275\u0275element(5,"dataflow-gen2-icon-container",65)),2&t){var n=r.$implicit,i=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngIf",n.isTrialCapacityCloseToExpired),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.showCapacityIcon&&i.hasCapacity(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.showCapacityIcon&&i.hasPpuCapacity(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.showCapacityIcon&&i.hasFabricCapacity(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!n.warning),e.\u0275\u0275advance(1),e.\u0275\u0275property("viewModel",n)}}function rg(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,32),e.\u0275\u0275template(1,Hh,5,9,"ng-container",47),e.\u0275\u0275template(2,Zh,3,3,"ng-container",46),e.\u0275\u0275template(3,ng,6,6,"ng-template",null,56,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",!!n.routePath||i.onNavigation.observers.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}function ig(t,r){1&t&&e.\u0275\u0275elementContainer(0)}var _i=function(r){return{"text-decoration-line":r}};function og(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",72),e.\u0275\u0275listener("mouseup",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.navigateToDataflowGen1(s,p))}),e.\u0275\u0275text(1),e.\u0275\u0275template(2,ig,1,0,"ng-container",58),e.\u0275\u0275elementEnd()}if(2&t){e.\u0275\u0275nextContext();var i=e.\u0275\u0275reference(4),o=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(5,_i,o.removeNameTextDecoration?"none":""))("pbiTooltip",null!=o.warning&&o.warning.warningText?void 0:o.displayName),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",o.displayName," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(7,Yt,o))}}function ag(t,r){1&t&&e.\u0275\u0275elementContainer(0)}function sg(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"a",75),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275template(3,ag,1,0,"ng-container",58),e.\u0275\u0275elementEnd()),2&t){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(4),i=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("href",i.href,e.\u0275\u0275sanitizeUrl)("target",e.\u0275\u0275pipeBind1(1,6,o.openArtifactsInNewTab$)||i.openArtifactInNewTab?"_blank":"_self")("pbiTooltip",null!=i.warning&&i.warning.warningText?void 0:i.displayName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",i.displayName," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(8,Yt,i))}}function lg(t,r){1&t&&e.\u0275\u0275elementContainer(0)}function cg(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",76),e.\u0275\u0275text(1),e.\u0275\u0275template(2,lg,1,0,"ng-container",58),e.\u0275\u0275elementEnd()),2&t){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(4),i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("pbiTooltip",null!=i.warning&&i.warning.warningText?void 0:i.displayName),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",i.displayName," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(4,Yt,i))}}function ug(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,32),e.\u0275\u0275template(1,sg,4,10,"a",73),e.\u0275\u0275template(2,cg,3,6,"span",74),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("ngSwitch",!!n.href),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}function pg(t,r){1&t&&(e.\u0275\u0275element(0,"i",67),e.\u0275\u0275pipe(1,"localize")),2&t&&e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,1,"Capacity_PremiumCapacity"))}function dg(t,r){1&t&&(e.\u0275\u0275elementStart(0,"span",79),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Capacity_PremiumCapacity")))}function fg(t,r){1&t&&(e.\u0275\u0275element(0,"i",68),e.\u0275\u0275pipe(1,"localize")),2&t&&e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,1,"PowerBI_PremiumPerUser"))}function mg(t,r){1&t&&(e.\u0275\u0275elementStart(0,"span",79),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"PowerBI_PremiumPerUser")))}function hg(t,r){1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"i",67),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"span",79),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(2,2,"CapacityHeader_FabricCapacity")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,4,"CapacityHeader_FabricCapacity")))}function gg(t,r){if(1&t&&e.\u0275\u0275element(0,"i",80),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("pbiTooltip",n.warning.warningText)}}function vg(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",79),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.warning.warningText)}}function _g(t,r){1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"i",81),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"span",79),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(2,2,"Trident_ArtifactLink_OpensInBrowser")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,4,"Trident_ArtifactLink_OpensInBrowser")))}function Cg(t,r){if(1&t&&(e.\u0275\u0275template(0,pg,2,3,"i",62),e.\u0275\u0275template(1,dg,3,3,"span",77),e.\u0275\u0275template(2,fg,2,3,"i",63),e.\u0275\u0275template(3,mg,3,3,"span",77),e.\u0275\u0275template(4,hg,6,6,"ng-container",28),e.\u0275\u0275template(5,gg,1,1,"i",78),e.\u0275\u0275template(6,vg,2,1,"span",77),e.\u0275\u0275template(7,_g,6,6,"ng-container",28)),2&t){var n=r.$implicit,i=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngIf",i.showCapacityIcon&&i.hasCapacity(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.showCapacityIcon&&i.hasCapacity(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.showCapacityIcon&&i.hasPpuCapacity(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.showCapacityIcon&&i.hasPpuCapacity(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.showCapacityIcon&&i.hasFabricCapacity(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!n.warning),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!n.warning),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.showOpenInNewTabIcon)}}function yg(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,32),e.\u0275\u0275template(1,og,3,9,"a",70),e.\u0275\u0275template(2,ug,3,3,"ng-container",46),e.\u0275\u0275template(3,Cg,8,8,"ng-template",null,71,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",!n.forcedHref&&(!!n.routePath||i.onNavigation.observers.length>0)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}function bg(t,r){1&t&&e.\u0275\u0275elementContainer(0)}var Ig=function(){return{openArtifactFrom:"listLinkClick"}};function Sg(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"a",82),e.\u0275\u0275listener("keydown.enter",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext().$implicit,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.navigateToSubfolder(s.contract.id))})("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext().$implicit,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.navigateToSubfolder(s.contract.id))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275text(3),e.\u0275\u0275template(4,bg,1,0,"ng-container",58),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&t){var i=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(10,_i,i.removeNameTextDecoration?"none":""))("routerLink",i.routePath)("state",e.\u0275\u0275pureFunction0(12,Ig))("target",e.\u0275\u0275pipeBind1(2,8,o.openArtifactsInNewTab$)?"_blank":"_self")("pbiTooltip",null!=i.warning&&i.warning.warningText?void 0:i.displayName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",i.displayName," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",o.icons)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(13,Yt,i))}}function Tg(t,r){1&t&&e.\u0275\u0275elementContainer(0)}var xg=function(r){return{openArtifactFrom:"listLinkClick",callingContext:r}};function wg(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",84),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.navigatedToArtifact(p))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275template(3,Tg,1,0,"ng-container",58),e.\u0275\u0275elementEnd()}if(2&t){e.\u0275\u0275nextContext();var i=e.\u0275\u0275reference(4),o=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(10,_i,o.removeNameTextDecoration?"none":""))("routerLink",o.routePath)("state",e.\u0275\u0275pureFunction1(12,xg,a.callingContext))("target",e.\u0275\u0275pipeBind1(1,8,a.openArtifactsInNewTab$)?"_blank":"_self")("pbiTooltip",null!=o.warning&&o.warning.warningText?void 0:o.displayName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",o.displayName," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(14,Yt,o))}}function Mg(t,r){1&t&&e.\u0275\u0275elementContainer(0)}function Pg(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",87),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.navigatedToArtifact(p))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275template(3,Mg,1,0,"ng-container",58),e.\u0275\u0275elementEnd()}if(2&t){e.\u0275\u0275nextContext(2);var i=e.\u0275\u0275reference(4),o=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("href",o.href,e.\u0275\u0275sanitizeUrl)("target",e.\u0275\u0275pipeBind1(1,6,a.openArtifactsInNewTab$)||o.openArtifactInNewTab?"_blank":"_self")("pbiTooltip",null!=o.warning&&o.warning.warningText?void 0:o.displayName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",o.displayName," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(8,Yt,o))}}function kg(t,r){1&t&&e.\u0275\u0275elementContainer(0)}function Og(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",88),e.\u0275\u0275text(1),e.\u0275\u0275template(2,kg,1,0,"ng-container",58),e.\u0275\u0275elementEnd()),2&t){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(4),i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("pbiTooltip",null!=i.warning&&i.warning.warningText?void 0:i.displayName),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",i.displayName," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(4,Yt,i))}}function Dg(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,32),e.\u0275\u0275template(1,Pg,4,10,"a",85),e.\u0275\u0275template(2,Og,3,6,"span",86),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("ngSwitch",!!n.href),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}function Fg(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",66),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("triTooltip",n.trialCapacityCloseToExpiredTooltip)("name","gift_open_warning_20_regular")("sprite","misc-icons")}}function Eg(t,r){1&t&&(e.\u0275\u0275element(0,"i",67),e.\u0275\u0275pipe(1,"localize")),2&t&&e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,1,"Capacity_PremiumCapacity"))}function Ag(t,r){1&t&&(e.\u0275\u0275elementStart(0,"span",79),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Capacity_PremiumCapacity")))}function Rg(t,r){1&t&&(e.\u0275\u0275element(0,"i",68),e.\u0275\u0275pipe(1,"localize")),2&t&&e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,1,"PowerBI_PremiumPerUser"))}function Lg(t,r){1&t&&(e.\u0275\u0275elementStart(0,"span",79),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"PowerBI_PremiumPerUser")))}function jg(t,r){1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"i",67),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"span",79),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(2,2,"CapacityHeader_FabricCapacity")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,4,"CapacityHeader_FabricCapacity")))}function Bg(t,r){if(1&t&&e.\u0275\u0275element(0,"i",80),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("pbiTooltip",n.warning.warningText)}}function Ng(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",79),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.warning.warningText)}}function Wg(t,r){1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"i",81),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"span",79),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(2,2,"Trident_ArtifactLink_OpensInBrowser")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,4,"Trident_ArtifactLink_OpensInBrowser")))}function zg(t,r){if(1&t&&(e.\u0275\u0275template(0,Fg,1,3,"tri-svg-icon",61),e.\u0275\u0275template(1,Eg,2,3,"i",62),e.\u0275\u0275template(2,Ag,3,3,"span",77),e.\u0275\u0275template(3,Rg,2,3,"i",63),e.\u0275\u0275template(4,Lg,3,3,"span",77),e.\u0275\u0275template(5,jg,6,6,"ng-container",28),e.\u0275\u0275template(6,Bg,1,1,"i",78),e.\u0275\u0275template(7,Ng,2,1,"span",77),e.\u0275\u0275template(8,Wg,6,6,"ng-container",28)),2&t){var n=r.$implicit,i=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngIf",n.isTrialCapacityCloseToExpired),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.showCapacityIcon&&i.hasCapacity(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.showCapacityIcon&&i.hasCapacity(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.showCapacityIcon&&i.hasPpuCapacity(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.showCapacityIcon&&i.hasPpuCapacity(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.showCapacityIcon&&i.hasFabricCapacity(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!n.warning),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!n.warning),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.showOpenInNewTabIcon)}}function Ug(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,32),e.\u0275\u0275template(1,wg,4,16,"a",83),e.\u0275\u0275template(2,Dg,3,3,"ng-container",46),e.\u0275\u0275template(3,zg,9,9,"ng-template",null,71,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",!n.forcedHref&&(!!n.routePath||i.onNavigation.observers.length>0)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1)}}function $g(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tags-item-icon",89),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("tags",n.tags)}}function Vg(t,r){if(1&t&&e.\u0275\u0275element(0,"dlp-icon",90),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("hasDlpPolicyTip",n.hasDlpPolicyTip)("restrictions",n.restrictions)}}function Hg(t,r){if(1&t&&e.\u0275\u0275element(0,"datamart-icon-container",91),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("viewModel",n)("status",n.status)}}function Gg(t,r){1&t&&e.\u0275\u0275elementContainer(0)}function Kg(t,r){if(1&t&&(e.\u0275\u0275element(0,"mat-icon",96),e.\u0275\u0275pipe(1,"async")),2&t){var n=r.$implicit;e.\u0275\u0275propertyInterpolate("fontIcon",n.iconClass$?e.\u0275\u0275pipeBind1(1,1,n.iconClass$):n.iconClass)}}function Qg(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",97),2&t){var n=r.$implicit;e.\u0275\u0275property("sprite",n.triIcon.sprite||"fluentui-icons")("name",n.triIcon.name)}}var qg=function(r){return{alwaysShow:r}};function Zg(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",93),e.\u0275\u0275listener("click",function(){var m=e.\u0275\u0275restoreView(n).$implicit,S=e.\u0275\u0275nextContext(2).$implicit,w=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(w.onQuickActionClick(m,S))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Gg,1,0,"ng-container",58),e.\u0275\u0275template(4,Kg,2,3,"ng-template",null,94,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(6,Qg,1,2,"ng-template",null,95,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()}if(2&t){var i=r.$implicit,o=e.\u0275\u0275reference(5),a=e.\u0275\u0275reference(7);e.\u0275\u0275propertyInterpolate("title",i.tooltip$?e.\u0275\u0275pipeBind1(1,6,i.tooltip$):i.tooltip),e.\u0275\u0275property("disabled",!!i.disabled)("ngClass",e.\u0275\u0275pureFunction1(10,qg,!!e.\u0275\u0275pipeBind1(2,8,i.alwaysShow$))),e.\u0275\u0275attribute("data-testid","quick-action-button-"+i.text),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",i.triIcon?a:o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(12,Yt,i))}}function Xg(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Zg,8,14,"button",92),e.\u0275\u0275elementContainerEnd()),2&t){var n=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n)}}var Jg=function(r){return{isFavorited:r}};function Yg(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"favorite-star",98),e.\u0275\u0275listener("onFavoriteToggle",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(p.onFavoriteToggle.emit(s))}),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(4,Jg,!!i.favoriteId))("item",i)("type",o.getFavoriteType(i.type))("tridentStyle",!0)}}function ev(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"dashboard-context-menu",110),e.\u0275\u0275listener("currentMenuItemIdChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.setCurrentMenuItemId(s,1))})("onMenuOpenedEvent",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitActionMenuOpen(s,p,1))})("executionRun",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitContextMenuExecution(s,p,1))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentMenuItemId",o.currentMenuItemId)("ariaLabel",e.\u0275\u0275pipeBind1(1,5,"Options_Menu"))("availableActions",i.availableActions)("callingContext",o.callingContext)("dashboard",i)}}function tv(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"report-context-menu",111),e.\u0275\u0275listener("currentMenuItemIdChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.setCurrentMenuItemId(s,2))})("onMenuOpenedEvent",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitActionMenuOpen(s,p,2))})("executionRun",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitContextMenuExecution(s,p,2))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentMenuItemId",o.currentMenuItemId)("availableActions",i.availableActions)("ariaLabel",e.\u0275\u0275pipeBind1(1,5,"Options_Menu"))("callingContext",o.callingContext)("report",i)}}function nv(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"dataset-context-menu",112),e.\u0275\u0275listener("currentMenuItemIdChange",function(p){e.\u0275\u0275restoreView(n);var m=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(m.setCurrentMenuItemId(p,3))})("onMenuOpenedEvent",function(p){e.\u0275\u0275restoreView(n);var m=e.\u0275\u0275nextContext(2).$implicit,S=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(S.emitActionMenuOpen(p,m,3))})("datasetActionClicked",function(p){e.\u0275\u0275restoreView(n);var m=e.\u0275\u0275nextContext(2).$implicit,S=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(S.datasetActionClicked(p,m))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var a,i=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentMenuItemId",o.currentMenuItemId)("ariaLabel",e.\u0275\u0275pipeBind1(1,6,"Options_Menu"))("datasetItem",i)("container",null!==(a=null==i?null:i.container)&&void 0!==a?a:o.folder)("containerByAction",null==i?null:i.containerByAction)("actionSource",o.actionSourceDatasetWorkspaceList)}}function rv(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"workbook-context-menu",114),e.\u0275\u0275listener("currentMenuItemIdChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(p.setCurrentMenuItemId(s,4))})("onMenuOpenedEvent",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitActionMenuOpen(s,p,4))})("executionRun",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitContextMenuExecution(s,p,4))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(3).$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("availableActions",i.availableActions)("currentMenuItemId",o.currentMenuItemId)("ariaLabel",e.\u0275\u0275pipeBind1(1,5,"Options_Menu"))("callingContext",o.callingContext)("workbook",i)}}function iv(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,rv,2,7,"workbook-context-menu",113),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,n.isEditableWorkspace$))}}function ov(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-context-menu",115),e.\u0275\u0275listener("currentMenuItemIdChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.setCurrentMenuItemId(s,5))})("onMenuOpenedEvent",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitActionMenuOpen(s,p,5))})("executionRun",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitContextMenuExecution(s,p,5))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentMenuItemId",o.currentMenuItemId)("availableActions",i.availableActions)("ariaLabel",e.\u0275\u0275pipeBind1(1,5,"Options_Menu"))("app",i)("callingContext",o.callingContext)}}function av(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"report-context-menu",116),e.\u0275\u0275listener("currentMenuItemIdChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.setCurrentMenuItemId(s,6))})("onMenuOpenedEvent",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitActionMenuOpen(s,p,6))})("executionRun",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitContextMenuExecution(s,p,6))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentMenuItemId",o.currentMenuItemId)("availableActions",i.availableActions)("ariaLabel",e.\u0275\u0275pipeBind1(1,5,"Options_Menu"))("report",i)("callingContext",o.callingContext)}}function sv(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"workspace-context-menu",117),e.\u0275\u0275listener("currentMenuItemIdChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.setCurrentMenuItemId(s,7))})("onMenuOpenedEvent",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitActionMenuOpen(s,p,7))})("executionRun",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitContextMenuExecution(s,p,7))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentMenuItemId",o.currentMenuItemId)("ariaLabel",e.\u0275\u0275pipeBind1(1,5,"Options_Menu"))("availableActions",i.availableActions)("callingContext",o.callingContext)("workspace",i)}}function lv(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"dataflow-context-menu",118),e.\u0275\u0275listener("currentMenuItemIdChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.setCurrentMenuItemId(s,8))})("onMenuOpenedEvent",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitActionMenuOpen(s,p,8))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentMenuItemId",o.currentMenuItemId)("ariaLabel",e.\u0275\u0275pipeBind1(1,3,"Options_Menu"))("cdsaModel",i)}}function cv(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"dataflow-gen2-context-menu",118),e.\u0275\u0275listener("currentMenuItemIdChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.setCurrentMenuItemId(s,103))})("onMenuOpenedEvent",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitActionMenuOpen(s,p,103))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentMenuItemId",o.currentMenuItemId)("ariaLabel",e.\u0275\u0275pipeBind1(1,3,"Options_Menu"))("cdsaModel",i)}}function uv(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"scorecard-context-menu",119),e.\u0275\u0275listener("currentMenuItemIdChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.setCurrentMenuItemId(s,10))})("onMenuOpenedEvent",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitActionMenuOpen(s,p,10))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentMenuItemId",o.currentMenuItemId)("ariaLabel",e.\u0275\u0275pipeBind1(1,4,"Options_Menu"))("availableActions",i.availableActions)("scorecard",i)}}function pv(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"datamart-context-menu",120),e.\u0275\u0275listener("currentMenuItemIdChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.setCurrentMenuItemId(s,p.type))})("onMenuOpenedEvent",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitActionMenuOpen(s,p,p.type))})("datamartActionClicked",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.datamartActionClicked(s))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentMenuItemId",o.currentMenuItemId)("ariaLabel",e.\u0275\u0275pipeBind1(1,6,"Options_Menu"))("datamart",i)("container",null==i?null:i.container)("containerByAction",null==i?null:i.containerByAction)("actionSource",o.actionSourceDatamartWorkspaceList)}}function dv(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"datamart-context-menu",120),e.\u0275\u0275listener("currentMenuItemIdChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.setCurrentMenuItemId(s,p.type))})("onMenuOpenedEvent",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitActionMenuOpen(s,p,p.type))})("datamartActionClicked",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.datamartActionClicked(s,p))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentMenuItemId",o.currentMenuItemId)("ariaLabel",e.\u0275\u0275pipeBind1(1,6,"Options_Menu"))("datamart",i)("container",null==i?null:i.container)("containerByAction",null==i?null:i.containerByAction)("actionSource",o.actionSourceLakeWarehouseWorkspaceList)}}function fv(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"datamart-context-menu",120),e.\u0275\u0275listener("currentMenuItemIdChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.setCurrentMenuItemId(s,p.type))})("onMenuOpenedEvent",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitActionMenuOpen(s,p,p.type))})("datamartActionClicked",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.datamartActionClicked(s))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentMenuItemId",o.currentMenuItemId)("ariaLabel",e.\u0275\u0275pipeBind1(1,6,"Options_Menu"))("datamart",i)("container",null==i?null:i.container)("containerByAction",null==i?null:i.containerByAction)("actionSource",o.actionSourceDataWarehouseWorkspaceList)}}function mv(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"subfolder-context-menu",121),e.\u0275\u0275listener("currentMenuItemIdChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.setCurrentMenuItemId(s,p.type))})("onMenuOpenedEvent",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitActionMenuOpen(s,p,p.type))})("subfolderActionClicked",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.subfolderActionClicked(s))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentMenuItemId",o.currentMenuItemId)("ariaLabel",e.\u0275\u0275pipeBind1(1,5,"Options_Menu"))("subfolder",i)("container",null==i?null:i.container)("containerByAction",null==i?null:i.containerByAction)}}function hv(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"datamart-context-menu",120),e.\u0275\u0275listener("currentMenuItemIdChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.setCurrentMenuItemId(s,p.type))})("onMenuOpenedEvent",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitActionMenuOpen(s,p,p.type))})("datamartActionClicked",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.datamartActionClicked(s,p))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentMenuItemId",o.currentMenuItemId)("ariaLabel",e.\u0275\u0275pipeBind1(1,6,"Options_Menu"))("datamart",i)("container",null==i?null:i.container)("containerByAction",null==i?null:i.containerByAction)("actionSource",o.actionSourceLakeWarehouseWorkspaceList)}}function gv(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"trident-context-menu",123),e.\u0275\u0275listener("currentMenuItemIdChange",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.setCurrentMenuItemId(s,p.type))})("onMenuOpenedEvent",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitActionMenuOpen(s,p,p.type))})("executionRun",function(s){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(3).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.emitContextMenuExecution(s,p,p.type))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(3).$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentMenuItemId",o.currentMenuItemId)("ariaLabel",e.\u0275\u0275pipeBind1(1,5,"Options_Menu"))("availableActions",i.availableActions)("callingContext",o.callingContext)("artifact",i)}}function vv(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,gv,2,7,"trident-context-menu",122),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext(2).$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,i.isTridentUI$)&&i.isTridentArtifactType(n.type))}}function _v(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,32),e.\u0275\u0275template(1,ev,2,7,"dashboard-context-menu",99),e.\u0275\u0275template(2,tv,2,7,"report-context-menu",100),e.\u0275\u0275template(3,nv,2,8,"dataset-context-menu",101),e.\u0275\u0275template(4,iv,3,3,"ng-container",47),e.\u0275\u0275template(5,ov,2,7,"app-context-menu",102),e.\u0275\u0275template(6,av,2,7,"report-context-menu",103),e.\u0275\u0275template(7,sv,2,7,"workspace-context-menu",104),e.\u0275\u0275template(8,lv,2,5,"dataflow-context-menu",105),e.\u0275\u0275template(9,cv,2,5,"dataflow-gen2-context-menu",105),e.\u0275\u0275template(10,uv,2,6,"scorecard-context-menu",106),e.\u0275\u0275template(11,pv,2,8,"datamart-context-menu",107),e.\u0275\u0275template(12,dv,2,8,"datamart-context-menu",107),e.\u0275\u0275template(13,fv,2,8,"datamart-context-menu",107),e.\u0275\u0275template(14,mv,2,7,"subfolder-context-menu",108),e.\u0275\u0275template(15,hv,2,8,"datamart-context-menu",107),e.\u0275\u0275template(16,vv,3,3,"ng-container",109),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngSwitch",n.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",2),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",3),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",4),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",5),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",6),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",7),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",8),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",103),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",10),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",11),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",14),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",15),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",16),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",17)}}var Cv=function(r){return{focused:r}},Mt=function(r,n){return{width:r,"min-width":n}};function yv(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",41),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,zh,1,0,"mat-icon",42),e.\u0275\u0275template(4,Uh,1,0,"tri-svg-icon",43),e.\u0275\u0275template(5,$h,1,4,"tri-svg-icon",44),e.\u0275\u0275elementStart(6,"span",45),e.\u0275\u0275elementContainerStart(7,32),e.\u0275\u0275template(8,rg,5,3,"ng-container",46),e.\u0275\u0275template(9,yg,5,3,"ng-container",46),e.\u0275\u0275template(10,Sg,5,15,"ng-container",47),e.\u0275\u0275template(11,Ug,5,3,"ng-container",48),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275template(12,$g,2,1,"ng-container",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,Vg,1,2,"dlp-icon",49),e.\u0275\u0275template(14,Hg,1,2,"datamart-icon-container",50),e.\u0275\u0275template(15,Xg,2,1,"ng-container",28),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275template(17,Yg,1,6,"favorite-star",51),e.\u0275\u0275template(18,_v,17,16,"ng-container",52),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=r.seeAllColumn,a=r.nextToIconColumn,s=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(22,Cv,s.uniqueItemKey(n)==e.\u0275\u0275pipeBind1(1,16,s.focusedRowId$)||s.uniqueItemKey(n)==e.\u0275\u0275pipeBind1(2,18,s.hoveredRowId$)||n.uniqueId==s.currentMenuItemId))("ngStyle",e.\u0275\u0275pureFunction2(24,Mt,s.getWidthFromConfig(i,o,s.colName_name,a,!!n.parentUniqueId&&!!n.childIndex),s.getWidthFromConfig(i,o,s.colName_name,a,!!n.parentUniqueId&&!!n.childIndex))),e.\u0275\u0275attribute("data-value",n.displayName),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!!n.isNew),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",16===n.type&&!(null==n.contract||!n.contract.isNew)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==n?null:n.browseArtifactContentsIcon),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitch",n.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",103),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",8),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",16),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.enableTags&&n.tags),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.hasDlpPolicyTip||!!n.restrictions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.isArtifactDatamartType(n.type)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(16,20,n.quickActions)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.shouldShowFavoriteStar(n.type)&&!n.disableFavoriteStar),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.disableContextMenu)}}function bv(t,r){1&t&&e.\u0275\u0275element(0,"tri-svg-icon",132)}function Iv(t,r){1&t&&e.\u0275\u0275element(0,"tri-svg-icon",133)}function Sv(t,r){1&t&&e.\u0275\u0275element(0,"tri-svg-icon",134)}function Tv(t,r){1&t&&e.\u0275\u0275element(0,"tri-svg-icon",135)}function xv(t,r){1&t&&e.\u0275\u0275element(0,"tri-svg-icon",136)}function wv(t,r){1&t&&e.\u0275\u0275element(0,"tri-svg-icon",137)}function Mv(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0,32),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,bv,1,0,"tri-svg-icon",126),e.\u0275\u0275template(3,Iv,1,0,"tri-svg-icon",127),e.\u0275\u0275template(4,Sv,1,0,"tri-svg-icon",128),e.\u0275\u0275template(5,Tv,1,0,"tri-svg-icon",129),e.\u0275\u0275template(6,xv,1,0,"tri-svg-icon",130),e.\u0275\u0275template(7,wv,1,0,"tri-svg-icon",131),e.\u0275\u0275elementStart(8,"span"),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngSwitch",e.\u0275\u0275pipeBind1(1,10,n.gitStatus)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitchCase","Synced"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","Update Required"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","Uncommitted"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","Conflict"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","Unsupported"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","Syncing..."),e.\u0275\u0275advance(1),e.\u0275\u0275attribute("data-value",e.\u0275\u0275pipeBind1(9,12,n.gitStatus))("title",e.\u0275\u0275pipeBind1(10,14,n.gitStatus)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,16,n.gitStatus)," ")}}function Pv(t,r){1&t&&(e.\u0275\u0275element(0,"tri-svg-icon",138),e.\u0275\u0275elementStart(1,"span",139),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(2,3,"Trident_Git_Same_Changes_Tooltip"))("triTooltipMaxWidth",240),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ","Synced"," "))}function kv(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",124),e.\u0275\u0275template(1,Mv,13,18,"ng-container",30),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Pv,4,5,"ng-template",null,125,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=r.seeAllColumn,a=e.\u0275\u0275reference(4),s=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(5,Mt,s.getWidthFromConfig(i,o,s.colName_gitStatus),s.getWidthFromConfig(i,o,s.colName_gitStatus))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Same Changes"!==e.\u0275\u0275pipeBind1(2,3,n.gitStatus))("ngIfElse",a)}}function Ov(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",140)(1,"span",141),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&t){var n=r.$implicit,i=r.colWidth,o=r.seeAllColumn,a=r.nextToIconColumn,s=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(4,Mt,s.getWidthFromConfig(i,o,s.colName_type,a,!!n.parentUniqueId&&!!n.childIndex),s.getWidthFromConfig(i,o,s.colName_type,a,!!n.parentUniqueId&&!!n.childIndex))),e.\u0275\u0275attribute("data-value",n.type)("title",n.typeName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.typeName)}}function Dv(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",143),e.\u0275\u0275element(1,"information-protection-label",144),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext(),i=n.colWidth,o=n.seeAllColumn,a=n.$implicit,s=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(2,Mt,s.getWidthFromConfig(i,o,s.colName_sensitivity),s.getWidthFromConfig(i,o,s.colName_sensitivity))),e.\u0275\u0275advance(1),e.\u0275\u0275property("label",a.artifactInformationProtection)}}function Fv(t,r){if(1&t&&(e.\u0275\u0275template(0,Dv,2,5,"span",142),e.\u0275\u0275pipe(1,"async")),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,n.isInformationProtectionEnabled$))}}function Ev(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",145),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=r.seeAllColumn,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(3,Mt,a.getWidthFromConfig(i,o,a.colName_owner),a.getWidthFromConfig(i,o,a.colName_owner))),e.\u0275\u0275attribute("title",n.owner||"\u2014"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.owner||"\u2014")}}function Av(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",146),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=r.seeAllColumn,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(3,Mt,a.getWidthFromConfig(i,o,a.colName_score),a.getWidthFromConfig(i,o,a.colName_score))),e.\u0275\u0275attribute("title",n.score||"\u2014"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.score||"\u2014")}}function Rv(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",147),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=r.seeAllColumn,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(3,Mt,a.getWidthFromConfig(i,o,a.colName_sharedBy),a.getWidthFromConfig(i,o,a.colName_sharedBy))),e.\u0275\u0275attribute("title",n.sharedBy||"\u2014"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.sharedByUserDisplayName||"\u2014")}}function Lv(t,r){if(1&t&&e.\u0275\u0275element(0,"dataset-icon-container-modern",150),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("viewModel",n)}}function jv(t,r){if(1&t&&e.\u0275\u0275element(0,"dataset-icon-container-modern",150),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("viewModel",n)}}function Bv(t,r){if(1&t&&e.\u0275\u0275element(0,"dataflow-icon-container",150),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("viewModel",n)}}function Nv(t,r){if(1&t&&e.\u0275\u0275element(0,"datamart-icon-container",150),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("viewModel",n)}}function Wv(t,r){if(1&t&&e.\u0275\u0275element(0,"dataflow-icon-container",150),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("viewModel",n)}}function zv(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",148)(1,"span",141),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerStart(3,32),e.\u0275\u0275template(4,Lv,1,1,"dataset-icon-container-modern",149),e.\u0275\u0275template(5,jv,1,1,"dataset-icon-container-modern",149),e.\u0275\u0275template(6,Bv,1,1,"dataflow-icon-container",149),e.\u0275\u0275template(7,Nv,1,1,"datamart-icon-container",149),e.\u0275\u0275template(8,Wv,1,1,"dataflow-icon-container",149),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=r.seeAllColumn,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(10,Mt,a.getWidthFromConfig(i,o,a.colName_lastRefresh),a.getWidthFromConfig(i,o,a.colName_lastRefresh))),e.\u0275\u0275attribute("data-value",null==n.lastRefreshDate?null:n.lastRefreshDate.getTime())("title",n.lastRefresh||"\u2014"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.lastRefresh||"\u2014"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",n.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",3),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",4),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",8),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",11),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",103)}}function Uv(t,r){if(1&t&&e.\u0275\u0275element(0,"dataset-icon-container-modern",153),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("isNextRefresh",!0)("viewModel",n)}}function $v(t,r){if(1&t&&e.\u0275\u0275element(0,"dataset-icon-container-modern",153),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("isNextRefresh",!0)("viewModel",n)}}function Vv(t,r){if(1&t&&e.\u0275\u0275element(0,"dataflow-icon-container",153),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("isNextRefresh",!0)("viewModel",n)}}function Hv(t,r){if(1&t&&e.\u0275\u0275element(0,"dataflow-icon-container",153),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("isNextRefresh",!0)("viewModel",n)}}function Gv(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",151)(1,"span",141),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerStart(3,32),e.\u0275\u0275template(4,Uv,1,2,"dataset-icon-container-modern",152),e.\u0275\u0275template(5,$v,1,2,"dataset-icon-container-modern",152),e.\u0275\u0275template(6,Vv,1,2,"dataflow-icon-container",152),e.\u0275\u0275template(7,Hv,1,2,"dataflow-icon-container",152),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=r.seeAllColumn,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(9,Mt,a.getWidthFromConfig(i,o,a.colName_nextRefresh),a.getWidthFromConfig(i,o,a.colName_nextRefresh))),e.\u0275\u0275attribute("data-value",null==n.nextRefreshDate?null:n.nextRefreshDate.getTime())("title",n.nextRefresh||"\u2014"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.nextRefresh||"\u2014"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",n.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",3),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",4),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",8),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",103)}}function Kv(t,r){if(1&t&&e.\u0275\u0275element(0,"endorsement-badge",156),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("stage",n.endorsement.stage)}}function Qv(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",154),e.\u0275\u0275template(1,Kv,1,1,"endorsement-badge",155),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=r.seeAllColumn,a=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(23);e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(4,Mt,a.getWidthFromConfig(i,o,a.colName_endorsement),a.getWidthFromConfig(i,o,a.colName_endorsement))),e.\u0275\u0275attribute("data-value",null==n.endorsement?null:n.endorsement.stage),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==n.endorsement?null:n.endorsement.stage)&&0!==(null==n.endorsement?null:n.endorsement.stage))("ngIfElse",s)}}function qv(t,r){1&t&&(e.\u0275\u0275elementStart(0,"span",157),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275text(2,"\u2014"),e.\u0275\u0275elementEnd()),2&t&&e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(1,1,"None"))}function Zv(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",158),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=r.seeAllColumn,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(4,Mt,a.getWidthFromConfig(i,o,a.colName_lastAccess),a.getWidthFromConfig(i,o,a.colName_lastAccess))),e.\u0275\u0275attribute("data-value",null==n.lastAccess?null:n.lastAccess.getTime())("title",n.lastAccessTime||"\u2014"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.lastAccessTime," ")}}function Xv(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",159),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=r.seeAllColumn,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(4,Mt,a.getWidthFromConfig(i,o,a.colName_lastActivity),a.getWidthFromConfig(i,o,a.colName_lastActivity))),e.\u0275\u0275attribute("data-value",(null==n.lastAccess?null:n.lastAccess.getTime())||(null==n.sharedDate?null:n.sharedDate.getTime())||0)("title",n.lastAccessTime||n.sharedDateLocaleString||"\u2014"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.lastAccessTime||n.sharedDateLocaleString||"\u2014"," ")}}function Jv(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",160),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=r.seeAllColumn,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(3,Mt,a.getWidthFromConfig(i,o,a.colName_hiddenTime),a.getWidthFromConfig(i,o,a.colName_hiddenTime))),e.\u0275\u0275attribute("title",n.hiddenTime||"\u2014"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.hiddenTimeString," ")}}function Yv(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",161),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=r.seeAllColumn,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(3,Mt,a.getWidthFromConfig(i,o,a.colName_relation),a.getWidthFromConfig(i,o,a.colName_relation))),e.\u0275\u0275attribute("title",n.relation||"\u2014"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.relation||"\u2014")}}function e_(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",164),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275resetView(w.navigateToLocation())}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext(),o=i.colWidth,a=i.seeAllColumn,s=i.nextToIconColumn,p=i.$implicit,m=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(3,Mt,m.getWidthFromConfig(o,a,m.colName_location,s,!!p.parentUniqueId&&!!p.childIndex),m.getWidthFromConfig(o,a,m.colName_location,s,!!p.parentUniqueId&&!!p.childIndex))),e.\u0275\u0275attribute("title",p.location),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(p.location)}}function t_(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",165),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext(),i=n.colWidth,o=n.seeAllColumn,a=n.nextToIconColumn,s=n.$implicit,p=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(3,Mt,p.getWidthFromConfig(i,o,p.colName_location,a,!!s.parentUniqueId&&!!s.childIndex),p.getWidthFromConfig(i,o,p.colName_location,a,!!s.parentUniqueId&&!!s.childIndex))),e.\u0275\u0275attribute("title",s.location),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(s.location)}}function n_(t,r){1&t&&(e.\u0275\u0275elementContainerStart(0,32),e.\u0275\u0275template(1,e_,2,6,"a",162),e.\u0275\u0275template(2,t_,2,6,"span",163),e.\u0275\u0275elementContainerEnd()),2&t&&(e.\u0275\u0275property("ngSwitch",!!r.$implicit.navigateToLocation),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1))}function r_(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",166),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=r.seeAllColumn,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(4,Mt,a.getWidthFromConfig(i,o,a.colName_sharedTime),a.getWidthFromConfig(i,o,a.colName_sharedTime))),e.\u0275\u0275attribute("data-value",null==n.sharedDate?null:n.sharedDate.getTime())("title",n.sharedDateLocaleString||"\u2014"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.sharedDateLocaleString," ")}}function i_(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",167),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=r.seeAllColumn,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("pbiTooltip",n.description)("ngStyle",e.\u0275\u0275pureFunction2(3,Mt,a.getWidthFromConfig(i,o,a.colName_description),a.getWidthFromConfig(i,o,a.colName_description))),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.description," ")}}function o_(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",168),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(3,Mt,i&&i[o.colName_organization]+"px",i&&i[o.colName_organization]+"px")),e.\u0275\u0275attribute("title",n.organization),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.organization)}}function a_(t,r){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"NavigationPane_Workspaces")," "))}function s_(t,r){if(1&t&&e.\u0275\u0275element(0,"trident-domain-link",171),2&t){var n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("workspaceName",n.location)("dataDomainArtifactInfo",n.domainArtifactInfo)("appearance","strong")}}function l_(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,s_,1,3,"trident-domain-link",170),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.location)}}function c_(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",169),e.\u0275\u0275elementContainerStart(1,32),e.\u0275\u0275template(2,a_,3,3,"span",47),e.\u0275\u0275template(3,l_,2,1,"ng-container",109),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=r.seeAllColumn,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction2(3,Mt,a.getWidthFromConfig(i,o,a.colName_domainsWorkspacePath),a.getWidthFromConfig(i,o,a.colName_domainsWorkspacePath))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",n.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","workspace")}}var Mr=window,p_=function(){function t(r,n,i,o,a,s,p,m,S,w){this.activatedRoute=r,this.dataflowHelpersService=n,this.dialogService=i,this.featureSwitchService=o,this.localizationService=a,this.navigateToSubfolderService=s,this.router=p,this.store=m,this.shellCapabilities=S,this.hostContextClickHandlerService=w,this.initialized=new e.EventEmitter,this.onNavigation=new e.EventEmitter,this.onFavoriteToggle=new e.EventEmitter,this.onQuickAction=new e.EventEmitter,this.onMenuAction=new e.EventEmitter,this.onContextMenuAction=new e.EventEmitter,this.onContextMenuOpen=new e.EventEmitter,this.isArtifactDatamartType=oi,this.actionSourceDatamartWorkspaceList=10,this.actionSourceDatasetWorkspaceList=3,this.actionSourceDataWarehouseWorkspaceList=12,this.actionSourceLakeWarehouseWorkspaceList=11,this.colName_name=T.Name,this.colName_type=T.Type,this.colName_gitStatus=T.GitStatus,this.colName_sensitivity=T.Sensitivity,this.colName_owner=T.Owner,this.colName_score=T.Score,this.colName_lastRefresh=T.LastRefresh,this.colName_nextRefresh=T.NextRefresh,this.colName_endorsement=T.Endorsement,this.colName_lastAccess=T.LastAccess,this.colName_lastActivity=T.LastActivity,this.colName_hiddenTime=T.HiddenTime,this.colName_relation=T.Relation,this.colName_location=T.Location,this.colName_sharedTime=T.SharedTime,this.colName_sharedBy=T.SharedBy,this.colName_description=T.Description,this.colName_organization=T.Organization,this.colName_domainsWorkspacePath=T.DomainsWorkspacePath,this.isTridentArtifactType=Fn,this.reportArtifactType=2,this.destroy$=new W.xQ,this.featureSwitches$=this.featureSwitchService.featureSwitches$,this.isTridentUI$=(0,qe.of)(Mr.isTrident)}return t.prototype.ngOnInit=function(){var r=this;this.isEditableAppWorkspace$=this.store.select(di.Ik),this.isEditableWorkspace$=this.store.select(Po),this.isInformationProtectionEnabled$=this.featureSwitches$.pipe((0,fn.n)(function(n){return!n}),(0,D.R)(this.destroy$),(0,P.U)(function(n){return!!n.eimInformationProtectionUI})),this.isParentChildEnabled$=this.featureSwitches$.pipe((0,fn.n)(function(n){return!n}),(0,D.R)(this.destroy$),(0,P.U)(function(n){return!!n.parentChildInWorkspace&&Mr.isTrident})),this.openArtifactsInNewTab$=(0,Gt.D)(this.shellCapabilities.ensureCapabilitiesInitialized()).pipe((0,P.U)(function(n){return n.getCapabilities().openArtifactsInNewTab})),this.store.select(rt.S6).pipe((0,D.R)(this.destroy$)).subscribe(function(n){r.folder=n}),this.enableTags=Mr.isTrident&&this.featureSwitchService.featureSwitches.taggingMain_HEAD_tagging_FE&&"WorkspaceList"===this.callingContext},t.prototype.ngAfterViewInit=function(){this.initialized.emit()},t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.prototype.uniqueItemKey=function(r){return Qn(r)},t.prototype.shouldShowFavoriteStar=function(r){return!!Fn(r)||5===r||1===r||2===r||6===r||10===r||oi(r)},t.prototype.getFavoriteType=function(r){if(Fn(r))return Xe.nW.Artifact;switch(r){case 5:return Xe.nW.App;case 1:return Xe.nW.Dashboard;case 2:case 10:return Xe.nW.Report;case 6:return Xe.nW.RdlReport;case 17:case 14:case 15:case 11:return Xe.nW.Datamart;default:return void xe.fF.assertFail("invalid artifact type: ".concat(r))}},t.prototype.navigatedToArtifact=function(r){this.hostContextClickHandlerService&&this.hostContextClickHandlerService.handleClick(r),this.onNavigation.emit(r)},t.prototype.navigateToSubfolder=function(r){this.navigateToSubfolderService.navigate({subfolderPath:{subfolderId:r},logTelemetry:!0,entryPoint:It.X3.rowClick})},t.prototype.navigateToDataflow=function(r,n){switch(r.button){case 0:!r.ctrlKey||r.altKey||r.shiftKey?this.navigateToDataflowInSameTab(n):this.navigateToDataflowInNewTab(r,n);break;case 1:this.navigateToDataflowInNewTab(r,n)}},t.prototype.navigateToDataflowGen1=function(r,n){var i;return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(a){switch(a.label){case 0:return[4,this.dataflowHelpersService.checkCapacityAndShowDialog(null!==(i=this.folder.workspaceId)&&void 0!==i?i:this.folder.objectId,this.localizationService.get("Error"),this.localizationService.get("Dataflow_DataflowEdit_CapacityThrottled"),this.localizationService.get("Dataflow_DataflowEdit_CapacityPaused"))];case 1:return"Failure"===a.sent().kind?[2,Promise.resolve()]:(this.navigateToDataflow(r,n),[2])}})})},t.prototype.navigateToDataflowGen2=function(r,n){var i,o,a;return(0,c.__awaiter)(this,void 0,void 0,function(){var s,p;return(0,c.__generator)(this,function(m){return s=void 0!==(null===(i=n?.ownerUser)||void 0===i?void 0:i.oid)&&"string"==typeof(null===(o=n?.ownerUser)||void 0===o?void 0:o.oid)?null===(a=n?.ownerUser)||void 0===a?void 0:a.oid:void 0,p=(0,_u.bG)().uoid,(0,Bt.vr)(s,p)?(this.navigateToDataflow(r,n),[2]):(this.dialogService.showSimpleDialog(this.localizationService.get("CdsaModel_CantEditTitle"),this.localizationService.get("Dataflow_Gen2_CantEditMessage")),[2])})})},t.prototype.navigateToDataflowInNewTab=function(r,n){r.preventDefault();var i=this.router.serializeUrl(this.router.createUrlTree([n.routePath],{queryParams:this.activatedRoute.snapshot.queryParams}));window.open(i,"_blank")},t.prototype.navigateToDataflowInSameTab=function(r){this.router.navigate([r.routePath],{queryParams:this.activatedRoute.snapshot.queryParams,state:{openArtifactFrom:"listLinkClick"}})},t.prototype.getCapacitySkuTier=function(r){return r.capacitySkuTier?r.capacitySkuTier:r.sharedFromEnterpriseCapacitySkuTier?r.sharedFromEnterpriseCapacitySkuTier:void 0},t.prototype.hasCapacity=function(r){var n=this.getCapacitySkuTier(r);return n&&(1===n||3===n||2===n)},t.prototype.hasFabricCapacity=function(r){var n=this.getCapacitySkuTier(r);return n&&(8===n||9===n||7===n)},t.prototype.hasPpuCapacity=function(r){var n=this.getCapacitySkuTier(r);return n&&4===n},t.prototype.setCurrentMenuItemId=function(r,n){this.currentMenuItemId=Jt(n,r)},t.prototype.emitActionMenuOpen=function(r,n,i){this.onContextMenuOpen.emit({menuItems:r,type:i,item:n})},t.prototype.emitContextMenuExecution=function(r,n,i){this.onContextMenuAction.emit({menuItem:r,type:i,item:n})},t.prototype.datamartActionClicked=function(r,n){this.onMenuAction.emit({artifactActionStatus:r,item:n})},t.prototype.datasetActionClicked=function(r,n){this.onMenuAction.emit({artifactActionStatus:r,item:n})},t.prototype.getWidthFromConfig=function(r,n,i,o,a){var s=i===n?r[i]+55:r[i];return this.featureSwitchService.featureSwitches.parentChildInWorkspace&&Mr.isTrident&&a&&o===i?s-48+"px":s+"px"},t.prototype.getTridentArtifactIconPreset=function(r){return"workspace"===(0,fu.xO)(r.type)&&r.objectId===Cu.fm1?an.tB.MyWorkspace24:an.tB.Size24},t.prototype.onQuickActionClick=function(r,n){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(i){return 2===r.actionType&&this.onFavoriteToggle.emit({item:n,type:this.getFavoriteType(n.type)}),this.onQuickAction.emit({item:n,actionType:r?.text}),r.execute(),[2]})})},t.prototype.getChildIndicator=function(r){return"First"===r.childIndex?"first_indicator":"Middle"===r.childIndex?"middle_indicator":"last_indicator"},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(Tn.gz),e.\u0275\u0275directiveInject(Iu),e.\u0275\u0275directiveInject(An.x),e.\u0275\u0275directiveInject(Pt.vZ),e.\u0275\u0275directiveInject(_e.o),e.\u0275\u0275directiveInject(It.pi),e.\u0275\u0275directiveInject(Tn.F0),e.\u0275\u0275directiveInject(ne.yh),e.\u0275\u0275directiveInject($o),e.\u0275\u0275directiveInject(oc,8))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["cell-templates"]],viewQuery:function(n,i){if(1&n&&(e.\u0275\u0275viewQuery(uh,5),e.\u0275\u0275viewQuery(ph,5),e.\u0275\u0275viewQuery(dh,5),e.\u0275\u0275viewQuery(fh,5),e.\u0275\u0275viewQuery(mh,5),e.\u0275\u0275viewQuery(hh,5),e.\u0275\u0275viewQuery(gh,5),e.\u0275\u0275viewQuery(vh,5),e.\u0275\u0275viewQuery(_h,5),e.\u0275\u0275viewQuery(Ch,5),e.\u0275\u0275viewQuery(yh,5),e.\u0275\u0275viewQuery(bh,5),e.\u0275\u0275viewQuery(Ih,5),e.\u0275\u0275viewQuery(Sh,5),e.\u0275\u0275viewQuery(Th,5),e.\u0275\u0275viewQuery(xh,5),e.\u0275\u0275viewQuery(wh,5),e.\u0275\u0275viewQuery(Mh,5),e.\u0275\u0275viewQuery(Ph,5),e.\u0275\u0275viewQuery(kh,5)),2&n){var o=void 0;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.iconCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.nameCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.gitStatusCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.typeCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.sensitivityCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.ownerCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.scoreCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.lastRefreshCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.nextRefreshCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.endorsementCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.lastAccessCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.lastActivityCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.hiddenTime=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.relationCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.locationCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.sharedTimeCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.descriptionCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.organizationCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.sharedByCell=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.domainsWorkspacePathCell=o.first)}},inputs:{focusedRowId$:"focusedRowId$",hoveredRowId$:"hoveredRowId$",showCapacityIcon:"showCapacityIcon",callingContext:"callingContext",isTridentUI$:"isTridentUI$"},outputs:{initialized:"initialized",onNavigation:"onNavigation",onFavoriteToggle:"onFavoriteToggle",onQuickAction:"onQuickAction",onMenuAction:"onMenuAction",onContextMenuAction:"onContextMenuAction",onContextMenuOpen:"onContextMenuOpen"},decls:42,vars:0,consts:[["iconCell",""],["nameCell",""],["gitStatusCell",""],["typeCell",""],["sensitivityCell",""],["ownerCell",""],["scoreCell",""],["sharedByCell",""],["lastRefreshCell",""],["nextRefreshCell",""],["endorsementCell",""],["noneEndorsementTemplate",""],["lastAccessCell",""],["lastActivityCell",""],["hiddenTime",""],["relationCell",""],["locationCell",""],["sharedTimeCell",""],["descriptionCell",""],["organizationCell",""],["domainsWorkspacePathCell",""],["class","col col-icon-child-indicator","data-testid","fluentListCell.icon.childIndicator",4,"ngIf"],["data-testid","fluentListCell.icon",1,"col","col-icon"],[4,"ngIf","ngIfElse"],["artifactIcon",""],["data-testid","fluentListCell.icon.childIndicator",1,"col","col-icon-child-indicator"],["tri-svg-icon-48","",3,"sprite","name"],["tri-svg-icon-24","","name","restricted_report_24_item","sprite","artifact-colored-icons","triTooltipPosition","before",1,"tri-icon","restricted-report",3,"triTooltip"],[4,"ngIf"],["class","tri-artifact-icon-container-24",4,"ngIf"],[3,"ngSwitch",4,"ngIf","ngIfElse"],["datamartIcon",""],[3,"ngSwitch"],[3,"src","pbiTooltip",4,"ngSwitchCase"],["class","glyph-small","pbiTooltipPosition","before","aria-hidden","false",3,"pbiTooltip","fontIcon","ngStyle",4,"ngSwitchCase"],[3,"src","pbiTooltip"],["pbiTooltipPosition","before","aria-hidden","false",1,"glyph-small",3,"pbiTooltip","fontIcon","ngStyle"],[1,"datamartIcon"],["pbiTooltipPosition","before","aria-hidden","false",3,"name","pbiTooltip"],[1,"tri-artifact-icon-container-24"],[1,"tri-icon",3,"artifactType","size","preset","pbiTooltip"],["ng-non-bindable","","data-testid","fluentListCell.name",1,"col","col-name",3,"ngClass","ngStyle"],["class","eyelash","fontIcon","pbi-glyph-glimmer",4,"ngIf"],["class","glimmer","tri-svg-icon-16","","name","new_16_regular","sprite","fluentui-icons",4,"ngIf"],["class","tri-svg-icon","role","img","pbiTooltipPosition","before",3,"sprite","name","aria-label","pbiTooltip",4,"ngIf"],[1,"name-container"],[3,"ngSwitch",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],["class","dlp-icon",3,"hasDlpPolicyTip","restrictions",4,"ngIf"],[3,"viewModel","status",4,"ngIf"],["class","favorite-star","cdkMonitorSubtreeFocus","","actionSource","FluentList",3,"ngClass","item","type","tridentStyle","onFavoriteToggle",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],["fontIcon","pbi-glyph-glimmer",1,"eyelash"],["tri-svg-icon-16","","name","new_16_regular","sprite","fluentui-icons",1,"glimmer"],["role","img","pbiTooltipPosition","before",1,"tri-svg-icon",3,"sprite","name","aria-label","pbiTooltip"],["dataflowGen2Icons",""],["cdkMonitorElementFocus","","rel","noopener noreferrer",1,"pointer_cursor","name","dataflow-gen2-name","trimmedTextWithEllipsis",3,"target","pbiTooltip","mouseup"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkMonitorElementFocus","","data-testid","item-name","rel","noopener noreferrer","queryParamsHandling","merge",1,"name","dataflow-gen2-name","trimmedTextWithEllipsis",3,"href","target","pbiTooltip"],["cdkMonitorElementFocus","",1,"name","dataflow-gen2-name","trimmedTextWithEllipsis",3,"pbiTooltip"],["class","gift-open-warning-icon","tri-svg-icon-16","",3,"triTooltip","name","sprite",4,"ngIf"],["class","glyphicon pbi-glyph-diamond",3,"pbiTooltip",4,"ngIf"],["class","glyphicon pbi-glyph-diamonduser",3,"pbiTooltip",4,"ngIf"],["class","glyphicon pbi-glyph-warning glyph-warning-color",3,"pbiTooltip",4,"ngIf"],[1,"dataflow-gen2-icon",3,"viewModel"],["tri-svg-icon-16","",1,"gift-open-warning-icon",3,"triTooltip","name","sprite"],[1,"glyphicon","pbi-glyph-diamond",3,"pbiTooltip"],[1,"glyphicon","pbi-glyph-diamonduser",3,"pbiTooltip"],[1,"glyphicon","pbi-glyph-warning","glyph-warning-color",3,"pbiTooltip"],["data-testid","item-name","cdkMonitorElementFocus","","class","name trimmedTextWithEllipsis","rel","noopener noreferrer","queryParamsHandling","merge",3,"ngStyle","pbiTooltip","mouseup",4,"ngSwitchCase"],["icons",""],["data-testid","item-name","cdkMonitorElementFocus","","rel","noopener noreferrer","queryParamsHandling","merge",1,"name","trimmedTextWithEllipsis",3,"ngStyle","pbiTooltip","mouseup"],["data-testid","item-name","cdkMonitorElementFocus","","class","name trimmedTextWithEllipsis","rel","noopener noreferrer","queryParamsHandling","merge",3,"href","target","pbiTooltip",4,"ngSwitchCase"],["cdkMonitorElementFocus","","class","name trimmedTextWithEllipsis",3,"pbiTooltip",4,"ngSwitchCase"],["data-testid","item-name","cdkMonitorElementFocus","","rel","noopener noreferrer","queryParamsHandling","merge",1,"name","trimmedTextWithEllipsis",3,"href","target","pbiTooltip"],["cdkMonitorElementFocus","",1,"name","trimmedTextWithEllipsis",3,"pbiTooltip"],["class","cdk-visually-hidden",4,"ngIf"],["class","glyphicon pbi-glyph-warning glyph-warning-color","data-testid","glyph-warning-color",3,"pbiTooltip",4,"ngIf"],[1,"cdk-visually-hidden"],["data-testid","glyph-warning-color",1,"glyphicon","pbi-glyph-warning","glyph-warning-color",3,"pbiTooltip"],[1,"glyphicon","pbi-glyph-navigate-external-inline","glyph-small",3,"pbiTooltip"],["cdkMonitorElementFocus","","tabindex","0","rel","noopener noreferrer","queryParamsHandling","merge",1,"name","trimmedTextWithEllipsis","pointer_cursor",3,"ngStyle","routerLink","state","target","pbiTooltip","keydown.enter","click"],["data-testid","item-name","cdkMonitorElementFocus","","class","name trimmedTextWithEllipsis","tabindex","0","rel","noopener noreferrer","queryParamsHandling","merge",3,"ngStyle","routerLink","state","target","pbiTooltip","click",4,"ngSwitchCase"],["data-testid","item-name","cdkMonitorElementFocus","","tabindex","0","rel","noopener noreferrer","queryParamsHandling","merge",1,"name","trimmedTextWithEllipsis",3,"ngStyle","routerLink","state","target","pbiTooltip","click"],["data-testid","item-name","cdkMonitorElementFocus","","class","name trimmedTextWithEllipsis","tabindex","0","rel","noopener noreferrer","queryParamsHandling","merge",3,"href","target","pbiTooltip","click",4,"ngSwitchCase"],["cdkMonitorElementFocus","","class","name trimmedTextWithEllipsis","tabindex","0",3,"pbiTooltip",4,"ngSwitchCase"],["data-testid","item-name","cdkMonitorElementFocus","","tabindex","0","rel","noopener noreferrer","queryParamsHandling","merge",1,"name","trimmedTextWithEllipsis",3,"href","target","pbiTooltip","click"],["cdkMonitorElementFocus","","tabindex","0",1,"name","trimmedTextWithEllipsis",3,"pbiTooltip"],[3,"tags"],[1,"dlp-icon",3,"hasDlpPolicyTip","restrictions"],[3,"viewModel","status"],["cdkMonitorElementFocus","","class","quick-action-button",3,"disabled","title","ngClass","click",4,"ngFor","ngForOf"],["cdkMonitorElementFocus","",1,"quick-action-button",3,"disabled","title","ngClass","click"],["actionIcon",""],["triActionIcon",""],[1,"glyph-small",3,"fontIcon"],[3,"sprite","name"],["cdkMonitorSubtreeFocus","","actionSource","FluentList",1,"favorite-star",3,"ngClass","item","type","tridentStyle","onFavoriteToggle"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu","class","context-menu","data-testid","dashboard-options-menu-btn",3,"currentMenuItemId","ariaLabel","availableActions","callingContext","dashboard","currentMenuItemIdChange","onMenuOpenedEvent","executionRun",4,"ngSwitchCase"],["triMenuIcon","more_horizontal_16_regular","class","context-menu","data-testid","report-options-menu-btn",3,"currentMenuItemId","availableActions","ariaLabel","callingContext","report","currentMenuItemIdChange","onMenuOpenedEvent","executionRun",4,"ngSwitchCase"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu","class","context-menu","data-testid","dataset-options-menu-btn",3,"currentMenuItemId","ariaLabel","datasetItem","container","containerByAction","actionSource","currentMenuItemIdChange","onMenuOpenedEvent","datasetActionClicked",4,"ngSwitchCase"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu","class","context-menu",3,"currentMenuItemId","availableActions","ariaLabel","app","callingContext","currentMenuItemIdChange","onMenuOpenedEvent","executionRun",4,"ngSwitchCase"],["triMenuIcon","more_horizontal_16_regular","class","context-menu",3,"currentMenuItemId","availableActions","ariaLabel","report","callingContext","currentMenuItemIdChange","onMenuOpenedEvent","executionRun",4,"ngSwitchCase"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu","class","context-menu",3,"currentMenuItemId","ariaLabel","availableActions","callingContext","workspace","currentMenuItemIdChange","onMenuOpenedEvent","executionRun",4,"ngSwitchCase"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu","class","context-menu",3,"currentMenuItemId","ariaLabel","cdsaModel","currentMenuItemIdChange","onMenuOpenedEvent",4,"ngSwitchCase"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu","class","context-menu",3,"currentMenuItemId","ariaLabel","availableActions","scorecard","currentMenuItemIdChange","onMenuOpenedEvent",4,"ngSwitchCase"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu","class","context-menu",3,"currentMenuItemId","ariaLabel","datamart","container","containerByAction","actionSource","currentMenuItemIdChange","onMenuOpenedEvent","datamartActionClicked",4,"ngSwitchCase"],["menuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu","data-testid","options-menu","class","context-menu",3,"currentMenuItemId","ariaLabel","subfolder","container","containerByAction","currentMenuItemIdChange","onMenuOpenedEvent","subfolderActionClicked",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu","data-testid","dashboard-options-menu-btn",1,"context-menu",3,"currentMenuItemId","ariaLabel","availableActions","callingContext","dashboard","currentMenuItemIdChange","onMenuOpenedEvent","executionRun"],["triMenuIcon","more_horizontal_16_regular","data-testid","report-options-menu-btn",1,"context-menu",3,"currentMenuItemId","availableActions","ariaLabel","callingContext","report","currentMenuItemIdChange","onMenuOpenedEvent","executionRun"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu","data-testid","dataset-options-menu-btn",1,"context-menu",3,"currentMenuItemId","ariaLabel","datasetItem","container","containerByAction","actionSource","currentMenuItemIdChange","onMenuOpenedEvent","datasetActionClicked"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu","class","context-menu","data-testid","workbook-options-menu-btn",3,"availableActions","currentMenuItemId","ariaLabel","callingContext","workbook","currentMenuItemIdChange","onMenuOpenedEvent","executionRun",4,"ngIf"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu","data-testid","workbook-options-menu-btn",1,"context-menu",3,"availableActions","currentMenuItemId","ariaLabel","callingContext","workbook","currentMenuItemIdChange","onMenuOpenedEvent","executionRun"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu",1,"context-menu",3,"currentMenuItemId","availableActions","ariaLabel","app","callingContext","currentMenuItemIdChange","onMenuOpenedEvent","executionRun"],["triMenuIcon","more_horizontal_16_regular",1,"context-menu",3,"currentMenuItemId","availableActions","ariaLabel","report","callingContext","currentMenuItemIdChange","onMenuOpenedEvent","executionRun"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu",1,"context-menu",3,"currentMenuItemId","ariaLabel","availableActions","callingContext","workspace","currentMenuItemIdChange","onMenuOpenedEvent","executionRun"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu",1,"context-menu",3,"currentMenuItemId","ariaLabel","cdsaModel","currentMenuItemIdChange","onMenuOpenedEvent"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu",1,"context-menu",3,"currentMenuItemId","ariaLabel","availableActions","scorecard","currentMenuItemIdChange","onMenuOpenedEvent"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu",1,"context-menu",3,"currentMenuItemId","ariaLabel","datamart","container","containerByAction","actionSource","currentMenuItemIdChange","onMenuOpenedEvent","datamartActionClicked"],["menuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu","data-testid","options-menu",1,"context-menu",3,"currentMenuItemId","ariaLabel","subfolder","container","containerByAction","currentMenuItemIdChange","onMenuOpenedEvent","subfolderActionClicked"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu","data-testid","options-menu","class","context-menu",3,"currentMenuItemId","ariaLabel","availableActions","callingContext","artifact","currentMenuItemIdChange","onMenuOpenedEvent","executionRun",4,"ngIf"],["triMenuIcon","more_horizontal_16_regular","localizeTooltip","Options_Menu","data-testid","options-menu",1,"context-menu",3,"currentMenuItemId","ariaLabel","availableActions","callingContext","artifact","currentMenuItemIdChange","onMenuOpenedEvent","executionRun"],["cdkMonitorElementFocus","","data-testid","fluentListCell.gitStatus",1,"col","col-gitStatus",3,"ngStyle"],["sameChanges",""],["sprite","git-icons","name","synced",4,"ngSwitchCase"],["sprite","git-icons","name","update",4,"ngSwitchCase"],["sprite","git-icons","name","uncommitted",4,"ngSwitchCase"],["sprite","git-icons","name","conflict",4,"ngSwitchCase"],["sprite","git-icons","name","unsupported",4,"ngSwitchCase"],["sprite","status-color-icons","name","inprogress_20_filled",4,"ngSwitchCase"],["sprite","git-icons","name","synced"],["sprite","git-icons","name","update"],["sprite","git-icons","name","uncommitted"],["sprite","git-icons","name","conflict"],["sprite","git-icons","name","unsupported"],["sprite","status-color-icons","name","inprogress_20_filled"],["sprite","git-icons","name","same_changes"],[3,"triTooltip","triTooltipMaxWidth"],["cdkMonitorElementFocus","","data-testid","fluentListCell.type",1,"col","col-type",3,"ngStyle"],[1,"trimmedTextWithEllipsis"],["cdkMonitorElementFocus","","class","col col-sensitivity","data-testid","fluentListCell.sensitivity",3,"ngStyle",4,"ngIf"],["cdkMonitorElementFocus","","data-testid","fluentListCell.sensitivity",1,"col","col-sensitivity",3,"ngStyle"],[3,"label"],["cdkMonitorElementFocus","","data-testid","fluentListCell.owner",1,"col","col-owner",3,"ngStyle"],["cdkMonitorElementFocus","","data-testid","fluentListCell.score",1,"col","col-score",3,"ngStyle"],["cdkMonitorElementFocus","","data-testid","fluentListCell.sharedby",1,"col","col-shared-by",3,"ngStyle"],["cdkMonitorElementFocus","","data-testid","fluentListCell.lastRefresh",1,"col","col-last-refresh",3,"ngStyle"],["class","col-status-icons",3,"viewModel",4,"ngSwitchCase"],[1,"col-status-icons",3,"viewModel"],["cdkMonitorElementFocus","","data-testid","fluentListCell.nextRefresh",1,"col","col-next-refresh",3,"ngStyle"],["class","col-status-icons",3,"isNextRefresh","viewModel",4,"ngSwitchCase"],[1,"col-status-icons",3,"isNextRefresh","viewModel"],["cdkMonitorElementFocus","","data-testid","fluentListCell.endorsement",1,"col","col-endorsement",3,"ngStyle"],[3,"stage",4,"ngIf","ngIfElse"],[3,"stage"],[3,"title"],["cdkMonitorElementFocus","","data-testid","fluentListCell.lastAccess",1,"col","col-last-access",3,"ngStyle"],["cdkMonitorElementFocus","","data-testid","fluentListCell.lastActivity",1,"col","col-last-activity",3,"ngStyle"],["cdkMonitorElementFocus","","data-testid","fluentListCell.hiddenTime",1,"col","col-last-access",3,"ngStyle"],["cdkMonitorElementFocus","","data-testid","fluentListCell.relation",1,"col","col-relation",3,"ngStyle"],["cdkMonitorElementFocus","","class","col col-location-navigable","data-testid","fluentListCell.locationNavigable",3,"ngStyle","click",4,"ngSwitchCase"],["cdkMonitorElementFocus","","class","col col-location","data-testid","fluentListCell.location",3,"ngStyle",4,"ngSwitchCase"],["cdkMonitorElementFocus","","data-testid","fluentListCell.locationNavigable",1,"col","col-location-navigable",3,"ngStyle","click"],["cdkMonitorElementFocus","","data-testid","fluentListCell.location",1,"col","col-location",3,"ngStyle"],["cdkMonitorElementFocus","","data-testid","fluentListCell.sharedTime",1,"col","col-shared-time",3,"ngStyle"],["cdkMonitorElementFocus","","data-testid","fluentListCell.description",1,"col","col-description",3,"pbiTooltip","ngStyle"],["cdkMonitorElementFocus","","data-testid","fluentListCell.organization",1,"col","col-organization",3,"ngStyle"],["data-testid","fluentListCell.domainsWorkspacePath",1,"col",3,"ngStyle"],[3,"workspaceName","dataDomainArtifactInfo","appearance",4,"ngIf"],[3,"workspaceName","dataDomainArtifactInfo","appearance"]],template:function(n,i){1&n&&(e.\u0275\u0275template(0,Wh,6,5,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(2,yv,19,27,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(4,kv,5,8,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(6,Ov,3,7,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(8,Fv,2,3,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(10,Ev,2,6,"ng-template",null,5,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(12,Av,2,6,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(14,Rv,2,6,"ng-template",null,7,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(16,zv,9,13,"ng-template",null,8,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(18,Gv,8,12,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(20,Qv,2,7,"ng-template",null,10,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(22,qv,3,3,"ng-template",null,11,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(24,Zv,2,7,"ng-template",null,12,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(26,Xv,2,7,"ng-template",null,13,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(28,Jv,2,6,"ng-template",null,14,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(30,Yv,2,6,"ng-template",null,15,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(32,n_,3,3,"ng-template",null,16,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(34,r_,2,7,"ng-template",null,17,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(36,i_,2,6,"ng-template",null,18,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(38,o_,2,6,"ng-template",null,19,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(40,c_,4,6,"ng-template",null,20,e.\u0275\u0275templateRefExtractor))},dependencies:[hi,u.NgClass,u.NgForOf,u.NgIf,u.NgTemplateOutlet,u.NgStyle,u.NgSwitch,u.NgSwitchCase,u.NgSwitchDefault,ip.r,ge.Hw,Be.r,gp,Pp,Td,Rd,tf,hf,wf,Bf,qf,fm,Tm,Rm,re.kH,fe.m,Lm.$,Tn.rH,Se.V,$m,Qm,qm.s,Zm.h,na.a,Et.M,wr.Z,Xm.u,lh,ch.B,u.AsyncPipe,Ke.F,Qe.j],styles:['fluent-list-table-base[_ngcontent-%COMP%]{display:flex;flex:1 1 auto}[_nghost-%COMP%]{background-color:var(--fluent-theme-white-color, #FFF);display:flex;flex-direction:column}[_nghost-%COMP%]     .mat-icon:before{vertical-align:middle}[tabindex][_ngcontent-%COMP%]{outline:none}.col[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.col.col-checkbox[_ngcontent-%COMP%]{flex:0 0 56px;padding:0 8px}.col.col-icon[_ngcontent-%COMP%]{width:48px;flex:0 0 auto;align-self:center}.col.col-icon-child-indicator[_ngcontent-%COMP%]{width:48px;padding:0!important}.col.col-type[_ngcontent-%COMP%], .col.col-gitStatus[_ngcontent-%COMP%], .col.col-owner[_ngcontent-%COMP%], .col.col-shared-by[_ngcontent-%COMP%], .col.col-relation[_ngcontent-%COMP%], .col.col-last-refresh[_ngcontent-%COMP%], .col.col-next-refresh[_ngcontent-%COMP%], .col.col-endorsement[_ngcontent-%COMP%], .col.col-last-access[_ngcontent-%COMP%], .col.col-last-activity[_ngcontent-%COMP%], .col.col-organization[_ngcontent-%COMP%], .col.col-shared-time[_ngcontent-%COMP%]{min-width:94px;max-width:200px}.col.col-sensitivity[_ngcontent-%COMP%], .col.col-shared-by[_ngcontent-%COMP%], .col.col-location[_ngcontent-%COMP%], .col.col-location-navigable[_ngcontent-%COMP%]{min-width:154px;max-width:200px}.col.col-location-navigable[_ngcontent-%COMP%]{cursor:pointer}.col.col-location-navigable[_ngcontent-%COMP%]:hover{text-decoration:underline}.col.col-name[_ngcontent-%COMP%], .col.col-gitStatus[_ngcontent-%COMP%], .col.col-type[_ngcontent-%COMP%], .col.col-owner[_ngcontent-%COMP%], .col.col-shared-by[_ngcontent-%COMP%], .col.col-relation[_ngcontent-%COMP%], .col.col-organization[_ngcontent-%COMP%], .col.col-last-refresh[_ngcontent-%COMP%], .col.col-next-refresh[_ngcontent-%COMP%], .col.col-endorsement[_ngcontent-%COMP%], .col.col-sensitivity[_ngcontent-%COMP%], .col.col-shared-time[_ngcontent-%COMP%]{flex:0 0 auto}.col.col-name[_ngcontent-%COMP%]{min-width:154px}.col.col-name[_ngcontent-%COMP%]   .name-container[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;gap:8px;overflow:hidden}.col.col-name[_ngcontent-%COMP%]   .pointer_cursor[_ngcontent-%COMP%]{cursor:pointer}.col.col-last-refresh[_ngcontent-%COMP%], .col.col-next-refresh[_ngcontent-%COMP%]{display:flex;overflow:visible;text-overflow:clip;white-space:normal}.col.col-last-refresh   [_nghost-%COMP%]     dataset-icon-container-modern .warning, .col.col-next-refresh   [_nghost-%COMP%]     dataset-icon-container-modern .warning{color:var(--fluent-theme-error-dark-alt-color, #D83B01)}.col.col-last-refresh   [_nghost-%COMP%]     dataflow-icon-container button.pbi-glyph-warning, .col.col-next-refresh   [_nghost-%COMP%]     dataflow-icon-container button.pbi-glyph-warning, .col.col-last-refresh   [_nghost-%COMP%]     datamart-icon-container button.pbi-glyph-warning, .col.col-next-refresh   [_nghost-%COMP%]     datamart-icon-container button.pbi-glyph-warning{background:none;border:none}.col.col-last-refresh[_ngcontent-%COMP%]   .col-status-icons[_ngcontent-%COMP%], .col.col-next-refresh[_ngcontent-%COMP%]   .col-status-icons[_ngcontent-%COMP%]{flex:1 0 auto;margin-left:8px}.col.col-sensitivity[_ngcontent-%COMP%]     .labelName.emptyLabel:before{content:" \\2014  "}.col.col-location[_ngcontent-%COMP%]:empty:before{content:" \\2014  "}.col.col-endorsement[_ngcontent-%COMP%]     .endorsementBadge.none:before{content:" \\2014  "}a[_ngcontent-%COMP%]{color:var(--colorNeutralForeground1)}.col[_ngcontent-%COMP%]{padding:0 8px}.col.col-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;color:var(--fluent-theme-white-color, #FFF);border-radius:2px;box-shadow:0 .3px .9px rgba(0,0,0,.11),0 1.6px 3.6px rgba(0,0,0,.13);align-items:center;justify-content:center}.col.col-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px}.col.col-icon[_ngcontent-%COMP%]   pbi-office-icon[_ngcontent-%COMP%]{height:16px;width:16px;fill:#fff;margin-top:8px;margin-left:8px}.col.col-icon[_ngcontent-%COMP%]   .datamartIcon[_ngcontent-%COMP%]{border-radius:2px;box-shadow:0 .3px .9px rgba(0,0,0,.11),0 1.6px 3.6px rgba(0,0,0,.13);width:32px;height:32px;background-color:#484644}.col.col-icon[_ngcontent-%COMP%]   .tri-artifact-icon-container-24[_ngcontent-%COMP%]{height:24px}.col.col-icon[_ngcontent-%COMP%]   .tri-artifact-icon-container-24[_ngcontent-%COMP%]   tri-artifact-icon[_ngcontent-%COMP%]{margin:0 4px}.col.cdk-keyboard-focused[_ngcontent-%COMP%], .col.cdk-program-focused[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.col.col-shared-by[_ngcontent-%COMP%], .col.col-type[_ngcontent-%COMP%], .col.col-gitStatus[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.col.col-shared-by[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .col.col-type[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .col.col-gitStatus[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:20px}.col.col-shared-by[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%], .col.col-type[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%], .col.col-gitStatus[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{width:16px;height:16px}.col.col-type[_ngcontent-%COMP%], .col.col-owner[_ngcontent-%COMP%], .col.col-last-refresh[_ngcontent-%COMP%], .col.col-next-refresh[_ngcontent-%COMP%], .col.col-endorsement[_ngcontent-%COMP%], .col.col-sensitivity[_ngcontent-%COMP%], .col.col-last-access[_ngcontent-%COMP%], .col.col-last-activity[_ngcontent-%COMP%], .col.col-organization[_ngcontent-%COMP%], .col.col-relation[_ngcontent-%COMP%], .col.col-location[_ngcontent-%COMP%], .col.col-shared-time[_ngcontent-%COMP%]{color:var(--colorNeutralForeground2)}.col.col-name[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;max-width:100%;padding-left:16px!important}.col.col-name[_ngcontent-%COMP%]   .eyelash[_ngcontent-%COMP%]{position:absolute;font-size:8px;width:8px;height:8px;color:var(--fluent-theme-pbi-shade30, #7A6816);left:0;right:0;top:12px}html[dir="rtl"][_nghost-%COMP%]   .col.col-name[_ngcontent-%COMP%]   .eyelash[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .col.col-name[_ngcontent-%COMP%]   .eyelash[_ngcontent-%COMP%]{transform:scaleX(-1)}.col.col-name[_ngcontent-%COMP%]   .eyelash[_ngcontent-%COMP%]:before{vertical-align:top}.col.col-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.col.col-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .col.col-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{text-decoration:underline;color:inherit}.col.col-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{outline:none}.col.col-name[_ngcontent-%COMP%]   a.cdk-keyboard-focused[_ngcontent-%COMP%], .col.col-name[_ngcontent-%COMP%]   a.cdk-program-focused[_ngcontent-%COMP%], .col.col-name[_ngcontent-%COMP%]   span.cdk-keyboard-focused[_ngcontent-%COMP%], .col.col-name[_ngcontent-%COMP%]   span.cdk-program-focused[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.col.col-name[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.col.col-name[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .pbi-glyph-warning[_ngcontent-%COMP%]{padding-left:6px;font-size:14px;color:var(--fluent-theme-error-dark-alt-color, #D83B01)}.col.col-name[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .pbi-glyph-diamond[_ngcontent-%COMP%], .col.col-name[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .pbi-glyph-diamonduser[_ngcontent-%COMP%]{padding-left:6px;font-size:14px}.col.col-name[_ngcontent-%COMP%]   .dlp-icon[_ngcontent-%COMP%]{margin-left:4px;margin-right:9px;flex-shrink:0}.col.col-name[_ngcontent-%COMP%]   .quick-action-button[_ngcontent-%COMP%], .col.col-name[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]{background:none;border:none;padding:0;height:44px;width:36px;fill:currentColor}.col.col-name[_ngcontent-%COMP%]   .quick-action-button[_ngcontent-%COMP%]:hover, .col.col-name[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.col.col-name[_ngcontent-%COMP%]   .quick-action-button[_ngcontent-%COMP%]:hover   tri-svg-icon[_ngcontent-%COMP%], .col.col-name[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]:hover   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground2BrandHover)}.col.col-name[_ngcontent-%COMP%]   .quick-action-button.active[_ngcontent-%COMP%], .col.col-name[_ngcontent-%COMP%]   .favorite-star.active[_ngcontent-%COMP%], .col.col-name[_ngcontent-%COMP%]   .quick-action-button.active[_ngcontent-%COMP%]:hover, .col.col-name[_ngcontent-%COMP%]   .favorite-star.active[_ngcontent-%COMP%]:hover, .col.col-name[_ngcontent-%COMP%]   .quick-action-button.cdk-keyboard-focused[_ngcontent-%COMP%], .col.col-name[_ngcontent-%COMP%]   .favorite-star.cdk-keyboard-focused[_ngcontent-%COMP%], .col.col-name[_ngcontent-%COMP%]   .quick-action-button.cdk-keyboard-focused[_ngcontent-%COMP%]:hover, .col.col-name[_ngcontent-%COMP%]   .favorite-star.cdk-keyboard-focused[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}.col.col-name[_ngcontent-%COMP%]   .quick-action-button[_ngcontent-%COMP%]:focus, .col.col-name[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]:focus{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}.col.col-name[_ngcontent-%COMP%]   .quick-action-button[_ngcontent-%COMP%]:focus:hover, .col.col-name[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]:focus:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}.col.col-name[_ngcontent-%COMP%]   .quick-action-button[_ngcontent-%COMP%]:active, .col.col-name[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]:active, .col.col-name[_ngcontent-%COMP%]   .quick-action-button[_ngcontent-%COMP%]:active:hover, .col.col-name[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]:active:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}.col.col-name[_ngcontent-%COMP%]   .context-menu[_ngcontent-%COMP%]     .menuTrigger{height:44px}.col.col-name[_ngcontent-%COMP%]   .quick-action-button.cdk-keyboard-focused[_ngcontent-%COMP%], .col.col-name[_ngcontent-%COMP%]   .quick-action-button.cdk-program-focused[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.col.col-name[_ngcontent-%COMP%]   .context-menu[_ngcontent-%COMP%], .col.col-name[_ngcontent-%COMP%]   .quick-action-button[_ngcontent-%COMP%]{flex:0 0 auto;display:none}.col.col-name[_ngcontent-%COMP%]   .context-menu[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .col.col-name[_ngcontent-%COMP%]   .quick-action-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.col.col-name[_ngcontent-%COMP%]   .quick-action-button.alwaysShow[_ngcontent-%COMP%]{display:block}.col.col-name[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]{display:none;justify-content:center}.col.col-name[_ngcontent-%COMP%]   .favorite-star.isFavorited[_ngcontent-%COMP%]{display:flex;flex:0 0 auto}.col.col-name[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]     button{width:100%}.col.col-name[_ngcontent-%COMP%]   .favorite-star.cdk-keyboard-focused[_ngcontent-%COMP%]     mat-icon:before, .col.col-name[_ngcontent-%COMP%]   .favorite-star.cdk-program-focused[_ngcontent-%COMP%]     mat-icon:before{outline:none}.col.col-name[_ngcontent-%COMP%]   .favorite-star.cdk-keyboard-focused[_ngcontent-%COMP%]     button, .col.col-name[_ngcontent-%COMP%]   .favorite-star.cdk-program-focused[_ngcontent-%COMP%]     button{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.col.col-name[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]:hover     button>tri-svg-icon{fill:var(--colorNeutralForeground2BrandHover)}.col.col-name[_ngcontent-%COMP%]   .dataflow-gen2-name[_ngcontent-%COMP%]{flex-grow:0}.col.col-name[_ngcontent-%COMP%]   dataflow-gen2-icon-container[_ngcontent-%COMP%]{flex-grow:1;margin-left:4px}.col[_ngcontent-%COMP%]   .quick-action-button[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{margin:0 auto}.col.col-name[_ngcontent-%COMP%]:not(.focused)   .context-menu[_ngcontent-%COMP%], .col.col-name[_ngcontent-%COMP%]:not(.focused)   .quick-action-button[_ngcontent-%COMP%], .col.col-name[_ngcontent-%COMP%]:not(.focused)   .favorite-star[_ngcontent-%COMP%]{display:block;width:0;overflow:hidden}.focused.col.col-name[_ngcontent-%COMP%]   .context-menu[_ngcontent-%COMP%], .focused.col.col-name[_ngcontent-%COMP%]   .quick-action-button[_ngcontent-%COMP%]{display:block}.focused.col.col-name[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]{display:flex;flex:0 0 auto}.tri-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground2)}.tri-icon.restricted-report[_ngcontent-%COMP%]{margin:0 4px}.tri-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground3);margin-right:6px;width:18px;min-width:18px;height:19px}.glimmer[_ngcontent-%COMP%]{position:absolute;left:2px;top:4px;fill:var(--colorBrandForeground1)}.gift-open-warning-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground4, #707070)}'],changeDetection:0}),t}(),d_=function(){function t(r){this.localizationService=r}return Object.defineProperty(t.prototype,"text",{get:function(){var n=this.dataSource.filteredData.length;return this.localizationService.format(this.dataSource.filter&&"[]"!==this.dataSource.filter?n>1?"ShowingXFilteredItems":"ShowingSingleFilteredItem":n>1?"ShowingXItems":"ShowingSingleItem",n)},enumerable:!1,configurable:!0}),t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(_e.o))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["fluent-list-aria-announcer"]],inputs:{dataSource:"dataSource"},decls:2,vars:1,consts:[["aria-hidden","false","aria-live","polite","role","status"]],template:function(n,i){1&n&&(e.\u0275\u0275elementStart(0,"span",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(i.text))},styles:[".screen-reader-only[_ngcontent-%COMP%], [_nghost-%COMP%]{position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}"]}),t}(),Ci=function(){function t(){this._appliedFilters=new Map,this._appliedFilters$=new k.X(this._appliedFilters),this.appliedFilters$=this._appliedFilters$.asObservable(),this._availableFilters$=new k.X(new Map),this.availableFilters$=this._availableFilters$.asObservable()}return t.prototype.addFilter=function(r){if(!this._appliedFilters.get(r.sectionName)){var i=this._availableFilters$.value.get(r.sectionName);this._appliedFilters.set(r.sectionName,(0,c.__assign)((0,c.__assign)({},i),{filters:new Set}))}this._appliedFilters.get(r.sectionName).filters.add(r),this._appliedFilters$.next(this._appliedFilters),this.updateAvailableFilters(!0,r)},t.prototype.removeFilter=function(r){var i=this._appliedFilters.get(r.sectionName).filters;i.delete(r),0===i.size&&this._appliedFilters.delete(r.sectionName),this._appliedFilters$.next(this._appliedFilters),this.updateAvailableFilters(!1,r)},t.prototype.updateAvailableFilters=function(r,n){var i,o=this._availableFilters$.value;(0,St.mv)(null===(i=o.get(n.sectionName))||void 0===i?void 0:i.filters.has(n),"FiltersManagementService: invalid filter"),n.checked=r,this._availableFilters$.next(o)},t.prototype.clearAllFilters=function(){this._appliedFilters=new Map,this._appliedFilters$.next(this._appliedFilters);var r=this._availableFilters$.value;r.forEach(function(n,i){n.disabled||n.filters.forEach(function(o){o.disabled||(o.checked=!1)})}),this._availableFilters$.next(r)},t.prototype.setUpAppliedFilters=function(r){var n=this;this.clearAllFilters(),r.forEach(function(i,o){var a=new Set;n._appliedFilters.set(o,(0,c.__assign)((0,c.__assign)({},i),{filters:a})),i.filters.forEach(function(s){i.disabled&&(s.disabled=i.disabled),s.checked&&a.add(s)}),0===a.size&&n._appliedFilters.delete(o)}),this._appliedFilters$.next(this._appliedFilters),this._availableFilters$.next(r)},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac=function(n){return new(n||t)}}),t}(),ia=function(r,n){return{section:r,state:n}};function f_(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementContainer(1,13),e.\u0275\u0275elementContainerEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext(2),o=e.\u0275\u0275reference(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction2(2,ia,n,i.filterSectionState.get(n.key)))}}function m_(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,f_,2,5,"ng-container",12),e.\u0275\u0275elementContainerEnd()),2&t){var n=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.value.hidden)}}var h_=function(){return{"aria-label":"Close"}},g_=function(){return{"aria-label":"Filter_ClearAll"}};function v_(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",3)(1,"section"),e.\u0275\u0275element(2,"h2",4),e.\u0275\u0275elementStart(3,"button",5),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.closeFilterPane())}),e.\u0275\u0275element(4,"mat-icon",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"section",7)(6,"button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.clearAllFilters())}),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275element(8,"mat-icon",9)(9,"span",10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(10,m_,2,1,"ng-container",11),e.\u0275\u0275pipe(11,"keyvalue"),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext();e.\u0275\u0275property("cdkTrapFocusAutoCapture",!0),e.\u0275\u0275advance(3),e.\u0275\u0275property("localizeAttr",e.\u0275\u0275pureFunction0(12,h_)),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",i.disableClearAll||!e.\u0275\u0275pipeBind1(7,5,i.hasFilterApplied$))("localizeAttr",e.\u0275\u0275pureFunction0(13,g_)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind2(11,7,e.\u0275\u0275pipeBind1(12,10,i.availableFilters$),i.sectionOrder))}}function __(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"section",14)(1,"span",15),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainer(4,13),e.\u0275\u0275elementEnd()),2&t){var n=r.section,i=r.state;e.\u0275\u0275nextContext();var o=e.\u0275\u0275reference(5);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,n.key)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction2(5,ia,n,i))}}function C_(t,r){1&t&&e.\u0275\u0275elementContainer(0)}var y_=function(r,n){return{$implicit:r,displayName:n}};function b_(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"mat-list-option",20),e.\u0275\u0275template(1,C_,1,0,"ng-container",21),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=e.\u0275\u0275nextContext().section;e.\u0275\u0275property("value",n)("disableRipple",!0)("selected",n.checked)("disabled",n.disabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",i.value.filterTemplate)("ngTemplateOutletContext",e.\u0275\u0275pureFunction2(6,y_,n.filterTemplateArguments,n.displayName))}}function I_(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",22),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext().state,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.toggleExpander(a))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext().state;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",i.expanded?"See Less":e.\u0275\u0275pipeBind1(2,1,"NavigationPane_SeeAllLabel")," ")}}var S_=function(r){return{"aria-label":r}};function T_(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-selection-list",16),e.\u0275\u0275listener("selectionChange",function(p){e.\u0275\u0275restoreView(n);var m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.onCheckBoxChange(p))}),e.\u0275\u0275elementStart(1,"virtual-scroll",17),e.\u0275\u0275template(2,b_,2,9,"mat-list-option",18),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(3,I_,3,3,"button",19)}if(2&t){var i=r.section,o=r.state,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("localizeAttr",e.\u0275\u0275pureFunction1(9,S_,i.key)),e.\u0275\u0275advance(1),e.\u0275\u0275styleMap(a.getStyle(i.value,o)),e.\u0275\u0275property("childHeight",32)("bufferAmount",2)("parentScroll",a.eleRef.nativeElement)("items",a.sortFilterOptions(i,i.value.filters)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",a.sortFilterOptions(i,i.value.filters)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.value.useExpander)}}var x_=function(t){function r(n,i,o,a){var s=t.call(this)||this;return s.filtersManagementService=n,s.fluentListFilterPaneService=i,s.cdf=o,s.eleRef=a,s.disableClearAll=!1,s.filterSectionState=new Map,s.availableFilters$=s.filtersManagementService.availableFilters$.pipe((0,P.U)(function(p){return p.forEach(function(m,S){s.filterSectionState.has(S)||s.filterSectionState.set(S,{expanded:!1})}),p})),s.hasFilterApplied$=s.filtersManagementService.appliedFilters$.pipe((0,P.U)(function(p){return p&&p.size>0})),s}return(0,c.__extends)(r,t),r.prototype.ngOnInit=function(){var n=this;this.filtersConfig$.pipe((0,Ft.h)(function(i){return!!i}),(0,D.R)(this.onDestroy$)).subscribe(function(i){return n.filtersManagementService.setUpAppliedFilters(i)}),this.filterPaneOpened$=this.fluentListFilterPaneService.getFilterPaneOpened()},r.prototype.closeFilterPane=function(){this.fluentListFilterPaneService.closeFilterPane()},r.prototype.clearAllFilters=function(){this.filtersManagementService.clearAllFilters()},r.prototype.sectionOrder=function(n,i){return n.value.order-i.value.order},r.prototype.sortFilterOptions=function(n,i){return n.orderBy?_.sortBy(i,[function(o){return n.orderBy(o)}]):i},r.prototype.onCheckBoxChange=function(n){n.options[0].selected?this.filtersManagementService.addFilter(n.options[0].value):this.filtersManagementService.removeFilter(n.options[0].value)},r.prototype.toggleExpander=function(n){n.expanded=!n.expanded,this.cdf.markForCheck()},r.prototype.getStyle=function(n,i){return n.useExpander?i.expanded?{overflow:"auto"}:{maxHeight:n.maxHeight,overflow:"hidden"}:{}},r.\u0275fac=function(i){return new(i||r)(e.\u0275\u0275directiveInject(Ci),e.\u0275\u0275directiveInject(ue),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(e.ElementRef))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["fluent-list-filter-pane"]],inputs:{filtersConfig$:"filtersConfig$",disableClearAll:"disableClearAll"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:3,consts:[["class","wrapper","cdkTrapFocus","",3,"cdkTrapFocusAutoCapture",4,"ngIf"],["sectionList",""],["filterSectionWithVirtualScroll",""],["cdkTrapFocus","",1,"wrapper",3,"cdkTrapFocusAutoCapture"],["localize","Filters","localizeTooltip","Filters",1,"title"],["cdkMonitorElementFocus","","cdkFocusInitial","","localizeTooltip","Close",1,"closebtn",3,"localizeAttr","click"],["fontIcon","pbi-glyph-close",1,"glyph-small"],[1,"command"],["cdkMonitorElementFocus","","localizeTooltip","Filter_ClearAll",1,"clearbtn",3,"disabled","localizeAttr","click"],["fontIcon","pbi-glyph-clear-filter",1,"glyph-small"],["localize","Filter_ClearAll"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"filterSection"],[1,"section","sectionTitle"],[3,"localizeAttr","selectionChange"],[3,"childHeight","bufferAmount","parentScroll","items"],["cdkMonitorElementFocus","","class","filter","checkboxPosition","before",3,"value","disableRipple","selected","disabled",4,"ngFor","ngForOf"],["class","fluentTheme-sm-reg expander",3,"click",4,"ngIf"],["cdkMonitorElementFocus","","checkboxPosition","before",1,"filter",3,"value","disableRipple","selected","disabled"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"fluentTheme-sm-reg","expander",3,"click"]],template:function(i,o){1&i&&(e.\u0275\u0275template(0,v_,13,14,"div",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,__,5,8,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(4,T_,4,11,"ng-template",null,2,e.\u0275\u0275templateRefExtractor)),2&i&&e.\u0275\u0275property("ngIf",!!e.\u0275\u0275pipeBind1(1,1,o.filterPaneOpened$))},dependencies:[u.NgForOf,u.NgIf,u.NgTemplateOutlet,ge.Hw,En.Sl,We.X,Oe.b,Be.r,re.mK,re.kH,C.kh,C.O$,u.AsyncPipe,u.KeyValuePipe,Ke.F],styles:['.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-selection-list[_ngcontent-%COMP%]{padding-top:0}virtual-scroll[_ngcontent-%COMP%]     .scrollable-content{position:unset}mat-list-option.filter[_ngcontent-%COMP%]{height:32px;outline:unset}mat-list-option.filter[_ngcontent-%COMP%]:hover, mat-list-option.filter[_ngcontent-%COMP%]:focus{background-color:var(--fluent-theme-white-color, #FFF)}mat-list-option.filter.cdk-keyboard-focused[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}mat-list-option.filter[_ngcontent-%COMP%]     .mat-list-text{flex-direction:row;min-width:0;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);line-height:20px;color:var(--fluent-theme-neutral-primary-color, #323130)}html:not([dir="rtl"])[_nghost-%COMP%]   mat-list-option.filter[_ngcontent-%COMP%]     .mat-list-text, html:not([dir="rtl"])   [_nghost-%COMP%]   mat-list-option.filter[_ngcontent-%COMP%]     .mat-list-text{padding-left:8px}html[dir="rtl"][_nghost-%COMP%]   mat-list-option.filter[_ngcontent-%COMP%]     .mat-list-text, html[dir="rtl"]   [_nghost-%COMP%]   mat-list-option.filter[_ngcontent-%COMP%]     .mat-list-text{padding-right:8px}mat-list-option.filter[_ngcontent-%COMP%]     .mat-pseudo-checkbox{border-width:1px;width:20px;height:20px}mat-list-option.filter[_ngcontent-%COMP%]     .mat-pseudo-checkbox-checked{background-color:var(--fluent-theme-primary-color, #F2C811)}.expander[_ngcontent-%COMP%], .expander[_ngcontent-%COMP%]:hover{color:var(--fluent-theme-dark-alt-color, #DAB50F);border:none;background-color:transparent}section[_ngcontent-%COMP%]{display:flex}section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--xlg-font-size, 20px);font-weight:var(--font-weight-semi-bold, 600);color:var(--fluent-theme-neutral-primary-color, #323130);line-height:27px;margin:0;display:flex;flex:1 1 auto}html:not([dir="rtl"])[_nghost-%COMP%]   section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:16px 20px 11px 16px}html[dir="rtl"][_nghost-%COMP%]   section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:16px 16px 11px 20px}section[_ngcontent-%COMP%]   .closebtn[_ngcontent-%COMP%]{padding:12px;background-color:var(--fluent-theme-white-color, #FFF);border:none;flex:0 0 auto;display:flex}section[_ngcontent-%COMP%]   .closebtn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-secondary-color, #605E5C);padding:8px}section[_ngcontent-%COMP%]   .closebtn.cdk-keyboard-focused[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-primary-color, #323130);background-color:var(--fluent-theme-white-color, #FFF);border:none;padding:0;align-items:center;display:flex}html:not([dir="rtl"])[_nghost-%COMP%]   section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]{padding-left:8px}html[dir="rtl"][_nghost-%COMP%]   section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]{padding-right:8px}section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-mobile-color, #212121);padding:14px 8px;display:inline-flex}section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);line-height:19px}html:not([dir="rtl"])[_nghost-%COMP%]   section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:12px 8px 12px 0}html[dir="rtl"][_nghost-%COMP%]   section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:12px 0 12px 8px}section[_ngcontent-%COMP%]   .clearbtn.cdk-keyboard-focused[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]:disabled, section[_ngcontent-%COMP%]   .clearbtn[_ngcontent-%COMP%]:disabled   mat-icon[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-tertia-color, #A19F9D)}section.command[_ngcontent-%COMP%]{border-bottom:1px solid var(--fluent-theme-neutral-light-color, #EDEBE9);margin-bottom:5px}.section[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600);line-height:20px}html:not([dir="rtl"])[_nghost-%COMP%]   .section[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .section[_ngcontent-%COMP%]{padding:16px 16px 8px}html[dir="rtl"][_nghost-%COMP%]   .section[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .section[_ngcontent-%COMP%]{padding:16px 16px 8px}.filterSection[_ngcontent-%COMP%], .sectionTitle[_ngcontent-%COMP%]{display:block}.mat-icon[_ngcontent-%COMP%]{overflow:visible}.mat-icon.glyph-small[_ngcontent-%COMP%]{font-size:var(--lg-font-size, 16px);width:var(--lg-font-size, 16px);height:var(--lg-font-size, 16px)}.mat-icon.glyph-mini[_ngcontent-%COMP%]{font-size:var(--sm-font-size, 12px);width:var(--sm-font-size, 12px);height:var(--sm-font-size, 12px)}.mat-icon.mat-ligature-font[fontIcon][_ngcontent-%COMP%]{overflow:auto}'],changeDetection:0}),r}(Cr.w);function w_(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",6),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.openFilterPane())}),e.\u0275\u0275pipe(1,"localizeFormat"),e.\u0275\u0275pipe(2,"localizeFormat"),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"span",7)(5,"span",8),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"span",9),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"button",10),e.\u0275\u0275listener("click",function(){var p=e.\u0275\u0275restoreView(n).$implicit,m=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(m.deleteFilter(p))}),e.\u0275\u0275pipe(11,"localizeFormat"),e.\u0275\u0275pipe(12,"localizeFormat"),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd()()}if(2&t){var i=r.$implicit,o=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(1,4,"AppliedFilter",e.\u0275\u0275pipeBind3(2,7,"NamePattern_Colon",e.\u0275\u0275pipeBind1(3,11,o.key),i.displayName))),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,13,o.key)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.displayName),e.\u0275\u0275advance(1),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(11,15,"RemoveFilter",e.\u0275\u0275pipeBind3(12,18,"NamePattern_Colon",e.\u0275\u0275pipeBind1(13,22,o.key),i.displayName)))}}function M_(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,w_,14,24,"div",5),e.\u0275\u0275elementContainerEnd()),2&t){var n=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.value.filters)}}function P_(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275template(2,M_,2,1,"ng-container",2),e.\u0275\u0275pipe(3,"keyvalue"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementStart(5,"button",3),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.clearAll())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"button",4),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.openFilterPane())}),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&t){var i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(3,2,e.\u0275\u0275pipeBind1(4,4,i.availableFiltersForTags$))),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,6,i.numberofFiltersApplied$))}}var k_=function(){function t(r,n){this.filterManagementService=r,this.fluentListFilterPaneService=n,this.availableFiltersForTags$=this.filterManagementService.appliedFilters$.pipe((0,P.U)(function(i){var o=new Map;return i.forEach(function(a,s){if(!a.disabled&&!a.hidden){var p=new Set;o.set(s,{filters:p,order:a.order,filterTemplate:a.filterTemplate}),a.filters.forEach(function(m){m.disabled||p.add(m)}),0===p.size&&o.delete(s)}}),o})),this.numberofFiltersApplied$=this.availableFiltersForTags$.pipe((0,P.U)(function(i){var o=0;return i.forEach(function(a,s){return o+=a.filters.size}),o})),this.showFilterTags$=this.availableFiltersForTags$.pipe((0,P.U)(function(i){return i.size>0}))}return t.prototype.openFilterPane=function(){this.fluentListFilterPaneService.openFilterPane()},t.prototype.deleteFilter=function(r){this.filterManagementService.removeFilter(r)},t.prototype.clearAll=function(){this.filterManagementService.clearAllFilters()},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(Ci),e.\u0275\u0275directiveInject(ue))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["fluent-list-filter-tags"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"fluentListFilterTags"],[4,"ngFor","ngForOf"],["cdkMonitorElementFocus","","tabindex","0","localize","Clear_All","localizeTooltip","Filter_ClearAll",1,"clearAll",3,"click"],[1,"allFilters",3,"click"],["role","button","class","fluentListFilterTag","tabindex","0",3,"click",4,"ngFor","ngForOf"],["role","button","tabindex","0",1,"fluentListFilterTag",3,"click"],["localize","NamePattern_Colon","localize-fragments","",1,"tagContent"],["fragment-index","0",1,"filterContent"],["fragment-index","1",1,"filterContent"],["cdkMonitorElementFocus","","tabindex","0",1,"closeBtn","glyphicon","pbi-glyph-close",3,"click"]],template:function(n,i){1&n&&(e.\u0275\u0275template(0,P_,9,8,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,i.showFilterTags$))},dependencies:[u.NgForOf,u.NgIf,We.X,Be.r,re.kH,u.AsyncPipe,u.KeyValuePipe,Ke.F,Qe.j],styles:['.fluentListFilterTags[_ngcontent-%COMP%]{padding-top:16px;background-color:var(--fluent-theme-white-color, #FFF)}html:not([dir="rtl"])[_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]{padding-left:8px}html[dir="rtl"][_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]{padding-right:8px}.fluentListFilterTags.isEmpty[_ngcontent-%COMP%]{display:none}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]{cursor:pointer;display:inline-flex;border-radius:2px;background-color:var(--fluent-theme-neutral-lighter-color, #F3F2F1);line-height:16px;height:28px;color:var(--fluent-theme-neutral-primary-color, #323130);align-items:center;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);margin-bottom:8px}html:not([dir="rtl"])[_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]{margin-left:8px}html[dir="rtl"][_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]{margin-right:8px}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .tagContent[_ngcontent-%COMP%]{display:flex;white-space:pre-wrap;padding-top:5px;padding-bottom:7px}html:not([dir="rtl"])[_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .tagContent[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .tagContent[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}html[dir="rtl"][_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .tagContent[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .tagContent[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .tagContent[_ngcontent-%COMP%]   .filterContent[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-semi-bold, 600);text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:30em}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .tagContent[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-lighter-secondary-color, #E5E5E5)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .tagContent[_ngcontent-%COMP%]:hover + .closeBtn[_ngcontent-%COMP%]{background-color:var(--fluent-theme-neutral-lighter-secondary-color, #E5E5E5)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .closeBtn[_ngcontent-%COMP%]{height:28px;width:28px;background:transparent;border:none;padding:0;font-size:12px;transition:none}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]   .closeBtn.cdk-keyboard-focused[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]:hover   .closeBtn[_ngcontent-%COMP%]{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]:focus{background-color:var(--fluent-theme-primary-color, #F2C811)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]:focus   .tagContent[_ngcontent-%COMP%]{background-color:var(--fluent-theme-primary-color, #F2C811)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]:focus   .tagContent[_ngcontent-%COMP%]:hover + .closeBtn[_ngcontent-%COMP%]{background-color:var(--fluent-theme-primary-color, #F2C811)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]:focus   .closeBtn[_ngcontent-%COMP%]{background-color:var(--fluent-theme-primary-color, #F2C811)}.fluentListFilterTags[_ngcontent-%COMP%]   .fluentListFilterTag[_ngcontent-%COMP%]:focus   .closeBtn[_ngcontent-%COMP%]:hover{background-color:var(--fluent-theme-dark-alt-color, #DAB50F)}html:not([dir="rtl"])[_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .clearAll[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .clearAll[_ngcontent-%COMP%]{padding-left:8px}html[dir="rtl"][_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .clearAll[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .fluentListFilterTags[_ngcontent-%COMP%]   .clearAll[_ngcontent-%COMP%]{padding-right:8px}.fluentListFilterTags[_ngcontent-%COMP%]   .clearAll.cdk-keyboard-focused[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.allFilters[_ngcontent-%COMP%], .clearAll[_ngcontent-%COMP%]{background:none;border:none;color:var(--fluent-theme-link-color, #0078D4);font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400)}.allFilters[_ngcontent-%COMP%]{background-color:var(--fluent-theme-white-color, #FFF);padding-top:22px;width:100%;align-items:flex-start}html:not([dir="rtl"])[_nghost-%COMP%]   .allFilters[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .allFilters[_ngcontent-%COMP%]{padding-left:16px}html[dir="rtl"][_nghost-%COMP%]   .allFilters[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .allFilters[_ngcontent-%COMP%]{padding-right:16px}@media only screen and (min-width: 320px){.allFilters[_ngcontent-%COMP%]{display:flex}.fluentListFilterTags[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 640px){.allFilters[_ngcontent-%COMP%]{display:none}.fluentListFilterTags[_ngcontent-%COMP%]{display:block}}']}),t}();function O_(t,r){1&t&&e.\u0275\u0275element(0,"mat-icon",4)}function D_(t,r){1&t&&e.\u0275\u0275element(0,"mat-icon",5)}var F_=function(r){return{active:r}},E_=function(){function t(r){this.fluentListFilterPaneService=r}return t.prototype.ngOnInit=function(){this.isFilterPaneOpened$=this.fluentListFilterPaneService.getFilterPaneOpened(),this.isFilterButtonEnabled$=this.fluentListFilterPaneService.getFilterButtonEnabled()},t.prototype.toggleFilterPane=function(){this.fluentListFilterPaneService.toggleFilterPane()},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(ue))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["fluent-list-filter"]],inputs:{hasFilterApplied$:"hasFilterApplied$"},decls:9,vars:19,consts:[["mat-button","","id","fluent-list-filter-button","cdkMonitorElementFocus","","localizeTooltip","Filters",1,"pbi-fluent-button","fluentTheme-md-reg",3,"ngClass","ngSwitch","disabled","click"],["class","glyph-small","fontIcon","pbi-glyph-filterfilled",4,"ngSwitchCase"],["class","glyph-small","fontIcon","pbi-glyph-filter",4,"ngSwitchCase"],["localize","Filters"],["fontIcon","pbi-glyph-filterfilled",1,"glyph-small"],["fontIcon","pbi-glyph-filter",1,"glyph-small"]],template:function(n,i){1&n&&(e.\u0275\u0275elementStart(0,"button",0),e.\u0275\u0275listener("click",function(){return i.toggleFilterPane()}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275template(6,O_,1,0,"mat-icon",1),e.\u0275\u0275template(7,D_,1,0,"mat-icon",2),e.\u0275\u0275element(8,"span",3),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(17,F_,e.\u0275\u0275pipeBind1(2,9,i.isFilterPaneOpened$)))("ngSwitch",!!e.\u0275\u0275pipeBind1(4,13,i.hasFilterApplied$))("disabled",!e.\u0275\u0275pipeBind1(5,15,i.isFilterButtonEnabled$)),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(1,7,"Filters"))("aria-expanded",e.\u0275\u0275pipeBind1(3,11,i.isFilterPaneOpened$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngSwitchCase",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",!1))},dependencies:[u.NgClass,u.NgSwitch,u.NgSwitchCase,ge.Hw,We.X,Be.r,re.kH,u.AsyncPipe,Ke.F],styles:['[_nghost-%COMP%]{box-sizing:border-box}button[_ngcontent-%COMP%]{height:36px;padding:0 8px;display:inline-flex;border:1px solid transparent;box-sizing:content-box}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus:hover{background-color:var(--fluent-theme-neutral-lighter-color, #F3F2F1)}button.cdk-keyboard-focused[_ngcontent-%COMP%], button.cdk-program-focused[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}button[_ngcontent-%COMP%]:active, button.active[_ngcontent-%COMP%], button.active[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]:active:focus:hover, button.active[_ngcontent-%COMP%]:focus:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:36px;display:inline-block;vertical-align:top}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);padding:0 8px}button[_ngcontent-%COMP%]     .mat-button-focus-overlay{display:none}'],changeDetection:0}),t}();function A_(t,r){1&t&&e.\u0275\u0275elementContainer(0)}var R_=function(r){return{$implicit:r}};function L_(t,r){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,A_,1,0,"ng-container",3),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&t){var n=r.$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",e.\u0275\u0275pipeBind1(2,2,i.cardTemplate$))("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(4,R_,n))}}var j_=function(){function t(){}return t.prototype.ngOnInit=function(){this.items$=this.dataSource.connect()},t.prototype.onResize=function(){var r;null===(r=this.virtualScroll)||void 0===r||r.refresh()},t.prototype.onUpdate=function(r){var n;this.viewPortItems=r,null===(n=this.virtualScroll)||void 0===n||n.refresh()},t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["fluent-list-gallery"]],viewQuery:function(n,i){var o;(1&n&&e.\u0275\u0275viewQuery(En.Sl,5),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.virtualScroll=o.first))},hostBindings:function(n,i){1&n&&e.\u0275\u0275listener("resize",function(a){return i.onResize(a)},!1,e.\u0275\u0275resolveWindow)},inputs:{dataSource:"dataSource",cardTemplate$:"cardTemplate$",parentScroll:"parentScroll"},decls:4,vars:5,consts:[["id","artifactContentView","virtualScroll","",1,"fluent-list-gallery",3,"items","parentScroll","update"],["scroll",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0,1),e.\u0275\u0275listener("update",function(s){return i.onUpdate(s)}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,L_,3,6,"ng-container",2),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(1);e.\u0275\u0275property("items",e.\u0275\u0275pipeBind1(2,3,i.items$))("parentScroll",i.parentScroll?i.parentScroll:o.window),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",i.viewPortItems)}},dependencies:[u.NgForOf,u.NgTemplateOutlet,En.Sl,u.AsyncPipe],styles:["[_nghost-%COMP%]{display:flex;flex:1}.fluent-list-gallery[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--fluent-theme-white-color, #FFF)}.fluent-list-gallery[_ngcontent-%COMP%]     .scrollable-content{display:grid;grid-template-rows:repeat(auto-fit,288px);grid-template-columns:repeat(auto-fit,285px);grid-gap:16px}"],changeDetection:0}),t}(),B_=["filter"],W_=function(t){function r(n){var i=t.call(this)||this;return i.filtersManagementService=n,i.ariaControls="artifactContentView",i}return(0,c.__extends)(r,t),r.prototype.ngOnInit=function(){var n=this;this.value$=this.filtersManagementService.appliedFilters$.pipe((0,P.U)(function(i){var o,a,s,p=i.get("Search");return p?(xe.fF.assert(function(){var m;return(null===(m=p.filters)||void 0===m?void 0:m.size)<=1},"search filters should never be more than one"),null!==(s=null===(a=null===(o=p.filters)||void 0===o?void 0:o.values().next())||void 0===a?void 0:a.value.value)&&void 0!==s?s:""):""})),this.onChanges$.subscribe(function(i){i.searchPlaceholder&&(n.searchPlaceholder=i.searchPlaceholder.currentValue),i.searchTooltip&&(n.searchTooltip=i.searchTooltip.currentValue)}),(0,bo.R)(this.filter.nativeElement,"keyup").pipe((0,D.R)(this.onDestroy$),(0,fn.n)(function(){return!n.filterOption}),(0,dn.b)(150),(0,V.x)(),(0,P.U)(function(i){return i.keyCode})).subscribe(function(i){i===yo.hY?(n.filter.nativeElement.value="",n.filtersManagementService.removeFilter(n.filterOption)):(n.filterOption.value=n.filter.nativeElement.value,n.filtersManagementService.addFilter(n.filterOption))})},r.\u0275fac=function(i){return new(i||r)(e.\u0275\u0275directiveInject(Ci))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["fluent-list-search"]],viewQuery:function(i,o){var a;(1&i&&e.\u0275\u0275viewQuery(B_,7),2&i)&&(e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.filter=a.first))},inputs:{searchPlaceholder:"searchPlaceholder",searchTooltip:"searchTooltip",filterOption:"filterOption",ariaControls:"ariaControls"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:8,consts:[[1,"glyphicon","glyph-small","pbi-glyph-search"],["floatLabel","never"],["matInput","","data-unique-id","fluentListSearchBar","data-testid","fluent-list-search-bar",3,"placeholder","localizeTooltip","value"],["filter",""]],template:function(i,o){1&i&&(e.\u0275\u0275element(0,"span",0),e.\u0275\u0275elementStart(1,"mat-form-field",1),e.\u0275\u0275element(2,"input",2,3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(4,4,o.searchPlaceholder)),e.\u0275\u0275propertyInterpolate("localizeTooltip",o.searchTooltip),e.\u0275\u0275property("value",e.\u0275\u0275pipeBind1(5,6,o.value$)),e.\u0275\u0275attribute("aria-controls",o.ariaControls))},dependencies:[Be.r,ri.v_,ii.k0,u.AsyncPipe,Ke.F],styles:["[_nghost-%COMP%]   .pbi-glyph-search[_ngcontent-%COMP%]{cursor:default}[_nghost-%COMP%]     mat-form-field{width:355px;margin-left:5px}[_nghost-%COMP%]     mat-form-field.mat-focused .mat-input-element, [_nghost-%COMP%]     mat-form-field.mat-focused .mat-form-field-label{color:var(--gray-180, #252423)!important}[_nghost-%COMP%]     mat-form-field .mat-input-element, [_nghost-%COMP%]     mat-form-field .mat-form-field-label{color:var(--gray-140, #484644)!important}[_nghost-%COMP%]     .mat-form-field-label span{line-height:20px}[_nghost-%COMP%]     .mat-form-field-ripple{background-color:transparent;background:transparent!important}[_nghost-%COMP%]     .mat-input-element{caret-color:var(--black-color, #000)!important;line-height:21px}"]}),r}(Cr.w),oa=function(){function t(){}return t.prototype.transform=function(r,n){var i,o,a,s,p;if(!_.isEmpty(r)){var m=r,S=void 0;return Fn(r.type)?S=null===(i=m?.contract)||void 0===i?void 0:i.description:3===r.type&&(S=null===(a=null===(o=m?.contract)||void 0===o?void 0:o.artifactEndorsement)||void 0===a?void 0:a.description),{itemName:r.displayName,itemType:r.triType||r.type,itemObjectId:null!==(p=null===(s=m?.contract)||void 0===s?void 0:s.objectId)&&void 0!==p?p:r.objectId||r.dbName,itemId:Fn(r.type)?void 0:r?.id,itemDescription:S,hasDlpPolicyTip:r.hasDlpPolicyTip,restrictions:r.restrictions,hostedEnvironmentTelemetryHint:n,underlyingArtifactId:2===r.type||10===r.type?r?.modelId:void 0}}},t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=e.\u0275\u0275definePipe({name:"fluentListItemHoverCardArgs",type:t,pure:!0}),t}(),yi=l(34071),gt=l(43286);function aa(t,r,n,i){var o=(0,ta.T$)(t)&&t.lastAccessedTime?new Date(t.lastAccessedTime):void 0,a=t.workspaceId,s=t.workspaceName,p=t.isShared,m=t.artifactEndorsement,S=t.artifactInformationProtection;return{contract:t,type:t.artifactType,triType:t.artifactType,typeName:$_(t.artifactType,r,n,i),displayName:t.displayName||"",uniqueId:Jt(t.artifactType,t.objectId),isExpanded:!1,routePath:V_(t.artifactType,a,t.objectId,n,i),folderObjectId:a,objectId:t.objectId,location:!p||a&&a!==yi.fm?s:r.get("NavigationPane_SharedWithMe"),lastAccess:o,lastAccessTime:o?(0,F.WQ)(o,r):void 0,owner:z_(t),favoriteId:U_(t),quickActions:null,endorsement:{stage:m?.stage},artifactInformationProtection:S,getPermissions:function(){return t.permissions},canBeSelected:H_(t),disableFavoriteStar:!1}}function z_(t){var r;return"string"==typeof(null===(r=t.ownerUser)||void 0===r?void 0:r.name)?t.ownerUser.name:"string"==typeof t.ownerInfo?t.ownerInfo:""}function U_(t){return"number"==typeof t.favoriteId?t.favoriteId:void 0}function $_(t,r,n,i){return n&&i?n.getArtifactTypeDisplayName(i)||"":r.get((0,an.Ky)(t))||""}function V_(t,r,n,i,o){return i&&o?i.getArtifactRoutePath(o,r,n):(0,an.rW)(r,t,n)}function H_(t){return!!(0,gt.yE)(t.permissions,3)&&(0,an.n6)(t.artifactType,t)}var G_=function(){function t(){}return t.prototype.buildFluentListItemFromTridentArtifact=function(r,n){return aa(r,n)},t.prototype.buildFluentListItemFromTridentArtifactV2=function(r,n,i){return i.getArtifactManifest(r.artifactType).then(function(o){return aa(r,n,i,o)})},t.prototype.legacyPbiArtifactTransform=function(r){return r},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac=function(n){return new(n||t)}}),t}(),sa=new e.InjectionToken("ITridentFluentListItemService"),K_=new e.InjectionToken("ITridentFluentListItemService"),Q_={provide:sa,useFactory:function(){return(0,e.inject)(K_,{optional:!0})||new G_}},Kt=l(11894),q_=l(67659),Z_=new e.InjectionToken("AppActionMenuConfiguration"),Pr=(new e.InjectionToken("AppActionBarThemeConfiguration"),function(t){return t.OrgApp="OrgApp",t.Report="Report",t.NotTab="NotTab",t}({})),la=new e.InjectionToken("TeamsTabType"),bi=l(64067),wn=l(69615);function Ii(t){var r=Bt.b$.getDateFromWcfJsonString(t,!0);return r||(r=(0,wn.Kk)(t)),xe.fF.assertValue(r,"could not parse dateTime"),r}function ca(t){return t&&5===t.category}function ua(t,r){var n=Ii(t);return n&&n.toLocaleDateString(r.currentLanguageLocale,{month:"short",day:"numeric",year:"numeric"})}function da(t){if(t)return(0,bi.jd)((0,bi.WV)(t),.8,.2)}var eC=l(18231),rC=function(){return function(r){this.openSidepanePayload=r,this.type="[SidePane] Open Sidepane"}}(),iC=function(){return function(r){this.payload=r,this.type="[SidePane] Close Sidepane"}}(),sn=l(26112),oC=function(){function t(r){this.localizationService=r}return t.prototype.convertContentPackBase=function(r){if(r){var n,i,o,a,s=(0,sn.K)(r.providerConfig),m=s&&s.appSettings&&s.appSettings.allowCopyContent,S=r.category;return 2===S||5===S||4===S||7===S?a=s:o=s,s&&(o?(n=o.shortDescription||o.description,i=o.author):a&&(n=a.description,i=a.author)),{providerContract:r,providerConfig:o,organizationalProviderConfig:a,providerId:r.providerId,displayText:r.displayText,iconUrl:r.iconUrl||"",description:n,publishTime:Ii(r.publishTime),providerKey:r.providerKey,author:i,category:r.category,allowCopyContent:!!m,dashboardIds:r.dashboardIds||[],reportIds:r.reportIds||[],modelIds:r.modelIds||[],workbookIds:r.workbookIds||[]}}},t.prototype.convertAppModelBase=function(r){var n=(0,sn.K)(r.providerConfig);if(n&&n.appSettings){var i=n.appSettings;return{icon:i.iconName,iconColor:i.iconColor,iconBackgroundColor:i.iconBackgroundColor,headerBackgroundColor:i.headerBackgroundColor||da(i.iconBackgroundColor),defaultContent:i.defaultAppArtifact,defaultContentOption:i.defaultAppArtifact?1:0,appPush:!!i.appPush,canExploreDataset:i.exploreDataset??!0}}if(6===r.category||3===r.category)return{iconColor:"#FFF",iconBackgroundColor:"#374649",headerBackgroundColor:da("#374649"),defaultContentOption:0}},t.prototype.convertInstalledAppModel=function(r,n){var i=this.convertContentPackBase(r);if(i){var o=this.convertAppModelBase(r),a=(0,sn.K)(r.providerConfig),s=(0,c.__assign)((0,c.__assign)({objectId:r.providerKey,contentTileType:Xe.ty.OrgApp,packageId:n.id,uniqueId:n.id,displayName:r.displayText,publishTime:Ii(r.publishTime),getPermissions:function(){return 17},dashboards:[],models:[],reports:[],workbooks:[],displayDate:ua(a&&a.creationTime||r.publishTime,this.localizationService),isFavorite:!1,isFavoriteDisabled:!1,favoriteInfo:void 0,groupObjectId:r.groupObjectId},i),o);return ca(r)||(s.displayDate=ua(n.lastRefreshTime,this.localizationService)),s}},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(_e.o))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),aC=l(63227),Ti=l(18873),kt=l(81905),sC=new e.InjectionToken("ServiceAppsOverridesService"),Yn=l(40898),kr=l(8060),xi=l(19178),fa=function(){function t(r){r&&(this.uniqueId=r.objectId,this.displayName=r.displayName,this.capacity=r.capacityObjectId&&{id:r.capacityObjectId,name:r.capacityName,region:r.region},this.contract=r,this.lastViewedDashboard=-1,this.isMyWorkspace=!(!r||!r.isMyWorkspace),this.folderType=r.folderType||r.type)}return t.prototype.getPermissions=function(){},t}(),lC=window,ma=function(t){function r(n){var i=t.call(this,n)||this;return n&&(i.id=n.id,i.description=n.description,i.icon=n.iconUrl&&Bt.b$.urlCombine(lC.clusterUri,n.iconUrl),i.permissions=n.permissions,i.contacts=n.contacts,i.allowContributorUpdateApp=n.allowContributorUpdateApp,i.defaultDatasetStorageMode=n.defaultDatasetStorageMode,i.type=n.type,i.folderType=n.type,i.domainObjectId=n.domainObjectId,i.allowWebModeling=n.allowWebModeling,i.datasourceBindingSecurityMode=n.datasourceBindingSecurityMode),i}return(0,c.__extends)(r,t),Object.defineProperty(r.prototype,"folderContract",{get:function(){return this.contract},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"sharePointStorage",{get:function(){return this.folderContract.sharePointStorage},set:function(i){this.folderContract.sharePointStorage=i},enumerable:!1,configurable:!0}),r}(fa),cC=function(){return function(r){var n=this;this.contextMenuItemList=[],r&&r.metadata&&(r.metadata.contextMenuItemList.forEach(function(i){n.contextMenuItemList.push(i)}),this.contextMenuSeparatorPosition=r.metadata.contextMenuItemList.length),0===this.contextMenuItemList.length&&(this.contextMenuSeparatorPosition=-1),r&&r.isMyWorkspace?this.contextMenuItemList.push({linkType:9}):(this.contextMenuItemList.push(r.isOwner?{linkType:5}:{linkType:6}),this.contextMenuItemList.push({linkType:7}))}}(),ha=function(t){function r(n){var i=t.call(this,n)||this;return n&&(i.aadGroupId=n.objectId,i.metadata=new cC(n)),i.lastOwnershipFilter=0,i.contentTileType=Xe.ty.Workspace,i}return(0,c.__extends)(r,t),r}(fa);function er(t){return t?(r=t.isFolder?new ma(t):new ha(t),t.workspaceId&&(r.workspaceId=t.workspaceId),r):null;var r}l(47754),l(65966),l(73805),(0,ne.P1)(Yn.mI,function(t){return _.map(t,function(r){return new ma(r)})}),(0,ne.P1)(rt.Fb,function(t){return _.map(t,function(r){return new ha(r)})});var jt=l(81871),va=l(24874),vC=function(){function t(){}return t.prototype.isServiceApp=function(r,n){return this.getServiceAppWorkspacePackageId(r,n).pipe((0,P.U)(function(i){return null!=i}))},t.prototype.isServiceAppPackage=function(r,n){if(r&&null!=r.folderId){var i=r.folderId;return _.some(n,function(o){return _a(o,i)})}return!1},t.prototype.isServiceAppPackagebyPackageId=function(r,n){return n.select(jt.Jh,{id:r}).pipe((0,P.U)(function(i){return!!i&&!!i.serviceAppObjectId}))},t.prototype.getServiceAppWorkspacePackageId=function(r,n){var i=this;return n.select(jt.Jh,{id:r}).pipe((0,va.b)(function(o){return o&&o.folderId?(0,qe.of)(o.folderId):(0,qn._)("package not found")}),(0,va.b)(function(o){return i.getServiceAppWorkspacePackageIdByFolderId(o,n)}),(0,jn.K)(function(){return(0,qe.of)(void 0)}))},t.prototype.getServiceAppWorkspacePackageIdByFolderId=function(r,n){return n.select(jt.it).pipe((0,P.U)(function(i){return _.find(i,function(o){return _a(o,r)})}),(0,P.U)(function(i){return i?.id}))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac=function(n){return new(n||t)},providedIn:"root"}),t}();function _a(t,r){return t.folderId===r&&!!t.serviceAppObjectId}var Ca=function(){function t(r,n,i,o,a,s){this.serviceAppsOverridesService=r,this.serviceAppsUtilsService=n,this.store=i,this.folderService=o,this.navigation=a,this.telemetryService=s}return t.prototype.canEditApp=function(r){return(0,nt.aj)([this.store.select(rt.Fb),this.store.select(Yn.mI)]).pipe((0,P.U)(function(n){var o=n[1];return!!_.find(n[0],function(p){return p.objectId===r?.groupObjectId&&(!p?.isReadOnly||p?.isOwner)})||!!_.find(o,function(p){return p.objectId===r?.groupObjectId&&(0,gt.yE)(p.permissions,p.allowContributorUpdateApp?8:12)})}))},t.prototype.canEditAppPermissions=function(r){return(0,nt.aj)([this.canEditApp(r),this.store.select(Yn.mI)]).pipe((0,P.U)(function(n){if(!n[0])return!1;var a=_.find(n[1],function(s){return s.objectId===r?.groupObjectId});return!!a&&(0,gt.yE)(a.permissions,12)}))},t.prototype.editApp=function(r){var n=this;this.serviceAppsUtilsService.isServiceApp(r.packageId,this.store).pipe((0,mi.P)(),(0,kt.w)(function(i){return i&&n.serviceAppsOverridesService?n.serviceAppsOverridesService.shouldEditApp(r):(0,qe.of)(!0)}),(0,kt.w)(function(i){return i?(0,Gt.D)(n.folderService.ensureFoldersInitialization()).pipe((0,je.q)(1),(0,P.U)(function(){return!0})):(0,qe.of)(!1)}),(0,kt.w)(function(i){return i?n.store.select(rt.cM).pipe((0,je.q)(1),(0,P.U)(function(o){return o[r?.groupObjectId]}),(0,P.U)(function(o){return er(o)})):(0,qn._)("skip switching folder")}),(0,kt.w)(function(i){if(!i||!i.contract||i.contract.isReadOnly&&!i.contract.isOwner)return(0,qn._)("skip switching folder");var o=n.telemetryService.startEvent(kr.BY,{groupObjectId:i.uniqueId});return(0,Gt.D)(n.folderService.switchFolder(i,o)).pipe((0,je.q)(1),(0,P.U)(function(){return r?.groupObjectId}))}),(0,je.q)(1)).subscribe(function(i){n.navigation.navigateToContentList(i)},function(){})},t.prototype.editAppSettings=function(r){var n=this;(0,Gt.D)(this.folderService.ensureFoldersInitialization()).pipe((0,je.q)(1),(0,kt.w)(function(){return n.store.select(rt.cM).pipe((0,je.q)(1),(0,P.U)(function(i){return i[r?.groupObjectId]}),(0,P.U)(function(i){return er(i)}))}),(0,kt.w)(function(i){if(!i||!i.contract||i.contract.isReadOnly&&!i.contract.isOwner)return(0,qn._)("skip switching folder");var o=n.telemetryService.startEvent(kr.BY,{groupObjectId:i.uniqueId});return(0,Gt.D)(n.folderService.switchFolder(i,o))}),(0,je.q)(1)).subscribe(function(){n.navigation.showSettingsSlider("apps")},function(){})},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(sC,8),e.\u0275\u0275inject(vC),e.\u0275\u0275inject(ne.yh),e.\u0275\u0275inject(vi.s),e.\u0275\u0275inject(Ti.W),e.\u0275\u0275inject(U.y0))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),_C=l(86663);function CC(t,r){1&t&&e.\u0275\u0275element(0,"span",4)}var yC=function(){return{title:"AppModel_Edit"}};function bC(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",1),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.editApp())}),e.\u0275\u0275element(1,"pbi-icon",2),e.\u0275\u0275template(2,CC,1,0,"span",3),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext();e.\u0275\u0275property("localizeAttr",e.\u0275\u0275pureFunction0(2,yC)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.showLabel)}}var wi=function(){function t(r,n,i){this.shellCapabilities=r,this.editAppService=n,this.teamsTabTypeToken=i}return t.prototype.ngOnInit=function(){var r=this;this.canEditApp$=(0,Gt.D)(this.shellCapabilities.ensureCapabilitiesInitialized()).pipe((0,Ft.h)(function(){return r.shellCapabilities.getCapabilities().appsSettings.showEditApps}),(0,kt.w)(function(){return r.canEditContent()}))},t.prototype.editApp=function(){this.editContent()},t.prototype.canEditContent=function(){var r=this;return this.editAppService.canEditApp(this.app).pipe((0,P.U)(function(n){return n&&r.teamsTabTypeToken!==Pr.OrgApp}))},t.prototype.editContent=function(){this.editAppService.editApp(this.app)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject($o),e.\u0275\u0275directiveInject(Ca),e.\u0275\u0275directiveInject(la,8))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["edit-app-icon"]],inputs:{app:"app",showLabel:"showLabel"},decls:2,vars:3,consts:[["class","menuItemButton","data-testid","app-consumption-edit-app-btn","use-tooltip-as-aria-label","",3,"localizeAttr","click",4,"ngIf"],["data-testid","app-consumption-edit-app-btn","use-tooltip-as-aria-label","",1,"menuItemButton",3,"localizeAttr","click"],["name","edit","size","small"],["class","countLabel","localize","AppModel_Edit",4,"ngIf"],["localize","AppModel_Edit",1,"countLabel"]],template:function(n,i){1&n&&(e.\u0275\u0275template(0,bC,3,3,"button",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,i.canEditApp$))},dependencies:[u.NgIf,We.X,Oe.b,_C._,u.AsyncPipe],styles:["[_nghost-%COMP%]{display:inline-flex;cursor:pointer;height:100%}[_nghost-%COMP%]   button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before{border:var(--focus-outline-definition, 2.5px solid) transparent}html[data-focus-source=key]   [_nghost-%COMP%]   button[_ngcontent-%COMP%]:focus   [_ngcontent-%COMP%]:before{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.tileMenu   [_nghost-%COMP%]{vertical-align:top}"],changeDetection:0}),t}();function IC(t,r){if(1&t&&e.\u0275\u0275element(0,"favorite-star",6),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("item",n.favoritableApp)("type",3)("showLabel",!1)}}function SC(t,r){if(1&t&&e.\u0275\u0275element(0,"edit-app-icon",7),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("app",n.currentInstalledApp)}}var TC=function(){return{title:"AppHeader_Index_Title","aria-label":"AppHeader_Index_Title"}};function xC(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.navigateToApp())}),e.\u0275\u0275elementEnd()}2&t&&e.\u0275\u0275property("localizeAttr",e.\u0275\u0275pureFunction0(1,TC))}var wC=function(){return{title:"AppInfo","aria-label":"AppInfo"}};function MC(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.openAppInfoPane())}),e.\u0275\u0275elementEnd()}2&t&&e.\u0275\u0275property("localizeAttr",e.\u0275\u0275pureFunction0(1,wC))}function PC(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"section",1),e.\u0275\u0275template(1,IC,1,3,"favorite-star",2),e.\u0275\u0275template(2,SC,1,1,"edit-app-icon",3),e.\u0275\u0275template(3,xC,1,2,"button",4),e.\u0275\u0275template(4,MC,1,2,"button",5),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",n.actionBarStyle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.favoritableApp),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.showEditApp),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.showListButtonForTeamsOrgAppTab),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.showInfoButton)}}var ya=function(){function t(r,n,i,o,a,s){this.config=r,this.appModelConverter=n,this.appStore=i,this.navigation=o,this.store=a,this.teamsTabTypeToken=s,this.showEditApp=!1,this.showListButtonForTeamsOrgAppTab=!1,this.showInfoButton=!1}return t.prototype.ngOnInit=function(){var r=this;this.selectedAppSubscription=this.appStore.selectedApp.subscribe({next:function(i){var o;i?(r.currentInstalledApp=r.appModelConverter.convertInstalledAppModel(i.App,i.packages[0]),r.showEditApp=!r.favoritesOnly,r.showListButtonForTeamsOrgAppTab=r.favoritesOnly&&!r.isAppWithAppNavEnabled(i)&&r.teamsTabTypeToken===Pr.OrgApp&&r.hasAppMoreThanOneContent(i.App)||!r.favoritesOnly&&!r.isAppWithAppNavEnabled(i),r.actionBarStyle=r.teamsTabTypeToken===Pr.OrgApp?{"background-color":null===(o=r.currentInstalledApp)||void 0===o?void 0:o.headerBackgroundColor,color:r.getHeaderFontColor()}:{"background-color":"inherit",color:"inherit"},r.showInfoButton=r.favoritesOnly&&r.teamsTabTypeToken===Pr.OrgApp||!r.favoritesOnly&&r.isAppWithAppNavEnabled(i),r.favoritableApp=i.App):r.currentInstalledApp=void 0}})},t.prototype.ngOnDestroy=function(){this.selectedAppSubscription&&this.selectedAppSubscription.unsubscribe(),this.closeAppInfoPane()},t.prototype.navigateToApp=function(){var r=this.currentInstalledApp,n=ca(r.providerContract)?void 0:r.packageId;this.navigation.navigateToApp(r.providerContract.providerKey,n,!0)},t.prototype.getHeaderFontColor=function(){var r;return function(t){if(!t)return"inherit";var r=(0,bi.WV)(t);return.299*r.R+.587*r.G+.144*r.B>125?"#000":"#FFF"}(null===(r=this.currentInstalledApp)||void 0===r?void 0:r.headerBackgroundColor)},t.prototype.openAppInfoPane=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(r){return this.store.dispatch(new rC({sidePaneType:5})),[2]})})},t.prototype.closeAppInfoPane=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(r){return this.store.dispatch(new iC),[2]})})},Object.defineProperty(t.prototype,"favoritesOnly",{get:function(){return this.config&&"favoritesOnly"===this.config},enumerable:!1,configurable:!0}),t.prototype.hasAppMoreThanOneContent=function(r){var n,i,o;return((null===(n=r.dashboardObjectIds)||void 0===n?void 0:n.length)||0)+((null===(i=r.reportObjectIds)||void 0===i?void 0:i.length)||0)+((null===(o=r.workbookObjectIds)||void 0===o?void 0:o.length)||0)>1},t.prototype.isAppWithAppNavEnabled=function(r){if(!(1&~r.App.settings))return!0;if(!_.isEmpty(r.resourcePackages))for(var n=0,i=r.resourcePackages;n<i.length;n++){var o=i[n];if(!_.isEmpty(o.items))for(var a=0,s=o.items;a<s.length;a++){var p=s[a];if(p.type===eC.Ut.AppNavigation&&p.path)return!0}}return!1},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(Z_,8),e.\u0275\u0275directiveInject(oC),e.\u0275\u0275directiveInject(aC.d),e.\u0275\u0275directiveInject(Ti.W),e.\u0275\u0275directiveInject(ne.yh),e.\u0275\u0275directiveInject(la,8))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-action-menu"]],decls:1,vars:1,consts:[["class","appActionMenuWrapper appThemeable","id","appActionMenu",3,"ngStyle",4,"ngIf"],["id","appActionMenu",1,"appActionMenuWrapper","appThemeable",3,"ngStyle"],["data-testid","app-consumption-favorites-btn","class","noFocusBorder",3,"item","type","showLabel",4,"ngIf"],["class","item","data-testid","app-consumption-edit-btn",3,"app",4,"ngIf"],["class","item menuItemButton pbi-glyph-bulletedlist glyphicon glyph-small","role","link",3,"localizeAttr","click",4,"ngIf"],["class","item menuItemButton pbi-glyph-info glyphicon glyph-small","data-testid","app-consumption-app-info",3,"localizeAttr","click",4,"ngIf"],["data-testid","app-consumption-favorites-btn",1,"noFocusBorder",3,"item","type","showLabel"],["data-testid","app-consumption-edit-btn",1,"item",3,"app"],["role","link",1,"item","menuItemButton","pbi-glyph-bulletedlist","glyphicon","glyph-small",3,"localizeAttr","click"],["data-testid","app-consumption-app-info",1,"item","menuItemButton","pbi-glyph-info","glyphicon","glyph-small",3,"localizeAttr","click"]],template:function(n,i){1&n&&e.\u0275\u0275template(0,PC,5,5,"section",0),2&n&&e.\u0275\u0275property("ngIf",i.currentInstalledApp)},dependencies:[u.NgIf,u.NgStyle,Oe.b,wi,hi],styles:["[_nghost-%COMP%]{flex:none}[_nghost-%COMP%]     favorite-star button{background-color:inherit!important;color:inherit!important}html[data-focus-source=key]   [_nghost-%COMP%]   button[_ngcontent-%COMP%]:focus   [_ngcontent-%COMP%]:before{box-shadow:none!important;border:none!important}[_nghost-%COMP%]   .appActionMenuWrapper[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%}[_nghost-%COMP%]   .appActionMenuWrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none!important;padding:0 1px!important}html[data-focus-source=key]   [_nghost-%COMP%]   .appActionMenuWrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:var(--focus-box-shadow-definition, 0 0 0 4px) var(--focus-box-shadow-white-color, #FFFFFF)!important;border:var(--focus-outline-definition, 2.5px solid) var(--focus-box-shadow-color, #000000)!important}[_nghost-%COMP%]   .appActionMenuWrapper[_ngcontent-%COMP%]   i.glyphicon[_ngcontent-%COMP%]{color:inherit;font-size:16px}[_nghost-%COMP%]   .appActionMenuWrapper[_ngcontent-%COMP%]     button{width:32px;height:40px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .appActionMenuWrapper[_ngcontent-%COMP%]     button:before{border:var(--focus-outline-definition, 2.5px solid) transparent}[_nghost-%COMP%]   .appActionMenuWrapper[_ngcontent-%COMP%]     button mat-icon{padding:0;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]{vertical-align:top}[_nghost-%COMP%]   pbi-icon[_ngcontent-%COMP%]{margin:0 10px;cursor:pointer}[_nghost-%COMP%]   pbi-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0!important}@media print{#appActionMenu[_ngcontent-%COMP%]{display:none!important}}"]}),t}(),ba=l(82156),Mi=l(79061),kC=l(93367),Pi=l(16095),vn=l(17177),OC=[{componentId:"AppActionMenuComponentId",type:ya},{componentId:"EditAppIconComponentId",type:wi}],DC=function(){function t(){}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({providers:[Ca],imports:[u.CommonModule,Mi.v,ge.Ps,kC.U,Pi.Z,ba.N.withManifests(OC),vn.T6]}),t}(),ki=l(56545),FC=function(){function t(){}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[u.CommonModule,Ze.jT,ge.Ps,Jo.t,ki.g,re.rt,Pi.Z,vn.T6]}),t}(),EC=l(11248),AC=l(61425),RC=l(4965),Or=l(28726),LC=l(89424),Ia=l(14556),Bn=l(2142),Sa=l(37272);function Ta(t,r,n){return!!t&&(Er(Dr(t,r),r)||Er(function(t,r,n){var i,o,a;if(t.contentTileType===Xe.ty.Report&&(Oi(r,n).pipe((0,je.q)(1)).subscribe(function(s){var p=_.find(s,function(m){return m.dataset.id===t.modelId});o=p&&p.dataset}),i=o&&o.packageId),i)return r.select(jt.it).pipe((0,je.q)(1)).subscribe(function(s){a=_.find(s,function(p){return p.id===i})}),a}(t,r,n),r))}function Oi(t,r){return r?(0,nt.aj)(t.select(Or.Rx,{id:r}),t.select(LC._j),t.select(Ia.ZE)).pipe((0,P.U)(function(n){var s=r!==Bn.wku;return[n[0],s?[]:n[1],s?[]:n[2]]}),(0,P.U)(function(n){return Xn.N6(n[0],n[1],n[2])})):t.select(Or.F8)}function _n(t){return t&&(0,Bn.PpD)(t)}function Dr(t,r){var n,i;if((t.contentTileType===Xe.ty.Report||t.contentTileType===Xe.ty.Dataset)&&(n=t.packageId),n)return r.select(jt.it).pipe((0,je.q)(1)).subscribe(function(o){i=_.find(o,function(a){return a.id===n})}),i}function xa(t,r){var n=t.packageId;return n?r.select(jt.it).pipe((0,je.q)(1),(0,P.U)(function(i){return _.find(i,function(a){return a.id===n})})):Sa.E}function Fr(t){return t&&(0,Bn.k4X)(t.contentProviderId)}function Er(t,r){return!!t&&(!!_n(t)||!!_.isNumber(t.originalPackageId)&&(r.select(jt.it).pipe((0,je.q)(1)).subscribe(function(i){n=_.find(i,function(o){return o.id===t.originalPackageId})}),_n(n)));var n}function wa(t,r){return!!t&&(!!Fr(t)||!!_.isNumber(t.originalPackageId)&&(r.select(jt.it).pipe((0,je.q)(1)).subscribe(function(i){n=_.find(i,function(o){return o.id===t.originalPackageId})}),Fr(n)));var n}var qC=l(14967),ZC=l(47824),XC=l(98632),Nn=l(40521),Ma=l(58630),JC=l(59055),tr=l(12604),YC=l(76323),ln="/powerbi/content/providers/",Ar="/metadata/appmodel/",ey=function(){function t(r,n,i,o,a){this.promiseFactory=r,this.telemetryService=n,this.httpCoreService=i,this.syncService=o,this.featureSwitchService=a}return t.prototype.getNonBuiltInContentProviders=function(r,n){return r.filter(function(i){return(3===i.category||6===i.category)&&(!i.featureSwitch||n&&i.featureSwitch===n)})},t.prototype.getBuiltInContentProvidersAsync=function(r){return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,p,m,S,w;return(0,c.__generator)(this,function(E){switch(E.label){case 0:i=this.telemetryService.startChildEvent(r,JC.gP,{categories:n=Xe.mx.BuiltIn}),E.label=1;case 1:return E.trys.push([1,3,,4]),o=this.httpCoreService.powerbiRequestOptions(r,"GetContentProviders"),[4,this.httpCoreService.get(ln+"?category="+n,o)];case 2:return s=E.sent(),i.resolve(),[2,s.data];case 3:return p=E.sent(),m=this.promiseFactory.defer(),S=(0,Ln.GB)(p.error),i.reject(S),w=this.getErrorCode(p),m.reject({errorCode:w,requestId:p.requestId,error:p.error}),[2,m.promise];case 4:return[2]}})})},t.prototype.getServiceAppContentProviders=function(r,n){var i=this.httpCoreService.powerbiRequestOptions(n,"getServiceAppContentProviders"),o=ln+"?owned=true&category=PowerBIServiceApp";return o=Sr.s.addOrUpdateQueryStringToUrl(o,{folderId:r.activeFolderObjectId}),this.httpCoreService.get(o,i)},t.prototype.getContentProviders=function(r,n){var i=this.httpCoreService.powerbiRequestOptions(n,"GetContentProviders"),o=ln;this.featureSwitchService.featureSwitches.includeFlightingContentProviders&&(o+="?includeFlightedContentProviders=true");var s=r.isInFolder,p=[5,7,6];return this.httpCoreService.get(o,i).then(function(m){return m.data=_.filter(m.data,function(S){return 1!==S.category}),s&&(m.data=_.filter(m.data,function(S){return!_.includes(p,S.category)})),m})},t.prototype.getTenantContentProviders=function(r){var n=this.httpCoreService.powerbiRequestOptions(r,"GetTenantContentProviders");return this.httpCoreService.get(ln+"?category=OrganizationalTemplate&owned=true",n)},t.prototype.getContentProvidersFromCluster=function(r,n){var i=this.httpCoreService.powerbiRequestOptions(r,"GetContentProviders"),o=n+ln;return this.featureSwitchService.featureSwitches.includeFlightingContentProviders&&(o+="?includeFlightedContentProviders=true"),this.httpCoreService.get(o,i)},t.prototype.getOrganizationalContentProviders=function(r,n){var i,a,o=[Xe.mx.Organizational,Xe.mx.OrganizationalApp];this.templateProvidersEnabled()&&o.push(Xe.mx.OrganizationalTemplate,Xe.mx.OrganizationalTemplateApp),this.featureSwitchService.featureSwitches.insightApps&&o.push(Xe.mx.PowerBIServiceApp),i=ln+"?category="+o.join(",")+"&owned=true",_.isNumber(r)&&(i="".concat(i,"&folderId=").concat(r),a={dismissGroupObjectId:!0});var s=this.httpCoreService.powerbiRequestOptions(n,"GetContentProviders",a);return this.httpCoreService.get(i,s)},t.prototype.getAppModelMetadata=function(r,n,i){n||(n=4);var o="".concat(Ar,"apps/").concat(r,"?requestDataType=").concat(n),a=this.httpCoreService.powerbiRequestOptions(i,"GetContentProviders",{dismissGroupObjectId:!0});return this.httpCoreService.get(o,a)},t.prototype.getOrganizationalContentProviderById=function(r,n){return this.getContentProviderById(r,n,!1,!1)},t.prototype.getServiceContentProviderById=function(r,n){return this.getContentProviderById(r,n,!0,!1)},t.prototype.getNonInstantiatedOrganizationalContentProviderByProviderKey=function(r,n){return this.getContentProviderByProviderKey(r,n,!1,!0)},t.prototype.getConfiguration=function(r,n,i,o){(0,tr.wS)(r,"getConfiguration: contentProviderId"),(0,tr.wS)(n,"getConfiguration: type");var a=Bt.b$.urlCombine(ln,r+"/configuration");o&&(a=Bt.b$.urlCombine(a,o.toString())),a=Bt.b$.urlCombine(a,"?type="+n);var s=this.httpCoreService.powerbiRequestOptions(i,"GetConfiguration");return this.httpCoreService.get(a,s)},t.prototype.storeConfiguration=function(r,n,i,o){(0,tr.wS)(o.activeDashboardId,"storeConfiguration: dashboardId"),(0,tr.wS)(r,"storeConfiguration: contentProviderId"),(0,tr.wS)(n,"storeConfiguration: dataAccessInfo");var a=this.buildConfigurationUrl(r,o),s={dataAccessInfo:n},p=this.httpCoreService.powerbiRequestOptions(i,"StoreConfiguration");return p.retryCount=0,o.ignoreSyncServiceUpdates&&this.syncService.addMetadataEditRequestId(p.headers[Ma.t7]),this.syncService.addImportContentRequestId(p.headers[Ma.t7]),this.httpCoreService.put(a,s,p)},t.prototype.getOrganizationalContentProviderMetadata=function(r,n){var i=this.httpCoreService.powerbiRequestOptions(r,"getOrganizationalContentProviderMetadata"),o="".concat(Ar,"contentprovidermetadata?id=").concat(n);return this.httpCoreService.get(o,i)},t.prototype.uninstallContentProvider=function(r,n,i){var o=this.httpCoreService.powerbiRequestOptions(r,"UninstallApp"),a="/powerbi/content/providers/organization/".concat(n,"/?packageid=").concat(i,"&uninstall=true");return this.httpCoreService.delete(a,o)},t.prototype.getAllContentPacksByCategories=function(r,n){var i=this.httpCoreService.powerbiRequestOptions();return this.httpCoreService.get(ln+"?category="+r+(n?"&isOwned=true":""),i)},t.prototype.getContentProviderByProviderKey=function(r,n,i,o){var a=this.httpCoreService.powerbiRequestOptions(r,"GetContentProviderByProviderKey"),s="".concat(Ar,"contentprovider?providerKey=").concat(n);return i&&(s+="&isService=true"),o&&(s+="&includeNonInstantiated=true"),this.httpCoreService.get(s,a)},t.prototype.getContentProviderById=function(r,n,i,o){var a=this.httpCoreService.powerbiRequestOptions(r,"GetContentProviderById"),s="".concat(Ar,"contentprovider?id=").concat(n);return i&&(s+="&isService=true"),o&&(s+="&includeNonInstantiated=true"),this.httpCoreService.get(s,a)},t.prototype.buildConfigurationUrl=function(r,n){var i=ln,o=this.canUseAppConfiguration(r,n.category),a=o?"/appconfiguration":"/configuration";i=Bt.b$.urlCombine(i,n.contentProviderKey?"/"+n.contentProviderKey+a:"/"+r.toString(10)+a);var s="?currentDashboardId="+n.activeDashboardId;return o&&this.isServiceApp(n.category)&&(s=s.concat("&installServiceContentAsApplication=true")),n.folderId&&(s=s.concat("&folderId="+n.folderId)),n.subfolderId&&(s=s.concat("&subfolderId="+n.subfolderId)),Bt.b$.urlCombine(i,s)},t.prototype.templateProvidersEnabled=function(){return this.featureSwitchService.featureSwitches.templatePublishEnabled||this.featureSwitchService.featureSwitches.templatePublishFlightingWorkAroundEnabled},t.prototype.canUseAppConfiguration=function(r,n){var i=this.featureSwitchService.featureSwitches;if(!r||null==n)return!1;switch(n){case 7:return i.appTemplatesEnabled;case 6:case 3:return i.serviceAppsEnabled;default:return!1}},t.prototype.isServiceApp=function(r){return 6===r||3===r},t.prototype.getErrorCode=function(r){var n;return r&&(r.error?n=r.error.code:r.status&&(n=r.status.toString())),n},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(mn.t),e.\u0275\u0275inject(U.y0),e.\u0275\u0275inject(Ir.M),e.\u0275\u0275inject(YC._),e.\u0275\u0275inject(Pt.vZ))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ty=l(81213),ny=function(){function t(r,n,i,o,a){var s=this;this.telemetryService=r,this.promiseFactory=n,this.httpService=i,this.featureSwitchService=o,this.store=a,this.store.select(rt.iF).pipe((0,je.q)(1)).subscribe(function(p){return s.myFolderObjectId=p})}return t.prototype.getPackage=function(r,n,i,o){return(0,c.__awaiter)(this,void 0,void 0,function(){var a,s,p,m,S,w,E,R,J,oe,ve;return(0,c.__generator)(this,function(ee){switch(ee.label){case 0:a=this.telemetryService.startChildEvent(o,kr.UT,{artifactType:r}),ee.label=1;case 1:switch(ee.trys.push([1,3,,4]),s=void 0,r){case"Report":s="powerbi/content/providers/usagemetrics/report/";break;case"Dashboard":s="powerbi/content/providers/usagemetrics/dashboard/";break;case"ReportV2":s=n===yi.fm||!_.isEmpty(this.myFolderObjectId)&&n===this.myFolderObjectId?"beta/myorg/usageMetricsReportV2":"beta/myorg/groups/".concat(n,"/usageMetricsReportV2")}return p={},m=this.featureSwitchService.featureSwitches,("Report"===r||"Dashboard"===r)&&(this.addParamIfDefined(p,"allowUpgrade",m&&m.usageMetricsUpgrade?"true":void 0),this.addParamIfDefined(p,"folderId",i)),S=Sr.s.addOrUpdateQueryStringToUrl(s,p),w=this.httpService.powerbiRequestOptions(o,"getPackage"),[4,this.httpService.get(S,w)];case 2:return E=ee.sent(),a.resolve(),[2,E.data];case 3:return R=ee.sent(),J=this.promiseFactory.defer(),oe=(0,Ln.GB)(R.error),a.reject(oe),ve=this.getErrorCode(R),J.reject({errorCode:ve,requestId:R.requestId,error:R.error}),[2,J.promise];case 4:return[2]}})})},t.prototype.usageReportUpgradeAvailable=function(r,n){return(0,c.__awaiter)(this,void 0,void 0,function(){var i,a,s,p,m,S,w,E;return(0,c.__generator)(this,function(R){switch(R.label){case 0:i=this.telemetryService.startChildEvent(r,kr.Y6),R.label=1;case 1:return R.trys.push([1,3,,4]),a="".concat("metadata/v201906/metrics","/workspace/").concat(n,"/UsageReportUpgradeAvailable"),s=this.httpService.powerbiRequestOptions(null,"UsageReportUpgradeAvailable"),[4,this.httpService.get(a,s)];case 2:return p=R.sent(),i.resolve(),[2,p.data];case 3:return m=R.sent(),S=this.promiseFactory.defer(),w=(0,Ln.GB)(m.error),i.reject(w),E=this.getErrorCode(m),S.reject({errorCode:E,requestId:m.requestId,error:m.error}),[2,S.promise];case 4:return[2]}})})},t.prototype.getErrorCode=function(r){var n;return r&&(r.error?n=r.error.code:r.status&&(n=r.status.toString())),n},t.prototype.addParamIfDefined=function(r,n,i){i&&(r[n]=i.toString())},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(U.y0),e.\u0275\u0275inject(mn.t),e.\u0275\u0275inject(Ir.M),e.\u0275\u0275inject(Pt.vZ),e.\u0275\u0275inject(ne.yh))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ry=l(60255),Pa=l(94420),Wt=l(90047),iy=l(90982),Wn=l(34073),nn=l(64115),dt=l(50544),ka=function(){function t(r,n){this.store=r,this.config=n,this.dashboards$=this.store.select(n.shouldFilterDataServicesByFolder?Wn.Ry:nn.df),this.sharedDashboards$=this.store.select(n.shouldFilterDataServicesByFolder?Wn._2:Ia.nv),this.selectedDashboard$=this.store.select(nn.W$)}return Object.defineProperty(t.prototype,"dashboards",{get:function(){return this.dashboards$},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sharedDashboards",{get:function(){return this.sharedDashboards$},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedDashboard",{get:function(){return this.selectedDashboard$},enumerable:!1,configurable:!0}),t.prototype.findById=function(r){return this.store.select(nn.AE).pipe((0,P.U)(function(n){return n[r]}),(0,je.q)(1)).toPromise()},t.prototype.findByDashboardId=function(r){return this.store.select(nn.df).pipe((0,P.U)(function(n){return _.find(n,function(i){return i.id===r})}),(0,je.q)(1)).toPromise()},t.prototype.findByPackageId=function(r){return this.store.select(nn.df).pipe((0,P.U)(function(n){return _.filter(n,function(i){return i.originalPackageId===r})}),(0,je.q)(1)).toPromise()},t.prototype.findAll=function(r){return this.store.select(this.config.shouldFilterDataServicesByFolder?Wn.BJ:nn.df).pipe((0,P.U)(function(i){return _.filter(i,function(o){return o.id===r})}),(0,je.q)(1)).toPromise()},t.prototype.create=function(r,n,i,o,a,s){return(0,c.__awaiter)(this,void 0,void 0,function(){var p,m=this;return(0,c.__generator)(this,function(S){return this.store.dispatch(new Wt.Qj({name:r,isFromPinTile:n,underlyingModelId:i,underlyingReportId:o,sensitivityLabelId:a,telemetryEvent:s})),p=s.event.id,[2,s.promise.then(function(){return m.store.select(m.config.shouldFilterDataServicesByFolder?Wn.BJ:nn.df).pipe((0,P.U)(function(E){return E.find(function(R){return R.correlationId===p})}),(0,je.q)(1)).toPromise()})]})})},t.prototype.delete=function(r,n,i){return r&&this.store.dispatch(n?new Wt.JW({dashboard:r}):new Wt.HG({dashboard:r,telemetryEvent:i})),i&&i.promise},t.prototype.rename=function(r,n,i){return this.store.dispatch(new Wt.ic({dashboard:r,name:n,telemetryEvent:i})),i&&i.promise},t.prototype.addOrUpdate=function(r){this.store.dispatch(new Wt.a({dashboard:r}))},t.prototype.update=function(r,n){this.store.dispatch(new Wt.BN({dashboard:r,changes:n}))},t.prototype.select=function(r,n){void 0===n&&(n=!1);var i=r?(0,gi.E)(r):"";this.store.dispatch(new Wt.Ph(i,n))},t.prototype.firstSelectedDashboard=function(){return this.selectedDashboard.pipe((0,Ft.h)(function(r){return!!r}),(0,je.q)(1)).toPromise()},t.prototype.unloadDashboardTiles=function(r){this.store.dispatch(new Wt.GH({dashboardId:r}))},t.prototype.hide=function(r){this.store.dispatch(new Wt.c({dashboardObjectId:r}))},t.prototype.unhide=function(r){this.store.dispatch(new Wt.yO({dashboardObjectId:r}))},t.prototype.hasTileForReportAndSection=function(r,n){return this.dashboards$.pipe((0,je.q)(1),(0,P.U)(function(i){var o;return void 0!==r?o=_.filter(i,function(a){return _.find(a.tiles,function(s){return s.type===dt.YU.report&&s.sectionId===r})}):void 0!==n&&(o=_.filter(i,function(a){return _.find(a.tiles,function(s){return s.type===dt.YU.report&&s.reportId===n})})),!_.isEmpty(o)}))},t.prototype.pinTile=function(r,n,i){this.store.dispatch(new Wt.Q6({dashboardId:r,tile:n,telemetryEvent:i}))},t.prototype.pinTileToNew=function(r,n,i){this.store.dispatch(new Wt.G$({name:r,tile:n,telemetryEvent:i}))},t.prototype.removeTile=function(r,n){this.store.dispatch(new Wt.TG({dashboardId:r,tileId:n.objectId}))},t.prototype.ensureDashboardLoaded=function(r,n,i){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(o){switch(o.label){case 0:return this.store.dispatch(new Wt.i({id:r,workspaceId:i})),[4,this.store.select(nn.l1,{id:n}).pipe((0,Ft.h)(function(a){return a&&(!1===a.loading||!0===a.loaded)}),(0,je.q)(1)).toPromise()];case 1:return o.sent(),[2]}})})},t.prototype.ensureDashboardLoadedByGuid=function(r,n){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(i){switch(i.label){case 0:return this.store.dispatch(new Wt.i({objectId:r,workspaceId:n})),[4,this.store.select(nn.l1,{id:r}).pipe((0,Ft.h)(function(o){return o&&(!1===o.loading||!0===o.loaded)}),(0,je.q)(1)).toPromise()];case 1:return i.sent(),[2]}})})},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(ne.yh),e.\u0275\u0275inject(iy.e))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Oa=l(50911),Mn=l(54861),Da=function(){return function(r){this.isSelected=!1,this.isEnabled=!0,this.isUsedByContentPack=!1,this.countOfLinkedAncestorsSelected=0,this.resourceType=r}}(),Fa=function(t){function r(n,i,o){var a=t.call(this,i)||this;return a.uniqueId=r.getUniqueId(i,n,o),a}return(0,c.__extends)(r,t),r.getUniqueId=function(n,i,o){return n+"_"+i+"_"+o},r}(Da),Ea=function(t){function r(n){var i=t.call(this,typeof n>"u"?0:n.id,0,typeof n>"u"?0:n.packageId)||this;return i.contract=n,i.isRefreshInProgress=!1,i.reportType=i.contract&&1===i.contract.reportType?1:0,i.contentTileType=1===i.reportType?Xe.ty.RdlReport:Xe.ty.Report,i}return(0,c.__extends)(r,t),r.prototype.getPermissions=function(){var n;return this.getPermissionsCallback&&null!=(n=this.getPermissionsCallback())?n:this.contract&&this.contract.permissions},Object.defineProperty(r.prototype,"canWrite",{get:function(){return(0,gt.yE)(this.getPermissions(),Di.Write)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canCopy",{get:function(){return(0,gt.yE)(this.getPermissions(),Di.CopyOnWrite)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canExplore",{get:function(){return(0,gt.yE)(this.getPermissions(),Di.Explore)},enumerable:!1,configurable:!0}),r}(Fa),Di=function(t){return t[t.None=0]="None",t[t.Read=1]="Read",t[t.Write=2]="Write",t[t.ReShare=4]="ReShare",t[t.Explore=8]="Explore",t[t.CopyOnWrite=17]="CopyOnWrite",t[t.ReadWrite=3]="ReadWrite",t[t.ReadReshare=5]="ReadReshare",t[t.Personalized=11]="Personalized",t[t.All=7]="All",t}({}),Aa=function(){function t(){}return t.prototype.convertReport=function(r){var n=new Ea(r);return r&&(n.id=r.id,n.modelId=r.modelId,n.reportUrl=r.reportUrl,n.packagePublishStatus=r.packagePublishStatus||0,n.name=r.name,n.displayName=r.displayName,n.description=r.description,n.fileName=r.fileName,n.packageId=r.packageId,n.packageVersion=r.packageVersion,n.contentProviderId=r.contentProviderId,n.objectId=r.objectId,n.isNew=r.isNew,n.isHidden=r.isHidden,n.sharedTime=r.sharedTime||t.defaultSharedTime,r.ownerInfo&&function(t,r){r&&(t.ownerFullname=(0,Mn.P)(r.givenName,r.familyName),t.ownerMail=r.emailAddress,r.userObjectId&&(t.ownerUserObjectId=r.userObjectId),r.groupObjectId&&(t.ownerGroupObjectId=r.groupObjectId),t.contract.ownerInfo||(t.contract.ownerInfo=r))}(n,r.ownerInfo),n.getPermissionsCallback=function(){return r.permissions},this.fillReport(n,r)),n},t.prototype.fillReport=function(r,n){r.id=n.id,r.contract=n,r.reportUrl=n.reportUrl},t.defaultSharedTime="/Date(0)/",t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac=function(n){return new(n||t)},providedIn:"root"}),t}(),ay=new e.InjectionToken("ForceOpenCustomLinksInNewTabToken"),Ra=l(45034),py=function(){function t(r){this.contract=r,this.isEnabled=!0,this.isUsedByContentPack=!1,this.isLoaded=r&&null!=r.tiles,this.hitCount=0,this.lazyTiles=null,this.uniqueId="".concat(Xe.ty.Dashboard,"_").concat(this.contract.id)}return t.prototype.getPermissions=function(){var r;return this.getPermissionsCallback&&null!=(r=this.getPermissionsCallback())?r:this.contract&&this.contract.permissions},t.prototype.increaseHitCount=function(){this.hitCount++},Object.defineProperty(t.prototype,"tiles",{get:function(){return this.lazyTiles||(this.lazyTiles=new Ra.o(function(){return[]})),this.lazyTiles.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.contract.id},set:function(n){this.contract.id=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"folderId",{get:function(){return this.contract.folderId},set:function(n){this.contract.folderId=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objectId",{get:function(){return this.contract.objectId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEdit",{get:function(){return function(t){return!(2&~t.permissions)}(this.contract)&&!(this.gridLayoutService&&this.gridLayoutService.strategy.isLayoutLocked)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentTileType",{get:function(){return Xe.ty.Dashboard},enumerable:!1,configurable:!0}),t.prototype.isFilled=function(){return this.contract.tiles&&this.tiles.length===this.contract.tiles.length},t.prototype.calculateLayout=function(){this.layoutRequired=!1;var r=this.tiles;if(!_.isEmpty(r))for(var n=0,i=r;n<i.length;n++)i[n].calculateLayout()},t.prototype.applyLayout=function(){var r=this.tiles;if(!_.isEmpty(r))for(var n=0,i=r;n<i.length;n++)i[n].applyLayout()},t.prototype.runLayoutIfRequired=function(){this.layoutRequired&&(this.calculateLayout(),this.applyLayout())},t.prototype.scheduleDelayedLayout=function(r){var n=this;void 0===r&&(r=!1),this.layoutRequired||(this.layoutRequired=!0,r||setTimeout(function(){n.layoutRequired&&(n.calculateLayout(),n.applyLayout())},100))},t.prototype.findTile=function(r){return _.find(this.tiles,function(n){return n.id===r})},t.prototype.findTileByObjectIdOrOriginalObjectId=function(r,n){if(r||n)return _.find(this.tiles,function(i){return!_.isEmpty(r)&&i.contract.objectId===r||!_.isEmpty(n)&&i.contract.originalTileObjectId===n})},t.prototype.getTileIndex=function(r){return _.findIndex(this.tiles,function(n){return n.id===r})},t.prototype.getTileContractIndex=function(r){return _.findIndex(this.contract.tiles,function(n){return n.id===r})},t.prototype.getUniquePackageId=function(){var r=this.contract;return r.originalPackageId?r.originalPackageId:r.packageIds&&1===r.packageIds.length?r.packageIds[0]:void 0},t.prototype.hasModel=function(r){return _.some(this.tiles,function(n){return n.contract.modelId===r})},t.prototype.hasOwnerInfo=function(){return!_.isEmpty(this.ownerFullname)||!_.isEmpty(this.ownerMail)},t}();function $t(t){return 1===t.publishState}var nr=l(33230),Ei=l(38701),yy=l(60661),by=l(47245),ft=l(5708),Ua=function(t){return t[t.drag=0]="drag",t[t.resizing=1]="resizing",t[t.resized=2]="resized",t[t.refresh=3]="refresh",t}({}),qt=l(68341),Iy=l(46135),$a=l(82755),Ai=l(5265),Va="PBI.TileDataUpdateException",Sy=K.cx[Va]=(0,K.b1)(Va),Ha="PBI.Dashboard.TileError",Ga=K.cx[Ha]=(0,K.b1)(Ha),Ty=l(42649),Ri=l(16374),Ka=l(30302),Cn=l(50550),Pn=l(48117);function Qa(t,r){xe.fF.assertValue(t,"getTileErrorDetailsFromQueryResultError: queryResultError");var n=(0,sn.K)(t.errorDetail);if(n&&!_.isEmpty(n.DataShapes)){var i=n.DataShapes[0]["odata.error"];if(i)return new Ty.Ow(i).getDetails(r)}}function qa(t,r,n){var i=(0,Cn.Br)(t.layouts),o=i.withId(n);o||i.push(o={id:n,position:{}}),o.position=r}function Za(t,r,n,i){return{id:t.id,row:null,col:null,rowSpan:null,colSpan:null,layoutConfig:JSON.stringify(r),query:i?n:null,updatedQuery:i,modelId:t.modelId,objectId:t.objectId}}var Ey=l(48066);function jy(t){return function(t){return!_.isEmpty(t)&&0===t.toLowerCase().indexOf(Li)}(t)||function(t){return!_.isEmpty(t)&&0===t.toLowerCase().indexOf(By)}(t)||function(t){return!_.isEmpty(t)&&0===t.toLowerCase().indexOf(Ny)}(t)||function(t){return!_.isEmpty(t)&&0===t.toLowerCase().indexOf(Wy)}(t)}var Li="/dashboards/",By="/reports/",Ny="/rdlreports/",Wy="/workbooks/",qy=function(){function t(r,n,i){this.forceOpenCustomLinksInNewTab=i,this.isSelected=!1,this.hasConversation=!1,this.hasSpotlight=!1,this.contract=r,this.tileHeaderSize=1,this.layoutPosition={},this.localizationService=n,this.themeName="Light",this.tileStyles={},this.tileHeaderStyles={},this.tileBackground={}}return Object.defineProperty(t.prototype,"gridLayouts",{get:function(){return this.contract.$layoutConfig.layouts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.contract.id},set:function(n){this.contract.id=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objectId",{get:function(){return this.contract.objectId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"details",{get:function(){switch(this.type){case dt.YU.composite:return this.composite;case dt.YU.iframe:return this.iframe;case dt.YU.image:return this.image;case dt.YU.model:return this.model;case dt.YU.ssrs:return this.ssrs;case dt.YU.workbook:return this.workbook;case dt.YU.report:return this.reportTile;case dt.YU.realTime:return this.realTime;default:return xe.fF.assertFail("Invalid tile type"),null}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldBeIncludedInTelemetryMeasurement",{get:function(){return this.details&&!!this.details.shouldBeIncludedInTelemetryMeasurement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTemporary",{get:function(){return this.id<=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTileLoading",{get:function(){return this.composite?this.composite.isLoading&&!this.composite.isError:this.isLoading},enumerable:!1,configurable:!0}),t.prototype.calculateLayout=function(r,n){var i=this.getHeaderSizeByType(this.tileHeaderSize);if(!_.isNil(this.currentViewPort)&&_.isNil(r)&&!_.isNil(n)&&(r=this.currentViewPort),this.compositeTile&&r){var o=r,a=2===this.tileHeaderSize;if(_.isNil(n)||_.isNil(this.currentViewPort))a?this.hasTitle()?o.height-=i:1!==(this.composite&&this.composite.config&&this.composite.config.layoutType)&&(o.height-=10):this.hasTitle()&&(this.hasSubtitle()?o.height-=i:o.height-=i-10),this.currentViewPort=o;else if(n>0){var s={width:this.currentViewPort.width,height:this.currentViewPort.height};s.height-=n,s.height<=0?xe.fF.assert(function(){return s.height>0},"ViewPort height is zero or negative"):o=s}this.compositeTile.calculateLayout(o,a)}},t.prototype.getTileHeight=function(){return this.hasTitle()?this.getHeaderSizeByType(this.tileHeaderSize):0},t.prototype.applyLayout=function(r,n){this.compositeTile&&this.compositeTile.applyLayout(r,n)},t.prototype.invalidateLayout=function(){this.tryPopulateLayoutPositionValues()&&this.gridLayoutContext.onLayoutInvalidated()},t.prototype.tryPopulateLayoutPositionValues=function(){if(!this.gridLayoutContext||this.gridLayoutContext.isLayoutUpdateLocked)return!1;var r=this.gridLayoutContext.getActiveLayout(),i=(0,Cn.Br)(this.contract.$layoutConfig.layouts).withId(r);return i&&i.position&&(this.layoutPosition=_.cloneDeep(i.position)),!0},t.prototype.applyChanges=function(){if(this.contract&&this.gridLayoutContext){var r=_.cloneDeep(this.layoutPosition);qa(this.contract.$layoutConfig,r,this.gridLayoutContext.getActiveLayout()),this.contract.layoutConfig=JSON.stringify(this.contract.$layoutConfig)}},t.isValidUrl=function(r,n){return!_.isEmpty(r)&&((0,Ey.HH)(r,!1)||n&&jy(r))},t.prototype.getDisplayText=function(){return this.displayText?this.displayText:this.compositeTile?this.compositeTile.heading1:""},t.prototype.getSubDisplayText=function(){if(this.displayText&&this.subDisplayText)return this.subDisplayText;if(this.compositeTile){var r=this.compositeTile.config;if(!this.displayText&&r&&!_.isEmpty(r.heading3))return r.heading3}return""},t.prototype.shouldPlaceBulletSeperator=function(){return this.displayText&&this.displayText.length>0&&this.subDisplayText&&this.subDisplayText.length>0&&this.config&&this.config.lastRefreshTimeEnabled},Object.defineProperty(t.prototype,"hrefTarget",{get:function(){return this.action.openInSameTab&&!this.forceOpenCustomLinksInNewTab?"_self":"_blank"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastRefreshTimeInLocaleString",{get:function(){var n=(0,ft.ee)(this.contract.tileDataUpdatedTime),i="";return n?i=n.toLocaleString():this.datasetModel&&(i=this.datasetModel.lastRefreshTimeInLocaleString),i||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"formattedTime",{get:function(){var n;if(this.workbook){var i=this.contract.tilePackage;n=i?(0,ft.ee)(i.lastRefreshTime):null}else n=(0,ft.ee)(this.contract.tileDataUpdatedTime);return n?this.cachedRefreshTime&&n.getTime()===this.cachedRefreshTime.getTime()?this.cachedRefreshString:(this.cachedRefreshTime=n,this.cachedRefreshString=this.getFormattedDateString(n)):this.datasetModel?this.datasetModel.lastRefreshTimeInLocaleString:void 0},enumerable:!1,configurable:!0}),t.prototype.getFormattedDateString=function(r){var n=wn.IH,i=(0,wn.ih)();return i&&n(r,Zy,Xy,!1)?(0,F.WQ)(r,this.localizationService):i&&n(r,ji,Jy,!0)?(0,wn.nK)(this.localizationService.currentLanguageLocale,r):i&&n(r,ji,Yy,!0)?this.localizationService.format("DashboardTile_YesterdayTemplate",[(0,wn.nK)(this.localizationService.currentLanguageLocale,r)]):i&&n(r,ji,eb,!0)?(0,wn.u5)(this.localizationService.currentLanguageLocale,r):(0,wn.nY)(this.localizationService.currentLanguageLocale,r)},t.prototype.setDatasetModelAndPackageInfo=function(r,n){r&&(this.datasetModel=r,n&&(this.datasetModel.packagePublishStatus=n.publishOrRefreshStatus))},t.prototype.hasTitle=function(){return(!this.config||!this.config.hideTitle)&&(!_.isEmpty(this.displayText)||this.compositeTile&&!_.isEmpty(this.compositeTile.heading1))},t.prototype.hasSubtitle=function(){var r=this.config;return(!r||!r.hideTitle)&&(!_.isEmpty(this.subDisplayText)||r&&r.lastRefreshTimeEnabled)},t.prototype.lastRefreshTimeInLocaleWithLabel=function(){if(this.config&&this.config.lastRefreshTimeEnabled)return this.localizationService.format("Refreshed",[this.formattedTime])},t.prototype.setTileHeaderSize=function(r){this.tileHeaderSize!==r&&(this.tileHeaderSize=r,this.invalidateLayout())},Object.defineProperty(t.prototype,"compositeTile",{get:function(){return this.composite||this.realTime},enumerable:!1,configurable:!0}),t.prototype.hasLayoutDefinition=function(r){return!!(0,Cn.Br)(this.contract.$layoutConfig.layouts).withId(r)},t.prototype.hasLayoutPosition=function(r){return!!(0,Pn.zS)(this.contract,r)},t.prototype.removeLayoutPosition=function(r){return void 0===r&&(r=1),xe.fF.assert(function(){return 0!==r},"Cannot remove position for Master position"),this.hasLayoutDefinition(r)&&(this.addLayout({id:r,position:null},r),this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()},t.prototype.resetTileLayoutSizeAndPosition=function(){this.layoutPosition.x=null,this.layoutPosition.y=null,this.layoutPosition.height=null,this.layoutPosition.width=null,this.gridLayoutContext=null},t.prototype.removeLayoutDefinition=function(r,n){return void 0===r&&(r=1),void 0===n&&(n=!0),xe.fF.assert(function(){return 0!==r},"Cannot remove layout for Master position"),this.hasLayoutDefinition(r)&&(_.remove(this.contract.$layoutConfig.layouts,function(i){return i.id===r}),n&&this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()},t.prototype.applyLayoutSize=function(r,n,i){xe.fF.assertValue(r,"size"),this.compositeTile&&(this.compositeTile.size={colSpan:r.colSpan,rowSpan:r.rowSpan}),this.applyLayout(n,i)},t.prototype.getCurrentTileLayoutDescriptor=function(r,n,i){return Za(this.contract,r||this.contract.$layoutConfig,n,i)},t.prototype.buildLayoutDescriptor=function(){var r=_.cloneDeep(this.layoutPosition),n=_.cloneDeep(this.contract.$layoutConfig);qa(n,r,this.gridLayoutContext.getActiveLayout());var i=this.composite&&this.composite.contract&&this.composite.contract.query,o=i&&function(t,r){var n=(0,Pn.V3)(t);if(n){for(var i=r.width*Ka.A4,o=r.height*Ka.lT,a=!1,s=0,p=n.Commands;s<p.length;s++){var m=p[s],S=m.ScriptVisualCommand;S&&(S.ViewportWidthPx!==i||S.ViewportHeightPx!==o)&&(S.ViewportWidthPx=i,S.ViewportHeightPx=o,m.ScriptVisualCommand=S,a=!0)}if(a)return n}}(i,r),a=null;return i&&o&&(this.composite.contract.query.modelQuery.sq=JSON.stringify(o),a=JSON.stringify(this.composite.contract.query)),Za(this.contract,n,i,a)},t.prototype.addLayout=function(r,n){return xe.fF.assert(function(){return 0!==n},"Cannot remove position for Master position"),xe.fF.assertValue(r,"Cannot update with undefined"),this.removeLayoutDefinition(n),this.contract.$layoutConfig.layouts.push(r),this.getCurrentTileLayoutDescriptor()},t.prototype.getHeaderSizeByType=function(r){switch(r){case 0:return 65;case 2:return 42;default:return 50}},t}(),Zy="minute",ji="day",Xy=15,Jy=0,Yy=1,eb=6,tb=l(74082),nb=function(){function t(r,n,i){this.useSmallPlotArea=!1,xe.fF.assertValue(r,"contract"),xe.fF.assertValue(n,"visualPlugins"),xe.fF.assertValue(i,"visualPluginOps"),this.contract=r,this.visualPluginService=n,this.pluginOps=i}return Object.defineProperty(t.prototype,"type",{get:function(){return xe.fF.assertFail("this is an abstract property!"),null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileData",{get:function(){return xe.fF.assertFail("this is an abstract property!"),null},set:function(n){xe.fF.assertFail("this is an abstract property!")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileDataIsVolatile",{get:function(){return xe.fF.assertFail("this is an abstract function!"),!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isError",{get:function(){return this._isError},set:function(n){this._isError=n,this.onErrorDelegate&&this.onErrorDelegate()},enumerable:!1,configurable:!0}),t.prototype.isDataStale=function(r){return xe.fF.assertFail("this is an abstract function!"),!1},Object.defineProperty(t.prototype,"heading1",{get:function(){return this.config.heading1||""},enumerable:!1,configurable:!0}),t.prototype.setDependencies=function(r){this.dataProxy=r},t.prototype.setDataLoadEventDelegate=function(r){this.dataLoadEventDelegate=r},t.prototype.copyDependencies=function(r){r.dataProxy&&this.setDependencies(r.dataProxy)},t}(),rr=function(t){function r(n,i,o,a,s,p,m,S,w,E,R,J,oe,ve,ee,we,Fe){var be=t.call(this,n,i,o)||this;be.featureSwitchService=a,be.geolocationService=s,be.geocoder=p,be.promiseFactory=m,be.moduleLoader=S,be.telemetryService=w,be.themeService=E,be.authenticationService=R,be.localizationService=J,be.visualHostTooltipService=oe,be.azureMapTokenCache=ve,be.azureMapsEndpoint=ee,be.geocoderIndexedDB=we,be.requiresResize=!1,xe.fF.assertAnyValue(s,"geolocationService"),Fe&&(be.licenseUIManager=Fe.create());var Pe={onNotifyLicense:function(et){return be.onNotifyLicense(et)},onClearLicenseNotification:function(){return be.onClearLicenseNotification()},onNotifyFeatureBlocked:function(et){return be.onNotifyFeatureBlocked(et)}};return be._visual={hostServices:be.createHostServices(Fe?Pe:void 0),themeCollection:{}},be}return(0,c.__extends)(r,t),Object.defineProperty(r.prototype,"type",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visual",{get:function(){return this._visual},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"themeCollection",{get:function(){return this._visual&&this._visual.themeCollection},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"heading1",{get:function(){var i=this.config.heading1||"";if(!this.visual)return i;var o,a,s=this.visual.dataTransforms;s&&(o=s.selects);var p=this.visual.data;if(p&&(a=p.dataView),!1!==this.cachedShow&&void 0===this.cachedHeading){var m=(0,yy.VH)(this.themeCollection,this.themeService,this.config.$visualContainer,this.featureSwitchService.featureSwitches,!1,a,o);if(m.dataViewObjects&&(void 0===this.cachedShow&&(this.cachedShow=(0,$a.NA)(m.dataViewObjects,{objectName:"title",propertyName:"show"},!0)),this.cachedShow)){var S=(0,$a.NA)(m.dataViewObjects,{objectName:"title",propertyName:"text"},null);null!==S?this.cachedHeading=S:_.isEmpty(i)&&(i=" ")}}return this.cachedHeading||i},enumerable:!1,configurable:!0}),r.prototype.setThemeName=function(n){this.ensureVisual();var i=this._visual.themeCollection;i.customTheme=i.customTheme||(0,Ei.Mi)(n,1),i.customTheme.name=n},r.prototype.isDataStale=function(n){if(!n)return!1;var o=(0,ft.ee)(this.contract.tileDataUpdatedTime),a=o&&o.getTime();return!!a&&n-a>36e5},r.prototype.setData=function(n,i,o){try{this.ensureVisual(),this._visual.data=n,this._visual.dataTransforms=i,this._visual.type=o,this.clearCache()}catch(a){this.telemetryService.logEvent(Sy,{visualType:o,source:a.fileName,lineNumber:a.lineNumber,columnNumber:a.columnNumber,stack:a.stack,message:a.message})}},r.prototype.createHostServices=function(n){var i=this;return(0,by.q)({geocoder:this.geocoder,geolocation:this.geolocationService,localizationService:this.localizationService,moduleLoader:this.moduleLoader,promiseFactory:this.promiseFactory,visualHostTooltipService:this.visualHostTooltipService,authenticationService:this.authenticationService,getAzureMapToken:function(){return i.azureMapTokenCache.getAzureMapToken()},azureMapsEndpoint:this.azureMapsEndpoint,geocoderIndexedDB:this.geocoderIndexedDB,canExpandCollapse:function(){return!0},onNotifyLicense:n&&n.onNotifyLicense,onClearLicenseNotification:n&&n.onClearLicenseNotification,onNotifyFeatureBlocked:n&&n.onNotifyFeatureBlocked})},r.prototype.ensureVisual=function(){this._visual||(this._visual={hostServices:this.createHostServices(),themeCollection:{}},this.calculateLayout())},Object.defineProperty(r.prototype,"config",{get:function(){return this._config},set:function(i){if(xe.fF.assertValue(i,"The tile config must exist while setting it in a composite tile"),this._config=i,this._visual){var o=i.$visualContainer.config.singleVisual,a=o.visualType;this._visual.type=a;var s=(0,Ai.NA)(o.vcObjects,{objectName:"stylePreset",propertyName:"name"},void 0);this._visual.stylePresetName=s&&(0,tb.VC)(s)&&s.value,this._visual.themeCollection=_.cloneDeep(i.themeCollection);var p,m,S=this.visualPluginService.capabilities(a);S&&(p=S.objects,m=o.objects);var w=(0,sn.K)(i.transform);this._visual.dataTransforms=w?nr.F.deserializeDataViewTransformActions(w,S):nr.F.createTransformActions(i.queryMetadata,i.elements,p,m)}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tileData",{get:function(){return this._tileData},set:function(i){this._tileData=i,this.readDataView(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tileDataIsVolatile",{get:function(){return this.contract.tileDataIsVolatile},enumerable:!1,configurable:!0}),r.prototype.refreshData=function(){this.readDataView(!1)},r.prototype.setDependencies=function(n){var i=!this.dataProxy&&this._tileData&&!this.isLoading;t.prototype.setDependencies.call(this,n),i&&this.refreshData()},r.prototype.readDataView=function(n){return(0,c.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,p,m,S,E;return(0,c.__generator)(this,function(J){switch(J.label){case 0:if(i=this._visual.type,this.visual&&!this.requiresData())return this._visual.data={dataView:null},[2];if(xe.fF.assertValue(this._tileData,"tileData should be defined."),!(o=this.dataProxy))return[2];if(this.contract.queryResultError&&((a=Qa(this.contract.queryResultError,this.localizationService))?(this.isError=!0,this.errorDetails=a,this.errorText=a.message):this.errorText=this.localizationService.get("Tile_ErrorText")),!this._tileData||!this._tileData.data)return this.isLoading=!this.isError,[2];p={type:(s=this._tileData).type,query:{dataSources:null,command:s.data},allowResultFromClientCache:n,perfId:i,kinds:this.pluginOps.dataViewKinds(i)},m=null,this.dataLoadEventDelegate&&(m=this.dataLoadEventDelegate(),this.dataLoadEventDelegate=null),J.label=1;case 1:return J.trys.push([1,3,,4]),[4,o.execute(p)];case 2:return S=J.sent(),E=S.dataReaderResult.error,this._visual.data={dataView:S&&S.dataReaderResult?S.dataReaderResult.dataView:null,dataViewSource:S&&S.dataViewSource?S.dataViewSource:null},this.isError=this.isError||null!=E,m&&(this.isError?m.reject():m.resolve()),[3,4];case 3:return J.sent(),this.isError=!0,m&&m.reject(),[3,4];case 4:return[2]}})})},r.prototype.applyLayout=function(n,i){if(this.requiresResize){if(!i){var o=this.visual;o&&o.visual&&o.visual.update({viewport:o.viewport,dataViews:o.dataViews,suppressAnimations:!0,type:Iy.EP.Resize,resizeMode:n===Ua.resized?2:n===Ua.resizing?1:void 0})}this.requiresResize=!1}},r.prototype.calculateLayout=function(n,i,o){if(void 0===o&&(o=1),n&&((!this.viewport||this.viewport.height!==n.height||this.viewport.width!==n.width)&&(this.requiresResize=!0),this.viewport=n),null!=i&&this.useSmallPlotArea!==i&&(this.useSmallPlotArea=i,this.requiresResize=!0),this.viewport){var a=this.viewport.height,s=this.viewport.width;1===(this._config&&this._config.layoutType)||(a-=this.useSmallPlotArea?8:20,s-=20),this._visual&&(this._visual.viewport={height:a,width:s,scale:o})}},r.prototype.canResizeTo=function(n){var i=this._visual&&this._visual.visual;return!!i&&(!i.canResizeTo||i.canResizeTo((0,qt.p2)(n)))},r.prototype.getErrorLocId=function(n,i){return""},r.prototype.requiresData=function(){var n=this.visual,i=this.pluginOps;if(n){if(n&&n.type){if(!i)return!0;if(!i.isQueryVisual(n.type))return!1}return!0}},r.prototype.updateVisualInteractivityOptions=function(n){var i=this.visualPluginService.getInteractivityOptions(this._visual.type);typeof i.mobileTileInteractive<"u"&&(i.mobileTileInteractive=i.mobileTileInteractive&&n),this._visual.interactivityOptions=i},r.prototype.clearCache=function(){this.cachedHeading=void 0},r.prototype.onNotifyLicense=function(n){0!==n&&this.licenseUIManager.displayNotification(n)},r.prototype.onNotifyFeatureBlocked=function(n){this.licenseUIManager.displayFeatureBlockedBanner(n)},r.prototype.onClearLicenseNotification=function(){this.licenseUIManager.clearNotification()},r}(nb),Ja=function(){function t(r){this.contract=r}return t.prototype.canResizeTo=function(r){return r.rowSpan===qt.lZ||r.colSpan===qt.gY},t.prototype.getErrorLocId=function(r,n){return""},t}(),Ya=function(){function t(r){this.contract=r}return Object.defineProperty(t.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(n){this._imageUrl=n,n&&!this.isStatic&&0!==n.indexOf("data:")&&(this._imageUrl=Bt.b$.getAbsoluteUri(n))},enumerable:!1,configurable:!0}),t.prototype.canResizeTo=function(r){return r.rowSpan===qt.lZ||r.colSpan===qt.gY},t.prototype.getErrorLocId=function(r,n){return""},t}(),es=function(){function t(r){this.contract=r}return t.prototype.canResizeTo=function(r){return r.rowSpan===qt.eg},t.prototype.getErrorLocId=function(r,n){return""},t}(),ts=l(71766),ns=l(80777),Rr=l(26805),ob=l(74804);function ab(t,r){if(t&&!(t<0))return(0,ob.yd)([{id:t,type:"tabular",name:Rr.db,tabular:{modelId:r??t}}])}var rs=function(t){function r(n,i,o,a,s,p,m,S,w,E,R,J,oe,ve,ee,we){var Fe=t.call(this,n,i,o,a,s,p,m,S,w,E,R,J,oe,ve,ee,we)||this;return Fe._visual=null,Fe._localizationService=J,Fe}return(0,c.__extends)(r,t),r.prototype.setModelId=function(n){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(i){switch(i.label){case 0:return xe.fF.assertAnyValue(n,"id"),this.contract.modelId=n,[4,this.initialize()];case 1:return i.sent(),[2]}})})},r.prototype.getRealTimeModelId=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i=this;return(0,c.__generator)(this,function(o){return this.datasetStore?[2,this.datasetStore.findAll((n=this.contract).modelId,!0).then(function(a){if(!_.isEmpty(a)){var s=_.find(a,function(m){return null==n.packageId||m.packageId===n.packageId});return s||(s=_.find(a,function(m){return(0,gt.yE)(m.permissions,7)})),s||(s=_.first(a)),{id:s.id,originalModelId:s.originalModelId,tableName:i.getSchemaTableName(),schema:i.getRealTimeConceptualSchema(),packageId:n.packageId}}})]:[2,void 0]})})},r.prototype.setRealTimeModelDependencies=function(n,i,o,a,s){t.prototype.setDependencies.call(this,n),xe.fF.assertValue(i,"visualQueryGenerator"),xe.fF.assertValue(o,"conceptualSchemaProxy"),xe.fF.assertValue(a,"realTimeDataService"),this.visualQueryGenerator=i,this.conceptualSchemaProxy=o,this.realTimeDataService=a,this.datasetStore=s},r.prototype.copyRealTimeModelDependencies=function(n){return(0,c.__awaiter)(this,void 0,void 0,function(){var i;return(0,c.__generator)(this,function(o){switch(o.label){case 0:return xe.fF.assertValue(n,"other"),n.schema&&(this.schema=n.schema),n.dataProxy&&n.realTimeDataService&&n.visualQueryGenerator&&n.conceptualSchemaProxy?(this.setRealTimeModelDependencies(n.dataProxy,n.visualQueryGenerator,n.conceptualSchemaProxy,n.realTimeDataService,n.datasetStore),n.onErrorDelegate&&!this.onErrorDelegate&&(this.onErrorDelegate=n.onErrorDelegate),[4,n.getRealTimeModelId()]):[2];case 1:return i=o.sent(),this.realTimeDataService.replaceListener(i,n,this),[2]}})})},r.prototype.onDataChanged=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,p=this;return(0,c.__generator)(this,function(m){switch(m.label){case 0:return xe.fF.assertValue(this.visualQueryGenerator,"visualQueryGenerator"),xe.fF.assertValue(this.dataProxy,"dataProxy"),this.singleVisualConfig?(n=Rr.PB,(i=this.config)&&i.dataWindow&&(n=i.dataWindow),[4,this.getDatasources()]):[2];case 1:return o=m.sent(),!(a=this.visualQueryGenerator.execute({dataSources:o,schema:this.schema,config:this.singleVisualConfig,additionalFilters:null,dataWindow:n}))||a.error?(s=void 0,a&&a.error&&(s=a.error.getDetails(this._localizationService)),this.onError(s)):this.dataProxy.execute(a.options).then(function(S){p.isError=!1;var w={dataView:S&&S.dataReaderResult?S.dataReaderResult.dataView:null},E=p.lastCategoryValue;try{var R=function(t){var r=t&&t.categorical;if(r){var n=_.head(r.categories),i=n&&n.values;if(!_.isEmpty(i)){var o=_.last(i);if(o&&!_.isBoolean(o)&&(_.isDate(o)||_.isNumber(o)))return o}}}(w.dataView);if(null!=E&&null!=R&&E.valueOf()>=R.valueOf())return;p.lastCategoryValue=R}catch(J){}p.setData(w,a.transforms,p.config.$visualContainer.config.singleVisual.visualType),p.isLoading=!1},function(S){if(!(S instanceof ts.C6)){var w=S&&S.getDetails(p._localizationService);p.onError(w)}}),[2]}})})},r.prototype.onError=function(n){n||(n=(new ts.Kd).getDetails(this._localizationService)),this.setErrorDetails(n)},r.prototype.getDatasources=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var n;return(0,c.__generator)(this,function(i){switch(i.label){case 0:return[4,this.getRealTimeModelId()];case 1:return(n=i.sent())?[2,ab(n.id,n.originalModelId)]:[2,void 0]}})})},Object.defineProperty(r.prototype,"singleVisualConfig",{get:function(){return this.config.$visualContainer.config.singleVisual},set:function(i){xe.fF.assertValue(i,"config"),this.config.$visualContainer.config.singleVisual=i,this.onDataChanged()},enumerable:!1,configurable:!0}),r.prototype.isDataStale=function(){return!1},r.prototype.initialize=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i=this;return(0,c.__generator)(this,function(o){return n=(0,Pn.gq)(this.contract),this.size={rowSpan:n.height,colSpan:n.width},[2,this.getDatasources().then(function(a){if(a)return i.conceptualSchemaProxy.get(a).then(function(s){return i.fixUpSchema(s),i.schema=s,i.getRealTimeModelId().then(function(p){i.realTimeDataService.subscribe(p,i)})})})]})})},r.prototype.unsubscribe=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,c.__generator)(this,function(i){return[2,this.getRealTimeModelId().then(function(o){if(o&&o.tableName)return n.realTimeDataService.unsubscribe(o,n)})]})})},r.prototype.fixUpSchema=function(n){var i=n.schema(Rr.db).entities;xe.fF.assert(function(){return i&&1===i.length},"Exactly 1 entity is expected.");for(var a=0,s=i[0].properties;a<s.length;a++){var p=s[a];(p.type===ns.Ge.fromDescriptor({numeric:!0})||p.type===ns.Ge.fromDescriptor({integer:!0}))&&(p.kind=1)}},r.prototype.getSchemaTableName=function(){var n=this.getRealTimeConceptualSchema();if(n){var i=n.entities;return xe.fF.assert(function(){return 1===i.length},"Expecting only one entity"),_.head(i).name}},r.prototype.getRealTimeConceptualSchema=function(){if(this.schema)return this.schema.schema(Rr.db)},r.prototype.setErrorDetails=function(n){xe.fF.assertValue(n,"errorDetails should be set"),this.errorDetails=n,this.errorText=n.message,this.isError=!0},r}(rr),is=function(){function t(r){this.contract=r,this.exploration={contract:void 0,exploreCanvas:void 0,sections:[]},this.isError=!1,this.tilesUpdated=!1}return t.prototype.canResizeTo=function(r){return r.rowSpan===qt.lZ||r.colSpan===qt.gY},t.prototype.getErrorLocId=function(r,n){return""},t}(),os=function(){function t(r){this.contract=r}return Object.defineProperty(t.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(n){n&&(this._imageUrl=0!==n.indexOf("data:")?Bt.b$.getAbsoluteUri(n):n)},enumerable:!1,configurable:!0}),t.prototype.canResizeTo=function(r){return r.rowSpan===qt.av||r.colSpan===qt.CJ},t.prototype.getErrorLocId=function(r,n){return""},t}(),as=function(){function t(r,n){this.contract=r,this.tileModel=n}return t.prototype.canResizeTo=function(r){return r.rowSpan===qt.lZ||r.colSpan===qt.gY},t.prototype.getErrorLocId=function(r,n){var i,o=[];switch(r){case 10:i="WorkbookTile_GeneralError";break;case 11:i="WorkbookTile_FileNotFound";break;case 12:i="WorkbookTile_ObjectNotFound",o=this.contract.$config.workbookTile?[this.contract.$config.workbookTile.item]:["pinned object"];break;case 13:i="WorkbookTile_Unauthorized";break;default:return""}return n.format(i,o)},t.prototype.hasImages=function(){return this.hasWorkbookTileConfig&&this.tileModel.config.workbookTile.images&&this.tileModel.config.workbookTile.images.length>0},Object.defineProperty(t.prototype,"images",{get:function(){return this.hasWorkbookTileConfig?this.tileModel.config.workbookTile.images:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasWorkbookTileConfig",{get:function(){return!!this.tileModel&&!!this.tileModel.config&&!!this.tileModel.config.workbookTile},enumerable:!1,configurable:!0}),t}(),lb=l(86734),cb=function(t){function r(n){var i=t.call(this,typeof n>"u"?0:n.id,1,typeof n>"u"?0:n.packageId)||this;return i.contract=n,i}return(0,c.__extends)(r,t),r.prototype.getPermissions=function(){var n;return this.getPermissionsCallback&&(n=this.getPermissionsCallback()),n||this.contract&&this.contract.permissions},Object.defineProperty(r.prototype,"contentTileType",{get:function(){return Xe.ty.Workbook},enumerable:!1,configurable:!0}),r.prototype.isOwner=function(){return(0,gt.yE)(this.getPermissions(),7)},r.prototype.isPersonalized=function(){var n=this.getPermissions();return(0,gt.yE)(n,11)&&!(0,gt.yE)(n,7)},r.prototype.isEditable=function(){var n=this.editUrl;return this.isOwner()&&null!=n&&""!==n},Object.defineProperty(r.prototype,"displayNameWithExtension",{get:function(){var i=(0,lb.m)(this.contract.sourceFilePath);return this.displayName.concat(".").concat(i)},enumerable:!1,configurable:!0}),r}(Fa),Bi=l(36758),Ni=l(66977),Wi=l(80277),zi=l(40956),Ui=l(58991),ss=l(14348),$i=l(2330),Vi=l(67660),ls=l(98136),ub=l(80318),pb=l(40093),cs=l(59694),fb=function(){function t(r,n,i,o,a,s,p,m,S,w,E,R,J,oe,ve,ee,we,Fe){this.geolocationService=r,this.telemetryService=n,this.visualPlugins=i,this.visualPluginOps=o,this.featureSwitchService=a,this.geocoder=s,this.promiseFactory=p,this.moduleLoader=m,this.tileConfigUpgraderService=S,this.explorationSerializer=w,this.themeService=E,this.authenticationService=R,this.localizationService=J,this.visualHostTooltipService=oe,this.licenseUIManagerFactory=ve,this.azureMapTokenCache=ee,this.azureMapsEndpoint=we,this.geocoderIndexedDB=Fe}return t.prototype.convertCompositeTile=function(r){if(!r||r.type!==dt.YU.composite)return null;var i,n=this.convertTileConfig(r);if(this.convertTileLayoutConfig(r),!n||!n.visualContainer)return xe.fF.assertFail("Invalid composite tile type"),null;(i=new rr(r,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader,this.telemetryService,this.themeService,this.authenticationService,this.localizationService,this.visualHostTooltipService,this.azureMapTokenCache,this.azureMapsEndpoint,this.geocoderIndexedDB,this.licenseUIManagerFactory)).config=n.visualContainer,i.displayText=r.displayText,i.subDisplayText=r.subDisplayText;var o=(0,Pn.gq)(r);if(i.size={rowSpan:o.height,colSpan:o.width},i.isLoading=$t(r),r.queryResultError){i.isError=!0;var a=r.queryResultError;this.telemetryService.logEvent(Ga,{tileType:dt.YU[dt.YU.composite],message:(0,cs.W)("{0}:{1} with rootActivityId:{2}, modelId:{3} and tileId:{4}",(0,gt.BB)(dt.G7,a.type),a.errorDetail,a.rootActivityId,r.modelId.toString(),r.id.toString())});var s=Qa(a,this.localizationService);s?(i.errorDetails=s,i.errorText=s.message):i.errorText=this.localizationService.get("Tile_ErrorText")}return i},t.prototype.convertTileData=function(r){if(r.tileDataSet)return r.tileDataSet;var n=this.convertTileConfig(r);try{r.tileDataSet=this.parseTileData(r,n.tileDataType)}catch(i){throw this.telemetryService.logEvent(Ga,{tileType:dt.YU[dt.YU.composite],message:(0,cs.W)("DsrParseError:{0} with modelId:{1} and tileId:{2}",i.message,r.modelId.toString(),r.id.toString())}),Bt.b$.ensureError(i)}return r.tileDataSet},t.prototype.convertTileConfig=function(r){xe.fF.assertValue(r,"contract");var n=r.$config;if(!n){var i=(0,Bt.BL)("Parse tile config");try{n=r.$config=function(t){var r=(0,sn.K)(t);return null==r&&(r={version:Ri.aD}),r}(r.config);var o=n.visualContainer||n.realTimeVisual;this.deserializeVisualContainer(o),this.deserializeModelExtensions(o||n.visual),this.tileConfigUpgraderService.upgrade(r.id,n,r.query)}catch{xe.fF.assertFail("Unable to parse tile config")}finally{i()}}return n},t.prototype.convertTileLayoutConfig=function(r){if(xe.fF.assertValue(r,"contract"),!r.$layoutConfig){var n=function(t){if(xe.fF.assertValue(t,"contract"),t.$layoutConfig)return t.$layoutConfig;var r={x:t.col,y:t.row,width:t.colSpan,height:t.rowSpan},n=void 0;if(t.layoutConfig)try{n=JSON.parse(t.layoutConfig),(0,Cn.Br)(n.layouts).withId(0).position=r}catch{xe.fF.assertFail("Unable to parse tile layout config")}else n={layouts:[{id:0,position:r}]};return n}(r);r.$layoutConfig=n,r.layoutConfig=JSON.stringify(n)}return r.$layoutConfig},t.prototype.deserializeVisualContainer=function(r){r&&r.visualContainer&&!r.$visualContainer&&(r.$visualContainer=this.explorationSerializer.deserializeCanvasItem(r.visualContainer))},t.prototype.deserializeModelExtensions=function(r){r&&r.modelExtensions&&!r.$modelExtensions&&(r.$modelExtensions=this.explorationSerializer.deserializeModelExtensions(r.modelExtensions))},t.prototype.parseTileData=function(r,n){var o,i=(0,Bt.BL)("Parse tile data");try{if(r.tileDataBinaryBase64Encoded){var a=(0,pb.Wh)(r.tileDataBinaryBase64Encoded);o=JSON.parse(a)}else r.tileData&&(o=JSON.parse(r.tileData));return{type:n,data:o}}finally{i()}},t}(),mb=l(8586),Ot=l(47508),gb=function(){function t(){this.version="0.1"}return t.prototype.upgrade=function(r,n,i){if(xe.fF.assert(function(){return"0.0"===n.version},"Tile Config Version should be 0.0 in order to use this Version Upgrader"),n.version=this.version,i&&i.defn&&!i.defn.Version&&n.visual&&!_.isEmpty(n.visual.elements)&&n.visual.visual===Ot.L.scatterChart.name){var o=n.visual.elements;if(o[0].DataRoles){for(var a=o[0].DataRoles,s=!1,p=!1,m=!1,S=void 0,w=0,E=a;w<E.length;w++){var R=E[w];"Category"===R.Name&&(s=!0,S=R.Projection),p=p||"Series"===R.Name,m=m||"Size"===R.Name}m&&s&&!p&&(xe.fF.assertValue(S,"categoryProjectionIndex"),a.push({Name:"Series",Projection:S}))}}},t}(),Hi=l(54766),vb=l(54834),_b=l(45114),us=l(6118),Cb=l(42614),yb=l(5753),bb=l(61421),Ib=l(58098),ps=l(94419),Sb=l(38953);function Tb(t,r){return new xb(t,r)}var xb=function(){function t(r,n){this.pluginService=r,this.telemetryService=n,this.version="1.1"}return t.prototype.upgrade=function(r,n,i){var o,a;xe.fF.assert(function(){return"0.1"===n.version||"1.0"===n.version},"Tile Config Version should be 0.1 or 1.0 in order to use this Version Upgrader"),xe.fF.assertAnyValue(i,"If the query is undefined it gets handled fine"),n.version=this.version;var s=n.visual||n.realTimeVisual;if(s){s.visual||this.telemetryService.logEvent(fi.kA,{error:Rn.hN});var p={visualType:s.visual};s.stylePresetName&&(p.vcObjects={stylePreset:[{properties:{name:(0,ps.fL)(s.stylePresetName)}}]}),p.columnProperties=s.columnProperties;var m=this.pluginService.getPlugin(s.visual),w=(0,Hi.wN)(s.objects,m&&m.capabilities.objects);w&&(p.objects=w);var E={name:"tile".concat(r),config:{singleVisual:p}};if(i&&i.defn){var R=vb.ib.tryDeserializeQuery(i.defn);if(R){var J=null===(a=null===(o=s.queryMetadata)||void 0===o?void 0:o.Select)||void 0===a?void 0:a.length,oe=(R=(0,yb.mZ)(R,J)).select(),ve={};s.elements||(s.elements=[]);for(var ee=0,we=(0,Ib.M)(s.elements);ee<we.length;ee++){var Fe=we[ee],be=oe[Fe.Projection];if(xe.fF.assertValue(be,"DataRole projection exceeds the number of items in select clause"),be){var Pe=Fe.Name,Ve=ve[Pe];Ve||(ve[Pe]=Ve=new bb.NQ([])),Ve.addProjection({queryRef:be.name}),Fe.isActive&&Ve.addActiveQueryReference(be.name)}}E.filters=Cb.l.deriveFromSQFilters(R.from(),R.where(),s.queryMetadata),p.query=new _b.g(R.where([],new Sb.cL),ve,[])}}else delete s.transform;var et={$visualContainer:E,dataWindow:n.realTimeVisual&&n.realTimeVisual.dataWindow,elements:s.elements,heading1:s.heading1,heading2:s.heading2,heading3:s.heading3,layoutType:s.layoutType,queryMetadata:s.queryMetadata,transform:s.transform,$modelExtensions:s.$modelExtensions,themeCollection:s.themeCollection||{},dataSourceVariables:s.dataSourceVariables};s.themeName&&!et.themeCollection.customTheme&&(et.themeCollection.customTheme=(0,Ei.Mi)(s.themeName,1,us.H3n.v3_18)),s.baseThemeName&&!et.themeCollection.baseTheme&&(et.themeCollection.baseTheme=(0,Ei.Mi)(s.baseThemeName,2,us.H3n.v3_18)),et=_.omitBy(et,function(Ye){return void 0===Ye}),n.realTimeVisual?n.realTimeVisual=et:n.visualContainer=et}},t}(),Gi=l(89682),wb=l(68935);function Mb(t,r){return new Pb(t,r)}var Pb=function(){function t(r,n){this.pluginService=r,this.featureSwitchService=n,this.version="1.2"}return t.prototype.upgrade=function(r,n,i){xe.fF.assert(function(){return"1.1"===n.version},"Tile Config Version should be 1.1 in order to use this Version Upgrader"),n.version=this.version;var o=n.visualContainer||n.realTimeVisual;if(o){var a=o.$visualContainer.config&&o.$visualContainer.config.singleVisual;if(a){var s=a.visualType,p=this.pluginService.capabilities(s),m=p&&p.objects,S=_.includes(t.responsiveCartesians,s),w=(0,Gi.zW)(s);S&&(xe.fF.assertValue(m,"visual descriptors are expected to exist for the main flow of rendering a visual"),this.upgradeSingleVisual(a)),(S||w)&&o.transform&&this.upgradeSerializedTransform(o,p,S,w),w&&(0,Gi.fm)(a.objects),this.featureSwitchService.featureSwitches.cartesianConditionalFormatting&&(0,wb.Am)(a.objects,a.query,s)}}},t.prototype.upgradeSingleVisual=function(r){r.objects||(r.objects={}),this.applyResponsiveLegacy(r.objects)},t.prototype.upgradeSerializedTransform=function(r,n,i,o){var a=this.deserializeTransform(r.transform,n);a&&(a.objects||(a.objects={}),i&&this.applyResponsiveLegacy(a.objects),o&&(0,Gi.fm)(a.objects),r.transform=nr.F.serializeTransformActions(nr.F.serializeDataViewTransformActions(a,n&&n.objects)))},t.prototype.deserializeTransform=function(r,n){var i=(0,sn.K)(r);if(i)return nr.F.deserializeDataViewTransformActions(i,n)},t.prototype.applyResponsiveLegacy=function(r){(0,Ai.zx)(r,"general",void 0).properties.responsiveLegacy=(0,ps.O7)(!0)},t.responsiveCartesians=[Ot.L.barChart.name,Ot.L.clusteredBarChart.name,Ot.L.clusteredColumnChart.name,Ot.L.columnChart.name,Ot.L.hundredPercentStackedBarChart.name,Ot.L.hundredPercentStackedColumnChart.name,Ot.L.lineChart.name,Ot.L.areaChart.name,Ot.L.stackedAreaChart.name,Ot.L.lineClusteredColumnComboChart.name,Ot.L.lineStackedColumnComboChart.name,Ot.L.scatterChart.name,Ot.L.waterfallChart.name,Ot.L.realTimeLineChart.name,Ot.L.ribbonChart.name],t}(),kb=l(80981),Db=function(){function t(){this.version="1.3"}return t.prototype.upgrade=function(r,n,i){xe.fF.assert(function(){return"1.2"===n.version},"Tile Config Version should be 1.2 in order to use this Version Upgrader"),n.version=this.version;var o=n.visual||n.realTimeVisual;if(o&&o.vcObjects){xe.fF.assertValue(n.visualContainer.$visualContainer.config.singleVisual,"singleVisual");var a=n.visualContainer.$visualContainer.config.singleVisual,s=(0,Hi.wN)(o.vcObjects,kb.XW);a.vcObjects?(0,Ai.l7)(a.vcObjects,s):a.vcObjects=s}},t}(),ir=l(40175),Eb=function(){function t(){this.version="1.4"}return t.prototype.upgrade=function(r,n,i){xe.fF.assert(function(){return"1.3"===n.version},"Tile Config Version should be 1.3 in order to use this Version Upgrader"),n.version=this.version;var o=n.visualContainer||n.realTimeVisual;if(o){var a=o.$visualContainer.config&&o.$visualContainer.config.singleVisual;a&&(0,ir.jF)(a)}},t}(),Rb=function(){function t(){this.version="1.5"}return t.prototype.upgrade=function(r,n,i){xe.fF.assert(function(){return"1.4"===n.version},"Tile Config Version should be 1.4 in order to use this Version Upgrader"),n.version=this.version;var o=n.visualContainer||n.realTimeVisual;if(o){var a=o.$visualContainer.config&&o.$visualContainer.config.singleVisual;a&&(0,ir.Rd)(a)}},t}(),Lb=l(67016),jb=l(60014);function Bb(t){return new Nb(t)}var Nb=function(){function t(r){this.featureSwitchService=r,this.version="1.7"}return t.prototype.upgrade=function(r,n,i){var o,a,s;xe.fF.assert(function(){return"1.5"===n.version||"1.6"===n.version},"Tile Config Version should be 1.5 or 1.6 in order to use this Version Upgrader"),n.version=this.version;var p=null===(s=null===(a=null===(o=n?.visualContainer)||void 0===o?void 0:o.$visualContainer)||void 0===a?void 0:a.config)||void 0===s?void 0:s.singleVisual;if(p){var m=!1,S=!1;if(p.visualType===Ot.L.table.name?((0,ir.Pq)(p),m=!0):p.visualType===Ot.L.matrix.name&&((0,ir.Pq)(p),S=!0),p.visualType===Ot.L.pivotTable.name&&((0,ir.NN)(p.objects),S=!0),m||S){var w=(0,St.KV)(n.visualContainer.transform);if(w){var E=m?(0,jb.k)(this.featureSwitchService.featureSwitches).objects:(0,Lb.R)(this.featureSwitchService.featureSwitches).objects,R=(0,Hi.xF)(p.objects,E,void 0,void 0);w.objects=R,n.visualContainer.transform=JSON.stringify(w)}}}},t}(),Wb=function(){function t(r,n,i){this.upgraders=[new gb,Tb(r,n),Mb(r,i),new Db,new Eb,new Rb,Bb(i)]}return t.prototype.upgrade=function(r,n,i){if(n){var o=(0,Pn.jD)(i);n&&(n.version||(n.version=Ri.aD));for(var a=0,s=this.upgraders;a<s.length;a++){var p=s[a];(0,Ri.lt)(n.version,p.version)&&p.upgrade(r,n,o)}}},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(Zn.D),e.\u0275\u0275inject(U.y0),e.\u0275\u0275inject(Pt.vZ))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Ki=l(20066),ds=function(){function t(r,n,i,o,a,s,p,m,S,w,E,R,J,oe,ve,ee,we,Fe){this.legacyTileModelConverter=function(t,r,n,i,o,a,s,p,m,S,w,E,R,J,oe,ve,ee,we){return new fb(t,r,n,i,o,a,s,p,m,S,w,E,R,J,oe,ve,ee,we)}(a,r,n,i,o,s,p,m,oe,S,w,E,R,J.create(),ve,ee,we,Fe)}return t.prototype.convertCompositeTile=function(r){return this.legacyTileModelConverter.convertCompositeTile(r)},t.prototype.convertTileData=function(r){return this.legacyTileModelConverter.convertTileData(r)},t.prototype.convertTileConfig=function(r){return this.legacyTileModelConverter.convertTileConfig(r)},t.prototype.convertTileLayoutConfig=function(r){return this.legacyTileModelConverter.convertTileLayoutConfig(r)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(U.y0),e.\u0275\u0275inject(Zn.D),e.\u0275\u0275inject(Ni.f),e.\u0275\u0275inject(Pt.vZ),e.\u0275\u0275inject(St._1),e.\u0275\u0275inject(zi.i),e.\u0275\u0275inject(mn.t),e.\u0275\u0275inject($i.m),e.\u0275\u0275inject(mb.L),e.\u0275\u0275inject(Vi.f),e.\u0275\u0275inject(Bi.V),e.\u0275\u0275inject(_e.o),e.\u0275\u0275inject(ub.A),e.\u0275\u0275inject(Wb),e.\u0275\u0275inject(ss.S),e.\u0275\u0275inject(Wi.o),e.\u0275\u0275inject(Ui.A),e.\u0275\u0275inject(Ki.W))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Ub=function(t){function r(n){var i=t.call(this)||this;return i.contract=n,i.isRefreshInProgress=!1,i.uniqueId=r.getUniqueId(n.id,n.packageId),i.categories=0,i}return(0,c.__extends)(r,t),r.prototype.getPermissions=function(){var n;return this.getPermissionsCallback&&null!=(n=this.getPermissionsCallback())?n:this.contract&&this.contract.permissions},Object.defineProperty(r.prototype,"hasError",{get:function(){return this.contract&&(2===this.packagePublishStatus||4===this.packagePublishStatus||2===this.contract.lastRefreshStatus||4===this.contract.lastRefreshStatus)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastRefreshTimeInLocaleString",{get:function(){var i=this.getLastRefreshTime();if(i)return i.toLocaleString()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastRefreshEpochTime",{get:function(){var i=this.getLastRefreshTime();if(i)return i.getTime()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"contentTileType",{get:function(){return Xe.ty.Dataset},enumerable:!1,configurable:!0}),r.prototype.getRefreshDisabledReason=function(){var n;return null!==(n=this.contract&&this.contract.refreshSchedule&&this.contract.refreshSchedule.refreshDisabledReason)&&void 0!==n?n:0},r.getUniqueId=function(n,i){return"".concat(Xe.ty.Dataset,"_").concat(n,"_").concat(i)},r.prototype.getLastRefreshTime=function(){var n=this.contract;return(0,ft.ee)(n.onPremModelConnectionString?n.lastTimeAModelChangeWasDetectedInTheCluster:n.lastRefreshTime)},r}(Da),$b=function(){function t(r,n,i,o,a,s,p,m,S,w,E,R,J,oe,ve,ee){this.visualPlugin=r,this.visualPluginOps=n,this.featureSwitchService=i,this.geolocationService=o,this.geocoder=a,this.promiseFactory=s,this.moduleLoader=p,this.telemetryService=m,this.themeService=S,this.authenticationService=w,this.localizationService=E,this.visualHostTooltipService=R,this.tileModelConverter=J,this.azureMapTokenCache=oe,this.azureMapsEndpoint=ve,this.geocoderIndexedDb=ee}return t.prototype.convertModel=function(r){var n=new Ub(r);return n.id=r.id,n.isNew=r.isNew,n.cloudRlsEnabled=r.cloudRlsEnabled,n.name=r.name,n.displayName=r.displayName,n.description=r.description,n.fileName=r.fileName,n.packageId=r.packageId,n.packageVersion=r.packageVersion,n.contentProviderId=r.contentProviderId,n.isHidden=r.isHidden||!1,n.isRefreshInProgress=r.currentRefreshStartingTime&&(0,ft.ee)(r.currentRefreshStartingTime).getTime()+18e5>Date.now(),n.dbName=r.dbName,n.vsName=r.vsName,n.realTimeMode=r.realTimeMode,n.getPermissionsCallback=function(){return n.contract&&n.contract.permissions},n},t.prototype.convertRealTimeTile=function(r){return function(t,r){if(t&&t.type===dt.YU.realTime){var n=r.tileModelConverter.convertTileConfig(t);r.tileModelConverter.convertTileLayoutConfig(t);var i=new rs(t,r.visualPlugin,r.visualPluginOps,r.featureSwitchService,r.geolocationService,r.geocoder,r.promiseFactory,r.moduleLoader,r.telemetryService,r.themeService,r.authenticationService,r.localizationService,r.visualHostTooltipService,r.azureMapTokenCache,r.azureMapsEndpoint,r.geocoderIndexedDB);n&&n.realTimeVisual&&(i.config=n.realTimeVisual),i.displayText=t.displayText,i.subDisplayText=t.subDisplayText;var o=(0,Pn.gq)(t);return i.size={rowSpan:o.height,colSpan:o.width},i}}(r,{visualPlugin:this.visualPlugin,visualPluginOps:this.visualPluginOps,featureSwitchService:this.featureSwitchService,geolocationService:this.geolocationService,geocoder:this.geocoder,promiseFactory:this.promiseFactory,moduleLoader:this.moduleLoader,telemetryService:this.telemetryService,themeService:this.themeService,authenticationService:this.authenticationService,localizationService:this.localizationService,visualHostTooltipService:this.visualHostTooltipService.create(),tileModelConverter:this.tileModelConverter,azureMapTokenCache:this.azureMapTokenCache,azureMapsEndpoint:this.azureMapsEndpoint,geocoderIndexedDB:this.geocoderIndexedDb})},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(Zn.D),e.\u0275\u0275inject(Ni.f),e.\u0275\u0275inject(Pt.vZ),e.\u0275\u0275inject(St._1),e.\u0275\u0275inject(zi.i),e.\u0275\u0275inject(mn.t),e.\u0275\u0275inject($i.m),e.\u0275\u0275inject(U.y0),e.\u0275\u0275inject(Vi.f),e.\u0275\u0275inject(Bi.V),e.\u0275\u0275inject(_e.o),e.\u0275\u0275inject(ls.q),e.\u0275\u0275inject(ds),e.\u0275\u0275inject(Wi.o),e.\u0275\u0275inject(Ui.A),e.\u0275\u0275inject(Ki.W))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Vb=l(87041),Hb=function(){function t(r,n,i,o,a,s,p,m,S,w,E,R,J,oe,ve,ee,we,Fe,be,Pe,Ve){this.forceOpenCustomLinksInNewTab=r,this.visualPlugins=n,this.visualPluginOps=i,this.featureSwitchService=o,this.geolocationService=a,this.geocoder=s,this.promiseFactory=p,this.licenseUIManagerFactory=m,this.moduleLoader=S,this.telemetryService=w,this.themeService=E,this.authenticationService=R,this.visualHostTooltipService=J,this.tileModelConverter=oe,this.reportModelConverter=ve,this.localizationService=ee,this.realTimeModelConverter=we,this.permissionService=Fe,this.azureMapTokenCache=be,this.azureMapsEndpoint=Pe,this.geocoderIndexedDB=Ve}return t.prototype.convertDashboard=function(r,n,i,o){var a=this,s=this.convertDashboardShallow(r);return r.tiles&&(s.lazyTiles=new Ra.o(function(){return _.map(r.tiles,function(p){return a.convertTile(p,n,i,o)})})),s},t.prototype.convertTile=function(r,n,i,o){this.convertTileLayoutConfig(r);var a=this.convertTileShallow(r,n,i);if(this.mergeTile(a,r,n,i,o),!r.reportId){var s=this.getTileReport(r.reportId,i);s&&(a.report=a.report||new Ea(s),this.reportModelConverter.fillReport(a.report,s))}return a},t.prototype.convertTileAction=function(r){xe.fF.assertValue(r,"contract");var n=r.$action;if(!n){var i=void 0;if(r.action&&0===r.action.indexOf("{"))try{i=JSON.parse(r.action)}catch{xe.fF.assertFail("Unable to parse tile action")}else i={action:r.action};n=r.$action=i}return n},t.prototype.getWorkbookViewUrl=function(r){return this.getWorkbookActionUrl(r,"view")},t.prototype.getWorkbookEditUrl=function(r){return this.getWorkbookActionUrl(r,"edit")},t.prototype.getWorkbookEmbedView=function(r){return this.getWorkbookActionUrl(r,"embedview")},t.prototype.getHrefTarget=function(r){return this.convertTileAction(r).openInSameTab&&!this.forceOpenCustomLinksInNewTab?"_self":"_blank"},t.prototype.convertDashboardShallow=function(r){var n=this,i=new py(r);return i.getPermissionsCallback=function(){return n.permissionService.getDashboardEffectivePermissions(r)},i.dataClassificationId=r.dataClassificationId,i.folderId=r.folderId,this.mergeDashboardShallow(i,r),i},t.prototype.getTileReport=function(r,n){var i;if(n){var o=(0,Cn.cq)(n,function(a){return a&&a.id===r});-1!==o&&(i=n[o])}return i},t.prototype.convertTileShallow=function(r,n,i){this.convertTileLayoutConfig(r);var o=new qy(r,this.localizationService,this.forceOpenCustomLinksInNewTab);return this.mergeTileShallow(o,r,n,i),o},t.prototype.convertTileLayoutConfig=function(r){return this.tileModelConverter.convertTileLayoutConfig(r)},t.prototype.mergeTile=function(r,n,i,o,a,s){var p=r.composite,m=r.realTime;this.mergeTileShallow(r,n,i,o),r.composite=this.tileModelConverter.convertCompositeTile(n),p&&r.composite&&(r.composite.setDataLoadEventDelegate(p.dataLoadEventDelegate),r.composite.copyDependencies(p),p instanceof rr&&r.composite instanceof rr&&this.mergeVisual(r.composite.visual,p.visual),p.tileDataIsVolatile&&p.tileData&&p.tileData.data&&(r.composite.tileData=p.tileData)),r.iframe=this.convertIframeTile(n),r.image=this.convertImageTile(n),r.model=this.convertModelTile(n),r.ssrs=this.convertSsrsTile(n);var S=this.realTimeModelConverter.convertRealTimeTile(n);if(this.updateTileRealTimeModel(r,m,S),r&&r.reportTile){var w=r.reportTile.exploration;r.reportTile=this.convertReportTile(n),r.reportTile.exploration=w}else r.reportTile=this.convertReportTile(n);if(!_.isEmpty(a)){var E=this.getTileWorkbook(n.workbookId,n.packageId,a);if(E){var R=this.convertWorkbook(E);r.workbook=this.convertWorkbookTile(n,R,r)}}if(o){var J=this.getTileReport(n.reportId,o);J?(r.report=r.report||this.reportModelConverter.convertReport(J),this.reportModelConverter.fillReport(r.report,J)):r.report=null,r.contractsReport=this.getTileReport(n.reportId,o)}else if(s){for(var oe=void 0,ve=0,ee=s.length;ve<ee;ve++)if(n.reportId===s[ve].id){oe=s[ve];break}oe&&(r.report=r.report||oe,this.reportModelConverter.fillReport(r.report,oe.contract),r.contractsReport=oe.contract)}n.modelId&&(r.contractsModel=this.getTileModel(n.modelId,i))},t.prototype.mergeTileShallow=function(r,n,i,o){this.convertTileLayoutConfig(n),r.contract=n,r.type=n.type,this.mergeTileLayoutConfig(r,n),r.displayText=n.displayText,r.subDisplayText=n.subDisplayText,r.backgroundImageUrl=this.getImageUrl(n),r.errorCode=n.errorCode;var a=this.getTileReport(n.reportId,o);if(n.query&&n.query.modelQuery&&(r.utterance=n.query.modelQuery.utterance),r.action=this.convertTileAction(n),r.config=this.convertTileConfig(n),r.isLoading=$t(n),r.isLocked=function(t){return 20===t.errorCode}(n),n.modelId){var s=this.getTileModel(n.modelId,i);s&&(r.vsName=s.vsName,r.dbName=s.dbName)}n.reportId&&(r.report=r.report||this.reportModelConverter.convertReport(a),r.report.id=n.reportId),a&&(this.reportModelConverter.fillReport(r.report,a),r.action||(r.action={action:"/openReport"})),this.convertSpecificTileShallow(n,r)},t.prototype.mergeDashboardShallow=function(r,n){var i=this;n.displayName&&(r.displayName=n.displayName),void 0!==n.permissions&&(r.getPermissionsCallback=function(){return i.permissionService.getDashboardEffectivePermissions(n)},r.contract.permissions=n.permissions),n.modelIds&&(r.contract.modelIds=n.modelIds),n.reportIds&&(r.contract.reportIds=n.reportIds),n.workbookIds&&(r.contract.workbookIds=n.workbookIds),n.packageIds&&(r.contract.packageIds=n.packageIds),void 0!==n.isStaging&&(r.contract.isStaging=n.isStaging),void 0!==n.qnaEnabled&&(r.qnaEnabled=n.qnaEnabled),void 0!==n.gravityEnabled&&(r.gravityEnabled=n.gravityEnabled),void 0!==n.annotationsEnabled&&(r.annotationsEnabled=n.annotationsEnabled),void 0!==n.isSharedFromSecurityGroup&&(r.isSharedFromSecurityGroup=n.isSharedFromSecurityGroup),void 0!==n.isHidden&&(r.isHidden=n.isHidden),void 0!==n.ownerInfo&&this.mergeArtifactOwnerInfo(r,n.ownerInfo),r.sharedTime=n.sharedTime||"/Date(0)/"},t.prototype.mergeArtifactOwnerInfo=function(r,n){r.ownerFullname=(0,Mn.P)(n.givenName,n.familyName),r.ownerMail=n.emailAddress,n.userObjectId&&(r.ownerUserObjectId=n.userObjectId),n.groupObjectId&&(r.ownerGroupObjectId=n.groupObjectId),r.contract.ownerInfo||(r.contract.ownerInfo=n)},t.prototype.convertSpecificTileShallow=function(r,n){switch(this.convertTileLayoutConfig(r),r.type){case dt.YU.composite:var i=this.convertTileConfig(r);if(i&&i.visualContainer?n.composite=new rr(r,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader,this.telemetryService,this.themeService,this.authenticationService,this.localizationService,this.visualHostTooltipService.create(),this.azureMapTokenCache,this.azureMapsEndpoint,this.geocoderIndexedDB,this.licenseUIManagerFactory):xe.fF.assertFail("Invalid composite tile type"),n.composite){var o=(0,Pn.gq)(r);n.composite.size={rowSpan:o.height,colSpan:o.width},n.composite.isLoading=$t(r)}break;case dt.YU.iframe:n.iframe=new Ja(r),n.iframe.isLoading=$t(r);break;case dt.YU.image:n.image=new Ya(r),n.image.isLoading=$t(r);break;case dt.YU.model:n.model=new es(r),n.model.isLoading=$t(r);break;case dt.YU.ssrs:n.model=new os(r),n.model.isLoading=$t(r);break;case dt.YU.workbook:n.workbook=new as(r,n),n.workbook.isLoading=$t(r);break;case dt.YU.report:n.model=new is(r),n.model.isLoading=$t(r);break;case dt.YU.realTime:this.convertTileConfig(r),n.realTime=new rs(r,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader,this.telemetryService,this.themeService,this.authenticationService,this.localizationService,this.visualHostTooltipService.create(),this.azureMapTokenCache,this.azureMapsEndpoint,this.geocoderIndexedDB);break;default:xe.fF.assertFail("Invalid tile type")}},t.prototype.mergeVisual=function(r,n){xe.fF.assertValue(r,"visualToUpdate"),xe.fF.assertValue(n,"sourceVisual"),n.visual&&r.type===n.type&&(r.visual=n.visual),r.viewport=n.viewport},t.prototype.convertIframeTile=function(r){if(!r||r.type!==dt.YU.iframe)return null;var n=new Ja(r),i=this.convertTileConfig(r);return this.convertTileLayoutConfig(r),i&&i.iframe&&(n.srcUrl=i.iframe.srcUrl,n.embedCode=i.iframe.embedCode),n.isLoading=$t(r),n},t.prototype.convertImageTile=function(r){if(!r||r.type!==dt.YU.image)return null;var n=new Ya(r);return this.convertTileLayoutConfig(r),n.displayText=r.displayText,n.subDisplayText=r.subDisplayText,"number"!=typeof n.contract.reportId||r.config?(n.isStatic=!1,n.imageUrl=this.getImageUrl(r)):(n.isStatic=!0,n.imageUrl=Rn.yE),n.isLoading=$t(r),n},t.prototype.convertModelTile=function(r){if(!r||r.type!==dt.YU.model)return null;var n=new es(r);return this.convertTileLayoutConfig(r),n.displayText=r.displayText,n.isLoading=$t(r),n.subDisplayText=r.subDisplayText,n},t.prototype.getImageUrl=function(r){var n=this.convertTileConfig(r);if(n&&n.imageTile)return n.imageTile.imageUrl},t.prototype.convertSsrsTile=function(r){if(!r||r.type!==dt.YU.ssrs)return null;this.convertTileLayoutConfig(r);var n=new os(r);return r.config&&(n.imageUrl=this.getSsrsImageUrl(r)),n.isLoading=$t(r),n},t.prototype.getSsrsImageUrl=function(r){var n=this.convertTileConfig(r);if(n&&n.ssrsTile)return n.ssrsTile.imageUrl},t.prototype.updateTileRealTimeModel=function(r,n,i){r.realTime=i,n&&r.realTime&&r.realTime.copyRealTimeModelDependencies(n)},t.prototype.convertReportTile=function(r){return r&&r.type===dt.YU.report?(this.convertTileLayoutConfig(r),new is(r)):null},t.prototype.getTileWorkbook=function(r,n,i){var o;if(i){var a=(0,Cn.cq)(i,function(s){return s.id===r&&s.packageId===n});-1!==a&&(o=i[a])}return o},t.prototype.convertWorkbook=function(r){var n=this,i=this.convertWorkbookShallow(r);return r&&(i.id=r.id,i.modelId=r.modelId,i.viewUrl=this.getWorkbookViewUrl(r),i.editUrl=this.getWorkbookEditUrl(r),i.embedUrl=this.getWorkbookEmbedView(r),i.name=r.name,i.displayName=r.displayName,i.description=r.description,i.fileName=r.fileName,i.packageId=r.packageId,i.isNew=r.isNew,i.getPermissionsCallback=function(){return n.permissionService.getWorkbookEffectivePermissions(r)}),i},t.prototype.convertWorkbookShallow=function(r){return new cb(r)},t.prototype.convertWorkbookTile=function(r,n,i){if(!r||r.type!==dt.YU.workbook)return null;this.convertTileLayoutConfig(r);var o=new as(r,i);o.displayText=r.displayText,o.subDisplayText=r.subDisplayText,o.isLoading=$t(r),o.image=r.tileDataBinaryBase64Encoded,o.keepOriginalContentSize=r.$config.workbookTile&&r.$config.workbookTile.keepOriginalContentSize?r.$config.workbookTile.keepOriginalContentSize:Rn.LN;var a=r.$config.workbookTile;return n?(a&&(o.embedUrl=n.embedUrl+"&item="+a.item),n.contract&&(o.webUri=n.contract.webUri)):xe.fF.assertFail("Unexpected tile from a non existent workbook"),o},t.prototype.getTileModel=function(r,n){var i;if(n){var o=(0,Cn.cq)(n,function(a){return a&&a.id===r});-1!==o&&(i=n[o])}return i},t.prototype.mergeTileLayoutConfig=function(r,n){if(xe.fF.assertValue(n.$layoutConfig,"TileLayoutConfig is not set"),!(r.layoutPosition.x&&r.layoutPosition.y&&r.layoutPosition.width&&r.layoutPosition.height)){var i=(0,Cn.Br)(n.$layoutConfig.layouts),o=r.gridLayoutContext,a=o?o.getActiveLayout():0,s=i.withId(a);s&&this.mergeLayoutPosition(r.layoutPosition,s.position)}},t.prototype.convertTileConfig=function(r){return this.tileModelConverter.convertTileConfig(r)},t.prototype.getWorkbookActionUrl=function(r,n){return r.webUri&&r.etagHash?"".concat(r.webUri,"/_layouts/WopiFrame.aspx?sourcedoc={").concat(r.etagHash,"}&action=").concat(n):""},t.prototype.mergeLayoutPosition=function(r,n){n&&(r.x=r.x||n.x,r.y=r.y||n.y,r.width=r.width||n.width,r.height=r.height||n.height)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(ay),e.\u0275\u0275inject(Zn.D),e.\u0275\u0275inject(Ni.f),e.\u0275\u0275inject(Pt.vZ),e.\u0275\u0275inject(St._1),e.\u0275\u0275inject(zi.i),e.\u0275\u0275inject(mn.t),e.\u0275\u0275inject(ss.S),e.\u0275\u0275inject($i.m),e.\u0275\u0275inject(U.y0),e.\u0275\u0275inject(Vi.f),e.\u0275\u0275inject(Bi.V),e.\u0275\u0275inject(ls.q),e.\u0275\u0275inject(ds),e.\u0275\u0275inject(Aa),e.\u0275\u0275inject(_e.o),e.\u0275\u0275inject($b),e.\u0275\u0275inject(Vb.$A),e.\u0275\u0275inject(Wi.o),e.\u0275\u0275inject(Ui.A),e.\u0275\u0275inject(Ki.W))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Qi=function(){function t(r,n,i,o,a,s,p,m,S,w,E,R,J,oe,ve,ee,we){this.promiseFactory=r,this.navigationService=n,this.contentProviderHttpService=i,this.errorService=o,this.featureSwitchService=a,this.store=s,this.notificationToastService=p,this.localizationService=m,this.usageMetricsHttp=S,this.activeFolderId=w,this.LazyProvider=E,this.reportStore=R,this.reportModelConverter=J,this.modelConverter=oe,this.dashboardStore=ve,this.datasetStore=ee,this.groupStore=we,this.pendingUsageMetricsRequests=[]}return t.prototype.openReportUsageMetricsReport=function(r,n,i,o,a){return(0,c.__awaiter)(this,void 0,void 0,function(){var s,p,m;return(0,c.__generator)(this,function(S){switch(S.label){case 0:return xe.fF.assertValue(r,"report"),s=!1,p=n===this.activeFolderId.activeFolderObjectId?this.activeFolderId.isActiveFolderWSv2:!!i,this.featureSwitchService.featureSwitches.newUsageMetrics&&p?[4,this.getNewUsageMetricsSetting()]:[3,2];case 1:s=S.sent(),S.label=2;case 2:return m=s?"ReportV2":"Report",[4,this.groupStore.ensureGroupArtifactsLoaded(n)];case 3:return S.sent(),[4,this.getPackageAndNavigateToUsageMetricsReport(m,r.displayName,r.objectId,n,i,o,a)];case 4:return[2,S.sent()]}})})},t.prototype.openDashboardUsageMetricsReport=function(r,n,i,o,a){return xe.fF.assertValue(r,"dashboard"),this.getPackageAndNavigateToUsageMetricsReport("Dashboard",r.displayName,r.objectId,n,i,o,a)},t.prototype.getContentTileFromUsageMetricsFilters=function(r){return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s;return(0,c.__generator)(this,function(m){switch(m.label){case 0:return[4,this.LazyProvider.get("@powerbi/ODataFilterParser/OData-Filter-Parser.module#ODataFilterParserModule","odataFilterParserService")];case 1:return n=m.sent(),_.isEmpty(r)&&(r=this.navigationService.additionalODataFilter),[4,n.tryGetFilters(r)];case 2:if(i=m.sent(),_.isEmpty(i))return[2];a=0,s=i,m.label=3;case 3:return a<s.length?[4,this.getContentTileFromFilters(s[a])]:[3,6];case 4:if(o=m.sent(),!_.isEmpty(o))return[3,6];m.label=5;case 5:return a++,[3,3];case 6:return xe.fF.assert(function(){return!_.isEmpty(o)},"contentTile"),[2,o]}})})},t.prototype.isUsageMetricsArtifactUsingReportContract=function(r){return function(t,r){return t?xa(t,r).pipe((0,P.U)(function(n){return _n(n)})):(0,qe.of)(!1)}(r,this.store)},t.prototype.isUsageMetricsArtifactUsingDatasetContract=function(r){return function(t,r){return t?function(t,r){var n=t.packageId;return n?r.select(jt.it).pipe((0,je.q)(1),(0,P.U)(function(i){return _.find(i,function(a){return a.id===n})})):Sa.E}(t,r).pipe((0,P.U)(function(n){return _n(n)})):(0,qe.of)(!1)}(r,this.store)},t.prototype.isUsageMetricsV2ArtifactUsingReportContract=function(r){return function(t,r){return t?xa(t,r).pipe((0,P.U)(function(n){return _n(n)&&!Fr(n)})):(0,qe.of)(!1)}(r,this.store)},t.prototype.isUsageMetricsArtifact=function(r){return function(t,r){return!!t&&_n(Dr(t,r))}(r,this.store)},t.prototype.isUsageMetricsV2Artifact=function(r){return function(t,r){if(!t)return!1;var n=Dr(t,r);return _n(n)&&!Fr(n)}(r,this.store)},t.prototype.fromUsageMetrics=function(r){return Ta(r,this.store)},t.prototype.isReportFromUsageMetrics=function(r,n){return function(t,r,n){if(!t)return!1;var i;Oi(r,n).pipe((0,je.q)(1)).subscribe(function(m){var S=_.find(m,function(w){return w.dataset.id===t.modelId});i=S&&S.dataset});var s,p,o=t.packageId,a=i&&i.packageId;return r.select(jt.it).pipe((0,je.q)(1)).subscribe(function(m){s=_.find(m,function(S){return S.id===o}),p=_.find(m,function(S){return S.id===a})}),Er(s,r)||Er(p,r)}(r,this.store,n)},t.prototype.fromLegacyUsageMetrics=function(r){return function(t,r){return!!t&&wa(Dr(t,r),r)}(r,this.store)},t.prototype.fromLegacyUsageMetricsModelContract=function(r){return function(t,r){return!!t&&wa(function(t,r){var n,i;if(n=t.packageId)return r.select(jt.it).pipe((0,je.q)(1)).subscribe(function(o){i=_.find(o,function(a){return a.id===n})}),i}(t,r),r)}(r,this.store)},t.prototype.modelFromUsageMetrics=function(r,n){return function(t,r,n){return!!t&&(Oi(r,n).pipe((0,je.q)(1)).subscribe(function(o){var a;i=(i=null===(a=_.find(o,function(s){return s.dataset.id===t.id}))||void 0===a?void 0:a.dataset)?(0,c.__assign)((0,c.__assign)({},i),{contentTileType:Xe.ty.Dataset}):void 0}),Ta(i,r,n));var i}(r,this.store,n)},t.prototype.isUsageMetricsPackage=function(r){return _n(r)},t.prototype.isReportUsageMetricsReport=function(r){if(!r)return!1;var i,n=r.packageId;return!!n&&(this.store.select(jt.it).pipe((0,je.q)(1)).subscribe(function(o){i=_.find(o,function(a){return a.id===n})}),xe.fF.assertValue(i,"package"),102===i.contentProviderId||i.packageType===Xe.yR.UsageMetricsV2)},t.prototype.getNewUsageMetricsSetting=function(){var r=this.promiseFactory.defer();return this.store.select(Do.WH).subscribe(function(n){return r.resolve(n.newUsageMetrics)}),r.promise},t.prototype.mapArtifactTypeDuringUsageMetricsMigration=function(r){var n=r;switch(r){case"ReportV2":case"DashboardV2":n="Workspace"}return n},t.prototype.getPendingRequestIfExisting=function(r,n){var i=this.mapArtifactTypeDuringUsageMetricsMigration(n);return _.find(this.pendingUsageMetricsRequests,function(a){return a.artifactType===i&&a.groupObjectId===r})},t.prototype.constructODataFiltersThenNavigateToReportByGuid=function(r,n,i,o,a){return(0,c.__awaiter)(this,void 0,void 0,function(){var s,p;return(0,c.__generator)(this,function(m){switch(m.label){case 0:return s="","Report"===n||"ReportV2"===n?s="Reports/ReportGuid eq '".concat(i,"'"):"Dashboard"===n?s="Dashboards/DashboardGuid eq '".concat(i,"'"):xe.fF.assertFail("invalid artifact type"),[4,this.store.select(rt.iF).pipe((0,je.q)(1)).toPromise()];case 1:return p=m.sent(),!_.isEmpty(p)&&o===p&&(o=yi.fm),this.navigationService.navigateToReport({groupGUID:o,reportGUID:r,filter:s},void 0,a),[2]}})})},t.prototype.showSuccessToastToNavigateToReport=function(r,n,i,o,a){var s=this,p={displayText:this.localizationService.get("UsageMetrics_FinishedLoadingButtonText"),action:function(){return s.constructODataFiltersThenNavigateToReportByGuid(r,a,n,i,void 0)},dataTestId:"view-usage-metrics-report-btn"};this.notificationToastService.notify({title:this.localizationService.get("UsageMetrics_FinishedLoadingTitle"),message:this.localizationService.format("UsageMetrics_FinishedLoadingSubtitle",[o]),notificationType:4,actionButtons:[p],sticky:!0,dataTestId:"view-usage-metrics-report-toast"})},t.prototype.onPackagePublishSucceeded=function(r){this.onPackagePublishDone(r)},t.prototype.onPackagePublishFailed=function(r,n,i){this.onPackagePublishDone(r),this.showErrorMessage(n,i)},t.prototype.onPackagePublishDone=function(r){_.isEmpty(r)||this.notificationToastService.hide(r)},t.prototype.showErrorMessage=function(r,n){this.errorService.error(this.localizationService.get("UsageMetrics_FailedOpeningReport_Message"),"FailedToOpenUsageMetricsReport",{requestId:r,statusCode:n})},t.prototype.attachToPendingUsageMetricsRequest=function(r,n,i,o,a,s){var p=this;r.defered.promise.then(function(m){m&&p.showSuccessToastToNavigateToReport(m.objectId,i,o,n,a),p.onPackagePublishSucceeded(s)},function(m){p.onPackagePublishFailed(s,m.requestId,m.errorCode)})},t.prototype.tryAttachToPendingUsageMetricsRequestIfExisting=function(r,n,i,o,a){var s=this.getPendingRequestIfExisting(i,o);return!_.isEmpty(s)&&(this.attachToPendingUsageMetricsRequest(s,r,n,i,o,a),!0)},t.prototype.populateCurrentUsageMetricsVersion=function(r){return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,p,m,S,w;return(0,c.__generator)(this,function(E){switch(E.label){case 0:return[4,this.contentProviderHttpService.getBuiltInContentProvidersAsync(r)];case 1:return n=E.sent(),_.isEmpty(n)||(i=_.filter(n,function(R){return 1===R.category&&103===R.id}),xe.fF.assert(function(){return i&&1===i.length},"One dashboard usage metrics content provider should exist"),o=!_.isEmpty(i)&&i[0].providerConfig,a=!_.isEmpty(o)&&(0,sn.K)(o),s=a&&a.providerVersion,this.currentDashboardUsageMetricsVersion=!_.isEmpty(s)&&new Number(s),p=_.filter(n,function(R){return 1===R.category&&102===R.id}),xe.fF.assert(function(){return p&&1===p.length},"One report usage metrics content provider should exist"),m=!_.isEmpty(p)&&p[0].providerConfig,S=!_.isEmpty(m)&&(0,sn.K)(m),w=S&&S.providerVersion,this.currentReportUsageMetricsVersion=!_.isEmpty(w)&&new Number(w)),[2]}})})},t.prototype.tryNavigateToUsageMetricsReport=function(r,n,i,o,a,s){return(0,c.__awaiter)(this,void 0,void 0,function(){var p,S,w,E;return(0,c.__generator)(this,function(R){switch(R.label){case 0:return[4,this.featureSwitchService.getFeatureSwitches()];case 1:return p=R.sent(),"ReportV2"===i&&p.umv2Upgrade?[4,this.usageMetricsHttp.usageReportUpgradeAvailable(a,n)]:[3,3];case 2:if(R.sent())return[2,!1];R.label=3;case 3:return[4,this.getUsageMetricsReportIfExisting(i,o,n,a)];case 4:return S=R.sent(),_.isEmpty(S)||"ReportV2"!==i?[3,6]:[4,this.datasetStore.findByPackageId(S.packageId,n)];case 5:if(w=R.sent(),E=_.first(w),!_.isEmpty(E)&&!_.isEmpty(E.refreshSchedule)&&!E.refreshSchedule.refreshEnabled)return[2,!1];R.label=6;case 6:return _.isEmpty(S)?[2,!1]:(this.constructODataFiltersThenNavigateToReportByGuid(S.objectId,i,r,n,s),[2,!0])}})})},t.prototype.getV1UsageMetricsReportIfExisting=function(r,n,i){return(0,c.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,c.__generator)(this,function(p){switch(p.label){case 0:return o=-1,"Dashboard"===r?o=103:"Report"===r&&(o=102),[4,(0,nt.aj)(this.store.select(Nn.Uw,{id:i}),this.store.select(jt.zu)).pipe((0,je.q)(1),(0,P.U)(function(m){var w=m[1];return _.find(m[0],function(R){var J=R.packageId,oe=_.find(w,function(ee){return ee.id===J}),ve=oe&&oe.permissions;return oe&&oe.contentProviderId===o&&ve&&(0,gt.yE)(ve,3)})})).toPromise()];case 1:return a=p.sent(),this.featureSwitchService.featureSwitches.usageMetricsUpgrade?a?new Number(a.packageVersion).valueOf()!==n.valueOf()?[2]:[2,a]:[2]:[2,a]}})})},t.prototype.getV2UsageMetricsReportIfExisting=function(r){return(0,nt.aj)(this.store.select(Nn.Uw,{id:r}),this.store.select(jt.zu)).pipe((0,je.q)(1),(0,P.U)(function(n){var o=n[1];return _.find(n[0],function(s){var p=s.packageId,m=_.find(o,function(w){return w.id===p}),S=m&&m.permissions;return m&&m.packageType===Xe.yR.UsageMetricsV2&&S&&(0,gt.yE)(S,3)})})).toPromise()},t.prototype.getUsageMetricsReportIfExisting=function(r,n,i,o){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(a){switch(a.label){case 0:return"Dashboard"===r||"Report"===r?[4,this.getV1UsageMetricsReportIfExisting(r,n,i)]:[3,2];case 1:case 3:return[2,a.sent()];case 2:return"ReportV2"!==r?[3,4]:[4,this.getV2UsageMetricsReportIfExisting(i)];case 4:return xe.fF.assertFail("invalid artifact type: ".concat(r)),[2]}})})},t.prototype.pushPendingUsageMetricsRequest=function(r,n){var i=this.promiseFactory.defer(),a={artifactType:this.mapArtifactTypeDuringUsageMetricsMigration(n),groupObjectId:r,defered:i};return this.pendingUsageMetricsRequests.push(a),a},t.prototype.getPackageAndNavigateToUsageMetricsReport=function(r,n,i,o,a,s,p){return(0,c.__awaiter)(this,void 0,void 0,function(){var m,S,w,E,R;return(0,c.__generator)(this,function(J){switch(J.label){case 0:return xe.fF.assert(function(){return"Dashboard"===r||"Report"===r||"ReportV2"===r},"invalid artifact."),m=this.notificationToastService.notify({title:this.localizationService.get("UsageMetrics_LoadingTitle"),message:this.localizationService.format("UsageMetrics_LoadingSubtitle",[n]),notificationType:3,sticky:!0}),this.tryAttachToPendingUsageMetricsRequestIfExisting(n,i,o,r,m)?[2]:this.currentDashboardUsageMetricsVersion&&this.currentReportUsageMetricsVersion?[3,2]:[4,this.populateCurrentUsageMetricsVersion(s.event)];case 1:J.sent(),J.label=2;case 2:if("Dashboard"===r)S=this.currentDashboardUsageMetricsVersion;else if("Report"===r)S=this.currentReportUsageMetricsVersion;else if("ReportV2"!==r)return xe.fF.assertFail("Artifact Type is neither a dashboard nor a report."),[2];return S||"ReportV2"===r?[4,this.tryNavigateToUsageMetricsReport(i,o,r,S,s.event,p)]:(xe.fF.assertFail("Failed to retrieve usage metrics version from backend."),[2]);case 3:if(J.sent())return this.onPackagePublishDone(m),[2];w=this.pushPendingUsageMetricsRequest(o,r),this.attachToPendingUsageMetricsRequest(w,n,i,o,r,m),J.label=4;case 4:return J.trys.push([4,7,8,9]),[4,this.usageMetricsHttp.getPackage(r,o,a,s.event)];case 5:return E=J.sent(),this.store.dispatch(new ZC.Zt({packages:[E]})),xe.fF.assert(function(){return 1===_.size(E.reports)},"_.size(usageMetricsPackage.reports) === 1"),this.store.dispatch(new XC.Zt({reports:E.reports})),xe.fF.assert(function(){return 1===_.size(E.models)},"_.size(usageMetricsPackage.models) === 1"),E.models[0].permissions=E.permissions,this.store.dispatch(new qC.Uo(E.models)),[4,this.reportStore.reports.pipe((0,Ft.h)(function(oe){return _.intersectionBy(oe,E.reports,function(ve){return ve.id}).length===E.reports.length}),(0,je.q)(1)).toPromise()];case 6:return J.sent(),w.defered.resolve(E.reports[0]),[3,9];case 7:throw R=J.sent(),w.defered.reject(R),R;case 8:return _.remove(this.pendingUsageMetricsRequests,w),[7];case 9:return[2]}})})},t.prototype.getContentTileFromFilters=function(r){return(0,c.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,p,m,S,w,E,R,J;return(0,c.__generator)(this,function(oe){switch(oe.label){case 0:return(n=_.head(r.filter.from().keys()))&&(i=r.filter.from().source(n))?"Reports"!==(o=i.entity)&&"Dashboards"!==o?[2]:(a=_.head(r.filter.where()))&&a.condition?(p=a.condition.right,(s=a.condition.left)&&p?(S=p.value,(m=s.ref)&&S?"ReportGuid"!==m&&"DashboardGuid"!==m?[2]:"ReportGuid"!==m?[3,2]:(E=(w=this.reportModelConverter).convertReport,[4,this.reportStore.reports.pipe((0,je.q)(1),(0,hn.zg)(function(ve){return(0,Gt.D)(ve)}),(0,Ft.h)(function(ve){return ve.objectId===S})).toPromise()]):[2]):[2]):[2]:[2];case 1:return[2,E.apply(w,[oe.sent()])];case 2:return"DashboardGuid"!==m?[3,4]:(J=(R=this.modelConverter).convertDashboard,[4,this.dashboardStore.dashboards.pipe((0,je.q)(1),(0,hn.zg)(function(ve){return(0,Gt.D)(ve)}),(0,Ft.h)(function(ve){return ve.objectId===S})).toPromise()]);case 3:return[2,J.apply(R,[oe.sent()])];case 4:xe.fF.assertFail("invalid leftRef"),oe.label=5;case 5:return[2]}})})},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(mn.t),e.\u0275\u0275inject(Ti.W),e.\u0275\u0275inject(ey),e.\u0275\u0275inject(ty.T),e.\u0275\u0275inject(Pt.vZ),e.\u0275\u0275inject(ne.yh),e.\u0275\u0275inject(ni.Q),e.\u0275\u0275inject(_e.o),e.\u0275\u0275inject(ny),e.\u0275\u0275inject(ry.j),e.\u0275\u0275inject(Nt.E),e.\u0275\u0275inject(Pa.R),e.\u0275\u0275inject(Aa),e.\u0275\u0275inject(Hb),e.\u0275\u0275inject(ka),e.\u0275\u0275inject(Oa.s),e.\u0275\u0275inject(xi.Y))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}(),Gb=function(){function t(){}return t.forRoot=function(r){return void 0===r&&(r={}),{ngModule:t,providers:[r.usageMetricsReportProvider||Qi]}},t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({}),t}(),Kb=l(49180),Qb=function(){function t(r,n,i,o,a){this.reportStore=r,this.workbookStore=n,this.dashboardStore=i,this.datasetStore=o,this.usageMetricsReport=a}return t.prototype.retrieveRelatedReportsToDashboard=function(r,n){var i=this;xe.fF.assertValue(r,"dashboard is undefined.");var o=r.reportIds;return(n?this.reportStore.getReportsByGroupId(n):this.reportStore.reports).pipe((0,P.U)(function(a){return _.filter(a,function(s){return!!s&&_.includes(o,s.id)&&!i.usageMetricsReport.isReportFromUsageMetrics(s)})}))},t.prototype.retrieveRelatedWorkbooksToDashboard=function(r){xe.fF.assertValue(r,"dashboard is undefined.");var n=r.workbookIds;return this.workbookStore.workbooks.pipe((0,P.U)(function(i){return _.filter(i,function(o){return!!o&&_.includes(n,o.id)})}))},t.prototype.retrieveRelatedDashboardsToReport=function(r){return xe.fF.assertValue(r,"report is undefined."),this.dashboardStore.dashboards.pipe((0,P.U)(function(n){return _.filter(n,function(i){return!!i&&_.includes(i.reportIds,r.id)})}))},t.prototype.retrieveRelatedModelsToDashboard=function(r,n){var i=this;return xe.fF.assertValue(r,"dashboard is undefined."),(n?this.datasetStore.getDatasetsByGroupId(n):this.datasetStore.datasets.pipe((0,P.U)(function(a){return _.map(a,function(s){return s.dataset})}))).pipe((0,P.U)(function(a){return _.chain(a).filter(function(s){return!!s&&_.includes(r.modelIds,s.id)&&!i.usageMetricsReport.modelFromUsageMetrics(s)}).value()}))},t.prototype.retrieveRelatedDashboardsToWorkbook=function(r){return(0,c.__awaiter)(this,void 0,void 0,function(){var n;return(0,c.__generator)(this,function(i){switch(i.label){case 0:return xe.fF.assertValue(r,"workbook is undefined."),[4,this.dashboardStore.dashboards.pipe((0,je.q)(1)).toPromise()];case 1:return n=i.sent(),[2,_.filter(n,function(o){return!!o&&_.includes(o.workbookIds,r.id)})]}})})},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(Pa.R),e.\u0275\u0275inject(Kb.P),e.\u0275\u0275inject(ka),e.\u0275\u0275inject(Oa.s),e.\u0275\u0275inject(Qi))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),qb=function(){function t(){}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({providers:[Qb],imports:[Gb]}),t}(),Zb=l(45411),Xb=l(14977),or=l(8816),Jb=l(31415),Yb=l(45298),e0=l(88906),qi=l(53188),Zi=l(7103),t0=l(59231),n0=l(54485),r0=l(44581),o0=l(49645),a0=l(10965),s0=l(61961),l0=[{type:p_,componentId:"CellTemplatesComponentId"},{type:pi,componentId:"FluentListTableBaseComponentId"},{type:Ee,componentId:"ArtifactListFilterPaneComponentId"},{type:x_,componentId:"FluentListFilterPaneComponentId"},{type:Ce,componentId:"ArtifactListFilterTagsComponentId"},{type:E_,componentId:"FluentListFilterComponentId"},{type:k_,componentId:"FluentListFilterTagsComponentId"},{type:W_,componentId:"FluentListSearchComponentId"},{type:j_,componentId:"FluentListGalleryComponentId"},{type:ic,componentId:"ArtifactListSearchComponentId"},{type:ut,componentId:"ArtifactListFilterComponentId"},{type:nc,componentId:"ArtifactListMessageBannerComponentId"},{type:d_,componentId:"FluentListAriaAnnouncerComponentId"}],c0=function(){function t(r){l.e("datamart").then(l.bind(l,76291)).then(function(n){r.registerIcons(n.iconSpriteSheet.sprite)})}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(n0.u))},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({providers:[Q_],imports:[ne.Aw.forFeature("artifactList",bt),DC,u.CommonModule,EC.a,ge.Ps,yr.JX,En.xg,Mi.v,FC,tn.Cl,qi.ym,re.rt,q_._,ki.g,me.Zh,AC.K,Tn.Bz,ba.N.withManifests(l0),Pi.Z,Kt.U5,qb,ri.wp,ii.x4,O.u,C.gR,tn.ZD,vn.T6,or.w,Zb.m,Zi.jz,RC.V,t0.F,Xb.B,Yb.AP,Jb.G,e0.BN]}),t}();e.\u0275\u0275setComponentScope(pi,function(){return[u.NgClass,u.NgForOf,u.NgIf,u.NgTemplateOutlet,u.NgStyle,u.NgSwitch,u.NgSwitchCase,ge.Hw,yr.YE,yr.nU,En.Sl,We.X,Be.r,tn.x0,tn.N7,qi.E$,qi.mC,re.kH,r0.t,Se.V,Kt.ty,Kt.wO,Kt.S4,Kt.t3,Kt.R3,Kt.Al,Kt.L7,Kt.ML,Kt.fg,Kt.Zw,Zi.Ml,Zi.XS,o0.l,a0.r,s0.G]},function(){return[u.AsyncPipe,Ke.F,oa]}),l(7314);var t,p0={dialogName:"TriSubfolderNamingDialog",componentName:"TriSubfolderNamingDialogComponent",config:{disableClose:!0,panelClass:["no-border","no-padding"],width:"576px"}},d0=function(){function t(r){var n=this;this.dialogService=r,this.openSubfolderNamingDialog=function(i){return n.open(i,p0)}}return t.prototype.open=function(r,n){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(o){switch(o.label){case 0:return[4,this.dialogService.openHostDialog((0,c.__assign)({bindings:r},n))];case 1:return[2,o.sent().afterClosed().toPromise()]}})})},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(An.x))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),fs=l(73150),ms=l(78035),f0=l(65152),Lr=l(59623),jr=(l(68698),l(35030)),m0=l(94771),h0=l(6814),g0=l(74466),v0=l(56506),Xi=l(8894),Ji=l(11105),pt="[Taskflow]",_0=(0,ne.PH)("".concat(pt," Show introduction")),hs=(0,ne.PH)("".concat(pt," Hide introduction")),gs=(0,ne.PH)("".concat(pt," Update taskflow metadata"),(0,ne.Ky)()),vs=(0,ne.PH)("".concat(pt," Reset taskflow")),_s=(0,ne.PH)("".concat(pt," Add template to canvas"),(0,ne.Ky)()),Yi=(0,ne.PH)("".concat(pt," update graph"),(0,ne.Ky)()),Cs=(0,ne.PH)("".concat(pt," Add task"),(0,ne.Ky)()),ys=(0,ne.PH)("".concat(pt," Remove step"),(0,ne.Ky)()),bs=(0,ne.PH)("".concat(pt," Update step metadata"),(0,ne.Ky)()),Is=(0,ne.PH)("".concat(pt," Change step type"),(0,ne.Ky)()),Ss=(0,ne.PH)("".concat(pt," Remove items from all steps"),(0,ne.Ky)()),Ts=((0,ne.PH)("".concat(pt," Link newly created item"),(0,ne.Ky)()),(0,ne.PH)("".concat(pt," Update item count"),(0,ne.Ky)())),xs=(0,ne.PH)("".concat(pt," Add link"),(0,ne.Ky)()),ws=(0,ne.PH)("".concat(pt," Update link"),(0,ne.Ky)()),Ms=(0,ne.PH)("".concat(pt," Remove link"),(0,ne.Ky)()),y0=(0,ne.PH)("".concat(pt," Remove links by step id"),(0,ne.Ky)()),Ps=(0,ne.PH)("".concat(pt," Close create item panel")),ks=(0,ne.PH)("".concat(pt," Open create item panel"),(0,ne.Ky)()),Os=(0,ne.PH)("".concat(pt," Set task to create item"),(0,ne.Ky)()),Ds=(0,ne.PH)("".concat(pt," Update pending item id to task id map"),(0,ne.Ky)()),Fs=(0,ne.PH)("".concat(pt," Select an object"),(0,ne.Ky)()),Es=(0,ne.PH)("".concat(pt," Unselect a step")),As=["general","get data","store data","prepare data","analyze and train data","track data","visualize","develop"],Rs={"get data":"getData","store data":"storeData","prepare data":"prepareData","analyze and train data":"analyzeAndTrainData","track data":"trackData",visualize:"visualizeData",general:"generalTask",develop:"develop"},Ls=function(r){return"object"==typeof r&&"error"in r},zn=function(r){return"object"==typeof r&&!("error"in r)};function js(t,r){var n;t.supportedInTaskflow&&null!==(n=t.artifactJobTypes)&&void 0!==n&&n.length&&t.artifactJobTypes.forEach(function(i){for(var o in Rs)if(Rs[o]===i){r[o].push(t.name);break}})}t={general:[],"get data":[],"store data":[],"prepare data":[],"analyze and train data":[],"track data":[],visualize:[],develop:[]},an.Ez.artifacts.forEach(function(r){js(r,t)}),Object.keys(an.v4).forEach(function(r){js(an.v4[r],t)});var S0={ingest:"get data",transform:"prepare data",store:"store data",analyze:"analyze and train data",track:"track data"};var w0=(0,ne.PH)("".concat(pt," Add items"),(0,ne.Ky)()),M0=(0,ne.PH)("".concat(pt," Open task flow"),(0,ne.Ky)()),P0=((0,ne.PH)("".concat(pt," Ensure task flow loaded"),(0,ne.Ky)()),(0,ne.PH)("".concat(pt," Create taskflow succeed"))),k0=((0,ne.PH)("".concat(pt," Create taskflow failed")),(0,ne.PH)("".concat(pt," Load task flow succeed"),(0,ne.Ky)())),O0=(0,ne.PH)("".concat(pt," Load task flow failed"),(0,ne.Ky)()),Bs=((0,ne.PH)("".concat(pt," Update taskflow succeed")),(0,ne.PH)("".concat(pt," Update taskflow failed")),function(r){return function(n){return n?function(r){return function(n){return zn(n)?r(n):void 0}}(r)(n.taskFlow):void 0}}),yn=(0,Xi.H)({selectId:function(t){return t.workspaceObjectId}}),E0=yn.getInitialState({createNewItemPanel:!1,skipsDiagramUpdate:!1,introVisible:!1}),Vt=function(r,n){var i=r.workspaceObjectId;if(!i)return r;var o=r.entities[i];if(!o)return r;var a=o.taskFlow;if("not loaded"===a||Ls(a))return r;var s="empty"===a?{steps:[],edges:[]}:a,p=(0,c.__assign)((0,c.__assign)({},s),n(s));return yn.upsertOne({workspaceObjectId:i,taskFlow:p,isNewlyCreated:o.isNewlyCreated},r)};function L0(t,r){return r?t:{objectType:"taskflow"}}function Ns(t){return function(r){return!(t.artifactObjectId&&r.artifactObjectId&&t.artifactObjectId!==r.artifactObjectId||t.artifactType!==r.artifactType||t.artifactUniqueId!==r.artifactUniqueId)}}function Un(t){return(0,c.__assign)((0,c.__assign)({},t),{selectedObject:void 0,selectedObjectTrigger:void 0})}(0,ne.Lq)(E0,(0,ne.on)(M0,function(t,r){var n=r.workspaceObjectId,i=r.state;return yn.upsertOne({workspaceObjectId:n,taskFlow:i,isNewlyCreated:"empty"===i},(0,c.__assign)((0,c.__assign)({},t),{workspaceObjectId:n}))}),(0,ne.on)(k0,function(t,r){var n=r.workspaceObjectId,i=r.taskFlow,o=i?function(t){return(0,c.__assign)((0,c.__assign)({},t),{steps:t.steps.map(function(n){if(!function(t){return As.includes(t.type)}(n)){var i=S0[n.type]||"general";return(0,c.__assign)((0,c.__assign)({},n),{type:i})}return n})})}(i):"empty";return yn.upsertOne({taskFlow:o,workspaceObjectId:n,isNewlyCreated:"empty"===o},t)}),(0,ne.on)(O0,function(t,r){return yn.upsertOne({workspaceObjectId:r.workspaceObjectId,taskFlow:{error:r.error},isNewlyCreated:!1},t)}),(0,ne.on)(P0,function(t){return yn.updateOne({id:t.workspaceObjectId,changes:{isNewlyCreated:!1}},t)}),(0,ne.on)(gs,function(t,r){var n=r.displayName,i=r.description;return Vt(t,function(){return{name:n,description:i}})}),(0,ne.on)(vs,function(t){return Vt(Un(t),function(){return{steps:[],edges:[],name:null,description:null}})}),(0,ne.on)(_s,function(t,r){var n=r.template;return Vt(t,function(i){var o=function(r){var n=new Map;return{steps:r.steps.map(function(a){return n.set(a.id,"step-"+(0,Ji.Z)()),(0,c.__assign)((0,c.__assign)({},a),{id:n.get(a.id),items:[]})}),edges:r.edges.map(function(a){return(0,c.__assign)((0,c.__assign)({},a),{id:"edge-"+(0,Ji.Z)(),source:n.get(a.source),target:n.get(a.target),fromPort:"right",toPort:"left"})})}}(n),a=(0,c.__spreadArray)((0,c.__spreadArray)([],i.steps,!0),o.steps,!0),s=(0,c.__spreadArray)((0,c.__spreadArray)([],i.edges,!0),o.edges,!0);return{name:i.name??n.name,description:i.description??n.longDescription,steps:a,edges:s}})}),(0,ne.on)(Cs,function(t,r){var n=r.task,i=Vt(t,function(o){return(0,c.__assign)((0,c.__assign)({},o),{steps:(0,c.__spreadArray)((0,c.__spreadArray)([],o.steps,!0),[n],!1)})});return(0,c.__assign)((0,c.__assign)({},i),{selectedObjectTrigger:void 0,selectedObject:{objectType:"step",id:n.id}})}),(0,ne.on)(bs,function(t,r){var n=r.stepId,i=r.name,o=r.description;return Vt(t,function(a){return{steps:a.steps.map(function(p){return p.id===n?(0,c.__assign)((0,c.__assign)({},p),{name:i,description:o}):p})}})}),(0,ne.on)(Is,function(t,r){var n=r.stepId,i=r.stepType;return Vt(t,function(o){return{steps:o.steps.map(function(s){return s.id===n?(0,c.__assign)((0,c.__assign)({},s),{type:i,recommendedItemTypes:void 0}):s})}})}),(0,ne.on)(ys,function(t,r){var n,i,o=r.stepId,a="taskflow"===(null===(n=t.selectedObject)||void 0===n?void 0:n.objectType)||null===(i=t.selectedObject)||void 0===i?void 0:i.id;return Vt(a===o?Un(t):t,function(s){return{steps:s.steps.filter(function(m){return m.id!==o})}})}),(0,ne.on)(w0,function(t,r){var i=r.taskId,o=r.items,a=r.workspaceObjectId||t.workspaceObjectId;if(void 0===a)return t;var s=t.entities[a];if(!s)return t;var p=s.taskFlow;if(!zn(p))return t;var m=p.steps.map(function(S){var w;return(0,c.__assign)((0,c.__assign)({},S),S.id===i?{items:(0,c.__spreadArray)((0,c.__spreadArray)([],S.items||[],!0),o.filter(function(E){var R;return!(null!==(R=S.items)&&void 0!==R&&R.find(Ns(E)))}),!0)}:{items:null===(w=S.items)||void 0===w?void 0:w.filter(function(E){return!o.find(Ns(E))})})});return yn.updateOne({id:a,changes:{taskFlow:(0,c.__assign)((0,c.__assign)({},p),{steps:m})}},t)}),(0,ne.on)(Ts,function(t,r){var n=r.items;return Vt(t,function(i){return{steps:i.steps.map(function(o){var a;return(0,c.__assign)((0,c.__assign)({},o),{itemCount:null===(a=o.items)||void 0===a?void 0:a.map(function(s){var p=n.find(function(S){return s.artifactUniqueId===S.uniqueId&&!S.parentUniqueId}),m=p?.isParent?n.filter(function(S){return S.parentUniqueId===p.uniqueId}).length:0;return(p?1:0)+m}).reduce(function(s,p){return s+p},0)})})}})}),(0,ne.on)(Ss,function(t,r){var n=r.removedItemIds;return Vt(t,function(i){return{steps:(i.steps||[]).map(function(a){var s=(a.items||[]).filter(function(p){return-1===n.indexOf(p.artifactUniqueId)});return(0,c.__assign)((0,c.__assign)({},a),{items:s})})}})}),(0,ne.on)(xs,function(t,r){var n=r.source.id,i=r.target.id;return Vt(t,function(o){var a=(0,c.__spreadArray)([],o?.edges||[],!0),s={id:"edge-"+(0,Ji.Z)(),source:n,target:i};return a.push(s),{edges:a}})}),(0,ne.on)(ws,function(t,r){var n=r.linkId,i=r.sourceStepId,o=r.targetStepId;return Vt(t,function(a){var s,p,m=(null!==(s=a?.edges)&&void 0!==s?s:[]).findIndex(function(R){return R.id===n});if(-1===m)return{};var S=a?.steps;if(S?.find(function(R){return R.id===i})&&S?.find(function(R){return R.id===o})){var w={id:n,source:i,target:o},E=(0,c.__spreadArray)([],null!==(p=a?.edges)&&void 0!==p?p:[],!0);return E[m]=w,{edges:E}}return{}})}),(0,ne.on)(Ms,function(t,r){var n,i,o=r.linkId,a="taskflow"===(null===(n=t.selectedObject)||void 0===n?void 0:n.objectType)||null===(i=t.selectedObject)||void 0===i?void 0:i.id;return Vt(a===o?Un(t):t,function(s){return{edges:s.edges.filter(function(m){return m.id!==o})}})}),(0,ne.on)(y0,function(t,r){var n,i,o,a=r.stepId,s=Vt(t,function(S){var w;return{edges:(null!==(w=S?.edges)&&void 0!==w?w:[]).filter(function(R){return R.source!==a&&R.target!==a})}}),p=null===(n=s.entities[s.workspaceObjectId])||void 0===n?void 0:n.taskFlow;if(p&&zn(p)&&"edge"===(null===(i=s.selectedObject)||void 0===i?void 0:i.objectType)){var m=s.selectedObject.id;if((null!==(o=p?.edges)&&void 0!==o?o:[]).every(function(S){return S.id!==m}))return Un(s)}return s}),(0,ne.on)(Yi,function(t,r){var n,i,o,a,s,p=r.edges,m=r.tasks;if(void 0!==p||void 0!==m){var S=Vt(t,function(J){return{edges:p??J.edges,steps:m??J.steps}}),w=null===(n=S.entities[S.workspaceObjectId])||void 0===n?void 0:n.taskFlow;if(w&&zn(w)){if("edge"===(null===(i=S.selectedObject)||void 0===i?void 0:i.objectType)){var E=S.selectedObject.id;if((null!==(o=w.edges)&&void 0!==o?o:[]).every(function(J){return J.id!==E}))return Un(S)}if(!Ls(w)&&"step"===(null===(a=S.selectedObject)||void 0===a?void 0:a.objectType)){var R=S.selectedObject.id;if((null!==(s=w.steps)&&void 0!==s?s:[]).every(function(J){return J.id!==R}))return Un(S)}}return S}return t}),(0,ne.on)(Ps,function(t){return(0,c.__assign)((0,c.__assign)({},t),{createNewItemPanel:!1})}),(0,ne.on)(ks,function(t,r){var n=r.defaultTask;return(0,c.__assign)((0,c.__assign)({},t),{createNewItemPanel:!0,taskToCreateItem:n})}),(0,ne.on)(Os,function(t,r){var n=r.task;return(0,c.__assign)((0,c.__assign)({},t),{taskToCreateItem:n})}),(0,ne.on)(Ds,function(t,r){var n,i=r.itemId;return(0,c.__assign)((0,c.__assign)({},t),{pendingItemIdToTaskIdMap:(0,c.__assign)((0,c.__assign)({},t.pendingItemIdToTaskIdMap),(n={},n[i]=t.taskToCreateItem.id,n))})}),(0,ne.on)(Fs,function(t,r){var n,i=null===(n=t.entities[t.workspaceObjectId])||void 0===n?void 0:n.taskFlow;return i&&zn(i)?(0,c.__assign)((0,c.__assign)({},t),{selectedObject:L0("id"in r?{id:r.id,objectType:r.objectType}:{objectType:r.objectType},i),selectedObjectTrigger:r.trigger}):t}),(0,ne.on)(Es,function(t){var r;return"step"===(null===(r=t.selectedObject)||void 0===r?void 0:r.objectType)?(0,c.__assign)((0,c.__assign)({},t),{selectedObject:{objectType:"taskflow"},selectedObjectTrigger:"filter"}):t}),(0,ne.on)(_0,function(t){return(0,c.__assign)((0,c.__assign)({},t),{introVisible:!0})}),(0,ne.on)(hs,function(t){return(0,c.__assign)((0,c.__assign)({},t),{introVisible:!1})}));var bn=(0,ne.ZF)("taskflow"),j0=(0,ne.P1)(bn,function(t){return t.workspaceObjectId}),B0=yn.getSelectors().selectEntities,Ws=(0,ne.P1)(bn,B0),N0=(0,ne.P1)(Ws,j0,function(t,r){return r?t[r]:void 0}),Br=(0,ne.P1)(N0,Bs(v0.y)),zs=((0,ne.P1)(bn,function(t){return t.introVisible}),(0,ne.P1)(Br,(0,g0.ZP)(function(t){t&&(t.edges=t.edges.map(function(r){return{id:r.id,source:r.source,target:r.target,category:r.category,fromPort:r.fromPort,toPort:r.toPort}}),t.steps=t.steps.map(function(r){return{id:r.id,name:r.name,description:r.description,items:r.items,type:r.type,loc:r.loc}}))})),(0,ne.P1)(Br,function(t){return t?.steps||[]})),q0=((0,ne.P1)(zs,function(t){return t.length>0}),(0,ne.P1)(Br,function(t){return t?.edges||[]}),(0,ne.P1)(bn,Br,function(t,r){var n=t.selectedObject,i=t.selectedObjectTrigger;if("edge"===n?.objectType){var o=r,a=o?.edges.find(function(w){return w.id===n.id}),s=o?.steps.find(function(w){return w.id===a?.source}),p=o?.steps.find(function(w){return w.id===a?.target});if(a&&s&&p)return S({id:a.id,source:s,target:p})}if("step"===n?.objectType){var m=r?.steps.find(function(w){return w.id===n.id});return S(m||r)}return S(r);function S(w){return null==w?void 0:(0,c.__assign)((0,c.__assign)({},w),{trigger:i})}}),(0,ne.P1)(bn,function(t){return t.createNewItemPanel?t.taskToCreateItem:null}),(0,ne.P1)(bn,function(t){return t.taskToCreateItem}),(0,ne.P1)(bn,function(t){return t.skipsDiagramUpdate}),Bs(function(t){return t.steps.map(function(r){return{id:r.id,name:r.name,type:r.type,items:r.items}})}),new e.InjectionToken("TaskFlowAssignmentFacade"));l(71477),l(63271);var In=function(r){return{backgroundColor:"var(--globalColor".concat(r,"Tint50)"),foregroundColor:"var(--globalColor".concat(r,"Primary)")}},ar={"get data":(0,c.__assign)((0,c.__assign)({shortName:"GetDataMenu",longName:"GetDataMenu",description:"Get_Data_Task_Description",icon:{name:"pipeline"}},In("LightGreen")),{builtInRecommendedItemType:["CopyJob","dataflow-gen2","EventStream","FunctionSet","MountedRelationalDatabase","Pipeline","SparkJobDefinition","SynapseNotebook"]}),"store data":(0,c.__assign)((0,c.__assign)({shortName:"Store",longName:"Store_Data",description:"Store_Data_Task_Description",icon:{name:"database"}},In("Blue")),{builtInRecommendedItemType:["data-warehouse","datamart","dataset","KustoEventHouse","Lakehouse"]}),"prepare data":(0,c.__assign)((0,c.__assign)({shortName:"Prepare",longName:"Prepare_Data",description:"Prepare_Data_Task_Description",icon:{name:"broom"}},In("Purple")),{builtInRecommendedItemType:["dataflow-gen2","EventStream","FunctionSet","Pipeline","SparkJobDefinition","SynapseNotebook"]}),"analyze and train data":(0,c.__assign)((0,c.__assign)({shortName:"Analyze_And_Train",longName:"Analyze_And_Train_Data",description:"Analyze_And_Train_Data_Task_Description",icon:{name:"microscope"}},In("DarkOrange")),{builtInRecommendedItemType:["Environment","MLExperiment","MLModel","SynapseNotebook","SparkJobDefinition"]}),"track data":(0,c.__assign)((0,c.__assign)({shortName:"Track",longName:"Track_Data",description:"Track_Data_Task_Description",icon:{name:"sub_grid"}},In("Magenta")),{builtInRecommendedItemType:["EventStream","KustoDashboard","KustoEventHouse","KustoQueryWorkbench","ReflexProject","scorecard"]}),visualize:(0,c.__assign)((0,c.__assign)({shortName:"Visualize",longName:"Visualize_Data",description:"Visualize_Data_Task_Description",icon:{name:"data_pie"}},In("Marigold")),{builtInRecommendedItemType:["dashboard","DataExploration","KustoDashboard","KustoQueryWorkbench","rdlreport","report","scorecard"]}),develop:(0,c.__assign)((0,c.__assign)({shortName:"Develop",longName:"Develop_Data",description:"Develop_Task_Description",icon:{name:"wrench_screwdriver"}},In("Cyan")),{builtInRecommendedItemType:["SynapseNotebook","GraphQL"]}),general:(0,c.__assign)((0,c.__assign)({shortName:"Format_Label_General",longName:"Format_Label_General",description:"General_Task_Description",icon:{name:"step"}},In("Anchor")),{builtInRecommendedItemType:[]})};function $s(t){var r=t.type,n=t.size,i=void 0===n?20:n,o=t.styles,a=void 0===o?null:o,s=t.sprite;return null===a?{name:"".concat(ar[r].icon.name,"_").concat(i),sprite:s}:{name:"".concat(ar[r].icon.name,"_").concat(i,"_").concat(a),sprite:s}}As.map(function(t){return{type:t,text:ar[t].longName}});var n1=function(){function t(r){this.iconComponent=r,this.size20=null,this.size24=null}return Object.defineProperty(t.prototype,"iconProps",{set:function(n){var i,o=(i=$s(n)).name,a=i.sprite;this.iconComponent.name=o,this.iconComponent.sprite=a,this.iconComponent.markAsDirty(),this.size20=20===n.size?"":null,this.size24=24===n.size?"":null},enumerable:!1,configurable:!0}),t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(vn.Mc))},t.\u0275dir=e.\u0275\u0275defineDirective({type:t,selectors:[["tri-svg-icon","tridentTaskIcon",""]],hostVars:2,hostBindings:function(n,i){2&n&&e.\u0275\u0275attribute("tri-svg-icon-20",i.size20)("tri-svg-icon-24",i.size24)},inputs:{iconProps:["tridentTaskIcon","iconProps"]},standalone:!0}),t}();function Vs(t,r){return t.name??r.get(ar[t.type].shortName)}var to=function(){function t(r){this.localizeService=r}return t.prototype.transform=function(r){return Vs(r,this.localizeService)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(Jn.z,16))},t.\u0275pipe=e.\u0275\u0275definePipe({name:"localizeTaskName",type:t,pure:!0,standalone:!0}),t}(),Hs=l(55334),r1=l(76688);function o1(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",3),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("tridentTaskIcon",n.selectedTaskIcon)}}var sr,Gs=function(){function t(r,n){var i=this;this.localizeTaskNamePipe=r,this.localizeService=n,this.tasks$=new Bo.y,this.taskMenuFactory=function(){return i.tasks$.pipe((0,P.U)(function(o){return o.length?{items:o.map(function(a){return i.toMenuItem(a)})}:{items:[i.noTaskMenuItem()]}}))},this.selectedTaskChange=new e.EventEmitter}return Object.defineProperty(t.prototype,"tasks",{set:function(n){this.tasks$=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedTask",{get:function(){return this._selectedTask},set:function(n){this._selectedTask=n,this.selectedTaskIcon={type:n?n.type:"general",size:20,styles:"regular"}},enumerable:!1,configurable:!0}),t.prototype.onTaskSelected=function(r){if(r.data){var n=r.data;this.selectedTaskChange.next(n),this.selectedTask=n}},t.prototype.toMenuItem=function(r){return{id:r.id,data:r,type:Lr.fz.Button,text:this.localizeTaskNamePipe.transform(r),iconBundle:$s({type:r.type,size:20})}},t.prototype.noTaskMenuItem=function(){return{type:Lr.fz.Button,text:this.localizeService.get("Task_Flow_No_Tasks_In_Workspace")}},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(to),e.\u0275\u0275directiveInject(Jn.z))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["trident-task-selector-menu"]],inputs:{tasks:"tasks",selectedTask:"selectedTask"},outputs:{selectedTaskChange:"selectedTaskChange"},standalone:!0,features:[e.\u0275\u0275ProvidersFeature([to]),e.\u0275\u0275StandaloneFeature],decls:6,vars:8,consts:[["tri-button","",1,"task-selector",3,"triMenu","triMenuButtonClick"],["tri-svg-icon-20","",3,"tridentTaskIcon",4,"ngIf"],["tri-svg-icon-12","",3,"name"],["tri-svg-icon-20","",3,"tridentTaskIcon"]],template:function(n,i){1&n&&(e.\u0275\u0275elementStart(0,"button",0),e.\u0275\u0275listener("triMenuButtonClick",function(a){return i.onTaskSelected(a)}),e.\u0275\u0275template(1,o1,1,1,"tri-svg-icon",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localizeTaskName"),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275element(5,"tri-svg-icon",2),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("triMenu",i.taskMenuFactory),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!i.selectedTaskIcon),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",i.selectedTask?e.\u0275\u0275pipeBind1(3,4,i.selectedTask):e.\u0275\u0275pipeBind1(4,6,"Step_Selector_Placeholder")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("name","chevron_down_20_regular"))},dependencies:[to,u.NgIf,n1,ms.Y,Hs.Y,Lr.up,r1.rX,vn.T6,Et.M]}),t}(),a1=l(47768),s1=function(){function t(){}return t.forRoot=function(r){return{ngModule:t,providers:[r.subfolderDialogServiceProvider]}},t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[u.CommonModule,h.u5,f.Is,It.HL,Gs,ms.Y,Lr.up,a1.I,vn.T6,f0.l,or.w]}),t}(),l1=l(75476),c1=l(46303),u1=l(22645),kn=l(57243),p1=l(82515),zr=l(23558),h1=((sr={}).Path_CannotSelectInitialSubfolder=function(t){if(!t.allowSelectItems&&t.subfolderId===t.initialSubfolderId&&t.workspaceId===t.initialWorkspaceId)return{tooltip:"Subfolder_Picker_Confirm_Button_Disabled_Tooltip_Cannot_Select_Initial_Folder"}},sr.SemanticInput_NoEmptyInput=function(t){if(!t.semanticInputValue)return{tooltip:"Subfolder_Picker_Confirm_Button_Disabled_Tooltip_No_Empty_Input"}},sr.SemanticInput_NoDuplicateName=function(t,r){var n=t.semanticInputValue,i=r.usedItemNames;if(i?.includes(n))return{tooltip:"Subfolder_Picker_Confirm_Button_Disabled_Tooltip_No_Duplicate_Name"}},sr),Ks=l(54323),g1=l(50897),v1=l(45769);function _1(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275projection(1),e.\u0275\u0275elementEnd())}function C1(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",17)(1,"tri-message-bar",18),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onHideMessageBar())}),e.\u0275\u0275elementEnd()()}if(2&t){var i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("viewModel",i.messageBarModel)}}var y1=function(r){return{"compact-new-button":r}};function b1(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(p.onNewFolderClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275element(5,"tri-svg-icon",20),e.\u0275\u0275elementStart(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()()}if(2&t){var o,a,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(17,y1,e.\u0275\u0275pipeBind1(1,7,i.compactNewButton$)))("triTooltip",null==(o=e.\u0275\u0275pipeBind1(3,11,i.newButtonStatus$))?null:o.tooltip)("triTooltipPosition","before")("triTooltipMaxWidth",200)("disabled",null==(a=e.\u0275\u0275pipeBind1(4,13,i.newButtonStatus$))?null:a.disabled),e.\u0275\u0275attribute("ariaLabel",e.\u0275\u0275pipeBind1(2,9,"New_Folder")),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,15,"New_Folder"))}}function I1(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",21)(1,"div",22)(2,"label",23),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"input",24),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.onSemanticInputChange(a))}),e.\u0275\u0275elementEnd()()}if(2&t){var i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.semanticInputLabelText),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",i.semanticInputValue$.value)("placeholder",i.semanticInputPlaceholder)}}function S1(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",28),2&t){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("triTooltip",n.data.taskSelectorConfig.labelTooltip)}}function T1(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",21)(1,"div",22)(2,"label",25),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,S1,1,1,"tri-svg-icon",26),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"trident-task-selector-menu",27),e.\u0275\u0275listener("selectedTaskChange",function(a){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.onSelectedTaskChange(a))}),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd()()}if(2&t){var i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.data.taskSelectorConfig.label),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==i.data.taskSelectorConfig?null:i.data.taskSelectorConfig.labelTooltip),e.\u0275\u0275advance(1),e.\u0275\u0275property("selectedTask",e.\u0275\u0275pipeBind1(6,4,i.selectedTask$))("tasks",i.tasks$)}}var x1=function(r){return{width:r}},w1=function(){return[]};function M1(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275template(1,C1,2,1,"div",10),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"nav",11)(4,"tri-subfolder-breadcrumbs",12),e.\u0275\u0275listener("visitSubfolder",function(a){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onVisitSubfolder(a))})("backToWorkspaceList",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onBackToWorkspaceList())}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",13),e.\u0275\u0275template(8,b1,9,19,"button",14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"mat-dialog-content"),e.\u0275\u0275projection(10,1),e.\u0275\u0275elementStart(11,"div",15),e.\u0275\u0275template(12,I1,5,3,"div",16),e.\u0275\u0275template(13,T1,7,6,"div",16),e.\u0275\u0275elementEnd()()()}if(2&t){var i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,10,i.showMessageBar$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(16,x1,i.showNewButton?"calc(100% - 128px)":"100%"))("workspace",i.selectedWorkspace)("subfolders",e.\u0275\u0275pipeBind1(5,12,i.subfolderAncestors$)||e.\u0275\u0275pureFunction0(18,w1))("showBackToWorkspaceListButton",!!e.\u0275\u0275pipeBind1(6,14,i.showBackToWorkspaceListButton$)),e.\u0275\u0275attribute("aria-label","Breadcrumbs")("aria-role","Navigation"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",i.showNewButton),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",i.semanticInputLabelText),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.taskSelectorEnabled)}}function P1(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&t){var i,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==(i=e.\u0275\u0275pipeBind1(2,1,n.confirmButtonStatus$))?null:i.tooltip)}}var k1=[[["","subfolder-picker-workspace-list",""]],[["","subfolder-picker-table",""]]],O1=["[subfolder-picker-workspace-list]","[subfolder-picker-table]"],On=function(t){return t[t.SM=0]="SM",t[t.MD=1]="MD",t[t.LG=2]="LG",t[t.XL=3]="XL",t[t.XXL=4]="XXL",t}({}),D1=function(){function t(r,n,i,o,a,s,p,m,S,w){var R,J,E=this;this.data=r,this.featureSwitchService=n,this.lazyProvider=i,this.subfolderDialogService=o,this.workspaceContext=a,this.dialogRef=s,this.localizationService=p,this.store=m,this.subfolderFacade=S,this.telemetryService=w,this.visitSubfolder=new e.EventEmitter,this.submitEvent=new e.EventEmitter,this.cancelEvent=new e.EventEmitter,this.onResize$=new k.X(void 0),this.reflowLevel$=this.onResize$.pipe((0,dn.b)(50),(0,P.U)(function(){var ee=window.innerWidth;return ee<480?On.SM:ee<640?On.MD:ee<1024?On.LG:ee<1366?On.XL:On.XXL})),this.compactMode$=new k.X(!1),this.showWorkspaceListInCompactMode$=new k.X(!1),this.showWorkspaceList$=(0,nt.aj)([this.compactMode$,this.showWorkspaceListInCompactMode$]).pipe((0,P.U)(function(ee){return E.data.allowSelectWorkspace&&(!ee[0]||ee[1])})),this.showContent$=(0,nt.aj)([this.compactMode$,this.showWorkspaceListInCompactMode$]).pipe((0,P.U)(function(ee){return!(E.data.allowSelectWorkspace&&ee[0]&&ee[1])})),this.showBackToWorkspaceListButton$=(0,nt.aj)([this.compactMode$,this.showWorkspaceListInCompactMode$]).pipe((0,P.U)(function(ee){return E.data.allowSelectWorkspace&&ee[0]&&!ee[1]})),this.compactNewButton$=this.reflowLevel$.pipe((0,P.U)(function(ee){return ee===On.SM}),(0,V.x)()),this.semanticInputValue$=new k.X(""),this.showMessageBar$=new k.X(!1),this.taskSelectorEnabled=!1,this.tasks$=(0,qe.of)([]),this.selectedTask$=new k.X(void 0),this.currentWorkspaceId$=new k.X(void 0),this.currentWorkspaceObjectId$=new k.X(void 0),this.currentSubfolderId$=new k.X(void 0),this.selectedItems$=new k.X({}),this.destroy$=new W.xQ,this.semanticInputLabelText=null!==(R=this.data.semanticInputLabelText)&&void 0!==R?R:"",this.semanticInputPlaceholder=null!==(J=this.data.semanticInputPlaceholder)&&void 0!==J?J:"",this.messageBarModel=this.data.messageBarModel,this.allowSelectItems=!!this.data.allowSelectItemTypes&&0!==this.data.allowSelectItemTypes.length,this.messageBarModel&&this.showMessageBar$.next(!0),this.showNewButton=!this.data.hideNewButton,this.initializeTaskSelector(),this.subfolders$=this.currentWorkspaceId$.pipe((0,kt.w)(function(ee){return E.store.select((0,It.Nv)(ee))})),this.currentSubfolder$=(0,nt.aj)([this.subfolders$,this.currentSubfolderId$]).pipe((0,P.U)(function(ee){var Fe=ee[1];return ee[0].find(function(be){return be.id===Fe})})),this.subfolderChildren$=(0,nt.aj)([this.subfolders$,this.currentSubfolderId$]).pipe((0,P.U)(function(ee){var Fe=ee[1];return ee[0].filter(function(Pe){return Pe.parentSubfolderId===Fe})})),this.subfolderAncestors$=(0,nt.aj)([this.subfolders$,this.currentSubfolder$]).pipe((0,P.U)(function(ee){for(var we=ee[0],Fe=ee[1],be=[];Fe;)be.unshift(Fe),Fe=we.find(function(Pe){return Pe.id===Fe?.parentSubfolderId});return be}));var oe=(0,nt.aj)([this.currentWorkspaceId$,this.currentSubfolderId$,this.selectedItems$,this.semanticInputValue$]).pipe((0,kt.w)(function(ee){var we,Fe,be=ee[0],Pe=ee[1],et=ee[3],Ye=null!==(we=E.data.enabledValidationRules)&&void 0!==we?we:[],He=[];E.allowSelectItems&&(null===(Fe=ee[2].selectedItemsMetadata)||void 0===Fe||!Fe.length)&&He.push({tooltip:E.localizationService.get("Subfolder_Picker_Confirm_Button_Disabled_Tooltip_No_Selected_Items")});for(var vt={allowSelectItems:E.allowSelectItems,workspaceId:be,subfolderId:Pe,initialWorkspaceId:E.initialWorkspaceId,initialSubfolderId:E.initialSubfolderId,semanticInputValue:et},st=0,ye=Ye;st<ye.length;st++){var De=ye[st],ze=h1[De.name];if(ze){var Ue=ze(vt,De.params);Ue&&He.push((0,c.__assign)((0,c.__assign)({},Ue),{tooltip:Ue.tooltip?E.localizationService.get(Ue.tooltip):void 0}))}}return E.data.checkConfirmButtonAvailability?(0,nt.aj)([(0,qe.of)(He),E.data.checkConfirmButtonAvailability(Pe)]).pipe((0,P.U)(function(Ne){var $e=Ne[0],Ge=Ne[1];return Ge?.disabled?(0,c.__spreadArray)((0,c.__spreadArray)([],$e,!0),[Ge],!1):$e})):(0,qe.of)(He)}));if(this.confirmButtonStatus$=oe.pipe((0,P.U)(function(ee){return ee?.length?{disabled:!0,tooltip:ee.map(function(we){return we.tooltip}).join("\n")}:{disabled:!1}})),this.showNewButton){var ve=this.currentWorkspaceObjectId$.pipe((0,kt.w)(function(ee){return ee?E.workspaceContext.workspaceIsServiceApp(ee):(0,qe.of)(!1)}));this.newButtonStatus$=(0,nt.aj)([this.currentSubfolderId$,ve]).pipe((0,kt.w)(function(ee){var we=ee[0];return ee[1]?(0,qe.of)({disabled:!0,tooltip:E.localizationService.format("Subfolder_New_Button_Disabled_Tooltip_Template_App_Workspace")}):E.subfolderFacade.getSubfolderDepthBySubfolderId(we).pipe((0,P.U)(function(be){return be<It.m8?{disabled:!1}:{disabled:!0,tooltip:E.localizationService.format("Subfolder_New_Button_Disabled_Tooltip_Max_Depth_Limitation",It.m8)}}))}))}else this.newButtonStatus$=(0,qe.of)({disabled:!1});this.workspaceContext.myFolderObjectId$.pipe((0,je.q)(1)).subscribe(function(ee){var we;return E.myWorkspaceObjectId=null!==(we=E.myWorkspaceObjectId)&&void 0!==we?we:ee}),this.reflowLevel$.pipe((0,D.R)(this.destroy$),(0,P.U)(function(ee){return ee<On.XL}),(0,V.x)()).subscribe(this.compactMode$)}return t.prototype.onResize=function(){this.onResize$.next()},t.prototype.ngOnChanges=function(){var r,n,i;this.currentWorkspaceId$.next(null===(r=this.selectedWorkspace)||void 0===r?void 0:r.id),this.currentWorkspaceObjectId$.next(null===(n=this.selectedWorkspace)||void 0===n?void 0:n.objectId),this.currentSubfolderId$.next(this.selectedSubfolderId),this.selectedItems$.next(null!==(i=this.selectedItems)&&void 0!==i?i:{})},t.prototype.ngOnInit=function(){var n,i,r=this;this.initialWorkspaceId=null===(n=this.selectedWorkspace)||void 0===n?void 0:n.id,this.initialSubfolderId=this.selectedSubfolderId,this.data.allowSelectWorkspace&&(null===(i=this.selectWorkspaceEvent$)||void 0===i||i.pipe((0,D.R)(this.destroy$)).subscribe(function(){return r.showWorkspaceListInCompactMode$.next(!1)}))},t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.prototype.initializeTaskSelector=function(){var r=this,n=this.featureSwitchService.featureSwitches;n.workspaceTemplateAndDiagram&&n.unifyTaskflowAndListView&&this.data.taskSelectorConfig&&(this.taskSelectorEnabled=!0,this.tasks$=this.currentWorkspaceObjectId$.pipe((0,D.R)(this.destroy$),(0,fn.n)(function(i){return!i}),(0,V.x)(),(0,zr.M)(this.workspaceContext.myFolderObjectId$,this.lazyProvider.get("@trident/data-task-flow#DataTaskFlowModule",q0)),(0,kt.w)(function(i){var o=i[0];return i[2].getAssignments(o="me"===o?i[1]:o)}),(0,kn.d)(1)),this.tasks$.subscribe(function(i){var o=i.find(function(a){var s;return a.id===(null===(s=r.data.taskSelectorConfig)||void 0===s?void 0:s.defaultTaskId)});r.selectedTask$.next(o)}))},t.prototype.onNewFolderClick=function(){var r=this;this.currentSubfolderId$.pipe((0,zr.M)(this.workspaceContext.myFolderObjectId$),(0,je.q)(1)).subscribe(function(n){var i=n[0],o=n[1],a=r.selectedWorkspace.isMyWorkspace?(0,c.__assign)((0,c.__assign)({},r.selectedWorkspace),{objectId:o}):r.selectedWorkspace;r.subfolderDialogService.openSubfolderNamingDialog({workspace:a,parentSubfolderId:i,isCreate:!0,entryPoint:It.Nc.subfolderPicker})})},t.prototype.onVisitSubfolder=function(r){var n,i,o;null===(n=this.telemetryService)||void 0===n||n.logStandardFeatureEvent({originatingService:"DataCloudUX",featureName:"Subfolder",activityName:"Navigate to subfolder",activityAttributes:{entryPoint:It.X3.breadcrumbsInSubfolderPicker},operationEndTime:(new Date).toISOString()});var a=this.selectedWorkspace.isMyWorkspace?null!==(i=this.myWorkspaceObjectId)&&void 0!==i?i:"me":this.currentWorkspaceObjectId$.value;null===(o=this.telemetryService)||void 0===o||o.logEvent({name:"Navigate to subfolder",properties:{entryPoint:It.X3.breadcrumbsInSubfolderPicker,workspaceObjectId:a,subfolderId:(r??"").toString()}}),this.currentSubfolderId$.next(r),this.visitSubfolder.emit(r)},t.prototype.onBackToWorkspaceList=function(){this.showWorkspaceListInCompactMode$.next(!0)},t.prototype.onConfirmClick=function(){var r=this;this.currentSubfolderId$.pipe((0,kt.w)(function(n){return n?r.subfolderFacade.getSubfolderById(n):(0,qe.of)(void 0)}),(0,zr.M)(this.workspaceContext.myFolderObjectId$),(0,je.q)(1)).subscribe(function(n){var i,o,a=n[0],m={selectedWorkspaceObjectId:r.selectedWorkspace.isMyWorkspace?n[1]:r.selectedWorkspace.objectId,selectedWorkspaceName:r.selectedWorkspace.displayName,selectedSubfolderId:a?.id,selectedSubfolderPath:a?.fullPath};r.allowSelectItems&&(m.selectedItems=null===(i=r.selectedItems)||void 0===i?void 0:i.selectedItems,m.selectedItemsMetadata=null===(o=r.selectedItems)||void 0===o?void 0:o.selectedItemsMetadata),r.semanticInputLabelText&&(m.semanticInputValue=r.semanticInputValue$.value),r.taskSelectorEnabled&&(m.selectedTask=r.selectedTask$.value),r.data.embedMode?r.submitEvent.emit(m):r.dialogRef.close(m)})},t.prototype.onCancelClick=function(){this.data.embedMode?this.cancelEvent.emit():this.dialogRef.close()},t.prototype.onSemanticInputChange=function(r){this.semanticInputValue$.next(r)},t.prototype.onHideMessageBar=function(){this.showMessageBar$.next(!1)},t.prototype.onSelectedTaskChange=function(r){this.selectedTask$.next(r)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(f.WI),e.\u0275\u0275directiveInject(m0.V$),e.\u0275\u0275directiveInject(h0.rn),e.\u0275\u0275directiveInject(It.kh),e.\u0275\u0275directiveInject(jr._),e.\u0275\u0275directiveInject(f.so),e.\u0275\u0275directiveInject(Jn.z),e.\u0275\u0275directiveInject(ne.yh),e.\u0275\u0275directiveInject(It.zC),e.\u0275\u0275directiveInject(Ks.t,8))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["tri-subfolder-picker"]],hostBindings:function(n,i){1&n&&e.\u0275\u0275listener("resize",function(a){return i.onResize(a)},!1,e.\u0275\u0275resolveWindow)},inputs:{selectedWorkspace:"selectedWorkspace",selectedSubfolderId:"selectedSubfolderId",selectedItems:"selectedItems",selectWorkspaceEvent$:"selectWorkspaceEvent$"},outputs:{visitSubfolder:"visitSubfolder",submitEvent:"submitEvent",cancelEvent:"cancelEvent"},features:[e.\u0275\u0275NgOnChangesFeature],ngContentSelectors:O1,decls:21,vars:23,consts:[["mat-dialog-title",""],["data-testid","title",1,"title","tri-subtitle1"],[1,"container",3,"ngClass"],["class","workspace-list",4,"ngIf"],["class","content",4,"ngIf"],["data-testid","confirm-button","tri-button","","appearance","primary",3,"triTooltip","triTooltipPosition","triTooltipCaretSize","triTooltipMaxWidth","disabled","click"],["confirmButtonTooltip",""],["data-testid","cancel-button","tri-button","",3,"click"],[1,"workspace-list"],[1,"content"],["class","message-bar-container",4,"ngIf"],[1,"subfolder-nav"],["tabindex","0","data-testid","tri-subfolder-breadcrumbs",1,"subfolder-nav-breadcrumbs",3,"ngStyle","workspace","subfolders","showBackToWorkspaceListButton","visitSubfolder","backToWorkspaceList"],[1,"subfolder-nav-actions"],["tri-button","","data-testid","new-button","class","new-button",3,"ngClass","triTooltip","triTooltipPosition","triTooltipMaxWidth","disabled","click",4,"ngIf"],[1,"subfolder-picker-input-fields"],["class","subfolder-picker-input-field",4,"ngIf"],[1,"message-bar-container"],[3,"viewModel","hideMessageBar"],["tri-button","","data-testid","new-button",1,"new-button",3,"ngClass","triTooltip","triTooltipPosition","triTooltipMaxWidth","disabled","click"],["name","folder_add_20_regular"],[1,"subfolder-picker-input-field"],[1,"subfolder-picker-input-label-container"],["for","semanticInput",1,"semantic-input-label","subfolder-picker-input-label","tri-body1"],["id","semanticInput","type","text",1,"semantic-input-box","tri-body1",3,"ngModel","placeholder","ngModelChange"],["for","taskSelector",1,"task-selector-label","subfolder-picker-input-label","tri-body1"],["class","task-selector-info-icon","name","info_16_regular","tri-svg-icon-16","",3,"triTooltip",4,"ngIf"],["id","taskSelector",1,"task-selector",3,"selectedTask","tasks","selectedTaskChange"],["name","info_16_regular","tri-svg-icon-16","",1,"task-selector-info-icon",3,"triTooltip"],[1,"confirm-button-tooltip"]],template:function(n,i){if(1&n&&(e.\u0275\u0275projectionDef(k1),e.\u0275\u0275elementStart(0,"header")(1,"div",0)(2,"h1",1),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(4,"div",2),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275template(6,_1,2,0,"div",3),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementStart(8,"main"),e.\u0275\u0275template(9,M1,14,19,"div",4),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementStart(11,"mat-dialog-actions")(12,"button",5),e.\u0275\u0275listener("click",function(){return i.onConfirmClick()}),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,P1,3,3,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(18,"button",7),e.\u0275\u0275listener("click",function(){return i.onCancelClick()}),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275elementEnd()()()()),2&n){var a,s,o=e.\u0275\u0275reference(17);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.data.title),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pipeBind1(5,11,i.compactMode$)?"compact":"standard"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(7,13,i.showWorkspaceList$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(10,15,i.showContent$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("triTooltip",null!=(a=e.\u0275\u0275pipeBind1(13,17,i.confirmButtonStatus$))&&a.tooltip?o:void 0)("triTooltipPosition","before")("triTooltipCaretSize","small")("triTooltipMaxWidth",200)("disabled",null==(s=e.\u0275\u0275pipeBind1(14,19,i.confirmButtonStatus$))?null:s.disabled),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",i.data.confirmButtonText," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(20,21,"ModalDialog_Cancel"))}},dependencies:[u.NgClass,u.NgIf,u.NgStyle,h.Fj,h.JJ,h.On,f.uh,f.xY,f.H8,g1.q,Gs,v1.h,Et.M,wr.Z,u.AsyncPipe,Hs.Y],styles:[".cdk-overlay-pane.subfolder-picker{border-radius:var(--global-corner-radius-extralarge)}[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:24px 0;background:var(--colorNeutralBackground1);box-shadow:var(--shadow64);border-radius:var(--global-corner-radius-extralarge)}header[_ngcontent-%COMP%]{display:flex;margin:0 24px 8px}.mat-mdc-dialog-title[_ngcontent-%COMP%]{margin:0;padding:0}.mat-mdc-dialog-title[_ngcontent-%COMP%]:before{display:none}.title[_ngcontent-%COMP%]{color:var(--colorNeutralForeground1);margin:0}.container[_ngcontent-%COMP%]{width:calc(100% - 48px);padding:0 24px;display:flex;gap:24px}.container.compact[_ngcontent-%COMP%]{flex-direction:column}.workspace-list[_ngcontent-%COMP%]{flex:1 1 auto;display:flex}main[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.container.standard[_ngcontent-%COMP%]   .workspace-list[_ngcontent-%COMP%] + main[_ngcontent-%COMP%]{width:calc(100% - 316px)}.content[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column}.message-bar-container[_ngcontent-%COMP%]{margin-bottom:8px}.subfolder-nav[_ngcontent-%COMP%]{height:32px;box-sizing:border-box;width:100%;display:flex;gap:8px}.subfolder-nav-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:4px;margin-right:8px}.new-button.compact-new-button[_ngcontent-%COMP%]{padding:0 6px}.new-button.compact-new-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}tri-subfolder-breadcrumbs[_ngcontent-%COMP%]{flex-grow:1}.mat-mdc-dialog-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:400px;display:flex;flex-direction:column;gap:8px;margin:16px 0 8px;padding:0}.subfolder-picker-input-fields[_ngcontent-%COMP%]{display:flex;gap:8px;flex-direction:column}.subfolder-picker-input-field[_ngcontent-%COMP%]{display:flex;gap:12px;flex-direction:row}.subfolder-picker-input-label-container[_ngcontent-%COMP%]{width:140px;display:flex;align-items:center}.subfolder-picker-input-label[_ngcontent-%COMP%]{font-weight:var(--fontWeightSemibold);color:var(--colorNeutralForeground1);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.semantic-input-box[_ngcontent-%COMP%]{padding:5px 10px;box-sizing:border-box;border:1px solid var(--colorNeutralStroke1);border-radius:4px;border-bottom-color:var(--colorNeutralStrokeAccessible);flex-grow:1}.semantic-input-box[_ngcontent-%COMP%]:hover{border:1px solid var(--colorNeutralStroke1Hover);border-bottom-color:var(--colorNeutralStrokeAccessible)}.semantic-input-box[_ngcontent-%COMP%]:focus-visible{outline:none;border:1px solid var(--colorNeutralStroke1Hover);border-bottom:2px solid var(--colorBrandStroke1)}.semantic-input-box[_ngcontent-%COMP%]::placeholder{font-family:var(--fontFamilyBase);font-weight:var(--fontWeightRegular);font-size:var(--fontSizeBase300);line-height:var(--lineHeightBase300);color:var(--colorNeutralForeground4)}.task-selector-info-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground3);margin-left:4px}.mat-mdc-dialog-actions[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;min-height:0px;display:flex;justify-content:flex-end;gap:10px;padding:0}.confirm-button-tooltip[_ngcontent-%COMP%]{white-space:pre-wrap}"],changeDetection:0}),t}(),Qs=l(77445),no=l(34763),lr=l(28039);function ro(t,r,n){if(t)return t.givenName?t.familyName?t.givenName+" "+t.familyName:n?void 0:t.givenName:r&&!n?t.emailAddress:void 0}var Ur,F1=l(49889),cr=l(50600),E1=l(25082),L1=(0,Xi.H)().getInitialState({selectedMetricId:null}),qs="metricSet",B1=(0,Xi.H)({selectId:function(r){return r.objectId}}).getInitialState({selectedMetrichubArtifactId:null,metricSetGroupIdMap:{},showDuplicateNameError:!1,isNewMetricSet:!1}),cn=((Ur={}).metric=L1,Ur[qs]=B1,(0,ne.ZF)(qs)),N1=(0,ne.P1)(cn,function(t){return t.selectMetrichubArtifactId}),W1=(0,ne.P1)(cn,N1,function(t,r){return _.find(t.entities,function(n){return n.objectId===r})}),Zs=((0,ne.P1)(cn,function(t){return t.metricSetGroupIdMap}),(0,ne.P1)(cn,function(t){return t.showDuplicateNameError}),(0,ne.P1)(cn,function(t){return t.isNewMetricSet}),{year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"});function Xs(t){if(t){var r=ro(t.ownerInfo);return{artifactId:t.id,artifactObjectId:t.objectId,artifactType:cr.B.Dashboard,folderId:t.folderId,title:t.displayName,ownerName:r,ownerEmail:t.ownerInfo&&t.ownerInfo.emailAddress,ownerGroupObjectId:t.ownerInfo&&t.ownerInfo.groupObjectId,isFromOrgContentProvider:(0,gt.yE)(t.permissions,17),contract:t}}}(0,ne.P1)(nn.W$,function(t){return Xs(t)}),(0,ne.P1)(on.JJ,function(t){return t&&{title:t.displayName||t.name}}),(0,ne.P1)(on.JJ,lr.nU,function(t,r){if(t)return function(t,r){return(0,c.__assign)((0,c.__assign)({title:t.displayName||t.name,artifactObjectId:t.objectId,artifactId:t.id,artifactType:cr.B.Datamart,folderId:t.folderId,ownerName:t.ownerUser?(0,Mn.P)(t.ownerUser.givenName,t.ownerUser.familyName,t.ownerUser.emailAddress):"",isFromOrgContentProvider:!1},r&&{artifactEndorsement:r}),{lastRefreshDate:(0,ft.A7)("/Date(".concat(new Date(t.lastRefreshTimeUTC).getTime(),")/"),{format:Zs}),lastRefreshDateTime:(0,ft.A7)("/Date(".concat(new Date(t.lastRefreshTimeUTC).getTime(),")/"),{format:Zs}),description:t.description,contract:t})}(t,r[t.objectId])}),(0,ne.P1)(F1.mu,function(t){return function(t){if(t)return{title:t.displayName,artifactId:t.id,artifactObjectId:t.objectId,artifactType:cr.B.Dataflow,folderId:t.folderId,ownerName:t.ownerUser.givenName,ownerEmail:t.ownerUser.givenName&&t.ownerUser.userPrincipalName,isFromOrgContentProvider:!1,contract:t}}(t)}),(0,ne.P1)(E1.bC,lr.x0,function(t,r){return t&&function(t,r){var n,i;return(0,c.__assign)((0,c.__assign)({title:t.displayName,artifactId:void 0,artifactObjectId:t.objectId,artifactType:cr.B.Artifact,ownerName:null===(n=t.ownerUser)||void 0===n?void 0:n.name,creatorUPN:null===(i=t.createdByUser)||void 0===i?void 0:i.userPrincipalName,description:t.description,isFromOrgContentProvider:!1},r&&{artifactEndorsement:r}),{contract:t})}(t,r[t.objectId])}),(0,ne.P1)(W1,function(t){if(t)return function(t){var r,n;return{title:t.displayName,artifactId:void 0,artifactObjectId:t?.objectId,artifactType:cr.B.Artifact,ownerName:null===(r=t?.ownerUser)||void 0===r?void 0:r.name,creatorUPN:null===(n=t?.createdByUser)||void 0===n?void 0:n.userPrincipalName,description:t?.description,isFromOrgContentProvider:!1,contract:{objectId:t?.objectId,artifactType:"MetricSet",displayName:t?.displayName,description:t?.description,folderObjectId:t?.folderObjectId,provisionState:t?.provisionState,lastUpdatedDate:t?.lastUpdatedDate,capacityObjectId:t?.capacityObjectId}}}(t)});var so,Hr,fr,Gr,Kr,mr,X1=l(48761),ur=l(31683),oo=l(18405),J1=l(65394),Ys=l(84836),Y1=(0,ne.P1)(rt.ey,function(t){return t?t.datamartIds:[]}),el=((0,ne.P1)(rt.VL,on.WZ,function(t,r){return t&&_.map(t.datamartIds,function(n){return r[n]})}),function(r,n,i,o){return(n||[]).map(function(a){return r[a]}).filter(function(a){return null!=a}).map(function(a){return(0,c.__assign)((0,c.__assign)({},a),{artifactInformationProtection:i[a.objectId],artifactEndorsement:o[a.objectId]})})}),eI=function(r){return(0,ne.P1)((0,rt.KB)(r),on.WZ,Ys.xZ,lr.nU,function(n,i,o,a){return el(i,n?.datamartIds,o,a)})},tI=(0,ne.P1)(rt.LD,Y1),tl=(0,ne.P1)(on.WZ,tI,Ys.xZ,lr.nU,el),nl=l(7440),rl=l(9562);function il(t){return String(t)}oo.GM.getInitialState({selectedDatasetId:null,sharedDatasetsLoadedForCurrentWorkspace:!1,readonlySharedDatasetsLoaded:!1}),rt.EO.getInitialState({selectedGroupId:null,adminWorkspaceFolderId:null,myFolderObjectId:null,entities:(so={},so[St.fm]=(0,c.__assign)((0,c.__assign)({},{loaded:!1,loading:!1,loadedWithError:!1,isStale:!1,isStub:!1,isFolder:!1,dashboardIds:[],reportIds:[],workbookIds:[],datasetIds:[],cdsaModelIds:[],datamartIds:[],subfolderIds:void 0,displayName:void 0,objectId:void 0,permissions:void 0}),{objectId:St.fm,isMyWorkspace:!0}),so),ids:[St.fm],initialMetadataLoaded:!1,loading:!0,loaded:!1,loadedWithError:!1,areFolderArtifactsLoaded:!1,domainFilters:[]}),(Hr={LearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128124",Description:"SettingsDataflow_Endorsement_DiscoverText_New",CertifyDescription:"SettingsDataflow_Endorsement_Certify_Action_Description",HowToCertify:"SettingsDataflow_Endorsement_Certified_LearnMore",HowToMasterData:"SettingsDataflow_Endorsement_MasterData_LearnMore",HowToCertifyLink:"https://go.microsoft.com/fwlink/?linkid=2132725",DeCertifyWarning:"SettingsDataflow_Endorsement_DeCertifyWarning"})[j.pW.None]="SettingsDataflow_Endorsement_None_Description",Hr[j.pW.Promoted]="SettingsDataflow_Endorsement_Promoted_Description_New",(fr={LearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128124",Description:"SettingsDataset_Properties_DiscoverText_New",CertifyDescription:"SettingsDataset_Endorsement_Certify_Action_Description",CertifyMasterDataDescription:"SettingsDataset_Endorsement_Certify_Action_Description_MasterData",HowToCertify:"SettingsDataset_Endorsement_Certified_LearnMore",HowToMasterData:"SettingsDataset_Endorsement_MasterData_LearnMore",HowToCertifyLink:"https://go.microsoft.com/fwlink/?linkid=2132725",DeCertifyWarning:"SettingsDataset_Properties_Endorsement_DeCertifyWarning",DeCertifyMasterDataWarning:"SettingsDataset_Properties_Endorsement_DeCertifyMasterDataWarning"})[j.pW.None]="SettingsDataset_Properties_Endorsement_None_Description",fr[j.pW.Promoted]="SettingsDataset_Properties_Endorsement_Promoted_Description_New",fr[j.pW.MasterData]="SettingsArtifact_Endorsement_MasterData",(Gr={LearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128124",Description:"SettingsReport_Endorsement_Description",CertifyDescription:"SettingsReport_Certify_Action_Description",HowToCertify:"SettingsReport_Certify_LearnMore",HowToMasterData:"SettingsReport_MasterData_LearnMore",HowToCertifyLink:"https://go.microsoft.com/fwlink/?linkid=2132725",DeCertifyWarning:"SettingsReport_Endorsement_DeCertifyWarning"})[j.pW.None]="SettingsReport_Endorsement_Standard",Gr[j.pW.Promoted]="SettingsReport_Endorsement_Promoted",(Kr={LearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128124",Description:"SettingsApp_Endorsement_DiscoverText",CertifyDescription:"SettingsApp_Endorsement_Certify_Action_Description",HowToCertify:"SettingsApp_Endorsement_Certified_LearnMore",HowToMasterData:"SettingsApp_Endorsement_MasterData_LearnMore",HowToCertifyLink:"https://go.microsoft.com/fwlink/?linkid=2132725",DeCertifyWarning:"SettingsApp_Endorsement_DeCertifyWarning"})[j.pW.None]="SettingsApp_Endorsement_None_Description",Kr[j.pW.Promoted]="SettingsApp_Endorsement_Promoted_Description",(mr={LearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128124",Description:"SettingsDatamart_Endorsement_DiscoverText_New",CertifyDescription:"SettingsDatamart_Endorsement_Certify_Action_Description",CertifyMasterDataDescription:"SettingsDatamart_Endorsement_Certify_Action_Description_MasterData",HowToCertify:"SettingsDatamart_Endorsement_Certified_LearnMore",HowToMasterData:"SettingsDatamart_Endorsement_MasterData_LearnMore",HowToCertifyLink:"https://go.microsoft.com/fwlink/?linkid=2132725",DeCertifyWarning:"SettingsDatamart_Endorsement_DeCertifyWarning",DeCertifyMasterDataWarning:"SettingsDatamart_Endorsement_DeCertifyMasterDataWarning"})[j.pW.None]="SettingsDatamart_Endorsement_None_Description",mr[j.pW.Promoted]="SettingsDatamart_Endorsement_Promoted_Description_New",mr[j.pW.MasterData]="SettingsArtifact_Endorsement_MasterData";var ml=l(83296),kI=l(56894);function Qr(t){return(0,gt.yE)(t,6)}var OI=l(9027),DI=l(42369),FI=l(59844),hl=l(33025),EI=l(69195),_l="last-refresh",Cl="next-refresh",bl="includeInApp";function WI(t){var r=t.groupId,n=t.objectId,i=(0,xn.sK)(t)?"streaming-dataflow":"dataflows";return"/groups/".concat(r,"/").concat(i,"/").concat(n)}function zI(t){return"/workloads/dataflows/author/capacityObjectId/".concat(t.capacityObjectId,"/dataflowId/").concat(t.dataflowId,"/extensionActionId/").concat(Bt.b$.generateGuid(),"/workspaceObjectId/").concat(t.workspaceObjectId)}function UI(t){return"/groups/"+(t.groupId||"me")+"/dashboards/"+t.objectId}var VI=l(83359);function GI(t,r){var n=t.datamartType,i=t.groupId,o=t.objectId,a=t.status,s=((0,VI.LP)(a)||2===a)&&r,p="/groups/".concat(i,"/").concat((0,pn.LC)(n),"/").concat(o);return s?p:void 0}function KI(t,r){return t.dbName?"/groups/"+r+"/datasets/"+t.dbName+"/details":""}function QI(t){return(0,c.__assign)((0,c.__assign)({},t),{contentTileType:Xe.ty.Dataset,getPermissions:function(){return t.permissions},contract:t,displayName:t.displayName||""})}function Sl(t){return ro(t.ownerInfo,!0,!0)||t.ownerFullname||ro(t.ownerInfo,!0,!1)||""}function Tl(t){var r=t.contentTileType===Xe.ty.RdlReport?"rdlreports":"reports";return"/groups/".concat(t.groupId||"me","/").concat(r,"/").concat(t.objectId)}function xl(t,r,n){var i=(0,Tr.EL)(t);return(0,c.__assign)((0,c.__assign)({},t),{contract:t,contentTileType:1===t.reportType?Xe.ty.RdlReport:Xe.ty.Report,getPermissions:function(){return t.permissions},isOwner:function(){return!(7&~t.permissions)},groupId:r,isExpanded:n&&n.has(i),displayName:t.displayName||"",uniqueId:i})}function qI(t){return"/groups/"+(t.groupId||"me")+"/workbooks/"+(0,xr.E)(t)}function XI(t){return function(t,r){return t.webUri&&t.etagHash?t.webUri+"/_layouts/WopiFrame.aspx?sourcedoc={"+t.etagHash+"}&action=edit":""}(t)}var Zt={year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},zt=window,eS=function(t){function r(n,i,o,a,s,p,m,S,w,E,R,J,oe,ve,ee,we,Fe,be){var Pe=t.call(this)||this;return Pe.fluentListFilterService=n,Pe.store=i,Pe.localizationService=o,Pe.lazyProvider=a,Pe.featureSwitchService=s,Pe.telemetryService=p,Pe.usageMetricsReport=m,Pe.extensionManifestService=S,Pe.subfolderContextService=w,Pe.subfolderFacade=E,Pe.multiSelectionService=R,Pe.tridentFluentListItemService=J,Pe.workspaceContext=oe,Pe.selectedWorkspaceObjectId$=ve,Pe.selectedSubfolderId$=ee,Pe.options=we,Pe.trialCapacityMetadataService=Fe,Pe.tagsRepository=be,Pe.destroy$=new W.xQ,Pe.dataOfEntireWorkspaceSubscription=no.w.EMPTY,Pe.dataOfCurrentAndSubfoldersSubscription=no.w.EMPTY,Pe.dataSubscription=no.w.EMPTY,Pe.dataOfEntireWorkspace=[],Pe.dataOfCurrentAndSubfolders=[],Pe.currentWorkspaceObjectId="",Pe.sortingDataAccessor=function(Ve,et){var Ye,He,vt,st,ye;switch(et){case"name":return null===(Ye=Ve.displayName)||void 0===Ye?void 0:Ye.toLocaleLowerCase();case"location":return null===(He=Ve.location)||void 0===He?void 0:He.toLocaleLowerCase();case"type":return null===(vt=Ve.typeName)||void 0===vt?void 0:vt.toLocaleLowerCase();case"owner":return null===(st=Ve.owner)||void 0===st?void 0:st.toLocaleLowerCase();case _l:return Ve.lastRefreshDate&&Ve.lastRefreshDate.getTime();case Cl:return Ve.nextRefreshDate&&Ve.nextRefreshDate.getTime();case bl:return Ve.isSelectableAppArtifact?Ve.canToggleSelection?null!==(ye=Ve.contract)&&void 0!==ye&&ye.isStaging?1:3:2:0;case"Sensitivity":return(0,kI.s4)(Ve.artifactInformationProtection);case"endorsement":return function(t){var r;switch(null===(r=t.endorsement)||void 0===r?void 0:r.stage){case j.X_.MasterData:return"a";case j.X_.Certified:return"b";case j.X_.Promoted:return"c";default:return"d"}}(Ve);case"task":return Pe.getTaskOrderBy(Ve);default:(0,St.sr)("unsupported sort header id: ".concat(et))}},Pe.sortData=function(Ve,et){var Ye=et.active,He=et.direction;if(!Ye||""===He)return zt.isTrident&&Pe.featureSwitchService.featureSwitches.parentChildInWorkspace?Pe.makeParentFollowedByChild(Ve):Ve;var vt=Ve.sort(function(st,ye){var De=Pe.sortingDataAccessor(st,Ye),ze=Pe.sortingDataAccessor(ye,Ye);if(16===st.type&&16!==ye.type)return-1;if(16!==st.type&&16===ye.type)return 1;var Ue=typeof De,Ne=typeof ze;Ue!==Ne&&("number"===Ue&&(De+=""),"number"===Ne&&(ze+=""));var $e=0;return null!=De&&null!=ze?De>ze?$e=1:De<ze&&($e=-1):null!=De?$e=1:null!=ze&&($e=-1),$e*("asc"===He?1:-1)});return zt.isTrident&&Pe.featureSwitchService.featureSwitches.parentChildInWorkspace?Pe.makeParentFollowedByChild(vt):vt},Pe.filterPredicate=function(Ve,et){var Ye=new Map(JSON.parse(et));if(_.isEmpty(Ye))return!0;if(zt.isTrident&&Pe.featureSwitchService.featureSwitches.parentChildInWorkspace){for(var He=Ve.parentUniqueId?Pe.data.find(function(ze){return ze.uniqueId===Ve.parentUniqueId}):Ve,vt=Ve.isParent?Pe.data.filter(function(ze){return ze.parentUniqueId===Ve.uniqueId}):Ve.parentUniqueId?Pe.data.filter(function(ze){return Ve.parentUniqueId===ze.parentUniqueId}):[],st=0,ye=(0,c.__spreadArray)([He],vt,!0);st<ye.length;st++){var De=ye[st];if(De&&Pe.filterFunction(De,Ye))return!0}return!1}return Pe.filterFunction(Ve,Ye)},Pe.init(),Pe}return(0,c.__extends)(r,t),r.prototype.filterFunction=function(n,i){return Array.from(i.keys()).map(function(o){var a,s,p,m,S=i.get(o);if(null===S)return!0;var w=n[o];switch(o){case"name":return!S||(null===(a=n.displayName)||void 0===a?void 0:a.toLocaleLowerCase().indexOf(S.toLocaleLowerCase()))>-1||(null===(s=n.owner)||void 0===s?void 0:s.toLocaleLowerCase().indexOf(S.toLocaleLowerCase()))>-1;case"type":return function(t,r){var n=8===r.type&&r.isStreaming?9:r.type;return 0===t.length||t.some(function(i){return Fn(i)&&r.triType?i===r.triType:i===n})}(S,n);case"owner":return 0===S.length||-1!==S.indexOf(w);case bl:return n.isSelectableAppArtifact&&!!n.canToggleSelection&&!(null!==(p=n.contract)&&void 0!==p&&p.isStaging)===S;case _l:case Cl:return!!w&&w.valueOf()>=S[0]&&w.valueOf()<=S[1];case"task":return null===(m=n.taskflowTasks)||void 0===m?void 0:m.some(function(E){return E.id===S})}}).reduce(function(o,a){return a&&o})},r.prototype.ngOnDestroy=function(){this.dataOfEntireWorkspaceSubscription.unsubscribe(),this.dataOfCurrentAndSubfoldersSubscription.unsubscribe(),this.dataSubscription.unsubscribe(),this.destroy$.next(),this.destroy$.complete()},r.prototype.init=function(){var i,o,a,s,p,m,S,w,E,R,n=this,J=this.getWorkspaceRawData(this.selectedWorkspaceObjectId$);J.pipe((0,D.R)(this.destroy$)).subscribe(function(ye){return n.currentWorkspaceObjectId=ye.workspaceObjectId});var oe=null!==(i=this.options)&&void 0!==i&&i.loadTags&&zt.isTrident&&this.featureSwitchService.featureSwitches.taggingMain_HEAD_tagging_FE&&this.tagsRepository?J.pipe((0,V.x)(function(ye,De){return ye.workspace.workspaceId===De.workspace.workspaceId}),(0,hn.zg)(function(ye){var De=ye.workspace,ze=De.workspaceId||De.objectId;return ze?n.tagsRepository.getWorkspaceTags(ze).pipe((0,jn.K)(function(){return(0,qe.of)(null)})):(0,qe.of)(null)})):(0,qe.of)(null),ve=(0,nt.aj)([J,this.store.select(ur.l1)]).pipe((0,P.U)(function(ye){var De=ye[0],ze=ye[1],Ue=De.workspace,$e=De.workspacePublishedApp;return _(De.dashboards).filter(function(Ge){return!Ge.isHidden&&!n.isFromUnpublishedApp(Ge)}).map(function(Ge){var ot=function(t,r,n){var i=(0,gi.E)(t);return(0,c.__assign)((0,c.__assign)({},t),{contentTileType:Xe.ty.Dashboard,getPermissions:function(){return t.permissions},contract:t,groupId:r,isExpanded:n,displayName:t.displayName||"",uniqueId:i})}(Ge,Ue.objectId);return n.createFluentListItemFromDashboard(ot,ze,Ue,$e)}).value()})),ee=(0,nt.aj)([J,this.store.select(oo.vw),this.store.select(ur.l1),this.store.select(rt.iF),this.store.select(jt.zu)]).pipe((0,P.U)(function(ye){var De=ye[0],ze=ye[1],Ue=ye[2],Ne=ye[3],$e=ye[4],Ge=De.workspace,ot=De.reports,_t=De.workspacePublishedApp;return _.remove(ot,function(it){var xt=it?.packageId,Rt=xt&&_.size($e)?$e[xt]:void 0;return!!Rt&&!Rt?.serviceAppObjectId&&Rt?.contentProviderRefId&&!!it?.originalReportObjectId}),_(ot).filter(function(it){return _.isEmpty(Ne)||Ge.objectId!==Bn.wku?!it.isHidden&&it.workspaceId===Ge.objectId:!it.isHidden&&(it.workspaceId===Ge.objectId||it.workspaceId===Ne)}).map(function(it){var xt=xl(it,Ge.objectId);return n.createFluentListItemFromReport(xt,ze,Ue,Ge,_t)}).value()})),we=(0,nt.aj)([J,this.store.select(oo.vw),this.store.select(ur.l1)]).pipe((0,P.U)(function(ye){var De=ye[0],ze=ye[1],Ue=ye[2],Ne=De.workspace,Ge=De.workspacePublishedApp;return _(De.scorecards).filter(function(ot){return!ot.isHidden}).map(function(ot){var _t=xl(ot,Ne.objectId);return n.createFluentListItemFromScorecard(_t,ze,Ue,Ne,Ge)}).value()})),Fe=(0,nt.aj)([J,this.store.select(jt.zu),this.store.select(ur.l1)]).pipe((0,P.U)(function(ye){var De=ye[0],ze=ye[1],Ue=ye[2],Ne=De.workspace,Ge=De.contentPacks,ot=De.workspacePublishedApp,_t=function(t,r){var n=_.flatten(_.map(r,function(i){return i.workbookIds||[]}));return _.map(t,function(i){return i.isUsedByContentPack=_.includes(n,i.id),i})}(_(De.workbooks).filter(function(it){return!it.isHidden}).map(function(it){return function(t,r,n){return(0,c.__assign)((0,c.__assign)({},t),{contract:t,contentTileType:Xe.ty.Workbook,uniqueId:(0,xr.E)(t),getPermissions:function(){return t.permissions},isOwner:function(){return!(7&~t.permissions)},groupId:r,isExpanded:n,editUrl:XI(t),displayName:t.displayName||""})}(it,Ne.objectId)}).value(),Ge);return _.map(_t,function(it){return n.createFluentListItemFromWorkbook(it,ze,Ue,Ne,ot)})})),be=(0,nt.aj)([J,this.store.select(lr.nU),null!==(a=null===(o=this.trialCapacityMetadataService)||void 0===o?void 0:o.userTrialCapacities$)&&void 0!==a?a:(0,qe.of)({})]).pipe((0,P.U)(function(ye){var De=ye[0],ze=ye[1],Ue=ye[2],Ne=De.workspace,Ge=De.isPremiumWorkspace;if(n.featureSwitchService.featureSwitches.datamart){var ot=_.filter(De.datamarts,function(_t){return n.featureSwitchService.featureSwitches.lakehouseModeling||!n.isLakeWarehouseArtifact(_t)});return _.map(ot,function(_t){var it;_t.stage=null===(it=ze[_t.objectId])||void 0===it?void 0:it.stage;var xt=function(t,r){return(0,c.__assign)((0,c.__assign)({},t),{contentTileType:Xe.ty.Datamart,contract:t,groupId:r,getPermissions:function(){return t.permissions},displayName:t.displayName||"",ownerUser:t.ownerUser})}(_t,Ne.objectId);return n.createFluentListItemFromDatamart(xt,Ne?.displayName,Ge,Ne?.capacityObjectId||"",Ue,n.featureSwitchService.featureSwitches.fabricTrialEndMarker)})}})),Pe=J.pipe((0,P.U)(function(ye){var De=ye.workspace,Ue=ye.contentPacks,Ne=ye.isPremiumWorkspace,$e=De.folderId;return _.chain(_.map(function(t,r){var n=_.flatten(_.map(r,function(i){return i.modelIds||[]}));return _.map(t,function(i){return i.isUsedByContentPack=_.includes(n,i.id),i})}(_.filter(ye.datasets,function(Ge){return!Ge.isHidden}),Ue),QI)).filter(function(Ge){return!Xn.CI.isLinked(Ge.contract,$e)}).map(function(Ge){return n.createFluentListItemFromDataset(Ge,$e,De.displayName,De.isMyWorkspace,De.objectId,Ne)}).value()})),Ve=(0,nt.aj)([J,this.store.select(rt.T),null!==(p=null===(s=this.trialCapacityMetadataService)||void 0===s?void 0:s.userTrialCapacities$)&&void 0!==p?p:(0,qe.of)({}),this.featureSwitchService.featureSwitches$]).pipe((0,P.U)(function(ye){var De=ye[0],Ue=ye[2],Ne=ye[3],$e=De.workspace,it=Ne.cdsaFrontend&&(zt.isTrident?n.featureSwitchService.featureSwitches.enableGen2DataflowsInTrident:n.featureSwitchService.featureSwitches.enableGen2DataflowsInPowerBI)&&(De.isPremiumWorkspace||Ne.enableGen2DataflowsForSharedWorkspaces),xt=!!Ne.fabricTrialEndMarker;return _.map(function(t,r){return t?_(t).filter(function(i){return i?.folderId===r&&function(t){switch(t.state){case 3:case-1:return!1;case 0:case void 0:return 2===t.generation&&null!=t.publishStatus&&(2===t.publishStatus||3===t.publishStatus||4===t.publishStatus||5===t.publishStatus);case 1:case 2:return!0;default:return!1}}(i)}).value():[]}(De.cdsaModels,$e.id),function(Rt){var un,Sn=function(t,r){return(0,c.__assign)((0,c.__assign)({},t),{contentTileType:Xe.ty.CdsaModel,contract:t,groupId:r,getPermissions:function(){return t.permissions},displayName:t.displayName||""})}(Rt,$e.objectId);return n.createFluentListItemFromCdsaModel(Sn,$e.capacityObjectId,null!==(un=$e.workspaceId)&&void 0!==un?un:$e.objectId,it,Ue,xt)})})),et=zt.isTrident?(0,nt.aj)([J,this.featureSwitchService.featureSwitches$.pipe((0,fn.n)(function(ye){return!ye})),null!==(S=null===(m=this.trialCapacityMetadataService)||void 0===m?void 0:m.userTrialCapacities$)&&void 0!==S?S:(0,qe.of)({})]).pipe((0,V.x)(function(ye,De){return _.isEqual(ye,De)}),(0,hn.zg)(function(ye){var De=ye[0],ze=ye[1],Ue=ye[2],Ne=De.workspaceObjectId,$e=De.artifacts,Ge=De.workspace;return $e?.length?(0,Fo.D)($e.map(function(ot){return(ze.useExtensionsManifestsModule?(0,Gt.D)(n.tridentFluentListItemService.buildFluentListItemFromTridentArtifactV2((0,c.__assign)((0,c.__assign)({},ot),{workspaceId:Ne}),n.localizationService,n.extensionManifestService)):(0,qe.of)(n.tridentFluentListItemService.buildFluentListItemFromTridentArtifact((0,c.__assign)((0,c.__assign)({},ot),{workspaceId:Ne}),n.localizationService))).pipe((0,P.U)(function(it){var xt=(0,c.__assign)((0,c.__assign)({},it),{gitStatus:n.getGitStatus(ot.objectId,ot.artifactType),quickActions:n.getTridentArtifactQuickActions(it)}),Rt=ot;return xt.artifactInformationProtection=Rt.artifactInformationProtection,ze.dlpPolicyTipTridentArtifact_HEAD_DLP_FE&&(xt.hasDlpPolicyTip=(0,ml._)(Rt)),n.markItemAsExpired(xt,!!ze.fabricTrialEndMarker,Ue,Ge.capacityObjectId,n.localizationService),xt}))})):(0,qe.of)([])}),(0,Io.O)([])):(0,qe.of)([]),Ye=zt.isTrident&&this.featureSwitchService.featureSwitches.subfolderInWorkspace?J.pipe((0,P.U)(function(ye){var De=ye.workspace;return ye.subfolders.filter(function(Ue){return Ue.folderId===De.folderId}).map(function(Ue){return n.createFluentListItemFromSubfolder(Ue,De)})})):(0,qe.of)([]),He=J.pipe((0,kt.w)(function(ye){return n.getFolderRelations(ye.workspaceObjectId)}),(0,D.R)(this.destroy$)),vt=zt.isTrident&&this.featureSwitchService.featureSwitches.workspaceTemplateAndDiagram?(0,Gt.D)(this.lazyProvider.get("@trident/data-task-flow#DataTaskFlowModule","TaskFlowFacade")).pipe((0,je.q)(1),(0,kt.w)(function(ye){return ye?ye.getAllTasks():(0,qe.of)([])})):(0,qe.of)([]);this.sourceOfEntireWorkspace=(0,nt.aj)([(0,nt.aj)([ve,ee,we,Fe,Pe,Ve]),(0,nt.aj)([be,et,Ye,vt,J,this.store.select(rt.Fs)]),(0,nt.aj)([this.featureSwitchService.featureSwitches.parentChildWithRelationsStore_HEAD_Relations_FE?He:(0,qe.of)(void 0),oe])]).pipe((0,D.R)(this.destroy$),(0,dn.b)(0),(0,P.U)(function(ye){var De=ye[0],ze=De[0],Ue=De[1],Ne=De[2],$e=De[3],Ge=De[4],ot=De[5],_t=ye[1],it=_t[0],xt=_t[1],Rt=_t[2],un=_t[3],Sn=_t[4],Hn=_t[5],gr=ye[2],vr=gr[0],rn=gr[1],_r=Sn.workspace,Gn=Sn.isWorkspaceEditable;ze=ze||[],Ue=Ue||[],Ne=Ne||[],$e=$e||[],Ge=Ge||[],ot=ot||[],it=it||[],xt=xt||[];var Zr=new Map;zt.isTrident&&(n.featureSwitchService.featureSwitches.parentChildInWorkspace||n.featureSwitchService.featureSwitches.hiddenInWorkspace)&&n.processParentChildRelation({datasets:Ge,cdsaModels:ot,datamarts:it,artifacts:xt},vr,Zr),n.featureSwitchService.featureSwitches.hiddenInWorkspace&&zt.isTrident&&n.processHiddenRelation({datasets:Ge,cdsaModels:ot,datamarts:it,artifacts:xt},vr,Zr);var At=Gn||_r.objectId===Hn?_.sortBy((0,c.__spreadArray)((0,c.__spreadArray)((0,c.__spreadArray)((0,c.__spreadArray)((0,c.__spreadArray)((0,c.__spreadArray)((0,c.__spreadArray)((0,c.__spreadArray)([],ze,!0),Ue,!0),Ne,!0),$e,!0),Ge,!0),ot,!0),it,!0),xt,!0),function(en){return en.displayName.toLocaleLowerCase()}):_.sortBy((0,c.__spreadArray)((0,c.__spreadArray)((0,c.__spreadArray)((0,c.__spreadArray)((0,c.__spreadArray)((0,c.__spreadArray)([],ze,!0),Ue,!0),Ne,!0),$e,!0),xt,!0),n.featureSwitchService.featureSwitches.readonlyDatamart?it:[],!0),function(en){return en.displayName.toLocaleLowerCase()});return At=zt.isTrident&&n.featureSwitchService.featureSwitches.parentChildInWorkspace?n.makeParentFollowedByChild(At):At,At=zt.isTrident&&n.featureSwitchService.featureSwitches.hiddenInWorkspace?At.filter(function(en){return!en.isHidden}):At,zt.isTrident&&n.featureSwitchService.featureSwitches.subfolderInWorkspace&&(n.appendLocationProperty(Rt,At,_r),At=n.sortWithSubfolders(Rt,At),At=n.appendCanBeSelectedProperty(At,Gn)),zt.isTrident&&n.featureSwitchService.featureSwitches.workspaceTemplateAndDiagram&&(At=At.map(function(en){var Xt=un.find(function(Dt){return Dt.items.find(function(Xr){return Xr.artifactUniqueId===en.uniqueId||Xr.artifactUniqueId===en.parentUniqueId})});return(0,c.__assign)((0,c.__assign)({},en),{taskflowTasks:Xt?[Xt]:[]})})),n.enrichItemsWithTags(At,rn),At}),(0,kn.d)(1)),this.dataOfEntireWorkspaceSubscription.unsubscribe(),this.dataOfEntireWorkspaceSubscription=this.sourceOfEntireWorkspace.subscribe(function(ye){n.dataOfEntireWorkspace=ye}),this.sourceOfCurrentAndSubfolders=(0,nt.aj)([this.sourceOfEntireWorkspace,null!==(w=this.selectedSubfolderId$)&&void 0!==w?w:this.subfolderContextService.selectedSubfolderId$]).pipe((0,D.R)(this.destroy$),(0,P.U)(function(ye){return n.filterDataBySubfolder({sourceOfEntireWorkspace:ye[0],selectedSubfolderId:ye[1],recursive:!0})}),(0,kn.d)(1)),this.dataOfCurrentAndSubfoldersSubscription.unsubscribe(),this.dataOfCurrentAndSubfoldersSubscription=this.sourceOfCurrentAndSubfolders.subscribe(function(ye){return n.dataOfCurrentAndSubfolders=ye}),this.sourceOfCurrentFolder=(0,nt.aj)([this.sourceOfEntireWorkspace,null!==(E=this.selectedSubfolderId$)&&void 0!==E?E:this.subfolderContextService.selectedSubfolderId$]).pipe((0,D.R)(this.destroy$),(0,P.U)(function(ye){return n.filterDataBySubfolder({sourceOfEntireWorkspace:ye[0],selectedSubfolderId:ye[1],recursive:!1})}),(0,kn.d)(1));var st=null!==(R=this.options)&&void 0!==R&&R.isSourceAffectedByFilter&&this.featureSwitchService.featureSwitches.crossSubfolderFilter?this.fluentListFilterService.getFilter():(0,qe.of)(void 0);this.source=(0,nt.aj)([this.sourceOfCurrentAndSubfolders,this.sourceOfCurrentFolder,st]).pipe((0,P.U)(function(ye){var De,ze=ye[0],Ue=ye[1],Ne=ye[2];return null!==(De=n.options)&&void 0!==De&&De.isSourceAffectedByFilter&&n.featureSwitchService.featureSwitches.crossSubfolderFilter&&0!==Ne?.size?ze:Ue}),(0,kn.d)(1)),this.dataSubscription.unsubscribe(),this.dataSubscription=this.source.subscribe(function(ye){return n.data=ye}),this.fluentListFilterService.getFilter().subscribe(function(ye){var De=_.map(Array.from(ye.entries(),function(ze){return[ze[0],ze[1].values]}));n.filter=JSON.stringify(De)})},r.prototype.getWorkspaceRawData=function(n){var i=this,o=!n,a=n?n.pipe((0,FI.B)(),(0,V.x)(),(0,D.R)(this.destroy$)):this.workspaceContext.selectedWorkspaceObjectId$,s=(0,nt.aj)([this.getWorkspaceRawDataById(a),this.getSelectedWorkspaceRawData()]).pipe((0,D.R)(this.destroy$),(0,kn.d)(1));return s.pipe((0,dn.b)(5e3)).subscribe(function(m){var S=m[0],w=m[1];S&&w&&S.workspaceObjectId===w.workspaceObjectId&&i.logRawDataDifference(S,w)}),s.pipe((0,P.U)(function(m){return o?m[1]:m[0]}))},r.prototype.getWorkspaceRawDataById=function(n){var i=this;return(0,nt.aj)([n,this.workspaceContext.selectedWorkspaceObjectId$]).pipe((0,kt.w)(function(o){var a=o[0],s=o[1];return(0,nt.aj)([i.store.select((0,rt.KB)(a)),(0,nt.aj)([i.store.select((0,Wn.Do)(a)),i.store.select((0,Nn.Y0)(a)),i.store.select((0,Nn.uq)(a)),i.store.select((0,J1.jB)(a)),i.store.select(eI(a)),i.store.select((0,Or.il)(a))]),(0,nt.aj)([i.store.select((0,nl.N2)(a)),i.store.select((0,rt.DB)({workspaceObjectId:a})),i.subfolderFacade.getSubfolders(),i.store.select((0,di.K5)(a)),a===s?i.store.select(rl.Ai):(0,qe.of)(null)]),i.store.select(vu(a)),i.store.select(gu(a))]).pipe((0,Ft.h)(function(p){return!!p[0]}),(0,P.U)(function(p){var m=p[0],S=p[1],ee=p[2],Pe=ee[3],Ve=ee[4],et=p[3],Ye=p[4];return{workspaceObjectId:a,workspace:m,dashboards:S[0],reports:S[1],scorecards:S[2],workbooks:S[3],datamarts:S[4],datasets:S[5],cdsaModels:ee[0],artifacts:ee[1],subfolders:ee[2].filter(function(He){return He.folderId===m.folderId}),contentPacks:Pe,workspacePublishedApp:Ve,isWorkspaceEditable:et,isPremiumWorkspace:Ye}}))}),(0,dn.b)(0))},r.prototype.getSelectedWorkspaceRawData=function(){var n=this;return(0,nt.aj)([this.store.select(rt.S6),(0,nt.aj)([this.store.select(Wn.BJ),this.store.select(Nn.pZ),this.store.select(Nn.jF),this.store.select(ur.cE),this.store.select(tl),this.store.select(Or.cH)]),(0,nt.aj)([this.store.select(nl.h1),this.store.select(rt.CW).pipe((0,kt.w)(function(i){return n.store.select((0,rt.DB)({workspaceObjectId:i}))}),(0,V.x)(function(i,o){return _.isEqual(i,o)})),this.subfolderFacade.getSubfolders(),this.store.select(di.Ai),this.store.select(rl.Ai)]),this.store.select(Po),this.store.select(mu)]).pipe((0,Ft.h)(function(i){return!!i[0]}),(0,P.U)(function(i){var o=i[0],a=i[1],R=i[2],ee=R[3],we=R[4],Fe=i[3],be=i[4];return{workspaceObjectId:o.objectId,workspace:o,dashboards:a[0],reports:a[1],scorecards:a[2],workbooks:a[3],datasets:a[5],cdsaModels:R[0],datamarts:a[4],artifacts:R[1],subfolders:R[2].filter(function(Pe){return Pe.folderId===o.folderId}),contentPacks:ee,workspacePublishedApp:we,isWorkspaceEditable:Fe,isPremiumWorkspace:be}}),(0,dn.b)(0))},r.prototype.logRawDataDifference=function(n,i){var o={dashboards:this.getDifference(n.dashboards.map(function(s){return s.objectId}),i.dashboards.map(function(s){return s.objectId})),reports:this.getDifference(n.reports.map(function(s){return s.objectId}),i.reports.map(function(s){return s.objectId})),scorecards:this.getDifference(n.scorecards.map(function(s){return s.objectId}),i.scorecards.map(function(s){return s.objectId})),workbooks:this.getDifference(n.workbooks.map(function(s){return s.id}),i.workbooks.map(function(s){return s.id})),datasets:this.getDifference(n.datasets.map(function(s){return s.id}),i.datasets.map(function(s){return s.id})),cdsaModels:this.getDifference(n.cdsaModels.map(function(s){return s.objectId}),i.cdsaModels.map(function(s){return s.objectId})),datamarts:this.getDifference(n.datamarts.map(function(s){return s.objectId}),i.datamarts.map(function(s){return s.objectId})),artifacts:this.getDifference(n.artifacts.map(function(s){return s.objectId}),i.artifacts.map(function(s){return s.objectId})),subfolders:this.getDifference(n.subfolders.map(function(s){return s.id}),i.subfolders.map(function(s){return s.id}))};"{}"!==JSON.stringify(o)&&this.telemetryService.logEvent({name:"WorkspaceRawDataDiffDetected",properties:{workspaceObjectId:n.workspaceObjectId,difference:JSON.stringify(o)}})},r.prototype.getDifference=function(n,i){var o=new Set(n),a=new Set(i),s=n.filter(function(m){return!a.has(m)}),p=i.filter(function(m){return!o.has(m)});if(s.length||p.length)return[s.join(","),p.join(",")].join("::")},r.prototype.appendLocationProperty=function(n,i,o){for(var a,s,p,m,S,w=function(be){S=null!==(a=be.contract)&&void 0!==a&&a.parentSubfolderId?n.find(function(Pe){return Pe.contract.id===be.contract.parentSubfolderId}):void 0,be.location=null!==(s=S?.contract)&&void 0!==s&&s.fullPath?"".concat(o.displayName).concat(S.contract.fullPath):"".concat(o.displayName)},E=0,R=n;E<R.length;E++)w(R[E]);for(var oe=function(be){S=null!==(p=be.contract)&&void 0!==p&&p.subfolderId?n.find(function(Pe){return Pe.contract.id===be.contract.subfolderId}):void 0,be.location=null!==(m=S?.contract)&&void 0!==m&&m.fullPath?"".concat(o.displayName).concat(S.contract.fullPath):"".concat(o.displayName)},ve=0,ee=i;ve<ee.length;ve++)oe(ee[ve])},r.prototype.sortWithSubfolders=function(n,i){var o=_.sortBy((0,c.__spreadArray)([],n||[],!0),function(s){return s.displayName.toLocaleLowerCase()});return(0,c.__spreadArray)((0,c.__spreadArray)([],o,!0),i,!0)},r.prototype.filterDataBySubfolder=function(n){var m,S,i=n.sourceOfEntireWorkspace,o=n.selectedSubfolderId,a=n.recursive,s=i.filter(function(E){return 16!==E.type}),p=i.filter(function(E){return 16===E.type});if(!zt.isTrident||!this.featureSwitchService.featureSwitches.subfolderInWorkspace)return s;if(o){var w=p.find(function(E){return E.contract.id===o});S=a?p.filter(function(E){var R;return w?.contract.fullPath&&(null===(R=E.contract.fullPath)||void 0===R?void 0:R.startsWith(w.contract.fullPath))}).map(function(E){return E.contract.id}):[o],m=(0,c.__spreadArray)((0,c.__spreadArray)([],p.filter(function(E){var R;return S.includes(null===(R=E.contract)||void 0===R?void 0:R.parentSubfolderId)}),!0),s.filter(function(E){var R;return S.includes(null===(R=E.contract)||void 0===R?void 0:R.subfolderId)}),!0)}else m=a?i:(0,c.__spreadArray)((0,c.__spreadArray)([],p.filter(function(E){var R;return!(null!==(R=E.contract)&&void 0!==R&&R.parentSubfolderId)}),!0),s.filter(function(E){var R;return!(null!==(R=E.contract)&&void 0!==R&&R.subfolderId)}),!0);return m},r.prototype.appendCanBeSelectedProperty=function(n,i){for(var o=0,a=n;o<a.length;o++){var s=a[o];s.canBeSelected=(void 0===s.canBeSelected||s.canBeSelected)&&this.multiSelectionService.multiActionSupported(s.type)&&i&&!s.parentUniqueId}return n},r.prototype.getFolderRelations=function(n){var i=this;return(0,Gt.D)(this.lazyProvider.get("@powerbi/RelationsStore/relations.module#RelationsStoreModule","RelationsStoreService")).pipe((0,je.q)(1),(0,kt.w)(function(o){return o?o.getLineageById(n,X1.r.ListView).pipe((0,D.R)(i.destroy$)):(0,qe.of)(void 0)}))},r.prototype.createFluentListItemForDataflow=function(n){var i=n.ownerUser,o=i?(0,Mn.P)(i.givenName,i.familyName,i.userPrincipalName):"",a=(0,xn.EL)(n),s=n.stage&&{stage:n.stage},p=(0,xn.sK)(n),m=this.localizationService.get(p?"StreamingDataflow_Label":"ContentList_Datapool");return(0,c.__assign)((0,c.__assign)({},n),{type:8,isStreaming:p,triType:p?"streaming-dataflow":"dataflow",typeName:m,gitStatus:this.getGitStatus(a,p?"streaming-dataflow":"dataflow"),owner:o||"",lastRefresh:(0,ft.A7)(2!==n.modelType?n.lastRefreshTimeUTC:null,{format:Zt}),lastRefreshDate:(0,ft.ee)(n.lastRefreshTimeUTC),nextRefresh:(0,ft.A7)(2!==n.modelType?n.nextRefreshTimeUTC:null,{format:Zt,invalidDateTimePlaceholder:this.localizationService.get("ManageDatasets_NextRefresh_NA")}),nextRefreshDate:(0,ft.ee)(n.nextRefreshTimeUTC),uniqueId:Jt(8,a),iconName:p?"pbi-glyph-streamingdataflow":"pbi-glyph-dataflow",iconColor:"#99700A",routePath:WI(n),endorsement:s,quickActions:this.getDataflowQuickActions(n)})},r.prototype.createFluentListItemForDataflowGen2=function(n,i,o,a,s,p){var m=n.ownerUser,S=m?(0,Mn.P)(m.givenName,m.familyName,m.userPrincipalName):"",w=(0,xn.EL)(n),E=n.stage&&{stage:n.stage},R=a&&2!==n.state&&4!==n.lastRefreshStatus&&2!==n.publishStatus,J=this.localizationService.get("ContentList_Dataflow_Gen2"),oe=(0,c.__assign)((0,c.__assign)({},n),{type:103,typeName:J,gitStatus:this.getGitStatus(w,"dataflow-gen2"),owner:S??"",lastRefresh:(0,ft.A7)(2!==n.modelType?n.lastRefreshTimeUTC:null,{format:Zt}),lastRefreshDate:(0,ft.ee)(n.lastRefreshTimeUTC),nextRefresh:(0,ft.A7)(2!==n.modelType?n.nextRefreshTimeUTC:null,{format:Zt,invalidDateTimePlaceholder:this.localizationService.get("ManageDatasets_NextRefresh_NA")}),nextRefreshDate:(0,ft.ee)(n.nextRefreshTimeUTC),uniqueId:Jt(103,w),iconName:"pbi-glyph-dataflow",iconColor:"#99700A",routePath:R?zI({capacityObjectId:i,dataflowId:n.objectId,workspaceObjectId:o}):void 0,endorsement:E,quickActions:this.getDataflowGen2QuickActions(n)});return this.markItemAsExpired(oe,p,s,i,this.localizationService),oe},r.prototype.createFluentListItemFromDashboard=function(n,i,o,a){var s=this.featureSwitchService.featureSwitches.appArtifactLevelSecurity,p=Xs(n),m=!!o.isFolder,S=this.shouldDisableIncludeInApp(s,m,a),w=this.canToggleDashboardSelectionForApp(n,i),E=!S&&w,R=this.getIncludedInAppValue(s,m,w,a,1,n),J=this.localizationService.get("Artifact_Dashboard"),oe=o.displayName;return(!(0,gt.yE)(n.permissions,7)||o.isMyWorkspace)&&(oe=p.ownerName||p.ownerEmail),(0,c.__assign)((0,c.__assign)({},n),{type:1,typeName:J,gitStatus:this.getGitStatus(n.objectId,"dashboard"),owner:oe||"",iconName:"pbi-glyph-gauge",iconColor:"#197278",isSelectableAppArtifact:!0,routePath:UI(n),quickActions:this.getDashboardQuickActions(n),hasPublishedApp:!!a,inWorkspaceV2:m,contentProviderSetting:a&&a?.settings,canToggleSelection:E,canBeIncludedInApp:w,isIncludedInApp:R,uniqueId:Jt(1,n.uniqueId)})},r.prototype.createFluentListItemFromReport=function(n,i,o,a,s){var oe,p=this.featureSwitchService.featureSwitches.appArtifactLevelSecurity,m=i[il(n.modelId)],S=m&&m.lastRefreshTime,w=!!a.isFolder,E=this.canToggleReportSelectionForApp(n,o),R=this.shouldDisableIncludeInApp(p,w,s)&&E,J=this.getIncludedInAppValue(p,w,E,s,2,n),ve=a.displayName;(!(0,gt.yE)(n.permissions,7)||a.isMyWorkspace)&&(ve=Sl(n)),1!==n.reportType&&!n.modelId&&(oe={showWarning:!0,warningText:this.localizationService.get("ReportMissingDatasetContent")});var ee=this.getFluentListEndorsement(n.artifactEndorsement),we=(0,Tr.qo)(n.reportType),Fe=this.localizationService.get("Artifact_Report");return(0,c.__assign)((0,c.__assign)({},n),{type:we,typeName:1===n.reportType?this.localizationService.get("Artifact_RdlReport"):Fe,gitStatus:this.getGitStatus(n.objectId,1===n.reportType?"rdlreport":"report"),owner:ve||"",lastRefresh:(0,ft.A7)(S,{format:Zt}),lastRefreshDate:(0,ft.ee)(S),iconName:1===n.reportType?"pbi-glyph-rdl-report":"pbi-glyph-barchart",iconColor:"#12239E",isSelectableAppArtifact:!0,routePath:Tl(n),quickActions:this.getReportQuickActions(n),hasPublishedApp:!!s,inWorkspaceV2:w,contentProviderSetting:s&&s?.settings,canToggleSelection:!R&&E,canBeIncludedInApp:E,isIncludedInApp:J,warning:oe,endorsement:ee,uniqueId:Jt(we,n.uniqueId)})},r.prototype.createFluentListItemFromScorecard=function(n,i,o,a,s){var oe,p=this.featureSwitchService.featureSwitches.appArtifactLevelSecurity,m=!!a.isFolder,S=i[il(n.modelId)],w=S&&S.lastRefreshTime,E=this.canToggleReportSelectionForApp(n,o),R=this.shouldDisableIncludeInApp(p,m,s)&&E,J=this.getIncludedInAppValue(p,m,E,s,2,n),ve=a.displayName;(!(0,gt.yE)(n.permissions,7)||a.isMyWorkspace)&&(ve=Sl(n)),n.modelId||(oe={showWarning:!0,warningText:this.localizationService.get("ReportMissingDatasetContent")});var ee=this.getFluentListEndorsement(n.artifactEndorsement),we=this.localizationService.get("Scorecard");return(0,c.__assign)((0,c.__assign)({},n),{type:10,typeName:we,gitStatus:this.getGitStatus(n.objectId,"scorecard"),owner:ve||"",lastRefresh:(0,ft.A7)(w,{format:Zt}),lastRefreshDate:(0,ft.ee)(w),iconName:"pbi-glyph-trophy2",iconColor:"#99008A",isSelectableAppArtifact:!0,routePath:Tl(n),quickActions:this.getReportQuickActions(n),canToggleSelection:!R,isIncludedInApp:J,warning:oe,endorsement:ee,uniqueId:Jt(10,n.uniqueId)})},r.prototype.getFluentListEndorsement=function(n){var i=n?.stage;return!_.isNil(i)&&i!==j.X_.Off&&this.featureSwitchService.featureSwitches.artifactEndorsementFeatureUI?{stage:i}:null},r.prototype.createFluentListItemFromWorkbook=function(n,i,o,a,s){var p=this.featureSwitchService.featureSwitches.appArtifactLevelSecurity,m=!!a.isFolder,S=i[n.packageId],w=S&&S.lastRefreshTime,E=this.canToggleWorkbookSelectionForApp(n,o),R=this.shouldDisableIncludeInApp(p,m,s),J=this.getIncludedInAppValue(p,m,E,s,4,n),oe=this.localizationService.get("Artifact_Workbook");return(0,c.__assign)((0,c.__assign)({},n),{type:4,typeName:oe,gitStatus:this.getGitStatus(n.uniqueId,"workbook"),owner:n.ownerDisplayName||"",lastRefresh:(0,ft.A7)(w,{format:Zt}),lastRefreshDate:(0,ft.ee)(w),iconName:"pbi-glyph-excel",iconColor:"#217346",isSelectableAppArtifact:!0,routePath:qI(n),hasPublishedApp:!!s,inWorkspaceV2:m,contentProviderSetting:s&&s?.settings,canToggleSelection:!R&&E,canBeIncludedInApp:E,isIncludedInApp:J,uniqueId:Jt(4,n.uniqueId)})},r.prototype.createFluentListItemFromDataset=function(n,i,o,a,s,p){var m,S=o,w=(0,Xn.EL)(n);if(!(0,gt.yE)(n.permissions,7)||a){var E=n.creatorUser;S=E?(0,Mn.P)(E.givenName,E.familyName,E.emailAddress):""}var R=(null===(m=n.artifactEndorsement)||void 0===m?void 0:m.stage)&&{stage:n.artifactEndorsement.stage},J=void 0!==n.realTimeMode&&0!==n.realTimeMode,oe=J?"pbi-glyph-streamingdataset":"pbi-glyph-databaseicon",ve=this.localizationService.get(n.contract.packageType===Xe.yR.Datamart?"Artifact_Dataset_Default":"Artifact_Dataset");return(0,c.__assign)((0,c.__assign)({},n),{type:3,typeName:ve,triType:(0,Xn.HP)(J,n.contract.packageType),gitStatus:this.getGitStatus(n.dbName,"dataset"),owner:S||"",lastRefresh:(0,ft.A7)(n.lastRefreshTime,{format:Zt}),lastRefreshDate:(0,ft.ee)(n.lastRefreshTime),nextRefresh:(0,ft.A7)(n.refreshSchedule&&n.refreshSchedule.refreshEnabled?n.nextRefreshTime:null,{format:Zt,invalidDateTimePlaceholder:this.localizationService.get("ManageDatasets_NextRefresh_NA")}),nextRefreshDate:(0,ft.ee)(n.nextRefreshTime),uniqueId:Jt(3,w),iconName:oe,iconColor:"#C94F0F",routePath:this.shouldNavigateToDatasetDetails(n,p)?KI(n,s):void 0,endorsement:R,quickActions:J?void 0:this.getDatasetQuickActions(n),hasDlpPolicyTip:(0,ml._)(n.contract)})},r.prototype.createFluentListItemFromDatamart=function(n,i,o,a,s,p){var R,J,oe,m=n.ownerUser,S=m?(0,Mn.P)(m.givenName,m.familyName):"\u2014",w=Xo.EL(n),E={stage:n.stage},ve={format:Zt,invalidDateTimePlaceholder:this.localizationService.get("ManageDatasets_NextRefresh_NA")},ee=!(void 0===n.state||0===n.state)&&(0,gt.yE)(n.permissions,3);isNaN(Date.parse(n.lastRefreshTimeUTC))?(R=(0,ft.ee)(n.lastRefreshTimeUTC),J=(0,ft.A7)(n.lastRefreshTimeUTC,{format:Zt}),oe=(0,ft.A7)(n.nextRefreshTimeUTC,ve)):(R=new Date(n.lastRefreshTimeUTC),J=(0,ft.A7)("/Date(".concat(R.getTime(),")/"),{format:Zt}),oe=(0,ft.A7)("/Date(".concat(new Date(n.nextRefreshTimeUTC).getTime(),")/"),ve));var we=(0,c.__assign)((0,c.__assign)({},n),{owner:m?.displayName||S,gitStatus:this.getGitStatus(w,(0,pn.PQ)(n.datamartType)),lastRefresh:J,lastRefreshDate:R,nextRefresh:oe,uniqueId:Jt(11,w),endorsement:E,iconColor:"#484644",routePath:GI(n,o),triType:(0,pn.PQ)(n.datamartType),canBeSelected:ee}),Fe=(0,c.__assign)((0,c.__assign)({},we),this.applyDatamartSubtypeProperties(n,i));return(14===Fe.type||15===Fe.type||17===Fe.type)&&this.markItemAsExpired(Fe,p,s,a,this.localizationService),(0,c.__assign)((0,c.__assign)({},Fe),this.tridentFluentListItemService.legacyPbiArtifactTransform(Fe))},r.prototype.createFluentListItemFromSubfolder=function(n,i){return{displayName:n.displayName,workspaceId:i.id,workspaceName:i.displayName,type:16,typeName:this.localizationService.get("Folder"),owner:"",iconName:"folder_20_regular",iconColor:"#212121",quickActions:null,inWorkspaceV2:!!i.isFolder,getPermissions:function(){return i.permissions},contract:n,uniqueId:Jt(16,n.id),canBeSelected:(0,gt.yE)(i.permissions,9)}},r.prototype.applyDatamartSubtypeProperties=function(n,i){switch(n.datamartType){case 2:return{owner:i,type:14,typeName:this.localizationService.get("Artifact_SQL_Analytics_Endpoint"),quickActions:this.getDatamartTypeQuickActions(n)};case 4:return{type:15,typeName:this.localizationService.get("Artifact_Warehouse"),quickActions:this.getDatamartTypeQuickActions(n)};case 5:return{type:17,typeName:this.localizationService.get("Artifact_SQL_Analytics_Endpoint"),quickActions:this.getDatamartTypeQuickActions(n)};default:return{type:11,typeName:this.localizationService.get("Artifact_Datamart"),quickActions:this.getDatamartTypeQuickActions(n)}}},r.prototype.isLakeWarehouseArtifact=function(n){return n?.datamartType&&2===n.datamartType},r.prototype.createFluentListItemFromCdsaModel=function(n,i,o,a,s,p){return 2===n.generation?this.createFluentListItemForDataflowGen2(n,i,o,a,s,p):this.createFluentListItemForDataflow(n)},r.prototype.getDashboardQuickActions=function(n){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(i){return[2,[]]})})},r.prototype.getReportQuickActions=function(n){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(i){return[2,[]]})})},r.prototype.getDatasetQuickActions=function(n){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(i){return[2,[]]})})},r.prototype.getDataflowQuickActions=function(n){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(i){return[2,[]]})})},r.prototype.getDataflowGen2QuickActions=function(n){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(i){return[2,[]]})})},r.prototype.getDatamartTypeQuickActions=function(n){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(i){return[2,[]]})})},r.prototype.getTridentArtifactQuickActions=function(n){return(0,c.__awaiter)(this,void 0,void 0,function(){return(0,c.__generator)(this,function(i){return[2,[]]})})},r.prototype.getTaskOrderBy=function(n){var i;return(null===(i=n.taskflowTasks)||void 0===i?void 0:i.length)>0?Vs(n.taskflowTasks[0],this.localizationService):null},r.prototype.shouldNavigateToDatasetDetails=function(n,i){var o;return!((null===(o=n.contract)||void 0===o?void 0:o.packageType)===Xe.yR.Datamart&&!i||2===n.workspaceType||n.realTimeMode)},r.prototype.isFromUnpublishedApp=function(n){return!!n.contentProviderId||!!n.originalDashboardId||!!n.originalDashboardObjectId},r.prototype.shouldDisableIncludeInApp=function(n,i,o){return n?i&&!o||i&&o&&!!(1&o?.settings):i&&!!o&&!!(1&o?.settings)},r.prototype.getIncludedInAppValue=function(n,i,o,a,s,p){var m,S=!!a;if(n&&i&&!S)return!1;if(!(i&&S&&1&(a&&a?.settings)))return o&&!(null!==(m=p.contract)&&void 0!==m&&m.isStaging);switch(s){case 1:var E=a&&a?.dashboardIds;return!(!E||!_.includes(E,p.id));case 2:var R=a&&a?.reportIds;return!(!R||!_.includes(R,p.id));case 4:var J=a&&a?.workbookIds;return!(!J||!_.includes(J,p.id))}},r.prototype.getGitStatus=function(n,i){return(0,qe.of)("Unsupported")},r.prototype.canToggleDashboardSelectionForApp=function(n,i){return void 0===i&&(i=!1),i?!n.contract.isHidden&&((0,gt.yE)(n.permissions,2)||(0,gt.yE)(n.permissions,8)):!n.isHidden&&Qr(n.permissions)},r.prototype.canToggleReportSelectionForApp=function(n,i){return void 0===i&&(i=!1),i?!(!(0,gt.yE)(n.permissions,2)&&!(0,gt.yE)(n.permissions,8)||(1===n.reportType?!this.featureSwitchService.featureSwitches.rdlReportSharingUI:this.usageMetricsReport.isReportUsageMetricsReport(n))):1===n.reportType?Qr(n.permissions):Qr(n.getPermissions())&&!this.usageMetricsReport.isReportFromUsageMetrics(n)},r.prototype.canToggleWorkbookSelectionForApp=function(n,i){return void 0===i&&(i=!1),i?(0,gt.yE)(n.permissions,2)||(0,gt.yE)(n.permissions,8):Qr(n.permissions)},r.prototype.processParentChildRelation=function(n,i,o){var a=this,s=n.datasets,p=n.cdsaModels,m=n.datamarts,S=n.artifacts,w=(0,c.__spreadArray)((0,c.__spreadArray)((0,c.__spreadArray)((0,c.__spreadArray)([],s,!0),p,!0),m,!0),S,!0);w.forEach(function(E){E.isParent=!1,E.parentUniqueId=void 0,E.childIndex=void 0}),this.featureSwitchService.featureSwitches.parentChildWithRelationsStore_HEAD_Relations_FE&&i&&0!==i.requestStatus?2===i.requestStatus&&(i.relations.forEach(function(E){a.updateArtifactDirectParentFromRelationsStore(w,E,o)}),this.updateArtifactRootParent(w,o)):(S.forEach(function(E){a.updateArtifactDirectParent(n,E,o)}),m.forEach(function(E){var R=s.find(function(J){return J.contract.id===E.contract.datasetId});R&&(R.parentUniqueId=E.uniqueId,o.set(E.uniqueId,E))}),this.updateArtifactRootParent(w,o))},r.prototype.updateArtifactDirectParent=function(n,i,o){var a,s=(a=i.contract).datasetRelations,p=a.dataflowRelations,m=a.datamartRelations,S=a.artifactRelations,E=n.cdsaModels,R=n.datamarts,J=n.artifacts,oe=i.uniqueId,ve=function(we,Fe){we?.forEach(function(be){var Pe=be.settings;if(!("number"==typeof Pe&&Pe!==OI.Wq.CascadeDelete||"string"==typeof Pe&&"CascadeDelete"!==be.settings)){var Ve=Fe.find(function(et){var Ye,He;return function(t){return"dependentArtifactId"in t}(be)?(null===(Ye=et.contract)||void 0===Ye?void 0:Ye.id)===be.dependentArtifactId:(null===(He=et.contract)||void 0===He?void 0:He.objectId)===be.dependentArtifactObjectId});Ve&&(Ve.parentUniqueId=oe,o.set(oe,i))}})};ve(s,n.datasets),ve(p,E),ve(m,R),ve(S,J)},r.prototype.updateArtifactDirectParentFromRelationsStore=function(n,i,o){if(i.settings.CascadeDelete){var a=n.find(function(p){var m,S;return(null===(m=p.contract)||void 0===m?void 0:m.objectId)===i.artifactObjectId||(null===(S=p.contract)||void 0===S?void 0:S.dbName)===i.artifactObjectId});if(a){var s=n.find(function(p){var m,S;return(null===(m=p.contract)||void 0===m?void 0:m.objectId)===i.dependentOnArtifactObjectId||(null===(S=p.contract)||void 0===S?void 0:S.dbName)===i.dependentOnArtifactObjectId});s&&(s.parentUniqueId=a.uniqueId,o.set(a.uniqueId,a))}}},r.prototype.updateArtifactRootParent=function(n,i){for(var o=0,a=n;o<a.length;o++){for(var s=a[o],p=s;p?.parentUniqueId;)p.isParent=!1,p=i.get(p.parentUniqueId);p&&p!==s&&(p.isParent=!0,s.parentUniqueId=p.uniqueId)}},r.prototype.processHiddenRelation=function(n,i,o){var a=n.datasets,s=n.cdsaModels,p=n.datamarts,m=n.artifacts;this.featureSwitchService.featureSwitches.parentChildWithRelationsStore_HEAD_Relations_FE&&i&&0!==i.requestStatus?2===i.requestStatus&&(0,c.__spreadArray)((0,c.__spreadArray)((0,c.__spreadArray)((0,c.__spreadArray)([],a,!0),s,!0),p,!0),m,!0).forEach(function(S){var w=i.artifacts.find(function(E){var R,J;return(null===(R=S.contract)||void 0===R?void 0:R.objectId)===E.objectId||(null===(J=S.contract)||void 0===J?void 0:J.dbName)===E.objectId});S.isHidden=!!w?.isHidden}):(s.forEach(function(S){var w,E=(w=S.contract).cdsaModelRelations,R=w.artifactCdsaModelRelations;E?.forEach(function(J){if(4&J.settingsList){var oe=p.find(function(ve){var ee;return(null===(ee=ve.contract)||void 0===ee?void 0:ee.id)===J.targetDatamartId});oe&&(oe.isHidden=!0)}}),R?.forEach(function(J){if(4&J.settingsList){var oe=m.find(function(ve){var ee;return(null===(ee=ve.contract)||void 0===ee?void 0:ee.objectId)===J.artifactObjectId});oe&&(oe.isHidden=!0)}})}),(0,c.__spreadArray)((0,c.__spreadArray)([],a,!0),p,!0).forEach(function(S){if(S.parentUniqueId){var w=o.get(S.parentUniqueId);w?.isHidden&&(S.isHidden=!0)}}))},r.prototype.markItemAsExpired=function(n,i,o,a,s){var p;if(i&&a){var m=(null===(p=o[a])||void 0===p?void 0:p.parsedTrialExpirationDateTime)||null;if(m&&(0,hl.RI)(m)){var S=(0,hl.rb)(m),w=S>0?"Workspace_Trial_Capacity_Expiration_Tooltip_For_Artifact":"Workspace_Trial_Capacity_Expiration_Tooltip_For_Artifact_Post_Expiry";n.isTrialCapacityCloseToExpired=!0,n.trialCapacityCloseToExpiredTooltip=s.format(w,S)}}},r.prototype.makeParentFollowedByChild=function(n){var i=n.map(function(o){return o.uniqueId});return n.filter(function(o){return!o.parentUniqueId||!i.includes(o.parentUniqueId)}).map(function(o){var a=o.isParent?n.filter(function(s){return s.parentUniqueId===o.uniqueId}):[];return a.length>0&&(a.forEach(function(s){return s.childIndex="Middle"}),a[a.length-1].childIndex="Last",a.length>1&&(a[0].childIndex="First")),[o].concat(a)}).reduce(function(o,a){return o.concat(a)},[])},r.prototype.enrichItemsWithTags=function(n,i){var o;if(i?.size)for(var a=0,s=n;a<s.length;a++){var S,p=s[a],m=p.type;if((S=[3,13].includes(m)?p.id:p.objectId||(null===(o=p.contract)||void 0===o?void 0:o.objectId))&&m){var w=new EI.Zz({itemId:S,legacyFluentListArtifactType:m}),E=i.get(w.key);!E||!E.tags.length||(p.tags=E.tags.map(function(R){return R.displayName}))}}},r.\u0275fac=function(i){e.\u0275\u0275invalidFactory()},r.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r}(Kt.r4);function wl(t,r){for(var n,i=r.filter(function(S){return t.includes(Qn(S))}),o=[],a=function(w){if(!w.isParent)return"continue";var E=null!==(n=r.filter(function(R){return R.parentUniqueId===w.uniqueId}))&&void 0!==n?n:[];o=o.concat(E.map(function(R){return Qn(R)}))},s=0,p=i;s<p.length;s++)a(p[s]);return o.filter(function(S){return!t.includes(S)})}function nS(t){return!!t.parentUniqueId}function qr(t){if(t.triType)return t.triType;switch(t.type){case 1:return"dashboard";case 2:return"report";case 6:return"rdlreport";case 10:return"scorecard";case 4:return"workbook";case 16:return"subfolder";case 103:return"dataflow-gen2";default:(0,St.sr)("unsupported artifact type: ".concat(t.type))}}var rS=l(39769),iS=function(t){function r(n,i,o,a,s,p,m,S,w){var E=t.call(this)||this;return E.selectedWorkspaceObjectId$=n,E.selectedSubfolderId$=i,E.cascadeMode=o,E.allowSelectItemTypes=a,E.customizedColumnsData=s,E.checkedAndDisabledItems=p,E.visibleItemTypes=m,E.genericWorkspaceDataSource=S,E.customWorkspaceDataSource=w,E.sortingDataAccessor=function(R,J){switch(J){case It.Z3.Name:return R.displayName;case It.Z3.Type:return R.typeName;case It.Z3.Owner:return R.owner;default:(0,St.sr)("unsupported sort header id: ".concat(J))}},E.init(),E}return(0,c.__extends)(r,t),r.prototype.init=function(){var n=this;this.source=this.customWorkspaceDataSource?this.customWorkspaceDataSource.getData(this.selectedWorkspaceObjectId$,this.selectedSubfolderId$):this.genericWorkspaceDataSource.source.pipe((0,P.U)(function(i){return n.filterVisibleItems(i)}),(0,P.U)(function(i){return n.appendIsCheckedAndDisabledProperty(i)}),(0,P.U)(function(i){return n.appendCanBeSelectedProperty(i)}),(0,P.U)(function(i){return n.appendCustomizedColumnData(i)})),this.source.subscribe(function(i){return n.data=i})},r.prototype.appendIsCheckedAndDisabledProperty=function(n){if(!this.checkedAndDisabledItems||0===this.checkedAndDisabledItems.length)return n;for(var i=function(S){var w=qr(S);o.checkedAndDisabledItems.find(function(E){var R,J,oe,ve;return w===E.type&&(void 0!==(null===(R=S.contract)||void 0===R?void 0:R.id)&&(null===(J=S.contract)||void 0===J?void 0:J.id)===E.id||void 0!==(null===(oe=S.contract)||void 0===oe?void 0:oe.objectId)&&(null===(ve=S.contract)||void 0===ve?void 0:ve.objectId)===E.objectId||void 0!==S.uniqueId&&S.uniqueId===E.uniqueId)})&&(S.isCheckedAndDisabled=!0)},o=this,a=0,s=n;a<s.length;a++)i(s[a]);return n},r.prototype.appendCanBeSelectedProperty=function(n){for(var i,o=0,a=n;o<a.length;o++){var s=a[o];s.canBeSelected=!s.isCheckedAndDisabled&&(null===(i=this.allowSelectItemTypes)||void 0===i?void 0:i.includes(qr(s))),s.canBeSelected&&this.cascadeMode&&(s.canBeSelected=!nS(s))}return n},r.prototype.filterVisibleItems=function(n){if(!this.visibleItemTypes)return n;var i=(0,c.__spreadArray)(["subfolder"],this.visibleItemTypes,!0);return n.filter(function(o){return i.includes(qr(o))})},r.prototype.appendCustomizedColumnData=function(n){var i=this;return this.customizedColumnsData?n.map(function(o){var a=i.customizedColumnsData.find(function(s){return s.uniqueId===o.uniqueId});return a?(0,c.__assign)((0,c.__assign)({},o),a.value):o}):n},r}(Kt.r4),oS=l(65499),aS=l(92710),sS=["nameCell"],lS=["typeCell"],cS=["ownerCell"];function uS(t,r){1&t&&e.\u0275\u0275elementContainer(0)}function pS(t,r){if(1&t&&e.\u0275\u0275element(0,"fluent-list-table-base",6),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("focusedRowId$",n.focusedRowId$)("hoveredRowId$",n.hoveredRowId$)("columnConfigs$",n.columnConfigs$)("dataSource",n.dataSource)("selection",n.selection)("allowSelection",n.allowSelection)}}function dS(t,r){1&t&&e.\u0275\u0275elementContainer(0)}function fS(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275element(0,"tri-artifact-icon",10),e.\u0275\u0275elementStart(1,"a",11),e.\u0275\u0275listener("keydown.enter",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext().$implicit,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.navigateToSubfolder(s))})("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext().$implicit,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.navigateToSubfolder(s))}),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("artifactType",i.type)("preset",o.builtInIconPreset),e.\u0275\u0275advance(1),e.\u0275\u0275property("triTooltip",i.displayName),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(i.displayName)}}function mS(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-svg-icon",15),2&t){var n=e.\u0275\u0275nextContext(2).$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275property("sprite","parent-child-icons")("name",i.getChildIndicator(n))}}function hS(t,r){if(1&t&&(e.\u0275\u0275template(0,mS,1,2,"tri-svg-icon",12),e.\u0275\u0275element(1,"tri-artifact-icon",13),e.\u0275\u0275elementStart(2,"span",14),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",!!n.parentUniqueId),e.\u0275\u0275advance(1),e.\u0275\u0275property("artifactType",n.type)("preset",i.builtInIconPreset),e.\u0275\u0275advance(1),e.\u0275\u0275property("triTooltip",n.displayName),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.displayName)}}var lo=function(r){return{"col-disabled":r}},co=function(r){return{width:r}};function gS(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",7),e.\u0275\u0275template(1,dS,1,0,"ng-container",0),e.\u0275\u0275template(2,fS,3,4,"ng-template",null,8,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(4,hS,4,5,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=e.\u0275\u0275reference(3),a=e.\u0275\u0275reference(5),s=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(5,lo,s.itemDisabled(n)))("ngStyle",e.\u0275\u0275pureFunction1(7,co,i&&i[s.colName_name]+"px")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.isSubfolder(n))("ngIfThen",o)("ngIfElse",a)}}function vS(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",16),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("triTooltip",n.typeName)("ngClass",e.\u0275\u0275pureFunction1(5,lo,o.itemDisabled(n)))("ngStyle",e.\u0275\u0275pureFunction1(7,co,i&&i[o.colName_type]+"px")),e.\u0275\u0275attribute("data-value",n.type),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.typeName)}}function _S(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span",17),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){var n=r.$implicit,i=r.colWidth,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("triTooltip",n.owner||"\u2014")("ngClass",e.\u0275\u0275pureFunction1(4,lo,o.itemDisabled(n)))("ngStyle",e.\u0275\u0275pureFunction1(6,co,i&&i[o.colName_owner]+"px")),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.owner||"-")}}function CS(t,r){if(1&t&&e.\u0275\u0275element(0,"tri-empty-state",18),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.emptyStateModel)}}var yS=function(t){function r(n,i,o,a,s,p,m,S,w,E,R,J,oe,ve){var ee=t.call(this)||this;return ee.store=n,ee.localizationService=i,ee.fluentListFilterService=o,ee.lazyProvider=a,ee.featureSwitchService=s,ee.telemetryService=p,ee.usageMetricsReport=m,ee.extensionManifestService=S,ee.subfolderContextService=w,ee.subfolderFacade=E,ee.multiSelectionService=R,ee.tridentFluentListItemService=J,ee.workspaceContext=oe,ee.customWorkspaceDataSource=ve,ee.allowSelectWorkspace=!1,ee.allowSelectItemTypes=[],ee.allowMultiSelection=!1,ee.customizedColumnsConfig=[],ee.customizedColumnsData=[],ee.useCustomDataSource=!1,ee.cascadeMode=!1,ee.preSelectedItems=[],ee.visibleItemTypes=[],ee.visitSubfolder=new e.EventEmitter,ee.selectionChanged=new e.EventEmitter,ee.colName_name=It.Z3.Name,ee.colName_type=It.Z3.Type,ee.colName_owner=It.Z3.Owner,ee.focusedRowId$=new k.X(null),ee.hoveredRowId$=new k.X(null),ee.hasData$=new k.X(!1),ee.selection=new Qs.Ov(!1,[]),ee.allowSelection=!1,ee.emptyStateModel={emptyStateType:3,iconType:2,title:ee.localizationService.get("Subfolder_Picker_Table_Empty_State_Title"),message:ee.localizationService.get("Subfolder_Picker_Table_Empty_State_Message")},ee._columnConfigs$=new k.X([]),ee.columnConfigs$=ee._columnConfigs$.asObservable().pipe((0,fn.n)(function(we){return!we.length}),(0,je.q)(1)),ee}return(0,c.__extends)(r,t),r.prototype.ngOnInit=function(){var i,n=this,o=null===(i=this.preSelectedItems)||void 0===i?void 0:i.filter(function(s){return!s.canBeUnselected});this.genericWorkspaceDataSource=this.useCustomDataSource?void 0:new eS(this.fluentListFilterService,this.store,this.localizationService,this.lazyProvider,this.featureSwitchService,this.telemetryService,this.usageMetricsReport,this.extensionManifestService,this.subfolderContextService,this.subfolderFacade,this.multiSelectionService,this.tridentFluentListItemService,this.workspaceContext,this.selectedWorkspaceObjectId$,this.selectedSubfolderId$),this.dataSource=new iS(this.selectedWorkspaceObjectId$,this.selectedSubfolderId$,this.cascadeMode,this.allowSelectItemTypes,this.customizedColumnsData,o,this.visibleItemTypes,this.genericWorkspaceDataSource,this.useCustomDataSource?this.customWorkspaceDataSource:void 0),this.dataSource.source.pipe((0,D.R)(this.onDestroy$),(0,P.U)(function(s){return!!s.length})).subscribe(this.hasData$),this.allowSelectItemTypes&&0!==this.allowSelectItemTypes.length&&(this.allowSelection=!0,this.selection=new Qs.Ov(this.allowMultiSelection,[]),this.selection.changed.pipe((0,D.R)(this.onDestroy$),(0,zr.M)(this.dataSource.source)).subscribe(function(s){var m=s[1];if(!n.cascadeMode||!function(t,r,n){var i=wl(r.added,n),o=wl(r.removed,n);return(0!==i.length||0!==o.length)&&(0!==i.length&&t.select.apply(t,i),0!==o.length&&t.deselect.apply(t,o),!0)}(n.selection,s[0],n.dataSource.data)){var S=m.filter(function(w){return n.selection.selected.includes(w.uniqueId)});n.selectionChanged.emit(n.getSelectionChangedOutput(S))}}),this.selectedWorkspaceObjectId$.pipe((0,D.R)(this.onDestroy$),(0,V.x)()).subscribe(function(){return n.selection.clear()}),this.selectedSubfolderId$.pipe((0,D.R)(this.onDestroy$),(0,V.x)()).subscribe(function(){return n.selection.clear()}))},r.prototype.ngOnDestroy=function(){var n;return null===(n=this.genericWorkspaceDataSource)||void 0===n||n.ngOnDestroy(),t.prototype.ngOnDestroy.call(this)},r.prototype.ngAfterViewChecked=function(){var n,i=null!==(n=this.customizedColumnsConfig)&&void 0!==n?n:[],o=(0,c.__spreadArray)((0,c.__spreadArray)([{name:It.Z3.Name,visible$:(0,qe.of)(!0),canResize:!0,canSort:!0,class:"col col-name",content:this.localizationService.get("Name"),tooltip:[this.localizationService.get("Name"),this.localizationService.get("FilterPane_Filter_Sort_AZ"),this.localizationService.get("FilterPane_Filter_Sort_ZA")],defaultWidth:320,cellTemplate:this.nameCell}],i.map(function(a){return{name:a.name,visible$:(0,qe.of)(!0),canResize:!0,canSort:!1,class:a.className,content:a.displayName,tooltip:a.displayName,defaultWidth:a.defaultWidth,cellTemplate:a.cellTemplate}}),!0),[{name:It.Z3.Type,visible$:(0,qe.of)(!0),canResize:!0,canSort:!0,class:"col col-type",content:this.localizationService.get("Type"),tooltip:[this.localizationService.get("Type"),this.localizationService.get("FilterPane_Filter_Sort_AZ"),this.localizationService.get("FilterPane_Filter_Sort_ZA")],defaultWidth:176,cellTemplate:this.typeCell},{name:It.Z3.Owner,visible$:(0,qe.of)(!0),canResize:!0,canSort:!0,class:"col col-owner",content:this.localizationService.get("Owner_Lowercase"),tooltip:[this.localizationService.get("Owner_Lowercase"),this.localizationService.get("FilterPane_Filter_Sort_AZ"),this.localizationService.get("FilterPane_Filter_Sort_ZA")],defaultWidth:176,cellTemplate:this.ownerCell}],!1);this._columnConfigs$.next(o)},r.prototype.isSubfolder=function(n){return 16===n.type},r.prototype.itemDisabled=function(n){var i;return this.isSubfolder(n)?null===(i=this.disabledSubfolderIds)||void 0===i?void 0:i.includes(n.contract.id):!n.canBeSelected},r.prototype.navigateToSubfolder=function(n){this.visitSubfolder.emit(n.contract.id)},r.prototype.getChildIndicator=function(n){return"First"===n.childIndex?"first_indicator":"Middle"===n.childIndex?"middle_indicator":"last_indicator"},r.prototype.getSelectionChangedOutput=function(n){for(var i,o,a,s,p={subfolders:[],artifacts:[],dashboards:[],reports:[],datasets:[],datamarts:[],workbooks:[],cdsaModels:[]},m=[],S=0,w=n;S<w.length;S++){var E=w[S],R={objectId:null===(i=E.contract)||void 0===i?void 0:i.objectId,id:null===(o=E.contract)||void 0===o?void 0:o.id,uniqueId:E.uniqueId},J={id:null===(a=E.contract)||void 0===a?void 0:a.id,objectId:null===(s=E.contract)||void 0===s?void 0:s.objectId,uniqueId:E.uniqueId,displayName:E.displayName,type:qr(E)};if(m.push(J),E.triType&&(0,an.qt)(E.triType))p.artifacts.push(R);else if(oi(E.type))p.datamarts.push(R);else switch(E.type){case 16:p.subfolders.push(R);break;case 1:p.dashboards.push(R);break;case 2:case 6:case 10:p.reports.push(R);break;case 3:p.datasets.push(R);break;case 4:p.workbooks.push({id:R.id,packageId:E.packageId,inApp:E.isIncludedInApp,uniqueId:E.uniqueId});break;case 8:case 103:p.cdsaModels.push(R)}}return{selectedItems:p,selectedItemsMetadata:m}},r.\u0275fac=function(i){return new(i||r)(e.\u0275\u0275directiveInject(ne.yh),e.\u0275\u0275directiveInject(_e.o),e.\u0275\u0275directiveInject(B,8),e.\u0275\u0275directiveInject(Nt.E,8),e.\u0275\u0275directiveInject(Pt.vZ,8),e.\u0275\u0275directiveInject(Ks.t,8),e.\u0275\u0275directiveInject(Qi,8),e.\u0275\u0275directiveInject(DI.vC,8),e.\u0275\u0275directiveInject(It.Nz,8),e.\u0275\u0275directiveInject(It.zC,8),e.\u0275\u0275directiveInject(oS.W,8),e.\u0275\u0275directiveInject(sa,8),e.\u0275\u0275directiveInject(jr._,8),e.\u0275\u0275directiveInject(rS.F,8))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-subfolder-picker-table"]],viewQuery:function(i,o){if(1&i&&(e.\u0275\u0275viewQuery(sS,5),e.\u0275\u0275viewQuery(lS,5),e.\u0275\u0275viewQuery(cS,5)),2&i){var a=void 0;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.nameCell=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.typeCell=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.ownerCell=a.first)}},inputs:{selectedWorkspaceObjectId$:"selectedWorkspaceObjectId$",selectedSubfolderId$:"selectedSubfolderId$",allowSelectWorkspace:"allowSelectWorkspace",disabledSubfolderIds:"disabledSubfolderIds",allowSelectItemTypes:"allowSelectItemTypes",allowMultiSelection:"allowMultiSelection",customizedColumnsConfig:"customizedColumnsConfig",customizedColumnsData:"customizedColumnsData",useCustomDataSource:"useCustomDataSource",cascadeMode:"cascadeMode",preSelectedItems:"preSelectedItems",visibleItemTypes:"visibleItemTypes"},outputs:{visitSubfolder:"visitSubfolder",selectionChanged:"selectionChanged"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:5,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["table",""],["nameCell",""],["typeCell",""],["ownerCell",""],["noResults",""],[3,"focusedRowId$","hoveredRowId$","columnConfigs$","dataSource","selection","allowSelection"],["cdkMonitorElementFocus","","data-testid","fluentListCell.name",1,"col","col-name",3,"ngClass","ngStyle"],["subfolderName",""],["artifactName",""],[1,"subfolder-icon",3,"artifactType","preset"],["cdkMonitorElementFocus","","tabindex","0",3,"triTooltip","keydown.enter","click"],["class","child-indicator","tri-svg-icon-48","",3,"sprite","name",4,"ngIf"],[1,"artifact-icon",3,"artifactType","preset"],[3,"triTooltip"],["tri-svg-icon-48","",1,"child-indicator",3,"sprite","name"],["cdkMonitorElementFocus","",1,"col","col-type",3,"triTooltip","ngClass","ngStyle"],["cdkMonitorElementFocus","",1,"col","col-owner",3,"triTooltip","ngClass","ngStyle"],[3,"viewModel"]],template:function(i,o){if(1&i&&(e.\u0275\u0275template(0,uS,1,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,pS,1,6,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(4,gS,6,9,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(6,vS,2,9,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(8,_S,2,8,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(10,CS,1,1,"ng-template",null,5,e.\u0275\u0275templateRefExtractor)),2&i){var a=e.\u0275\u0275reference(3),s=e.\u0275\u0275reference(11);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,3,o.hasData$))("ngIfThen",a)("ngIfElse",s)}},dependencies:[na.a,u.NgClass,u.NgIf,u.NgStyle,pi,aS.v,Et.M,wr.Z,u.AsyncPipe],styles:["[_nghost-%COMP%]{background-color:var(--colorNeutralBackground1);overflow-x:auto;flex-grow:1;display:flex;flex-direction:column}fluent-list-table-base[_ngcontent-%COMP%]{height:100%}a[_ngcontent-%COMP%]{color:var(--colorNeutralForeground2);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1 1 auto}a[_ngcontent-%COMP%]:hover{cursor:pointer}.col[_ngcontent-%COMP%]{color:var(--colorNeutralForeground2);box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0 8px;flex:0 0 auto}.col.col-name[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row}.col.col-name[_ngcontent-%COMP%]   .child-indicator[_ngcontent-%COMP%]{margin-left:-14px}.col.col-name[_ngcontent-%COMP%]   .subfolder-icon[_ngcontent-%COMP%], .artifact-icon[_ngcontent-%COMP%]{display:flex;fill:var(--colorNeutralForeground2);flex-shrink:0;margin-right:12px}.col.col-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.col.col-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .col.col-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{text-decoration:underline;color:inherit}.col.col-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{outline:none}.col.col-name[_ngcontent-%COMP%]   a.cdk-keyboard-focused[_ngcontent-%COMP%], .col.col-name[_ngcontent-%COMP%]   a.cdk-program-focused[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.col.col-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.col.col-disabled[_ngcontent-%COMP%]{opacity:.5}.col.col-disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{pointer-events:none}.col.col-disabled.col-name[_ngcontent-%COMP%]{opacity:1}.col.col-disabled.col-name[_ngcontent-%COMP%]   .subfolder-icon[_ngcontent-%COMP%], .col.col-disabled.col-name[_ngcontent-%COMP%]   .artifact-icon[_ngcontent-%COMP%], .col.col-disabled.col-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .col.col-disabled.col-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.5}tri-empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1}"],changeDetection:0}),r}(Cr.w),bS=l(22743),IS=l(55234),SS=function(){function t(r,n,i,o){this.hostComponent=r,this.hostElement=n,this.localizationService=i,this.tooltip=o}return Object.defineProperty(t.prototype,"tridentWorkspaceCapacityIcon",{set:function(n){if(n){var i=(0,IS.q)(n);if(i)return this.hostComponent.name=this.getIconName(i),this.hostComponent.markAsDirty(),this.tooltip.triTooltip=this.getTooltipText(i),void(this.hostElement.nativeElement.style.display="")}this.hostElement.nativeElement.style.display="none"},enumerable:!1,configurable:!0}),t.prototype.getTooltipText=function(r){switch(r){case"PPU":return this.localizationService.get("Capacity_Icon_Tooltip_Ppu");case"Fabric":return this.localizationService.get("Capacity_Icon_Tooltip_Fabric");case"Premium":return this.localizationService.get("Capacity_Icon_Tooltip");default:return""}},t.prototype.getIconName=function(r){switch(r){case"PPU":return"premium_person_20_regular";case"Fabric":case"Premium":return"premium_20_regular";default:return""}},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(vn.Mc),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(Jn.z),e.\u0275\u0275directiveInject(or.ZR,2))},t.\u0275dir=e.\u0275\u0275defineDirective({type:t,selectors:[["tri-svg-icon","tridentWorkspaceCapacityIcon",""]],inputs:{tridentWorkspaceCapacityIcon:"tridentWorkspaceCapacityIcon"},standalone:!0,features:[e.\u0275\u0275HostDirectivesFeature([or.ZR])]}),t}(),TS=["btn"];function xS(t,r){if(1&t&&e.\u0275\u0275element(0,"trident-domains-icon",6),2&t){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("domainObjectId",n.workspace.domainObjectId)}}var Ml=function(){function t(){this.selectWorkspace=new e.EventEmitter}return t.prototype.onClick=function(){this.selectWorkspace.emit()},t.prototype.focus=function(){this.button.nativeElement.focus()},t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["tri-subfolder-picker-workspace-list-item"]],viewQuery:function(n,i){var o;(1&n&&e.\u0275\u0275viewQuery(TS,5,e.ElementRef),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.button=o.first))},inputs:{workspace:"workspace"},outputs:{selectWorkspace:"selectWorkspace"},decls:7,vars:5,consts:[["tri-icon-button","","data-testid","workspace-item-btn","tabindex","-1",1,"workspace-button-left","tri-rounded","tri-text-left","tri-flex","tri-flex-auto","tri-items-center",3,"title","click"],["btn",""],[1,"workspace-icon","tri-mr-1",3,"workspace"],[1,"workspace-name","workspaceName"],["tri-svg-icon-12","",1,"diamond",3,"tridentWorkspaceCapacityIcon"],[3,"domainObjectId",4,"ngIf"],[3,"domainObjectId"]],template:function(n,i){1&n&&(e.\u0275\u0275elementStart(0,"button",0,1),e.\u0275\u0275listener("click",function(){return i.onClick()}),e.\u0275\u0275element(2,"tri-workspace-icon",2),e.\u0275\u0275elementStart(3,"span",3),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"tri-svg-icon",4),e.\u0275\u0275template(6,xS,1,1,"trident-domains-icon",5),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275propertyInterpolate("title",i.workspace.displayName),e.\u0275\u0275advance(2),e.\u0275\u0275property("workspace",i.workspace),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",i.workspace.displayName," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("tridentWorkspaceCapacityIcon",i.workspace.capacitySkuTier),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.workspace.domainObjectId))},dependencies:[u.NgIf,Et.M,bS.y,SS],styles:["[_nghost-%COMP%]     trident-domains-icon tri-svg-icon{width:12px;height:12px;fill:var(--colorNeutralForeground3);display:flex;padding-top:3px}.workspace-button-left[_ngcontent-%COMP%]{padding:0 10px;width:calc(100% - 56px);height:100%}.workspace-button-left[_ngcontent-%COMP%]:hover{background-color:var(--coloNeutralBackground1Hover)}.workspace-button-left[_ngcontent-%COMP%]:active{background-color:var(--colorNeutralBackground1Selected)}.workspace-button-left[_ngcontent-%COMP%]:focus-visible{background-color:var(--colorTransparentBackground);outline:2px auto var(--colorNeutralStrokeFocus2);outline-offset:-2px}.workspace-button-left[_ngcontent-%COMP%]:focus-visible + .workspace-button-right[_ngcontent-%COMP%]   .workspace-icon-button[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{display:flex}.workspace-name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 40px);color:var(--colorNeutralForeground2);font-size:var(--fontSizeBase300);padding:0 2px}.workspace-icon[_ngcontent-%COMP%]{height:20px;width:20px}.workspace-button-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding-right:8px}.workspace-button-right[_ngcontent-%COMP%]:active{background-color:var(--colorNeutralBackground1Selected)}.diamond[_ngcontent-%COMP%]{flex-basis:20px;fill:var(--colorNeutralForeground3)}.workspace-icon-button[_ngcontent-%COMP%]{width:24px;height:24px;padding:0 2px}.workspace-icon-button[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{display:none}.workspace-icon-button[_ngcontent-%COMP%]:focus-visible   tri-svg-icon[_ngcontent-%COMP%]{display:flex}"],changeDetection:0}),t}(),wS=l(89237);function MS(t,r){1&t&&(e.\u0275\u0275elementStart(0,"span",6),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"ContentList_EmptySearchResults"),"\n"))}var uo=function(r){return{selected:r}};function PS(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-subfolder-picker-workspace-list-item",7),e.\u0275\u0275listener("selectWorkspace",function(){var m=e.\u0275\u0275restoreView(n).$implicit,S=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(S.onSelectWorkspace(m))})("sidePaneOpened",function(){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.closePane())}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&t){var a,i=r.$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(5,uo,(null==(a=e.\u0275\u0275pipeBind1(2,3,o.selectedWorkspace$))?null:a.objectId)===i.objectId))("workspace",i),e.\u0275\u0275attribute("data-idx","workspace-button-"+i.index)}}function kS(t,r){1&t&&(e.\u0275\u0275elementStart(0,"label",8),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275attribute("data-testid","pinned-label"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"Pinned")," "))}function OS(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-subfolder-picker-workspace-list-item",9),e.\u0275\u0275listener("selectWorkspace",function(){var m=e.\u0275\u0275restoreView(n).$implicit,S=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(S.onSelectWorkspace(m))})("sidePaneOpened",function(){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.closePane())}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&t){var a,i=r.$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(5,uo,(null==(a=e.\u0275\u0275pipeBind1(2,3,o.selectedWorkspace$))?null:a.objectId)===i.objectId))("workspace",i),e.\u0275\u0275attribute("data-idx","workspace-button-"+i.index)}}function DS(t,r){1&t&&(e.\u0275\u0275elementStart(0,"label",8),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275attribute("data-testid","all-label"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"All")," "))}function FS(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-subfolder-picker-workspace-list-item",7),e.\u0275\u0275listener("selectWorkspace",function(){var m=e.\u0275\u0275restoreView(n).$implicit,S=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(S.onSelectWorkspace(m))})("sidePaneOpened",function(){e.\u0275\u0275restoreView(n);var p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.closePane())}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&t){var a,i=r.$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(5,uo,(null==(a=e.\u0275\u0275pipeBind1(2,3,o.selectedWorkspace$))?null:a.objectId)===i.objectId))("workspace",i),e.\u0275\u0275attribute("data-idx","workspace-button-"+i.index)}}var Vn,ES=function(){function t(r,n){this.workspaceContext=r,this.pinWorkspaceFacade=n,this.useCustomDataSource=!1,this.selectWorkspace=new e.EventEmitter,this.filteredMyWorkspaceArray$=new k.X([]),this.filteredPinnedWorkspaces$=new k.X([]),this.filteredAllWorkspaces$=new k.X([]),this.selectedWorkspace$=new k.X(void 0),this.filteredWorkspaceCount=0,this.activeWorkspaceIndex=0,this.showAllLabel=!0,this.showPinnedLabel=!0,this.showDivider=!0,this.showNoResults$=new k.X(!1),this.minBufferPx=600,this.maxBufferPx=700,this.destroy$=new W.xQ,this.filterKey$=new k.X("")}return Object.defineProperty(t.prototype,"selectedWorkspace",{set:function(n){this.selectedWorkspace$.next(n)},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){return(0,c.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return this.useCustomDataSource||this.pinWorkspaceFacade.load(),[4,this.workspaceContext.ensureWorkspacesLoaded()];case 1:return n.sent(),(0,nt.aj)([this.workspaceContext.workspaces$,this.workspaceContext.myWorkspace$,this.pinWorkspaceFacade.getPinnedWorkspaces(),this.filterKey$]).pipe((0,D.R)(this.destroy$)).subscribe(function(i){var o=i[0],a=i[1],s=i[2],m=i[3].toLocaleLowerCase(),S=0,w=[a].filter(function(oe){return oe.displayName.toLocaleLowerCase().includes(m)}).map(function(oe){return(0,c.__assign)((0,c.__assign)({},oe),{index:S++})}),E=s.map(function(oe){return oe.folderObjectId}),R=o.filter(function(oe){return!oe.isMyWorkspace}).filter(function(oe){return oe.displayName.toLocaleLowerCase().includes(m)}).filter(function(oe){return E.includes(oe.objectId)}).sort(r.sortByName).map(function(oe){return(0,c.__assign)((0,c.__assign)({},oe),{index:S++})}),J=o.filter(function(oe){return!oe.isMyWorkspace}).filter(function(oe){return oe.displayName.toLocaleLowerCase().includes(m)}).filter(function(oe){return!E.includes(oe.objectId)}).sort(r.sortByName).map(function(oe){return(0,c.__assign)((0,c.__assign)({},oe),{index:S++})});r.filteredMyWorkspaceArray$.next(w),r.filteredPinnedWorkspaces$.next(R),r.filteredAllWorkspaces$.next(J),r.filteredWorkspaceCount=S,r.showAllLabel=J.length>0,r.showPinnedLabel=R.length>0,r.showDivider=w.length>0,r.showNoResults$.next(o.filter(function(oe){return oe.displayName.toLocaleLowerCase().includes(m)}).length<=0)}),[2]}})})},t.prototype.ngAfterViewInit=function(){var r=this;this.keyManager=new re.Em(this.items).withTypeAhead(),(0,nt.aj)([this.filteredMyWorkspaceArray$,this.filteredPinnedWorkspaces$,this.filteredAllWorkspaces$,this.selectedWorkspace$]).pipe((0,D.R)(this.destroy$),(0,dn.b)(50)).subscribe(function(n){var o=n[1],a=n[2],s=n[3],p=(0,c.__spreadArray)((0,c.__spreadArray)((0,c.__spreadArray)([],n[0],!0),o,!0),a,!0).find(function(m){return m.objectId===s.objectId});r.activeWorkspaceIndex=p?p.index:0})},t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.prototype.sortByName=function(r,n){return r.displayName.toLocaleLowerCase()<n.displayName.toLocaleLowerCase()?-1:r.displayName.toLocaleLowerCase()>n.displayName.toLocaleLowerCase()?1:0},t.prototype.onFilterChange=function(r){this.filterKey$.next(r)},t.prototype.onWorkspaceListFocus=function(){this.keyManager.setActiveItem(this.activeWorkspaceIndex)},t.prototype.onSelectWorkspace=function(r){this.selectWorkspace.emit(r)},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(jr._),e.\u0275\u0275directiveInject(fs.l$))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["tri-subfolder-picker-workspace-list"]],viewQuery:function(n,i){var o;(1&n&&e.\u0275\u0275viewQuery(Ml,5),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.items=o))},inputs:{selectedWorkspace:"selectedWorkspace",useCustomDataSource:"useCustomDataSource"},outputs:{selectWorkspace:"selectWorkspace"},decls:13,vars:19,consts:[[1,"workspace-search","search",3,"placeholderText","value"],["class","no-results",4,"ngIf"],["itemSize","20","appendOnly","","tabindex","0",3,"minBufferPx","maxBufferPx","focus","keydown"],[4,"ngFor","ngForOf"],["class","workspace-label",4,"ngIf"],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"no-results"],[1,"workspace-list-item","tri-flex","tri-items-center",3,"ngClass","workspace","selectWorkspace","sidePaneOpened"],[1,"workspace-label"],[1,"workspace-list-item","tri-flex","tri-items-center","pinned-workspace",3,"ngClass","workspace","selectWorkspace","sidePaneOpened"]],template:function(n,i){1&n&&(e.\u0275\u0275elementStart(0,"tri-search-box",0),e.\u0275\u0275listener("value",function(a){return i.onFilterChange(a)}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,MS,3,3,"span",1),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementStart(4,"cdk-virtual-scroll-viewport",2),e.\u0275\u0275listener("focus",function(){return i.onWorkspaceListFocus()})("keydown",function(a){return i.keyManager.onKeydown(a)}),e.\u0275\u0275template(5,PS,3,7,"ng-container",3),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275template(7,kS,3,4,"label",4),e.\u0275\u0275template(8,OS,3,7,"ng-container",3),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275template(10,DS,3,4,"label",4),e.\u0275\u0275template(11,FS,3,7,"ng-container",5),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("placeholderText",e.\u0275\u0275pipeBind1(1,9,"SearchBox_Text")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,11,i.showNoResults$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("minBufferPx",i.minBufferPx)("maxBufferPx",i.maxBufferPx),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(6,13,i.filteredMyWorkspaceArray$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.showPinnedLabel),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(9,15,i.filteredPinnedWorkspaces$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.showAllLabel),e.\u0275\u0275advance(1),e.\u0275\u0275property("cdkVirtualForOf",e.\u0275\u0275pipeBind1(12,17,i.filteredAllWorkspaces$)))},dependencies:[u.NgClass,u.NgForOf,u.NgIf,tn.xd,tn.x0,tn.N7,wS.U,Ml,u.AsyncPipe,Ke.F],styles:["[_nghost-%COMP%]{box-sizing:border-box;min-width:292px;min-height:400px;flex:1 1 auto;display:flex;flex-direction:column}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{overflow-x:hidden!important;display:flex;flex:1 1 auto}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:calc(100vw - 68px);min-width:272px}.workspace-search[_ngcontent-%COMP%]{margin-bottom:8px;align-self:center;width:100%}.no-results[_ngcontent-%COMP%]{color:var(--colorNeutralForeground3);margin:18px 30px}.workspace-list-item[_ngcontent-%COMP%]{height:32px;border-radius:var(--borderRadiusMedium)}.workspace-list-item[_ngcontent-%COMP%]:hover{background-color:var(--colorNeutralBackground1Hover)}.workspace-list-item[_ngcontent-%COMP%]:hover     .workspace-icon-button tri-svg-icon{display:flex}.workspace-list-item.selected[_ngcontent-%COMP%]{background-color:var(--colorNeutralBackground1Selected);font-weight:var(--fontWeightSemibold)}.workspace-list-item.selected[_ngcontent-%COMP%]     button:hover{background-color:var(--colorNeutralBackground1Selected)}.workspace-list-item[_ngcontent-%COMP%]:active{background-color:var(--colorNeutralBackground1Selected)}@media (forced-colors: active){.workspace-list-item[_ngcontent-%COMP%]:hover{background-color:var(--globalColorhcHighlightText)}.workspace-list-item.selected[_ngcontent-%COMP%]{background-color:var(--globalColorhcHighlight)}.workspace-list-item.selected[_ngcontent-%COMP%]     button:hover{background-color:var(--globalColorhcHighlight)}}.workspace-label[_ngcontent-%COMP%]{margin:8px 10px 8px 8px;font-size:var(--fontSizeBase200);display:inline-block}"],changeDetection:0}),t}(),Pl=function(){function t(r,n,i){var o=this;this.data=r,this.workspaceContext=n,this.store=i,this.submitEvent=new e.EventEmitter,this.cancelEvent=new e.EventEmitter,this.selectedWorkspaceObjectId$=new k.X(void 0),this.selectWorkspaceEvent$=new W.xQ,this.selectedSubfolderId$=new k.X(void 0),this.selectedItems$=new k.X({}),r.workspaceObjectId?(this.loadData(r.workspaceObjectId),this.selectedWorkspaceObjectId$.next(r.workspaceObjectId)):this.workspaceContext.selectedWorkspace$.pipe((0,Ft.h)(function(a){return!!a?.id}),(0,je.q)(1),(0,kn.d)(1)).subscribe(function(a){o.loadData(a.objectId),o.selectedWorkspaceObjectId$.next(a.objectId)}),this.selectedWorkspace$=this.selectedWorkspaceObjectId$.pipe((0,Ft.h)(function(a){return!!a}),(0,kt.w)(function(a){return o.workspaceContext.getGroupById(a)})),this.selectedSubfolderId$.next(r.initialSubfolderId)}return t.prototype.onVisitSubfolder=function(r){this.selectedSubfolderId$.next(r)},t.prototype.onSelectWorkspace=function(r){r.objectId!==this.selectedWorkspaceObjectId$.value&&(this.loadData(r.objectId),this.selectedSubfolderId$.next(void 0),this.selectedWorkspaceObjectId$.next(r.objectId)),this.selectWorkspaceEvent$.next()},t.prototype.onSubmit=function(r){this.submitEvent.emit(r)},t.prototype.onCancel=function(){this.cancelEvent.emit()},t.prototype.onSelectionChanged=function(r){this.selectedItems$.next(r)},t.prototype.loadData=function(r){this.store.dispatch(new p1._S({groupObjectId:r,refreshIfStale:!0}))},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(f.WI),e.\u0275\u0275directiveInject(jr._),e.\u0275\u0275directiveInject(ne.yh))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["subfolder-picker"]],outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:7,vars:26,consts:[[3,"selectedWorkspace","selectedSubfolderId","selectedItems","selectWorkspaceEvent$","visitSubfolder","submitEvent","cancelEvent"],["subfolder-picker-workspace-list","",3,"selectedWorkspace","useCustomDataSource","selectWorkspace"],["subfolder-picker-table","",3,"selectedWorkspaceObjectId$","selectedSubfolderId$","allowSelectWorkspace","disabledSubfolderIds","allowSelectItemTypes","cascadeMode","allowMultiSelection","customizedColumnsConfig","customizedColumnsData","preSelectedItems","visibleItemTypes","useCustomDataSource","visitSubfolder","selectionChanged"]],template:function(n,i){1&n&&(e.\u0275\u0275elementStart(0,"tri-subfolder-picker",0),e.\u0275\u0275listener("visitSubfolder",function(a){return i.onVisitSubfolder(a)})("submitEvent",function(a){return i.onSubmit(a)})("cancelEvent",function(){return i.onCancel()}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementStart(4,"tri-subfolder-picker-workspace-list",1),e.\u0275\u0275listener("selectWorkspace",function(a){return i.onSelectWorkspace(a)}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"tri-subfolder-picker-table",2),e.\u0275\u0275listener("visitSubfolder",function(a){return i.onVisitSubfolder(a)})("selectionChanged",function(a){return i.onSelectionChanged(a)}),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275property("selectedWorkspace",e.\u0275\u0275pipeBind1(1,18,i.selectedWorkspace$))("selectedSubfolderId",e.\u0275\u0275pipeBind1(2,20,i.selectedSubfolderId$))("selectedItems",e.\u0275\u0275pipeBind1(3,22,i.selectedItems$))("selectWorkspaceEvent$",i.selectWorkspaceEvent$),e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedWorkspace",e.\u0275\u0275pipeBind1(5,24,i.selectedWorkspace$))("useCustomDataSource",i.data.useCustomDataSource),e.\u0275\u0275advance(2),e.\u0275\u0275property("selectedWorkspaceObjectId$",i.selectedWorkspaceObjectId$)("selectedSubfolderId$",i.selectedSubfolderId$)("allowSelectWorkspace",i.data.allowSelectWorkspace)("disabledSubfolderIds",i.data.disabledSubfolderIds)("allowSelectItemTypes",i.data.allowSelectItemTypes)("cascadeMode",i.data.cascadeMode)("allowMultiSelection",i.data.allowMultiSelection)("customizedColumnsConfig",i.data.customizedColumnsConfig)("customizedColumnsData",i.data.customizedColumnsData)("preSelectedItems",i.data.preSelectedItems)("visibleItemTypes",i.data.visibleItemTypes)("useCustomDataSource",i.data.useCustomDataSource))},dependencies:[D1,yS,ES,u.AsyncPipe],styles:["tri-subfolder-picker-table[_ngcontent-%COMP%]     .column-headers{margin:0}tri-subfolder-picker-table[_ngcontent-%COMP%]     fluent-list-table-base .cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{padding:0}"],changeDetection:0}),t}(),RS=function(){function t(r){this.dialogService=r}return t.prototype.openSubfolderPicker=function(r){return this.dialogService.open(Pl,{data:r,disableClose:!0,panelClass:["subfolder-picker","no-border","no-padding"],width:r.allowSelectWorkspace?"1180px":"864px",maxWidth:"100vw"}).afterClosed().toPromise()},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(An.x))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),LS=function(){function t(){}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({providers:[{provide:It.cU,useClass:RS},{provide:B,useClass:B}],imports:[O.u,u.CommonModule,Mi.v,ki.g,c0,b.U8,fs.IB,It.HL,l1.OT,c1.b,s1.forRoot({subfolderDialogServiceProvider:(0,It.qJ)({useExisting:d0})}),vn.T6,or.w,u1.V]}),t}(),po=l(91401),hr=l(87242),jS=l(29748),BS=function(){function t(r,n){var i=this;this.contextActivityService=r,this.telemetryService=n,this.createEvent$=(0,d.GW)(function(){return i.contextActivityService.getActivityStream().pipe((0,d.l4)(po.Gb,po.xq,po.TH),(0,Ft.h)(function(o){return WS(o.properties)}),(0,jo.b)(function(o){return zS(o.properties,i.telemetryService)}))},{dispatch:!1})}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275inject(jS.r),e.\u0275\u0275inject(U.y0))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}(),NS=new Set(["Publish Dialog","Publish Failure","Publish To Group"]),WS=function(r){return NS.has(r.name)},fo=((Vn={})[0]="Running",Vn[1]="Succeeded",Vn[2]="Failed",Vn[3]="Canceled",Vn),zS=function(r,n){var i,o=r.end-r.start,a=new Date(r.start).toISOString(),s=new Date(r.end).toISOString();switch(r.name){case"Publish Dialog":return n.logEvent(hr.ll,{completionStatus:fo[r.status],duration:o,start:a,end:s});case"Publish To Group":return n.logEvent(hr.P4,{completionStatus:fo[r.status],duration:o,start:a,end:s,selectedSubfolderObjectId:r.selectedSubfolderObjectId,selectedWorkspaceObjectId:r.selectedWorkspaceObjectId,supportSubfolders:r.supportSubfolders});case"Publish Failure":return n.logEvent(hr.y2,{completionStatus:fo[r.status],duration:o,start:a,end:s,errorOrWarningType:r.errorOrWarningType,errorCode:r.errorCode,linksClicked:null===(i=r.linksClicked)||void 0===i?void 0:i.join(",")})}},US=l(17261),$S=l(32703),VS=l(60986),HS=l(71370),GS=l(18942),KS=l(96608),QS=l(45051),qS=l(53833),ZS=l(44511),Ol=l(68070),XS=l(80649);function JS(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"subfolder-picker",6),e.\u0275\u0275listener("submitEvent",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.subfolderPickerSubmit(o))})("cancelEvent",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.close())}),e.\u0275\u0275elementEnd()()}}function YS(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-list-option",17,18),e.\u0275\u0275listener("keyup",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275reference(1),s=e.\u0275\u0275nextContext(2);return a.selected=!0,e.\u0275\u0275resetView(s.selected=a)})("dblclick",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onDoubleClicked())}),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()}if(2&t){var i=r.$implicit;e.\u0275\u0275property("value",i),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",i.Name," ")}}function eT(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",19),e.\u0275\u0275element(1,"i",20)(2,"div",21),e.\u0275\u0275elementEnd()),2&t){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("innerHTML",n.markdownRawHtml,e.\u0275\u0275sanitizeHtml)}}var tT=function(){return{ignoreOverlay:!1,ignoreMobile:!1}};function nT(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",7)(1,"div",8)(2,"label",9),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"pbi-search-box")(5,"input",10),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.searchText=a)})("input",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.searchText)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",11)(7,"div",12)(8,"mat-selection-list",13,14),e.\u0275\u0275listener("selectionChange",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275reference(9),s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.selectionChange(a.selectedOptions.selected))})("keyup.arrowup",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275reference(9),s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.selectionChange(a.selectedOptions.selected))})("keyup.arrowdown",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275reference(9),s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.selectionChange(a.selectedOptions.selected))}),e.\u0275\u0275template(10,YS,3,2,"mat-list-option",15),e.\u0275\u0275pipe(11,"workspaceFilter"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(12,eT,3,1,"div",16),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.dialogBodyLabel),e.\u0275\u0275advance(2),e.\u0275\u0275property("placeholder",i.selectWorkspacePlaceholder)("ngModel",i.searchText),e.\u0275\u0275advance(2),e.\u0275\u0275property("pbiScrollbar",e.\u0275\u0275pureFunction0(11,tT)),e.\u0275\u0275advance(1),e.\u0275\u0275property("multiple",!1),e.\u0275\u0275attribute("aria-label",i.selectionListAriaLabel),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind2(11,8,i.workspaces,i.searchText)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.markdownRawHtml)}}function rT(t,r){1&t&&e.\u0275\u0275element(0,"div",22)}function iT(t,r){if(1&t){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"dialog-footer",23),e.\u0275\u0275listener("okAction",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.submit())})("cancelAction",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.close())}),e.\u0275\u0275elementEnd()}if(2&t){var i=e.\u0275\u0275nextContext();e.\u0275\u0275property("okText",i.localizedPublishToGroupSelectText)("disableOk",!i.selectedWorkspace)}}var oT=function(r){return{"subfolder-picker-header":r}},aT=function(r){return{"subfolder-picker-body":r}},sT=function(r){return{width:r}},Dl=function(){function t(r,n,i,o,a,s,p){if(this.store=r,this.dialogRef=n,this.localizationService=i,this.sanitizer=o,this.telemetryService=a,this.data=s,this.publishService=p,this.subfolderPickerVisible=!1,this.workspaces=this.data.input.workspaces,this.dialogBodyLabel=this.localizationService.get("PublishToGroupDialogBodyLabel"),this.selectWorkspacePlaceholder=this.localizationService.get("SearchBox_Text"),this.localizedPublishToGroupTitle=this.localizationService.get("Desktop_FileMenu_PublishToPowerBI"),this.localizedPublishToGroupSelectText=this.localizationService.get("Select"),this.selectionListAriaLabel=this.localizationService.get("NavigationPane_Workspaces"),this.markdownRawHtml=this.convertMarkdown(this.data.input.markdownContent),this.supportSubfolders=this.data.input.supportSubfolders,this.parentPublishToGroupTitle=this.data.input.supportSubfolders?"":this.localizedPublishToGroupTitle,this.subfolderPickerWidth="1180px",p.startPublishDialogContextActivity(),s.input.supportSubfolders&&null!=r&&null!=s?.input.workspaces){for(var m=0,S=s.input.workspaces;m<S.length;m++){var w=S[m];w.Id===Bn.Q15&&(this.myWorkspaceObjectId=w.WorkspaceObjectId),w.Id=w.WorkspaceObjectId}r.dispatch($S.d({workspaces:s.input.workspaces}))}}return t.prototype.ngOnDestroy=function(){this.publishToGroupActivity&&(this.publishToGroupActivity.reject(new Error("Dialog closed before activity could complete")),this.publishToGroupActivity=null)},t.prototype.ngOnInit=function(){this.publishToGroupActivity&&(this.publishToGroupActivity.cancel(),this.publishToGroupActivity=null),this.publishToGroupActivity=this.publishService.publishDialogActivity.createChildActivity({name:"Publish To Group"}),this.data.input.supportSubfolders&&(this.publishToGroupActivity.setProperty("supportSubfolders",!0),this.useSubfolderSelection())},t.prototype.subfolderPickerSubmit=function(r){var i,n=this;if(r){this.selectedWorkspace=this.data.input.workspaces.find(function(a){return a.WorkspaceObjectId===r.selectedWorkspaceObjectId});var o=r.selectedSubfolderId;return this.store.select(HS.LI).pipe((0,je.q)(1)).subscribe(function(a){var s,p=a.find(function(m){return m.objectId===r.selectedWorkspaceObjectId});n.selectedSubfolder=null===(s=p?.contents)||void 0===s?void 0:s.subfolders.find(function(m){return m.id===o})}),(null===(i=this.selectedWorkspace)||void 0===i?void 0:i.Id)===this.myWorkspaceObjectId&&(this.selectedWorkspace.Id=Bn.Q15),void this.submit()}},t.prototype.useSubfolderSelection=function(){var r,n,i,o=this.markdownRawHtml?{bannerType:0,allowExpandButton:!0,message:this.markdownRawHtml,isMultiline:!0}:void 0,a=null!==(n=null!==(r=this.data.input.workspaces.find(function(p){return null!=p.Contents}))&&void 0!==r?r:this.data.input.workspaces.find(function(p){return p.IsPersonalWorkspace}))&&void 0!==n?n:this.data.input.workspaces[0];this.data.initialSubfolderId=void 0,this.data.title=this.localizedPublishToGroupTitle,this.data.confirmButtonText=this.localizedPublishToGroupSelectText,this.data.allowSelectWorkspace=!0,this.data.messageBarModel=o,this.data.useCustomDataSource=!0;var s=null===(i=a?.Contents)||void 0===i?void 0:i.subfolders.find(function(p){return p.selected});this.data.initialSubfolderId=s?.id,this.data.hideNewButton=!0,this.data.workspaceObjectId=a.WorkspaceObjectId,this.data.embedMode=!0,this.parentPublishToGroupTitle=this.data.input.supportSubfolders?"":this.localizedPublishToGroupTitle,this.subfolderPickerActivity=this.publishToGroupActivity.createChildActivity({name:"Publish Subfolder Picker"}),this.subfolderPickerVisible=!0},t.prototype.submit=function(){var n,i,o,r=this;this.telemetryService.logEvent(hr.ke,{actionType:"ClickedSubmit",dialogName:"PublishToGroupDialogComponent"}),xe.fF.assert(function(){return void 0!==r.selectedWorkspace},"Selected workspace should be defined.");var a={workspace:this.selectedWorkspace,selectedSubfolder:null!==(n=this.selectedSubfolder)&&void 0!==n?n:null,result:1};this.publishToGroupActivity.setProperty("selectedWorkspaceObjectId",null===(i=this.selectedWorkspace)||void 0===i?void 0:i.WorkspaceObjectId),this.publishToGroupActivity.setProperty("selectedSubfolderObjectId",null===(o=this.selectedSubfolder)||void 0===o?void 0:o.objectId),this.publishToGroupActivity.resolve(),this.publishToGroupActivity=null,this.subfolderPickerActivity&&(this.subfolderPickerActivity.resolve(),this.subfolderPickerActivity=null),this.dialogRef.close(a)},t.prototype.close=function(){this.telemetryService.logEvent(hr.ke,{actionType:"ClickedCancel",dialogName:"PublishToGroupDialogComponent"}),this.publishToGroupActivity.cancel(),this.publishToGroupActivity=null,this.subfolderPickerActivity&&(this.subfolderPickerActivity.cancel(),this.subfolderPickerActivity=null),this.dialogRef.close({workspace:null,selectedSubfolder:null,result:2})},t.prototype.onEscapeKey=function(){this.close()},t.prototype.selectionChange=function(r){this.selectedWorkspace=r?.length>0?r[0].value:void 0},t.prototype.onSearchCleared=function(){this.searchText=""},t.prototype.onDoubleClicked=function(){this.selectedWorkspace&&this.submit()},t.prototype.convertMarkdown=function(r){var n=this;if(r)return this.convertMarkdownToHtml(r,function(a){return n.sanitizer.sanitize(e.SecurityContext.HTML,a)}).split("&#10;").join("")},t.prototype.convertMarkdownToHtml=function(r,n){var o,a,i=this,s=new US({html:!1,xhtmlOut:!1,linkify:!0,breaks:!0});return s.validateLink=function(S){return null!=i.getLinkifyUrl(S,s)},s.renderer.rules.link_open=function(S,w,E,R,J){S[w].attrPush(["class","customDislaimerLink"]);var oe=S[w].attrIndex("href");if(oe>=0){var ve=i.getLinkifyUrl(S[w].attrs[oe][1],s);S[w].attrs[oe][1]=ve}return J.renderToken(S,w,E)},null!==(a=null===(o=n(s.render(r)))||void 0===o?void 0:o.trim())&&void 0!==a?a:""},t.prototype.getLinkifyUrl=function(r,n){var i=n.linkify.match(r);return null===i||i.length<1?null:i[0].url},t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(ne.yh,8),e.\u0275\u0275directiveInject(f.so),e.\u0275\u0275directiveInject(_e.o),e.\u0275\u0275directiveInject(GS.H7),e.\u0275\u0275directiveInject(KS.y0),e.\u0275\u0275directiveInject(f.WI),e.\u0275\u0275directiveInject(VS.q))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["publish-to-group-dialog"]],hostBindings:function(n,i){1&n&&e.\u0275\u0275listener("keydown.escape",function(){return i.onEscapeKey()},!1,e.\u0275\u0275resolveDocument)},decls:6,vars:14,consts:[[3,"ngClass","title","close"],[3,"ngClass","ngStyle"],[4,"ngIf"],["class","publish-dialog-body-content",4,"ngIf"],["class","subfolder-picker-container",4,"ngIf"],[3,"okText","disableOk","okAction","cancelAction",4,"ngIf"],[3,"submitEvent","cancelEvent"],[1,"publish-dialog-body-content"],[1,"body-label-wrapper"],["id","selectNotification"],["type","search","pbiSearchInput","","aria-labelledby","selectNotification",1,"searchText","pbi-focus-outline",3,"placeholder","ngModel","ngModelChange","input"],[1,"workspaces-list-flex-wrapper"],["dragScroll","",1,"workspaces-list-scroll-wrapper",3,"pbiScrollbar"],[3,"multiple","selectionChange","keyup.arrowup","keyup.arrowdown"],["workspacesList",""],[3,"value","keyup","dblclick",4,"ngFor","ngForOf"],["class","custom-tenant-markdown-container",4,"ngIf"],[3,"value","keyup","dblclick"],["opt",""],[1,"custom-tenant-markdown-container"],[1,"glyphicon","pbi-glyph-info","glyph-small","icon"],[1,"custom-tenant-markdown-message",3,"innerHTML"],[1,"subfolder-picker-container"],[3,"okText","disableOk","okAction","cancelAction"]],template:function(n,i){1&n&&(e.\u0275\u0275elementStart(0,"dialog-header",0),e.\u0275\u0275listener("close",function(){return i.close()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"dialog-body",1),e.\u0275\u0275template(2,JS,2,0,"div",2),e.\u0275\u0275template(3,nT,13,12,"div",3),e.\u0275\u0275template(4,rT,1,0,"div",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,iT,1,2,"dialog-footer",5)),2&n&&(e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(8,oT,i.subfolderPickerVisible))("title",i.parentPublishToGroupTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(10,aT,i.subfolderPickerVisible))("ngStyle",e.\u0275\u0275pureFunction1(12,sT,i.subfolderPickerVisible?i.subfolderPickerWidth:"")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.subfolderPickerVisible),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.subfolderPickerVisible),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.subfolderPickerVisible),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.subfolderPickerVisible))},dependencies:function(){return[u.NgClass,u.NgForOf,u.NgIf,u.NgStyle,QS.A,qS.H,ZS.g,C.kh,C.O$,h.Fj,h.JJ,h.On,Ol.a,Ol.p,XS.r,Pl,Fl]},styles:["[_ngcontent-%COMP%]:root{--tridentColor10: #001919;--tridentColor20: #012826;--tridentColor30: #01322E;--tridentColor40: #033F38;--tridentColor50: #054043;--tridentColor60: #0A5C50;--tridentColor70: #0C695A;--tridentColor80: #117865;--tridentColor90: #1F937E;--tridentColor100: #2AAC94;--tridentColor110: #3ABB9F;--tridentColor120: #52C7AA;--tridentColor130: #78D3B9;--tridentColor140: #9EE0CB;--tridentColor150: #C0ECDD;--tridentColor160: #E3F7EF}@mixin trident-legacy-map{accent-color: var(--tridentColor80); --fluent-theme-light-color: var(--tridentColor140); --fluent-theme-secondary-color: var(--tridentColor90); --theme-primary-accessible-color: var(--tridentColor80); --fluent-theme-primary-color: var(--tridentColor80); --fluent-theme-dark-alt-color: var(--tridentColor70); --theme-dark-color: var(--tridentColor60); --theme-darker-color: var(--tridentColor40); --fluent-theme-dark-color: var(--tridentColor60); --fluent-theme-pbi-shade30: var(--tridentColor40); --globalColorBrand10: var(--tridentColor10); --globalColorBrand20: var(--tridentColor20); --globalColorBrand30: var(--tridentColor30); --globalColorBrand40: var(--tridentColor40); --globalColorBrand50: var(--tridentColor50); --globalColorBrand60: var(--tridentColor60); --globalColorBrand70: var(--tridentColor70); --globalColorBrand80: var(--tridentColor80); --globalColorBrand90: var(--tridentColor90); --globalColorBrand100: var(--tridentColor100); --globalColorBrand110: var(--tridentColor110); --globalColorBrand120: var(--tridentColor120); --globalColorBrand130: var(--tridentColor130); --globalColorBrand140: var(--tridentColor140); --globalColorBrand150: var(--tridentColor150); --globalColorBrand160: var(--tridentColor160); --button-primary-content-color: var(--white-color); --checkmark-primary-content-color: var(--colorNeutralForegroundInverted); --text-primary-content-color: var(--white-color); --text-primary-content-color-hc: var(--white-color); --add-new-page-icon-color: var(--white-color); --fluent-theme-link-alt-color: var(--colorBrandForegroundLinkPressed, var(--tridentColor40)); --fluent-theme-link-color: var(--colorBrandForegroundLink, var(--tridentColor70)); --fluent-theme-link-darker-alt-color: var(--colorBrandForegroundLinkSelected, var(--tridentColor70)); --fluent-theme-link-darker-color: var(--colorBrandForegroundLinkHover, var(--tridentColor60)); --fluent-theme-link-mid-color: var(--colorBrandForegroundLinkSelected, var(--tridentColor70)); --default-visited-link-color: var(--colorBrandForegroundLink, var(--tridentColor70)); --link-on-primary-color: var(--white-color);}[_nghost-%COMP%]{--listBoxForegroundColor: rgba(0, 0, 0, .87);--listItemBackgroundFocus: #E0E0E0;--listItemSelectedBorder: transparent;--listItemBackgroundHover: #F5F5F5;--listItemSelectdBorderLineStyle: dotted;--markdownContainerBackground: var(--tridentColor160)}[data-legacy-theming=false]   [_nghost-%COMP%]{--listBoxForegroundColor: var(--colorNeutralForeground1);--listItemSelectedBorder: var(--colorCompoundBrandStroke);--listItemBackgroundHover: var(--colorNeutralBackground3);--listItemBackgroundFocus: var(--colorNeutralBackground3);--listItemSelectedBorderLineStyle: solid;--markdownContainerBackground: var(--colorNeutralBackground3)}[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   dialog-header[_ngcontent-%COMP%]{padding:10px 10px 0;margin-left:15px;margin-right:15px;margin-top:20px}[_nghost-%COMP%]   dialog-header.subfolder-picker-header[_ngcontent-%COMP%]     .pbi-dialog-header{margin:0}[_nghost-%COMP%]   dialog-body.subfolder-picker-body[_ngcontent-%COMP%]{padding:0;margin:0}[_nghost-%COMP%]   dialog-header.subfolder-picker-header[_ngcontent-%COMP%]{padding:0;margin:0;height:0}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]{padding:10px;margin-left:15px;margin-right:15px;overflow:hidden;color:var(--listBoxForegroundColor)}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   .body-label-wrapper[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   pbi-search-box[_ngcontent-%COMP%]{width:536px}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   pbi-search-box[_ngcontent-%COMP%]     .pbi-search-box:before{top:3px}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   pbi-search-box[_ngcontent-%COMP%]     .searchbox-clear-icon{top:3px}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   pbi-search-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder{font-style:italic}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   .publish-dialog-body-content[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   .workspaces-list-flex-wrapper[_ngcontent-%COMP%]{margin-top:15px;border:1px solid grey}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   mat-selection-list[_ngcontent-%COMP%]{padding-top:0;width:536px;height:208px;overflow-x:hidden}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]{max-width:533px;height:32px;box-sizing:border-box;border:2px dotted transparent;font-size:14px;color:var(--listBoxForegroundColor)}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   mat-list-option[aria-selected=true][_ngcontent-%COMP%]{border:2px var(--listItemSelectedBorderLineStyle);border-color:var(--listItemSelectedBorder);background-color:var(--listItemBackgroundFocus)}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   mat-list-option[aria-selected=true][_ngcontent-%COMP%]:focus-visible{border:2px var(--listItemSelectedBorderLineStyle);border-color:var(--listItemSelectedBorder)}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   mat-list-option[aria-selected=false][_ngcontent-%COMP%]:hover{background-color:var(--listItemBackgroundHover)}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   .custom-tenant-markdown-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:16px;width:536px;height:100px;background-color:var(--markdownContainerBackground)}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   .custom-tenant-markdown-container[_ngcontent-%COMP%]   .pbi-glyph-info[_ngcontent-%COMP%]{padding:40px 10px 0}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   .custom-tenant-markdown-container[_ngcontent-%COMP%]   .custom-tenant-markdown-message[_ngcontent-%COMP%]{font-size:12px;overflow-y:auto}[_nghost-%COMP%]   dialog-footer[_ngcontent-%COMP%]{padding:0 10px 10px;margin-left:15px;margin-right:15px;margin-bottom:10px}"],changeDetection:0}),t}(),Fl=function(){function t(){this.isEmpty=function(r){return!r||null!==r.match(/^ *$/)}}return t.prototype.transform=function(r,n){return!r||this.isEmpty(n)?r:r.filter(function(i){return i.Name.toLowerCase().includes(n.toLowerCase())})},t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=e.\u0275\u0275definePipe({name:"workspaceFilter",type:t,pure:!1}),t}(),lT=function(){function t(){}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[d.sQ.forFeature([BS]),y.c.withManifest([{componentIdentifier:"PublishToGroupDialogComponent",componentType:Dl}]),u.CommonModule,f.Is,v.F,C.gR,h.u5,M.t,I.K,LS]}),t}()},87242:function(Y,X,l){"use strict";l.d(X,{P4:function(){return O},Rq:function(){return M},ke:function(){return v},ll:function(){return b},y2:function(){return c}});var u=l(41114),h="PBI.Publish.UI.UserAction",d="PBI.Publish.UI.PublishRequest",C="PBI.PublishDialog",y="PBI.PublishToGroupDialog",I="PBI.PublishDialogFailure",v=u.cx[h]=(0,u.b1)(h),M=u.cx[d]=(0,u.b1)(d),b=u.cx[C]=(0,u.b1)(C),O=u.cx[y]=(0,u.b1)(y),c=u.cx[I]=(0,u.b1)(I)},48761:function(Y,X,l){"use strict";l.d(X,{r:function(){return u}});var u=function(h){return h.LineageView="LineageView",h.ItemLineageView="ItemLineageView",h.ImpactAnalysis="ImpactAnalysis",h.DatahubL2="DatahubL2",h.ALMPipelines="ALMPipelines",h.ReportPreview="ReportPreview",h.RLSReportImpersonation="RLSReportImpersonation",h.ListView="ListView",h.HoverCard="HoverCard",h.ArtifactSharing="ArtifactSharing",h}({})},76323:function(Y,X,l){"use strict";l.d(X,{_:function(){return K}});var u=l(81337),h=l(14463),d=l(62458),f=l(12913),C=l(59694),M=function(){function N(g,A){this.promiseFactory=g,this.httpService=A,d.fF.assertValue(g,"promiseFactory"),d.fF.assertValue(A,"httpService"),this.isEnabled=!0,this.requestDeferred=this.promiseFactory.defer(),this.requestDeferred.resolve(null),this.longPollInitialized=!1,this.lastLongPollCancelled=!1,this.lastLongPollTimedOut=!1,this.retryCount=0}return N.prototype.startMonitoring=function(g){var A=this;void 0===g&&(g=0),this.longPollInitialized||(this.longPollInitialized=!0,this.isEnabled=!0,this.requestDelay&&clearTimeout(this.requestDelay),this.requestDelay=setTimeout(function(){A.sendLongPollRequest()},g))},N.prototype.setLongPollInitialized=function(g){this.longPollInitialized=g},N.prototype.cancelCurrentRequest=function(){this.lastLongPollCancelled=!0,this.requestDeferred.resolve(null),this.longPollInitialized=!1,this.requestDelay&&clearTimeout(this.requestDelay)},N.prototype.pause=function(){this.paused=!0,this.cancelCurrentRequest()},N.prototype.resume=function(){this.paused=!1,this.startMonitoring()},N.prototype.trySendRequest=function(g){var A=this.requestOptions,G=A.headers.Authorization,z=!1;if(G){var H=G.split(" ");z=H.length>1&&!(0,C.g)(H[1])&&"undefined"!==H[1]}if(z)return this.httpService.post(this.getEndpointUrl(),{request:g},A);f.f.warning("Auth token not available, avoiding powerbi/refresh/subscribe request")},Object.defineProperty(N.prototype,"requestHeader",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"longPollDurationInMs",{get:function(){return 6e4},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"requestOptions",{get:function(){var A=this,G=this.requestDeferred;d.fF.assertValue(G,"requestDeferred"),this.lastLongPollTimedOut=!1,this.lastLongPollCancelled=!1,setTimeout(function(){A.lastLongPollTimedOut=!0,G.resolve(null)},this.longPollDurationInMs);var z=this.httpService.powerbiRequestOptions(null,null,this.requestHeader,!0);return z.retryCount=0,z.timeout=G.promise,z.silentlyFailOnExpiry=!0,z},enumerable:!1,configurable:!0}),N.prototype.sendLongPollRequest=function(){var g=this;if(!this.paused&&this.isEnabled){this.requestDeferred=this.promiseFactory.defer();var A=this.getRequest();if(!A)return void this.reset();var G=this.trySendRequest(A);if(!G)return;G.then(function(z){g.retryCount=0,g.requestDeferred.resolve(null),g.processResponse(z.data),g.sendLongPollRequest()},function(z){g.requestDeferred.resolve(null),g.lastLongPollTimedOut?(g.retryCount=0,g.sendLongPollRequest()):g.lastLongPollCancelled?g.retryCount=0:g.retryCount<3?(g.retryCount++,g.sendLongPollRequest()):(g.processError(z&&z.error),g.suspend())})}},N.prototype.suspend=function(){var g=this,A=this.promiseFactory.defer();A.promise.then(function(){g.cancelCurrentRequest(),g.startMonitoring()}),this.httpService.registerResponseCallback(function z(H){H&&(g.httpService.unregisterResponseCallback(z),A.resolve(null))}),setTimeout(function(){A.resolve(null)},12e4)},N.prototype.reset=function(){this.longPollInitialized=!1,this.lastLongPollTimedOut=!1,this.lastLongPollCancelled=!1},N}(),b=l(38078),O=l(98665),c=l(59055),T=function(){function N(g){this.maxKeysCount=g,d.fF.assert(function(){return g>1},"maxKeyCount of RollingHashSet should be > 1"),this.keys=[],this.valuesMap={}}return N.prototype.add=function(g,A){var G=this.keys,z=this.valuesMap,H=this.hasKey(g);z[g]=A,H||(G.push(g),G.length>this.maxKeysCount&&(delete z[G[0]],G.shift()))},N.prototype.get=function(g){return this.valuesMap[g]},N.prototype.hasKey=function(g){return void 0!==this.valuesMap[g]},N}(),k=l(12604),j=function(){function N(g,A){this.telemetryService=g,this.featureSwitchService=A,this.dashboards=[],this.groups=[],this.userDashboardListVersion=null,this.folders=[],this.dashboardRefreshListeners=[],this.packageRefreshListeners=[],this.workspaceListener=[],this.pipelineListener=[],this.pipelineStageListener=[],this.reportRefreshListeners=[],this.workbookRefreshListeners=[],this.modelRefreshListeners=[],this.queryDataRefreshListeners=[],this.insightsListeners=[],this.notificationListeners=[],this.cdsaModelListeners=[],this.datamartListeners=[],this.contentProviderListeners=[],this.gitIntegrationListeners=[],this.dashboardMetadataRequestIds=new T(15),this.dashboardMetadataRequestIdFilters=new T(15),this.importContentRequestIds=new T(15),this.metadataRequestIds=new T(15)}return N.prototype.replaceDashboardsToMonitor=function(g){(0,k.wS)(g,"replaceDashboardsToMonitor: dashboards"),this.dashboards=this.dashboards||[];var A=!_.isEqual(_.map(g,function(G){return G.id}),_.map(this.dashboards,function(G){return G.id}));return this.dashboards=g,A},N.prototype.stopMonitoringAllDashboards=function(){this.dashboards=[]},N.prototype.stopMonitoringDashboard=function(g){this.dashboards=_.filter(this.dashboards,function(A,G,z){return A.id!==g})},N.prototype.replaceFoldersToMonitor=function(g){(0,k.wS)(g,"replaceFoldersToMonitor: folders"),this.folders=this.folders||[];var A=!_.isEqual(_.map(g,function(G){return G.id}),_.map(this.folders,function(G){return G.id}));return this.folders=g,A},N.prototype.addDashboardRefreshListener=function(g){(0,k.wS)(g,"addDashboardRefreshListener: refreshListener"),this.dashboardRefreshListeners.push(g)},N.prototype.addNotificationsRefreshListener=function(g){(0,k.wS)(g,"addNotificationsRefreshListener: notificationListener"),this.notificationListeners.push(g)},N.prototype.addPackageRefreshListener=function(g){(0,k.wS)(g,"addPackageRefreshListener: refreshListener"),this.packageRefreshListeners.push(g)},N.prototype.addWorkspaceListener=function(g){(0,k.wS)(g,"addWorkspaceListener: workspaceListener"),this.workspaceListener.push(g)},N.prototype.addPipelineListener=function(g){(0,k.wS)(g,"addPipelineListener: pipelineListener"),this.pipelineListener.push(g)},N.prototype.addPipelineStageListener=function(g){(0,k.wS)(g,"addPipelineStageListener: pipelineStageListener"),this.pipelineStageListener.push(g)},N.prototype.addReportRefreshListener=function(g){(0,k.wS)(g,"addReportRefreshListener: refreshListener"),this.reportRefreshListeners.push(g)},N.prototype.addWorkbookRefreshListener=function(g){(0,k.wS)(g,"addWorkbookRefreshListener: refreshListener"),this.workbookRefreshListeners.push(g)},N.prototype.addModelRefreshListener=function(g){(0,k.wS)(g,"addModelRefreshListener: refreshListener"),this.modelRefreshListeners.push(g)},N.prototype.addDelayedQueryDataListener=function(g){(0,k.wS)(g,"addDelayedQueryDataListener: queryDataListener"),this.queryDataRefreshListeners.push(g)},N.prototype.addInsightsListener=function(g){(0,k.wS)(g,"addInsightsListener: insightsListener"),this.insightsListeners.push(g)},N.prototype.addCdsaModelRefreshListener=function(g){(0,k.wS)(g,"addCdsaModelRefreshListener: cdsaModelListener"),this.cdsaModelListeners.push(g)},N.prototype.addDatamartRefreshListener=function(g){(0,k.wS)(g,"addDatamartRefreshListener: datamartListener"),this.datamartListeners.push(g)},N.prototype.addContentProviderListener=function(g){(0,k.wS)(g,"addContentProviderListener: contentProviderListener"),this.contentProviderListeners.push(g)},N.prototype.addGitIntegrationListener=function(g){(0,k.wS)(g,"addGitIntegrationListener: gitIntegrationListener"),this.gitIntegrationListeners.push(g)},N.prototype.addMetadataEditRequestId=function(g){this.metadataRequestIds.add(g,!0),this.dashboardMetadataRequestIds.add(g,!0)},N.prototype.addDashboardMetadataEditRequestId=function(g){this.dashboardMetadataRequestIds.add(g,!0)},N.prototype.addDashboardTransactionFilter=function(g,A){this.dashboardMetadataRequestIdFilters.add(g,A)},N.prototype.addImportContentRequestId=function(g){this.importContentRequestIds.add(g,!0)},N.prototype.isImportContentRequestIdInWhitelist=function(g){return this.importContentRequestIds.hasKey(g)},N.prototype.applyRefreshUpdate=function(g){g&&(this.telemetryService.logEvent(c.lt,{dashboardUpdates:this.createDashboardTelemetryString(this.dashboards,g.dashboardTransactions),newMetadataChangeSourceId:_.isEmpty(g.metadataUpdates)?void 0:_.last(g.metadataUpdates).changeSourceId,newMetadataTransactionId:g.lastTransactionId,clientDashboardVersions:JSON.stringify(this.dashboards),clientWorkspaceVersion:this.userDashboardListVersion}),this.processDashboardTransactions(g),this.processMetadataUpdates(g),this.processFolderUpdates(g))},N.prototype.processDashboardTransactions=function(g){var A=this;g.dashboardTransactions&&(g.lastTransactionId&&(this.userDashboardListVersion=g.lastTransactionId),g.dashboardTransactions.forEach(function(G){var z=G.Value.transactions,H=G.Key;A.updateDashboardVersion(H,z);for(var x=0,U=A.dashboardRefreshListeners;x<U.length;x++){var V=U[x];V.onClearBatchedDashboardRequests&&V.onClearBatchedDashboardRequests()}A.applyDashboardTransactions(z,H)}))},N.prototype.processMetadataUpdates=function(g){var A=this;if(!_.isEmpty(g.metadataUpdates)){g.lastTransactionId?this.userDashboardListVersion=g.lastTransactionId:g.groupsVersion&&g.groupsVersion.forEach(function(V){var q=_.find(A.groups,function(se){return se.objectId===V.Key});q&&(q.version=V.Value)});for(var G=[],z=this.metadataRequestIds,H=0,le=g.metadataUpdates;H<le.length;H++){var x=le[H],U=x.changeSourceId;if(!U||!z.hasKey(U))switch(x.entityType){case 0:this.applyPackageTransactions(x);break;case 256:this.applyWorkspaceTransactions(x);break;case 8192:this.applyPipelineTransactions(x);break;case 4194304:this.applyPipelineStageTransactions(x);break;case 1:default:break;case 2:this.applyReportTransactions(x);break;case 16:this.applyWorkbookTransactions(x);break;case 4:G.push(x);break;case 8:this.processDelayedQueryData(x);break;case 128:this.processInsights(x);break;case 512:case 1024:case 2048:"Notification"===x.additionalInfo&&this.processNotificationUpdates(x);break;case 4096:this.applyCdsaModelTransactions(x);break;case 32:this.applyContentProviderTransactions(x);break;case 32768:this.applyDatamartTransactions(x,1);break;case 131072:this.applyDatamartTransactions(x,2);break;case 1048576:this.applyDatamartTransactions(x,5);break;case 262144:this.applyDatamartTransactions(x,4)}}this.applyModelTransactions(G)}},N.prototype.processFolderUpdates=function(g){var A=this;_.isEmpty(g.folderTransactions)||_.forEach(g.folderTransactions,function(G){var z=G.Value.transactions,H=G.Key,le=_.find(A.folders,function(x){return x.id===H});le&&(le.version=_.last(z).transactionId),_.forEach(z,function(x){var U=x.changeSourceId;if(!U||!A.metadataRequestIds.hasKey(U)&&!A.dashboardMetadataRequestIds.hasKey(U))switch(x.entityType){case 1:A.applyDashboardTransactions_V2(x);break;case 524288:A.applyGitIntegrationTransaction(x,le.id)}})})},N.prototype.processNotificationUpdates=function(g){for(var A=0,G=this.notificationListeners;A<G.length;A++){var z=G[A];switch(g.changeType){case 0:z.onNotificationAdded();break;case 1:0===g.entityId?z.onNotificationDismissAll():z.onNotificationDismiss(g.entityId);break;case 2:z.onNotificationSeen(g.entityId)}}},N.prototype.processInsights=function(g){for(var A=0,G=this.insightsListeners;A<G.length;A++)G[A].onInsightsAvailable(g.additionalInfo)},N.prototype.processDelayedQueryData=function(g){for(var A=g.additionalInfo,z=0,H=this.queryDataRefreshListeners;z<H.length;z++)H[z].onDelayedQueryDataAvailable(A)},N.prototype.applyPackageTransactions=function(g){if(g&&null!=g.entityId)switch(g.changeType){case 0:for(var A=0,G=this.packageRefreshListeners;A<G.length;A++)G[A].onPackagePublishRefreshCompleted(g.entityId,g.changeSourceId);break;case 1:for(var H=0,le=this.packageRefreshListeners;H<le.length;H++)le[H].onPackageDeleted(g.entityId);break;case 2:case 3:for(var x=0,U=this.packageRefreshListeners;x<U.length;x++)U[x].onPackagePublishEdit(g.entityId,g.changeSourceId)}},N.prototype.applyWorkspaceTransactions=function(g){if(g&&null!==g.entityId&&3===g.changeType)for(var A=0,G=this.workspaceListener;A<G.length;A++)G[A].onWorkspaceEdit(g.entityId,g.changeSourceId,g.additionalInfo)},N.prototype.applyPipelineTransactions=function(g){if(g&&null!==g.entityId)switch(g.changeType){case 0:for(var A=0,G=this.pipelineListener;A<G.length;A++)G[A].onPipelineAdded(g.entityId);break;case 3:for(var H=0,le=this.pipelineListener;H<le.length;H++)le[H].onPipelineDeepEdit(g.entityId);break;case 1:for(var x=0,U=this.pipelineListener;x<U.length;x++)U[x].onPipelineDeleted(g.entityId)}},N.prototype.applyPipelineStageTransactions=function(g){if(g&&null!==g.entityId&&3===g.changeType)for(var A=0,G=this.pipelineStageListener;A<G.length;A++)G[A].onPipelineStageDeepEdit(g.entityId)},N.prototype.applyReportTransactions=function(g){if(g&&null!=g.entityId)switch(g.changeType){case 0:for(var A=0,G=this.reportRefreshListeners;A<G.length;A++)G[A].onReportAdded(g.entityId);break;case 1:for(var H=0,le=this.reportRefreshListeners;H<le.length;H++)le[H].onReportDeleted(g.entityId);break;case 2:for(var x=0,U=this.reportRefreshListeners;x<U.length;x++)U[x].onReportUpdated(g.entityId)}},N.prototype.applyGitIntegrationTransaction=function(g,A){if(g&&null!=g.entityId&&3===g.changeType)for(var G=0,z=this.gitIntegrationListeners;G<z.length;G++)z[G].onGitIntegrationDeepEdit(g.entityId,g.transactionId,A)},N.prototype.applyDashboardTransactions_V2=function(g){if(g&&null!=g.entityId)switch(g.changeType){case 0:for(var A=0,G=this.dashboardRefreshListeners;A<G.length;A++)G[A].onDashboardAdded(g.entityId);break;case 1:for(var H=0,le=this.dashboardRefreshListeners;H<le.length;H++)le[H].onDashboardDeleted(g.entityId);break;case 2:for(var x=0,U=this.dashboardRefreshListeners;x<U.length;x++)U[x].onDashboardShallowEdit(g.entityId)}},N.prototype.applyWorkbookTransactions=function(g){var A;if(g&&null!=g.entityId)switch(g.changeType){case 0:A=this.parsePackageId(g);for(var G=0,z=this.workbookRefreshListeners;G<z.length;G++)z[G].onWorkbookAdded(g.entityId,A);break;case 1:A=this.parsePackageId(g);for(var le=0,x=this.workbookRefreshListeners;le<x.length;le++)x[le].onWorkbookDeleted(g.entityId,A);break;case 2:case 3:for(var U=0,V=this.workbookRefreshListeners;U<V.length;U++)V[U].onWorkbookUpdated(g.entityId)}},N.prototype.applyModelTransactions=function(g){for(var A=[],G=0,z=g;G<z.length;G++){var H=z[G];if(H&&null!=H.entityId){var le=this.parsePackageId(H);switch(H.changeType){case 0:for(var x=0,U=this.modelRefreshListeners;x<U.length;x++)U[x].onModelAdded(H.entityId,le);break;case 1:for(var q=0,se=this.modelRefreshListeners;q<se.length;q++)se[q].onModelDeleted(H.entityId,le);break;case 3:case 2:A.push({modelId:H.entityId,packageId:le})}}}if(A.length)for(var ue=0,_e=this.modelRefreshListeners;ue<_e.length;ue++)_e[ue].onModelsUpdated(A)},N.prototype.parsePackageId=function(g){return d.fF.assert(function(){return 4===g.entityType||16===g.entityType},"pre-condition: metadataUpdate.entityType === SyncEntityType.Model"),g.additionalInfo?parseInt(g.additionalInfo,10):null},N.prototype.applyCdsaModelTransactions=function(g){if(g&&null!=g.entityId)switch(g.changeType){case 0:for(var A=0,G=this.cdsaModelListeners;A<G.length;A++)G[A].onCdsaModelAdded(g.entityId);break;case 1:for(var H=0,le=this.cdsaModelListeners;H<le.length;H++)le[H].onCdsaModelDeleted(g.entityId);break;case 2:for(var x=0,U=this.cdsaModelListeners;x<U.length;x++)U[x].onCdsaModelUpdated(g.entityId)}},N.prototype.applyDatamartTransactions=function(g,A){if(g&&null!=g.entityId)switch(g.changeType){case 2:for(var G=0,z=this.datamartListeners;G<z.length;G++)z[G].onDatamartUpdated(g.additionalInfo,A,g.entityId);break;case 1:for(var le=0,x=this.datamartListeners;le<x.length;le++)x[le].onDatamartDeleted(g.additionalInfo)}},N.prototype.applyContentProviderTransactions=function(g){if(g&&null!=g.entityId)switch(g.changeType){case 3:for(var A=0,G=this.contentProviderListeners;A<G.length;A++)G[A].onContentProviderDeepEdit(g.entityId);break;case 2:for(var H=0,le=this.contentProviderListeners;H<le.length;H++)le[H].onContentProviderShallowEdit(g.entityId,g.changeSourceId);break;case 1:for(var x=0,U=this.contentProviderListeners;x<U.length;x++)U[x].onContentProviderDelete(g.entityId)}},N.prototype.updateDashboardVersion=function(g,A){for(var G=A.length-1;G>=0;--G){var z=A[G];if(!this.isAddOrDeleteDashboardTransaction(z)){var H=this.getDashboardById(g);if(H){H.version=z.transactionId;for(var le=0,x=this.pipelineListener;le<x.length;le++){var U=x[le];U.onDashboardVersionChanged&&U.onDashboardVersionChanged(g,z.transactionId)}break}}}},N.prototype.applyDashboardTransactions=function(g,A){for(var G=[],z=this.dashboardMetadataRequestIds,H=this.dashboardMetadataRequestIdFilters,le=this.dashboardRefreshListeners,x=0,U=g;x<U.length;x++){var V=U[x],q=V.changeSourceId;if(q&&H.hasKey(q)){var se=H.get(q);if(se&&se(V))continue}if(!q||!z.hasKey(q))switch(V.changeType){case 1:if(null!=V.tileId)for(var ue=0,_e=le;ue<_e.length;ue++)_e[ue].onTileDeleted(A,V.tileId);else{this.stopMonitoringDashboard(A);for(var We=0,Oe=le;We<Oe.length;We++)Oe[We].onDashboardDeleted(A)}break;case 0:if(null!=V.tileId)G.push(V.tileId);else{if(this.userDashboardListVersion=V.transactionId,this.getDashboardById(A))break;for(var Be=0,re=le;Be<re.length;Be++)re[Be].onDashboardAdded(A)}break;case 3:if(null!=V.tileId)G.push(V.tileId);else for(var fe=0,me=le;fe<me.length;fe++)me[fe].onDashboardDeepEdit(A);break;case 2:if(null!=V.tileId)G.push(V.tileId);else for(var Se=0,Ke=le;Se<Ke.length;Se++)Ke[Se].onDashboardShallowEdit(A);break;case 5:if(null!=V.tileId)G.push(V.tileId);else for(var tt=0,ct=le;tt<ct.length;tt++)ct[tt].onDashboardTileDataChange(A)}}if(G.length){G=_.uniq(G);for(var ae=0,Me=le;ae<Me.length;ae++)Me[ae].onTilesAddedOrUpdated(A,G)}},N.prototype.isAddOrDeleteDashboardTransaction=function(g){return(0===g.changeType||1===g.changeType)&&null==g.tileId},N.prototype.getDashboardById=function(g){return _.find(this.dashboards,function(A){return A.id===g})},N.prototype.createDashboardTelemetryString=function(g,A){if(!_.isEmpty(g)&&!_.isEmpty(A)){var G=_.filter(A,function(z){return _.find(g,function(H){return H.id===z.Key})});if(!_.isEmpty(G))return _.join(_.map(G,function(z){if(!z||!z.Value||_.isEmpty(z.Value.transactions))return"Invalid server response";var H=z.Value,le=_.last(H.transactions);return"dashboardId:"+H.dashboardId+",changeSourceId:"+le.changeSourceId+",transactionId:"+le.transactionId}),";")}},N}(),F=l(50423),W=l(629),D=l(9380),K=function(N){function g(A,G,z,H){var le=N.call(this,A,G)||this;return le.promiseFactory=A,le.httpCoreService=G,le.dashboardRefreshService=new j(z,H),le.clientId=b.b$.generateGuid(),le}return(0,u.__extends)(g,N),g.prototype.addNotificationsRefreshListener=function(A){this.dashboardRefreshService.addNotificationsRefreshListener(A)},g.prototype.addDashboardRefreshListener=function(A){this.dashboardRefreshService.addDashboardRefreshListener(A)},g.prototype.addPackageRefreshListener=function(A){this.dashboardRefreshService.addPackageRefreshListener(A)},g.prototype.addWorkspaceListener=function(A){this.dashboardRefreshService.addWorkspaceListener(A)},g.prototype.addPipelineListener=function(A){this.dashboardRefreshService.addPipelineListener(A)},g.prototype.addPipelineStageListener=function(A){this.dashboardRefreshService.addPipelineStageListener(A)},g.prototype.addReportRefreshListener=function(A){this.dashboardRefreshService.addReportRefreshListener(A)},g.prototype.addWorkbookRefreshListener=function(A){this.dashboardRefreshService.addWorkbookRefreshListener(A)},g.prototype.addModelRefreshListener=function(A){this.dashboardRefreshService.addModelRefreshListener(A)},g.prototype.addDelayedQueryDataListener=function(A){this.dashboardRefreshService.addDelayedQueryDataListener(A)},g.prototype.addInsightsListener=function(A){this.dashboardRefreshService.addInsightsListener(A)},g.prototype.addCdsaModelRefreshListener=function(A){this.dashboardRefreshService.addCdsaModelRefreshListener(A)},g.prototype.addDatamartRefreshListener=function(A){this.dashboardRefreshService.addDatamartRefreshListener(A)},g.prototype.addContentProviderListener=function(A){this.dashboardRefreshService.addContentProviderListener(A)},g.prototype.addGitIntegrationListener=function(A){this.dashboardRefreshService.addGitIntegrationListener(A)},g.prototype.addDashboardMetadataEditRequestId=function(A){this.dashboardRefreshService.addDashboardMetadataEditRequestId(A)},g.prototype.addDashboardTransactionFilter=function(A,G){this.dashboardRefreshService.addDashboardTransactionFilter(A,G)},g.prototype.addImportContentRequestId=function(A){this.dashboardRefreshService.addImportContentRequestId(A)},g.prototype.isImportContentRequestIdInWhitelist=function(A){return this.dashboardRefreshService.isImportContentRequestIdInWhitelist(A)},g.prototype.addMetadataEditRequestId=function(A){this.dashboardRefreshService.addMetadataEditRequestId(A)},g.prototype.startMonitoring=function(){N.prototype.startMonitoring.call(this,3e3)},g.prototype.monitorWorkspace=function(A,G){this.dashboardRefreshService.stopMonitoringAllDashboards(),_.isEmpty(G)||(this.dashboardRefreshService.userDashboardListVersion=G);var z=A.map(function(H){return{id:H.id,version:void 0===H.version?null:H.version}});this.dashboardRefreshService.replaceDashboardsToMonitor(z),N.prototype.cancelCurrentRequest.call(this),this.startMonitoring()},g.prototype.getLastDashboardListVersion=function(){return this.dashboardRefreshService.userDashboardListVersion},g.prototype.monitorDashboards=function(A,G){if(A){_.isEmpty(G)||(this.dashboardRefreshService.userDashboardListVersion=G);var z=A.map(function(le){return{id:le.id,version:void 0===le.version?null:le.version}});this.dashboardRefreshService.replaceDashboardsToMonitor(z)&&N.prototype.cancelCurrentRequest.call(this),this.startMonitoring()}},g.prototype.stopMonitoringDashboard=function(A){this.dashboardRefreshService.stopMonitoringDashboard(A),N.prototype.cancelCurrentRequest.call(this),this.startMonitoring()},g.prototype.stopMonitoringAllDashboards=function(){this.monitorDashboards([],void 0)},g.prototype.monitorFolders=function(A){if(A){var G=_.map(A,function(H){return{id:H.id,version:void 0===H.version?null:H.version}});this.dashboardRefreshService.replaceFoldersToMonitor(G)&&N.prototype.cancelCurrentRequest.call(this),this.startMonitoring()}},g.prototype.stopMonitoringAllFolders=function(){this.monitorFolders([])},g.prototype.disableMonitorDashboards=function(){this.isEnabled=!1,N.prototype.setLongPollInitialized.call(this,!1)},g.prototype.testGetDashboardRefreshService=function(){return this.dashboardRefreshService},Object.defineProperty(g.prototype,"requestHeader",{get:function(){return this.optionalRequestHeaders},enumerable:!1,configurable:!0}),g.prototype.getRequest=function(){return{clientRefreshId:this.clientId,dashboards:this.dashboardRefreshService.dashboards,userDashboardListVersion:this.dashboardRefreshService.userDashboardListVersion,groupsVersion:this.dashboardRefreshService.groups,folders:this.dashboardRefreshService.folders}},g.prototype.getEndpointUrl=function(){return"powerbi/refresh/subscribe"},g.prototype.processResponse=function(A){this.dashboardRefreshService.applyRefreshUpdate(A)},g.prototype.processError=function(){},g.\u0275fac=function(G){return new(G||g)(F.\u0275\u0275inject(h.t),F.\u0275\u0275inject(W.M),F.\u0275\u0275inject(O.y0),F.\u0275\u0275inject(D.vZ))},g.\u0275prov=F.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac,providedIn:"root"}),g}(M)},19533:function(Y,X,l){"use strict";l.d(X,{C:function(){return d}});var d=(0,l(85732).P1)(function(C){return C.router},function(f){return f&&f.state})},47326:function(Y,X,l){"use strict";l.d(X,{i:function(){return u}});var u=function(d){return d[d.None=0]="None",d[d.DLP=1]="DLP",d}({})},73150:function(Y,X,l){"use strict";l.d(X,{l$:function(){return ke},IB:function(){return re}});var u=l(60756),h=l(85732),d=l(81337),f=l(8894),k=(0,h.PH)("[Pin Workspace] Load"),e=(0,h.PH)("[Pin Workspace] Load Succeed",(0,h.Ky)()),B=(0,h.PH)("[Pin Workspace] Load Failed",(0,h.Ky)()),j=(0,h.PH)("[Pin Workspace] Pin",(0,h.Ky)()),F=(0,h.PH)("[Pin Workspace] Pin Succeed",(0,h.Ky)()),W=(0,h.PH)("[Pin Workspace] Pin Failed",(0,h.Ky)()),D=(0,h.PH)("[Pin Workspace] Unpin",(0,h.Ky)()),P=(0,h.PH)("[Pin Workspace] Unpin Succeed",(0,h.Ky)()),K=(0,h.PH)("[Pin Workspace] Unpin Failed",(0,h.Ky)()),N=function(de){return de[de.Unpin=0]="Unpin",de[de.Pin=1]="Pin",de}({}),g="pinWorkspace",G=(0,f.H)({selectId:function(Re){return Re.folderObjectId}}),z=G.getInitialState({loaded:!1,error:null}),H=(0,h.Lq)(z,(0,h.on)(e,function(de,Re){return G.setAll(Re.workspaces.map(function(Ee){return(0,d.__assign)((0,d.__assign)({},Ee),{folderObjectId:Ee.folderObjectId,pinState:N.Pin})}),(0,d.__assign)((0,d.__assign)({},de),{loaded:!0}))}),(0,h.on)(B,function(de,Re){var pe=Re.error;return(0,d.__assign)((0,d.__assign)({},de),{error:pe})}),(0,h.on)(j,function(de,Re){return G.addOne({folderObjectId:Re.folderObjectId,pinState:N.Pin},de)}),(0,h.on)(F,function(de){return de}),(0,h.on)(W,function(de,Re){var Ee=Re.error;return(0,d.__assign)((0,d.__assign)({},G.removeOne(Re.folderObjectId,de)),{error:Ee})}),(0,h.on)(D,function(de,Re){return G.updateOne({id:Re.folderObjectId,changes:{pinState:N.Unpin}},de)}),(0,h.on)(P,function(de,Re){return G.removeOne(Re.folderObjectId,de)}),(0,h.on)(K,function(de,Re){var Ee=Re.error;return G.updateOne({id:Re.folderObjectId,changes:{pinState:N.Pin}},(0,d.__assign)((0,d.__assign)({},de),{error:Ee}))})),le=l(42195),x=l(14172),U=l(59822),V=l(24874),q=l(11547),se=l(73471),ue=l(42888),_e=l(68698),ge=l(50423),We=function(){function de(Re){this.httpService=Re}return de.prototype.getPinnedWorkspaces=function(){return this.httpService.get("metadata/folders/pin")},de.prototype.pinWorkspace=function(Re){return this.httpService.post("metadata/folders/".concat(Re,"/pin"),null)},de.prototype.unpinWorkspace=function(Re){return this.httpService.delete("metadata/folders/".concat(Re,"/unpin"))},de.\u0275fac=function(pe){return new(pe||de)(ge.\u0275\u0275inject(_e.s))},de.\u0275prov=ge.\u0275\u0275defineInjectable({token:de,factory:de.\u0275fac,providedIn:"root"}),de}(),Oe=l(7452),Be=function(){function de(Re,pe,Ee,Qe){var at=this;this.action$=Re,this.localizationService=pe,this.pinWorkspaceHttpService=Ee,this.notificationService=Qe,this.loadPinnedWorkspaces$=(0,u.GW)(function(){return at.action$.pipe((0,u.l4)(k),(0,le.zg)(function(){return at.pinWorkspaceHttpService.getPinnedWorkspaces().pipe((0,x.U)(function(wt){return e({workspaces:wt.data})}),(0,U.K)(function(wt){return(0,q.of)(B({error:wt}))}))}))}),this.pinWorkspaces$=(0,u.GW)(function(){return at.action$.pipe((0,u.l4)(j),(0,V.b)(function(wt){var ie=wt.folderObjectId,L=wt.workspaceName;return at.pinWorkspaceHttpService.pinWorkspace(ie).pipe((0,x.U)(function(){return F({folderObjectId:ie})}),(0,U.K)(function(Q){return at.notificationService.notify({title:at.localizationService.format("PinWorkspaceFailed",L),notificationType:se.k$.Error,message:JSON.stringify(Q.error),actionButtons:[],style:"Trident"}),(0,q.of)(W({error:Q,folderObjectId:ie}))}))}))}),this.unpinWorkspaces$=(0,u.GW)(function(){return at.action$.pipe((0,u.l4)(D),(0,V.b)(function(wt){var ie=wt.folderObjectId,L=wt.workspaceName;return at.pinWorkspaceHttpService.unpinWorkspace(ie).pipe((0,x.U)(function(){return P({folderObjectId:ie})}),(0,U.K)(function(Q){return at.notificationService.notify({title:at.localizationService.format("UnpinWorkspaceFailed",L),notificationType:se.k$.Error,message:JSON.stringify(Q.error),actionButtons:[],style:"Trident"}),(0,q.of)(K({error:Q,folderObjectId:ie}))}))}))})}return de.\u0275fac=function(pe){return new(pe||de)(ge.\u0275\u0275inject(u.eX),ge.\u0275\u0275inject(Oe.z),ge.\u0275\u0275inject(We),ge.\u0275\u0275inject(ue.g))},de.\u0275prov=ge.\u0275\u0275defineInjectable({token:de,factory:de.\u0275fac}),de}(),re=function(){function de(){}return de.\u0275fac=function(pe){return new(pe||de)},de.\u0275mod=ge.\u0275\u0275defineNgModule({type:de}),de.\u0275inj=ge.\u0275\u0275defineInjector({imports:[h.Aw.forFeature(g,H),u.sQ.forFeature([Be])]}),de}(),fe=(0,h.ZF)(g),me=G.getSelectors(),Ke=me.selectEntities,tt=(0,h.P1)(fe,me.selectAll),ct=(0,h.P1)(tt,function(de){return de.filter(function(Re){return Re.pinState===N.Pin})}),ke=((0,h.P1)(fe,Ke),function(){function de(Re){this.store=Re,this.pinnedWorkspaces$=this.store.select(ct)}return de.prototype.getPinnedWorkspaces=function(){return this.pinnedWorkspaces$},de.prototype.load=function(){this.store.dispatch(k())},de.prototype.pin=function(Re,pe){this.store.dispatch(j({folderObjectId:Re,workspaceName:pe}))},de.prototype.unpin=function(Re,pe){this.store.dispatch(D({folderObjectId:Re,workspaceName:pe}))},de.\u0275fac=function(pe){return new(pe||de)(ge.\u0275\u0275inject(h.yh))},de.\u0275prov=ge.\u0275\u0275defineInjectable({token:de,factory:de.\u0275fac,providedIn:"root"}),de}())},50897:function(Y,X,l){"use strict";l.d(X,{q:function(){return Be}});var u=l(50423),h=l(35510),d=l(33554),f=l(30794),C=l(59017),y=l(14172),I=l(83317),v=l(6754),M=l(77526),b=l(59623),O=l(7452),c=l(77476),T=l(76688),k=l(74913),e=l(55490),B=l(22743),j=l(55334),F=["dummyBreadcrumbItem"];function W(re,fe){if(1&re&&(u.\u0275\u0275elementStart(0,"div",11),u.\u0275\u0275element(1,"tri-workspace-icon",12),u.\u0275\u0275elementStart(2,"span",13),u.\u0275\u0275text(3),u.\u0275\u0275elementEnd()()),2&re){var me=u.\u0275\u0275nextContext(2);u.\u0275\u0275advance(1),u.\u0275\u0275property("workspace",me.workspace),u.\u0275\u0275advance(1),u.\u0275\u0275property("triTooltip",me.workspace.displayName),u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate(me.workspace.displayName)}}function D(re,fe){if(1&re&&(u.\u0275\u0275elementStart(0,"div",14),u.\u0275\u0275element(1,"tri-svg-icon",15)(2,"tri-svg-icon",16),u.\u0275\u0275pipe(3,"async"),u.\u0275\u0275elementEnd()),2&re){var me=u.\u0275\u0275nextContext(2);u.\u0275\u0275advance(2),u.\u0275\u0275property("name","more_horizontal_20_regular")("triTooltip",u.\u0275\u0275pipeBind1(3,2,me.overflowSubfoldersTooltip$))}}function P(re,fe){if(1&re&&(u.\u0275\u0275elementStart(0,"div",17),u.\u0275\u0275element(1,"tri-svg-icon",15),u.\u0275\u0275elementStart(2,"div",18)(3,"span",13),u.\u0275\u0275text(4),u.\u0275\u0275elementEnd()()()),2&re){var me=fe.$implicit;u.\u0275\u0275advance(3),u.\u0275\u0275property("triTooltip",me.displayName),u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate(me.displayName)}}function K(re,fe){if(1&re&&(u.\u0275\u0275elementContainerStart(0),u.\u0275\u0275template(1,W,4,3,"div",8),u.\u0275\u0275template(2,D,4,4,"div",9),u.\u0275\u0275pipe(3,"async"),u.\u0275\u0275template(4,P,5,2,"div",10),u.\u0275\u0275pipe(5,"async"),u.\u0275\u0275elementContainerEnd()),2&re){var me=u.\u0275\u0275nextContext();u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",me.workspace),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",u.\u0275\u0275pipeBind1(3,3,me.isOverflow$)),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngForOf",u.\u0275\u0275pipeBind1(5,5,me.remainSubfolders$))}}function N(re,fe){1&re&&u.\u0275\u0275elementContainer(0)}function g(re,fe){if(1&re&&(u.\u0275\u0275elementContainerStart(0),u.\u0275\u0275elementStart(1,"div",17)(2,"div",21)(3,"span",13),u.\u0275\u0275text(4),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275elementContainerEnd()),2&re){var me=fe.$implicit;u.\u0275\u0275advance(3),u.\u0275\u0275property("triTooltip",me.displayName),u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate(me.displayName)}}function A(re,fe){if(1&re&&(u.\u0275\u0275elementContainerStart(0),u.\u0275\u0275template(1,N,1,0,"ng-container",19),u.\u0275\u0275template(2,g,5,2,"ng-container",20),u.\u0275\u0275pipe(3,"async"),u.\u0275\u0275elementContainerEnd()),2&re){var me=u.\u0275\u0275nextContext(),Se=u.\u0275\u0275reference(5),Ke=u.\u0275\u0275reference(7);u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",me.showBackToWorkspaceListButton||me.subfolders.length>0)("ngIfThen",Se),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",u.\u0275\u0275pipeBind1(3,4,me.currentSubfolder$))("ngIfElse",Ke)}}function G(re,fe){if(1&re){var me=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"button",22),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(me);var Ke=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(Ke.onBackButtonClick())}),u.\u0275\u0275element(1,"tri-svg-icon",23),u.\u0275\u0275elementEnd()}}function z(re,fe){if(1&re&&(u.\u0275\u0275elementStart(0,"div",17)(1,"div",11),u.\u0275\u0275element(2,"tri-workspace-icon",12),u.\u0275\u0275elementStart(3,"span",13),u.\u0275\u0275text(4),u.\u0275\u0275elementEnd()()()),2&re){var me=u.\u0275\u0275nextContext(2);u.\u0275\u0275advance(2),u.\u0275\u0275property("workspace",me.workspace),u.\u0275\u0275advance(1),u.\u0275\u0275property("triTooltip",me.workspace.displayName),u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate(me.workspace.displayName)}}function H(re,fe){if(1&re&&u.\u0275\u0275template(0,z,5,3,"div",24),2&re){var me=u.\u0275\u0275nextContext();u.\u0275\u0275property("ngIf",me.workspace)}}function le(re,fe){if(1&re){var me=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"button",26),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(me);var tt=u.\u0275\u0275nextContext(2);return u.\u0275\u0275resetView(tt.onItemClick())}),u.\u0275\u0275element(1,"tri-workspace-icon",12),u.\u0275\u0275elementStart(2,"span",13),u.\u0275\u0275text(3),u.\u0275\u0275elementEnd()()}if(2&re){var Se=u.\u0275\u0275nextContext(2);u.\u0275\u0275advance(1),u.\u0275\u0275property("workspace",Se.workspace),u.\u0275\u0275advance(1),u.\u0275\u0275property("triTooltip",Se.workspace.displayName),u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate(Se.workspace.displayName)}}function x(re,fe){if(1&re&&u.\u0275\u0275template(0,le,4,3,"button",25),2&re){var me=u.\u0275\u0275nextContext();u.\u0275\u0275property("ngIf",me.workspace)}}function U(re,fe){1&re&&u.\u0275\u0275elementContainer(0)}function V(re,fe){1&re&&u.\u0275\u0275elementContainer(0)}var q=function(fe){return{active:fe}};function se(re,fe){if(1&re){var me=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"div",14),u.\u0275\u0275element(1,"tri-svg-icon",15),u.\u0275\u0275elementStart(2,"button",29),u.\u0275\u0275listener("triMenuButtonClick",function(tt){u.\u0275\u0275restoreView(me);var ct=u.\u0275\u0275nextContext(2);return u.\u0275\u0275resetView(ct.onMenuItemClicked(tt))})("triMenuOpen",function(){u.\u0275\u0275restoreView(me);var tt=u.\u0275\u0275nextContext(2);return u.\u0275\u0275resetView(tt.onMenuOpen())})("triMenuClose",function(){u.\u0275\u0275restoreView(me);var tt=u.\u0275\u0275nextContext(2);return u.\u0275\u0275resetView(tt.onMenuClose())}),u.\u0275\u0275element(3,"tri-svg-icon",30),u.\u0275\u0275elementEnd()()}if(2&re){var Se=u.\u0275\u0275nextContext(2);u.\u0275\u0275advance(2),u.\u0275\u0275property("ngClass",u.\u0275\u0275pureFunction1(3,q,Se.isMenuOpened))("triMenu",Se.moreMenu),u.\u0275\u0275advance(1),u.\u0275\u0275property("name","more_horizontal_20_regular")}}function ue(re,fe){if(1&re){var me=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"div",17),u.\u0275\u0275element(1,"tri-svg-icon",15),u.\u0275\u0275elementStart(2,"button",31),u.\u0275\u0275listener("click",function(){var ae=u.\u0275\u0275restoreView(me).$implicit,Me=u.\u0275\u0275nextContext(2);return u.\u0275\u0275resetView(Me.onItemClick(ae))}),u.\u0275\u0275elementStart(3,"span",13),u.\u0275\u0275text(4),u.\u0275\u0275elementEnd()()()}if(2&re){var Se=fe.$implicit,Ke=fe.last;u.\u0275\u0275advance(2),u.\u0275\u0275attribute("aria-current",Ke?"page":void 0),u.\u0275\u0275advance(1),u.\u0275\u0275property("triTooltip",Se.displayName),u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate(Se.displayName)}}function _e(re,fe){1&re&&(u.\u0275\u0275elementStart(0,"div",32),u.\u0275\u0275element(1,"tri-svg-icon",15)(2,"tri-svg-icon",33),u.\u0275\u0275elementStart(3,"span",34),u.\u0275\u0275text(4),u.\u0275\u0275pipe(5,"localize"),u.\u0275\u0275elementEnd()()),2&re&&(u.\u0275\u0275advance(4),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind1(5,1,"FilteredResults")))}function ge(re,fe){if(1&re&&(u.\u0275\u0275elementContainerStart(0),u.\u0275\u0275template(1,U,1,0,"ng-container",19),u.\u0275\u0275template(2,V,1,0,"ng-container",27),u.\u0275\u0275template(3,se,4,5,"div",9),u.\u0275\u0275pipe(4,"async"),u.\u0275\u0275template(5,ue,5,3,"div",10),u.\u0275\u0275pipe(6,"async"),u.\u0275\u0275template(7,_e,6,3,"div",28),u.\u0275\u0275pipe(8,"async"),u.\u0275\u0275elementContainerEnd()),2&re){var me=u.\u0275\u0275nextContext(),Se=u.\u0275\u0275reference(5),Ke=u.\u0275\u0275reference(7),tt=u.\u0275\u0275reference(9);u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",me.showBackToWorkspaceListButton&&0===me.subfolders.length)("ngIfThen",Se),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",0===me.subfolders.length)("ngIfThen",Ke)("ngIfElse",tt),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",u.\u0275\u0275pipeBind1(4,8,me.isOverflow$)),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngForOf",u.\u0275\u0275pipeBind1(6,10,me.remainSubfolders$)),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngIf",u.\u0275\u0275pipeBind1(8,12,me.showFilterResultsInBreadCrumb$))}}var We=function(re){return re[re.Normal=0]="Normal",re[re.ReadOnly=1]="ReadOnly",re[re.Zoomed=2]="Zoomed",re}({}),Be=function(){function re(fe,me){this.el=fe,this.localizationService=me,this.workspace=null,this.subfolders=[],this.isReadonly=!1,this.showBackToWorkspaceListButton=!1,this.visitSubfolder=new u.EventEmitter,this.backToWorkspaceList=new u.EventEmitter,this.mode$=new h.X(We.Normal),this.BreadcrumbsMode=We,this.subfolders$=new d.t(1),this.currentSubfolder$=this.subfolders$.pipe((0,y.U)(function(Se){return Se.length>0?Se[Se.length-1]:void 0})),this.showFilterResultsInBreadCrumb$=new h.X(!1),this.remainSubfolders$=new d.t(1),this.isOverflow$=new d.t(1),this.moreMenu={styles:{"border-radius":"5px"},items:[]},this.overflowSubfoldersTooltip$=new h.X(""),this.isMenuOpened=!1,this.overflowSize$=new f.xQ,this.onResize$=new h.X(void 0),this.onDestroy$=new f.xQ}return Object.defineProperty(re.prototype,"showFilterResultsInBreadCrumb",{set:function(me){this.showFilterResultsInBreadCrumb$.next(me)},enumerable:!1,configurable:!0}),re.prototype.onResize=function(){this.onResize$.next()},re.prototype.ngOnInit=function(){var fe=this;this.isReadonly?this.mode$.next(We.ReadOnly):this.onResize$.pipe((0,I.R)(this.onDestroy$),(0,v.b)(100),(0,y.U)(function(){return fe.getOverflowSize()<320?We.Zoomed:We.Normal})).subscribe(function(me){return fe.mode$.next(me)}),(0,C.aj)([this.subfolders$,this.overflowSize$.pipe((0,M.x)()),this.showFilterResultsInBreadCrumb$.pipe((0,M.x)())]).subscribe(function(me){var Se=me[0],ct=fe.calculateOverflowLength(Se,me[2],me[1]),ae=Se.slice(0,ct);fe.remainSubfolders$.next(Se.slice(ct)),ae.length>0?(fe.moreMenu.items=ae.map(function(Me){return{type:b.fz.Button,text:Me.displayName,data:Me}}),fe.overflowSubfoldersTooltip$.next(ae.map(function(Me){return Me.displayName}).join(" > ")),fe.isOverflow$.next(!0)):fe.isOverflow$.next(!1)})},re.prototype.ngOnChanges=function(){this.subfolders$.next(this.subfolders)},re.prototype.ngAfterViewInit=function(){var fe=this;this.overflowSize$.next(this.getOverflowSize()),this.onResize$.pipe((0,I.R)(this.onDestroy$),(0,v.b)(100)).subscribe(function(me){fe.overflowSize$.next(fe.getOverflowSize())}),setTimeout(function(){fe.subfolders$.next(fe.subfolders)},0)},re.prototype.ngOnDestroy=function(){this.onDestroy$.next(),this.onDestroy$.complete()},re.prototype.onItemClick=function(fe){this.visitSubfolder.emit(fe?.id)},re.prototype.onMenuItemClicked=function(fe){this.visitSubfolder.emit(fe.data.id)},re.prototype.onMenuOpen=function(){this.isMenuOpened=!0},re.prototype.onMenuClose=function(){this.isMenuOpened=!1},re.prototype.onBackButtonClick=function(){switch(this.subfolders.length){case 0:this.backToWorkspaceList.emit();break;case 1:this.visitSubfolder.emit();break;default:this.visitSubfolder.emit(this.subfolders[this.subfolders.length-2].id)}},re.prototype.getOverflowSize=function(){return this.el.nativeElement.offsetWidth},re.prototype.calculateOverflowLength=function(fe,me,Se){if(void 0===Se)return 0;if(void 0===this.dummyBreadcrumbItem)return fe.length;var ae=this.localizationService.get("FilteredResults");Se-=me?36+this.getTextWidth(ae)+16+8:0;for(var ke=(this.workspace?this.getTextWidth(this.workspace.displayName):0)+40+32*fe.length,de=0,Re=fe;de<Re.length;de++)ke+=this.getTextWidth(Re[de].displayName);if(ke<=Se)return 0;ke+=48;for(var Ee=0;Ee<fe.length;Ee++)if((ke=ke-this.getTextWidth(fe[Ee].displayName)-32)<=Se)return Ee+1;return fe.length},re.prototype.getTextWidth=function(fe){return this.dummyBreadcrumbItem.nativeElement.innerText=fe,this.dummyBreadcrumbItem.nativeElement.offsetWidth},re.\u0275fac=function(me){return new(me||re)(u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(O.z))},re.\u0275cmp=u.\u0275\u0275defineComponent({type:re,selectors:[["tri-subfolder-breadcrumbs"]],viewQuery:function(me,Se){var Ke;(1&me&&u.\u0275\u0275viewQuery(F,5),2&me)&&(u.\u0275\u0275queryRefresh(Ke=u.\u0275\u0275loadQuery())&&(Se.dummyBreadcrumbItem=Ke.first))},hostBindings:function(me,Se){1&me&&u.\u0275\u0275listener("resize",function(tt){return Se.onResize(tt)},!1,u.\u0275\u0275resolveWindow)},inputs:{workspace:"workspace",subfolders:"subfolders",isReadonly:"isReadonly",showBackToWorkspaceListButton:"showBackToWorkspaceListButton",showFilterResultsInBreadCrumb:"showFilterResultsInBreadCrumb"},outputs:{visitSubfolder:"visitSubfolder",backToWorkspaceList:"backToWorkspaceList"},features:[u.\u0275\u0275NgOnChangesFeature],decls:13,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["backButton",""],["workspaceLabel",""],["workspaceButton",""],[4,"ngSwitchDefault"],[1,"breadcrumb-item-text","dummy-breadcrumb-item","tri-body1"],["dummyBreadcrumbItem",""],["class","breadcrumb-item breadcrumb-item-workspace-readonly",4,"ngIf"],["class","breadcrumb-more",4,"ngIf"],["class","breadcrumb-item-container",4,"ngFor","ngForOf"],[1,"breadcrumb-item","breadcrumb-item-workspace-readonly"],[1,"workspace-icon",3,"workspace"],[1,"breadcrumb-item-text","tri-body1",3,"triTooltip"],[1,"breadcrumb-more"],["tri-svg-icon-16","","name","chevron_right_16_regular"],[3,"name","triTooltip"],[1,"breadcrumb-item-container"],[1,"breadcrumb-item","breadcrumb-item-subfolder-readonly"],[4,"ngIf","ngIfThen"],[4,"ngIf","ngIfElse"],[1,"breadcrumb-item"],["tri-button","","appearance","subtle","data-testid","back-button",1,"breadcrumb-back-button",3,"click"],["tri-svg-icon-16","","name","chevron_left_16_regular"],["class","breadcrumb-item-container",4,"ngIf"],["tri-button","","appearance","subtle","class","breadcrumb-item","data-testid","workspace-button",3,"click",4,"ngIf"],["tri-button","","appearance","subtle","data-testid","workspace-button",1,"breadcrumb-item",3,"click"],[4,"ngIf","ngIfThen","ngIfElse"],["class","breadcrumb-item-container breadcrumb-item-filter-results",4,"ngIf"],["tri-button","","appearance","subtle","data-testid","expand-more-button",1,"breadcrumb-more-button",3,"ngClass","triMenu","triMenuButtonClick","triMenuOpen","triMenuClose"],[3,"name"],["tri-button","","appearance","subtle","data-testid","subfolder-button",1,"breadcrumb-item",3,"click"],[1,"breadcrumb-item-container","breadcrumb-item-filter-results"],["tri-svg-icon-20","","name","filter_20_regular",1,"filter-icon"],[1,"breadcrumb-item","breadcrumb-item-text"]],template:function(me,Se){1&me&&(u.\u0275\u0275elementContainerStart(0,0),u.\u0275\u0275pipe(1,"async"),u.\u0275\u0275template(2,K,6,7,"ng-container",1),u.\u0275\u0275template(3,A,4,6,"ng-container",1),u.\u0275\u0275template(4,G,2,0,"ng-template",null,2,u.\u0275\u0275templateRefExtractor),u.\u0275\u0275template(6,H,1,1,"ng-template",null,3,u.\u0275\u0275templateRefExtractor),u.\u0275\u0275template(8,x,1,1,"ng-template",null,4,u.\u0275\u0275templateRefExtractor),u.\u0275\u0275template(10,ge,9,14,"ng-container",5),u.\u0275\u0275elementContainerEnd(),u.\u0275\u0275element(11,"span",6,7)),2&me&&(u.\u0275\u0275property("ngSwitch",u.\u0275\u0275pipeBind1(1,3,Se.mode$)),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngSwitchCase",Se.BreadcrumbsMode.ReadOnly),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngSwitchCase",Se.BreadcrumbsMode.Zoomed))},dependencies:[c.NgClass,c.NgForOf,c.NgIf,c.NgSwitch,c.NgSwitchCase,c.NgSwitchDefault,T.rX,k.M,e.Z,B.y,c.AsyncPipe,j.Y],styles:["[_nghost-%COMP%]{display:flex;align-items:center}.breadcrumb-back-button[_ngcontent-%COMP%]{width:32px;padding:0 6px}.breadcrumb-item-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.workspace-icon[_ngcontent-%COMP%]{height:20px;width:20px}.breadcrumb-item[_ngcontent-%COMP%]{display:flex;padding:0 8px 2px;gap:4px}.breadcrumb-item-text[_ngcontent-%COMP%]{max-width:30ch;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.breadcrumb-item-container[_ngcontent-%COMP%]:last-of-type   .breadcrumb-item-text[_ngcontent-%COMP%]{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase300)}.breadcrumb-item-workspace-readonly[_ngcontent-%COMP%]{padding-left:0}.breadcrumb-more[_ngcontent-%COMP%]{display:flex;align-items:center}.breadcrumb-more-button[_ngcontent-%COMP%]{width:32px;padding:0 6px}.breadcrumb-more-button.active[_ngcontent-%COMP%]{background-color:var(--colorSubtleBackgroundPressed)}.breadcrumb-more-button.active[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground2BrandHover)}.dummy-breadcrumb-item[_ngcontent-%COMP%]{position:absolute;visibility:hidden;left:-999px;top:-999px;width:auto;height:auto;padding:0}.filter-icon[_ngcontent-%COMP%]{padding-left:8px}"],changeDetection:0}),re}()},22743:function(Y,X,l){"use strict";l.d(X,{y:function(){return O}});var u=l(63271),d=function(T,k){return void 0===k&&(k=24),T?.isMyWorkspace?"c_my_workspace_".concat(k):"c_group_workspace_".concat(k)},f=l(50423),C=l(77476),y=l(74913);function I(c,T){if(1&c&&f.\u0275\u0275element(0,"img",3),2&c){var k=f.\u0275\u0275nextContext();f.\u0275\u0275property("src",null==k.workspace?null:k.workspace.icon,f.\u0275\u0275sanitizeUrl),f.\u0275\u0275attribute("data-testid","workspace-header-logo-img")}}function v(c,T){if(1&c&&f.\u0275\u0275element(0,"tri-svg-icon",5),2&c){var k=f.\u0275\u0275nextContext(2);f.\u0275\u0275styleProp("height",k.actualIconSizePx,"px")("width",k.actualIconSizePx,"px"),f.\u0275\u0275property("sprite",k.icon.sprite)("name",k.icon.name),f.\u0275\u0275attribute("data-testid","workspace-header-logo-default")}}function M(c,T){1&c&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275template(1,v,1,7,"tri-svg-icon",4),f.\u0275\u0275elementContainerEnd()),2&c&&(f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase",!1))}var b={20:16,24:20,32:28,64:48},O=function(){function c(T){this.isTrident=T,this.iconSizePx=20,this.hasBackground=!1,this.actualIconSizePx=null,this.icon=null}return c.prototype.ngOnChanges=function(){var T;this.isTrident?(this.hasBackground=!1,this.actualIconSizePx=this.iconSizePx,this.icon={sprite:"artifact-colored-icons",name:d(this.workspace,this.actualIconSizePx)}):(this.hasBackground=!0,this.actualIconSizePx=b[this.iconSizePx],this.icon=null!==(T=this.workspace)&&void 0!==T&&T.isMyWorkspace?{name:"person_".concat(this.actualIconSizePx,"_regular")}:{name:"people_community_".concat(this.actualIconSizePx,"_regular")})},c.\u0275fac=function(k){return new(k||c)(f.\u0275\u0275directiveInject(u.Y,8))},c.\u0275cmp=f.\u0275\u0275defineComponent({type:c,selectors:[["tri-workspace-icon"]],hostVars:2,hostBindings:function(k,e){2&k&&f.\u0275\u0275classProp("icon-background",e.hasBackground)},inputs:{workspace:"workspace",iconSizePx:"iconSizePx"},features:[f.\u0275\u0275NgOnChangesFeature],decls:3,vars:3,consts:[[3,"ngSwitch"],["class","tri-h-full tri-w-full","alt","",3,"src",4,"ngSwitchCase"],[4,"ngIf"],["alt","",1,"tri-h-full","tri-w-full",3,"src"],[3,"height","width","sprite","name",4,"ngSwitchCase"],[3,"sprite","name"]],template:function(k,e){1&k&&(f.\u0275\u0275elementContainerStart(0,0),f.\u0275\u0275template(1,I,1,2,"img",1),f.\u0275\u0275template(2,M,2,1,"ng-container",2),f.\u0275\u0275elementContainerEnd()),2&k&&(f.\u0275\u0275property("ngSwitch",!(null==e.workspace||!e.workspace.icon)),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase",!0),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.icon&&e.actualIconSizePx))},dependencies:[C.NgIf,C.NgSwitch,C.NgSwitchCase,y.M],styles:["[_nghost-%COMP%]{border-radius:var(--borderRadiusCircular);color:var(--colorNeutralForeground3);fill:var(--colorNeutralForeground3);align-items:center;display:flex;justify-content:center;flex:0 0 auto}.icon-background[_nghost-%COMP%]{background-color:var(--colorNeutralBackground6)}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{border-radius:var(--borderRadiusCircular);object-fit:cover}"],changeDetection:0}),c}()},83992:function(Y){"use strict";Y.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\ud835\udd04","afr":"\ud835\udd1e","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\ud835\udd38","aopf":"\ud835\udd52","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\ud835\udc9c","ascr":"\ud835\udcb6","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\ud835\udd05","bfr":"\ud835\udd1f","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\ud835\udd39","bopf":"\ud835\udd53","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\ud835\udcb7","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\ud835\udd20","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\ud835\udd54","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\ud835\udc9e","cscr":"\ud835\udcb8","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\ud835\udd07","dfr":"\ud835\udd21","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\ud835\udd3b","dopf":"\ud835\udd55","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\ud835\udc9f","dscr":"\ud835\udcb9","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\ud835\udd08","efr":"\ud835\udd22","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\ud835\udd3c","eopf":"\ud835\udd56","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\ud835\udd09","ffr":"\ud835\udd23","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\ud835\udd3d","fopf":"\ud835\udd57","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\ud835\udcbb","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\ud835\udd0a","gfr":"\ud835\udd24","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\ud835\udd3e","gopf":"\ud835\udd58","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\ud835\udca2","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\ud835\udd25","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\ud835\udd59","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\ud835\udcbd","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\ud835\udd26","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\ud835\udd40","iopf":"\ud835\udd5a","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\ud835\udcbe","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\ud835\udd0d","jfr":"\ud835\udd27","jmath":"\u0237","Jopf":"\ud835\udd41","jopf":"\ud835\udd5b","Jscr":"\ud835\udca5","jscr":"\ud835\udcbf","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\ud835\udd0e","kfr":"\ud835\udd28","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\ud835\udd42","kopf":"\ud835\udd5c","Kscr":"\ud835\udca6","kscr":"\ud835\udcc0","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\ud835\udd0f","lfr":"\ud835\udd29","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\ud835\udd43","lopf":"\ud835\udd5d","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\ud835\udcc1","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\ud835\udd10","mfr":"\ud835\udd2a","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\ud835\udd44","mopf":"\ud835\udd5e","mp":"\u2213","mscr":"\ud835\udcc2","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\ud835\udd11","nfr":"\ud835\udd2b","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\ud835\udd5f","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\ud835\udca9","nscr":"\ud835\udcc3","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\ud835\udd12","ofr":"\ud835\udd2c","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\ud835\udd46","oopf":"\ud835\udd60","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\ud835\udcaa","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\ud835\udd13","pfr":"\ud835\udd2d","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\ud835\udd61","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\ud835\udcab","pscr":"\ud835\udcc5","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\ud835\udd14","qfr":"\ud835\udd2e","qint":"\u2a0c","qopf":"\ud835\udd62","Qopf":"\u211a","qprime":"\u2057","Qscr":"\ud835\udcac","qscr":"\ud835\udcc6","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\ud835\udd2f","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\ud835\udd63","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\ud835\udcc7","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\ud835\udd16","sfr":"\ud835\udd30","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\ud835\udd4a","sopf":"\ud835\udd64","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\ud835\udcae","sscr":"\ud835\udcc8","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\ud835\udd17","tfr":"\ud835\udd31","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\ud835\udd4b","topf":"\ud835\udd65","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\ud835\udcaf","tscr":"\ud835\udcc9","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\ud835\udd18","ufr":"\ud835\udd32","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\ud835\udd4c","uopf":"\ud835\udd66","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\ud835\udcb0","uscr":"\ud835\udcca","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\ud835\udd19","vfr":"\ud835\udd33","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\ud835\udd4d","vopf":"\ud835\udd67","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\ud835\udcb1","vscr":"\ud835\udccb","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\ud835\udd1a","wfr":"\ud835\udd34","Wopf":"\ud835\udd4e","wopf":"\ud835\udd68","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\ud835\udcb2","wscr":"\ud835\udccc","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\ud835\udd1b","xfr":"\ud835\udd35","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\ud835\udd4f","xopf":"\ud835\udd69","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\ud835\udcb3","xscr":"\ud835\udccd","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\ud835\udd1c","yfr":"\ud835\udd36","YIcy":"\u0407","yicy":"\u0457","Yopf":"\ud835\udd50","yopf":"\ud835\udd6a","Yscr":"\ud835\udcb4","yscr":"\ud835\udcce","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\ud835\udd37","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\ud835\udd6b","Zopf":"\u2124","Zscr":"\ud835\udcb5","zscr":"\ud835\udccf","zwj":"\u200d","zwnj":"\u200c"}')}}]);