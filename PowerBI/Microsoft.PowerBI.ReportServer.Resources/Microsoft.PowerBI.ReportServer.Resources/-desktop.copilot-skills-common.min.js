"use strict";

(self.webpackChunkdesktop = self.webpackChunkdesktop || []).push([ [ "copilot-skills-common" ], {
    46333: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.d(__webpack_exports__, {
            w: function() {
                return CopilotVisualCommonComponent;
            }
        });
        var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(81337), _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(50423), rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(35510), _powerbi_legacy_ExploreUI_utils_errorDetailsUtility__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(18503), _powerbi_Qna__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(74857), _powerbi_ErrorService__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(81213), _powerbi_Localization__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(65181), _services_single_visual_host_config_builder__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(2851), _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(77476), _ExploreUI_Components_canvas_visual_error_overlay_canvas_visual_error_overlay_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(98885), _ExploreUI_Components_single_visual_host_single_visual_host_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(46101), _trident_libs_ux_angular_src_lib_spinner_spinner_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(91781), _trident_libs_ux_angular_src_lib_tri_svg_icon_components_tri_svg_icon_tri_svg_icon_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(74913), _trident_libs_ux_angular_src_lib_tri_tooltip_tri_tooltip_directive__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(55490), _Localization_directives_localize_directive__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(59968), _Localization_pipes_localize_pipe__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(85102), _c0 = [ "visualHostContainer" ];
        function CopilotVisualCommonComponent_span_3_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementStart"](0, "span"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275text"](1), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementEnd"]()), 
            2 & rf) {
                var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275textInterpolate"](ctx_r0.title);
            }
        }
        function CopilotVisualCommonComponent_tri_svg_icon_4_Template(rf, ctx) {
            if (1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275element"](0, "tri-svg-icon", 10), 
            2 & rf) {
                var ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("triTooltip", ctx_r1.componentConfig.titleTooltip);
            }
        }
        function CopilotVisualCommonComponent_ng_container_7_tri_spinner_1_Template(rf, ctx) {
            1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275element"](0, "tri-spinner", 14), 
            2 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("delay", 0);
        }
        function CopilotVisualCommonComponent_ng_container_7_single_visual_host_2_Template(rf, ctx) {
            if (1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275element"](0, "single-visual-host", 15), 
            2 & rf) {
                var viewport_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275nextContext"]().ngIf, ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("visual", ctx_r9.visualContainer)("config", ctx_r9.singleVisualHostConfig)("themeCollection", ctx_r9.theme.themeCollection)("visualViewport", viewport_r7)("useOnPushChangeDetection", !0);
            }
        }
        function CopilotVisualCommonComponent_ng_container_7_canvas_visual_error_overlay_3_Template(rf, ctx) {
            if (1 & rf) {
                var _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275getCurrentView"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementStart"](0, "canvas-visual-error-overlay", 16), 
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275listener"]("showErrorDetails", function() {
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275restoreView"](_r13);
                    var ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275nextContext"](2);
                    return _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275resetView"](ctx_r12.showErrorDetails());
                }), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var viewport_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275nextContext"]().ngIf, ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("errorInfo", ctx_r10.error)("viewport", viewport_r7);
            }
        }
        function CopilotVisualCommonComponent_ng_container_7_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementContainerStart"](0), 
            _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275template"](1, CopilotVisualCommonComponent_ng_container_7_tri_spinner_1_Template, 1, 1, "tri-spinner", 11), 
            _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275template"](2, CopilotVisualCommonComponent_ng_container_7_single_visual_host_2_Template, 1, 5, "single-visual-host", 12), 
            _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275template"](3, CopilotVisualCommonComponent_ng_container_7_canvas_visual_error_overlay_3_Template, 1, 2, "canvas-visual-error-overlay", 13), 
            _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementContainerEnd"]()), 
            2 & rf) {
                var ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("ngIf", ctx_r3.loading), 
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("ngIf", !ctx_r3.error && ctx_r3.singleVisualHostConfig), 
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("ngIf", ctx_r3.error && !ctx_r3.loading);
            }
        }
        function CopilotVisualCommonComponent_button_10_Template(rf, ctx) {
            if (1 & rf) {
                var _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275getCurrentView"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementStart"](0, "button", 17), 
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275listener"]("click", function() {
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275restoreView"](_r16);
                    var ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275nextContext"]();
                    return _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275resetView"](ctx_r15.onAddToPage.emit());
                }), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275pipe"](1, "localize"), 
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275element"](2, "tri-svg-icon", 18)(3, "span", 19), 
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementEnd"]();
            }
            2 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("triTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275pipeBind1"](1, 1, "Insights_ExploreAddToPage"));
        }
        function CopilotVisualCommonComponent_button_11_span_3_Template(rf, ctx) {
            1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275element"](0, "span", 23);
        }
        var _c1 = function(a0) {
            return {
                withText: a0
            };
        };
        function CopilotVisualCommonComponent_button_11_Template(rf, ctx) {
            if (1 & rf) {
                var _r19 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275getCurrentView"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementStart"](0, "button", 20), 
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275listener"]("click", function() {
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275restoreView"](_r19);
                    var ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275nextContext"]();
                    return _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275resetView"](ctx_r18.onExpand.emit());
                }), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275pipe"](1, "localize"), 
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275element"](2, "tri-svg-icon", 21), 
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275template"](3, CopilotVisualCommonComponent_button_11_span_3_Template, 1, 0, "span", 22), 
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("triTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275pipeBind1"](1, 3, "ExpandView"))("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275pureFunction1"](5, _c1, !ctx_r5.componentConfig.supportsAddToPage)), 
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275advance"](3), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("ngIf", !ctx_r5.componentConfig.supportsAddToPage);
            }
        }
        function CopilotVisualCommonComponent_button_12_Template(rf, ctx) {
            if (1 & rf) {
                var _r21 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275getCurrentView"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementStart"](0, "button", 17), 
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275listener"]("click", function() {
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275restoreView"](_r21);
                    var ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275nextContext"]();
                    return _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275resetView"](ctx_r20.onExplore.emit());
                }), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275pipe"](1, "localize"), 
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275element"](2, "tri-svg-icon", 24)(3, "span", 25), 
                _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementEnd"]();
            }
            2 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("triTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275pipeBind1"](1, 1, "Explore_This_Visual"));
        }
        var _c2 = function(a0) {
            return {
                height: a0
            };
        }, _c3 = function(a0) {
            return {
                "background-color": a0
            };
        }, _c4 = function(a0, a1, a2) {
            return {
                color: a0,
                fill: a1,
                "justify-content": a2
            };
        }, _c5 = function(a0) {
            return {
                alignRight: a0
            };
        }, CopilotVisualCommonComponent = function() {
            function CopilotVisualCommonComponent(changeDetectionRef, errorService, localizationService, singleVisualHostConfigBuilder) {
                this.changeDetectionRef = changeDetectionRef, this.errorService = errorService, 
                this.localizationService = localizationService, this.singleVisualHostConfigBuilder = singleVisualHostConfigBuilder, 
                this.onAddToPage = new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter, 
                this.onExpand = new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter, this.onExplore = new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter, 
                this.viewport$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__.X(void 0), this.loading = !0;
            }
            return CopilotVisualCommonComponent.prototype.ngOnInit = function() {
                return (0, tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(this, void 0, void 0, function() {
                    var config, _this = this;
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return [ 4, this.singleVisualHostConfigBuilder.getSingleVisualHostConfig(this.visualContainer) ];

                          case 1:
                            return (config = _a.sent()).notifyEnd = function() {
                                return _this.handleDoneLoading();
                            }, config.handleQueryErrors = function(error) {
                                return _this.handleQueryErrors(error);
                            }, this.singleVisualHostConfig = config, this.changeDetectionRef.markForCheck(), 
                            [ 2 ];
                        }
                    });
                });
            }, CopilotVisualCommonComponent.prototype.ngAfterViewInit = function() {
                var _this = this;
                setTimeout(function() {
                    _this.viewport$.next({
                        width: _this.visualHostContainerElement.nativeElement.clientWidth,
                        height: _this.visualHostContainerElement.nativeElement.clientHeight,
                        scale: 1
                    });
                });
            }, CopilotVisualCommonComponent.prototype.ngOnChanges = function(changes) {
                this.changeDetectionRef.detectChanges();
            }, CopilotVisualCommonComponent.prototype.showErrorDetails = function() {
                (0, _powerbi_Qna__WEBPACK_IMPORTED_MODULE_5__.aZ)(this.error, this.errorService, this.localizationService);
            }, CopilotVisualCommonComponent.prototype.handleDoneLoading = function() {
                this.loading = !1, this.changeDetectionRef.markForCheck();
            }, CopilotVisualCommonComponent.prototype.handleQueryErrors = function(error) {
                if (!error.ignorable) {
                    var details = error.getDetails(this.localizationService), overlayType = (0, _powerbi_legacy_ExploreUI_utils_errorDetailsUtility__WEBPACK_IMPORTED_MODULE_6__.fe)(error.code);
                    this.error = {
                        details,
                        code: error.code,
                        fixableError: 0,
                        hideSeeDetails: (0, _powerbi_legacy_ExploreUI_utils_errorDetailsUtility__WEBPACK_IMPORTED_MODULE_6__.O6)(error.code),
                        overlayType,
                        requestId: error.requestId,
                        source: (null == details ? void 0 : details.source) || error.source || "PowerBI"
                    }, this.changeDetectionRef.markForCheck();
                }
            }, CopilotVisualCommonComponent.\u0275fac = function(t) {
                return new (t || CopilotVisualCommonComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_2__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275directiveInject"](_powerbi_ErrorService__WEBPACK_IMPORTED_MODULE_7__.T), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275directiveInject"](_powerbi_Localization__WEBPACK_IMPORTED_MODULE_8__.o), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275directiveInject"](_services_single_visual_host_config_builder__WEBPACK_IMPORTED_MODULE_9__.k));
            }, CopilotVisualCommonComponent.\u0275cmp = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275defineComponent"]({
                type: CopilotVisualCommonComponent,
                selectors: [ [ "copilot-visual-common" ] ],
                viewQuery: function(rf, ctx) {
                    var _t;
                    1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275viewQuery"](_c0, 5, _angular_core__WEBPACK_IMPORTED_MODULE_2__.ElementRef), 
                    2 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275queryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275loadQuery"]()) && (ctx.visualHostContainerElement = _t.first);
                },
                inputs: {
                    title: "title",
                    theme: "theme",
                    visualContainer: "visualContainer",
                    componentConfig: "componentConfig",
                    height: "height"
                },
                outputs: {
                    onAddToPage: "onAddToPage",
                    onExpand: "onExpand",
                    onExplore: "onExplore"
                },
                features: [ _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275NgOnChangesFeature"] ],
                decls: 13,
                vars: 23,
                consts: [ [ 1, "copilotVisualCommon", 3, "ngStyle" ], [ 1, "visualHostAndTitleContainer", 3, "ngStyle" ], [ 1, "visualTitle", 3, "ngStyle", "triTooltip" ], [ 4, "ngIf" ], [ "name", "info_20_regular", 3, "triTooltip", 4, "ngIf" ], [ 1, "visualHostContainer" ], [ "visualHostContainer", "" ], [ 1, "actionBar", 3, "ngClass" ], [ "tri-button", "", "size", "small", "class", "pbi-fluent-button", 3, "triTooltip", "click", 4, "ngIf" ], [ "tri-button", "", "size", "small", "class", "expandButton pbi-fluent-button", 3, "triTooltip", "ngClass", "click", 4, "ngIf" ], [ "name", "info_20_regular", 3, "triTooltip" ], [ "size", "small", 3, "delay", 4, "ngIf" ], [ 3, "visual", "config", "themeCollection", "visualViewport", "useOnPushChangeDetection", 4, "ngIf" ], [ 3, "errorInfo", "viewport", "showErrorDetails", 4, "ngIf" ], [ "size", "small", 3, "delay" ], [ 3, "visual", "config", "themeCollection", "visualViewport", "useOnPushChangeDetection" ], [ 3, "errorInfo", "viewport", "showErrorDetails" ], [ "tri-button", "", "size", "small", 1, "pbi-fluent-button", 3, "triTooltip", "click" ], [ "name", "add_16_regular" ], [ "localize", "Insights_ExploreAddToPage", 1, "tri-font-12-r" ], [ "tri-button", "", "size", "small", 1, "expandButton", "pbi-fluent-button", 3, "triTooltip", "ngClass", "click" ], [ "name", "expand_up_right_16_regular" ], [ "class", "tri-font-12-r", "localize", "ExpandView", 4, "ngIf" ], [ "localize", "ExpandView", 1, "tri-font-12-r" ], [ "sprite", "trident-icons", "name", "binoculars_20_regular" ], [ "localize", "Explore_This_Visual", 1, "tri-font-12-r" ] ],
                template: function(rf, ctx) {
                    1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementStart"](0, "div", 0)(1, "div", 1)(2, "section", 2), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275template"](3, CopilotVisualCommonComponent_span_3_Template, 2, 1, "span", 3), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275template"](4, CopilotVisualCommonComponent_tri_svg_icon_4_Template, 1, 1, "tri-svg-icon", 4), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementEnd"](), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementStart"](5, "section", 5, 6), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275template"](7, CopilotVisualCommonComponent_ng_container_7_Template, 4, 3, "ng-container", 3), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275pipe"](8, "async"), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementEnd"]()(), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementStart"](9, "section", 7), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275template"](10, CopilotVisualCommonComponent_button_10_Template, 4, 3, "button", 8), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275template"](11, CopilotVisualCommonComponent_button_11_Template, 4, 7, "button", 9), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275template"](12, CopilotVisualCommonComponent_button_12_Template, 4, 3, "button", 8), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275elementEnd"]()()), 2 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275pureFunction1"](13, _c2, ctx.height + "px")), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275pureFunction1"](15, _c3, ctx.theme.background)), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275pureFunction3"](17, _c4, ctx.theme.foreground, ctx.theme.foreground, ctx.title ? "space-between" : "flex-end"))("triTooltip", ctx.title), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("ngIf", ctx.title), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("ngIf", ctx.componentConfig.titleTooltip), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275advance"](3), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275pipeBind1"](8, 11, ctx.viewport$)), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275pureFunction1"](21, _c5, "right" === ctx.componentConfig.actionAlignment)), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("ngIf", ctx.componentConfig.supportsAddToPage), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("ngIf", ctx.componentConfig.supportsExpand), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275property"]("ngIf", ctx.componentConfig.supportsExplore));
                },
                dependencies: [ _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgStyle, _ExploreUI_Components_canvas_visual_error_overlay_canvas_visual_error_overlay_component__WEBPACK_IMPORTED_MODULE_11__.f, _ExploreUI_Components_single_visual_host_single_visual_host_component__WEBPACK_IMPORTED_MODULE_12__.v, _trident_libs_ux_angular_src_lib_spinner_spinner_component__WEBPACK_IMPORTED_MODULE_13__.O, _trident_libs_ux_angular_src_lib_tri_svg_icon_components_tri_svg_icon_tri_svg_icon_component__WEBPACK_IMPORTED_MODULE_0__.M, _trident_libs_ux_angular_src_lib_tri_tooltip_tri_tooltip_directive__WEBPACK_IMPORTED_MODULE_1__.Z, _Localization_directives_localize_directive__WEBPACK_IMPORTED_MODULE_14__.X, _angular_common__WEBPACK_IMPORTED_MODULE_10__.AsyncPipe, _Localization_pipes_localize_pipe__WEBPACK_IMPORTED_MODULE_15__.F ],
                styles: [ '.copilotVisualCommon[_ngcontent-%COMP%]{display:flex;flex-direction:column}.copilotVisualCommon[_ngcontent-%COMP%]   .visualHostAndTitleContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:solid 1px var(--colorNeutralStroke1);border-radius:var(--borderRadiusMedium);padding:var(--spacingVerticalS) var(--spacingHorizontalS);margin:0 0 var(--spacingVerticalM) 0;box-sizing:border-box;width:100%;flex:1}.copilotVisualCommon[_ngcontent-%COMP%]   .visualHostAndTitleContainer[_ngcontent-%COMP%]   .visualTitle[_ngcontent-%COMP%]{width:100%;display:flex;gap:8px}.copilotVisualCommon[_ngcontent-%COMP%]   .visualHostAndTitleContainer[_ngcontent-%COMP%]   .visualTitle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-semi-bold, 600);flex:1}.copilotVisualCommon[_ngcontent-%COMP%]   .visualHostAndTitleContainer[_ngcontent-%COMP%]   .visualHostContainer[_ngcontent-%COMP%]{flex:1;display:flex;overflow:hidden}.copilotVisualCommon[_ngcontent-%COMP%]   .visualHostAndTitleContainer[_ngcontent-%COMP%]   .visualHostContainer[_ngcontent-%COMP%]   tri-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%}.copilotVisualCommon[_ngcontent-%COMP%]   .visualHostAndTitleContainer[_ngcontent-%COMP%]   .visualHostContainer[_ngcontent-%COMP%]   single-visual-host[_ngcontent-%COMP%]{flex:1;display:block}.copilotVisualCommon[_ngcontent-%COMP%]   .actionBar[_ngcontent-%COMP%]{display:flex;gap:8px}.copilotVisualCommon[_ngcontent-%COMP%]   .actionBar.alignRight[_ngcontent-%COMP%]{justify-content:right}.copilotVisualCommon[_ngcontent-%COMP%]   .actionBar[_ngcontent-%COMP%]   .expandButton[_ngcontent-%COMP%]:not(.withText){padding:2px}' ]
            }), CopilotVisualCommonComponent;
        }();
    },
    13531: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__), __webpack_require__.d(__webpack_exports__, {
            CopilotSkillsCommonModule: function() {
                return CopilotSkillsCommonModule;
            }
        });
        var common = __webpack_require__(77476), dialogs_module = __webpack_require__(76966), ExploreUI_module = __webpack_require__(87121), spinner_module = __webpack_require__(33783), tri_svg_icon = __webpack_require__(17177), tri_tooltip = __webpack_require__(8816), localization_module = __webpack_require__(79061), tslib_es6 = __webpack_require__(81337), BehaviorSubject = __webpack_require__(35510), scoped_services = __webpack_require__(86760), ExploreUI_scoped_services = __webpack_require__(42680), promiseFactory = __webpack_require__(14463), template_dialog_payload_service = __webpack_require__(67489), themeUtils = __webpack_require__(4954), single_visual_host_config_builder = __webpack_require__(2851), core = __webpack_require__(50423), data_sources_service = __webpack_require__(83008), data_source_serializer_service = __webpack_require__(40823), exploration_serializer_service = __webpack_require__(81986), resource_loader_service = __webpack_require__(52121), theme_service = __webpack_require__(67660), template_dialog_component = __webpack_require__(96777), copilot_visual_common_component = __webpack_require__(46333);
        function CopilotVisualDialogComponent_copilot_visual_common_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r2 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "copilot-visual-common", 2), core["\u0275\u0275listener"]("onAddToPage", function() {
                    core["\u0275\u0275restoreView"](_r2);
                    var ctx_r1 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r1.addToPage());
                }), core["\u0275\u0275pipe"](1, "async"), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("title", ctx_r0.title)("theme", core["\u0275\u0275pipeBind1"](1, 5, ctx_r0.theme$))("visualContainer", ctx_r0.visualContainer)("height", 456)("componentConfig", ctx_r0.visualComponentConfig);
            }
        }
        var CopilotVisualDialogComponent = function() {
            function CopilotVisualDialogComponent(dataSourcesService, dataSourceSerializer, explorationSerializer, resourceLoader, templateDialogPayload, themeService, promiseFactory) {
                this.dataSourcesService = dataSourcesService, this.dataSourceSerializer = dataSourceSerializer, 
                this.explorationSerializer = explorationSerializer, this.resourceLoader = resourceLoader, 
                this.templateDialogPayload = templateDialogPayload, this.themeService = themeService, 
                this.promiseFactory = promiseFactory;
            }
            return CopilotVisualDialogComponent.prototype.ngOnInit = function() {
                var input = this.templateDialogPayload.input;
                this.title = input.visualTitle, this.visualContainer = this.explorationSerializer.deserializeCanvasItem(input.visualContainer), 
                this.visualComponentConfig = {
                    supportsAddToPage: input.supportsAddToPage,
                    supportsExpand: !1,
                    actionAlignment: "right",
                    supportsExplore: !1
                };
                var dataSourceArray = this.dataSourceSerializer.deserializeDataSources(input.dataSources);
                this.dataSourcesService.set(dataSourceArray), themeUtils.P.loadThemeAndBaseTheme(this.promiseFactory, this.resourceLoader, this.themeService, input.resourcePackages, input.theme.themeCollection), 
                this.theme$ = new BehaviorSubject.X(input.theme);
            }, CopilotVisualDialogComponent.prototype.addToPage = function() {
                this.templateDialogPayload.closeDialogFromConsumer({
                    closedWithAddAction: !0
                });
            }, CopilotVisualDialogComponent.\u0275fac = function(t) {
                return new (t || CopilotVisualDialogComponent)(core["\u0275\u0275directiveInject"](data_sources_service.D), core["\u0275\u0275directiveInject"](data_source_serializer_service._), core["\u0275\u0275directiveInject"](exploration_serializer_service.L), core["\u0275\u0275directiveInject"](resource_loader_service.l6), core["\u0275\u0275directiveInject"](template_dialog_payload_service.x), core["\u0275\u0275directiveInject"](theme_service.f), core["\u0275\u0275directiveInject"](promiseFactory.t));
            }, CopilotVisualDialogComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: CopilotVisualDialogComponent,
                selectors: [ [ "copilot-visual-dialog" ] ],
                features: [ core["\u0275\u0275ProvidersFeature"]((0, tslib_es6.__spreadArray)((0, 
                tslib_es6.__spreadArray)((0, tslib_es6.__spreadArray)([], scoped_services.K, !0), ExploreUI_scoped_services.H, !0), [ single_visual_host_config_builder.k, template_dialog_payload_service.x ], !1)) ],
                decls: 3,
                vars: 3,
                consts: [ [ 2, "height", "auto" ], [ 3, "title", "theme", "visualContainer", "height", "componentConfig", "onAddToPage", 4, "ngIf" ], [ 3, "title", "theme", "visualContainer", "height", "componentConfig", "onAddToPage" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "template-dialog", 0), core["\u0275\u0275template"](1, CopilotVisualDialogComponent_copilot_visual_common_1_Template, 2, 7, "copilot-visual-common", 1), 
                    core["\u0275\u0275pipe"](2, "async"), core["\u0275\u0275elementEnd"]()), 2 & rf && (core["\u0275\u0275advance"](1), 
                    core["\u0275\u0275property"]("ngIf", ctx.visualContainer && core["\u0275\u0275pipeBind1"](2, 1, ctx.theme$)));
                },
                dependencies: [ common.NgIf, template_dialog_component.J, copilot_visual_common_component.w, common.AsyncPipe ],
                encapsulation: 2
            }), CopilotVisualDialogComponent;
        }(), constants = __webpack_require__(35889), CopilotSkillsCommonModule = function() {
            function CopilotSkillsCommonModule() {}
            return CopilotSkillsCommonModule.\u0275fac = function(t) {
                return new (t || CopilotSkillsCommonModule);
            }, CopilotSkillsCommonModule.\u0275mod = core["\u0275\u0275defineNgModule"]({
                type: CopilotSkillsCommonModule
            }), CopilotSkillsCommonModule.\u0275inj = core["\u0275\u0275defineInjector"]({
                providers: [ single_visual_host_config_builder.k ],
                imports: [ common.CommonModule, dialogs_module.c.withManifest([ {
                    componentIdentifier: constants.Tx,
                    componentType: CopilotVisualDialogComponent
                } ]), ExploreUI_module.J, spinner_module.F, tri_svg_icon.T6, tri_tooltip.w, localization_module.v ]
            }), CopilotSkillsCommonModule;
        }();
    },
    2851: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.d(__webpack_exports__, {
            k: function() {
                return SingleVisualHostConfigBuilder;
            }
        });
        var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(81337), _powerbi_legacy_ExploreUI_services_visualHostService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(47245), _powerbi_Qna__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(74857), _powerbi_legacy_PowerBIContracts_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2142), _powerbi_legacy_Explore_services_filters_filterBuilder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(11077), _powerbi_Common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(35911), _powerbi_legacy_PowerBIVisuals_VisualsCommon_Prototype__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(39681), _powerbi_InjectionTokens_promiseFactory__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(14463), _powerbi_legacy_Explore_services_events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(8590), _powerbi_InjectionTokens_tooltips_visualHostTooltipServiceFactory__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(80318), _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(50423), _powerbi_Data__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(26898), _powerbi_Explore_services_data_sources_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(83008), _powerbi_ExploreUI__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(11494), _powerbi_Explore__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(79006), _powerbi_Geocoding__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(28505), _powerbi_Geocoding__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(58991), _powerbi_Localization__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(65181), _powerbi_LazyLoad__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(2330), _powerbi_Explore_services_sort_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(906), _powerbi_Explore_services_undo_redo_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(84281), _powerbi_ExploreUI_services_visual_authoring_operations_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(27980), _powerbi_VisualHostCore__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(29866), _powerbi_Explore_services_azure_map_token_cache_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(80277), _powerbi_GeocoderIndexedDB__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(1599), SingleVisualHostConfigBuilder = function() {
            function SingleVisualHostConfigBuilder(conceptualSchemaProxy, dataSources, eventBridge, expandCollapse, geocoder, geolocationService, localizationService, moduleLoader, sortService, undoRedoService, visualAuthoringOpService, visualPlugin, azureMapTokenCache, azureMapsEndpoint, geocoderIndexedDB, promiseFactory, visualHostTooltipServiceFactory) {
                this.conceptualSchemaProxy = conceptualSchemaProxy, this.dataSources = dataSources, 
                this.eventBridge = eventBridge, this.expandCollapse = expandCollapse, this.geocoder = geocoder, 
                this.geolocationService = geolocationService, this.localizationService = localizationService, 
                this.moduleLoader = moduleLoader, this.sortService = sortService, this.undoRedoService = undoRedoService, 
                this.visualAuthoringOpService = visualAuthoringOpService, this.visualPlugin = visualPlugin, 
                this.azureMapTokenCache = azureMapTokenCache, this.azureMapsEndpoint = azureMapsEndpoint, 
                this.geocoderIndexedDB = geocoderIndexedDB, this.promiseFactory = promiseFactory, 
                this.visualHostTooltipServiceFactory = visualHostTooltipServiceFactory;
            }
            return SingleVisualHostConfigBuilder.prototype.getSingleVisualHostConfig = function(visualContainer) {
                return (0, tslib__WEBPACK_IMPORTED_MODULE_1__.__awaiter)(this, void 0, void 0, function() {
                    var dataSource, schema, capabilities, _this = this;
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_1__.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return dataSource = _.find(this.dataSources.get(), function(d) {
                                return d.type === _powerbi_legacy_PowerBIContracts_constants__WEBPACK_IMPORTED_MODULE_2__.nKy;
                            }), [ 4, this.conceptualSchemaProxy.get(this.dataSources.get()) ];

                          case 1:
                            return schema = _a.sent(), capabilities = dataSource && schema && schema.schema(dataSource.name).capabilities, 
                            [ 2, {
                                notifyStart: _.noop,
                                notifyEnd: _.noop,
                                clearQueryErrors: _.noop,
                                handleQueryErrors: _.noop,
                                handleQueryWarnings: _.noop,
                                queryVisualHostServices: {
                                    getFilters: function() {
                                        return _this.createVisualContainerFilters(visualContainer);
                                    },
                                    getDataSourceVariables: function() {},
                                    disableAnchorTime: !0
                                },
                                visualHostServices: (0, _powerbi_legacy_PowerBIVisuals_VisualsCommon_Prototype__WEBPACK_IMPORTED_MODULE_3__.ED)((0, 
                                _powerbi_legacy_ExploreUI_services_visualHostService__WEBPACK_IMPORTED_MODULE_4__.q)({
                                    geocoder: this.geocoder,
                                    geolocation: this.geolocationService,
                                    localizationService: this.localizationService,
                                    moduleLoader: this.moduleLoader,
                                    promiseFactory: this.promiseFactory,
                                    visualHostTooltipService: this.visualHostTooltipServiceFactory.createFromVisualContract(visualContainer),
                                    getAzureMapToken: function() {
                                        return _this.azureMapTokenCache.getAzureMapToken();
                                    },
                                    azureMapsEndpoint: this.azureMapsEndpoint,
                                    geocoderIndexedDB: this.geocoderIndexedDB
                                }), function(h) {
                                    h.getLocalizedString = function(value) {
                                        return _this.localizationService.get(value);
                                    }, h.onCustomSort = function(args) {
                                        return _this.onCustomSort(visualContainer, args.sortDescriptors);
                                    }, h.canExpandCollapse = function(_roles) {
                                        var _a;
                                        return null !== (_a = null == capabilities ? void 0 : capabilities.supportsInstanceFilters) && void 0 !== _a && _a;
                                    }, h.setNodeExpansionState = function(args) {
                                        args.isCollapse ? _this.expandCollapse.collapseNode(visualContainer, args.dataRoles, args.data) : _this.expandCollapse.expandNode(visualContainer, args.dataRoles, args.data), 
                                        _this.eventBridge.publishToChannel(_powerbi_legacy_Explore_services_events__WEBPACK_IMPORTED_MODULE_5__.jCS, {
                                            affectContainer: function(vc) {
                                                return vc.name === visualContainer.name;
                                            }
                                        });
                                    };
                                }),
                                interactivityOptions: {
                                    selection: !0
                                },
                                additionalObjectUpdates: void 0,
                                disableQueryCacheUpdates: !1,
                                noLoadMore: !1
                            } ];
                        }
                    });
                });
            }, SingleVisualHostConfigBuilder.prototype.createVisualContainerFilters = function(visualContainer) {
                var filterBuilder = new _powerbi_legacy_Explore_services_filters_filterBuilder__WEBPACK_IMPORTED_MODULE_6__.ME;
                _.forEach(visualContainer.filters, function(fContainer) {
                    var semanticFilter = fContainer.filter;
                    semanticFilter && filterBuilder.addVisualFilter({
                        filter: semanticFilter
                    });
                });
                var newFilters = filterBuilder.getFilters(!1);
                return {
                    dataFilter: newFilters.dataFilter,
                    dataFiltersUnmerged: newFilters.dataFiltersUnmerged,
                    highlightFilter: void 0,
                    highlightFiltersUnmerged: void 0
                };
            }, SingleVisualHostConfigBuilder.prototype.onCustomSort = function(visualContainer, sortDescriptors) {
                return (0, tslib__WEBPACK_IMPORTED_MODULE_1__.__awaiter)(this, void 0, void 0, function() {
                    var sortHelper;
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_1__.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return [ 4, (0, _powerbi_Qna__WEBPACK_IMPORTED_MODULE_7__.Vq)(visualContainer, this.conceptualSchemaProxy, this.dataSources, this.sortService, this.undoRedoService, this.visualAuthoringOpService, this.visualPlugin) ];

                          case 1:
                            return sortHelper = _a.sent(), (0, _powerbi_Qna__WEBPACK_IMPORTED_MODULE_7__.fI)(visualContainer, sortHelper, sortDescriptors), 
                            [ 2 ];
                        }
                    });
                });
            }, SingleVisualHostConfigBuilder.\u0275fac = function(t) {
                return new (t || SingleVisualHostConfigBuilder)(_angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_Data__WEBPACK_IMPORTED_MODULE_9__.i), _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_Explore_services_data_sources_service__WEBPACK_IMPORTED_MODULE_10__.D), _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_ExploreUI__WEBPACK_IMPORTED_MODULE_11__.J), _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_Explore__WEBPACK_IMPORTED_MODULE_12__.v), _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_Geocoding__WEBPACK_IMPORTED_MODULE_13__.i), _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_Common__WEBPACK_IMPORTED_MODULE_0__._1), _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_Localization__WEBPACK_IMPORTED_MODULE_14__.o), _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_LazyLoad__WEBPACK_IMPORTED_MODULE_15__.m), _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_Explore_services_sort_service__WEBPACK_IMPORTED_MODULE_16__.K), _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_Explore_services_undo_redo_service__WEBPACK_IMPORTED_MODULE_17__.z), _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_ExploreUI_services_visual_authoring_operations_service__WEBPACK_IMPORTED_MODULE_18__.Q), _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_VisualHostCore__WEBPACK_IMPORTED_MODULE_19__.D), _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_Explore_services_azure_map_token_cache_service__WEBPACK_IMPORTED_MODULE_20__.o), _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_Geocoding__WEBPACK_IMPORTED_MODULE_21__.A), _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_GeocoderIndexedDB__WEBPACK_IMPORTED_MODULE_22__.W), _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_InjectionTokens_promiseFactory__WEBPACK_IMPORTED_MODULE_23__.t), _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275inject"](_powerbi_InjectionTokens_tooltips_visualHostTooltipServiceFactory__WEBPACK_IMPORTED_MODULE_24__.A));
            }, SingleVisualHostConfigBuilder.\u0275prov = _angular_core__WEBPACK_IMPORTED_MODULE_8__["\u0275\u0275defineInjectable"]({
                token: SingleVisualHostConfigBuilder,
                factory: SingleVisualHostConfigBuilder.\u0275fac
            }), SingleVisualHostConfigBuilder;
        }();
    },
    74857: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.d(__webpack_exports__, {
            D4: function() {
                return getBaseThemeCollection;
            },
            ET: function() {
                return getQnaNotAllowedInIEError;
            },
            Kt: function() {
                return getVisualTitle;
            },
            Nj: function() {
                return qnaQueryMetadataToQueryMetadata;
            },
            Su: function() {
                return getThemeCollection;
            },
            Vq: function() {
                return getInterpretResultVisualSortHelper;
            },
            aZ: function() {
                return showVisualErrorDetails;
            },
            fI: function() {
                return customSortInterpretResultVisual;
            },
            y_: function() {
                return getInterpretResultVisual;
            }
        });
        var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(81337), _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62458), _powerbi_legacy_Explore_util_themeUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(38701), _powerbi_legacy_Explore_util_visualContainerUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(60661), _powerbi_legacy_ExploreUI_utils_errorDetailsUtility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(18503), _powerbi_legacy_PowerBIVisuals_VisualsCommon_tracing_traceType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(50547), _powerbi_ExploreUI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(2240);
        function getQnaNotAllowedInIEError(localizationService) {
            return {
                code: "qnaNotAllowedInIE",
                fixableError: 0,
                hideSeeDetails: !0,
                details: {
                    message: localizationService.get("Qna_NotSupportedInIE"),
                    displayableErrorInfo: void 0
                },
                source: "User"
            };
        }
        function qnaQueryMetadataToQueryMetadata(qnaQueryMetadata) {
            if (qnaQueryMetadata) return {
                Filters: _.map(qnaQueryMetadata.filters, function(f) {
                    return {
                        Restatement: f.Restatement,
                        type: void 0
                    };
                }),
                Select: _.map(qnaQueryMetadata.selects, function(s) {
                    return {
                        Restatement: s.restatement
                    };
                })
            };
        }
        function showVisualErrorDetails(error, errorService, localizationService) {
            _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(error, "Expect this to be called only when the given error is defined.");
            var errorDetails = error.details;
            if (errorDetails) {
                var hasAddtionalErrorInfo = (0, _powerbi_legacy_ExploreUI_utils_errorDetailsUtility__WEBPACK_IMPORTED_MODULE_1__.jx)(errorDetails), title = localizationService.get("ServiceError_CannotLoadVisual"), message = errorDetails.message, additionalErrors = [];
                if (hasAddtionalErrorInfo && (title = errorDetails.displayableErrorInfo[0].errorInfoKey, 
                message = errorDetails.displayableErrorInfo[0].errorInfoValue, errorDetails.displayableErrorInfo.length > 1)) for (var i = 1; i < errorDetails.displayableErrorInfo.length; i++) additionalErrors.push(errorDetails.displayableErrorInfo[i]);
                _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assert(function() {
                    return null != error.source;
                }, "Expect error.source is not null."), errorService.error(message, error.code, {
                    debugErrorInfo: errorDetails.debugErrorInfo,
                    displayableErrorInfo: additionalErrors,
                    title,
                    source: error.source,
                    level: _powerbi_legacy_PowerBIVisuals_VisualsCommon_tracing_traceType__WEBPACK_IMPORTED_MODULE_2__.U.Error
                });
            }
        }
        function getThemeCollection(explorationNavigation, featureSwitchService) {
            var currentExploration = explorationNavigation.getCurrentExploration(), themeCollection = null == currentExploration ? void 0 : currentExploration.themeCollection;
            return _.isEmpty(themeCollection) ? getBaseThemeCollection(featureSwitchService) : themeCollection;
        }
        function getBaseThemeCollection(featureSwitchService) {
            return {
                baseTheme: (0, _powerbi_legacy_Explore_util_themeUtils__WEBPACK_IMPORTED_MODULE_3__.DC)(featureSwitchService)
            };
        }
        function getInterpretResultVisual(interpretResult, conceptualSchemaProxy, dataSourcesService, visualRecommendationService) {
            return (0, tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(this, void 0, void 0, function() {
                var command, query, selects, queryMetadata, exprMetadata, filterMetadata, schema, result;
                return (0, tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this, function(_a) {
                    switch (_a.label) {
                      case 0:
                        return (query = null == (command = null == interpretResult ? void 0 : interpretResult.command) ? void 0 : command.query) ? (selects = query.select(), 
                        queryMetadata = command.queryMetadata, exprMetadata = _.map(null == queryMetadata ? void 0 : queryMetadata.selects, function(selectMetadata, index) {
                            return {
                                expression: selects[index].expr,
                                type: selectMetadata.type,
                                isGroup: selectMetadata.isGroup,
                                defaultLabel: selectMetadata.defaultLabel,
                                isExplicitSortBy: selectMetadata.isExplicitSortBy
                            };
                        }), filterMetadata = null == queryMetadata ? void 0 : queryMetadata.filters, [ 4, conceptualSchemaProxy.get(dataSourcesService.get()) ]) : [ 2 ];

                      case 1:
                        return schema = _a.sent(), (result = visualRecommendationService.recommendVisuals(query, schema, {
                            numberOfResults: 1,
                            visualType: _.first(command.suggestedVisualTypes),
                            filterMetadata,
                            exprMetadata,
                            addDefaultFormatting: !0,
                            allowTooltipMeasures: !0
                        })) ? (_powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assert(function() {
                            return 1 === _.size(result.visualContainers);
                        }, "Expected 1 result"), [ 2, result.visualContainers[0] ]) : [ 2 ];
                    }
                });
            });
        }
        function getVisualTitle(visualContainer, conceptualSchemaProxy, dataSourcesService, displayNameService, visualPlugin, forceGenerateTitle, displayIndividualValuesLimit) {
            return (0, tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(this, void 0, void 0, function() {
                var schema, singleVisualConfig, displayNameOptions;
                return (0, tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this, function(_a) {
                    switch (_a.label) {
                      case 0:
                        return [ 4, conceptualSchemaProxy.get(dataSourcesService.get()) ];

                      case 1:
                        return schema = _a.sent(), singleVisualConfig = (0, _powerbi_legacy_Explore_util_visualContainerUtils__WEBPACK_IMPORTED_MODULE_5__.PQ)(visualContainer), 
                        displayNameOptions = {
                            multiAndLastValueConnectorSpecialResourceKey: "AndConjunction_MultiItemsAndOne",
                            displayIndividualValuesLimitSetting: null != displayIndividualValuesLimit ? {
                                limit: displayIndividualValuesLimit,
                                limitedValueShownResourceKey: "AndOthers_SingleItem",
                                multiLimitedValuesShownResourceKey: "AndOthers_MultipleItem"
                            } : void 0
                        }, [ 2, displayNameService.getVisualTitle(singleVisualConfig, schema, visualPlugin.capabilities(singleVisualConfig.visualType), void 0, displayNameOptions, forceGenerateTitle) ];
                    }
                });
            });
        }
        function getInterpretResultVisualSortHelper(visualContainer, conceptualSchemaProxy, dataSourcesService, sortService, undoRedoService, visualAuthoringOpService, visualPlugin) {
            return (0, tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(this, void 0, void 0, function() {
                var sortableFieldsResult, sortSetting;
                return (0, tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this, function(_a) {
                    switch (_a.label) {
                      case 0:
                        return [ 4, getSortableFields(visualContainer, conceptualSchemaProxy, dataSourcesService, sortService) ];

                      case 1:
                        return sortableFieldsResult = _a.sent(), sortSetting = {
                            defaultSortBehavior: getDefaultSortBehavior(visualContainer, visualPlugin),
                            sortableFields: null == sortableFieldsResult ? void 0 : sortableFieldsResult.sortableFields,
                            sortGroups: null == sortableFieldsResult ? void 0 : sortableFieldsResult.sortGroups
                        }, [ 2, new _powerbi_ExploreUI__WEBPACK_IMPORTED_MODULE_6__.B(sortSetting, visualContainer, sortService, undoRedoService, visualAuthoringOpService) ];
                    }
                });
            });
        }
        function customSortInterpretResultVisual(visualContainer, sortHelper, sortDescriptors) {
            if (!_.isEmpty(sortDescriptors)) {
                var selectExprs = (0, _powerbi_legacy_Explore_util_visualContainerUtils__WEBPACK_IMPORTED_MODULE_5__.oJ)(visualContainer);
                _.isEmpty(selectExprs) || sortHelper.applySortByFields(sortDescriptors);
            }
        }
        function getDefaultSortBehavior(visualContainer, visualPlugin) {
            var _a, visualCapabilities = (0, _powerbi_legacy_Explore_util_visualContainerUtils__WEBPACK_IMPORTED_MODULE_5__.cj)(visualContainer, visualPlugin);
            return !!visualCapabilities && !!(null === (_a = visualCapabilities.sorting) || void 0 === _a ? void 0 : _a.default);
        }
        function getSortableFields(visualContainer, conceptualSchemaProxy, dataSourcesService, sortService) {
            return (0, tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(this, void 0, void 0, function() {
                var dataSourcesArray, singleVisualConfig, query, schema;
                return (0, tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this, function(_b) {
                    switch (_b.label) {
                      case 0:
                        if (!(dataSourcesArray = dataSourcesService.get())) return [ 2 ];
                        _b.label = 1;

                      case 1:
                        return _b.trys.push([ 1, 3, , 4 ]), singleVisualConfig = (0, _powerbi_legacy_Explore_util_visualContainerUtils__WEBPACK_IMPORTED_MODULE_5__.PQ)(visualContainer), 
                        query = (0, _powerbi_legacy_Explore_util_visualContainerUtils__WEBPACK_IMPORTED_MODULE_5__.Xf)(visualContainer), 
                        [ 4, conceptualSchemaProxy.get(dataSourcesArray) ];

                      case 2:
                        return schema = _b.sent(), [ 2, sortService.getSortableFields({
                            query,
                            schema,
                            visualType: singleVisualConfig.visualType,
                            columnProperties: singleVisualConfig.columnProperties,
                            compiledMappings: []
                        }) ];

                      case 3:
                        return _b.sent(), [ 3, 4 ];

                      case 4:
                        return [ 2 ];
                    }
                });
            });
        }
    }
} ]);