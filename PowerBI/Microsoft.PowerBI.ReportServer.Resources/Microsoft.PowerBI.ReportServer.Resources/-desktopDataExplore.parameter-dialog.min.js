"use strict";(self.webpackChunkdesktopDataExplore=self.webpackChunkdesktopDataExplore||[]).push([["parameter-dialog"],{78568:function(Ve,E,p){p.r(E),p.d(E,{ParameterDialogModule:function(){return ie}});var I=p(8150),C=p(17174);function e(c,d,o){return{name:c,addVisualToCanvas:d,fields:o}}var v=p(9617),y=p(32293),r=p(50423),x=p(9380),L=p(65181),S=p(83309),P=p(77476),b=p(45051),M=p(44511),k=p(59968),A=p(57746),F=p(76492),U=p(42189),G=p(9529),w=p(81337),D=p(70863);function H(c){if(!D.wb(c))return K(c)}function K(c){return D.t3(c)||D.I6(c)||function(c){return D.kb(c)&&!D.jz(D.qe(c))}(c)}var j=p(75096),Q=p(78963),Z=p(81141),$=p(88023),J=p(86612),Y=p(93215),R=p(73221),B=p(59725),X=p(83317),q=p(59973),pe=p(14172),ce=p(77526),de=p(83008),V=p(40823),ge=p(29524),ee=p(72525),te=p(50057),W=p(56011),me=p(4722),ue=p(65005),z=p(85102),_e=["fieldList"],fe=["fieldDragDropPicker"],ve=function(d){return{fieldParameters:d}},ne=function(c){function d(o,t,n,a,i,s,l,u,m,f,h){var g=c.call(this)||this;return g.dataSourcesService=o,g.featureSwitchService=t,g.fieldListTreeService=n,g.captionSetting=a,g.draggableSetting=i,g.inlineItemsSetting=s,g.checkableSettingStrategy=l,g.enabledSettingStrategy=u,g.modelService=m,g.showMenuSetting=f,g.dataSourceSerializer=h,g.fieldListTree$=g.fieldListTreeService.fieldListTree$,g.fieldListTreeOptions={dragDrop:{dragStart:function(ze){return g.dragStartHandler(ze.sourceEvent,ze.flatNode)}},editLabel:null,menu:null},g.pbiTreeNodeSettingOptions={captionSetting:g.captionSetting,draggableSetting:g.draggableSetting,inlineItemsSetting:g.inlineItemsSetting,checkableSetting:g.checkableSettingStrategy,showMenuSetting:g.showMenuSetting,enabledSetting:g.enabledSettingStrategy},g.dataTransferFormat=B.L$,g.isFieldParameters=!1,g.mutliCheckMode=B.kH.Multi,g.isFieldParameters=g.featureSwitchService.featureSwitches.fieldParameters,g.pbiTreeMap=new Map,g.fieldListTreeService.modelToPbiTreeConverterOptions=g.pbiTreeNodeSettingOptions,g}return(0,w.__extends)(d,c),d.prototype.ngOnInit=function(){return(0,w.__awaiter)(this,void 0,void 0,function(){var o;return(0,w.__generator)(this,function(t){switch(t.label){case 0:return o=this.dataSourceSerializer.deserializeDataSources(this.dataSources),this.dataSourcesService.set(o),[4,this.buildFieldListTree()];case 1:return t.sent(),[2]}})})},d.prototype.buildFieldListTree=function(){return(0,w.__awaiter)(this,void 0,void 0,function(){var o=this;return(0,w.__generator)(this,function(t){switch(t.label){case 0:return[4,this.modelService.update([])];case 1:return t.sent(),this.modelService.modelChange$.pipe((0,X.R)(this.onDestroy$),(0,q.h)(function(n){return!!n?.model}),(0,pe.U)(function(n){return n.model})).subscribe(function(n){o.fieldListTreeService.setOrUpdateFieldListTreeModel(n)}),this.fieldListTree$.pipe((0,X.R)(this.onDestroy$),(0,ce.x)(),(0,q.h)(function(n){return!!n})).subscribe(function(n){o.constructPbiTreeMap(n)}),[2]}})})},d.prototype.constructPbiTreeMap=function(o){for(var t=(0,w.__spreadArray)([],o.nodes||[],!0);0!==t.length;){var n=t.pop(),a=n.data;if(a.entity){var i=this.createFieldInfoFormValue(a);if(i){var s=JSON.stringify(i);this.pbiTreeMap.set(s,n)}}t.push.apply(t,n.children||[])}},d.prototype.dragStartHandler=function(o,t){var n=this.createDragDropPickerData(t);o.dataTransfer.setData(B.L$,JSON.stringify(n))},d.prototype.renderTreeNodeChanges=function(){this.pbiListRef&&this.pbiListRef.pbiTree&&this.pbiListRef.pbiTree.renderNodeChanges()},d.prototype.handleRemoveData=function(o){if(o){var t=this.pbiTreeMap.get(o.id);t&&(t.checked=!1,t.draggable=!0,this.renderTreeNodeChanges())}},d.prototype.handleAddData=function(o){var t=this.pbiTreeMap.get(o.id);t&&(t.checked=!0,t.draggable=!1,this.renderTreeNodeChanges())},d.prototype.handleNodeSelect=function(o){var t;if(o.node.checkable&&o.node.data){var n=this.createDragDropPickerData(o),i=this.parameterFormGroup.value.fields;o.node.checked?(o.node.checked=!1,o.node.draggable=!0,i=i.filter(function(s){return s.id!==n.id})):(o.node.checked=!0,o.node.draggable=!1,i.push(n)),this.parameterFormGroup.get("fields").patchValue(i),null===(t=this.fieldDragDropPickerRef)||void 0===t||t.detectChanges(),this.renderTreeNodeChanges()}},d.prototype.handleNodeCheck=function(o){var t;if(o.node.checkable&&o.node.data){var n=this.createDragDropPickerData(o),i=this.parameterFormGroup.value.fields;i.findIndex(function(l){return l.id===n.id})>-1?(o.node.draggable=!0,i=i.filter(function(l){return l.id!==n.id})):(o.node.draggable=!1,i.push(n)),this.parameterFormGroup.get("fields").patchValue(i),null===(t=this.fieldDragDropPickerRef)||void 0===t||t.detectChanges(),this.renderTreeNodeChanges()}},d.prototype.createDragDropPickerData=function(o){var t=this.createFieldInfoFormValue(o.node.data);return{id:JSON.stringify(t),label:o.node.displayName}},d.prototype.createFieldInfoFormValue=function(o){var t;switch(o.fieldType){case 0:t={entityName:o.entity.name,fieldName:o.name,propertyType:0,kind:o.kind};break;case 2:o.variation&&(t={entityName:o.entity.name,fieldName:o.hierarchy.column.name,propertyType:2,hierarchyLevelName:o.name})}return t},d.\u0275fac=function(t){return new(t||d)(r.\u0275\u0275directiveInject(de.D),r.\u0275\u0275directiveInject(x.vZ),r.\u0275\u0275directiveInject(j.p),r.\u0275\u0275directiveInject(ge.B),r.\u0275\u0275directiveInject($.F),r.\u0275\u0275directiveInject(ee.wt),r.\u0275\u0275directiveInject(Z.x),r.\u0275\u0275directiveInject(J.y),r.\u0275\u0275directiveInject(Y.b),r.\u0275\u0275directiveInject(Q.W),r.\u0275\u0275directiveInject(V._))},d.\u0275cmp=r.\u0275\u0275defineComponent({type:d,selectors:[["report-parameter"]],viewQuery:function(t,n){if(1&t&&(r.\u0275\u0275viewQuery(_e,5),r.\u0275\u0275viewQuery(fe,5)),2&t){var a=void 0;r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(n.pbiListRef=a.first),r.\u0275\u0275queryRefresh(a=r.\u0275\u0275loadQuery())&&(n.fieldDragDropPickerRef=a.first)}},inputs:{dataSources:"dataSources",parameterFormGroup:"parameterFormGroup"},features:[r.\u0275\u0275ProvidersFeature([j.p,Y.b,{provide:Q.W,useValue:{canShowMenu:function(){return!1}}},{provide:Z.x,useValue:{isCheckable:function(t){return H(t)}}},{provide:$.F,useValue:{isDraggable:function(t){return H(t)}}},{provide:J.y,useValue:{isEnabled:function(t){return function(c){return D.wb(c)||D.SC(c)||K(c)}(t)}}}]),r.\u0275\u0275InheritDefinitionFeature],decls:25,vars:27,consts:[[3,"ngClass"],[3,"formGroup"],[1,"sectionSettings"],["localize","Name"],["type","text","localize-tooltip","Name","formControlName","name","role","textbox",1,"pbi-small-text-input"],[1,"sectionSettings","DragDropFieldSection"],["floatLabel","never",1,"fieldWellArea"],["localize","FieldParameter_dragParameter",1,"unselectable"],["formControlName","fields",1,"pbi-drag-drop-picker-scrollbar",3,"dataFormat","placeholder","allowMultipleValues","allowEditingLabelsSetting","draggable","onChangeAdd","onChangeRemove"],["fieldDragDropPicker",""],[1,"dialog-content-separator",3,"vertical"],[1,"pbiTree"],["localize","Role_DisplayName_Fields",1,"unselectable"],[3,"fieldListTree","scrollSelectedItemIntoViewOnInit","options","checkMode","onNodeClick","onNodeCheck"],["fieldList",""],[1,"checkBoxSettings","fields"],["formControlName","addVisualToCanvas",3,"label","ariaLabel"]],template:function(t,n){1&t&&(r.\u0275\u0275elementStart(0,"div",0)(1,"mat-dialog-content")(2,"form",1)(3,"section",2)(4,"fieldset"),r.\u0275\u0275element(5,"legend",3)(6,"input",4),r.\u0275\u0275pipe(7,"localize"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(8,"section",5)(9,"div",6),r.\u0275\u0275element(10,"mat-label",7),r.\u0275\u0275elementStart(11,"pbi-drag-drop-picker",8,9),r.\u0275\u0275listener("onChangeAdd",function(i){return n.handleAddData(i.data)})("onChangeRemove",function(i){return n.handleRemoveData(null==i?null:i.data)}),r.\u0275\u0275pipe(13,"localize"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275element(14,"mat-divider",10),r.\u0275\u0275elementStart(15,"div",11),r.\u0275\u0275element(16,"mat-label",12),r.\u0275\u0275elementStart(17,"pbi-field-list",13,14),r.\u0275\u0275listener("onNodeClick",function(i){return n.handleNodeSelect(i)})("onNodeCheck",function(i){return n.handleNodeCheck(i)}),r.\u0275\u0275pipe(19,"async"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(20,"section",15)(21,"fieldset"),r.\u0275\u0275element(22,"pbi-checkbox",16),r.\u0275\u0275pipe(23,"localize"),r.\u0275\u0275pipe(24,"localize"),r.\u0275\u0275elementEnd()()()()()),2&t&&(r.\u0275\u0275property("ngClass",r.\u0275\u0275pureFunction1(25,ve,n.isFieldParameters)),r.\u0275\u0275advance(2),r.\u0275\u0275property("formGroup",n.parameterFormGroup),r.\u0275\u0275advance(4),r.\u0275\u0275attribute("aria-label",r.\u0275\u0275pipeBind1(7,15,"Name")),r.\u0275\u0275advance(5),r.\u0275\u0275property("dataFormat",n.dataTransferFormat)("placeholder",r.\u0275\u0275pipeBind1(13,17,"FieldParameter_FieldsWell"))("allowMultipleValues",!0)("allowEditingLabelsSetting","allAllow")("draggable",!0),r.\u0275\u0275advance(3),r.\u0275\u0275property("vertical",!0),r.\u0275\u0275advance(3),r.\u0275\u0275property("fieldListTree",r.\u0275\u0275pipeBind1(19,19,n.fieldListTree$))("scrollSelectedItemIntoViewOnInit",!0)("options",n.fieldListTreeOptions)("checkMode",n.mutliCheckMode),r.\u0275\u0275advance(5),r.\u0275\u0275property("label",r.\u0275\u0275pipeBind1(23,21,"WhatifParameterDialog_AddVisualToCanvas"))("ariaLabel",r.\u0275\u0275pipeBind1(24,23,"WhatifParameterDialog_AddVisualToCanvas")))},dependencies:[P.NgClass,y.xY,C._Y,C.Fj,C.JJ,C.JL,k.X,te.r,A.d,W.v,me.HV,ue.l,C.sg,C.u,P.AsyncPipe,z.F],styles:['[_nghost-%COMP%]{--colorPlaceholderLabel: var(--gray-160)}[data-legacy-theming=false]   [_nghost-%COMP%]{--colorPlaceholderLabel: var(--colorNeutralForeground2)}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{overflow:unset}[_nghost-%COMP%]   legend[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-label[_ngcontent-%COMP%]{color:var(--colorNeutralForeground1)}[_nghost-%COMP%]     pbi-tree cdk-tree pbi-tree-node{overflow:hidden}[_nghost-%COMP%]   fieldset[_ngcontent-%COMP%]{border:none;margin-left:0;margin-right:0;padding-left:0;padding-right:0}[_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   num-up-down[_ngcontent-%COMP%], [_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%], [_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]     div.inputRange.unit-numupdown{font-size:var(--md-font-size, 14px);width:170px;height:32px}[_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], [_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   num-up-down.error[_ngcontent-%COMP%]     div.inputRange{border-color:var(--fluent-theme-error-dark-color, #A80000)}[_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px)}[_nghost-%COMP%]   .checkBoxSettings[_ngcontent-%COMP%]{width:max-content;height:35px;padding-left:3px}[_nghost-%COMP%]   .checkBoxSettings[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]   .checkBoxSettings[_ngcontent-%COMP%]   pbi-checkbox[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%], [_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   num-up-down[_ngcontent-%COMP%]     div.inputRange.unit-numupdown{width:307px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%], [_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .checkBoxSettings.fields[_ngcontent-%COMP%]{margin-top:40px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .checkBoxSettings.whatIf[_ngcontent-%COMP%]{margin-top:123px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   mat-dialog-actions.mat-mdc-dialog-actions.actionButtons[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   mat-dialog-actions.mat-mdc-dialog-actions.actionButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]{height:288px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{height:344px;margin-top:20px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]{width:307px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker{height:268px;width:307px;margin-top:4px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker:focus-within{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker span.placeholder{outline:none}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker span.placeholder label{color:var(--colorPlaceholderLabel);padding-bottom:241px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker span.content{height:14px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .pbiTree[_ngcontent-%COMP%]     pbi-field-list{height:338px;margin-top:4px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .pbiTree[_ngcontent-%COMP%]     pbi-field-list pbi-search-box input{width:307px;height:32px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .pbiTree[_ngcontent-%COMP%]     pbi-field-list pbi-search-box:before{padding-top:4px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .pbiTree[_ngcontent-%COMP%]   pbi-tree[_ngcontent-%COMP%]{flex:1}'],changeDetection:0}),d}(R.w),Ce=p(53833),he=p(7970);function Pe(c,d){if(1&c&&(r.\u0275\u0275elementStart(0,"pbi-dropdown-item",18)(1,"span"),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd()()),2&c){var o=d.$implicit;r.\u0275\u0275property("value",o),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(o.name)}}var be=function(d){return{fieldParameters:d}},N=function(d){return{error:d}},oe=function(){function c(d){this.featureSwitchService=d,this.isFieldParameters=!1,this.isFieldParameters=this.featureSwitchService.featureSwitches.fieldParameters}return c.prototype.ngOnInit=function(){this.availableDataTypes=this.viewModel.availableDataTypes.map(function(d){return{name:d.name,property:d.type}}),this.selectedDataType={name:this.viewModel.selectedDataType.name,property:this.viewModel.selectedDataType.type}},c.\u0275fac=function(o){return new(o||c)(r.\u0275\u0275directiveInject(x.vZ))},c.\u0275cmp=r.\u0275\u0275defineComponent({type:c,selectors:[["what-if-parameter"]],inputs:{parameterFormGroup:"parameterFormGroup",viewModel:"viewModel"},decls:39,vars:40,consts:[[3,"ngClass"],[3,"formGroup"],[1,"sectionSettings"],["localize","Name"],["type","text","localize-tooltip","Name","formControlName","name","role","textbox",1,"pbi-text-input"],["localize","DataType_Title"],["formControlName","dataType",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["localize","ConditionalFormattingDialog_MinimumHeader"],["formControlName","start",3,"useModernStyles","ngClass"],["localize","ConditionalFormattingDialog_MaximumHeader"],["formControlName","end",3,"useModernStyles","ngClass"],["localize","WhatifParameterDialog_Step"],["formControlName","step",3,"useModernStyles","ngClass"],["localize","Default"],["type","text","formControlName","defaultValue",1,"pbi-small-text-input"],[1,"checkBoxSettings","whatIf"],["formControlName","addVisualToCanvas",3,"label","ariaLabel"],[3,"value"]],template:function(o,t){1&o&&(r.\u0275\u0275elementStart(0,"div",0)(1,"dialog-body")(2,"form",1)(3,"section",2)(4,"fieldset"),r.\u0275\u0275element(5,"legend",3)(6,"input",4),r.\u0275\u0275pipe(7,"localize"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(8,"section",2)(9,"fieldset"),r.\u0275\u0275element(10,"legend",5),r.\u0275\u0275elementStart(11,"pbi-dropdown",6),r.\u0275\u0275listener("ngModelChange",function(a){return t.selectedDataType=a}),r.\u0275\u0275elementStart(12,"pbi-dropdown-trigger")(13,"p"),r.\u0275\u0275text(14),r.\u0275\u0275elementEnd()(),r.\u0275\u0275template(15,Pe,3,2,"pbi-dropdown-item",7),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(16,"section",2)(17,"fieldset"),r.\u0275\u0275element(18,"legend",8)(19,"num-up-down",9),r.\u0275\u0275pipe(20,"localize"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(21,"fieldset"),r.\u0275\u0275element(22,"legend",10)(23,"num-up-down",11),r.\u0275\u0275pipe(24,"localize"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(25,"section",2)(26,"fieldset"),r.\u0275\u0275element(27,"legend",12)(28,"num-up-down",13),r.\u0275\u0275pipe(29,"localize"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(30,"fieldset"),r.\u0275\u0275element(31,"legend",14)(32,"input",15),r.\u0275\u0275pipe(33,"localize"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(34,"section",16)(35,"fieldset"),r.\u0275\u0275element(36,"pbi-checkbox",17),r.\u0275\u0275pipe(37,"localize"),r.\u0275\u0275pipe(38,"localize"),r.\u0275\u0275elementEnd()()()()()),2&o&&(r.\u0275\u0275property("ngClass",r.\u0275\u0275pureFunction1(32,be,t.isFieldParameters)),r.\u0275\u0275advance(2),r.\u0275\u0275property("formGroup",t.parameterFormGroup),r.\u0275\u0275advance(4),r.\u0275\u0275attribute("aria-label",r.\u0275\u0275pipeBind1(7,18,"Name")),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngModel",t.selectedDataType),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(t.selectedDataType.name),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",t.availableDataTypes),r.\u0275\u0275advance(4),r.\u0275\u0275property("useModernStyles",!0)("ngClass",r.\u0275\u0275pureFunction1(34,N,null==t.parameterFormGroup.errors?null:t.parameterFormGroup.errors.startError)),r.\u0275\u0275attribute("aria-label",r.\u0275\u0275pipeBind1(20,20,"ConditionalFormattingDialog_MinimumHeader")),r.\u0275\u0275advance(4),r.\u0275\u0275property("useModernStyles",!0)("ngClass",r.\u0275\u0275pureFunction1(36,N,null==t.parameterFormGroup.errors?null:t.parameterFormGroup.errors.endError)),r.\u0275\u0275attribute("aria-label",r.\u0275\u0275pipeBind1(24,22,"ConditionalFormattingDialog_MaximumHeader")),r.\u0275\u0275advance(5),r.\u0275\u0275property("useModernStyles",!0)("ngClass",r.\u0275\u0275pureFunction1(38,N,null==t.parameterFormGroup.errors?null:t.parameterFormGroup.errors.stepError)),r.\u0275\u0275attribute("aria-label",r.\u0275\u0275pipeBind1(29,24,"WhatifParameterDialog_Step")),r.\u0275\u0275advance(4),r.\u0275\u0275attribute("aria-label",r.\u0275\u0275pipeBind1(33,26,"Default")),r.\u0275\u0275advance(4),r.\u0275\u0275property("label",r.\u0275\u0275pipeBind1(37,28,"WhatifParameterDialog_AddVisualToCanvas"))("ariaLabel",r.\u0275\u0275pipeBind1(38,30,"WhatifParameterDialog_AddVisualToCanvas")))},dependencies:[P.NgClass,P.NgForOf,Ce.H,C._Y,C.Fj,C.JJ,C.JL,k.X,te.r,he.x4,W.v,F.H,U.r,G._,F.T,C.sg,C.u,z.F],styles:['[_nghost-%COMP%]{--colorPlaceholderLabel: var(--gray-160)}[data-legacy-theming=false]   [_nghost-%COMP%]{--colorPlaceholderLabel: var(--colorNeutralForeground2)}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{overflow:unset}[_nghost-%COMP%]   legend[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-label[_ngcontent-%COMP%]{color:var(--colorNeutralForeground1)}[_nghost-%COMP%]     pbi-tree cdk-tree pbi-tree-node{overflow:hidden}[_nghost-%COMP%]   fieldset[_ngcontent-%COMP%]{border:none;margin-left:0;margin-right:0;padding-left:0;padding-right:0}[_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   num-up-down[_ngcontent-%COMP%], [_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%], [_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]     div.inputRange.unit-numupdown{font-size:var(--md-font-size, 14px);width:170px;height:32px}[_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], [_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   num-up-down.error[_ngcontent-%COMP%]     div.inputRange{border-color:var(--fluent-theme-error-dark-color, #A80000)}[_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px)}[_nghost-%COMP%]   .checkBoxSettings[_ngcontent-%COMP%]{width:max-content;height:35px;padding-left:3px}[_nghost-%COMP%]   .checkBoxSettings[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]   .checkBoxSettings[_ngcontent-%COMP%]   pbi-checkbox[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%], [_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   num-up-down[_ngcontent-%COMP%]     div.inputRange.unit-numupdown{width:307px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%], [_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .checkBoxSettings.fields[_ngcontent-%COMP%]{margin-top:40px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .checkBoxSettings.whatIf[_ngcontent-%COMP%]{margin-top:123px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   mat-dialog-actions.mat-mdc-dialog-actions.actionButtons[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   mat-dialog-actions.mat-mdc-dialog-actions.actionButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]{height:288px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{height:344px;margin-top:20px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]{width:307px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker{height:268px;width:307px;margin-top:4px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker:focus-within{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker span.placeholder{outline:none}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker span.placeholder label{color:var(--colorPlaceholderLabel);padding-bottom:241px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker span.content{height:14px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .pbiTree[_ngcontent-%COMP%]     pbi-field-list{height:338px;margin-top:4px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .pbiTree[_ngcontent-%COMP%]     pbi-field-list pbi-search-box input{width:307px;height:32px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .pbiTree[_ngcontent-%COMP%]     pbi-field-list pbi-search-box:before{padding-top:4px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .pbiTree[_ngcontent-%COMP%]   pbi-tree[_ngcontent-%COMP%]{flex:1}'],changeDetection:0}),c}();function Me(c,d){if(1&c&&(r.\u0275\u0275elementStart(0,"pbi-dropdown-item",13)(1,"span"),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd()()),2&c){var o=d.$implicit;r.\u0275\u0275property("value",o),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(o.name)}}function De(c,d){if(1&c){var o=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div")(1,"p",8),r.\u0275\u0275element(2,"a",9),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(3,"mat-label",10),r.\u0275\u0275elementStart(4,"pbi-dropdown",11),r.\u0275\u0275listener("ngModelChange",function(a){r.\u0275\u0275restoreView(o);var i=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(i.selectedParameterType=a)})("valueChange",function(a){r.\u0275\u0275restoreView(o);var i=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(i.onParameterTypeChange(a))}),r.\u0275\u0275elementStart(5,"pbi-dropdown-trigger")(6,"p"),r.\u0275\u0275text(7),r.\u0275\u0275elementEnd()(),r.\u0275\u0275template(8,Me,3,2,"pbi-dropdown-item",12),r.\u0275\u0275elementEnd()()}if(2&c){var t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(4),r.\u0275\u0275property("ngModel",t.selectedParameterType),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(t.selectedParameterType.name),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",t.listOfParameterTypes)}}function Oe(c,d){if(1&c&&r.\u0275\u0275element(0,"what-if-parameter",14),2&c){var o=r.\u0275\u0275nextContext();r.\u0275\u0275property("viewModel",o.data.viewModel)("parameterFormGroup",o.parameterFormGroupMap.get("WhatIf"))}}function ye(c,d){if(1&c&&r.\u0275\u0275element(0,"report-parameter",15),2&c){var o=r.\u0275\u0275nextContext();r.\u0275\u0275property("dataSources",o.data.dataSources)("parameterFormGroup",o.parameterFormGroupMap.get("Report"))}}function xe(c,d){1&c&&r.\u0275\u0275element(0,"mat-divider",16)}var we=function(d){return{fieldParameters:d}},re=function(){function c(d,o,t,n,a){this.data=d,this.dialog=o,this.featureSwitchService=t,this.localizationService=n,this.screenReaderService=a,this.isFieldParameters=!1,this.parameterFormGroupMap=new Map,this.listOfParameterTypes=[{name:this.localizationService.get("FieldParameter_NumericRange"),property:"WhatIf"},{name:this.localizationService.get("FieldParameter_Fields"),property:"Report"}],this.selectedParameterType=this.listOfParameterTypes.find(function(u){return u.property===d.parameterType}),this.isFieldParameters=this.featureSwitchService.featureSwitches.fieldParameters;var i=this.data.viewModel,s=(0,v.tZ)(i),l=e(i.name,i.addVisualToCanvas,[]);this.parameterFormGroupMap.set("WhatIf",(0,v.cJ)(s)),this.parameterFormGroupMap.set("Report",function(c){return new C.nJ({name:new C.p4(c.name,C.kI.required),addVisualToCanvas:new C.p4(c.addVisualToCanvas),fields:new C.p4(c.fields,C.kI.required)})}(l)),this.currentParameterFormGroup=this.parameterFormGroupMap.get(d.parameterType)}return c.prototype.ngOnInit=function(){if(this.isFieldParameters){var d=this.localizationService.get("Generic_LearnMore"),o=this.localizationService.format("FieldParameter_summary",[d]),t=this.screenReaderService.concatMessages([this.localizationService.get("Parameters"),o]);this.screenReaderService.alert(t)}else this.screenReaderService.alert(this.localizationService.get("WhatifParameterDialog_Title"))},c.prototype.apply=function(){var t,d=this.currentParameterFormGroup.value;switch(this.selectedParameterType.property){case"WhatIf":t=(0,v.RS)(d);break;case"Report":t=function(c){var d=0,o=0,t=0,n=c.fields.map(function(i,s){var u,l=JSON.parse(i.id);switch(l.propertyType){case 0:switch(l.kind){case 0:d++;break;case 1:o++}break;case 2:u=l.hierarchyLevelName,t++}return{table:l.entityName,field:l.fieldName,ordinal:s,hierarchyLevel:u,caption:i.label}});return{name:c.name,addVisualToCanvas:c.addVisualToCanvas,fields:n,numberOfColumnsUsed:d,numberOfMeasuresUsed:o,numberOfDateHierarchyLevelsUsed:t}}(d)}this.dialog.close(t)},c.prototype.close=function(){this.dialog.close()},c.prototype.onParameterTypeChange=function(d){var o=this.data.viewModel,t=(0,v.tZ)(o),n=e(o.name,o.addVisualToCanvas,[]);this.parameterFormGroupMap.get("WhatIf").reset(t),this.parameterFormGroupMap.get("Report").reset(n);var a=d.property;this.selectedParameterType=this.listOfParameterTypes.find(function(i){return i.property===a}),this.currentParameterFormGroup=this.parameterFormGroupMap.get(a)},c.\u0275fac=function(o){return new(o||c)(r.\u0275\u0275directiveInject(y.WI),r.\u0275\u0275directiveInject(y.so),r.\u0275\u0275directiveInject(x.vZ),r.\u0275\u0275directiveInject(L.o),r.\u0275\u0275directiveInject(S.g))},c.\u0275cmp=r.\u0275\u0275defineComponent({type:c,selectors:[["ng-component"]],decls:10,vars:14,consts:[[1,"pbi-dialog-frame"],[3,"title","close"],[1,"container","themeableElement",3,"ngClass"],[4,"ngIf"],[3,"viewModel","parameterFormGroup",4,"ngIf"],[3,"dataSources","parameterFormGroup",4,"ngIf"],["class","dialog-actions-separator",4,"ngIf"],[3,"okText","disableOk","okAction","cancelAction"],["localize","FieldParameter_summary","localize-fragments","",1,"unselectable","fluentTheme-md-reg","field-parameter-summary"],["target","_blank","fragment-index","0","href","https://go.microsoft.com/fwlink/?linkid=2170625","localize","Generic_LearnMore",1,"pbi-external-link"],["localize","FieldParameter_whichParameter",1,"unselectable","fluentTheme-md-semiBold"],[3,"ngModel","ngModelChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"viewModel","parameterFormGroup"],[3,"dataSources","parameterFormGroup"],[1,"dialog-actions-separator"]],template:function(o,t){1&o&&(r.\u0275\u0275elementStart(0,"div",0)(1,"dialog-header",1),r.\u0275\u0275listener("close",function(){return t.close()}),r.\u0275\u0275pipe(2,"localize"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",2),r.\u0275\u0275template(4,De,9,3,"div",3),r.\u0275\u0275template(5,Oe,1,2,"what-if-parameter",4),r.\u0275\u0275template(6,ye,1,2,"report-parameter",5),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(7,xe,1,0,"mat-divider",6),r.\u0275\u0275elementStart(8,"dialog-footer",7),r.\u0275\u0275listener("okAction",function(){return t.apply()})("cancelAction",function(){return t.close()}),r.\u0275\u0275pipe(9,"localize"),r.\u0275\u0275elementEnd()()),2&o&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("title",r.\u0275\u0275pipeBind1(2,8,t.isFieldParameters?"Parameters":"WhatifParameterDialog_Title")),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngClass",r.\u0275\u0275pureFunction1(12,we,t.isFieldParameters)),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.isFieldParameters),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","WhatIf"===t.selectedParameterType.property),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","Report"===t.selectedParameterType.property),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.isFieldParameters),r.\u0275\u0275advance(1),r.\u0275\u0275property("okText",r.\u0275\u0275pipeBind1(9,10,t.isFieldParameters?"Create_ButtonText":"OK_ButtonText"))("disableOk",!t.currentParameterFormGroup||t.currentParameterFormGroup&&t.currentParameterFormGroup.invalid))},dependencies:[P.NgClass,P.NgForOf,P.NgIf,b.A,M.g,C.JJ,C.On,k.X,A.d,F.H,U.r,G._,F.T,ne,oe,z.F],styles:['[_nghost-%COMP%]   mat-label[_ngcontent-%COMP%]{color:var(--colorNeutralForeground1)}.pbi-dialog-frame[_ngcontent-%COMP%]{display:flex;flex-direction:column}.pbi-dialog-frame[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:100 100 auto;overflow-y:auto}.pbi-dialog-frame[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   p.unselectable[_ngcontent-%COMP%]{margin:0 0 16px}.pbi-dialog-frame[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:4px;width:307px;height:32px}.pbi-dialog-frame[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%]   pbi-dropdown-trigger[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}.pbi-dialog-frame[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   report-parameter[_ngcontent-%COMP%]{overflow:hidden}.pbi-dialog-frame[_ngcontent-%COMP%]   .dialog-actions-separator[_ngcontent-%COMP%]{padding-bottom:18px;color:var(--gray-30, #EDEBE9);margin:0 -50px}.pbi-dialog-frame[_ngcontent-%COMP%]   .field-parameter-summary[_ngcontent-%COMP%]{color:var(--colorNeutralForeground1)}'],changeDetection:0}),c}(),Te=p(79061),ke=p(96327),Ee=p(76966),Ie=p(91382),Se=p(47913),Fe=p(56598),Le=p(6015),Ae=p(63654),Re=p(14525),Be=p(16095),ie=function(){function c(){}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=r.\u0275\u0275defineInjector({imports:[P.CommonModule,ke.F,Ee.c.withManifest([{componentIdentifier:I.V,componentType:re}]),C.u5,Te.v,A.t,Ie.d,Se.V,Fe.K,Le.C,Ae.X,Re.g,Be.Z,C.UX]}),c}()},4722:function(Ve,E,p){p.d(E,{HV:function(){return Be},X:function(){return ae},ri:function(){return c}});var I=p(81337),C=p(64560),T=p(93247),e=p(50423),O=p(17174),v=p(62458),y=p(59694),r=p(14172),x=p(59973),L=p(22318),S=p(6663),P=p(35497),b=p(65181),M=p(77476),k=p(23097),A=p(59968),F=p(44581),U=p(24150),G=p(86663),w=p(80357),D=p(45916),H=p(36858),le=p(85102),K=["dragDropPicker"],se=["clearButton"],j=["contentLabel"],Q=["listOfData"],Z=function(){return[]},$=function(t,n){return{nonEmptyDisplayDataList:t,isTopLevel:!0,rootToParentIndices:n}};function J(o,t){if(1&o&&e.\u0275\u0275elementContainer(0,7),2&o){var n=e.\u0275\u0275nextContext(),a=e.\u0275\u0275reference(5);e.\u0275\u0275property("ngTemplateOutlet",a)("ngTemplateOutletContext",e.\u0275\u0275pureFunction2(3,$,n.listOfPbiDisplayData,e.\u0275\u0275pureFunction0(2,Z)))}}function Y(o,t){if(1&o){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275listener("drop",function(i){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.handleDrop(i))})("dragover",function(i){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(!s.isItRedundantPositionToDropCurrentData("end")&&s.handleDragover(i))})("dragenter",function(){e.\u0275\u0275restoreView(n);var i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.handleDragEnterListEndArea())})("dragleave",function(){e.\u0275\u0275restoreView(n);var i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.handleDragLeaveListEndArea())}),e.\u0275\u0275elementEnd()}}var R=function(t){return{highlight:t}};function B(o,t){if(1&o){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275listener("dragenter",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext().index,l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.handleDragEnterPosition([s]))})("dragleave",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext().index,l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.handleDragLeavePosition([s]))})("dragover",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(!l.isItRedundantPositionToDrop()&&l.handleDragover(s))})("drop",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.handleDrop(s))}),e.\u0275\u0275elementEnd()}if(2&o){var a=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,R,a.highlight))}}function X(o,t){1&o&&e.\u0275\u0275elementContainer(0)}function q(o,t){1&o&&e.\u0275\u0275elementContainer(0)}function pe(o,t){1&o&&e.\u0275\u0275elementContainer(0)}var ce=function(t,n){return{nonEmptyDisplayDataList:t,isTopLevel:!1,rootToParentIndices:n}};function de(o,t){if(1&o&&e.\u0275\u0275elementContainer(0,7),2&o){var n=e.\u0275\u0275nextContext(2),a=n.$implicit,i=n.index,s=e.\u0275\u0275nextContext().rootToParentIndices;e.\u0275\u0275nextContext();var l=e.\u0275\u0275reference(5);e.\u0275\u0275property("ngTemplateOutlet",l)("ngTemplateOutletContext",e.\u0275\u0275pureFunction2(2,ce,a.children,s.concat(i)))}}var V=function(t,n,a){return{$implicit:t,position:n,field:a}};function ge(o,t){if(1&o&&e.\u0275\u0275elementContainer(0,7),2&o){var n=e.\u0275\u0275nextContext(2),a=n.index,i=n.$implicit,s=e.\u0275\u0275nextContext().rootToParentIndices,l=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngTemplateOutlet",l.pbiDragDropPickerActionsTemplate)("ngTemplateOutletContext",e.\u0275\u0275pureFunction3(2,V,l.picker,s.concat(a),i))}}var ee=function(t){return{compact:t}},te=function(t,n,a,i){return{isTopLevel:t,displayData:n,allowDrag:a,position:i}},W=function(t){return{position:t}};function me(o,t){if(1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",21)(2,"div",22),e.\u0275\u0275template(3,X,1,0,"ng-container",23),e.\u0275\u0275template(4,q,1,0,"ng-container",23),e.\u0275\u0275template(5,pe,1,0,"ng-container",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,de,1,5,"ng-container",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,ge,1,6,"ng-container",24),e.\u0275\u0275elementContainerEnd()),2&o){var n=e.\u0275\u0275nextContext(),a=n.$implicit,i=n.index,s=e.\u0275\u0275reference(7),l=e.\u0275\u0275reference(11),u=e.\u0275\u0275nextContext(),m=u.isTopLevel,f=u.rootToParentIndices,h=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(9,ee,h.compact)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",s)("ngTemplateOutletContext",e.\u0275\u0275pureFunction4(11,te,m,a,!a.isEditing&&(h.draggable||!h.allowMultipleValues)&&m,f.concat(i))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",h.itemPromotedActionTemplate)("ngTemplateOutletContext",e.\u0275\u0275pureFunction3(16,V,h.picker,f.concat(i),a)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",l)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(20,W,f.concat(i))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==a.children?null:a.children.length)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",m)}}function ue(o,t){1&o&&e.\u0275\u0275elementContainer(0)}function z(o,t){1&o&&e.\u0275\u0275elementContainer(0)}function _e(o,t){1&o&&e.\u0275\u0275elementContainer(0)}var fe=function(t,n,a){return{isTopLevel:!0,displayData:t,allowDrag:n,position:a}};function ve(o,t){if(1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ue,1,0,"ng-container",23),e.\u0275\u0275template(2,z,1,0,"ng-container",23),e.\u0275\u0275template(3,_e,1,0,"ng-container",23),e.\u0275\u0275elementContainerEnd()),2&o){var n=e.\u0275\u0275nextContext(),a=n.$implicit,i=n.index,s=e.\u0275\u0275reference(7),l=e.\u0275\u0275reference(11),u=e.\u0275\u0275nextContext().rootToParentIndices,m=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",s)("ngTemplateOutletContext",e.\u0275\u0275pureFunction3(6,fe,a,!a.isEditing&&(m.draggable||!m.allowMultipleValues),u.concat(i))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",m.pbiDragDropPickerActionsTemplate)("ngTemplateOutletContext",e.\u0275\u0275pureFunction3(10,V,m.picker,u.concat(i),a)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",l)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(14,W,u.concat(i)))}}var ne=function(t){return{width:t}};function Ce(o,t){if(1&o&&e.\u0275\u0275element(0,"div",32),2&o){var n=e.\u0275\u0275nextContext().position;e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(1,ne,8*(n.length-1)+"px"))}}function he(o,t){if(1&o&&e.\u0275\u0275element(0,"pbi-icon",33),2&o){var n=e.\u0275\u0275nextContext().displayData,a=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("name",n.icon.glyph)("size",a.smallIconSize)}}function Pe(o,t){if(1&o&&e.\u0275\u0275element(0,"pbi-svg-use-symbol",34),2&o){var n=e.\u0275\u0275nextContext().displayData;e.\u0275\u0275property("ngStyle",n.icon.styles)("sheet",n.icon.sheet)("symbolId",n.icon.symbolId)}}function be(o,t){if(1&o){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"input",35),e.\u0275\u0275listener("ngModelChange",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext().displayData;return e.\u0275\u0275resetView(l.value=s)})("keydown",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext().position,u=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(u.handleKeyDown(s,l))})("blur",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext().position,l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.endEditSection(s))}),e.\u0275\u0275elementEnd()}if(2&o){var a=e.\u0275\u0275nextContext().displayData;e.\u0275\u0275property("ngModel",a.value)}}var N=function(t,n){return{showHover:t,interactable:n}};function oe(o,t){if(1&o){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25,26),e.\u0275\u0275listener("singleClickAction",function(){var f=e.\u0275\u0275restoreView(n).position;e.\u0275\u0275nextContext();var h=e.\u0275\u0275reference(3),g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.v2Design&&!g.disableContentClick&&g.handleContentClick(h,f))})("doubleClickAction",function(){var f=e.\u0275\u0275restoreView(n).position,h=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(h.beginEditSection(f))})("accessible-click",function(){var f=e.\u0275\u0275restoreView(n).position;e.\u0275\u0275nextContext();var h=e.\u0275\u0275reference(3),g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.v2Design&&!g.disableContentClick&&g.handleContentClick(h,f))})("keydown.F2",function(){var m=e.\u0275\u0275restoreView(n),f=m.displayData,h=m.position,g=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(f.allowEditing&&!f.isEditing?g.beginEditSection(h):g.return)})("keydown.arrowRight",function(m){e.\u0275\u0275restoreView(n);var f=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(f.focusClearButton(m.target))})("contextmenu",function(m){e.\u0275\u0275restoreView(n);var f=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(f.onContextMenu(m))})("dragstart",function(m){var f=e.\u0275\u0275restoreView(n),h=f.allowDrag,g=f.position,We=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(h&&We.handleDragItemStart(m,g))})("dragend",function(){var f=e.\u0275\u0275restoreView(n).allowDrag,h=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(f&&h.handleDragItemEnd())})("dragover",function(m){var h=e.\u0275\u0275restoreView(n).allowDrag,g=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(h&&!g.allowMultipleValues?g.handleDragover(m):g.return)})("drop",function(m){var h=e.\u0275\u0275restoreView(n).allowDrag,g=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(h&&!g.allowMultipleValues?g.handleDrop(m):g.return)})("pbiMenuButtonClick",function(m){var h=e.\u0275\u0275restoreView(n).position,g=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(g.handleMenuItemClick(m,h))}),e.\u0275\u0275template(2,Ce,1,3,"div",27),e.\u0275\u0275elementStart(3,"div",28),e.\u0275\u0275template(4,he,1,2,"pbi-icon",29),e.\u0275\u0275template(5,Pe,1,3,"pbi-svg-use-symbol",30),e.\u0275\u0275template(6,be,1,1,"input",31),e.\u0275\u0275elementEnd()()}if(2&o){var a=t.displayData,i=t.isTopLevel;e.\u0275\u0275nextContext();var s=e.\u0275\u0275reference(9),l=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("id","contentLabelId"+l.uid)("ngClass",e.\u0275\u0275pureFunction2(28,N,a.interactionAvailable&&!a.isEditing&&!l.disableHover,a.interactionAvailable))("ngStyle",a.pbiStyle)("disabled",l.v2Design&&null==a.menu)("pbiMenu",l.v2Design?a.menu:null)("menuMode",null!=l.menuMode?l.menuMode:l.CompactMenuMode)("pbiMenuActivation",l.v2Design&&a.menu?"contextmenu":null)("draggable",!a.isEditing&&l.draggable&&!l.disabled)("singleClickDisabled",a.isEditing)("pbiTooltip",s)("pbiTooltipDisabled",l.disableHover)("pbiTooltipPosition",l.calculatedTooltipPosition)("pbiTooltipWithFlexiblePositions",l.tooltipWithFlexiblePositions)("doubleClickDisabled",!a.allowEditing||a.isEditing)("accessible-click-ignore-mouse",!0)("accessible-click-ignore-tabindex",!l.v2Design&&!a.allowEditing),e.\u0275\u0275attribute("role",l.v2Design?"button":null)("aria-haspopup",!!l.v2Design||null)("aria-labelledby",l.ariaLabelledby+" contentLabelId"+l.uid),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!i),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",null==a.icon?null:a.icon.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",l.PbiIconGlyphKind),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",l.PbiIconSvgKind),e.\u0275\u0275advance(1),e.\u0275\u0275property("pbiEditableLabel",l.editableLabelOptions)("pbiEditableLabelValue",a.value)("pbiEditableLabelMode",a.isEditing)("pbiEditableLabelEditable",a.isEditing)("pbiEditableLabelClasses",l.editableLabelClasses)}}function Me(o,t){if(1&o&&e.\u0275\u0275element(0,"div",38),2&o){var n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("textContent",n.customTooltipContent.description)}}function De(o,t){if(1&o&&(e.\u0275\u0275element(0,"div",36),e.\u0275\u0275template(1,Me,1,1,"div",37)),2&o){var n=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("textContent",a.useCustomTooltip?null==n.customTooltipContent?null:n.customTooltipContent.title:n.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.useCustomTooltip&&(null==n.customTooltipContent?null:n.customTooltipContent.description))}}function Oe(o,t){if(1&o){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",40,41),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext().position,u=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(u.handleClear(l))})("keydown.arrowLeft",function(l){e.\u0275\u0275restoreView(n);var u=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(u.focusContentLabel(l.target))})("keydown.arrowRight",function(l){e.\u0275\u0275restoreView(n);var u=e.\u0275\u0275nextContext().position,m=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(m.handleClearButtonArrowRight(l.target,u))}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()}if(2&o){var a=e.\u0275\u0275nextContext(2).$implicit,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("tabindex",i.disableClearButtonTabNavigation?-1:0)("pbiTooltip",e.\u0275\u0275pipeBind1(2,3,"FieldPicker_RemoveData"))("aria-label",a.removeDataAriaLabel)}}function ye(o,t){if(1&o&&e.\u0275\u0275template(0,Oe,3,5,"button",39),2&o){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngIf",n.allowClear&&!n.disabled)}}function xe(o,t){if(1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,B,1,3,"div",14),e.\u0275\u0275elementStart(2,"span",15,16),e.\u0275\u0275template(4,me,8,22,"ng-container",13),e.\u0275\u0275template(5,ve,4,16,"ng-container",13),e.\u0275\u0275template(6,oe,7,31,"ng-template",null,17,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(8,De,2,2,"ng-template",null,18,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(10,ye,1,1,"ng-template",null,19,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&o){var n=t.$implicit,a=e.\u0275\u0275nextContext().isTopLevel,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("error",n.invalid),e.\u0275\u0275attribute("role",i.v2Design?"listitem":null)("aria-level",i.v2Design?1:null)("aria-setsize",i.v2Design?1:null)("aria-posinset",i.v2Design?1:null),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.v2Design),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.v2Design)}}function we(o,t){if(1&o&&e.\u0275\u0275element(0,"div",42),2&o){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,R,n.shouldHighlightLastItemBottom))}}var re=function(t){return{showListEndDropZone:t}};function Te(o,t){if(1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementContainer(1,7),e.\u0275\u0275elementContainerEnd()),2&o){var n=e.\u0275\u0275nextContext().nonEmptyDisplayDataList;e.\u0275\u0275nextContext();var a=e.\u0275\u0275reference(9);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",a)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,re,n.length>0))}}var ke=function(t){return{childrenContentContainer:t}};function Ee(o,t){if(1&o&&(e.\u0275\u0275elementStart(0,"div",9,10),e.\u0275\u0275template(2,xe,12,9,"ng-container",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,we,1,3,"div",12),e.\u0275\u0275template(4,Te,2,4,"ng-container",13)),2&o){var n=t.nonEmptyDisplayDataList,a=t.isTopLevel,i=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(5,ke,!a)),e.\u0275\u0275attribute("role",i.v2Design?"list":null),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.v2Design||!i.allowMultipleValues),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.v2Design&&i.allowMultipleValues&&a)}}function Ie(o,t){if(1&o){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",44),e.\u0275\u0275listener("drop",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.handleDrop(s))})("dragover",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.handleDragover(s))}),e.\u0275\u0275elementStart(1,"label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()}if(2&o){var a=e.\u0275\u0275nextContext(2);e.\u0275\u0275attribute("aria-label",a.placeholder),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(a.placeholder)}}function Se(o,t){if(1&o&&e.\u0275\u0275template(0,Ie,3,2,"span",43),2&o){var n=e.\u0275\u0275nextContext(),a=e.\u0275\u0275reference(9);e.\u0275\u0275property("ngIf",!n.v2Design)("ngIfElse",a)}}function Fe(o,t){if(1&o&&e.\u0275\u0275element(0,"div",50),2&o){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,R,n.shouldHighlightLastItemBottom))}}function Le(o,t){if(1&o){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",46,47),e.\u0275\u0275listener("accessible-click",function(u){e.\u0275\u0275restoreView(n);var m=e.\u0275\u0275reference(1),f=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(f.handleAddDataClick(u,m))})("drop",function(u){e.\u0275\u0275restoreView(n);var m=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(m.handleDrop(u))})("dragenter",function(){e.\u0275\u0275restoreView(n);var u=e.\u0275\u0275nextContext().showListEndDropZone,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u?m.handleDragEnterListEndArea():m.return)})("dragleave",function(){e.\u0275\u0275restoreView(n);var u=e.\u0275\u0275nextContext().showListEndDropZone,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u?m.handleDragLeaveListEndArea():m.return)})("dragover",function(u){e.\u0275\u0275restoreView(n);var m=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(m.handleDragOverAddDataArea(u))}),e.\u0275\u0275template(2,Fe,1,3,"div",48),e.\u0275\u0275element(3,"label",49),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()}if(2&o){var s,a=e.\u0275\u0275nextContext().showListEndDropZone,i=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(8,ee,i.compact)),e.\u0275\u0275attribute("aria-labelledby",i.ariaLabelledby+" addDataLabelId"+i.uid),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("localize",i.addDataLabelKey),e.\u0275\u0275property("id","addDataLabelId"+i.uid),e.\u0275\u0275attribute("aria-label",null!==(s=i.addDataAriaLabelKey)&&void 0!==s?s:e.\u0275\u0275pipeBind1(4,6,"Add_Data"))}}function Ae(o,t){if(1&o&&e.\u0275\u0275template(0,Le,5,10,"span",45),2&o){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",n.v2Design)}}var Re=function(t,n,a,i,s){return{empty:t,disabled:n,v2Design:a,disableDropZoneIndicator:i,compact:s}},Be=function(){function o(t,n){this.changeDetectorRef=t,this.localizationService=n,this.CompactMenuMode=C.Kb.Compact,this.PbiIconGlyphKind=0,this.PbiIconSvgKind=1,this.listOfPbiDisplayData=[],this.smallIconSize="small",this.shouldHighlightLastItemBottom=!1,this.draggingToPosition="end",this.allowClear=!0,this.data=[],this.dataFormat="text",this.allowMultipleValues=!1,this.allowEditingLabelsSetting="allDisallow",this.v2Design=!1,this.onChangeAdd=new e.EventEmitter,this.onChangeRemove=new e.EventEmitter,this.onChangeReorder=new e.EventEmitter,this.onChangeReplace=new e.EventEmitter,this.onChangeLabelUpdate=new e.EventEmitter,this.onCrossPickerDrop=new e.EventEmitter,this.onAddDataClick=new e.EventEmitter,this.onContentClick=new e.EventEmitter,this.onMenuItemClick=new e.EventEmitter,this.onClearButtonArrowRight=new e.EventEmitter,this.editableLabelClasses=["fluentTheme-md-reg","trimmedTextWithEllipsis"],this.uid=P.q.generateShortId(4)}return o.prototype.ngOnInit=function(){var t,n;this.disableHover=!0,this.allowClear=null===(t=this.allowClear)||void 0===t||t,this.addDataLabelKey=null!==(n=this.addDataLabelKey)&&void 0!==n?n:"Plus_Add_Data",this.editableLabelClasses=this.v2Design?["fluentTheme-sm-reg","trimmedTextWithEllipsis"]:["fluentTheme-md-reg","trimmedTextWithEllipsis"],this.editableLabelOptions={customTooltip:!0,disableClick:!0,inputMatchLabelWidth:!1},this.calculatedTooltipPosition=this.tooltipPosition?this.tooltipPosition:this.allowMultipleValues?"before":"above"},o.prototype.ngAfterViewInit=function(){var t=this;this.dragDropPicker.nativeElement.addEventListener("mousemove",function a(){v.fF.assert(function(){return t.disableHover},"Expect hover is disabled"),t.disableHover=!1,t.dragDropPicker.nativeElement.removeEventListener("mousemove",a)}),!this.disableAutoScroll&&(this.scrollToViewSubscription=this.listOfDataAsQueryList.changes.pipe((0,r.U)(function(a){return a.toArray()}),(0,x.h)(function(){return t.allowMultipleValues}),(0,L.O)([]),(0,S.G)()).subscribe(function(a){var i=a[0],s=a[1];null!=t.scrollToIndex&&s?.length>0&&i.length<s.length&&s[t.scrollToIndex].nativeElement.scrollIntoView(),t.resetHighlight(),t.resetDraggingIndex(),t.scrollToIndex=null}))},o.prototype.ngOnDestroy=function(){var t;null===(t=this.scrollToViewSubscription)||void 0===t||t.unsubscribe()},o.prototype.endEditSection=function(t){var n=this.getDisplayDataAtPosition(t);if(n.allowEditing){if(!n.isEditing)return void v.fF.assertFail("Pbi-drag-drop-picker: Attempting to end editing when you are NOT in edit mode");n.isEditing=!1;var a=this.getDataAtPosition(t);v.fF.assertValue(a,"Expect data at the given position exists");var s,i=n.value;if("string"==typeof a){if((0,y.g)(n.value))return void(n.value=a);a!==i&&(s=i)}else{if(!this.allowEmptyLabel&&(0,y.g)(n.value))return void(n.value=a.label);a.label!==i&&(s=(0,I.__assign)((0,I.__assign)({},a),{label:i}))}s&&(this.setDataAtPosition(t,s),this.propagateChange&&this.propagateChange(this.data),this.onChangeLabelUpdate.emit({newLabel:i,position:t}))}},o.prototype.handleKeyDown=function(t,n){(t.keyCode===T.hY||t.keyCode===T.K5)&&!(0,T.Vb)(t)&&this.endEditSection(n),t.stopPropagation()},o.prototype.beginEditSection=function(t){var n=this.getDisplayDataAtPosition(t);if(n.allowEditing){if(n.isEditing)return void v.fF.assertFail("Pbi-drag-drop-picker: Attempting to edit when you are already in edit mode");n.isEditing=!0}},o.prototype.detectChanges=function(){this.changeDetectorRef.detectChanges()},o.prototype.writeValue=function(t){this.data=[],this.listOfPbiDisplayData=[];for(var n=0,a=t;n<a.length;n++)this.addData(a[n])},o.prototype.registerOnChange=function(t){this.propagateChange=t},o.prototype.registerOnTouched=function(t){},o.prototype.setDisabledState=function(t){this.disabled=t},o.prototype.handleDragItemStart=function(t,n){var a,i;if(this.draggable){this.disableHover=!0,this.draggingFromPosition=n;var s={fromGroupId:null===(a=this.externalCrossPickerDragDropMonitor)||void 0===a?void 0:a.groupId,fromComponentId:null===(i=this.externalCrossPickerDragDropMonitor)||void 0===i?void 0:i.componentId,fromPosition:n,data:this.getDataAtPosition(n)};t.dataTransfer.setData(this.dataFormat,JSON.stringify(s))}},o.prototype.handleDragItemEnd=function(){this.disableHover=!1,this.resetDraggingIndex()},o.prototype.handleDragover=function(t){t.preventDefault()},o.prototype.handleDragOverAddDataArea=function(t){var n;this.allowMultipleValues&&0!==this.listOfPbiDisplayData.length?(null===(n=this.draggingFromPosition)||void 0===n?void 0:n[0])!==this.listOfPbiDisplayData.length-1&&this.handleDragover(t):this.handleDragover(t)},o.prototype.handleDragLeavePosition=function(t){this.getDisplayDataAtPosition(t).highlight=!1},o.prototype.handleDragEnterPosition=function(t){this.draggable&&(this.draggingToPosition=t,!this.isItRedundantPositionToDrop(this.draggingFromPosition,t))&&(this.getDisplayDataAtPosition(t).highlight=!0)},o.prototype.handleAddDataClick=function(t,n){this.v2Design&&this.onAddDataClick.emit({type:t.type,overlayOrigin:n})},o.prototype.handleContentClick=function(t,n){var a=this;v.fF.assert(function(){return!a.disableContentClick},"Expect this not to be called if disableContentClick is true"),this.v2Design&&this.onContentClick.emit({overlayOrigin:t,position:n})},o.prototype.handleMenuItemClick=function(t,n){this.v2Design&&this.onMenuItemClick.emit({menuButton:t,position:n})},o.prototype.onContextMenu=function(t){t.stopPropagation(),t.preventDefault()},o.prototype.focusClearButton=function(t){if(this.clearButtonQueryList){var n=this.contentLabelQueryList.toArray().findIndex(function(a){return a.nativeElement===t});this.clearButtonQueryList.get(n).nativeElement.focus()}},o.prototype.focusContentLabel=function(t){if(this.contentLabelQueryList){var n=this.clearButtonQueryList.toArray().findIndex(function(a){return a.nativeElement===t});this.contentLabelQueryList.get(n).nativeElement.focus()}},o.prototype.handleClearButtonArrowRight=function(t,n){this.onClearButtonArrowRight.emit({currentFocusedClearButton:t,topLevelIndex:_.first(n)})},o.prototype.doesCurrentDragDropReorderItems=function(){return this.doesMoveLocationReorderItems(this.draggingFromPosition,this.draggingToPosition)},o.prototype.doesMoveLocationReorderItems=function(t,n){if(!t)return!1;v.fF.assert(function(){return 1===_.size(t)},"we ONLY handle drag-drop into first level position as of now. Add your implementation for new scenario."),v.fF.assert(function(){return"end"===n||1===_.size(n)},"we ONLY handle drag-drop into first level position as of now. Add your implementation for new scenario.");var a=t[0],i=_.isArray(n)?n[0]:n;return i!==a&&("end"===i?a!==_.size(this.data)-1:i-1!==a)},o.prototype.isItRedundantPositionToDrop=function(t,n){return!!t&&!this.doesMoveLocationReorderItems(t,n)},o.prototype.isItRedundantPositionToDropCurrentData=function(t){return this.isItRedundantPositionToDrop(this.draggingFromPosition,t)},o.prototype.resetHighlight=function(){if(this.draggingFromPosition){var t=this.getDisplayDataAtPosition(this.draggingFromPosition);t&&(t.highlight=!1)}if("end"!==this.draggingToPosition){var n=this.getDisplayDataAtPosition(this.draggingToPosition);n&&(n.highlight=!1)}this.shouldHighlightLastItemBottom=!1},o.prototype.reorderItemsInternal=function(t,n){var a=this;v.fF.assert(function(){return null!=t&&_.inRange(t,0,_.size(a.data))},"expect 0 <= fromIndex < itemsCount"),v.fF.assert(function(){return null!=n&&_.inRange(n,0,_.size(a.data)+1)},"expect 0 <= toIndex <= itemsCount"),t<n&&n--;var i=this.data.splice(t,1)[0];this.data.splice(n,0,i);var s=this.listOfPbiDisplayData.splice(t,1)[0];this.listOfPbiDisplayData.splice(n,0,s),this.propagateChange&&this.propagateChange(this.data)},o.prototype.resetDraggingIndex=function(){this.draggingFromPosition=void 0,this.draggingToPosition="end"},o.prototype.handleDragEnterListEndArea=function(){this.shouldHighlightLastItemBottom=null==this.draggingFromPosition||_.size(this.draggingFromPosition)>1||this.draggingFromPosition[0]!==this.data.length-1,this.draggingToPosition="end"},o.prototype.handleDragLeaveListEndArea=function(){this.shouldHighlightLastItemBottom=!1},o.prototype.handleDrop=function(t){if(t.preventDefault(),t.stopPropagation(),null==this.draggingFromPosition){var n=t.dataTransfer.types;v.fF.assert(function(){return _.size(n)<=1},"We set one drag data format at most in the dragstart event");var a=_.first(n),i=t.dataTransfer.getData(a);if(i){var s=void 0;try{s=JSON.parse(i)}catch{}var l=void 0;if("object"==typeof s)if(function(o){return!!o&&o.hasOwnProperty("fromGroupId")&&o.hasOwnProperty("fromComponentId")&&o.hasOwnProperty("fromPosition")&&o.hasOwnProperty("data")}(s)){if(l=s.data,this.externalCrossPickerDragDropMonitor&&(this.externalCrossPickerDragDropMonitor.groupId!==s.fromGroupId||this.externalCrossPickerDragDropMonitor.componentId!==s.fromComponentId))return this.onCrossPickerDrop.emit({fromGroupId:s.fromGroupId,fromComponentId:s.fromComponentId,fromPosition:s.fromPosition,toGroupId:this.externalCrossPickerDragDropMonitor.groupId,toComponentId:this.externalCrossPickerDragDropMonitor.componentId,toPosition:this.draggingToPosition}),void this.resetHighlight()}else l=s;else l=i;this.handleAdd(l,this.draggingToPosition)}}else this.handleReorder(this.draggingFromPosition,this.draggingToPosition)},o.prototype.handleClear=function(t,n){void 0===n&&(n=!1);var a=ie(this.data,t);ie(this.listOfPbiDisplayData,t),a?(this.propagateChange&&this.propagateChange(this.data),n||this.onChangeRemove.emit({data:a,position:t})):v.fF.assertFail("expect position to be valid")},o.prototype.handleAdd=function(t,n){void 0===n&&(n="end"),this.allowMultipleValues||_.isEmpty(this.data)||"end"!==n&&1!==n.length?(this.addReplaceDataInternal(t,n,!1),this.propagateChange&&this.propagateChange(this.data),this.onChangeAdd.emit({data:t,position:n})):this.handleReplace(t,[0])},o.prototype.handleReplace=function(t,n){this.addReplaceDataInternal(t,n,!0),this.propagateChange&&this.propagateChange(this.data),this.onChangeReplace.emit({data:t,position:n})},o.prototype.addData=function(t){this.addReplaceDataInternal(t,"end",!1)},o.prototype.replaceData=function(t,n){this.addReplaceDataInternal(t,n,!0)},o.prototype.setAllData=function(t){var n=[],a=[];if(!_.isEmpty(t)&&_.every(t,function(m){return!!m}))for(var i=0,s=t;i<s.length;i++){var l=s[i],u=this.getPbiDisplayData(l,this.allowEditingLabelsSetting);if(!u)return;n.push(l),a.push(u)}this.data=n,this.listOfPbiDisplayData=a},o.prototype.handleReorder=function(t,n){var a=this;v.fF.assert(function(){return 1===_.size(t)},"We ONLY support reordering in first-level right now. Add your implementation for new scenario."),v.fF.assert(function(){return"end"===n||1===_.size(n)},"We ONLY support reordering in first-level right now. Add your implementation for new scenario.");var i=t[0],s=_.isArray(n)?n[0]:n;if(v.fF.assert(function(){return null!=i&&_.inRange(i,0,_.size(a.data))},"expect fromIndex to be in valid range"),v.fF.assert(function(){return null!=s&&("end"===s||_.inRange(s,0,_.size(a.data)))},"expect toIndex to be in valid range"),this.resetHighlight(),this.doesMoveLocationReorderItems(t,n)){var l="end"!==s?s:_.size(this.data);this.reorderItemsInternal(i,l),this.onChangeReorder.emit({data:this.data[i],fromPosition:t,toPosition:[l]})}},o.prototype.addReplaceDataInternal=function(t,n,a){if(t){v.fF.assert(function(){return"end"===n||1===_.size(n)},"we ONLY handle add/replace first level position data as of now. Add your implementation for new scenario."),v.fF.assert(function(){return!a||"end"!==n[0]},"replacement index must be a valid number"),!this.allowMultipleValues&&!a&&(this.data.pop(),this.listOfPbiDisplayData.pop());var i=this.getPbiDisplayData(t,this.allowEditingLabelsSetting);if(i){this.resetHighlight();var s=a?1:0;if("end"!==n){var l=n[0];this.data.splice(l,s,t),this.listOfPbiDisplayData.splice(l,s,i),this.scrollToIndex=l}else this.data.push(t),this.scrollToIndex=this.data.length-1,this.listOfPbiDisplayData.push(i)}}},o.prototype.getDataAtPosition=function(t){return ae(this.data,t)},o.prototype.setDataAtPosition=function(t,n){c(this.data,t,function(a,i){a[i]=n})},o.prototype.getDisplayDataAtPosition=function(t){return ae(this.listOfPbiDisplayData,t)},o.prototype.getPbiDisplayData=function(t,n){var i,a=this;if("string"==typeof t){if(""===t)return}else if(0===Object.keys(t).length)return;var s=(i="string"==typeof t?"allAllow"===n:"allAllow"===n||"varyByItem"===n&&!!t.allowEditLabel)||this.v2Design&&!this.disableContentClick||this.v2Design&&"string"!=typeof t&&!!t.menu;return"string"==typeof t?{value:t,allowEditing:i,isEditing:!1,highlight:!1,interactionAvailable:s}:{value:t.label,icon:t.icon,allowEditing:i,isEditing:!1,highlight:!1,interactionAvailable:s,menu:t.menu,customTooltipContent:t.customTooltipContent,children:_.isEmpty(t.children)?void 0:_.map(t.children,function(u){return a.getPbiDisplayData(u,n)}),actionTooltip:t.actionTooltip,removeDataAriaLabel:this.localizationService.format("FieldPicker_RemoveField",t.label),pbiStyle:t.pbiStyle,invalid:t.invalid}},o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(b.o))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["pbi-drag-drop-picker"]],viewQuery:function(n,a){if(1&n&&(e.\u0275\u0275viewQuery(K,5),e.\u0275\u0275viewQuery(se,5),e.\u0275\u0275viewQuery(j,5),e.\u0275\u0275viewQuery(Q,5)),2&n){var i=void 0;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(a.dragDropPicker=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(a.clearButtonQueryList=i),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(a.contentLabelQueryList=i),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(a.listOfDataAsQueryList=i)}},inputs:{pbiDragDropPickerActionsTemplate:"pbiDragDropPickerActionsTemplate",itemPromotedActionTemplate:"itemPromotedActionTemplate",externalCrossPickerDragDropMonitor:"externalCrossPickerDragDropMonitor",allowClear:"allowClear",data:"data",dataFormat:"dataFormat",disabled:"disabled",draggable:"draggable",placeholder:"placeholder",addDataLabelKey:"addDataLabelKey",addDataAriaLabelKey:"addDataAriaLabelKey",allowMultipleValues:"allowMultipleValues",allowEditingLabelsSetting:"allowEditingLabelsSetting",useCustomTooltip:"useCustomTooltip",tooltipPosition:"tooltipPosition",tooltipWithFlexiblePositions:"tooltipWithFlexiblePositions",disableAutoScroll:"disableAutoScroll",disableClearButtonTabNavigation:"disableClearButtonTabNavigation",allowEmptyLabel:"allowEmptyLabel",compact:"compact",disableDropZoneIndicator:"disableDropZoneIndicator",disableContentClick:"disableContentClick",v2Design:"v2Design",menuMode:"menuMode",ariaLabelledby:"ariaLabelledby"},outputs:{onChangeAdd:"onChangeAdd",onChangeRemove:"onChangeRemove",onChangeReorder:"onChangeReorder",onChangeReplace:"onChangeReplace",onChangeLabelUpdate:"onChangeLabelUpdate",onCrossPickerDrop:"onCrossPickerDrop",onAddDataClick:"onAddDataClick",onContentClick:"onContentClick",onMenuItemClick:"onMenuItemClick",onClearButtonArrowRight:"onClearButtonArrowRight"},features:[e.\u0275\u0275ProvidersFeature([{provide:O.JU,useExisting:(0,e.forwardRef)(function(){return o}),multi:!0}])],decls:10,vars:10,consts:[[1,"drag-drop-picker",3,"ngClass"],["dragDropPicker",""],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf","ngIfElse"],["class","dropArea unselectable",3,"drop","dragover","dragenter","dragleave",4,"ngIf"],["nonEmptyDisplayDataListTemplate",""],["showPlaceholder",""],["addData",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"dropArea","unselectable",3,"drop","dragover","dragenter","dragleave"],[3,"ngClass"],["listOfData",""],[4,"ngFor","ngForOf"],["class","dropBetween unselectable",3,"ngClass",4,"ngIf"],[4,"ngIf"],["class","dropBetween unselectable",3,"ngClass","dragenter","dragleave","dragover","drop",4,"ngIf"],[1,"content"],["contentContainer",""],["contentLabelTemplate",""],["tooltipTemplateRef",""],["clearButtonTemplate",""],[1,"dropBetween","unselectable",3,"ngClass","dragenter","dragleave","dragover","drop"],[1,"selfAndChildrenContent"],[1,"selfLevelContentContainer",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["customClick","","pbiTooltipAlwaysShow","true",1,"contentWithIndentationContainer",3,"id","ngClass","ngStyle","disabled","pbiMenu","menuMode","pbiMenuActivation","draggable","singleClickDisabled","pbiTooltip","pbiTooltipDisabled","pbiTooltipPosition","pbiTooltipWithFlexiblePositions","doubleClickDisabled","accessible-click-ignore-mouse","accessible-click-ignore-tabindex","singleClickAction","doubleClickAction","accessible-click","keydown.F2","keydown.arrowRight","contextmenu","dragstart","dragend","dragover","drop","pbiMenuButtonClick"],["contentLabel",""],["class","indentation",3,"ngStyle",4,"ngIf"],[1,"content-label",3,"ngSwitch"],[3,"name","size",4,"ngSwitchCase"],[3,"ngStyle","sheet","symbolId",4,"ngSwitchCase"],["class","editableLabel","spellcheck","false",3,"ngModel","ngModelChange","keydown","blur",4,"pbiEditableLabel","pbiEditableLabelValue","pbiEditableLabelMode","pbiEditableLabelEditable","pbiEditableLabelClasses"],[1,"indentation",3,"ngStyle"],[3,"name","size"],[3,"ngStyle","sheet","symbolId"],["spellcheck","false",1,"editableLabel",3,"ngModel","ngModelChange","keydown","blur"],[1,"tooltipTitle",3,"textContent"],["class","fieldTooltipDescription",3,"textContent",4,"ngIf"],[1,"fieldTooltipDescription",3,"textContent"],["class","glyphicon pbi-glyph-close glyph-mini content-clear pbi-focus-outline unselectable",3,"tabindex","pbiTooltip","aria-label","click","keydown.arrowLeft","keydown.arrowRight",4,"ngIf"],[1,"glyphicon","pbi-glyph-close","glyph-mini","content-clear","pbi-focus-outline","unselectable",3,"tabindex","pbiTooltip","aria-label","click","keydown.arrowLeft","keydown.arrowRight"],["clearButton",""],[1,"dropBetween","unselectable",3,"ngClass"],["class","placeholder","aria-readonly","true","tabIndex","0",3,"drop","dragover",4,"ngIf","ngIfElse"],["aria-readonly","true","tabIndex","0",1,"placeholder",3,"drop","dragover"],["data-testid","add-data-button","class","placeholder","tabIndex","0","role","button","aria-haspopup","true",3,"ngClass","accessible-click","drop","dragenter","dragleave","dragover",4,"ngIf"],["data-testid","add-data-button","tabIndex","0","role","button","aria-haspopup","true",1,"placeholder",3,"ngClass","accessible-click","drop","dragenter","dragleave","dragover"],["addDataButton",""],["class","dropBetween unselectable insidePlaceholder",3,"ngClass",4,"ngIf"],[1,"fluentTheme-sm-reg",3,"localize","id"],[1,"dropBetween","unselectable","insidePlaceholder",3,"ngClass"]],template:function(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0,1),e.\u0275\u0275template(2,J,1,6,"ng-container",2),e.\u0275\u0275template(3,Y,1,0,"div",3),e.\u0275\u0275template(4,Ee,5,7,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(6,Se,1,2,"ng-template",null,5,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(8,Ae,1,1,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&n){var i=e.\u0275\u0275reference(7);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction5(4,Re,a.listOfPbiDisplayData.length<1,a.disabled,a.v2Design,a.disableDropZoneIndicator,a.compact)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.listOfPbiDisplayData.length>0)("ngIfElse",i),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!a.v2Design&&a.allowMultipleValues&&a.listOfPbiDisplayData.length>0)}},dependencies:[M.NgClass,M.NgForOf,M.NgIf,M.NgTemplateOutlet,M.NgStyle,M.NgSwitch,M.NgSwitchCase,k.f,O.Fj,O.JJ,O.On,A.X,F.t,U.D,G._,w.l8,D.R,H.V,le.F],styles:['[_nghost-%COMP%]{--contentBackgroundColor: var(--gray-30);--contentBorderColor: var(--gray-40);--colorActionButton: var(--gray-190);--colorItemHover: var(--gray-60);--grayBackgroundEmpty: var(--gray-20)}[data-legacy-theming=false]   [_nghost-%COMP%]{--contentBackgroundColor: var(--colorNeutralBackground3);--contentBorderColor: var(--colorNeutralStroke1);--colorActionButton: var(--colorNeutralForeground1);--colorItemHover: var(--colorNeutralBackground3Hover);--grayBackgroundEmpty: var(--colorNeutralBackground3)}.placeholder-gray-background[_nghost-%COMP%]   .drag-drop-picker.empty[_ngcontent-%COMP%]{background-color:var(--grayBackgroundEmpty);border:1px solid var(--grayBackgroundEmpty)}.pbi-drag-drop-picker-scrollbar[_nghost-%COMP%]   .drag-drop-picker[_ngcontent-%COMP%]{overflow-y:auto}.tooltipTitle[_ngcontent-%COMP%]{font-weight:700}.fieldTooltipDescription[_ngcontent-%COMP%]{max-width:240px;display:block;word-break:break-word;white-space:pre-wrap}.drag-drop-picker[_ngcontent-%COMP%]{display:flex;border:1px dashed var(--gray-130, #605E5C);border-radius:2px;flex-direction:column;--field-error-background-color: var(--globalColorCranberryTint60);--field-error-border-color: var(--globalColorCranberryShade10)}  [data-legacy-theming=false] .drag-drop-picker{--field-error-background-color: var(--colorDangerBackground1);--field-error-border-color: var(--colorDangerBorder1)}.drag-drop-picker.disabled[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.drag-drop-picker.v2Design[_ngcontent-%COMP%]{border:1px dashed var(--colorNeutralStrokeAccessible);background-color:var(--colorNeutralBackground1);height:100%;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]{background-color:var(--colorNeutralBackground2);border-color:var(--colorNeutralStrokeAccessible);border-radius:3px;color:var(--colorNeutralForeground1);padding:2px;height:fit-content;display:flex;flex-direction:row;align-items:center}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content.error[_ngcontent-%COMP%]{border-color:var(--field-error-border-color);background-color:var(--field-error-background-color);color:var(--colorDangerForeground1)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow-x:hidden}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:row;align-items:center;box-sizing:border-box;height:24px}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]   .contentWithIndentationContainer[_ngcontent-%COMP%]{padding:0 2px}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]   .contentWithIndentationContainer.interactable[_ngcontent-%COMP%]{cursor:pointer}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]   .contentWithIndentationContainer.showHover[_ngcontent-%COMP%]:hover{background-color:var(--colorNeutralBackground3Hover)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]   .content-clear[_ngcontent-%COMP%]{height:24px;width:24px;display:flex;align-items:center;justify-content:center;margin:0}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]   .content-clear[_ngcontent-%COMP%]:hover{background-color:var(--colorNeutralBackground3Hover)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer.compact[_ngcontent-%COMP%]{height:16px}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer.compact[_ngcontent-%COMP%]   .content-clear[_ngcontent-%COMP%]{height:16px;width:16px}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .childrenContentContainer[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .childrenContentContainer[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]{border:none;padding:0;margin:0}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]{background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);display:flex;justify-content:center;cursor:pointer;padding:0;margin:4px;line-height:28px;box-sizing:border-box;position:relative;border:1px solid var(--colorNeutralStrokeAccessible)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.placeholder.compact[_ngcontent-%COMP%]{line-height:20px}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]   .dropBetween.insidePlaceholder[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:0;left:0;width:calc(100% - 8px)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]:hover{background-color:var(--colorNeutralBackground1Hover)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;cursor:pointer;pointer-events:none;display:flex;align-items:center;justify-content:center}.drag-drop-picker.v2Design.disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.5}.drag-drop-picker[_ngcontent-%COMP%]   div.dropBetween[_ngcontent-%COMP%]{height:4px;margin:0 4px}.drag-drop-picker[_ngcontent-%COMP%]   div.dropBetween.highlight[_ngcontent-%COMP%]{background-color:var(--theme-primary-color, #F2C811)}.drag-drop-picker[_ngcontent-%COMP%]   div.dropArea[_ngcontent-%COMP%]{flex:1;min-height:8px}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex:1;white-space:nowrap;overflow:hidden;padding:6px 8px;height:12px;border-radius:2px}.drag-drop-picker[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D)}.drag-drop-picker[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]{margin:0 4px;border:1px solid var(--contentBorderColor);background-color:var(--contentBackgroundColor)}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{margin-right:8px;flex-shrink:0}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   pbi-svg-use-symbol[_ngcontent-%COMP%]{width:var(--lg-font-size, 16px);height:var(--lg-font-size, 16px);margin-right:8px;flex-shrink:0}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer[_ngcontent-%COMP%]{overflow:hidden;flex:1;display:flex;flex-direction:row}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer.showHover[_ngcontent-%COMP%]:hover{background-color:var(--colorItemHover)}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .content-label[_ngcontent-%COMP%]{display:flex;text-overflow:ellipsis;overflow:hidden;align-items:center;padding:0;flex:1;color:var(--colorNeutralForeground1)}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .content-clear[_ngcontent-%COMP%]{cursor:pointer;padding:0;border:0;background:transparent;margin-left:12px;color:var(--colorActionButton)}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer[_ngcontent-%COMP%], .drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .content-clear[_ngcontent-%COMP%], .drag-drop-picker   span   [_nghost-%COMP%]     .pbi-drag-drop-picker-actions button{box-sizing:border-box;border:solid 2px transparent;border-radius:2px;outline:none}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer.pbi-focus-outline[_ngcontent-%COMP%]:focus-visible, .drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .content-clear.pbi-focus-outline[_ngcontent-%COMP%]:focus-visible, .drag-drop-picker   span   [_nghost-%COMP%]     .pbi-drag-drop-picker-actions button.pbi-focus-outline:focus-visible{border-color:var(--gray-140, #484644)}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer[_ngcontent-%COMP%]   .content-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer[_ngcontent-%COMP%]   .content-label[_ngcontent-%COMP%]   pbi-text-label[_ngcontent-%COMP%]{outline:none;border:none}.drag-drop-picker.disableDropZoneIndicator[_ngcontent-%COMP%]{border-style:solid}.drag-drop-picker.disableDropZoneIndicator[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]{border-style:none}.drag-drop-picker.disableDropZoneIndicator[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]{height:26px}.drag-drop-picker.disableDropZoneIndicator[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer.compact[_ngcontent-%COMP%]{height:18px}.drag-drop-picker.disableDropZoneIndicator[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]{border-color:var(--colorNeutralStroke1)}[_nghost-%COMP%]     .pbi-drag-drop-picker-actions{align-self:stretch;display:flex;justify-content:space-evenly;align-items:center}[_nghost-%COMP%]     .pbi-drag-drop-picker-actions>*{color:var(--gray-190, #201F1E)}[_nghost-%COMP%]     .pbi-drag-drop-picker-actions button.v2Design{margin:0;border:0;height:24px;width:24px;color:var(--colorNeutralForeground1);fill:var(--colorNeutralForeground1)}[_nghost-%COMP%]     .pbi-drag-drop-picker-actions button.v2Design:hover{background-color:var(--colorNeutralBackground3Hover)}[_nghost-%COMP%]     .pbi-drag-drop-picker-actions .button-divider.v2Design{align-self:stretch;margin-top:4px;margin-bottom:4px;background-color:var(--colorNeutralStrokeAccessible)}[_nghost-%COMP%]     .compact button.v2Design{height:16px;width:16px}[_nghost-%COMP%]     .compact .button-divider.v2Design{margin-top:2px;margin-bottom:2px}[_nghost-%COMP%]     .content-label pbi-text-label{margin:0;padding:0;flex:1;overflow-x:hidden}[_nghost-%COMP%]     .content-label input{margin:0;padding:2px 0;width:100%}'],changeDetection:0}),o}();function ae(o,t){return c(o,t,function(n,a){return n[a]})}function ie(o,t){return c(o,t,function(n,a){return n.splice(a,1)[0]})}function c(o,t,n){v.fF.assert(function(){return!_.isEmpty(t)},"the given position should contain at least one element");var a=t[0],i=_.nth(o,a);v.fF.assertAnyValue(i,"it is possible that currentLevelItem is undefined, e.g. when using this function to add an item after the last item in the collection at the lowest level of the position");var s=t.slice(1);return _.isEmpty(s)?n(o,a):i?"string"==typeof i?(v.fF.assertFail("string data should not have any child"),n(o,a)):c(i.children,s,n):void v.fF.assertFail("trying to do something to a child of an item but the item does not exist")}},56598:function(Ve,E,p){p.d(E,{K:function(){return P}});var I=p(20914),C=p(5806),T=p(94770),e=p(93367),O=p(94841),v=p(79725),y=p(16095),r=p(77476),x=p(17174),L=p(79061),S=p(50423),P=function(){function b(){}return b.\u0275fac=function(k){return new(k||b)},b.\u0275mod=S.\u0275\u0275defineNgModule({type:b}),b.\u0275inj=S.\u0275\u0275defineInjector({imports:[r.CommonModule,C.Y,x.u5,L.v,I._,T.f,e.U,O.b,v.j,y.Z,x.UX]}),b}()}}]);