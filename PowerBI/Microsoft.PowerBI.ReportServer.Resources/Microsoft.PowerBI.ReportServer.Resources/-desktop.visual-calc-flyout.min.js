"use strict";

(self.webpackChunkdesktop = self.webpackChunkdesktop || []).push([ [ "visual-calc-flyout" ], {
    56137: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__), __webpack_require__.d(__webpack_exports__, {
            VisualCalcFlyoutModule: function() {
                return VisualCalcFlyoutModule;
            }
        });
        var common = __webpack_require__(77476), lazy_load_module = __webpack_require__(82156), localization_module = __webpack_require__(79061), pbi_dropdown_module = __webpack_require__(6015), pbi_field_list_module = __webpack_require__(63654), pbi_tooltip_module = __webpack_require__(16095), tri_svg_icon = __webpack_require__(17177), tslib_es6 = __webpack_require__(81337), combineLatest = __webpack_require__(59017), map = __webpack_require__(14172), takeUntil = __webpack_require__(83317), field_list_tree_service = __webpack_require__(75096), model_object_tooltip_factory = __webpack_require__(65534), tooltip_strategy_service = __webpack_require__(66014), model_to_pbi_tree_show_menu_strategy = __webpack_require__(78963), grouping_design_state_service = __webpack_require__(23983), model_to_pbi_tree_inline_item_strategy = __webpack_require__(72525), pbi_overlay_ref = __webpack_require__(86286), rx_component = __webpack_require__(73221), selectionUtils = __webpack_require__(21728), core = __webpack_require__(50423), localization_service = __webpack_require__(65181), visual_calc_eager_service = __webpack_require__(88409), selection_service = __webpack_require__(72262), feature_switch_service = __webpack_require__(9380), exploration_capabilities_service = __webpack_require__(48145), localize_directive = __webpack_require__(59968), localize_tooltip_directive = __webpack_require__(50057), pbi_dropdown_component = __webpack_require__(76492), pbi_dropdown_item_component = __webpack_require__(42189), pbi_dropdown_item_menu_directive = __webpack_require__(9529), pbi_field_list_component = __webpack_require__(65005), pbi_tooltip_directive = __webpack_require__(36858), tri_svg_icon_component = __webpack_require__(74913), localize_pipe = __webpack_require__(85102);
        function VisualCalcFlyoutComponent_section_5_pbi_dropdown_item_25_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "pbi-dropdown-item", 21)(1, "div", 22), 
            core["\u0275\u0275element"](2, "tri-svg-icon", 23), core["\u0275\u0275elementStart"](3, "span"), 
            core["\u0275\u0275text"](4), core["\u0275\u0275elementEnd"]()()()), 2 & rf) {
                var axis_r3 = ctx.$implicit;
                core["\u0275\u0275property"]("value", axis_r3), core["\u0275\u0275advance"](2), 
                core["\u0275\u0275property"]("name", axis_r3.icon), core["\u0275\u0275advance"](2), 
                core["\u0275\u0275textInterpolate"](axis_r3.label);
            }
        }
        function VisualCalcFlyoutComponent_section_5_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "section", 8)(1, "div", 9)(2, "div", 10), 
            core["\u0275\u0275element"](3, "h2", 11), core["\u0275\u0275elementStart"](4, "pbi-dropdown", 12)(5, "pbi-dropdown-trigger", 13)(6, "div", 14), 
            core["\u0275\u0275text"](7), core["\u0275\u0275pipe"](8, "localize"), core["\u0275\u0275elementEnd"]()(), 
            core["\u0275\u0275element"](9, "pbi-field-list", 15), core["\u0275\u0275elementEnd"]()(), 
            core["\u0275\u0275elementStart"](10, "div", 10), core["\u0275\u0275element"](11, "h2", 16), 
            core["\u0275\u0275elementStart"](12, "pbi-dropdown", 12)(13, "pbi-dropdown-trigger", 13)(14, "div", 14), 
            core["\u0275\u0275text"](15), core["\u0275\u0275pipe"](16, "localize"), core["\u0275\u0275elementEnd"]()(), 
            core["\u0275\u0275element"](17, "pbi-field-list", 15), core["\u0275\u0275elementEnd"]()(), 
            core["\u0275\u0275elementStart"](18, "div", 10), core["\u0275\u0275element"](19, "h2", 17), 
            core["\u0275\u0275elementStart"](20, "pbi-dropdown", 12)(21, "pbi-dropdown-trigger")(22, "div", 14), 
            core["\u0275\u0275text"](23), core["\u0275\u0275pipe"](24, "localize"), core["\u0275\u0275elementEnd"]()(), 
            core["\u0275\u0275template"](25, VisualCalcFlyoutComponent_section_5_pbi_dropdown_item_25_Template, 5, 3, "pbi-dropdown-item", 18), 
            core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275elementStart"](26, "div", 10), 
            core["\u0275\u0275element"](27, "h2", 19)(28, "input", 20), core["\u0275\u0275elementEnd"]()()()), 
            2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](7), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](8, 4, "Custom"), " "), 
                core["\u0275\u0275advance"](8), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](16, 6, "Select_A_Field"), " "), 
                core["\u0275\u0275advance"](8), core["\u0275\u0275textInterpolate1"](" ", ctx_r0.selectedAxis ? ctx_r0.selectedAxis.label : core["\u0275\u0275pipeBind1"](24, 8, "VisualCalcTemplate_AxisField_Placeholder"), " "), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngForOf", ctx_r0.axes);
            }
        }
        function VisualCalcFlyoutComponent_button_7_Template(rf, ctx) {
            if (1 & rf) {
                var _r5 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 24), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r5);
                    var ctx_r4 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r4.applyCalculation());
                }), core["\u0275\u0275text"](1), core["\u0275\u0275pipe"](2, "localize"), core["\u0275\u0275elementEnd"]();
            }
            2 & rf && (core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](2, 1, "Apply"), " "));
        }
        var manifests = [ {
            type: function(_super) {
                function VisualCalcFlyoutComponent(overlayData, localizationService, visualCalcEagerService, overlayRef, selectionService, featureSwitchService, explorationCapabilitiesService) {
                    var _this = _super.call(this) || this;
                    return _this.overlayData = overlayData, _this.localizationService = localizationService, 
                    _this.visualCalcEagerService = visualCalcEagerService, _this.overlayRef = overlayRef, 
                    _this.selectionService = selectionService, _this.featureSwitchService = featureSwitchService, 
                    _this.explorationCapabilitiesService = explorationCapabilitiesService, _this.axes = [ {
                        name: "ROWS",
                        label: "Rows",
                        icon: "arrow_down_double_20_regular"
                    }, {
                        name: "COLUMNS",
                        label: "Columns",
                        icon: "arrow_right_double_20_regular"
                    }, {
                        name: "ROWS COLUMNS",
                        label: "RowsColumns",
                        icon: "arrow_down_double_wrap_20_regular"
                    }, {
                        name: "COLUMNS ROWS",
                        label: "ColumnsRows",
                        icon: "arrow_right_double_wrap_20_regular"
                    } ], _this;
                }
                return (0, tslib_es6.__extends)(VisualCalcFlyoutComponent, _super), VisualCalcFlyoutComponent.prototype.ngOnInit = function() {
                    var _this = this, queryName = this.overlayData.queryName;
                    this.editCalculationLabel = this.localizationService.get("FieldWell_EditVisualCalculation"), 
                    this.editCalculationButtonTooltip$ = this.explorationCapabilitiesService.capabilities$.pipe((0, 
                    map.U)(function(capabilities) {
                        return (null == capabilities ? void 0 : capabilities.disableVisualCalcAuthoring) ? _this.localizationService.get("FieldWell_EditVisualCalculation_Disabled_From_Explore") : _this.editCalculationLabel;
                    }), (0, takeUntil.R)(this.onDestroy$));
                    var visualContainer = selectionUtils.UP.getSelectedVisual(this.selectionService);
                    this.editCalculationDisabled$ = (0, combineLatest.aj)([ this.visualCalcEagerService.shouldDisableEditing$(queryName, visualContainer), this.explorationCapabilitiesService.capabilities$ ]).pipe((0, 
                    map.U)(function(_a) {
                        var capabilities = _a[1];
                        return _a[0] || (null == capabilities ? void 0 : capabilities.disableVisualCalcAuthoring);
                    }), (0, takeUntil.R)(this.onDestroy$));
                }, VisualCalcFlyoutComponent.prototype.closeOverlay = function() {
                    this.overlayRef.close();
                }, VisualCalcFlyoutComponent.prototype.editVisualCalcAndCloseOverlay = function() {
                    this.overlayRef.close({
                        queryName: this.overlayData.queryName,
                        action: 1
                    });
                }, VisualCalcFlyoutComponent.prototype.applyCalculation = function() {}, VisualCalcFlyoutComponent.\u0275fac = function(t) {
                    return new (t || VisualCalcFlyoutComponent)(core["\u0275\u0275directiveInject"](pbi_overlay_ref.M), core["\u0275\u0275directiveInject"](localization_service.o), core["\u0275\u0275directiveInject"](visual_calc_eager_service.w), core["\u0275\u0275directiveInject"](pbi_overlay_ref.w), core["\u0275\u0275directiveInject"](selection_service.z), core["\u0275\u0275directiveInject"](feature_switch_service.vZ), core["\u0275\u0275directiveInject"](exploration_capabilities_service.U));
                }, VisualCalcFlyoutComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                    type: VisualCalcFlyoutComponent,
                    selectors: [ [ "visual-calc-flyout" ] ],
                    features: [ core["\u0275\u0275ProvidersFeature"]([ field_list_tree_service.p, grouping_design_state_service.AA, model_to_pbi_tree_inline_item_strategy.wt, model_to_pbi_tree_inline_item_strategy.VI, model_object_tooltip_factory.n, tooltip_strategy_service.Z, {
                        provide: model_to_pbi_tree_show_menu_strategy.W,
                        useClass: model_to_pbi_tree_show_menu_strategy.w
                    } ]), core["\u0275\u0275InheritDefinitionFeature"] ],
                    decls: 12,
                    vars: 13,
                    consts: [ [ "role", "dialog", "aria-labelledby", "flyoutContainerTitle", 1, "flyout-container" ], [ 1, "header" ], [ "id", "flyoutContainerTitle", "localize", "DaxTemplateDialog_CalculationTitle", 1, "fluentTheme-lg-semiBold" ], [ "localizeTooltip", "Close", 1, "glyphicon", "glyph-mini", "pbi-glyph-close", "pbi-icon-button", "pbi-focus-outline", "close-button", 3, "click" ], [ "class", "field-list-container", 4, "ngIf" ], [ 1, "visual-calc-actions-container" ], [ "class", "pbi-fluent-button primary", 3, "click", 4, "ngIf" ], [ 1, "pbi-fluent-button", "default", 3, "pbiTooltip", "disabled", "click" ], [ 1, "field-list-container" ], [ 1, "field-list-content" ], [ 1, "field-picker" ], [ "localize", "VisualCalcTemplate_TemplateField", 1, "fluentTheme-sm-reg" ], [ 1, "field-list-field" ], [ "pbiTooltip", "selectedItemTooltip" ], [ 1, "field-list-trigger", "dropdown-trigger" ], [ 1, "field-list-field-dropdown" ], [ "localize", "Field", 1, "fluentTheme-sm-reg" ], [ "localize", "VisualCalcTemplate_AxisField", 1, "fluentTheme-sm-reg" ], [ 3, "value", 4, "ngFor", "ngForOf" ], [ "localize", "VisualCalcTemplate_WindowSizeField", 1, "fluentTheme-sm-reg" ], [ "type", "number" ], [ 3, "value" ], [ 1, "dropdown-item-wrapper" ], [ "sprite", "trident-icons", 3, "name" ], [ 1, "pbi-fluent-button", "primary", 3, "click" ] ],
                    template: function(rf, ctx) {
                        1 & rf && (core["\u0275\u0275elementStart"](0, "div", 0)(1, "div", 1), core["\u0275\u0275element"](2, "h1", 2), 
                        core["\u0275\u0275elementStart"](3, "button", 3), core["\u0275\u0275listener"]("click", function() {
                            return ctx.closeOverlay();
                        }), core["\u0275\u0275pipe"](4, "localize"), core["\u0275\u0275elementEnd"]()(), 
                        core["\u0275\u0275template"](5, VisualCalcFlyoutComponent_section_5_Template, 29, 10, "section", 4), 
                        core["\u0275\u0275elementStart"](6, "section", 5), core["\u0275\u0275template"](7, VisualCalcFlyoutComponent_button_7_Template, 3, 3, "button", 6), 
                        core["\u0275\u0275elementStart"](8, "button", 7), core["\u0275\u0275listener"]("click", function() {
                            return ctx.editVisualCalcAndCloseOverlay();
                        }), core["\u0275\u0275pipe"](9, "async"), core["\u0275\u0275pipe"](10, "async"), 
                        core["\u0275\u0275text"](11), core["\u0275\u0275elementEnd"]()()()), 2 & rf && (core["\u0275\u0275advance"](3), 
                        core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](4, 7, "Close")), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx.featureSwitchService.featureSwitches.onObjectTemplateFlyout), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx.featureSwitchService.featureSwitches.onObjectTemplateFlyout), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind1"](9, 9, ctx.editCalculationButtonTooltip$))("disabled", core["\u0275\u0275pipeBind1"](10, 11, ctx.editCalculationDisabled$)), 
                        core["\u0275\u0275attribute"]("aria-label", ctx.editCalculationLabel), core["\u0275\u0275advance"](3), 
                        core["\u0275\u0275textInterpolate1"](" ", ctx.editCalculationLabel, " "));
                    },
                    dependencies: [ common.NgForOf, common.NgIf, localize_directive.X, localize_tooltip_directive.r, pbi_dropdown_component.H, pbi_dropdown_item_component.r, pbi_dropdown_item_menu_directive._, pbi_dropdown_component.T, pbi_field_list_component.l, pbi_tooltip_directive.V, tri_svg_icon_component.M, common.AsyncPipe, localize_pipe.F ],
                    styles: [ '.pbi-overlay-caret-small.pbi-overlay-caret[_nghost-%COMP%]:after{background:var(--colorNeutralBackground3);border-color:var(--colorNeutralBackground3Pressed)}.dropdown-item-wrapper[_ngcontent-%COMP%]{display:flex;align-items:end;width:100%;gap:4px}.dropdown-item-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.flyout-container[_ngcontent-%COMP%]{--flyout-container-color: var(--gray-180);background-color:var(--colorNeutralBackground3);border:1px solid var(--colorNeutralStroke3);border-radius:2px;color:var(--flyout-container-color);padding:0;height:100%;width:100%;box-shadow:0 0 2px var(--colorNeutralShadowAmbient),0 4px 8px var(--colorNeutralShadowKey);display:flex;flex-direction:column}  [data-legacy-theming=false] .flyout-container{--flyout-container-color: var(--colorNeutralForeground1)}.flyout-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:8px 8px 4px}.flyout-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.flyout-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{width:24px;height:24px;color:var(--colorNeutralForeground1)}.flyout-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background-color:var(--colorNeutralBackground3Hover)}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]{margin:4px 8px 8px;height:100%}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 4px}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]   .field-list-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]   .field-list-content[_ngcontent-%COMP%]   .field-picker[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:8px}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]   .field-list-content[_ngcontent-%COMP%]   .field-picker[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%]{width:100%}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]   .field-list-content[_ngcontent-%COMP%]   .field-picker[_ngcontent-%COMP%]   .dropdown-trigger[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]   .field-list-content[_ngcontent-%COMP%]   .field-picker[_ngcontent-%COMP%]   h2.disabled[_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D)}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]   .field-list-content[_ngcontent-%COMP%]   .field-picker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid var(--inputBorderFocus)}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]   .field-list-content[_ngcontent-%COMP%]   .field-picker[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);border:1px solid var(--colorNeutralStroke1)}.flyout-container[_ngcontent-%COMP%]   .visual-calc-actions-container[_ngcontent-%COMP%]{margin:8px;display:flex;gap:4px}.flyout-container[_ngcontent-%COMP%]   .visual-calc-actions-container[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{color:var(--colorNeutralForeground1);border:1px solid var(--colorNeutralStroke1)}' ],
                    changeDetection: 0
                }), VisualCalcFlyoutComponent;
            }(rx_component.w),
            componentId: "VisualCalcFlyoutComponentId"
        } ], VisualCalcFlyoutModule = function() {
            function VisualCalcFlyoutModule() {}
            return VisualCalcFlyoutModule.\u0275fac = function(t) {
                return new (t || VisualCalcFlyoutModule);
            }, VisualCalcFlyoutModule.\u0275mod = core["\u0275\u0275defineNgModule"]({
                type: VisualCalcFlyoutModule
            }), VisualCalcFlyoutModule.\u0275inj = core["\u0275\u0275defineInjector"]({
                imports: [ common.CommonModule, lazy_load_module.N.withManifests(manifests), localization_module.v, pbi_dropdown_module.C, pbi_field_list_module.X, pbi_tooltip_module.Z, tri_svg_icon.T6 ]
            }), VisualCalcFlyoutModule;
        }();
    }
} ]);