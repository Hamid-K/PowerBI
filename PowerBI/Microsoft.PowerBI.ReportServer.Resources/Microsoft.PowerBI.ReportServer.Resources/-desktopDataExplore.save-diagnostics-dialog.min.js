"use strict";(self.webpackChunkdesktopDataExplore=self.webpackChunkdesktopDataExplore||[]).push([["save-diagnostics-dialog"],{70530:function(M,c,o){o.r(c),o.d(c,{SaveDiagnosticsDialogModule:function(){return I}});var g=o(44150),l=o(81337),u=o(62458),f=o(59694),v=o(67489),p=o(35510),t=o(50423),m=o(39119),h=function(){function e(i){this.hostService=i.getHostService("fileIOHostService")}return e.prototype.selectLocalDirectoryAsync=function(i,n){return(0,l.__awaiter)(this,void 0,void 0,function(){return(0,l.__generator)(this,function(a){return[2,this.hostService.selectLocalDirectory(i,n)]})})},e.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275inject(m.j))},e.\u0275prov=t.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),D=o(65181),s=o(77476),S=o(59968),y=o(22844),C=o(96777);function P(e,i){if(1&e&&(t.\u0275\u0275elementStart(0,"li")(1,"span",8),t.\u0275\u0275element(2,"label",9)(3,"a",10),t.\u0275\u0275elementEnd()()),2&e){var n=i.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275property("localize",n.text),t.\u0275\u0275advance(1),t.\u0275\u0275property("href",n.link,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275attribute("aria-label",n.linkAriaLabel)}}var k=function(){return{"aria-label":"SaveDiagnosticsDialog_Save_Path"}},x=function(){function e(i,n,a){this.fileIOService=i,this.localizationService=n,this.templateDialogPayload=a,this.partialDiagnosticDisclosureList=[{text:"SaveDiagnosticsDialog_Performance_Datamodel",link:"https://go.microsoft.com/fwlink/?linkid=2153335"},{text:"SaveDiagnosticsDialog_Session_Info",link:"https://go.microsoft.com/fwlink/?linkid=2153650"},{text:"SaveDiagnosticsDialog_Error_Details",link:"https://go.microsoft.com/fwlink/?linkid=2153336"},{text:"SaveDiagnosticsDialog_Structure_DataModel",link:"https://go.microsoft.com/fwlink/?linkid=2153546"},{text:"SaveDiagnosticsDialog_Data_Refresh",link:"https://go.microsoft.com/fwlink/?linkid=2153337"}]}return e.prototype.ngOnInit=function(){var n,a,i=this,d=null!==(a=null===(n=this.templateDialogPayload.input)||void 0===n?void 0:n.initialSavePath)&&void 0!==a?a:"";this.savePath$=new p.X(d),this.templateDialogPayload.onOkButtonClick=function(){return i.onSave()},this.templateDialogPayload.onCancelButtonClick=function(){return i.onCancel()},this.diagnosticDisclosureList=_.map(this.partialDiagnosticDisclosureList,function(r){return{text:r.text,link:r.link,linkAriaLabel:i.getLinkAriaLabel(r.text)}})},e.prototype.onCancel=function(){return Promise.resolve({shouldSave:!1,savePath:void 0})},e.prototype.onSave=function(){var i,n=(0,f.g)(this.savePath$.value)?null===(i=this.templateDialogPayload.input)||void 0===i?void 0:i.initialSavePath:this.savePath$.value;return Promise.resolve({shouldSave:!0,savePath:n})},e.prototype.onBrowse=function(){return(0,l.__awaiter)(this,void 0,void 0,function(){var i;return(0,l.__generator)(this,function(n){switch(n.label){case 0:return[4,this.fileIOService.selectLocalDirectoryAsync(this.savePath$.value)];case 1:return"OK"===(i=n.sent()).userAction&&this.savePath$.next(i.selectedPath),[2]}})})},e.prototype.getLinkAriaLabel=function(i){return u.fF.assertValue(i,"diagnostic item text"),this.localizationService.format("LearnMore_About",[this.localizationService.get(i)])},e.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275directiveInject(h),t.\u0275\u0275directiveInject(D.o),t.\u0275\u0275directiveInject(v.x))},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["save-diagnostics-dialog"]],features:[t.\u0275\u0275ProvidersFeature([v.x])],decls:11,vars:6,consts:[[1,"dialogContent"],["localize","SaveDiagnosticsDialog_Body_Intro"],["localize","SaveDiagnosticsDialog_Collect_Information"],[4,"ngFor","ngForOf"],["id","browseDetails","localize","SaveDiagnosticsDialog_Browse_Details"],[1,"browseContainer"],["readonly","",1,"pbi-text-input","trimmedTextWithEllipsis",3,"value","localizeAttr"],["localize","Browse","aria-describedby","browseDetails",1,"pbi-fluent-button","primary",3,"click"],[1,"diagnosticListItem"],[3,"localize"],["localize","Generic_LearnMore","target","_blank",1,"pbi-link",3,"href"]],template:function(n,a){1&n&&(t.\u0275\u0275elementStart(0,"template-dialog")(1,"div",0),t.\u0275\u0275element(2,"p",1)(3,"p",2),t.\u0275\u0275elementStart(4,"ul"),t.\u0275\u0275template(5,P,4,3,"li",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(6,"p",4),t.\u0275\u0275elementStart(7,"span",5),t.\u0275\u0275element(8,"input",6),t.\u0275\u0275pipe(9,"async"),t.\u0275\u0275elementStart(10,"button",7),t.\u0275\u0275listener("click",function(){return a.onBrowse()}),t.\u0275\u0275elementEnd()()()()),2&n&&(t.\u0275\u0275advance(5),t.\u0275\u0275property("ngForOf",a.diagnosticDisclosureList),t.\u0275\u0275advance(3),t.\u0275\u0275property("value",t.\u0275\u0275pipeBind1(9,3,a.savePath$))("localizeAttr",t.\u0275\u0275pureFunction0(5,k)))},dependencies:[s.NgForOf,S.X,y.b,C.J,s.AsyncPipe],styles:[".dialogContent[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px);width:720px;padding:0}.dialogContent[_ngcontent-%COMP%]   .diagnosticListItem[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;column-gap:1rem}.dialogContent[_ngcontent-%COMP%]   .browseContainer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;column-gap:.5rem}.dialogContent[_ngcontent-%COMP%]   .browseContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-width:250px}"],changeDetection:0}),e}(),O=o(79061),z=o(76966),I=function(){function e(){}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=t.\u0275\u0275defineInjector({imports:[s.CommonModule,O.v,z.c.withManifest([{componentIdentifier:g.B,componentType:x}])]}),e}()}}]);