"use strict";(self.webpackChunkdesktopDialogHost=self.webpackChunkdesktopDialogHost||[]).push([["field-list"],{99786:function(w,I,o){o.r(I),o.d(I,{FieldListModule:function(){return rt}});var u=o(81337),i=o(32208),_=o(54834),S=o(70863),M=o(44529),A=o(59725),r=o(50423),D=o(23983),T=function(){function e(t){this.groupingDesignStateService=t}return e.prototype.dragStart=function(t){var n=t.flatNode.node;if(!(0,S.wb)(n.data)&&!(0,S.Ov)(n.data)){var a=(0,M.Sd)(n.data,this.groupingDesignStateService),d=_.ib.serializeExpr(a),h=JSON.stringify({id:n.id,icon:n.icon,label:n.displayName,fieldExpr:d});t.sourceEvent.dataTransfer.setData(A.L$,h)}},e.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275inject(D.AA))},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),R=o(40290),v=o(8590),b=o(21728),L=o(87879),s=o(94419),l=o(9738),g=o(58295),j=o(88315),B=o(9380),X=o(11494),Y=o(83008),Z=o(39503),U=o(72262),q=o(28199),W=o(93215),ee=o(66890),V=function(){function e(t,n,a,d,h,y,O,k,z,oe,ae){var N=this;this.featureSwitchService=t,this.eventBridge=n,this.aggrOpsService=a,this.dataSourcesService=d,this.modelService=h,this.groupingDesignStateService=y,this.visualAuthoringService=O,this.explorationNavigationService=k,this.selectionService=z,this.fieldListCheckedService=oe,this.modelingSelectionService=ae,this.subscriptionManager=n.createChannelSubscriptionManager(),this.subscriptionManager.subscribe(v.oRp,function(){return N.updateFieldListCheckFromSelectedVisual()}),this.subscriptionManager.subscribe(v.jCS,function(){return N.updateFieldListCheckFromSelectedVisual()}),this.modelService.modelChange$.subscribe(function(){return N.updateFieldListCheckFromSelectedVisual()}),this.subscriptionManager.subscribe(v.OPn,function(){return N.modelingSelectionService.clear()}),this.subscriptionManager.subscribe(v.tRg,function(){N.modelingSelectionService.clear(),N.updateFieldListCheckFromSelectedVisual()}),this.subscriptionManager.subscribe(v.KD7,function(){N.modelingSelectionService.clear(),N.updateFieldListCheckFromSelectedVisual()})}return e.prototype.updateFieldListCheckFromSelectedVisual=function(){this.fieldListCheckedService.selectAll(this.getModelItemsFromSelectedVisual(this.modelService.model),!0)},e.prototype.addFieldToVisual=function(t){return(0,u.__awaiter)(this,void 0,void 0,function(){var n,a,d;return(0,u.__generator)(this,function(h){switch(h.label){case 0:return n=this.getFieldExpr(t),(a=b.UP.getSelectedVisual(this.selectionService))?(d=16===a.visibility,[4,this.visualAuthoringService.addFieldToVisual(n,this.dataSourcesService.get(),a,"CheckboxTickedInFieldList",d)]):[3,2];case 1:return[2,h.sent()];case 2:return this.eventBridge.publishToChannel(v.Tyr,{expr:n,allowAggregate:!0,telemetrySource:0}),[2,!0]}})})},e.prototype.removeField=function(t){this.visualAuthoringService.removeFieldFromAllRoles(this.dataSourcesService.get(),this.getFieldExpr(t))},e.prototype.addToDrillTrhough=function(t){this.visualAuthoringService.addDrillthroughFilter(this.getFieldExpr(t),{container:this.explorationNavigationService.getCurrentSection(),scopeType:1},this.dataSourcesService.get(),!0)},e.prototype.canAddToFilter=function(t){return!(0,S.kb)(t)||!this.castToConceptualItem(t).schema.capabilities.limitMultiColumnFiltersToQueryGroupColumns},e.prototype.addReportLevelFilter=function(t){this.visualAuthoringService.addFilter(this.getFieldExpr(t),{container:this.explorationNavigationService.getCurrentExploration(),scopeType:2},this.dataSourcesService.get())},e.prototype.addPageLevelFilter=function(t){this.visualAuthoringService.addFilter(this.getFieldExpr(t),{container:this.explorationNavigationService.getCurrentSection(),scopeType:1},this.dataSourcesService.get())},e.prototype.addVisualLevelFilter=function(t,n){this.visualAuthoringService.addFilter(this.getFieldExpr(t),{container:n,scopeType:0},this.dataSourcesService.get())},e.prototype.getTopNVisualFilters=function(t){return this.visualAuthoringService.createVisualFilters(this.explorationNavigationService.getCurrentSection(),t,this.dataSourcesService.get(),this.modelService.schema).filter(function(n){return n.contract&&n.contract.type===R.vA.TopN})},e.prototype.addToTopNFilterValue=function(t,n){var a=this.getFieldExpr(t),d=(0,g.k)(a)?a:(0,s.m_)(a,this.aggrOpsService.defaultAggregate(a,this.modelService.schema,!0));this.eventBridge.publishToChannel(L.d,{filterViewModel:n,orderByField:d})},e.prototype.getModelItemsFromSelectedVisual=function(t){if(!t)return[];var n=[],a=b.UP.getSelectedVisual(this.selectionService);if(a&&a.config.singleVisual&&a.config.singleVisual.query&&a.config.singleVisual.query.defn)if(this.featureSwitchService.featureSwitches.fieldParameters)for(var h=0,y=a.config.singleVisual.query.getUniqueQueryFields();h<y.length;h++)n.push.apply(n,t.findItems(y[h].expr));else for(var k=0,z=a.config.singleVisual.query.defn.select();k<z.length;k++)n.push.apply(n,t.findItems(z[k].expr));return n},e.prototype.getFieldExpr=function(t){return(0,M.Sd)(this.castToConceptualItem(t),this.groupingDesignStateService)},e.prototype.castToConceptualItem=function(t){if(t instanceof j.Xx)return t;throw Error("invalid type passed to toConceptualItem")},e.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275inject(B.vZ),r.\u0275\u0275inject(X.J),r.\u0275\u0275inject(q.C),r.\u0275\u0275inject(Y.D),r.\u0275\u0275inject(W.b),r.\u0275\u0275inject(D.AA),r.\u0275\u0275inject(ee.$8),r.\u0275\u0275inject(Z.z),r.\u0275\u0275inject(U.z),r.\u0275\u0275inject(l.fc),r.\u0275\u0275inject(l.W6))},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),K=function(){function e(t){this.fieldListReportAuthoringService=t}return e.prototype.check=function(t){return(0,u.__awaiter)(this,void 0,void 0,function(){var n;return(0,u.__generator)(this,function(a){switch(a.label){case 0:return t.checked?(n=t.flatNode.node,[4,this.fieldListReportAuthoringService.addFieldToVisual(t.flatNode.node.data)]):[3,2];case 1:return n.checked=a.sent(),[3,3];case 2:t.flatNode.node.checked=!1,this.fieldListReportAuthoringService.removeField(t.flatNode.node.data),a.label=3;case 3:return[2]}})})},e.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275inject(V))},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),x=o(64560),Q=function(e){return e.AddToDrillthrough="FieldListMenuItem_AddToDrillthrough",e}({}),ie={items:[{id:Q.AddToDrillthrough,type:x.iB.Button,text:"FieldListMenuItem_AddToDrillthrough",tooltip:"FieldListMenuItem_AddToDrillthrough"}]},J=function(){function e(t){this.fieldListReportAuthoringService=t}return e.prototype.getHandler=function(t){var n=this;return[Q.AddToDrillthrough,{execute:function(){return n.fieldListReportAuthoringService.addToDrillTrhough(t)}}]},e.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275inject(V))},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),E=function(e){return e.AddToFilters="FieldListMenuItem_AddToFilters",e.AddToReportLevelFilters="FieldListMenuItem_ReportLevelFilters",e.AddToPageLevelFilters="FieldListMenuItem_PageLevelFilters",e.AddToVisualLevelFilters="FieldListMenuItem_VisualLevelFilters",e}({}),F={items:[{id:E.AddToFilters,type:x.iB.SubMenu,text:"FieldListMenuItem_AddToFilters",tooltip:"FieldListMenuItem_AddToFilters",menu:{items:[{id:E.AddToVisualLevelFilters,type:x.iB.Button,text:"FieldListMenuItem_VisualLevelFilters",tooltip:"FieldListMenuItem_VisualLevelFilters"},{id:E.AddToPageLevelFilters,type:x.iB.Button,text:"FieldListMenuItem_PageLevelFilters",tooltip:"FieldListMenuItem_PageLevelFilters"},{id:E.AddToReportLevelFilters,type:x.iB.Button,text:"FieldListMenuItem_ReportLevelFilters",tooltip:"FieldListMenuItem_ReportLevelFilters"}]}}]},C=function(e){return e.AddToTopNFilters="FieldListMenuItem_AddToTopNByValue",e.AddToTopNFilter="AddToTopNFilter",e}({}),ye={items:[{id:C.AddToTopNFilters,type:x.iB.SubMenu,text:"FieldListMenuItem_AddToTopNByValue",tooltip:"FieldListMenuItem_AddToTopNByValue"}]},le=function(){function e(t,n){this.selectionService=t,this.fieldListReportAuthoringService=n}return e.prototype.getHandlers=function(t){var n=this;if(!this.fieldListReportAuthoringService.canAddToFilter(t))return[];var a=[[E.AddToFilters,{execute:void 0}],[E.AddToReportLevelFilters,{execute:function(){return n.fieldListReportAuthoringService.addReportLevelFilter(t)}}],[E.AddToPageLevelFilters,{execute:function(){return n.fieldListReportAuthoringService.addPageLevelFilter(t)}}]],d=b.UP.getSelectedVisual(this.selectionService);return d&&(a.push([E.AddToVisualLevelFilters,{execute:function(){return n.fieldListReportAuthoringService.addVisualLevelFilter(t,d)}}]),a.push([C.AddToTopNFilters,{getSubItems:function(){return n.getTopNVisualFiltersMenuItems(d)},execute:void 0}]),a.push([C.AddToTopNFilter,{execute:function(y){n.fieldListReportAuthoringService.addToTopNFilterValue(t,y.menuItem.data)}}])),a},e.prototype.getTopNVisualFiltersMenuItems=function(t){return this.fieldListReportAuthoringService.getTopNVisualFilters(t).sort(function(n,a){return n.displayName.localeCompare(a.displayName)}).map(function(n){return{id:C.AddToTopNFilter,type:x.iB.Button,text:n.displayName,tooltip:n.displayName,data:n}})},e.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275inject(U.z),r.\u0275\u0275inject(V))},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),se=function(e){return e.AddToField="FieldListMenuItem_AddToField",e}({}),Ce={id:se.AddToField,type:x.iB.Button,text:"FieldListMenuItem_AddToField",tooltip:"FieldListMenuItem_AddToField"},ce=function(e){return e.Select="Select",e}({}),be={items:[Ce,{id:ce.Select,type:x.iB.Button,text:"Select",tooltip:"Select",checkable:!1}]},de=o(81141),ue=function(){function e(t,n){this.fieldListReportAuthoringService=t,this.checkSettingStrategy=n}return e.prototype.getHandlers=function(t){var n=this;return this.canAddToField(t)?[[se.AddToField,{execute:function(d){return n.fieldListReportAuthoringService.addFieldToVisual(t)}}]]:[]},e.prototype.canAddToField=function(t){return!!this.checkSettingStrategy&&((0,S.t3)(t)||(0,S.kb)(t)||(0,S.y3)(t),this.checkSettingStrategy.isCheckable(t))},e.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275inject(V),r.\u0275\u0275inject(de.x,8))},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),Fe=[le,J,ue,function(){function e(t){this.modelingSelectionService=t}return e.prototype.getHandlers=function(t){var n=this;return[[ce.Select,{execute:function(d){return n.modelingSelectionService.select(d.flatNode.node.data,!0)}}]]},e.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275inject(l.W6))},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),T,K,V],G=function(e){return e.ExpandAll="ExpandAll",e.CollapseAll="CollapseAll",e}({}),Pe={items:[{id:G.CollapseAll,type:x.iB.Button,text:"FieldListMenuItem_CollapseAll",tooltip:"FieldListMenuItem_CollapseAll"},{id:G.ExpandAll,type:x.iB.Button,text:"FieldListMenuItem_ExpandAll",tooltip:"FieldListMenuItem_ExpandAll"}]},Oe=o(72038),ne=o(75096),pe=function(){function e(t){this.fieldListTreeService=t}return e.prototype.getHandlers=function(){var t=this;return[[G.ExpandAll,{executeMany:function(a,d){d.tree.expandAll(),t.fieldListTreeService.update()}}],[G.CollapseAll,{executeMany:function(a,d){d.tree.collapseAll(),t.fieldListTreeService.update()}}]]},e.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275inject(ne.p))},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),Ie=[be,Pe,F,ie,ye],he=function(){function e(t,n,a,d,h){this.menuFactory=t,this.expandCollapseMenuItemHandlers=n,this.checkMenuItemHandler=a,this.addToFiltersMenuItemHandler=d,this.addToDrillthroughItemHandler=h,this.menuMode=x.Kb.Compact,this.activeContextMenuRef=void 0}return e.prototype.menuClick=function(t){},e.prototype.menuOpen=function(t){this.activeContextMenuRef=t.menuRef},e.prototype.menuClose=function(t){this.activeContextMenuRef=void 0},e.prototype.closeActiveMenu=function(){void 0!==this.activeContextMenuRef&&this.activeContextMenuRef.close()},e.prototype.getMenu=function(t){var n;return this.menuFactory.getMenu(t,Ie,this.getItemMenuHandlers(null===(n=t.flatNode)||void 0===n?void 0:n.node.data))},e.prototype.menuItemClick=function(t){var n,a,d=this.getItemMenuHandlers(null===(n=t.flatNode)||void 0===n?void 0:n.node.data).get(t.menuItem.id);d.execute?d.execute(t):d.executeMany&&d.executeMany([null===(a=t.flatNode)||void 0===a?void 0:a.node.data],t)},e.prototype.getItemMenuHandlers=function(t){var n=[];return n.push.apply(n,this.expandCollapseMenuItemHandlers.getHandlers()),t&&(((0,S.t3)(t)||(0,S.kb)(t)||(0,S.y3)(t)||(0,S.ez)(t))&&n.push.apply(n,this.checkMenuItemHandler.getHandlers(t)),((0,S.t3)(t)||(0,S.kb)(t)||(0,S.ez)(t))&&(n.push.apply(n,this.addToFiltersMenuItemHandler.getHandlers(t)),n.push(this.addToDrillthroughItemHandler.getHandler(t)))),new Map(n)},e.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275inject(Oe.E),r.\u0275\u0275inject(pe),r.\u0275\u0275inject(ue),r.\u0275\u0275inject(le),r.\u0275\u0275inject(J))},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),ge=function(){function e(t){this.modelingSelectionService=t}return e.prototype.click=function(t){var n,a;t.sourceEvent.shiftKey?this.startRangeSelectionNode&&this.startRangeSelectionNode.parent===t.flatNode.node.parent&&this.modelingSelectionService.selectAll(this.findNodesRange(this.startRangeSelectionNode,t.flatNode.node,null===(a=null===(n=t?.tree)||void 0===n?void 0:n.search$)||void 0===a?void 0:a.value),!0):t.sourceEvent.ctrlKey?this.modelingSelectionService.isSelected(t.flatNode.node.data)?(this.startRangeSelectionNode=void 0,this.modelingSelectionService.deselect(t.flatNode.node.data)):(this.startRangeSelectionNode=t.flatNode.node,this.modelingSelectionService.select(t.flatNode.node.data,!1)):(this.startRangeSelectionNode=t.flatNode.node,this.modelingSelectionService.select(t.flatNode.node.data,!0))},e.prototype.findNodesRange=function(t,n,a){var d=t.parent.children.indexOf(t),h=n.parent.children.indexOf(n),y=t.parent.children.slice(Math.min(d,h),Math.max(d,h)+1).filter(function(O){return!a||a.test(O.displayName)}).map(function(O){return O.data});return d<=h?y:y.reverse()},e.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275inject(l.W6))},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),_e=o(7779),Ae=o(34763),me=o(14172),Be=o(8538),fe=o(29834),Ee=o(50998),Ne=o(29524),De=o(88023),ve=o(72193),je=o(72525),Re=o(412),Ve=o(66014),ke=o(65005),He=o(58137),ze=o(68082),we=o(95867),Ue=o(35510),H=o(77476),We=o(59968);function $e(e,t){if(1&e){var n=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",1),r.\u0275\u0275element(1,"i",2),r.\u0275\u0275elementStart(2,"div",3),r.\u0275\u0275element(3,"span",4),r.\u0275\u0275elementStart(4,"button",5),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(n);var d=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(d.getData())}),r.\u0275\u0275element(5,"div",6),r.\u0275\u0275elementEnd()()()}}var Ke=function(){function e(t,n,a){this.gettingStartedService=t,this.commandStore=n,this.dataModelService=a,this.enabled=new Ue.X(void 0),this.enabled$=this.enabled.asObservable()}return e.prototype.ngOnInit=function(){var t=this;this.modelStateSubscription=this.gettingStartedService.currentState$.subscribe(function(n){return t.updateModelState(n)})},e.prototype.ngOnDestroy=function(){this.modelStateSubscription&&this.modelStateSubscription.unsubscribe()},e.prototype.getData=function(){this.commandStore.DataImport.Connect.execute()},e.prototype.updateModelState=function(t){return(0,u.__awaiter)(this,void 0,void 0,function(){var n,a,d,h;return(0,u.__generator)(this,function(y){switch(y.label){case 0:return this.dataModelService?[3,1]:(this.enabled.next(!1),[3,5]);case 1:return a=(n=this.enabled).next,(d=0===t)?(h=we.Ez,[4,this.dataModelService.getModelAuthoringCapabilities()]):[3,4];case 2:return[4,h.apply(void 0,[y.sent()])];case 3:d=y.sent(),y.label=4;case 4:a.apply(n,[d]),y.label=5;case 5:return[2]}})})},e.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275directiveInject(fe.c),r.\u0275\u0275directiveInject(He.D),r.\u0275\u0275directiveInject(ze.n,8))},e.\u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["field-list-watermark"]],decls:2,vars:3,consts:[["class","getDataHint",4,"ngIf"],[1,"getDataHint"],[1,"glyphicon","icon","glyph-med","pbi-glyph-table-group"],[1,"getDataText"],["id","dataNotLoadedYet","localize","Data_Not_Loaded_Yet"],["aria-labelledby","dataNotLoadedYet getDataLabel","tabindex","0",1,"pbi-internal-link",3,"click"],["id","getDataLabel","localize","GetDataMenu"]],template:function(n,a){1&n&&(r.\u0275\u0275template(0,$e,6,0,"div",0),r.\u0275\u0275pipe(1,"async")),2&n&&r.\u0275\u0275property("ngIf",r.\u0275\u0275pipeBind1(1,1,a.enabled$))},dependencies:[H.NgIf,We.X,H.AsyncPipe],styles:['[_nghost-%COMP%]{--no-data-table-icon-color: var(--gray-180);--no-data-text-color: var(--gray-140)}[data-legacy-theming=false]   [_nghost-%COMP%]{--no-data-table-icon-color: var(--colorNeutralForeground1);--no-data-text-color: var(--colorNeutralForeground2)}.getDataHint[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:0 10%}.getDataHint[_ngcontent-%COMP%]   i.pbi-glyph-table-group[_ngcontent-%COMP%]{color:var(--no-data-table-icon-color);margin-top:16px}.getDataHint[_ngcontent-%COMP%]   .getDataText[_ngcontent-%COMP%]{text-align:center;margin-top:8px}.getDataHint[_ngcontent-%COMP%]   .getDataText[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);color:var(--no-data-text-color)}.getDataHint[_ngcontent-%COMP%]   .getDataText[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-semi-bold, 600);background:transparent;padding-left:4px}.getDataHint[_ngcontent-%COMP%]   .getDataText[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}'],changeDetection:0}),e}(),Se=function(){function e(t,n,a,d,h,y,O,k,z,oe,ae,N,ot,at,lt,st,ct,dt,ut){this.modelService=n,this.modelingSelectionService=a,this.modelingCheckingService=d,this.modelChangeSelectionSynchronizer=h,this.schemaItemActivationServiceSynchronizer=y,this.captionSetting=O,this.draggableSetting=k,this.hiddenSetting=z,this.inlineItemsSetting=oe,this.checkableSetting=ae,this.fieldListTreeService=N,this.clickStrategy=ot,this.menuStrategy=at,this.checkStrategy=lt,this.dragDropStrategy=st,this.keyboardStrategy=ct,this.tooltipStrategy=dt,this.gettingStartedService=ut,this.fieldListTree$=this.fieldListTreeService.fieldListTree$,this.fieldListOptions={click:this.clickStrategy,check:this.checkStrategy,menu:this.menuStrategy,dragDrop:this.dragDropStrategy,keyboard:this.keyboardStrategy,tooltip:this.tooltipStrategy},this.pbiTreeNodeSettingOptions={captionSetting:this.captionSetting,draggableSetting:this.draggableSetting,inlineItemsSetting:this.inlineItemsSetting,checkableSetting:this.checkableSetting,hiddenSetting:this.hiddenSetting},this.checkMode=A.kH.Multi,this.subscription=new Ae.w,this.fieldListTreeService.modelToPbiTreeConverterOptions=this.pbiTreeNodeSettingOptions,this.subscriptionManager=t.createChannelSubscriptionManager()}return e.prototype.ngOnInit=function(){var t=this;this.subscriptionManager.subscribe(v.LE3,function(){return t.modelService.update(void 0)}),this.subscription.add(this.modelService.modelChange$.subscribe(function(n){return t.onModelChange(n)})),this.subscription.add(this.modelingSelectionService.selectionChanged.subscribe(function(n){return t.updateSelection(n)})),this.subscription.add(this.modelingCheckingService.selectionChanged.subscribe(function(n){return t.fieldListTreeService.updateChecked(n)})),this.loading$=this.gettingStartedService.currentState$.pipe((0,me.U)(function(n){return 1===n})),this.emptyModel$=this.gettingStartedService.currentState$.pipe((0,me.U)(function(n){return 0===n})),this.schemaItemActivationServiceSynchronizer.initialize(),this.modelService.update(void 0)},e.prototype.ngOnDestroy=function(){this.subscriptionManager.unsubscribeAll(),this.subscription.unsubscribe()},e.prototype.updateSelection=function(t){this.closeActiveMenus(),this.fieldListTreeService.updateSelected(t)},e.prototype.closeActiveMenus=function(){this.menuStrategy&&this.menuStrategy.closeActiveMenu()},e.prototype.onModelChange=function(t){this.modelChangeSelectionSynchronizer.update(t.model,t.appliedChanges),this.fieldListTreeService.setOrUpdateFieldListTreeModel(t.model,this.modelingSelectionService.selection,this.modelingCheckingService.selection)},e.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275directiveInject(X.J),r.\u0275\u0275directiveInject(W.b),r.\u0275\u0275directiveInject(l.W6),r.\u0275\u0275directiveInject(l.fc),r.\u0275\u0275directiveInject(Ee.O),r.\u0275\u0275directiveInject(Be.h),r.\u0275\u0275directiveInject(Ne.B),r.\u0275\u0275directiveInject(De.F),r.\u0275\u0275directiveInject(ve.J),r.\u0275\u0275directiveInject(je.wt),r.\u0275\u0275directiveInject(de.x),r.\u0275\u0275directiveInject(ne.p),r.\u0275\u0275directiveInject(ge),r.\u0275\u0275directiveInject(he),r.\u0275\u0275directiveInject(K),r.\u0275\u0275directiveInject(T),r.\u0275\u0275directiveInject(Re.W),r.\u0275\u0275directiveInject(Ve.Z),r.\u0275\u0275directiveInject(fe.c))},e.\u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["field-list-container"]],features:[r.\u0275\u0275ProvidersFeature((0,u.__spreadArray)((0,u.__spreadArray)((0,u.__spreadArray)([],Fe,!0),_e.r,!0),[ge,he,pe,ne.p],!1))],decls:6,vars:11,consts:[[1,"container",3,"click"],["focus-nav-mode","Browser","fluent","true",3,"fieldListTree","scrollSelectedItemIntoViewOnInit","checkMode","options","loading"],[1,"pbi-field-list-watermark"]],template:function(n,a){1&n&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275listener("click",function(h){return h.stopPropagation()}),r.\u0275\u0275elementStart(1,"pbi-field-list",1),r.\u0275\u0275pipe(2,"async"),r.\u0275\u0275pipe(3,"async"),r.\u0275\u0275pipe(4,"async"),r.\u0275\u0275element(5,"field-list-watermark",2),r.\u0275\u0275elementEnd()()),2&n&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("fieldListTree",r.\u0275\u0275pipeBind1(2,5,a.emptyModel$)?null:r.\u0275\u0275pipeBind1(3,7,a.fieldListTree$))("scrollSelectedItemIntoViewOnInit",!0)("checkMode",a.checkMode)("options",a.fieldListOptions)("loading",r.\u0275\u0275pipeBind1(4,9,a.loading$)))},dependencies:[ke.l,Ke,H.AsyncPipe],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}pbi-field-list[_ngcontent-%COMP%]{flex:1;padding:0 4px}pbi-field-list[_ngcontent-%COMP%]     pbi-tree{margin-top:8px;padding-top:0!important}"],changeDetection:0}),e}(),Qe=o(52910),Je=o(82156),re=o(79061),Ge=o(34256),Xe=function(){function e(){}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=r.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=r.\u0275\u0275defineInjector({imports:[H.CommonModule,re.v]}),e}(),Ye=o(41920),Ze=function(){function e(){}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=r.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=r.\u0275\u0275defineInjector({imports:[H.CommonModule,re.v]}),e}(),qe=o(72359),et=o(56545),tt=o(63654),it=o(94841),nt=[{type:Se,componentId:"FieldListContainerComponentId"}],rt=function(){function e(){}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=r.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=r.\u0275\u0275defineInjector({providers:(0,u.__spreadArray)((0,u.__spreadArray)((0,u.__spreadArray)([],Ge.q,!0),Ye.U,!0),[ve.J],!1),imports:[H.CommonModule,Qe.O,i.J,Je.N.withManifests(nt),re.v,it.b,qe.K,et.g,tt.X,Ze,Xe]}),e}()},7779:function(w,I,o){o.d(I,{r:function(){return A}});var u=o(23983),i=o(29834),_=o(93215),S=o(8538),M=o(34145),A=[u.eE,i.c,_.b,S.h,{provide:M.q,useExisting:_.b}]},93215:function(w,I,o){o.d(I,{b:function(){return R}});var u=o(81337),i=o(98209),_=o(8590),S=o(35510),M=o(50423),A=o(11494),r=o(83008),D=o(26898),T=o(65181),R=function(){function v(b,L,s,l){var g=this;this.conceptualSchemaProxy=L,this.dataSourcesService=s,this.localizationService=l,this.modelUpdates=new S.X({schema:void 0,model:void 0,appliedChanges:void 0}),this.subscriptionManager=b.createChannelSubscriptionManager(),this.subscriptionManager.subscribe(_.CCe,function(j,B){return g.update(B.result.changes)})}return v.prototype.update=function(b,L,s){return void 0===L&&(L=!0),void 0===s&&(s=!1),(0,u.__awaiter)(this,void 0,void 0,function(){var l,g;return(0,u.__generator)(this,function(B){switch(B.label){case 0:return this.dataSourcesService.get()?(L||this.conceptualSchemaProxy.clearCache(),[4,this.conceptualSchemaProxy.get(this.dataSourcesService.get())]):[3,2];case 1:(l=B.sent())&&(g=new i.O(this.localizationService).createModel(l,s)),B.label=2;case 2:return this.modelUpdates.next({schema:l,model:g,appliedChanges:b}),[2]}})})},Object.defineProperty(v.prototype,"modelChange$",{get:function(){return this.modelUpdates.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"model",{get:function(){return this.modelUpdates.value.model},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"schema",{get:function(){return this.modelUpdates.value.schema},enumerable:!1,configurable:!0}),v.\u0275fac=function(L){return new(L||v)(M.\u0275\u0275inject(A.J),M.\u0275\u0275inject(D.i),M.\u0275\u0275inject(r.D),M.\u0275\u0275inject(T.o))},v.\u0275prov=M.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac}),v}()},8538:function(w,I,o){o.d(I,{h:function(){return L}});var u=o(70863);function i(s){return{schema:s.schemaName,entity:(0,u.wb)(s)?s.name:(0,u.Om)(s)?s.table.name:(0,u.ez)(s)?s.hierarchy.table.name:void 0,hierarchy:(0,u.y3)(s)?s.name:(0,u.ez)(s)?s.hierarchy.name:void 0,hierarchyLevel:(0,u.ez)(s)?s.name:void 0,property:(0,u.wb)(s)||(0,u.y3)(s)||(0,u.ez)(s)||(0,u.Ov)(s)?void 0:s.name}}var M=o(8590),A=o(62458),r=o(9738),D=o(34763),T=o(50423),R=o(11494),v=o(39833),b=o(93215),L=function(){function s(l,g,j,B){this.schemaItemActivationService=g,this.modelService=j,this.modelingSelectionService=B,this.subscription=new D.w,this.subscriptionManager=l.createChannelSubscriptionManager()}return s.prototype.initialize=function(){var l=this;this.subscriptionManager.subscribe(M.$Bd,function(){return l.onSchemaItemActivationChanged()}),this.subscription.add(this.modelingSelectionService.selectionChanged.subscribe(function(g){return l.onSelectionChanged(g)}))},s.prototype.onSelectionChanged=function(l){if(0===l.length)this.schemaItemActivationService.clearActiveItem();else{var g=l[l.length-1];l.length>1&&this.modelingSelectionService.select(g,!0),this.schemaItemActivationService.setActiveItem(i(g))}},s.prototype.onSchemaItemActivationChanged=function(){if(!function(s,l){if(!l&&0===s.length)return!0;if(1===s.length&&l){var g=i(s[0]);return l.schema===g.schema&&l.entity===g.entity&&l.property===g.property&&l.hierarchy===g.hierarchy&&l.hierarchyLevel===g.hierarchyLevel}return!1}(this.modelingSelectionService.selection,this.schemaItemActivationService.getActiveItem())){var l=this.schemaItemActivationService.getActiveItem();if(l){var g=function(s,l){return l.hierarchyLevel?(0,u.xu)(s,l.schema,l.entity,l.hierarchy,l.hierarchyLevel):l.hierarchy?(0,u.ZG)(s,l.schema,l.entity,l.hierarchy):l.property?(0,u.Gz)(s,l.schema,l.entity,l.property)||(0,u.yo)(s,l.schema,l.entity,l.property):(0,u.AG)(s,l.entity)}(this.modelService.model,l);g?this.modelingSelectionService.select(g,!0):A.fF.assert(function(){return!!g},"onSchemaItemActivationChanged item not found in model")}else this.modelingSelectionService.clear()}},s.prototype.ngOnDestroy=function(){this.subscriptionManager.unsubscribeAll(),this.subscription.unsubscribe()},s.\u0275fac=function(g){return new(g||s)(T.\u0275\u0275inject(R.J),T.\u0275\u0275inject(v.WK),T.\u0275\u0275inject(b.b),T.\u0275\u0275inject(r.W6))},s.\u0275prov=T.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}()},65005:function(w,I,o){o.d(I,{l:function(){return E}});var u=o(81337),i=o(50423),_=o(48787),S=o(30794),M=o(37196),A=[],r=o(77476),D=o(68070),T=o(89237);function R(c,f){1&c&&i.\u0275\u0275element(0,"div",7)}function v(c,f){1&c&&(i.\u0275\u0275elementStart(0,"div",8),i.\u0275\u0275element(1,"div",9)(2,"div",10),i.\u0275\u0275elementEnd())}function b(c,f){1&c&&(i.\u0275\u0275elementStart(0,"div",11),i.\u0275\u0275element(1,"div",12),i.\u0275\u0275elementStart(2,"div",13),i.\u0275\u0275element(3,"div",14)(4,"div",15),i.\u0275\u0275elementEnd()())}function L(c,f){if(1&c&&(i.\u0275\u0275elementContainerStart(0,3),i.\u0275\u0275template(1,R,1,0,"div",4),i.\u0275\u0275template(2,v,3,0,"div",5),i.\u0275\u0275template(3,b,5,0,"div",6),i.\u0275\u0275elementContainerEnd()),2&c){var p=f.$implicit,m=i.\u0275\u0275nextContext(2);i.\u0275\u0275property("ngSwitch",p),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitchCase",m.largeBarType),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitchCase",m.multipleBarType),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitchCase",m.multipleSmallLargeType)}}function s(c,f){if(1&c&&(i.\u0275\u0275elementStart(0,"div",1),i.\u0275\u0275template(1,L,4,4,"ng-container",2),i.\u0275\u0275elementEnd()),2&c){var p=i.\u0275\u0275nextContext();i.\u0275\u0275property("ngStyle",p.barsStyle),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",p.barsProperties.bars)}}var Y=function(){function c(){this.largeBarType=0,this.multipleBarType=1,this.multipleSmallLargeType=2}return c.prototype.ngOnChanges=function(){this.barsProperties&&(this.barsStyle={height:"".concat((this.barsProperties.height+8)*this.barsProperties.bars.length,"px")})},c.\u0275fac=function(p){return new(p||c)},c.\u0275cmp=i.\u0275\u0275defineComponent({type:c,selectors:[["shimmering-bars"]],inputs:{barsProperties:"barsProperties"},features:[i.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[["class","bars",3,"ngStyle",4,"ngIf"],[1,"bars",3,"ngStyle"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","largerLoadingBar animate",4,"ngSwitchCase"],["class","multipleBars",4,"ngSwitchCase"],["class","multipleSmallLarge",4,"ngSwitchCase"],[1,"largerLoadingBar","animate"],[1,"multipleBars"],[1,"miniLoadingBar","animate"],[1,"smallerLoadingBar","animate"],[1,"multipleSmallLarge"],[1,"shimmerBox","animate"],[1,"smallLargeBarContainer"],[1,"upperLoadingBar","animate"],[1,"lowerLoadingBar","animate"]],template:function(p,m){1&p&&i.\u0275\u0275template(0,s,2,2,"div",0),2&p&&i.\u0275\u0275property("ngIf",m.barsProperties)},dependencies:[r.NgForOf,r.NgIf,r.NgStyle,r.NgSwitch,r.NgSwitchCase],styles:['[_nghost-%COMP%]{--shimmer-background-color: var(--gray-20);--shimmer-animate1: var(--gray-30);--shimmer-animate2: var(--gray-50)}[data-legacy-theming=false]   [_nghost-%COMP%]{--shimmer-background-color: var(--colorNeutralBackground3);--shimmer-animate1: var(--colorNeutralBackground3Hover);--shimmer-animate2: var(--colorNeutralBackground3Pressed)}.bars[_ngcontent-%COMP%]{display:flex;flex-direction:column}.largerLoadingBar[_ngcontent-%COMP%]{border-radius:2px;flex-grow:1;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%]{margin:4px 8px}html[dir="rtl"][_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%]{margin:4px 8px}.multipleBars[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}html:not([dir="rtl"])[_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%]{margin:4px 8px}html[dir="rtl"][_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%]{margin:4px 8px}.miniLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:60%;width:10%;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%]{margin-right:4px}html[dir="rtl"][_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%]{margin-left:4px}.smallerLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:80%;width:100%;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%]{margin-left:4px}html[dir="rtl"][_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%]{margin-right:4px}.multipleSmallLarge[_ngcontent-%COMP%]{display:flex;flex-grow:1;padding:10px 9px}html:not([dir="rtl"])[_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%]{margin:4px 8px}html[dir="rtl"][_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%]{margin:4px 8px}.upperLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:65%;width:49%;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%]{margin:0 4px 11px 0}html[dir="rtl"][_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%]{margin:0 0 11px 4px}.lowerLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:65%;width:100%;background:var(--shimmer-background-color)}.shimmerBox[_ngcontent-%COMP%]{background:var(--shimmer-background-color);border-radius:2px;height:32px;width:32px}.smallLargeBarContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:167px}html:not([dir="rtl"])[_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%]{margin:4px 0 2.42px 13px}html[dir="rtl"][_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%]{margin:4px 13px 2.42px 0}.animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 5s infinite linear;background:linear-gradient(270deg,var(--shimmer-animate1) 0%,var(--shimmer-animate2) 50%,var(--shimmer-animate1) 100%);background-size:250% 100%}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:250% 0}to{background-position:-250% 0}}'],changeDetection:0}),c}(),Z=o(85102),U=["pbiTree"];function q(c,f){if(1&c){var p=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"tri-search-box",5),i.\u0275\u0275listener("value",function(C){i.\u0275\u0275restoreView(p);var P=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(P.search$.next(C))}),i.\u0275\u0275pipe(1,"localize"),i.\u0275\u0275pipe(2,"localize"),i.\u0275\u0275elementEnd()}if(2&c){var m=i.\u0275\u0275nextContext();i.\u0275\u0275property("currentInputValue",m.searchText||"")("placeholderText",i.\u0275\u0275pipeBind1(2,8,"SearchBox_Text"))("fluentTheme",!0)("compact",!0)("fullWidth",!0),i.\u0275\u0275attribute("aria-label",i.\u0275\u0275pipeBind1(1,6,"SearchBox_Text"))}}function W(c,f){if(1&c){var p=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"pbi-search-box")(1,"input",6),i.\u0275\u0275listener("input",function(C){i.\u0275\u0275restoreView(p);var P=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(P.search$.next(C.target.value))}),i.\u0275\u0275pipe(2,"localize"),i.\u0275\u0275pipe(3,"localize"),i.\u0275\u0275elementEnd()()}if(2&c){var m=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("value",m.searchText||"")("placeholder",i.\u0275\u0275pipeBind1(3,5,"SearchBox_Text")),i.\u0275\u0275attribute("aria-label",i.\u0275\u0275pipeBind1(2,3,"SearchBox_Text"))}}function ee(c,f){if(1&c&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275element(1,"shimmering-bars",7),i.\u0275\u0275elementContainerEnd()),2&c){var p=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("barsProperties",p.shimmeringBars)}}function V(c,f){if(1&c){var p=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"pbi-tree",12,13),i.\u0275\u0275listener("onNodeClick",function(C){i.\u0275\u0275restoreView(p);var P=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(P.onNodeClick.emit(C))})("onNodeCheck",function(C){i.\u0275\u0275restoreView(p);var P=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(P.onNodeCheck.emit(C))})("onNodeExpansionToggle",function(C){i.\u0275\u0275restoreView(p);var P=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(P.onNodeExpansionToggle.emit(C))})("onFirstRender",function(){i.\u0275\u0275restoreView(p);var C=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(C.onFirstRender())}),i.\u0275\u0275pipe(2,"async"),i.\u0275\u0275elementEnd()}if(2&c){var m=i.\u0275\u0275nextContext(2);i.\u0275\u0275property("tree",m.fieldListTree)("search",i.\u0275\u0275pipeBind1(2,5,m.search$))("hasHighlights",m.hasHighlights)("checkMode",m.checkMode)("options",m._options)}}function K(c,f){1&c&&i.\u0275\u0275projection(0,2)}function x(c,f){if(1&c&&(i.\u0275\u0275elementStart(0,"div",8),i.\u0275\u0275element(1,"div",9),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(2,V,3,7,"pbi-tree",10),i.\u0275\u0275template(3,K,1,0,"ng-template",null,11,i.\u0275\u0275templateRefExtractor)),2&c){var p=i.\u0275\u0275reference(4),m=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",m.fieldListTree)("ngIfElse",p)}}var Q=[[["",8,"pbi-field-list-perspective-header"]],[["",8,"pbi-field-list-header"]],[["",8,"pbi-field-list-watermark"]]],te=[".pbi-field-list-perspective-header",".pbi-field-list-header",".pbi-field-list-watermark"],J={height:24,bars:[0,1,1,0,0]},E=function(){function c(){this.hasHighlights=!1,this.loading=!1,this.shimmeringBars=J,this.defaultOptions={},this._options=this.defaultOptions,this.onNodeExpansionToggle=new i.EventEmitter,this.onNodeClick=new i.EventEmitter,this.onNodeCheck=new i.EventEmitter,this.onFirstRenderComplete=new i.EventEmitter,this.handleFieldListTreeHeightDiff=new i.EventEmitter,this.search$=new S.xQ}return Object.defineProperty(c.prototype,"options",{set:function(p){this._options=(0,u.__assign)((0,u.__assign)({},this.defaultOptions),p)},enumerable:!1,configurable:!0}),c.prototype.ngOnInit=function(){var f=this;this.focusSearchBoxOnFirstRenderComplete&&this.onFirstRenderComplete.pipe((0,_.q)(1)).subscribe(function(){return f.focusSearchBox()})},c.prototype.onFirstRender=function(){var f=this.getFieldListTreeHeightDiff();this.handleFieldListTreeHeightDiff.emit(f),this.scrollSelectedItemIntoViewOnInit&&this.pbiTree.scrollToFirstSelectedNode(),this.onFirstRenderComplete.emit()},c.prototype.focusSearchBox=function(){$(".field-list-search-container input").trigger("focus")},c.prototype.getFieldListTreeHeightDiff=function(){return this.pbiTree.getTreeHeight()+2-this.pbiTreeElementRef.nativeElement.getBoundingClientRect().height},c.\u0275fac=function(p){return new(p||c)},c.\u0275cmp=i.\u0275\u0275defineComponent({type:c,selectors:[["pbi-field-list"]],viewQuery:function(p,m){if(1&p&&(i.\u0275\u0275viewQuery(M.u,5),i.\u0275\u0275viewQuery(U,5,i.ElementRef)),2&p){var F=void 0;i.\u0275\u0275queryRefresh(F=i.\u0275\u0275loadQuery())&&(m.pbiTree=F.first),i.\u0275\u0275queryRefresh(F=i.\u0275\u0275loadQuery())&&(m.pbiTreeElementRef=F.first)}},inputs:{fieldListTree:"fieldListTree",scrollSelectedItemIntoViewOnInit:"scrollSelectedItemIntoViewOnInit",checkMode:"checkMode",hasHighlights:"hasHighlights",loading:"loading",searchText:"searchText",focusSearchBoxOnFirstRenderComplete:"focusSearchBoxOnFirstRenderComplete",fluent:"fluent",options:"options"},outputs:{onNodeExpansionToggle:"onNodeExpansionToggle",onNodeClick:"onNodeClick",onNodeCheck:"onNodeCheck",onFirstRenderComplete:"onFirstRenderComplete",handleFieldListTreeHeightDiff:"handleFieldListTreeHeightDiff"},features:[i.\u0275\u0275ProvidersFeature(A)],ngContentSelectors:te,decls:8,vars:4,consts:[["data-tutorial-target","search-box",1,"field-list-search-container"],["data-testid","search-bar-input",3,"currentInputValue","placeholderText","fluentTheme","compact","fullWidth","value",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["loaded",""],["data-testid","search-bar-input",3,"currentInputValue","placeholderText","fluentTheme","compact","fullWidth","value"],["pbiSearchInput","","data-testid","search-bar-input",1,"pbi-focus-outline",3,"value","placeholder","input"],[3,"barsProperties"],[1,"tutorial-target-container"],["data-tutorial-target","data-tree"],["data-testid","data-tree",3,"tree","search","hasHighlights","checkMode","options","onNodeClick","onNodeCheck","onNodeExpansionToggle","onFirstRender",4,"ngIf","ngIfElse"],["watermark",""],["data-testid","data-tree",3,"tree","search","hasHighlights","checkMode","options","onNodeClick","onNodeCheck","onNodeExpansionToggle","onFirstRender"],["pbiTree",""]],template:function(p,m){if(1&p&&(i.\u0275\u0275projectionDef(Q),i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275template(1,q,3,10,"tri-search-box",1),i.\u0275\u0275template(2,W,4,7,"pbi-search-box",2),i.\u0275\u0275elementEnd(),i.\u0275\u0275projection(3),i.\u0275\u0275projection(4,1),i.\u0275\u0275template(5,ee,2,1,"ng-container",3),i.\u0275\u0275template(6,x,5,2,"ng-template",null,4,i.\u0275\u0275templateRefExtractor)),2&p){var F=i.\u0275\u0275reference(7);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",m.fluent),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!m.fluent),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",m.loading)("ngIfElse",F)}},dependencies:[r.NgIf,D.a,D.p,T.U,M.u,Y,r.AsyncPipe,Z.F],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}pbi-tree[_ngcontent-%COMP%]{margin-top:9px;height:100%;display:block;overflow:hidden}.tutorial-target-container[_ngcontent-%COMP%]{position:relative;visibility:hidden;height:0;width:0}.tutorial-target-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:20px;visibility:hidden;height:0;width:0}"],changeDetection:0}),c}()}}]);