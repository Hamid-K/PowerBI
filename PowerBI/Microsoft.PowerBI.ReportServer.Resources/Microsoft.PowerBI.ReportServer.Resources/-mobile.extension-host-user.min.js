"use strict";(self.webpackChunkmobile=self.webpackChunkmobile||[]).push([["extension-host-user"],{1424:function(C,l,r){r.r(l),r.d(l,{ExtensionHostUserModule:function(){return A}});var y=r(77476),m=r(60756),f=r(81337),H=r(59017),a=r(11547),h=r(14172),U=r(59822),T=r(48787),i=r(73471),x=r(60397),j=r(17899),n=r(50423),P=new n.InjectionToken("UserProfileService"),p=new n.InjectionToken("UserDirectorytHttpService"),E=r(79226),g=function(){function e(t,s,I,M,D){var v=this;this.actions$=t,this.messageBroker=s,this.userProfileService=I,this.userDirectoryHttpService=M,this.userInfo=D,this.onGetUserProfileReceived$=(0,j.Av)(this.actions$,this.messageBroker,i.Vm.getUserProfile,function(u){var d=u.shouldRunTenantAdminCheck;return(0,H.aj)([v.userProfileService.acquireUserProfile(),d?v.isTenantAdmin():(0,a.of)(void 0)]).pipe((0,h.U)(function(o){var V=o[1];return i.Vm.getUserProfile.resolve((0,f.pi)((0,f.pi)({},o[0]),{isTenantAdmin:V}))}),(0,U.K)(function(o){return(0,a.of)(i.Vm.getUserProfile.reject({error:o}))}))}),this.onFindUsersReceived$=(0,j.Av)(this.actions$,this.messageBroker,i.Vm.findUsers,function(u){return v.userDirectoryHttpService.findUsers(u.prefix,u.objectType,10,!0,!0).pipe((0,T.q)(1),(0,h.U)(function(c){return i.Vm.findUsers.resolve(c.data)}),(0,U.K)(function(c){return(0,a.of)(i.Vm.findUsers.reject({error:(0,f.pi)((0,f.pi)({},c),{headers:void 0})}))}))})}return e.prototype.isTenantAdmin=function(){var t=this;return this.userInfo.userMetadataPromise.then(function(){return t.userInfo.isTenantAdmin})},e.\u0275fac=function(s){return new(s||e)(n.\u0275\u0275inject(m.eX),n.\u0275\u0275inject(x.u),n.\u0275\u0275inject(P),n.\u0275\u0275inject(p),n.\u0275\u0275inject(E.M))},e.\u0275prov=n.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),A=function(){function e(){}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=n.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=n.\u0275\u0275defineInjector({imports:[y.CommonModule,m.sQ.forFeature([g])]}),e}()}}]);