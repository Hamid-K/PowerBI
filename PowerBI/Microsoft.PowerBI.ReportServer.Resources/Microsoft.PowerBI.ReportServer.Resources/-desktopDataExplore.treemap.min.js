"use strict";(self.webpackChunkdesktopDataExplore=self.webpackChunkdesktopDataExplore||[]).push([["treemap"],{32860:function(Yt,$e,d){d.r($e),d.d($e,{TreeMapHitTester:function(){return ht},Treemap:function(){return zt},TreemapWebBehavior:function(){return ot},WebTreemapAnimator:function(){return nt},webAnimator:function(){return Ot},webBehavior:function(){return Gt}});var z=d(81337),qe=d(94478),m=d(92947),ie=d(60066),_e=d(32554),we=d(90120),j=d(54522),Q=d(46769),F=d(21181),te=d(18664),Nt=d(52083),Vt=d(33777),Dt=d(49203),Re=d(80065),et=d(11745),tt=d(52287),Tt=d(86900),ze=d(38400),c=d(70249),at=d(51129),Ce=d(79811),de=d(86727),Ht=d(65741),Pt=d(77686),ce=d(72902),jt=d(40739),le=d(11305),rt=d(45296),Oe=d(62458),Ft=d(41640),it=d(80758),Et=d(32041),Ge=d(59107),fe=d(56578),lt=d(64329),We=d(46135),st=d(32379),At=d(82755),Rt=d(96915),ve=d(72489),ge=d(26543),nt=function(i){function e(t){return i.call(this,t)||this}return(0,z.__extends)(e,i),e.prototype.animate=function(t){var a={failed:!0,shapes:null,highlightShapes:null,majorLabels:null,minorLabels:null},l=t.viewModel,r=this.previousViewModel;return r&&(l.hasHighlights&&!r.hasHighlights?a=this.animateNormalToHighlighted(t):l.hasHighlights&&r.hasHighlights?a=this.animateHighlightedToHighlighted(t):!l.hasHighlights&&r.hasHighlights&&(a=this.animateHighlightedToNormal(t))),this.previousViewModel=l,a},e.prototype.animateNormalToHighlighted=function(t){var a=t.interactivityService&&t.interactivityService.hasSelection(),l=!0,r=this.animateDefaultShapes(t.shapeGraphicsContext,t.nodes,a,l,t.layout),o=t.shapeGraphicsContext.selectAll("."+c.Sh.highlight).data(t.highlightNodes,function(g){return g.data.key+"highlight"}),n=o.enter().append("rect").attr("class",t.layout.highlightShapeClass).attrs(t.layout.shapeLayout),s=o.merge(n).style("fill",function(g){return(0,c._M)(g,!0)}).style("fill-opacity",function(g){return(0,c.eR)(g,a,l,!0)});return s.transition().duration(this.animationDuration).attrs(t.layout.highlightShapeLayout),o.exit().remove(),{failed:!1,shapes:r,highlightShapes:s,majorLabels:this.animateDefaultMajorLabels(t.labelGraphicsContext,t.majorLabeledNodes,t.categoryLabelSettings,t.layout),minorLabels:this.animateDefaultMinorLabels(t.labelGraphicsContext,t.minorLabeledNodes,t.dataLabelSettings,t.layout)}},e.prototype.animateHighlightedToHighlighted=function(t){var a=t.interactivityService&&t.interactivityService.hasSelection(),l=!0,r=this.animateDefaultShapes(t.shapeGraphicsContext,t.nodes,a,l,t.layout);return t.shapeGraphicsContext.selectAll("."+c.Sh.highlight).data(t.highlightNodes,function(h){return h.data.key+"highlight"}),{failed:!1,shapes:r,highlightShapes:this.animateDefaultHighlightShapes(t.shapeGraphicsContext,t.highlightNodes,a,l,t.layout),majorLabels:this.animateDefaultMajorLabels(t.labelGraphicsContext,t.majorLabeledNodes,t.categoryLabelSettings,t.layout),minorLabels:this.animateDefaultMinorLabels(t.labelGraphicsContext,t.minorLabeledNodes,t.dataLabelSettings,t.layout)}},e.prototype.animateHighlightedToNormal=function(t){var a=!!t.interactivityService&&t.interactivityService.hasSelection(),l=t.shapeGraphicsContext.selectAll("."+c.Sh.node).data(t.nodes,function(u){return u.data.key}),r=l.enter().append("rect").attr("class",t.layout.shapeClass),o=l.merge(r);o.transition().duration(this.animationDuration).style("fill",function(u){return(0,c._M)(u,!1)}).style("fill-opacity",function(u){return ie.eR(u.data.selected,!1,u.data.selected,!u.data.selected)}).attrs(t.layout.shapeLayout).transition().duration(0).style("fill-opacity",function(u){return ie.eR(u.data.selected,!1,a,!1)}),l.exit().remove();var n=t.shapeGraphicsContext.selectAll("."+c.Sh.highlight).data(t.nodes,function(u){return u.data.key+"highlight"}),s=n.enter().append("rect").attr("class",t.layout.highlightShapeClass),h=n.merge(s).style("fill",function(u){return(0,c._M)(u,!0)}).style("fill-opacity",function(u){return ie.eR(u.data.selected,!0,u.data.selected,!u.data.selected)});return h.transition().duration(this.animationDuration).attrs(a?t.layout.zeroShapeLayout:t.layout.shapeLayout).remove(),n.exit().remove(),{failed:!1,shapes:o,highlightShapes:h,majorLabels:this.animateDefaultMajorLabels(t.labelGraphicsContext,t.majorLabeledNodes,t.categoryLabelSettings,t.layout),minorLabels:this.animateDefaultMinorLabels(t.labelGraphicsContext,t.minorLabeledNodes,t.dataLabelSettings,t.layout)}},e.prototype.animateDefaultShapes=function(t,a,l,r,o){var n=!1,s=t.selectAll("."+c.Sh.node).data(a,function(g){return g.data.key}),h=s.enter().append("rect").attr("class",o.shapeClass),v=s.merge(h);return v.transition().duration(this.animationDuration).style("fill",function(g){return(0,c._M)(g,n)}).style("fill-opacity",function(g){return(0,c.eR)(g,l,r,n)}).attrs(o.shapeLayout),s.exit().remove(),v},e.prototype.animateDefaultHighlightShapes=function(t,a,l,r,o){var n=!0,s=t.selectAll("."+c.Sh.highlight).data(a,function(g){return g.data.key+"highlight"}),h=s.enter().append("rect").attr("class",o.highlightShapeClass),v=s.merge(h);return v.transition().duration(this.animationDuration).style("fill",function(g){return(0,c._M)(g,n)}).style("fill-opacity",function(g){return(0,c.eR)(g,l,r,n)}).attrs(o.highlightShapeLayout),s.exit().remove(),v},e.prototype.animateDefaultMajorLabels=function(t,a,l,r){var o=t.selectAll("."+c.Sh.major).data(a,function(h){return h.data.key}),n=o.enter().append("text").attr("class",r.majorLabelClass),s=o.merge(n).text(r.majorLabelText).styles(function(h){return(0,te.rL)(l.fontProperties,{color:h.data.categoryLabelFill})});return s.transition().duration(this.animationDuration).attrs(r.majorLabelLayout),o.exit().remove(),s},e.prototype.animateDefaultMinorLabels=function(t,a,l,r){var o=t.selectAll("."+c.Sh.minor).data(a,function(h){return h.data.key}),n=o.enter().append("text").attr("class",r.minorLabelClass),s=o.merge(n).text(r.minorLabelText).styles(function(h){return(0,te.rL)(l.fontProperties,{color:h.data.labelFill})});return s.transition().duration(this.animationDuration).attrs(r.minorLabelLayout),o.exit().remove(),s},e}(qe.r5),E=d(30237),ot=function(){function i(){}return i.prototype.bindEvents=function(e,t,a,l){this.root=e.root,this.shapes=e.shapes,this.highlightShapes=e.highlightShapes,this.hasHighlights=e.hasHighlights,this.visualInstanceId=e.visualInstanceId;var r=e.majorLabels,o=e.minorLabels;if(this.selectionHandler=t,this.hitTester=e.hitTester,l)(0,E.FO)(this.shapes),this.highlightShapes&&(0,E.FO)(this.highlightShapes),r&&(0,E.FO)(r),o&&(0,E.FO)(o);else{if((0,E.a0)(this.shapes,t),this.highlightShapes&&(0,E.a0)(this.highlightShapes,t),a){var n=a.dataPointNavigationManager,s=a.pointSourceKey;n.isEmpty(s)||((0,E.lt)(this.root,t),(0,E.I8)(this.shapes,n,s),(0,E.W3)(this.root,n,s),(0,E.zV)(this.root,e.visualInstanceId,s,"treeitem"))}r&&(0,E.a0)(r,t),o&&(0,E.a0)(o,t)}},i.prototype.lassoSelectRect=function(e,t){var a=this.hitTester.queryRegion(t);(0,E.ct)(e,a,this.selectionHandler)},i.prototype.renderFocus=function(e){var t="".concat(ie.aY,"-").concat(this.visualInstanceId);this.root.select("#"+t).attr("id",null),e&&(e.setAttribute("id",t),Ge.M.focus(e))},i.prototype.renderSelection=function(e){var t=this.hasHighlights;this.shapes.attr("aria-checked",function(a){return null===a.parent?null:a.data.selected}).style("fill",function(a){return(0,c._M)(a,!1)}).style("fill-opacity",function(a){return(0,c.eR)(a,e,t,!1)}).style("stroke-opacity",function(a){return(0,c.eR)(a,e,t,!1)}),this.highlightShapes.attr("aria-checked",function(a){return null===a.parent?null:a.data.selected}).style("fill",function(a){return(0,c._M)(a,!0)}).style("fill-opacity",function(a){return(0,c.eR)(a,e,t,!0)}).style("stroke-opacity",function(a){return(0,c.eR)(a,e,t,!0)})},i}(),B=d(56707),zt=function(){function i(e){this.tooltipsEnabled=e&&e.tooltipsEnabled,this.cartesianConditionalFormatting=e&&e.cartesianConditionalFormatting,this.dataPointLassoSelect=e?.dataPointLassoSelect,e&&e.animator&&(this.animator=e.animator,this.isScrollable=!!e.isScrollable&&e.isScrollable,this.behavior=e.behavior)}return i.getLayout=function(e,t,a){var l=(0,F.fI)(),r=a.show,o=e.show;return{role:function(s){return i.getNodeAccesibilityRole(s)},ariaHidden:function(s){return i.isAriaHidden(s)},shapeClass:function(s){return i.getNodeClass(s,!1)},shapeLayout:i.createTreemapShapeLayout(!1),highlightShapeClass:function(s){return i.getNodeClass(s,!0)},highlightShapeLayout:i.createTreemapShapeLayout(!0),zeroShapeLayout:i.createTreemapZeroShapeLayout(),majorLabelClass:function(s){return c.Sh.major},majorLabelLayout:{x:function(s){return s.x0+i.TextMargin},y:function(s){return s.y0+i.TextMargin+a.fontProperties.size.px}},majorLabelText:function(s){return i.createMajorLabelText(s,a,t,l)},majorLabelFullText:function(s){return s.data.name},minorLabelClass:function(s){return c.Sh.minor},minorLabelLayout:{x:function(s){return s.x0+i.TextMargin},y:function(s){return s.y1-i.TextMargin}},minorLabelText:function(s){return i.createMinorLabelText(s,e,t,l,a)},areMajorLabelsEnabled:function(){return r},areMinorLabelsEnabled:function(){return o}}},i.prototype.init=function(e){var a,t=this;this.options=e,this.hostService=e.host,this.featureSwitches=e.featureSwitches||{},this.behavior&&(this.interactivityService=(0,ce.ub)(this.hostService,this.featureSwitches));var l=e.element;if(l.empty(),this.style=e.style,this.svg=d3.select(l.get(0)).append("svg").style("position","absolute").classed(i.ClassName,!0),this.shapeGraphicsContext=this.svg.append("g").style("stroke",we.v.getThemeColor(this.style,c.oN)).classed(i.ShapesClassName,!0),this.interactivityService){var r=Ge.M.isInternetExplorerOrEdge();this.shapeGraphicsContext.attr("tabindex",0).attr("focusable",!0).attr("aria-label",this.hostService.getLocalizedString("Visual_Plot")).attr("role","tree").classed(ie.Pg,!r)}if(this.labelGraphicsContext=this.svg.append("g").classed(i.LabelsGroupClassName,!0),this.currentViewport={height:e.viewport.height,width:e.viewport.width,scale:e.viewport.scale},this.treemap=d3.treemap().tile(d3.treemapResquarify).round(!1),this.legend=(0,Ht.OG)(l,!1,this.interactivityService,this.isScrollable,void 0,this.style,this.hostService),this.tooltipService=(0,jt.r)(this.hostService),this.dataPointLassoSelect){this.plotLassoManager=new et.oW(!1);var o=d3.select(this.svg.node());this.plotLassoManager.init([o],o,this.hostService,this.featureSwitches),this.lassoSelectionBehavior=new et.lk(this.behavior),this.plotLassoManager.behaviors.push(this.lassoSelectionBehavior),this.plotLassoManager.setUiScale(this.currentViewport.scale)}if(this.featureSwitches.onObject){var s=(null===(a=this.hostService)||void 0===a?void 0:a.getSubSelectionService())??Tt.D.createWithDefaultHost();this.subSelectionHelper=tt.O5.createHtmlSubselectionHelper({hostElement:l.get(0),hostServices:this.hostService,renderer:s,targetSource:"format",scale:function(){return t.currentViewport.scale},selectorCallback:function(v){return t.getSelectorsByColumnSubSelection(v)}}),this.interactivityService.setSubSelectionHelper(this.subSelectionHelper)}},i.getDefaultTreemapDataLabelSettings=function(e){var t=we.v.getThemeColor(e,B.pl),a=(0,F.bT)({style:e,fontSize:lt.FP.toPoint(B.WP),fontFamily:B.Pq,labelColor:t,textClassName:"smallLightLabel"}).fontProperties;return a=(0,te.ED)(a,{color:t}),{show:!1,displayUnits:0,precision:B.NZ,fontProperties:a,minFontSize:B.LK,maxFontSize:B.N0,bold:!1,italic:!1,underline:!1}},i.getDefaultTreemapCategoryLabelSettings=function(e){var t=we.v.getThemeColor(e,B.pl),a=(0,F.bT)({style:e,fontSize:lt.FP.toPoint(B.XJ),fontFamily:B.Pq,labelColor:t,textClassName:"label"}).fontProperties;return{show:!0,fontProperties:a=(0,te.ED)(a,{color:t}),bold:!1,italic:!1,underline:!1}},i.converter=function(e){var t,a,l,r,o,n,s,h,v,g,u,Me,S,P,ne,p=e.dataView,O=e.style,b=e.dataLabelSettings,y=e.categoryLabelSettings,N=e.interactivityService,k=e.viewport,C=void 0===(t=e.tooltipsEnabled)||t,W=e.treemap,G=_.some(null!==(l=null===(a=p?.metadata)||void 0===a?void 0:a.columns)&&void 0!==l?l:[],function(Ye){var Ze;return null===(Ze=Ye?.roles)||void 0===Ze?void 0:Ze[m.A4.values]})?m.A4.values:m.A4.gradient,x=m._H.general.formatString,D=(0,at.G)(p,{staticSeriesRoleNames:[G],formatStringProp:x}),H=D.data,V=D.columns,se={key:"root",name:"root",size:void 0,children:[],originalValue:void 0,selected:!1,highlightMultiplier:0,identity:ge.l0.createNull(),color:void 0,categoryIndex:null,seriesIndex:null},Ne=[],Ue=we.v.create(O,m._H.dataPoint.fill),ut=b.fontProperties.color,dt=y.fontProperties.color;if(p&&p.metadata&&p.metadata.objects){var ct=(Ve=p.metadata.objects).labels;ct&&b&&(0,F.ww)(ct,b,void 0,O);var ft=Ve.categoryLabels;ft&&y&&(0,F.ww)(ft,y,void 0,O)}var Wt=H.hasSeries(),vt=H.hasCategories();if(H.hasValues(m.A4.values)||H.hasValues(m.A4.gradient)){var Y=p.categorical,De=Y.values.grouped();P=H.hasHighlights();var oe=i.getValuesFromCategoricalDataView(p,P,G),he=oe.values,I=oe.highlights;oe.highlightsOverflow&&(P=!1,he=I),Me=oe.hasNegativeValues,S=oe.allValuesAreNegative;var gt=i.getCullableValue(oe.totalValue,k),Z=V.hasDynamicSeries();ne=!1;var pe=V.getValueColumn(m.A4.gradient,0);if(null!=Y.categories||_.isEmpty(he)){if(Y.categories&&Y.categories.length>0){Te=H.getSeriesCount();for(var je=!H.hasSeries(),T=Y.categories[0],pt=(0,ve.EO)(T.source,x),L=0,It=he.length;L<It;L++){var Ve,St=Ue.getColorForSeriesValue(Ve=T.objects&&T.objects[L],T.identityFields,T.values[L]),Le=(0,Q.t$)({defaultColor:ut,categoricalDataReader:D,categoryIndex:L}),xe=(0,Q.Sm)({defaultColor:dt,categoricalDataReader:D,categoryIndex:L}),mt=(0,ve.WU)(T.values[L],pt),Je=he[L],$=(A=null===(r=Je[f=0])||void 0===r?void 0:r.value,R=null===(o=Je[f])||void 0===o?void 0:o.formatString,P&&I?I[L][f].value:void 0),q=P&&I?I[L][f].formatString:void 0,Ke=void(M=void 0);if(C){(M=[]).push(Ke={displayName:T.source.displayName,value:mt}),Z&&(ye=V.getSeriesMetadataColumn(),Xe=H.getSeriesName(f),M.push({displayName:ye.displayName,value:(0,j.xq)(Xe,ye,x)}));var Fe=V.getValueMetadataColumn(G,f);null!=A&&M.push({displayName:Fe.displayName,value:(0,j.xq)(A,Fe,x,!1,R)}),null!=$&&M.push({displayName:le.I6.localizationOptions.highlightedValueDisplayName,value:(0,j.xq)($,Fe,x,!1,q)});var Ee=pe?pe.source:void 0;if(je&&Ee&&Ee!==Fe&&null!=pe.values[L]){var Xt=(0,At.NA)(null===(n=pe.objects)||void 0===n?void 0:n[L],x);M.push({displayName:Ee.displayName,value:(0,j.xq)(pe.values[L],Ee,x,!1,Xt)})}(0,le.VT)(D,M,L,f,x)}var yt=V.getValueMetadataColumn(G,f),Qe=(U=V.getValueColumn(G,f),je&&yt);if(me=ge.dw.builder().withCategory([T],L,null===(s=T?.source)||void 0===s?void 0:s.queryName,!0).withMeasure(Qe?yt.queryName:void 0,Qe?U:void 0,Qe?L:void 0).createSelectionId(),Ie=JSON.stringify({nodeKey:me.getKey(),depth:1}),be=1===Te?(0,ve.EO)(V.getValueMetadataColumn(G,f),x):pt,w={key:Ie,name:mt,size:void 0,originalValue:void 0,color:St,selected:!1,identity:me,tooltipInfo:M,formattedTooltip:(0,ze.X)(M),highlightedTooltipInfo:M,labelFormatString:R??be,categoryIndex:L,seriesIndex:f},xe.color){w.categoryLabelFill=xe.color;var Jt=(0,Q.B8)(xe)?xe.color:dt;y.fontProperties=(0,Q.Vv)(Jt,y.fontProperties)}if(Le.color){w.labelFill=Le.color;var Kt=(0,Q.B8)(Le)?Le.color:ut;b.fontProperties=(0,Q.Vv)(Kt,b.fontProperties)}P&&(w.highlightMultiplier=0!==A?$/A:0,w.highlightValue=S&&null!=$?Math.abs($):$,w.originalHighlightValue=$,w.highlightLabelFormatString=q??be);for(var ae=0,bt=0;f<Te;f++){var ue=V.getValueColumn(G,f),J=(Be=De&&De[f],Je[f].value),ee=void 0;if(ne=(Se=i.checkValueForShape(J,gt,S,ne)).dataWasCulled,Se.validShape&&(ae+=J,P&&(bt+=ee=I[L][f].value),!je)){var ke;ke=V.hasDynamicSeries()?(0,j.xq)(H.getSeriesName(f),V.getSeriesMetadataColumn(),x):D.data.getSeriesName(f);var Ae=Y?Y.values:null,Qt=ue.source.queryName,Lt=ge.dw.builder().withCategory([T],L,null===(h=T?.source)||void 0===h?void 0:h.queryName,!0).withSeries(Ae,Be,!0).withMeasure(Qt,ue,L).createSelectionId(),kt=JSON.stringify({nodeKey:Lt.getKey(),depth:2}),K=void(X=P&&0!==ee?ee:void 0);C&&((K=[]).push(Ke),Z&&(!T||T.source!==Ae.source)&&K.push({displayName:Ae.source.displayName,value:(0,j.xq)(H.getSeriesName(f),Ae.source,x)}),null!=J&&K.push({displayName:ue.source.displayName,value:(0,j.xq)(J,ue.source,x,!1,R)}),null!=$&&K.push({displayName:le.I6.localizationOptions.highlightedValueDisplayName,value:(0,j.xq)(X,ue.source,x,!1,q)}),(0,le.VT)(D,K,L,Z?f:void 0,x));var xt=(0,ve.EO)(ue.source,x),re={key:kt,name:ke,size:S?Math.abs(J):J,originalValue:J,color:St,selected:!1,identity:Lt,tooltipInfo:K,formattedTooltip:(0,ze.X)(K),highlightedTooltipInfo:K,labelFormatString:R??xt,categoryIndex:L,seriesIndex:f},wt=(0,Q.Sm)({defaultColor:xe.color,categoricalDataReader:D,categoryIndex:L,seriesIndex:f}),Ct=(0,Q.t$)({defaultColor:Le.color,categoricalDataReader:D,categoryIndex:L,seriesIndex:f});wt.color&&(w.categoryLabelFill=wt.color),Ct.color&&(re.labelFill=Ct.color),P&&(re.highlightMultiplier=0!==J?ee/J:0,re.highlightValue=S&&null!=ee?Math.abs(ee):null,re.originalHighlightValue=ee,re.highlightLabelFormatString=q??xt),null==w.children&&(w.children=[]),w.children.push(re),Ne.push(re)}}ae&&(je&&(w.size=S?Math.abs(ae):ae,w.originalValue=ae),se.children.push(w),Ne.push(w)),P&&(w.highlightMultiplier=ae?bt/ae:0)}}}else for(var f=0,Te=V.getSeriesCount();f<Te;f++){var A,Se,U=V.getValueColumn(G,f),Be=De&&De[f],R=he[0][f].formatString;if(ne=(Se=i.checkValueForShape(A=he[0][f].value,gt,S,ne)).dataWasCulled,Se.validShape){var He;He=Z?(0,j.xq)(V.getSeriesValueColumnGroup(f).name,V.getSeriesMetadataColumn(),x):D.columns.hasStaticSeries()?D.data.getSeriesName(f):D.data.getValueDisplayName(G);var me,Ie=(me=(new ge.dw).withSeries(p.categorical.values,Z?Be:void 0,!0).withMeasure(U.source.queryName,V.getValueColumn(G,f),-1).createSelectionId()).getKey(),Bt=Z?Ue.getColorForSeriesValue(D.objects.getSeriesDataObjects(f),Y.values.identityFields,(0,j.Pl)(U.source)):Ue.getColorForMeasure(U.source.objects,U.source.queryName),X=P?I[0][f].value:void 0,Pe=P?I[0][f].formatString:void 0,M=void 0;if(C){if(M=[],Z){var ye=V.getSeriesMetadataColumn(),Xe=H.getSeriesName(f);M.push({displayName:ye.displayName,value:(0,j.xq)(Xe,ye,x)})}null!=A&&M.push({displayName:U.source.displayName,value:(0,j.xq)(A,U.source,x,!1,R)}),null!=X&&M.push({displayName:le.I6.localizationOptions.highlightedValueDisplayName,value:(0,j.xq)(X,U.source,x,!1,Pe)}),(0,le.VT)(D,M,0,Z?f:void 0,x)}var be=(0,ve.EO)(U.source,x),w={key:Ie,name:He,size:S?Math.abs(A):A,originalValue:A,color:Bt,selected:!1,identity:me,tooltipInfo:M,formattedTooltip:(0,ze.X)(M),highlightedTooltipInfo:M,labelFormatString:R??be,categoryIndex:0,seriesIndex:f};P&&I&&(w.highlightMultiplier=0!==A?X/A:0,w.highlightValue=S&&null!=X?Math.abs(X):X,w.originalHighlightValue=X,w.highlightLabelFormatString=Pe??be),se.children.push(w),Ne.push(w)}}}var Mt=vt?(0,Ce.xw)({dataView:p,categoryRole:m.A4.group,valueRole:m.A4.values,showByDefault:!1,style:O}):(0,Ce.pq)({dataView:p,staticSeriesRoleNames:[m.A4.values],showByDefault:!1,style:O});return N&&(N.applySelectionStateToData(Ne),N.applySelectionStateToData(Mt.dataPoints)),{root:se,flattenedViewModel:i.flattenViewModel(se,W),hasHighlights:P,legendData:Mt,dataLabelSettings:b,categoryLabelSettings:y,legendObjectProperties:null!==(u=null===(g=null===(v=p.metadata)||void 0===v?void 0:v.objects)||void 0===g?void 0:g.legend)&&void 0!==u?u:null,dataWasCulled:ne,hasNegativeValues:Me,allValuesAreNegative:S,hasSeriesData:Wt,hasCategoryData:vt}},i.normalizedValue=function(e,t){return null==e||isNaN(e)?0:e===Number.POSITIVE_INFINITY?Number.MAX_VALUE:e===Number.NEGATIVE_INFINITY?-Number.MAX_VALUE:t?Math.abs(e):e<0?0:e},i.getValuesFromCategoricalDataView=function(e,t,a){for(var r=(0,at.G)(e,{staticSeriesRoleNames:[a],formatStringProp:m._H.general.formatString}).data,o=r.getCategoryCount()||1,n=r.getSeriesCount(),s=[],h=[],v=0,g=0;g<o;g++)s.push([]),t&&h.push([]);for(var u,p,O,b=0;b<n;b++)for(var y=0;y<o;y++){var N=r.getValue(a,y,b),k=r.getFormatString(a,y,b);s[y].push({value:N,formatString:k});var C=void 0;if(t){C=r.getHighlight(a,y,b);var W=r.getHighlightFormatString(a,y,b);null==C&&(C=0),h[y].push({value:C,formatString:W})}p=void 0===p?(!t||C<=0)&&N<=0:p&&(!t||C<=0)&&N<=0,u||(u=N<0||!!t&&C<0)}for(p=!!p,b=0;b<n;b++)for(y=0;y<o;y++)v+=N=i.normalizedValue(N=s[y][b].value,p),t&&(C=i.normalizedValue(C=h[y][b].value,p),!O&&(0,Ft.aP)(C,N)&&(O=!0));return{values:s,highlights:t?h:void 0,highlightsOverflow:t?O:void 0,totalValue:p?Math.abs(v):v,hasNegativeValues:u,allValuesAreNegative:p}},i.getCullableValue=function(e,t){return i.CullableArea/(t.width*t.height)*e},i.prototype.update=function(e){var t,a;Oe.fF.assertValue(e,"options"),this.featureSwitches.onObject&&e.formatMode!==this.formatMode&&(this.subSelectionHelper.setFormatMode(e.formatMode),this.interactivityService.setFormatMode(e.formatMode),this.formatMode=e.formatMode);var l=this.dataViews=e.dataViews;this.currentViewport=e.viewport,null===(t=this.plotLassoManager)||void 0===t||t.setUiScale(this.currentViewport.scale);var r=i.getDefaultTreemapDataLabelSettings(this.style),o=i.getDefaultTreemapCategoryLabelSettings(this.style);if(this.data=null!==(a=l?.[0])&&void 0!==a&&a.categorical?i.converter({dataView:l[0],style:this.style,dataLabelSettings:r,categoryLabelSettings:o,interactivityService:this.interactivityService,viewport:this.currentViewport,treemap:this.treemap,tooltipsEnabled:this.tooltipsEnabled,dataPointLassoSelect:this.dataPointLassoSelect}):{root:{key:"root",name:"root",originalValue:void 0,size:void 0,children:[],selected:!1,highlightMultiplier:0,identity:ge.l0.createNull(),color:void 0,categoryIndex:null,seriesIndex:null},flattenedViewModel:[],hasHighlights:!1,legendData:(0,Ce.Fe)(this.style),dataLabelSettings:r,categoryLabelSettings:o,dataWasCulled:!1,hasNegativeValues:!1,allValuesAreNegative:!1},this.updateInternal(e.suppressAnimations),l){var n=(0,Vt.b)(l,!1,!1,!1,["Tooltips"]);this.data.allValuesAreNegative?n.push(new rt.fi):this.data.hasNegativeValues&&n.push(new rt.v3),this.hostService.setWarnings(n)}var h=e.type&We.EP.FormattingSubSelectionChange;if(this.subSelectionHelper&&(e.type&We.EP.Data||e.type&We.EP.FormattingSubSelectionChange)&&(this.subSelectionHelper.updateOutlinesFromSubSelections(e.subSelections,!0),this.hostService.alertScreenReader&&h)){var v=this.subSelectionHelper.getLabelsFromSubSelections(e.subSelections,["aria-label"]),g=v?.length&&v.join(" ");g&&this.hostService.alertScreenReader(g)}},i.prototype.onDataChanged=function(e){this.update({suppressAnimations:e.suppressAnimations,dataViews:e.dataViews,viewport:this.currentViewport})},i.prototype.onResizing=function(e){this.update({suppressAnimations:!0,dataViews:this.dataViews,viewport:e})},i.prototype.onClearSelection=function(){this.interactivityService&&this.interactivityService.clearSelection()},i.prototype.onRestoreSelection=function(e){return!!this.interactivityService&&this.interactivityService.restoreSelection(e.selection)},i.prototype.getFormattingModel=function(){var e=this;if(this.data)return new fe.Nq(function(){return e.getLegendCard()},function(){return e.getDataPointCard(e.data)},function(){return e.getLabelsCard(e.data.dataLabelSettings,!0)},function(){return e.getCategoryLabelsCard(e.data.categoryLabelSettings,!1)}).build()},i.prototype.getDataPointCard=function(e){var t=this.dataViews&&this.dataViews.length>0&&this.dataViews[0],a=t&&this.dataViews[0].categorical,l=(0,Nt.Q1)(a),r=e.root.children;if(!_.isEmpty(r)&&!l){var o=!!(a&&a.values&&a.values.source),n=_.map(r,function(s){return{color:s.color,displayName:s.name,identity:s.identity}});return o||!this.cartesianConditionalFormatting?(0,_e.xr)(n,this.hostService,this.featureSwitches):(0,_e.k2)({dataView:t,style:this.style,categories:n,fillInstanceKind:2,hideShowAllToggle:!0,showAllDataPoints:!0,noDefaultFillColor:!0},this.featureSwitches,this.hostService)}},i.prototype.getLegendCard=function(){return(0,de.ZF)({legendData:this.data.legendData},this.hostService,this.featureSwitches)},i.prototype.getLabelsCard=function(e,t){var l,r,a=this;if(!_.isEmpty(this.dataViews))return(0,F.XQ)({cardBuilder:new fe.CQ(new fe.lg("labels"),"Visual_DataPointsLabels",m._H.labels,function(o){return a.hostService.getLocalizedString(o)}),dataLabelsProps:m._H.labels,featureSwitches:this.featureSwitches,hostServices:this.hostService,options:{dataLabelsSettings:e,show:!0,displayUnits:t,precision:t,fontSize:!0,fontFamily:!0,fontSizeRange:!0,style:this.style,bold:!0,italic:!0,underline:!0},individualSelector:(0,F.WD)({featureSwitches:this.featureSwitches,hasCategories:this.data.hasCategoryData,hasDynamicSeries:!(null===(r=null===(l=_.first(this.dataViews).categorical)||void 0===l?void 0:l.values)||void 0===r||!r.source),hasSeriesSelector:!1})})},i.prototype.getCategoryLabelsCard=function(e,t){var l,r,o,n,a=this;return(0,F.XQ)({cardBuilder:new fe.CQ(new fe.lg("categoryLabels"),"Visual_CategoryLabels",m._H.categoryLabels,function(s){return a.hostService.getLocalizedString(s)}),dataLabelsProps:m._H.categoryLabels,featureSwitches:this.featureSwitches,hostServices:this.hostService,options:{dataLabelsSettings:e,show:!0,displayUnits:t,precision:t,fontSize:!0,fontFamily:!0,fontSizeRange:!0,style:this.style,bold:!0,italic:!0,underline:!0},individualSelector:(0,F.WD)({featureSwitches:this.featureSwitches,hasCategories:null===(l=this.data)||void 0===l?void 0:l.hasCategoryData,hasDynamicSeries:!(null===(n=null===(o=null===(r=_.first(this.dataViews))||void 0===r?void 0:r.categorical)||void 0===o?void 0:o.values)||void 0===n||!n.source),hasSeriesSelector:!1})})},i.checkValueForShape=function(e,t,a,l){var r;return e?(r=a?Math.abs(e)<t:e<t)?{validShape:!1,dataWasCulled:l=l||r}:{validShape:!0,dataWasCulled:l}:{validShape:!1,dataWasCulled:l}},i.prototype.calculateTreemapSize=function(){var e=this.legend.getMargins();return{height:this.currentViewport.height-e.height,width:this.currentViewport.width-e.width}},i.prototype.initViewportDependantProperties=function(e){void 0===e&&(e=0);var t=this.calculateTreemapSize();this.svg.attr("width",t.width).attr("height",t.height),(0,Pt.xz)(this.svg,this.legend)},i.canDisplayMajorLabel=function(e,t){return!(1!==e.depth||_.isEmpty(e.data.name)||e.x1-e.x0-2*i.TextMargin<i.MinTextWidthForMajorLabel||e.y1-e.y0<t.fontProperties.size.px+2*i.TextMargin)},i.canDisplayMinorLabel=function(e,t,a){if(e.depth<1||e.depth>2||1===e.depth&&(e.children||!t.show)||_.isEmpty(e.data.name))return!1;var r=e.y1-e.y0;if(e.x1-e.x0-2*i.TextMargin<i.MinTextWidthForMinorLabel)return!1;var n=t.fontProperties.size.px+2*i.TextMargin;if(r<n)return!1;if(1===e.depth){if(e.y0+r-(s=e.y0+a.fontProperties.size.px+2*i.TextMargin)<n)return!1}else if(2===e.depth){var s=Math.max(e.parent.y0+a.fontProperties.size.px+2*i.TextMargin,e.y0);if(e.y0+r-s<n)return!1}return!0},i.createMajorLabelText=function(e,t,a,l){var r=e.x1-e.x0-2*i.TextMargin,o=(0,te.qk)(t.fontProperties,e.data.name);return Et.b.getTailoredTextOrDefault(o,r)},i.createMinorLabelText=function(e,t,a,l,r){var o=e.x1-e.x0-2*i.TextMargin,n=e.data,s=n.name;if(t.show){var h=l.getOrCreate(n.labelFormatString,t,a),v=l.getOrCreate(n.highlightLabelFormatString,t,a);s=(0,F.Gv)({label:null!=n.originalHighlightValue?n.originalHighlightValue:n.originalValue,maxWidth:o,formatter:null!=n.originalHighlightValue?v:h,fontProperties:t.fontProperties}),r.show&&2===e.depth&&(s=(0,F.Gv)({label:n.name,maxWidth:o,fontProperties:t.fontProperties})+" "+s)}return(0,F.Gv)({label:s,maxWidth:o,fontProperties:t.fontProperties})},i.prototype.updateInternal=function(e){var t=this.data,a=t&&t.hasHighlights,l=t?t.dataLabelSettings:i.getDefaultTreemapDataLabelSettings(this.style),r=t?t.categoryLabelSettings:i.getDefaultTreemapCategoryLabelSettings(this.style),o=(0,qe.Mb)(this.animator,e);!(this.options.interactivity&&this.options.interactivity.mobileTileInteractive)&&this.data&&this.renderLegend(),this.initViewportDependantProperties(o);var n=this.calculateTreemapSize();this.treemap=this.treemap.size([n.width,n.height]);var s=[];if(t&&t.root){var h=d3.hierarchy(t.root).sum(function(S){return S.size}).sort(function(S,se){return se.value-S.value});this.treemap(h).each(function(S){s.push(S)})}var g=s.filter(function(S){return null!=S.data.highlightMultiplier&&(!S.children||0===S.children.length)}),u=[],p=[],O=null;r.show&&(u=s.filter(function(S){return i.canDisplayMajorLabel(S,r)})),(l.show||r.show)&&(p=s.filter(function(S){return i.canDisplayMinorLabel(S,l,r)}),0===l.displayUnits&&(O=d3.max(p,function(S){return Math.abs(S.value)})));var y,N,k,C,W,b=i.getLayout(l,O,r);if(this.animator&&!e&&(y=(W=this.animator.animate({viewModel:t,nodes:s,highlightNodes:g,majorLabeledNodes:u,minorLabeledNodes:p,shapeGraphicsContext:this.shapeGraphicsContext,labelGraphicsContext:this.labelGraphicsContext,interactivityService:this.interactivityService,layout:b,dataLabelSettings:l,categoryLabelSettings:r})).shapes,N=W.highlightShapes,k=W.majorLabels,C=W.minorLabels),!this.animator||e||W.failed){var x=this.interactivityService&&this.interactivityService.hasSelection(),D=this.shapeGraphicsContext;y=i.drawDefaultShapes(D,s,a,b,this.interactivityService),N=i.drawDefaultHighlightShapes(D,g,x,a,b);var H=this.labelGraphicsContext;k=i.drawDefaultMajorLabels(H,u,r,b),C=i.drawDefaultMinorLabels(H,p,l,b)}if(this.featureSwitches.onObject&&((0,c.rI)(y,this.hostService,b),(0,c.$s)(k,"category-labels"),l.show?(0,c.$s)(C,"data-labels"):(0,c.Vi)(C)),this.interactivityService){this.navigationStrategy=!this.data.hasCategoryData&&this.data.hasSeriesData?ce.jN.SeriesOnly:this.data.hasCategoryData&&this.data.hasSeriesData?ce.jN.CategoryFirst:ce.jN.CategoryOnly;var V={navigationOptions:{navigationStrategy:this.navigationStrategy,helper:this},pointSourceKey:"treemap"},Me={root:this.shapeGraphicsContext,shapes:y,highlightShapes:N,majorLabels:k,minorLabels:C,nodes:s,hasHighlights:t.hasHighlights,visualInstanceId:this.hostService.instanceId,hitTester:new ht({nodes:s})};this.interactivityService.bind(_.map(s,function(S){return S.data}),this.behavior,Me,V)}this.tooltipsEnabled&&this.addTooltips(y,N)},i.prototype.getSelectorsByColumnSubSelection=function(e){if("category"===d3.select(e).attr(tt.Ez)){var l=d3.select(e).datum().data.identity.getSelectorsByColumn();if(l)return l}return{}},i.prototype.getSubSelectionShortcuts=function(e,t){var a,l,o=_.first(e).visualObjects;if(o.length>0&&!_.isEmpty(o[0])){var s={key:"Delete",nextValue:!1};switch(o[0].objectName){case"legend-title":return(0,de.tV)(this.hostService);case"legend-items":return(0,de.tY)({hostServices:this.hostService,showSort:!1});case"category":var h=!(null===(l=null===(a=_.first(this.dataViews).categorical)||void 0===a?void 0:a.values)||void 0===l||!l.source);return[{type:0,excludedResetFormattingIds:[m._H.categoryLabels.show,m._H.labels.show]},(0,z.__assign)((0,z.__assign)({type:2},m._H.categoryLabels.show),{enabledLabel:this.hostService.getLocalizedString("Visual_Add_CategoryLabel")}),(0,z.__assign)((0,z.__assign)({type:2},m._H.labels.show),{enabledLabel:this.hostService.getLocalizedString("Format_AddDataLabels")}),{type:1,destinationInfo:{cardUid:"".concat("Visual","-").concat("colors"),groupUid:h||!this.cartesianConditionalFormatting?"".concat("colors","-").concat("default"):"".concat("colors","-").concat("colors")},label:this.hostService.getLocalizedString("Format_Categories")}];case"category-labels":return[(0,z.__assign)((0,z.__assign)({type:2},m._H.categoryLabels.show),{disabledLabel:this.hostService.getLocalizedString("Delete"),keyboardShortcuts:[s]}),{type:0,excludedResetFormattingIds:[m._H.categoryLabels.show]},{type:1,destinationInfo:{cardUid:"".concat("Visual","-").concat("categoryLabels"),groupUid:"".concat("categoryLabels","-").concat("values")},label:this.hostService.getLocalizedString("Format_Category_Labels")}];case"data-labels":return[(0,z.__assign)((0,z.__assign)({type:2},m._H.labels.show),{disabledLabel:this.hostService.getLocalizedString("Delete"),keyboardShortcuts:[s]}),{type:0,excludedResetFormattingIds:[m._H.labels.show]},{type:1,destinationInfo:{cardUid:"".concat("Visual","-").concat("labels")},label:this.hostService.getLocalizedString("Format_Data_Labels")}];default:return}}},i.prototype.getSubSelectionStyles=function(e){var t,a,o,n,r=_.first(e).visualObjects;if(r.length>0)switch((o=r[0])&&o.selectorsByColumn&&(n=(0,st.fd)((0,st.tV)(o.selectorsByColumn))),o.objectName){case"legend-title":return(0,de.aJ)();case"legend-items":return(0,de.Gh)(this.hostService);case"category":return(0,Re.w3)(this.hostService,void 0,(0,z.__assign)({selector:n},m._H.dataPoint.fill));case"category-labels":var s=m._H.categoryLabels;return(0,Re.un)(this.hostService,{fontFamilyReference:s.fontFamily,fontSizeReference:s.fontSize,boldReference:s.bold,italicReference:s.italic,underlineReference:s.underline,fontColorReference:(0,z.__assign)((0,z.__assign)({},s.color),{selector:{data:[(0,Rt.Ue)(1)]}})});case"data-labels":var h=m._H.labels,v={fontFamilyReference:h.fontFamily,fontSizeReference:h.fontSize,boldReference:h.bold,italicReference:h.italic,underlineReference:h.underline,fontColorReference:h.color,displayUnitsReference:h.labelDisplayUnits,precisionReference:h.labelPrecision};return(0,Re.Jf)({hostServices:this.hostService,omitSelectorForSingleSeries:!1,individualSelector:(0,F.WD)({featureSwitches:this.featureSwitches,hasCategories:this.data.hasCategoryData,hasDynamicSeries:!(null===(a=null===(t=_.first(this.dataViews).categorical)||void 0===t?void 0:t.values)||void 0===a||!a.source),hasSeriesSelector:!1}),selector:void 0,repetitionSelector:void 0},v);default:return}},i.prototype.getNextSubSelectable=function(e,t){return this.subSelectionHelper.getNextSubSelectable(e,t)},i.prototype.getSubSelectables=function(e){return this.subSelectionHelper.getAllSubSelectables(e)},i.prototype.getFirstElement=function(){var e=this.data.flattenedViewModel;return _.isEmpty(e)?{element:null}:{element:this.findHTMLElement(e[0].categoryIndex,e[0].seriesIndex)}},i.prototype.getNextDataPoint=function(e,t,a){var l=(0,Dt.R)(this.data.flattenedViewModel,e,t,this.navigationStrategy,a);return{element:this.findHTMLElement(l.categoryIndex,l.seriesIndex)}},i.prototype.findHTMLElement=function(e,t){return this.shapeGraphicsContext.selectAll("."+(this.navigationStrategy===ce.jN.CategoryFirst?i.NodeGroupClassName:i.ParentGroupClassName)).filter("."+c.Sh.node).filter(function(r){return r.data.categoryIndex===e&&r.data.seriesIndex===t}).node()},i.flattenViewModel=function(e,t){return t(d3.hierarchy(e).sum(function(r){return r.size}).sort(function(r,o){return o.value-r.value})).leaves().map(function(r){return{categoryIndex:r.data.categoryIndex,seriesIndex:r.data.seriesIndex}})},i.prototype.addTooltips=function(e,t){this.tooltipService.addTooltip(e,function(a){return a.data&&(a.data.data.highlightedTooltipInfo?a.data.data.highlightedTooltipInfo:a.data.data.tooltipInfo)},function(a){return a.data&&a.data.data.identity&&[a.data.data.identity]}),this.tooltipService.addTooltip(t,function(a){return a.data&&a.data.data.highlightedTooltipInfo},function(a){return a.data&&a.data.data.identity&&[a.data.data.identity]})},i.prototype.renderLegend=function(){var e=this.data.legendObjectProperties?this.data.legendData:(0,Ce.Fe)(this.style);null!=e.position&&this.legend.setPosition(e.position),this.legend.drawLegend({data:e,parentViewport:this.currentViewport,formatMode:this.formatMode,onObject:this.featureSwitches.onObject,titleSliceUid:"".concat("legend","-").concat("title","-titleText")})},i.getNodeClass=function(e,t){var a;switch(e.depth){case 1:a=i.ParentGroupClassName;break;case 2:a=i.NodeGroupClassName;break;case 0:a=i.RootNodeClassName;break;default:Oe.fF.assertFail("Treemap only supports 2 levels maxiumum")}return a+" "+(t?c.Sh.highlight:c.Sh.node)},i.isAriaHidden=function(e){return 0===e.depth},i.getNodeAccesibilityRole=function(e){switch(e.depth){case 1:return e.data.seriesIndex?"group":"treeitem";case 2:case 0:return"treeitem";default:Oe.fF.assertFail("Treemap only supports 2 levels maxiumum")}},i.createTreemapShapeLayout=function(e){return void 0===e&&(e=!1),e?{x:function(r){return r.x0+.2},y:function(r){return r.y0+(r.y1-r.y0)*(1-r.data.highlightMultiplier)},width:function(r){return Math.max(0,r.x1-r.x0-.4)},height:function(r){return Math.max(0,(r.y1-r.y0)*r.data.highlightMultiplier)},"stroke-dasharray":function(r){var o=r.x1-r.x0;return"0.6,"+(o-1.2)+","+(2*(r.y1-r.y0)+o)}}:{x:function(r){return r.x0},y:function(r){return r.y0},width:function(r){return Math.max(0,r.x1-r.x0)},height:function(r){return Math.max(0,r.y1-r.y0)},"stroke-dasharray":null}},i.createTreemapZeroShapeLayout=function(){return{x:function(t){return t.x0},y:function(t){return t.y1},width:function(t){return Math.max(0,t.x1-t.x0)},height:function(t){return 0}}},i.drawDefaultShapes=function(e,t,a,l,r){var o=!1,n=e.selectAll("."+c.Sh.node).data(t,function(u){return u.data.key}),s=Ge.M.isInternetExplorerOrEdge(),h=r&&r.hasSelection(),v=n.enter().append("rect").attr("class",l.shapeClass),g=n.merge(v).style("fill",function(u){return(0,c._M)(u,o)}).style("fill-opacity",function(u){return(0,c.eR)(u,h,a,o)}).attr("aria-label",function(u){return u.data.formattedTooltip}).attr("role",l.role).attr("aria-hidden",l.ariaHidden).attr("aria-checked",function(u){return null===u.parent?null:u.data.selected}).attrs(l.shapeLayout);return r&&g.attr("tabindex",function(u){return null==u.value||l.ariaHidden(u)?null:0}).attr("focusable",function(u){return null!=u.value&&!l.ariaHidden(u)||null}).classed(ie.Pg,!s),n.exit().remove(),g},i.drawDefaultHighlightShapes=function(e,t,a,l,r){var o=!0,n=e.selectAll("."+c.Sh.highlight).data(t,function(v){return v.data.key+"highlight"}),s=n.enter().append("rect").attr("class",r.highlightShapeClass),h=n.merge(s).style("fill",function(v){return(0,c._M)(v,o)}).style("fill-opacity",function(v){return(0,c.eR)(v,a,l,o)}).attrs(r.highlightShapeLayout);return n.exit().remove(),h},i.drawDefaultMajorLabels=function(e,t,a,l){var r=e.selectAll("."+c.Sh.major).data(t,function(s){return s.data.key}),o=r.enter().append("text").attr("class",l.majorLabelClass),n=r.merge(o).attrs(l.majorLabelLayout).text(l.majorLabelText).styles(function(s){return(0,te.rL)(a.fontProperties,{color:s.data.categoryLabelFill})});return r.exit().remove(),n},i.drawDefaultMinorLabels=function(e,t,a,l){var r=e.selectAll("."+c.Sh.minor).data(t,function(s){return s.data.key}),o=r.enter().append("text").attr("class",l.minorLabelClass),n=r.merge(o).attrs(l.minorLabelLayout).text(l.minorLabelText).styles(function(s){return(0,te.rL)(a.fontProperties,{color:s.data.labelFill})});return r.exit().remove(),n},i.cleanMinorLabels=function(e){e.selectAll("."+i.LabelsGroupClassName).selectAll("."+c.Sh.minor).data([]).exit().remove()},i.ClassName="treemap",i.LabelsGroupClassName="labels",i.ShapesClassName="shapes",i.RootNodeClassName="rootNode",i.ParentGroupClassName="parentGroup",i.NodeGroupClassName="nodeGroup",i.MinTextWidthForMinorLabel=18,i.MinTextWidthForMajorLabel=22,i.TextMargin=5,i.CullableArea=9,i}(),ht=function(){function i(e){this.nodes=e.nodes}return i.prototype.queryRegion=function(e){return this.getSelectedDataPoints(this.nodes,e)},i.prototype.getSelectedDataPoints=function(e,t){for(var a=[],l=0,r=e;l<r.length;l++){var o=r[l];(!o.children||!o.children.length)&&this.isNodeOverlapingBounds(o,t)&&a.push(o.data)}return a},i.prototype.isNodeOverlapingBounds=function(e,t){var a=this.getNodeCoordinate(e);return(0,it.WN)(a.left,a.right,t.left,t.right)&&(0,it.WN)(a.top,a.bottom,t.top,t.bottom)},i.prototype.getNodeCoordinate=function(e){return{left:e.x0,right:e.x1,top:e.y0,bottom:e.y1}},i}();function Ot(){return new nt}function Gt(){return new ot}}}]);