"use strict";(self.webpackChunkreportServerHostModern=self.webpackChunkreportServerHostModern||[]).push([["mobile-explore-authoring-web","mobile-explore-authoring"],{45221:function(he,U,n){n.d(U,{h:function(){return G}});var G=new(n(50423).InjectionToken)("FormattingObjectDefinitionsService")},32441:function(he,U,n){n.d(U,{u:function(){return ee}});var p=n(50423),G=n(18460),T=function(S,O,e,ae,D){return{formattingSources:S,indicatorEnabled:O,mobileFormatting:e,disabledCards:ae,disabledSlices:D}},ee=function(){function P(){var S=this;this.mobileFormatting=!1,this.propertyChanged=new p.EventEmitter,this.outputArgs={propertyChanged:function(e){return S.propertyChanged.emit(e)}},this.modulePath="@powerbi/ExploreUIAuthoring/lazy-modules/pane-formatting/pane-formatting.module#PaneFormattingModule",this.componentId="FormattingPaneComponentId"}return P.\u0275fac=function(O){return new(O||P)},P.\u0275cmp=p.\u0275\u0275defineComponent({type:P,selectors:[["formatting-pane-lazy"]],inputs:{formattingSources:"formattingSources",indicatorEnabled:"indicatorEnabled",mobileFormatting:"mobileFormatting",disabledCards:"disabledCards",disabledSlices:"disabledSlices"},outputs:{propertyChanged:"propertyChanged"},decls:1,vars:10,consts:[[3,"inputArgs","modulePath","outputArgs","componentId"]],template:function(O,e){1&O&&p.\u0275\u0275element(0,"pbi-lazy-load",0),2&O&&p.\u0275\u0275property("inputArgs",p.\u0275\u0275pureFunction5(4,T,e.formattingSources,e.indicatorEnabled,e.mobileFormatting,e.disabledCards,e.disabledSlices))("modulePath",e.modulePath)("outputArgs",e.outputArgs)("componentId",e.componentId)},dependencies:[G.R],encapsulation:2,changeDetection:0}),P}()},78633:function(he,U,n){n.d(U,{a:function(){return ee}});var p=n(50423),G=n(18460),T=function(S){return{colors:S}},ee=function(){function P(){this.modulePath="@powerbi/ExploreUIAuthoring/lazy-modules/pane-formatting/pane-formatting.module#PaneFormattingModule",this.componentId="GradientBarComponentId"}return P.\u0275fac=function(O){return new(O||P)},P.\u0275cmp=p.\u0275\u0275defineComponent({type:P,selectors:[["gradient-bar-lazy"]],inputs:{colors:"colors"},decls:1,vars:5,consts:[[3,"inputArgs","modulePath","componentId"]],template:function(O,e){1&O&&p.\u0275\u0275element(0,"pbi-lazy-load",0),2&O&&p.\u0275\u0275property("inputArgs",p.\u0275\u0275pureFunction1(3,T,e.colors))("modulePath",e.modulePath)("componentId",e.componentId)},dependencies:[G.R],encapsulation:2,changeDetection:0}),P}()},92278:function(he,U,n){n.d(U,{I:function(){return ee}});var p=n(50423),G=n(18460),T=function(S,O,e,ae,D){return{toggle:S,ariaLabelledby:O,ariaDescribedby:e,toggleLabel:ae,isDisabled:D}},ee=function(){function P(){var S=this;this.onToggleChange=new p.EventEmitter,this.modulePath="@powerbi/ExploreUIAuthoring/lazy-modules/pane-formatting/pane-formatting.module#PaneFormattingModule",this.componentId="ToggleSwitchModernComponentId",this.outputArgs={onToggleChange:function(e){return S.onToggleChange.emit(e)}}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275cmp=p.\u0275\u0275defineComponent({type:P,selectors:[["toggle-switch-modern-lazy"]],inputs:{toggle:"toggle",ariaLabelledby:"ariaLabelledby",ariaDescribedby:"ariaDescribedby",toggleLabel:"toggleLabel",isDisabled:"isDisabled"},outputs:{onToggleChange:"onToggleChange"},decls:1,vars:10,consts:[[3,"inputArgs","modulePath","outputArgs","componentId"]],template:function(O,e){1&O&&p.\u0275\u0275element(0,"pbi-lazy-load",0),2&O&&p.\u0275\u0275property("inputArgs",p.\u0275\u0275pureFunction5(4,T,e.toggle,e.ariaLabelledby,e.ariaDescribedby,e.toggleLabel,e.isDisabled))("modulePath",e.modulePath)("outputArgs",e.outputArgs)("componentId",e.componentId)},dependencies:[G.R],encapsulation:2,changeDetection:0}),P}()},90094:function(he,U,n){n.d(U,{l:function(){return ee}});var p=n(50423),G=n(18460),T=function(S){return{warningMessage:S}},ee=function(){function P(){this.modulePath="@powerbi/ExploreUIAuthoring/lazy-modules/pane-formatting/pane-formatting.module#PaneFormattingModule",this.componentId="WarningComponentId"}return P.\u0275fac=function(O){return new(O||P)},P.\u0275cmp=p.\u0275\u0275defineComponent({type:P,selectors:[["warning-eager"]],inputs:{warningMessage:"warningMessage"},decls:1,vars:5,consts:[[3,"inputArgs","modulePath","componentId"]],template:function(O,e){1&O&&p.\u0275\u0275element(0,"pbi-lazy-load",0),2&O&&p.\u0275\u0275property("inputArgs",p.\u0275\u0275pureFunction1(3,T,e.warningMessage))("modulePath",e.modulePath)("componentId",e.componentId)},dependencies:[G.R],encapsulation:2,changeDetection:0}),P}()},42101:function(he,U,n){n.d(U,{p:function(){return ie}});var p=n(9844),S=(n(32441),n(78633),n(92278),n(90094),n(77476)),O=n(9398),e=n(76072),ae=n(82156),D=n(50423),N={loadChildren:function(){return Promise.all([n.e(5),n.e("pane-formatting")]).then(n.bind(n,53150)).then(function(le){return le.PaneFormattingModule})}};e.E.addLazyLoadForLegacyMapping("@powerbi/ExploreUIAuthoring/lazy-modules/pane-formatting/pane-formatting.module#PaneFormattingModule",N.loadChildren);var A=[{path:"dummy-pane-formatting-lazy",loadChildren:N.loadChildren}],ie=function(){function W(){}return W.\u0275fac=function(fe){return new(fe||W)},W.\u0275mod=D.\u0275\u0275defineNgModule({type:W}),W.\u0275inj=D.\u0275\u0275defineInjector({imports:[S.CommonModule,p.j,ae.N,O.Bz.forChild(A)]}),W}()},21302:function(he,U,n){n.d(U,{Ol:function(){return ee},mF:function(){return T},sn:function(){return G}});var p=n(50423),G={type:3,name:"showFormatPane"},T={type:3,name:"showPageFormatPane"},ee=new p.InjectionToken("PropertyChangeIndicatorService")},78432:function(he,U,n){n.d(U,{An:function(){return A},Aw:function(){return Ce},D1:function(){return te},H8:function(){return Se},Ky:function(){return C},LF:function(){return ie},N6:function(){return ze},UV:function(){return W},Wx:function(){return m},ce:function(){return v},hy:function(){return Ie},m7:function(){return Te},nB:function(){return N},nH:function(){return xe},so:function(){return g},um:function(){return fe},w7:function(){return le},wW:function(){return Me},zS:function(){return Fe},zh:function(){return k}});var p=n(81337),G=n(9215),T=n(61617),ee=n(50550),P=n(62458),S=n(32379),O=n(10746),e=n(5265),ae=n(80981),D="___",N="container-object-name";function A(s,c){switch(s){case"VisualizationPane_Section_Analytics":return"VisualizationPane_Section_Analytics";case"Button":return"Button";case"Format_Label_General":return c.featureSwitches.onObject?"Properties":"Format_Label_General";case"Group":return"Group";case"Image":return"Image";case"Page":return"Page";case"BasicShape_ToolTip":return"BasicShape_ToolTip";case"Visual":return"Visual";default:P.fF.assertNever(s)}}function k(s){var c="".concat(D).concat(s.objectName).concat(D).concat(s.propertyName);return(0,T.$Q)(c,s.selector)}function ie(s,c){return"".concat(c,"-").concat(s)}function W(s,c){return s.substring(c.length+1)}function le(s,c){var x=c[s.objectName],w=x?.properties[s.propertyName];return w}function fe(s,c){var x=null;if(s){if((0,G.q4)(s))return A("Group",c);x=s.config.singleVisual.visualType}switch(x){case"actionButton":return A("Button",c);case"image":return A("Image",c);case"shape":return A("BasicShape_ToolTip",c);default:return A("Visual",c)}}function te(s){var c=s?.config.singleVisual;return!c||(0,ae.xj)(c)}function Ce(s,c,x){void 0===x&&(x=!1);for(var w=0,J=c;w<J.length;w++){var V=J[w],Q=s[V.objectName],ve=!0,be=V.selector;if(Q){for(var Ee=0,ue=Q;Ee<ue.length;Ee++){var pe=ue[Ee];(be&&((0,S.fS)(pe.selector,be)||_.has(V,"altConstantValueSelector")&&(0,S.fS)(pe.selector,V.altConstantValueSelector))||x&&pe.selector||!be&&!x)&&delete pe.properties[V.propertyName],ve=ve&&_.isEmpty(pe.properties)}ve&&delete s[V.objectName]}}}function m(s){var c={},x={};s.forEach(function(V){V.canvasItems.forEach(function(Q){var ve=Q.name;x[ve]=Q,c[ve]||(c[ve]=[]),c[ve].push(V)})});var w=[];for(var J in c)w.push({canvasItem:x[J],descriptors:c[J].map(function(V){return(0,p.pi)((0,p.pi)({},V),{canvasItems:void 0})})});return w}function Ie(s,c,x,w){return s===c&&(0,S.fS)(x,w)}function Me(s,c,x,w){if(!s||!c)return!1;for(var J=function(ue){var pe=c[ue.objectName];if(pe)for(var Ve=0,Le=pe;Ve<Le.length;Ve++){var Oe=Le[Ve];if(w){if(!Oe.properties[ue.propertyName])continue;if(!ue.selector||(0,S.fS)(Oe.selector,ue.selector)||(0,S.fS)(Oe.selector,ue.altConstantValueSelector))return{value:!0}}else if(Oe.properties[ue.propertyName])return{value:!0}}if(x&&_.find(x.changes,function(we){return we.objectName===ue.objectName&&we.propertySlice.name===ue.propertyName}))return{value:!0}},V=0,Q=s;V<Q.length;V++){var be=J(Q[V]);if("object"==typeof be)return be.value}return!1}function Se(s){return{objectName:s.objectName,propertyName:s.propertySlice.name,propertyValue:s.propertySlice.value,propertyType:s.propertySlice.type,altConstantValueSelector:s.propertySlice.altConstantValueSelector,selector:s.propertySlice.selector}}function xe(s,c){var w={objectName:c.objectName,propertySlice:{name:c.propertyName,value:c.propertyValue,type:c.propertyType,altConstantValueSelector:c.altConstantValueSelector,selector:c.selector},hasDynamicExpressionSupport:!1};return w.hasDynamicExpressionSupport=function(s,c){var x=s.config.singleVisual.query,J=(0,e.NA)(s.config.singleVisual.objects,{objectName:c.objectName,propertyName:c.propertySlice.name},c.propertySlice.selector);return!(!J||!(0,O.oA)(J,c.propertySlice.selector,x?x.defn.select():(0,ee.bv)()).length)}(s,w),w}function Te(s,c,x,w){var J=w.visualPlugin&&w.visualPlugin.capabilities(x);if(J&&J.supportsSynchronizingFilterState){var V=J.objects[s];if(V){var Q=V.properties[c];if(Q&&Q.filterState)return!0}}return!1}function Fe(s,c){s&&s.syncFilterState(c)}function ze(s){return void 0!==s.reference}function C(s){return s.isTopLevelToggle}function g(s){var c=s.visualObjects,x=_.some(c,function(w){return"visual-area"===w.objectName});return x&&c.length>1&&P.fF.assertFail("Visual area sub selectable should only have one visual object"),x}function v(s){var c=[],x=s.control.type;switch(x){case"MarginPadding":var w=s.control.properties,J=h(s);c=[b(w.top,J),b(w.bottom,J),b(w.left,J),b(w.right,J)];break;case"FontControl":var V=s.control.properties,Q=h(s);V.fontSize&&c.push(b(V.fontSize,Q)),V.fontFamily&&c.push(function(s,c){return(0,p.pi)((0,p.pi)({},c),{control:{type:"FontPicker",properties:s},uid:k(s.descriptor)})}(V.fontFamily,Q)),V.bold&&c.push(y(V.bold,Q)),V.italic&&c.push(y(V.italic,Q)),V.underline&&c.push(y(V.underline,Q));break;default:P.fF.assertNever(x)}return c}function h(s){return{aliasNames:[],description:"",displayName:"",conditionalFormattingObjects:void 0,conditionalFormattingWarning:void 0,control:void 0,disabled:s.disabled,hidden:s.hidden,disabledReason:s.disabledReason,groupUid:s.groupUid,infoIconText:void 0,originSource:s.originSource,pivotSource:s.pivotSource,placeHolderText:void 0,saveCallback:void 0,showChangeIndicator:s.showChangeIndicator,suppressDisplayName:s.suppressDisplayName,uid:void 0,warningMessage:void 0}}function b(s,c){return(0,p.pi)((0,p.pi)({},c),{control:{type:"NumUpDown",properties:s},uid:k(s.descriptor)})}function y(s,c){return(0,p.pi)((0,p.pi)({},c),{control:{type:"ToggleSwitch",properties:s},uid:k(s.descriptor)})}},89535:function(he,U,n){n.d(U,{Kj:function(){return ee},YR:function(){return S},lD:function(){return T},r4:function(){return P},y5:function(){return O}});var p=n(19650),G=n(50423),T=function(){return function(N,A){this.value=N,this.equals=A}}(),ee=new G.InjectionToken("SliceCustomizationService"),P=6,S=60,O={left:p.H.left,center:p.H.center,right:p.H.right,Auto:p.H.auto}},14029:function(he,U,n){n.r(U),n.d(U,{ExploreUIThumbnailModule:function(){return Ze}});var p=n(81337),G=n(48501),T=n(14463),ee=n(8590),P=n(60661),S=n(71216),O=n(47245),e=n(18503),ae=n(91615),D=n(47343),N=n(61036),A=n(39681),k=n(38078),ie=n(5265),W=n(74082),le=n(30794),fe=n(59017),te=n(14172),Ce=n(83317),m=n(50423),Ie=n(1368),ye=n(29866),Me=n(17966),Se=n(11494),xe=n(39503),Te=n(77200),Fe=n(86843),_e=n(67799),ze=n(83342),C=n(40956),g=n(58991),v=n(65181),h=n(2330),b=n(67660),y=n(98136),L=n(66977),s=n(80277),c=n(79281),x=n(1599),w=n(77476),J=n(98885),V=n(46101),Q=n(91399);function ve(F,j){if(1&F&&m.\u0275\u0275element(0,"single-visual-host",6),2&F){var H=m.\u0275\u0275nextContext();m.\u0275\u0275property("visual",H.visual)("visualViewport",H.visualViewport)("themeCollection",H.themeCollection)("config",H.singleVisualHostConfig)}}function be(F,j){if(1&F&&m.\u0275\u0275element(0,"analysis-visual-host-lazy",7),2&F){var H=m.\u0275\u0275nextContext();m.\u0275\u0275property("visualDefinition",H.visualDefinition)("visualContainer",H.visual)}}function Ee(F,j){if(1&F&&m.\u0275\u0275element(0,"qna-visual-host-lazy",7),2&F){var H=m.\u0275\u0275nextContext();m.\u0275\u0275property("visualDefinition",H.visualDefinition)("visualContainer",H.visual)}}function ue(F,j){if(1&F&&m.\u0275\u0275element(0,"canvas-visual-error-overlay",8),2&F){var H=m.\u0275\u0275nextContext();m.\u0275\u0275property("errorInfo",H.errorInfo)("viewMode",H.viewMode)("viewport",H.viewport)}}var Ve=function(){function F(j,H,X,Be,Ye,qe,et,tt,nt,it,Ue,ot,at,We,rt,lt,De,je,st,He,ct){var z,Re,ge=this;this.authenticationService=j,this.bookmarkService=H,this.eventBridge=X,this.explorationNavigation=Be,this.featureSwitchService=Ye,this.geocoder=qe,this.geolocationService=et,this.localizationService=tt,this.moduleLoader=nt,this.promiseFactory=it,this.themeService=Ue,this.viewModeState=ot,this.visualHostArtifactService=at,this.visualHostTooltipServiceFactory=We,this.visualHostTelemetryServiceFactory=rt,this.visualPlugin=lt,this.visualPluginOps=De,this.uiComponent=je,this.azureMapTokenCache=st,this.azureMapsEndpoint=He,this.geocoderIndexedDB=ct,this.destroy$=new le.xQ;var ut=(z=this.explorationNavigation).sections$,gt=(0,fe.aj)([ut,z.currentSection$]).pipe((0,te.U)(function(Z){var me=Z[1];return Z[0].map(function(re){return{name:re.name,displayName:re.displayName,isActive:re.name===me?.name,isHidden:(0,S.aV)(re),isTooltip:(0,S.H$)(re)}})}),(0,Ce.R)(this.destroy$)),dt=(Re=this.bookmarkService).bookmarks$,mt=(0,fe.aj)([dt,Re.activeBookmark$]).pipe((0,te.U)(function(Z){var me=Z[1];return Z[0].map(function(re){var Pe;return{name:re.name,displayName:re.displayName,isActive:re.name===me?.name,parentName:null===(Pe=re.parentGroup)||void 0===Pe?void 0:Pe.name}})}),(0,Ce.R)(this.destroy$));this.singleVisualHostConfig={notifyStart:_.noop,notifyEnd:_.noop,clearQueryErrors:function(){return ge.clearErrorState()},handleQueryErrors:function(se){return ge.setErrorState(se.getDetails(ge.localizationService),se.code,se.source)},handleQueryWarnings:_.noop,queryVisualHostServices:{getFilters:function(se,me){var re=ge.explorationNavigation;return se.calculateVisualContainerFilter(re.getCurrentExploration(),re.getCurrentSection(),ge.visual,me)},getDataSourceVariables:function(){var se=ge.explorationNavigation.getCurrentExploration();return se&&se.dataSourceVariables}},visualHostServices:(0,A.ED)((0,O.q)({geocoder:this.geocoder,geolocation:this.geolocationService,localizationService:this.localizationService,authenticationService:this.authenticationService,moduleLoader:this.moduleLoader,promiseFactory:this.promiseFactory,visualHostTooltipService:this.visualHostTooltipServiceFactory.create(),getAzureMapToken:function(){return ge.azureMapTokenCache.getAzureMapToken()},azureMapsEndpoint:this.azureMapsEndpoint,geocoderIndexedDB:this.geocoderIndexedDB}),function(Z){Z.getLocalizedString=function(se){for(var me,re=[],Pe=1;Pe<arguments.length;Pe++)re[Pe-1]=arguments[Pe];return(me=ge.localizationService).format.apply(me,(0,p.ev)([se],re||[],!1))},Z.getViewMode=function(){return ge.viewModeState.getMode()},Z.locale=function(){return(0,N.uD)()},Z.promiseFactory=function(){return ge.promiseFactory},Z.getSectionsMetadata$=function(){return gt},Z.getBookmarksMetadata$=function(){return mt},Z.getUIComponentFactory=function(){return ge.uiComponent.getUIComponentFactory(null)},Z.telemetry=function(){return ge.telemetryService},Z.artifactService=function(){return ge.visualHostArtifactService}}),interactivityOptions:{overflow:"hidden"},additionalObjectUpdates:void 0,disableQueryCacheUpdates:!1,noLoadMore:!0}}return F.prototype.ngOnInit=function(){var j=this;this.evaluateObjectDefinitions(),this.fetchThemeCollection(),this.setVisualViewport(),this.applyStyles(),this.visualDefinition=this.createVisualDefinition(),this.instanceId=k.b$.generateGuid(),this.telemetryService=this.visualHostTelemetryServiceFactory.create(this.visualDefinition.type,this.visual.name,this.instanceId),this.subscriptionManager=this.eventBridge.createChannelSubscriptionManager().subscribe(ae.kx,function(){return j.fetchThemeCollection()}).subscribe(ee.jCS,function(H,X){X&&j.visual&&X.affectContainer(j.visual)&&j.evaluateObjectDefinitions()})},F.prototype.ngOnDestroy=function(){this.subscriptionManager.unsubscribeAll(),this.destroy$.next(),this.destroy$.complete()},F.prototype.isAnalysisVisual=function(){return this.visualPluginOps.isAnalysisVisual(this.visual.config.singleVisual.visualType)},F.prototype.isQnaVisual=function(){return this.visualPluginOps.isQnaVisual(this.visual.config.singleVisual.visualType)},F.prototype.clearErrorState=function(){this.errorInfo=null},F.prototype.setErrorState=function(j,H,X){this.errorInfo={code:H,details:j,fixableError:0,hideSeeDetails:!0,overlayType:(0,e.fe)(H),source:X}},F.prototype.evaluateObjectDefinitions=function(){var j=this.explorationNavigation.getCurrentExploration(),H=(0,P.VH)(j&&j.themeCollection||{},this.themeService,this.visual,this.featureSwitchService.featureSwitches);this.objects=H.dataViewObjects},F.prototype.fetchThemeCollection=function(){var j=this.explorationNavigation.getCurrentExploration();this.themeCollection=j&&j.themeCollection},F.prototype.setVisualViewport=function(){this.visualViewport={width:2*this.viewport.width,height:2*this.viewport.height,scale:.5}},F.prototype.applyStyles=function(){this.style=new D.Y,this.visualStyle=new D.Y,this.style.viewport(this.viewport);var j=(0,P.Mo)(this.objects&&this.objects.background),H=(0,P._L)(this.visualViewport,.5);this.visualStyle.addAttributes(H);var X=(0,P.O$)(j);this.visualStyle.addAttributes(X),this.visualStyle.apply()},F.prototype.createVisualDefinition=function(){var j=this,H=this.visual.config.singleVisual.visualType,X=(0,ie.NA)((0,P.Qg)(this.visual),{objectName:"stylePreset",propertyName:"name"},void 0);return{interactivityOptions:this.singleVisualHostConfig.interactivityOptions,type:H,visualName:this.visual.name+"-thumbnail",allowInvalidDataView:!0,themeCollection:this.themeCollection,viewport:this.visualViewport,dataTransforms:{objects:(0,P.GQ)(this.visual)},hostServices:this.singleVisualHostConfig.visualHostServices,visualAdapterHostServices:{startProgressBar:function(){return j.singleVisualHostConfig.notifyStart()},stopProgressBar:function(){return j.singleVisualHostConfig.notifyEnd()},getNextDataSegment:function(){return j.promiseFactory.reject()}},stylePresetName:X&&(0,W.VC)(X)&&X.value,additionalObjectUpdates:this.singleVisualHostConfig.additionalObjectUpdates,visualPlugin:this.visualPlugin}},F.\u0275fac=function(H){return new(H||F)(m.\u0275\u0275directiveInject(Ie.A),m.\u0275\u0275directiveInject(Me.F),m.\u0275\u0275directiveInject(Se.J),m.\u0275\u0275directiveInject(xe.z),m.\u0275\u0275directiveInject(ze.vZ),m.\u0275\u0275directiveInject(C.i),m.\u0275\u0275directiveInject(G._1),m.\u0275\u0275directiveInject(v.o),m.\u0275\u0275directiveInject(h.m),m.\u0275\u0275directiveInject(T.t),m.\u0275\u0275directiveInject(b.f),m.\u0275\u0275directiveInject(Te.kc),m.\u0275\u0275directiveInject(Fe.k),m.\u0275\u0275directiveInject(y.q),m.\u0275\u0275directiveInject(_e.S),m.\u0275\u0275directiveInject(ye.D),m.\u0275\u0275directiveInject(L.f),m.\u0275\u0275directiveInject(c.U),m.\u0275\u0275directiveInject(s.o),m.\u0275\u0275directiveInject(g.A),m.\u0275\u0275directiveInject(x.W))},F.\u0275cmp=m.\u0275\u0275defineComponent({type:F,selectors:[["visual-container-thumbnail"]],inputs:{viewport:"viewport",visual:"visual"},decls:7,vars:6,consts:[[3,"apply-style"],[1,"thumbnailContainer","disable-visual-interactivity","themableBackgroundColorSolid",3,"apply-style"],[1,"visualContainerScreen"],[3,"visual","visualViewport","themeCollection","config",4,"ngIf"],[3,"visualDefinition","visualContainer",4,"ngIf"],[3,"errorInfo","viewMode","viewport",4,"ngIf"],[3,"visual","visualViewport","themeCollection","config"],[3,"visualDefinition","visualContainer"],[3,"errorInfo","viewMode","viewport"]],template:function(H,X){1&H&&(m.\u0275\u0275elementStart(0,"div",0)(1,"div",1),m.\u0275\u0275element(2,"div",2),m.\u0275\u0275template(3,ve,1,4,"single-visual-host",3),m.\u0275\u0275template(4,be,1,2,"analysis-visual-host-lazy",4),m.\u0275\u0275template(5,Ee,1,2,"qna-visual-host-lazy",4),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(6,ue,1,3,"canvas-visual-error-overlay",5),m.\u0275\u0275elementEnd()),2&H&&(m.\u0275\u0275property("apply-style",X.style),m.\u0275\u0275advance(1),m.\u0275\u0275property("apply-style",X.visualStyle),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngIf",!X.isAnalysisVisual()),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",X.isAnalysisVisual()&&!X.errorInfo),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",X.isQnaVisual()&&!X.errorInfo),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",X.errorInfo))},dependencies:[w.NgIf,J.f,V.v,Q.s],styles:[".draggable-root-dragging[_nghost-%COMP%]{opacity:0}.ui-draggable-dragging[_nghost-%COMP%]{border:2px solid var(--theme-primary-color, #F2C811)}[_nghost-%COMP%]   .thumbnailContainer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;transform-origin:0 0;overflow:hidden}"]}),F}(),Oe={loadChildren:function(){return Promise.resolve().then(n.bind(n,14029)).then(function(j){return j.ExploreUIThumbnailModule})}};n(76072).E.addLazyLoadForLegacyMapping("@powerbi/ExploreUIThumbnail/module#ExploreUIThumbnailModule",Oe.loadChildren);var we=[{path:"dummy-explore-ui-thumbnail",loadChildren:Oe.loadChildren}],$e=n(9398),Ke=n(22824),Je=n(82156),Qe=n(79061),ke=n(94785),Xe=[{type:Ve,componentId:"VisualContainerThumbnailComponentId"}],Ze=function(){function F(){}return F.\u0275fac=function(H){return new(H||F)},F.\u0275mod=m.\u0275\u0275defineNgModule({type:F}),F.\u0275inj=m.\u0275\u0275defineInjector({imports:[w.CommonModule,Ke.J,Je.N.withManifests(Xe),Qe.v,$e.Bz.forChild(we),ke.g]}),F}()},40919:function(he,U,n){n.r(U),n.d(U,{MobileExploreAuthoringWebModule:function(){return ze}});var p=n(81337),G=n(14172),T=n(50423),ee=n(73875),P=n(48501),S=n(84376),O=n(56126),e=n(98665),ae=n(7766),D=n(14025),N=n(23306),A=n(9149),k=n(87238),ie=n(83342),W=n(53530),le=n(29866),fe=function(){function C(g,v,h,b,y,L){this.mobileStateSerializer=g,this.reportContractAdapter=v,this.telemetryService=h,this.featureSwitchService=b,this.userStateService=y,this.visualPluginService=L}return C.prototype.processExploration=function(g){return(0,p.mG)(this,void 0,void 0,function(){var v,h;return(0,p.Jh)(this,function(b){switch(b.label){case 0:return v=this.parseExplorationWireContract(g),[4,this.reportContractAdapter.processWireContract(v)];case 1:return h=b.sent(),O.fo(v)&&this.setServiceInfoV2ToExploration(h.contract,g),[2,h.contract]}})})},C.prototype.processMobileState=function(g,v){return(0,p.mG)(this,void 0,void 0,function(){var h,b,y,L,s;return(0,p.Jh)(this,function(c){switch(c.label){case 0:if(c.trys.push([0,2,,3]),h=void 0,g.mobileStateContent){if(!(b=(0,P.KV)(g.mobileStateContent)))throw new Error("Could not parse V2 JSON");h=b}else h=g.bookmark;return h?[4,this.reportContractAdapter.processMobileState(h,v)]:[2,void 0];case 1:return y=c.sent(),L=void 0,y.mobileState&&(L=this.mobileStateSerializer.deserialize(y.mobileState)),L||y.pageVisualPositions?[2,{bookmark:L,visualPositions:y.pageVisualPositions}]:[3,3];case 2:return s=c.sent(),this.telemetryService.logEvent(S.NF,{code:-1,error:s.message}),[3,3];case 3:return[2,void 0]}})})},C.prototype.parseExplorationWireContract=function(g){var v=g.explorationContent;if(v?.explorationDocument){var h=(0,P.KV)(v.explorationDocument);if(null==h)throw new Error("Unknown format of exploration document");return h}return g},C.prototype.setServiceInfoV2ToExploration=function(g,v){g.report=v.report,g.reportId=v.reportId,g.id=v.id,g.capacityUri=v.capacityUri,g.mwcToken=v.mwcToken,g.isStoredInBlob=v.isStoredInBlob;var h=v.explorationContent;h.pages&&this.updateInternalSectionIds(g.sections,h.pages),h.resourcePackages&&(0,D.yf)(h.resourcePackages,(0,D.eI)(g),!0),v.activeWebBookmark&&(g.activeWebBookmark=(0,ae.a5)(v.activeWebBookmark,!1,this.visualPluginService,this.featureSwitchService,this.telemetryService)),v.userState&&(g.userState=(0,ae.U6)(v.userState,this.userStateService,this.visualPluginService,this.featureSwitchService,this.telemetryService))},C.prototype.updateInternalSectionIds=function(g,v){if(v)for(var h=new Map(g.map(function(Q){return[Q.name,Q]})),b=0,y=v;b<y.length;b++){var L=y[b],s=h.get(L.objectName);s.id=L.id;for(var x=0,w=L.visualContainers;x<w.length;x++){var J=w[x];(0,N.sE)(J.objectName,s.visualContainerGroups).id=J.id}}},C.\u0275fac=function(v){return new(v||C)(T.\u0275\u0275inject(A.c),T.\u0275\u0275inject(k.r),T.\u0275\u0275inject(e.y0),T.\u0275\u0275inject(ie.vZ),T.\u0275\u0275inject(W.P),T.\u0275\u0275inject(le.D))},C.\u0275prov=T.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"}),C}(),te=function(){function C(g,v){this.httpService=g,this.contractAdapter=v}return C.prototype.get=function(g,v,h){return(0,p.mG)(this,void 0,void 0,function(){var b,y,L,s;return(0,p.Jh)(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),b=this.getMobileStatePath(g),[4,this.httpService.get(b).pipe((0,G.U)(function(x){return x.data})).toPromise()];case 1:return y=c.sent(),[4,this.contractAdapter.processMobileState(y,v)];case 2:return L=c.sent(),h.resolve(),L?[2,L]:[2,{bookmark:void 0,visualPositions:void 0}];case 3:return s=c.sent(),h.reject(s),[3,4];case 4:return[2,{bookmark:void 0,visualPositions:void 0}]}})})},C.prototype.create=function(g,v,h){return(0,p.mG)(this,void 0,void 0,function(){var b;return(0,p.Jh)(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,this.httpService.post(this.getMobileStatePath(v),g).toPromise()];case 1:return y.sent(),h.resolve(),[3,3];case 2:return b=y.sent(),h.reject(b),[3,3];case 3:return[2]}})})},C.prototype.delete=function(g,v){return(0,p.mG)(this,void 0,void 0,function(){var h;return(0,p.Jh)(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,this.httpService.delete(this.getMobileStatePath(g)).toPromise()];case 1:return b.sent(),v.resolve(),[3,3];case 2:return h=b.sent(),v.reject(h),[3,3];case 3:return[2]}})})},C.prototype.update=function(g,v,h){return(0,p.mG)(this,void 0,void 0,function(){var b;return(0,p.Jh)(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,this.httpService.put(this.getMobileStatePath(g),v).toPromise()];case 1:return y.sent(),h.resolve(),[3,3];case 2:return b=y.sent(),h.reject(b),[3,3];case 3:return[2]}})})},C.prototype.getMobileStatePath=function(g){return"explore/reports/".concat(g,"/mobile/state")},C.\u0275fac=function(v){return new(v||C)(T.\u0275\u0275inject(ee.O),T.\u0275\u0275inject(fe))},C.\u0275prov=T.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"}),C}(),Ce=n(80532),m=n(71901),ye={provide:"mobileStateAuthoringService",useFactory:function(C,g,v,h){return new Promise(function(b){b(new Me(C,g,v,h))})},deps:[e.y0,te,Ce.j,A.c]},Me=function(){function C(g,v,h,b){this.telemetryService=g,this.mobileStateHttpService=v,this.mobileStateCacheService=h,this.mobileStateSerializerService=b}return C.prototype.reset=function(){this.mobileStateHasBeenCalled&&(this.mobileStateHasBeenCalled=!1)},C.prototype.load=function(g){return(0,p.mG)(this,void 0,void 0,function(){var v,h,b,y,L,s;return(0,p.Jh)(this,function(c){switch(c.label){case 0:if(this.mobileStateHasBeenCalled)return[2];c.label=1;case 1:return c.trys.push([1,4,,5]),v=this.telemetryService.startEvent(S.oe),(b=g.reportId)?[4,this.mobileStateHttpService.get(g.reportId,g.reportObjectsProperties,v)]:[3,3];case 2:b=c.sent(),c.label=3;case 3:return h=b,this.mobileStateHasBeenCalled=!0,this.mobileStateCacheService.hasChanges=!0,y=h?.bookmark,L=h?.visualPositions,this.hasMobileState=!!y,(y||!_.isEmpty(L))&&(0,m.zi)(g,y.explorationState,L,this.telemetryService.startEvent(S.Y8)),[3,5];case 4:throw s=c.sent(),this.mobileStateHasBeenCalled=!1,s;case 5:return[2]}})})},C.prototype.save=function(g,v){return(0,p.mG)(this,void 0,void 0,function(){var h,b,y;return(0,p.Jh)(this,function(L){switch(L.label){case 0:return h=this.hasMobileState,v?(0,O.OF)(v)?(y=this.telemetryService.startEvent(S.IG),[4,this.mobileStateHttpService.create({mobileStateContent:JSON.stringify(v),explorationState:void 0},g,y)]):[3,2]:[3,7];case 1:return L.sent(),[3,6];case 2:return b=v,h?(y=this.telemetryService.startEvent(S.IG),[4,this.mobileStateHttpService.update(g,b,y)]):[3,4];case 3:return L.sent(),[3,6];case 4:return y=this.telemetryService.startEvent(S.gC),[4,this.mobileStateHttpService.create({mobileStateContent:void 0,explorationState:b.explorationState},g,y)];case 5:L.sent(),L.label=6;case 6:return this.hasMobileState=!0,[3,9];case 7:return h?(y=this.telemetryService.startEvent(S.dX),[4,this.mobileStateHttpService.delete(g,y)]):[3,9];case 8:L.sent(),this.hasMobileState=!1,L.label=9;case 9:return[2]}})})},C.prototype.saveAs=function(g,v){var h;return(0,p.mG)(this,void 0,void 0,function(){var b,y,L,s,c;return(0,p.Jh)(this,function(x){switch(x.label){case 0:return b=this.telemetryService.startEvent(S.oe),!this.mobileStateHasBeenCalled&&g.reportId?[4,this.mobileStateHttpService.get(g.reportId,g?.reportObjectsProperties,b)]:[3,2];case 1:return L=null===(h=x.sent().bookmark)||void 0===h?void 0:h.explorationState,[3,3];case 2:L=(0,m.$g)(g,this.telemetryService.startEvent(S.Nv)),x.label=3;case 3:return(y=L)?(s=this.mobileStateSerializerService.serialize(y),c=this.telemetryService.startEvent(S.Y_),[4,this.mobileStateHttpService.create({mobileStateContent:void 0,explorationState:s.explorationState},v,c)]):[3,5];case 4:x.sent(),this.mobileStateHasBeenCalled=!1,x.label=5;case 5:return[2]}})})},C.\u0275fac=function(v){return new(v||C)(T.\u0275\u0275inject(e.y0),T.\u0275\u0275inject(te),T.\u0275\u0275inject(Ce.j),T.\u0275\u0275inject(A.c))},C.\u0275prov=T.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C}(),Se=n(33794),xe="MobileAuthoringPropertyPaneChange",Te=function(){function C(g){this.dataStore=g}return C.prototype.isFormattingChangeDialogShown=function(){return(0,p.mG)(this,void 0,void 0,function(){return(0,p.Jh)(this,function(g){switch(g.label){case 0:return[4,this.dataStore.isLoaded()];case 1:return g.sent(),[2,this.dataStore.hasKey(xe)]}})})},C.prototype.markFormattingChangeDialogShown=function(){return(0,p.mG)(this,void 0,void 0,function(){return(0,p.Jh)(this,function(g){switch(g.label){case 0:return[4,this.dataStore.setKey(xe,!0)];case 1:return g.sent(),[2]}})})},C.\u0275fac=function(v){return new(v||C)(T.\u0275\u0275inject(Se.R))},C.\u0275prov=T.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac}),C}(),Fe=n(43104),_e=n(55525),ze=function(){function C(){}return C.\u0275fac=function(v){return new(v||C)},C.\u0275mod=T.\u0275\u0275defineNgModule({type:C}),C.\u0275inj=T.\u0275\u0275defineInjector({providers:[ye,{provide:_e.P,useClass:Te}],imports:[Fe.MobileExploreAuthoringModule]}),C}()},55525:function(he,U,n){n.d(U,{P:function(){return G}});var G=new(n(50423).InjectionToken)("mobileVisualFormattingSettingsService")},43104:function(he,U,n){n.r(U),n.d(U,{MobileExploreAuthoringModule:function(){return En}});var p=n(81337),G=n(41114),T="MBI.MobileAutoGenerateLayout.LayoutGenerated",P=(G.cx[T]=(0,G.b1)(T),n(14172)),S=n(8590),O=n(98665),e=n(50423),ae=n(58938),D=n(11494),N=n(84281),A=n(59142),k=n(63387),ie=n(28894),W=n(65181),le=function(){function i(t,o,a,l,r,u,f,M,I){this.modernDialogService=t,this.eventBridge=o,this.explorationNavigationEXService=a,this.layoutAuthoring=l,this.lazyScoped=r,this.localizationService=u,this.telemetryService=f,this.undoRedo=M,this.certifiedEventsService=I}return i.prototype.generateAutoMobileLayout=function(t){return(0,p.mG)(this,void 0,void 0,function(){var o,a,l=this;return(0,p.Jh)(this,function(r){return o=this.explorationNavigationEXService.getCurrentExploration(),a=this.explorationNavigationEXService.getCurrentSection(),this.isMobileLayoutExists()?[2,this.modernDialogService.promptHostSimpleDialog("CreateAutoLayoutConfirmation",{title:this.localizationService.get("MobileAuthoring_AutoCreateAlert_Headline"),message:this.localizationService.get("MobileAuthoring_AutoCreateAlert_Message"),okButtonText:this.localizationService.get("Replace"),cancelButtonText:this.localizationService.get("Cancel_ButtonText")},{panelClass:["legacy-dialog"]}).then(function(u){1===u&&l.undoRedo.register("removeAndCreateAutoMobileLayout",function(){l.layoutAuthoring.removeLayoutFromSection(a,1,o,!0),l.createAndApplyLayout(t,!0)})})]:(this.undoRedo.register("removeAndCreateAutoMobileLayout",function(){l.createAndApplyLayout(t,!1)}),[2])})})},i.prototype.createAndApplyLayout=function(t,o){var a;return(0,p.mG)(this,void 0,void 0,function(){var l,r,u,f,M,I,E,B,R,K;return(0,p.Jh)(this,function(ne){switch(ne.label){case 0:return l=this.explorationNavigationEXService.getCurrentExploration(),r=this.explorationNavigationEXService.getCurrentSection(),u=this.explorationNavigationEXService.getCurrentExploreCanvas(),[4,this.lazyScoped.get("mobileAutoLayoutService")];case 1:for(f=ne.sent(),M=Date.now(),I=f.createAutoMobileLayout(r,{useStylableVisualContainerHeader:null===(a=l.settings)||void 0===a?void 0:a.useStylableVisualContainerHeader}),E=function(q){var ce=_.find(r.visualContainers,function(de){return de.name===q.name});q.layouts[1]&&B.layoutAuthoring.addLayoutToVisualContainer(u,ce,q.layouts[1].position,!0)},B=this,R=0,K=I;R<K.length;R++)E(K[R]);return this.eventBridge.publishToChannel(S.wAN),this.certifiedEventsService.logTimedStandardizedFeatureEvent({correlationId:this.telemetryService.root.id,activityName:T,activityAttributes:{caller:t,hadPreviousLayout:o,sectionId:r.objectId},resultCode:null,featureName:"".concat("Mobile report authoring",", ").concat("Mobile report layout was auto-created"),activityStatus:"Succeeded",operationStartTime:M,operationEndTime:Date.now()}),[2]}})})},Object.defineProperty(i.prototype,"autoLayoutActionDisabled$",{get:function(){return this.explorationNavigationEXService.currentSection$.pipe((0,P.U)(function(o){var a;return 0===(null===(a=o.visualContainers)||void 0===a?void 0:a.length)}))},enumerable:!1,configurable:!0}),i.prototype.isMobileLayoutExists=function(){return 0!==this.layoutAuthoring.visualsInLayout(this.explorationNavigationEXService.getCurrentSection(),1).length},i.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275inject(ae.x),e.\u0275\u0275inject(D.J),e.\u0275\u0275inject(A.I),e.\u0275\u0275inject(k.U),e.\u0275\u0275inject(ie.H),e.\u0275\u0275inject(W.o),e.\u0275\u0275inject(O.y0),e.\u0275\u0275inject(N.z),e.\u0275\u0275inject(O.ly))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i}(),fe=n(59968),te=n(77476),Ce=n(85102),m=function(){function i(t){this.layoutGenerator=t}return i.prototype.generateAutoLayout=function(){this.layoutGenerator.generateAutoMobileLayout("mobileCanvasEmptyState")},Object.defineProperty(i.prototype,"autoLayoutActionDisabled$",{get:function(){return this.layoutGenerator.autoLayoutActionDisabled$},enumerable:!1,configurable:!0}),i.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275directiveInject(le))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["mobile-canvas-empty-state"]],features:[e.\u0275\u0275ProvidersFeature([le])],decls:9,vars:12,consts:[[1,"mobileEmptyState"],[1,"mobileEmptyStateSVG"],["localize","CreateMobileAuthoring_Button",1,"heading"],["localize","MobileAuthoring_EmptyState_Content",1,"subHeading"],["localize","MobileAuthoring_CreateAutoLayout",1,"pbi-fluent-button","primary","primaryBtn",3,"disabled","click"]],template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"div",1)(2,"h1",2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275element(4,"h2",3),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementStart(6,"button",4),e.\u0275\u0275listener("click",function(){return a.generateAutoLayout()}),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(3,4,"CreateMobileAuthoring_Button")),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(5,6,"MobileAuthoring_EmptyState_Content")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(8,10,a.autoLayoutActionDisabled$)),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(7,8,"MobileAuthoring_CreateAutoLayout")))},dependencies:[fe.X,te.AsyncPipe,Ce.F],styles:['.heading[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--xlg-font-size, 20px);font-weight:var(--font-weight-semi-bold, 600);-webkit-user-select:none;-ms-user-select:none;user-select:none;cursor:default;color:#242424}.subHeading[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);margin-top:8px;margin-bottom:24px;-webkit-user-select:none;-ms-user-select:none;user-select:none;cursor:default;color:#323130;padding:0 10px}.mobileEmptyState[_ngcontent-%COMP%]{text-align:center;align-items:center;display:flex;flex-direction:column;position:absolute;z-index:1000;top:0;left:-10px;width:344px;height:100%;background:#FFF}.mobileEmptyState[_ngcontent-%COMP%]   .mobileEmptyStateSVG[_ngcontent-%COMP%]{background-image:url('+n.p+"../images/mobileEmptyState.svg);background-repeat:no-repeat;background-position:center;width:293px;height:251px;padding-top:55px}.mobileEmptyState[_ngcontent-%COMP%]   .primaryBtn[_ngcontent-%COMP%]:disabled{opacity:.2;color:var(--colorButtonPrimaryForeground);background-color:var(--colorButtonPrimaryBackground);border-color:var(--colorButtonPrimaryBorder)}"]}),i}(),Ie=n(93247),ye=n(62458),Me=n(60661),Se=n(64560),xe=n(30794),Te=n(35510),Fe=n(59973),_e=n(83317),ze=function(){function i(t,o){var a=this;this.menu=o,this.onDestroy$=new xe.xQ,this.items=new Set(t);var l=t.find(function(r){return r.checked});this.selected$=new Te.X(l),this.menu&&this.menu.pbiMenuButtonClick.pipe((0,Fe.h)(function(r){return a.items.has(r)}),(0,_e.R)(this.onDestroy$)).subscribe(function(r){return a.select(r)})}return i.prototype.destroy=function(){this.onDestroy$.next(),this.onDestroy$.unsubscribe()},i.prototype.select=function(t){this.selected$.value&&(this.selected$.value.checked=!1),t.checked=!0,this.selected$.next(t)},i}(),C=n(80357),g=n(21023),v=n(39503),h=n(17328),b=n(21024),y=n(5467),L=n(83342),s=n(66977),c=n(50057),x=n(50264),w=n(35756),J=n(80649),V=n(36858),Q=n(74913),ve=n(3579),be=n(47343),Ee=n(82762),ue=n(26898),pe=n(83008),Ve=n(13702),Le=n(29866),Oe=n(91399),we=n(18460),$e=n(53267),Ke=function(t){return{hiddenVisual:t}},Je=function(){return{centerOffset:!0}},Qe=function(t,o){return{visual:t,viewport:o}},ke=function(){function i(t,o,a,l,r){this.localizationService=t,this.conceptualSchemaProxy=o,this.dataSources=a,this.displayNameService=l,this.visualPlugin=r,this.style=new be.Y,this.exploreUIThumbnailModulePath="@powerbi/ExploreUIThumbnail/module#ExploreUIThumbnailModule"}return i.prototype.ngOnInit=function(){this.applyVisualStyle(),this.generateTitle()},i.prototype.isVisualHidden=function(){return(0,Me.Pu)(this.visual)},i.prototype.getDragContext=function(){var t=this;return function(){return{source:t.visual}}},i.prototype.applyVisualStyle=function(){this.noBorderViewport={height:this.viewport.height,width:this.viewport.width-2},this.style.viewport(this.viewport)},i.prototype.generateTitle=function(){var t=this,o=this.dataSources.get();this.visualTitle$=(0,Ee.D)(this.conceptualSchemaProxy.get(o)).pipe((0,P.U)(function(a){var l,r=(0,Me.PQ)(t.visual),u=t.visualPlugin.capabilities((0,ve.s)(t.visual));return null===(l=t.displayNameService.getVisualTitle(r,a,u,void 0,void 0,!0))||void 0===l?void 0:l.text}))},i.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275directiveInject(W.o),e.\u0275\u0275directiveInject(ue.i),e.\u0275\u0275directiveInject(pe.D),e.\u0275\u0275directiveInject(Ve.O),e.\u0275\u0275directiveInject(Le.D))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["mobile-visual-container-thumbnail-wrapper"]],inputs:{viewport:"viewport",visual:"visual"},decls:8,vars:19,consts:[[3,"apply-style","ngClass"],[1,"thumbnailHeader"],[1,"trimmedTextWithEllipsis"],[1,"glyphicon","visualVisibilityIcon",3,"ngClass"],["tabindex","0","focusElement","",1,"thumbnailContainerWrapper",3,"drag","dragConfig","getDragContext"],[3,"modulePath","componentId","inputArgs"]],template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"div",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4),e.\u0275\u0275element(7,"pbi-lazy-load",5),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275property("apply-style",a.style)("ngClass",e.\u0275\u0275pureFunction1(13,Ke,a.isVisualHidden())),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,11,a.visualTitle$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",a.isVisualHidden()?"pbi-glyph-hide3":"pbi-glyph-view"),e.\u0275\u0275attribute("title",a.isVisualHidden()?a.localizationService.get("ExplorationCanvasItemsPane_Hidden_Visual"):a.localizationService.get("ExplorationCanvasItemsPane_Shown_Visual")),e.\u0275\u0275advance(1),e.\u0275\u0275property("drag","visual-container-thumbnail")("dragConfig",e.\u0275\u0275pureFunction0(15,Je))("getDragContext",a.getDragContext()),e.\u0275\u0275advance(1),e.\u0275\u0275property("modulePath",a.exploreUIThumbnailModulePath)("componentId","VisualContainerThumbnailComponentId")("inputArgs",e.\u0275\u0275pureFunction2(16,Qe,a.visual,a.noBorderViewport)))},dependencies:[te.NgClass,Oe.s,we.R,$e.w,te.AsyncPipe],styles:['.thumbnailContainerWrapper.ui-draggable-dragging{border:2px solid var(--colorBrandForeground1)}[_nghost-%COMP%]{height:132px;display:block}[_nghost-%COMP%]:focus{outline:none}[_nghost-%COMP%]   .thumbnailHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-bottom:2px;font-size:11px;cursor:default}[_nghost-%COMP%]   .thumbnailHeader[_ngcontent-%COMP%]   .visualVisibilityIcon[_ngcontent-%COMP%]{font-size:11px;margin:0 2px 0 5px;align-self:flex-end;color:var(--fluent-theme-neutral-dark-color, #201F1E)}[_nghost-%COMP%]   .hiddenVisual[_ngcontent-%COMP%]{opacity:.3}[_nghost-%COMP%]   .thumbnailContainerWrapper[_ngcontent-%COMP%]{background-color:transparent;box-sizing:content-box;overflow:hidden;-webkit-background-clip:content;background-clip:content "-box";position:relative;display:block;border:1px solid var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}[_nghost-%COMP%]   .thumbnailContainerWrapper.draggable-root-dragging[_ngcontent-%COMP%]{opacity:0}']}),i}();function Ct(i,t){if(1&i){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275listener("click",function(l){e.\u0275\u0275restoreView(o);var r=e.\u0275\u0275nextContext().ngIf,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.onOptionsClick(l,r.optionsSetting))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}2&i&&e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,1,"Pane_Options"))}function Xe(i,t){1&i&&e.\u0275\u0275element(0,"div",27)}function Ze(i,t){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",28)}function F(i,t){if(1&i){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",23),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(o);var r=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(r.applyAutoLayout())}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Xe,1,0,"div",24),e.\u0275\u0275template(4,Ze,1,0,"tri-svg-icon",25),e.\u0275\u0275element(5,"span",26),e.\u0275\u0275elementEnd()}if(2&i){var a=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(2,6,a.autoLayoutActionDisabled$)),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(1,4,"CreateMobileAuthoring_Button")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!a.isTridentEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isTridentEnabled)}}function j(i,t){1&i&&e.\u0275\u0275element(0,"div",29)}function H(i,t){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",30)}function X(i,t){1&i&&e.\u0275\u0275element(0,"div",31)}function Be(i,t){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",32)}var Ye=function(t){return{hasAutoLayout:t}};function qe(i,t){if(1&i){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",14),e.\u0275\u0275template(1,F,6,8,"button",15),e.\u0275\u0275elementStart(2,"div",16)(3,"button",17),e.\u0275\u0275listener("pbiMenuButtonClick",function(r){e.\u0275\u0275restoreView(o);var u=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(u.handleVisibilityFilterChange(r))}),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275template(5,j,1,0,"div",18),e.\u0275\u0275template(6,H,1,0,"tri-svg-icon",19),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"button",20),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(o);var r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.clearAllVisualsFromCanvasPressed())}),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275template(9,X,1,0,"div",21),e.\u0275\u0275template(10,Be,1,0,"tri-svg-icon",22),e.\u0275\u0275elementEnd()()()}if(2&i){var a=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(14,Ye,a.featureSwitchService.featureSwitches.mobileAutoReportLayout)),e.\u0275\u0275advance(1),e.\u0275\u0275property("pbiFeatureSwitch","mobileAutoReportLayout"),e.\u0275\u0275advance(2),e.\u0275\u0275property("pbiMenu",a.filterByVisibilityMenu),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(4,10,"Filter_By_Appearance")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!a.isTridentEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isTridentEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",a.isRemoveAllVisualsDisabled()),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(8,12,"RemoveAllVisuals_Title")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!a.isTridentEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isTridentEnabled)}}function et(i,t){1&i&&e.\u0275\u0275element(0,"hr")}function tt(i,t){if(1&i){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li")(1,"mobile-visual-container-thumbnail-wrapper",37),e.\u0275\u0275listener("keydown",function(u){var M=e.\u0275\u0275restoreView(o).$implicit,I=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(I.onKeydown(u,M))})("dblclick",function(){var f=e.\u0275\u0275restoreView(o).$implicit,M=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(M.addThumbnailToNextFreeSpot(f))}),e.\u0275\u0275elementEnd()()}if(2&i){var a=t.$implicit,l=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("visual",a)("viewport",l.viewport)}}var nt=function(){return{ignoreOverlay:!1,ignoreMobile:!1}};function it(i,t){if(1&i&&(e.\u0275\u0275elementStart(0,"div",33)(1,"div",34)(2,"div",35)(3,"ul"),e.\u0275\u0275elementContainerStart(4),e.\u0275\u0275template(5,tt,2,2,"li",36),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()()()()),2&i){var o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("pbiScrollbar",e.\u0275\u0275pureFunction0(2,nt)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",o.visuals)}}var Ue=function(t){return{isCollapsed:t}};function ot(i,t){if(1&i){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"article",1)(1,"div",2),e.\u0275\u0275elementContainerStart(2),e.\u0275\u0275elementStart(3,"button",3),e.\u0275\u0275listener("click",function(){var u=e.\u0275\u0275restoreView(o).ngIf,f=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(f.toggle(!u.isPaneExpanded))}),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275element(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275element(7,"div",6),e.\u0275\u0275template(8,Ct,2,3,"div",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",8),e.\u0275\u0275element(10,"span",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,qe,11,16,"div",10),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,et,1,0,"hr",11),e.\u0275\u0275template(13,it,6,3,"div",12),e.\u0275\u0275elementEnd()}if(2&i){var a=t.ngIf;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(13,Ue,!a.isPaneExpanded)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(15,Ue,!a.isPaneExpanded)),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(4,11,"PageVisualsPane_Title"))("aria-expanded",!!a.isPaneExpanded),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!a.isPaneExpanded),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",a.isPaneExpanded?"pbi-glyph-doublechevronright ":"pbi-glyph-doublechevrondown "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPaneExpanded&&(null==a.optionsSetting?null:a.optionsSetting.showOptions)),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",a.isPaneExpanded),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.isPaneExpanded),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPaneExpanded),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPaneExpanded)}}var at=window,rt=function(){function i(t,o,a,l,r,u,f,M,I,E,B){this.autoLayoutGenerator=t,this.eventBridge=o,this.explorationNavigation=a,this.formFactor=l,this.layoutAuthoring=r,this.localizationService=u,this.modernDialogService=f,this.panesVisibilityService=M,this.pbiMenuService=I,this.featureSwitchService=E,this.visualPluginOps=B,this.isTridentEnabled=at.isTrident,this.filterByVisibilityMenu={items:[{id:0,type:Se.iB.Button,text:this.localizationService.get("All"),checkable:!0,checked:!0},{id:1,type:Se.iB.Button,text:this.localizationService.get("Visible"),checkable:!0},{id:2,type:Se.iB.Button,text:this.localizationService.get("Hidden_Upper_First"),checkable:!0}]},this.paneVisibility$=this.panesVisibilityService.getPanes$().pipe((0,P.U)(function(R){return R.pageVisuals})),this.visibilityFilterChosenItem=this.filterByVisibilityMenu.items[0]}return i.prototype.ngOnInit=function(){var t=this;this.scrollbarsConfig={ignoreOverlay:!1,ignoreMobile:!1},this.viewport={width:108,height:108},this.subscriptionManager=this.eventBridge.createChannelSubscriptionManager().subscribe(S.wAN,function(){return t.updateVisuals()}).subscribe(S.aco,function(){return t.updateVisuals()}),this.updateVisuals()},i.prototype.ngAfterViewInit=function(){this.selectionModel=new ze(this.filterByVisibilityMenu.items,this.menuTrigger)},i.prototype.ngOnDestroy=function(){this.subscriptionManager.unsubscribeAll(),this.selectionModel.destroy()},i.prototype.onOptionsClick=function(t,o){t.stopPropagation(),(0,g.cc)(t,o,this.pbiMenuService)},i.prototype.isRemoveAllVisualsDisabled=function(){return 0===this.layoutAuthoring.visualsInLayout(this.explorationNavigation.getCurrentSection(),1).length},i.prototype.clearAllVisualsFromCanvasPressed=function(){var t=this;return this.modernDialogService.promptHostSimpleDialog("ClearAllVisualsConfirmDialog",{title:this.localizationService.get("RemoveAllVisuals_Title"),message:this.localizationService.get("RemoveAllVisuals_MessageContent"),okButtonText:this.localizationService.get("RemoveAllVisuals_OKText"),cancelButtonText:this.localizationService.get("RemoveAllVisuals_CancelText")},{panelClass:["legacy-dialog"]}).then(function(o){if(1===o){var a=t.explorationNavigation.getCurrentSection(),l=t.explorationNavigation.getCurrentExploration();t.layoutAuthoring.removeLayoutFromSection(a,1,l)}})},i.prototype.onKeydown=function(t,o){(t.keyCode===Ie.K5||t.keyCode===Ie.L_)&&this.addThumbnailToNextFreeSpot(o)},i.prototype.addThumbnailToNextFreeSpot=function(t){this.eventBridge.publishToChannel(S.JAC,{visualContainer:t})},i.prototype.toggle=function(t){this.panesVisibilityService.getVisibilityFor("pageVisuals").setPaneExpansion(t)},i.prototype.handleVisibilityFilterChange=function(t){this.visibilityFilterChosenItem=t,this.updateVisuals()},i.prototype.applyAutoLayout=function(){return(0,p.mG)(this,void 0,void 0,function(){return(0,p.Jh)(this,function(t){return this.autoLayoutGenerator.generateAutoMobileLayout("mobilePageVisualsPane"),[2]})})},Object.defineProperty(i.prototype,"autoLayoutActionDisabled$",{get:function(){return this.autoLayoutGenerator.autoLayoutActionDisabled$},enumerable:!1,configurable:!0}),i.prototype.updateVisuals=function(){var t=this,o=this.explorationNavigation.getCurrentSection(),a=this.formFactor.getCurrentLayout();ye.fF.assertValue(o,"currentSection"),ye.fF.assertValue(a,"currentLayout"),this.visuals=o.visualContainers.filter(function(l){if(l.layouts.withId(a))return!1;var r=t.visibilityFilterChosenItem;if(0===r.id)return!0;var u=(0,Me.Pu)(l);return 2===r.id?u:!u})},i.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275directiveInject(le),e.\u0275\u0275directiveInject(D.J),e.\u0275\u0275directiveInject(v.z),e.\u0275\u0275directiveInject(h.F),e.\u0275\u0275directiveInject(k.U),e.\u0275\u0275directiveInject(W.o),e.\u0275\u0275directiveInject(ae.x),e.\u0275\u0275directiveInject(b.r),e.\u0275\u0275directiveInject(y.o),e.\u0275\u0275directiveInject(L.vZ),e.\u0275\u0275directiveInject(s.f))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["mobile-page-visuals-pane"]],viewQuery:function(o,a){var l;(1&o&&e.\u0275\u0275viewQuery(C.l8,5),2&o)&&(e.\u0275\u0275queryRefresh(l=e.\u0275\u0275loadQuery())&&(a.menuTrigger=l.first))},features:[e.\u0275\u0275ProvidersFeature([le])],decls:2,vars:3,consts:[["class","sidePane rightSidePane visualizationPane smallFontSize","keyboard-shortcuts","ctrl-F6","focus-nav-mode","Group","focus-priority","6",3,"ngClass",4,"ngIf"],["keyboard-shortcuts","ctrl-F6","focus-nav-mode","Group","focus-priority","6",1,"sidePane","rightSidePane","visualizationPane","smallFontSize",3,"ngClass"],[1,"paneHeader"],["localizeTooltip","Pane_Toggle",1,"btn","toggleBtn",3,"ngClass","click"],["localize","PageVisualsPane_Title",1,"sidePaneHorizontalTitle","unselectable","sidePaneTitle","largeFontSize","trimmedTextWithEllipsis",3,"hidden"],[1,"collapse"],[1,"btnIcon","glyphicon","glyph-mini",3,"ngClass"],["class","btnIcon glyphicon glyph-small pbi-glyph-more",3,"pbiTooltip","click",4,"ngIf"],[1,"verticalTitle","verticalText",3,"hidden"],["localize","PageVisualsPane_Title",1,"collapsedVisualsTitle","largeFontSize"],["class","flex paneActions",3,"ngClass",4,"ngIf"],[4,"ngIf"],["class","paneContents flex",4,"ngIf"],[1,"btnIcon","glyphicon","glyph-small","pbi-glyph-more",3,"pbiTooltip","click"],[1,"flex","paneActions",3,"ngClass"],["class","paneActionButton autoLayoutAction","localizeTooltip","CreateMobileAuthoring_Button",3,"disabled","click",4,"pbiFeatureSwitch"],[1,"actionsWrapper"],["localizeTooltip","Filter_By_Appearance",1,"paneActionButton",3,"pbiMenu","pbiMenuButtonClick"],["class","glyphicon pbi-glyph-equalizer glyph-small",4,"ngIf"],["tri-svg-icon-16","","sprite","authoring-icons","name","options_16_regular","class","options-icon svgIcon","role","img","tabindex","0",4,"ngIf"],["localizeTooltip","RemoveAllVisuals_Title",1,"paneActionButton",3,"disabled","click"],["class","glyphicon pbi-glyph-eraser glyph-small",4,"ngIf"],["tri-svg-icon-16","","sprite","authoring-icons","name","eraser_16_regular","class","eraser-icon svgIcon","role","img","tabindex","0",4,"ngIf"],["localizeTooltip","CreateMobileAuthoring_Button",1,"paneActionButton","autoLayoutAction",3,"disabled","click"],["class","glyphicon glyph-small pbi-glyph-phone-optimized-report",4,"ngIf"],["tri-svg-icon-16","","sprite","authoring-icons","name","data_bar_vertical_phone_16_regular","class","autoLayoutIcon svgIcon","role","img","tabindex","0",4,"ngIf"],["localize","QuickCreate_CreateAutoGenerate",1,"autoLayoutText"],[1,"glyphicon","glyph-small","pbi-glyph-phone-optimized-report"],["tri-svg-icon-16","","sprite","authoring-icons","name","data_bar_vertical_phone_16_regular","role","img","tabindex","0",1,"autoLayoutIcon","svgIcon"],[1,"glyphicon","pbi-glyph-equalizer","glyph-small"],["tri-svg-icon-16","","sprite","authoring-icons","name","options_16_regular","role","img","tabindex","0",1,"options-icon","svgIcon"],[1,"glyphicon","pbi-glyph-eraser","glyph-small"],["tri-svg-icon-16","","sprite","authoring-icons","name","eraser_16_regular","role","img","tabindex","0",1,"eraser-icon","svgIcon"],[1,"paneContents","flex"],[1,"sectionHost","item-fill"],[3,"pbiScrollbar"],[4,"ngFor","ngForOf"],["tabindex","0","focusElement","",3,"visual","viewport","keydown","dblclick"]],template:function(o,a){1&o&&(e.\u0275\u0275template(0,ot,14,17,"article",0),e.\u0275\u0275pipe(1,"async")),2&o&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,a.paneVisibility$))},dependencies:[te.NgClass,te.NgForOf,te.NgIf,fe.X,c.r,x.P,w.q,C.l8,J.r,V.V,Q.M,ke,te.AsyncPipe,Ce.F],styles:['.paneHeader[_ngcontent-%COMP%]   .toggleBtn.legacyToggleBtn[_ngcontent-%COMP%]{position:relative;cursor:default;box-sizing:border-box}.paneHeader[_ngcontent-%COMP%]   .toggleBtn.legacyToggleBtn[_ngcontent-%COMP%]   .sidePaneHorizontalTitle[_ngcontent-%COMP%]{cursor:default;font-family:Segoe UI Semilight,wf_segoe-ui_semilight,helvetica,arial,sans-serif}.paneHeader[_ngcontent-%COMP%]{display:flex;flex-direction:column}.paneHeader[_ngcontent-%COMP%]   .toggleBtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-bottom:0;height:42px}.paneHeader[_ngcontent-%COMP%]   .toggleBtn[_ngcontent-%COMP%]   .sidePaneHorizontalTitle[_ngcontent-%COMP%]{margin-top:0;line-height:normal}.paneHeader[_ngcontent-%COMP%]   .toggleBtn[_ngcontent-%COMP%]   .btnIcon[_ngcontent-%COMP%]{margin:0 8px 0 0}.paneHeader[_ngcontent-%COMP%]   .toggleBtn[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{margin:0 0 4px}.paneHeader[_ngcontent-%COMP%]   .toggleBtn.isCollapsed[_ngcontent-%COMP%]{flex-direction:column}.paneHeader[_ngcontent-%COMP%]   .toggleBtn.isCollapsed[_ngcontent-%COMP%]   .btnIcon[_ngcontent-%COMP%]{margin:16px 8px 0;padding:0}.paneHeader[_ngcontent-%COMP%]   .toggleBtn.isCollapsed[_ngcontent-%COMP%]   .verticalTitle[_ngcontent-%COMP%]{top:65px}.paneHeader[_ngcontent-%COMP%]   .paneActions[_ngcontent-%COMP%]{justify-content:flex-end}.paneHeader[_ngcontent-%COMP%]   .paneActions.hasAutoLayout[_ngcontent-%COMP%]{justify-content:space-between}.paneHeader[_ngcontent-%COMP%]   .actionsWrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]{overflow:hidden;cursor:pointer;margin:0 12px;display:flex;background-color:initial;border:none}.paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]:hover, .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]:active, .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]:active:hover, .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]:focus:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD);color:inherit}.paneHeader[_ngcontent-%COMP%]   .paneActionButton[disabled][_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-tertiary-color, #A19F9D);cursor:default;pointer-events:none}.paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%], .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .svgIcon[_ngcontent-%COMP%]{padding-top:2px}.paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .paneClearTitle[_ngcontent-%COMP%]{font-family:Segoe UI Semilight,wf_segoe-ui_semilight,helvetica,arial,sans-serif;margin-left:8px;overflow:hidden;text-overflow:ellipsis;text-transform:none;white-space:nowrap}.paneHeader[_ngcontent-%COMP%]   .autoLayoutAction[_ngcontent-%COMP%]{display:flex;margin:0 10px}.paneHeader[_ngcontent-%COMP%]   .autoLayoutText[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);margin:0 5px}.svgIcon[_ngcontent-%COMP%]{fill:var(--fluentThemeNeutralDarkColor)}.newPaneColors.explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]{width:378px;max-width:378px}.newPaneColors.explorationContainer[_nghost-%COMP%]   .visualizationPane.isCollapsed[_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   .visualizationPane.isCollapsed[_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   .visualizationPane.isCollapsed[_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   .visualizationPane.isCollapsed[_ngcontent-%COMP%]{width:32px}.newPaneColors.explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]{height:80px}.newPaneColors.explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]{padding:8px;margin:0 5px}.newPaneColors.explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[aria-expanded=true][_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[aria-expanded=true][_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[aria-expanded=true][_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[aria-expanded=true][_ngcontent-%COMP%]{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}.newPaneColors.explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%], .newPaneColors.explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .svgIcon[_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .svgIcon[_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .svgIcon[_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .svgIcon[_ngcontent-%COMP%]{padding:0}.newPaneColors.explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneContents[_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneContents[_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneContents[_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneContents[_ngcontent-%COMP%]{top:92px}.newPaneColors.explorationContainer[_nghost-%COMP%]   hr[_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   hr[_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   hr[_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   hr[_ngcontent-%COMP%]{border:solid var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD);border-width:1px 0 0 0}.paneContents[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;list-style:none;padding:0;margin:6px 18px 0 12px}.paneContents[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;height:auto}']}),i}(),lt=n(55525),De=n(9215),je=function(){function i(){}return i.prototype.getObjectDefinitions=function(t){if(t&&(0,De.Vz)(t))return t.config.singleVisual.mobileObjects},i.prototype.getVcObjectDefinitions=function(t){if(t&&(0,De.Vz)(t))return t.config.singleVisual.mobileVcObjects},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac=function(o){return new(o||i)}}),i}(),st=n(17774),He=function(){function i(){}return i.prototype.shouldShowSliceChangeIndicator=function(t,o){return!!o&&!!(0,st.cH)(o,t.objectName,t.propertyName,void 0!==t.altConstantValueSelector?t.altConstantValueSelector:t.selector)},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac=function(o){return new(o||i)}}),i}(),ct=n(24408),z=n(20598),Re=new Map([[z.e4,[z.e4]],[z.bb,[z.bb]],[z.vX,[z.vX]],[z.j6,[z.j6,z.of,z.Ih]],[z.of,[z.j6,z.of,z.Ih]],[z.K8,[z.K8]],[z.GV,[z.GV]],[z.Zr,[z.Zr]],[z.Ih,[z.j6,z.of,z.Ih]]]),ge=function(){function i(){}return i.prototype.customizeSliceDropdownOptions=function(t,o,a){return"slicerSettings-options-style"===a?t.filter(function(l){var r;return null===(r=Re.get(o.value.toString()))||void 0===r?void 0:r.includes(l.value.toString())}):t},i.prototype.customizeSliceOptions=function(t){var o=this;_.forEach(t,function(a){if("Dropdown"===a.control.type&&ct.WN(a.control.properties)){var l=a.control.properties;l.items=o.customizeSliceDropdownOptions(l.items,l.value,a.uid)}})},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac=function(o){return new(o||i)}}),i}(),ut=n(21302),pt=n(89535),gt=n(45221),dt=n(22179),vt=n(21728),mt=n(84376),Z=n(64647),se=n(72262),me=n(56083),re=n(32441),Pe=function(){function i(t){this.highContrastCssGenerationService=t,this.initializeHighContrastRules()}return i.prototype.initializeHighContrastRules=function(){this.highContrastCssGenerationService.addRule(".themeableElement .empty-pane-svg .emptyFormatting","{ fill: @foregroundColor !important; opacity: 1 !important; }"),this.highContrastCssGenerationService.addRule(".themeableElement .empty-pane-svg .themeColor","{ fill: none !important; opacity: 1 !important; }")},i.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275directiveInject(Z.g))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["mobile-empty-formatting-pane-svg"]],decls:10,vars:0,consts:[["width","58","height","58","viewBox","0 0 58 58","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0)"],["d","M14.5039 40.4166V25.3715H23.5664V12.6804H34.4343V19.9375H43.4968V21.5128C43.2136 21.6426 42.9186 21.8019 42.6118 21.9907C42.305 22.1677 41.9982 22.3624 41.6914 22.5748V21.7429H34.4343V28.9823C34.1511 29.2891 33.862 29.5959 33.567 29.9027C33.2602 30.1977 32.9475 30.5045 32.6289 30.8231V14.5035H25.3718V36.3456C25.006 36.7704 24.6815 37.2129 24.3983 37.6731C24.1151 38.1333 23.8378 38.6112 23.5664 39.1068V27.1946H16.3093V40.5936L14.5039 40.4166Z",1,"themeableElement","emptyFormatting"],["d","M46.7897 23.9023C47.0139 24.1265 47.126 24.4392 47.126 24.8405C47.126 25.3715 46.9549 26.0146 46.6127 26.7698C46.2587 27.5132 45.8044 28.3038 45.2498 29.1416C44.6951 29.9794 44.0815 30.8349 43.4089 31.7081C42.7245 32.5813 42.0519 33.4014 41.3911 34.1685C40.7303 34.9355 40.1226 35.6258 39.568 36.2394C39.0016 36.8412 38.5591 37.3014 38.2405 37.62C37.9573 37.9032 37.6623 38.1982 37.3555 38.505C37.0369 38.8118 36.7183 39.1186 36.3997 39.4254C36.0811 39.7204 35.7684 40.0095 35.4615 40.2927C35.1547 40.5641 34.8715 40.8119 34.6119 41.0361C34.5647 40.3045 34.3936 39.6496 34.0986 39.0714C34.2874 38.8944 34.4998 38.6938 34.7358 38.4696C34.9718 38.2454 35.2196 38.0153 35.4792 37.7793C35.7389 37.5315 35.9985 37.2837 36.2581 37.0359C36.5059 36.7881 36.7419 36.5521 36.9661 36.3279C37.4971 35.7969 38.0517 35.2187 38.6299 34.5933C39.1963 33.9561 39.7627 33.3011 40.3291 32.6285C40.8955 31.9559 41.4442 31.2833 41.9752 30.6107C42.4944 29.9381 42.9723 29.295 43.4089 28.6814C43.8455 28.0678 44.2172 27.5014 44.524 26.9822C44.8309 26.4512 45.0492 26.0087 45.179 25.6547C44.8368 25.8317 44.3175 26.1916 43.6213 26.7344C42.9251 27.2654 42.0519 28.0147 41.0017 28.9823C39.9397 29.9381 38.7066 31.1181 37.3024 32.5223C35.8864 33.9266 34.2874 35.5845 32.5056 37.4961C31.9274 37.2011 31.2784 37.0359 30.5586 37.0005C30.7828 36.7409 31.0365 36.4577 31.3197 36.1509C31.5911 35.8323 31.8802 35.5137 32.187 35.1951C32.482 34.8765 32.7829 34.5579 33.0897 34.2393C33.3965 33.9207 33.6915 33.6198 33.9747 33.3365C34.2107 33.1005 34.5234 32.7819 34.9128 32.3807C35.3022 31.9795 35.7448 31.5311 36.2404 31.0355C36.7242 30.5281 37.2552 29.9971 37.8334 29.4425C38.3998 28.8761 38.9839 28.3215 39.5857 27.7787C40.1757 27.2241 40.7775 26.699 41.3911 26.2034C41.9929 25.696 42.5711 25.2535 43.1257 24.8759C43.6803 24.4865 44.2054 24.1796 44.701 23.9554C45.1849 23.7194 45.6097 23.6014 45.9755 23.6014C46.3177 23.6014 46.5891 23.7017 46.7897 23.9023Z",1,"themeableElement","emptyFormatting"],["d","M27.1761 46.2223C26.5153 46.1633 25.8309 46.0748 25.1229 45.9568C24.4149 45.827 23.7305 45.6677 23.0697 45.4789L20.3262 44.7178L22.9989 43.762C23.8013 43.4788 24.5034 43.1071 25.1052 42.6469C25.707 42.1866 26.2144 41.6497 26.6274 41.0361L26.8398 40.6644C27.123 40.157 27.3944 39.7086 27.6541 39.3192C27.9019 38.918 28.1674 38.5817 28.4506 38.3103C28.722 38.0389 29.0347 37.8324 29.3887 37.6908C29.7309 37.5374 30.1439 37.4607 30.6277 37.4607C31.7369 37.4607 32.5983 37.7675 33.2119 38.3811C33.8255 38.9947 34.1323 39.8561 34.1323 40.9653C34.1323 41.4137 34.0438 41.8503 33.8668 42.2751C33.6898 42.7 33.4479 43.1071 33.1411 43.4965C32.8225 43.8859 32.4508 44.2458 32.026 44.5762C31.5894 44.9066 31.1174 45.1957 30.61 45.4435C30.1026 45.6795 29.5657 45.8683 28.9993 46.0099C28.4329 46.1515 27.8547 46.2223 27.2646 46.2223H27.1761Z",1,"themeableElement","themeColor"],["d","M30.6292 36.558C31.3136 36.558 31.939 36.6583 32.5054 36.8589C33.0718 37.0595 33.5556 37.3486 33.9568 37.7262C34.3462 38.1038 34.653 38.5699 34.8772 39.1245C35.0896 39.6673 35.1958 40.2809 35.1958 40.9653C35.1958 41.8385 34.9657 42.6528 34.5055 43.408C34.0453 44.1514 33.4435 44.8004 32.7001 45.355C31.9449 45.9096 31.0894 46.3462 30.1335 46.6648C29.1777 46.9716 28.1983 47.125 27.1953 47.125C25.7793 46.9952 24.4636 46.7769 23.2482 46.4701C22.729 46.3403 22.2098 46.1869 21.6906 46.0099C21.1595 45.8211 20.6639 45.6087 20.2037 45.3727C19.7435 45.1249 19.3305 44.8476 18.9647 44.5408C18.5989 44.234 18.3216 43.8859 18.1328 43.4965C18.1918 43.5083 18.2626 43.5142 18.3452 43.5142C18.416 43.526 18.4986 43.5319 18.593 43.5319C18.6756 43.5319 18.7818 43.5319 18.9116 43.5319C19.3128 43.5319 19.8202 43.5024 20.4338 43.4434C21.0356 43.3726 21.6729 43.2251 22.3455 43.0009C23.0181 42.7649 23.6848 42.4285 24.3456 41.9919C24.9946 41.5553 25.5669 40.9594 26.0625 40.2042C26.3221 39.7322 26.5935 39.2779 26.8767 38.8413C27.1481 38.4047 27.4549 38.0212 27.7971 37.6908C28.1393 37.3486 28.5405 37.0772 29.0007 36.8766C29.4491 36.6642 29.9919 36.558 30.6292 36.558ZM27.2484 45.3196C28.0036 45.3078 28.7529 45.178 29.4963 44.9302C30.2279 44.6824 30.8829 44.3579 31.4611 43.9567C32.0393 43.5437 32.5054 43.0835 32.8594 42.576C33.2134 42.0568 33.3904 41.5199 33.3904 40.9653C33.3904 40.4815 33.3314 40.0744 33.2134 39.744C33.0836 39.4136 32.9066 39.1481 32.6824 38.9475C32.4582 38.7351 32.1927 38.5876 31.8859 38.505C31.5673 38.4106 31.2133 38.3634 30.8239 38.3634C30.4816 38.3634 30.1807 38.4106 29.9211 38.505C29.6497 38.5994 29.396 38.7587 29.16 38.9829C28.9122 39.1953 28.6703 39.4785 28.4343 39.8325C28.1865 40.1747 27.921 40.5995 27.6378 41.1069C27.3074 41.6143 26.9711 42.0568 26.6289 42.4344C26.2749 42.8121 25.915 43.1425 25.5492 43.4257C25.1834 43.6971 24.8117 43.9272 24.4341 44.116C24.0565 44.3048 23.6789 44.47 23.3013 44.6116C23.9621 44.8004 24.6347 44.9538 25.3191 45.0718C26.0035 45.178 26.6466 45.2606 27.2484 45.3196Z",1,"themeableElement","emptyFormatting"],["d","M25.375 14.5H32.625V30.8125L25.375 36.25V14.5Z",1,"themeableElement","themeColor"],["id","clip0"],["width","36.25","height","36.25","fill","white","transform","translate(10.875 10.875)"]],template:function(o,a){1&o&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(0,"svg",0)(1,"g",1),e.\u0275\u0275element(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5)(6,"path",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"defs")(8,"clipPath",7),e.\u0275\u0275element(9,"rect",8),e.\u0275\u0275elementEnd()()())},styles:[".themeColor[_ngcontent-%COMP%]{fill:var(--colorBrandForeground1)}.emptyFormatting[_ngcontent-%COMP%]{fill:var(--colorNeutralBackgroundInverted)}"]}),i}(),_t=function(){function i(){}return i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["mobile-empty-formatting-pane-legacy-svg"]],decls:4,vars:0,consts:[["width","45","height","45","viewBox","0 0 45 45","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M32.6 9.80005H40.2V15.4001C40.2 17.6092 38.4092 19.4 36.2 19.4H21.8V27.4","stroke","#252423","stroke-width","1.5"],["x","5.75","y","5.75","width","28.1","height","7.3","rx","1.25","fill","white","stroke","#252423","stroke-width","1.5"],["d","M19 24.15H24.6C25.2904 24.15 25.85 24.7097 25.85 25.4V40.25H17.75V25.4C17.75 24.7097 18.3096 24.15 19 24.15Z","fill","#B3B0AD","stroke","#252423","stroke-width","1.5"]],template:function(o,a){1&o&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(0,"svg",0),e.\u0275\u0275element(1,"path",1)(2,"rect",2)(3,"path",3),e.\u0275\u0275elementEnd())},encapsulation:2}),i}(),Ot=n(45916);function It(i,t){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",1)(2,"pbi-button-toggle",2),e.\u0275\u0275element(3,"pbi-svg-use-symbol",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"div",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",!0)("value",1)("localizeTooltip","Format"),e.\u0275\u0275advance(1),e.\u0275\u0275property("sheet","visualizationPaneIcons_paneColorRefresh")("symbolId","visualizationPaneFormat_paneColorRefresh"))}var Tt=function(){function i(){}return i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["mobile-formatting-tab"]],inputs:{useModernFormatPane:"useModernFormatPane"},decls:1,vars:1,consts:[[4,"ngIf"],["role","tablist",1,"sectionHeader","pivotNav","visualizationPane"],["role","tab",1,"section-tab-legacy",3,"checked","value","localizeTooltip"],[1,"normal-svg","section-svg",3,"sheet","symbolId"],[1,"navMarker","visualizationPane"]],template:function(o,a){1&o&&e.\u0275\u0275template(0,It,5,5,"ng-container",0),2&o&&e.\u0275\u0275property("ngIf",!a.useModernFormatPane)},dependencies:[te.NgIf,c.r,Ot.R],styles:[".section-tab-legacy[_ngcontent-%COMP%]{padding:8px 10px;display:inline-block}.section-tab-legacy[_ngcontent-%COMP%]:hover, .section-tab-legacy[_ngcontent-%COMP%]:focus{background:var(--gray-30, #EDEBE9)}.section-tab-legacy[_ngcontent-%COMP%]   .section-svg[_ngcontent-%COMP%]{width:20px;height:20px;display:flex}"]}),i}(),Vt=function(i){function t(o,a){var l=i.call(this,"propertyPane",o,a)||this;return l.propertyChanged=new e.EventEmitter,l}return(0,p.ZT)(t,i),t.\u0275fac=function(a){return new(a||t)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.Injector))},t.\u0275dir=e.\u0275\u0275defineDirective({type:t,selectors:[["property-pane-legacy"]],inputs:{showChangeIndication:"showChangeIndication",excludeObjectRepetition:"excludeObjectRepetition",disabledSliceTypes:"disabledSliceTypes",excludeConditionalFormattingCard:"excludeConditionalFormattingCard"},outputs:{propertyChanged:"propertyChanged"},features:[e.\u0275\u0275InheritDefinitionFeature]}),t}(n(81789).iB);function Ft(i,t){if(1&i){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275listener("click",function(l){e.\u0275\u0275restoreView(o);var r=e.\u0275\u0275nextContext().ngIf,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.onOptionsClick(l,r.optionsSetting))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}2&i&&e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,1,"Pane_Options"))}function zt(i,t){if(1&i&&e.\u0275\u0275element(0,"mobile-formatting-tab",17),2&i){var o=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("useModernFormatPane",o.useModernFormatPane)}}function At(i,t){if(1&i){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"property-pane-legacy",18),e.\u0275\u0275listener("propertyChanged",function(r){e.\u0275\u0275restoreView(o);var u=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(u.onPropertyChanged(r))}),e.\u0275\u0275elementEnd()}if(2&i){var a=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("showChangeIndication",!0)("excludeObjectRepetition",a.excludeObjectRepetition)("excludeConditionalFormattingCard",!0)("disabledSliceTypes",a.disabledSliceTypes)}}var Lt=function(){return["Visual","Format_Label_General"]};function wt(i,t){if(1&i){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"formatting-pane-lazy",19),e.\u0275\u0275listener("propertyChanged",function(r){e.\u0275\u0275restoreView(o);var u=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(u.onPropertyChanged(r))}),e.\u0275\u0275elementEnd()}if(2&i){var a=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("formattingSources",e.\u0275\u0275pureFunction0(6,Lt))("showPivot",!0)("indicatorEnabled",!0)("mobileFormatting",!0)("disabledCards",a.disabledCards)("disabledSlices",a.disabledSlices)}}function Bt(i,t){1&i&&e.\u0275\u0275element(0,"mobile-empty-formatting-pane-legacy-svg",23)}function Dt(i,t){1&i&&e.\u0275\u0275element(0,"mobile-empty-formatting-pane-svg",23)}function jt(i,t){if(1&i&&(e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275template(1,Bt,1,0,"mobile-empty-formatting-pane-legacy-svg",21),e.\u0275\u0275template(2,Dt,1,0,"mobile-empty-formatting-pane-svg",21),e.\u0275\u0275element(3,"span",22),e.\u0275\u0275elementEnd()),2&i){var o=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.useModernFormatPane),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.useModernFormatPane)}}function Ht(i,t){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275template(1,zt,1,1,"mobile-formatting-tab",12),e.\u0275\u0275elementStart(2,"section",13),e.\u0275\u0275template(3,At,1,4,"property-pane-legacy",14),e.\u0275\u0275template(4,wt,1,7,"formatting-pane-lazy",15),e.\u0275\u0275template(5,jt,4,2,"div",16),e.\u0275\u0275elementEnd()()),2&i){var o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.useModernFormatPane),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!o.useModernFormatPane&&o.visualSelected()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.useModernFormatPane&&o.visualSelected()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.visualSelected())}}var Rt=function(t){return{isCollapsed:t}},Nt=function(t){return{isCollapsed:t}};function Ut(i,t){if(1&i){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"article",1)(1,"div",2)(2,"button",3),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(o);var r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.toggle())}),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275element(4,"div",4),e.\u0275\u0275template(5,Ft,2,3,"div",5),e.\u0275\u0275element(6,"div",6),e.\u0275\u0275elementStart(7,"div",7),e.\u0275\u0275element(8,"span",8),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(9,Ht,6,4,"div",9),e.\u0275\u0275elementEnd()}if(2&i){var a=t.ngIf;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(11,Rt,!a.isPaneExpanded)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(13,Nt,!a.isPaneExpanded)),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(3,9,"VisualizationPane_Title"))("aria-expanded",!!a.isPaneExpanded),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",a.isPaneExpanded?"pbi-glyph-doublechevronright ":"pbi-glyph-doublechevrondown "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPaneExpanded&&(null==a.optionsSetting?null:a.optionsSetting.showOptions)),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!a.isPaneExpanded),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",a.isPaneExpanded),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.isPaneExpanded)}}var Wt=function(){function i(t,o,a,l,r,u,f,M,I,E){var B,R,K=this;this.featureSwitchService=t,this.highContrastCssGenerationService=o,this.telemetryService=a,this.selectionService=l,this.tutorialPopupService=r,this.localizationService=u,this.dialogService=f,this.panesVisibilityService=M,this.pbiMenuService=I,this.mobileVisualFormattingSettingsService=E,this.showTutorial=!1,this.excludeObjectRepetition=["visualHeader","visualHeaderTooltip"],this.disabledSliceTypes=["image","geoJson"],this.onDestroy$=new xe.xQ,this.paneVisibility$=this.panesVisibilityService.getPanes$().pipe((0,_e.R)(this.onDestroy$),(0,P.U)(function(Y){return Y.format}));var oe=this.localizationService.get("MobileFormatting_Card_DisabledReason");this.disabledCards=((B={}).headerIcons={disabledReason:oe},B.visualLevelFieldsFormat={disabledReason:oe},B);var ne=this.localizationService.get("MobileFormatting_Slice_DisabledReason");this.disabledSlices=((R={}).ConditionalFormattingControl={disabledReason:ne},R.ImageUpload={disabledReason:ne},R.ShapeMapSelector={disabledReason:ne},R.ToggleSwitch={disabledReason:ne,filterUid:["slicerSettings-selection-strictSingleSelect","slicerSettings-selection-singleSelect","slicerSettings-selection-selectAllCheckboxEnabled"]},R),this.featureSwitchService.getFeatureSwitches().then(function(Y){if(K.useModernFormatPane=Y.useModernFormatPane,!K.featureSwitchService.featureSwitches.interactiveMobileCanvas){var q=K.disabledSlices.ToggleSwitch,ce="columnHeaders-options-autoSizeColumnWidth";q?q.filterUid.push(ce):q={disabledReason:ne,filterUid:[ce]}}}),this.initializeHighContrastRules()}return i.prototype.ngOnDestroy=function(){this.onDestroy$.next(),this.onDestroy$.complete()},i.prototype.ngAfterContentInit=function(){this.showMobileAuthoringVisualizationsTutorialIfNeeded()},i.prototype.toggle=function(){this.panesVisibilityService.togglePaneExpansion("format")},i.prototype.onOptionsClick=function(t,o){t.stopPropagation(),(0,g.cc)(t,o,this.pbiMenuService)},i.prototype.visualSelected=function(){var t,o=vt.UP.getSelectedCanvasItem(this.selectionService);return!(null===(t=o?.layouts)||void 0===t||!t.withId(1))},i.prototype.onPropertyChanged=function(t){this.showModalOnPanePropertyChange(),this.telemetryService.logEvent(mt.wb,{visualType:t.visualType,cardName:t.cardName,sliceName:t.sliceName,visualUniqueName:t.visualUniqueName})},i.prototype.showMobileAuthoringVisualizationsTutorialIfNeeded=function(){this.showTutorial&&this.tutorialPopupService.startTutorial&&this.tutorialPopupService.startTutorial(this.createDiagramTutorialModel())},i.prototype.createDiagramTutorialModel=function(){var t="MobileAuthoringVisualizations",o=".paneHeader";return{itemKeys:[t],items:{MobileAuthoringVisualizations:{title:this.localizationService.get("MobileAuthoring_Visualizations_TutorialTitle"),text:this.localizationService.get("Mobile_Authoring_Formatting_NewFeature_Description"),buttonLabel:this.localizationService.get("TutorialPopup_GotIt"),canShow:function(){return!!$(o)},attachTo:function(){return $(o)},arrowOffset:{top:-8,left:0},showWhenUnclickable:!0,dataStoreKey:t,customClass:"tutorial-fluent-design-container"}}}},i.prototype.showModalOnPanePropertyChange=function(){return(0,p.mG)(this,void 0,void 0,function(){return(0,p.Jh)(this,function(a){switch(a.label){case 0:return[4,this.mobileVisualFormattingSettingsService.isFormattingChangeDialogShown()];case 1:return a.sent()?[3,4]:[4,this.dialogService.showSimpleInfoDialog({title:this.localizationService.get("MobileVisualFormattingEditDialog_Title"),message:this.localizationService.get("MobileVisualFormattingEditDialog_Body"),okButtonText:this.localizationService.get("ModalDialogButtonText_GotIt")},{width:"500px"}).afterClosed().toPromise()];case 2:return a.sent(),[4,this.mobileVisualFormattingSettingsService.markFormattingChangeDialogShown()];case 3:a.sent(),a.label=4;case 4:return[2]}})})},i.prototype.initializeHighContrastRules=function(){this.highContrastCssGenerationService.addRule(".themeableElement .change-indicator-icon svg","{ fill: @foregroundColor !important; }")},i.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275directiveInject(L.vZ),e.\u0275\u0275directiveInject(Z.g),e.\u0275\u0275directiveInject(O.y0),e.\u0275\u0275directiveInject(se.z),e.\u0275\u0275directiveInject(me.yU),e.\u0275\u0275directiveInject(W.o),e.\u0275\u0275directiveInject(ae.x),e.\u0275\u0275directiveInject(b.r),e.\u0275\u0275directiveInject(y.o),e.\u0275\u0275directiveInject(lt.P))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["mobile-visual-formatting-pane"]],inputs:{showTutorial:"showTutorial"},features:[e.\u0275\u0275ProvidersFeature((0,p.ev)([{provide:ut.Ol,useClass:He},{provide:gt.h,useClass:je},{provide:pt.Kj,useClass:ge}],dt.H,!0))],decls:2,vars:3,consts:[["keyboard-shortcuts","ctrl-F6","focus-nav-mode","Group","focus-priority","7",3,"ngClass",4,"ngIf"],["keyboard-shortcuts","ctrl-F6","focus-nav-mode","Group","focus-priority","7",3,"ngClass"],[1,"paneHeader"],["localizeTooltip","Pane_Toggle",1,"btn","toggleBtn",3,"ngClass","click"],[1,"btnIcon","glyphicon","glyph-mini",3,"ngClass"],["class","btnIcon glyphicon glyph-small pbi-glyph-more",3,"pbiTooltip","click",4,"ngIf"],["localize","VisualizationPane_Title",1,"sidePaneHorizontalTitle","unselectable","sidePaneTitle","largeFontSize","trimmedTextWithEllipsis",3,"hidden"],[1,"verticalTitle","verticalText",3,"hidden"],["localize","VisualizationPane_Title",1,"collapsedVisualsTitle","largeFontSize"],["class","paneContents flex",4,"ngIf"],[1,"btnIcon","glyphicon","glyph-small","pbi-glyph-more",3,"pbiTooltip","click"],[1,"paneContents","flex"],[3,"useModernFormatPane",4,"ngIf"],["focus-nav-mode","Browser",1,"lazy-load-wrapper","stretch","item-fill"],["role","application",3,"showChangeIndication","excludeObjectRepetition","excludeConditionalFormattingCard","disabledSliceTypes","propertyChanged",4,"ngIf"],[3,"formattingSources","showPivot","indicatorEnabled","mobileFormatting","disabledCards","disabledSlices","propertyChanged",4,"ngIf"],["class","empty-pane",4,"ngIf"],[3,"useModernFormatPane"],["role","application",3,"showChangeIndication","excludeObjectRepetition","excludeConditionalFormattingCard","disabledSliceTypes","propertyChanged"],[3,"formattingSources","showPivot","indicatorEnabled","mobileFormatting","disabledCards","disabledSlices","propertyChanged"],[1,"empty-pane"],["class","empty-pane-svg",4,"ngIf"],["localize","Mobile_Authoring_Formatting_Empty",1,"empty-pane-text"],[1,"empty-pane-svg"]],template:function(o,a){1&o&&(e.\u0275\u0275template(0,Ut,10,15,"article",0),e.\u0275\u0275pipe(1,"async")),2&o&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,a.paneVisibility$))},dependencies:[te.NgClass,te.NgIf,fe.X,c.r,re.u,w.q,V.V,Pe,_t,Tt,Vt,te.AsyncPipe,Ce.F],styles:['.paneHeader[_ngcontent-%COMP%]   .sidePaneHorizontalTitle[_ngcontent-%COMP%]{margin:12px 0 0 12px}.paneHeader[_ngcontent-%COMP%]   .btnIcon[_ngcontent-%COMP%]{margin:10px 8px 0 0}.paneContents[_ngcontent-%COMP%]{justify-content:flex-start}.paneContents[_ngcontent-%COMP%]   mobile-formatting-tab[_ngcontent-%COMP%]{width:100%}.paneContents[_ngcontent-%COMP%]   formatting-pane-lazy[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-direction:column}.paneContents[_ngcontent-%COMP%]   .empty-pane[_ngcontent-%COMP%]{display:flex;flex-basis:100%;flex-wrap:wrap;align-items:center;padding:0 20px;text-align:center;align-content:center;justify-content:center;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400)}.paneContents[_ngcontent-%COMP%]   .empty-pane[_ngcontent-%COMP%]   .empty-pane-svg[_ngcontent-%COMP%]{margin-bottom:10px}.paneContents[_ngcontent-%COMP%]   .empty-pane[_ngcontent-%COMP%]   .empty-pane-text[_ngcontent-%COMP%]{flex-basis:100%;padding:5px 20px}.paneContents[_ngcontent-%COMP%]   .empty-pane[_ngcontent-%COMP%]   .empty-pane-text.empty-pane-text-bold[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-semi-bold, 600)}.paneContents[_ngcontent-%COMP%]   .lazy-load-wrapper[_ngcontent-%COMP%]{position:relative;flex-direction:column}']}),i}(),Gt=n(78432),$t=n(57869),Kt=n(73221),Jt=n(10861),Qt=n(44581),kt=n(86663);function Xt(i,t){1&i&&(e.\u0275\u0275element(0,"span",7),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275pipe(3,"localize")),2&i&&(e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,3,"MobileFormatting_ChangeIndicator_SliceTooltip"))("aria-label",e.\u0275\u0275pipeBind1(2,5,"Mobile_Authoring_Formatting_Change_Indicator")),e.\u0275\u0275attribute("aria-description",e.\u0275\u0275pipeBind1(3,7,"MobileFormatting_ChangeIndicator_SliceTooltip")))}function Zt(i,t){1&i&&(e.\u0275\u0275element(0,"tri-svg-icon",8),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275pipe(3,"localize")),2&i&&(e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,3,"MobileFormatting_ChangeIndicator_SliceTooltip"))("aria-label",e.\u0275\u0275pipeBind1(2,5,"Mobile_Authoring_Formatting_Change_Indicator")),e.\u0275\u0275attribute("aria-description",e.\u0275\u0275pipeBind1(3,7,"MobileFormatting_ChangeIndicator_SliceTooltip")))}function Yt(i,t){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Xt,4,9,"span",5),e.\u0275\u0275template(2,Zt,4,9,"tri-svg-icon",6),e.\u0275\u0275elementContainerEnd()),2&i){var o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.isTridentEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.isTridentEnabled)}}var qt=window,en=function(i){function t(o,a,l){var r=i.call(this)||this;return r.propertyChangeIndicatorService=o,r.formattingObjectDefinitionsService=a,r.visualAuthoring=l,r.isTridentEnabled=qt.isTrident,r.showChangeIndicator$=new Te.X(!1),r.textboxDescriptors=[],Object.values($t.RL).forEach(function(u){Object.values(u).forEach(function(f){return r.textboxDescriptors.push(f)})}),r}return(0,p.ZT)(t,i),t.prototype.ngOnInit=function(){var o=this;ye.fF.assertValue(this.onSaveState$,"onSaveState$"),this.onSaveState$.pipe((0,_e.R)(this.onDestroy$)).subscribe(function(){return o.showChangeIndicator()})},t.prototype.showChangeIndicator=function(){var o=this,a=this.formattingObjectDefinitionsService.getObjectDefinitions(this.visualContainer),l=a&&_.some(this.textboxDescriptors,function(r){return o.propertyChangeIndicatorService.shouldShowSliceChangeIndicator(r,a)});this.showChangeIndicator$.next(l)},t.prototype.revertToDefault=function(){var o=this.visualContainer.config.singleVisual.objects;o&&((0,Gt.Aw)(o,this.textboxDescriptors),this.visualAuthoring.raiseVisualContainerChanged(this.visualContainer),this.showChangeIndicator())},t.\u0275fac=function(a){return new(a||t)(e.\u0275\u0275directiveInject(He),e.\u0275\u0275directiveInject(je),e.\u0275\u0275directiveInject(Jt.$8))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["textbox-formatting-settings"]],inputs:{onSaveState$:"onSaveState$",visualContainer:"visualContainer"},features:[e.\u0275\u0275ProvidersFeature([He,je]),e.\u0275\u0275InheritDefinitionFeature],decls:11,vars:20,consts:[["focus-nav-mode","Group",1,"textboxFormattingSettingsContainer"],[4,"ngIf"],[1,"reset-button",3,"tabindex","pbiTooltip","accessible-click"],["name","reset","size","mini",1,"reset-icon"],[3,"localize"],["class","change-indicator-icon glyphicon glyph-mini pbi-glyph-phone-optimized-report","role","img","tabindex","0",3,"pbiTooltip","aria-label",4,"ngIf"],["sprite","authoring-icons","name","data_bar_vertical_phone_16_regular","class","change-indicator-icon","role","img","tabindex","0",3,"pbiTooltip","aria-label",4,"ngIf"],["role","img","tabindex","0",1,"change-indicator-icon","glyphicon","glyph-mini","pbi-glyph-phone-optimized-report",3,"pbiTooltip","aria-label"],["sprite","authoring-icons","name","data_bar_vertical_phone_16_regular","role","img","tabindex","0",1,"change-indicator-icon",3,"pbiTooltip","aria-label"]],template:function(a,l){1&a&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Yt,3,2,"ng-container",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"button",2),e.\u0275\u0275listener("accessible-click",function(){return l.revertToDefault()}),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275element(9,"pbi-icon",3)(10,"span",4),e.\u0275\u0275elementEnd()()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,8,l.showChangeIndicator$)),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("disabled",!e.\u0275\u0275pipeBind1(4,10,l.showChangeIndicator$)),e.\u0275\u0275propertyInterpolate("tabindex",e.\u0275\u0275pipeBind1(6,14,l.showChangeIndicator$)?0:-1),e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(7,16,"Visual_RevertToDesktop_Tooltip")),e.\u0275\u0275attribute("aria-disabled",!e.\u0275\u0275pipeBind1(5,12,l.showChangeIndicator$))("aria-label",e.\u0275\u0275pipeBind1(8,18,"Visual_RevertToDesktop_Tooltip")),e.\u0275\u0275advance(7),e.\u0275\u0275property("localize","Reset_All_Settings_Mobile"))},dependencies:[te.NgIf,fe.X,Qt.t,kt._,V.V,Q.M,te.AsyncPipe,Ce.F],styles:['.textboxFormattingSettingsContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .change-indicator-icon[_ngcontent-%COMP%]{padding:8px 8px 8px 16px;fill:var(--gray-160, #323130)}.textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{cursor:pointer;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);align-items:center;background:inherit;display:flex;height:36px}html:not([dir="rtl"])[_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{margin-left:auto}html[dir="rtl"][_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{margin-right:auto}html:not([dir="rtl"])[_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{padding-right:8px}html[dir="rtl"][_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{padding-left:8px}html:not([dir="rtl"])[_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{padding-left:2px}html[dir="rtl"][_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{padding-right:2px}.textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{color:var(--fluent-theme-link-darker-color, #005A9E)}html:not([dir="rtl"])[_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir="rtl"][_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{margin-left:6px}.textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button.disabled[_ngcontent-%COMP%]{pointer-events:none;color:var(--gray-90, #A19F9D)}.textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button.disabled[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D)}html[data-focus-source="key"][_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:focus, html[data-focus-source="key"]   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:hover{color:var(--fluent-theme-link-darker-color, #005A9E)}.textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:active{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}']}),t}(Kt.w),tn=n(67659),nn=n(22824),on=n(20993),an=n(42101),rn=n(14029),ln=n(82156),sn=n(79061),cn=n(72359),un=n(94785),pn=n(23612),gn=n(93367),dn=n(94841),vn=n(79725),mn=n(16095),hn=n(17177),yt=n(36244),Ne=n(57871),ht=n(55133),d=n(47508),bt=n(9434),fn=n(15702),Cn=[d.L.actionButton.name,d.L.image.name,d.L.shape.name,d.L.basicShape.name],Mt=new Set([d.L.card.name,d.L.kpi.name,d.L.actionButton.name,d.L.gauge.name,d.L.multiRowCard.name,d.L.cardVisual.name,"dropdownSlicer"]),Ge=new Set([d.L.image.name,d.L.actionButton.name,d.L.basicShape.name,d.L.shape.name]),yn=new Map([[fn.Jo,270],[d.L.azureMap.name,270],[d.L.decompositionTreeVisual.name,270],[d.L.filledMap.name,270],[d.L.keyDriversVisual.name,270],[d.L.map.name,270],[d.L.matrix.name,370],[d.L.pivotTable.name,370],[d.L.multiRowCard.name,100],[d.L.rdlVisual.name,270],[d.L.shapeMap.name,270],[d.L.table.name,370],[d.L.tableEx.name,370],[d.L.hundredPercentStackedBarChart.name,180],[d.L.hundredPercentStackedColumnChart.name,180],[d.L.areaChart.name,180],[d.L.clusteredBarChart.name,180],[d.L.clusteredColumnChart.name,180],[d.L.donutChart.name,180],[d.L.funnel.name,180],[d.L.lineClusteredColumnComboChart.name,180],[d.L.lineStackedColumnComboChart.name,180],[d.L.lineChart.name,180],[d.L.scorecard.name,180],[d.L.pieChart.name,180],[d.L.pythonVisual.name,180],[d.L.qnaVisual.name,180],[d.L.scriptVisual.name,180],[d.L.ribbonChart.name,180],[d.L.scatterChart.name,180],[d.L.stackedAreaChart.name,180],[d.L.hundredPercentStackedAreaChart.name,180],[d.L.barChart.name,180],[d.L.columnChart.name,180],[d.L.treemap.name,270],[d.L.waterfallChart.name,270],[d.L.actionButton.name,40],[d.L.textbox.name,40],[d.L.card.name,100],[d.L.cardVisual.name,100],[d.L.gauge.name,100],[d.L.kpi.name,100],[d.L.basicShape.name,40],[d.L.shape.name,40],[d.L.bookmarkNavigator.name,60],[d.L.pageNavigator.name,60],[d.L.bookmarkNavigator.name,50],[d.L.pageNavigator.name,50],[d.L.slicer.name,100],["listSlicer",180],["continuousSlicer",100],["singleSlicer",100],["relativeSlicer",80],["dropdownSlicer",60],["basic",100]]);function ft(i){var a,o=i.config.singleVisual.objects[bt.gO.data.mode.objectName];if(!_.isEmpty(o))for(var l=0,r=o;l<r.length;l++)a=r[l].properties[bt.gO.data.mode.propertyName];if(!a)return d.L.slicer.name;switch(a.value){case z.j6:return"dropdownSlicer";case z.K8:case z.GV:return"relativeSlicer";case z.bb:case z.e4:case z.vX:return"continuousSlicer";case z.of:case z.Ih:return"listSlicer";case z.Zr:return"singleSlicer";case z.RB:return"basic";default:return d.L.slicer.name}}var xt=.05*Ne.LU,Ae={x:0,y:0,width:ht.Co,height:ht.aW},On={provide:"mobileAutoLayoutService",useFactory:function(i){return new Promise(function(t){t(new In(i))})},deps:[yt.m]},In=function(){function i(t){this.layoutInsertionHelperService=t}return i.prototype.createAutoMobileLayout=function(t,o){var a=_.cloneDeep(t.visualContainerGroups),l=this.internalTraverseGroup(a),r=this.sortAndFilterVisualCandidates(l);this.findContainedVisuals(r);for(var u=_.filter(r,function(E){return!E.isContained}),f=0,M=u;f<M.length;f++){var I=M[f];I.containingRect=this.getContainingRectangle(I)}return this.applyCandidatesPosition(r,u,o,1),r},i.prototype.applyCandidatesPosition=function(t,o,a,l){for(var r=0,u=o;r<u.length;r++){var f=u[r],M=this.findAllAvailableSpaces(t);if(this.positionCandidate(f,M,a),f.layouts.length>1)for(var I=0,E=f.containedVisuals;I<E.length;I++)this.positionContainedVisual(E[I],f,a)}this.revisitLayout(t,o,l,a)},i.prototype.revisitLayout=function(t,o,a,l){for(var r=this,u=function(K){if(K.layouts.length<=1)return"continue";var oe=K.config.singleVisual.visualType,ne=f.getPositionRectangle(K,1);if(!Ge.has(oe)&&0===K.containedVisuals.length&&Math.ceil(ne.width+ne.x)<Ae.width){var Y=_.filter(o,function(ce){return ce.name!==K.name&&ce.layouts.length>1});if(0===_.filter(Y,function(ce){var de=r.getPositionRectangle(ce,1);return de?.y>=ne.y&&de?.y<=ne.y+ne.height&&de?.x>ne.x}).length&&f.stretchVisual(t,Y,K,l,a))return"break"}},f=this,M=0,I=o;M<I.length&&"break"!==u(I[M]);M++);},i.prototype.stretchVisual=function(t,o,a,l,r){var u=this.getPositionRectangle(a,1),f=this.getPositionRectangle(a,0),M=_.filter(o,function(K){var oe=K.layouts[1];return oe?.position.y>u.y+u.height}),I=(Ae.width-u.x)/u.width,E=a.layouts[1].position;if(E.width=u.width*I,u.width/u.height==f.width/f.height){if(E.height=u.height*I,this.removeMobileLayouts(M),r<=10)return this.applyCandidatesPosition(t,_.filter(M,function(K){return!K.isContained}),l,r+1),!0;ye.fF.assertFail("applyCandidatesPosition calls exceeded threshold")}return!1},i.prototype.removeMobileLayouts=function(t){for(var o=0,a=t;o<a.length;o++){var l=a[o];l.layouts.splice(1,1),this.removeMobileLayouts(l.containedVisuals)}},i.prototype.positionContainedVisual=function(t,o,a){var l=a.useStylableVisualContainerHeader?0:20,r=this.getPositionRectangle(o,0),u=this.getPositionRectangle(o,1),f=this.getPositionRectangle(t,0),M=r.width?u.width/r.width:1,I=u.height?(u.height-l)/r.height:1;t.layouts.push({id:1,position:{x:u.x+(f.x-r.x)*M,y:u.y+(f.y-r.y)*I,z:t.layouts[0].position.z,width:f.width*M,height:f.height*I,tabOrder:t.layouts[0].position.tabOrder}});for(var B=0,R=t.containedVisuals;B<R.length;B++)this.positionContainedVisual(R[B],t,a)},i.prototype.positionCandidate=function(t,o,a){var l,r=this.getPositionRectangle(t,0),u=t.containingRect,f=1;this.shouldRescaleToCanvasWidth(t)&&(f=Ae.width/u.width),0===t.containedVisuals.length&&(f=null!==(l=this.verifyMaxWidth(t))&&void 0!==l?l:f);var M=a.useStylableVisualContainerHeader?0:20,I=this.validateMinMaxHeight(t,f),E=Math.max(I.minimumRatio,I.canvasThresholdRatio),B=Math.max(f,I.minimumRatio);B>E&&(B=E);for(var R=f*r.width,K=B*r.height+M,oe=0,ne=o;oe<ne.length;oe++){var Y=ne[oe];if(!(0===Y.y&&Y.x>.1*Ae.width&&r.y>xt)){var q=(r.x-u.x)*f,ce=(r.y-u.y)*B,de={x:Y.x+q,y:Y.y+ce,z:t.layouts[0].position.z,width:R,height:K,tabOrder:t.layouts[0].position.tabOrder};if(q+de.width-Y.width<.001&&ce+de.height-Y.height<.001){t.layouts.push({id:1,position:de});break}}}},i.prototype.shouldRescaleToCanvasWidth=function(t){var o=t.containingRect,a=t.config.singleVisual.visualType;return a===d.L.slicer.name&&(a=ft(t)),o.width>Ae.width||t.containedVisuals.length>0&&(!Ge.has(a)||t.containedVisuals.filter(function(l){return!Ge.has(l.config.singleVisual.visualType)}).length>0)||!(Ge.has(a)||Mt.has(a)||a===d.L.textbox.name)},i.prototype.findAllAvailableSpaces=function(t){var o=this,a=_.map(_.filter(t,function(r){return r.layouts.length>1}),function(r){var u=o.getPositionRectangle(r,1);return{x:Math.round(u.x),y:Math.round(u.y),width:Math.min(Math.round(u.width)+8,Ae.width),height:Math.round(u.height)+8}}),l=this.layoutInsertionHelperService.getNonOverlapingRects(Ae,a=a.length>0?a:[{x:0,y:0,width:0,height:0}]);return _.sortBy(l,function(r){return r.y})},i.prototype.findContainedVisuals=function(t){for(var o=this,a=function(M){for(var I=[],E=M;E.parent;)I.push(E.parent),E=E.parent;for(var B=_.filter(_.filter(t,function(Y){return Y.name!==M.name&&!_.find(I,function(q){return Y.name===q.name})}),function(Y){return o.isRectContained(M,Y)||o.overlapPercentage(M,Y)>.8}),R=function(q){q.isContained=!0,q.parent&&(q.parent.containedVisuals=q.parent.containedVisuals.filter(function(ce){return ce!==q})),q.parent=M},K=0,oe=B;K<oe.length;K++)R(oe[K]);M.containedVisuals=B},l=0,r=t;l<r.length;l++)a(r[l])},i.prototype.sortAndFilterVisualCandidates=function(t){var o=this;t=_.filter(t,function(I){if(Cn.includes(I.config.singleVisual.visualType)){var B=o.getPositionRectangle(I,0);return B.width*B.height/(Ne.Z9*Ne.LU)<.6&&!(B.y<xt&&B.height<.15*Ne.LU&&B.width>.6*Ne.Z9)}return!0});for(var a=_.sortBy(t,function(I){return I.layouts[0].position.y}),l=[],r=function(E){if(_.includes(l,E))return"continue";var B=_.filter(a,function(R){return!_.includes(l,R)&&Math.abs(R.layouts[0].position.y-E.layouts[0].position.y)<=20});l.push.apply(l,_.sortBy(B,function(R){return R.layouts[0].position.x}))},u=0,f=a;u<f.length;u++)r(f[u]);return l},i.prototype.isRectContained=function(t,o){var a=this.getPositionRectangle(t,0),l=this.getPositionRectangle(o,0);return!(l.x<a.x||l.y<a.y||l.x+l.width>a.x+a.width||l.y+l.height>a.y+a.height)},i.prototype.internalTraverseGroup=function(t){for(var o=[],a=0,l=t;a<l.length;a++){var r=l[a];if((0,De.q4)(r)){for(var u=0,f=r.children;u<f.length;u++){var M=f[u];M.layouts[0].position.x+=r.layouts[0].position.x,M.layouts[0].position.y+=r.layouts[0].position.y,M.layouts[0].position.z+=r.layouts[0].position.z,M.layouts[0].position.tabOrder+=r.layouts[0].position.tabOrder}o=_.concat(o,this.internalTraverseGroup(r.children))}else(0,De.Vz)(r)&&o.push(r)}return o},i.prototype.overlapPercentage=function(t,o){var a=this.getPositionRectangle(t,0),l=this.getPositionRectangle(o,0),r=this.layoutInsertionHelperService.getIntersectingRectangle(a,l);if(!r)return 0;var u=r.width*r.height,f=Math.min(a.width*a.height,l.width*l.height);return 0===f?0:u/f},i.prototype.getPositionRectangle=function(t,o){var a=t.layouts[o?1:0].position;return ye.fF.assert(function(){return!!a},"position requested by getPositionRectangle is undefined"),{x:a.x,y:a.y,width:a.width,height:a.height}},i.prototype.getContainingRectangle=function(t){for(var o=this.getPositionRectangle(t,0),a=o.x,l=o.y,r=o.x+o.width,u=o.y+o.height,f=0,M=t.containedVisuals||[];f<M.length;f++){var E=this.getContainingRectangle(M[f]);a=Math.min(a,E.x),l=Math.min(l,E.y),r=Math.max(r,E.x+E.width),u=Math.max(u,E.y+E.height)}return{x:a,y:l,width:r-a,height:u-l}},i.prototype.validateMinMaxHeight=function(t,o){var a,l=t.config.singleVisual.visualType;l===d.L.slicer.name&&(l=ft(t));for(var r=this.getPositionRectangle(t,0).height,u=Math.min(r,null!==(a=yn.get(l))&&void 0!==a?a:40),f=.8*ht.jk,M={minimumRatio:r?u/this.getPositionRectangle(t,0).height:1,canvasThresholdRatio:0===t.containedVisuals.length?f/(r||1):o},I=0,E=t.containedVisuals||[];I<E.length;I++){var R=this.validateMinMaxHeight(E[I],o);M.minimumRatio=Math.max(M.minimumRatio,R.minimumRatio),M.canvasThresholdRatio=Math.min(M.canvasThresholdRatio,R.canvasThresholdRatio)}return M},i.prototype.verifyMaxWidth=function(t){var o,a,l,r=t.config.singleVisual.visualType;if(r===d.L.slicer.name&&(r=ft(t)),Mt.has(r)&&t.layouts[0].position.width>158){if(r===d.L.cardVisual.name){var u=null===(l=null===(a=null===(o=t.config.singleVisual.query)||void 0===o?void 0:o.projections)||void 0===a?void 0:a.Data)||void 0===l?void 0:l.all().length;if(u&&u>1)return}return 158/t.layouts[0].position.width}},i.\u0275fac=function(o){return new(o||i)(e.\u0275\u0275inject(yt.m))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i}(),Tn=[{type:rt,componentId:"MobilePageVisualsPaneComponentId"},{type:Wt,componentId:"MobileVisualFormattingPaneComponentId"},{type:en,componentId:"TextboxFormattingSettingsComponentId"},{type:m,componentId:"MobileCanvasEmptyStateComponentId"}],En=function(){function i(){}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({providers:[On],imports:[te.CommonModule,on.T,nn.J,rn.ExploreUIThumbnailModule,ln.N.withManifests(Tn),sn.v,pn.N,an.p,tn._,gn.U,dn.b,cn.K,vn.j,mn.Z,hn.T6,un.g]}),i}()},17774:function(he,U,n){n.d(U,{cH:function(){return P},pI:function(){return ae}});var p=n(9434),G=n(32379),T=n(5265),ee=n(45413);function P(D,N,A,k){var ie;return null===(ie=D?.[N])||void 0===ie?void 0:ie.find(function(W){var le;return(null===(le=W?.properties)||void 0===le?void 0:le[A])&&(0,G.fS)(W?.selector,k)})}var O=p.gO.data.mode.propertyName,e=new Set([O]),ae=function(){function D(N,A,k,ie,W){this.state=N,this.cardName=A,this.defns=k,this.services=ie,this.visualType=W}return D.prototype.setMobileObjectsValue=function(N,A,k,ie){this.state.ignoreFilteringProps&&(!this.state.ignoreFilteringProps||this.propExistsInDefn(A)||this.slicerModePersistWithoutChange(A,k[N]))||((0,T.zx)(this.defns,this.cardName,ie)[N]=A)},D.prototype.setMobileObjectsPropertiesValue=function(N,A,k){this.shouldSetFilteringProps(N)&&((0,T.zx)(this.defns,this.cardName,k).properties[N]=A)},D.prototype.shouldSetFilteringProps=function(N){return!this.state.ignoreFilteringProps||!this.services.visualFilterProperties.getProperties(this.visualType,e).has(N)},D.prototype.propExistsInDefn=function(N){return function(D,N){for(var A=D.values(),k=A.next();!k.done;){if(N.hasOwnProperty(k.value))return!0;k=A.next()}return!1}(this.services.visualFilterProperties.getProperties(this.visualType,e),N)},D.prototype.slicerModePersistWithoutChange=function(N,A){if(N.hasOwnProperty(O)&&(0,ee.fS)(A?.[O],N[O]))return!0},D}()}}]);