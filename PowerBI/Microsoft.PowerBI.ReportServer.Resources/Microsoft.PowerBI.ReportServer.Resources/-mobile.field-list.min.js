"use strict";(self.webpackChunkmobile=self.webpackChunkmobile||[]).push([["field-list"],{25835:function(ae,P,i){i.r(P),i.d(P,{FieldListModule:function(){return gt}});var u=i(81337),e=i(32288),C=i(3468),c=i(70863),b=i(44529),T=i(59725),r=i(50423),n=i(23983),l=function(){function o(t){this.groupingDesignStateService=t}return o.prototype.dragStart=function(t){var a=t.flatNode.node;if(!(0,c.wb)(a.data)&&!(0,c.Ov)(a.data)){var h=(0,b.Sd)(a.data,this.groupingDesignStateService),g=C.ib.serializeExpr(h),F=JSON.stringify({id:a.id,icon:a.icon,label:a.displayName,fieldExpr:g});t.sourceEvent.dataTransfer.setData(T.L$,F)}},o.\u0275fac=function(a){return new(a||o)(r.\u0275\u0275inject(n.AA))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),p=i(40290),s=i(8590),d=i(21728),v=i(87879),m=i(94419),f=i(9738),E=i(58295),se=i(88315),j=i(9380),ee=i(11494),ne=i(83008),X=i(39503),B=i(72262),H=i(28199),w=i(93215),k=i(10861),U=function(){function o(t,a,h,g,F,x,ue,S,fe,oe,be){var pe=this;this.featureSwitchService=t,this.eventBridge=a,this.aggrOpsService=h,this.dataSourcesService=g,this.modelService=F,this.groupingDesignStateService=x,this.visualAuthoringService=ue,this.explorationNavigationService=S,this.selectionService=fe,this.fieldListCheckedService=oe,this.modelingSelectionService=be,this.subscriptionManager=a.createChannelSubscriptionManager(),this.subscriptionManager.subscribe(s.oRp,function(){return pe.updateFieldListCheckFromSelectedVisual()}),this.subscriptionManager.subscribe(s.jCS,function(){return pe.updateFieldListCheckFromSelectedVisual()}),this.modelService.modelChange$.subscribe(function(){return pe.updateFieldListCheckFromSelectedVisual()}),this.subscriptionManager.subscribe(s.OPn,function(){return pe.modelingSelectionService.clear()}),this.subscriptionManager.subscribe(s.tRg,function(){pe.modelingSelectionService.clear(),pe.updateFieldListCheckFromSelectedVisual()}),this.subscriptionManager.subscribe(s.KD7,function(){pe.modelingSelectionService.clear(),pe.updateFieldListCheckFromSelectedVisual()})}return o.prototype.updateFieldListCheckFromSelectedVisual=function(){this.fieldListCheckedService.selectAll(this.getModelItemsFromSelectedVisual(this.modelService.model),!0)},o.prototype.addFieldToVisual=function(t){return(0,u.mG)(this,void 0,void 0,function(){var a,h,g;return(0,u.Jh)(this,function(F){switch(F.label){case 0:return a=this.getFieldExpr(t),(h=d.UP.getSelectedVisual(this.selectionService))?(g=16===h.visibility,[4,this.visualAuthoringService.addFieldToVisual(a,this.dataSourcesService.get(),h,"CheckboxTickedInFieldList",g)]):[3,2];case 1:return[2,F.sent()];case 2:return this.eventBridge.publishToChannel(s.Tyr,{expr:a,allowAggregate:!0,telemetrySource:0}),[2,!0]}})})},o.prototype.removeField=function(t){this.visualAuthoringService.removeFieldFromAllRoles(this.dataSourcesService.get(),this.getFieldExpr(t))},o.prototype.addToDrillTrhough=function(t){this.visualAuthoringService.addDrillthroughFilter(this.getFieldExpr(t),{container:this.explorationNavigationService.getCurrentSection(),scopeType:1},this.dataSourcesService.get(),!0)},o.prototype.canAddToFilter=function(t){return!(0,c.kb)(t)||!this.castToConceptualItem(t).schema.capabilities.limitMultiColumnFiltersToQueryGroupColumns},o.prototype.addReportLevelFilter=function(t){this.visualAuthoringService.addFilter(this.getFieldExpr(t),{container:this.explorationNavigationService.getCurrentExploration(),scopeType:2},this.dataSourcesService.get())},o.prototype.addPageLevelFilter=function(t){this.visualAuthoringService.addFilter(this.getFieldExpr(t),{container:this.explorationNavigationService.getCurrentSection(),scopeType:1},this.dataSourcesService.get())},o.prototype.addVisualLevelFilter=function(t,a){this.visualAuthoringService.addFilter(this.getFieldExpr(t),{container:a,scopeType:0},this.dataSourcesService.get())},o.prototype.getTopNVisualFilters=function(t){return this.visualAuthoringService.createVisualFilters(this.explorationNavigationService.getCurrentSection(),t,this.dataSourcesService.get(),this.modelService.schema).filter(function(a){return a.contract&&a.contract.type===p.vA.TopN})},o.prototype.addToTopNFilterValue=function(t,a){var h=this.getFieldExpr(t),g=(0,E.k)(h)?h:(0,m.m_)(h,this.aggrOpsService.defaultAggregate(h,this.modelService.schema,!0));this.eventBridge.publishToChannel(v.d,{filterViewModel:a,orderByField:g})},o.prototype.getModelItemsFromSelectedVisual=function(t){if(!t)return[];var a=[],h=d.UP.getSelectedVisual(this.selectionService);if(h&&h.config.singleVisual&&h.config.singleVisual.query&&h.config.singleVisual.query.defn)if(this.featureSwitchService.featureSwitches.fieldParameters)for(var F=0,x=h.config.singleVisual.query.getUniqueQueryFields();F<x.length;F++)a.push.apply(a,t.findItems(x[F].expr));else for(var S=0,fe=h.config.singleVisual.query.defn.select();S<fe.length;S++)a.push.apply(a,t.findItems(fe[S].expr));return a},o.prototype.getFieldExpr=function(t){return(0,b.Sd)(this.castToConceptualItem(t),this.groupingDesignStateService)},o.prototype.castToConceptualItem=function(t){if(t instanceof se.Xx)return t;throw Error("invalid type passed to toConceptualItem")},o.\u0275fac=function(a){return new(a||o)(r.\u0275\u0275inject(j.vZ),r.\u0275\u0275inject(ee.J),r.\u0275\u0275inject(H.C),r.\u0275\u0275inject(ne.D),r.\u0275\u0275inject(w.b),r.\u0275\u0275inject(n.AA),r.\u0275\u0275inject(k.$8),r.\u0275\u0275inject(X.z),r.\u0275\u0275inject(B.z),r.\u0275\u0275inject(f.fc),r.\u0275\u0275inject(f.W6))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),q=function(){function o(t){this.fieldListReportAuthoringService=t}return o.prototype.check=function(t){return(0,u.mG)(this,void 0,void 0,function(){var a;return(0,u.Jh)(this,function(h){switch(h.label){case 0:return t.checked?(a=t.flatNode.node,[4,this.fieldListReportAuthoringService.addFieldToVisual(t.flatNode.node.data)]):[3,2];case 1:return a.checked=h.sent(),[3,3];case 2:t.flatNode.node.checked=!1,this.fieldListReportAuthoringService.removeField(t.flatNode.node.data),h.label=3;case 3:return[2]}})})},o.\u0275fac=function(a){return new(a||o)(r.\u0275\u0275inject(U))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),z=i(64560),Y=function(o){return o.AddToDrillthrough="FieldListMenuItem_AddToDrillthrough",o}({}),y={items:[{id:Y.AddToDrillthrough,type:z.iB.Button,text:"FieldListMenuItem_AddToDrillthrough",tooltip:"FieldListMenuItem_AddToDrillthrough"}]},Q=function(){function o(t){this.fieldListReportAuthoringService=t}return o.prototype.getHandler=function(t){var a=this;return[Y.AddToDrillthrough,{execute:function(){return a.fieldListReportAuthoringService.addToDrillTrhough(t)}}]},o.\u0275fac=function(a){return new(a||o)(r.\u0275\u0275inject(U))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),te=function(o){return o.AddToFilters="FieldListMenuItem_AddToFilters",o.AddToReportLevelFilters="FieldListMenuItem_ReportLevelFilters",o.AddToPageLevelFilters="FieldListMenuItem_PageLevelFilters",o.AddToVisualLevelFilters="FieldListMenuItem_VisualLevelFilters",o}({}),re={items:[{id:te.AddToFilters,type:z.iB.SubMenu,text:"FieldListMenuItem_AddToFilters",tooltip:"FieldListMenuItem_AddToFilters",menu:{items:[{id:te.AddToVisualLevelFilters,type:z.iB.Button,text:"FieldListMenuItem_VisualLevelFilters",tooltip:"FieldListMenuItem_VisualLevelFilters"},{id:te.AddToPageLevelFilters,type:z.iB.Button,text:"FieldListMenuItem_PageLevelFilters",tooltip:"FieldListMenuItem_PageLevelFilters"},{id:te.AddToReportLevelFilters,type:z.iB.Button,text:"FieldListMenuItem_ReportLevelFilters",tooltip:"FieldListMenuItem_ReportLevelFilters"}]}}]},le=function(o){return o.AddToTopNFilters="FieldListMenuItem_AddToTopNByValue",o.AddToTopNFilter="AddToTopNFilter",o}({}),je={items:[{id:le.AddToTopNFilters,type:z.iB.SubMenu,text:"FieldListMenuItem_AddToTopNByValue",tooltip:"FieldListMenuItem_AddToTopNByValue"}]},De=function(){function o(t,a){this.selectionService=t,this.fieldListReportAuthoringService=a}return o.prototype.getHandlers=function(t){var a=this;if(!this.fieldListReportAuthoringService.canAddToFilter(t))return[];var h=[[te.AddToFilters,{execute:void 0}],[te.AddToReportLevelFilters,{execute:function(){return a.fieldListReportAuthoringService.addReportLevelFilter(t)}}],[te.AddToPageLevelFilters,{execute:function(){return a.fieldListReportAuthoringService.addPageLevelFilter(t)}}]],g=d.UP.getSelectedVisual(this.selectionService);return g&&(h.push([te.AddToVisualLevelFilters,{execute:function(){return a.fieldListReportAuthoringService.addVisualLevelFilter(t,g)}}]),h.push([le.AddToTopNFilters,{getSubItems:function(){return a.getTopNVisualFiltersMenuItems(g)},execute:void 0}]),h.push([le.AddToTopNFilter,{execute:function(x){a.fieldListReportAuthoringService.addToTopNFilterValue(t,x.menuItem.data)}}])),h},o.prototype.getTopNVisualFiltersMenuItems=function(t){return this.fieldListReportAuthoringService.getTopNVisualFilters(t).sort(function(a,h){return a.displayName.localeCompare(h.displayName)}).map(function(a){return{id:le.AddToTopNFilter,type:z.iB.Button,text:a.displayName,tooltip:a.displayName,data:a}})},o.\u0275fac=function(a){return new(a||o)(r.\u0275\u0275inject(B.z),r.\u0275\u0275inject(U))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),_e=function(o){return o.AddToField="FieldListMenuItem_AddToField",o}({}),Re={id:_e.AddToField,type:z.iB.Button,text:"FieldListMenuItem_AddToField",tooltip:"FieldListMenuItem_AddToField"},Ie=function(o){return o.Select="Select",o}({}),Ue={items:[Re,{id:Ie.Select,type:z.iB.Button,text:"Select",tooltip:"Select",checkable:!1}]},Me=i(81141),Ee=function(){function o(t,a){this.fieldListReportAuthoringService=t,this.checkSettingStrategy=a}return o.prototype.getHandlers=function(t){var a=this;return this.canAddToField(t)?[[_e.AddToField,{execute:function(g){return a.fieldListReportAuthoringService.addFieldToVisual(t)}}]]:[]},o.prototype.canAddToField=function(t){return!!this.checkSettingStrategy&&((0,c.t3)(t)||(0,c.kb)(t)||(0,c.y3)(t),this.checkSettingStrategy.isCheckable(t))},o.\u0275fac=function(a){return new(a||o)(r.\u0275\u0275inject(U),r.\u0275\u0275inject(Me.x,8))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),He=[De,Q,Ee,function(){function o(t){this.modelingSelectionService=t}return o.prototype.getHandlers=function(t){var a=this;return[[Ie.Select,{execute:function(g){return a.modelingSelectionService.select(g.flatNode.node.data,!0)}}]]},o.\u0275fac=function(a){return new(a||o)(r.\u0275\u0275inject(f.W6))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),l,q,U],M=function(o){return o.ExpandAll="ExpandAll",o.CollapseAll="CollapseAll",o}({}),N={items:[{id:M.CollapseAll,type:z.iB.Button,text:"FieldListMenuItem_CollapseAll",tooltip:"FieldListMenuItem_CollapseAll"},{id:M.ExpandAll,type:z.iB.Button,text:"FieldListMenuItem_ExpandAll",tooltip:"FieldListMenuItem_ExpandAll"}]},W=i(34162),R=i(43505),Z=function(){function o(t){this.fieldListTreeService=t}return o.prototype.getHandlers=function(){var t=this;return[[M.ExpandAll,{executeMany:function(h,g){g.tree.expandAll(),t.fieldListTreeService.update()}}],[M.CollapseAll,{executeMany:function(h,g){g.tree.collapseAll(),t.fieldListTreeService.update()}}]]},o.\u0275fac=function(a){return new(a||o)(r.\u0275\u0275inject(R.p))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),V=[Ue,N,re,y,je],G=function(){function o(t,a,h,g,F){this.menuFactory=t,this.expandCollapseMenuItemHandlers=a,this.checkMenuItemHandler=h,this.addToFiltersMenuItemHandler=g,this.addToDrillthroughItemHandler=F,this.menuMode=z.Kb.Compact,this.activeContextMenuRef=void 0}return o.prototype.menuClick=function(t){},o.prototype.menuOpen=function(t){this.activeContextMenuRef=t.menuRef},o.prototype.menuClose=function(t){this.activeContextMenuRef=void 0},o.prototype.closeActiveMenu=function(){void 0!==this.activeContextMenuRef&&this.activeContextMenuRef.close()},o.prototype.getMenu=function(t){var a;return this.menuFactory.getMenu(t,V,this.getItemMenuHandlers(null===(a=t.flatNode)||void 0===a?void 0:a.node.data))},o.prototype.menuItemClick=function(t){var a,h,g=this.getItemMenuHandlers(null===(a=t.flatNode)||void 0===a?void 0:a.node.data).get(t.menuItem.id);g.execute?g.execute(t):g.executeMany&&g.executeMany([null===(h=t.flatNode)||void 0===h?void 0:h.node.data],t)},o.prototype.getItemMenuHandlers=function(t){var a=[];return a.push.apply(a,this.expandCollapseMenuItemHandlers.getHandlers()),t&&(((0,c.t3)(t)||(0,c.kb)(t)||(0,c.y3)(t)||(0,c.ez)(t))&&a.push.apply(a,this.checkMenuItemHandler.getHandlers(t)),((0,c.t3)(t)||(0,c.kb)(t)||(0,c.ez)(t))&&(a.push.apply(a,this.addToFiltersMenuItemHandler.getHandlers(t)),a.push(this.addToDrillthroughItemHandler.getHandler(t)))),new Map(a)},o.\u0275fac=function(a){return new(a||o)(r.\u0275\u0275inject(W.E),r.\u0275\u0275inject(Z),r.\u0275\u0275inject(Ee),r.\u0275\u0275inject(De),r.\u0275\u0275inject(Q))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),J=function(){function o(t){this.modelingSelectionService=t}return o.prototype.click=function(t){var a,h;t.sourceEvent.shiftKey?this.startRangeSelectionNode&&this.startRangeSelectionNode.parent===t.flatNode.node.parent&&this.modelingSelectionService.selectAll(this.findNodesRange(this.startRangeSelectionNode,t.flatNode.node,null===(h=null===(a=t?.tree)||void 0===a?void 0:a.search$)||void 0===h?void 0:h.value),!0):t.sourceEvent.ctrlKey?this.modelingSelectionService.isSelected(t.flatNode.node.data)?(this.startRangeSelectionNode=void 0,this.modelingSelectionService.deselect(t.flatNode.node.data)):(this.startRangeSelectionNode=t.flatNode.node,this.modelingSelectionService.select(t.flatNode.node.data,!1)):(this.startRangeSelectionNode=t.flatNode.node,this.modelingSelectionService.select(t.flatNode.node.data,!0))},o.prototype.findNodesRange=function(t,a,h){var g=t.parent.children.indexOf(t),F=a.parent.children.indexOf(a),x=t.parent.children.slice(Math.min(g,F),Math.max(g,F)+1).filter(function(ue){return!h||h.test(ue.displayName)}).map(function(ue){return ue.data});return g<=F?x:x.reverse()},o.\u0275fac=function(a){return new(a||o)(r.\u0275\u0275inject(f.W6))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),ve=i(7779),me=i(34763),he=i(14172),Se=i(8538),ye=i(29834),Te=function(){function o(t,a){this.featureSwitchService=t,this.modelingSelectionService=a}return o.prototype.update=function(t,a,h){if(void 0===h&&(h=!0),t)if(_.isEmpty(a))this.modelingSelectionService.selection.length>0&&this.modelingSelectionService.selectAll(this.getUpdatedSelectionFromModelChange(t,a,this.modelingSelectionService.selection),!0);else{var g=void 0;h&&(g=this.getSelectionFromLastNewCalculation(t,a)),g?this.modelingSelectionService.select(g,!0):this.modelingSelectionService.selection.length>0&&this.modelingSelectionService.selectAll(this.getUpdatedSelectionFromModelChange(t,a,this.modelingSelectionService.selection),!0)}else this.modelingSelectionService.clear()},o.prototype.getSelectionFromLastNewCalculation=function(t,a){var h=this,g=a.filter(function(S){return S.newMeasureCreated||S.newCalculatedColumnCreated||S.measureMove||S.newCalculatedTableCreated||S.newBins||S.newGroups||S.setChangeDetectionMetadata||S.hierarchyCreate||S.relationshipCreate||h.featureSwitchService.featureSwitches.modelExplorer&&S.newCalculationItem}),F=g.some(function(S){return!!S.setChangeDetectionMetadata});if(1===g.length||F){var x=g[g.length-1];if(x.newMeasureCreated)return(0,c.yo)(t,x.newMeasureCreated.schema,x.newMeasureCreated.entity,x.newMeasureCreated.name);if(x.newCalculatedColumnCreated)return(0,c.Gz)(t,x.newCalculatedColumnCreated.schema,x.newCalculatedColumnCreated.entity,x.newCalculatedColumnCreated.name);if(x.newCalculatedTableCreated)return(0,c.AG)(t,x.newCalculatedTableCreated.entity);if(x.measureMove)return(0,c.yo)(t,x.measureMove.schema,x.measureMove.destination,x.measureMove.property);if(x.newBins)return(0,c.Gz)(t,x.newBins.schema,x.newBins.entity,x.newBins.name);if(x.newGroups)return(0,c.Gz)(t,x.newGroups.schema,x.newGroups.entity,x.newGroups.name);if(x.setChangeDetectionMetadata)return(0,c.yo)(t,x.setChangeDetectionMetadata.schema,x.setChangeDetectionMetadata.entity,x.setChangeDetectionMetadata.measureName);if(x.hierarchyCreate)return(0,c.ZG)(t,x.hierarchyCreate.schema,x.hierarchyCreate.entity,x.hierarchyCreate.name);if(x.relationshipCreate)return(0,c.gq)(t,x.relationshipCreate.fromColumns[0],x.relationshipCreate.toColumns[0]);if(x.newCalculationItem){var ue=t.tables.findByUrn(x.newCalculationItem.modelObject);return(0,c.om)(t,t.editableSchemaName,ue.name,x.newCalculationItem.name)}}},o.prototype.getUpdatedSelectionFromModelChange=function(t,a,h){for(var g=[],F=[],x=0,ue=h;x<ue.length;x++){var S=ue[x];if((0,c.wb)(S))(fe=(0,c.AG)(t,this.tryGetNewTableName(S,a)))&&g.push(fe);else if((0,c.t3)(S)){var oe=this.tryGetNewTableName(S.table,a),be=(0,c.Gz)(t,S.schemaName,oe,this.tryGetNewItemName(S,a));be?g.push(be):F.push(oe)}else if((0,c.kb)(S)){oe=this.tryGetNewTableName(S.table,a);var pe=(0,c.yo)(t,S.schemaName,oe,this.tryGetNewItemName(S,a));pe?g.push(pe):F.push(oe)}else if((0,c.y3)(S)){oe=this.tryGetNewTableName(S.table,a);var Fe=(0,c.ZG)(t,S.schemaName,oe,this.tryGetNewItemName(S,a));Fe?g.push(Fe):F.push(oe)}else if((0,c.ez)(S)){oe=this.tryGetNewTableName(S.hierarchy.table,a),F.push(oe);var Be=(0,c.xu)(t,S.schemaName,oe,S.hierarchy.name,this.tryGetNewHierarchyLevelName(S,a));Be&&g.push(Be)}else if((0,c.RF)(S)){oe=this.tryGetNewTableName(S.calculationGroup.table,a);var Ae=(0,c.om)(t,S.schemaName,oe,this.tryGetNewItemName(S,a));Ae?g.push(Ae):F.push(oe)}else if((0,c.l2)(S)){var ge=a.filter(function(ce){return!ce.SetUsedFeatureModelTraitSchemaChange});if(ge.length){if((0,c.wb)(S.parent)&&ge.every(function(ce){return ce.setCalculationItemOrdinal})||ge.every(function(ce,Ve){return ce.newCalculationItem&&0===Ve})){var Ke=(0,c.AG)(t,S.parent.name);S.parent=Ke,g.push(S);continue}if((0,c.vP)(S.parent)){if(ge.every(function(ce){return ce.setCalculationGroupPrecedence})||ge.every(function(ce,Ve){return ce.newCalculationGroup&&0===Ve})){S.parent=t,g.push(S);continue}if(ge.every(function(ce){return ce.setDiscourageImplicitMeasures})){S.parent.discourageImplicitMeasures=t.discourageImplicitMeasures,g.push(S);continue}if(ge.every(function(ce){return ce.setDirectLakeBehavior})){S.parent.directLakeBehavior=t.directLakeBehavior,g.push(S);continue}if(ge.every(function(ce){return ce.setValueFilterBehavior})){S.parent.valueFilterBehavior=t.valueFilterBehavior,g.push(S);continue}if(ge.every(function(ce){return ce.setDescription})){S.parent.description=t.description,g.push(S);continue}}}}else if((0,c.Mx)(S)){var Ne=(0,c.gq)(t,S.fromColumn.urn,S.toColumn.urn);Ne&&g.push(Ne)}}if(0===g.length&&F.length>0)for(var xe=0,Ge=F;xe<Ge.length;xe++){var fe;if(fe=(0,c.AG)(t,oe=Ge[xe])){g.push(fe);break}}return g},o.prototype.tryGetNewTableName=function(t,a){if(_.isEmpty(a))return t.name;var h=a.filter(function(g){return g.entityRename}).map(function(g){return g.entityRename}).find(function(g){return(0,c.pb)(g.schema,t.schemaName)&&g.before===t.name});return h?h.after:t.name},o.prototype.tryGetNewItemName=function(t,a){if(_.isEmpty(a))return t.name;var h=this.getPropertyRenamed(t,a);return h?h.after:t.name},o.prototype.tryGetNewHierarchyLevelName=function(t,a){if(_.isEmpty(a))return t.name;var h=this.getHierarchyLevelRenamed(t,a);return h?h.after:t.name},o.prototype.getPropertyRenamed=function(t,a){var h;return h=(0,c.RF)(t)?t.calculationGroup.table.name:t.table.name,a.filter(function(g){return g.propertyRename}).map(function(g){return g.propertyRename}).filter(function(g){return g.objectType===t.modelObjectType}).find(function(g){return(0,c.pb)(g.schema,t.schemaName)&&g.entity===h&&g.before===t.name})},o.prototype.getHierarchyLevelRenamed=function(t,a){return a.filter(function(h){return h.hierarchyLevelRename}).map(function(h){return h.hierarchyLevelRename}).find(function(h){return(0,c.pb)(h.schema,t.schemaName)&&h.hierarchy===t.hierarchy.name&&h.entity===t.hierarchy.table.name&&h.before===t.name})},o.\u0275fac=function(a){return new(a||o)(r.\u0275\u0275inject(j.vZ),r.\u0275\u0275inject(f.W6))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),Oe=i(29524),Le=i(88023),Pe=i(72193),Qe=i(72525),$e=i(412),Je=i(17031),Ye=i(65005),Ze=i(58137),Xe=i(68082),qe=i(74611),et=i(35510),Ce=i(77476),tt=i(59968);function nt(o,t){if(1&o){var a=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",1),r.\u0275\u0275element(1,"i",2),r.\u0275\u0275elementStart(2,"div",3),r.\u0275\u0275element(3,"span",4),r.\u0275\u0275elementStart(4,"button",5),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(a);var g=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(g.getData())}),r.\u0275\u0275element(5,"div",6),r.\u0275\u0275elementEnd()()()}}var it=function(){function o(t,a,h){this.gettingStartedService=t,this.commandStore=a,this.dataModelService=h,this.enabled=new et.X(void 0),this.enabled$=this.enabled.asObservable()}return o.prototype.ngOnInit=function(){var t=this;this.modelStateSubscription=this.gettingStartedService.currentState$.subscribe(function(a){return t.updateModelState(a)})},o.prototype.ngOnDestroy=function(){this.modelStateSubscription&&this.modelStateSubscription.unsubscribe()},o.prototype.getData=function(){this.commandStore.DataImport.Connect.execute()},o.prototype.updateModelState=function(t){return(0,u.mG)(this,void 0,void 0,function(){var a,h,g,F;return(0,u.Jh)(this,function(x){switch(x.label){case 0:return this.dataModelService?[3,1]:(this.enabled.next(!1),[3,5]);case 1:return h=(a=this.enabled).next,(g=0===t)?(F=qe.Ez,[4,this.dataModelService.getModelAuthoringCapabilities()]):[3,4];case 2:return[4,F.apply(void 0,[x.sent()])];case 3:g=x.sent(),x.label=4;case 4:h.apply(a,[g]),x.label=5;case 5:return[2]}})})},o.\u0275fac=function(a){return new(a||o)(r.\u0275\u0275directiveInject(ye.c),r.\u0275\u0275directiveInject(Ze.D),r.\u0275\u0275directiveInject(Xe.n,8))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["field-list-watermark"]],decls:2,vars:3,consts:[["class","getDataHint",4,"ngIf"],[1,"getDataHint"],[1,"glyphicon","icon","glyph-med","pbi-glyph-table-group"],[1,"getDataText"],["id","dataNotLoadedYet","localize","Data_Not_Loaded_Yet"],["aria-labelledby","dataNotLoadedYet getDataLabel","tabindex","0",1,"pbi-internal-link",3,"click"],["id","getDataLabel","localize","GetDataMenu"]],template:function(a,h){1&a&&(r.\u0275\u0275template(0,nt,6,0,"div",0),r.\u0275\u0275pipe(1,"async")),2&a&&r.\u0275\u0275property("ngIf",r.\u0275\u0275pipeBind1(1,1,h.enabled$))},dependencies:[Ce.NgIf,tt.X,Ce.AsyncPipe],styles:['[_nghost-%COMP%]{--no-data-table-icon-color: var(--gray-180);--no-data-text-color: var(--gray-140)}[data-legacy-theming=false]   [_nghost-%COMP%]{--no-data-table-icon-color: var(--colorNeutralForeground1);--no-data-text-color: var(--colorNeutralForeground2)}.getDataHint[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:0 10%}.getDataHint[_ngcontent-%COMP%]   i.pbi-glyph-table-group[_ngcontent-%COMP%]{color:var(--no-data-table-icon-color);margin-top:16px}.getDataHint[_ngcontent-%COMP%]   .getDataText[_ngcontent-%COMP%]{text-align:center;margin-top:8px}.getDataHint[_ngcontent-%COMP%]   .getDataText[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);color:var(--no-data-text-color)}.getDataHint[_ngcontent-%COMP%]   .getDataText[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-semi-bold, 600);background:transparent;padding-left:4px}.getDataHint[_ngcontent-%COMP%]   .getDataText[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}'],changeDetection:0}),o}(),ze=function(){function o(t,a,h,g,F,x,ue,S,fe,oe,be,pe,Fe,Be,Ae,ge,Ke,Ne,xe){this.modelService=a,this.modelingSelectionService=h,this.modelingCheckingService=g,this.modelChangeSelectionSynchronizer=F,this.schemaItemActivationServiceSynchronizer=x,this.captionSetting=ue,this.draggableSetting=S,this.hiddenSetting=fe,this.inlineItemsSetting=oe,this.checkableSetting=be,this.fieldListTreeService=pe,this.clickStrategy=Fe,this.menuStrategy=Be,this.checkStrategy=Ae,this.dragDropStrategy=ge,this.keyboardStrategy=Ke,this.tooltipStrategy=Ne,this.gettingStartedService=xe,this.fieldListTree$=this.fieldListTreeService.fieldListTree$,this.fieldListOptions={click:this.clickStrategy,check:this.checkStrategy,menu:this.menuStrategy,dragDrop:this.dragDropStrategy,keyboard:this.keyboardStrategy,tooltip:this.tooltipStrategy},this.pbiTreeNodeSettingOptions={captionSetting:this.captionSetting,draggableSetting:this.draggableSetting,inlineItemsSetting:this.inlineItemsSetting,checkableSetting:this.checkableSetting,hiddenSetting:this.hiddenSetting},this.checkMode=T.kH.Multi,this.subscription=new me.w,this.fieldListTreeService.modelToPbiTreeConverterOptions=this.pbiTreeNodeSettingOptions,this.subscriptionManager=t.createChannelSubscriptionManager()}return o.prototype.ngOnInit=function(){var t=this;this.subscriptionManager.subscribe(s.LE3,function(){return t.modelService.update(void 0)}),this.subscription.add(this.modelService.modelChange$.subscribe(function(a){return t.onModelChange(a)})),this.subscription.add(this.modelingSelectionService.selectionChanged.subscribe(function(a){return t.updateSelection(a)})),this.subscription.add(this.modelingCheckingService.selectionChanged.subscribe(function(a){return t.fieldListTreeService.updateChecked(a)})),this.loading$=this.gettingStartedService.currentState$.pipe((0,he.U)(function(a){return 1===a})),this.emptyModel$=this.gettingStartedService.currentState$.pipe((0,he.U)(function(a){return 0===a})),this.schemaItemActivationServiceSynchronizer.initialize(),this.modelService.update(void 0)},o.prototype.ngOnDestroy=function(){this.subscriptionManager.unsubscribeAll(),this.subscription.unsubscribe()},o.prototype.updateSelection=function(t){this.closeActiveMenus(),this.fieldListTreeService.updateSelected(t)},o.prototype.closeActiveMenus=function(){this.menuStrategy&&this.menuStrategy.closeActiveMenu()},o.prototype.onModelChange=function(t){this.modelChangeSelectionSynchronizer.update(t.model,t.appliedChanges),this.fieldListTreeService.setOrUpdateFieldListTreeModel(t.model,this.modelingSelectionService.selection,this.modelingCheckingService.selection)},o.\u0275fac=function(a){return new(a||o)(r.\u0275\u0275directiveInject(ee.J),r.\u0275\u0275directiveInject(w.b),r.\u0275\u0275directiveInject(f.W6),r.\u0275\u0275directiveInject(f.fc),r.\u0275\u0275directiveInject(Te),r.\u0275\u0275directiveInject(Se.h),r.\u0275\u0275directiveInject(Oe.B),r.\u0275\u0275directiveInject(Le.F),r.\u0275\u0275directiveInject(Pe.J),r.\u0275\u0275directiveInject(Qe.wt),r.\u0275\u0275directiveInject(Me.x),r.\u0275\u0275directiveInject(R.p),r.\u0275\u0275directiveInject(J),r.\u0275\u0275directiveInject(G),r.\u0275\u0275directiveInject(q),r.\u0275\u0275directiveInject(l),r.\u0275\u0275directiveInject($e.W),r.\u0275\u0275directiveInject(Je.Z),r.\u0275\u0275directiveInject(ye.c))},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["field-list-container"]],features:[r.\u0275\u0275ProvidersFeature((0,u.ev)((0,u.ev)((0,u.ev)([],He,!0),ve.r,!0),[J,G,Z,R.p],!1))],decls:6,vars:11,consts:[[1,"container",3,"click"],["focus-nav-mode","Browser","fluent","true",3,"fieldListTree","scrollSelectedItemIntoViewOnInit","checkMode","options","loading"],[1,"pbi-field-list-watermark"]],template:function(a,h){1&a&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275listener("click",function(F){return F.stopPropagation()}),r.\u0275\u0275elementStart(1,"pbi-field-list",1),r.\u0275\u0275pipe(2,"async"),r.\u0275\u0275pipe(3,"async"),r.\u0275\u0275pipe(4,"async"),r.\u0275\u0275element(5,"field-list-watermark",2),r.\u0275\u0275elementEnd()()),2&a&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("fieldListTree",r.\u0275\u0275pipeBind1(2,5,h.emptyModel$)?null:r.\u0275\u0275pipeBind1(3,7,h.fieldListTree$))("scrollSelectedItemIntoViewOnInit",!0)("checkMode",h.checkMode)("options",h.fieldListOptions)("loading",r.\u0275\u0275pipeBind1(4,9,h.loading$)))},dependencies:[Ye.l,it,Ce.AsyncPipe],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}pbi-field-list[_ngcontent-%COMP%]{flex:1;padding:0 4px}pbi-field-list[_ngcontent-%COMP%]     pbi-tree{margin-top:8px;padding-top:0!important}"],changeDetection:0}),o}(),rt=i(52910),ot=i(77906),ke=i(95859),at=[Te,{provide:f.W6,useClass:f.$x}],lt=function(){function o(){}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[Ce.CommonModule,ke.v]}),o}(),st=i(41920),ct=function(){function o(){}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({imports:[Ce.CommonModule,ke.v]}),o}(),ut=i(72359),dt=i(52950),pt=i(63654),ht=i(94841),ft=[{type:ze,componentId:"FieldListContainerComponentId"}],gt=function(){function o(){}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=r.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=r.\u0275\u0275defineInjector({providers:(0,u.ev)((0,u.ev)((0,u.ev)([],at,!0),st.U,!0),[Pe.J],!1),imports:[Ce.CommonModule,rt.O,e.J,ot.N.withManifests(ft),ke.v,ht.b,ut.K,dt.g,pt.X,ct,lt]}),o}()},412:function(ae,P,i){i.d(P,{W:function(){return T}});var u=i(93247),e=i(9738),C=i(70863),c=i(50423),b=i(33565),T=function(){function r(n,l){this.deleteModelItemService=n,this.modelingSelectionService=l}return r.prototype.treeNodeKeyDown=function(n){return this.handleKeyDownEvent(n.sourceEvent,n.tree)},r.prototype.backgroundKeyDown=function(n){this.handleKeyDownEvent(n.sourceEvent,n.tree)},r.prototype.handleKeyDownEvent=function(n,l){return n.keyCode===u.yY?!!this.deleteModelItemService&&(n.stopPropagation(),this.deleteModelItemService.deleteAllFromModel(this.modelingSelectionService.selection,!0),!0):n.keyCode===u.hY?(this.modelingSelectionService.clear(),!0):!(n.keyCode!==u.A||!n.ctrlKey||(n.preventDefault(),n.stopPropagation(),this.selectAll(l),0))},r.prototype.selectAll=function(n){this.modelingSelectionService.selectAll(n.treeControl.dataNodes.map(function(l){return l.node.data}).filter(function(l){return(0,C.wb)(l)}),!0)},r.\u0275fac=function(l){return new(l||r)(c.\u0275\u0275inject(b.c,8),c.\u0275\u0275inject(e.W6))},r.\u0275prov=c.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r}()},34162:function(ae,P,i){i.d(P,{E:function(){return T}});var u=i(64560),e={type:u.iB.Divider},C=i(92882),c=i(50423),b=i(65181),T=function(){function r(n){this.localizationService=n}return r.prototype.getMenu=function(n,l,p){return{items:this.getMenuItems(n,l,p)}},r.prototype.getMenuItems=function(n,l,p){for(var s=[],d=0,v=l;d<v.length;d++){var f=this.getMenuSection(n,v[d],p);s.length>0&&f.length>0&&s.push(e),s.push.apply(s,f)}return s},r.prototype.getMenuSection=function(n,l,p){for(var s,d=[],v=0,m=l.items;v<m.length;v++){var f=m[v],E=p.get(f.id);if(E){var se={id:f.id,type:f.type,text:this.localizationService.format(f.text),tooltip:this.localizationService.format(f.tooltip),disabled:E.enabled&&!E.enabled(n)};if(E.getIcon&&(se.icon=E.getIcon(n)),f.type===u.iB.SubMenu){var j=se;if(f.menu&&(0,C.Q)(f.menu)&&f.menu.items&&(j.menu={items:this.getMenuSection(n,{items:f.menu.items},p)}),E.getSubItems){var ee=E.getSubItems(n);ee.length>0&&(j.menu&&(0,C.Q)(j.menu)?(s=j.menu.items).push.apply(s,ee):j.menu={items:ee})}j.menu&&(0,C.Q)(j.menu)&&j.menu.items.length>0&&d.push(se)}else d.push(se)}}return d},r.\u0275fac=function(l){return new(l||r)(c.\u0275\u0275inject(b.o))},r.\u0275prov=c.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r}()},17031:function(ae,P,i){i.d(P,{Z:function(){return p}});var u=i(14335),e=i(50423),C=i(77476);function c(s,d){1&s&&e.\u0275\u0275elementContainer(0)}var b=function(d){return{$implicit:d}};function T(s,d){if(1&s&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,c,1,0,"ng-container",2),e.\u0275\u0275elementContainerEnd()),2&s){var v=d.$implicit;e.\u0275\u0275nextContext();var m=e.\u0275\u0275reference(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",m)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,b,v))}}function r(s,d){if(1&s&&(e.\u0275\u0275elementStart(0,"div",3)(1,"div",4),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",5),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&s){var v=d.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(v.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(v.value)}}var n=function(){function s(d){this.content=d,this.tooltipData=[],this.tooltipData=d}return s.\u0275fac=function(v){return new(v||s)(e.\u0275\u0275directiveInject(u.HK))},s.\u0275cmp=e.\u0275\u0275defineComponent({type:s,selectors:[["model-object-tooltip"]],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"],["tooltipRow",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tooltip-row"],[1,"tooltip-title-cell"],[1,"tooltip-value-cell"]],template:function(v,m){1&v&&(e.\u0275\u0275template(0,T,2,4,"ng-container",0),e.\u0275\u0275template(1,r,5,2,"ng-template",null,1,e.\u0275\u0275templateRefExtractor)),2&v&&e.\u0275\u0275property("ngForOf",m.tooltipData)},dependencies:[C.NgForOf,C.NgTemplateOutlet],styles:[".tooltip-row[_ngcontent-%COMP%]{display:table-row;font-size:12px}.tooltip-title-cell[_ngcontent-%COMP%]{display:table-cell;word-wrap:break-word;font-weight:var(--font-weight-regular, 400);max-width:260px;padding-top:1px;padding-bottom:1px;text-align:right}.tooltip-value-cell[_ngcontent-%COMP%]{display:table-cell;word-wrap:break-word;font-weight:var(--font-weight-semi-bold, 600);max-width:260px;padding-top:1px;padding-bottom:1px;padding-left:12px;text-align:left;white-space:break-spaces}"]}),s}(),l=i(65534),p=function(){function s(d){this.tooltipFactory=d,this.getTooltip=function(){return n}}return s.prototype.getTooltipComponentData=function(d){return this.tooltipFactory.getTooltipData(d.flatNode.node.data)},s.\u0275fac=function(v){return new(v||s)(e.\u0275\u0275inject(l.n))},s.\u0275prov=e.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}()},81141:function(ae,P,i){i.d(P,{x:function(){return C}});var u=i(70863),e=i(50423),C=function(){function c(){}return c.prototype.isCheckable=function(b){if(!u.wb(b))return!!(u.t3(b)||u.kb(b)||u.y3(b)||u.ez(b))},c.\u0275prov=e.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac=function(T){return new(T||c)}}),c}()},88023:function(ae,P,i){i.d(P,{F:function(){return C}});var u=i(70863),e=i(50423),C=function(){function c(){}return c.prototype.isDraggable=function(b){return!u.wb(b)&&!!(u.t3(b)||u.kb(b)||u.y3(b)||u.ez(b))},c.\u0275prov=e.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac=function(T){return new(T||c)}}),c}()},72525:function(ae,P,i){i.d(P,{VI:function(){return p},wt:function(){return l}});var u=i(81337),e=i(70863),C=i(59725),c=i(82332),b=i(50423),T=i(65181),l=function(){function s(d){this.localizationService=d,this.errorInlineItem={icon:{type:0,glyph:c.RB},label:this.localizationService.format("FieldListMenuItem_Error"),type:C.Q_.Icon,id:c.LA}}return s.prototype.getInlineItems=function(d){var v=[];return v.push.apply(v,this.getErrorInLineItem(d)),v},s.prototype.getErrorInLineItem=function(d){var v=[];return e.wb(d)&&d.isErrorState&&v.push(d.errorMessage?(0,u.pi)((0,u.pi)({},this.errorInlineItem),{label:d.errorMessage}):this.errorInlineItem),e.kb(d)&&d.isErrorState&&v.push((0,u.pi)((0,u.pi)({},this.errorInlineItem),{label:d.errorMessage})),e.t3(d)&&d.isErrorState&&v.push(this.errorInlineItem),v},s.\u0275fac=function(v){return new(v||s)(b.\u0275\u0275inject(T.o))},s.\u0275prov=b.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),p=function(){function s(d,v){this.localizationService=d,this.inlineItemSetting=v,this.hiddenInlineItem={icon:{type:0,glyph:c.cD},label:void 0,type:C.Q_.Button,id:c.zB},this.viewInlineItem={icon:{type:0,glyph:c.qV},label:void 0,type:C.Q_.Button,id:c.SO},this.hideInlineItemTooltip="Field_ShowInReportView",this.viewInlineItemTooltip="FieldListMenuItem_HideInReportViewTooltip"}return Object.defineProperty(s.prototype,"addHiddenItemsOnly",{set:function(v){this._addHiddenItemsOnly=v},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hideInlineItemTooltip",{set:function(v){this.hiddenInlineItem.label=this.localizationService.format(v)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"viewInlineItemTooltip",{set:function(v){this.viewInlineItem.label=this.localizationService.format(v)},enumerable:!1,configurable:!0}),s.prototype.getInlineItems=function(d){var v=[];return v.push.apply(v,this.inlineItemSetting.getInlineItems(d)),v.push.apply(v,this.getShowOrHideInLineItem(d)),v},s.prototype.getShowOrHideInLineItem=function(d){var v,m=[];if(e.Ov(d))return!(null===(v=d?.table)||void 0===v)&&v.isHidden&&m.push((0,u.pi)((0,u.pi)({},this.hiddenInlineItem),{type:C.Q_.Icon})),m;if(e.wb(d)||e.t3(d)||e.kb(d)||e.y3(d)){if(d.canEdit&&(0,e.uO)(d))d.isHidden?m.push(this.hiddenInlineItem):this._addHiddenItemsOnly||m.push((0,u.pi)((0,u.pi)({},this.viewInlineItem),{displayOnHover:!0}));else{var f=this.localizationService.get("FieldListMenuItem_ShowHideDisabledForItem");d.isHidden?m.push((0,u.pi)((0,u.pi)({},this.hiddenInlineItem),{type:C.Q_.Icon,label:f})):this._addHiddenItemsOnly||m.push((0,u.pi)((0,u.pi)({},this.viewInlineItem),{type:C.Q_.Icon,displayOnHover:!0,label:f}))}return m}return e.ez(d)&&d.hierarchy.isHidden&&m.push((0,u.pi)((0,u.pi)({},this.hiddenInlineItem),{type:C.Q_.Icon})),m},s.\u0275fac=function(v){return new(v||s)(b.\u0275\u0275inject(T.o),b.\u0275\u0275inject(l))},s.\u0275prov=b.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}()},65534:function(ae,P,i){i.d(P,{n:function(){return T}});var u=i(29524),e=i(69615),C=i(70863),c=i(50423),b=i(65181),T=function(){function r(n,l){this.localizationService=n,this.captionSettingStrategy=l}return r.prototype.getTooltipData=function(n){return(0,C.wb)(n)?this.populateTableTooltip(n):(0,C.t3)(n)?this.populateColumnTooltip(n):(0,C.kb)(n)?this.populateMeasureTooltip(n):(0,C.jz)(n)?this.populateKpiTooltip(n):(0,C.y3)(n)?this.populateHierarchyTooltip(n):(0,C.ez)(n)?this.populateHierarchyLevelTooltip(n):(0,C.Mx)(n)?this.populateRelationshipTooltip(n):(0,C.Ao)(n)?this.populatePerspectiveTooltip(n):(0,C.KF)(n)?this.populateCultureTooltip(n):(0,C.yR)(n)?this.populatePartitionTooltip(n):(0,C.RF)(n)?this.populateCalculationItemTooltip(n):(0,C.OP)(n)?this.populateModelRoleTooltip(n):(0,C.CV)(n)?this.populateCalendarTooltip(n):[]},r.prototype.populateTableTooltip=function(n){var l=[];l.push({title:this.localizationService.get("Name"),value:this.getTableCaption(n)});var p=this.storageMode(n);p&&l.push({title:this.localizationService.get("StorageModeLabel"),value:this.localizationService.get(p)}),n.island&&(this.shouldShowTypeDescription(n)&&l.push({title:this.localizationService.get("ServerError_PersonalGateway_DataSourceKindLabel"),value:n.island.typeDescription}),this.shouldShowServerName(n)&&l.push({title:this.localizationService.get("DirectQueryContentProvider_ServerName"),value:n.island.serverName},{title:this.localizationService.get("DirectQueryContentProvider_DatabaseName"),value:n.island.databaseName}),this.shouldShowIslandName(n)&&l.push({title:this.localizationService.get("AnalysisServer_ServerName"),value:n.island.name})),this.shouldShowRefreshedTime(n)&&l.push({title:this.localizationService.get("Data_Refreshed_Label"),value:this.refreshedTime(n)});var s=this.captionSettingStrategy?this.captionSettingStrategy.getDescription(n):n.description;return s&&l.push({title:this.localizationService.get("Description"),value:s}),l},r.prototype.populateColumnTooltip=function(n){var l=[],p=this.captionSettingStrategy?this.captionSettingStrategy.getCaption(n):n.name,s=this.captionSettingStrategy?this.captionSettingStrategy.getCaption(n.table):n.table.name;l.push({title:this.localizationService.get("Name"),value:s?"'".concat(s,"'[").concat(p,"]"):p});var d=this.captionSettingStrategy?this.captionSettingStrategy.getDescription(n):n.description;return d&&l.push({title:this.localizationService.get("Description"),value:d}),l},r.prototype.populateMeasureTooltip=function(n){var l=[],p=this.captionSettingStrategy?this.captionSettingStrategy.getCaption(n):n.name;l.push({title:this.localizationService.get("Name"),value:"[".concat(p,"]")});var s=this.captionSettingStrategy?this.captionSettingStrategy.getDescription(n):n.description;return s&&l.push({title:this.localizationService.get("Description"),value:s}),l},r.prototype.populateKpiTooltip=function(n){var l=[],p=this.captionSettingStrategy?this.captionSettingStrategy.getCaption(n):n.name,s=this.getTableCaption(n.table);l.push({title:this.localizationService.get("Name"),value:s?"'".concat(s,"'[").concat(p,"]"):p});var d=this.captionSettingStrategy?this.captionSettingStrategy.getDescription(n):n.description;return d&&l.push({title:this.localizationService.get("Description"),value:d}),l},r.prototype.populateHierarchyTooltip=function(n){var l=[];l.push({title:this.localizationService.get("Name"),value:this.captionSettingStrategy?this.captionSettingStrategy.getCaption(n):n.name});var p=this.captionSettingStrategy?this.captionSettingStrategy.getDescription(n):n.description;return p&&l.push({title:this.localizationService.get("Description"),value:p}),l},r.prototype.populateHierarchyLevelTooltip=function(n){var l=[],p=this.getTableCaption(n.hierarchy.table),s=this.captionSettingStrategy?this.captionSettingStrategy.getCaption(n):n.name,d=s;n.column&&(d=this.captionSettingStrategy?this.captionSettingStrategy.getCaption(n.column):n.column.name),l.push({title:this.localizationService.get("Name"),value:"'".concat(p,"'[").concat(s,"]")}),l.push({title:this.localizationService.get("Base_field"),value:"[".concat(d,"]")});var v=this.captionSettingStrategy?this.captionSettingStrategy.getCaption(n):n.description;return!v&&n.column&&(v=this.captionSettingStrategy?this.captionSettingStrategy.getDescription(n.column):n.column.description),v&&l.push({title:this.localizationService.get("Description"),value:v}),l},r.prototype.populateRelationshipTooltip=function(n){var l=[],p=this.captionSettingStrategy?this.captionSettingStrategy.getCaption(n):n.displayName;return l.push({title:this.localizationService.get("Name"),value:"[".concat(p,"]")}),l},r.prototype.populatePerspectiveTooltip=function(n){var l=[],p=this.captionSettingStrategy?this.captionSettingStrategy.getCaption(n):n.name;return l.push({title:this.localizationService.get("Name"),value:"[".concat(p,"]")}),l},r.prototype.populateCultureTooltip=function(n){var l=[],p=this.captionSettingStrategy?this.captionSettingStrategy.getCaption(n):n.name;return l.push({title:this.localizationService.get("Name"),value:"[".concat(p,"]")}),l},r.prototype.populatePartitionTooltip=function(n){var l=[],p=this.captionSettingStrategy?this.captionSettingStrategy.getCaption(n):n.name;return l.push({title:this.localizationService.get("Name"),value:"[".concat(p,"]")}),l},r.prototype.populateCalculationItemTooltip=function(n){var l=[],p=this.captionSettingStrategy?this.captionSettingStrategy.getCaption(n):n.name;return l.push({title:this.localizationService.get("Name"),value:"[".concat(p,"]")}),l},r.prototype.populateModelRoleTooltip=function(n){var l=[],p=this.captionSettingStrategy?this.captionSettingStrategy.getCaption(n):n.name;return l.push({title:this.localizationService.get("Name"),value:"[".concat(p,"]")}),l},r.prototype.populateCalendarTooltip=function(n){var l=[],p=this.captionSettingStrategy?this.captionSettingStrategy.getCaption(n):n.name;return l.push({title:this.localizationService.get("Name"),value:"[".concat(p,"]")}),l},r.prototype.shouldShowTypeDescription=function(n){return!n.island.isImportIsland},r.prototype.shouldShowServerName=function(n){return!n.island.isImportIsland&&!!n.island.serverName&&!!n.island.databaseName},r.prototype.shouldShowIslandName=function(n){return!(n.island.isImportIsland||n.island.serverName&&n.island.databaseName)},r.prototype.shouldShowRefreshedTime=function(n){return!!this.refreshedTime(n)},r.prototype.storageMode=function(n){return"Import"===n.storageMode?"StorageMode_Import":"DirectQuery"===n.storageMode?"StorageMode_DirectQuery":"Dual"===n.storageMode?"StorageMode_Dual":"DirectLake"===n.storageMode?"StorageMode_DirectLake":void 0},r.prototype.refreshedTime=function(n){if(n.refreshedTime)return(0,e.jC)(n.refreshedTime).toLocaleDateString(this.localizationService.currentLanguageLocale,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})},r.prototype.getTableCaption=function(n){return this.captionSettingStrategy?this.captionSettingStrategy.getCaption(n):n.name},r.\u0275fac=function(l){return new(l||r)(c.\u0275\u0275inject(b.o),c.\u0275\u0275inject(u.B,8))},r.\u0275prov=c.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r}()},41920:function(ae,P,i){i.d(P,{U:function(){return s}});var u=i(81141),e=i(88023),C=i(72525),c=i(412),b=i(34162),T=i(65534),r=i(17031),n=i(29524),l=i(72193),p=i(9738),s=[u.x,e.F,C.wt,c.W,b.E,T.n,r.Z,n.B,l.J,{provide:p.fc,useClass:p.$x}]},33565:function(ae,P,i){i.d(P,{c:function(){return X}});var f,u=i(81337),e=i(68082),C=i(53439),c=i(50423),b=new c.InjectionToken("ViewScopedUserSettingsService"),n="hideDeleteRelationshipConfirmation",l=function(B){return B.DeleteModelItem="DeleteModelItem",B}({}),p=i(74611),s=i(50550),d=i(62458),v=i(65843),m=i(55375);!function(B){var H="COMMANDS_DELETE_TABLE",ie="ListJoin_Separator";function Me(M,D){return(M=M.sort().map(function(O){return'"'+O+'"'})).join(D.get(ie))}B.getDeleteConfirmationText=function(M,D){var O=(0,s.EB)(M.map(function(J){return(0,p.cO)(J)?(0,p.d3)(J.fromTable.name,J.fromColumn.name,J.fromCardinality,J.toTable.name,J.toColumn.name,J.toCardinality):J.name})).join(D.get(ie)+" "),N=D.format("DeleteConfirmationMultiple",O);1===M.length&&(N="Relationship"===M[0].objectType?D.get("DeleteRelationshipConfirmationMessage"):"Calendar"===M[0].objectType?D.get("DeleteCalendarConfirmationMessage"):D.format("DeleteMeasurePrompt",O));var W=function(M,D){for(var O=(0,p.Y3)((0,p.L9)(M),D),N=0,W=M;N<W.length;N++){var R=W[N];if((0,p.t3)(R)&&R.table.refreshPolicy&&"DateTime"===R.dataType){O.push(D.get("IncrementalRefreshPolicy"));break}}return O.filter(function(G){return!M.find(function(J){return J.name===G})})}(M,D);if(0!==W.length){var R=(0,s.EB)(W).join(D.get(ie)+" ");N=D.format(1===W.length?"DeleteConfirmationWithDependents":"DeleteConfirmationMultipleWithDependents",O,R)}var Z=function(M){for(var D=new Set,O=0,N=M;O<N.length;O++){var W=N[O];if((0,p.t3)(W)){var R=W,Z=R.table.description,V=(0,p.aP)(R.table,R),G=(0,p.q1)(R.table,R);(0,p.oQ)(R.table,Z,V?.name,G?.name)&&D.add(R.table.name)}}return Array.from(D)}(M);if(0!==Z.length){var V=(0,s.EB)(Z).join(D.get(ie)+" ");N=N+"<br/><br/>"+D.format("DeleteConfirmationForCuration",V)}return N},B.showConfirmDialogToDeleteTableWithDependents=function(M,D,O,N){return(0,u.mG)(this,void 0,void 0,function(){var W;return(0,u.Jh)(this,function(V){switch(V.label){case 0:return W=function(M,D,O){for(var N=new Set,W=0,R=M;W<R.length;W++)N.add(R[W].name);for(var V=[],G=[],J=0,ve=Object.keys(D);J<ve.length;J++)for(var me=ve[J],Se=!1,ye=0,Te=D[me];ye<Te.length;ye++){var Oe=Te[ye];N.has(Oe)||(Se||(V.push(me),Se=!0),G.push(Oe))}if(0!==V.length){d.fF.assert(function(){return G.length>0},"If some tables are remaining, there should have dependents remaining as well");var Le=Me(G,O);if(1===V.length)return 1===G.length?O.format("DeleteQueryWithOneDependent",V[0],G[0]):O.format("DeleteQueryWithMultipleDependents",V[0],Le);var Pe=Me(V,O);return O.format("DeleteQueriesWithMultipleDependents",Pe,Le)}}(M,D,O),W?[4,m.Z.buildOKCancelDialogWithList(O.get(H),[W],"deleteTableConfirmationDialog",O.get("ReportModelTableLoadWillBeDisabled"),N,O)]:[2,!0];case 1:return[4,V.sent().afterClosed().toPromise()];case 2:return[2,1===V.sent()]}})})},B.getQueryToDependents=function(M,D){for(var O={},N={},W=M.dataModelExtendedState.queryDependencyGraph,R=0,Z=Object.keys(W);R<Z.length;R++)for(var V=Z[R],J=0,ve=W[V];J<ve.length;J++){var me=ve[J];N[me]||(N[me]=new Set),N[me].add(V)}for(var he=0,Se=D;he<Se.length;he++){var ye=Se[he];N[ye.name]&&(O[ye.name]=Array.from(N[ye.name]))}return O},B.reorderItemsToMinimizeDependencies=function(M,D,O,N){for(var W=function(M,D){for(var O=[],N=M.length,W=function(){var Z=M.length,V=new Set;M.forEach(function(G){D[G.name]&&D[G.name].forEach(function(J){return V.add(J)})}),O=O.concat(M.filter(function(G){return!V.has(G.name)})),M=M.filter(function(G){return V.has(G.name)}),Z===M.length&&d.fF.assertFail("Unable to calculate table dependencies")};M.length>0;)W();return N!==(O=O.reverse()).length&&d.fF.assertFail("ordered table number is not same as the origin number for deletion"),O}(D,O),R=M.filter(function(J){return!(0,p.wb)(J)}),Z=[],V=function(){var ve=new Set((0,p.Y3)((0,p.L9)(R),N)),me=R.filter(function(he){return!ve.has(he.name)});Z=me.concat(Z),R=R.filter(function(he){return ve.has(he.name)})};R.length>0;)V();var G=Z.concat(W);return M.length!==G.length&&d.fF.assertFail("ordered all item number is not same as the origin number for deletion"),G},B.createDeleteSchemaChange=function(M){var D=M.objectType;if("Relationship"===D){var O=M;return{relationshipDelete:{fromColumns:[v.X6.getColumnUrn(O.fromTable.name,O.fromColumn.name,O.fromColumn.schemaName)],toColumns:[v.X6.getColumnUrn(O.toTable.name,O.toColumn.name,O.toColumn.schemaName)]}}}if("Level"===D)return{hierarchyLevelDelete:{schema:M.schemaName,entity:M.hierarchy.table.name,hierarchy:M.hierarchy.name,hierarchyLevel:M.name}};if("Table"===D||"Expression"===D)return{itemDelete:{schema:M.schemaName,entity:M.name,objectType:M.objectType}};var W=void 0;return"Column"===D||"Measure"===D||"Hierarchy"===D?W=M:"CalculationItem"===D?W=M.calculationGroup:"Calendar"===D?W=M:d.fF.assertFail("This object type is not implemented "+D.toString()+"when create schemaChange"),{itemDelete:{schema:M.schemaName,entity:W.table.name,objectType:M.objectType,property:M.name}}},B.getDeleteComfirmationTitle=function(M,D){if(1!==M.length)return D.get("ReportModelDeleteItemsTitle");switch(M[0].objectType){case"Table":return D.get(H);case"Column":return D.get("DeleteColumnConfirmationTitle");case"Measure":return D.get("DeleteMeasurePromptTitle");case"Hierarchy":return D.get("DeleteHierarchyConfirmationTitle");case"Level":return D.get("DeleteHierarchyLevelConfirmationTitle");case"Relationship":return D.get("DeleteRelationshipConfirmationTitle");case"Calendar":return D.format("DeleteCalendarConfirmationTitle",M[0].name);default:d.fF.assertFail("Unexpected type being deleted")}},B.getDeleteConfirmationOkButtonText=function(M,D){if(1!==M.length)return D.get("Yes");switch(M[0].objectType){case"Table":case"Column":case"Measure":case"Hierarchy":case"Level":case"Relationship":return D.get("Yes");case"Calendar":return D.get("Delete");default:d.fF.assertFail("Unexpected type being deleted")}}}(f||(f={}));var E=i(70863),se=i(58938),j=i(65181),ee=i(66339),X=function(){function B(H,w,k,U,q,z){this.modelAuthoring=H,this.dataModelService=w,this.dialogService=k,this.localizationService=U,this.telemetryService=q,this.viewScopedUserSettingsService=z}return B.prototype.deleteAllFromModel=function(H,w,k){if(void 0===k&&(k=!1),H.every(function(q){return!0===q.canDelete})){var U=this.createDeleteItems(H,w);return this.deleteModelItem(U,k)}},B.prototype.createDeleteItems=function(H,w){var k=[];if(!H)return k;var U=[],q=[],z=[],Y=[];H.forEach(function(y){(0,E.wb)(y)?U.push(y):(0,E.y3)(y)?q.push(y):(0,E.ez)(y)?z.push(y):Y.push(y)});var ie=[];return z.forEach(function(y){if(q.every(function(te){return te.urn!==y.hierarchy.urn})&&U.every(function(te){return te.urn!==y.hierarchy.table.urn})){var Q=ie.find(function(te){return te.hierarchy===y.hierarchy});Q||ie.push(Q={hierarchy:y.hierarchy,levelsToDelete:[]}),Q.levelsToDelete.push(y)}}),ie.forEach(function(y){w&&y.levelsToDelete.length===y.hierarchy.levels.length?q.push(y.hierarchy):Y.push.apply(Y,y.levelsToDelete||[])}),Y.forEach(function(y){(0,E.Mx)(y)?k.push({itemName:y.name,schema:null,objectType:"Relationship"}):(0,E.ez)(y)?k.push({schema:y.schemaName,tableName:y.hierarchy.table.name,itemName:y.hierarchy.name,subItemName:y.name,objectType:"Level"}):(0,E.kb)(y)||(0,E.jz)(y)?U.every(function(Q){return Q.urn!==y.table.urn})&&k.push({schema:y.schemaName,tableName:y.table.name,itemName:y.name,objectType:"Measure"}):(0,E.t3)(y)?U.every(function(Q){return Q.urn!==y.table.urn})&&k.push({schema:y.schemaName,tableName:y.table.name,itemName:y.name,objectType:"Column"}):(0,E.RF)(y)?U.every(function(Q){return Q.urn!==y.calculationGroup.table.urn})&&k.push({schema:y.schemaName,tableName:y.calculationGroup.table.name,itemName:y.name,objectType:"CalculationItem"}):(0,E.CV)(y)&&U.every(function(Q){return Q.urn!==y.table.urn})&&k.push({schema:y.schemaName,tableName:y.table.name,itemName:y.name,objectType:"Calendar"})}),q.forEach(function(y){U.every(function(Q){return Q.urn!==y.table.urn})&&k.push({schema:y.schemaName,tableName:y.table.name,itemName:y.name,objectType:"Hierarchy"})}),U.forEach(function(y){k.push({schema:y.schemaName,tableName:y.name,itemName:null,objectType:"Table"})}),k},B.prototype.deleteModelItem=function(H,w){return(0,u.mG)(this,void 0,void 0,function(){var k,U,q,z,Y,ie,Q,te,K,L;return(0,u.Jh)(this,function(A){switch(A.label){case 0:if(_.isEmpty(H))return[2];for(k=this.dataModelService.getClientDataModel(),U=[],q=0,z=H;q<z.length;q++){if(!(ie=(0,p.Mf)(k.dataModel,(Y=z[q]).objectType,Y.schema,Y.tableName,Y.itemName,Y.subItemName))||!ie.capabilities.canDelete)return[2];U.push(ie)}return w||this.hasUserOptedOutOfConfirmation(U)?[3,2]:[4,this.confirmDeleteObjects(k.dataModel,U,H)];case 1:if(!A.sent())return[2];A.label=2;case 2:return Q=U.filter(function(re){return(0,p.wb)(re)}),te=f.getQueryToDependents(k,Q),[4,f.showConfirmDialogToDeleteTableWithDependents(Q,te,this.localizationService,this.dialogService)];case 3:return A.sent()?(K=f.reorderItemsToMinimizeDependencies(U,Q,te,this.localizationService),L=K.map(function(re){return f.createDeleteSchemaChange(re)}),L?.length>0?(this.telemetryService.logApplyChanges([l.DeleteModelItem]),[4,this.modelAuthoring.apply({changes:L})]):[3,5]):[2];case 4:A.sent(),A.label=5;case 5:return[2]}})})},B.prototype.hasUserOptedOutOfConfirmation=function(H){return!(!this.viewScopedUserSettingsService||!this.everyItemIsRelationship(H)||!this.viewScopedUserSettingsService.get(n))},B.prototype.confirmDeleteObjects=function(H,w,k){return(0,u.mG)(this,void 0,void 0,function(){var U,q,Y;return(0,u.Jh)(this,function(ie){switch(ie.label){case 0:if(0===w.length)return[2,!1];if(1===w.length){if("CalculationItem"===w[0].objectType)return[2,!0];if((U=(0,p.Lc)(H,k[0].schema,k[0].tableName,k[0].itemName))&&(0,p.e_)(U))return[2,!0]}return q=this.shouldIncludeDontAskAgainCheckbox(w)?this.localizationService.get("Generic_DontShowThisAgain"):void 0,[4,m.Z.buildOKCancelDialog({title:f.getDeleteComfirmationTitle(w,this.localizationService),message:f.getDeleteConfirmationText(w,this.localizationService),doNotShowAgain:q},"deleteConfirmationDialog",this.dialogService,this.localizationService,f.getDeleteConfirmationOkButtonText(w,this.localizationService))];case 1:return[4,ie.sent().afterClosed().toPromise()];case 2:return 5===(Y=ie.sent())?(this.handleDontAskAgainCheckbox(w),[2,!1]):2===Y||3===Y?[2,!1]:4===Y?(this.handleDontAskAgainCheckbox(w),[2,!0]):[2,1===Y]}})})},B.prototype.shouldIncludeDontAskAgainCheckbox=function(H){return!!this.viewScopedUserSettingsService&&!!this.everyItemIsRelationship(H)},B.prototype.handleDontAskAgainCheckbox=function(H){this.viewScopedUserSettingsService&&this.everyItemIsRelationship(H)&&this.viewScopedUserSettingsService.set(n,!0)},B.prototype.everyItemIsRelationship=function(H){return H.every(function(w){return"Relationship"===w.objectType})},B.\u0275fac=function(w){return new(w||B)(c.\u0275\u0275inject(C.S),c.\u0275\u0275inject(e.n),c.\u0275\u0275inject(se.x),c.\u0275\u0275inject(j.o),c.\u0275\u0275inject(ee.L),c.\u0275\u0275inject(b,8))},B.\u0275prov=c.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac}),B}()},34145:function(ae,P,i){i.d(P,{q:function(){return e}});var e=new(i(50423).InjectionToken)("ModelService")},9738:function(ae,P,i){i.d(P,{$x:function(){return b},W6:function(){return C},fc:function(){return c}});var u=i(50423),e=i(30794),C=new u.InjectionToken("ModelingSelectionService"),c=new u.InjectionToken("ModelingCheckingService"),b=function(){function T(){this.notifcationsuspended=!1,this.selectedItems=new Set,this.selectionChanged=new e.xQ}return T.prototype.suspendNotification=function(){this.notifcationsuspended=!0},T.prototype.resumeNotification=function(){this.notifcationsuspended=!1,this.notifySelectionChanged()},T.prototype.select=function(r,n){this.selectAll([r],n)},T.prototype.deselect=function(r){this.selectedItems.delete(r),this.notifySelectionChanged()},T.prototype.selectAll=function(r,n){n&&this.selectedItems.clear();for(var l=0,p=r;l<p.length;l++)this.selectedItems.add(p[l]);this.notifySelectionChanged()},T.prototype.clear=function(){this.selectedItems.clear(),this.notifySelectionChanged()},T.prototype.isSelected=function(r){return this.selectedItems.has(r)},Object.defineProperty(T.prototype,"selection",{get:function(){return Array.from(this.selectedItems)},enumerable:!1,configurable:!0}),T.prototype.notifySelectionChanged=function(){this.notifcationsuspended||this.selectionChanged.next(this.selection)},T.\u0275prov=u.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac=function(n){return new(n||T)}}),T}()},49346:function(ae,P,i){i.d(P,{TM:function(){return s},Yk:function(){return b},Yt:function(){return r},g4:function(){return l}});var u=i(41114),e="ClientSystemErrorBase",c=(u.cx[e]=(0,u.b1)(e),"PBIModelingCommonApplyChange"),b=u.cx[c]=(0,u.b1)(c),T="PBIModelingCommonDataModelUpdated",r=u.cx[T]=(0,u.b1)(T),n="PBIExecuteDataQueryCacheEventName",l=u.cx[n]=(0,u.b1)(n),p="PBISortByColumnDataQueryValidationEventName",s=u.cx[p]=(0,u.b1)(p)},66339:function(ae,P,i){i.d(P,{L:function(){return r}});var u=i(34145),e=i(49346),C=i(68082),c=i(46544),b=i(34763),T=i(50423),r=function(){function n(l,p,s){var v,m,d=this;this.dataModelService=l,this.modelService=p,this.telemetryService=s,this.subscriptions=new b.w,this.telemetryService&&this.modelService&&this.dataModelService&&(this.subscriptions.add(null===(v=this.dataModelService.modelChanged$)||void 0===v?void 0:v.subscribe(function(){d.logModelUpdated()})),this.subscriptions.add(null===(m=this.dataModelService.modelLoaded$)||void 0===m?void 0:m.subscribe(function(){d.logModelUpdated()})))}return n.prototype.initialize=function(){},n.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},n.prototype.logModelUpdated=function(){var l,p,s=this.dataModelService.getDataModel();this.telemetryService.root&&this.telemetryService.logEvent(e.Yt,{modelVersion:this.dataModelService.version,tables:null===(l=s?.tables)||void 0===l?void 0:l.length,relationships:null===(p=s?.relationships)||void 0===p?void 0:p.length})},n.prototype.logApplyChanges=function(l){var p,s;this.telemetryService.root&&this.telemetryService.logEvent(e.Yk,{change:l.join(", "),modelVersion:null===(s=null===(p=this.modelService)||void 0===p?void 0:p.model)||void 0===s?void 0:s.version})},n.\u0275fac=function(p){return new(p||n)(T.\u0275\u0275inject(C.n,8),T.\u0275\u0275inject(u.q,8),T.\u0275\u0275inject(c.y0,8))},n.\u0275prov=T.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n}()},55375:function(ae,P,i){i.d(P,{Z:function(){return e}});var u=i(81337),e=function(){function C(){}return C.buildOKCancelDialog=function(c,b,T,r,n,l){return void 0===n&&(n=r.get("Yes")),void 0===l&&(l=r.get("Cancel_ButtonText")),c=(0,u.pi)((0,u.pi)({},c),{okButtonText:n,cancelButtonText:l}),T.openHostDialog({dialogName:b,componentName:"SimpleConfirmationDialogComponent",bindings:c,config:{width:"500px",panelClass:["mat-dialog-content-nonextra-space"],ariaDescribedBy:"simple-dialog-content-id"}})},C.buildOKCancelDialogWithList=function(c,b,T,r,n,l){var p=b.join(" ");return this.buildOKCancelDialog({title:c,message:void 0,additionalMessages:[[p,{segmentStr:"",lineBreak:!0},{segmentStr:"",lineBreak:!0},r]]},T,n,l)},C.buildCancelDialog=function(c,b,T,r,n,l,p,s){var d={dialogName:T,componentName:"SimpleDialogComponent",bindings:{titleIcon:p,title:c,message:b,okButtonText:l||n.get("Close")},config:(0,u.pi)({width:"500px",panelClass:["mat-dialog-content-nonextra-space","legacy-dialog"],ariaDescribedBy:"simple-dialog-content-id"},s)};return r.openHostDialog(d)},C}()},7779:function(ae,P,i){i.d(P,{r:function(){return T}});var u=i(23983),e=i(29834),C=i(93215),c=i(8538),b=i(34145),T=[u.eE,e.c,C.b,c.h,{provide:b.q,useExisting:C.b}]},93215:function(ae,P,i){i.d(P,{b:function(){return p}});var u=i(81337),e=i(32518),C=i(8590),c=i(35510),b=i(50423),T=i(11494),r=i(83008),n=i(26898),l=i(65181),p=function(){function s(d,v,m,f){var E=this;this.conceptualSchemaProxy=v,this.dataSourcesService=m,this.localizationService=f,this.modelUpdates=new c.X({schema:void 0,model:void 0,appliedChanges:void 0}),this.subscriptionManager=d.createChannelSubscriptionManager(),this.subscriptionManager.subscribe(C.CCe,function(se,j){return E.update(j.result.changes)})}return s.prototype.update=function(d,v,m){return void 0===v&&(v=!0),void 0===m&&(m=!1),(0,u.mG)(this,void 0,void 0,function(){var f,E;return(0,u.Jh)(this,function(j){switch(j.label){case 0:return this.dataSourcesService.get()?(v||this.conceptualSchemaProxy.clearCache(),[4,this.conceptualSchemaProxy.get(this.dataSourcesService.get())]):[3,2];case 1:(f=j.sent())&&(E=new e.O(this.localizationService).createModel(f,m)),j.label=2;case 2:return this.modelUpdates.next({schema:f,model:E,appliedChanges:d}),[2]}})})},Object.defineProperty(s.prototype,"modelChange$",{get:function(){return this.modelUpdates.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"model",{get:function(){return this.modelUpdates.value.model},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"schema",{get:function(){return this.modelUpdates.value.schema},enumerable:!1,configurable:!0}),s.\u0275fac=function(v){return new(v||s)(b.\u0275\u0275inject(T.J),b.\u0275\u0275inject(n.i),b.\u0275\u0275inject(r.D),b.\u0275\u0275inject(l.o))},s.\u0275prov=b.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}()},8538:function(ae,P,i){i.d(P,{h:function(){return v}});var u=i(70863);function e(m){return{schema:m.schemaName,entity:(0,u.wb)(m)?m.name:(0,u.Om)(m)?m.table.name:(0,u.ez)(m)?m.hierarchy.table.name:void 0,hierarchy:(0,u.y3)(m)?m.name:(0,u.ez)(m)?m.hierarchy.name:void 0,hierarchyLevel:(0,u.ez)(m)?m.name:void 0,property:(0,u.wb)(m)||(0,u.y3)(m)||(0,u.ez)(m)||(0,u.Ov)(m)?void 0:m.name}}var b=i(8590),T=i(62458),r=i(9738),n=i(34763),l=i(50423),p=i(11494),s=i(39833),d=i(93215),v=function(){function m(f,E,se,j){this.schemaItemActivationService=E,this.modelService=se,this.modelingSelectionService=j,this.subscription=new n.w,this.subscriptionManager=f.createChannelSubscriptionManager()}return m.prototype.initialize=function(){var f=this;this.subscriptionManager.subscribe(b.$Bd,function(){return f.onSchemaItemActivationChanged()}),this.subscription.add(this.modelingSelectionService.selectionChanged.subscribe(function(E){return f.onSelectionChanged(E)}))},m.prototype.onSelectionChanged=function(f){if(0===f.length)this.schemaItemActivationService.clearActiveItem();else{var E=f[f.length-1];f.length>1&&this.modelingSelectionService.select(E,!0),this.schemaItemActivationService.setActiveItem(e(E))}},m.prototype.onSchemaItemActivationChanged=function(){if(!function(m,f){if(!f&&0===m.length)return!0;if(1===m.length&&f){var E=e(m[0]);return f.schema===E.schema&&f.entity===E.entity&&f.property===E.property&&f.hierarchy===E.hierarchy&&f.hierarchyLevel===E.hierarchyLevel}return!1}(this.modelingSelectionService.selection,this.schemaItemActivationService.getActiveItem())){var f=this.schemaItemActivationService.getActiveItem();if(f){var E=function(m,f){return f.hierarchyLevel?(0,u.xu)(m,f.schema,f.entity,f.hierarchy,f.hierarchyLevel):f.hierarchy?(0,u.ZG)(m,f.schema,f.entity,f.hierarchy):f.property?(0,u.Gz)(m,f.schema,f.entity,f.property)||(0,u.yo)(m,f.schema,f.entity,f.property):(0,u.AG)(m,f.entity)}(this.modelService.model,f);E?this.modelingSelectionService.select(E,!0):T.fF.assert(function(){return!!E},"onSchemaItemActivationChanged item not found in model")}else this.modelingSelectionService.clear()}},m.prototype.ngOnDestroy=function(){this.subscriptionManager.unsubscribeAll(),this.subscription.unsubscribe()},m.\u0275fac=function(E){return new(E||m)(l.\u0275\u0275inject(p.J),l.\u0275\u0275inject(s.WK),l.\u0275\u0275inject(d.b),l.\u0275\u0275inject(r.W6))},m.\u0275prov=l.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac}),m}()},65005:function(ae,P,i){i.d(P,{l:function(){return te}});var u=i(81337),e=i(50423),C=i(48787),c=i(30794),b=i(12179),T=[],r=i(77476),n=i(68070),l=i(89237);function p(I,K){1&I&&e.\u0275\u0275element(0,"div",7)}function s(I,K){1&I&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275element(1,"div",9)(2,"div",10),e.\u0275\u0275elementEnd())}function d(I,K){1&I&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275element(1,"div",12),e.\u0275\u0275elementStart(2,"div",13),e.\u0275\u0275element(3,"div",14)(4,"div",15),e.\u0275\u0275elementEnd()())}function v(I,K){if(1&I&&(e.\u0275\u0275elementContainerStart(0,3),e.\u0275\u0275template(1,p,1,0,"div",4),e.\u0275\u0275template(2,s,3,0,"div",5),e.\u0275\u0275template(3,d,5,0,"div",6),e.\u0275\u0275elementContainerEnd()),2&I){var L=K.$implicit,A=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngSwitch",L),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",A.largeBarType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",A.multipleBarType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",A.multipleSmallLargeType)}}function m(I,K){if(1&I&&(e.\u0275\u0275elementStart(0,"div",1),e.\u0275\u0275template(1,v,4,4,"ng-container",2),e.\u0275\u0275elementEnd()),2&I){var L=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",L.barsStyle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",L.barsProperties.bars)}}var ne=function(){function I(){this.largeBarType=0,this.multipleBarType=1,this.multipleSmallLargeType=2}return I.prototype.ngOnChanges=function(){this.barsProperties&&(this.barsStyle={height:"".concat((this.barsProperties.height+8)*this.barsProperties.bars.length,"px")})},I.\u0275fac=function(L){return new(L||I)},I.\u0275cmp=e.\u0275\u0275defineComponent({type:I,selectors:[["shimmering-bars"]],inputs:{barsProperties:"barsProperties"},features:[e.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[["class","bars",3,"ngStyle",4,"ngIf"],[1,"bars",3,"ngStyle"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","largerLoadingBar animate",4,"ngSwitchCase"],["class","multipleBars",4,"ngSwitchCase"],["class","multipleSmallLarge",4,"ngSwitchCase"],[1,"largerLoadingBar","animate"],[1,"multipleBars"],[1,"miniLoadingBar","animate"],[1,"smallerLoadingBar","animate"],[1,"multipleSmallLarge"],[1,"shimmerBox","animate"],[1,"smallLargeBarContainer"],[1,"upperLoadingBar","animate"],[1,"lowerLoadingBar","animate"]],template:function(L,A){1&L&&e.\u0275\u0275template(0,m,2,2,"div",0),2&L&&e.\u0275\u0275property("ngIf",A.barsProperties)},dependencies:[r.NgForOf,r.NgIf,r.NgStyle,r.NgSwitch,r.NgSwitchCase],styles:['[_nghost-%COMP%]{--shimmer-background-color: var(--gray-20);--shimmer-animate1: var(--gray-30);--shimmer-animate2: var(--gray-50)}[data-legacy-theming=false]   [_nghost-%COMP%]{--shimmer-background-color: var(--colorNeutralBackground3);--shimmer-animate1: var(--colorNeutralBackground3Hover);--shimmer-animate2: var(--colorNeutralBackground3Pressed)}.bars[_ngcontent-%COMP%]{display:flex;flex-direction:column}.largerLoadingBar[_ngcontent-%COMP%]{border-radius:2px;flex-grow:1;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%]{margin:4px 8px}html[dir="rtl"][_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%]{margin:4px 8px}.multipleBars[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}html:not([dir="rtl"])[_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%]{margin:4px 8px}html[dir="rtl"][_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%]{margin:4px 8px}.miniLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:60%;width:10%;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%]{margin-right:4px}html[dir="rtl"][_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%]{margin-left:4px}.smallerLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:80%;width:100%;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%]{margin-left:4px}html[dir="rtl"][_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%]{margin-right:4px}.multipleSmallLarge[_ngcontent-%COMP%]{display:flex;flex-grow:1;padding:10px 9px}html:not([dir="rtl"])[_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%]{margin:4px 8px}html[dir="rtl"][_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%]{margin:4px 8px}.upperLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:65%;width:49%;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%]{margin:0 4px 11px 0}html[dir="rtl"][_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%]{margin:0 0 11px 4px}.lowerLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:65%;width:100%;background:var(--shimmer-background-color)}.shimmerBox[_ngcontent-%COMP%]{background:var(--shimmer-background-color);border-radius:2px;height:32px;width:32px}.smallLargeBarContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:167px}html:not([dir="rtl"])[_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%]{margin:4px 0 2.42px 13px}html[dir="rtl"][_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%]{margin:4px 13px 2.42px 0}.animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 5s infinite linear;background:linear-gradient(270deg,var(--shimmer-animate1) 0%,var(--shimmer-animate2) 50%,var(--shimmer-animate1) 100%);background-size:250% 100%}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:250% 0}to{background-position:-250% 0}}'],changeDetection:0}),I}(),X=i(85102),B=["pbiTree"];function H(I,K){if(1&I){var L=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",5),e.\u0275\u0275listener("value",function(le){e.\u0275\u0275restoreView(L);var de=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(de.search$.next(le))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()}if(2&I){var A=e.\u0275\u0275nextContext();e.\u0275\u0275property("currentInputValue",A.searchText||"")("placeholderText",e.\u0275\u0275pipeBind1(2,8,"SearchBox_Text"))("fluentTheme",!0)("compact",!0)("fullWidth",!0),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(1,6,"SearchBox_Text"))}}function w(I,K){if(1&I){var L=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pbi-search-box")(1,"input",6),e.\u0275\u0275listener("input",function(le){e.\u0275\u0275restoreView(L);var de=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(de.search$.next(le.target.value))}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}if(2&I){var A=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("value",A.searchText||"")("placeholder",e.\u0275\u0275pipeBind1(3,5,"SearchBox_Text")),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(2,3,"SearchBox_Text"))}}function k(I,K){if(1&I&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"shimmering-bars",7),e.\u0275\u0275elementContainerEnd()),2&I){var L=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("barsProperties",L.shimmeringBars)}}function U(I,K){if(1&I){var L=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pbi-tree",12,13),e.\u0275\u0275listener("onNodeClick",function(le){e.\u0275\u0275restoreView(L);var de=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(de.onNodeClick.emit(le))})("onNodeCheck",function(le){e.\u0275\u0275restoreView(L);var de=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(de.onNodeCheck.emit(le))})("onNodeExpansionToggle",function(le){e.\u0275\u0275restoreView(L);var de=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(de.onNodeExpansionToggle.emit(le))})("onFirstRender",function(){e.\u0275\u0275restoreView(L);var le=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(le.onFirstRender())}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()}if(2&I){var A=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("tree",A.fieldListTree)("search",e.\u0275\u0275pipeBind1(2,5,A.search$))("hasHighlights",A.hasHighlights)("checkMode",A.checkMode)("options",A._options)}}function q(I,K){1&I&&e.\u0275\u0275projection(0,2)}function z(I,K){if(1&I&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275element(1,"div",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,U,3,7,"pbi-tree",10),e.\u0275\u0275template(3,q,1,0,"ng-template",null,11,e.\u0275\u0275templateRefExtractor)),2&I){var L=e.\u0275\u0275reference(4),A=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",A.fieldListTree)("ngIfElse",L)}}var Y=[[["",8,"pbi-field-list-perspective-header"]],[["",8,"pbi-field-list-header"]],[["",8,"pbi-field-list-watermark"]]],ie=[".pbi-field-list-perspective-header",".pbi-field-list-header",".pbi-field-list-watermark"],Q={height:24,bars:[0,1,1,0,0]},te=function(){function I(){this.hasHighlights=!1,this.loading=!1,this.shimmeringBars=Q,this.defaultOptions={},this._options=this.defaultOptions,this.onNodeExpansionToggle=new e.EventEmitter,this.onNodeClick=new e.EventEmitter,this.onNodeCheck=new e.EventEmitter,this.onFirstRenderComplete=new e.EventEmitter,this.handleFieldListTreeHeightDiff=new e.EventEmitter,this.search$=new c.xQ}return Object.defineProperty(I.prototype,"options",{set:function(L){this._options=(0,u.pi)((0,u.pi)({},this.defaultOptions),L)},enumerable:!1,configurable:!0}),I.prototype.ngOnInit=function(){var K=this;this.focusSearchBoxOnFirstRenderComplete&&this.onFirstRenderComplete.pipe((0,C.q)(1)).subscribe(function(){return K.focusSearchBox()})},I.prototype.onFirstRender=function(){var K=this.getFieldListTreeHeightDiff();this.handleFieldListTreeHeightDiff.emit(K),this.scrollSelectedItemIntoViewOnInit&&this.pbiTree.scrollToFirstSelectedNode(),this.onFirstRenderComplete.emit()},I.prototype.focusSearchBox=function(){$(".field-list-search-container input").trigger("focus")},I.prototype.getFieldListTreeHeightDiff=function(){return this.pbiTree.getTreeHeight()+2-this.pbiTreeElementRef.nativeElement.getBoundingClientRect().height},I.\u0275fac=function(L){return new(L||I)},I.\u0275cmp=e.\u0275\u0275defineComponent({type:I,selectors:[["pbi-field-list"]],viewQuery:function(L,A){if(1&L&&(e.\u0275\u0275viewQuery(b.u,5),e.\u0275\u0275viewQuery(B,5,e.ElementRef)),2&L){var re=void 0;e.\u0275\u0275queryRefresh(re=e.\u0275\u0275loadQuery())&&(A.pbiTree=re.first),e.\u0275\u0275queryRefresh(re=e.\u0275\u0275loadQuery())&&(A.pbiTreeElementRef=re.first)}},inputs:{fieldListTree:"fieldListTree",scrollSelectedItemIntoViewOnInit:"scrollSelectedItemIntoViewOnInit",checkMode:"checkMode",hasHighlights:"hasHighlights",loading:"loading",searchText:"searchText",focusSearchBoxOnFirstRenderComplete:"focusSearchBoxOnFirstRenderComplete",fluent:"fluent",options:"options"},outputs:{onNodeExpansionToggle:"onNodeExpansionToggle",onNodeClick:"onNodeClick",onNodeCheck:"onNodeCheck",onFirstRenderComplete:"onFirstRenderComplete",handleFieldListTreeHeightDiff:"handleFieldListTreeHeightDiff"},features:[e.\u0275\u0275ProvidersFeature(T)],ngContentSelectors:ie,decls:8,vars:4,consts:[["data-tutorial-target","search-box",1,"field-list-search-container"],["data-testid","search-bar-input",3,"currentInputValue","placeholderText","fluentTheme","compact","fullWidth","value",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["loaded",""],["data-testid","search-bar-input",3,"currentInputValue","placeholderText","fluentTheme","compact","fullWidth","value"],["pbiSearchInput","","data-testid","search-bar-input",1,"pbi-focus-outline",3,"value","placeholder","input"],[3,"barsProperties"],[1,"tutorial-target-container"],["data-tutorial-target","data-tree"],["data-testid","data-tree",3,"tree","search","hasHighlights","checkMode","options","onNodeClick","onNodeCheck","onNodeExpansionToggle","onFirstRender",4,"ngIf","ngIfElse"],["watermark",""],["data-testid","data-tree",3,"tree","search","hasHighlights","checkMode","options","onNodeClick","onNodeCheck","onNodeExpansionToggle","onFirstRender"],["pbiTree",""]],template:function(L,A){if(1&L&&(e.\u0275\u0275projectionDef(Y),e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,H,3,10,"tri-search-box",1),e.\u0275\u0275template(2,w,4,7,"pbi-search-box",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275projection(3),e.\u0275\u0275projection(4,1),e.\u0275\u0275template(5,k,2,1,"ng-container",3),e.\u0275\u0275template(6,z,5,2,"ng-template",null,4,e.\u0275\u0275templateRefExtractor)),2&L){var re=e.\u0275\u0275reference(7);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",A.fluent),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!A.fluent),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",A.loading)("ngIfElse",re)}},dependencies:[r.NgIf,n.a,n.p,l.U,b.u,ne,r.AsyncPipe,X.F],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}pbi-tree[_ngcontent-%COMP%]{margin-top:9px;height:100%;display:block;overflow:hidden}.tutorial-target-container[_ngcontent-%COMP%]{position:relative;visibility:hidden;height:0;width:0}.tutorial-target-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:20px;visibility:hidden;height:0;width:0}"],changeDetection:0}),I}()},68070:function(ae,P,i){i.d(P,{a:function(){return se},p:function(){return E}});var u=i(81337),e=i(50423),C=i(73221),c=i(35510),b=i(59017),T=i(63057),r=i(59787),n=i(6754),l=i(14172),p=i(77526),s=i(77476),d=function(){return{tooltipLocalizeTitle:"Clear",tooltipShowOnFocus:!0}};function v(j,ee){if(1&j){var ne=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",2),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(ne);var B=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(B.onCancelButtonClick())}),e.\u0275\u0275elementEnd()}2&j&&e.\u0275\u0275property("pbi-tooltip",e.\u0275\u0275pureFunction0(1,d))}var m=[[["input"]]],f=["input"],E=function(){function j(){}return j.\u0275fac=function(ne){return new(ne||j)},j.\u0275dir=e.\u0275\u0275defineDirective({type:j,selectors:[["","pbiSearchInput",""]]}),j}(),se=function(j){function ee(ne){var X=j.call(this)||this;return X.changeDetectorRef=ne,X.searchCleared=new e.EventEmitter,X.onSearchTextChanged=new e.EventEmitter,X.emptyValue$=new c.X(void 0),X.hasInput=!1,X}return(0,u.ZT)(ee,j),ee.prototype.onCancelButtonClick=function(){this.clearSearchText(),this.input.nativeElement.focus()},ee.prototype.clearSearchText=function(){this.input.nativeElement.value="",this.hasInput=!1,this.changeDetectorRef.markForCheck(),this.emptyValue$.next(),this.searchCleared.emit()},ee.prototype.ngAfterViewInit=function(){var ne=this;this.lifecycleSubscriptions.add((0,b.aj)([(0,T.T)((0,r.R)(this.input.nativeElement,"keyup"),(0,r.R)(this.input.nativeElement,"keydown")).pipe((0,n.b)(250)),this.emptyValue$]).pipe((0,l.U)(function(){return ne.input.nativeElement.value}),(0,p.x)()).subscribe(function(X){return ne.onSearchTextChanged.emit(X)})),setTimeout(function(){return ne.onInputChanged(ne.input.nativeElement.value)},0)},ee.prototype.onInputChanged=function(ne){this.hasInput!==!!ne&&(this.hasInput=!!ne,this.changeDetectorRef.markForCheck())},ee.\u0275fac=function(X){return new(X||ee)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},ee.\u0275cmp=e.\u0275\u0275defineComponent({type:ee,selectors:[["pbi-search-box"]],contentQueries:function(X,B,H){var w;(1&X&&e.\u0275\u0275contentQuery(H,E,5,e.ElementRef),2&X)&&(e.\u0275\u0275queryRefresh(w=e.\u0275\u0275loadQuery())&&(B.input=w.first))},outputs:{searchCleared:"searchCleared",onSearchTextChanged:"onSearchTextChanged"},features:[e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:f,decls:3,vars:1,consts:[[1,"pbi-search-box",3,"input"],["class","clearIcon pbi-borderless-button glyphicon pbi-glyph-clear glyph-mini searchbox-clear-icon",3,"pbi-tooltip","click",4,"ngIf"],[1,"clearIcon","pbi-borderless-button","glyphicon","pbi-glyph-clear","glyph-mini","searchbox-clear-icon",3,"pbi-tooltip","click"]],template:function(X,B){1&X&&(e.\u0275\u0275projectionDef(m),e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275listener("input",function(w){return B.onInputChanged(w.target.value)}),e.\u0275\u0275projection(1),e.\u0275\u0275template(2,v,1,2,"button",1),e.\u0275\u0275elementEnd()),2&X&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",B.hasInput))},dependencies:[s.NgIf],styles:['.pbi-search-box{--searchBox-colorEditLabelBorder: var(--gray-120);--searchBox-colorEditLabelBorderHover: var(--gray-160);--searchBox-colorEditLabelForeground: var(--gray-130);--searchBox-colorEditLabelPlaceholderForeground: var(--gray-140);--searchBox-colorEditLabelBackground: auto;--searchBox-colorEditLabelSelectedForeground: var(--text-primary-content-color);--searchBox-colorEditLabelSelectedBackground: var(--fluent-theme-primary-color)}[data-legacy-theming=false] .pbi-search-box{--searchBox-colorEditLabelBorder: var(--colorNeutralStroke1);--searchBox-colorEditLabelBorderHover: var(--colorNeutralStroke1);--searchBox-colorEditLabelForeground: var(--colorNeutralForeground1);--searchBox-colorEditLabelPlaceholderForeground: auto;--searchBox-colorEditLabelBackground: var(--colorNeutralBackground1);--searchBox-colorEditLabelSelectedForeground: var(--colorNeutralForegroundOnBrand);--searchBox-colorEditLabelSelectedBackground: var(--colorBrandBackground)}.pbi-search-box{display:block;width:100%;position:relative}.pbi-search-box:before{content:"\\e721"}.pbi-search-box:before{color:var(--searchBox-colorEditLabelForeground);display:inline-block;font-family:PowrMDL2;font-size:14px;position:absolute;top:6px;left:8px}.pbi-search-box input{padding:3px 28px;border-radius:2px;border:1px solid var(--searchBox-colorEditLabelBorder);color:var(--searchBox-colorEditLabelForeground);background-color:var(--searchBox-colorEditLabelBackground);outline:none;box-sizing:border-box;font-size:14px;width:100%}.pbi-search-box input:hover,.pbi-search-box input:focus{border-color:var(--searchBox-colorEditLabelBorderHover)}.pbi-search-box input::placeholder{color:var(--searchBox-colorEditLabelPlaceholderForeground)}.pbi-search-box input::selection{background:var(--searchBox-colorEditLabelSelectedBackground);color:var(--searchBox-colorEditLabelSelectedForeground)}.pbi-search-box .pbi-glyph-clear{background-color:transparent}.pbi-search-box .searchbox-clear-icon{color:var(--searchBox-colorEditLabelForeground);position:absolute;right:8px;top:7px;border:0px;padding:0}\n'],encapsulation:2,changeDetection:0}),ee}(C.w)}}]);