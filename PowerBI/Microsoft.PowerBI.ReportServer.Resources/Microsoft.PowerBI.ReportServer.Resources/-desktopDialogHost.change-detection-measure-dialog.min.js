"use strict";(self.webpackChunkdesktopDialogHost=self.webpackChunkdesktopDialogHost||[]).push([["change-detection-measure-dialog"],{42149:function(Pe,re,p){p.r(re),p.d(re,{ChangeDetectionMeasureDialogModule:function(){return h}});var H,t=p(81337),S=p(32293),e=function(o){return o[o.New=0]="New",o[o.Existing=1]="Existing",o}({}),F=function(o){return o.Count="Count",o.DistinctCount="DistinctCount",o.Min="Min",o.Max="Max",o.Sum="Sum",o}({}),R=function(o){return o.Seconds="S",o.Minutes="M",o.Hours="H",o}({}),B=p(27531),A=p(87864),ee=p(83839),G=p(75570),N=p(2911),M=function(a){var l=a.get("measureType").value===e.New,m=a.get("calculationType").value&&a.get("calculationType").value.length>0;return l&&!m?{calculationNotSet:!0}:null},j=function(a){var l=a.value,m=l.time,f=l.timeUnit;if(!m||!f)return null;var y=[{value:m,unit:f,isTimeUnit:(0,G.mb)(f)}],T=(0,N.Gk)(y),E=(0,N.A9)(T);if(E<1e3||E>1728e5){var q={refreshIntervalInvalid:!0};return a.get("time").setErrors(q),q}return a.get("time").setErrors(null),null},w=p(17174),Q=p(68082),W=p(62458),te=p(75334),K=p(98665),pe=p(35510),n=p(50423),J=p(26898),ue=p(83008),de=p(40823),oe=p(85564),ae=p(65181),ne=((H={})[F.Count]=function(o,a){return"COUNT(".concat(o,"[").concat(a,"])")},H[F.DistinctCount]=function(o,a){return"DISTINCTCOUNT(".concat(o,"[").concat(a,"])")},H[F.Min]=function(o,a){return"MIN(".concat(o,"[").concat(a,"])")},H[F.Max]=function(o,a){return"MAX(".concat(o,"[").concat(a,"])")},H[F.Sum]=function(o,a){return"SUM(".concat(o,"[").concat(a,"])")},H),Z={measureType:e.New,calculationType:F.Max,measure:[],field:[],id:void 0,entity:void 0,time:5,timeUnit:R.Minutes},Y=function(a){return a?function(l){return l.entity&&l.entity.name===a.entityName&&l.contract&&l.contract.name===a.measureName}:void 0},fe=function(a){return JSON.stringify({entityName:a.entity.name,measureName:a.name})},P=function(a){return a===e.Existing?function(l){return!(l.children&&l.children.length)&&1===l.kind}:function(l){return!(l.children&&l.children.length)&&1!==l.kind}},L=function(){return!1};function k(o){switch(o){case F.Count:return"Aggregate_CountNonNull";case F.DistinctCount:return"Aggregate_Count";case F.Min:return"Aggregate_Min";case F.Max:return"Aggregate_Max";case F.Sum:return"Aggregate_Sum"}}var I=function(){function o(a,l,m,f,y,T,E){this.conceptualSchemaProxy=a,this.dataModelService=l,this.dataSourcesService=m,this.fieldListService=f,this.localizationService=y,this.telemetryService=T,this.dataSourcesSerializer=E,this.fieldListTreeSubject$=new pe.X(void 0)}return o.prototype.initDialog=function(a,l){return(0,t.__awaiter)(this,void 0,void 0,function(){var m,f,y,T,E,q,me,ye,ge,_e;return(0,t.__generator)(this,function(Me){switch(Me.label){case 0:return m=this.dataSourcesSerializer.deserializeDataSources(a),this.dataSourcesService.set(m),this.conceptualSchemaProxy.clearCache(),[4,this.conceptualSchemaProxy.get(m)];case 1:return f=Me.sent(),y=f.schemas.find(function(se){return se.capabilities.canEditChangeDetectionMeasure}),T=y&&y.entities.find(function(se){return se.properties.find(function(De){return De.measure&&De.measure.changeDetectionMetadata})}),E=this.toChangeDetectionMeasureFormValue(y,l),this.changeDetectionMeasureFormGroup=this.toNewFormGroup(E),q=this,[4,this.fieldListService.getViewModel(m)];case 2:return q.fieldListViewModel=Me.sent(),l?me={entityName:l.source.entity,measureName:l.ref}:T&&(ye=T.properties.find(function(se){return se.measure&&se.measure.changeDetectionMetadata}).name,me={entityName:T.name,measureName:ye},this.existingChangeDetectionMeasure={entityName:T.name,measureName:ye}),this.fieldListTree=this.buildTree(me,E.measureType),(ge=this.findTreeNodeById(E.id))&&(_e=[{id:E.id,icon:ge.icon,label:ge.displayName}],E.measureType===e.New?(this.changeDetectionMeasureFormGroup.get("field").patchValue(_e),this.lastSelectedFieldTreeNode=ge):E.measureType===e.Existing&&(this.changeDetectionMeasureFormGroup.get("measure").patchValue(_e),this.lastSelectedMeasureTreeNode=ge)),[2]}})})},o.prototype.getForm=function(){return this.changeDetectionMeasureFormGroup},o.prototype.getFieldListTree=function(){return this.fieldListTreeSubject$},o.prototype.toggleMeasureType=function(a){var l=this.changeDetectionMeasureFormGroup.value;if(l.measureType!==a){var f=this.getSelectedMeasureMetadataFromId(a===e.New?l.field&&1===l.field.length&&l.field[0].id:l.measure&&1===l.measure.length&&l.measure[0].id);this.changeDetectionMeasureFormGroup.get("measureType").patchValue(a),this.changeDetectionMeasureFormGroup.get("entity").patchValue(f&&f.entityName),this.fieldListTree=this.buildTree(f,a),a===e.New&&this.lastSelectedFieldTreeNode?this.lastSelectedFieldTreeNode=this.findTreeNodeById(this.lastSelectedFieldTreeNode.id):a===e.Existing&&this.lastSelectedMeasureTreeNode&&(this.lastSelectedMeasureTreeNode=this.findTreeNodeById(this.lastSelectedMeasureTreeNode.id))}},o.prototype.updateMeasureOrFieldValue=function(a,l){var m=this.changeDetectionMeasureFormGroup.get("measureType").value;this.changeDetectionMeasureFormGroup.get("entity").patchValue(a),m===e.New?this.changeDetectionMeasureFormGroup.get("field").patchValue(l):m===e.Existing&&this.changeDetectionMeasureFormGroup.get("measure").patchValue(l)},o.prototype.toggleSelectedTreeNodeById=function(a){this.toggleSelectedTreeNode(this.findTreeNodeById(a))},o.prototype.toggleSelectedTreeNode=function(a){this.changeDetectionMeasureFormGroup.value.measureType===e.New?(this.lastSelectedFieldTreeNode&&(this.lastSelectedFieldTreeNode.selected=!1,this.lastSelectedFieldTreeNode.checked=!1),a&&(a.selected=!0,a.checked=!0),this.lastSelectedFieldTreeNode=a):(this.lastSelectedMeasureTreeNode&&(this.lastSelectedMeasureTreeNode.selected=!1,this.lastSelectedMeasureTreeNode.checked=!1),a&&(a.selected=!0,a.checked=!0),this.lastSelectedMeasureTreeNode=a)},o.prototype.getSerializedFieldId=function(a,l){return JSON.stringify({entityName:a,measureName:l})},o.prototype.getDialogResult=function(){var a=this.changeDetectionMeasureFormGroup.value,l=[{value:a.time,unit:a.timeUnit,isTimeUnit:(0,G.mb)(a.timeUnit)}],m=(0,N.Gk)(l),f=(0,N.FY)(m),y=(0,N.A9)(m);if(a.measureType===e.New){W.fF.assert(function(){return 1===a.field.length},"formValue field should have the length of 1");var T=JSON.parse("".concat(a.field[0].id)).measureName,E=this.generateNewMeasureName(T,a.entity,a.calculationType),q=this.generateExpressionForNewMeasure(a.entity,T,a.calculationType);return this.telemetryService.logEvent(A.$R,{dialogCloseAction:"Apply",calculationType:a.calculationType,refreshInterval:y,dialogInteractionType:"NewChangeDetectionMeasure"}),{isNew:!0,entityName:a.entity,measureName:E,expression:q,duration:f}}return W.fF.assert(function(){return 1===a.measure.length},"formValue measure should have the length of 1"),E=JSON.parse("".concat(a.measure[0].id)).measureName,this.telemetryService.logEvent(A.$R,{dialogCloseAction:"Apply",refreshInterval:y,dialogInteractionType:this.existingChangeDetectionMeasure&&this.existingChangeDetectionMeasure.entityName===a.entity&&this.existingChangeDetectionMeasure.measureName===E?"UpdateExistingChangeDetectionMeasure":"NewChangeDetectionMeasureFromExistingMeasure"}),{isNew:!1,entityName:a.entity,measureName:E,duration:f}},o.prototype.generateNewMeasureName=function(a,l,m){var f=this.localizationService.format("ChangeDetection_Expression",[this.localizationService.get(k(m)),a]);return te.cm.makeValidName(this.dataModelService.getDataModel(),this.localizationService,"Measure",l,f,null)},o.prototype.generateExpressionForNewMeasure=function(a,l,m){return ne[m]("'".concat(a.split("'").join("''"),"'"),l)},o.prototype.buildTree=function(a,l){var m=(0,ee.hF)(this.fieldListViewModel,{fieldSelectionPredicate:Y(a),fieldIdPredicate:fe,fieldCheckablePredicate:P(l),fieldDraggablePredicate:P(l),fieldHiddenPredicate:L});return this.fieldListTreeSubject$.next(m),m},o.prototype.toChangeDetectionMeasureFormValue=function(a,l){var m,f;if(l){var y=(m=this.getSelectedMeasureMetadata(l)).entityName,T=m.measureName;f=(0,t.__assign)((0,t.__assign)({},Z),{measureType:e.Existing,id:this.getSerializedFieldId(y,T),entity:y})}for(var E=0,q=a.entities;E<q.length;E++)for(var me=q[E],ye=0,ge=me.properties;ye<ge.length;ye++){var _e=ge[ye];if(_e.measure&&_e.measure.changeDetectionMetadata){var Me=(0,N.bW)(_e.measure.changeDetectionMetadata.refreshInterval),se=(0,N.ei)(Me),De=this.getSerializedFieldId(me.name,_e.name);return f?(0,t.__assign)((0,t.__assign)({},f),{time:f.id===De?se[0].value:Z.time,timeUnit:f.id===De?se[0].unit:Z.timeUnit}):(0,t.__assign)((0,t.__assign)({},Z),{measureType:e.Existing,id:De,entity:me.name,time:se[0].value,timeUnit:se[0].unit})}}return f||Z},o.prototype.toNewFormGroup=function(a){return new w.nJ({measureType:new w.p4(a.measureType,w.kI.required),calculationType:new w.p4(a.calculationType),measure:new w.p4(a.measure),field:new w.p4(a.field),id:new w.p4(a.id),entity:new w.p4(a.entity,w.kI.required),time:new w.p4(a.time,w.kI.compose([w.kI.required,w.kI.min(1)])),timeUnit:new w.p4(a.timeUnit,w.kI.required)},{validators:[M,j]})},o.prototype.findTreeNodeById=function(a){if(this.fieldListTree&&this.fieldListTree.nodes)for(var l=(0,t.__spreadArray)([],this.fieldListTree.nodes||[],!0);0!==l.length;){var m=l.pop();if(m.id&&m.id===a)return m;l.push.apply(l,m.children||[])}},o.prototype.getSelectedMeasureMetadata=function(a){return a&&{entityName:a.source.entity,measureName:a.ref}},o.prototype.getSelectedMeasureMetadataFromId=function(a){return a?JSON.parse("".concat(a)):void 0},o.\u0275fac=function(l){return new(l||o)(n.\u0275\u0275inject(J.i),n.\u0275\u0275inject(Q.n),n.\u0275\u0275inject(ue.D),n.\u0275\u0275inject(oe.x),n.\u0275\u0275inject(ae.o),n.\u0275\u0275inject(K.y0),n.\u0275\u0275inject(de._))},o.\u0275prov=n.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o}(),V=p(59725),v=p(37196),b=p(17653),u=p(9380),g=p(77476),C=p(59968),O=p(22844),X=p(50057),ie=p(57746),le=p(87650),ce=p(89847),be=p(30927),z=p(4722),xe=p(76492),Te=p(42189),we=p(9529),ke=p(68070),Ie=p(65005),Ee=p(85102),Re=function(){function o(){}return o.prototype.transform=function(a){return k(a)},o.\u0275fac=function(l){return new(l||o)},o.\u0275pipe=n.\u0275\u0275definePipe({name:"localizedCalculationName",type:o,pure:!0}),o}(),Le=["fieldList"],Se=["fieldDragDropPicker"],Fe=["measureDragDropPicker"];function Ae(o,a){if(1&o){var l=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"mat-radio-button",30),n.\u0275\u0275listener("change",function(){var T=n.\u0275\u0275restoreView(l).$implicit,E=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(E.handleMeasureTypeChange(T.value))})("click",function(){var T=n.\u0275\u0275restoreView(l).$implicit,E=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(E.handleMeasureTypeChange(T.value))}),n.\u0275\u0275element(1,"span",24),n.\u0275\u0275pipe(2,"titlecase"),n.\u0275\u0275elementEnd()}if(2&o){var m=a.$implicit;n.\u0275\u0275property("value",m.value),n.\u0275\u0275advance(1),n.\u0275\u0275property("localize",n.\u0275\u0275pipeBind1(2,2,m.name))}}function Be(o,a){if(1&o&&(n.\u0275\u0275elementStart(0,"pbi-dropdown-item",38),n.\u0275\u0275element(1,"span",24),n.\u0275\u0275pipe(2,"localizedCalculationName"),n.\u0275\u0275elementEnd()),2&o){var l=a.$implicit;n.\u0275\u0275property("value",l.value),n.\u0275\u0275advance(1),n.\u0275\u0275property("localize",n.\u0275\u0275pipeBind1(2,2,l.name))}}function Ne(o,a){if(1&o){var l=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275element(1,"mat-label",31),n.\u0275\u0275elementStart(2,"div",32)(3,"pbi-dropdown",33)(4,"pbi-dropdown-trigger"),n.\u0275\u0275element(5,"span",24),n.\u0275\u0275pipe(6,"localizedCalculationName"),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(7,Be,3,4,"pbi-dropdown-item",25),n.\u0275\u0275elementEnd()(),n.\u0275\u0275element(8,"mat-label",34),n.\u0275\u0275elementStart(9,"div",35)(10,"pbi-drag-drop-picker",36,37),n.\u0275\u0275listener("onChangeAdd",function(y){n.\u0275\u0275restoreView(l);var T=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(T.handleDragDropChangeAdd(y.data))})("onChangeReplace",function(y){n.\u0275\u0275restoreView(l);var T=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(T.handleDragDropChangeAdd(y.data))})("onChangeRemove",function(){n.\u0275\u0275restoreView(l);var y=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(y.handleDragDropChangeRemove())}),n.\u0275\u0275pipe(12,"localize"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementContainerEnd()}if(2&o){var m=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(5),n.\u0275\u0275property("localize",n.\u0275\u0275pipeBind1(6,4,m.getFormValue("calculationType"))),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",m.calculations),n.\u0275\u0275advance(3),n.\u0275\u0275property("dataFormat",m.dataTransferFormat)("placeholder",n.\u0275\u0275pipeBind1(12,6,"ChangeDetectionMeasure_ChooseFieldPlaceholder"))}}function Ve(o,a){if(1&o){var l=n.\u0275\u0275getCurrentView();n.\u0275\u0275element(0,"mat-label",39),n.\u0275\u0275elementStart(1,"div",35)(2,"pbi-drag-drop-picker",40,41),n.\u0275\u0275listener("onChangeAdd",function(y){n.\u0275\u0275restoreView(l);var T=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(T.handleDragDropChangeAdd(y.data))})("onChangeReplace",function(y){n.\u0275\u0275restoreView(l);var T=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(T.handleDragDropChangeAdd(y.data))})("onChangeRemove",function(){n.\u0275\u0275restoreView(l);var y=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(y.handleDragDropChangeRemove())}),n.\u0275\u0275pipe(4,"localize"),n.\u0275\u0275elementEnd()()}if(2&o){var m=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(2),n.\u0275\u0275property("dataFormat",m.dataTransferFormat)("placeholder",n.\u0275\u0275pipeBind1(4,2,"ChangeDetectionMeasure_ChooseMeasurePlaceholder"))}}function ze(o,a){if(1&o&&(n.\u0275\u0275elementStart(0,"pbi-dropdown-item",38),n.\u0275\u0275element(1,"span",24),n.\u0275\u0275pipe(2,"titlecase"),n.\u0275\u0275elementEnd()),2&o){var l=a.$implicit;n.\u0275\u0275property("value",l.value),n.\u0275\u0275advance(1),n.\u0275\u0275property("localize","TimeUnit_"+n.\u0275\u0275pipeBind1(2,2,l.name))}}function Ge(o,a){if(1&o){var l=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"pbi-field-list",43,44),n.\u0275\u0275listener("onNodeClick",function(T){n.\u0275\u0275restoreView(l);var E=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(E.handleNodeSelect(T))})("onNodeCheck",function(T){n.\u0275\u0275restoreView(l);var E=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(E.handleNodeSelect(T))}),n.\u0275\u0275elementEnd()}if(2&o){var m=a.ngIf,f=n.\u0275\u0275nextContext(3);n.\u0275\u0275property("fieldListTree",m)("checkMode",f.singleCheckMode)("scrollSelectedItemIntoViewOnInit",!0)}}function Ue(o,a){if(1&o&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,Ge,2,3,"pbi-field-list",42),n.\u0275\u0275pipe(2,"async"),n.\u0275\u0275elementContainerEnd()),2&o){var l=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",n.\u0275\u0275pipeBind1(2,1,l.fieldListTree$))}}function He(o,a){if(1&o){var l=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"pbi-tree",48),n.\u0275\u0275listener("onNodeClick",function(E){n.\u0275\u0275restoreView(l);var q=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(q.handleNodeSelect(E))})("onNodeCheck",function(E){n.\u0275\u0275restoreView(l);var q=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(q.handleNodeSelect(E))})("onFirstRender",function(){n.\u0275\u0275restoreView(l);var E=n.\u0275\u0275nextContext(3);return n.\u0275\u0275resetView(E.expandAndScrollToNode())}),n.\u0275\u0275elementEnd()}if(2&o){var m=a.ngIf;n.\u0275\u0275nextContext();var f=n.\u0275\u0275reference(2),y=n.\u0275\u0275nextContext(2);n.\u0275\u0275property("tree",m)("search",f.value)("checkMode",y.singleCheckMode)}}function je(o,a){if(1&o&&(n.\u0275\u0275elementStart(0,"pbi-search-box")(1,"input",45,46),n.\u0275\u0275listener("keyup",function(){return null}),n.\u0275\u0275pipe(3,"localize"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275template(4,He,1,3,"pbi-tree",47),n.\u0275\u0275pipe(5,"async")),2&o){var l=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275property("placeholder",n.\u0275\u0275pipeBind1(3,2,"SearchBox_Text")),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngIf",n.\u0275\u0275pipeBind1(5,4,l.fieldListTree$))}}var We=function(){return{"aria-label":"TimeUnitAria"}},Qe=function(a){return{error:a}};function Ke(o,a){if(1&o&&(n.\u0275\u0275elementStart(0,"mat-dialog-content")(1,"div",12)(2,"form",13),n.\u0275\u0275element(3,"mat-label",14),n.\u0275\u0275elementStart(4,"mat-radio-group",15),n.\u0275\u0275template(5,Ae,3,4,"mat-radio-button",16),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(6,Ne,13,8,"ng-container",17),n.\u0275\u0275template(7,Ve,5,4,"ng-template",null,18,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275element(9,"mat-label",19),n.\u0275\u0275elementStart(10,"div",20)(11,"mat-form-field",21),n.\u0275\u0275element(12,"input",22),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(13,"pbi-dropdown",23)(14,"pbi-dropdown-trigger"),n.\u0275\u0275element(15,"span",24),n.\u0275\u0275pipe(16,"titlecase"),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(17,ze,3,4,"pbi-dropdown-item",25),n.\u0275\u0275elementEnd()()()(),n.\u0275\u0275element(18,"mat-divider",26),n.\u0275\u0275elementStart(19,"div",27),n.\u0275\u0275element(20,"mat-label",28),n.\u0275\u0275template(21,Ue,3,3,"ng-container",17),n.\u0275\u0275template(22,je,6,6,"ng-template",null,29,n.\u0275\u0275templateRefExtractor),n.\u0275\u0275elementEnd()()),2&o){var l=n.\u0275\u0275reference(8),m=n.\u0275\u0275reference(23),f=n.\u0275\u0275nextContext();n.\u0275\u0275advance(2),n.\u0275\u0275property("formGroup",f.measureFormGroup),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngForOf",f.measureTypes),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",f.measureFormGroup.controls.measureType.value===f.MeasureType.New)("ngIfElse",l),n.\u0275\u0275advance(6),n.\u0275\u0275property("localizeAttr",n.\u0275\u0275pureFunction0(13,We))("ngClass",n.\u0275\u0275pureFunction1(14,Qe,f.measureFormGroup&&f.measureFormGroup.get("time").errors)),n.\u0275\u0275advance(3),n.\u0275\u0275property("localize","TimeUnit_"+n.\u0275\u0275pipeBind1(16,11,f.getFormValue("timeUnit"))),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",f.timeUnits),n.\u0275\u0275advance(1),n.\u0275\u0275property("vertical",!0),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngIf",f.featureSwitchService.featureSwitches.personalizeVisualUnifiedFieldList)("ngIfElse",m)}}var $e=function(){return{"aria-label":"Close"}},ve=function(a){return Object.keys(a).filter(function(l){return isNaN(+l)}).map(function(l){return{name:l,value:a[l]}})},Oe=function(){function o(a,l,m,f,y){this.data=a,this.dialog=l,this.changeDetectionMeasureDialogService=m,this.changeDetectorRef=f,this.featureSwitchService=y,this.MeasureType=e,this.measureTypes=ve(e).reverse(),this.calculations=ve(F),this.timeUnits=ve(R),this.singleCheckMode=V.kH.Single,this.dataTransferFormat=V.L$}return o.prototype.ngOnInit=function(){var a=this;this.data&&this.data.dataSources?this.dialogReadyPromise=this.changeDetectionMeasureDialogService.initDialog(this.data.dataSources,this.data.selectedMeasure).then(function(){return a.fieldListTree$=a.changeDetectionMeasureDialogService.getFieldListTree().pipe((0,b.b)(function(){return a.expandAndScrollToNode()})),a.measureFormGroup=a.changeDetectionMeasureDialogService.getForm(),!0}).catch(function(l){return W.fF.assertFail("Change Detection Measure dialog failed to initialize"),W.fF.log(l),a.dialog.close(),!1}):(W.fF.assertFail("Serialized data sources must be passed to ChangeDetectionMeasureDialogComponent"),this.dialog.close())},o.prototype.onApplyMeasure=function(){this.dialog.close(this.changeDetectionMeasureDialogService.getDialogResult())},o.prototype.getFormValue=function(a){var l=this.measureFormGroup.get(a).value,f=_.find("calculationType"===a?this.calculations:this.timeUnits,function(y){return y.value===l});return f?.name},o.prototype.handleMeasureTypeChange=function(a){this.changeDetectionMeasureDialogService.toggleMeasureType(a),this.changeDetectorRef.detectChanges()},o.prototype.handleDragDropChangeRemove=function(){this.changeDetectionMeasureDialogService.updateMeasureOrFieldValue(void 0,[]),this.changeDetectionMeasureDialogService.toggleSelectedTreeNode(void 0),this.renderTreeNodeChanges(),this.changeDetectorRef.detectChanges()},o.prototype.handleDragDropChangeAdd=function(a){if(a&&"string"==typeof a.id){var l=JSON.parse(a.id);this.changeDetectionMeasureDialogService.updateMeasureOrFieldValue(l.entityName,[a]),this.changeDetectionMeasureDialogService.toggleSelectedTreeNodeById(a.id)}else this.changeDetectionMeasureDialogService.updateMeasureOrFieldValue(void 0,[]),this.changeDetectionMeasureDialogService.toggleSelectedTreeNode(void 0);this.renderTreeNodeChanges(),this.changeDetectorRef.detectChanges()},o.prototype.handleNodeSelect=function(a){if(a.node.checkable&&a.node.data){var l={id:this.changeDetectionMeasureDialogService.getSerializedFieldId(a.node.data.entity.name,a.node.data.name),icon:a.node.icon,label:a.node.displayName};this.changeDetectionMeasureDialogService.updateMeasureOrFieldValue(a.node.data.entity.name,[l]),this.changeDetectionMeasureDialogService.toggleSelectedTreeNode(a.node),this.fieldDragDropPickerRef&&this.fieldDragDropPickerRef.detectChanges(),this.measureDragDropPickerRef&&this.measureDragDropPickerRef.detectChanges(),this.renderTreeNodeChanges(),this.changeDetectorRef.detectChanges()}},o.prototype.renderTreeNodeChanges=function(){this.featureSwitchService.featureSwitches.personalizeVisualUnifiedFieldList?this.pbiListRef&&this.pbiListRef.pbiTree&&this.pbiListRef.pbiTree.renderNodeChanges():this.treeComponentRef&&this.treeComponentRef.renderNodeChanges()},o.prototype.expandAndScrollToNode=function(){var a=this;this.treeComponentRef&&this.treeComponentRef.onStable().subscribe(void 0,void 0,function(){a.treeComponentRef.expandAll(),a.treeComponentRef.scrollToFirstSelectedNode()})},o.\u0275fac=function(l){return new(l||o)(n.\u0275\u0275directiveInject(S.WI),n.\u0275\u0275directiveInject(S.so),n.\u0275\u0275directiveInject(I),n.\u0275\u0275directiveInject(n.ChangeDetectorRef),n.\u0275\u0275directiveInject(u.vZ))},o.\u0275cmp=n.\u0275\u0275defineComponent({type:o,selectors:[["ng-component"]],viewQuery:function(l,m){if(1&l&&(n.\u0275\u0275viewQuery(v.u,5),n.\u0275\u0275viewQuery(Le,5),n.\u0275\u0275viewQuery(Se,5),n.\u0275\u0275viewQuery(Fe,5)),2&l){var f=void 0;n.\u0275\u0275queryRefresh(f=n.\u0275\u0275loadQuery())&&(m.treeComponentRef=f.first),n.\u0275\u0275queryRefresh(f=n.\u0275\u0275loadQuery())&&(m.pbiListRef=f.first),n.\u0275\u0275queryRefresh(f=n.\u0275\u0275loadQuery())&&(m.fieldDragDropPickerRef=f.first),n.\u0275\u0275queryRefresh(f=n.\u0275\u0275loadQuery())&&(m.measureDragDropPickerRef=f.first)}},features:[n.\u0275\u0275ProvidersFeature((0,t.__spreadArray)((0,t.__spreadArray)([],B.H,!0),[I],!1))],decls:15,vars:6,consts:[["role","application",1,"container","themeableElement"],[1,"dialog-title-bar"],[1,"dialog-header-row"],["mat-dialog-title","",1,"dialog-title"],[1,"glyphicon","pbi-glyph-diamond","glyph-small"],["localize","ChangeDetection",1,"unselectable"],["aria-label","Close","localizeTooltip","Close","mat-dialog-close","",1,"glyphicon","pbi-glyph-close","glyph-small","pbi-focus-outline",3,"localizeAttr"],["localize","ChangeDetectionMeasure_DialogSubHeading",1,"subheading","unselectable"],[4,"ngIf"],[1,"dialog-actions-separator"],["localize","Apply",1,"pbi-fluent-button","pbi-focus-outline","primary","apply",3,"disabled","click"],["mat-dialog-close","","localize","ModalDialog_Cancel",1,"pbi-fluent-button","pbi-focus-outline","cancel"],[1,"measure-form"],[3,"formGroup"],["localize","ChangeDetectionMeasure_MeasureType",1,"unselectable"],["formControlName","measureType"],["class","pbi-radio-button pbi-focus-outline",3,"value","change","click",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["existingMeasure",""],["localize","ChangeDetectionMeasure_ChooseTimespan",1,"unselectable"],[1,"measure-timespan"],["floatLabel","never",1,"measure-timespan-input"],["matInput","","formControlName","time","role","textbox","type","number","min","1","max","1000",1,"pbi-focus-outline",3,"localizeAttr","ngClass"],["noBackground","true","formControlName","timeUnit",1,"measure-timespan-select"],[3,"localize"],[3,"value",4,"ngFor","ngForOf"],[1,"dialog-content-separator",3,"vertical"],[1,"field-list"],["localize","Role_DisplayName_Fields",1,"unselectable"],["originalFieldList",""],[1,"pbi-radio-button","pbi-focus-outline",3,"value","change","click"],["localize","ChangeDetectionMeasure_ChooseCalculation",1,"unselectable"],[1,"calculation-form-field-wrapper"],["noBackground","true","formControlName","calculationType",1,"calculation-form-field"],["localize","ChangeDetectionMeasure_ChooseField",1,"unselectable"],["floatLabel","never",1,"measure-field"],["formControlName","field",1,"placeholder-gray-background",3,"dataFormat","placeholder","onChangeAdd","onChangeReplace","onChangeRemove"],["fieldDragDropPicker",""],[3,"value"],["localize","ChangeDetectionMeasure_ChooseExistingMeasure",1,"unselectable"],["formControlName","measure",1,"placeholder-gray-background",3,"dataFormat","placeholder","onChangeAdd","onChangeReplace","onChangeRemove"],["measureDragDropPicker",""],[3,"fieldListTree","checkMode","scrollSelectedItemIntoViewOnInit","onNodeClick","onNodeCheck",4,"ngIf"],[3,"fieldListTree","checkMode","scrollSelectedItemIntoViewOnInit","onNodeClick","onNodeCheck"],["fieldList",""],["pbiSearchInput","",1,"pbi-focus-outline","pbi-focus-outline","search-box",3,"placeholder","keyup"],["searchInput",""],[3,"tree","search","checkMode","onNodeClick","onNodeCheck","onFirstRender",4,"ngIf"],[3,"tree","search","checkMode","onNodeClick","onNodeCheck","onFirstRender"]],template:function(l,m){1&l&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275element(1,"div",1),n.\u0275\u0275elementStart(2,"header")(3,"div",2)(4,"div",3),n.\u0275\u0275element(5,"i",4)(6,"h1",5),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(7,"button",6),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(8,"p",7),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(9,Ke,24,16,"mat-dialog-content",8),n.\u0275\u0275pipe(10,"async"),n.\u0275\u0275element(11,"mat-divider",9),n.\u0275\u0275elementStart(12,"mat-dialog-actions")(13,"button",10),n.\u0275\u0275listener("click",function(){return m.onApplyMeasure()}),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(14,"button",11),n.\u0275\u0275elementEnd()()),2&l&&(n.\u0275\u0275advance(7),n.\u0275\u0275property("localizeAttr",n.\u0275\u0275pureFunction0(5,$e)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",n.\u0275\u0275pipeBind1(10,3,m.dialogReadyPromise)),n.\u0275\u0275advance(4),n.\u0275\u0275property("disabled",!m.measureFormGroup||m.measureFormGroup&&m.measureFormGroup.invalid))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,w._Y,w.Fj,w.wV,w.JJ,w.JL,w.qQ,w.Fd,w.sg,w.u,S.ZT,S.uh,S.xY,S.H8,C.X,O.b,X.r,ie.d,le.v_,le.$V,ce.OY,ce.vy,be.k0,z.HV,xe.H,Te.r,we._,xe.T,ke.a,ke.p,v.u,Ie.l,g.AsyncPipe,g.TitleCasePipe,Ee.F,Re],styles:['[_nghost-%COMP%]{--title-foreground: var(--gray-180);--close-button-foreground: var(--gray130);--subheader-foreground: var(--gray140);--input-foreground: var(--gray-180);--input-background: var(--fluent-theme-white-color);--input-border: var(--gray-110);--select-arrow: var(--gray-130);--error-border: var(--fluent-theme-error-dark-color);--content-separator: var(--gray-40);--cancel-background: var(--fluent-theme-white-color);--cancel-border: var(--gray-110);--disabled-background: var(--gray-20);--disabled-foreground: var(--gray-90)}[data-legacy-theming=false]   [_nghost-%COMP%]{--title-foreground: var(--colorNeutralForeground1);--close-button-foreground: var(--colorNeutralForeground3);--subheader-foreground: var(--colorNeutralForeground2);--input-foreground: var(--colorNeutralForeground1);--input-background: var(--colorNeutralBackground1);--input-border: var(--colorNeutralStroke1);--select-arrow: var(--colorNeutralForeground3);--error-border: var(--colorDangerBorder2);--content-separator: var(--colorNeutralStroke2);--cancel-background: var(--colorNeutralBackground1);--cancel-border: var(--colorNeutralStroke1);--disabled-background: var(--colorNeutralBackgroundDisabled);--disabled-foreground: var(--colorNeutralForegroundDisabled)}.container[_ngcontent-%COMP%]{width:720px;height:650px;min-height:100%;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .dialog-title-bar[_ngcontent-%COMP%]{height:16px;width:100%;margin:0}.container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 24px 16px}.container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .dialog-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .dialog-header-row[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{display:flex}.container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .dialog-header-row[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px;line-height:28px;color:var(--title-foreground)}.container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .dialog-header-row[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--xlg-font-size, 20px);font-weight:var(--font-weight-semi-bold, 600);color:var(--title-foreground);margin:0 0 8px;line-height:28px}.container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .dialog-header-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--close-button-foreground);padding:8px;margin-right:-8px;background:none;border:none}.container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{color:var(--subheader-foreground);font:inherit;font-size:var(--md-font-size, 14px);font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);margin:0;line-height:20px}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex:1;padding:0;margin:0 24px}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:var(--input-foreground);font:inherit;font-size:var(--lg-font-size, 16px);font-family:Segoe UI Semibold,wf_segoe-ui_semibold,helvetica,arial,sans-serif;line-height:22px;margin-bottom:4px}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px);height:32px;background-color:var(--input-background);border:1px solid var(--input-border);color:var(--input-foreground);border-radius:2px;padding:8px 6px;box-sizing:border-box;caret-color:auto}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .measure-form[_ngcontent-%COMP%]{width:50%;flex-shrink:0}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .measure-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-right:28px}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .measure-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:16px}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .measure-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{margin:8px;color:var(--input-foreground)}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .measure-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .calculation-form-field-wrapper[_ngcontent-%COMP%]{margin-bottom:16px}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .measure-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .calculation-form-field[_ngcontent-%COMP%]{margin:0 1px;width:100%}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .measure-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .measure-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .measure-field[_ngcontent-%COMP%]{height:32px;margin-bottom:16px}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .measure-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .measure-timespan[_ngcontent-%COMP%]{display:flex;flex-direction:row}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .measure-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .measure-timespan[_ngcontent-%COMP%]   .measure-timespan-input[_ngcontent-%COMP%]{top:1px;width:68px;margin-right:8px}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .measure-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .measure-timespan[_ngcontent-%COMP%]   .measure-timespan-input[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{border:1px solid var(--error-border)}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .measure-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .measure-timespan[_ngcontent-%COMP%]   .measure-timespan-select[_ngcontent-%COMP%]{width:135px}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dialog-content-separator[_ngcontent-%COMP%]{margin-bottom:16px;color:var(--content-separator)}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .field-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:50%;margin-left:28px}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .field-list[_ngcontent-%COMP%]   pbi-search-box[_ngcontent-%COMP%]:before{top:8px}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .field-list[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{margin-bottom:12px;padding:0 8px 0 32px;border-color:var(--input-border);color:var(--input-foreground)}.container[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .field-list[_ngcontent-%COMP%]   pbi-tree[_ngcontent-%COMP%]{flex:1}.container[_ngcontent-%COMP%]   .dialog-actions-separator[_ngcontent-%COMP%]{margin:0;color:var(--content-separator)}.container[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:0}.container[_ngcontent-%COMP%]   mat-dialog-actions.mat-mdc-dialog-actions[_ngcontent-%COMP%]{min-height:unset;margin:32px 24px 24px}.container[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button.apply[_ngcontent-%COMP%]{margin-right:8px}  .mat-form-field-underline{display:none}  .mat-form-field-appearance-legacy .mat-form-field-infix{padding:0}  .mat-form-field-infix{border:none}  .mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:var(--select-arrow)}'],changeDetection:0}),o}(),Ce=p(79061),Ze=p(42729),d=p(56598),r=p(6015),i=p(63654),c=p(39433),s=p(35284),h=function(){function o(){}return o.\u0275fac=function(l){return new(l||o)},o.\u0275mod=n.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=n.\u0275\u0275defineInjector({imports:[g.CommonModule,w.u5,w.UX,Ze.c.withManifest([{componentIdentifier:"ChangeDetectionMeasureDialog",componentType:Oe}]),Ce.v,ie.t,le.wp,ce.Xo,be.x4,d.K,r.C,c.t,s.J,i.X]}),o}()},83839:function(Pe,re,p){p.d(re,{hF:function(){return F},iq:function(){return G}});var U=p(69843),t={type:1,sheet:"fieldListPaneIcons",symbolId:"fieldListCheckmark"},S="fieldListPaneIcons_paneColorRefresh",e="fieldListPaneIcons_paneColorRefresh";function F(M,x){return{nodes:M.schema.entities.filter(function(D){return(!D.hidden||D.showHidden||x&&x.fieldHiddenPredicate&&!x.fieldHiddenPredicate(D))&&D.userEntity}).map(function(D){return function(M,x){for(var D={type:1,sheet:S,symbolId:"".concat(M.iconClassName||"fieldListEntity","_paneColorRefresh")},j={data:M,displayName:M.displayName,icon:D,tooltip:x&&x.showTooltips,ariaLabel:M.displayName},w=j.children=[],Q=0,W=M.properties;Q<W.length;Q++){var te=W[Q],K=x&&x.fieldHiddenPredicate&&x.fieldHiddenPredicate(te);te.visible&&(!te.hidden||void 0!==K&&!K)&&w.push(B(j,te,x))}return j}(D,x)})}}function B(M,x,D){var j=(0,U.Wx)(x,!0,!0),w="none"!==j?{type:1,sheet:e,symbolId:j}:void 0,Q=D&&D.fieldSelectionPredicate&&D.fieldSelectionPredicate(x),W=Q,te=D&&D.fieldIdPredicate&&D.fieldIdPredicate(x),K=D&&D.fieldCheckablePredicate&&D.fieldCheckablePredicate(x),pe=D&&D.fieldDraggablePredicate&&D.fieldDraggablePredicate(x),n=D&&D.fieldHasMenuPredicate&&D.fieldHasMenuPredicate(x),J={data:x,displayName:x.displayName,draggable:pe,id:te,parent:M,checkable:K,checked:W,selected:Q,icon:w,tooltip:D&&D.showTooltips,menu:n,ariaLabel:x.displayName};if(Q&&A(J,D?.showAncestorsBadge),x.children)for(var ue=J.children=[],de=0,oe=x.children;de<oe.length;de++){var ae=oe[de],H=D&&D.fieldHiddenPredicate&&D.fieldHiddenPredicate(ae);(!ae.hidden||void 0!==H&&!H)&&ue.push(B(J,ae,D))}return J}function A(M,x){M.expanded=!0,M.parent&&(x?(ee(M),A(M.parent,!0)):A(M.parent))}function ee(M){M.parent.badge=t,null==M.parent.badgedChildren&&(M.parent.badgedChildren=[]),_.find(M.parent.badgedChildren,M)||M.parent.badgedChildren.push(M)}function G(M){M.parent&&(M.checked||M.badge?ee(M):(_.remove(M.parent.badgedChildren,function(x){return x.displayName===M.displayName}),M.parent.badge=_.isEmpty(M.parent.badgedChildren)?void 0:t),G(M.parent))}},4722:function(Pe,re,p){p.d(re,{HV:function(){return $e},X:function(){return ve},ri:function(){return Ce}});var U=p(81337),t=p(64560),S=p(93247),e=p(50423),F=p(17174),R=p(62458),B=p(59694),A=p(14172),ee=p(59973),G=p(22318),N=p(6663),M=p(35497),x=p(65181),D=p(77476),j=p(23097),w=p(59968),Q=p(44581),W=p(24150),te=p(86663),K=p(80357),pe=p(45916),n=p(36858),J=p(85102),ue=["dragDropPicker"],de=["clearButton"],oe=["contentLabel"],ae=["listOfData"],H=function(){return[]},he=function(r,i){return{nonEmptyDisplayDataList:r,isTopLevel:!0,rootToParentIndices:i}};function ne(d,r){if(1&d&&e.\u0275\u0275elementContainer(0,7),2&d){var i=e.\u0275\u0275nextContext(),c=e.\u0275\u0275reference(5);e.\u0275\u0275property("ngTemplateOutlet",c)("ngTemplateOutletContext",e.\u0275\u0275pureFunction2(3,he,i.listOfPbiDisplayData,e.\u0275\u0275pureFunction0(2,H)))}}function Z(d,r){if(1&d){var i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275listener("drop",function(s){e.\u0275\u0275restoreView(i);var h=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(h.handleDrop(s))})("dragover",function(s){e.\u0275\u0275restoreView(i);var h=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(!h.isItRedundantPositionToDropCurrentData("end")&&h.handleDragover(s))})("dragenter",function(){e.\u0275\u0275restoreView(i);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.handleDragEnterListEndArea())})("dragleave",function(){e.\u0275\u0275restoreView(i);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.handleDragLeaveListEndArea())}),e.\u0275\u0275elementEnd()}}var Y=function(r){return{highlight:r}};function fe(d,r){if(1&d){var i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275listener("dragenter",function(){e.\u0275\u0275restoreView(i);var h=e.\u0275\u0275nextContext().index,o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.handleDragEnterPosition([h]))})("dragleave",function(){e.\u0275\u0275restoreView(i);var h=e.\u0275\u0275nextContext().index,o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.handleDragLeavePosition([h]))})("dragover",function(h){e.\u0275\u0275restoreView(i);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(!o.isItRedundantPositionToDrop()&&o.handleDragover(h))})("drop",function(h){e.\u0275\u0275restoreView(i);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.handleDrop(h))}),e.\u0275\u0275elementEnd()}if(2&d){var c=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,Y,c.highlight))}}function P(d,r){1&d&&e.\u0275\u0275elementContainer(0)}function L(d,r){1&d&&e.\u0275\u0275elementContainer(0)}function k(d,r){1&d&&e.\u0275\u0275elementContainer(0)}var I=function(r,i){return{nonEmptyDisplayDataList:r,isTopLevel:!1,rootToParentIndices:i}};function V(d,r){if(1&d&&e.\u0275\u0275elementContainer(0,7),2&d){var i=e.\u0275\u0275nextContext(2),c=i.$implicit,s=i.index,h=e.\u0275\u0275nextContext().rootToParentIndices;e.\u0275\u0275nextContext();var o=e.\u0275\u0275reference(5);e.\u0275\u0275property("ngTemplateOutlet",o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction2(2,I,c.children,h.concat(s)))}}var v=function(r,i,c){return{$implicit:r,position:i,field:c}};function b(d,r){if(1&d&&e.\u0275\u0275elementContainer(0,7),2&d){var i=e.\u0275\u0275nextContext(2),c=i.index,s=i.$implicit,h=e.\u0275\u0275nextContext().rootToParentIndices,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngTemplateOutlet",o.pbiDragDropPickerActionsTemplate)("ngTemplateOutletContext",e.\u0275\u0275pureFunction3(2,v,o.picker,h.concat(c),s))}}var u=function(r){return{compact:r}},g=function(r,i,c,s){return{isTopLevel:r,displayData:i,allowDrag:c,position:s}},C=function(r){return{position:r}};function O(d,r){if(1&d&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",21)(2,"div",22),e.\u0275\u0275template(3,P,1,0,"ng-container",23),e.\u0275\u0275template(4,L,1,0,"ng-container",23),e.\u0275\u0275template(5,k,1,0,"ng-container",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,V,1,5,"ng-container",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,b,1,6,"ng-container",24),e.\u0275\u0275elementContainerEnd()),2&d){var i=e.\u0275\u0275nextContext(),c=i.$implicit,s=i.index,h=e.\u0275\u0275reference(7),o=e.\u0275\u0275reference(11),a=e.\u0275\u0275nextContext(),l=a.isTopLevel,m=a.rootToParentIndices,f=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(9,u,f.compact)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",h)("ngTemplateOutletContext",e.\u0275\u0275pureFunction4(11,g,l,c,!c.isEditing&&(f.draggable||!f.allowMultipleValues)&&l,m.concat(s))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",f.itemPromotedActionTemplate)("ngTemplateOutletContext",e.\u0275\u0275pureFunction3(16,v,f.picker,m.concat(s),c)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(20,C,m.concat(s))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==c.children?null:c.children.length)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",l)}}function X(d,r){1&d&&e.\u0275\u0275elementContainer(0)}function ie(d,r){1&d&&e.\u0275\u0275elementContainer(0)}function le(d,r){1&d&&e.\u0275\u0275elementContainer(0)}var ce=function(r,i,c){return{isTopLevel:!0,displayData:r,allowDrag:i,position:c}};function be(d,r){if(1&d&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,X,1,0,"ng-container",23),e.\u0275\u0275template(2,ie,1,0,"ng-container",23),e.\u0275\u0275template(3,le,1,0,"ng-container",23),e.\u0275\u0275elementContainerEnd()),2&d){var i=e.\u0275\u0275nextContext(),c=i.$implicit,s=i.index,h=e.\u0275\u0275reference(7),o=e.\u0275\u0275reference(11),a=e.\u0275\u0275nextContext().rootToParentIndices,l=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",h)("ngTemplateOutletContext",e.\u0275\u0275pureFunction3(6,ce,c,!c.isEditing&&(l.draggable||!l.allowMultipleValues),a.concat(s))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",l.pbiDragDropPickerActionsTemplate)("ngTemplateOutletContext",e.\u0275\u0275pureFunction3(10,v,l.picker,a.concat(s),c)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(14,C,a.concat(s)))}}var z=function(r){return{width:r}};function xe(d,r){if(1&d&&e.\u0275\u0275element(0,"div",32),2&d){var i=e.\u0275\u0275nextContext().position;e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(1,z,8*(i.length-1)+"px"))}}function Te(d,r){if(1&d&&e.\u0275\u0275element(0,"pbi-icon",33),2&d){var i=e.\u0275\u0275nextContext().displayData,c=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("name",i.icon.glyph)("size",c.smallIconSize)}}function we(d,r){if(1&d&&e.\u0275\u0275element(0,"pbi-svg-use-symbol",34),2&d){var i=e.\u0275\u0275nextContext().displayData;e.\u0275\u0275property("ngStyle",i.icon.styles)("sheet",i.icon.sheet)("symbolId",i.icon.symbolId)}}function ke(d,r){if(1&d){var i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"input",35),e.\u0275\u0275listener("ngModelChange",function(h){e.\u0275\u0275restoreView(i);var o=e.\u0275\u0275nextContext().displayData;return e.\u0275\u0275resetView(o.value=h)})("keydown",function(h){e.\u0275\u0275restoreView(i);var o=e.\u0275\u0275nextContext().position,a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.handleKeyDown(h,o))})("blur",function(){e.\u0275\u0275restoreView(i);var h=e.\u0275\u0275nextContext().position,o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.endEditSection(h))}),e.\u0275\u0275elementEnd()}if(2&d){var c=e.\u0275\u0275nextContext().displayData;e.\u0275\u0275property("ngModel",c.value)}}var Ie=function(r,i){return{showHover:r,interactable:i}};function Ee(d,r){if(1&d){var i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25,26),e.\u0275\u0275listener("singleClickAction",function(){var m=e.\u0275\u0275restoreView(i).position;e.\u0275\u0275nextContext();var f=e.\u0275\u0275reference(3),y=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(y.v2Design&&!y.disableContentClick&&y.handleContentClick(f,m))})("doubleClickAction",function(){var m=e.\u0275\u0275restoreView(i).position,f=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(f.beginEditSection(m))})("accessible-click",function(){var m=e.\u0275\u0275restoreView(i).position;e.\u0275\u0275nextContext();var f=e.\u0275\u0275reference(3),y=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(y.v2Design&&!y.disableContentClick&&y.handleContentClick(f,m))})("keydown.F2",function(){var l=e.\u0275\u0275restoreView(i),m=l.displayData,f=l.position,y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(m.allowEditing&&!m.isEditing?y.beginEditSection(f):y.return)})("keydown.arrowRight",function(l){e.\u0275\u0275restoreView(i);var m=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(m.focusClearButton(l.target))})("contextmenu",function(l){e.\u0275\u0275restoreView(i);var m=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(m.onContextMenu(l))})("dragstart",function(l){var m=e.\u0275\u0275restoreView(i),f=m.allowDrag,y=m.position,T=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(f&&T.handleDragItemStart(l,y))})("dragend",function(){var m=e.\u0275\u0275restoreView(i).allowDrag,f=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(m&&f.handleDragItemEnd())})("dragover",function(l){var f=e.\u0275\u0275restoreView(i).allowDrag,y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(f&&!y.allowMultipleValues?y.handleDragover(l):y.return)})("drop",function(l){var f=e.\u0275\u0275restoreView(i).allowDrag,y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(f&&!y.allowMultipleValues?y.handleDrop(l):y.return)})("pbiMenuButtonClick",function(l){var f=e.\u0275\u0275restoreView(i).position,y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(y.handleMenuItemClick(l,f))}),e.\u0275\u0275template(2,xe,1,3,"div",27),e.\u0275\u0275elementStart(3,"div",28),e.\u0275\u0275template(4,Te,1,2,"pbi-icon",29),e.\u0275\u0275template(5,we,1,3,"pbi-svg-use-symbol",30),e.\u0275\u0275template(6,ke,1,1,"input",31),e.\u0275\u0275elementEnd()()}if(2&d){var c=r.displayData,s=r.isTopLevel;e.\u0275\u0275nextContext();var h=e.\u0275\u0275reference(9),o=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("id","contentLabelId"+o.uid)("ngClass",e.\u0275\u0275pureFunction2(28,Ie,c.interactionAvailable&&!c.isEditing&&!o.disableHover,c.interactionAvailable))("ngStyle",c.pbiStyle)("disabled",o.v2Design&&null==c.menu)("pbiMenu",o.v2Design?c.menu:null)("menuMode",null!=o.menuMode?o.menuMode:o.CompactMenuMode)("pbiMenuActivation",o.v2Design&&c.menu?"contextmenu":null)("draggable",!c.isEditing&&o.draggable&&!o.disabled)("singleClickDisabled",c.isEditing)("pbiTooltip",h)("pbiTooltipDisabled",o.disableHover)("pbiTooltipPosition",o.calculatedTooltipPosition)("pbiTooltipWithFlexiblePositions",o.tooltipWithFlexiblePositions)("doubleClickDisabled",!c.allowEditing||c.isEditing)("accessible-click-ignore-mouse",!0)("accessible-click-ignore-tabindex",!o.v2Design&&!c.allowEditing),e.\u0275\u0275attribute("role",o.v2Design?"button":null)("aria-haspopup",!!o.v2Design||null)("aria-labelledby",o.ariaLabelledby+" contentLabelId"+o.uid),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!s),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",null==c.icon?null:c.icon.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.PbiIconGlyphKind),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.PbiIconSvgKind),e.\u0275\u0275advance(1),e.\u0275\u0275property("pbiEditableLabel",o.editableLabelOptions)("pbiEditableLabelValue",c.value)("pbiEditableLabelMode",c.isEditing)("pbiEditableLabelEditable",c.isEditing)("pbiEditableLabelClasses",o.editableLabelClasses)}}function Re(d,r){if(1&d&&e.\u0275\u0275element(0,"div",38),2&d){var i=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("textContent",i.customTooltipContent.description)}}function Le(d,r){if(1&d&&(e.\u0275\u0275element(0,"div",36),e.\u0275\u0275template(1,Re,1,1,"div",37)),2&d){var i=e.\u0275\u0275nextContext().$implicit,c=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("textContent",c.useCustomTooltip?null==i.customTooltipContent?null:i.customTooltipContent.title:i.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",c.useCustomTooltip&&(null==i.customTooltipContent?null:i.customTooltipContent.description))}}function Se(d,r){if(1&d){var i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",40,41),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);var o=e.\u0275\u0275nextContext().position,a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.handleClear(o))})("keydown.arrowLeft",function(o){e.\u0275\u0275restoreView(i);var a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.focusContentLabel(o.target))})("keydown.arrowRight",function(o){e.\u0275\u0275restoreView(i);var a=e.\u0275\u0275nextContext().position,l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.handleClearButtonArrowRight(o.target,a))}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()}if(2&d){var c=e.\u0275\u0275nextContext(2).$implicit,s=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("tabindex",s.disableClearButtonTabNavigation?-1:0)("pbiTooltip",e.\u0275\u0275pipeBind1(2,3,"FieldPicker_RemoveData"))("aria-label",c.removeDataAriaLabel)}}function Fe(d,r){if(1&d&&e.\u0275\u0275template(0,Se,3,5,"button",39),2&d){var i=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngIf",i.allowClear&&!i.disabled)}}function Ae(d,r){if(1&d&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,fe,1,3,"div",14),e.\u0275\u0275elementStart(2,"span",15,16),e.\u0275\u0275template(4,O,8,22,"ng-container",13),e.\u0275\u0275template(5,be,4,16,"ng-container",13),e.\u0275\u0275template(6,Ee,7,31,"ng-template",null,17,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(8,Le,2,2,"ng-template",null,18,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(10,Fe,1,1,"ng-template",null,19,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&d){var i=r.$implicit,c=e.\u0275\u0275nextContext().isTopLevel,s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",c),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("error",i.invalid),e.\u0275\u0275attribute("role",s.v2Design?"listitem":null)("aria-level",s.v2Design?1:null)("aria-setsize",s.v2Design?1:null)("aria-posinset",s.v2Design?1:null),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.v2Design),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!s.v2Design)}}function Be(d,r){if(1&d&&e.\u0275\u0275element(0,"div",42),2&d){var i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,Y,i.shouldHighlightLastItemBottom))}}var Ne=function(r){return{showListEndDropZone:r}};function Ve(d,r){if(1&d&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementContainer(1,7),e.\u0275\u0275elementContainerEnd()),2&d){var i=e.\u0275\u0275nextContext().nonEmptyDisplayDataList;e.\u0275\u0275nextContext();var c=e.\u0275\u0275reference(9);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",c)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,Ne,i.length>0))}}var ze=function(r){return{childrenContentContainer:r}};function Ge(d,r){if(1&d&&(e.\u0275\u0275elementStart(0,"div",9,10),e.\u0275\u0275template(2,Ae,12,9,"ng-container",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,Be,1,3,"div",12),e.\u0275\u0275template(4,Ve,2,4,"ng-container",13)),2&d){var i=r.nonEmptyDisplayDataList,c=r.isTopLevel,s=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(5,ze,!c)),e.\u0275\u0275attribute("role",s.v2Design?"list":null),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",i),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!s.v2Design||!s.allowMultipleValues),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.v2Design&&s.allowMultipleValues&&c)}}function Ue(d,r){if(1&d){var i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",44),e.\u0275\u0275listener("drop",function(h){e.\u0275\u0275restoreView(i);var o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.handleDrop(h))})("dragover",function(h){e.\u0275\u0275restoreView(i);var o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.handleDragover(h))}),e.\u0275\u0275elementStart(1,"label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()}if(2&d){var c=e.\u0275\u0275nextContext(2);e.\u0275\u0275attribute("aria-label",c.placeholder),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(c.placeholder)}}function He(d,r){if(1&d&&e.\u0275\u0275template(0,Ue,3,2,"span",43),2&d){var i=e.\u0275\u0275nextContext(),c=e.\u0275\u0275reference(9);e.\u0275\u0275property("ngIf",!i.v2Design)("ngIfElse",c)}}function je(d,r){if(1&d&&e.\u0275\u0275element(0,"div",50),2&d){var i=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,Y,i.shouldHighlightLastItemBottom))}}function We(d,r){if(1&d){var i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",46,47),e.\u0275\u0275listener("accessible-click",function(a){e.\u0275\u0275restoreView(i);var l=e.\u0275\u0275reference(1),m=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(m.handleAddDataClick(a,l))})("drop",function(a){e.\u0275\u0275restoreView(i);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.handleDrop(a))})("dragenter",function(){e.\u0275\u0275restoreView(i);var a=e.\u0275\u0275nextContext().showListEndDropZone,l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a?l.handleDragEnterListEndArea():l.return)})("dragleave",function(){e.\u0275\u0275restoreView(i);var a=e.\u0275\u0275nextContext().showListEndDropZone,l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a?l.handleDragLeaveListEndArea():l.return)})("dragover",function(a){e.\u0275\u0275restoreView(i);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.handleDragOverAddDataArea(a))}),e.\u0275\u0275template(2,je,1,3,"div",48),e.\u0275\u0275element(3,"label",49),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()}if(2&d){var h,c=e.\u0275\u0275nextContext().showListEndDropZone,s=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(8,u,s.compact)),e.\u0275\u0275attribute("aria-labelledby",s.ariaLabelledby+" addDataLabelId"+s.uid),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",c),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("localize",s.addDataLabelKey),e.\u0275\u0275property("id","addDataLabelId"+s.uid),e.\u0275\u0275attribute("aria-label",null!==(h=s.addDataAriaLabelKey)&&void 0!==h?h:e.\u0275\u0275pipeBind1(4,6,"Add_Data"))}}function Qe(d,r){if(1&d&&e.\u0275\u0275template(0,We,5,10,"span",45),2&d){var i=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",i.v2Design)}}var Ke=function(r,i,c,s,h){return{empty:r,disabled:i,v2Design:c,disableDropZoneIndicator:s,compact:h}},$e=function(){function d(r,i){this.changeDetectorRef=r,this.localizationService=i,this.CompactMenuMode=t.Kb.Compact,this.PbiIconGlyphKind=0,this.PbiIconSvgKind=1,this.listOfPbiDisplayData=[],this.smallIconSize="small",this.shouldHighlightLastItemBottom=!1,this.draggingToPosition="end",this.allowClear=!0,this.data=[],this.dataFormat="text",this.allowMultipleValues=!1,this.allowEditingLabelsSetting="allDisallow",this.v2Design=!1,this.onChangeAdd=new e.EventEmitter,this.onChangeRemove=new e.EventEmitter,this.onChangeReorder=new e.EventEmitter,this.onChangeReplace=new e.EventEmitter,this.onChangeLabelUpdate=new e.EventEmitter,this.onCrossPickerDrop=new e.EventEmitter,this.onAddDataClick=new e.EventEmitter,this.onContentClick=new e.EventEmitter,this.onMenuItemClick=new e.EventEmitter,this.onClearButtonArrowRight=new e.EventEmitter,this.editableLabelClasses=["fluentTheme-md-reg","trimmedTextWithEllipsis"],this.uid=M.q.generateShortId(4)}return d.prototype.ngOnInit=function(){var r,i;this.disableHover=!0,this.allowClear=null===(r=this.allowClear)||void 0===r||r,this.addDataLabelKey=null!==(i=this.addDataLabelKey)&&void 0!==i?i:"Plus_Add_Data",this.editableLabelClasses=this.v2Design?["fluentTheme-sm-reg","trimmedTextWithEllipsis"]:["fluentTheme-md-reg","trimmedTextWithEllipsis"],this.editableLabelOptions={customTooltip:!0,disableClick:!0,inputMatchLabelWidth:!1},this.calculatedTooltipPosition=this.tooltipPosition?this.tooltipPosition:this.allowMultipleValues?"before":"above"},d.prototype.ngAfterViewInit=function(){var r=this;this.dragDropPicker.nativeElement.addEventListener("mousemove",function c(){R.fF.assert(function(){return r.disableHover},"Expect hover is disabled"),r.disableHover=!1,r.dragDropPicker.nativeElement.removeEventListener("mousemove",c)}),!this.disableAutoScroll&&(this.scrollToViewSubscription=this.listOfDataAsQueryList.changes.pipe((0,A.U)(function(c){return c.toArray()}),(0,ee.h)(function(){return r.allowMultipleValues}),(0,G.O)([]),(0,N.G)()).subscribe(function(c){var s=c[0],h=c[1];null!=r.scrollToIndex&&h?.length>0&&s.length<h.length&&h[r.scrollToIndex].nativeElement.scrollIntoView(),r.resetHighlight(),r.resetDraggingIndex(),r.scrollToIndex=null}))},d.prototype.ngOnDestroy=function(){var r;null===(r=this.scrollToViewSubscription)||void 0===r||r.unsubscribe()},d.prototype.endEditSection=function(r){var i=this.getDisplayDataAtPosition(r);if(i.allowEditing){if(!i.isEditing)return void R.fF.assertFail("Pbi-drag-drop-picker: Attempting to end editing when you are NOT in edit mode");i.isEditing=!1;var c=this.getDataAtPosition(r);R.fF.assertValue(c,"Expect data at the given position exists");var h,s=i.value;if("string"==typeof c){if((0,B.g)(i.value))return void(i.value=c);c!==s&&(h=s)}else{if(!this.allowEmptyLabel&&(0,B.g)(i.value))return void(i.value=c.label);c.label!==s&&(h=(0,U.__assign)((0,U.__assign)({},c),{label:s}))}h&&(this.setDataAtPosition(r,h),this.propagateChange&&this.propagateChange(this.data),this.onChangeLabelUpdate.emit({newLabel:s,position:r}))}},d.prototype.handleKeyDown=function(r,i){(r.keyCode===S.hY||r.keyCode===S.K5)&&!(0,S.Vb)(r)&&this.endEditSection(i),r.stopPropagation()},d.prototype.beginEditSection=function(r){var i=this.getDisplayDataAtPosition(r);if(i.allowEditing){if(i.isEditing)return void R.fF.assertFail("Pbi-drag-drop-picker: Attempting to edit when you are already in edit mode");i.isEditing=!0}},d.prototype.detectChanges=function(){this.changeDetectorRef.detectChanges()},d.prototype.writeValue=function(r){this.data=[],this.listOfPbiDisplayData=[];for(var i=0,c=r;i<c.length;i++)this.addData(c[i])},d.prototype.registerOnChange=function(r){this.propagateChange=r},d.prototype.registerOnTouched=function(r){},d.prototype.setDisabledState=function(r){this.disabled=r},d.prototype.handleDragItemStart=function(r,i){var c,s;if(this.draggable){this.disableHover=!0,this.draggingFromPosition=i;var h={fromGroupId:null===(c=this.externalCrossPickerDragDropMonitor)||void 0===c?void 0:c.groupId,fromComponentId:null===(s=this.externalCrossPickerDragDropMonitor)||void 0===s?void 0:s.componentId,fromPosition:i,data:this.getDataAtPosition(i)};r.dataTransfer.setData(this.dataFormat,JSON.stringify(h))}},d.prototype.handleDragItemEnd=function(){this.disableHover=!1,this.resetDraggingIndex()},d.prototype.handleDragover=function(r){r.preventDefault()},d.prototype.handleDragOverAddDataArea=function(r){var i;this.allowMultipleValues&&0!==this.listOfPbiDisplayData.length?(null===(i=this.draggingFromPosition)||void 0===i?void 0:i[0])!==this.listOfPbiDisplayData.length-1&&this.handleDragover(r):this.handleDragover(r)},d.prototype.handleDragLeavePosition=function(r){this.getDisplayDataAtPosition(r).highlight=!1},d.prototype.handleDragEnterPosition=function(r){this.draggable&&(this.draggingToPosition=r,!this.isItRedundantPositionToDrop(this.draggingFromPosition,r))&&(this.getDisplayDataAtPosition(r).highlight=!0)},d.prototype.handleAddDataClick=function(r,i){this.v2Design&&this.onAddDataClick.emit({type:r.type,overlayOrigin:i})},d.prototype.handleContentClick=function(r,i){var c=this;R.fF.assert(function(){return!c.disableContentClick},"Expect this not to be called if disableContentClick is true"),this.v2Design&&this.onContentClick.emit({overlayOrigin:r,position:i})},d.prototype.handleMenuItemClick=function(r,i){this.v2Design&&this.onMenuItemClick.emit({menuButton:r,position:i})},d.prototype.onContextMenu=function(r){r.stopPropagation(),r.preventDefault()},d.prototype.focusClearButton=function(r){if(this.clearButtonQueryList){var i=this.contentLabelQueryList.toArray().findIndex(function(c){return c.nativeElement===r});this.clearButtonQueryList.get(i).nativeElement.focus()}},d.prototype.focusContentLabel=function(r){if(this.contentLabelQueryList){var i=this.clearButtonQueryList.toArray().findIndex(function(c){return c.nativeElement===r});this.contentLabelQueryList.get(i).nativeElement.focus()}},d.prototype.handleClearButtonArrowRight=function(r,i){this.onClearButtonArrowRight.emit({currentFocusedClearButton:r,topLevelIndex:_.first(i)})},d.prototype.doesCurrentDragDropReorderItems=function(){return this.doesMoveLocationReorderItems(this.draggingFromPosition,this.draggingToPosition)},d.prototype.doesMoveLocationReorderItems=function(r,i){if(!r)return!1;R.fF.assert(function(){return 1===_.size(r)},"we ONLY handle drag-drop into first level position as of now. Add your implementation for new scenario."),R.fF.assert(function(){return"end"===i||1===_.size(i)},"we ONLY handle drag-drop into first level position as of now. Add your implementation for new scenario.");var c=r[0],s=_.isArray(i)?i[0]:i;return s!==c&&("end"===s?c!==_.size(this.data)-1:s-1!==c)},d.prototype.isItRedundantPositionToDrop=function(r,i){return!!r&&!this.doesMoveLocationReorderItems(r,i)},d.prototype.isItRedundantPositionToDropCurrentData=function(r){return this.isItRedundantPositionToDrop(this.draggingFromPosition,r)},d.prototype.resetHighlight=function(){if(this.draggingFromPosition){var r=this.getDisplayDataAtPosition(this.draggingFromPosition);r&&(r.highlight=!1)}if("end"!==this.draggingToPosition){var i=this.getDisplayDataAtPosition(this.draggingToPosition);i&&(i.highlight=!1)}this.shouldHighlightLastItemBottom=!1},d.prototype.reorderItemsInternal=function(r,i){var c=this;R.fF.assert(function(){return null!=r&&_.inRange(r,0,_.size(c.data))},"expect 0 <= fromIndex < itemsCount"),R.fF.assert(function(){return null!=i&&_.inRange(i,0,_.size(c.data)+1)},"expect 0 <= toIndex <= itemsCount"),r<i&&i--;var s=this.data.splice(r,1)[0];this.data.splice(i,0,s);var h=this.listOfPbiDisplayData.splice(r,1)[0];this.listOfPbiDisplayData.splice(i,0,h),this.propagateChange&&this.propagateChange(this.data)},d.prototype.resetDraggingIndex=function(){this.draggingFromPosition=void 0,this.draggingToPosition="end"},d.prototype.handleDragEnterListEndArea=function(){this.shouldHighlightLastItemBottom=null==this.draggingFromPosition||_.size(this.draggingFromPosition)>1||this.draggingFromPosition[0]!==this.data.length-1,this.draggingToPosition="end"},d.prototype.handleDragLeaveListEndArea=function(){this.shouldHighlightLastItemBottom=!1},d.prototype.handleDrop=function(r){if(r.preventDefault(),r.stopPropagation(),null==this.draggingFromPosition){var i=r.dataTransfer.types;R.fF.assert(function(){return _.size(i)<=1},"We set one drag data format at most in the dragstart event");var c=_.first(i),s=r.dataTransfer.getData(c);if(s){var h=void 0;try{h=JSON.parse(s)}catch{}var o=void 0;if("object"==typeof h)if(function(d){return!!d&&d.hasOwnProperty("fromGroupId")&&d.hasOwnProperty("fromComponentId")&&d.hasOwnProperty("fromPosition")&&d.hasOwnProperty("data")}(h)){if(o=h.data,this.externalCrossPickerDragDropMonitor&&(this.externalCrossPickerDragDropMonitor.groupId!==h.fromGroupId||this.externalCrossPickerDragDropMonitor.componentId!==h.fromComponentId))return this.onCrossPickerDrop.emit({fromGroupId:h.fromGroupId,fromComponentId:h.fromComponentId,fromPosition:h.fromPosition,toGroupId:this.externalCrossPickerDragDropMonitor.groupId,toComponentId:this.externalCrossPickerDragDropMonitor.componentId,toPosition:this.draggingToPosition}),void this.resetHighlight()}else o=h;else o=s;this.handleAdd(o,this.draggingToPosition)}}else this.handleReorder(this.draggingFromPosition,this.draggingToPosition)},d.prototype.handleClear=function(r,i){void 0===i&&(i=!1);var c=Oe(this.data,r);Oe(this.listOfPbiDisplayData,r),c?(this.propagateChange&&this.propagateChange(this.data),i||this.onChangeRemove.emit({data:c,position:r})):R.fF.assertFail("expect position to be valid")},d.prototype.handleAdd=function(r,i){void 0===i&&(i="end"),this.allowMultipleValues||_.isEmpty(this.data)||"end"!==i&&1!==i.length?(this.addReplaceDataInternal(r,i,!1),this.propagateChange&&this.propagateChange(this.data),this.onChangeAdd.emit({data:r,position:i})):this.handleReplace(r,[0])},d.prototype.handleReplace=function(r,i){this.addReplaceDataInternal(r,i,!0),this.propagateChange&&this.propagateChange(this.data),this.onChangeReplace.emit({data:r,position:i})},d.prototype.addData=function(r){this.addReplaceDataInternal(r,"end",!1)},d.prototype.replaceData=function(r,i){this.addReplaceDataInternal(r,i,!0)},d.prototype.setAllData=function(r){var i=[],c=[];if(!_.isEmpty(r)&&_.every(r,function(l){return!!l}))for(var s=0,h=r;s<h.length;s++){var o=h[s],a=this.getPbiDisplayData(o,this.allowEditingLabelsSetting);if(!a)return;i.push(o),c.push(a)}this.data=i,this.listOfPbiDisplayData=c},d.prototype.handleReorder=function(r,i){var c=this;R.fF.assert(function(){return 1===_.size(r)},"We ONLY support reordering in first-level right now. Add your implementation for new scenario."),R.fF.assert(function(){return"end"===i||1===_.size(i)},"We ONLY support reordering in first-level right now. Add your implementation for new scenario.");var s=r[0],h=_.isArray(i)?i[0]:i;if(R.fF.assert(function(){return null!=s&&_.inRange(s,0,_.size(c.data))},"expect fromIndex to be in valid range"),R.fF.assert(function(){return null!=h&&("end"===h||_.inRange(h,0,_.size(c.data)))},"expect toIndex to be in valid range"),this.resetHighlight(),this.doesMoveLocationReorderItems(r,i)){var o="end"!==h?h:_.size(this.data);this.reorderItemsInternal(s,o),this.onChangeReorder.emit({data:this.data[s],fromPosition:r,toPosition:[o]})}},d.prototype.addReplaceDataInternal=function(r,i,c){if(r){R.fF.assert(function(){return"end"===i||1===_.size(i)},"we ONLY handle add/replace first level position data as of now. Add your implementation for new scenario."),R.fF.assert(function(){return!c||"end"!==i[0]},"replacement index must be a valid number"),!this.allowMultipleValues&&!c&&(this.data.pop(),this.listOfPbiDisplayData.pop());var s=this.getPbiDisplayData(r,this.allowEditingLabelsSetting);if(s){this.resetHighlight();var h=c?1:0;if("end"!==i){var o=i[0];this.data.splice(o,h,r),this.listOfPbiDisplayData.splice(o,h,s),this.scrollToIndex=o}else this.data.push(r),this.scrollToIndex=this.data.length-1,this.listOfPbiDisplayData.push(s)}}},d.prototype.getDataAtPosition=function(r){return ve(this.data,r)},d.prototype.setDataAtPosition=function(r,i){Ce(this.data,r,function(c,s){c[s]=i})},d.prototype.getDisplayDataAtPosition=function(r){return ve(this.listOfPbiDisplayData,r)},d.prototype.getPbiDisplayData=function(r,i){var s,c=this;if("string"==typeof r){if(""===r)return}else if(0===Object.keys(r).length)return;var h=(s="string"==typeof r?"allAllow"===i:"allAllow"===i||"varyByItem"===i&&!!r.allowEditLabel)||this.v2Design&&!this.disableContentClick||this.v2Design&&"string"!=typeof r&&!!r.menu;return"string"==typeof r?{value:r,allowEditing:s,isEditing:!1,highlight:!1,interactionAvailable:h}:{value:r.label,icon:r.icon,allowEditing:s,isEditing:!1,highlight:!1,interactionAvailable:h,menu:r.menu,customTooltipContent:r.customTooltipContent,children:_.isEmpty(r.children)?void 0:_.map(r.children,function(a){return c.getPbiDisplayData(a,i)}),actionTooltip:r.actionTooltip,removeDataAriaLabel:this.localizationService.format("FieldPicker_RemoveField",r.label),pbiStyle:r.pbiStyle,invalid:r.invalid}},d.\u0275fac=function(i){return new(i||d)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(x.o))},d.\u0275cmp=e.\u0275\u0275defineComponent({type:d,selectors:[["pbi-drag-drop-picker"]],viewQuery:function(i,c){if(1&i&&(e.\u0275\u0275viewQuery(ue,5),e.\u0275\u0275viewQuery(de,5),e.\u0275\u0275viewQuery(oe,5),e.\u0275\u0275viewQuery(ae,5)),2&i){var s=void 0;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(c.dragDropPicker=s.first),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(c.clearButtonQueryList=s),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(c.contentLabelQueryList=s),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(c.listOfDataAsQueryList=s)}},inputs:{pbiDragDropPickerActionsTemplate:"pbiDragDropPickerActionsTemplate",itemPromotedActionTemplate:"itemPromotedActionTemplate",externalCrossPickerDragDropMonitor:"externalCrossPickerDragDropMonitor",allowClear:"allowClear",data:"data",dataFormat:"dataFormat",disabled:"disabled",draggable:"draggable",placeholder:"placeholder",addDataLabelKey:"addDataLabelKey",addDataAriaLabelKey:"addDataAriaLabelKey",allowMultipleValues:"allowMultipleValues",allowEditingLabelsSetting:"allowEditingLabelsSetting",useCustomTooltip:"useCustomTooltip",tooltipPosition:"tooltipPosition",tooltipWithFlexiblePositions:"tooltipWithFlexiblePositions",disableAutoScroll:"disableAutoScroll",disableClearButtonTabNavigation:"disableClearButtonTabNavigation",allowEmptyLabel:"allowEmptyLabel",compact:"compact",disableDropZoneIndicator:"disableDropZoneIndicator",disableContentClick:"disableContentClick",v2Design:"v2Design",menuMode:"menuMode",ariaLabelledby:"ariaLabelledby"},outputs:{onChangeAdd:"onChangeAdd",onChangeRemove:"onChangeRemove",onChangeReorder:"onChangeReorder",onChangeReplace:"onChangeReplace",onChangeLabelUpdate:"onChangeLabelUpdate",onCrossPickerDrop:"onCrossPickerDrop",onAddDataClick:"onAddDataClick",onContentClick:"onContentClick",onMenuItemClick:"onMenuItemClick",onClearButtonArrowRight:"onClearButtonArrowRight"},features:[e.\u0275\u0275ProvidersFeature([{provide:F.JU,useExisting:(0,e.forwardRef)(function(){return d}),multi:!0}])],decls:10,vars:10,consts:[[1,"drag-drop-picker",3,"ngClass"],["dragDropPicker",""],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf","ngIfElse"],["class","dropArea unselectable",3,"drop","dragover","dragenter","dragleave",4,"ngIf"],["nonEmptyDisplayDataListTemplate",""],["showPlaceholder",""],["addData",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"dropArea","unselectable",3,"drop","dragover","dragenter","dragleave"],[3,"ngClass"],["listOfData",""],[4,"ngFor","ngForOf"],["class","dropBetween unselectable",3,"ngClass",4,"ngIf"],[4,"ngIf"],["class","dropBetween unselectable",3,"ngClass","dragenter","dragleave","dragover","drop",4,"ngIf"],[1,"content"],["contentContainer",""],["contentLabelTemplate",""],["tooltipTemplateRef",""],["clearButtonTemplate",""],[1,"dropBetween","unselectable",3,"ngClass","dragenter","dragleave","dragover","drop"],[1,"selfAndChildrenContent"],[1,"selfLevelContentContainer",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["customClick","","pbiTooltipAlwaysShow","true",1,"contentWithIndentationContainer",3,"id","ngClass","ngStyle","disabled","pbiMenu","menuMode","pbiMenuActivation","draggable","singleClickDisabled","pbiTooltip","pbiTooltipDisabled","pbiTooltipPosition","pbiTooltipWithFlexiblePositions","doubleClickDisabled","accessible-click-ignore-mouse","accessible-click-ignore-tabindex","singleClickAction","doubleClickAction","accessible-click","keydown.F2","keydown.arrowRight","contextmenu","dragstart","dragend","dragover","drop","pbiMenuButtonClick"],["contentLabel",""],["class","indentation",3,"ngStyle",4,"ngIf"],[1,"content-label",3,"ngSwitch"],[3,"name","size",4,"ngSwitchCase"],[3,"ngStyle","sheet","symbolId",4,"ngSwitchCase"],["class","editableLabel","spellcheck","false",3,"ngModel","ngModelChange","keydown","blur",4,"pbiEditableLabel","pbiEditableLabelValue","pbiEditableLabelMode","pbiEditableLabelEditable","pbiEditableLabelClasses"],[1,"indentation",3,"ngStyle"],[3,"name","size"],[3,"ngStyle","sheet","symbolId"],["spellcheck","false",1,"editableLabel",3,"ngModel","ngModelChange","keydown","blur"],[1,"tooltipTitle",3,"textContent"],["class","fieldTooltipDescription",3,"textContent",4,"ngIf"],[1,"fieldTooltipDescription",3,"textContent"],["class","glyphicon pbi-glyph-close glyph-mini content-clear pbi-focus-outline unselectable",3,"tabindex","pbiTooltip","aria-label","click","keydown.arrowLeft","keydown.arrowRight",4,"ngIf"],[1,"glyphicon","pbi-glyph-close","glyph-mini","content-clear","pbi-focus-outline","unselectable",3,"tabindex","pbiTooltip","aria-label","click","keydown.arrowLeft","keydown.arrowRight"],["clearButton",""],[1,"dropBetween","unselectable",3,"ngClass"],["class","placeholder","aria-readonly","true","tabIndex","0",3,"drop","dragover",4,"ngIf","ngIfElse"],["aria-readonly","true","tabIndex","0",1,"placeholder",3,"drop","dragover"],["data-testid","add-data-button","class","placeholder","tabIndex","0","role","button","aria-haspopup","true",3,"ngClass","accessible-click","drop","dragenter","dragleave","dragover",4,"ngIf"],["data-testid","add-data-button","tabIndex","0","role","button","aria-haspopup","true",1,"placeholder",3,"ngClass","accessible-click","drop","dragenter","dragleave","dragover"],["addDataButton",""],["class","dropBetween unselectable insidePlaceholder",3,"ngClass",4,"ngIf"],[1,"fluentTheme-sm-reg",3,"localize","id"],[1,"dropBetween","unselectable","insidePlaceholder",3,"ngClass"]],template:function(i,c){if(1&i&&(e.\u0275\u0275elementStart(0,"div",0,1),e.\u0275\u0275template(2,ne,1,6,"ng-container",2),e.\u0275\u0275template(3,Z,1,0,"div",3),e.\u0275\u0275template(4,Ge,5,7,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(6,He,1,2,"ng-template",null,5,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(8,Qe,1,1,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){var s=e.\u0275\u0275reference(7);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction5(4,Ke,c.listOfPbiDisplayData.length<1,c.disabled,c.v2Design,c.disableDropZoneIndicator,c.compact)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",c.listOfPbiDisplayData.length>0)("ngIfElse",s),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!c.v2Design&&c.allowMultipleValues&&c.listOfPbiDisplayData.length>0)}},dependencies:[D.NgClass,D.NgForOf,D.NgIf,D.NgTemplateOutlet,D.NgStyle,D.NgSwitch,D.NgSwitchCase,j.f,F.Fj,F.JJ,F.On,w.X,Q.t,W.D,te._,K.l8,pe.R,n.V,J.F],styles:['[_nghost-%COMP%]{--contentBackgroundColor: var(--gray-30);--contentBorderColor: var(--gray-40);--colorActionButton: var(--gray-190);--colorItemHover: var(--gray-60);--grayBackgroundEmpty: var(--gray-20)}[data-legacy-theming=false]   [_nghost-%COMP%]{--contentBackgroundColor: var(--colorNeutralBackground3);--contentBorderColor: var(--colorNeutralStroke1);--colorActionButton: var(--colorNeutralForeground1);--colorItemHover: var(--colorNeutralBackground3Hover);--grayBackgroundEmpty: var(--colorNeutralBackground3)}.placeholder-gray-background[_nghost-%COMP%]   .drag-drop-picker.empty[_ngcontent-%COMP%]{background-color:var(--grayBackgroundEmpty);border:1px solid var(--grayBackgroundEmpty)}.pbi-drag-drop-picker-scrollbar[_nghost-%COMP%]   .drag-drop-picker[_ngcontent-%COMP%]{overflow-y:auto}.tooltipTitle[_ngcontent-%COMP%]{font-weight:700}.fieldTooltipDescription[_ngcontent-%COMP%]{max-width:240px;display:block;word-break:break-word;white-space:pre-wrap}.drag-drop-picker[_ngcontent-%COMP%]{display:flex;border:1px dashed var(--gray-130, #605E5C);border-radius:2px;flex-direction:column;--field-error-background-color: var(--globalColorCranberryTint60);--field-error-border-color: var(--globalColorCranberryShade10)}  [data-legacy-theming=false] .drag-drop-picker{--field-error-background-color: var(--colorDangerBackground1);--field-error-border-color: var(--colorDangerBorder1)}.drag-drop-picker.disabled[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.drag-drop-picker.v2Design[_ngcontent-%COMP%]{border:1px dashed var(--colorNeutralStrokeAccessible);background-color:var(--colorNeutralBackground1);height:100%;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]{background-color:var(--colorNeutralBackground2);border-color:var(--colorNeutralStrokeAccessible);border-radius:3px;color:var(--colorNeutralForeground1);padding:2px;height:fit-content;display:flex;flex-direction:row;align-items:center}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content.error[_ngcontent-%COMP%]{border-color:var(--field-error-border-color);background-color:var(--field-error-background-color);color:var(--colorDangerForeground1)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow-x:hidden}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:row;align-items:center;box-sizing:border-box;height:24px}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]   .contentWithIndentationContainer[_ngcontent-%COMP%]{padding:0 2px}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]   .contentWithIndentationContainer.interactable[_ngcontent-%COMP%]{cursor:pointer}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]   .contentWithIndentationContainer.showHover[_ngcontent-%COMP%]:hover{background-color:var(--colorNeutralBackground3Hover)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]   .content-clear[_ngcontent-%COMP%]{height:24px;width:24px;display:flex;align-items:center;justify-content:center;margin:0}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]   .content-clear[_ngcontent-%COMP%]:hover{background-color:var(--colorNeutralBackground3Hover)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer.compact[_ngcontent-%COMP%]{height:16px}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer.compact[_ngcontent-%COMP%]   .content-clear[_ngcontent-%COMP%]{height:16px;width:16px}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .childrenContentContainer[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .childrenContentContainer[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]{border:none;padding:0;margin:0}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]{background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);display:flex;justify-content:center;cursor:pointer;padding:0;margin:4px;line-height:28px;box-sizing:border-box;position:relative;border:1px solid var(--colorNeutralStrokeAccessible)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.placeholder.compact[_ngcontent-%COMP%]{line-height:20px}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]   .dropBetween.insidePlaceholder[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:0;left:0;width:calc(100% - 8px)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]:hover{background-color:var(--colorNeutralBackground1Hover)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;cursor:pointer;pointer-events:none;display:flex;align-items:center;justify-content:center}.drag-drop-picker.v2Design.disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.5}.drag-drop-picker[_ngcontent-%COMP%]   div.dropBetween[_ngcontent-%COMP%]{height:4px;margin:0 4px}.drag-drop-picker[_ngcontent-%COMP%]   div.dropBetween.highlight[_ngcontent-%COMP%]{background-color:var(--theme-primary-color, #F2C811)}.drag-drop-picker[_ngcontent-%COMP%]   div.dropArea[_ngcontent-%COMP%]{flex:1;min-height:8px}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex:1;white-space:nowrap;overflow:hidden;padding:6px 8px;height:12px;border-radius:2px}.drag-drop-picker[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D)}.drag-drop-picker[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]{margin:0 4px;border:1px solid var(--contentBorderColor);background-color:var(--contentBackgroundColor)}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{margin-right:8px;flex-shrink:0}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   pbi-svg-use-symbol[_ngcontent-%COMP%]{width:var(--lg-font-size, 16px);height:var(--lg-font-size, 16px);margin-right:8px;flex-shrink:0}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer[_ngcontent-%COMP%]{overflow:hidden;flex:1;display:flex;flex-direction:row}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer.showHover[_ngcontent-%COMP%]:hover{background-color:var(--colorItemHover)}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .content-label[_ngcontent-%COMP%]{display:flex;text-overflow:ellipsis;overflow:hidden;align-items:center;padding:0;flex:1;color:var(--colorNeutralForeground1)}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .content-clear[_ngcontent-%COMP%]{cursor:pointer;padding:0;border:0;background:transparent;margin-left:12px;color:var(--colorActionButton)}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer[_ngcontent-%COMP%], .drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .content-clear[_ngcontent-%COMP%], .drag-drop-picker   span   [_nghost-%COMP%]     .pbi-drag-drop-picker-actions button{box-sizing:border-box;border:solid 2px transparent;border-radius:2px;outline:none}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer.pbi-focus-outline[_ngcontent-%COMP%]:focus-visible, .drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .content-clear.pbi-focus-outline[_ngcontent-%COMP%]:focus-visible, .drag-drop-picker   span   [_nghost-%COMP%]     .pbi-drag-drop-picker-actions button.pbi-focus-outline:focus-visible{border-color:var(--gray-140, #484644)}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer[_ngcontent-%COMP%]   .content-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer[_ngcontent-%COMP%]   .content-label[_ngcontent-%COMP%]   pbi-text-label[_ngcontent-%COMP%]{outline:none;border:none}.drag-drop-picker.disableDropZoneIndicator[_ngcontent-%COMP%]{border-style:solid}.drag-drop-picker.disableDropZoneIndicator[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]{border-style:none}.drag-drop-picker.disableDropZoneIndicator[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]{height:26px}.drag-drop-picker.disableDropZoneIndicator[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer.compact[_ngcontent-%COMP%]{height:18px}.drag-drop-picker.disableDropZoneIndicator[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]{border-color:var(--colorNeutralStroke1)}[_nghost-%COMP%]     .pbi-drag-drop-picker-actions{align-self:stretch;display:flex;justify-content:space-evenly;align-items:center}[_nghost-%COMP%]     .pbi-drag-drop-picker-actions>*{color:var(--gray-190, #201F1E)}[_nghost-%COMP%]     .pbi-drag-drop-picker-actions button.v2Design{margin:0;border:0;height:24px;width:24px;color:var(--colorNeutralForeground1);fill:var(--colorNeutralForeground1)}[_nghost-%COMP%]     .pbi-drag-drop-picker-actions button.v2Design:hover{background-color:var(--colorNeutralBackground3Hover)}[_nghost-%COMP%]     .pbi-drag-drop-picker-actions .button-divider.v2Design{align-self:stretch;margin-top:4px;margin-bottom:4px;background-color:var(--colorNeutralStrokeAccessible)}[_nghost-%COMP%]     .compact button.v2Design{height:16px;width:16px}[_nghost-%COMP%]     .compact .button-divider.v2Design{margin-top:2px;margin-bottom:2px}[_nghost-%COMP%]     .content-label pbi-text-label{margin:0;padding:0;flex:1;overflow-x:hidden}[_nghost-%COMP%]     .content-label input{margin:0;padding:2px 0;width:100%}'],changeDetection:0}),d}();function ve(d,r){return Ce(d,r,function(i,c){return i[c]})}function Oe(d,r){return Ce(d,r,function(i,c){return i.splice(c,1)[0]})}function Ce(d,r,i){R.fF.assert(function(){return!_.isEmpty(r)},"the given position should contain at least one element");var c=r[0],s=_.nth(d,c);R.fF.assertAnyValue(s,"it is possible that currentLevelItem is undefined, e.g. when using this function to add an item after the last item in the collection at the lowest level of the position");var h=r.slice(1);return _.isEmpty(h)?i(d,c):s?"string"==typeof s?(R.fF.assertFail("string data should not have any child"),i(d,c)):Ce(s.children,h,i):void R.fF.assertFail("trying to do something to a child of an item but the item does not exist")}},56598:function(Pe,re,p){p.d(re,{K:function(){return M}});var U=p(67659),t=p(5806),S=p(94770),e=p(93367),F=p(94841),R=p(79725),B=p(16095),A=p(77476),ee=p(17174),G=p(79061),N=p(50423),M=function(){function x(){}return x.\u0275fac=function(j){return new(j||x)},x.\u0275mod=N.\u0275\u0275defineNgModule({type:x}),x.\u0275inj=N.\u0275\u0275defineInjector({imports:[A.CommonModule,t.Y,ee.u5,G.v,U._,S.f,e.U,F.b,R.j,B.Z,ee.UX]}),x}()},65005:function(Pe,re,p){p.d(re,{l:function(){return fe}});var U=p(81337),t=p(50423),S=p(48787),e=p(30794),F=p(37196),R=[],B=p(77476),A=p(68070),ee=p(89237);function G(P,L){1&P&&t.\u0275\u0275element(0,"div",7)}function N(P,L){1&P&&(t.\u0275\u0275elementStart(0,"div",8),t.\u0275\u0275element(1,"div",9)(2,"div",10),t.\u0275\u0275elementEnd())}function M(P,L){1&P&&(t.\u0275\u0275elementStart(0,"div",11),t.\u0275\u0275element(1,"div",12),t.\u0275\u0275elementStart(2,"div",13),t.\u0275\u0275element(3,"div",14)(4,"div",15),t.\u0275\u0275elementEnd()())}function x(P,L){if(1&P&&(t.\u0275\u0275elementContainerStart(0,3),t.\u0275\u0275template(1,G,1,0,"div",4),t.\u0275\u0275template(2,N,3,0,"div",5),t.\u0275\u0275template(3,M,5,0,"div",6),t.\u0275\u0275elementContainerEnd()),2&P){var k=L.$implicit,I=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngSwitch",k),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase",I.largeBarType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase",I.multipleBarType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase",I.multipleSmallLargeType)}}function D(P,L){if(1&P&&(t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275template(1,x,4,4,"ng-container",2),t.\u0275\u0275elementEnd()),2&P){var k=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngStyle",k.barsStyle),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",k.barsProperties.bars)}}var K=function(){function P(){this.largeBarType=0,this.multipleBarType=1,this.multipleSmallLargeType=2}return P.prototype.ngOnChanges=function(){this.barsProperties&&(this.barsStyle={height:"".concat((this.barsProperties.height+8)*this.barsProperties.bars.length,"px")})},P.\u0275fac=function(k){return new(k||P)},P.\u0275cmp=t.\u0275\u0275defineComponent({type:P,selectors:[["shimmering-bars"]],inputs:{barsProperties:"barsProperties"},features:[t.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[["class","bars",3,"ngStyle",4,"ngIf"],[1,"bars",3,"ngStyle"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","largerLoadingBar animate",4,"ngSwitchCase"],["class","multipleBars",4,"ngSwitchCase"],["class","multipleSmallLarge",4,"ngSwitchCase"],[1,"largerLoadingBar","animate"],[1,"multipleBars"],[1,"miniLoadingBar","animate"],[1,"smallerLoadingBar","animate"],[1,"multipleSmallLarge"],[1,"shimmerBox","animate"],[1,"smallLargeBarContainer"],[1,"upperLoadingBar","animate"],[1,"lowerLoadingBar","animate"]],template:function(k,I){1&k&&t.\u0275\u0275template(0,D,2,2,"div",0),2&k&&t.\u0275\u0275property("ngIf",I.barsProperties)},dependencies:[B.NgForOf,B.NgIf,B.NgStyle,B.NgSwitch,B.NgSwitchCase],styles:['[_nghost-%COMP%]{--shimmer-background-color: var(--gray-20);--shimmer-animate1: var(--gray-30);--shimmer-animate2: var(--gray-50)}[data-legacy-theming=false]   [_nghost-%COMP%]{--shimmer-background-color: var(--colorNeutralBackground3);--shimmer-animate1: var(--colorNeutralBackground3Hover);--shimmer-animate2: var(--colorNeutralBackground3Pressed)}.bars[_ngcontent-%COMP%]{display:flex;flex-direction:column}.largerLoadingBar[_ngcontent-%COMP%]{border-radius:2px;flex-grow:1;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%]{margin:4px 8px}html[dir="rtl"][_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%]{margin:4px 8px}.multipleBars[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}html:not([dir="rtl"])[_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%]{margin:4px 8px}html[dir="rtl"][_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%]{margin:4px 8px}.miniLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:60%;width:10%;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%]{margin-right:4px}html[dir="rtl"][_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%]{margin-left:4px}.smallerLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:80%;width:100%;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%]{margin-left:4px}html[dir="rtl"][_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%]{margin-right:4px}.multipleSmallLarge[_ngcontent-%COMP%]{display:flex;flex-grow:1;padding:10px 9px}html:not([dir="rtl"])[_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%]{margin:4px 8px}html[dir="rtl"][_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%]{margin:4px 8px}.upperLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:65%;width:49%;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%]{margin:0 4px 11px 0}html[dir="rtl"][_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%]{margin:0 0 11px 4px}.lowerLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:65%;width:100%;background:var(--shimmer-background-color)}.shimmerBox[_ngcontent-%COMP%]{background:var(--shimmer-background-color);border-radius:2px;height:32px;width:32px}.smallLargeBarContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:167px}html:not([dir="rtl"])[_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%]{margin:4px 0 2.42px 13px}html[dir="rtl"][_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%]{margin:4px 13px 2.42px 0}.animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 5s infinite linear;background:linear-gradient(270deg,var(--shimmer-animate1) 0%,var(--shimmer-animate2) 50%,var(--shimmer-animate1) 100%);background-size:250% 100%}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:250% 0}to{background-position:-250% 0}}'],changeDetection:0}),P}(),pe=p(85102),n=["pbiTree"];function J(P,L){if(1&P){var k=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"tri-search-box",5),t.\u0275\u0275listener("value",function(v){t.\u0275\u0275restoreView(k);var b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.search$.next(v))}),t.\u0275\u0275pipe(1,"localize"),t.\u0275\u0275pipe(2,"localize"),t.\u0275\u0275elementEnd()}if(2&P){var I=t.\u0275\u0275nextContext();t.\u0275\u0275property("currentInputValue",I.searchText||"")("placeholderText",t.\u0275\u0275pipeBind1(2,8,"SearchBox_Text"))("fluentTheme",!0)("compact",!0)("fullWidth",!0),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(1,6,"SearchBox_Text"))}}function ue(P,L){if(1&P){var k=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"pbi-search-box")(1,"input",6),t.\u0275\u0275listener("input",function(v){t.\u0275\u0275restoreView(k);var b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.search$.next(v.target.value))}),t.\u0275\u0275pipe(2,"localize"),t.\u0275\u0275pipe(3,"localize"),t.\u0275\u0275elementEnd()()}if(2&P){var I=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("value",I.searchText||"")("placeholder",t.\u0275\u0275pipeBind1(3,5,"SearchBox_Text")),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(2,3,"SearchBox_Text"))}}function de(P,L){if(1&P&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"shimmering-bars",7),t.\u0275\u0275elementContainerEnd()),2&P){var k=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("barsProperties",k.shimmeringBars)}}function oe(P,L){if(1&P){var k=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"pbi-tree",12,13),t.\u0275\u0275listener("onNodeClick",function(v){t.\u0275\u0275restoreView(k);var b=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(b.onNodeClick.emit(v))})("onNodeCheck",function(v){t.\u0275\u0275restoreView(k);var b=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(b.onNodeCheck.emit(v))})("onNodeExpansionToggle",function(v){t.\u0275\u0275restoreView(k);var b=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(b.onNodeExpansionToggle.emit(v))})("onFirstRender",function(){t.\u0275\u0275restoreView(k);var v=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(v.onFirstRender())}),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementEnd()}if(2&P){var I=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("tree",I.fieldListTree)("search",t.\u0275\u0275pipeBind1(2,5,I.search$))("hasHighlights",I.hasHighlights)("checkMode",I.checkMode)("options",I._options)}}function ae(P,L){1&P&&t.\u0275\u0275projection(0,2)}function H(P,L){if(1&P&&(t.\u0275\u0275elementStart(0,"div",8),t.\u0275\u0275element(1,"div",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(2,oe,3,7,"pbi-tree",10),t.\u0275\u0275template(3,ae,1,0,"ng-template",null,11,t.\u0275\u0275templateRefExtractor)),2&P){var k=t.\u0275\u0275reference(4),I=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",I.fieldListTree)("ngIfElse",k)}}var he=[[["",8,"pbi-field-list-perspective-header"]],[["",8,"pbi-field-list-header"]],[["",8,"pbi-field-list-watermark"]]],ne=[".pbi-field-list-perspective-header",".pbi-field-list-header",".pbi-field-list-watermark"],Y={height:24,bars:[0,1,1,0,0]},fe=function(){function P(){this.hasHighlights=!1,this.loading=!1,this.shimmeringBars=Y,this.defaultOptions={},this._options=this.defaultOptions,this.onNodeExpansionToggle=new t.EventEmitter,this.onNodeClick=new t.EventEmitter,this.onNodeCheck=new t.EventEmitter,this.onFirstRenderComplete=new t.EventEmitter,this.handleFieldListTreeHeightDiff=new t.EventEmitter,this.search$=new e.xQ}return Object.defineProperty(P.prototype,"options",{set:function(k){this._options=(0,U.__assign)((0,U.__assign)({},this.defaultOptions),k)},enumerable:!1,configurable:!0}),P.prototype.ngOnInit=function(){var L=this;this.focusSearchBoxOnFirstRenderComplete&&this.onFirstRenderComplete.pipe((0,S.q)(1)).subscribe(function(){return L.focusSearchBox()})},P.prototype.onFirstRender=function(){var L=this.getFieldListTreeHeightDiff();this.handleFieldListTreeHeightDiff.emit(L),this.scrollSelectedItemIntoViewOnInit&&this.pbiTree.scrollToFirstSelectedNode(),this.onFirstRenderComplete.emit()},P.prototype.focusSearchBox=function(){$(".field-list-search-container input").trigger("focus")},P.prototype.getFieldListTreeHeightDiff=function(){return this.pbiTree.getTreeHeight()+2-this.pbiTreeElementRef.nativeElement.getBoundingClientRect().height},P.\u0275fac=function(k){return new(k||P)},P.\u0275cmp=t.\u0275\u0275defineComponent({type:P,selectors:[["pbi-field-list"]],viewQuery:function(k,I){if(1&k&&(t.\u0275\u0275viewQuery(F.u,5),t.\u0275\u0275viewQuery(n,5,t.ElementRef)),2&k){var V=void 0;t.\u0275\u0275queryRefresh(V=t.\u0275\u0275loadQuery())&&(I.pbiTree=V.first),t.\u0275\u0275queryRefresh(V=t.\u0275\u0275loadQuery())&&(I.pbiTreeElementRef=V.first)}},inputs:{fieldListTree:"fieldListTree",scrollSelectedItemIntoViewOnInit:"scrollSelectedItemIntoViewOnInit",checkMode:"checkMode",hasHighlights:"hasHighlights",loading:"loading",searchText:"searchText",focusSearchBoxOnFirstRenderComplete:"focusSearchBoxOnFirstRenderComplete",fluent:"fluent",options:"options"},outputs:{onNodeExpansionToggle:"onNodeExpansionToggle",onNodeClick:"onNodeClick",onNodeCheck:"onNodeCheck",onFirstRenderComplete:"onFirstRenderComplete",handleFieldListTreeHeightDiff:"handleFieldListTreeHeightDiff"},features:[t.\u0275\u0275ProvidersFeature(R)],ngContentSelectors:ne,decls:8,vars:4,consts:[["data-tutorial-target","search-box",1,"field-list-search-container"],["data-testid","search-bar-input",3,"currentInputValue","placeholderText","fluentTheme","compact","fullWidth","value",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["loaded",""],["data-testid","search-bar-input",3,"currentInputValue","placeholderText","fluentTheme","compact","fullWidth","value"],["pbiSearchInput","","data-testid","search-bar-input",1,"pbi-focus-outline",3,"value","placeholder","input"],[3,"barsProperties"],[1,"tutorial-target-container"],["data-tutorial-target","data-tree"],["data-testid","data-tree",3,"tree","search","hasHighlights","checkMode","options","onNodeClick","onNodeCheck","onNodeExpansionToggle","onFirstRender",4,"ngIf","ngIfElse"],["watermark",""],["data-testid","data-tree",3,"tree","search","hasHighlights","checkMode","options","onNodeClick","onNodeCheck","onNodeExpansionToggle","onFirstRender"],["pbiTree",""]],template:function(k,I){if(1&k&&(t.\u0275\u0275projectionDef(he),t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,J,3,10,"tri-search-box",1),t.\u0275\u0275template(2,ue,4,7,"pbi-search-box",2),t.\u0275\u0275elementEnd(),t.\u0275\u0275projection(3),t.\u0275\u0275projection(4,1),t.\u0275\u0275template(5,de,2,1,"ng-container",3),t.\u0275\u0275template(6,H,5,2,"ng-template",null,4,t.\u0275\u0275templateRefExtractor)),2&k){var V=t.\u0275\u0275reference(7);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",I.fluent),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!I.fluent),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",I.loading)("ngIfElse",V)}},dependencies:[B.NgIf,A.a,A.p,ee.U,F.u,K,B.AsyncPipe,pe.F],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}pbi-tree[_ngcontent-%COMP%]{margin-top:9px;height:100%;display:block;overflow:hidden}.tutorial-target-container[_ngcontent-%COMP%]{position:relative;visibility:hidden;height:0;width:0}.tutorial-target-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:20px;visibility:hidden;height:0;width:0}"],changeDetection:0}),P}()},89847:function(Pe,re,p){p.d(re,{vy:function(){return I},OY:function(){return k},Xo:function(){return V}});var G,N,M,x,D,U=p(37419),t=p(50423),S=p(48138),e=p(51193),F=p(77445),R=p(17174),B=p(90341),A=p(4437),ee=p(77476),j=["input"],Q=0,W=function(b,u){this.source=b,this.value=u},te={provide:R.JU,useExisting:(0,t.forwardRef)(function(){return ae}),multi:!0},K=new t.InjectionToken("MatRadioGroup"),pe=new t.InjectionToken("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}}),J=function(){var v=b.prototype;function b(u){this._changeDetector=u,this._value=null,this._name="mat-radio-group-"+Q++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=function(){},this.onTouched=function(){},this.change=new t.EventEmitter}return v._checkSelectedRadioButton=function(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)},v.ngAfterContentInit=function(){var g=this;this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(function(){g.selected&&!g._radios.find(function(C){return C===g.selected})&&(g._selected=null)})},v.ngOnDestroy=function(){var g;null==(g=this._buttonChanges)||g.unsubscribe()},v._touch=function(){this.onTouched&&this.onTouched()},v._updateRadioButtonNames=function(){var g=this;this._radios&&this._radios.forEach(function(C){C.name=g.name,C._markForCheck()})},v._updateSelectedRadioFromValue=function(){var g=this;this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(function(O){O.checked=g.value===O.value,O.checked&&(g._selected=O)}))},v._emitChangeEvent=function(){this._isInitialized&&this.change.emit(new W(this._selected,this._value))},v._markRadiosForCheck=function(){this._radios&&this._radios.forEach(function(g){return g._markForCheck()})},v.writeValue=function(g){this.value=g,this._changeDetector.markForCheck()},v.registerOnChange=function(g){this._controlValueAccessorChangeFn=g},v.registerOnTouched=function(g){this.onTouched=g},v.setDisabledState=function(g){this.disabled=g,this._changeDetector.markForCheck()},(0,B.Z)(b,[{key:"name",get:function(){return this._name},set:function(g){this._name=g,this._updateRadioButtonNames()}},{key:"labelPosition",get:function(){return this._labelPosition},set:function(g){this._labelPosition="before"===g?"before":"after",this._markRadiosForCheck()}},{key:"value",get:function(){return this._value},set:function(g){this._value!==g&&(this._value=g,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}},{key:"selected",get:function(){return this._selected},set:function(g){this._selected=g,this.value=g?g.value:null,this._checkSelectedRadioButton()}},{key:"disabled",get:function(){return this._disabled},set:function(g){this._disabled=(0,A.Ig)(g),this._markRadiosForCheck()}},{key:"required",get:function(){return this._required},set:function(g){this._required=(0,A.Ig)(g),this._markRadiosForCheck()}}]),b}();(G=J).\u0275fac=function(b){return new(b||G)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},G.\u0275dir=t.\u0275\u0275defineDirective({type:G,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}});var oe=function(v){function b(g,C,O,X,ie,le,ce,be){var z;return(z=v.call(this,C)||this)._changeDetector=O,z._focusMonitor=X,z._radioDispatcher=ie,z._providerOverride=ce,z._uniqueId="mat-radio-"+ ++Q,z.id=z._uniqueId,z.change=new t.EventEmitter,z._checked=!1,z._value=null,z._removeUniqueSelectionListener=function(){},z.radioGroup=g,z._noopAnimations="NoopAnimations"===le,be&&(z.tabIndex=(0,A.su)(be,0)),z}(0,U.Z)(b,v);var u=b.prototype;return u.focus=function(C,O){O?this._focusMonitor.focusVia(this._inputElement,O,C):this._inputElement.nativeElement.focus(C)},u._markForCheck=function(){this._changeDetector.markForCheck()},u.ngOnInit=function(){var C=this;this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen(function(O,X){O!==C.id&&X===C.name&&(C.checked=!1)})},u.ngDoCheck=function(){this._updateTabIndex()},u.ngAfterViewInit=function(){var C=this;this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(function(O){!O&&C.radioGroup&&C.radioGroup._touch()})},u.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()},u._emitChangeEvent=function(){this.change.emit(new W(this,this._value))},u._isRippleDisabled=function(){return this.disableRipple||this.disabled},u._onInputClick=function(C){C.stopPropagation()},u._onInputInteraction=function(C){if(C.stopPropagation(),!this.checked&&!this.disabled){var O=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),O&&this.radioGroup._emitChangeEvent())}},u._onTouchTargetClick=function(C){this._onInputInteraction(C),this.disabled||this._inputElement.nativeElement.focus()},u._setDisabled=function(C){this._disabled!==C&&(this._disabled=C,this._changeDetector.markForCheck())},u._updateTabIndex=function(){var O,C=this.radioGroup;if((O=C&&C.selected&&!this.disabled?C.selected===this?this.tabIndex:-1:this.tabIndex)!==this._previousTabIndex){var X,ie=null==(X=this._inputElement)?void 0:X.nativeElement;ie&&(ie.setAttribute("tabindex",O+""),this._previousTabIndex=O)}},(0,B.Z)(b,[{key:"checked",get:function(){return this._checked},set:function(C){var O=(0,A.Ig)(C);this._checked!==O&&(this._checked=O,O&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!O&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),O&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}},{key:"value",get:function(){return this._value},set:function(C){this._value!==C&&(this._value=C,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===C),this.checked&&(this.radioGroup.selected=this)))}},{key:"labelPosition",get:function(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"},set:function(C){this._labelPosition=C}},{key:"disabled",get:function(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled},set:function(C){this._setDisabled((0,A.Ig)(C))}},{key:"required",get:function(){return this._required||this.radioGroup&&this.radioGroup.required},set:function(C){this._required=(0,A.Ig)(C)}},{key:"color",get:function(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"},set:function(C){this._color=C}},{key:"inputId",get:function(){return(this.id||this._uniqueId)+"-input"}}]),b}((0,S.Kr)((0,S.sb)(function(b){this._elementRef=b})));(N=oe).\u0275fac=function(b){t.\u0275\u0275invalidFactory()},N.\u0275dir=t.\u0275\u0275defineDirective({type:N,viewQuery:function(b,u){var g;1&b&&t.\u0275\u0275viewQuery(j,5),2&b&&t.\u0275\u0275queryRefresh(g=t.\u0275\u0275loadQuery())&&(u._inputElement=g.first)},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[t.\u0275\u0275InheritDefinitionFeature]});var ae=function(v){function b(){return v.apply(this,arguments)||this}return(0,U.Z)(b,v),b}(J);(M=ae).\u0275fac=function(){var v;return function(u){return(v||(v=t.\u0275\u0275getInheritedFactory(M)))(u||M)}}(),M.\u0275dir=t.\u0275\u0275defineDirective({type:M,selectors:[["mat-radio-group"]],contentQueries:function(b,u,g){var C;1&b&&t.\u0275\u0275contentQuery(g,H,5),2&b&&t.\u0275\u0275queryRefresh(C=t.\u0275\u0275loadQuery())&&(u._radios=C)},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[t.\u0275\u0275ProvidersFeature([te,{provide:K,useExisting:M}]),t.\u0275\u0275InheritDefinitionFeature]});var H=function(v){function b(u,g,C,O,X,ie,le,ce){return v.call(this,u,g,C,O,X,ie,le,ce)||this}return(0,U.Z)(b,v),b}(oe);(x=H).\u0275fac=function(b){return new(b||x)(t.\u0275\u0275directiveInject(K,8),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(e.tE),t.\u0275\u0275directiveInject(F.A8),t.\u0275\u0275directiveInject(t.ANIMATION_MODULE_TYPE,8),t.\u0275\u0275directiveInject(pe,8),t.\u0275\u0275injectAttribute("tabindex"))},x.\u0275cmp=t.\u0275\u0275defineComponent({type:x,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(b,u){1&b&&t.\u0275\u0275listener("focus",function(){return u._inputElement.nativeElement.focus()}),2&b&&(t.\u0275\u0275attribute("id",u.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),t.\u0275\u0275classProp("mat-primary","primary"===u.color)("mat-accent","accent"===u.color)("mat-warn","warn"===u.color)("mat-mdc-radio-checked",u.checked)("_mat-animation-noopable",u._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:["*"],decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(b,u){if(1&b&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2)(3,"div",3),t.\u0275\u0275listener("click",function(O){return u._onTouchTargetClick(O)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"input",4,5),t.\u0275\u0275listener("change",function(O){return u._onInputInteraction(O)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",6),t.\u0275\u0275element(7,"div",7)(8,"div",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",9),t.\u0275\u0275element(10,"div",10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"label",11),t.\u0275\u0275projection(12),t.\u0275\u0275elementEnd()()),2&b){var g=t.\u0275\u0275reference(1);t.\u0275\u0275classProp("mdc-form-field--align-end","before"==u.labelPosition),t.\u0275\u0275advance(2),t.\u0275\u0275classProp("mdc-radio--disabled",u.disabled),t.\u0275\u0275advance(2),t.\u0275\u0275property("id",u.inputId)("checked",u.checked)("disabled",u.disabled)("required",u.required),t.\u0275\u0275attribute("name",u.name)("value",u.value)("aria-label",u.ariaLabel)("aria-labelledby",u.ariaLabelledby)("aria-describedby",u.ariaDescribedby),t.\u0275\u0275advance(5),t.\u0275\u0275property("matRippleTrigger",g)("matRippleDisabled",u._isRippleDisabled())("matRippleCentered",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("for",u.inputId)}},dependencies:[S.wG],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),(D=function(){}).\u0275fac=function(b){return new(b||D)},D.\u0275mod=t.\u0275\u0275defineNgModule({type:D}),D.\u0275inj=t.\u0275\u0275defineInjector({imports:[S.BQ,ee.CommonModule,S.si,S.BQ]});var ne,Z,Y,fe=function(b){return{enterDuration:b}},L={provide:R.JU,useExisting:(0,t.forwardRef)(function(){return k}),multi:!0},k=function(v){function b(){return v.apply(this,arguments)||this}return(0,U.Z)(b,v),b}(J);(ne=k).\u0275fac=function(){var v;return function(u){return(v||(v=t.\u0275\u0275getInheritedFactory(ne)))(u||ne)}}(),ne.\u0275dir=t.\u0275\u0275defineDirective({type:ne,selectors:[["mat-radio-group"]],contentQueries:function(b,u,g){var C;1&b&&t.\u0275\u0275contentQuery(g,I,5),2&b&&t.\u0275\u0275queryRefresh(C=t.\u0275\u0275loadQuery())&&(u._radios=C)},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[t.\u0275\u0275ProvidersFeature([L,{provide:K,useExisting:ne}]),t.\u0275\u0275InheritDefinitionFeature]});var I=function(v){function b(u,g,C,O,X,ie,le,ce){return v.call(this,u,g,C,O,X,ie,le,ce)||this}return(0,U.Z)(b,v),b}(oe);(Z=I).\u0275fac=function(b){return new(b||Z)(t.\u0275\u0275directiveInject(K,8),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(e.tE),t.\u0275\u0275directiveInject(F.A8),t.\u0275\u0275directiveInject(t.ANIMATION_MODULE_TYPE,8),t.\u0275\u0275directiveInject(pe,8),t.\u0275\u0275injectAttribute("tabindex"))},Z.\u0275cmp=t.\u0275\u0275defineComponent({type:Z,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(b,u){1&b&&t.\u0275\u0275listener("focus",function(){return u._inputElement.nativeElement.focus()}),2&b&&(t.\u0275\u0275attribute("tabindex",null)("id",u.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),t.\u0275\u0275classProp("mat-radio-checked",u.checked)("mat-radio-disabled",u.disabled)("_mat-animation-noopable",u._noopAnimations)("mat-primary","primary"===u.color)("mat-accent","accent"===u.color)("mat-warn","warn"===u.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:["*"],decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(b,u){if(1&b&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"label",0,1)(2,"span",2),t.\u0275\u0275element(3,"span",3)(4,"span",4),t.\u0275\u0275elementStart(5,"input",5,6),t.\u0275\u0275listener("change",function(O){return u._onInputInteraction(O)})("click",function(O){return u._onInputClick(O)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"span",7),t.\u0275\u0275element(8,"span",8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"span",9)(10,"span",10),t.\u0275\u0275text(11,"\xa0"),t.\u0275\u0275elementEnd(),t.\u0275\u0275projection(12),t.\u0275\u0275elementEnd()()),2&b){var g=t.\u0275\u0275reference(1);t.\u0275\u0275attribute("for",u.inputId),t.\u0275\u0275advance(5),t.\u0275\u0275property("id",u.inputId)("checked",u.checked)("disabled",u.disabled)("required",u.required),t.\u0275\u0275attribute("name",u.name)("value",u.value)("aria-label",u.ariaLabel)("aria-labelledby",u.ariaLabelledby)("aria-describedby",u.ariaDescribedby),t.\u0275\u0275advance(2),t.\u0275\u0275property("matRippleTrigger",g)("matRippleDisabled",u._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",t.\u0275\u0275pureFunction1(17,fe,u._noopAnimations?0:150)),t.\u0275\u0275advance(2),t.\u0275\u0275classProp("mat-radio-label-before","before"==u.labelPosition)}},dependencies:[S.wG],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0});var V=function(){};(Y=V).\u0275fac=function(b){return new(b||Y)},Y.\u0275mod=t.\u0275\u0275defineNgModule({type:Y}),Y.\u0275inj=t.\u0275\u0275defineInjector({imports:[S.si,S.BQ,S.BQ]})}}]);