(self.webpackChunkdesktop = self.webpackChunkdesktop || []).push([ [ "goals-ui" ], {
    77489: function(module) {
        module.exports = function(arr, len) {
            (null == len || len > arr.length) && (len = arr.length);
            for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
            return arr2;
        }, module.exports.default = module.exports, module.exports.__esModule = !0;
    },
    32878: function(module) {
        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, 
                "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor);
            }
        }
        module.exports = function(Constructor, protoProps, staticProps) {
            return protoProps && _defineProperties(Constructor.prototype, protoProps), staticProps && _defineProperties(Constructor, staticProps), 
            Constructor;
        }, module.exports.default = module.exports, module.exports.__esModule = !0;
    },
    34850: function(module, __unused_webpack_exports, __webpack_require__) {
        var unsupportedIterableToArray = __webpack_require__(91052);
        module.exports = function(o, allowArrayLike) {
            var it = "undefined" != typeof Symbol && o[Symbol.iterator] || o["@@iterator"];
            if (it) return (it = it.call(o)).next.bind(it);
            if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && "number" == typeof o.length) {
                it && (o = it);
                var i = 0;
                return function() {
                    return i >= o.length ? {
                        done: !0
                    } : {
                        done: !1,
                        value: o[i++]
                    };
                };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }, module.exports.default = module.exports, module.exports.__esModule = !0;
    },
    12864: function(module, __unused_webpack_exports, __webpack_require__) {
        var setPrototypeOf = __webpack_require__(74);
        module.exports = function(subClass, superClass) {
            subClass.prototype = Object.create(superClass.prototype), subClass.prototype.constructor = subClass, 
            setPrototypeOf(subClass, superClass);
        }, module.exports.default = module.exports, module.exports.__esModule = !0;
    },
    74: function(module) {
        function _setPrototypeOf(o, p) {
            return module.exports = _setPrototypeOf = Object.setPrototypeOf || function(o, p) {
                return o.__proto__ = p, o;
            }, module.exports.default = module.exports, module.exports.__esModule = !0, _setPrototypeOf(o, p);
        }
        module.exports = _setPrototypeOf, module.exports.default = module.exports, module.exports.__esModule = !0;
    },
    91052: function(module, __unused_webpack_exports, __webpack_require__) {
        var arrayLikeToArray = __webpack_require__(77489);
        module.exports = function(o, minLen) {
            if (o) {
                if ("string" == typeof o) return arrayLikeToArray(o, minLen);
                var n = Object.prototype.toString.call(o).slice(8, -1);
                return "Object" === n && o.constructor && (n = o.constructor.name), "Map" === n || "Set" === n ? Array.from(o) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? arrayLikeToArray(o, minLen) : void 0;
            }
        }, module.exports.default = module.exports, module.exports.__esModule = !0;
    },
    36444: function(module, __unused_webpack_exports, __webpack_require__) {
        var _createClass = __webpack_require__(32878).default, _inheritsLoose = __webpack_require__(12864).default, _createForOfIteratorHelperLoose = __webpack_require__(34850).default;
        function _regeneratorRuntime() {
            "use strict";
            _regeneratorRuntime = function() {
                return e;
            };
            var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function(t, e, r) {
                t[e] = r.value;
            }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag";
            function define(t, e, r) {
                return Object.defineProperty(t, e, {
                    value: r,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }), t[e];
            }
            try {
                define({}, "");
            } catch (t) {
                define = function(t, e, r) {
                    return t[e] = r;
                };
            }
            function wrap(t, e, r, n) {
                var a = Object.create((e && e.prototype instanceof Generator ? e : Generator).prototype), c = new Context(n || []);
                return o(a, "_invoke", {
                    value: makeInvokeMethod(t, r, c)
                }), a;
            }
            function tryCatch(t, e, r) {
                try {
                    return {
                        type: "normal",
                        arg: t.call(e, r)
                    };
                } catch (t) {
                    return {
                        type: "throw",
                        arg: t
                    };
                }
            }
            e.wrap = wrap;
            var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {};
            function Generator() {}
            function GeneratorFunction() {}
            function GeneratorFunctionPrototype() {}
            var p = {};
            define(p, a, function() {
                return this;
            });
            var d = Object.getPrototypeOf, v = d && d(d(values([])));
            v && v !== r && n.call(v, a) && (p = v);
            var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);
            function defineIteratorMethods(t) {
                [ "next", "throw", "return" ].forEach(function(e) {
                    define(t, e, function(t) {
                        return this._invoke(e, t);
                    });
                });
            }
            function AsyncIterator(t, e) {
                function invoke(r, o, i, a) {
                    var c = tryCatch(t[r], t, o);
                    if ("throw" !== c.type) {
                        var u = c.arg, h = u.value;
                        return h && "object" == typeof h && n.call(h, "__await") ? e.resolve(h.__await).then(function(t) {
                            invoke("next", t, i, a);
                        }, function(t) {
                            invoke("throw", t, i, a);
                        }) : e.resolve(h).then(function(t) {
                            u.value = t, i(u);
                        }, function(t) {
                            return invoke("throw", t, i, a);
                        });
                    }
                    a(c.arg);
                }
                var r;
                o(this, "_invoke", {
                    value: function(t, n) {
                        function callInvokeWithMethodAndArg() {
                            return new e(function(e, r) {
                                invoke(t, n, e, r);
                            });
                        }
                        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
                    }
                });
            }
            function makeInvokeMethod(e, r, n) {
                var o = h;
                return function(i, a) {
                    if (o === f) throw new Error("Generator is already running");
                    if (o === s) {
                        if ("throw" === i) throw a;
                        return {
                            value: t,
                            done: !0
                        };
                    }
                    for (n.method = i, n.arg = a; ;) {
                        var c = n.delegate;
                        if (c) {
                            var u = maybeInvokeDelegate(c, n);
                            if (u) {
                                if (u === y) continue;
                                return u;
                            }
                        }
                        if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) {
                            if (o === h) throw o = s, n.arg;
                            n.dispatchException(n.arg);
                        } else "return" === n.method && n.abrupt("return", n.arg);
                        o = f;
                        var p = tryCatch(e, r, n);
                        if ("normal" === p.type) {
                            if (o = n.done ? s : l, p.arg === y) continue;
                            return {
                                value: p.arg,
                                done: n.done
                            };
                        }
                        "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg);
                    }
                };
            }
            function maybeInvokeDelegate(e, r) {
                var n = r.method, o = e.iterator[n];
                if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", 
                r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", 
                r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y;
                var i = tryCatch(o, e.iterator, r.arg);
                if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, 
                y;
                var a = i.arg;
                return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", 
                r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), 
                r.delegate = null, y);
            }
            function pushTryEntry(t) {
                var e = {
                    tryLoc: t[0]
                };
                1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), 
                this.tryEntries.push(e);
            }
            function resetTryEntry(t) {
                var e = t.completion || {};
                e.type = "normal", delete e.arg, t.completion = e;
            }
            function Context(t) {
                this.tryEntries = [ {
                    tryLoc: "root"
                } ], t.forEach(pushTryEntry, this), this.reset(!0);
            }
            function values(e) {
                if (e || "" === e) {
                    var r = e[a];
                    if (r) return r.call(e);
                    if ("function" == typeof e.next) return e;
                    if (!isNaN(e.length)) {
                        var o = -1, i = function next() {
                            for (;++o < e.length; ) if (n.call(e, o)) return next.value = e[o], next.done = !1, 
                            next;
                            return next.value = t, next.done = !0, next;
                        };
                        return i.next = i;
                    }
                }
                throw new TypeError(typeof e + " is not iterable");
            }
            return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", {
                value: GeneratorFunctionPrototype,
                configurable: !0
            }), o(GeneratorFunctionPrototype, "constructor", {
                value: GeneratorFunction,
                configurable: !0
            }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), 
            e.isGeneratorFunction = function(t) {
                var e = "function" == typeof t && t.constructor;
                return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name));
            }, e.mark = function(t) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, 
                define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t;
            }, e.awrap = function(t) {
                return {
                    __await: t
                };
            }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function() {
                return this;
            }), e.AsyncIterator = AsyncIterator, e.async = function(t, r, n, o, i) {
                void 0 === i && (i = Promise);
                var a = new AsyncIterator(wrap(t, r, n, o), i);
                return e.isGeneratorFunction(r) ? a : a.next().then(function(t) {
                    return t.done ? t.value : a.next();
                });
            }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function() {
                return this;
            }), define(g, "toString", function() {
                return "[object Generator]";
            }), e.keys = function(t) {
                var e = Object(t), r = [];
                for (var n in e) r.push(n);
                return r.reverse(), function next() {
                    for (;r.length; ) {
                        var t = r.pop();
                        if (t in e) return next.value = t, next.done = !1, next;
                    }
                    return next.done = !0, next;
                };
            }, e.values = values, Context.prototype = {
                constructor: Context,
                reset: function(e) {
                    if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, 
                    this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);
                },
                stop: function() {
                    this.done = !0;
                    var t = this.tryEntries[0].completion;
                    if ("throw" === t.type) throw t.arg;
                    return this.rval;
                },
                dispatchException: function(e) {
                    if (this.done) throw e;
                    var r = this;
                    function handle(n, o) {
                        return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), 
                        !!o;
                    }
                    for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                        var i = this.tryEntries[o], a = i.completion;
                        if ("root" === i.tryLoc) return handle("end");
                        if (i.tryLoc <= this.prev) {
                            var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc");
                            if (c && u) {
                                if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
                                if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
                            } else if (c) {
                                if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
                            } else {
                                if (!u) throw new Error("try statement without catch or finally");
                                if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
                            }
                        }
                    }
                },
                abrupt: function(t, e) {
                    for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                        var o = this.tryEntries[r];
                        if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
                            var i = o;
                            break;
                        }
                    }
                    i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);
                    var a = i ? i.completion : {};
                    return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, 
                    y) : this.complete(a);
                },
                complete: function(t, e) {
                    if ("throw" === t.type) throw t.arg;
                    return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, 
                    this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), 
                    y;
                },
                finish: function(t) {
                    for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                        var r = this.tryEntries[e];
                        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), 
                        y;
                    }
                },
                catch: function(t) {
                    for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                        var r = this.tryEntries[e];
                        if (r.tryLoc === t) {
                            var n = r.completion;
                            if ("throw" === n.type) {
                                var o = n.arg;
                                resetTryEntry(r);
                            }
                            return o;
                        }
                    }
                    throw new Error("illegal catch attempt");
                },
                delegateYield: function(e, r, n) {
                    return this.delegate = {
                        iterator: values(e),
                        resultName: r,
                        nextLoc: n
                    }, "next" === this.method && (this.arg = t), y;
                }
            }, e;
        }
        "undefined" != typeof self && self, module.exports = function() {
            var e = {
                302: function(e, t, n) {
                    t.formatArgs = function(t) {
                        if (t[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + t[0] + (this.useColors ? "%c " : " ") + "+" + e.exports.humanize(this.diff), 
                        this.useColors) {
                            var n = "color: " + this.color;
                            t.splice(1, 0, n, "color: inherit");
                            var o = 0, i = 0;
                            t[0].replace(/%[a-zA-Z%]/g, function(e) {
                                "%%" !== e && (o++, "%c" === e && (i = o));
                            }), t.splice(i, 0, n);
                        }
                    }, t.save = function(e) {
                        try {
                            e ? t.storage.setItem("debug", e) : t.storage.removeItem("debug");
                        } catch (e) {}
                    }, t.load = function() {
                        var e;
                        try {
                            e = t.storage.getItem("debug");
                        } catch (e) {}
                        return !e && "undefined" != typeof process && "env" in process && (e = process.env.DEBUG), 
                        e;
                    }, t.useColors = function() {
                        return !("undefined" == typeof window || !window.process || "renderer" !== window.process.type && !window.process.__nwjs) || ("undefined" == typeof navigator || !navigator.userAgent || !navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) && ("undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
                    }, t.storage = function() {
                        try {
                            return localStorage;
                        } catch (e) {}
                    }(), t.destroy = function() {
                        var e = !1;
                        return function() {
                            e || (e = !0);
                        };
                    }(), t.colors = [ "#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33" ], 
                    t.log = console.debug || console.log || function() {}, e.exports = n(65)(t), e.exports.formatters.j = function(e) {
                        try {
                            return JSON.stringify(e);
                        } catch (e) {
                            return "[UnexpectedJSONParseError]: " + e.message;
                        }
                    };
                },
                65: function(e, t, n) {
                    e.exports = function(e) {
                        function t(e) {
                            var n, i, r, a = null;
                            function s() {
                                for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) e[_key] = arguments[_key];
                                if (s.enabled) {
                                    var o = s, i = Number(new Date);
                                    o.diff = i - (n || i), o.prev = n, o.curr = i, n = i, e[0] = t.coerce(e[0]), "string" != typeof e[0] && e.unshift("%O");
                                    var a = 0;
                                    e[0] = e[0].replace(/%([a-zA-Z%])/g, function(n, i) {
                                        if ("%%" === n) return "%";
                                        a++;
                                        var r = t.formatters[i];
                                        return "function" == typeof r && (n = r.call(o, e[a]), e.splice(a, 1), a--), n;
                                    }), t.formatArgs.call(o, e), (o.log || t.log).apply(o, e);
                                }
                            }
                            return s.namespace = e, s.useColors = t.useColors(), s.color = t.selectColor(e), 
                            s.extend = o, s.destroy = t.destroy, Object.defineProperty(s, "enabled", {
                                enumerable: !0,
                                configurable: !1,
                                get: function() {
                                    return null !== a ? a : (i !== t.namespaces && (i = t.namespaces, r = t.enabled(e)), 
                                    r);
                                },
                                set: function(e) {
                                    a = e;
                                }
                            }), "function" == typeof t.init && t.init(s), s;
                        }
                        function o(e, n) {
                            var o = t(this.namespace + (void 0 === n ? ":" : n) + e);
                            return o.log = this.log, o;
                        }
                        function i(e) {
                            return e.toString().substring(2, e.toString().length - 2).replace(/\.\*\?$/, "*");
                        }
                        return t.debug = t, t.default = t, t.coerce = function(e) {
                            return e instanceof Error ? e.stack || e.message : e;
                        }, t.disable = function() {
                            var e = [].concat(t.names.map(i), t.skips.map(i).map(function(e) {
                                return "-" + e;
                            })).join(",");
                            return t.enable(""), e;
                        }, t.enable = function(e) {
                            var n;
                            t.save(e), t.namespaces = e, t.names = [], t.skips = [];
                            var o = ("string" == typeof e ? e : "").split(/[\s,]+/), i = o.length;
                            for (n = 0; n < i; n++) o[n] && ("-" === (e = o[n].replace(/\*/g, ".*?"))[0] ? t.skips.push(new RegExp("^" + e.slice(1) + "$")) : t.names.push(new RegExp("^" + e + "$")));
                        }, t.enabled = function(e) {
                            if ("*" === e[e.length - 1]) return !0;
                            var n, o;
                            for (n = 0, o = t.skips.length; n < o; n++) if (t.skips[n].test(e)) return !1;
                            for (n = 0, o = t.names.length; n < o; n++) if (t.names[n].test(e)) return !0;
                            return !1;
                        }, t.humanize = n(247), t.destroy = function() {}, Object.keys(e).forEach(function(n) {
                            t[n] = e[n];
                        }), t.names = [], t.skips = [], t.formatters = {}, t.selectColor = function(e) {
                            for (var n = 0, _t3 = 0; _t3 < e.length; _t3++) n = (n << 5) - n + e.charCodeAt(_t3), 
                            n |= 0;
                            return t.colors[Math.abs(n) % t.colors.length];
                        }, t.enable(t.load()), t;
                    };
                },
                247: function(e) {
                    var t = 1e3, n = 60 * t, o = 60 * n, i = 24 * o;
                    function r(e) {
                        if (!((e = String(e)).length > 100)) {
                            var r = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);
                            if (r) {
                                var a = parseFloat(r[1]);
                                switch ((r[2] || "ms").toLowerCase()) {
                                  case "years":
                                  case "year":
                                  case "yrs":
                                  case "yr":
                                  case "y":
                                    return 315576e5 * a;

                                  case "weeks":
                                  case "week":
                                  case "w":
                                    return 6048e5 * a;

                                  case "days":
                                  case "day":
                                  case "d":
                                    return a * i;

                                  case "hours":
                                  case "hour":
                                  case "hrs":
                                  case "hr":
                                  case "h":
                                    return a * o;

                                  case "minutes":
                                  case "minute":
                                  case "mins":
                                  case "min":
                                  case "m":
                                    return a * n;

                                  case "seconds":
                                  case "second":
                                  case "secs":
                                  case "sec":
                                  case "s":
                                    return a * t;

                                  case "milliseconds":
                                  case "millisecond":
                                  case "msecs":
                                  case "msec":
                                  case "ms":
                                    return a;

                                  default:
                                    return;
                                }
                            }
                        }
                    }
                    function a(e) {
                        var r = Math.abs(e);
                        return r >= i ? Math.round(e / i) + "d" : r >= o ? Math.round(e / o) + "h" : r >= n ? Math.round(e / n) + "m" : r >= t ? Math.round(e / t) + "s" : e + "ms";
                    }
                    function s(e) {
                        var r = Math.abs(e);
                        return r >= i ? l(e, r, i, "day") : r >= o ? l(e, r, o, "hour") : r >= n ? l(e, r, n, "minute") : r >= t ? l(e, r, t, "second") : e + " ms";
                    }
                    function l(e, t, n, o) {
                        var i = t >= 1.5 * n;
                        return Math.round(e / n) + " " + o + (i ? "s" : "");
                    }
                    e.exports = function(e, t) {
                        t = t || {};
                        var n = typeof e;
                        if ("string" === n && e.length > 0) return r(e);
                        if ("number" === n && isFinite(e)) return t.long ? s(e) : a(e);
                        throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(e));
                    };
                }
            }, t = {};
            function n(o) {
                var i = t[o];
                if (void 0 !== i) return i.exports;
                var r = t[o] = {
                    exports: {}
                };
                return e[o](r, r.exports, n), r.exports;
            }
            (function() {
                var e, t = Object.getPrototypeOf ? function(e) {
                    return Object.getPrototypeOf(e);
                } : function(e) {
                    return e.__proto__;
                };
                n.t = function(o, i) {
                    if (1 & i && (o = this(o)), 8 & i) return o;
                    if ("object" == typeof o && o) {
                        if (4 & i && o.__esModule) return o;
                        if (16 & i && "function" == typeof o.then) return o;
                    }
                    var r = Object.create(null);
                    n.r(r);
                    var a = {};
                    e = e || [ null, t({}), t([]), t(t) ];
                    for (var s = 2 & i && o; "object" == typeof s && !~e.indexOf(s); s = t(s)) Object.getOwnPropertyNames(s).forEach(function(e) {
                        return a[e] = function() {
                            return o[e];
                        };
                    });
                    return a.default = function() {
                        return o;
                    }, n.d(r, a), r;
                };
            })(), n.d = function(e, t) {
                for (var o in t) n.o(t, o) && !n.o(e, o) && Object.defineProperty(e, o, {
                    enumerable: !0,
                    get: t[o]
                });
            }, n.o = function(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t);
            }, n.r = function(e) {
                "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                    value: "Module"
                }), Object.defineProperty(e, "__esModule", {
                    value: !0
                });
            };
            var o = {};
            return function() {
                "use strict";
                n.r(o), n.d(o, {
                    ActionObjectType: function() {
                        return _;
                    },
                    ChannelType: function() {
                        return B;
                    },
                    ChildAppWindow: function() {
                        return Co;
                    },
                    DialogDimension: function() {
                        return V;
                    },
                    ErrorCode: function() {
                        return k;
                    },
                    FileOpenPreference: function() {
                        return F;
                    },
                    FrameContexts: function() {
                        return H;
                    },
                    HostClientType: function() {
                        return L;
                    },
                    HostName: function() {
                        return N;
                    },
                    LiveShareHost: function() {
                        return Vi;
                    },
                    NotificationTypes: function() {
                        return _n;
                    },
                    ParentAppWindow: function() {
                        return vo;
                    },
                    SecondaryM365ContentIdName: function() {
                        return O;
                    },
                    TaskModuleDimension: function() {
                        return W;
                    },
                    TeamType: function() {
                        return U;
                    },
                    UserSettingTypes: function() {
                        return kn;
                    },
                    UserTeamRole: function() {
                        return x;
                    },
                    ViewerActionTypes: function() {
                        return On;
                    },
                    app: function() {
                        return pt;
                    },
                    appEntity: function() {
                        return ur;
                    },
                    appInitialization: function() {
                        return ai;
                    },
                    appInstallDialog: function() {
                        return Gn;
                    },
                    authentication: function() {
                        return Qe;
                    },
                    barCode: function() {
                        return lo;
                    },
                    calendar: function() {
                        return Eo;
                    },
                    call: function() {
                        return ri;
                    },
                    chat: function() {
                        return co;
                    },
                    clipboard: function() {
                        return po;
                    },
                    conversations: function() {
                        return Mn;
                    },
                    dialog: function() {
                        return ot;
                    },
                    enablePrintCapability: function() {
                        return di;
                    },
                    executeDeepLink: function() {
                        return Ai;
                    },
                    externalAppAuthentication: function() {
                        return or;
                    },
                    externalAppCardActions: function() {
                        return ir;
                    },
                    files: function() {
                        return rr;
                    },
                    geoLocation: function() {
                        return go;
                    },
                    getAdaptiveCardSchemaVersion: function() {
                        return wo;
                    },
                    getContext: function() {
                        return pi;
                    },
                    getMruTabInstances: function() {
                        return Ti;
                    },
                    getTabInstances: function() {
                        return Ii;
                    },
                    initialize: function() {
                        return ui;
                    },
                    initializeWithFrameContext: function() {
                        return Fi;
                    },
                    liveShare: function() {
                        return xi;
                    },
                    location: function() {
                        return bo;
                    },
                    logs: function() {
                        return Fn;
                    },
                    mail: function() {
                        return Ro;
                    },
                    marketplace: function() {
                        return nr;
                    },
                    media: function() {
                        return Jn;
                    },
                    meeting: function() {
                        return yo;
                    },
                    meetingRoom: function() {
                        return ar;
                    },
                    menus: function() {
                        return it;
                    },
                    monetization: function() {
                        return Po;
                    },
                    navigateBack: function() {
                        return Di;
                    },
                    navigateCrossDomain: function() {
                        return Mi;
                    },
                    navigateToTab: function() {
                        return ki;
                    },
                    notifications: function() {
                        return sr;
                    },
                    openFilePreview: function() {
                        return xn;
                    },
                    pages: function() {
                        return It;
                    },
                    people: function() {
                        return _o;
                    },
                    print: function() {
                        return fi;
                    },
                    profile: function() {
                        return Oo;
                    },
                    registerAppButtonClickHandler: function() {
                        return hi;
                    },
                    registerAppButtonHoverEnterHandler: function() {
                        return wi;
                    },
                    registerAppButtonHoverLeaveHandler: function() {
                        return Ci;
                    },
                    registerBackButtonHandler: function() {
                        return vi;
                    },
                    registerBeforeUnloadHandler: function() {
                        return bi;
                    },
                    registerChangeSettingsHandler: function() {
                        return Pi;
                    },
                    registerCustomHandler: function() {
                        return Hn;
                    },
                    registerFocusEnterHandler: function() {
                        return yi;
                    },
                    registerFullScreenHandler: function() {
                        return gi;
                    },
                    registerOnLoadHandler: function() {
                        return Si;
                    },
                    registerOnThemeChangeHandler: function() {
                        return mi;
                    },
                    registerUserSettingsChangeHandler: function() {
                        return Un;
                    },
                    remoteCamera: function() {
                        return lr;
                    },
                    returnFocus: function() {
                        return Oi;
                    },
                    search: function() {
                        return Zo;
                    },
                    secondaryBrowser: function() {
                        return ho;
                    },
                    sendCustomEvent: function() {
                        return Nn;
                    },
                    sendCustomMessage: function() {
                        return Ln;
                    },
                    setFrameContext: function() {
                        return Ri;
                    },
                    settings: function() {
                        return Li;
                    },
                    shareDeepLink: function() {
                        return Ei;
                    },
                    sharing: function() {
                        return Qo;
                    },
                    stageView: function() {
                        return Xo;
                    },
                    tasks: function() {
                        return Ui;
                    },
                    teams: function() {
                        return dr;
                    },
                    teamsCore: function() {
                        return Fo;
                    },
                    thirdPartyCloudStorage: function() {
                        return li;
                    },
                    uploadCustomApp: function() {
                        return Dn;
                    },
                    version: function() {
                        return Oe;
                    },
                    videoEffects: function() {
                        return Ko;
                    },
                    videoEffectsEx: function() {
                        return fr;
                    },
                    visualMedia: function() {
                        return ti;
                    },
                    webStorage: function() {
                        return ni;
                    }
                });
                var a, s, e = (0, n(302).debug)("teamsJs");
                function t(t) {
                    return e.extend(t);
                }
                function i(e, t) {
                    return e + "_" + t;
                }
                function r(e) {
                    return /^v\d+_[\w.]+$/.test(e);
                }
                !function(e) {
                    e.V_0 = "v0", e.V_1 = "v1", e.V_2 = "v2", e.V_3 = "v3";
                }(a || (a = {})), function(e) {
                    e.App_GetContext = "app.getContext", e.App_Initialize = "app.initialize", e.App_NotifyAppLoaded = "app.notifyAppLoaded", 
                    e.App_NotifyExpectedFailure = "app.notifyExpectedFailure", e.App_NotifyFailure = "app.notifyFailure", 
                    e.App_NotifySuccess = "app.notifySuccess", e.App_OpenLink = "app.openLink", e.App_RegisterOnThemeChangeHandler = "app.registerOnThemeChangeHandler", 
                    e.AppEntity_SelectAppEntity = "appEntity.selectAppEntity", e.BarCode_HasPermission = "barCode.hasPermission", 
                    e.BarCode_RequestPermission = "barCode.requestPermission", e.BarCode_ScanBarCode = "barCode.scanBarCode", 
                    e.Calendar_ComposeMeeting = "calendar.composeMeeting", e.Calendar_OpenCalendarItem = "calendar.openCalendarItem", 
                    e.Call_StartCall = "call.startCall", e.Clipboard_Read = "clipboard.read", e.Clipboard_Write = "clipboard.write", 
                    e.Dialog_AdaptiveCard_Bot_Open = "dialog.adaptiveCard.bot.open", e.Dialog_AdaptiveCard_Open = "dialog.adaptiveCard.open", 
                    e.Dialog_Update_Resize = "dialog.update.resize", e.Dialog_Url_Bot_Open = "dialog.url.bot.open", 
                    e.Dialog_Url_Open = "dialog.url.open", e.Dialog_Url_Submit = "dialog.url.submit", 
                    e.Dialog_Url_SendMessageToParentFromDialog = "dialog.url.sendMessageToParentFromDialog", 
                    e.Dialog_Url_SendMessageToDialog = "dialog.url.sendMessageToDialog", e.GeoLocation_GetCurrentLocation = "geoLocation.getCurrentLocation", 
                    e.GeoLocation_HasPermission = "geoLocation.hasPermission", e.GeoLocation_Map_ChooseLocation = "geoLocation.map.chooseLocation", 
                    e.GeoLocation_RequestPermission = "geoLocation.hasPermission", e.GeoLocation_ShowLocation = "geoLocation.showLocation", 
                    e.Location_GetLocation = "location.getLocation", e.Location_ShowLocation = "location.showLocation", 
                    e.Mail_ComposeMail = "mail.composeMail", e.Mail_OpenMailItem = "mail.openMailItem", 
                    e.Marketplace_AddOrUpdateCartItems = "marketplace.addOrUpdateCartItems", e.Marketplace_GetCart = "marketplace.getCart", 
                    e.Marketplace_RemoveCardItems = "marketplace.removeCartItems", e.Marketplace_UpdateCartStatus = "marketplace.updateCartStatus", 
                    e.Media_CaptureImage = "media.captureImage", e.Media_Controller = "media.controller", 
                    e.Media_GetMedia = "media.getMedia", e.Media_HasPermission = "media.hasPermission", 
                    e.Media_RequestPermission = "media.requestPermission", e.Media_ScanBarCode = "media.scanBarCode", 
                    e.Media_SelectMedia = "media.selectMedia", e.Media_ViewImages = "media.viewImages", 
                    e.Navigation_NavigateBack = "navigation.navigateBack", e.Navigation_NavigateCrossDomain = "navigation.navigateCrossDomain", 
                    e.Navigation_NavigateToTab = "navigation.navigateToTab", e.Navigation_ReturnFocus = "navigation.returnFocus", 
                    e.Pages_AppButton_OnClick = "pages.appButton.onClick", e.Pages_AppButton_OnHoverEnter = "pages.appButton.onHoverEnter", 
                    e.Pages_AppButton_OnHoverLeave = "pages.appButton.onHoverLeave", e.Pages_BackStack_NavigateBack = "pages.backStack.navigateBack", 
                    e.Pages_BackStack_RegisterBackButtonHandler = "pages.backStack.registerBackButtonHandler", 
                    e.Pages_Config_RegisterChangeConfigHandler = "pages.config.registerChangeConfigHandler", 
                    e.Pages_Config_RegisterOnRemoveHandlerHelper = "pages.config.registerOnRemoveHandlerHelper", 
                    e.Pages_Config_RegisterOnSaveHandlerHelper = "pages.config.registerOnSaveHandlerHelper", 
                    e.Pages_Config_SetConfig = "pages.config.setConfig", e.Pages_Config_SetValidityState = "pages.config.setValidityState", 
                    e.Pages_CurrentApp_NavigateTo = "pages.currentApp.navigateTo", e.Pages_CurrentApp_NavigateToDefaultPage = "pages.currentApp.navigateToDefaultPage", 
                    e.Pages_FullTrust_EnterFullscreen = "pages.fullTrust.enterFullscreen", e.Pages_FullTrust_ExitFullscreen = "pages.fullTrust.exitFullscreen", 
                    e.Pages_GetConfig = "pages.getConfig.", e.Pages_NavigateCrossDomain = "pages.navigateCrossDomain", 
                    e.Pages_NavigateToApp = "pages.navigateToApp", e.Pages_RegisterFocusEnterHandler = "pages.registerFocusEnterHandler", 
                    e.Pages_RegisterFullScreenHandler = "pages.registerFullScreenHandler", e.Pages_ReturnFocus = "pages.returnFocus", 
                    e.Pages_SetCurrentFrame = "pages.setCurrentFrame", e.Pages_ShareDeepLink = "pages.shareDeepLink", 
                    e.Pages_Tabs_GetMruTabInstances = "pages.tabs.getMruTabInstances", e.Pages_Tabs_GetTabInstances = "pages.tabs.getTabInstances", 
                    e.Pages_Tabs_NavigateToTab = "pages.tabs.navigateToTab", e.PublicAPIs_ExecuteDeepLink = "executeDeepLink", 
                    e.PublicAPIs_GetContext = "getContext", e.PublicAPIs_GetMruTabInstances = "getMruTabInstances", 
                    e.PublicAPIs_GetTabInstances = "getTabInstances", e.PublicAPIs_Initialize = "initialize", 
                    e.PublicAPIs_RegisterAppButtonClickHandler = "registerAppButtonClickHandler", e.PublicAPIs_RegisterAppButtonHoverEnterHandler = "registerAppButtonHoverEnterHandler", 
                    e.PublicAPIs_RegisterAppButtonHoverLeaveHandler = "registerAppButtonHoverLeaveHandler", 
                    e.PublicAPIs_RegisterBackButtonHandler = "registerBackButtonHandler", e.PublicAPIs_RegisterChangeSettingsHandler = "registerChangeSettingsHandler", 
                    e.PublicAPIs_RegisterFocusEnterHandler = "registerFocusEnterHandler", e.PublicAPIs_RegisterFullScreenHandler = "registerFullScreenHandler", 
                    e.PublicAPIs_RegisterOnLoadHandler = "registerOnLoadHandler", e.PublicAPIs_RegisterOnThemeChangeHandlerHelper = "registerOnThemeChangeHandlerHelper", 
                    e.PublicAPIs_SetFrameContext = "setFrameContext", e.PublicAPIs_ShareDeepLink = "shareDeepLink", 
                    e.RegisterHandler = "registerHandler", e.RegisterOnThemeChangeHandler = "registerOnThemeChangeHandler", 
                    e.Settings_Remove_Failure = "settings.remove.failure", e.Settings_Remove_Success = "settings.remove.success", 
                    e.Settings_Save_Failure = "settings.save.failure", e.Settings_Save_Success = "settings.save.success", 
                    e.Tasks_StartTask = "tasks.startTask", e.Tasks_SubmitTask = "tasks.submitTask", 
                    e.Tasks_UpdateTask = "tasks.updateTask";
                }(s || (s = {}));
                var l = JSON.parse('{"validOrigins":["teams.microsoft.com","teams.microsoft.us","gov.teams.microsoft.us","dod.teams.microsoft.us","int.teams.microsoft.com","teams.live.com","devspaces.skype.com","ssauth.skype.com","local.teams.live.com","local.teams.live.com:8080","local.teams.office.com","local.teams.office.com:8080","outlook.office.com","outlook-sdf.office.com","outlook.office365.com","outlook-sdf.office365.com","outlook.live.com","outlook-sdf.live.com","*.teams.microsoft.com","*.www.office.com","www.office.com","word.office.com","excel.office.com","powerpoint.office.com","www.officeppe.com","*.www.microsoft365.com","www.microsoft365.com","bing.com","edgeservices.bing.com","www.bing.com","www.staging-bing-int.com","teams.cloud.microsoft","outlook.cloud.microsoft","m365.cloud.microsoft","copilot.microsoft.com"]}'), c = "2.0.1", u = "2.0.3", d = "1.9.0", f = "1.8.0", p = n.t(l, 2).validOrigins, m = new URL("https://res.cdn.office.net/teams-js/validDomains/json/validDomains.json"), g = /^https:\/\//, h = "https", w = "teams.microsoft.com", C = "The library has not yet been initialized", v = "The runtime has not yet been initialized", S = "The runtime version is not supported", b = function() {};
                b.initializeCalled = !1, b.initializeCompleted = !1, b.additionalValidOrigins = [], 
                b.initializePromise = void 0, b.isFramelessWindow = !1, b.frameContext = void 0, 
                b.hostClientType = void 0, b.printCapabilityEnabled = !1;
                var P, y = {
                    randomUUID: "undefined" != typeof crypto && crypto.randomUUID && crypto.randomUUID.bind(crypto)
                }, I = new Uint8Array(16);
                function T() {
                    if (!P && !(P = "undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto))) throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
                    return P(I);
                }
                for (var E = [], _e2 = 0; _e2 < 256; ++_e2) E.push((_e2 + 256).toString(16).slice(1));
                var F, _, O, k, M, D, L, N, H, U, x, V, R = function(e, t, n) {
                    if (y.randomUUID && !t && !e) return y.randomUUID();
                    var o = (e = e || {}).random || (e.rng || T)();
                    if (o[6] = 15 & o[6] | 64, o[8] = 63 & o[8] | 128, t) {
                        n = n || 0;
                        for (var _e3 = 0; _e3 < 16; ++_e3) t[n + _e3] = o[_e3];
                        return t;
                    }
                    return function(e, t) {
                        return void 0 === t && (t = 0), (E[e[t + 0]] + E[e[t + 1]] + E[e[t + 2]] + E[e[t + 3]] + "-" + E[e[t + 4]] + E[e[t + 5]] + "-" + E[e[t + 6]] + E[e[t + 7]] + "-" + E[e[t + 8]] + E[e[t + 9]] + "-" + E[e[t + 10]] + E[e[t + 11]] + E[e[t + 12]] + E[e[t + 13]] + E[e[t + 14]] + E[e[t + 15]]).toLowerCase();
                    }(o);
                };
                !function(e) {
                    e.Inline = "inline", e.Desktop = "desktop", e.Web = "web";
                }(F || (F = {})), function(e) {
                    e.M365Content = "m365content";
                }(_ || (_ = {})), function(e) {
                    e.DriveId = "driveId", e.GroupId = "groupId", e.SiteId = "siteId", e.UserId = "userId";
                }(O || (O = {})), function(e) {
                    e[e.NOT_SUPPORTED_ON_PLATFORM = 100] = "NOT_SUPPORTED_ON_PLATFORM", e[e.INTERNAL_ERROR = 500] = "INTERNAL_ERROR", 
                    e[e.NOT_SUPPORTED_IN_CURRENT_CONTEXT = 501] = "NOT_SUPPORTED_IN_CURRENT_CONTEXT", 
                    e[e.PERMISSION_DENIED = 1e3] = "PERMISSION_DENIED", e[e.NETWORK_ERROR = 2e3] = "NETWORK_ERROR", 
                    e[e.NO_HW_SUPPORT = 3e3] = "NO_HW_SUPPORT", e[e.INVALID_ARGUMENTS = 4e3] = "INVALID_ARGUMENTS", 
                    e[e.UNAUTHORIZED_USER_OPERATION = 5e3] = "UNAUTHORIZED_USER_OPERATION", e[e.INSUFFICIENT_RESOURCES = 6e3] = "INSUFFICIENT_RESOURCES", 
                    e[e.THROTTLE = 7e3] = "THROTTLE", e[e.USER_ABORT = 8e3] = "USER_ABORT", e[e.OPERATION_TIMED_OUT = 8001] = "OPERATION_TIMED_OUT", 
                    e[e.OLD_PLATFORM = 9e3] = "OLD_PLATFORM", e[e.FILE_NOT_FOUND = 404] = "FILE_NOT_FOUND", 
                    e[e.SIZE_EXCEEDED = 1e4] = "SIZE_EXCEEDED";
                }(k || (k = {})), function(e) {
                    e.GeoLocation = "geolocation", e.Media = "media";
                }(M || (M = {})), function(e) {
                    e.TextPlain = "text/plain", e.TextHtml = "text/html", e.ImagePNG = "image/png", 
                    e.ImageJPEG = "image/jpeg";
                }(D || (D = {})), function(e) {
                    e.desktop = "desktop", e.web = "web", e.android = "android", e.ios = "ios", e.ipados = "ipados", 
                    e.macos = "macos", e.rigel = "rigel", e.surfaceHub = "surfaceHub", e.teamsRoomsWindows = "teamsRoomsWindows", 
                    e.teamsRoomsAndroid = "teamsRoomsAndroid", e.teamsPhones = "teamsPhones", e.teamsDisplays = "teamsDisplays";
                }(L || (L = {})), function(e) {
                    e.office = "Office", e.outlook = "Outlook", e.outlookWin32 = "OutlookWin32", e.orange = "Orange", 
                    e.places = "Places", e.teams = "Teams", e.teamsModern = "TeamsModern";
                }(N || (N = {})), function(e) {
                    e.settings = "settings", e.content = "content", e.authentication = "authentication", 
                    e.remove = "remove", e.task = "task", e.sidePanel = "sidePanel", e.stage = "stage", 
                    e.meetingStage = "meetingStage";
                }(H || (H = {})), function(e) {
                    e[e.Standard = 0] = "Standard", e[e.Edu = 1] = "Edu", e[e.Class = 2] = "Class", 
                    e[e.Plc = 3] = "Plc", e[e.Staff = 4] = "Staff";
                }(U || (U = {})), function(e) {
                    e[e.Admin = 0] = "Admin", e[e.User = 1] = "User", e[e.Guest = 2] = "Guest";
                }(x || (x = {})), function(e) {
                    e.Large = "large", e.Medium = "medium", e.Small = "small";
                }(V || (V = {}));
                var B, W = V;
                !function(e) {
                    e.Regular = "Regular", e.Private = "Private", e.Shared = "Shared";
                }(B || (B = {}));
                var z = {
                    errorCode: k.NOT_SUPPORTED_ON_PLATFORM
                }, q = {
                    adaptiveCardSchemaVersion: {
                        majorVersion: 1,
                        minorVersion: 5
                    }
                }, $ = new Error("Invalid input count: Must supply a valid image count (limit of 10)."), J = new Error("Invalid response: Received more images than the specified max limit in the response.");
                function K(e) {
                    return function(t, n) {
                        if (!t) throw new Error(e || n);
                    };
                }
                function Z(e, t) {
                    if ("string" != typeof e || "string" != typeof t) return NaN;
                    var n = e.split("."), o = t.split(".");
                    function i(e) {
                        return /^\d+$/.test(e);
                    }
                    if (!n.every(i) || !o.every(i)) return NaN;
                    for (;n.length < o.length; ) n.push("0");
                    for (;o.length < n.length; ) o.push("0");
                    for (var _e4 = 0; _e4 < n.length; ++_e4) if (Number(n[_e4]) != Number(o[_e4])) return Number(n[_e4]) > Number(o[_e4]) ? 1 : -1;
                    return 0;
                }
                function Q() {
                    return R();
                }
                function X(e) {
                    return Object.keys(e).forEach(function(t) {
                        "object" == typeof e[t] && X(e[t]);
                    }), Object.freeze(e);
                }
                function ee(e, t) {
                    for (var _len3 = arguments.length, n = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) n[_key3 - 2] = arguments[_key3];
                    var o = e.apply(void 0, n);
                    return o.then(function() {
                        t && t(null);
                    }).catch(function(e) {
                        t && t(e);
                    }), o;
                }
                function ie(e) {
                    return !(Z(e.majorVersion + "." + e.minorVersion, "1.5") >= 0);
                }
                function re(e) {
                    return "https:" === e.protocol;
                }
                function ae(e, t) {
                    return new Promise(function(n, o) {
                        e || o("MimeType cannot be null or empty."), t || o("Base64 string cannot be null or empty.");
                        var i = atob(t);
                        if (e.startsWith("image/")) {
                            for (var _t4 = new Uint8Array(i.length), _e5 = 0; _e5 < i.length; _e5++) _t4[_e5] = i.charCodeAt(_e5);
                            n(new Blob([ _t4 ], {
                                type: e
                            }));
                        }
                        n(new Blob([ i ], {
                            type: e
                        }));
                    });
                }
                function se(e) {
                    return new Promise(function(t, n) {
                        0 === e.size && n(new Error("Blob cannot be empty."));
                        var o = new FileReader;
                        o.onloadend = function() {
                            o.result ? t(o.result.toString().split(",")[1]) : n(new Error("Failed to read the blob"));
                        }, o.onerror = function() {
                            n(o.error);
                        }, o.readAsDataURL(e);
                    });
                }
                function le() {
                    if (ce()) throw new Error("window object undefined at SSR check");
                    return window;
                }
                function ce() {
                    return "undefined" == typeof window;
                }
                var ue = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;
                function de(e) {
                    if (!ue.test(e)) throw new Error("App ID is not valid. Must be GUID format. App ID: " + e);
                }
                var pe = t("runtime"), me = 3;
                function ge(e) {
                    return e.apiVersion === me;
                }
                var Ce = {
                    apiVersion: -1,
                    supports: {}
                }, ve = {
                    apiVersion: 3,
                    hostVersionsInfo: q,
                    isLegacyTeams: !0,
                    supports: {
                        appInstallDialog: {},
                        appEntity: {},
                        call: {},
                        chat: {},
                        conversations: {},
                        dialog: {
                            card: {
                                bot: {}
                            },
                            url: {
                                bot: {}
                            },
                            update: {}
                        },
                        interactive: {},
                        logs: {},
                        meetingRoom: {},
                        menus: {},
                        monetization: {},
                        notifications: {},
                        pages: {
                            config: {},
                            backStack: {},
                            fullTrust: {}
                        },
                        remoteCamera: {},
                        teams: {
                            fullTrust: {}
                        },
                        teamsCore: {},
                        video: {
                            sharedFrame: {}
                        }
                    }
                }, Se = [ L.desktop, L.web, L.rigel, L.surfaceHub, L.teamsRoomsWindows, L.teamsRoomsAndroid, L.teamsPhones, L.teamsDisplays ], ye = [].concat(Se, [ L.android, L.ios, L.ipados ]), Ie = [ {
                    versionToUpgradeFrom: 1,
                    upgradeToNextVersion: function(e) {
                        var t;
                        return {
                            apiVersion: 2,
                            hostVersionsInfo: void 0,
                            isLegacyTeams: e.isLegacyTeams,
                            supports: Object.assign(Object.assign({}, e.supports), {
                                dialog: e.supports.dialog ? {
                                    card: void 0,
                                    url: e.supports.dialog,
                                    update: null === (t = e.supports.dialog) || void 0 === t ? void 0 : t.update
                                } : void 0
                            })
                        };
                    }
                }, {
                    versionToUpgradeFrom: 2,
                    upgradeToNextVersion: function(e) {
                        var o = function(e, t) {
                            var n = {};
                            for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
                            if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                                var i = 0;
                                for (o = Object.getOwnPropertySymbols(e); i < o.length; i++) t.indexOf(o[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[i]) && (n[o[i]] = e[o[i]]);
                            }
                            return n;
                        }(e.supports, [ "appNotification" ]);
                        return Object.assign(Object.assign({}, e), {
                            apiVersion: 3,
                            supports: o
                        });
                    }
                } ], Te = {
                    "1.0.0": [ {
                        capability: {
                            pages: {
                                appButton: {},
                                tabs: {}
                            },
                            stageView: {}
                        },
                        hostClientTypes: Se
                    } ],
                    "1.9.0": [ {
                        capability: {
                            location: {}
                        },
                        hostClientTypes: ye
                    } ],
                    "2.0.0": [ {
                        capability: {
                            people: {}
                        },
                        hostClientTypes: ye
                    }, {
                        capability: {
                            sharing: {}
                        },
                        hostClientTypes: [ L.desktop, L.web ]
                    } ],
                    "2.0.1": [ {
                        capability: {
                            teams: {
                                fullTrust: {
                                    joinedTeams: {}
                                }
                            }
                        },
                        hostClientTypes: [ L.android, L.desktop, L.ios, L.teamsRoomsAndroid, L.teamsPhones, L.teamsDisplays, L.web ]
                    }, {
                        capability: {
                            webStorage: {}
                        },
                        hostClientTypes: [ L.desktop ]
                    } ],
                    "2.0.5": [ {
                        capability: {
                            webStorage: {}
                        },
                        hostClientTypes: [ L.android, L.ios ]
                    } ],
                    "2.0.8": [ {
                        capability: {
                            sharing: {}
                        },
                        hostClientTypes: [ L.android, L.ios ]
                    } ]
                }, Ee = pe.extend("generateBackCompatRuntimeConfig");
                function Ae(e, t) {
                    var n = Object.assign({}, e);
                    for (var _o2 in t) Object.prototype.hasOwnProperty.call(t, _o2) && ("object" != typeof t[_o2] || Array.isArray(t[_o2]) ? _o2 in e || (n[_o2] = t[_o2]) : n[_o2] = Ae(e[_o2] || {}, t[_o2]));
                    return n;
                }
                function Re(e, t, n) {
                    Ee("generating back compat runtime config for %s", e);
                    var o = Object.assign({}, t.supports);
                    Ee("Supported capabilities in config before updating based on highestSupportedVersion: %o", o), 
                    Object.keys(n).forEach(function(t) {
                        Z(e, t) >= 0 && n[t].forEach(function(e) {
                            void 0 !== b.hostClientType && e.hostClientTypes.includes(b.hostClientType) && (o = Ae(o, e.capability));
                        });
                    });
                    var i = {
                        apiVersion: me,
                        hostVersionsInfo: q,
                        isLegacyTeams: !0,
                        supports: o
                    };
                    return Ee("Runtime config after updating based on highestSupportedVersion: %o", i), 
                    i;
                }
                var Fe = pe.extend("applyRuntimeConfig");
                function _e(e) {
                    "string" == typeof e.apiVersion && (Fe("Trying to apply runtime with string apiVersion, processing as v1: %o", e), 
                    e = Object.assign(Object.assign({}, e), {
                        apiVersion: 1
                    })), Fe("Fast-forwarding runtime %o", e);
                    var t = function(e) {
                        var t = e;
                        if (t.apiVersion < me && Ie.forEach(function(e) {
                            t.apiVersion === e.versionToUpgradeFrom && (t = e.upgradeToNextVersion(t));
                        }), ge(t)) return t;
                        throw new Error("Received a runtime that could not be upgraded to the latest version");
                    }(e);
                    Fe("Applying runtime %o", t), Ce = X(t);
                }
                var Oe = "2.19.0", ke = t("internal"), Me = ke.extend("ensureInitializeCalled"), De = ke.extend("ensureInitialized");
                function Le() {
                    if (!b.initializeCalled) throw Me(C), new Error(C);
                }
                function Ne(e) {
                    if (!b.initializeCompleted) throw De("%s. initializeCalled: %s", C, b.initializeCalled.toString()), 
                    new Error(C);
                    for (var _len5 = arguments.length, t = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) t[_key5 - 1] = arguments[_key5];
                    if (t && t.length > 0) {
                        for (var _e6 = !1, _n2 = 0; _n2 < t.length; _n2++) if (t[_n2] === b.frameContext) {
                            _e6 = !0;
                            break;
                        }
                        if (!_e6) throw new Error("This call is only allowed in following contexts: " + JSON.stringify(t) + '. Current context: "' + b.frameContext + '".');
                    }
                    return function(e) {
                        if (ge(e)) return !0;
                        throw -1 === e.apiVersion ? new Error(v) : new Error(S);
                    }(e);
                }
                function He(e) {
                    void 0 === e && (e = c);
                    var t = Z(b.clientSupportedSDKVersion, e);
                    return !isNaN(t) && t >= 0;
                }
                function Ue() {
                    return b.hostClientType == L.android || b.hostClientType == L.ios || b.hostClientType == L.ipados;
                }
                function xe(e) {
                    if (void 0 === e && (e = c), !Ue()) throw {
                        errorCode: k.NOT_SUPPORTED_ON_PLATFORM
                    };
                    if (!He(e)) throw {
                        errorCode: k.OLD_PLATFORM
                    };
                }
                function Be(e) {
                    return null == e;
                }
                var Qe, We = function(e, t, n, o) {
                    function i(e) {
                        return e instanceof n ? e : new n(function(t) {
                            t(e);
                        });
                    }
                    return new (n || (n = Promise))(function(n, r) {
                        function a(e) {
                            try {
                                l(o.next(e));
                            } catch (e) {
                                r(e);
                            }
                        }
                        function s(e) {
                            try {
                                l(o.throw(e));
                            } catch (e) {
                                r(e);
                            }
                        }
                        function l(e) {
                            e.done ? n(e.value) : i(e.value).then(a, s);
                        }
                        l((o = o.apply(e, t || [])).next());
                    });
                }, ze = [], je = t("validateOrigin");
                function $e() {
                    return We(this, void 0, void 0, _regeneratorRuntime().mark(function _callee2() {
                        return _regeneratorRuntime().wrap(function(_context2) {
                            for (;;) switch (_context2.prev = _context2.next) {
                              case 0:
                                return _context2.abrupt("return", 0 !== ze.length ? ze : ce() ? (ze = p, p) : fetch(m).then(function(e) {
                                    if (!e.ok) throw new Error("Invalid Response from Fetch Call");
                                    return e.json().then(function(e) {
                                        if (Je(JSON.stringify(e))) return ze = e.validOrigins;
                                        throw new Error("Valid Origins List Is Invalid");
                                    });
                                }).catch(function(e) {
                                    return je("validOrigins fetch call to CDN failed with error: %s. Defaulting to fallback list", e), 
                                    ze = p;
                                }));

                              case 1:
                              case "end":
                                return _context2.stop();
                            }
                        }, _callee2);
                    }));
                }
                function Je(e) {
                    var t = JSON.parse(e);
                    try {
                        t = JSON.parse(e);
                    } catch (e) {
                        return !1;
                    }
                    if (!t.validOrigins) return !1;
                    for (var _step, _iterator = _createForOfIteratorHelperLoose(t.validOrigins); !(_step = _iterator()).done; ) {
                        var _e7 = _step.value;
                        try {
                            new URL("https://" + _e7);
                        } catch (t) {
                            return je("isValidOriginsFromCDN call failed to validate origin: %s", _e7), !1;
                        }
                    }
                    return !0;
                }
                function Ke(e, t) {
                    if ("*." === e.substring(0, 2)) {
                        var _n3 = e.substring(1);
                        if (t.length > _n3.length && t.split(".").length === _n3.split(".").length && t.substring(t.length - _n3.length) === _n3) return !0;
                    } else if (e === t) return !0;
                    return !1;
                }
                function Ze(e) {
                    return $e().then(function(t) {
                        if (!re(e)) return je("Origin %s is invalid because it is not using https protocol. Protocol being used: %s", e, e.protocol), 
                        !1;
                        var n = e.host;
                        if (t.some(function(e) {
                            return Ke(e, n);
                        })) return !0;
                        for (var _step2, _iterator2 = _createForOfIteratorHelperLoose(b.additionalValidOrigins); !(_step2 = _iterator2()).done; ) {
                            var _e8 = _step2.value;
                            if (Ke("https://" === _e8.substring(0, 8) ? _e8.substring(8) : _e8, n)) return !0;
                        }
                        return je("Origin %s is invalid because it is not an origin approved by this library or included in the call to app.initialize.\nOrigins approved by this library: %o\nOrigins included in app.initialize: %o", e, t, b.additionalValidOrigins), 
                        !1;
                    });
                }
                !function(e) {
                    var t, n, o;
                    function r(e) {
                        return new Promise(function(n, o) {
                            if (b.hostClientType === L.desktop || b.hostClientType === L.android || b.hostClientType === L.ios || b.hostClientType === L.ipados || b.hostClientType === L.macos || b.hostClientType === L.rigel || b.hostClientType === L.teamsRoomsWindows || b.hostClientType === L.teamsRoomsAndroid || b.hostClientType === L.teamsPhones || b.hostClientType === L.teamsDisplays || b.hostClientType === L.surfaceHub) {
                                var _t5 = document.createElement("a");
                                _t5.href = e.url, n(on("authentication.authenticate", [ _t5.href, e.width, e.height, e.isExternal ]).then(function(_ref) {
                                    var t = _ref[1];
                                    if (_ref[0]) return t;
                                    throw new Error(t);
                                }));
                            } else t = {
                                success: n,
                                fail: o
                            }, function(e) {
                                l();
                                var t = e.width || 600, n = e.height || 400;
                                t = Math.min(t, Gt.currentWindow.outerWidth - 400), n = Math.min(n, Gt.currentWindow.outerHeight - 200);
                                var o = document.createElement("a");
                                o.href = e.url.replace("{oauthRedirectMethod}", "web");
                                var i = void 0 !== Gt.currentWindow.screenLeft ? Gt.currentWindow.screenLeft : Gt.currentWindow.screenX, r = void 0 !== Gt.currentWindow.screenTop ? Gt.currentWindow.screenTop : Gt.currentWindow.screenY;
                                Gt.childWindow = Gt.currentWindow.open(o.href, "_blank", "toolbar=no, location=yes, status=no, menubar=no, scrollbars=yes, top=" + (r += Gt.currentWindow.outerHeight / 2 - n / 2) + ", left=" + (i += Gt.currentWindow.outerWidth / 2 - t / 2) + ", width=" + t + ", height=" + n), 
                                Gt.childWindow ? d() : p("FailedToOpenWindow");
                            }(e);
                        });
                    }
                    function l() {
                        u();
                        try {
                            Gt.childWindow && Gt.childWindow.close();
                        } finally {
                            Gt.childWindow = null, Gt.childOrigin = null;
                        }
                    }
                    function u() {
                        n && (clearInterval(n), n = 0), kt("initialize"), kt("navigateCrossDomain");
                    }
                    function d() {
                        u(), n = Gt.currentWindow.setInterval(function() {
                            if (!Gt.childWindow || Gt.childWindow.closed) p("CancelledByUser"); else {
                                var _e9 = Gt.childOrigin;
                                try {
                                    Gt.childOrigin = "*", Tn("ping");
                                } finally {
                                    Gt.childOrigin = _e9;
                                }
                            }
                        }, 100), Ot("initialize", function() {
                            return [ H.authentication, b.hostClientType ];
                        }), Ot("navigateCrossDomain", function() {
                            return !1;
                        });
                    }
                    function f(e) {
                        try {
                            t && t.success(e);
                        } finally {
                            t = void 0, l();
                        }
                    }
                    function p(e) {
                        try {
                            t && t.fail(new Error(e));
                        } finally {
                            t = void 0, l();
                        }
                    }
                    function m(e, t, n) {
                        if (e) {
                            var _o3 = document.createElement("a");
                            _o3.href = decodeURIComponent(e), _o3.host && _o3.host !== le().location.host && "outlook.office.com" === _o3.host && _o3.search.indexOf("client_type=Win32_Outlook") > -1 && (t && "result" === t && (n && (_o3.href = g(_o3.href, "result", n)), 
                            Gt.currentWindow.location.assign(g(_o3.href, "authSuccess", ""))), t && "reason" === t && (n && (_o3.href = g(_o3.href, "reason", n)), 
                            Gt.currentWindow.location.assign(g(_o3.href, "authFailure", ""))));
                        }
                    }
                    function g(e, t, n) {
                        var o = e.indexOf("#"), i = -1 === o ? "#" : e.substr(o);
                        return i = i + "&" + t + ("" !== n ? "=" + n : ""), (e = -1 === o ? e : e.substr(0, o)) + i;
                    }
                    e.initialize = function() {
                        Ot("authentication.authenticate.success", f, !1), Ot("authentication.authenticate.failure", p, !1);
                    }, e.registerAuthenticationHandlers = function(e) {
                        o = e;
                    }, e.authenticate = function(e) {
                        var t = void 0 !== e, n = t ? e : o;
                        if (!n) throw new Error("No parameters are provided for authentication");
                        return Ne(Ce, H.content, H.sidePanel, H.settings, H.remove, H.task, H.stage, H.meetingStage), 
                        r(n).then(function(e) {
                            try {
                                return n && n.successCallback ? (n.successCallback(e), "") : e;
                            } finally {
                                t || (o = void 0);
                            }
                        }).catch(function(e) {
                            try {
                                if (n && n.failureCallback) return n.failureCallback(e.message), "";
                                throw e;
                            } finally {
                                t || (o = void 0);
                            }
                        });
                    }, e.getAuthToken = function(e) {
                        return Le(), function(e) {
                            return new Promise(function(t) {
                                t(on("authentication.getAuthToken", [ null == e ? void 0 : e.resources, null == e ? void 0 : e.claims, null == e ? void 0 : e.silent ]));
                            }).then(function(_ref2) {
                                var t = _ref2[1];
                                if (_ref2[0]) return t;
                                throw new Error(t);
                            });
                        }(e).then(function(t) {
                            return e && e.successCallback ? (e.successCallback(t), "") : t;
                        }).catch(function(t) {
                            if (e && e.failureCallback) return e.failureCallback(t.message), "";
                            throw t;
                        });
                    }, e.getUser = function(e) {
                        return Le(), new Promise(function(e) {
                            e(on("authentication.getUser"));
                        }).then(function(_ref3) {
                            var t = _ref3[1];
                            if (_ref3[0]) return t;
                            throw new Error(t);
                        }).then(function(t) {
                            return e && e.successCallback ? (e.successCallback(t), null) : t;
                        }).catch(function(t) {
                            if (e && e.failureCallback) return e.failureCallback(t.message), null;
                            throw t;
                        });
                    }, e.notifySuccess = function(e, t) {
                        m(t, "result", e), Ne(Ce, H.authentication), sn("authentication.authenticate.success", [ e ]), 
                        Pn(Gt.parentWindow, function() {
                            return setTimeout(function() {
                                return Gt.currentWindow.close();
                            }, 200);
                        });
                    }, e.notifyFailure = function(e, t) {
                        m(t, "reason", e), Ne(Ce, H.authentication), sn("authentication.authenticate.failure", [ e ]), 
                        Pn(Gt.parentWindow, function() {
                            return setTimeout(function() {
                                return Gt.currentWindow.close();
                            }, 200);
                        });
                    }, function(e) {
                        e.Public = "public", e.EUDB = "eudb", e.Other = "other";
                    }(e.DataResidency || (e.DataResidency = {}));
                }(Qe || (Qe = {}));
                var ot, it, Xe = a.V_2;
                function Ye(e, t) {
                    if (Ne(Ce, H.content, H.sidePanel, H.task, H.meetingStage), !ot.update.isSupported()) throw z;
                    an(e, "tasks.updateTask", [ t ]);
                }
                function et(e, t, n, o) {
                    if (Ne(Ce, H.content, H.sidePanel, H.meetingStage), !ot.url.isSupported()) throw z;
                    o && Ot("messageForParent", o), an(e, "tasks.startTask", [ ot.url.getDialogInfoFromUrlDialogInfo(t) ], function(e, t) {
                        null == n || n({
                            err: e,
                            result: t
                        }), kt("messageForParent");
                    });
                }
                function tt(e, t, n, o) {
                    if (Ne(Ce, H.content, H.sidePanel, H.meetingStage), !ot.url.bot.isSupported()) throw z;
                    o && Ot("messageForParent", o), an(e, "tasks.startTask", [ ot.url.getDialogInfoFromBotUrlDialogInfo(t) ], function(e, t) {
                        null == n || n({
                            err: e,
                            result: t
                        }), kt("messageForParent");
                    });
                }
                function nt(e, t, n) {
                    if (Ne(Ce, H.content, H.task), !ot.url.isSupported()) throw z;
                    an(e, "tasks.completeTask", [ t, n ? Array.isArray(n) ? n : [ n ] : [] ]);
                }
                !function(e) {
                    var t = [];
                    function n(e) {
                        b.frameContext && (b.frameContext === H.task ? t.push(e) : kt("messageForChild"));
                    }
                    e.initialize = function() {
                        Ot("messageForChild", n, !1);
                    }, function(e) {
                        function n() {
                            return Ne(Ce) && void 0 !== (Ce.supports.dialog && Ce.supports.dialog.url);
                        }
                        function r(e) {
                            return {
                                url: e.url,
                                height: e.size ? e.size.height : V.Small,
                                width: e.size ? e.size.width : V.Small,
                                title: e.title,
                                fallbackUrl: e.fallbackUrl
                            };
                        }
                        e.open = function(e, t, n) {
                            et(i(Xe, s.Dialog_Url_Open), e, t, n);
                        }, e.submit = function(e, t) {
                            nt(i(Xe, s.Dialog_Url_Submit), e, t);
                        }, e.sendMessageToParentFromDialog = function(e) {
                            if (Ne(Ce, H.task), !n()) throw z;
                            an(i(Xe, s.Dialog_Url_SendMessageToParentFromDialog), "messageForParent", [ e ]);
                        }, e.sendMessageToDialog = function(e) {
                            if (Ne(Ce, H.content, H.sidePanel, H.meetingStage), !n()) throw z;
                            an(i(Xe, s.Dialog_Url_SendMessageToDialog), "messageForChild", [ e ]);
                        }, e.registerOnMessageFromParent = function(e) {
                            if (Ne(Ce, H.task), !n()) throw z;
                            for (kt("messageForChild"), Ot("messageForChild", e), t.reverse(); t.length > 0; ) e(t.pop());
                        }, e.isSupported = n, function(e) {
                            e.open = function(e, t, n) {
                                tt(i(Xe, s.Dialog_Url_Bot_Open), e, t, n);
                            }, e.isSupported = function() {
                                return Ne(Ce) && void 0 !== (Ce.supports.dialog && Ce.supports.dialog.url && Ce.supports.dialog.url.bot);
                            };
                        }(e.bot || (e.bot = {})), e.getDialogInfoFromUrlDialogInfo = r, e.getDialogInfoFromBotUrlDialogInfo = function(e) {
                            var t = r(e);
                            return t.completionBotId = e.completionBotId, t;
                        };
                    }(e.url || (e.url = {})), e.isSupported = function() {
                        return !(!Ne(Ce) || !Ce.supports.dialog);
                    }, function(e) {
                        e.resize = function(e) {
                            Ye(i(Xe, s.Dialog_Update_Resize), e);
                        }, e.isSupported = function() {
                            return !(!Ne(Ce) || !Ce.supports.dialog || !Ce.supports.dialog.update);
                        };
                    }(e.update || (e.update = {})), function(e) {
                        function t() {
                            var e = Ce.hostVersionsInfo && Ce.hostVersionsInfo.adaptiveCardSchemaVersion && !ie(Ce.hostVersionsInfo.adaptiveCardSchemaVersion);
                            return Ne(Ce) && void 0 !== (e && Ce.supports.dialog && Ce.supports.dialog.card);
                        }
                        function o(e) {
                            return {
                                card: e.card,
                                height: e.size ? e.size.height : V.Small,
                                width: e.size ? e.size.width : V.Small,
                                title: e.title
                            };
                        }
                        function r(e) {
                            var t = o(e);
                            return t.completionBotId = e.completionBotId, t;
                        }
                        e.open = function(e, n) {
                            if (Ne(Ce, H.content, H.sidePanel, H.meetingStage), !t()) throw z;
                            var r = o(e);
                            an(i(Xe, s.Dialog_AdaptiveCard_Open), "tasks.startTask", [ r ], function(e, t) {
                                null == n || n({
                                    err: e,
                                    result: t
                                });
                            });
                        }, e.isSupported = t, function(e) {
                            function t() {
                                var e = Ce.hostVersionsInfo && Ce.hostVersionsInfo.adaptiveCardSchemaVersion && !ie(Ce.hostVersionsInfo.adaptiveCardSchemaVersion);
                                return Ne(Ce) && void 0 !== (e && Ce.supports.dialog && Ce.supports.dialog.card && Ce.supports.dialog.card.bot);
                            }
                            e.open = function(e, n) {
                                if (Ne(Ce, H.content, H.sidePanel, H.meetingStage), !t()) throw z;
                                var o = r(e);
                                an(i(Xe, s.Dialog_AdaptiveCard_Bot_Open), "tasks.startTask", [ o ], function(e, t) {
                                    null == n || n({
                                        err: e,
                                        result: t
                                    });
                                });
                            }, e.isSupported = t;
                        }(e.bot || (e.bot = {}));
                    }(e.adaptiveCard || (e.adaptiveCard = {}));
                }(ot || (ot = {})), function(e) {
                    var o, i, r;
                    function a(e) {
                        r && r(e) || (Ne(Ce), sn("viewConfigItemPress", [ e ]));
                    }
                    function s(e) {
                        o && o(e) || (Ne(Ce), sn("handleNavBarMenuItemPress", [ e ]));
                    }
                    function l(e) {
                        i && i(e) || (Ne(Ce), sn("handleActionMenuItemPress", [ e ]));
                    }
                    function c() {
                        return !(!Ne(Ce) || !Ce.supports.menus);
                    }
                    !function(e) {
                        e[e.ifRoom = 0] = "ifRoom", e[e.overflowOnly = 1] = "overflowOnly";
                    }(e.DisplayMode || (e.DisplayMode = {})), e.MenuItem = function() {
                        return function() {
                            this.enabled = !0, this.selected = !1;
                        };
                    }(), function(e) {
                        e.dropDown = "dropDown", e.popOver = "popOver";
                    }(e.MenuListType || (e.MenuListType = {})), e.initialize = function() {
                        Ot("navBarMenuItemPress", s, !1), Ot("actionMenuItemPress", l, !1), Ot("setModuleView", a, !1);
                    }, e.setUpViews = function(e, t) {
                        if (Ne(Ce), !c()) throw z;
                        r = t, sn("setUpViews", [ e ]);
                    }, e.setNavBarMenu = function(e, t) {
                        if (Ne(Ce), !c()) throw z;
                        o = t, sn("setNavBarMenu", [ e ]);
                    }, e.showActionMenu = function(e, t) {
                        if (Ne(Ce), !c()) throw z;
                        i = t, sn("showActionMenu", [ e ]);
                    }, e.isSupported = c;
                }(it || (it = {}));
                var rt = a.V_2, at = 5e3, st = t("app");
                function lt(e, t) {
                    return ce() ? (st.extend("initialize")("window object undefined at initialization"), 
                    Promise.resolve()) : function(e, t, n) {
                        return new Promise(function(o, i) {
                            var r = setTimeout(i, t, n);
                            e().then(function(e) {
                                clearTimeout(r), o(e);
                            }).catch(function(e) {
                                clearTimeout(r), i(e);
                            });
                        });
                    }(function() {
                        return function(e, t) {
                            return new Promise(function(n) {
                                b.initializeCalled || (b.initializeCalled = !0, Et.initializeHandlers(), b.initializePromise = function(e, t) {
                                    var _this = this;
                                    if (qt.messageListener = function(e) {
                                        return zt(_this, void 0, void 0, _regeneratorRuntime().mark(function _callee3() {
                                            return _regeneratorRuntime().wrap(function(_context3) {
                                                for (;;) switch (_context3.prev = _context3.next) {
                                                  case 0:
                                                    return _context3.next = 2, dn(e);

                                                  case 2:
                                                    return _context3.abrupt("return", _context3.sent);

                                                  case 3:
                                                  case "end":
                                                    return _context3.stop();
                                                }
                                            }, _callee3);
                                        }));
                                    }, Gt.currentWindow = Gt.currentWindow || le(), Gt.parentWindow = Gt.currentWindow.parent !== Gt.currentWindow.self ? Gt.currentWindow.parent : Gt.currentWindow.opener, 
                                    (Gt.parentWindow || e) && Gt.currentWindow.addEventListener("message", qt.messageListener, !1), 
                                    !Gt.parentWindow) {
                                        var _e12 = Gt.currentWindow;
                                        if (!_e12.nativeInterface) return Promise.reject(new Error("Initialization Failed. No Parent window found."));
                                        b.isFramelessWindow = !0, _e12.onNativeMessage = hn;
                                    }
                                    try {
                                        return Gt.parentOrigin = "*", nn(t, "initialize", [ Oe, me ]).then(function(_ref5) {
                                            return {
                                                context: _ref5[0],
                                                clientType: _ref5[1],
                                                runtimeConfig: _ref5[2],
                                                clientSupportedSDKVersion: _ref5[3]
                                            };
                                        });
                                    } finally {
                                        Gt.parentOrigin = null;
                                    }
                                }(t, e).then(function(_ref4) {
                                    var e, t = _ref4.clientType, n = _ref4.runtimeConfig, _ref4$clientSupported = _ref4.clientSupportedSDKVersion, o = void 0 === _ref4$clientSupported ? c : _ref4$clientSupported;
                                    b.frameContext = _ref4.context, b.hostClientType = t, b.clientSupportedSDKVersion = o;
                                    try {
                                        ct("Parsing %s", n);
                                        var _e10 = JSON.parse(n);
                                        if (ct("Checking if %o is a valid runtime object", null != _e10 ? _e10 : "null"), 
                                        !_e10 || !_e10.apiVersion) throw new Error("Received runtime config is invalid");
                                        n && _e(_e10);
                                    } catch (e) {
                                        if (!(e instanceof SyntaxError)) throw e;
                                        try {
                                            ct("Attempting to parse %s as an SDK version", n), isNaN(Z(n, c)) || (b.clientSupportedSDKVersion = n);
                                            var _e11 = JSON.parse(o);
                                            if (ct("givenRuntimeConfig parsed to %o", null != _e11 ? _e11 : "null"), !_e11) throw new Error("givenRuntimeConfig string was successfully parsed. However, it parsed to value of null");
                                            _e(_e11);
                                        } catch (e) {
                                            if (!(e instanceof SyntaxError)) throw e;
                                            _e(Re(b.clientSupportedSDKVersion, ve, Te));
                                        }
                                    }
                                    b.initializeCompleted = !0;
                                }), Qe.initialize(), it.initialize(), It.config.initialize(), ot.initialize()), 
                                Array.isArray(t) && function(e) {
                                    var t = b.additionalValidOrigins.concat(e.filter(function(e) {
                                        return "string" == typeof e && g.test(e);
                                    })), n = {};
                                    t = t.filter(function(e) {
                                        return !n[e] && (n[e] = !0, !0);
                                    }), b.additionalValidOrigins = t;
                                }(t), void 0 !== b.initializePromise ? n(b.initializePromise) : ct("GlobalVars.initializePromise is unexpectedly undefined");
                            });
                        }(e, t);
                    }, at, new Error("SDK initialization timed out."));
                }
                var pt, ct = st.extend("initializeHelper");
                function dt(e, t) {
                    !Be(t) && Le(), function(e, t) {
                        Et.themeChangeHandler = t, !Be(t) && an(e, "registerHandler", [ "themeChange" ]);
                    }(e, t);
                }
                function ft(e, t) {
                    return new Promise(function(n) {
                        Ne(Ce, H.content, H.sidePanel, H.settings, H.task, H.stage, H.meetingStage), n(Qt(e, "executeDeepLink", t));
                    });
                }
                !function(e) {
                    var n = t("app");
                    e.Messages = {
                        AppLoaded: "appInitialization.appLoaded",
                        Success: "appInitialization.success",
                        Failure: "appInitialization.failure",
                        ExpectedFailure: "appInitialization.expectedFailure"
                    }, function(e) {
                        e.AuthFailed = "AuthFailed", e.Timeout = "Timeout", e.Other = "Other";
                    }(e.FailedReason || (e.FailedReason = {})), function(e) {
                        e.PermissionError = "PermissionError", e.NotFound = "NotFound", e.Throttling = "Throttling", 
                        e.Offline = "Offline", e.Other = "Other";
                    }(e.ExpectedFailureReason || (e.ExpectedFailureReason = {})), e.isInitialized = function() {
                        return b.initializeCompleted;
                    }, e.getFrameContext = function() {
                        return b.frameContext;
                    }, function() {
                        if (!ce()) {
                            var e = document.getElementsByTagName("script"), t = e && e[e.length - 1] && e[e.length - 1].src, o = "Today, teamsjs can only be used from a single script or you may see undefined behavior. This log line is used to help detect cases where teamsjs is loaded multiple times -- it is always written. The presence of the log itself does not indicate a multi-load situation, but multiples of these log lines will. If you would like to use teamjs from more than one script at the same time, please open an issue at https://github.com/OfficeDev/microsoft-teams-library-js/issues";
                            t && 0 !== t.length ? n("teamsjs is being used from %s. %s", t, o) : n("teamsjs is being used from a script tag embedded directly in your html. %s", o);
                        }
                    }(), e.initialize = function(e) {
                        return function() {
                            We(this, void 0, void 0, _regeneratorRuntime().mark(function _callee() {
                                return _regeneratorRuntime().wrap(function(_context) {
                                    for (;;) switch (_context.prev = _context.next) {
                                      case 0:
                                        return _context.next = 2, $e();

                                      case 2:
                                      case "end":
                                        return _context.stop();
                                    }
                                }, _callee);
                            }));
                        }(), lt(i(rt, s.App_Initialize), e);
                    }, e._initialize = function(e) {
                        Gt.currentWindow = e;
                    }, e._uninitialize = function() {
                        b.initializeCalled && (Et.uninitializeHandlers(), b.initializeCalled = !1, b.initializeCompleted = !1, 
                        b.initializePromise = void 0, b.additionalValidOrigins = [], b.frameContext = void 0, 
                        b.hostClientType = void 0, b.isFramelessWindow = !1, Gt.currentWindow && Gt.currentWindow.removeEventListener("message", qt.messageListener, !1), 
                        Gt.currentWindow = null, Gt.parentWindow = null, Gt.parentOrigin = null, Gt.childWindow = null, 
                        Gt.childOrigin = null, qt.parentMessageQueue = [], qt.childMessageQueue = [], qt.nextMessageId = 0, 
                        qt.callbacks = {}, qt.promiseCallbacks = {});
                    }, e.getContext = function() {
                        return new Promise(function(e) {
                            Le(), e(Kt(i(rt, s.App_GetContext), "getContext"));
                        }).then(function(e) {
                            return function(e) {
                                var t;
                                return {
                                    actionInfo: e.actionInfo,
                                    app: {
                                        locale: e.locale,
                                        sessionId: e.appSessionId ? e.appSessionId : "",
                                        theme: e.theme ? e.theme : "default",
                                        iconPositionVertical: e.appIconPosition,
                                        osLocaleInfo: e.osLocaleInfo,
                                        parentMessageId: e.parentMessageId,
                                        userClickTime: e.userClickTime,
                                        userFileOpenPreference: e.userFileOpenPreference,
                                        host: {
                                            name: e.hostName ? e.hostName : N.teams,
                                            clientType: e.hostClientType ? e.hostClientType : L.web,
                                            sessionId: e.sessionId ? e.sessionId : "",
                                            ringId: e.ringId
                                        },
                                        appLaunchId: e.appLaunchId
                                    },
                                    page: {
                                        id: e.entityId,
                                        frameContext: e.frameContext ? e.frameContext : b.frameContext,
                                        subPageId: e.subEntityId,
                                        isFullScreen: e.isFullScreen,
                                        isMultiWindow: e.isMultiWindow,
                                        sourceOrigin: e.sourceOrigin
                                    },
                                    user: {
                                        id: null !== (t = e.userObjectId) && void 0 !== t ? t : "",
                                        displayName: e.userDisplayName,
                                        isCallingAllowed: e.isCallingAllowed,
                                        isPSTNCallingAllowed: e.isPSTNCallingAllowed,
                                        licenseType: e.userLicenseType,
                                        loginHint: e.loginHint,
                                        userPrincipalName: e.userPrincipalName,
                                        tenant: e.tid ? {
                                            id: e.tid,
                                            teamsSku: e.tenantSKU
                                        } : void 0
                                    },
                                    channel: e.channelId ? {
                                        id: e.channelId,
                                        displayName: e.channelName,
                                        relativeUrl: e.channelRelativeUrl,
                                        membershipType: e.channelType,
                                        defaultOneNoteSectionId: e.defaultOneNoteSectionId,
                                        ownerGroupId: e.hostTeamGroupId,
                                        ownerTenantId: e.hostTeamTenantId
                                    } : void 0,
                                    chat: e.chatId ? {
                                        id: e.chatId
                                    } : void 0,
                                    meeting: e.meetingId ? {
                                        id: e.meetingId
                                    } : void 0,
                                    sharepoint: e.sharepoint,
                                    team: e.teamId ? {
                                        internalId: e.teamId,
                                        displayName: e.teamName,
                                        type: e.teamType,
                                        groupId: e.groupId,
                                        templateId: e.teamTemplateId,
                                        isArchived: e.isTeamArchived,
                                        userRole: e.userTeamRole
                                    } : void 0,
                                    sharePointSite: e.teamSiteUrl || e.teamSiteDomain || e.teamSitePath || e.mySitePath || e.mySiteDomain ? {
                                        teamSiteUrl: e.teamSiteUrl,
                                        teamSiteDomain: e.teamSiteDomain,
                                        teamSitePath: e.teamSitePath,
                                        teamSiteId: e.teamSiteId,
                                        mySitePath: e.mySitePath,
                                        mySiteDomain: e.mySiteDomain
                                    } : void 0
                                };
                            }(e);
                        });
                    }, e.notifyAppLoaded = function() {
                        Le(), an(i(rt, s.App_NotifyAppLoaded), e.Messages.AppLoaded, [ Oe ]);
                    }, e.notifySuccess = function() {
                        Le(), an(i(rt, s.App_NotifySuccess), e.Messages.Success, [ Oe ]);
                    }, e.notifyFailure = function(t) {
                        Le(), an(i(rt, s.App_NotifyFailure), e.Messages.Failure, [ t.reason, t.message ]);
                    }, e.notifyExpectedFailure = function(t) {
                        Le(), an(i(rt, s.App_NotifyExpectedFailure), e.Messages.ExpectedFailure, [ t.reason, t.message ]);
                    }, e.registerOnThemeChangeHandler = function(e) {
                        dt(i(rt, s.App_RegisterOnThemeChangeHandler), e);
                    }, e.openLink = function(e) {
                        return ft(i(rt, s.App_OpenLink), e);
                    }, function(e) {
                        e.registerBeforeSuspendOrTerminateHandler = function(e) {
                            if (!e) throw new Error("[app.lifecycle.registerBeforeSuspendOrTerminateHandler] Handler cannot be null");
                            Ne(Ce), function(e) {
                                Et.beforeSuspendOrTerminateHandler = e, !Be(e) && sn("registerHandler", [ "beforeUnload" ]);
                            }(e);
                        }, e.registerOnResumeHandler = function(e) {
                            if (!e) throw new Error("[app.lifecycle.registerOnResumeHandler] Handler cannot be null");
                            Ne(Ce), function(e) {
                                Et.resumeHandler = e, !Be(e) && sn("registerHandler", [ "load" ]);
                            }(e);
                        };
                    }(e.lifecycle || (e.lifecycle = {}));
                }(pt || (pt = {}));
                var It, gt = a.V_2;
                function ht(e, t) {
                    return new Promise(function(n) {
                        if (Ne(Ce, H.content, H.sidePanel, H.settings, H.remove, H.task, H.stage, H.meetingStage), 
                        !It.isSupported()) throw z;
                        n(Yt(e, "navigateCrossDomain", "Cross-origin navigation is only supported for URLs matching the pattern registered in the manifest.", t));
                    });
                }
                function wt(e) {
                    return new Promise(function(t) {
                        if (Ne(Ce), !It.backStack.isSupported()) throw z;
                        t(Yt(e, "navigateBack", "Back navigation is not supported in the current client or context."));
                    });
                }
                function Ct(e, t) {
                    return new Promise(function(n) {
                        if (Ne(Ce), !It.tabs.isSupported()) throw z;
                        n(Yt(e, "navigateToTab", "Invalid internalTabInstanceId and/or channelId were/was provided", t));
                    });
                }
                function vt(e, t) {
                    if (Ne(Ce), !It.isSupported()) throw z;
                    an(e, "returnFocus", [ t ]);
                }
                function St(e, t) {
                    return new Promise(function(n) {
                        if (Ne(Ce), !It.tabs.isSupported()) throw z;
                        n(Kt(e, "getTabInstances", t));
                    });
                }
                function bt(e, t) {
                    return new Promise(function(n) {
                        if (Ne(Ce), !It.tabs.isSupported()) throw z;
                        n(Kt(e, "getMruTabInstances", t));
                    });
                }
                function yt(e, t) {
                    if (Ne(Ce, H.content, H.sidePanel, H.meetingStage), !It.isSupported()) throw z;
                    an(e, "shareDeepLink", [ t.subPageId, t.subPageLabel, t.subPageWebUrl ]);
                }
                function Pt(e, t) {
                    if (Ne(Ce, H.content), !It.isSupported()) throw z;
                    an(e, "setFrameContext", [ t ]);
                }
                !function(e) {
                    function t(e) {
                        Pt(i(gt, s.Pages_SetCurrentFrame), e);
                    }
                    function n() {
                        return !(!Ne(Ce) || !Ce.supports.pages);
                    }
                    e.returnFocus = function(e) {
                        vt(i(gt, s.Pages_ReturnFocus), e);
                    }, e.registerFocusEnterHandler = function(e) {
                        Dt(i(gt, s.Pages_RegisterFocusEnterHandler), "focusEnter", e, [], function() {
                            if (!n()) throw z;
                        });
                    }, e.setCurrentFrame = t, e.initializeWithFrameContext = function(e, n, o) {
                        pt.initialize(o).then(function() {
                            return n && n();
                        }), t(e);
                    }, e.getConfig = function() {
                        return new Promise(function(e) {
                            if (Ne(Ce, H.content, H.settings, H.remove, H.sidePanel), !n()) throw z;
                            e(Kt(i(gt, s.Pages_GetConfig), "settings.getSettings"));
                        });
                    }, e.navigateCrossDomain = function(e) {
                        return ht(i(gt, s.Pages_NavigateCrossDomain), e);
                    }, e.navigateToApp = function(e) {
                        return new Promise(function(t) {
                            if (Ne(Ce, H.content, H.sidePanel, H.settings, H.task, H.stage, H.meetingStage), 
                            !n()) throw z;
                            var o = i(gt, s.Pages_NavigateCrossDomain);
                            t(Ce.isLegacyTeams ? Qt(o, "executeDeepLink", function(e) {
                                var t = new URL("https://teams.microsoft.com/l/entity/" + encodeURIComponent(e.appId) + "/" + encodeURIComponent(e.pageId));
                                return e.webUrl && t.searchParams.append("webUrl", e.webUrl), (e.channelId || e.subPageId) && t.searchParams.append("context", JSON.stringify({
                                    channelId: e.channelId,
                                    subEntityId: e.subPageId
                                })), t.toString();
                            }(e)) : Qt(o, "pages.navigateToApp", e));
                        });
                    }, e.shareDeepLink = function(e) {
                        return yt(i(gt, s.Pages_ShareDeepLink), e);
                    }, e.registerFullScreenHandler = function(e) {
                        Dt(i(gt, s.Pages_RegisterFullScreenHandler), "fullScreenChange", e, [], function() {
                            if (!Be(e) && !n()) throw z;
                        });
                    }, e.isSupported = n, function(e) {
                        e.navigateToTab = function(e) {
                            return Ct(i(gt, s.Pages_Tabs_NavigateToTab), e);
                        }, e.getTabInstances = function(e) {
                            return St(i(gt, s.Pages_Tabs_GetTabInstances), e);
                        }, e.getMruTabInstances = function(e) {
                            return bt(i(gt, s.Pages_Tabs_GetMruTabInstances), e);
                        }, e.isSupported = function() {
                            return !(!Ne(Ce) || !Ce.supports.pages || !Ce.supports.pages.tabs);
                        };
                    }(e.tabs || (e.tabs = {})), function(e) {
                        var t, n;
                        function o(e, n) {
                            !Be(e) && Ne(Ce, H.settings), n && n(), t = e, !Be(e) && an(i(gt, s.Pages_Config_RegisterOnSaveHandlerHelper), "registerHandler", [ "save" ]);
                        }
                        function r(e, t) {
                            !Be(e) && Ne(Ce, H.remove, H.settings), t && t(), n = e, !Be(e) && an(i(gt, s.Pages_Config_RegisterOnRemoveHandlerHelper), "registerHandler", [ "remove" ]);
                        }
                        function a(e) {
                            var n = new l(e);
                            t ? t(n) : Gt.childWindow ? Tn("settings.save", [ e ]) : n.notifySuccess();
                        }
                        e.initialize = function() {
                            Ot("settings.save", a, !1), Ot("settings.remove", c, !1);
                        }, e.setValidityState = function(e) {
                            if (Ne(Ce, H.settings, H.remove), !d()) throw z;
                            an(i(gt, s.Pages_Config_SetValidityState), "settings.setValidityState", [ e ]);
                        }, e.setConfig = function(e) {
                            return new Promise(function(t) {
                                if (Ne(Ce, H.content, H.settings, H.sidePanel), !d()) throw z;
                                t(Qt(i(gt, s.Pages_Config_SetConfig), "settings.setSettings", e));
                            });
                        }, e.registerOnSaveHandler = function(e) {
                            o(e, function() {
                                if (!Be(e) && !d()) throw z;
                            });
                        }, e.registerOnSaveHandlerHelper = o, e.registerOnRemoveHandler = function(e) {
                            r(e, function() {
                                if (!Be(e) && !d()) throw z;
                            });
                        }, e.registerOnRemoveHandlerHelper = r, e.registerChangeConfigHandler = function(e) {
                            Dt(i(gt, s.Pages_Config_RegisterChangeConfigHandler), "changeSettings", e, [ H.content ], function() {
                                if (!d()) throw z;
                            });
                        };
                        var l = function() {
                            function l(e) {
                                this.notified = !1, this.result = e || {};
                            }
                            var _proto = l.prototype;
                            return _proto.notifySuccess = function() {
                                this.ensureNotNotified(), an(i(gt, s.Settings_Save_Success), "settings.save.success"), 
                                this.notified = !0;
                            }, _proto.notifyFailure = function(e) {
                                this.ensureNotNotified(), an(i(gt, s.Settings_Save_Failure), "settings.save.failure", [ e ]), 
                                this.notified = !0;
                            }, _proto.ensureNotNotified = function() {
                                if (this.notified) throw new Error("The SaveEvent may only notify success or failure once.");
                            }, l;
                        }();
                        function c() {
                            var e = new u;
                            n ? n(e) : Gt.childWindow ? Tn("settings.remove", []) : e.notifySuccess();
                        }
                        var u = function() {
                            function u() {
                                this.notified = !1;
                            }
                            var _proto2 = u.prototype;
                            return _proto2.notifySuccess = function() {
                                this.ensureNotNotified(), an(i(gt, s.Settings_Remove_Success), "settings.remove.success"), 
                                this.notified = !0;
                            }, _proto2.notifyFailure = function(e) {
                                this.ensureNotNotified(), an(i(gt, s.Settings_Remove_Failure), "settings.remove.failure", [ e ]), 
                                this.notified = !0;
                            }, _proto2.ensureNotNotified = function() {
                                if (this.notified) throw new Error("The removeEventType may only notify success or failure once.");
                            }, u;
                        }();
                        function d() {
                            return !(!Ne(Ce) || !Ce.supports.pages || !Ce.supports.pages.config);
                        }
                        e.isSupported = d;
                    }(e.config || (e.config = {})), function(e) {
                        var t;
                        function n() {
                            return wt(i(gt, s.Pages_BackStack_NavigateBack));
                        }
                        function o(e, n, o) {
                            !Be(n) && Ne(Ce), o && o(), t = n, !Be(n) && an(e, "registerHandler", [ "backButton" ]);
                        }
                        function r() {
                            t && t() || (Gt.childWindow ? Tn("backButtonPress", []) : n());
                        }
                        function a() {
                            return !(!Ne(Ce) || !Ce.supports.pages || !Ce.supports.pages.backStack);
                        }
                        e._initialize = function() {
                            Ot("backButtonPress", r, !1);
                        }, e.navigateBack = n, e.registerBackButtonHandler = function(e) {
                            o(i(gt, s.Pages_BackStack_RegisterBackButtonHandler), e, function() {
                                if (!Be(e) && !a()) throw z;
                            });
                        }, e.registerBackButtonHandlerHelper = o, e.isSupported = a;
                    }(e.backStack || (e.backStack = {})), function(e) {
                        function t() {
                            return !(!Ne(Ce) || !Ce.supports.pages || !Ce.supports.pages.fullTrust);
                        }
                        e.enterFullscreen = function() {
                            if (Ne(Ce, H.content), !t()) throw z;
                            an(i(gt, s.Pages_FullTrust_EnterFullscreen), "enterFullscreen", []);
                        }, e.exitFullscreen = function() {
                            if (Ne(Ce, H.content), !t()) throw z;
                            an(i(gt, s.Pages_FullTrust_ExitFullscreen), "exitFullscreen", []);
                        }, e.isSupported = t;
                    }(e.fullTrust || (e.fullTrust = {})), function(e) {
                        function t() {
                            return !(!Ne(Ce) || !Ce.supports.pages || !Ce.supports.pages.appButton);
                        }
                        e.onClick = function(e) {
                            Dt(i(gt, s.Pages_AppButton_OnClick), "appButtonClick", e, [ H.content ], function() {
                                if (!t()) throw z;
                            });
                        }, e.onHoverEnter = function(e) {
                            Dt(i(gt, s.Pages_AppButton_OnHoverEnter), "appButtonHoverEnter", e, [ H.content ], function() {
                                if (!t()) throw z;
                            });
                        }, e.onHoverLeave = function(e) {
                            Dt(i(gt, s.Pages_AppButton_OnHoverLeave), "appButtonHoverLeave", e, [ H.content ], function() {
                                if (!t()) throw z;
                            });
                        }, e.isSupported = t;
                    }(e.appButton || (e.appButton = {})), function(e) {
                        function t() {
                            return !(!Ne(Ce) || !Ce.supports.pages || !Ce.supports.pages.currentApp);
                        }
                        e.navigateTo = function(e) {
                            return new Promise(function(n) {
                                if (Ne(Ce, H.content, H.sidePanel, H.settings, H.task, H.stage, H.meetingStage), 
                                !t()) throw z;
                                n(en(i(gt, s.Pages_CurrentApp_NavigateTo), "pages.currentApp.navigateTo", e));
                            });
                        }, e.navigateToDefaultPage = function() {
                            return new Promise(function(e) {
                                if (Ne(Ce, H.content, H.sidePanel, H.settings, H.task, H.stage, H.meetingStage), 
                                !t()) throw z;
                                e(en(i(gt, s.Pages_CurrentApp_NavigateToDefaultPage), "pages.currentApp.navigateToDefaultPage"));
                            });
                        }, e.isSupported = t;
                    }(e.currentApp || (e.currentApp = {}));
                }(It || (It = {}));
                var Tt = t("handlers"), Et = function() {
                    function Et() {}
                    return Et.initializeHandlers = function() {
                        Et.handlers.themeChange = Nt, Et.handlers.load = Ut, Et.handlers.beforeUnload = Vt, 
                        It.backStack._initialize();
                    }, Et.uninitializeHandlers = function() {
                        Et.handlers = {}, Et.themeChangeHandler = null, Et.loadHandler = null, Et.beforeUnloadHandler = null, 
                        Et.beforeSuspendOrTerminateHandler = null, Et.resumeHandler = null;
                    }, Et;
                }();
                Et.handlers = {}, Et.themeChangeHandler = null, Et.loadHandler = null, Et.beforeUnloadHandler = null, 
                Et.beforeSuspendOrTerminateHandler = null, Et.resumeHandler = null;
                var Ft = Tt.extend("callHandler");
                function _t(e, t) {
                    var n = Et.handlers[e];
                    return n ? (Ft("Invoking the registered handler for message %s with arguments %o", e, t), 
                    [ !0, n.apply(this, t) ]) : Gt.childWindow ? (Tn(e, t), [ !1, void 0 ]) : (Ft("Handler for action message %s not found.", e), 
                    [ !1, void 0 ]);
                }
                function Ot(e, t, n, o) {
                    void 0 === n && (n = !0), void 0 === o && (o = []), t ? (Et.handlers[e] = t, n && an(i(a.V_0, s.RegisterHandler), "registerHandler", [ e ].concat(o))) : delete Et.handlers[e];
                }
                function kt(e) {
                    delete Et.handlers[e];
                }
                function Mt(e) {
                    return null != Et.handlers[e];
                }
                function Dt(e, t, n, o, i) {
                    n && Ne.apply(void 0, [ Ce ].concat(o)), i && i(), Ot(t, n);
                }
                function Nt(e) {
                    Et.themeChangeHandler && Et.themeChangeHandler(e), Gt.childWindow && Tn("themeChange", [ e ]);
                }
                function Ht(e) {
                    Et.loadHandler = e, !Be(e) && an(i(a.V_2, s.RegisterHandler), "registerHandler", [ "load" ]);
                }
                function Ut(e) {
                    Et.resumeHandler ? Et.resumeHandler(e) : Et.loadHandler && Et.loadHandler(e), Gt.childWindow && Tn("load", [ e ]);
                }
                function xt(e) {
                    Et.beforeUnloadHandler = e, !Be(e) && an(i(a.V_2, s.RegisterHandler), "registerHandler", [ "beforeUnload" ]);
                }
                function Vt() {
                    var e = function() {
                        sn("readyToUnload", []);
                    };
                    Et.beforeSuspendOrTerminateHandler ? (Et.beforeSuspendOrTerminateHandler(), Gt.childWindow ? Tn("beforeUnload") : e()) : Et.beforeUnloadHandler && Et.beforeUnloadHandler(e) || (Gt.childWindow ? Tn("beforeUnload") : e());
                }
                var zt = function(e, t, n, o) {
                    function i(e) {
                        return e instanceof n ? e : new n(function(t) {
                            t(e);
                        });
                    }
                    return new (n || (n = Promise))(function(n, r) {
                        function a(e) {
                            try {
                                l(o.next(e));
                            } catch (e) {
                                r(e);
                            }
                        }
                        function s(e) {
                            try {
                                l(o.throw(e));
                            } catch (e) {
                                r(e);
                            }
                        }
                        function l(e) {
                            e.done ? n(e.value) : i(e.value).then(a, s);
                        }
                        l((o = o.apply(e, t || [])).next());
                    });
                }, jt = t("communication"), Gt = function() {}, qt = function() {};
                function Kt(e, t) {
                    for (var _len6 = arguments.length, n = new Array(_len6 > 2 ? _len6 - 2 : 0), _key6 = 2; _key6 < _len6; _key6++) n[_key6 - 2] = arguments[_key6];
                    return nn(e, t, n).then(function(_ref6) {
                        return _ref6[0];
                    });
                }
                function Zt(e) {
                    for (var _len7 = arguments.length, t = new Array(_len7 > 1 ? _len7 - 1 : 0), _key7 = 1; _key7 < _len7; _key7++) t[_key7 - 1] = arguments[_key7];
                    return on(e, t).then(function(_ref7) {
                        return _ref7[0];
                    });
                }
                function Qt(e, t) {
                    for (var _len8 = arguments.length, n = new Array(_len8 > 2 ? _len8 - 2 : 0), _key8 = 2; _key8 < _len8; _key8++) n[_key8 - 2] = arguments[_key8];
                    return nn(e, t, n).then(function(_ref8) {
                        if (!_ref8[0]) throw new Error(_ref8[1]);
                    });
                }
                function Xt(e) {
                    for (var _len9 = arguments.length, t = new Array(_len9 > 1 ? _len9 - 1 : 0), _key9 = 1; _key9 < _len9; _key9++) t[_key9 - 1] = arguments[_key9];
                    return on(e, t).then(function(_ref9) {
                        if (!_ref9[0]) throw new Error(_ref9[1]);
                    });
                }
                function Yt(e, t, n) {
                    for (var _len10 = arguments.length, o = new Array(_len10 > 3 ? _len10 - 3 : 0), _key10 = 3; _key10 < _len10; _key10++) o[_key10 - 3] = arguments[_key10];
                    return nn(e, t, o).then(function(_ref10) {
                        if (!_ref10[0]) throw new Error(_ref10[1] || n);
                    });
                }
                function en(e, t) {
                    for (var _len11 = arguments.length, n = new Array(_len11 > 2 ? _len11 - 2 : 0), _key11 = 2; _key11 < _len11; _key11++) n[_key11 - 2] = arguments[_key11];
                    return nn(e, t, n).then(function(_ref11) {
                        var e = _ref11[0];
                        if (e) throw e;
                        return _ref11[1];
                    });
                }
                function tn(e) {
                    for (var _len12 = arguments.length, t = new Array(_len12 > 1 ? _len12 - 1 : 0), _key12 = 1; _key12 < _len12; _key12++) t[_key12 - 1] = arguments[_key12];
                    return on(e, t).then(function(_ref12) {
                        var e = _ref12[0];
                        if (e) throw e;
                        return _ref12[1];
                    });
                }
                function nn(e, t, n) {
                    if (void 0 === n && (n = void 0), !r(e)) throw Error("apiVersionTag: " + e + " passed in doesn't follow the pattern starting with 'v' followed by digits, then underscore with words, please check.");
                    return new Promise(function(o) {
                        o(rn(cn(e, t, n).id));
                    });
                }
                function on(e, t) {
                    return void 0 === t && (t = void 0), new Promise(function(n) {
                        n(rn(cn(i(a.V_0, "testing"), e, t).id));
                    });
                }
                function rn(e) {
                    return new Promise(function(t) {
                        qt.promiseCallbacks[e] = t;
                    });
                }
                function an(e, t, n, o) {
                    var i;
                    if (n instanceof Function ? o = n : n instanceof Array && (i = n), !r(e)) throw Error("apiVersionTag: " + e + " passed in doesn't follow the pattern starting with 'v' followed by digits, then underscore with words, please check.");
                    var a = cn(e, t, i);
                    o && (qt.callbacks[a.id] = o);
                }
                function sn(e, t, n) {
                    var o;
                    t instanceof Function ? n = t : t instanceof Array && (o = t);
                    var r = cn(i(a.V_0, "testing"), e, o);
                    n && (qt.callbacks[r.id] = n);
                }
                qt.parentMessageQueue = [], qt.childMessageQueue = [], qt.nextMessageId = 0, qt.callbacks = {}, 
                qt.promiseCallbacks = {};
                var ln = jt.extend("sendMessageToParentHelper");
                function cn(e, t, n) {
                    var o = ln, i = Gt.parentWindow, r = function(e, t, n) {
                        return {
                            id: qt.nextMessageId++,
                            func: t,
                            timestamp: Date.now(),
                            args: n || [],
                            apiversiontag: e
                        };
                    }(e, t, n);
                    if (o("Message %i information: %o", r.id, {
                        actionName: t,
                        args: n
                    }), b.isFramelessWindow) Gt.currentWindow && Gt.currentWindow.nativeInterface && (o("Sending message %i to parent via framelessPostMessage interface", r.id), 
                    Gt.currentWindow.nativeInterface.framelessPostMessage(JSON.stringify(r))); else {
                        var _e13 = Sn(i);
                        i && _e13 ? (o("Sending message %i to parent via postMessage", r.id), i.postMessage(r, _e13)) : (o("Adding message %i to parent message queue", r.id), 
                        vn(i).push(r));
                    }
                    return r;
                }
                var un = jt.extend("processMessage");
                function dn(e) {
                    return zt(this, void 0, void 0, _regeneratorRuntime().mark(function _callee4() {
                        var t, n;
                        return _regeneratorRuntime().wrap(function(_context4) {
                            for (;;) switch (_context4.prev = _context4.next) {
                              case 0:
                                if (e && e.data && "object" == typeof e.data) {
                                    _context4.next = 2;
                                    break;
                                }
                                return _context4.abrupt("return", void un("Unrecognized message format received by app, message being ignored. Message: %o", e));

                              case 2:
                                return _context4.abrupt("return", pn(t = e.source || e.originalEvent && e.originalEvent.source, n = e.origin || e.originalEvent && e.originalEvent.origin).then(function(o) {
                                    o ? (mn(t, n), t === Gt.parentWindow ? hn(e) : t === Gt.childWindow && Cn(e)) : un("Message being ignored by app because it is either coming from the current window or a different window with an invalid origin");
                                }));

                              case 4:
                              case "end":
                                return _context4.stop();
                            }
                        }, _callee4);
                    }));
                }
                var fn = jt.extend("shouldProcessMessage");
                function pn(e, t) {
                    return zt(this, void 0, void 0, _regeneratorRuntime().mark(function _callee5() {
                        var _e14;
                        return _regeneratorRuntime().wrap(function(_context5) {
                            for (;;) switch (_context5.prev = _context5.next) {
                              case 0:
                                if (!Gt.currentWindow || e !== Gt.currentWindow) {
                                    _context5.next = 2;
                                    break;
                                }
                                return _context5.abrupt("return", (fn("Should not process message because it is coming from the current window"), 
                                !1));

                              case 2:
                                if (!(Gt.currentWindow && Gt.currentWindow.location && t && t === Gt.currentWindow.location.origin)) {
                                    _context5.next = 4;
                                    break;
                                }
                                return _context5.abrupt("return", !0);

                              case 4:
                                return _context5.next = 6, Ze(new URL(t));

                              case 6:
                                return _context5.abrupt("return", ((_e14 = _context5.sent) || fn("Message has an invalid origin of %s", t), 
                                _e14));

                              case 8:
                              case "end":
                                return _context5.stop();
                            }
                        }, _callee5);
                    }));
                }
                function mn(e, t) {
                    b.isFramelessWindow || Gt.parentWindow && !Gt.parentWindow.closed && e !== Gt.parentWindow ? Gt.childWindow && !Gt.childWindow.closed && e !== Gt.childWindow || (Gt.childWindow = e, 
                    Gt.childOrigin = t) : (Gt.parentWindow = e, Gt.parentOrigin = t), Gt.parentWindow && Gt.parentWindow.closed && (Gt.parentWindow = null, 
                    Gt.parentOrigin = null), Gt.childWindow && Gt.childWindow.closed && (Gt.childWindow = null, 
                    Gt.childOrigin = null), yn(Gt.parentWindow), yn(Gt.childWindow);
                }
                var gn = jt.extend("handleParentMessage");
                function hn(e) {
                    var t = gn;
                    if ("id" in e.data && "number" == typeof e.data.id) {
                        var _n4 = e.data, _o4 = qt.callbacks[_n4.id];
                        t("Received a response from parent for message %i", _n4.id), _o4 && (t("Invoking the registered callback for message %i with arguments %o", _n4.id, _n4.args), 
                        _o4.apply(null, [].concat(_n4.args, [ _n4.isPartialResponse ])), function(e) {
                            return !0 === e.data.isPartialResponse;
                        }(e) || (t("Removing registered callback for message %i", _n4.id), delete qt.callbacks[_n4.id]));
                        var _i2 = qt.promiseCallbacks[_n4.id];
                        _i2 && (t("Invoking the registered promise callback for message %i with arguments %o", _n4.id, _n4.args), 
                        _i2(_n4.args), t("Removing registered promise callback for message %i", _n4.id), 
                        delete qt.promiseCallbacks[_n4.id]);
                    } else if ("func" in e.data && "string" == typeof e.data.func) {
                        var _n5 = e.data;
                        t("Received an action message %s from parent", _n5.func), _t(_n5.func, _n5.args);
                    } else t("Received an unknown message: %O", e);
                }
                function Cn(e) {
                    if ("id" in e.data && "func" in e.data) {
                        var _t7 = e.data, _t6 = _t(_t7.func, _t7.args), _o5 = _t6[1];
                        _t6[0] && void 0 !== _o5 ? In(_t7.id, Array.isArray(_o5) ? _o5 : [ _o5 ]) : sn(_t7.func, _t7.args, function() {
                            if (Gt.childWindow) {
                                for (var _len13 = arguments.length, e = new Array(_len13), _key13 = 0; _key13 < _len13; _key13++) e[_key13] = arguments[_key13];
                                var _n7 = e.pop();
                                In(_t7.id, e, _n7);
                            }
                        });
                    }
                }
                function vn(e) {
                    return e === Gt.parentWindow ? qt.parentMessageQueue : e === Gt.childWindow ? qt.childMessageQueue : [];
                }
                function Sn(e) {
                    return e === Gt.parentWindow ? Gt.parentOrigin : e === Gt.childWindow ? Gt.childOrigin : null;
                }
                var Fn, _n, On, kn, Mn, Gn, bn = jt.extend("flushMessageQueue");
                function yn(e) {
                    for (var t = Sn(e), n = vn(e), o = e == Gt.parentWindow ? "parent" : "child"; e && t && n.length > 0; ) {
                        var _i3 = n.shift();
                        bn("Flushing message %i from " + o + " message queue via postMessage.", null == _i3 ? void 0 : _i3.id), 
                        e.postMessage(_i3, t);
                    }
                }
                function Pn(e, t) {
                    var n;
                    n = Gt.currentWindow.setInterval(function() {
                        0 === vn(e).length && (clearInterval(n), t());
                    }, 100);
                }
                function In(e, t, n) {
                    var o = Gt.childWindow, i = function(e, t, n) {
                        return {
                            id: e,
                            args: t || [],
                            isPartialResponse: n
                        };
                    }(e, t, n), r = Sn(o);
                    o && r && o.postMessage(i, r);
                }
                function Tn(e, t) {
                    var n = Gt.childWindow, o = function(e, t) {
                        return {
                            func: e,
                            args: t || []
                        };
                    }(e, t), i = Sn(n);
                    n && i ? n.postMessage(o, i) : vn(n).push(o);
                }
                function Dn(e, t) {
                    Ne(Ce), sn("uploadCustomApp", [ e ], t || K());
                }
                function Ln(e, t, n) {
                    Ne(Ce), sn(e, t, n);
                }
                function Nn(e, t) {
                    if (Ne(Ce), !Gt.childWindow) throw new Error("The child window has not yet been initialized or is not present");
                    Tn(e, t);
                }
                function Hn(e, t) {
                    var _this2 = this;
                    Ne(Ce), Ot(e, function() {
                        for (var _len14 = arguments.length, e = new Array(_len14), _key14 = 0; _key14 < _len14; _key14++) e[_key14] = arguments[_key14];
                        return t.apply(_this2, e);
                    });
                }
                function Un(e, t) {
                    Ne(Ce), Ot("userSettingsChange", t, !0, [ e ]);
                }
                function xn(e) {
                    Ne(Ce, H.content, H.task), sn("openFilePreview", [ e.entityId, e.title, e.description, e.type, e.objectUrl, e.downloadUrl, e.webPreviewUrl, e.webEditUrl, e.baseUrl, e.editFile, e.subEntityId, e.viewerAction, e.fileOpenPreference, e.conversationId, e.sizeInBytes ]);
                }
                function Bn(e, t, n) {
                    if (0 === e.length) throw new Error("Must have at least one user when creating a chat deep link");
                    var o = "users=" + e.map(function(e) {
                        return encodeURIComponent(e);
                    }).join(","), i = void 0 === t ? "" : "&topicName=" + encodeURIComponent(t), r = void 0 === n ? "" : "&message=" + encodeURIComponent(n);
                    return h + "://" + w + "/l/chat/0/0?" + o + i + r;
                }
                !function(e) {
                    function t() {
                        return !(!Ne(Ce) || !Ce.supports.logs);
                    }
                    e.registerGetLogHandler = function(e) {
                        if (!Be(e) && Ne(Ce), !Be(e) && !t()) throw z;
                        e ? Ot("log.request", function() {
                            sn("log.receive", [ e() ]);
                        }) : kt("log.request");
                    }, e.isSupported = t;
                }(Fn || (Fn = {})), function(e) {
                    e.fileDownloadStart = "fileDownloadStart", e.fileDownloadComplete = "fileDownloadComplete";
                }(_n || (_n = {})), function(e) {
                    e.view = "view", e.edit = "edit", e.editNew = "editNew";
                }(On || (On = {})), function(e) {
                    e.fileOpenPreference = "fileOpenPreference", e.theme = "theme";
                }(kn || (kn = {})), function(e) {
                    function t() {
                        return !(!Ne(Ce) || !Ce.supports.conversations);
                    }
                    e.openConversation = function(e) {
                        return new Promise(function(n) {
                            if (Ne(Ce, H.content), !t()) throw z;
                            var o = Xt("conversations.openConversation", {
                                title: e.title,
                                subEntityId: e.subEntityId,
                                conversationId: e.conversationId,
                                channelId: e.channelId,
                                entityId: e.entityId
                            });
                            e.onStartConversation && Ot("startConversation", function(t, n, o, i) {
                                var r;
                                return null === (r = e.onStartConversation) || void 0 === r ? void 0 : r.call(e, {
                                    subEntityId: t,
                                    conversationId: n,
                                    channelId: o,
                                    entityId: i
                                });
                            }), e.onCloseConversation && Ot("closeConversation", function(t, n, o, i) {
                                var r;
                                return null === (r = e.onCloseConversation) || void 0 === r ? void 0 : r.call(e, {
                                    subEntityId: t,
                                    conversationId: n,
                                    channelId: o,
                                    entityId: i
                                });
                            }), n(o);
                        });
                    }, e.closeConversation = function() {
                        if (Ne(Ce, H.content), !t()) throw z;
                        sn("conversations.closeConversation"), kt("startConversation"), kt("closeConversation");
                    }, e.getChatMembers = function() {
                        return new Promise(function(e) {
                            if (Ne(Ce), !t()) throw z;
                            e(Zt("getChatMembers"));
                        });
                    }, e.isSupported = t;
                }(Mn || (Mn = {})), function(e) {
                    function t() {
                        return !(!Ne(Ce) || !Ce.supports.appInstallDialog);
                    }
                    e.openAppInstallDialog = function(e) {
                        return new Promise(function(n) {
                            if (Ne(Ce, H.content, H.sidePanel, H.settings, H.task, H.stage, H.meetingStage), 
                            !t()) throw new Error("Not supported");
                            Ce.isLegacyTeams ? n(Xt("executeDeepLink", function(e) {
                                if (!e) throw new Error("App ID must be set when creating an app install dialog deep link");
                                return h + "://" + w + "/l/app/" + encodeURIComponent(e);
                            }(e.appId))) : (sn("appInstallDialog.openAppInstallDialog", [ e ]), n());
                        });
                    }, e.isSupported = t;
                }(Gn || (Gn = {}));
                var Jn, qn = a.V_1, $n = t("media");
                function Kn(e, t) {
                    if (null == e || null == t || e.length <= 0) return null;
                    var n = null, o = 1;
                    return e.sort(function(e, t) {
                        return e.sequence > t.sequence ? 1 : -1;
                    }), e.forEach(function(e) {
                        e.sequence == o && (n = n ? new Blob([ n, e.file ], {
                            type: t
                        }) : new Blob([ e.file ], {
                            type: t
                        }), o++);
                    }), n;
                }
                function Zn(e, t) {
                    if (null == e || null == t) return null;
                    for (var n = atob(e.chunk), o = new Array(n.length), _e15 = 0; _e15 < n.length; _e15++) o[_e15] = n.charCodeAt(_e15);
                    var i = new Uint8Array(o), r = new Blob([ i ], {
                        type: t
                    });
                    return {
                        sequence: e.chunkSequence,
                        file: r
                    };
                }
                function ro(e) {
                    return !e || !(null === e.timeOutIntervalInSec || null != e.timeOutIntervalInSec && e.timeOutIntervalInSec <= 0 || null != e.timeOutIntervalInSec && e.timeOutIntervalInSec > 60);
                }
                !function(e) {
                    var n, a;
                    !function(e) {
                        e.Base64 = "base64", e.ID = "id";
                    }(e.FileFormat || (e.FileFormat = {}));
                    var d = function() {};
                    function p() {
                        return !(!Ne(Ce) || !Ce.supports.permissions);
                    }
                    e.File = d, e.captureImage = function(e) {
                        if (!e) throw new Error("[captureImage] Callback cannot be null");
                        Ne(Ce, H.content, H.task), b.isFramelessWindow ? He("1.7.0") ? an(i(qn, s.Media_CaptureImage), "captureImage", e) : e({
                            errorCode: k.OLD_PLATFORM
                        }, []) : e({
                            errorCode: k.NOT_SUPPORTED_ON_PLATFORM
                        }, []);
                    }, e.hasPermission = function() {
                        if (Ne(Ce, H.content, H.task), !p()) throw z;
                        var e = M.Media;
                        return new Promise(function(t) {
                            t(en(i(qn, s.Media_HasPermission), "permissions.has", e));
                        });
                    }, e.requestPermission = function() {
                        if (Ne(Ce, H.content, H.task), !p()) throw z;
                        var e = M.Media;
                        return new Promise(function(t) {
                            t(en(i(qn, s.Media_RequestPermission), "permissions.request", e));
                        });
                    };
                    var m = function(_d) {
                        function m(e) {
                            var _this3;
                            return _this3 = _d.call(this) || this, e && (_this3.content = e.content, _this3.format = e.format, 
                            _this3.mimeType = e.mimeType, _this3.name = e.name, _this3.preview = e.preview, 
                            _this3.size = e.size), _this3;
                        }
                        _inheritsLoose(m, _d);
                        var _proto3 = m.prototype;
                        return _proto3.getMedia = function(e) {
                            if (!e) throw new Error("[get Media] Callback cannot be null");
                            Ne(Ce, H.content, H.task), He(f) ? function(e, t, n) {
                                return null != e && null != t && t == Jn.FileFormat.ID && null != n;
                            }(this.mimeType, this.format, this.content) ? He("2.0.0") ? this.getMediaViaCallback(e) : this.getMediaViaHandler(e) : e({
                                errorCode: k.INVALID_ARGUMENTS
                            }, new Blob) : e({
                                errorCode: k.OLD_PLATFORM
                            }, new Blob);
                        }, _proto3.getMediaViaCallback = function(e) {
                            var t = {
                                mediaMimeType: this.mimeType,
                                assembleAttachment: []
                            }, n = [ this.content ];
                            an(i(qn, s.Media_GetMedia), "getMedia", n, function(n) {
                                if (e) if (n && n.error) e(n.error, new Blob); else if (n && n.mediaChunk) if (n.mediaChunk.chunkSequence <= 0) {
                                    var _o6 = Kn(t.assembleAttachment, t.mediaMimeType);
                                    e(n.error, null != _o6 ? _o6 : new Blob);
                                } else {
                                    var _e16 = Zn(n.mediaChunk, t.mediaMimeType);
                                    _e16 ? t.assembleAttachment.push(_e16) : $n("Received a null assemble attachment for when decoding chunk sequence " + n.mediaChunk.chunkSequence + "; not including the chunk in the assembled file.");
                                } else e({
                                    errorCode: k.INTERNAL_ERROR,
                                    message: "data received is null"
                                }, new Blob);
                            });
                        }, _proto3.getMediaViaHandler = function(e) {
                            var t = Q(), n = {
                                mediaMimeType: this.mimeType,
                                assembleAttachment: []
                            }, o = [ t, this.content ];
                            this.content && !Be(e) && an(i(qn, s.Media_GetMedia), "getMedia", o), Ot("getMedia" + t, function(o) {
                                if (e) {
                                    var _i4 = JSON.parse(o);
                                    if (_i4.error) e(_i4.error, new Blob), kt("getMedia" + t); else if (_i4.mediaChunk) if (_i4.mediaChunk.chunkSequence <= 0) {
                                        var _o7 = Kn(n.assembleAttachment, n.mediaMimeType);
                                        e(_i4.error, null != _o7 ? _o7 : new Blob), kt("getMedia" + t);
                                    } else {
                                        var _e17 = Zn(_i4.mediaChunk, n.mediaMimeType);
                                        _e17 && n.assembleAttachment.push(_e17);
                                    } else e({
                                        errorCode: k.INTERNAL_ERROR,
                                        message: "data received is null"
                                    }, new Blob), kt("getMedia" + t);
                                }
                            });
                        }, m;
                    }(d);
                    e.Media = m;
                    var g = function() {
                        function g(e) {
                            this.controllerCallback = e;
                        }
                        var _proto4 = g.prototype;
                        return _proto4.notifyEventToHost = function(e, t) {
                            Ne(Ce, H.content, H.task);
                            try {
                                xe(u);
                            } catch (e) {
                                return void (t && t(e));
                            }
                            var n = {
                                mediaType: this.getMediaType(),
                                mediaControllerEvent: e
                            };
                            an(i(qn, s.Media_Controller), "media.controller", [ n ], function(e) {
                                t && t(e);
                            });
                        }, _proto4.stop = function(e) {
                            this.notifyEventToHost(n.StopRecording, e);
                        }, g;
                    }();
                    e.VideoController = function(_g) {
                        function _class2() {
                            return _g.apply(this, arguments) || this;
                        }
                        _inheritsLoose(_class2, _g);
                        var _proto5 = _class2.prototype;
                        return _proto5.getMediaType = function() {
                            return a.Video;
                        }, _proto5.notifyEventToApp = function(e) {
                            if (this.controllerCallback) switch (e) {
                              case n.StartRecording:
                                if (this.controllerCallback.onRecordingStarted) {
                                    this.controllerCallback.onRecordingStarted();
                                    break;
                                }
                            }
                        }, _class2;
                    }(g), function(e) {
                        e[e.StartRecording = 1] = "StartRecording", e[e.StopRecording = 2] = "StopRecording";
                    }(n = e.MediaControllerEvent || (e.MediaControllerEvent = {})), function(e) {
                        e[e.Photo = 1] = "Photo", e[e.Document = 2] = "Document", e[e.Whiteboard = 3] = "Whiteboard", 
                        e[e.BusinessCard = 4] = "BusinessCard";
                    }(e.CameraStartMode || (e.CameraStartMode = {})), function(e) {
                        e[e.Camera = 1] = "Camera", e[e.Gallery = 2] = "Gallery";
                    }(e.Source || (e.Source = {})), function(e) {
                        e[e.Image = 1] = "Image", e[e.Video = 2] = "Video", e[e.VideoAndImage = 3] = "VideoAndImage", 
                        e[e.Audio = 4] = "Audio";
                    }(a = e.MediaType || (e.MediaType = {})), function(e) {
                        e[e.ID = 1] = "ID", e[e.URL = 2] = "URL";
                    }(e.ImageUriType || (e.ImageUriType = {})), function(e) {
                        e[e.IMAGE = 1] = "IMAGE", e[e.PDF = 2] = "PDF";
                    }(e.ImageOutputFormats || (e.ImageOutputFormats = {})), e.selectMedia = function(e, t) {
                        if (!t) throw new Error("[select Media] Callback cannot be null");
                        if (Ne(Ce, H.content, H.task), He(f)) {
                            try {
                                !function(e) {
                                    !function(e) {
                                        return !(!e || e.mediaType != Jn.MediaType.VideoAndImage && !e.videoAndImageProps);
                                    }(e) ? function(e) {
                                        return !(!e || e.mediaType != Jn.MediaType.Video || !e.videoProps || e.videoProps.isFullScreenMode);
                                    }(e) ? xe(u) : function(e) {
                                        var t;
                                        return !((null == e ? void 0 : e.mediaType) != Jn.MediaType.Image || !(null === (t = null == e ? void 0 : e.imageProps) || void 0 === t ? void 0 : t.imageOutputFormats));
                                    }(e) && xe("2.0.4") : xe("2.0.2");
                                }(e);
                            } catch (e) {
                                return void t(e, []);
                            }
                            if (function(e) {
                                return !(null == e || e.maxMediaCount > 10);
                            }(e)) {
                                var n = [ e ];
                                an(i(qn, s.Media_SelectMedia), "selectMedia", n, function(n, o, i) {
                                    var r, a;
                                    if (i) (function(e) {
                                        return !(e.mediaType != Jn.MediaType.Video || !e.videoProps || !e.videoProps.videoController);
                                    })(e) && (null === (a = null === (r = null == e ? void 0 : e.videoProps) || void 0 === r ? void 0 : r.videoController) || void 0 === a || a.notifyEventToApp(i)); else if (o) {
                                        for (var _step3, s = [], _iterator3 = _createForOfIteratorHelperLoose(o); !(_step3 = _iterator3()).done; ) s.push(new m(_step3.value));
                                        t(n, s);
                                    } else t(n, []);
                                });
                            } else t({
                                errorCode: k.INVALID_ARGUMENTS
                            }, []);
                        } else t({
                            errorCode: k.OLD_PLATFORM
                        }, []);
                    }, e.viewImages = function(e, t) {
                        if (!t) throw new Error("[view images] Callback cannot be null");
                        if (Ne(Ce, H.content, H.task), He(f)) if (function(e) {
                            return !(null == e || e.length <= 0 || e.length > 10);
                        }(e)) {
                            var n = [ e ];
                            an(i(qn, s.Media_ViewImages), "viewImages", n, t);
                        } else t({
                            errorCode: k.INVALID_ARGUMENTS
                        }); else t({
                            errorCode: k.OLD_PLATFORM
                        });
                    }, e.scanBarCode = function(e, t) {
                        if (!e) throw new Error("[media.scanBarCode] Callback cannot be null");
                        Ne(Ce, H.content, H.task), b.hostClientType !== L.desktop && b.hostClientType !== L.web && b.hostClientType !== L.rigel && b.hostClientType !== L.teamsRoomsWindows && b.hostClientType !== L.teamsRoomsAndroid && b.hostClientType !== L.teamsPhones && b.hostClientType !== L.teamsDisplays ? He("1.9.0") ? ro(t) ? an(i(qn, s.Media_ScanBarCode), "media.scanBarCode", [ t ], e) : e({
                            errorCode: k.INVALID_ARGUMENTS
                        }, "") : e({
                            errorCode: k.OLD_PLATFORM
                        }, "") : e({
                            errorCode: k.NOT_SUPPORTED_ON_PLATFORM
                        }, "");
                    };
                }(Jn || (Jn = {}));
                var lo, co, so = a.V_2;
                !function(e) {
                    function t() {
                        return !!(Ne(Ce) && Ce.supports.barCode && Ce.supports.permissions);
                    }
                    e.scanBarCode = function(e) {
                        return new Promise(function(n) {
                            if (Ne(Ce, H.content, H.task), !t()) throw z;
                            if (!ro(e)) throw {
                                errorCode: k.INVALID_ARGUMENTS
                            };
                            n(en(i(so, s.BarCode_ScanBarCode), "media.scanBarCode", e));
                        });
                    }, e.hasPermission = function() {
                        if (Ne(Ce, H.content, H.task), !t()) throw z;
                        var e = M.Media;
                        return new Promise(function(t) {
                            t(en(i(so, s.BarCode_HasPermission), "permissions.has", e));
                        });
                    }, e.requestPermission = function() {
                        if (Ne(Ce, H.content, H.task), !t()) throw z;
                        var e = M.Media;
                        return new Promise(function(t) {
                            t(en(i(so, s.BarCode_RequestPermission), "permissions.request", e));
                        });
                    }, e.isSupported = t;
                }(lo || (lo = {})), function(e) {
                    function t(e) {
                        return new Promise(function(t) {
                            if (Ne(Ce, H.content, H.task), !n()) throw z;
                            t(Ce.isLegacyTeams ? Xt("executeDeepLink", Bn([ e.user ], void 0, e.message)) : Xt("chat.openChat", {
                                members: [ e.user ],
                                message: e.message
                            }));
                        });
                    }
                    function n() {
                        return !(!Ne(Ce) || !Ce.supports.chat);
                    }
                    e.openChat = t, e.openGroupChat = function(e) {
                        return new Promise(function(o) {
                            if (e.users.length < 1) throw Error("OpenGroupChat Failed: No users specified");
                            if (1 === e.users.length) o(t({
                                user: e.users[0],
                                message: e.message
                            })); else {
                                if (Ne(Ce, H.content, H.task), !n()) throw z;
                                o(Ce.isLegacyTeams ? Xt("executeDeepLink", Bn(e.users, e.topic, e.message)) : Xt("chat.openChat", {
                                    members: e.users,
                                    message: e.message,
                                    topic: e.topic
                                }));
                            }
                        });
                    }, e.isSupported = n;
                }(co || (co = {}));
                var po, uo = function(e, t, n, o) {
                    function i(e) {
                        return e instanceof n ? e : new n(function(t) {
                            t(e);
                        });
                    }
                    return new (n || (n = Promise))(function(n, r) {
                        function a(e) {
                            try {
                                l(o.next(e));
                            } catch (e) {
                                r(e);
                            }
                        }
                        function s(e) {
                            try {
                                l(o.throw(e));
                            } catch (e) {
                                r(e);
                            }
                        }
                        function l(e) {
                            e.done ? n(e.value) : i(e.value).then(a, s);
                        }
                        l((o = o.apply(e, t || [])).next());
                    });
                }, fo = a.V_2;
                !function(e) {
                    function t() {
                        return !!(Ne(Ce) && navigator && navigator.clipboard && Ce.supports.clipboard);
                    }
                    e.write = function(e) {
                        return uo(this, void 0, void 0, _regeneratorRuntime().mark(function _callee6() {
                            var o;
                            return _regeneratorRuntime().wrap(function(_context6) {
                                for (;;) switch (_context6.prev = _context6.next) {
                                  case 0:
                                    if (Ne(Ce, H.content, H.meetingStage, H.task, H.settings, H.stage, H.sidePanel), 
                                    t()) {
                                        _context6.next = 2;
                                        break;
                                    }
                                    throw z;

                                  case 2:
                                    if (e.type && Object.values(D).includes(e.type)) {
                                        _context6.next = 4;
                                        break;
                                    }
                                    throw new Error("Blob type " + e.type + " is not supported. Supported blob types are " + Object.values(D));

                                  case 4:
                                    return _context6.next = 6, se(e);

                                  case 6:
                                    return o = {
                                        mimeType: e.type,
                                        content: _context6.sent
                                    }, _context6.abrupt("return", en(i(fo, s.Clipboard_Write), "clipboard.writeToClipboard", o));

                                  case 9:
                                  case "end":
                                    return _context6.stop();
                                }
                            }, _callee6);
                        }));
                    }, e.read = function() {
                        return uo(this, void 0, void 0, _regeneratorRuntime().mark(function _callee7() {
                            var _e21;
                            return _regeneratorRuntime().wrap(function(_context7) {
                                for (;;) switch (_context7.prev = _context7.next) {
                                  case 0:
                                    if (Ne(Ce, H.content, H.meetingStage, H.task, H.settings, H.stage, H.sidePanel), 
                                    t()) {
                                        _context7.next = 2;
                                        break;
                                    }
                                    throw z;

                                  case 2:
                                    if (!Ue() && b.hostClientType !== L.macos) {
                                        _context7.next = 9;
                                        break;
                                    }
                                    return _context7.t0 = JSON, _context7.next = 6, tn("clipboard.readFromClipboard");

                                  case 6:
                                    return _context7.t1 = _context7.sent, _e21 = _context7.t0.parse.call(_context7.t0, _context7.t1), 
                                    _context7.abrupt("return", ae(_e21.mimeType, _e21.content));

                                  case 9:
                                    return _context7.abrupt("return", en(i(fo, s.Clipboard_Read), "clipboard.readFromClipboard"));

                                  case 10:
                                  case "end":
                                    return _context7.stop();
                                }
                            }, _callee7);
                        }));
                    }, e.isSupported = t;
                }(po || (po = {}));
                var go, ho, mo = a.V_2;
                function wo() {
                    return Ce.hostVersionsInfo ? Ce.hostVersionsInfo.adaptiveCardSchemaVersion : void 0;
                }
                !function(e) {
                    function t() {
                        return !!(Ne(Ce) && Ce.supports.geoLocation && Ce.supports.permissions);
                    }
                    e.getCurrentLocation = function() {
                        if (Ne(Ce, H.content, H.task), !t()) throw z;
                        return en(i(mo, s.GeoLocation_GetCurrentLocation), "location.getLocation", {
                            allowChooseLocation: !1,
                            showMap: !1
                        });
                    }, e.hasPermission = function() {
                        if (Ne(Ce, H.content, H.task), !t()) throw z;
                        var e = M.GeoLocation;
                        return new Promise(function(t) {
                            t(en(i(mo, s.GeoLocation_HasPermission), "permissions.has", e));
                        });
                    }, e.requestPermission = function() {
                        if (Ne(Ce, H.content, H.task), !t()) throw z;
                        var e = M.GeoLocation;
                        return new Promise(function(t) {
                            t(en(i(mo, s.GeoLocation_RequestPermission), "permissions.request", e));
                        });
                    }, e.isSupported = t, function(e) {
                        function t() {
                            return !!(Ne(Ce) && Ce.supports.geoLocation && Ce.supports.geoLocation.map && Ce.supports.permissions);
                        }
                        e.chooseLocation = function() {
                            if (Ne(Ce, H.content, H.task), !t()) throw z;
                            return en(i(mo, s.GeoLocation_Map_ChooseLocation), "location.getLocation", {
                                allowChooseLocation: !0,
                                showMap: !0
                            });
                        }, e.showLocation = function(e) {
                            if (Ne(Ce, H.content, H.task), !t()) throw z;
                            if (!e) throw {
                                errorCode: k.INVALID_ARGUMENTS
                            };
                            return en(i(mo, s.GeoLocation_ShowLocation), "location.showLocation", e);
                        }, e.isSupported = t;
                    }(e.map || (e.map = {}));
                }(go || (go = {}));
                var Co = function() {
                    function Co() {}
                    var _proto6 = Co.prototype;
                    return _proto6.postMessage = function(e, t) {
                        Ne(Ce), sn("messageForChild", [ e ], t || K());
                    }, _proto6.addEventListener = function(e, t) {
                        Ne(Ce), "message" === e && Ot("messageForParent", t);
                    }, Co;
                }(), vo = function() {
                    function vo() {}
                    var _proto7 = vo.prototype;
                    return _proto7.postMessage = function(e, t) {
                        Ne(Ce, H.task), sn("messageForParent", [ e ], t || K());
                    }, _proto7.addEventListener = function(e, t) {
                        Ne(Ce, H.task), "message" === e && Ot("messageForChild", t);
                    }, _createClass(vo, null, [ {
                        key: "Instance",
                        get: function() {
                            return this._instance || (this._instance = new this);
                        }
                    } ]), vo;
                }();
                !function(e) {
                    function t() {
                        return !(!Ne(Ce) || !Ce.supports.secondaryBrowser);
                    }
                    e.open = function(e) {
                        if (Ne(Ce, H.content), !t()) throw z;
                        if (!e || !re(e)) throw {
                            errorCode: k.INVALID_ARGUMENTS,
                            message: "Invalid Url: Only https URL is allowed"
                        };
                        return tn("secondaryBrowser.open", e.toString());
                    }, e.isSupported = t;
                }(ho || (ho = {}));
                var bo, yo, Po, So = a.V_1;
                !function(e) {
                    function t() {
                        return !(!Ne(Ce) || !Ce.supports.location);
                    }
                    e.getLocation = function(e, n) {
                        if (!n) throw new Error("[location.getLocation] Callback cannot be null");
                        if (Ne(Ce, H.content, H.task), !He(d)) throw {
                            errorCode: k.OLD_PLATFORM
                        };
                        if (!e) throw {
                            errorCode: k.INVALID_ARGUMENTS
                        };
                        if (!t()) throw z;
                        an(i(So, s.Location_GetLocation), "location.getLocation", [ e ], n);
                    }, e.showLocation = function(e, n) {
                        if (!n) throw new Error("[location.showLocation] Callback cannot be null");
                        if (Ne(Ce, H.content, H.task), !He(d)) throw {
                            errorCode: k.OLD_PLATFORM
                        };
                        if (!e) throw {
                            errorCode: k.INVALID_ARGUMENTS
                        };
                        if (!t()) throw z;
                        an(i(So, s.Location_ShowLocation), "location.showLocation", [ e ], n);
                    }, e.isSupported = t;
                }(bo || (bo = {})), function(e) {
                    var t, r;
                    function s(e, n) {
                        var _this4 = this;
                        sn("meeting.requestAppAudioHandling", [ e.isAppHandlingAudio ], function(o, i) {
                            if (o && null != i) throw new Error("[requestAppAudioHandling] Callback response - both parameters cannot be set");
                            if (o) throw new Error("[requestAppAudioHandling] Callback response - SDK error " + o.errorCode + " " + o.message);
                            if ("boolean" != typeof i) throw new Error("[requestAppAudioHandling] Callback response - isHostAudioless must be a boolean");
                            Ot("meeting.micStateChanged", function(n) {
                                return function(e, t, n, o) {
                                    function i(e) {
                                        return e instanceof n ? e : new n(function(t) {
                                            t(e);
                                        });
                                    }
                                    return new (n || (n = Promise))(function(n, r) {
                                        function a(e) {
                                            try {
                                                l(o.next(e));
                                            } catch (e) {
                                                r(e);
                                            }
                                        }
                                        function s(e) {
                                            try {
                                                l(o.throw(e));
                                            } catch (e) {
                                                r(e);
                                            }
                                        }
                                        function l(e) {
                                            e.done ? n(e.value) : i(e.value).then(a, s);
                                        }
                                        l((o = o.apply(e, [])).next());
                                    });
                                }(_this4, 0, void 0, _regeneratorRuntime().mark(function _callee8() {
                                    var _o8;
                                    return _regeneratorRuntime().wrap(function(_context8) {
                                        for (;;) switch (_context8.prev = _context8.next) {
                                          case 0:
                                            return _context8.prev = 0, _context8.next = 3, e.micMuteStateChangedCallback(n);

                                          case 3:
                                            c(_o8 = _context8.sent, _o8.isMicMuted === n.isMicMuted ? t.HostInitiated : t.AppDeclinedToChange), 
                                            _context8.next = 10;
                                            break;

                                          case 7:
                                            _context8.prev = 7, _context8.t0 = _context8.catch(0), c(n, t.AppFailedToChange);

                                          case 10:
                                          case "end":
                                            return _context8.stop();
                                        }
                                    }, _callee8, null, [ [ 0, 7 ] ]);
                                }));
                            }), Ot("meeting.audioDeviceSelectionChanged", function(t) {
                                var n;
                                null === (n = e.audioDeviceSelectionChangedCallback) || void 0 === n || n.call(e, t);
                            }), n(i);
                        });
                    }
                    function c(e, t) {
                        Ne(Ce, H.sidePanel, H.meetingStage), sn("meeting.updateMicState", [ e, t ]);
                    }
                    !function(e) {
                        e[e.HostInitiated = 0] = "HostInitiated", e[e.AppInitiated = 1] = "AppInitiated", 
                        e[e.AppDeclinedToChange = 2] = "AppDeclinedToChange", e[e.AppFailedToChange = 3] = "AppFailedToChange";
                    }(t || (t = {})), function(e) {
                        e.like = "like", e.heart = "heart", e.laugh = "laugh", e.surprised = "surprised", 
                        e.applause = "applause";
                    }(e.MeetingReactionType || (e.MeetingReactionType = {})), function(e) {
                        e.Unknown = "Unknown", e.Adhoc = "Adhoc", e.Scheduled = "Scheduled", e.Recurring = "Recurring", 
                        e.Broadcast = "Broadcast", e.MeetNow = "MeetNow";
                    }(e.MeetingType || (e.MeetingType = {})), function(e) {
                        e.OneOnOneCall = "oneOnOneCall", e.GroupCall = "groupCall";
                    }(e.CallType || (e.CallType = {})), function(e) {
                        e.Collaborative = "Collaborative", e.ScreenShare = "ScreenShare";
                    }(r = e.SharingProtocol || (e.SharingProtocol = {})), e.getIncomingClientAudioState = function(e) {
                        if (!e) throw new Error("[get incoming client audio state] Callback cannot be null");
                        Ne(Ce, H.sidePanel, H.meetingStage), sn("getIncomingClientAudioState", e);
                    }, e.toggleIncomingClientAudio = function(e) {
                        if (!e) throw new Error("[toggle incoming client audio] Callback cannot be null");
                        Ne(Ce, H.sidePanel, H.meetingStage), sn("toggleIncomingClientAudio", e);
                    }, e.getMeetingDetails = function(e) {
                        if (!e) throw new Error("[get meeting details] Callback cannot be null");
                        Ne(Ce, H.sidePanel, H.meetingStage, H.settings, H.content), sn("meeting.getMeetingDetails", e);
                    }, e.getAuthenticationTokenForAnonymousUser = function(e) {
                        if (!e) throw new Error("[get Authentication Token For AnonymousUser] Callback cannot be null");
                        Ne(Ce, H.sidePanel, H.meetingStage, H.task), sn("meeting.getAuthenticationTokenForAnonymousUser", e);
                    }, e.getLiveStreamState = function(e) {
                        if (!e) throw new Error("[get live stream state] Callback cannot be null");
                        Ne(Ce, H.sidePanel), sn("meeting.getLiveStreamState", e);
                    }, e.requestStartLiveStreaming = function(e, t, n) {
                        if (!e) throw new Error("[request start live streaming] Callback cannot be null");
                        Ne(Ce, H.sidePanel), sn("meeting.requestStartLiveStreaming", [ t, n ], e);
                    }, e.requestStopLiveStreaming = function(e) {
                        if (!e) throw new Error("[request stop live streaming] Callback cannot be null");
                        Ne(Ce, H.sidePanel), sn("meeting.requestStopLiveStreaming", e);
                    }, e.registerLiveStreamChangedHandler = function(e) {
                        if (!e) throw new Error("[register live stream changed handler] Handler cannot be null");
                        Ne(Ce, H.sidePanel), Ot("meeting.liveStreamChanged", e);
                    }, e.shareAppContentToStage = function(e, t, n) {
                        if (void 0 === n && (n = {
                            sharingProtocol: r.Collaborative
                        }), !e) throw new Error("[share app content to stage] Callback cannot be null");
                        Ne(Ce, H.sidePanel, H.meetingStage), sn("meeting.shareAppContentToStage", [ t, n ], e);
                    }, e.getAppContentStageSharingCapabilities = function(e) {
                        if (!e) throw new Error("[get app content stage sharing capabilities] Callback cannot be null");
                        Ne(Ce, H.sidePanel, H.meetingStage), sn("meeting.getAppContentStageSharingCapabilities", e);
                    }, e.stopSharingAppContentToStage = function(e) {
                        if (!e) throw new Error("[stop sharing app content to stage] Callback cannot be null");
                        Ne(Ce, H.sidePanel, H.meetingStage), sn("meeting.stopSharingAppContentToStage", e);
                    }, e.getAppContentStageSharingState = function(e) {
                        if (!e) throw new Error("[get app content stage sharing state] Callback cannot be null");
                        Ne(Ce, H.sidePanel, H.meetingStage), sn("meeting.getAppContentStageSharingState", e);
                    }, e.registerSpeakingStateChangeHandler = function(e) {
                        if (!e) throw new Error("[registerSpeakingStateChangeHandler] Handler cannot be null");
                        Ne(Ce, H.sidePanel, H.meetingStage), Ot("meeting.speakingStateChanged", e);
                    }, e.registerRaiseHandStateChangedHandler = function(e) {
                        if (!e) throw new Error("[registerRaiseHandStateChangedHandler] Handler cannot be null");
                        Ne(Ce, H.sidePanel, H.meetingStage), Ot("meeting.raiseHandStateChanged", e);
                    }, e.registerMeetingReactionReceivedHandler = function(e) {
                        if (!e) throw new Error("[registerMeetingReactionReceivedHandler] Handler cannot be null");
                        Ne(Ce, H.sidePanel, H.meetingStage), Ot("meeting.meetingReactionReceived", e);
                    }, function(e) {
                        e.setOptions = function(e) {
                            Ne(Ce, H.sidePanel), e.contentUrl && new URL(e.contentUrl), sn("meeting.appShareButton.setOptions", [ e ]);
                        };
                    }(e.appShareButton || (e.appShareButton = {})), e.requestAppAudioHandling = function(e, t) {
                        if (!t) throw new Error("[requestAppAudioHandling] Callback response cannot be null");
                        if (!e.micMuteStateChangedCallback) throw new Error("[requestAppAudioHandling] Callback Mic mute state handler cannot be null");
                        Ne(Ce, H.sidePanel, H.meetingStage), e.isAppHandlingAudio ? s(e, t) : function(e, t) {
                            sn("meeting.requestAppAudioHandling", [ e.isAppHandlingAudio ], function(e, n) {
                                if (e && null != n) throw new Error("[requestAppAudioHandling] Callback response - both parameters cannot be set");
                                if (e) throw new Error("[requestAppAudioHandling] Callback response - SDK error " + e.errorCode + " " + e.message);
                                if ("boolean" != typeof n) throw new Error("[requestAppAudioHandling] Callback response - isHostAudioless must be a boolean");
                                Mt("meeting.micStateChanged") && kt("meeting.micStateChanged"), Mt("meeting.audioDeviceSelectionChanged") && kt("meeting.audioDeviceSelectionChanged"), 
                                t(n);
                            });
                        }(e, t);
                    }, e.updateMicState = function(e) {
                        c(e, t.AppInitiated);
                    };
                }(yo || (yo = {})), function(e) {
                    function t() {
                        return !(!Ne(Ce) || !Ce.supports.monetization);
                    }
                    e.openPurchaseExperience = function(e, n) {
                        var o, i;
                        return "function" == typeof e ? (o = e, i = n) : i = e, Ne(Ce, H.content), function(e, t) {
                            for (var _len4 = arguments.length, n = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) n[_key4 - 2] = arguments[_key4];
                            var o = e.apply(void 0, n);
                            return o.then(function(e) {
                                t && t(null, e);
                            }).catch(function(e) {
                                t && t(e, null);
                            }), o;
                        }(function() {
                            return new Promise(function(e) {
                                if (!t()) throw z;
                                e(tn("monetization.openPurchaseExperience", i));
                            });
                        }, o);
                    }, e.isSupported = t;
                }(Po || (Po = {}));
                var Eo, To = a.V_2;
                !function(e) {
                    function t() {
                        return !(!Ne(Ce) || !Ce.supports.calendar);
                    }
                    e.openCalendarItem = function(e) {
                        return new Promise(function(n) {
                            if (Ne(Ce, H.content), !t()) throw new Error("Not supported");
                            if (!e.itemId || !e.itemId.trim()) throw new Error("Must supply an itemId to openCalendarItem");
                            n(Qt(i(To, s.Calendar_OpenCalendarItem), "calendar.openCalendarItem", e));
                        });
                    }, e.composeMeeting = function(e) {
                        return new Promise(function(n) {
                            if (Ne(Ce, H.content), !t()) throw new Error("Not supported");
                            n(Ce.isLegacyTeams ? Xt("executeDeepLink", function(e, t, n, o, i) {
                                var r = void 0 === e ? "" : "attendees=" + e.map(function(e) {
                                    return encodeURIComponent(e);
                                }).join(","), a = void 0 === t ? "" : "&startTime=" + encodeURIComponent(t), s = void 0 === n ? "" : "&endTime=" + encodeURIComponent(n), l = void 0 === o ? "" : "&subject=" + encodeURIComponent(o), c = void 0 === i ? "" : "&content=" + encodeURIComponent(i);
                                return h + "://" + w + "/l/meeting/new?" + r + a + s + l + c;
                            }(e.attendees, e.startTime, e.endTime, e.subject, e.content)) : Qt(i(To, s.Calendar_ComposeMeeting), "calendar.composeMeeting", e));
                        });
                    }, e.isSupported = t;
                }(Eo || (Eo = {}));
                var Ro, Fo, _o, Oo, Ao = a.V_2;
                !function(e) {
                    function t() {
                        return !(!Ne(Ce) || !Ce.supports.mail);
                    }
                    e.openMailItem = function(e) {
                        return new Promise(function(n) {
                            if (Ne(Ce, H.content), !t()) throw new Error("Not supported");
                            if (!e.itemId || !e.itemId.trim()) throw new Error("Must supply an itemId to openMailItem");
                            n(Qt(i(Ao, s.Mail_OpenMailItem), "mail.openMailItem", e));
                        });
                    }, e.composeMail = function(e) {
                        return new Promise(function(n) {
                            if (Ne(Ce, H.content), !t()) throw new Error("Not supported");
                            n(Qt(i(Ao, s.Mail_ComposeMail), "mail.composeMail", e));
                        });
                    }, e.isSupported = t, function(e) {
                        e.New = "new", e.Reply = "reply", e.ReplyAll = "replyAll", e.Forward = "forward";
                    }(e.ComposeMailType || (e.ComposeMailType = {}));
                }(Ro || (Ro = {})), function(e) {
                    function t() {
                        le().print();
                    }
                    function n(e, t) {
                        !Be(e) && Ne(Ce), !Be(e) && t && t(), Ht(e);
                    }
                    function o(e, t) {
                        !Be(e) && Ne(Ce), !Be(e) && t && t(), xt(e);
                    }
                    function i() {
                        return !(!Ne(Ce) || !Ce.supports.teamsCore);
                    }
                    e.enablePrintCapability = function() {
                        if (!b.printCapabilityEnabled) {
                            if (Ne(Ce), !i()) throw z;
                            b.printCapabilityEnabled = !0, document.addEventListener("keydown", function(e) {
                                (e.ctrlKey || e.metaKey) && 80 === e.keyCode && (t(), e.cancelBubble = !0, e.preventDefault(), 
                                e.stopImmediatePropagation());
                            });
                        }
                    }, e.print = t, e.registerOnLoadHandler = function(e) {
                        n(e, function() {
                            if (!Be(e) && !i()) throw z;
                        });
                    }, e.registerOnLoadHandlerHelper = n, e.registerBeforeUnloadHandler = function(e) {
                        o(e, function() {
                            if (!Be(e) && !i()) throw z;
                        });
                    }, e.registerBeforeUnloadHandlerHelper = o, e.isSupported = i;
                }(Fo || (Fo = {})), function(e) {
                    function t(e) {
                        return new Promise(function(t) {
                            if (!He("2.0.0")) throw {
                                errorCode: k.OLD_PLATFORM
                            };
                            if (!function(e) {
                                if (e) {
                                    if (e.title && "string" != typeof e.title) return !1;
                                    if (e.setSelected && "object" != typeof e.setSelected) return !1;
                                    if (e.openOrgWideSearchInChatOrChannel && "boolean" != typeof e.openOrgWideSearchInChatOrChannel) return !1;
                                    if (e.singleSelect && "boolean" != typeof e.singleSelect) return !1;
                                }
                                return !0;
                            }(e)) throw {
                                errorCode: k.INVALID_ARGUMENTS
                            };
                            if (!n()) throw z;
                            t(tn("people.selectPeople", e));
                        });
                    }
                    function n() {
                        return !(!Ne(Ce) || !Ce.supports.people);
                    }
                    e.selectPeople = function(e, n) {
                        var _ref13, o, i;
                        return Ne(Ce, H.content, H.task, H.settings), "function" == typeof e ? (o = (_ref13 = [ e, n ])[0], 
                        i = _ref13[1]) : i = e, function(e, t) {
                            for (var _len2 = arguments.length, n = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) n[_key2 - 2] = arguments[_key2];
                            var o = e.apply(void 0, n);
                            return o.then(function(e) {
                                t && t(void 0, e);
                            }).catch(function(e) {
                                t && t(e);
                            }), o;
                        }(t, o, i);
                    }, e.isSupported = n;
                }(_o || (_o = {})), function(e) {
                    e.showProfile = function(e) {
                        return Ne(Ce, H.content), new Promise(function(t) {
                            var _ko = function(e) {
                                return e ? e.modality && "string" != typeof e.modality ? [ !1, "modality must be a string" ] : e.targetElementBoundingRect && "object" == typeof e.targetElementBoundingRect ? e.triggerType && "string" == typeof e.triggerType ? function(e) {
                                    return e ? e.displayName && "string" != typeof e.displayName ? [ !1, "displayName must be a string" ] : e.identifiers && "object" == typeof e.identifiers ? e.identifiers.AadObjectId || e.identifiers.Smtp || e.identifiers.Upn ? e.identifiers.AadObjectId && "string" != typeof e.identifiers.AadObjectId ? [ !1, "AadObjectId identifier must be a string" ] : e.identifiers.Smtp && "string" != typeof e.identifiers.Smtp ? [ !1, "Smtp identifier must be a string" ] : e.identifiers.Upn && "string" != typeof e.identifiers.Upn ? [ !1, "Upn identifier must be a string" ] : [ !0, void 0 ] : [ !1, "at least one valid identifier must be provided" ] : [ !1, "persona identifiers object must be provided" ] : [ !1, "persona object must be provided" ];
                                }(e.persona) : [ !1, "triggerType must be a valid string" ] : [ !1, "targetElementBoundingRect must be a DOMRect" ] : [ !1, "A request object is required" ];
                            }(e);
                            if (!_ko[0]) throw {
                                errorCode: k.INVALID_ARGUMENTS,
                                message: _ko[1]
                            };
                            t(tn("profile.showProfile", {
                                modality: e.modality,
                                persona: e.persona,
                                triggerType: e.triggerType,
                                targetRectangle: {
                                    x: e.targetElementBoundingRect.x,
                                    y: e.targetElementBoundingRect.y,
                                    width: e.targetElementBoundingRect.width,
                                    height: e.targetElementBoundingRect.height
                                }
                            }));
                        });
                    }, e.isSupported = function() {
                        return !(!Ne(Ce) || !Ce.supports.profile);
                    };
                }(Oo || (Oo = {}));
                var Do, Lo = function(e, t, n, o) {
                    function i(e) {
                        return e instanceof n ? e : new n(function(t) {
                            t(e);
                        });
                    }
                    return new (n || (n = Promise))(function(n, r) {
                        function a(e) {
                            try {
                                l(o.next(e));
                            } catch (e) {
                                r(e);
                            }
                        }
                        function s(e) {
                            try {
                                l(o.throw(e));
                            } catch (e) {
                                r(e);
                            }
                        }
                        function l(e) {
                            e.done ? n(e.value) : i(e.value).then(a, s);
                        }
                        l((o = o.apply(e, t || [])).next());
                    });
                };
                function No(e, t, n, o) {
                    var i, r;
                    return Lo(this, void 0, void 0, _regeneratorRuntime().mark(function _callee9() {
                        var a;
                        return _regeneratorRuntime().wrap(function(_context9) {
                            for (;;) switch (_context9.prev = _context9.next) {
                              case 0:
                                return a = xo(), !ce() && (null === (r = null === (i = window.chrome) || void 0 === i ? void 0 : i.webview) || void 0 === r || r.registerTextureStream(e, a)), 
                                _context9.t0 = Vo, _context9.next = 5, Uo(e, n, o);

                              case 5:
                                _context9.t1 = _context9.sent, _context9.t2 = new Bo(n, t), _context9.t3 = a.writable, 
                                (0, _context9.t0)(_context9.t1, _context9.t2, _context9.t3);

                              case 9:
                              case "end":
                                return _context9.stop();
                            }
                        }, _callee9);
                    }));
                }
                function Ho(e, t, n, o) {
                    var i, r;
                    return Lo(this, void 0, void 0, _regeneratorRuntime().mark(function _callee10() {
                        var a;
                        return _regeneratorRuntime().wrap(function(_context10) {
                            for (;;) switch (_context10.prev = _context10.next) {
                              case 0:
                                return a = xo(), !ce() && (null === (r = null === (i = window.chrome) || void 0 === i ? void 0 : i.webview) || void 0 === r || r.registerTextureStream(e, a)), 
                                _context10.t0 = Vo, _context10.next = 5, Uo(e, n, o);

                              case 5:
                                _context10.t1 = _context10.sent, _context10.t2 = new jo(n, t), _context10.t3 = a.writable, 
                                (0, _context10.t0)(_context10.t1, _context10.t2, _context10.t3);

                              case 9:
                              case "end":
                                return _context10.stop();
                            }
                        }, _callee10);
                    }));
                }
                function Uo(e, t, n) {
                    return Lo(this, void 0, void 0, _regeneratorRuntime().mark(function _callee11() {
                        var o, _t8;
                        return _regeneratorRuntime().wrap(function(_context11) {
                            for (;;) switch (_context11.prev = _context11.next) {
                              case 0:
                                if (!ce()) {
                                    _context11.next = 2;
                                    break;
                                }
                                throw z;

                              case 2:
                                return o = le().chrome, _context11.prev = 3, null == n || n.reportGettingTextureStream(e), 
                                _context11.next = 7, o.webview.getTextureStream(e);

                              case 7:
                                if (0 !== (_t8 = _context11.sent.getVideoTracks()).length) {
                                    _context11.next = 10;
                                    break;
                                }
                                throw new Error("No video track in stream " + e);

                              case 10:
                                return _context11.abrupt("return", (null == n || n.reportTextureStreamAcquired(), 
                                _t8[0]));

                              case 13:
                                throw _context11.prev = 13, _context11.t0 = _context11.catch(3), t("Failed to get video track from stream " + e + ", error: " + _context11.t0), 
                                new Error("Internal error: can't get video track from stream " + e);

                              case 16:
                              case "end":
                                return _context11.stop();
                            }
                        }, _callee11, null, [ [ 3, 13 ] ]);
                    }));
                }
                function xo() {
                    if (ce()) throw z;
                    var e = window.MediaStreamTrackGenerator;
                    if (!e) throw z;
                    return new e({
                        kind: "video"
                    });
                }
                function Vo(e, t, n) {
                    new (0, le().MediaStreamTrackProcessor)({
                        track: e
                    }).readable.pipeThrough(new TransformStream(t)).pipeTo(n);
                }
                !function(e) {
                    e.TimestampIsNull = "timestamp of the original video frame is null", e.UnsupportedVideoFramePixelFormat = "Unsupported video frame pixel format";
                }(Do || (Do = {}));
                var Bo = function(e, t) {
                    var _this5 = this;
                    this.notifyError = e, this.videoFrameHandler = t, this.transform = function(e, t) {
                        return Lo(_this5, void 0, void 0, _regeneratorRuntime().mark(function _callee12() {
                            var n, _o9, _i5;
                            return _regeneratorRuntime().wrap(function(_context12) {
                                for (;;) switch (_context12.prev = _context12.next) {
                                  case 0:
                                    if (null === (n = e.timestamp)) {
                                        _context12.next = 15;
                                        break;
                                    }
                                    return _context12.prev = 2, _context12.next = 5, this.videoFrameHandler({
                                        videoFrame: e
                                    });

                                  case 5:
                                    _o9 = _context12.sent, _i5 = new VideoFrame(_o9, {
                                        timestamp: n
                                    }), t.enqueue(_i5), e.close(), _o9.close(), _context12.next = 13;
                                    break;

                                  case 10:
                                    _context12.prev = 10, _context12.t0 = _context12.catch(2), e.close(), this.notifyError(_context12.t0);

                                  case 13:
                                    _context12.next = 16;
                                    break;

                                  case 15:
                                    this.notifyError(Do.TimestampIsNull);

                                  case 16:
                                  case "end":
                                    return _context12.stop();
                                }
                            }, _callee12, this, [ [ 2, 10 ] ]);
                        }));
                    };
                }, Wo = function() {
                    function Wo(e, t) {
                        if (this.headerBuffer = e, this.notifyError = t, this.ONE_TEXTURE_INPUT_ID = 1869900081, 
                        this.INVALID_HEADER_ERROR = "Invalid video frame header", this.UNSUPPORTED_LAYOUT_ERROR = "Unsupported texture layout", 
                        this.headerDataView = new Uint32Array(e), this.headerDataView.length < 8) throw this.notifyError(this.INVALID_HEADER_ERROR), 
                        new Error(this.INVALID_HEADER_ERROR);
                        if (this.headerDataView[0] !== this.ONE_TEXTURE_INPUT_ID) throw this.notifyError(this.UNSUPPORTED_LAYOUT_ERROR), 
                        new Error(this.UNSUPPORTED_LAYOUT_ERROR);
                    }
                    return _createClass(Wo, [ {
                        key: "oneTextureLayoutId",
                        get: function() {
                            return this.headerDataView[0];
                        }
                    }, {
                        key: "version",
                        get: function() {
                            return this.headerDataView[1];
                        }
                    }, {
                        key: "frameRowOffset",
                        get: function() {
                            return this.headerDataView[2];
                        }
                    }, {
                        key: "frameFormat",
                        get: function() {
                            return this.headerDataView[3];
                        }
                    }, {
                        key: "frameWidth",
                        get: function() {
                            return this.headerDataView[4];
                        }
                    }, {
                        key: "frameHeight",
                        get: function() {
                            return this.headerDataView[5];
                        }
                    }, {
                        key: "multiStreamHeaderRowOffset",
                        get: function() {
                            return this.headerDataView[6];
                        }
                    }, {
                        key: "multiStreamCount",
                        get: function() {
                            return this.headerDataView[7];
                        }
                    } ]), Wo;
                }(), zo = function() {
                    function zo(e, t) {
                        this.metadataMap = new Map, this.AUDIO_INFERENCE_RESULT_STREAM_ID = 828664161;
                        for (var n = new Uint32Array(e), _o10 = 0, _i6 = 0; _o10 < t; _o10++) {
                            var _t9 = n[_i6++], _o11 = n[_i6++], _r = n[_i6++], _a = new Uint8Array(e, _o11, _r);
                            this.metadataMap.set(_t9, _a);
                        }
                    }
                    return _createClass(zo, [ {
                        key: "audioInferenceResult",
                        get: function() {
                            return this.metadataMap.get(this.AUDIO_INFERENCE_RESULT_STREAM_ID);
                        }
                    } ]), zo;
                }(), jo = function(e, t) {
                    var _this6 = this;
                    this.notifyError = e, this.videoFrameHandler = t, this.shouldDiscardAudioInferenceResult = !1, 
                    this.transform = function(e, t) {
                        return Lo(_this6, void 0, void 0, _regeneratorRuntime().mark(function _callee13() {
                            var n, _yield$this$extractVi, _o12, _yield$this$extractVi2, _i7, _r2, _a2;
                            return _regeneratorRuntime().wrap(function(_context13) {
                                for (;;) switch (_context13.prev = _context13.next) {
                                  case 0:
                                    if (null === (n = e.timestamp)) {
                                        _context13.next = 22;
                                        break;
                                    }
                                    return _context13.prev = 2, _context13.next = 5, this.extractVideoFrameAndMetadata(e);

                                  case 5:
                                    return _o12 = (_yield$this$extractVi = _context13.sent).videoFrame, _i7 = (void 0 === (_yield$this$extractVi2 = _yield$this$extractVi.metadata) ? {} : _yield$this$extractVi2).audioInferenceResult, 
                                    _context13.next = 12, this.videoFrameHandler({
                                        videoFrame: _o12,
                                        audioInferenceResult: _i7
                                    });

                                  case 12:
                                    _r2 = _context13.sent, _a2 = new VideoFrame(_r2, {
                                        timestamp: n
                                    }), t.enqueue(_a2), _o12.close(), e.close(), _r2.close(), _context13.next = 20;
                                    break;

                                  case 17:
                                    _context13.prev = 17, _context13.t0 = _context13.catch(2), e.close(), this.notifyError(_context13.t0);

                                  case 20:
                                    _context13.next = 23;
                                    break;

                                  case 22:
                                    this.notifyError(Do.TimestampIsNull);

                                  case 23:
                                  case "end":
                                    return _context13.stop();
                                }
                            }, _callee13, this, [ [ 2, 17 ] ]);
                        }));
                    }, this.extractVideoFrameAndMetadata = function(e) {
                        return Lo(_this6, void 0, void 0, _regeneratorRuntime().mark(function _callee14() {
                            var t, n, o, i, r, a;
                            return _regeneratorRuntime().wrap(function(_context14) {
                                for (;;) switch (_context14.prev = _context14.next) {
                                  case 0:
                                    if (!ce()) {
                                        _context14.next = 2;
                                        break;
                                    }
                                    throw z;

                                  case 2:
                                    if ("NV12" === e.format) {
                                        _context14.next = 4;
                                        break;
                                    }
                                    throw this.notifyError(Do.UnsupportedVideoFramePixelFormat), new Error(Do.UnsupportedVideoFramePixelFormat);

                                  case 4:
                                    return t = {
                                        x: 0,
                                        y: 0,
                                        width: e.codedWidth,
                                        height: 2
                                    }, n = new ArrayBuffer(t.width * t.height * 3 / 2), _context14.next = 7, e.copyTo(n, {
                                        rect: t
                                    });

                                  case 7:
                                    return o = new Wo(n, this.notifyError), i = {
                                        x: 0,
                                        y: o.multiStreamHeaderRowOffset,
                                        width: e.codedWidth,
                                        height: e.codedHeight - o.multiStreamHeaderRowOffset
                                    }, r = new ArrayBuffer(i.width * i.height * 3 / 2), _context14.next = 10, e.copyTo(r, {
                                        rect: i
                                    });

                                  case 10:
                                    return a = new zo(r, o.multiStreamCount), _context14.abrupt("return", {
                                        videoFrame: new VideoFrame(e, {
                                            timestamp: e.timestamp,
                                            visibleRect: {
                                                x: 0,
                                                y: o.frameRowOffset,
                                                width: o.frameWidth,
                                                height: o.frameHeight
                                            }
                                        }),
                                        metadata: {
                                            audioInferenceResult: this.shouldDiscardAudioInferenceResult ? void 0 : a.audioInferenceResult
                                        }
                                    });

                                  case 12:
                                  case "end":
                                    return _context14.stop();
                                }
                            }, _callee14, this);
                        }));
                    }, Ot("video.mediaStream.audioInferenceDiscardStatusChange", function(_ref14) {
                        _this6.shouldDiscardAudioInferenceResult = _ref14.discardAudioInferenceResult;
                    });
                };
                function Go(e, t) {
                    return function(n, o) {
                        null == t || t.reportApplyingVideoEffect(n || "", o), e(n, o).then(function() {
                            null == t || t.reportVideoEffectChanged(n || "", o), sn("video.videoEffectReadiness", [ !0, n, void 0, o ]);
                        }).catch(function(e) {
                            sn("video.videoEffectReadiness", [ !1, n, e in Ko.EffectFailureReason ? e : Ko.EffectFailureReason.InitializationFailure, o ]);
                        });
                    };
                }
                var qo = function() {
                    function qo() {}
                    return qo.setTimeout = function(e, t) {
                        var n = performance.now(), o = Q();
                        return qo.setTimeoutCallbacks[o] = {
                            callback: e,
                            timeoutInMs: t,
                            startedAtInMs: n
                        }, o;
                    }, qo.clearTimeout = function(e) {
                        delete qo.setTimeoutCallbacks[e];
                    }, qo.setInterval = function(e, t) {
                        qo.setTimeout(function n() {
                            e(), qo.setTimeout(n, t);
                        }, t);
                    }, qo.tick = function() {
                        var e = performance.now(), t = [];
                        for (var _n8 in qo.setTimeoutCallbacks) {
                            var _o13 = qo.setTimeoutCallbacks[_n8];
                            e - _o13.startedAtInMs >= _o13.timeoutInMs && t.push(_n8);
                        }
                        for (var _i8 = 0, _t10 = t; _i8 < _t10.length; _i8++) {
                            var _e22 = _t10[_i8];
                            qo.setTimeoutCallbacks[_e22].callback(), delete qo.setTimeoutCallbacks[_e22];
                        }
                    }, qo;
                }();
                qo.setTimeoutCallbacks = {};
                var $o = function() {
                    function $o(e, t) {
                        this.reportStatisticsResult = t, this.sampleCount = 0, this.distributionBins = new Uint32Array(e);
                    }
                    var _proto8 = $o.prototype;
                    return _proto8.processStarts = function(e, t, n, o) {
                        qo.tick(), this.suitableForThisSession(e, t, n, o) || this.reportAndResetSession(this.getStatistics(), e, o, t, n), 
                        this.start();
                    }, _proto8.processEnds = function() {
                        var e = performance.now() - this.frameProcessingStartedAt, t = Math.floor(Math.max(0, Math.min(this.distributionBins.length - 1, e)));
                        this.distributionBins[t] += 1, this.sampleCount += 1;
                    }, _proto8.getStatistics = function() {
                        return this.currentSession ? {
                            effectId: this.currentSession.effectId,
                            effectParam: this.currentSession.effectParam,
                            frameHeight: this.currentSession.frameHeight,
                            frameWidth: this.currentSession.frameWidth,
                            duration: performance.now() - this.currentSession.startedAtInMs,
                            sampleCount: this.sampleCount,
                            distributionBins: this.distributionBins.slice()
                        } : null;
                    }, _proto8.start = function() {
                        this.frameProcessingStartedAt = performance.now();
                    }, _proto8.suitableForThisSession = function(e, t, n, o) {
                        return this.currentSession && this.currentSession.effectId === e && this.currentSession.effectParam === o && this.currentSession.frameWidth === t && this.currentSession.frameHeight === n;
                    }, _proto8.reportAndResetSession = function(e, t, n, o, i) {
                        var _this7 = this;
                        e && this.reportStatisticsResult(e), this.resetCurrentSession(this.getNextTimeout(t, this.currentSession), t, n, o, i), 
                        this.timeoutId && qo.clearTimeout(this.timeoutId), this.timeoutId = qo.setTimeout(function() {
                            return _this7.reportAndResetSession(_this7.getStatistics(), t, n, o, i);
                        }.bind(this), this.currentSession.timeoutInMs);
                    }, _proto8.resetCurrentSession = function(e, t, n, o, i) {
                        this.currentSession = {
                            startedAtInMs: performance.now(),
                            timeoutInMs: e,
                            effectId: t,
                            effectParam: n,
                            frameWidth: o,
                            frameHeight: i
                        }, this.sampleCount = 0, this.distributionBins.fill(0);
                    }, _proto8.getNextTimeout = function(e, t) {
                        return t && t.effectId === e ? Math.min($o.maxSessionTimeoutInMs, 2 * t.timeoutInMs) : $o.initialSessionTimeoutInMs;
                    }, $o;
                }();
                $o.initialSessionTimeoutInMs = 1e3, $o.maxSessionTimeoutInMs = 3e4;
                var Jo = function() {
                    function Jo(e) {
                        var _this8 = this;
                        this.reportPerformanceEvent = e, this.isFirstFrameProcessed = !1, this.frameProcessTimeLimit = 100, 
                        this.frameProcessingStartedAt = 0, this.frameProcessingTimeCost = 0, this.processedFrameCount = 0, 
                        this.performanceStatistics = new $o(Jo.distributionBinSize, function(e) {
                            return _this8.reportPerformanceEvent("video.performance.performanceDataGenerated", [ e ]);
                        });
                    }
                    var _proto9 = Jo.prototype;
                    return _proto9.startMonitorSlowFrameProcessing = function() {
                        var _this9 = this;
                        qo.setInterval(function() {
                            if (0 !== _this9.processedFrameCount) {
                                var e = _this9.frameProcessingTimeCost / _this9.processedFrameCount;
                                e > _this9.frameProcessTimeLimit && _this9.reportPerformanceEvent("video.performance.frameProcessingSlow", [ e ]), 
                                _this9.frameProcessingTimeCost = 0, _this9.processedFrameCount = 0;
                            }
                        }, Jo.calculateFPSInterval);
                    }, _proto9.setFrameProcessTimeLimit = function(e) {
                        this.frameProcessTimeLimit = e;
                    }, _proto9.reportApplyingVideoEffect = function(e, t) {
                        var n, o;
                        (null === (n = this.applyingEffect) || void 0 === n ? void 0 : n.effectId) === e && (null === (o = this.applyingEffect) || void 0 === o ? void 0 : o.effectParam) === t || (this.applyingEffect = {
                            effectId: e,
                            effectParam: t
                        }, this.appliedEffect = void 0);
                    }, _proto9.reportVideoEffectChanged = function(e, t) {
                        void 0 === this.applyingEffect || this.applyingEffect.effectId !== e && this.applyingEffect.effectParam !== t || (this.appliedEffect = {
                            effectId: e,
                            effectParam: t
                        }, this.applyingEffect = void 0, this.isFirstFrameProcessed = !1);
                    }, _proto9.reportStartFrameProcessing = function(e, t) {
                        qo.tick(), this.appliedEffect && (this.frameProcessingStartedAt = performance.now(), 
                        this.performanceStatistics.processStarts(this.appliedEffect.effectId, e, t, this.appliedEffect.effectParam));
                    }, _proto9.reportFrameProcessed = function() {
                        var e;
                        this.appliedEffect && (this.processedFrameCount++, this.frameProcessingTimeCost += performance.now() - this.frameProcessingStartedAt, 
                        this.performanceStatistics.processEnds(), this.isFirstFrameProcessed || (this.isFirstFrameProcessed = !0, 
                        this.reportPerformanceEvent("video.performance.firstFrameProcessed", [ Date.now(), this.appliedEffect.effectId, null === (e = this.appliedEffect) || void 0 === e ? void 0 : e.effectParam ])));
                    }, _proto9.reportGettingTextureStream = function(e) {
                        this.gettingTextureStreamStartedAt = performance.now(), this.currentStreamId = e;
                    }, _proto9.reportTextureStreamAcquired = function() {
                        if (void 0 !== this.gettingTextureStreamStartedAt) {
                            var _e23 = performance.now() - this.gettingTextureStreamStartedAt;
                            this.reportPerformanceEvent("video.performance.textureStreamAcquired", [ this.currentStreamId, _e23 ]);
                        }
                    }, Jo;
                }();
                Jo.distributionBinSize = 1e3, Jo.calculateFPSInterval = 1e3;
                var Ko, Zo, Qo, Xo, Yo = function(e, t, n, o) {
                    function i(e) {
                        return e instanceof n ? e : new n(function(t) {
                            t(e);
                        });
                    }
                    return new (n || (n = Promise))(function(n, r) {
                        function a(e) {
                            try {
                                l(o.next(e));
                            } catch (e) {
                                r(e);
                            }
                        }
                        function s(e) {
                            try {
                                l(o.throw(e));
                            } catch (e) {
                                r(e);
                            }
                        }
                        function l(e) {
                            e.done ? n(e.value) : i(e.value).then(a, s);
                        }
                        l((o = o.apply(e, t || [])).next());
                    });
                };
                !function(e) {
                    var t = ce() ? void 0 : new Jo(sn);
                    function a(e) {
                        sn("video.notifyError", [ e ]);
                    }
                    function s() {
                        return Ne(Ce) && !!Ce.supports.video && (!!Ce.supports.video.mediaStream || !!Ce.supports.video.sharedFrame);
                    }
                    function c(e, t) {
                        var _this11 = this;
                        return function(n) {
                            return Yo(_this11, void 0, void 0, _regeneratorRuntime().mark(function _callee16() {
                                var o, i;
                                return _regeneratorRuntime().wrap(function(_context16) {
                                    for (;;) switch (_context16.prev = _context16.next) {
                                      case 0:
                                        return o = n.videoFrame, null == t || t.reportStartFrameProcessing(o.codedWidth, o.codedHeight), 
                                        _context16.next = 4, e(n);

                                      case 4:
                                        return i = _context16.sent, _context16.abrupt("return", (null == t || t.reportFrameProcessed(), 
                                        i));

                                      case 6:
                                      case "end":
                                        return _context16.stop();
                                    }
                                }, _callee16);
                            }));
                        };
                    }
                    function f() {
                        var e;
                        return Ne(Ce, H.sidePanel) && function() {
                            var e, t, n, o;
                            return !(!(null === (t = null === (e = le().chrome) || void 0 === e ? void 0 : e.webview) || void 0 === t ? void 0 : t.getTextureStream) || !(null === (o = null === (n = le().chrome) || void 0 === n ? void 0 : n.webview) || void 0 === o ? void 0 : o.registerTextureStream));
                        }() && !!(null === (e = Ce.supports.video) || void 0 === e ? void 0 : e.mediaStream);
                    }
                    function m() {
                        var e;
                        return Ne(Ce, H.sidePanel) && !!(null === (e = Ce.supports.video) || void 0 === e ? void 0 : e.sharedFrame);
                    }
                    !function(e) {
                        e.NV12 = "NV12";
                    }(e.VideoFrameFormat || (e.VideoFrameFormat = {})), function(e) {
                        e.EffectChanged = "EffectChanged", e.EffectDisabled = "EffectDisabled";
                    }(e.EffectChangeType || (e.EffectChangeType = {})), function(e) {
                        e.InvalidEffectId = "InvalidEffectId", e.InitializationFailure = "InitializationFailure";
                    }(e.EffectFailureReason || (e.EffectFailureReason = {})), e.registerForVideoFrame = function(e) {
                        if (Ne(Ce, H.sidePanel), !s()) throw z;
                        if (!e.videoFrameHandler || !e.videoBufferHandler) throw new Error("Both videoFrameHandler and videoBufferHandler must be provided");
                        if (Ot("video.setFrameProcessTimeLimit", function(e) {
                            return null == t ? void 0 : t.setFrameProcessTimeLimit(e.timeLimit);
                        }, !1), f()) !function(e, n) {
                            var _this10 = this;
                            if (Ne(Ce, H.sidePanel), !s() || !f()) throw z;
                            Ot("video.startVideoExtensibilityVideoStream", function(n) {
                                return Yo(_this10, void 0, void 0, _regeneratorRuntime().mark(function _callee15() {
                                    var o, i;
                                    return _regeneratorRuntime().wrap(function(_context15) {
                                        for (;;) switch (_context15.prev = _context15.next) {
                                          case 0:
                                            return o = n.streamId, i = c(e, t), _context15.next = 3, No(o, i, a, t);

                                          case 3:
                                          case "end":
                                            return _context15.stop();
                                        }
                                    }, _callee15);
                                }));
                            }, !1), sn("video.mediaStream.registerForVideoFrame", [ n ]);
                        }(e.videoFrameHandler, e.config); else {
                            if (!m()) throw z;
                            !function(e, n) {
                                if (Ne(Ce, H.sidePanel), !s() || !m()) throw z;
                                Ot("video.newVideoFrame", function(n) {
                                    if (n) {
                                        var _o14 = n.timestamp;
                                        null == t || t.reportStartFrameProcessing(n.width, n.height), e(function(e) {
                                            if ("videoFrameBuffer" in e) return e;
                                            var _t11 = e.data, _n9 = function(e, t) {
                                                var n = {};
                                                for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
                                                if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                                                    var i = 0;
                                                    for (o = Object.getOwnPropertySymbols(e); i < o.length; i++) t.indexOf(o[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[i]) && (n[o[i]] = e[o[i]]);
                                                }
                                                return n;
                                            }(e, [ "data" ]);
                                            return Object.assign(Object.assign({}, _n9), {
                                                videoFrameBuffer: _t11
                                            });
                                        }(n), function() {
                                            null == t || t.reportFrameProcessed(), function(e) {
                                                sn("video.videoFrameProcessed", [ e ]);
                                            }(_o14);
                                        }, a);
                                    }
                                }, !1), sn("video.registerForVideoFrame", [ n ]);
                            }(e.videoBufferHandler, e.config);
                        }
                        null == t || t.startMonitorSlowFrameProcessing();
                    }, e.notifySelectedVideoEffectChanged = function(e, t) {
                        if (Ne(Ce, H.sidePanel), !s()) throw z;
                        sn("video.videoEffectChanged", [ e, t ]);
                    }, e.registerForVideoEffect = function(e) {
                        if (Ne(Ce, H.sidePanel), !s()) throw z;
                        Ot("video.effectParameterChange", Go(e, t), !1), sn("video.registerForVideoEffect");
                    }, e.isSupported = s;
                }(Ko || (Ko = {})), function(e) {
                    var t = "search.queryChange", n = "search.queryClose", o = "search.queryExecute";
                    function i() {
                        return !(!Ne(Ce) || !Ce.supports.search);
                    }
                    e.registerHandlers = function(e, r, a) {
                        if (Ne(Ce, H.content), !i()) throw z;
                        Ot(n, e), Ot(o, r), a && Ot(t, a);
                    }, e.unregisterHandlers = function() {
                        if (Ne(Ce, H.content), !i()) throw z;
                        sn("search.unregister"), kt(t), kt(n), kt(o);
                    }, e.isSupported = i, e.closeSearch = function() {
                        return new Promise(function(e) {
                            if (Ne(Ce, H.content), !i()) throw new Error("Not supported");
                            e(Xt("search.closeSearch"));
                        });
                    };
                }(Zo || (Zo = {})), function(e) {
                    function t(t) {
                        return new Promise(function(n) {
                            if (!r()) throw z;
                            n(tn(e.SharingAPIMessages.shareWebContent, t));
                        });
                    }
                    function r() {
                        return !(!Ne(Ce) || !Ce.supports.sharing);
                    }
                    e.SharingAPIMessages = {
                        shareWebContent: "sharing.shareWebContent"
                    }, e.shareWebContent = function(e, r) {
                        try {
                            (function(e) {
                                if (!(e && e.content && e.content.length)) throw {
                                    errorCode: k.INVALID_ARGUMENTS,
                                    message: "Shared content is missing"
                                };
                            })(e), function(e) {
                                if (e.content.some(function(e) {
                                    return !e.type;
                                })) throw {
                                    errorCode: k.INVALID_ARGUMENTS,
                                    message: "Shared content type cannot be undefined"
                                };
                                if (e.content.some(function(t) {
                                    return t.type !== e.content[0].type;
                                })) throw {
                                    errorCode: k.INVALID_ARGUMENTS,
                                    message: "Shared content must be of the same type"
                                };
                            }(e), function(e) {
                                if ("URL" !== e.content[0].type) throw {
                                    errorCode: k.INVALID_ARGUMENTS,
                                    message: "Content type is unsupported"
                                };
                                if (e.content.some(function(e) {
                                    return !e.url;
                                })) throw {
                                    errorCode: k.INVALID_ARGUMENTS,
                                    message: "URLs are required for URL content types"
                                };
                            }(e);
                        } catch (e) {
                            return ee(function() {
                                return Promise.reject(e);
                            }, r);
                        }
                        return Ne(Ce, H.content, H.sidePanel, H.task, H.stage, H.meetingStage), ee(t, r, e);
                    }, e.isSupported = r;
                }(Qo || (Qo = {})), function(e) {
                    function n() {
                        return !(!Ne(Ce) || !Ce.supports.stageView);
                    }
                    !function(e) {
                        e.modal = "modal", e.popout = "popout", e.popoutWithChat = "popoutWithChat";
                    }(e.StageViewOpenMode || (e.StageViewOpenMode = {})), e.open = function(e) {
                        return new Promise(function(t) {
                            if (Ne(Ce, H.content), !n()) throw z;
                            if (!e) throw new Error("[stageView.open] Stage view params cannot be null");
                            t(tn("stageView.open", e));
                        });
                    }, e.isSupported = n;
                }(Xo || (Xo = {}));
                var ti, ni, oi = function(e, t, n, o) {
                    function i(e) {
                        return e instanceof n ? e : new n(function(t) {
                            t(e);
                        });
                    }
                    return new (n || (n = Promise))(function(n, r) {
                        function a(e) {
                            try {
                                l(o.next(e));
                            } catch (e) {
                                r(e);
                            }
                        }
                        function s(e) {
                            try {
                                l(o.throw(e));
                            } catch (e) {
                                r(e);
                            }
                        }
                        function l(e) {
                            e.done ? n(e.value) : i(e.value).then(a, s);
                        }
                        l((o = o.apply(e, t || [])).next());
                    });
                };
                !function(e) {
                    var o;
                    !function(e) {
                        e[e.FrontOrRear = 1] = "FrontOrRear", e[e.FrontOnly = 2] = "FrontOnly", e[e.RearOnly = 3] = "RearOnly";
                    }(e.CameraRestriction || (e.CameraRestriction = {})), function(e) {
                        e[e.Camera = 1] = "Camera", e[e.Gallery = 2] = "Gallery";
                    }(e.Source || (e.Source = {})), e.hasPermission = function() {
                        if (Ne(Ce, H.content, H.task), !o.isSupported()) throw z;
                        return tn("permissions.has", M.Media);
                    }, e.requestPermission = function() {
                        if (Ne(Ce, H.content, H.task), !o.isSupported()) throw z;
                        return tn("permissions.request", M.Media);
                    }, function(e) {
                        function t() {
                            return !!(Ne(Ce) && Ce.supports.visualMedia && Ce.supports.visualMedia.image && Ce.supports.permissions);
                        }
                        function n() {
                            if (!t()) throw z;
                        }
                        function o(e) {
                            if (!e || e.maxVisualMediaCount > 10 || e.maxVisualMediaCount < 1) throw $;
                        }
                        function i(e, t) {
                            if (t.length > e) throw J;
                        }
                        e.captureImages = function(e) {
                            return oi(this, void 0, void 0, _regeneratorRuntime().mark(function _callee17() {
                                var t;
                                return _regeneratorRuntime().wrap(function(_context17) {
                                    for (;;) switch (_context17.prev = _context17.next) {
                                      case 0:
                                        return Ne(Ce, H.content, H.task), n(), o(e), _context17.next = 3, tn("visualMedia.image.captureImages", e);

                                      case 3:
                                        return _context17.abrupt("return", (i(e.maxVisualMediaCount, t = _context17.sent), 
                                        t));

                                      case 5:
                                      case "end":
                                        return _context17.stop();
                                    }
                                }, _callee17);
                            }));
                        }, e.retrieveImages = function(e) {
                            return oi(this, void 0, void 0, _regeneratorRuntime().mark(function _callee18() {
                                var t;
                                return _regeneratorRuntime().wrap(function(_context18) {
                                    for (;;) switch (_context18.prev = _context18.next) {
                                      case 0:
                                        return Ne(Ce, H.content, H.task), n(), o(e), _context18.next = 3, tn("visualMedia.image.retrieveImages", e);

                                      case 3:
                                        return _context18.abrupt("return", (i(e.maxVisualMediaCount, t = _context18.sent), 
                                        t));

                                      case 5:
                                      case "end":
                                        return _context18.stop();
                                    }
                                }, _callee18);
                            }));
                        }, e.isSupported = t;
                    }(o = e.image || (e.image = {}));
                }(ti || (ti = {})), function(e) {
                    function t() {
                        return !(!Ne(Ce) || !Ce.supports.webStorage);
                    }
                    e.isWebStorageClearedOnUserLogOut = function() {
                        return Ne(Ce), t();
                    }, e.isSupported = t;
                }(ni || (ni = {}));
                var ri, ai, ii = a.V_2;
                !function(e) {
                    var t;
                    function n() {
                        return !(!Ne(Ce) || !Ce.supports.call);
                    }
                    !function(e) {
                        e.Unknown = "unknown", e.Audio = "audio", e.Video = "video", e.VideoBasedScreenSharing = "videoBasedScreenSharing", 
                        e.Data = "data";
                    }(t = e.CallModalities || (e.CallModalities = {})), e.startCall = function(e) {
                        var o = i(ii, s.Call_StartCall);
                        return new Promise(function(i) {
                            var r;
                            if (Ne(Ce, H.content, H.task), !n()) throw z;
                            if (!Ce.isLegacyTeams) return an(o, "call.startCall", [ e ], i);
                            i(Kt(o, "executeDeepLink", function(e, t, n) {
                                if (0 === e.length) throw new Error("Must have at least one target when creating a call deep link");
                                var o = "users=" + e.map(function(e) {
                                    return encodeURIComponent(e);
                                }).join(","), i = void 0 === t ? "" : "&withVideo=" + encodeURIComponent(t), r = void 0 === n ? "" : "&source=" + encodeURIComponent(n);
                                return h + "://" + w + "/l/call/0/0?" + o + i + r;
                            }(e.targets, null === (r = e.requestedModalities) || void 0 === r ? void 0 : r.includes(t.Video), e.source)).then(function(e) {
                                if (!e) throw new Error("The call was not properly started");
                                return e;
                            }));
                        });
                    }, e.isSupported = n;
                }(ri || (ri = {})), function(e) {
                    e.Messages = pt.Messages, e.FailedReason = pt.FailedReason, e.ExpectedFailureReason = pt.ExpectedFailureReason, 
                    e.notifyAppLoaded = function() {
                        pt.notifyAppLoaded();
                    }, e.notifySuccess = function() {
                        pt.notifySuccess();
                    }, e.notifyFailure = function(e) {
                        pt.notifyFailure(e);
                    }, e.notifyExpectedFailure = function(e) {
                        pt.notifyExpectedFailure(e);
                    };
                }(ai || (ai = {}));
                var li, si = t("thirdPartyCloudStorage");
                !function(e) {
                    var t = [], n = {
                        fileType: "",
                        assembleAttachment: []
                    }, o = !0, i = null;
                    function r(e) {
                        if (i) if (e && e.error) i([], e.error), i = null; else if (e && e.fileChunk) try {
                            o || 0 !== e.fileChunk.chunkSequence || (si("Last chunk is not received or 'endOfFile' value for previous chunk was not set to true"), 
                            o = !0, i([], {
                                errorCode: k.INTERNAL_ERROR,
                                message: "error occurred while receiving data"
                            }), t = [], i = null);
                            var _r3 = Zn(e.fileChunk, e.fileType);
                            if (_r3 ? n.assembleAttachment.push(_r3) : (si("Received a null assemble attachment for when decoding chunk sequence " + e.fileChunk.chunkSequence + "; not including the chunk in the assembled file."), 
                            i ? i([], {
                                errorCode: k.INTERNAL_ERROR,
                                message: "error occurred while receiving data"
                            }) : i = null, t = [], i = null, o = !0), o = e.fileChunk.endOfFile, e.fileChunk.endOfFile) {
                                var _r4 = Kn(n.assembleAttachment, n.fileType);
                                if (_r4) {
                                    var _n10 = new File([ _r4 ], e.fileName, {
                                        type: _r4.type
                                    });
                                    t.push(_n10);
                                }
                                e.isLastFile && i && (i(t, e.error), t = [], i = null, o = !0), n = {
                                    fileType: "",
                                    assembleAttachment: []
                                };
                            }
                        } catch (e) {
                            i && (i([], {
                                errorCode: k.INTERNAL_ERROR,
                                message: e
                            }), t = [], i = null, o = !0);
                        } else i([], {
                            errorCode: k.INTERNAL_ERROR,
                            message: "data received is null"
                        }), t = [], i = null, o = !0;
                    }
                    function a() {
                        return !(!Ne(Ce) || !Ce.supports.thirdPartyCloudStorage);
                    }
                    e.getDragAndDropFiles = function(e, t) {
                        if (!t) throw new Error("[getDragAndDropFiles] Callback cannot be null");
                        if (e && "" !== e) {
                            if (Ne(Ce, H.content, H.task), !a()) throw z;
                            if (i) throw i = null, new Error("getDragAndDropFiles cannot be called twice");
                            i = t, o = !0, sn("thirdPartyCloudStorage.getDragAndDropFiles", [ e ], r);
                        } else t([], {
                            errorCode: k.INVALID_ARGUMENTS
                        });
                    }, e.isSupported = a;
                }(li || (li = {}));
                var ci = a.V_1;
                function ui(e, t) {
                    lt(i(ci, s.PublicAPIs_Initialize), t).then(function() {
                        e && e();
                    });
                }
                function di() {
                    Fo.enablePrintCapability();
                }
                function fi() {
                    Fo.print();
                }
                function pi(e) {
                    Le(), an(i(ci, s.PublicAPIs_GetContext), "getContext", function(t) {
                        t.frameContext || (t.frameContext = b.frameContext), e(t);
                    });
                }
                function mi(e) {
                    dt(i(ci, s.PublicAPIs_RegisterOnThemeChangeHandlerHelper), e);
                }
                function gi(e) {
                    Dt(i(ci, s.PublicAPIs_RegisterFullScreenHandler), "fullScreenChange", e, []);
                }
                function hi(e) {
                    Dt(i(ci, s.PublicAPIs_RegisterAppButtonClickHandler), "appButtonClick", e, [ H.content ]);
                }
                function wi(e) {
                    Dt(i(ci, s.PublicAPIs_RegisterAppButtonHoverEnterHandler), "appButtonHoverEnter", e, [ H.content ]);
                }
                function Ci(e) {
                    Dt(i(ci, s.PublicAPIs_RegisterAppButtonHoverLeaveHandler), "appButtonHoverLeave", e, [ H.content ]);
                }
                function vi(e) {
                    It.backStack.registerBackButtonHandlerHelper(i(ci, s.PublicAPIs_RegisterBackButtonHandler), e);
                }
                function Si(e) {
                    Fo.registerOnLoadHandlerHelper(e);
                }
                function bi(e) {
                    Fo.registerBeforeUnloadHandlerHelper(e);
                }
                function yi(e) {
                    Dt(i(ci, s.PublicAPIs_RegisterFocusEnterHandler), "focusEnter", e, []);
                }
                function Pi(e) {
                    Dt(i(ci, s.PublicAPIs_RegisterChangeSettingsHandler), "changeSettings", e, [ H.content ]);
                }
                function Ii(e, t) {
                    Ne(Ce), St(i(ci, s.PublicAPIs_GetTabInstances), t).then(function(t) {
                        e(t);
                    });
                }
                function Ti(e, t) {
                    Ne(Ce), bt(i(ci, s.PublicAPIs_GetMruTabInstances), t).then(function(t) {
                        e(t);
                    });
                }
                function Ei(e) {
                    yt(i(ci, s.PublicAPIs_ShareDeepLink), {
                        subPageId: e.subEntityId,
                        subPageLabel: e.subEntityLabel,
                        subPageWebUrl: e.subEntityWebUrl
                    });
                }
                function Ai(e, t) {
                    Ne(Ce, H.content, H.sidePanel, H.settings, H.task, H.stage, H.meetingStage);
                    var n = null != t ? t : K();
                    ft(i(ci, s.PublicAPIs_ExecuteDeepLink), e).then(function() {
                        n(!0);
                    }).catch(function(e) {
                        n(!1, e.message);
                    });
                }
                function Ri(e) {
                    Pt(i(ci, s.PublicAPIs_SetFrameContext), e);
                }
                function Fi(e, t, n) {
                    lt(i(ci, s.PublicAPIs_Initialize), n).then(function() {
                        return t && t();
                    }), Pt(i(ci, s.PublicAPIs_SetFrameContext), e);
                }
                var Li, _i = a.V_1;
                function Oi(e) {
                    vt(i(_i, s.Navigation_ReturnFocus), e);
                }
                function ki(e, t) {
                    Ne(Ce);
                    var n = null != t ? t : K();
                    Ct(i(_i, s.Navigation_NavigateToTab), e).then(function() {
                        n(!0);
                    }).catch(function(e) {
                        n(!1, e.message);
                    });
                }
                function Mi(e, t) {
                    Ne(Ce, H.content, H.sidePanel, H.settings, H.remove, H.task, H.stage, H.meetingStage);
                    var n = null != t ? t : K();
                    ht(i(_i, s.Navigation_NavigateCrossDomain), e).then(function() {
                        n(!0);
                    }).catch(function(e) {
                        n(!1, e.message);
                    });
                }
                function Di(e) {
                    Ne(Ce);
                    var t = null != e ? e : K();
                    wt(i(_i, s.Navigation_NavigateBack)).then(function() {
                        t(!0);
                    }).catch(function(e) {
                        t(!1, e.message);
                    });
                }
                !function(e) {
                    e.setValidityState = function(e) {
                        It.config.setValidityState(e);
                    }, e.getSettings = function(e) {
                        Ne(Ce, H.content, H.settings, H.remove, H.sidePanel), It.getConfig().then(function(t) {
                            e(t);
                        });
                    }, e.setSettings = function(e, t) {
                        Ne(Ce, H.content, H.settings, H.sidePanel);
                        var n = null != t ? t : K();
                        It.config.setConfig(e).then(function() {
                            n(!0);
                        }).catch(function(e) {
                            n(!1, e.message);
                        });
                    }, e.registerOnSaveHandler = function(e) {
                        It.config.registerOnSaveHandlerHelper(e);
                    }, e.registerOnRemoveHandler = function(e) {
                        It.config.registerOnRemoveHandlerHelper(e);
                    };
                }(Li || (Li = {}));
                var Ui, xi, Hi = a.V_1;
                !function(e) {
                    function o(e) {
                        return e.height = e.height ? e.height : W.Small, e.width = e.width ? e.width : W.Small, 
                        e;
                    }
                    e.startTask = function(e, o) {
                        var r = i(Hi, s.Tasks_StartTask), a = o ? function(e) {
                            var t, n;
                            return o(null !== (t = e.err) && void 0 !== t ? t : "", null !== (n = e.result) && void 0 !== n ? n : "");
                        } : void 0;
                        return void 0 === e.card && void 0 === e.url || e.card ? (Ne(Ce, H.content, H.sidePanel, H.meetingStage), 
                        an(r, "tasks.startTask", [ e ], o)) : void 0 !== e.completionBotId ? tt(r, function(e) {
                            if (void 0 === e.url || void 0 === e.completionBotId) throw new Error("Both url " + e.url + " and completionBotId " + e.completionBotId + " are required for bot url dialog. At least one is undefined.");
                            return {
                                url: e.url,
                                size: {
                                    height: e.height ? e.height : W.Small,
                                    width: e.width ? e.width : W.Small
                                },
                                title: e.title,
                                fallbackUrl: e.fallbackUrl,
                                completionBotId: e.completionBotId
                            };
                        }(e), a) : et(r, function(e) {
                            if (void 0 === e.url) throw new Error("url property of taskInfo object can't be undefined");
                            return {
                                url: e.url,
                                size: {
                                    height: e.height ? e.height : W.Small,
                                    width: e.width ? e.width : W.Small
                                },
                                title: e.title,
                                fallbackUrl: e.fallbackUrl
                            };
                        }(e), a), new Co;
                    }, e.updateTask = function(e) {
                        var r = function(e, t) {
                            var n = {};
                            for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
                            if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                                var i = 0;
                                for (o = Object.getOwnPropertySymbols(e); i < o.length; i++) t.indexOf(o[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[i]) && (n[o[i]] = e[o[i]]);
                            }
                            return n;
                        }(e = o(e), [ "width", "height" ]);
                        if (Object.keys(r).length) throw new Error("resize requires a TaskInfo argument containing only width and height");
                        Ye(i(Hi, s.Tasks_UpdateTask), e);
                    }, e.submitTask = function(e, t) {
                        nt(i(Hi, s.Tasks_SubmitTask), e, t);
                    }, e.getDefaultSizeIfNotProvided = o;
                }(Ui || (Ui = {})), function(e) {
                    !function(e) {
                        e.guest = "Guest", e.attendee = "Attendee", e.presenter = "Presenter", e.organizer = "Organizer";
                    }(e.UserMeetingRole || (e.UserMeetingRole = {})), function(e) {
                        e.added = "Added", e.alreadyExists = "AlreadyExists", e.conflict = "Conflict", e.notFound = "NotFound";
                    }(e.ContainerState || (e.ContainerState = {})), e.isSupported = function() {
                        return !(!Ne(Ce, H.meetingStage, H.sidePanel) || !Ce.supports.interactive);
                    };
                }(xi || (xi = {}));
                var Vi = function() {
                    function Vi() {}
                    var _proto10 = Vi.prototype;
                    return _proto10.getFluidTenantInfo = function() {
                        return Bi(), new Promise(function(e) {
                            e(tn("interactive.getFluidTenantInfo"));
                        });
                    }, _proto10.getFluidToken = function(e) {
                        return Bi(), new Promise(function(t) {
                            t(tn("interactive.getFluidToken", e));
                        });
                    }, _proto10.getFluidContainerId = function() {
                        return Bi(), new Promise(function(e) {
                            e(tn("interactive.getFluidContainerId"));
                        });
                    }, _proto10.setFluidContainerId = function(e) {
                        return Bi(), new Promise(function(t) {
                            t(tn("interactive.setFluidContainerId", e));
                        });
                    }, _proto10.getNtpTime = function() {
                        return Bi(), new Promise(function(e) {
                            e(tn("interactive.getNtpTime"));
                        });
                    }, _proto10.registerClientId = function(e) {
                        return Bi(), new Promise(function(t) {
                            t(tn("interactive.registerClientId", e));
                        });
                    }, _proto10.getClientRoles = function(e) {
                        return Bi(), new Promise(function(t) {
                            t(tn("interactive.getClientRoles", e));
                        });
                    }, _proto10.getClientInfo = function(e) {
                        return Bi(), new Promise(function(t) {
                            t(tn("interactive.getClientInfo", e));
                        });
                    }, Vi.create = function() {
                        return Bi(), new Vi;
                    }, Vi;
                }();
                function Bi() {
                    if (!xi.isSupported()) throw new Error("LiveShareHost Not supported");
                }
                var Wi = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
                function Gi(e) {
                    try {
                        return e.cartItems = qi(e.cartItems), e;
                    } catch (e) {
                        throw new Error("Error deserializing cart");
                    }
                }
                function qi(e) {
                    return e.map(function(e) {
                        if (e.imageURL) {
                            var _t12 = new URL(e.imageURL);
                            e.imageURL = _t12;
                        }
                        return e.accessories && (e.accessories = qi(e.accessories)), e;
                    });
                }
                var $i = function $i(e) {
                    try {
                        return e.map(function(e) {
                            var t = e.imageURL, n = e.accessories, o = function(e, t) {
                                var n = {};
                                for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);
                                if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                                    var i = 0;
                                    for (o = Object.getOwnPropertySymbols(e); i < o.length; i++) t.indexOf(o[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[i]) && (n[o[i]] = e[o[i]]);
                                }
                                return n;
                            }(e, [ "imageURL", "accessories" ]), i = Object.assign({}, o);
                            return t && (i.imageURL = t.href), n && (i.accessories = $i(n)), i;
                        });
                    } catch (e) {
                        throw new Error("Error serializing cart items");
                    }
                };
                function Ki(e) {
                    if (null != e) {
                        if (!Array.isArray(e) || 0 === e.length) throw new Error("CartItem.accessories must be a non-empty array");
                        for (var _step5, _iterator5 = _createForOfIteratorHelperLoose(e); !(_step5 = _iterator5()).done; ) {
                            var _t14 = _step5.value;
                            if (_t14.accessories) throw new Error("Item in CartItem.accessories cannot have accessories");
                            Zi(_t14);
                        }
                    }
                }
                function Zi(e) {
                    if (!e.id) throw new Error("cartItem.id must not be empty");
                    if (!e.name) throw new Error("cartItem.name must not be empty");
                    (function(e) {
                        if ("number" != typeof e || e < 0) throw new Error("price " + e + " must be a number not less than 0");
                        if (parseFloat(e.toFixed(3)) !== e) throw new Error("price " + e + " must have at most 3 decimal places");
                    })(e.price), function(e) {
                        if ("number" != typeof e || e <= 0 || parseInt(e.toString()) !== e) throw new Error("quantity " + e + " must be an integer greater than 0");
                    }(e.quantity);
                }
                function Qi(e) {
                    if (null != e) {
                        if (!e) throw new Error("id must not be empty");
                        if (!1 === function(e) {
                            return "string" == typeof e && Wi.test(e);
                        }(e)) throw new Error("id must be a valid UUID");
                    }
                }
                var nr, or, ir, rr, ar, sr, lr, tr = a.V_2;
                !function(e) {
                    function o() {
                        return !(!Ne(Ce) || !Ce.supports.marketplace);
                    }
                    e.cartVersion = {
                        majorVersion: 1,
                        minorVersion: 1
                    }, function(e) {
                        e.TACAdminUser = "TACAdminUser", e.TeamsAdminUser = "TeamsAdminUser", e.TeamsEndUser = "TeamsEndUser";
                    }(e.Intent || (e.Intent = {})), function(e) {
                        e.Open = "Open", e.Processing = "Processing", e.Processed = "Processed", e.Closed = "Closed", 
                        e.Error = "Error";
                    }(e.CartStatus || (e.CartStatus = {})), e.getCart = function() {
                        if (Ne(Ce, H.content, H.task), !o()) throw z;
                        return en(i(tr, s.Marketplace_GetCart), "marketplace.getCart", e.cartVersion).then(Gi);
                    }, e.addOrUpdateCartItems = function(t) {
                        if (Ne(Ce, H.content, H.task), !o()) throw z;
                        if (!t) throw new Error("addOrUpdateCartItemsParams must be provided");
                        return Qi(null == t ? void 0 : t.cartId), function(e) {
                            if (!Array.isArray(e) || 0 === e.length) throw new Error("cartItems must be a non-empty array");
                            for (var _step4, _iterator4 = _createForOfIteratorHelperLoose(e); !(_step4 = _iterator4()).done; ) {
                                var _t13 = _step4.value;
                                Zi(_t13), Ki(_t13.accessories);
                            }
                        }(null == t ? void 0 : t.cartItems), en(i(tr, s.Marketplace_AddOrUpdateCartItems), "marketplace.addOrUpdateCartItems", Object.assign(Object.assign({}, t), {
                            cartItems: $i(t.cartItems),
                            cartVersion: e.cartVersion
                        })).then(Gi);
                    }, e.removeCartItems = function(t) {
                        if (Ne(Ce, H.content, H.task), !o()) throw z;
                        if (!t) throw new Error("removeCartItemsParams must be provided");
                        if (Qi(null == t ? void 0 : t.cartId), !Array.isArray(null == t ? void 0 : t.cartItemIds) || 0 === (null == t ? void 0 : t.cartItemIds.length)) throw new Error("cartItemIds must be a non-empty array");
                        return en(i(tr, s.Marketplace_RemoveCardItems), "marketplace.removeCartItems", Object.assign(Object.assign({}, t), {
                            cartVersion: e.cartVersion
                        })).then(Gi);
                    }, e.updateCartStatus = function(t) {
                        if (Ne(Ce, H.content, H.task), !o()) throw z;
                        if (!t) throw new Error("updateCartStatusParams must be provided");
                        return Qi(null == t ? void 0 : t.cartId), function(e) {
                            if (!Object.values(nr.CartStatus).includes(e)) throw new Error("cartStatus " + e + " is not valid");
                        }(null == t ? void 0 : t.cartStatus), en(i(tr, s.Marketplace_UpdateCartStatus), "marketplace.updateCartStatus", Object.assign(Object.assign({}, t), {
                            cartVersion: e.cartVersion
                        })).then(Gi);
                    }, e.isSupported = o;
                }(nr || (nr = {})), function(e) {
                    var n, i, t = "Action.Execute";
                    function r(e) {
                        if (e.requestType === n.ActionExecuteInvokeRequest) {
                            if (e.type !== t) throw {
                                errorCode: i.INTERNAL_ERROR,
                                message: "Invalid action type " + e.type + '. Action type must be "' + t + '"'
                            };
                        } else if (e.requestType === n.QueryMessageExtensionRequest) {
                            if (e.commandId.length > 64) throw new Error("originalRequestInfo.commandId exceeds the maximum size of 64 characters");
                            if (e.parameters.length > 5) throw new Error("originalRequestInfo.parameters exceeds the maximum size of 5");
                            for (var _step6, _iterator6 = _createForOfIteratorHelperLoose(e.parameters); !(_step6 = _iterator6()).done; ) {
                                var _t15 = _step6.value;
                                if (_t15.name.length > 64) throw new Error("originalRequestInfo.parameters.name exceeds the maximum size of 64 characters");
                                if (_t15.value.length > 512) throw new Error("originalRequestInfo.parameters.value exceeds the maximum size of 512 characters");
                            }
                        }
                    }
                    function a() {
                        return !(!Ne(Ce) || !Ce.supports.externalAppAuthentication);
                    }
                    !function(e) {
                        e.ActionExecuteInvokeRequest = "ActionExecuteInvokeRequest", e.QueryMessageExtensionRequest = "QueryMessageExtensionRequest";
                    }(n = e.OriginalRequestType || (e.OriginalRequestType = {})), function(e) {
                        e.ActionExecuteInvokeResponse = "ActionExecuteInvokeResponse", e.QueryMessageExtensionResponse = "QueryMessageExtensionResponse";
                    }(e.InvokeResponseType || (e.InvokeResponseType = {})), function(e) {
                        e.INTERNAL_ERROR = "INTERNAL_ERROR";
                    }(i = e.InvokeErrorCode || (e.InvokeErrorCode = {})), e.authenticateAndResendRequest = function(e, t, n) {
                        if (Ne(Ce, H.content), !a()) throw z;
                        return de(e), r(n), on("externalAppAuthentication.authenticateAndResendRequest", [ e, n, t.url.href, t.width, t.height, t.isExternal ]).then(function(_ref15) {
                            var t = _ref15[1];
                            if (_ref15[0] && null != t.responseType) return t;
                            throw t;
                        });
                    }, e.authenticateWithSSO = function(e, t) {
                        if (Ne(Ce, H.content), !a()) throw z;
                        return de(e), on("externalAppAuthentication.authenticateWithSSO", [ e, t.claims, t.silent ]).then(function(_ref16) {
                            if (!_ref16[0]) throw _ref16[1];
                        });
                    }, e.authenticateWithSSOAndResendRequest = function(e, t, n) {
                        if (Ne(Ce, H.content), !a()) throw z;
                        return de(e), r(n), on("externalAppAuthentication.authenticateWithSSOAndResendRequest", [ e, n, t.claims, t.silent ]).then(function(_ref17) {
                            var t = _ref17[1];
                            if (_ref17[0] && null != t.responseType) return t;
                            throw t;
                        });
                    }, e.isSupported = a;
                }(or || (or = {})), function(e) {
                    function i() {
                        return !(!Ne(Ce) || !Ce.supports.externalAppCardActions);
                    }
                    !function(e) {
                        e.DeepLinkDialog = "DeepLinkDialog", e.DeepLinkOther = "DeepLinkOther", e.DeepLinkStageView = "DeepLinkStageView", 
                        e.GenericUrl = "GenericUrl";
                    }(e.ActionOpenUrlType || (e.ActionOpenUrlType = {})), function(e) {
                        e.INTERNAL_ERROR = "INTERNAL_ERROR", e.INVALID_LINK = "INVALID_LINK", e.NOT_SUPPORTED = "NOT_SUPPORTED";
                    }(e.ActionOpenUrlErrorCode || (e.ActionOpenUrlErrorCode = {})), function(e) {
                        e.INTERNAL_ERROR = "INTERNAL_ERROR";
                    }(e.ActionSubmitErrorCode || (e.ActionSubmitErrorCode = {})), e.processActionSubmit = function(e, t) {
                        if (Ne(Ce, H.content), !i()) throw z;
                        return de(e), on("externalAppCardActions.processActionSubmit", [ e, t ]).then(function(_ref18) {
                            if (!_ref18[0]) throw _ref18[1];
                        });
                    }, e.processActionOpenUrl = function(e, t) {
                        if (Ne(Ce, H.content), !i()) throw z;
                        return de(e), on("externalAppCardActions.processActionOpenUrl", [ e, t.href ]).then(function(_ref19) {
                            var e = _ref19[0];
                            if (e) throw e;
                            return _ref19[1];
                        });
                    }, e.isSupported = i;
                }(ir || (ir = {})), function(e) {
                    function s(e, t) {
                        return {
                            errorCode: e,
                            message: t
                        };
                    }
                    !function(e) {
                        e.Dropbox = "DROPBOX", e.Box = "BOX", e.Sharefile = "SHAREFILE", e.GoogleDrive = "GOOGLEDRIVE", 
                        e.Egnyte = "EGNYTE", e.SharePoint = "SharePoint";
                    }(e.CloudStorageProvider || (e.CloudStorageProvider = {})), function(e) {
                        e[e.Sharepoint = 0] = "Sharepoint", e[e.WopiIntegration = 1] = "WopiIntegration", 
                        e[e.Google = 2] = "Google", e[e.OneDrive = 3] = "OneDrive", e[e.Recent = 4] = "Recent", 
                        e[e.Aggregate = 5] = "Aggregate", e[e.FileSystem = 6] = "FileSystem", e[e.Search = 7] = "Search", 
                        e[e.AllFiles = 8] = "AllFiles", e[e.SharedWithMe = 9] = "SharedWithMe";
                    }(e.CloudStorageProviderType || (e.CloudStorageProviderType = {})), function(e) {
                        e.ClassMaterials = "classMaterials";
                    }(e.SpecialDocumentLibraryType || (e.SpecialDocumentLibraryType = {})), function(e) {
                        e.Readonly = "readonly";
                    }(e.DocumentLibraryAccessType || (e.DocumentLibraryAccessType = {})), function(e) {
                        e.Downloaded = "Downloaded", e.Downloading = "Downloading", e.Failed = "Failed";
                    }(e.FileDownloadStatus || (e.FileDownloadStatus = {})), function(e) {
                        e.Download = "DOWNLOAD", e.Upload = "UPLOAD", e.Delete = "DELETE";
                    }(e.CloudStorageProviderFileAction || (e.CloudStorageProviderFileAction = {})), 
                    e.getCloudStorageFolders = function(e, t) {
                        if (Ne(Ce, H.content), !e || 0 === e.length) throw new Error("[files.getCloudStorageFolders] channelId name cannot be null or empty");
                        if (!t) throw new Error("[files.getCloudStorageFolders] Callback cannot be null");
                        sn("files.getCloudStorageFolders", [ e ], t);
                    }, e.addCloudStorageFolder = function(e, t) {
                        if (Ne(Ce, H.content), !e || 0 === e.length) throw new Error("[files.addCloudStorageFolder] channelId name cannot be null or empty");
                        if (!t) throw new Error("[files.addCloudStorageFolder] Callback cannot be null");
                        sn("files.addCloudStorageFolder", [ e ], t);
                    }, e.deleteCloudStorageFolder = function(e, t, n) {
                        if (Ne(Ce, H.content), !e) throw new Error("[files.deleteCloudStorageFolder] channelId name cannot be null or empty");
                        if (!t) throw new Error("[files.deleteCloudStorageFolder] folderToDelete cannot be null or empty");
                        if (!n) throw new Error("[files.deleteCloudStorageFolder] Callback cannot be null");
                        sn("files.deleteCloudStorageFolder", [ e, t ], n);
                    }, e.getCloudStorageFolderContents = function(e, t, n) {
                        if (Ne(Ce, H.content), !e || !t) throw new Error("[files.getCloudStorageFolderContents] folder/providerCode name cannot be null or empty");
                        if (!n) throw new Error("[files.getCloudStorageFolderContents] Callback cannot be null");
                        if ("isSubdirectory" in e && !e.isSubdirectory) throw new Error("[files.getCloudStorageFolderContents] provided folder is not a subDirectory");
                        sn("files.getCloudStorageFolderContents", [ e, t ], n);
                    }, e.openCloudStorageFile = function(e, t, n) {
                        if (Ne(Ce, H.content), !e || !t) throw new Error("[files.openCloudStorageFile] file/providerCode cannot be null or empty");
                        if (e.isSubdirectory) throw new Error("[files.openCloudStorageFile] provided file is a subDirectory");
                        sn("files.openCloudStorageFile", [ e, t, n ]);
                    }, e.getExternalProviders = function(e, t) {
                        if (void 0 === e && (e = !1), Ne(Ce, H.content), !t) throw new Error("[files.getExternalProviders] Callback cannot be null");
                        sn("files.getExternalProviders", [ e ], t);
                    }, e.copyMoveFiles = function(e, t, n, o, i, r) {
                        if (void 0 === i && (i = !1), Ne(Ce, H.content), !e || 0 === e.length) throw new Error("[files.copyMoveFiles] selectedFiles cannot be null or empty");
                        if (!t) throw new Error("[files.copyMoveFiles] providerCode cannot be null or empty");
                        if (!n) throw new Error("[files.copyMoveFiles] destinationFolder cannot be null or empty");
                        if (!o) throw new Error("[files.copyMoveFiles] destinationProviderCode cannot be null or empty");
                        if (!r) throw new Error("[files.copyMoveFiles] callback cannot be null");
                        sn("files.copyMoveFiles", [ e, t, n, o, i ], r);
                    }, e.getFileDownloads = function(e) {
                        if (Ne(Ce, H.content), !e) throw new Error("[files.getFileDownloads] Callback cannot be null");
                        sn("files.getFileDownloads", [], e);
                    }, e.openDownloadFolder = function(e, t) {
                        if (void 0 === e && (e = void 0), Ne(Ce, H.content), !t) throw new Error("[files.openDownloadFolder] Callback cannot be null");
                        sn("files.openDownloadFolder", [ e ], t);
                    }, e.addCloudStorageProvider = function(e) {
                        if (Ne(Ce, H.content), !e) throw s(k.INVALID_ARGUMENTS, "[files.addCloudStorageProvider] callback cannot be null");
                        sn("files.addCloudStorageProvider", [], e);
                    }, e.removeCloudStorageProvider = function(e, t) {
                        if (Ne(Ce, H.content), !t) throw s(k.INVALID_ARGUMENTS, "[files.removeCloudStorageProvider] callback cannot be null");
                        if (!e || !e.content) throw s(k.INVALID_ARGUMENTS, "[files.removeCloudStorageProvider] 3P cloud storage provider request content is missing");
                        sn("files.removeCloudStorageProvider", [ e ], t);
                    }, e.addCloudStorageProviderFile = function(e, t) {
                        if (Ne(Ce, H.content), !t) throw s(k.INVALID_ARGUMENTS, "[files.addCloudStorageProviderFile] callback cannot be null");
                        if (!e || !e.content) throw s(k.INVALID_ARGUMENTS, "[files.addCloudStorageProviderFile] 3P cloud storage provider request content is missing");
                        sn("files.addCloudStorageProviderFile", [ e ], t);
                    }, e.renameCloudStorageProviderFile = function(e, t) {
                        if (Ne(Ce, H.content), !t) throw s(k.INVALID_ARGUMENTS, "[files.renameCloudStorageProviderFile] callback cannot be null");
                        if (!e || !e.content) throw s(k.INVALID_ARGUMENTS, "[files.renameCloudStorageProviderFile] 3P cloud storage provider request content is missing");
                        sn("files.renameCloudStorageProviderFile", [ e ], t);
                    }, e.deleteCloudStorageProviderFile = function(e, t) {
                        if (Ne(Ce, H.content), !t) throw s(k.INVALID_ARGUMENTS, "[files.deleteCloudStorageProviderFile] callback cannot be null");
                        if (!(e && e.content && e.content.itemList && e.content.itemList.length > 0)) throw s(k.INVALID_ARGUMENTS, "[files.deleteCloudStorageProviderFile] 3P cloud storage provider request content details are missing");
                        sn("files.deleteCloudStorageProviderFile", [ e ], t);
                    }, e.downloadCloudStorageProviderFile = function(e, t) {
                        if (Ne(Ce, H.content), !t) throw s(k.INVALID_ARGUMENTS, "[files.downloadCloudStorageProviderFile] callback cannot be null");
                        if (!(e && e.content && e.content.itemList && e.content.itemList.length > 0)) throw s(k.INVALID_ARGUMENTS, "[files.downloadCloudStorageProviderFile] 3P cloud storage provider request content details are missing");
                        sn("files.downloadCloudStorageProviderFile", [ e ], t);
                    }, e.uploadCloudStorageProviderFile = function(e, t) {
                        if (Ne(Ce, H.content), !t) throw s(k.INVALID_ARGUMENTS, "[files.uploadCloudStorageProviderFile] callback cannot be null");
                        if (!(e && e.content && e.content.itemList && e.content.itemList.length > 0)) throw s(k.INVALID_ARGUMENTS, "[files.uploadCloudStorageProviderFile] 3P cloud storage provider request content details are missing");
                        if (!e.content.destinationFolder) throw s(k.INVALID_ARGUMENTS, "[files.uploadCloudStorageProviderFile] Invalid destination folder details");
                        sn("files.uploadCloudStorageProviderFile", [ e ], t);
                    }, e.registerCloudStorageProviderListChangeHandler = function(e) {
                        if (Ne(Ce), !e) throw new Error("[registerCloudStorageProviderListChangeHandler] Handler cannot be null");
                        Ot("files.cloudStorageProviderListChange", e);
                    }, e.registerCloudStorageProviderContentChangeHandler = function(e) {
                        if (Ne(Ce), !e) throw new Error("[registerCloudStorageProviderContentChangeHandler] Handler cannot be null");
                        Ot("files.cloudStorageProviderContentChange", e);
                    };
                }(rr || (rr = {})), function(e) {
                    function t() {
                        return !(!Ne(Ce) || !Ce.supports.meetingRoom);
                    }
                    e.getPairedMeetingRoomInfo = function() {
                        return new Promise(function(e) {
                            if (Ne(Ce), !t()) throw z;
                            e(tn("meetingRoom.getPairedMeetingRoomInfo"));
                        });
                    }, e.sendCommandToPairedMeetingRoom = function(e) {
                        return new Promise(function(n) {
                            if (!e || 0 == e.length) throw new Error("[meetingRoom.sendCommandToPairedMeetingRoom] Command name cannot be null or empty");
                            if (Ne(Ce), !t()) throw z;
                            n(tn("meetingRoom.sendCommandToPairedMeetingRoom", e));
                        });
                    }, e.registerMeetingRoomCapabilitiesUpdateHandler = function(e) {
                        if (!e) throw new Error("[meetingRoom.registerMeetingRoomCapabilitiesUpdateHandler] Handler cannot be null");
                        if (Ne(Ce), !t()) throw z;
                        Ot("meetingRoom.meetingRoomCapabilitiesUpdate", function(t) {
                            Ne(Ce), e(t);
                        });
                    }, e.registerMeetingRoomStatesUpdateHandler = function(e) {
                        if (!e) throw new Error("[meetingRoom.registerMeetingRoomStatesUpdateHandler] Handler cannot be null");
                        if (Ne(Ce), !t()) throw z;
                        Ot("meetingRoom.meetingRoomStatesUpdate", function(t) {
                            Ne(Ce), e(t);
                        });
                    }, e.isSupported = t;
                }(ar || (ar = {})), function(e) {
                    function t() {
                        return !(!Ne(Ce) || !Ce.supports.notifications);
                    }
                    e.showNotification = function(e) {
                        if (Ne(Ce, H.content), !t()) throw z;
                        sn("notifications.showNotification", [ e ]);
                    }, e.isSupported = t;
                }(sr || (sr = {})), function(e) {
                    function i() {
                        return !(!Ne(Ce) || !Ce.supports.remoteCamera);
                    }
                    !function(e) {
                        e.Reset = "Reset", e.ZoomIn = "ZoomIn", e.ZoomOut = "ZoomOut", e.PanLeft = "PanLeft", 
                        e.PanRight = "PanRight", e.TiltUp = "TiltUp", e.TiltDown = "TiltDown";
                    }(e.ControlCommand || (e.ControlCommand = {})), function(e) {
                        e[e.CommandResetError = 0] = "CommandResetError", e[e.CommandZoomInError = 1] = "CommandZoomInError", 
                        e[e.CommandZoomOutError = 2] = "CommandZoomOutError", e[e.CommandPanLeftError = 3] = "CommandPanLeftError", 
                        e[e.CommandPanRightError = 4] = "CommandPanRightError", e[e.CommandTiltUpError = 5] = "CommandTiltUpError", 
                        e[e.CommandTiltDownError = 6] = "CommandTiltDownError", e[e.SendDataError = 7] = "SendDataError";
                    }(e.ErrorReason || (e.ErrorReason = {})), function(e) {
                        e[e.None = 0] = "None", e[e.ControlDenied = 1] = "ControlDenied", e[e.ControlNoResponse = 2] = "ControlNoResponse", 
                        e[e.ControlBusy = 3] = "ControlBusy", e[e.AckTimeout = 4] = "AckTimeout", e[e.ControlTerminated = 5] = "ControlTerminated", 
                        e[e.ControllerTerminated = 6] = "ControllerTerminated", e[e.DataChannelError = 7] = "DataChannelError", 
                        e[e.ControllerCancelled = 8] = "ControllerCancelled", e[e.ControlDisabled = 9] = "ControlDisabled", 
                        e[e.ControlTerminatedToAllowOtherController = 10] = "ControlTerminatedToAllowOtherController";
                    }(e.SessionTerminatedReason || (e.SessionTerminatedReason = {})), e.getCapableParticipants = function(e) {
                        if (!e) throw new Error("[remoteCamera.getCapableParticipants] Callback cannot be null");
                        if (Ne(Ce, H.sidePanel), !i()) throw z;
                        sn("remoteCamera.getCapableParticipants", e);
                    }, e.requestControl = function(e, t) {
                        if (!e) throw new Error("[remoteCamera.requestControl] Participant cannot be null");
                        if (!t) throw new Error("[remoteCamera.requestControl] Callback cannot be null");
                        if (Ne(Ce, H.sidePanel), !i()) throw z;
                        sn("remoteCamera.requestControl", [ e ], t);
                    }, e.sendControlCommand = function(e, t) {
                        if (!e) throw new Error("[remoteCamera.sendControlCommand] ControlCommand cannot be null");
                        if (!t) throw new Error("[remoteCamera.sendControlCommand] Callback cannot be null");
                        if (Ne(Ce, H.sidePanel), !i()) throw z;
                        sn("remoteCamera.sendControlCommand", [ e ], t);
                    }, e.terminateSession = function(e) {
                        if (!e) throw new Error("[remoteCamera.terminateSession] Callback cannot be null");
                        if (Ne(Ce, H.sidePanel), !i()) throw z;
                        sn("remoteCamera.terminateSession", e);
                    }, e.registerOnCapableParticipantsChangeHandler = function(e) {
                        if (!e) throw new Error("[remoteCamera.registerOnCapableParticipantsChangeHandler] Handler cannot be null");
                        if (Ne(Ce, H.sidePanel), !i()) throw z;
                        Ot("remoteCamera.capableParticipantsChange", e);
                    }, e.registerOnErrorHandler = function(e) {
                        if (!e) throw new Error("[remoteCamera.registerOnErrorHandler] Handler cannot be null");
                        if (Ne(Ce, H.sidePanel), !i()) throw z;
                        Ot("remoteCamera.handlerError", e);
                    }, e.registerOnDeviceStateChangeHandler = function(e) {
                        if (!e) throw new Error("[remoteCamera.registerOnDeviceStateChangeHandler] Handler cannot be null");
                        if (Ne(Ce, H.sidePanel), !i()) throw z;
                        Ot("remoteCamera.deviceStateChange", e);
                    }, e.registerOnSessionStatusChangeHandler = function(e) {
                        if (!e) throw new Error("[remoteCamera.registerOnSessionStatusChangeHandler] Handler cannot be null");
                        if (Ne(Ce, H.sidePanel), !i()) throw z;
                        Ot("remoteCamera.sessionStatusChange", e);
                    }, e.isSupported = i;
                }(lr || (lr = {}));
                var ur, dr, cr = a.V_1;
                !function(e) {
                    function t() {
                        return !(!Ne(Ce) || !Ce.supports.appEntity);
                    }
                    e.selectAppEntity = function(e, n, o, r) {
                        if (Ne(Ce, H.content), !t()) throw z;
                        if (!e || 0 == e.length) throw new Error("[appEntity.selectAppEntity] threadId name cannot be null or empty");
                        if (!r) throw new Error("[appEntity.selectAppEntity] Callback cannot be null");
                        an(i(cr, s.AppEntity_SelectAppEntity), "appEntity.selectAppEntity", [ e, n, o ], r);
                    }, e.isSupported = t;
                }(ur || (ur = {})), function(e) {
                    function o() {
                        return !(!Ne(Ce) || !Ce.supports.teams);
                    }
                    !function(e) {
                        e[e.Regular = 0] = "Regular", e[e.Private = 1] = "Private", e[e.Shared = 2] = "Shared";
                    }(e.ChannelType || (e.ChannelType = {})), e.getTeamChannels = function(e, t) {
                        if (Ne(Ce, H.content), !o()) throw z;
                        if (!e) throw new Error("[teams.getTeamChannels] groupId cannot be null or empty");
                        if (!t) throw new Error("[teams.getTeamChannels] Callback cannot be null");
                        sn("teams.getTeamChannels", [ e ], t);
                    }, e.refreshSiteUrl = function(e, t) {
                        if (Ne(Ce), !o()) throw z;
                        if (!e) throw new Error("[teams.refreshSiteUrl] threadId cannot be null or empty");
                        if (!t) throw new Error("[teams.refreshSiteUrl] Callback cannot be null");
                        sn("teams.refreshSiteUrl", [ e ], t);
                    }, e.isSupported = o, function(e) {
                        function n() {
                            return !(!Ne(Ce) || !Ce.supports.teams || !Ce.supports.teams.fullTrust);
                        }
                        !function(e) {
                            function t() {
                                return !!(Ne(Ce) && Ce.supports.teams && Ce.supports.teams.fullTrust && Ce.supports.teams.fullTrust.joinedTeams);
                            }
                            e.getUserJoinedTeams = function(e) {
                                return new Promise(function(n) {
                                    if (Ne(Ce), !t()) throw z;
                                    if ((b.hostClientType === L.android || b.hostClientType === L.teamsRoomsAndroid || b.hostClientType === L.teamsPhones || b.hostClientType === L.teamsDisplays) && !He("2.0.1")) throw new Error(JSON.stringify({
                                        errorCode: k.OLD_PLATFORM
                                    }));
                                    n(Zt("getUserJoinedTeams", e));
                                });
                            }, e.isSupported = t;
                        }(e.joinedTeams || (e.joinedTeams = {})), e.getConfigSetting = function(e) {
                            return new Promise(function(t) {
                                if (Ne(Ce), !n()) throw z;
                                t(Zt("getConfigSetting", e));
                            });
                        }, e.isSupported = n;
                    }(e.fullTrust || (e.fullTrust = {}));
                }(dr || (dr = {}));
                var fr, pr = function(e, t, n, o) {
                    function i(e) {
                        return e instanceof n ? e : new n(function(t) {
                            t(e);
                        });
                    }
                    return new (n || (n = Promise))(function(n, r) {
                        function a(e) {
                            try {
                                l(o.next(e));
                            } catch (e) {
                                r(e);
                            }
                        }
                        function s(e) {
                            try {
                                l(o.throw(e));
                            } catch (e) {
                                r(e);
                            }
                        }
                        function l(e) {
                            e.done ? n(e.value) : i(e.value).then(a, s);
                        }
                        l((o = o.apply(e, t || [])).next());
                    });
                };
                !function(e) {
                    e.frameProcessingTimeoutInMs = 2e3;
                    var n, t = ce() ? void 0 : new Jo(sn);
                    function o() {
                        var t = setTimeout(function() {
                            l("Frame not processed in " + e.frameProcessingTimeoutInMs + "ms", n.Warn);
                        }, e.frameProcessingTimeoutInMs);
                        return function() {
                            clearTimeout(t);
                        };
                    }
                    function i(e, t) {
                        var _this12 = this;
                        return function(n) {
                            return pr(_this12, void 0, void 0, _regeneratorRuntime().mark(function _callee19() {
                                var i, r, a;
                                return _regeneratorRuntime().wrap(function(_context19) {
                                    for (;;) switch (_context19.prev = _context19.next) {
                                      case 0:
                                        return t.reportStartFrameProcessing((i = n.videoFrame).codedWidth, i.codedHeight), 
                                        r = o(), _context19.next = 5, e(n);

                                      case 5:
                                        return a = _context19.sent, _context19.abrupt("return", (r(), t.reportFrameProcessed(), 
                                        a));

                                      case 7:
                                      case "end":
                                        return _context19.stop();
                                    }
                                }, _callee19);
                            }));
                        };
                    }
                    function a() {
                        return Ne(Ce), Ko.isSupported();
                    }
                    function l(e, t) {
                        void 0 === t && (t = n.Warn), sn("video.notifyError", [ e, t ]);
                    }
                    !function(e) {
                        e.Fatal = "fatal", e.Warn = "warn";
                    }(n = e.ErrorLevel || (e.ErrorLevel = {})), e.registerForVideoFrame = function(e) {
                        var n, c, _this13 = this;
                        if (!a()) throw z;
                        if (!e.videoFrameHandler || !e.videoBufferHandler) throw new Error("Both videoFrameHandler and videoBufferHandler must be provided");
                        if (Ne(Ce, H.sidePanel)) {
                            if (Ot("video.setFrameProcessTimeLimit", function(e) {
                                return null == t ? void 0 : t.setFrameProcessTimeLimit(e);
                            }, !1), null === (n = Ce.supports.video) || void 0 === n ? void 0 : n.mediaStream) Ot("video.startVideoExtensibilityVideoStream", function(n) {
                                return pr(_this13, void 0, void 0, _regeneratorRuntime().mark(function _callee20() {
                                    var o, r, a;
                                    return _regeneratorRuntime().wrap(function(_context20) {
                                        for (;;) switch (_context20.prev = _context20.next) {
                                          case 0:
                                            if (o = n.streamId, r = n.metadataInTexture, a = t ? i(e.videoFrameHandler, t) : e.videoFrameHandler, 
                                            !r) {
                                                _context20.next = 6;
                                                break;
                                            }
                                            return _context20.next = 4, Ho(o, a, l, t);

                                          case 4:
                                            _context20.next = 8;
                                            break;

                                          case 6:
                                            return _context20.next = 8, No(o, a, l, t);

                                          case 8:
                                          case "end":
                                            return _context20.stop();
                                        }
                                    }, _callee20);
                                }));
                            }, !1), sn("video.mediaStream.registerForVideoFrame", [ e.config ]); else {
                                if (!(null === (c = Ce.supports.video) || void 0 === c ? void 0 : c.sharedFrame)) throw z;
                                Ot("video.newVideoFrame", function(n) {
                                    if (n) {
                                        null == t || t.reportStartFrameProcessing(n.width, n.height);
                                        var _i9 = o(), _a3 = n.timestamp;
                                        e.videoBufferHandler(function(e) {
                                            return e.videoFrameBuffer = e.videoFrameBuffer || e.data, delete e.data, e;
                                        }(n), function() {
                                            _i9(), null == t || t.reportFrameProcessed(), function(e) {
                                                sn("video.videoFrameProcessed", [ e ]);
                                            }(_a3);
                                        }, l);
                                    }
                                }, !1), sn("video.registerForVideoFrame", [ e.config ]);
                            }
                            null == t || t.startMonitorSlowFrameProcessing();
                        }
                    }, e.notifySelectedVideoEffectChanged = function(e, t, n) {
                        if (Ne(Ce, H.sidePanel), !a()) throw z;
                        sn("video.videoEffectChanged", [ e, t, n ]);
                    }, e.registerForVideoEffect = function(e) {
                        if (Ne(Ce, H.sidePanel), !a()) throw z;
                        Ot("video.effectParameterChange", Go(e, t), !1), sn("video.registerForVideoEffect");
                    }, e.updatePersonalizedEffects = function(e) {
                        if (Ne(Ce, H.sidePanel), !Ko.isSupported()) throw z;
                        sn("video.personalizedEffectsChanged", [ e ]);
                    }, e.isSupported = a, e.notifyFatalError = function(e) {
                        if (Ne(Ce), !Ko.isSupported()) throw z;
                        l(e, n.Fatal);
                    };
                }(fr || (fr = {}));
            }(), o;
        }();
    },
    78590: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            w9: function() {
                return CloseButtonActionOnClick;
            },
            rP: function() {
                return HostContextType;
            },
            Qo: function() {
                return MashupDefinitionKind;
            },
            Cq: function() {
                return MashupEditorClient;
            },
            Mw: function() {
                return MashupEditorFlowKind_MashupEditorFlowKind;
            }
        });
        var MashupDefinitionKind, MashupEditorFlowKind_MashupEditorFlowKind, MashupEditorGetDataWizardFlowStage, MashupEditorManageDataflowComputeEngineAction, MashupEditorReadyState, MashupNameInteractivity, MashupTerm, SourceConfigurationKind, SourceConfigurationDefinitionKind, SourceConfigurationInstanceKind, GetDataWizardFooterReadyState, MashupEditorFlowKind, UriUtils_namespaceObject = {};
        __webpack_require__.r(UriUtils_namespaceObject), __webpack_require__.d(UriUtils_namespaceObject, {
            addQueryParameters: function() {
                return addQueryParameters;
            },
            getOrigin: function() {
                return getOrigin;
            },
            removeQueryAndFragment: function() {
                return removeQueryAndFragment;
            }
        }), function(MashupDefinitionKind) {
            MashupDefinitionKind[MashupDefinitionKind.ExistingPersistedMashup = 0] = "ExistingPersistedMashup", 
            MashupDefinitionKind[MashupDefinitionKind.TransientMashup = 1] = "TransientMashup", 
            MashupDefinitionKind[MashupDefinitionKind.TransientEmptyMashup = 2] = "TransientEmptyMashup";
        }(MashupDefinitionKind || (MashupDefinitionKind = {})), (MashupEditorFlowKind = MashupEditorFlowKind_MashupEditorFlowKind || (MashupEditorFlowKind_MashupEditorFlowKind = {})).AddQueries = "addQueries", 
        MashupEditorFlowKind.BrowseMashup = "BrowseMashup", MashupEditorFlowKind.ConnectToDataSource = "ConnectToDataSource", 
        MashupEditorFlowKind.CreateConnection = "CreateConnection", MashupEditorFlowKind.DataPreview = "DataPreview", 
        MashupEditorFlowKind.DiagramView = "DiagramView", MashupEditorFlowKind.EditConnection = "EditConnection", 
        MashupEditorFlowKind.EditDataflowComputeEngineSettings = "EditDataflowComputeEngineSettings", 
        MashupEditorFlowKind.EditCubeVariables = "editCubeVariables", MashupEditorFlowKind.EditQuery = "editQuery", 
        MashupEditorFlowKind.EditQuickCreate = "EditQuickCreate", MashupEditorFlowKind.ImportMashupTemplate = "importMashupTemplate", 
        MashupEditorFlowKind.IncrementalRefreshSettings = "incrementalRefreshSettings", 
        MashupEditorFlowKind.ManageConnections = "manageConnections", MashupEditorFlowKind.ManageDataflowComputeEngine = "manageDataflowComputeEngine", 
        MashupEditorFlowKind.Navigate = "navigate", MashupEditorFlowKind.QuickCreate = "QuickCreate", 
        MashupEditorFlowKind.RefreshSettings = "refreshSettings", MashupEditorFlowKind.ResolveResourceChallenge = "ResolveResourceChallenge", 
        MashupEditorFlowKind.ShowRefreshHistory = "showRefreshHistory", function(MashupEditorGetDataWizardFlowStage) {
            MashupEditorGetDataWizardFlowStage.Cancelled = "Cancelled", MashupEditorGetDataWizardFlowStage.CombineFiles = "CombineFiles", 
            MashupEditorGetDataWizardFlowStage.CsvTextSettings = "CsvTextSettings", MashupEditorGetDataWizardFlowStage.DataDiscovery = "DataDiscovery", 
            MashupEditorGetDataWizardFlowStage.DataSources = "DataSources", MashupEditorGetDataWizardFlowStage.DataSourceSettings = "DataSourceSettings", 
            MashupEditorGetDataWizardFlowStage.FolderPreview = "FolderPreview", MashupEditorGetDataWizardFlowStage.IncrementalRefreshSettings = "IncrementalRefreshSettings", 
            MashupEditorGetDataWizardFlowStage.Loading = "Loading", MashupEditorGetDataWizardFlowStage.MappingEditor = "MappingEditor", 
            MashupEditorGetDataWizardFlowStage.Navigator = "Navigator", MashupEditorGetDataWizardFlowStage.QueryEditor = "QueryEditor", 
            MashupEditorGetDataWizardFlowStage.QuickCreate = "QuickCreate", MashupEditorGetDataWizardFlowStage.RecentDataPreview = "RecentDataPreview", 
            MashupEditorGetDataWizardFlowStage.RefreshSettings = "RefreshSettings", MashupEditorGetDataWizardFlowStage.TemplateCredentials = "TemplateCredentials", 
            MashupEditorGetDataWizardFlowStage.TemplateParameters = "TemplateParameters", MashupEditorGetDataWizardFlowStage.TextByExample = "TextByExample";
        }(MashupEditorGetDataWizardFlowStage || (MashupEditorGetDataWizardFlowStage = {})), 
        function(MashupEditorManageDataflowComputeEngineAction) {
            MashupEditorManageDataflowComputeEngineAction.Attach = "Attach";
        }(MashupEditorManageDataflowComputeEngineAction || (MashupEditorManageDataflowComputeEngineAction = {})), 
        function(MashupEditorReadyState) {
            MashupEditorReadyState.Busy = "Busy", MashupEditorReadyState.Error = "Error", MashupEditorReadyState.Ready = "Ready", 
            MashupEditorReadyState.Unknown = "Unknown";
        }(MashupEditorReadyState || (MashupEditorReadyState = {})), function(MashupNameInteractivity) {
            MashupNameInteractivity.Editable = "Editable", MashupNameInteractivity.Hidden = "Hidden", 
            MashupNameInteractivity.Readonly = "Readonly";
        }(MashupNameInteractivity || (MashupNameInteractivity = {})), function(MashupTerm) {
            MashupTerm.Dataflow = "Dataflow", MashupTerm.Project = "Project";
        }(MashupTerm || (MashupTerm = {})), function(SourceConfigurationKind) {
            SourceConfigurationKind.Definition = "Definition", SourceConfigurationKind.Instance = "Instance";
        }(SourceConfigurationKind || (SourceConfigurationKind = {})), function(SourceConfigurationDefinitionKind) {
            SourceConfigurationDefinitionKind.DataSourceTemplateKind = "DataSourceTemplateKind";
        }(SourceConfigurationDefinitionKind || (SourceConfigurationDefinitionKind = {})), 
        function(SourceConfigurationInstanceKind) {
            SourceConfigurationInstanceKind.DataSourceTemplateKind = "DataSourceTemplateKind", 
            SourceConfigurationInstanceKind.Navigation = "Navigation";
        }(SourceConfigurationInstanceKind || (SourceConfigurationInstanceKind = {})), function(GetDataWizardFooterReadyState) {
            GetDataWizardFooterReadyState.Busy = "Busy", GetDataWizardFooterReadyState.Error = "Error", 
            GetDataWizardFooterReadyState.Ready = "Ready", GetDataWizardFooterReadyState.Unknown = "Unknown";
        }(GetDataWizardFooterReadyState || (GetDataWizardFooterReadyState = {}));
        var MashupEditorUrlParameterName, HtmlDataAttributeName, createClass = __webpack_require__(90341);
        function isNever(value) {
            throw new Error("Unexpected value: " + value);
        }
        function shouldEndFlowOnCommit(flow) {
            switch (flow.kind) {
              case MashupEditorFlowKind_MashupEditorFlowKind.BrowseMashup:
              case MashupEditorFlowKind_MashupEditorFlowKind.ConnectToDataSource:
              case MashupEditorFlowKind_MashupEditorFlowKind.DataPreview:
              case MashupEditorFlowKind_MashupEditorFlowKind.DiagramView:
              case MashupEditorFlowKind_MashupEditorFlowKind.EditConnection:
              case MashupEditorFlowKind_MashupEditorFlowKind.EditCubeVariables:
              case MashupEditorFlowKind_MashupEditorFlowKind.EditDataflowComputeEngineSettings:
              case MashupEditorFlowKind_MashupEditorFlowKind.EditQuickCreate:
              case MashupEditorFlowKind_MashupEditorFlowKind.ImportMashupTemplate:
              case MashupEditorFlowKind_MashupEditorFlowKind.IncrementalRefreshSettings:
              case MashupEditorFlowKind_MashupEditorFlowKind.ManageConnections:
              case MashupEditorFlowKind_MashupEditorFlowKind.ManageDataflowComputeEngine:
              case MashupEditorFlowKind_MashupEditorFlowKind.Navigate:
              case MashupEditorFlowKind_MashupEditorFlowKind.QuickCreate:
              case MashupEditorFlowKind_MashupEditorFlowKind.RefreshSettings:
              case MashupEditorFlowKind_MashupEditorFlowKind.ShowRefreshHistory:
                return !0;

              case MashupEditorFlowKind_MashupEditorFlowKind.AddQueries:
              case MashupEditorFlowKind_MashupEditorFlowKind.CreateConnection:
              case MashupEditorFlowKind_MashupEditorFlowKind.EditQuery:
              case MashupEditorFlowKind_MashupEditorFlowKind.ResolveResourceChallenge:
                return !flow.keepFlowRunningOnCommit;

              default:
                isNever(flow);
            }
        }
        function shouldEndFlowOnCancel(flow) {
            switch (flow.kind) {
              case MashupEditorFlowKind_MashupEditorFlowKind.AddQueries:
              case MashupEditorFlowKind_MashupEditorFlowKind.BrowseMashup:
              case MashupEditorFlowKind_MashupEditorFlowKind.ConnectToDataSource:
              case MashupEditorFlowKind_MashupEditorFlowKind.CreateConnection:
              case MashupEditorFlowKind_MashupEditorFlowKind.DataPreview:
              case MashupEditorFlowKind_MashupEditorFlowKind.DiagramView:
              case MashupEditorFlowKind_MashupEditorFlowKind.EditConnection:
              case MashupEditorFlowKind_MashupEditorFlowKind.EditCubeVariables:
              case MashupEditorFlowKind_MashupEditorFlowKind.EditDataflowComputeEngineSettings:
              case MashupEditorFlowKind_MashupEditorFlowKind.EditQuery:
              case MashupEditorFlowKind_MashupEditorFlowKind.EditQuickCreate:
              case MashupEditorFlowKind_MashupEditorFlowKind.ImportMashupTemplate:
              case MashupEditorFlowKind_MashupEditorFlowKind.IncrementalRefreshSettings:
              case MashupEditorFlowKind_MashupEditorFlowKind.ManageConnections:
              case MashupEditorFlowKind_MashupEditorFlowKind.ManageDataflowComputeEngine:
              case MashupEditorFlowKind_MashupEditorFlowKind.Navigate:
              case MashupEditorFlowKind_MashupEditorFlowKind.QuickCreate:
              case MashupEditorFlowKind_MashupEditorFlowKind.RefreshSettings:
              case MashupEditorFlowKind_MashupEditorFlowKind.ShowRefreshHistory:
                return !0;

              case MashupEditorFlowKind_MashupEditorFlowKind.ResolveResourceChallenge:
                return !flow.keepFlowRunningOnCancel;

              default:
                isNever(flow);
            }
        }
        function isValidResult(result, flow) {
            return result.kind === flow.kind;
        }
        function assertDefined(value) {
            ensureDefined(value);
        }
        function ensureDefined(value, getErrorMessage) {
            if (null == value) throw new Error(getErrorMessage ? getErrorMessage() : "Value should be defined");
            return value;
        }
        !function(MashupEditorUrlParameterName) {
            MashupEditorUrlParameterName.ClientInstanceId = "clientInstanceId", MashupEditorUrlParameterName.ProtocolId = "protocolId";
        }(MashupEditorUrlParameterName || (MashupEditorUrlParameterName = {})), function(HtmlDataAttributeName) {
            HtmlDataAttributeName.DataAutomationId = "data-automation-id", HtmlDataAttributeName.DataIsAutoFocusable = "data-is-autofocusable", 
            HtmlDataAttributeName.DataIsFocusable = "data-is-focusable";
        }(HtmlDataAttributeName || (HtmlDataAttributeName = {}));
        var BrowseMashupRpcMethodNames, ComputeEngineRpcMethodNames, CreateConnectionFlowRpcMethodNames, DataDiscoveryFormRpcMethodNames, DataPreviewRpcMethodNames, FlowControlRpcMethodNames, HostCommandsRpcMethodNames, HostPopupsRpcMethodNames, ManageConnectionsFlowRpcMethodNames, MappingEditorRpcMethodNames, MappingRpcMethodNames, MappingV2RpcMethodNames, MashupEditorClientRpcMethodNames, PowerBIDataMartRpcMethodNames, QueryEditorPreviewButtonsRpcMethodNames, QueryEditorRpcMethodNames, UserSettingsStorageRpcMethodNames, MashupEditorAppIFrameWindow = function() {
            function MashupEditorAppIFrameWindow(src, container, className) {
                this.iFrameElement = document.createElement("iframe"), this.iFrameElementOriginalDisplayValue = this.iFrameElement.style.display, 
                this.iFrameElement.src = src, this.iFrameElement.title = "Power Query", this.iFrameElement.allow = "clipboard-read; clipboard-write", 
                this.iFrameElement.setAttribute(HtmlDataAttributeName.DataIsFocusable, "true"), 
                assertDefined(container), this.container = container, className && (this.iFrameElement.className = className), 
                this.hide(), this.container.appendChild(this.iFrameElement), this.isDisposed = !1;
            }
            var _proto = MashupEditorAppIFrameWindow.prototype;
            return _proto.addEventListener = function(type, listener, options) {
                this.isDisposed || (assertDefined(this.iFrameElement.contentWindow), this.iFrameElement.contentWindow.addEventListener(type, listener, options));
            }, _proto.removeEventListener = function(type, callback, options) {
                this.isDisposed || (assertDefined(this.iFrameElement.contentWindow), this.iFrameElement.contentWindow.removeEventListener(type, callback, options));
            }, _proto.postMessage = function(message, targetOrigin, transfer) {
                this.isDisposed || (assertDefined(this.iFrameElement.contentWindow), this.iFrameElement.contentWindow.postMessage(message, targetOrigin, transfer));
            }, _proto.hide = function() {
                if (!this.isDisposed) {
                    var currentDisplayValue = this.iFrameElement.style.display;
                    "none" !== currentDisplayValue && (this.iFrameElementOriginalDisplayValue = currentDisplayValue, 
                    this.iFrameElement.style.display = "none");
                }
            }, _proto.show = function() {
                this.isDisposed || (this.iFrameElement.style.display = this.iFrameElementOriginalDisplayValue);
            }, _proto.dispose = function() {
                this.container.removeChild(this.iFrameElement), this.isDisposed = !0;
            }, MashupEditorAppIFrameWindow;
        }();
        !function(BrowseMashupRpcMethodNames) {
            BrowseMashupRpcMethodNames.GetEntityQueryScript = "browseMashupCallbacks.getEntityQueryScript";
        }(BrowseMashupRpcMethodNames || (BrowseMashupRpcMethodNames = {})), function(ComputeEngineRpcMethodNames) {
            ComputeEngineRpcMethodNames.GetInitialComputeEngineSettings = "computeEngineCallbacks.getInitialComputeEngineSettings";
        }(ComputeEngineRpcMethodNames || (ComputeEngineRpcMethodNames = {})), function(CreateConnectionFlowRpcMethodNames) {
            CreateConnectionFlowRpcMethodNames.OnStateChanged = "createConnectionFlowClientCallbacks.onStateChanged";
        }(CreateConnectionFlowRpcMethodNames || (CreateConnectionFlowRpcMethodNames = {})), 
        function(DataDiscoveryFormRpcMethodNames) {
            DataDiscoveryFormRpcMethodNames.OnSampleDataItemClick = "dataDiscoveryFormCallbacks.onSampleDataItemClick";
        }(DataDiscoveryFormRpcMethodNames || (DataDiscoveryFormRpcMethodNames = {})), function(DataPreviewRpcMethodNames) {
            DataPreviewRpcMethodNames.OnEvaluationEnded = "dataPreview.onEvaluationEnded", DataPreviewRpcMethodNames.OnEvaluationStarted = "dataPreview.onEvaluationStarted", 
            DataPreviewRpcMethodNames.OnQueryScriptChange = "dataPreview.onQueryScriptChange", 
            DataPreviewRpcMethodNames.OnTableSelectionChanged = "dataPreview.onTableSelectionChanged";
        }(DataPreviewRpcMethodNames || (DataPreviewRpcMethodNames = {})), function(FlowControlRpcMethodNames) {
            FlowControlRpcMethodNames.OnControlStateChanged = "flowControlRpcMethodNames.onControlStateChanged";
        }(FlowControlRpcMethodNames || (FlowControlRpcMethodNames = {})), function(HostCommandsRpcMethodNames) {
            HostCommandsRpcMethodNames.OnCommandExecuted = "hostCommandsCallbacks.onCommandExecuted";
        }(HostCommandsRpcMethodNames || (HostCommandsRpcMethodNames = {})), function(HostPopupsRpcMethodNames) {
            HostPopupsRpcMethodNames.GetLoginSuccessRedirectUri = "hostPopupsCallbacks.getLoginSuccessRedirectUri", 
            HostPopupsRpcMethodNames.OpenHostPopup = "hostPopupsCallbacks.openHostPopup";
        }(HostPopupsRpcMethodNames || (HostPopupsRpcMethodNames = {})), function(ManageConnectionsFlowRpcMethodNames) {
            ManageConnectionsFlowRpcMethodNames.OnUnlinkConnection = "manageConnectionsFlowCallbacks.onUnlinkConnection";
        }(ManageConnectionsFlowRpcMethodNames || (ManageConnectionsFlowRpcMethodNames = {})), 
        function(MappingEditorRpcMethodNames) {
            MappingEditorRpcMethodNames.GenerateNewEntityFieldNames = "mappingEditorCallbacks.generateNewEntityFieldNames", 
            MappingEditorRpcMethodNames.GenerateNewEntityNames = "mappingEditorCallbacks.generateNewEntityNames", 
            MappingEditorRpcMethodNames.GetEntities = "mappingEditorCallbacks.getEntities", 
            MappingEditorRpcMethodNames.GetEntityFields = "mappingEditorCallbacks.getEntityFields", 
            MappingEditorRpcMethodNames.GetEntityKeys = "mappingEditorCallbacks.getEntityKeys", 
            MappingEditorRpcMethodNames.ValidateMappingEditorResult = "mappingEditorCallbacks.validateMappingEditorResult";
        }(MappingEditorRpcMethodNames || (MappingEditorRpcMethodNames = {})), function(MappingRpcMethodNames) {
            MappingRpcMethodNames.GetEntityTypeFields = "mappingCallbacks.getEntityTypeFields", 
            MappingRpcMethodNames.GetEntityTypes = "mappingCallbacks.getEntityTypes";
        }(MappingRpcMethodNames || (MappingRpcMethodNames = {})), function(MappingV2RpcMethodNames) {
            MappingV2RpcMethodNames.GetEntityDefinitionFromEntityPath = "mappingCallbacksV2.getEntityDefinitionFromEntityPath", 
            MappingV2RpcMethodNames.GetManifestDefinitionFromManifestPath = "mappingCallbacksV2.getManifestDefinitionFromManifestPath", 
            MappingV2RpcMethodNames.GetRootManifestDefinition = "mappingCallbacksV2.getRootManifestDefinition";
        }(MappingV2RpcMethodNames || (MappingV2RpcMethodNames = {})), function(MashupEditorClientRpcMethodNames) {
            MashupEditorClientRpcMethodNames.GetMashupSensitivityLabel = "mashupEditorClientCallbacks.getMashupSensitivityLabel", 
            MashupEditorClientRpcMethodNames.OnComputeEngineSettingsChanged = "mashupEditorClientCallbacks.onComputeEngineSettingsChanged", 
            MashupEditorClientRpcMethodNames.OnEditingSessionMashupChanged = "mashupEditorClientCallbacks.onEditingSessionMashupChanged", 
            MashupEditorClientRpcMethodNames.OnEditingSessionMashupInitialized = "mashupEditorClientCallbacks.onEditingSessionMashupInitialized", 
            MashupEditorClientRpcMethodNames.OnMashupEditorClick = "mashupEditorClientCallbacks.onMashupEditorClick", 
            MashupEditorClientRpcMethodNames.RenameMashup = "mashupEditorClientCallbacks.renameMashup";
        }(MashupEditorClientRpcMethodNames || (MashupEditorClientRpcMethodNames = {})), 
        function(PowerBIDataMartRpcMethodNames) {
            PowerBIDataMartRpcMethodNames.OnNewSqlQueryButtonClicked = "powerBIDataMart.onNewSqlQueryButtonClicked", 
            PowerBIDataMartRpcMethodNames.OnNewVisualQueryButtonClicked = "powerBIDataMart.onNewVisualQueryButtonClicked", 
            PowerBIDataMartRpcMethodNames.OnSaveAsViewButtonClicked = "powerBIDataMart.onSaveAsViewButtonClicked", 
            PowerBIDataMartRpcMethodNames.OnViewSqlButtonClicked = "powerBIDataMart.onViewSqlButtonClicked", 
            PowerBIDataMartRpcMethodNames.OnVisualizeResultButtonClicked = "powerBIDataMart.onVisualizeResultButtonClicked";
        }(PowerBIDataMartRpcMethodNames || (PowerBIDataMartRpcMethodNames = {})), function(QueryEditorPreviewButtonsRpcMethodNames) {
            QueryEditorPreviewButtonsRpcMethodNames.OnDownloadExcelFileButtonClick = "queryEditorPreviewButtonsCallbacks.onDownloadExcelFileButtonClick", 
            QueryEditorPreviewButtonsRpcMethodNames.OnSaveAsTableButtonClick = "queryEditorPreviewButtonsCallbacks.onSaveAsTableButtonClick", 
            QueryEditorPreviewButtonsRpcMethodNames.OnSaveAsViewButtonClick = "queryEditorPreviewButtonsCallbacks.onSaveAsViewButtonClick", 
            QueryEditorPreviewButtonsRpcMethodNames.OnVisualizeResultsButtonClick = "queryEditorPreviewButtonsCallbacks.onVisualizeResultsButtonClick";
        }(QueryEditorPreviewButtonsRpcMethodNames || (QueryEditorPreviewButtonsRpcMethodNames = {})), 
        function(QueryEditorRpcMethodNames) {
            QueryEditorRpcMethodNames.OnCommandBarPopupButtonClick = "queryEditorCallbacks.onCommandBarPopupButtonClick", 
            QueryEditorRpcMethodNames.OnDiagramViewCommandBarPopupButtonClick = "queryEditorCallbacks.onDiagramViewCommandBarPopupButtonClick", 
            QueryEditorRpcMethodNames.OnOpenInExcelButtonClick = "queryEditorCallbacks.onOpenInExcelButtonClick", 
            QueryEditorRpcMethodNames.ValidateQuery = "queryEditorCallbacks.validateQuery", 
            QueryEditorRpcMethodNames.ValidateQueryNameInteractive = "queryEditorCallbacks.validateQueryNameInteractive";
        }(QueryEditorRpcMethodNames || (QueryEditorRpcMethodNames = {})), function(UserSettingsStorageRpcMethodNames) {
            UserSettingsStorageRpcMethodNames.GetUserSettings = "userSettings.getUserSettings", 
            UserSettingsStorageRpcMethodNames.SetUserSettings = "userSettings.setUserSettings";
        }(UserSettingsStorageRpcMethodNames || (UserSettingsStorageRpcMethodNames = {}));
        var MashupEditorServiceRpcMethodNames, MashupEditorClientRpcEndpoint = function() {
            function MashupEditorClientRpcEndpoint(clientRpcChannel, clientRpcEndpointHost, client, configuration, clientStartTime) {
                this.clientRpcChannel = clientRpcChannel, this.clientRpcEndpointHost = clientRpcEndpointHost, 
                this.client = client, this.configuration = configuration, this.clientStartTime = clientStartTime, 
                this.registerRpcMethods();
            }
            var _proto = MashupEditorClientRpcEndpoint.prototype;
            return _proto.dispose = function() {
                this.unregisterRpcMethods();
            }, _proto.registerRpcMethods = function() {
                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _this = this;
                this.register("acquireToken", function(resource) {
                    return _this.configuration.acquireToken(resource);
                }), this.register("getClientStartTime", function() {
                    return _this.clientStartTime;
                }), this.register("getSettings", function() {
                    return _this.configuration.editorSettings;
                }), this.register("getVersion", function() {
                    return "22.28.0";
                }), this.register("hasMappingCallbacks", function() {
                    return null != _this.configuration.mappingCallbacks;
                }), this.register("hasMappingCallbacksV2", function() {
                    return null != _this.configuration.mappingCallbacksV2;
                }), this.register("onAppReady", function() {
                    return _this.clientRpcEndpointHost.onAppReady();
                }), this.register("onCancel", function() {
                    return _this.clientRpcEndpointHost.onCancelCurrentFlow();
                }), this.register("onCommit", function() {}), this.register("onCommit2", function(result) {
                    return _this.clientRpcEndpointHost.onCommitCurrentFlow(result);
                }), this.register("onFlowReady", function() {
                    return _this.clientRpcEndpointHost.onCurrentFlowReady();
                }), (null === (_a = this.configuration.browseMashupCallbacks) || void 0 === _a ? void 0 : _a.getEntityQueryScript) && this.register(BrowseMashupRpcMethodNames.GetEntityQueryScript, this.configuration.browseMashupCallbacks.getEntityQueryScript), 
                (null === (_b = this.configuration.computeEngineCallbacks) || void 0 === _b ? void 0 : _b.getInitialComputeEngineSettings) && this.register(ComputeEngineRpcMethodNames.GetInitialComputeEngineSettings, this.configuration.computeEngineCallbacks.getInitialComputeEngineSettings), 
                (null === (_c = this.configuration.createConnectionFlowClientCallbacks) || void 0 === _c ? void 0 : _c.onStateChanged) && this.register(CreateConnectionFlowRpcMethodNames.OnStateChanged, this.configuration.createConnectionFlowClientCallbacks.onStateChanged), 
                (null === (_d = this.configuration.dataPreviewCallbacks) || void 0 === _d ? void 0 : _d.onEvaluationEnded) && this.register(DataPreviewRpcMethodNames.OnEvaluationEnded, this.configuration.dataPreviewCallbacks.onEvaluationEnded), 
                (null === (_e = this.configuration.dataPreviewCallbacks) || void 0 === _e ? void 0 : _e.onEvaluationStarted) && this.register(DataPreviewRpcMethodNames.OnEvaluationStarted, this.configuration.dataPreviewCallbacks.onEvaluationStarted), 
                (null === (_f = this.configuration.dataPreviewCallbacks) || void 0 === _f ? void 0 : _f.onQueryScriptChange) && this.register(DataPreviewRpcMethodNames.OnQueryScriptChange, this.configuration.dataPreviewCallbacks.onQueryScriptChange), 
                (null === (_g = this.configuration.dataPreviewCallbacks) || void 0 === _g ? void 0 : _g.onTableSelectionChanged) && this.register(DataPreviewRpcMethodNames.OnTableSelectionChanged, this.configuration.dataPreviewCallbacks.onTableSelectionChanged), 
                (null === (_h = this.configuration.flowControlCallbacks) || void 0 === _h ? void 0 : _h.onControlStateChanged) && this.register(FlowControlRpcMethodNames.OnControlStateChanged, function() {
                    var _a;
                    return null === (_a = _this.configuration.flowControlCallbacks) || void 0 === _a ? void 0 : _a.onControlStateChanged(_this.client);
                }), (null === (_j = this.configuration.hostPopupsCallbacks) || void 0 === _j ? void 0 : _j.getLoginSuccessRedirectUri) && this.register(HostPopupsRpcMethodNames.GetLoginSuccessRedirectUri, this.configuration.hostPopupsCallbacks.getLoginSuccessRedirectUri), 
                (null === (_k = this.configuration.hostPopupsCallbacks) || void 0 === _k ? void 0 : _k.openHostPopup) && this.register(HostPopupsRpcMethodNames.OpenHostPopup, this.configuration.hostPopupsCallbacks.openHostPopup), 
                (null === (_l = this.configuration.hostCommandsCallbacks) || void 0 === _l ? void 0 : _l.onCommandExecuted) && this.register(HostCommandsRpcMethodNames.OnCommandExecuted, this.configuration.hostCommandsCallbacks.onCommandExecuted), 
                (null === (_m = this.configuration.manageConnectionsFlowCallbacks) || void 0 === _m ? void 0 : _m.onUnlinkConnection) && this.register(ManageConnectionsFlowRpcMethodNames.OnUnlinkConnection, this.configuration.manageConnectionsFlowCallbacks.onUnlinkConnection), 
                (null === (_o = this.configuration.mappingEditorCallbacks) || void 0 === _o ? void 0 : _o.generateNewEntityFieldNames) && this.register(MappingEditorRpcMethodNames.GenerateNewEntityFieldNames, this.configuration.mappingEditorCallbacks.generateNewEntityFieldNames), 
                (null === (_p = this.configuration.mappingEditorCallbacks) || void 0 === _p ? void 0 : _p.generateNewEntityNames) && this.register(MappingEditorRpcMethodNames.GenerateNewEntityNames, this.configuration.mappingEditorCallbacks.generateNewEntityNames), 
                (null === (_q = this.configuration.mappingEditorCallbacks) || void 0 === _q ? void 0 : _q.getEntities) && this.register(MappingEditorRpcMethodNames.GetEntities, this.configuration.mappingEditorCallbacks.getEntities), 
                (null === (_r = this.configuration.mappingEditorCallbacks) || void 0 === _r ? void 0 : _r.getEntityFields) && this.register(MappingEditorRpcMethodNames.GetEntityFields, this.configuration.mappingEditorCallbacks.getEntityFields), 
                (null === (_s = this.configuration.mappingEditorCallbacks) || void 0 === _s ? void 0 : _s.getEntityKeys) && this.register(MappingEditorRpcMethodNames.GetEntityKeys, this.configuration.mappingEditorCallbacks.getEntityKeys), 
                (null === (_t = this.configuration.mappingEditorCallbacks) || void 0 === _t ? void 0 : _t.validateMappingEditorResult) && this.register(MappingEditorRpcMethodNames.ValidateMappingEditorResult, this.configuration.mappingEditorCallbacks.validateMappingEditorResult), 
                (null === (_u = this.configuration.mappingCallbacks) || void 0 === _u ? void 0 : _u.getEntityTypeFields) && this.register(MappingRpcMethodNames.GetEntityTypeFields, this.configuration.mappingCallbacks.getEntityTypeFields), 
                (null === (_v = this.configuration.mappingCallbacks) || void 0 === _v ? void 0 : _v.getEntityTypes) && this.register(MappingRpcMethodNames.GetEntityTypes, null === (_w = this.configuration.mappingCallbacks) || void 0 === _w ? void 0 : _w.getEntityTypes), 
                (null === (_x = this.configuration.mappingCallbacksV2) || void 0 === _x ? void 0 : _x.getEntityDefinitionFromEntityPath) && this.register(MappingV2RpcMethodNames.GetEntityDefinitionFromEntityPath, this.configuration.mappingCallbacksV2.getEntityDefinitionFromEntityPath), 
                (null === (_y = this.configuration.mappingCallbacksV2) || void 0 === _y ? void 0 : _y.getManifestDefinitionFromManifestPath) && this.register(MappingV2RpcMethodNames.GetManifestDefinitionFromManifestPath, this.configuration.mappingCallbacksV2.getManifestDefinitionFromManifestPath), 
                (null === (_z = this.configuration.mappingCallbacksV2) || void 0 === _z ? void 0 : _z.getRootManifestDefinition) && this.register(MappingV2RpcMethodNames.GetRootManifestDefinition, null === (_0 = this.configuration.mappingCallbacksV2) || void 0 === _0 ? void 0 : _0.getRootManifestDefinition), 
                (null === (_1 = this.configuration.mashupEditorClientCallbacks) || void 0 === _1 ? void 0 : _1.getMashupSensitivityLabel) && this.register(MashupEditorClientRpcMethodNames.GetMashupSensitivityLabel, this.configuration.mashupEditorClientCallbacks.getMashupSensitivityLabel), 
                (null === (_2 = this.configuration.mashupEditorClientCallbacks) || void 0 === _2 ? void 0 : _2.onComputeEngineSettingsChanged) && this.register(MashupEditorClientRpcMethodNames.OnComputeEngineSettingsChanged, this.configuration.mashupEditorClientCallbacks.onComputeEngineSettingsChanged), 
                (null === (_3 = this.configuration.mashupEditorClientCallbacks) || void 0 === _3 ? void 0 : _3.onEditingSessionMashupChanged) && this.register(MashupEditorClientRpcMethodNames.OnEditingSessionMashupChanged, this.configuration.mashupEditorClientCallbacks.onEditingSessionMashupChanged), 
                (null === (_4 = this.configuration.mashupEditorClientCallbacks) || void 0 === _4 ? void 0 : _4.onEditingSessionMashupInitialized) && this.register(MashupEditorClientRpcMethodNames.OnEditingSessionMashupInitialized, this.configuration.mashupEditorClientCallbacks.onEditingSessionMashupInitialized), 
                (null === (_5 = this.configuration.mashupEditorClientCallbacks) || void 0 === _5 ? void 0 : _5.onMashupEditorClick) && this.register(MashupEditorClientRpcMethodNames.OnMashupEditorClick, null === (_6 = this.configuration.mashupEditorClientCallbacks) || void 0 === _6 ? void 0 : _6.onMashupEditorClick), 
                (null === (_7 = this.configuration.mashupEditorClientCallbacks) || void 0 === _7 ? void 0 : _7.renameMashup) && this.register(MashupEditorClientRpcMethodNames.RenameMashup, this.configuration.mashupEditorClientCallbacks.renameMashup), 
                (null === (_8 = this.configuration.powerBIDataMartCallbacks) || void 0 === _8 ? void 0 : _8.onNewSqlQueryButtonClicked) && this.register(PowerBIDataMartRpcMethodNames.OnNewSqlQueryButtonClicked, this.configuration.powerBIDataMartCallbacks.onNewSqlQueryButtonClicked), 
                (null === (_9 = this.configuration.powerBIDataMartCallbacks) || void 0 === _9 ? void 0 : _9.onNewVisualQueryButtonClicked) && this.register(PowerBIDataMartRpcMethodNames.OnNewVisualQueryButtonClicked, this.configuration.powerBIDataMartCallbacks.onNewVisualQueryButtonClicked), 
                (null === (_10 = this.configuration.powerBIDataMartCallbacks) || void 0 === _10 ? void 0 : _10.onSaveAsViewButtonClicked) && this.register(PowerBIDataMartRpcMethodNames.OnSaveAsViewButtonClicked, this.configuration.powerBIDataMartCallbacks.onSaveAsViewButtonClicked), 
                (null === (_11 = this.configuration.powerBIDataMartCallbacks) || void 0 === _11 ? void 0 : _11.onViewSqlButtonClicked) && this.register(PowerBIDataMartRpcMethodNames.OnViewSqlButtonClicked, this.configuration.powerBIDataMartCallbacks.onViewSqlButtonClicked), 
                (null === (_12 = this.configuration.powerBIDataMartCallbacks) || void 0 === _12 ? void 0 : _12.onVisualizeResultButtonClicked) && this.register(PowerBIDataMartRpcMethodNames.OnVisualizeResultButtonClicked, this.configuration.powerBIDataMartCallbacks.onVisualizeResultButtonClicked), 
                (null === (_13 = this.configuration.queryEditorCallbacks) || void 0 === _13 ? void 0 : _13.onCommandBarPopupButtonClick) && this.register(QueryEditorRpcMethodNames.OnCommandBarPopupButtonClick, function() {
                    var _a;
                    return ensureDefined(null === (_a = _this.configuration.queryEditorCallbacks) || void 0 === _a ? void 0 : _a.onCommandBarPopupButtonClick)(_this.client);
                }), (null === (_14 = this.configuration.queryEditorCallbacks) || void 0 === _14 ? void 0 : _14.onDiagramViewCommandBarPopupButtonClick) && this.register(QueryEditorRpcMethodNames.OnDiagramViewCommandBarPopupButtonClick, function() {
                    var _a;
                    return ensureDefined(null === (_a = _this.configuration.queryEditorCallbacks) || void 0 === _a ? void 0 : _a.onDiagramViewCommandBarPopupButtonClick)(_this.client);
                }), (null === (_15 = this.configuration.queryEditorCallbacks) || void 0 === _15 ? void 0 : _15.onOpenInExcelButtonClick) && this.register(QueryEditorRpcMethodNames.OnOpenInExcelButtonClick, function(queryName) {
                    var _a;
                    return ensureDefined(null === (_a = _this.configuration.queryEditorCallbacks) || void 0 === _a ? void 0 : _a.onOpenInExcelButtonClick)(_this.client, queryName);
                }), (null === (_16 = this.configuration.queryEditorCallbacks) || void 0 === _16 ? void 0 : _16.validateQuery) && this.register(QueryEditorRpcMethodNames.ValidateQuery, function(queryName) {
                    var _a;
                    return ensureDefined(null === (_a = _this.configuration.queryEditorCallbacks) || void 0 === _a ? void 0 : _a.validateQuery)(_this.client, queryName);
                }), (null === (_17 = this.configuration.queryEditorCallbacks) || void 0 === _17 ? void 0 : _17.validateQueryNameInteractive) && this.register(QueryEditorRpcMethodNames.ValidateQueryNameInteractive, function(queryName) {
                    var _a;
                    return ensureDefined(null === (_a = _this.configuration.queryEditorCallbacks) || void 0 === _a ? void 0 : _a.validateQueryNameInteractive)(_this.client, queryName);
                }), (null === (_18 = this.configuration.queryEditorPreviewButtonsCallbacks) || void 0 === _18 ? void 0 : _18.onDownloadExcelFileButtonClick) && this.register(QueryEditorPreviewButtonsRpcMethodNames.OnDownloadExcelFileButtonClick, function(queryName) {
                    var _a;
                    return ensureDefined(null === (_a = _this.configuration.queryEditorPreviewButtonsCallbacks) || void 0 === _a ? void 0 : _a.onDownloadExcelFileButtonClick)(queryName);
                }), (null === (_19 = this.configuration.queryEditorPreviewButtonsCallbacks) || void 0 === _19 ? void 0 : _19.onSaveAsTableButtonClick) && this.register(QueryEditorPreviewButtonsRpcMethodNames.OnSaveAsTableButtonClick, function(queryName) {
                    var _a;
                    return ensureDefined(null === (_a = _this.configuration.queryEditorPreviewButtonsCallbacks) || void 0 === _a ? void 0 : _a.onSaveAsTableButtonClick)(queryName);
                }), (null === (_20 = this.configuration.queryEditorPreviewButtonsCallbacks) || void 0 === _20 ? void 0 : _20.onSaveAsViewButtonClick) && this.register(QueryEditorPreviewButtonsRpcMethodNames.OnSaveAsViewButtonClick, function(queryName) {
                    var _a;
                    return ensureDefined(null === (_a = _this.configuration.queryEditorPreviewButtonsCallbacks) || void 0 === _a ? void 0 : _a.onSaveAsViewButtonClick)(queryName);
                }), (null === (_21 = this.configuration.queryEditorPreviewButtonsCallbacks) || void 0 === _21 ? void 0 : _21.onVisualizeResultsButtonClick) && this.register(QueryEditorPreviewButtonsRpcMethodNames.OnVisualizeResultsButtonClick, function(queryName) {
                    var _a;
                    return ensureDefined(null === (_a = _this.configuration.queryEditorPreviewButtonsCallbacks) || void 0 === _a ? void 0 : _a.onVisualizeResultsButtonClick)(queryName);
                }), (null === (_22 = this.configuration.userSettingsStorageCallbacks) || void 0 === _22 ? void 0 : _22.getUserSettings) && this.register(UserSettingsStorageRpcMethodNames.GetUserSettings, this.configuration.userSettingsStorageCallbacks.getUserSettings), 
                (null === (_23 = this.configuration.userSettingsStorageCallbacks) || void 0 === _23 ? void 0 : _23.setUserSettings) && this.register(UserSettingsStorageRpcMethodNames.SetUserSettings, this.configuration.userSettingsStorageCallbacks.setUserSettings), 
                (null === (_24 = this.configuration.dataDiscoveryFormCallbacks) || void 0 === _24 ? void 0 : _24.onSampleDataItemClick) && this.register(DataDiscoveryFormRpcMethodNames.OnSampleDataItemClick, function(id) {
                    var _a;
                    return ensureDefined(null === (_a = _this.configuration.dataDiscoveryFormCallbacks) || void 0 === _a ? void 0 : _a.onSampleDataItemClick)(id);
                });
            }, _proto.unregisterRpcMethods = function() {
                this.unregister("acquireToken"), this.unregister("getClientStartTime"), this.unregister("getSettings"), 
                this.unregister("getVersion"), this.unregister("onAppReady"), this.unregister("onCancel"), 
                this.unregister("onCommit"), this.unregister("onFlowReady"), this.unregister(BrowseMashupRpcMethodNames.GetEntityQueryScript), 
                this.unregister(ComputeEngineRpcMethodNames.GetInitialComputeEngineSettings), this.unregister(CreateConnectionFlowRpcMethodNames.OnStateChanged), 
                this.unregister(DataPreviewRpcMethodNames.OnEvaluationEnded), this.unregister(DataPreviewRpcMethodNames.OnEvaluationStarted), 
                this.unregister(DataPreviewRpcMethodNames.OnQueryScriptChange), this.unregister(DataPreviewRpcMethodNames.OnTableSelectionChanged), 
                this.unregister(HostPopupsRpcMethodNames.GetLoginSuccessRedirectUri), this.unregister(HostPopupsRpcMethodNames.OpenHostPopup), 
                this.unregister(HostCommandsRpcMethodNames.OnCommandExecuted), this.unregister(ManageConnectionsFlowRpcMethodNames.OnUnlinkConnection), 
                this.unregister(MappingEditorRpcMethodNames.GenerateNewEntityFieldNames), this.unregister(MappingEditorRpcMethodNames.GenerateNewEntityNames), 
                this.unregister(MappingEditorRpcMethodNames.GetEntities), this.unregister(MappingEditorRpcMethodNames.GetEntityFields), 
                this.unregister(MappingEditorRpcMethodNames.GetEntityKeys), this.unregister(MappingEditorRpcMethodNames.ValidateMappingEditorResult), 
                this.unregister(MappingRpcMethodNames.GetEntityTypeFields), this.unregister(MappingRpcMethodNames.GetEntityTypes), 
                this.unregister(MappingV2RpcMethodNames.GetEntityDefinitionFromEntityPath), this.unregister(MappingV2RpcMethodNames.GetManifestDefinitionFromManifestPath), 
                this.unregister(MappingV2RpcMethodNames.GetRootManifestDefinition), this.unregister(MashupEditorClientRpcMethodNames.GetMashupSensitivityLabel), 
                this.unregister(MashupEditorClientRpcMethodNames.OnComputeEngineSettingsChanged), 
                this.unregister(MashupEditorClientRpcMethodNames.OnEditingSessionMashupChanged), 
                this.unregister(MashupEditorClientRpcMethodNames.OnEditingSessionMashupInitialized), 
                this.unregister(MashupEditorClientRpcMethodNames.OnMashupEditorClick), this.unregister(MashupEditorClientRpcMethodNames.RenameMashup), 
                this.unregister(PowerBIDataMartRpcMethodNames.OnNewSqlQueryButtonClicked), this.unregister(PowerBIDataMartRpcMethodNames.OnNewVisualQueryButtonClicked), 
                this.unregister(PowerBIDataMartRpcMethodNames.OnSaveAsViewButtonClicked), this.unregister(PowerBIDataMartRpcMethodNames.OnViewSqlButtonClicked), 
                this.unregister(PowerBIDataMartRpcMethodNames.OnVisualizeResultButtonClicked), this.unregister(QueryEditorRpcMethodNames.OnCommandBarPopupButtonClick), 
                this.unregister(QueryEditorRpcMethodNames.OnDiagramViewCommandBarPopupButtonClick), 
                this.unregister(QueryEditorRpcMethodNames.OnOpenInExcelButtonClick), this.unregister(QueryEditorRpcMethodNames.ValidateQuery), 
                this.unregister(QueryEditorRpcMethodNames.ValidateQueryNameInteractive), this.unregister(QueryEditorPreviewButtonsRpcMethodNames.OnDownloadExcelFileButtonClick), 
                this.unregister(QueryEditorPreviewButtonsRpcMethodNames.OnSaveAsTableButtonClick), 
                this.unregister(QueryEditorPreviewButtonsRpcMethodNames.OnSaveAsViewButtonClick), 
                this.unregister(QueryEditorPreviewButtonsRpcMethodNames.OnVisualizeResultsButtonClick), 
                this.unregister(UserSettingsStorageRpcMethodNames.GetUserSettings), this.unregister(UserSettingsStorageRpcMethodNames.SetUserSettings), 
                this.unregister(DataDiscoveryFormRpcMethodNames.OnSampleDataItemClick);
            }, _proto.register = function(methodName, callback) {
                this.clientRpcChannel.register(methodName, callback);
            }, _proto.unregister = function(methodName) {
                this.clientRpcChannel.unregister(methodName);
            }, MashupEditorClientRpcEndpoint;
        }();
        !function(MashupEditorServiceRpcMethodNames) {
            MashupEditorServiceRpcMethodNames.ActivateQuery = "activateQuery", MashupEditorServiceRpcMethodNames.AddQuery = "addQuery", 
            MashupEditorServiceRpcMethodNames.CancelAddQueriesFlow = "cancelAddQueriesFlow", 
            MashupEditorServiceRpcMethodNames.ClickCancelButton = "clickCancelButton", MashupEditorServiceRpcMethodNames.ClickCommitButton = "clickCommitButton", 
            MashupEditorServiceRpcMethodNames.ClickCustomButton = "clickCustomButton", MashupEditorServiceRpcMethodNames.ClickNextStageButton = "clickNextStageButton", 
            MashupEditorServiceRpcMethodNames.ClickPreviousStageButton = "clickPreviousStageButton", 
            MashupEditorServiceRpcMethodNames.CreateConnectionFlow_Commit = "createConnectionFlow_commit", 
            MashupEditorServiceRpcMethodNames.DataPreview_CancelCurrentQueryEvaluation = "dataPreview_cancelCurrentQueryEvaluation", 
            MashupEditorServiceRpcMethodNames.DataPreview_SelectColumns = "dataPreview_selectColumns", 
            MashupEditorServiceRpcMethodNames.DeleteAllQueries = "deleteAllQueries", MashupEditorServiceRpcMethodNames.DisposeService = "disposeService", 
            MashupEditorServiceRpcMethodNames.EndFlow = "endFlow", MashupEditorServiceRpcMethodNames.GetActiveQueryName = "getActiveQueryName", 
            MashupEditorServiceRpcMethodNames.GetCancelButtonLabel = "getCancelButtonLabel", 
            MashupEditorServiceRpcMethodNames.GetCommitButtonLabel = "getCommitButtonLabel", 
            MashupEditorServiceRpcMethodNames.GetCommitResult = "getCommitResult", MashupEditorServiceRpcMethodNames.GetComputeEngineSettings = "getComputeEngineSettings", 
            MashupEditorServiceRpcMethodNames.GetCurrentFlow = "getCurrentFlow", MashupEditorServiceRpcMethodNames.GetCustomButtonLabel = "getCustomButtonLabel", 
            MashupEditorServiceRpcMethodNames.GetDataSourceQueryScript = "getDataSourceQueryScript", 
            MashupEditorServiceRpcMethodNames.GetDataWizardFooter_ClickCancelButton = "getDataWizardFooter_clickCancelButton", 
            MashupEditorServiceRpcMethodNames.GetDataWizardFooter_ClickCommitButton = "getDataWizardFooter_clickCommitButton", 
            MashupEditorServiceRpcMethodNames.GetDataWizardFooter_ClickCustomButton = "getDataWizardFooter_clickCustomButton", 
            MashupEditorServiceRpcMethodNames.GetDataWizardFooter_ClickNextStageButton = "getDataWizardFooter_clickNextStageButton", 
            MashupEditorServiceRpcMethodNames.GetDataWizardFooter_ClickPreviousStageButton = "getDataWizardFooter_clickPreviousStageButton", 
            MashupEditorServiceRpcMethodNames.GetEditingSessionId = "getEditingSessionId", MashupEditorServiceRpcMethodNames.GetEditingSessionMashup = "getEditingSessionMashup", 
            MashupEditorServiceRpcMethodNames.GetFooterMessage = "getFooterMessage", MashupEditorServiceRpcMethodNames.GetGetDataWizardFlowStage = "getGetDataWizardFlowStage", 
            MashupEditorServiceRpcMethodNames.GetIncrementalRefreshSettings = "getIncrementalRefreshSettings", 
            MashupEditorServiceRpcMethodNames.GetMashupGatewayVersion = "getMashupGatewayVersion", 
            MashupEditorServiceRpcMethodNames.GetNextStageButtonLabel = "getNextStageButtonLabel", 
            MashupEditorServiceRpcMethodNames.GetPreviousStageButtonLabel = "getPreviousStageButtonLabel", 
            MashupEditorServiceRpcMethodNames.GetQueriesInfo = "getQueriesInfo", MashupEditorServiceRpcMethodNames.GetQueryEditorState = "getQueryEditorState", 
            MashupEditorServiceRpcMethodNames.GetQueryEditorStateOrThrow = "getQueryEditorStateOrThrow", 
            MashupEditorServiceRpcMethodNames.GetQueryNames = "getQueryNames", MashupEditorServiceRpcMethodNames.GetQueryScript = "getQueryScript", 
            MashupEditorServiceRpcMethodNames.GetReadyState = "getReadyState", MashupEditorServiceRpcMethodNames.GetRefreshSettings = "getRefreshSettings", 
            MashupEditorServiceRpcMethodNames.GetSelectedStepName = "getSelectedStepName", MashupEditorServiceRpcMethodNames.GetUserSettings = "getUserSettings", 
            MashupEditorServiceRpcMethodNames.IsCancelButtonEnabled = "isCancelButtonEnabled", 
            MashupEditorServiceRpcMethodNames.IsCancelButtonVisible = "isCancelButtonVisible", 
            MashupEditorServiceRpcMethodNames.IsCommitButtonEnabled = "isCommitButtonEnabled", 
            MashupEditorServiceRpcMethodNames.IsCommitButtonVisible = "isCommitButtonVisible", 
            MashupEditorServiceRpcMethodNames.IsCustomButtonEnabled = "isCustomButtonEnabled", 
            MashupEditorServiceRpcMethodNames.IsCustomButtonVisible = "isCustomButtonVisible", 
            MashupEditorServiceRpcMethodNames.IsDialogVisible = "isDialogVisible", MashupEditorServiceRpcMethodNames.IsFeatureSupported = "isFeatureSupported", 
            MashupEditorServiceRpcMethodNames.IsFooterOverlayVisible = "isFooterOverlayVisible", 
            MashupEditorServiceRpcMethodNames.IsNextStageButtonEnabled = "isNextStageButtonEnabled", 
            MashupEditorServiceRpcMethodNames.IsNextStageButtonVisible = "isNextStageButtonVisible", 
            MashupEditorServiceRpcMethodNames.IsPreviousStageButtonEnabled = "isPreviousStageButtonEnabled", 
            MashupEditorServiceRpcMethodNames.IsPreviousStageButtonVisible = "isPreviousStageButtonVisible", 
            MashupEditorServiceRpcMethodNames.LogXFramePerformanceMarks = "logXFramePerformanceMarks", 
            MashupEditorServiceRpcMethodNames.OnHostPopupCancelled = "onHostPopupCancelled", 
            MashupEditorServiceRpcMethodNames.RefreshActiveQueryResult = "refreshActiveQueryResult", 
            MashupEditorServiceRpcMethodNames.SetCommitButtonEnabledStatePolicy = "setCommitButtonEnabledStatePolicy", 
            MashupEditorServiceRpcMethodNames.SetUserSettings = "setUserSettings", MashupEditorServiceRpcMethodNames.StartFlow = "startFlow", 
            MashupEditorServiceRpcMethodNames.TrySetQueryScript = "trySetQueryScript";
        }(MashupEditorServiceRpcMethodNames || (MashupEditorServiceRpcMethodNames = {}));
        var MashupEditorServiceRpcProxy = function() {
            function MashupEditorServiceRpcProxy(clientRpcChannel) {
                this.clientRpcChannel = clientRpcChannel;
            }
            var _proto = MashupEditorServiceRpcProxy.prototype;
            return _proto.activateQuery = function(queryName) {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.ActivateQuery, [ queryName ]);
            }, _proto.addQuery = function(queryName, queryScript, loadEnabled) {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.AddQuery, [ queryName, queryScript, loadEnabled ]);
            }, _proto.endFlow = function() {
                return this.clientRpcChannel.callIfSupported(MashupEditorServiceRpcMethodNames.EndFlow);
            }, _proto.cancelAddQueriesFlow = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.CancelAddQueriesFlow);
            }, _proto.clickCancelButton = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.ClickCancelButton);
            }, _proto.clickCommitButton = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.ClickCommitButton);
            }, _proto.clickCustomButton = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.ClickCustomButton);
            }, _proto.clickNextStageButton = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.ClickNextStageButton);
            }, _proto.clickPreviousStageButton = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.ClickPreviousStageButton);
            }, _proto.createConnectionFlow_commit = function(shouldTestConnection) {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.CreateConnectionFlow_Commit, [ shouldTestConnection ]);
            }, _proto.dataPreview_cancelCurrentQueryEvaluation = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.DataPreview_CancelCurrentQueryEvaluation);
            }, _proto.dataPreview_selectColumns = function(columnNames) {
                return this.clientRpcChannel.callIfSupported(MashupEditorServiceRpcMethodNames.DataPreview_SelectColumns, [ columnNames ]);
            }, _proto.deleteAllQueries = function() {
                return this.clientRpcChannel.callIfSupported(MashupEditorServiceRpcMethodNames.DeleteAllQueries);
            }, _proto.disposeService = function() {
                return this.clientRpcChannel.callIfSupported(MashupEditorServiceRpcMethodNames.DisposeService);
            }, _proto.getActiveQueryName = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetActiveQueryName);
            }, _proto.getCancelButtonLabel = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetCancelButtonLabel);
            }, _proto.getCommitButtonLabel = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetCommitButtonLabel);
            }, _proto.getCustomButtonLabel = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetCustomButtonLabel);
            }, _proto.getCommitResult = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetCommitResult);
            }, _proto.getComputeEngineSettings = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetComputeEngineSettings);
            }, _proto.getCurrentFlow = function() {
                return this.clientRpcChannel.callIfSupported(MashupEditorServiceRpcMethodNames.GetCurrentFlow);
            }, _proto.getDataSourceQueryScript = function(queryName, stepName) {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetDataSourceQueryScript, [ queryName, stepName ]);
            }, _proto.getDataWizardFooter_clickCancelButton = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetDataWizardFooter_ClickCancelButton);
            }, _proto.getDataWizardFooter_clickCommitButton = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetDataWizardFooter_ClickCommitButton);
            }, _proto.getDataWizardFooter_clickCustomButton = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetDataWizardFooter_ClickCustomButton);
            }, _proto.getDataWizardFooter_clickNextStageButton = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetDataWizardFooter_ClickNextStageButton);
            }, _proto.getDataWizardFooter_clickPreviousStageButton = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetDataWizardFooter_ClickPreviousStageButton);
            }, _proto.getEditingSessionId = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetEditingSessionId);
            }, _proto.getEditingSessionMashup = function(sessionId) {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetEditingSessionMashup, [ sessionId ]);
            }, _proto.getFooterMessage = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetFooterMessage);
            }, _proto.getGetDataWizardFlowStage = function() {
                return this.clientRpcChannel.callIfSupported(MashupEditorServiceRpcMethodNames.GetGetDataWizardFlowStage);
            }, _proto.getIncrementalRefreshSettings = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetIncrementalRefreshSettings);
            }, _proto.getMashupGatewayVersion = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetMashupGatewayVersion);
            }, _proto.getNextStageButtonLabel = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetNextStageButtonLabel);
            }, _proto.getPreviousStageButtonLabel = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetPreviousStageButtonLabel);
            }, _proto.getQueriesInfo = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetQueriesInfo);
            }, _proto.getQueryEditorState = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetQueryEditorState);
            }, _proto.getQueryEditorStateOrThrow = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetQueryEditorStateOrThrow);
            }, _proto.getQueryNames = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetQueryNames);
            }, _proto.getQueryScript = function(queryName) {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetQueryScript, [ queryName ]);
            }, _proto.getReadyState = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetReadyState);
            }, _proto.getRefreshSettings = function() {
                return this.clientRpcChannel.callIfSupported(MashupEditorServiceRpcMethodNames.GetRefreshSettings);
            }, _proto.getSelectedStepName = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetSelectedStepName);
            }, _proto.getUserSettings = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.GetUserSettings);
            }, _proto.isCancelButtonEnabled = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.IsCancelButtonEnabled);
            }, _proto.isCancelButtonVisible = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.IsCancelButtonVisible);
            }, _proto.isCommitButtonEnabled = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.IsCommitButtonEnabled);
            }, _proto.isCommitButtonVisible = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.IsCommitButtonVisible);
            }, _proto.isCustomButtonEnabled = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.IsCustomButtonEnabled);
            }, _proto.isCustomButtonVisible = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.IsCustomButtonVisible);
            }, _proto.isDialogVisible = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.IsDialogVisible);
            }, _proto.isFeatureSupported = function(featureName) {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.IsFeatureSupported, [ featureName ]);
            }, _proto.isFooterOverlayVisible = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.IsFooterOverlayVisible);
            }, _proto.isNextStageButtonEnabled = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.IsNextStageButtonEnabled);
            }, _proto.isNextStageButtonVisible = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.IsNextStageButtonVisible);
            }, _proto.isPreviousStageButtonEnabled = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.IsPreviousStageButtonEnabled);
            }, _proto.isPreviousStageButtonVisible = function() {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.IsPreviousStageButtonVisible);
            }, _proto.logXFramePerformanceMarks = function(marks) {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.LogXFramePerformanceMarks, [ marks ]);
            }, _proto.onHostPopupCancelled = function(popupId) {
                return this.clientRpcChannel.callIfSupported(MashupEditorServiceRpcMethodNames.OnHostPopupCancelled, [ popupId ]);
            }, _proto.refreshActiveQueryResult = function() {
                return this.clientRpcChannel.callIfSupported(MashupEditorServiceRpcMethodNames.RefreshActiveQueryResult);
            }, _proto.setCommitButtonEnabledStatePolicy = function(policy) {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.SetCommitButtonEnabledStatePolicy, [ policy ]);
            }, _proto.setUserSettings = function(userSettings) {
                return this.clientRpcChannel.callIfSupported(MashupEditorServiceRpcMethodNames.SetUserSettings, [ userSettings ]);
            }, _proto.startFlow = function(flow, settingsOverride) {
                return this.clientRpcChannel.callIfSupported(MashupEditorServiceRpcMethodNames.StartFlow, [ flow, settingsOverride ]);
            }, _proto.trySetQueryScript = function(queryName, queryScript) {
                return this.clientRpcChannel.call(MashupEditorServiceRpcMethodNames.TrySetQueryScript, [ queryName, queryScript ]);
            }, MashupEditorServiceRpcProxy;
        }(), inheritsLoose = __webpack_require__(37419), Deferred = function() {
            function Deferred() {
                var _this = this;
                this.resolveMethod = function(value) {}, this.rejectMethod = function(error) {}, 
                this.promise = new Promise(function(resolve, reject) {
                    _this.resolveMethod = resolve, _this.rejectMethod = reject;
                });
            }
            Deferred.createResolvedDeferred = function() {
                var deferred = new Deferred;
                return deferred.resolve(), deferred;
            };
            var _proto = Deferred.prototype;
            return _proto.resolve = function(value) {
                this.resolveMethod(value);
            }, _proto.reject = function(error) {
                this.rejectMethod(error);
            }, Deferred;
        }(), v4 = __webpack_require__(11105);
        function newGuid() {
            return v4.Z();
        }
        function _regeneratorRuntime() {
            _regeneratorRuntime = function() {
                return e;
            };
            var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function(t, e, r) {
                t[e] = r.value;
            }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag";
            function define(t, e, r) {
                return Object.defineProperty(t, e, {
                    value: r,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }), t[e];
            }
            try {
                define({}, "");
            } catch (t) {
                define = function(t, e, r) {
                    return t[e] = r;
                };
            }
            function wrap(t, e, r, n) {
                var a = Object.create((e && e.prototype instanceof Generator ? e : Generator).prototype), c = new Context(n || []);
                return o(a, "_invoke", {
                    value: makeInvokeMethod(t, r, c)
                }), a;
            }
            function tryCatch(t, e, r) {
                try {
                    return {
                        type: "normal",
                        arg: t.call(e, r)
                    };
                } catch (t) {
                    return {
                        type: "throw",
                        arg: t
                    };
                }
            }
            e.wrap = wrap;
            var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {};
            function Generator() {}
            function GeneratorFunction() {}
            function GeneratorFunctionPrototype() {}
            var p = {};
            define(p, a, function() {
                return this;
            });
            var d = Object.getPrototypeOf, v = d && d(d(values([])));
            v && v !== r && n.call(v, a) && (p = v);
            var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);
            function defineIteratorMethods(t) {
                [ "next", "throw", "return" ].forEach(function(e) {
                    define(t, e, function(t) {
                        return this._invoke(e, t);
                    });
                });
            }
            function AsyncIterator(t, e) {
                function invoke(r, o, i, a) {
                    var c = tryCatch(t[r], t, o);
                    if ("throw" !== c.type) {
                        var u = c.arg, h = u.value;
                        return h && "object" == typeof h && n.call(h, "__await") ? e.resolve(h.__await).then(function(t) {
                            invoke("next", t, i, a);
                        }, function(t) {
                            invoke("throw", t, i, a);
                        }) : e.resolve(h).then(function(t) {
                            u.value = t, i(u);
                        }, function(t) {
                            return invoke("throw", t, i, a);
                        });
                    }
                    a(c.arg);
                }
                var r;
                o(this, "_invoke", {
                    value: function(t, n) {
                        function callInvokeWithMethodAndArg() {
                            return new e(function(e, r) {
                                invoke(t, n, e, r);
                            });
                        }
                        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
                    }
                });
            }
            function makeInvokeMethod(e, r, n) {
                var o = h;
                return function(i, a) {
                    if (o === f) throw new Error("Generator is already running");
                    if (o === s) {
                        if ("throw" === i) throw a;
                        return {
                            value: t,
                            done: !0
                        };
                    }
                    for (n.method = i, n.arg = a; ;) {
                        var c = n.delegate;
                        if (c) {
                            var u = maybeInvokeDelegate(c, n);
                            if (u) {
                                if (u === y) continue;
                                return u;
                            }
                        }
                        if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) {
                            if (o === h) throw o = s, n.arg;
                            n.dispatchException(n.arg);
                        } else "return" === n.method && n.abrupt("return", n.arg);
                        o = f;
                        var p = tryCatch(e, r, n);
                        if ("normal" === p.type) {
                            if (o = n.done ? s : l, p.arg === y) continue;
                            return {
                                value: p.arg,
                                done: n.done
                            };
                        }
                        "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg);
                    }
                };
            }
            function maybeInvokeDelegate(e, r) {
                var n = r.method, o = e.iterator[n];
                if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", 
                r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", 
                r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y;
                var i = tryCatch(o, e.iterator, r.arg);
                if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, 
                y;
                var a = i.arg;
                return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", 
                r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), 
                r.delegate = null, y);
            }
            function pushTryEntry(t) {
                var e = {
                    tryLoc: t[0]
                };
                1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), 
                this.tryEntries.push(e);
            }
            function resetTryEntry(t) {
                var e = t.completion || {};
                e.type = "normal", delete e.arg, t.completion = e;
            }
            function Context(t) {
                this.tryEntries = [ {
                    tryLoc: "root"
                } ], t.forEach(pushTryEntry, this), this.reset(!0);
            }
            function values(e) {
                if (e || "" === e) {
                    var r = e[a];
                    if (r) return r.call(e);
                    if ("function" == typeof e.next) return e;
                    if (!isNaN(e.length)) {
                        var o = -1, i = function next() {
                            for (;++o < e.length; ) if (n.call(e, o)) return next.value = e[o], next.done = !1, 
                            next;
                            return next.value = t, next.done = !0, next;
                        };
                        return i.next = i;
                    }
                }
                throw new TypeError(typeof e + " is not iterable");
            }
            return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", {
                value: GeneratorFunctionPrototype,
                configurable: !0
            }), o(GeneratorFunctionPrototype, "constructor", {
                value: GeneratorFunction,
                configurable: !0
            }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), 
            e.isGeneratorFunction = function(t) {
                var e = "function" == typeof t && t.constructor;
                return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name));
            }, e.mark = function(t) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, 
                define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t;
            }, e.awrap = function(t) {
                return {
                    __await: t
                };
            }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function() {
                return this;
            }), e.AsyncIterator = AsyncIterator, e.async = function(t, r, n, o, i) {
                void 0 === i && (i = Promise);
                var a = new AsyncIterator(wrap(t, r, n, o), i);
                return e.isGeneratorFunction(r) ? a : a.next().then(function(t) {
                    return t.done ? t.value : a.next();
                });
            }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function() {
                return this;
            }), define(g, "toString", function() {
                return "[object Generator]";
            }), e.keys = function(t) {
                var e = Object(t), r = [];
                for (var n in e) r.push(n);
                return r.reverse(), function next() {
                    for (;r.length; ) {
                        var t = r.pop();
                        if (t in e) return next.value = t, next.done = !1, next;
                    }
                    return next.done = !0, next;
                };
            }, e.values = values, Context.prototype = {
                constructor: Context,
                reset: function(e) {
                    if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, 
                    this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);
                },
                stop: function() {
                    this.done = !0;
                    var t = this.tryEntries[0].completion;
                    if ("throw" === t.type) throw t.arg;
                    return this.rval;
                },
                dispatchException: function(e) {
                    if (this.done) throw e;
                    var r = this;
                    function handle(n, o) {
                        return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), 
                        !!o;
                    }
                    for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                        var i = this.tryEntries[o], a = i.completion;
                        if ("root" === i.tryLoc) return handle("end");
                        if (i.tryLoc <= this.prev) {
                            var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc");
                            if (c && u) {
                                if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
                                if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
                            } else if (c) {
                                if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
                            } else {
                                if (!u) throw new Error("try statement without catch or finally");
                                if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
                            }
                        }
                    }
                },
                abrupt: function(t, e) {
                    for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                        var o = this.tryEntries[r];
                        if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
                            var i = o;
                            break;
                        }
                    }
                    i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);
                    var a = i ? i.completion : {};
                    return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, 
                    y) : this.complete(a);
                },
                complete: function(t, e) {
                    if ("throw" === t.type) throw t.arg;
                    return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, 
                    this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), 
                    y;
                },
                finish: function(t) {
                    for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                        var r = this.tryEntries[e];
                        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), 
                        y;
                    }
                },
                catch: function(t) {
                    for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                        var r = this.tryEntries[e];
                        if (r.tryLoc === t) {
                            var n = r.completion;
                            if ("throw" === n.type) {
                                var o = n.arg;
                                resetTryEntry(r);
                            }
                            return o;
                        }
                    }
                    throw new Error("illegal catch attempt");
                },
                delegateYield: function(e, r, n) {
                    return this.delegate = {
                        iterator: values(e),
                        resultName: r,
                        nextLoc: n
                    }, "next" === this.method && (this.arg = t), y;
                }
            }, e;
        }
        var RpcChannel = function() {
            function RpcChannel(options) {
                var _this = this;
                this.onMessageReceived = function(message) {
                    message.method ? _this.handleRequestMessageReceived(message) : _this.handleResponseMessageReceived(message);
                }, this.options = options, this.ready = !1, this.methodCallbackMap = new Map, this.requestDeferredByMessageId = new Map, 
                this.queuedRequestMessages = [], this.options.rpcWindow.addListener(this.onMessageReceived), 
                this.internalRegister("__SUPPORTS_METHOD__", function(methodName) {
                    return _this.handleSupportsMethodMessage(methodName);
                });
            }
            var _proto = RpcChannel.prototype;
            return _proto.call = function(methodName, params) {
                return this.internalCall(RpcChannel.normalizeMethodName(methodName), params);
            }, _proto.callIfSupported = function(methodName, params) {
                return thisArg = this, void 0, P = void 0, generator = _regeneratorRuntime().mark(function _callee() {
                    return _regeneratorRuntime().wrap(function(_context) {
                        for (;;) switch (_context.prev = _context.next) {
                          case 0:
                            return _context.next = 2, this.supportsMethod(methodName);

                          case 2:
                            if (!_context.sent) {
                                _context.next = 5;
                                break;
                            }
                            return _context.abrupt("return", this.call(methodName, params));

                          case 5:
                            return _context.abrupt("return", void 0);

                          case 6:
                          case "end":
                            return _context.stop();
                        }
                    }, _callee, this);
                }), new (P || (P = Promise))(function(resolve, reject) {
                    function fulfilled(value) {
                        try {
                            step(generator.next(value));
                        } catch (e) {
                            reject(e);
                        }
                    }
                    function rejected(value) {
                        try {
                            step(generator.throw(value));
                        } catch (e) {
                            reject(e);
                        }
                    }
                    function step(result) {
                        var value;
                        result.done ? resolve(result.value) : (value = result.value, value instanceof P ? value : new P(function(resolve) {
                            resolve(value);
                        })).then(fulfilled, rejected);
                    }
                    step((generator = generator.apply(thisArg, [])).next());
                });
                var thisArg, P, generator;
            }, _proto.dispose = function() {
                this.internalUnregister("__SUPPORTS_METHOD__"), this.requestDeferredByMessageId.forEach(function(deferred) {
                    return deferred.reject(function(message) {
                        var newError = new Error("Rpc disposed");
                        if (null != newError.stack) return newError;
                        try {
                            throw newError;
                        } catch (error) {
                            return error;
                        }
                    }());
                }), this.requestDeferredByMessageId.clear(), this.options.rpcWindow.removeListener(this.onMessageReceived);
            }, _proto.register = function(methodName, callback) {
                var _this2 = this, normalizedMethod = RpcChannel.normalizeMethodName(methodName);
                this.internalRegister(normalizedMethod, function() {
                    for (var _a, _b, _len = arguments.length, params = new Array(_len), _key = 0; _key < _len; _key++) params[_key] = arguments[_key];
                    return null === (_b = (_a = _this2.options).onMethodInvoked) || void 0 === _b || _b.call(_a, methodName, params), 
                    callback.apply(void 0, params);
                });
            }, _proto.supportsMethod = function(methodName) {
                return this.internalCall("__SUPPORTS_METHOD__", [ methodName ]);
            }, _proto.unregister = function(methodName) {
                var normalizedMethod = RpcChannel.normalizeMethodName(methodName);
                this.internalUnregister(normalizedMethod);
            }, _proto.canPostMessage = function(requestMessage) {
                return this.ready;
            }, _proto.internalCall = function(method, params) {
                void 0 === params && (params = void 0);
                var id = newGuid(), requestMessage = {
                    id,
                    method,
                    params
                }, deferred = new Deferred;
                return this.requestDeferredByMessageId.set(id, deferred), this.canPostMessage(requestMessage) ? this.tryPostMessage(requestMessage) : this.queuedRequestMessages.push(requestMessage), 
                deferred.promise;
            }, _proto.internalRegister = function(method, callback) {
                if (this.methodCallbackMap.has(method)) throw new Error("Rpc method with name '" + method + "' already registered.");
                this.methodCallbackMap.set(method, callback);
            }, _proto.internalUnregister = function(method) {
                this.methodCallbackMap.delete(method);
            }, _proto.onReady = function() {
                this.ready = !0, this.flushRequestMessageQueue();
            }, RpcChannel.getResponseMessageError = function(error) {
                return error instanceof Error ? {
                    message: error.message,
                    name: error.name,
                    stack: error.stack
                } : error;
            }, RpcChannel.normalizeMethodName = function(method) {
                return method.toUpperCase();
            }, _proto.flushRequestMessageQueue = function() {
                var _this3 = this;
                this.queuedRequestMessages.forEach(function(rpcRequestMessage) {
                    return _this3.tryPostMessage(rpcRequestMessage);
                }), this.queuedRequestMessages = [];
            }, _proto.handleRequestMessageReceived = function(requestMessage) {
                var _this4 = this, callback = this.methodCallbackMap.get(requestMessage.method);
                if (callback) {
                    var rpcResponseMessage = {
                        signature: requestMessage.signature,
                        id: requestMessage.id
                    };
                    try {
                        var result = callback.apply(this, requestMessage.params);
                        Promise.resolve(result).then(function(result2) {
                            rpcResponseMessage.result = result2, _this4.postMessage(rpcResponseMessage);
                        }).catch(function(error) {
                            rpcResponseMessage.error = RpcChannel.getResponseMessageError(error), _this4.postMessage(rpcResponseMessage);
                        });
                    } catch (error) {
                        rpcResponseMessage.error = RpcChannel.getResponseMessageError(error), this.postMessage(rpcResponseMessage);
                    }
                }
            }, _proto.handleResponseMessageReceived = function(responseMessage) {
                var messageId = responseMessage.id, deferred = this.requestDeferredByMessageId.get(messageId);
                deferred && (responseMessage.error ? deferred.reject(responseMessage.error) : deferred.resolve(responseMessage.result), 
                this.requestDeferredByMessageId.delete(messageId));
            }, _proto.handleSupportsMethodMessage = function(methodName) {
                return this.methodCallbackMap.has(RpcChannel.normalizeMethodName(methodName));
            }, _proto.postMessage = function(message) {
                this.options.rpcWindow.postMessage(message);
            }, _proto.tryPostMessage = function(requestMessage) {
                try {
                    this.postMessage(requestMessage);
                } catch (error) {
                    if (error instanceof Error) {
                        var messageId = requestMessage.id, requestDeferred = this.requestDeferredByMessageId.get(messageId);
                        requestDeferred && (requestDeferred.reject(error), this.requestDeferredByMessageId.delete(messageId));
                    }
                }
            }, (0, createClass.Z)(RpcChannel, [ {
                key: "rpcHandshakeHandler",
                get: function() {
                    return this.options.rpcHandshakeHandler;
                }
            } ]), RpcChannel;
        }(), ClientRpcChannel = function(_RpcChannel) {
            function ClientRpcChannel(options) {
                var _this5;
                return (_this5 = _RpcChannel.call(this, options) || this).clientOptions = options, 
                _this5.internalRegister(options.rpcHandshakeHandler.getReadyMessageMethod(), function() {
                    return _this5.handleReadyMessage();
                }), _this5;
            }
            return (0, inheritsLoose.Z)(ClientRpcChannel, _RpcChannel), ClientRpcChannel.prototype.handleReadyMessage = function() {
                return this.internalUnregister(this.rpcHandshakeHandler.getReadyMessageMethod()), 
                this.onReady(), this.clientOptions.onAck && this.clientOptions.onAck(), this.rpcHandshakeHandler.createAckResponse();
            }, ClientRpcChannel;
        }(RpcChannel);
        function getPropertyOrDefault(value, property, defaultValue) {
            var _a;
            return value && isRecord(value) && value.hasOwnProperty(property) && null !== (_a = value[property]) && void 0 !== _a ? _a : defaultValue;
        }
        function isRecord(value) {
            return function(value) {
                return null !== value && "object" == typeof value;
            }(value) && !Array.isArray(value) && value.constructor === Object;
        }
        new Map, new Set;
        var AzureMessageConverter = function() {
            function AzureMessageConverter(signature) {
                this.signature = signature;
            }
            var _proto = AzureMessageConverter.prototype;
            return _proto.deserialize = function(event) {
                var message = event.data;
                return isRecord(message) ? getPropertyOrDefault(message, "data", message) : message;
            }, _proto.serialize = function(message) {
                return message.signature = this.signature, {
                    id: message.id,
                    kind: getPropertyOrDefault(message, "method", AzureMessageConverter.emptyValue),
                    signature: AzureMessageConverter.frameSignature,
                    data: message
                };
            }, AzureMessageConverter;
        }();
        AzureMessageConverter.emptyValue = "", AzureMessageConverter.frameSignature = "FxFrameControl";
        var RpcProtocolId, AzureRpcHandshakeHandler = function() {
            function AzureRpcHandshakeHandler() {}
            var _proto = AzureRpcHandshakeHandler.prototype;
            return _proto.createAckResponse = function() {
                return "start";
            }, _proto.getReadyMessageMethod = function() {
                return "ready";
            }, _proto.isAckResponse = function(response) {
                return "start" === response;
            }, AzureRpcHandshakeHandler;
        }(), DefaultMessageConverter = function() {
            function DefaultMessageConverter(signature) {
                this.signature = signature;
            }
            var _proto = DefaultMessageConverter.prototype;
            return _proto.deserialize = function(event) {
                return event.data;
            }, _proto.serialize = function(message) {
                return message.signature = this.signature, message;
            }, DefaultMessageConverter;
        }(), DefaultRpcHandshakeHandler = function() {
            function DefaultRpcHandshakeHandler() {}
            var _proto = DefaultRpcHandshakeHandler.prototype;
            return _proto.createAckResponse = function() {
                return "__PONG__";
            }, _proto.getReadyMessageMethod = function() {
                return "__PING__";
            }, _proto.isAckResponse = function(response) {
                return "__PONG__" === response;
            }, DefaultRpcHandshakeHandler;
        }();
        !function(RpcProtocolId) {
            RpcProtocolId.Default = "default", RpcProtocolId.AzurePortal_v1_0_0 = "azureportal-v1.0.0";
        }(RpcProtocolId || (RpcProtocolId = {}));
        var RpcWindow = function() {
            function RpcWindow(options) {
                assertDefined(options.targetWindow), assertDefined(options.sourceWindow), this.options = options, 
                this.eventListeners = new Map;
            }
            var _proto = RpcWindow.prototype;
            return _proto.addListener = function(listener) {
                var _this = this;
                if (this.eventListeners.has(listener)) throw new Error("Duplicate rpc listener added.");
                var eventListener = function(event) {
                    return _this.handleMessageReceived(event, listener);
                };
                this.eventListeners.set(listener, eventListener), this.options.sourceWindow.addEventListener(RpcWindow.eventTypeName, eventListener);
            }, _proto.postMessage = function(message) {
                var targetOrigin = this.options.targetOriginProvider.getTargetOrigin(message);
                this.options.targetWindow.postMessage(this.options.rpcMessageConverter.serialize(message), targetOrigin);
            }, _proto.removeListener = function(listener) {
                var eventListener = this.eventListeners.get(listener);
                eventListener && (this.options.sourceWindow.removeEventListener(RpcWindow.eventTypeName, eventListener), 
                this.eventListeners.delete(listener));
            }, RpcWindow.isMessageEvent = function(event) {
                return !(null == event.data);
            }, _proto.canProcessMessage = function(message) {
                return !!message && message.signature === this.options.rpcMessageConverter.signature;
            }, _proto.handleMessageReceived = function(event, listener) {
                if (RpcWindow.isMessageEvent(event)) {
                    var message = this.options.rpcMessageConverter.deserialize(event);
                    this.canProcessMessage(message) && this.options.allowedOrigins.some(function(allowedOrigin) {
                        return function(origin, originPattern) {
                            if ("*" === originPattern) return !0;
                            if (originPattern.startsWith("https://*.") && origin.startsWith("https://")) {
                                var domainPattern = originPattern.substring(9);
                                return origin.substring(8).endsWith(domainPattern);
                            }
                            return origin === originPattern;
                        }(event.origin, allowedOrigin);
                    }) && (this.options.targetOriginProvider.onMessageReceived(event.origin), listener(message));
                }
            }, RpcWindow;
        }();
        RpcWindow.eventTypeName = "message";
        var ExplicitTargetOriginProvider = function() {
            function ExplicitTargetOriginProvider(explicitTargetOrigin) {
                this.explicitTargetOrigin = explicitTargetOrigin;
            }
            var _proto = ExplicitTargetOriginProvider.prototype;
            return _proto.getTargetOrigin = function(rpcMessage) {
                return this.explicitTargetOrigin;
            }, _proto.onMessageReceived = function(origin) {}, ExplicitTargetOriginProvider;
        }();
        function removeQueryAndFragment(path) {
            var fragmentIndex = path.indexOf("#"), pathWithoutFragment = fragmentIndex >= 0 ? path.substring(0, fragmentIndex) : path, queryStringIndex = path.indexOf("?");
            return queryStringIndex >= 0 ? pathWithoutFragment.substring(0, queryStringIndex) : pathWithoutFragment;
        }
        function addQueryParameters(url) {
            for (var delimiter = url.indexOf("?") > -1 ? "&" : "?", _len = arguments.length, queryParameters = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) queryParameters[_key - 1] = arguments[_key];
            return "" + url + delimiter + queryParameters.map(function(queryParameter) {
                return encodeURIComponent(queryParameter.name) + "=" + encodeURIComponent(queryParameter.value);
            }).join("&");
        }
        function getOrigin(url) {
            var hostStartIndex = url.indexOf("//");
            if (hostStartIndex >= 0) {
                var hostEndIndex = url.indexOf("/", hostStartIndex += 2);
                if (hostEndIndex >= 0) return url.substring(0, hostEndIndex);
            }
            return url;
        }
        function MashupEditorClient_regeneratorRuntime() {
            MashupEditorClient_regeneratorRuntime = function() {
                return e;
            };
            var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function(t, e, r) {
                t[e] = r.value;
            }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag";
            function define(t, e, r) {
                return Object.defineProperty(t, e, {
                    value: r,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }), t[e];
            }
            try {
                define({}, "");
            } catch (t) {
                define = function(t, e, r) {
                    return t[e] = r;
                };
            }
            function wrap(t, e, r, n) {
                var a = Object.create((e && e.prototype instanceof Generator ? e : Generator).prototype), c = new Context(n || []);
                return o(a, "_invoke", {
                    value: makeInvokeMethod(t, r, c)
                }), a;
            }
            function tryCatch(t, e, r) {
                try {
                    return {
                        type: "normal",
                        arg: t.call(e, r)
                    };
                } catch (t) {
                    return {
                        type: "throw",
                        arg: t
                    };
                }
            }
            e.wrap = wrap;
            var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {};
            function Generator() {}
            function GeneratorFunction() {}
            function GeneratorFunctionPrototype() {}
            var p = {};
            define(p, a, function() {
                return this;
            });
            var d = Object.getPrototypeOf, v = d && d(d(values([])));
            v && v !== r && n.call(v, a) && (p = v);
            var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);
            function defineIteratorMethods(t) {
                [ "next", "throw", "return" ].forEach(function(e) {
                    define(t, e, function(t) {
                        return this._invoke(e, t);
                    });
                });
            }
            function AsyncIterator(t, e) {
                function invoke(r, o, i, a) {
                    var c = tryCatch(t[r], t, o);
                    if ("throw" !== c.type) {
                        var u = c.arg, h = u.value;
                        return h && "object" == typeof h && n.call(h, "__await") ? e.resolve(h.__await).then(function(t) {
                            invoke("next", t, i, a);
                        }, function(t) {
                            invoke("throw", t, i, a);
                        }) : e.resolve(h).then(function(t) {
                            u.value = t, i(u);
                        }, function(t) {
                            return invoke("throw", t, i, a);
                        });
                    }
                    a(c.arg);
                }
                var r;
                o(this, "_invoke", {
                    value: function(t, n) {
                        function callInvokeWithMethodAndArg() {
                            return new e(function(e, r) {
                                invoke(t, n, e, r);
                            });
                        }
                        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
                    }
                });
            }
            function makeInvokeMethod(e, r, n) {
                var o = h;
                return function(i, a) {
                    if (o === f) throw new Error("Generator is already running");
                    if (o === s) {
                        if ("throw" === i) throw a;
                        return {
                            value: t,
                            done: !0
                        };
                    }
                    for (n.method = i, n.arg = a; ;) {
                        var c = n.delegate;
                        if (c) {
                            var u = maybeInvokeDelegate(c, n);
                            if (u) {
                                if (u === y) continue;
                                return u;
                            }
                        }
                        if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) {
                            if (o === h) throw o = s, n.arg;
                            n.dispatchException(n.arg);
                        } else "return" === n.method && n.abrupt("return", n.arg);
                        o = f;
                        var p = tryCatch(e, r, n);
                        if ("normal" === p.type) {
                            if (o = n.done ? s : l, p.arg === y) continue;
                            return {
                                value: p.arg,
                                done: n.done
                            };
                        }
                        "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg);
                    }
                };
            }
            function maybeInvokeDelegate(e, r) {
                var n = r.method, o = e.iterator[n];
                if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", 
                r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", 
                r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y;
                var i = tryCatch(o, e.iterator, r.arg);
                if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, 
                y;
                var a = i.arg;
                return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", 
                r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), 
                r.delegate = null, y);
            }
            function pushTryEntry(t) {
                var e = {
                    tryLoc: t[0]
                };
                1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), 
                this.tryEntries.push(e);
            }
            function resetTryEntry(t) {
                var e = t.completion || {};
                e.type = "normal", delete e.arg, t.completion = e;
            }
            function Context(t) {
                this.tryEntries = [ {
                    tryLoc: "root"
                } ], t.forEach(pushTryEntry, this), this.reset(!0);
            }
            function values(e) {
                if (e || "" === e) {
                    var r = e[a];
                    if (r) return r.call(e);
                    if ("function" == typeof e.next) return e;
                    if (!isNaN(e.length)) {
                        var o = -1, i = function next() {
                            for (;++o < e.length; ) if (n.call(e, o)) return next.value = e[o], next.done = !1, 
                            next;
                            return next.value = t, next.done = !0, next;
                        };
                        return i.next = i;
                    }
                }
                throw new TypeError(typeof e + " is not iterable");
            }
            return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", {
                value: GeneratorFunctionPrototype,
                configurable: !0
            }), o(GeneratorFunctionPrototype, "constructor", {
                value: GeneratorFunction,
                configurable: !0
            }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), 
            e.isGeneratorFunction = function(t) {
                var e = "function" == typeof t && t.constructor;
                return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name));
            }, e.mark = function(t) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, 
                define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t;
            }, e.awrap = function(t) {
                return {
                    __await: t
                };
            }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function() {
                return this;
            }), e.AsyncIterator = AsyncIterator, e.async = function(t, r, n, o, i) {
                void 0 === i && (i = Promise);
                var a = new AsyncIterator(wrap(t, r, n, o), i);
                return e.isGeneratorFunction(r) ? a : a.next().then(function(t) {
                    return t.done ? t.value : a.next();
                });
            }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function() {
                return this;
            }), define(g, "toString", function() {
                return "[object Generator]";
            }), e.keys = function(t) {
                var e = Object(t), r = [];
                for (var n in e) r.push(n);
                return r.reverse(), function next() {
                    for (;r.length; ) {
                        var t = r.pop();
                        if (t in e) return next.value = t, next.done = !1, next;
                    }
                    return next.done = !0, next;
                };
            }, e.values = values, Context.prototype = {
                constructor: Context,
                reset: function(e) {
                    if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, 
                    this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);
                },
                stop: function() {
                    this.done = !0;
                    var t = this.tryEntries[0].completion;
                    if ("throw" === t.type) throw t.arg;
                    return this.rval;
                },
                dispatchException: function(e) {
                    if (this.done) throw e;
                    var r = this;
                    function handle(n, o) {
                        return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), 
                        !!o;
                    }
                    for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                        var i = this.tryEntries[o], a = i.completion;
                        if ("root" === i.tryLoc) return handle("end");
                        if (i.tryLoc <= this.prev) {
                            var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc");
                            if (c && u) {
                                if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
                                if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
                            } else if (c) {
                                if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
                            } else {
                                if (!u) throw new Error("try statement without catch or finally");
                                if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
                            }
                        }
                    }
                },
                abrupt: function(t, e) {
                    for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                        var o = this.tryEntries[r];
                        if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
                            var i = o;
                            break;
                        }
                    }
                    i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);
                    var a = i ? i.completion : {};
                    return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, 
                    y) : this.complete(a);
                },
                complete: function(t, e) {
                    if ("throw" === t.type) throw t.arg;
                    return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, 
                    this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), 
                    y;
                },
                finish: function(t) {
                    for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                        var r = this.tryEntries[e];
                        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), 
                        y;
                    }
                },
                catch: function(t) {
                    for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                        var r = this.tryEntries[e];
                        if (r.tryLoc === t) {
                            var n = r.completion;
                            if ("throw" === n.type) {
                                var o = n.arg;
                                resetTryEntry(r);
                            }
                            return o;
                        }
                    }
                    throw new Error("illegal catch attempt");
                },
                delegateYield: function(e, r, n) {
                    return this.delegate = {
                        iterator: values(e),
                        resultName: r,
                        nextLoc: n
                    }, "next" === this.method && (this.arg = t), y;
                }
            }, e;
        }
        var MashupRenameResultKind, CloseButtonActionOnClick, CloseButtonActionOnConfirm, CommandKind, TransformCommandFoldingResource, StepTextType, QueryKind, QueryVisualizationMode, ScriptEditorScope, MessageLevel, EnabledStatePolicy, EvaluationStateKind, BuiltInIconId, RefreshEntitySettingsKind, TimePeriodUnit, EntityKind, TableProfilerEvaluationMode, MashupTypeName, RibbonMode, ColumnTypeAndHeaderDetectionPolicy, ExpansionState, UserSettingsChangeReason, TypeName, CssSizeKind, GridSelectionType, BuiltInDataSourceTemplateKind, ExtensionDataSourceTemplateKind, ActionRefreshStatus, CdsQueryLoadStatusCode, ColumnByExampleTransformKind, ConnectionConsentLinkErrorCode, ConnectionProviderType, DataflowComputeType, DataflowRefreshMessageLevel, DayOfWeek, FieldType, GatewayKind, GatewayStaticCapabilities, MessageTracingLevel, OneDriveGetTokenErrorCode, OneDriveVerifyConnectionAuthErrorCode, PowerAppsEnvironmentStatusCode, QueryMetadataHostPropertyKey, RefreshGranularityTypeParameters, RefreshPeriodUnit, ServiceErrorReason, TextByExampleErrorKind, TextByExampleLearnExamplesResultKind, AmPmDistributionValue, AuthKind, BuiltInDataSourceOptionId, ColumnMappingsKind, ColumnProfileAttributeName, ConnectionUpsertErrorCode, CopilotActionKind, CopilotErrorKind, CopilotResponseKind, CoreColumnMappingsKind, DataSourceExtensionResourceType, DataSourceOptionKind, DefaultOutputDestinationDefinitionKind, DestinationDefinitionKind, DestinationDetailsName, DropColumnReason, EncryptConnection, EvaluationErrorCode, EvaluationParamsKind, EvaluationType, FileFilter, FileMenuActionableSectionType, FileMenuNavigationItemKind, FillColumnMethod, GetDataWizardStage, GetOutputSettingsResultKind, HeaderDetectionPolicy, HostCommandEnablementConstraintKind, HostCommandEnablementConstraintOperator, HostContextType, HostQueryPropertyType, JsonNumericKind, MashupDataSourceKind, MashupTemplatePackagePartUri, MashupXmlVisitorErrorCode, MetricsOperationStatus, MoveQueriesRelativePosition, NaturalLanguageQueryScriptGenerationFailureKind, OutputFileEncoding, OutputFileFormat, OutputTextFileDelimiter, ParityDistributionValue, PrivacyGroup, QueryConnectivityModeValidationErrorFixKind, QueryConnectivityModeValidationRule, QueryOutputDestinationKind, QueryPlanType, ResourceKind, SetMashupDocumentResultKind, SetMashupFromTemplateResultKind, SimsError, SimsResponseStatus, StagingDefinitionKind, StartEditingSessionErrorKind, SuggestedTransformId, TableProfileColumnName, TableUpdateMethodKind, TableUpdateStepKind, TargetDefinitionKind, UntrustedUriSource, UpdateMethodKind, ValidateExpressionResultKind, WebByExampleSuggestionKind, MashupEditorClient_awaiter = function(thisArg, _arguments, P, generator) {
            return new (P || (P = Promise))(function(resolve, reject) {
                function fulfilled(value) {
                    try {
                        step(generator.next(value));
                    } catch (e) {
                        reject(e);
                    }
                }
                function rejected(value) {
                    try {
                        step(generator.throw(value));
                    } catch (e) {
                        reject(e);
                    }
                }
                function step(result) {
                    var value;
                    result.done ? resolve(result.value) : (value = result.value, value instanceof P ? value : new P(function(resolve) {
                        resolve(value);
                    })).then(fulfilled, rejected);
                }
                step((generator = generator.apply(thisArg, _arguments || [])).next());
            });
        }, MashupEditorClient = function() {
            function MashupEditorClient(configuration) {
                var _a, _b, _c, _this = this, clientStartTime = new Date;
                this.instanceId = newGuid(), this.configuration = configuration;
                var clientEnvironment = null !== (_a = this.configuration.clientSettings.clientEnvironment) && void 0 !== _a ? _a : this.createDefaultClientEnvironment(this.configuration.clientSettings.container, this.configuration.clientSettings.className), queryParameters = [ {
                    name: MashupEditorUrlParameterName.ClientInstanceId,
                    value: this.instanceId
                } ];
                this.configuration.clientSettings.protocolId && queryParameters.push({
                    name: MashupEditorUrlParameterName.ProtocolId,
                    value: this.configuration.clientSettings.protocolId
                });
                var completeUrl = addQueryParameters.apply(UriUtils_namespaceObject, [ this.configuration.clientSettings.url ].concat(queryParameters));
                this.appWindow = clientEnvironment.appWindowFactory(completeUrl);
                var signature, instanceId, allowedOrigin = void 0 !== this.configuration.clientSettings.allowedOrigin ? this.configuration.clientSettings.allowedOrigin : "*", protocolBuilder = (signature = null == (instanceId = this.instanceId) ? "mspq" : "mspq-" + instanceId, 
                (null !== (_b = this.configuration.clientSettings.protocolId) && void 0 !== _b ? _b : RpcProtocolId.Default) === RpcProtocolId.AzurePortal_v1_0_0 ? {
                    rpcMessageConverter: new AzureMessageConverter(signature),
                    rpcHandshakeHandler: new AzureRpcHandshakeHandler
                } : {
                    rpcMessageConverter: new DefaultMessageConverter(signature),
                    rpcHandshakeHandler: new DefaultRpcHandshakeHandler
                });
                this.clientRpcChannel = new ClientRpcChannel({
                    debugName: "MashupEditorClient.clientRpcChannel",
                    enableDebugLogging: null !== (_c = this.configuration.clientSettings.enableDebugLogging) && void 0 !== _c && _c,
                    rpcHandshakeHandler: protocolBuilder.rpcHandshakeHandler,
                    rpcWindow: new RpcWindow({
                        allowedOrigins: [ allowedOrigin ],
                        rpcMessageConverter: protocolBuilder.rpcMessageConverter,
                        sourceWindow: clientEnvironment.clientWindow,
                        targetOriginProvider: new ExplicitTargetOriginProvider(allowedOrigin),
                        targetWindow: this.appWindow
                    })
                }), this.clientRpcEndpoint = new MashupEditorClientRpcEndpoint(this.clientRpcChannel, {
                    onCancelCurrentFlow: function() {
                        return _this.onCancelCurrentFlow();
                    },
                    onCommitCurrentFlow: function(result) {
                        return _this.onCommitCurrentFlow(result);
                    },
                    onCurrentFlowReady: function() {
                        return _this.onCurrentFlowReady();
                    },
                    onAppReady: function() {
                        return _this.appReady.resolve();
                    }
                }, this, configuration, clientStartTime), this.serviceProxy = new MashupEditorServiceRpcProxy(this.clientRpcChannel), 
                this.appReady = new Deferred;
            }
            var _proto = MashupEditorClient.prototype;
            return _proto.activateQuery = function(queryName) {
                return this.serviceProxy.activateQuery(queryName);
            }, _proto.addQuery = function(queryName, queryScript, loadEnabled) {
                return this.serviceProxy.addQuery(queryName, queryScript, loadEnabled);
            }, _proto.deleteAllQueries = function() {
                return this.serviceProxy.deleteAllQueries();
            }, _proto.onHostPopupCancelled = function(popupId) {
                return this.serviceProxy.onHostPopupCancelled(popupId);
            }, _proto.cancelAddQueriesFlow = function() {
                return this.serviceProxy.cancelAddQueriesFlow();
            }, _proto.endFlow = function() {
                return this.appWindow.hide(), this.serviceProxy.endFlow();
            }, _proto.getActiveQueryName = function() {
                return this.serviceProxy.getActiveQueryName();
            }, _proto.getCommitResult = function() {
                return this.serviceProxy.getCommitResult();
            }, _proto.getComputeEngineSettings = function() {
                return this.serviceProxy.getComputeEngineSettings();
            }, _proto.getCurrentFlow = function() {
                return this.serviceProxy.getCurrentFlow();
            }, _proto.getDataSourceQueryScript = function(queryName, stepName) {
                return this.serviceProxy.getDataSourceQueryScript(queryName, stepName);
            }, _proto.getEditingSessionId = function() {
                return this.serviceProxy.getEditingSessionId();
            }, _proto.getEditingSessionMashup = function(sessionId) {
                return this.serviceProxy.getEditingSessionMashup(sessionId);
            }, _proto.getMashupGatewayVersion = function() {
                return this.serviceProxy.getMashupGatewayVersion();
            }, _proto.getGetDataWizardFlowStage = function() {
                return this.serviceProxy.getGetDataWizardFlowStage();
            }, _proto.getFooterMessage = function() {
                return this.serviceProxy.getFooterMessage();
            }, _proto.getIncrementalRefreshSettings = function() {
                return this.serviceProxy.getIncrementalRefreshSettings();
            }, _proto.getQueriesInfo = function() {
                return this.serviceProxy.getQueriesInfo();
            }, _proto.getQueryEditorState = function() {
                return this.serviceProxy.getQueryEditorState();
            }, _proto.getQueryEditorStateOrThrow = function() {
                return this.serviceProxy.getQueryEditorStateOrThrow();
            }, _proto.getQueryNames = function() {
                return this.serviceProxy.getQueryNames();
            }, _proto.getQueryScript = function(queryName) {
                return this.serviceProxy.getQueryScript(queryName);
            }, _proto.getReadyState = function() {
                return this.serviceProxy.getReadyState();
            }, _proto.getRefreshSettings = function() {
                return this.serviceProxy.getRefreshSettings();
            }, _proto.getSelectedStepName = function() {
                return this.serviceProxy.getSelectedStepName();
            }, _proto.getUserSettings = function() {
                return this.serviceProxy.getUserSettings();
            }, _proto.isDialogVisible = function() {
                return this.serviceProxy.isDialogVisible();
            }, _proto.isFeatureSupported = function(featureName) {
                return this.serviceProxy.isFeatureSupported(featureName);
            }, _proto.isFooterOverlayVisible = function() {
                return this.serviceProxy.isFooterOverlayVisible();
            }, _proto.logXFramePerformanceMarks = function(marks) {
                return this.serviceProxy.logXFramePerformanceMarks(marks);
            }, _proto.refreshActiveQueryResult = function() {
                return this.serviceProxy.refreshActiveQueryResult();
            }, _proto.setCommitButtonEnabledStatePolicy = function(policy) {
                return this.serviceProxy.setCommitButtonEnabledStatePolicy(policy);
            }, _proto.setUserSettings = function(userSettings) {
                return this.serviceProxy.setUserSettings(userSettings);
            }, _proto.startFlow = function(flow, _onCommit, onCancel, settingsOverride) {
                return MashupEditorClient_awaiter(this, void 0, void 0, MashupEditorClient_regeneratorRuntime().mark(function _callee() {
                    return MashupEditorClient_regeneratorRuntime().wrap(function(_context) {
                        for (;;) switch (_context.prev = _context.next) {
                          case 0:
                            return _context.next = 2, this.ready;

                          case 2:
                            return _context.next = 4, this.getCurrentFlow();

                          case 4:
                            if (null == _context.sent) {
                                _context.next = 7;
                                break;
                            }
                            throw Error("cannot start a new flow when an existing flow is running");

                          case 7:
                            return this.currentFlowConfiguration = {
                                flowReady: new Deferred,
                                shouldEndFlowOnCommit: shouldEndFlowOnCommit(flow),
                                shouldEndFlowOnCancel: shouldEndFlowOnCancel(flow),
                                onCommit: function(client, result) {
                                    if (isValidResult(result, flow)) return _onCommit(client, result);
                                    throw new Error("The flow " + flow.kind + " returned the wrong type of result: " + result.kind);
                                },
                                onCancel
                            }, this.appWindow.show(), this.serviceProxy.startFlow(flow, settingsOverride), _context.abrupt("return", this.currentFlowConfiguration.flowReady.promise);

                          case 11:
                          case "end":
                            return _context.stop();
                        }
                    }, _callee, this);
                }));
            }, _proto.dispose = function() {
                return MashupEditorClient_awaiter(this, void 0, void 0, MashupEditorClient_regeneratorRuntime().mark(function _callee2() {
                    return MashupEditorClient_regeneratorRuntime().wrap(function(_context2) {
                        for (;;) switch (_context2.prev = _context2.next) {
                          case 0:
                            return this.appWindow.hide(), _context2.prev = 1, _context2.next = 4, this.serviceProxy.disposeService();

                          case 4:
                            return _context2.prev = 4, this.clientRpcEndpoint.dispose(), this.clientRpcChannel.dispose(), 
                            this.appWindow.dispose(), _context2.finish(4);

                          case 9:
                          case "end":
                            return _context2.stop();
                        }
                    }, _callee2, this, [ [ 1, , 4, 9 ] ]);
                }));
            }, _proto.trySetQueryScript = function(queryName, queryScript) {
                return this.serviceProxy.trySetQueryScript(queryName, queryScript);
            }, _proto.createDefaultClientEnvironment = function(container, className) {
                return {
                    clientWindow: window,
                    appWindowFactory: function(src) {
                        return new MashupEditorAppIFrameWindow(src, container, className);
                    }
                };
            }, _proto.onCancelCurrentFlow = function() {
                return MashupEditorClient_awaiter(this, void 0, void 0, MashupEditorClient_regeneratorRuntime().mark(function _callee3() {
                    return MashupEditorClient_regeneratorRuntime().wrap(function(_context3) {
                        for (;;) switch (_context3.prev = _context3.next) {
                          case 0:
                            if (!this.configuration.onCancel) {
                                _context3.next = 2;
                                break;
                            }
                            return _context3.abrupt("return", this.configuration.onCancel(this));

                          case 2:
                            return assertDefined(this.currentFlowConfiguration), _context3.next = 5, this.currentFlowConfiguration.onCancel(this);

                          case 5:
                            this.currentFlowConfiguration.shouldEndFlowOnCancel && (this.appWindow.hide(), this.currentFlowConfiguration = void 0);

                          case 6:
                          case "end":
                            return _context3.stop();
                        }
                    }, _callee3, this);
                }));
            }, _proto.onCommitCurrentFlow = function(result) {
                return MashupEditorClient_awaiter(this, void 0, void 0, MashupEditorClient_regeneratorRuntime().mark(function _callee4() {
                    return MashupEditorClient_regeneratorRuntime().wrap(function(_context4) {
                        for (;;) switch (_context4.prev = _context4.next) {
                          case 0:
                            if (!this.configuration.onCommit) {
                                _context4.next = 2;
                                break;
                            }
                            return _context4.abrupt("return", this.configuration.onCommit(this));

                          case 2:
                            return assertDefined(this.currentFlowConfiguration), _context4.next = 5, this.currentFlowConfiguration.onCommit(this, result);

                          case 5:
                            this.currentFlowConfiguration.shouldEndFlowOnCommit && (this.appWindow.hide(), this.currentFlowConfiguration = void 0);

                          case 6:
                          case "end":
                            return _context4.stop();
                        }
                    }, _callee4, this);
                }));
            }, _proto.onCurrentFlowReady = function() {
                assertDefined(this.currentFlowConfiguration), this.currentFlowConfiguration.flowReady.resolve();
            }, (0, createClass.Z)(MashupEditorClient, [ {
                key: "dataPreview",
                get: function() {
                    var _this2 = this;
                    return {
                        cancelCurrentEvaluation: function() {
                            return _this2.serviceProxy.dataPreview_cancelCurrentQueryEvaluation();
                        },
                        selectColumns: function(columnNames) {
                            return _this2.serviceProxy.dataPreview_selectColumns(columnNames);
                        }
                    };
                }
            }, {
                key: "getDataWizardFooterCallbacks",
                get: function() {
                    var _this3 = this;
                    return {
                        clickCancelButton: function() {
                            return _this3.serviceProxy.getDataWizardFooter_clickCancelButton();
                        },
                        clickCommitButton: function() {
                            return _this3.serviceProxy.getDataWizardFooter_clickCommitButton();
                        },
                        clickCustomButton: function() {
                            return _this3.serviceProxy.getDataWizardFooter_clickCustomButton();
                        },
                        clickNextStageButton: function() {
                            return _this3.serviceProxy.getDataWizardFooter_clickNextStageButton();
                        },
                        clickPreviousStageButton: function() {
                            return _this3.serviceProxy.getDataWizardFooter_clickPreviousStageButton();
                        }
                    };
                }
            }, {
                key: "cancelButton",
                get: function() {
                    var _this4 = this;
                    return {
                        click: function() {
                            return _this4.serviceProxy.clickCancelButton();
                        },
                        getLabel: function() {
                            return _this4.serviceProxy.getCancelButtonLabel();
                        },
                        isEnabled: function() {
                            return _this4.serviceProxy.isCancelButtonEnabled();
                        },
                        isVisible: function() {
                            return _this4.serviceProxy.isCancelButtonVisible();
                        }
                    };
                }
            }, {
                key: "commitButton",
                get: function() {
                    var _this5 = this;
                    return {
                        click: function() {
                            return _this5.serviceProxy.clickCommitButton();
                        },
                        getLabel: function() {
                            return _this5.serviceProxy.getCommitButtonLabel();
                        },
                        isEnabled: function() {
                            return _this5.serviceProxy.isCommitButtonEnabled();
                        },
                        isVisible: function() {
                            return _this5.serviceProxy.isCommitButtonVisible();
                        }
                    };
                }
            }, {
                key: "customButton",
                get: function() {
                    var _this6 = this;
                    return {
                        click: function() {
                            return _this6.serviceProxy.clickCustomButton();
                        },
                        getLabel: function() {
                            return _this6.serviceProxy.getCustomButtonLabel();
                        },
                        isEnabled: function() {
                            return _this6.serviceProxy.isCustomButtonEnabled();
                        },
                        isVisible: function() {
                            return _this6.serviceProxy.isCustomButtonVisible();
                        }
                    };
                }
            }, {
                key: "nextStageButton",
                get: function() {
                    var _this7 = this;
                    return {
                        click: function() {
                            return _this7.serviceProxy.clickNextStageButton();
                        },
                        getLabel: function() {
                            return _this7.serviceProxy.getNextStageButtonLabel();
                        },
                        isEnabled: function() {
                            return _this7.serviceProxy.isNextStageButtonEnabled();
                        },
                        isVisible: function() {
                            return _this7.serviceProxy.isNextStageButtonVisible();
                        }
                    };
                }
            }, {
                key: "createConnectionFlowCallbacks",
                get: function() {
                    var _this8 = this;
                    return {
                        commit: function(shouldTestConnection) {
                            return _this8.serviceProxy.createConnectionFlow_commit(shouldTestConnection);
                        }
                    };
                }
            }, {
                key: "previousStageButton",
                get: function() {
                    var _this9 = this;
                    return {
                        click: function() {
                            return _this9.serviceProxy.clickPreviousStageButton();
                        },
                        getLabel: function() {
                            return _this9.serviceProxy.getPreviousStageButtonLabel();
                        },
                        isEnabled: function() {
                            return _this9.serviceProxy.isPreviousStageButtonEnabled();
                        },
                        isVisible: function() {
                            return _this9.serviceProxy.isPreviousStageButtonVisible();
                        }
                    };
                }
            }, {
                key: "ready",
                get: function() {
                    return this.appReady.promise;
                }
            } ]), MashupEditorClient;
        }();
        !function(MashupRenameResultKind) {
            MashupRenameResultKind.Success = "Success", MashupRenameResultKind.Error_EmptyName = "Error_EmptyName", 
            MashupRenameResultKind.Error_InvalidCharacters = "Error_InvalidCharacters", MashupRenameResultKind.Error_NameAlreadyExists = "Error_NameAlreadyExists", 
            MashupRenameResultKind.Error_NameTooLong = "Error_NameTooLong";
        }(MashupRenameResultKind || (MashupRenameResultKind = {})), function(CloseButtonActionOnClick) {
            CloseButtonActionOnClick.Cancel = "Cancel", CloseButtonActionOnClick.Commit = "Commit";
        }(CloseButtonActionOnClick || (CloseButtonActionOnClick = {})), function(CloseButtonActionOnConfirm) {
            CloseButtonActionOnConfirm.AlwaysCancel = "AlwaysCancel", CloseButtonActionOnConfirm.AlwaysCommit = "AlwaysCommit", 
            CloseButtonActionOnConfirm.Ask = "Ask";
        }(CloseButtonActionOnConfirm || (CloseButtonActionOnConfirm = {})), function(CommandKind) {
            CommandKind.BuiltInCommand = "BuiltInCommand", CommandKind.HostCommand = "HostCommand";
        }(CommandKind || (CommandKind = {})), function(TransformCommandFoldingResource) {
            TransformCommandFoldingResource.Kusto = "kusto", TransformCommandFoldingResource.Sql = "sql";
        }(TransformCommandFoldingResource || (TransformCommandFoldingResource = {})), function(StepTextType) {
            StepTextType.StepLabel = "StepLabel", StepTextType.StepName = "StepName";
        }(StepTextType || (StepTextType = {})), function(QueryKind) {
            QueryKind.CalculatedEntity = "CalculatedEntity", QueryKind.Default = "Default", 
            QueryKind.LinkedEntity = "LinkedEntity", QueryKind.Parameter = "Parameter", QueryKind.Visual = "Visual";
        }(QueryKind || (QueryKind = {})), function(QueryVisualizationMode) {
            QueryVisualizationMode.Data = "Data", QueryVisualizationMode.Schema = "Schema";
        }(QueryVisualizationMode || (QueryVisualizationMode = {})), function(ScriptEditorScope) {
            ScriptEditorScope.None = "None", ScriptEditorScope.Query = "Query", ScriptEditorScope.Step = "Step";
        }(ScriptEditorScope || (ScriptEditorScope = {})), function(MessageLevel) {
            MessageLevel.Critical = "Critical", MessageLevel.Error = "Error";
        }(MessageLevel || (MessageLevel = {})), function(EnabledStatePolicy) {
            EnabledStatePolicy.AlwaysDisabled = "AlwaysDisabled", EnabledStatePolicy.Default = "Default";
        }(EnabledStatePolicy || (EnabledStatePolicy = {})), function(EvaluationStateKind) {
            EvaluationStateKind.Cancelled = "Cancelled", EvaluationStateKind.Completed = "Completed", 
            EvaluationStateKind.Failed = "Failed", EvaluationStateKind.NotStarted = "NotStarted", 
            EvaluationStateKind.Running = "Running";
        }(EvaluationStateKind || (EvaluationStateKind = {})), function(BuiltInIconId) {
            BuiltInIconId.Access = "Access", BuiltInIconId.Access_Monocolor = "Access_Monocolor", 
            BuiltInIconId.ActiveDirectory = "ActiveDirectory", BuiltInIconId.AddFuzzyClusterColumn = "AddFuzzyClusterColumn", 
            BuiltInIconId.AddRankColumn = "AddRankColumn", BuiltInIconId.AdobeAnalytics = "AdobeAnalytics", 
            BuiltInIconId.AIInsights = "AIInsights", BuiltInIconId.AllFilled = "AllFilled", 
            BuiltInIconId.AllRegular = "AllRegular", BuiltInIconId.Alternates = "Alternates", 
            BuiltInIconId.AnyType = "AnyType", BuiltInIconId.AppendQueries = "AppendQueries", 
            BuiltInIconId.AppendQueriesAsNew = "AppendQueriesAsNew", BuiltInIconId.AzureAnalysisServices = "AzureAnalysisServices", 
            BuiltInIconId.AzureBlobs = "AzureBlobs", BuiltInIconId.AzureFilled = "AzureFilled", 
            BuiltInIconId.AzureHdInsightClusters = "AzureHdInsightClusters", BuiltInIconId.AzureRegular = "AzureRegular", 
            BuiltInIconId.AzureSql = "AzureSql", BuiltInIconId.AzureSynapse = "AzureSynapse", 
            BuiltInIconId.AzureTables = "AzureTables", BuiltInIconId.Binary = "Binary", BuiltInIconId.Blog = "Blog", 
            BuiltInIconId.BlueLink = "BlueLink", BuiltInIconId.CalculatedEntity = "CalculatedEntity", 
            BuiltInIconId.Calculator = "Calculator", BuiltInIconId.Cancel = "Cancel", BuiltInIconId.CancelRefresh = "CancelRefresh", 
            BuiltInIconId.Cds = "Cds", BuiltInIconId.ChartClusteredBar = "ChartClusteredBar", 
            BuiltInIconId.ChartClusteredColumn = "ChartClusteredColumn", BuiltInIconId.ChartLine = "ChartLine", 
            BuiltInIconId.ChartPercentageStackedArea = "ChartPercentageStackedArea", BuiltInIconId.ChartPercentageStackedBar = "ChartPercentageStackedBar", 
            BuiltInIconId.ChartPercentageStackedColumn = "ChartPercentageStackedColumn", BuiltInIconId.ChartStackedArea = "ChartStackedArea", 
            BuiltInIconId.ChartStackedBar = "ChartStackedBar", BuiltInIconId.ChartStackedColumn = "ChartStackedColumn", 
            BuiltInIconId.Checkmark = "Checkmark", BuiltInIconId.ChooseColumns = "ChooseColumns", 
            BuiltInIconId.ClearFilter = "ClearFilter", BuiltInIconId.Close = "Close", BuiltInIconId.CloseAndLoad = "CloseAndLoad", 
            BuiltInIconId.CloseAndLoadTo = "CloseAndLoadTo", BuiltInIconId.CloseRed = "CloseRed", 
            BuiltInIconId.Column = "Column", BuiltInIconId.ColumnByExample = "ColumnByExample", 
            BuiltInIconId.CombineFiles = "CombineFiles", BuiltInIconId.Community = "Community", 
            BuiltInIconId.ConditionalColumn = "ConditionalColumn", BuiltInIconId.ConnectDatabase = "ConnectDatabase", 
            BuiltInIconId.Copilot = "Copilot", BuiltInIconId.Copy = "Copy", BuiltInIconId.CountRows = "CountRows", 
            BuiltInIconId.Cube = "Cube", BuiltInIconId.CubeAddAndExpandDimensionColumn = "CubeAddAndExpandDimensionColumn", 
            BuiltInIconId.CubeCollapseAndRemoveColumns = "CubeCollapseAndRemoveColumns", BuiltInIconId.CubeDimension = "CubeDimension", 
            BuiltInIconId.CubeDimensionAttribute = "CubeDimensionAttribute", BuiltInIconId.CubeDimensionHierarchy = "CubeDimensionHierarchy", 
            BuiltInIconId.CubeMeasure = "CubeMeasure", BuiltInIconId.CubeServer = "CubeServer", 
            BuiltInIconId.Currency = "Currency", BuiltInIconId.CustomColumn = "CustomColumn", 
            BuiltInIconId.Cut = "Cut", BuiltInIconId.Database = "Database", BuiltInIconId.DatabaseClock = "DatabaseClock", 
            BuiltInIconId.DatabaseDynamic = "DatabaseDynamic", BuiltInIconId.DatabaseFilled = "DatabaseFilled", 
            BuiltInIconId.DatabaseLightning = "DatabaseLightning", BuiltInIconId.DatabaseOpaque = "DatabaseOpaque", 
            BuiltInIconId.DatabaseRefresh = "DatabaseRefresh", BuiltInIconId.DatabaseRegular = "DatabaseRegular", 
            BuiltInIconId.Databases = "Databases", BuiltInIconId.DatabaseUnknown = "DatabaseUnknown", 
            BuiltInIconId.Dataflows = "Dataflows", BuiltInIconId.Dataverse = "Dataverse", BuiltInIconId.Date = "Date", 
            BuiltInIconId.DateTime = "DateTime", BuiltInIconId.DateTimeZone = "DateTimeZone", 
            BuiltInIconId.Delete = "Delete", BuiltInIconId.DeleteFile = "DeleteFile", BuiltInIconId.DemoteHeaders = "DemoteHeaders", 
            BuiltInIconId.DetectDataType = "DetectDataType", BuiltInIconId.Diagram = "Diagram", 
            BuiltInIconId.Documentation = "Documentation", BuiltInIconId.DragQueries = "DragQueries", 
            BuiltInIconId.DragQueryGroups = "DragQueryGroups", BuiltInIconId.DuplicateColumn = "DuplicateColumn", 
            BuiltInIconId.Duration = "Duration", BuiltInIconId.Dynamics365 = "Dynamics365", 
            BuiltInIconId.Empty = "Empty", BuiltInIconId.Entity = "Entity", BuiltInIconId.Error = "Error", 
            BuiltInIconId.Excel = "Excel", BuiltInIconId.Excel_Monocolor = "Excel_Monocolor", 
            BuiltInIconId.Exchange = "Exchange", BuiltInIconId.Exchange_Monocolor = "Exchange_Monocolor", 
            BuiltInIconId.Expand = "Expand", BuiltInIconId.ExpandColumn = "ExpandColumn", BuiltInIconId.Fabric = "Fabric", 
            BuiltInIconId.FabricFilled = "FabricFilled", BuiltInIconId.FabricRegular = "FabricRegular", 
            BuiltInIconId.FastCopy = "FastCopy", BuiltInIconId.Feedback = "Feedback", BuiltInIconId.FeedbackExtremelyDissatisfied = "FeedbackExtremelyDissatisfied", 
            BuiltInIconId.FeedbackExtremelySatisfied = "FeedbackExtremelySatisfied", BuiltInIconId.FeedbackSomewhatDissatisfied = "FeedbackSomewhatDissatisfied", 
            BuiltInIconId.FeedbackSomewhatSatisfied = "FeedbackSomewhatSatisfied", BuiltInIconId.Fhir = "Fhir", 
            BuiltInIconId.FileFilled = "FileFilled", BuiltInIconId.FileRegular = "FileRegular", 
            BuiltInIconId.FillDown = "FillDown", BuiltInIconId.FillUp = "FillUp", BuiltInIconId.Filter = "Filter", 
            BuiltInIconId.FitToView = "FitToView", BuiltInIconId.FluentView = "FluentView", 
            BuiltInIconId.Folder = "Folder", BuiltInIconId.FormatText = "FormatText", BuiltInIconId.FullScreen = "FullScreen", 
            BuiltInIconId.Function = "Function", BuiltInIconId.Gear = "Gear", BuiltInIconId.GetData = "GetData", 
            BuiltInIconId.GoogleAnalytics = "GoogleAnalytics", BuiltInIconId.GoToColumn = "GoToColumn", 
            BuiltInIconId.GridAutoFilter = "GridAutoFilter", BuiltInIconId.GridCombineFiles = "GridCombineFiles", 
            BuiltInIconId.GridEditFilter = "GridEditFilter", BuiltInIconId.GridExpandColumn = "GridExpandColumn", 
            BuiltInIconId.GridSortedAscending = "GridSortedAscending", BuiltInIconId.GridSortedDescending = "GridSortedDescending", 
            BuiltInIconId.GroupBy = "GroupBy", BuiltInIconId.HorizontalLayout = "HorizontalLayout", 
            BuiltInIconId.IndexColumn = "IndexColumn", BuiltInIconId.Info = "Info", BuiltInIconId.InsertColumnsLeft = "InsertColumnsLeft", 
            BuiltInIconId.InsertColumnsRight = "InsertColumnsRight", BuiltInIconId.InsertRowsAbove = "InsertRowsAbove", 
            BuiltInIconId.InsertRowsBelow = "InsertRowsBelow", BuiltInIconId.InvokeCustomFunction = "InvokeCustomFunction", 
            BuiltInIconId.JoinKindFullOuter = "JoinKindFullOuter", BuiltInIconId.JoinKindInner = "JoinKindInner", 
            BuiltInIconId.JoinKindLeftAnti = "JoinKindLeftAnti", BuiltInIconId.JoinKindLeftOuter = "JoinKindLeftOuter", 
            BuiltInIconId.JoinKindRightAnti = "JoinKindRightAnti", BuiltInIconId.JoinKindRightOuter = "JoinKindRightOuter", 
            BuiltInIconId.KeepBottomRows = "KeepBottomRows", BuiltInIconId.KeepDuplicates = "KeepDuplicates", 
            BuiltInIconId.KeepErrors = "KeepErrors", BuiltInIconId.KeepRange = "KeepRange", 
            BuiltInIconId.KeepTopRows = "KeepTopRows", BuiltInIconId.Key = "Key", BuiltInIconId.KeyboardShortcuts = "KeyboardShortcuts", 
            BuiltInIconId.Kusto = "Kusto", BuiltInIconId.LightBulb = "LightBulb", BuiltInIconId.LinkedEntity = "LinkedEntity", 
            BuiltInIconId.List = "List", BuiltInIconId.ListToTable = "ListToTable", BuiltInIconId.Load = "Load", 
            BuiltInIconId.Logical = "Logical", BuiltInIconId.ManageConnections = "ManageConnections", 
            BuiltInIconId.ManageDataSources = "ManageDataSources", BuiltInIconId.Map = "Map", 
            BuiltInIconId.MapToEntity = "MapToEntity", BuiltInIconId.MashupGraphCollapse = "MashupGraphCollapse", 
            BuiltInIconId.MashupGraphExpand = "MashupGraphExpand", BuiltInIconId.MashupGraphRelated = "MashupGraphRelated", 
            BuiltInIconId.MathInfo = "MathInfo", BuiltInIconId.MergeColumns = "MergeColumns", 
            BuiltInIconId.MergeQueries = "MergeQueries", BuiltInIconId.MergeQueriesAsNew = "MergeQueriesAsNew", 
            BuiltInIconId.More = "More", BuiltInIconId.MoveColumns = "MoveColumns", BuiltInIconId.MoveColumnsLeft = "MoveColumnsLeft", 
            BuiltInIconId.MoveColumnsRight = "MoveColumnsRight", BuiltInIconId.MoveColumnsToBeginning = "MoveColumnsToBeginning", 
            BuiltInIconId.MoveColumnsToEnd = "MoveColumnsToEnd", BuiltInIconId.MoveDown = "MoveDown", 
            BuiltInIconId.MoveLeft = "MoveLeft", BuiltInIconId.MoveRight = "MoveRight", BuiltInIconId.MoveUp = "MoveUp", 
            BuiltInIconId.Neutral = "Neutral", BuiltInIconId.Number = "Number", BuiltInIconId.OData = "OData", 
            BuiltInIconId.Odbc = "Odbc", BuiltInIconId.OnlineServicesFilled = "OnlineServicesFilled", 
            BuiltInIconId.OnlineServicesRegular = "OnlineServicesRegular", BuiltInIconId.OtherFilled = "OtherFilled", 
            BuiltInIconId.OtherRegular = "OtherRegular", BuiltInIconId.Parameter = "Parameter", 
            BuiltInIconId.Parquet = "Parquet", BuiltInIconId.Parse = "Parse", BuiltInIconId.Paste = "Paste", 
            BuiltInIconId.Pdf = "Pdf", BuiltInIconId.Pencil = "Pencil", BuiltInIconId.Percentage = "Percentage", 
            BuiltInIconId.PivotColumn = "PivotColumn", BuiltInIconId.Plus = "Plus", BuiltInIconId.PowerBI = "PowerBI", 
            BuiltInIconId.PowerBIReport = "PowerBIReport", BuiltInIconId.PowerPlatformFilled = "PowerPlatformFilled", 
            BuiltInIconId.PowerPlatformRegular = "PowerPlatformRegular", BuiltInIconId.PowerQuery = "PowerQuery", 
            BuiltInIconId.PrimitiveToList = "PrimitiveToList", BuiltInIconId.PrivacyBuffering = "PrivacyBuffering", 
            BuiltInIconId.PromoteHeaders = "PromoteHeaders", BuiltInIconId.Properties = "Properties", 
            BuiltInIconId.QuerySettings = "QuerySettings", BuiltInIconId.QuestionMark = "QuestionMark", 
            BuiltInIconId.Record = "Record", BuiltInIconId.Reference = "Reference", BuiltInIconId.Refresh = "Refresh", 
            BuiltInIconId.RemoveAlternateRows = "RemoveAlternateRows", BuiltInIconId.RemoveBlankRows = "RemoveBlankRows", 
            BuiltInIconId.RemoveBottomRows = "RemoveBottomRows", BuiltInIconId.RemoveColumns = "RemoveColumns", 
            BuiltInIconId.RemoveDuplicates = "RemoveDuplicates", BuiltInIconId.RemoveErrors = "RemoveErrors", 
            BuiltInIconId.RemoveOtherColumns = "RemoveOtherColumns", BuiltInIconId.RemoveRows = "RemoveRows", 
            BuiltInIconId.RemoveTopRows = "RemoveTopRows", BuiltInIconId.Rename = "Rename", 
            BuiltInIconId.ReplaceErrors = "ReplaceErrors", BuiltInIconId.ReplaceValues = "ReplaceValues", 
            BuiltInIconId.Reset = "Reset", BuiltInIconId.ReverseRows = "ReverseRows", BuiltInIconId.Rounding = "Rounding", 
            BuiltInIconId.Salesforce = "Salesforce", BuiltInIconId.Save = "Save", BuiltInIconId.Scientific = "Scientific", 
            BuiltInIconId.Script = "Script", BuiltInIconId.Sensitivity = "Sensitivity", BuiltInIconId.Settings = "Settings", 
            BuiltInIconId.Share = "Share", BuiltInIconId.SharePoint = "SharePoint", BuiltInIconId.Sheet = "Sheet", 
            BuiltInIconId.SheetAccess = "SheetAccess", BuiltInIconId.SheetCsv = "SheetCsv", 
            BuiltInIconId.SheetDataflow = "SheetDataflow", BuiltInIconId.SheetExcel = "SheetExcel", 
            BuiltInIconId.SheetHtml = "SheetHtml", BuiltInIconId.SheetJson = "SheetJson", BuiltInIconId.SheetSql = "SheetSql", 
            BuiltInIconId.SheetText = "SheetText", BuiltInIconId.SheetXml = "SheetXml", BuiltInIconId.SortAscending = "SortAscending", 
            BuiltInIconId.SortDescending = "SortDescending", BuiltInIconId.Spark = "Spark", 
            BuiltInIconId.Sparkle = "Sparkle", BuiltInIconId.Sparkle_Monocolor = "Sparkle_Monocolor", 
            BuiltInIconId.SplitColumn = "SplitColumn", BuiltInIconId.Standard = "Standard", 
            BuiltInIconId.Statistics = "Statistics", BuiltInIconId.Success = "Success", BuiltInIconId.Suggestion = "Suggestion", 
            BuiltInIconId.Support = "Support", BuiltInIconId.Table = "Table", BuiltInIconId.TableSchema = "TableSchema", 
            BuiltInIconId.Template = "Template", BuiltInIconId.Text = "Text", BuiltInIconId.TextFile = "TextFile", 
            BuiltInIconId.Time = "Time", BuiltInIconId.ToTable = "ToTable", BuiltInIconId.Transpose = "Transpose", 
            BuiltInIconId.Trigonometry = "Trigonometry", BuiltInIconId.UnknownType = "UnknownType", 
            BuiltInIconId.Unlink = "Unlink", BuiltInIconId.UnpivotColumns = "UnpivotColumns", 
            BuiltInIconId.Vertica = "Vertica", BuiltInIconId.VerticalLayout = "VerticalLayout", 
            BuiltInIconId.View = "View", BuiltInIconId.Visual = "Visual", BuiltInIconId.Wand = "Wand", 
            BuiltInIconId.Warning = "Warning", BuiltInIconId.Web = "Web", BuiltInIconId.Website = "Website", 
            BuiltInIconId.WholeNumber = "WholeNumber", BuiltInIconId.Worksheet = "Worksheet";
        }(BuiltInIconId || (BuiltInIconId = {})), function(RefreshEntitySettingsKind) {
            RefreshEntitySettingsKind.FullRefresh = "FullRefresh", RefreshEntitySettingsKind.IncrementalRefresh = "IncrementalRefresh";
        }(RefreshEntitySettingsKind || (RefreshEntitySettingsKind = {})), function(TimePeriodUnit) {
            TimePeriodUnit.Days = "Days", TimePeriodUnit.Months = "Months", TimePeriodUnit.Quarters = "Quarters", 
            TimePeriodUnit.Years = "Years";
        }(TimePeriodUnit || (TimePeriodUnit = {})), function(EntityKind) {
            EntityKind.Custom = "Custom", EntityKind.Standard = "Standard", EntityKind.System = "System";
        }(EntityKind || (EntityKind = {})), function(TableProfilerEvaluationMode) {
            TableProfilerEvaluationMode.EvaluateTop1000Rows = "EvaluateTop1000Rows", TableProfilerEvaluationMode.EvaluateEntireDataset = "EvaluateEntireDataset";
        }(TableProfilerEvaluationMode || (TableProfilerEvaluationMode = {})), function(MashupTypeName) {
            MashupTypeName.Action = "Action.Type", MashupTypeName.Any = "Any.Type", MashupTypeName.Binary = "Binary.Type", 
            MashupTypeName.Byte = "Byte.Type", MashupTypeName.Character = "Character.Type", 
            MashupTypeName.Currency = "Currency.Type", MashupTypeName.Date = "Date.Type", MashupTypeName.DateTime = "DateTime.Type", 
            MashupTypeName.DateTimeZone = "DateTimeZone.Type", MashupTypeName.Decimal = "Decimal.Type", 
            MashupTypeName.Double = "Double.Type", MashupTypeName.Duration = "Duration.Type", 
            MashupTypeName.Function = "Function.Type", MashupTypeName.Int16 = "Int16.Type", 
            MashupTypeName.Int32 = "Int32.Type", MashupTypeName.Int64 = "Int64.Type", MashupTypeName.Int8 = "Int8.Type", 
            MashupTypeName.List = "List.Type", MashupTypeName.Logical = "Logical.Type", MashupTypeName.None = "None.Type", 
            MashupTypeName.Null = "Null.Type", MashupTypeName.Number = "Number.Type", MashupTypeName.Percentage = "Percentage.Type", 
            MashupTypeName.Record = "Record.Type", MashupTypeName.Single = "Single.Type", MashupTypeName.Table = "Table.Type", 
            MashupTypeName.Text = "Text.Type", MashupTypeName.Time = "Time.Type", MashupTypeName.Type = "Type.Type";
        }(MashupTypeName || (MashupTypeName = {})), function(RibbonMode) {
            RibbonMode.MultiLine = "MultiLine", RibbonMode.SingleLine = "SingleLine";
        }(RibbonMode || (RibbonMode = {})), function(ColumnTypeAndHeaderDetectionPolicy) {
            ColumnTypeAndHeaderDetectionPolicy.Always = "Always", ColumnTypeAndHeaderDetectionPolicy.BasedOnProjectSettings = "BasedOnProjectSettings", 
            ColumnTypeAndHeaderDetectionPolicy.Never = "Never";
        }(ColumnTypeAndHeaderDetectionPolicy || (ColumnTypeAndHeaderDetectionPolicy = {})), 
        function(ExpansionState) {
            ExpansionState.Collapsed = "Collapsed", ExpansionState.Expanded = "Expanded", ExpansionState.Maximized = "Maximized";
        }(ExpansionState || (ExpansionState = {})), function(UserSettingsChangeReason) {
            UserSettingsChangeReason.Host = "Host", UserSettingsChangeReason.Initialization = "Initialization", 
            UserSettingsChangeReason.UserInteraction = "UserInteraction";
        }(UserSettingsChangeReason || (UserSettingsChangeReason = {})), function(TypeName) {
            TypeName.Action = "action", TypeName.Any = "any", TypeName.AnyNonNull = "anynonnull", 
            TypeName.Binary = "binary", TypeName.Currency = "currency", TypeName.Date = "date", 
            TypeName.DateTime = "datetime", TypeName.DateTimeZone = "datetimezone", TypeName.Duration = "duration", 
            TypeName.Exception = "exception", TypeName.Function = "function", TypeName.List = "list", 
            TypeName.Logical = "logical", TypeName.None = "none", TypeName.Null = "null", TypeName.Number = "number", 
            TypeName.Percentage = "percentage", TypeName.Record = "record", TypeName.Table = "table", 
            TypeName.Text = "text", TypeName.Time = "time", TypeName.Type = "type", TypeName.WholeNumber = "wholenumber";
        }(TypeName || (TypeName = {})), function(CssSizeKind) {
            CssSizeKind.Auto = "Auto", CssSizeKind.Percent = "Percent", CssSizeKind.Pixels = "Pixels";
        }(CssSizeKind || (CssSizeKind = {})), function(GridSelectionType) {
            GridSelectionType.Cells = "Cells", GridSelectionType.Columns = "Columns", GridSelectionType.Rows = "Rows";
        }(GridSelectionType || (GridSelectionType = {})), function(BuiltInDataSourceTemplateKind) {
            BuiltInDataSourceTemplateKind.Access = "access", BuiltInDataSourceTemplateKind.ActiveDirectory = "activeDirectory", 
            BuiltInDataSourceTemplateKind.AdobeAnalytics = "adobeAnalytics", BuiltInDataSourceTemplateKind.AnalysisServices = "analysisServices", 
            BuiltInDataSourceTemplateKind.AzureAnalysisServices = "azureAnalysisServices", BuiltInDataSourceTemplateKind.AzureBlobs = "azureBlobs", 
            BuiltInDataSourceTemplateKind.AzureDataLake = "azureDataLake", BuiltInDataSourceTemplateKind.AzureHdInsightHdfs = "azureHdInsightHdfs", 
            BuiltInDataSourceTemplateKind.AzureSql = "azureSql", BuiltInDataSourceTemplateKind.AzureSqlDw = "azureSqlDW", 
            BuiltInDataSourceTemplateKind.AzureTables = "azureTables", BuiltInDataSourceTemplateKind.Blank = "blank", 
            BuiltInDataSourceTemplateKind.Db2 = "db2", BuiltInDataSourceTemplateKind.Dynamics365 = "dynamics365", 
            BuiltInDataSourceTemplateKind.EnterData = "enterData", BuiltInDataSourceTemplateKind.Excel = "excel", 
            BuiltInDataSourceTemplateKind.ExchangeOnline = "exchangeOnline", BuiltInDataSourceTemplateKind.FolderContents = "folderContents", 
            BuiltInDataSourceTemplateKind.FolderFiles = "folderFiles", BuiltInDataSourceTemplateKind.GoogleAnalytics = "googleAnalytics", 
            BuiltInDataSourceTemplateKind.Json = "json", BuiltInDataSourceTemplateKind.MySql = "mySql", 
            BuiltInDataSourceTemplateKind.Odata = "odata", BuiltInDataSourceTemplateKind.Odbc = "odbc", 
            BuiltInDataSourceTemplateKind.Oracle = "oracle", BuiltInDataSourceTemplateKind.Parquet = "parquet", 
            BuiltInDataSourceTemplateKind.Pdf = "pdf", BuiltInDataSourceTemplateKind.PostgreSql = "postgreSql", 
            BuiltInDataSourceTemplateKind.SharepointFolder = "sharepointFolder", BuiltInDataSourceTemplateKind.SharepointList = "sharepointList", 
            BuiltInDataSourceTemplateKind.SharepointOnlineList = "sharepointOnlineList", BuiltInDataSourceTemplateKind.SalesforceObjects = "salesforceObjects", 
            BuiltInDataSourceTemplateKind.SalesforceReports = "salesforceReports", BuiltInDataSourceTemplateKind.SapBusinessWarehouseAppServer = "SapBusinessWarehouseAppServer", 
            BuiltInDataSourceTemplateKind.SapBusinessWarehouseMessageServer = "SapBusinessWarehouseMessageServer", 
            BuiltInDataSourceTemplateKind.SapHanaDatabase = "SapHanaDatabase", BuiltInDataSourceTemplateKind.Sql = "sql", 
            BuiltInDataSourceTemplateKind.Sybase = "sybase", BuiltInDataSourceTemplateKind.Teradata = "teradata", 
            BuiltInDataSourceTemplateKind.TextCsv = "textCsv", BuiltInDataSourceTemplateKind.Web = "web", 
            BuiltInDataSourceTemplateKind.WebApi = "webApi", BuiltInDataSourceTemplateKind.Xml = "xml";
        }(BuiltInDataSourceTemplateKind || (BuiltInDataSourceTemplateKind = {})), function(ExtensionDataSourceTemplateKind) {
            ExtensionDataSourceTemplateKind.Extension = "extension";
        }(ExtensionDataSourceTemplateKind || (ExtensionDataSourceTemplateKind = {})), function(ActionRefreshStatus) {
            ActionRefreshStatus.Failed = "Failed", ActionRefreshStatus.Idle = "Idle", ActionRefreshStatus.InProgress = "InProgress", 
            ActionRefreshStatus.Success = "Success";
        }(ActionRefreshStatus || (ActionRefreshStatus = {})), function(CdsQueryLoadStatusCode) {
            CdsQueryLoadStatusCode.WaitingToStart = "WaitingToStart", CdsQueryLoadStatusCode.EvaluatingRelationships = "EvaluatingRelationships", 
            CdsQueryLoadStatusCode.WaitingForOtherEntities = "WaitingForOtherEntities", CdsQueryLoadStatusCode.EvaluatingSchema = "EvaluatingSchema", 
            CdsQueryLoadStatusCode.DeletingEntity = "DeletingEntity", CdsQueryLoadStatusCode.CreatingEntity = "CreatingEntity", 
            CdsQueryLoadStatusCode.DeletingExistingData = "DeletingExistingData", CdsQueryLoadStatusCode.EvaluatingData = "EvaluatingData", 
            CdsQueryLoadStatusCode.ProvisioningTempStorage = "ProvisioningTempStorage", CdsQueryLoadStatusCode.UploadingDataToTempStorage = "UploadingDataToTempStorage", 
            CdsQueryLoadStatusCode.InitializingLoadSession = "InitializingLoadSession", CdsQueryLoadStatusCode.WaitingForLoadSessionToInitialize = "WaitingForLoadSessionToInitialize", 
            CdsQueryLoadStatusCode.CreatingDefinitionGroup = "CreatingDefinitionGroup", CdsQueryLoadStatusCode.CreatingDefinitionGroupDetails = "CreatingDefinitionGroupDetails", 
            CdsQueryLoadStatusCode.UploadingData = "UploadingData", CdsQueryLoadStatusCode.GeneratingFieldMapping = "GeneratingFieldMapping", 
            CdsQueryLoadStatusCode.AutoSequencing = "AutoSequencing", CdsQueryLoadStatusCode.ExecutingLoad = "ExecutingLoad", 
            CdsQueryLoadStatusCode.WaitingForLoadToComplete = "WaitingForLoadToComplete", CdsQueryLoadStatusCode.GeneratingExecutionErrors = "GeneratingExecutionErrors", 
            CdsQueryLoadStatusCode.Success = "Success", CdsQueryLoadStatusCode.SignInRequired = "SignInRequired", 
            CdsQueryLoadStatusCode.DeletingExistingDataFailed = "DeletingExistingDataFailed", 
            CdsQueryLoadStatusCode.EvaluationFailed = "EvaluationFailed", CdsQueryLoadStatusCode.CreatingEntityFailed = "CreatingEntityFailed", 
            CdsQueryLoadStatusCode.DeletingEntityFailed = "DeletingEntityFailed", CdsQueryLoadStatusCode.RetrievingEntityMetadataFailed = "RetrievingEntityMetadataFailed", 
            CdsQueryLoadStatusCode.Canceled = "Canceled", CdsQueryLoadStatusCode.LoadToCdsPartiallySucceeded = "LoadToCdsPartiallySucceeded", 
            CdsQueryLoadStatusCode.LoadToCdsFailed = "LoadToCdsFailed", CdsQueryLoadStatusCode.LoadFailedDueToErrorInOtherEntity = "LoadFailedDueToErrorInOtherEntity", 
            CdsQueryLoadStatusCode.Unknown = "Unknown";
        }(CdsQueryLoadStatusCode || (CdsQueryLoadStatusCode = {})), function(ColumnByExampleTransformKind) {
            ColumnByExampleTransformKind.Composition = "Composition", ColumnByExampleTransformKind.Conditional = "Conditional", 
            ColumnByExampleTransformKind.CountDistinctValues = "CountDistinctValues", ColumnByExampleTransformKind.CountValues = "CountValues", 
            ColumnByExampleTransformKind.Date_Age = "Date_Age", ColumnByExampleTransformKind.Date_CombineWithTime = "Date_CombineWithTime", 
            ColumnByExampleTransformKind.Date_Day = "Date_Day", ColumnByExampleTransformKind.Date_DayOfWeek = "Date_DayOfWeek", 
            ColumnByExampleTransformKind.Date_DayOfWeekName = "Date_DayOfWeekName", ColumnByExampleTransformKind.Date_DayOfYear = "Date_DayOfYear", 
            ColumnByExampleTransformKind.Date_DaysInMonth = "Date_DaysInMonth", ColumnByExampleTransformKind.Date_Earliest = "Date_Earliest", 
            ColumnByExampleTransformKind.Date_EndOfDay = "Date_EndOfDay", ColumnByExampleTransformKind.Date_EndOfMonth = "Date_EndOfMonth", 
            ColumnByExampleTransformKind.Date_EndOfQuarter = "Date_EndOfQuarter", ColumnByExampleTransformKind.Date_EndOfWeek = "Date_EndOfWeek", 
            ColumnByExampleTransformKind.Date_EndOfYear = "Date_EndOfYear", ColumnByExampleTransformKind.Date_From = "Date_From", 
            ColumnByExampleTransformKind.Date_Latest = "Date_Latest", ColumnByExampleTransformKind.Date_Month = "Date_Month", 
            ColumnByExampleTransformKind.Date_MonthName = "Date_MonthName", ColumnByExampleTransformKind.Date_QuarterOfYear = "Date_QuarterOfYear", 
            ColumnByExampleTransformKind.Date_StartOfDay = "Date_StartOfDay", ColumnByExampleTransformKind.Date_StartOfMonth = "Date_StartOfMonth", 
            ColumnByExampleTransformKind.Date_StartOfQuarter = "Date_StartOfQuarter", ColumnByExampleTransformKind.Date_StartOfWeek = "Date_StartOfWeek", 
            ColumnByExampleTransformKind.Date_StartOfYear = "Date_StartOfYear", ColumnByExampleTransformKind.Date_SubtractDays = "Date_SubtractDays", 
            ColumnByExampleTransformKind.Date_WeekOfMonth = "Date_WeekOfMonth", ColumnByExampleTransformKind.Date_WeekOfYear = "Date_WeekOfYear", 
            ColumnByExampleTransformKind.Date_Year = "Date_Year", ColumnByExampleTransformKind.DateTime_Earliest = "DateTime_Earliest", 
            ColumnByExampleTransformKind.DateTime_From = "DateTime_From", ColumnByExampleTransformKind.DateTime_Latest = "DateTime_Latest", 
            ColumnByExampleTransformKind.DateTime_Subtract = "DateTime_Subtract", ColumnByExampleTransformKind.DateTime_SubtractDays = "DateTime_SubtractDays", 
            ColumnByExampleTransformKind.DateTimeZone_Earliest = "DateTimeZone_Earliest", ColumnByExampleTransformKind.DateTimeZone_From = "DateTimeZone_From", 
            ColumnByExampleTransformKind.DateTimeZone_Latest = "DateTimeZone_Latest", ColumnByExampleTransformKind.DateTimeZone_Subtract = "DateTimeZone_Subtract", 
            ColumnByExampleTransformKind.DateTimeZone_SubtractDays = "DateTimeZone_SubtractDays", 
            ColumnByExampleTransformKind.DateTimeZone_ToLocal = "DateTimeZone_ToLocal", ColumnByExampleTransformKind.Number_Abs = "Number_Abs", 
            ColumnByExampleTransformKind.Number_Acos = "Number_Acos", ColumnByExampleTransformKind.Number_Asin = "Number_Asin", 
            ColumnByExampleTransformKind.Number_Atan = "Number_Atan", ColumnByExampleTransformKind.Number_Average = "Number_Average", 
            ColumnByExampleTransformKind.Number_Cos = "Number_Cos", ColumnByExampleTransformKind.Number_Cube = "Number_Cube", 
            ColumnByExampleTransformKind.Number_Divide = "Number_Divide", ColumnByExampleTransformKind.Number_Exp = "Number_Exp", 
            ColumnByExampleTransformKind.Number_Factorial = "Number_Factorial", ColumnByExampleTransformKind.Number_From = "Number_From", 
            ColumnByExampleTransformKind.Number_IntegerDivide = "Number_IntegerDivide", ColumnByExampleTransformKind.Number_IsEven = "Number_IsEven", 
            ColumnByExampleTransformKind.Number_IsOdd = "Number_IsOdd", ColumnByExampleTransformKind.Number_Ln = "Number_Ln", 
            ColumnByExampleTransformKind.Number_Log10 = "Number_Log10", ColumnByExampleTransformKind.Number_Maximum = "Number_Maximum", 
            ColumnByExampleTransformKind.Number_Median = "Number_Median", ColumnByExampleTransformKind.Number_Minimum = "Number_Minimum", 
            ColumnByExampleTransformKind.Number_Modulo = "Number_Modulo", ColumnByExampleTransformKind.Number_MultiplyColumnAndConstant = "Number_MultiplyColumnAndConstant", 
            ColumnByExampleTransformKind.Number_MultiplyColumns = "Number_MultiplyColumns", 
            ColumnByExampleTransformKind.Number_PercentOf = "Number_PercentOf", ColumnByExampleTransformKind.Number_Power = "Number_Power", 
            ColumnByExampleTransformKind.Number_Range = "Number_Range", ColumnByExampleTransformKind.Number_Round = "Number_Round", 
            ColumnByExampleTransformKind.Number_RoundDown = "Number_RoundDown", ColumnByExampleTransformKind.Number_RoundUp = "Number_RoundUp", 
            ColumnByExampleTransformKind.Number_Sign = "Number_Sign", ColumnByExampleTransformKind.Number_Sin = "Number_Sin", 
            ColumnByExampleTransformKind.Number_Sqrt = "Number_Sqrt", ColumnByExampleTransformKind.Number_Square = "Number_Square", 
            ColumnByExampleTransformKind.Number_StandardDeviation = "Number_StandardDeviation", 
            ColumnByExampleTransformKind.Number_Subtract = "Number_Subtract", ColumnByExampleTransformKind.Number_SumColumnAndConstant = "Number_SumColumnAndConstant", 
            ColumnByExampleTransformKind.Number_SumColumns = "Number_SumColumns", ColumnByExampleTransformKind.Number_Tan = "Number_Tan", 
            ColumnByExampleTransformKind.Reference = "Reference", ColumnByExampleTransformKind.Text_AfterDelimiter = "Text_AfterDelimiter", 
            ColumnByExampleTransformKind.Text_BeforeDelimiter = "Text_BeforeDelimiter", ColumnByExampleTransformKind.Text_BetweenDelimiters = "Text_BetweenDelimiters", 
            ColumnByExampleTransformKind.Text_Combine = "Text_Combine", ColumnByExampleTransformKind.Text_End = "Text_End", 
            ColumnByExampleTransformKind.Text_Length = "Text_Length", ColumnByExampleTransformKind.Text_Literal = "Text_Literal", 
            ColumnByExampleTransformKind.Text_Middle = "Text_Middle", ColumnByExampleTransformKind.Text_Reference = "Text_Reference", 
            ColumnByExampleTransformKind.Text_Remove = "Text_Remove", ColumnByExampleTransformKind.Text_Replace = "Text_Replace", 
            ColumnByExampleTransformKind.Text_Select = "Text_Select", ColumnByExampleTransformKind.Text_Start = "Text_Start", 
            ColumnByExampleTransformKind.Time_Earliest = "Time_Earliest", ColumnByExampleTransformKind.Time_EndOfHour = "Time_EndOfHour", 
            ColumnByExampleTransformKind.Time_From = "Time_From", ColumnByExampleTransformKind.Time_Hour = "Time_Hour", 
            ColumnByExampleTransformKind.Time_Latest = "Time_Latest", ColumnByExampleTransformKind.Time_Minute = "Time_Minute", 
            ColumnByExampleTransformKind.Time_Second = "Time_Second", ColumnByExampleTransformKind.Time_StartOfHour = "Time_StartOfHour", 
            ColumnByExampleTransformKind.Time_Subtract = "Time_Subtract";
        }(ColumnByExampleTransformKind || (ColumnByExampleTransformKind = {})), function(ConnectionConsentLinkErrorCode) {
            ConnectionConsentLinkErrorCode.UnknownError = "UnknownError", ConnectionConsentLinkErrorCode.InvalidConnectionProvider = "InvalidConnectionProvider";
        }(ConnectionConsentLinkErrorCode || (ConnectionConsentLinkErrorCode = {})), function(ConnectionProviderType) {
            ConnectionProviderType.Adf = "Adf", ConnectionProviderType.CdsA = "CdsA", ConnectionProviderType.Desktop = "Desktop", 
            ConnectionProviderType.DmtsPowerBi = "DmtsPowerBi", ConnectionProviderType.DmtsSa = "DmtsSa", 
            ConnectionProviderType.None = "None", ConnectionProviderType.PowerApps = "PowerApps", 
            ConnectionProviderType.SelfHosted = "SelfHosted";
        }(ConnectionProviderType || (ConnectionProviderType = {})), function(DataflowComputeType) {
            DataflowComputeType.SqlDw = "SqlDw", DataflowComputeType.SynapseOnDemand = "SynapseOnDemand";
        }(DataflowComputeType || (DataflowComputeType = {})), function(DataflowRefreshMessageLevel) {
            DataflowRefreshMessageLevel.Error = "Error", DataflowRefreshMessageLevel.Warning = "Warning";
        }(DataflowRefreshMessageLevel || (DataflowRefreshMessageLevel = {})), function(DayOfWeek) {
            DayOfWeek[DayOfWeek.sunday = 0] = "sunday", DayOfWeek[DayOfWeek.monday = 1] = "monday", 
            DayOfWeek[DayOfWeek.tuesday = 2] = "tuesday", DayOfWeek[DayOfWeek.wednesday = 3] = "wednesday", 
            DayOfWeek[DayOfWeek.thursday = 4] = "thursday", DayOfWeek[DayOfWeek.friday = 5] = "friday", 
            DayOfWeek[DayOfWeek.saturday = 6] = "saturday";
        }(DayOfWeek || (DayOfWeek = {})), function(FieldType) {
            FieldType.Boolean = "Boolean", FieldType.DateAndTime = "DateAndTime", FieldType.DateOnly = "DateOnly", 
            FieldType.Decimal = "Decimal", FieldType.Double = "Double", FieldType.Integer = "Integer", 
            FieldType.Lookup = "Lookup", FieldType.Memo = "Memo", FieldType.Money = "Money", 
            FieldType.String = "String";
        }(FieldType || (FieldType = {})), function(GatewayKind) {
            GatewayKind.Resource = "Resource", GatewayKind.Personal = "Personal", GatewayKind.VirtualNetwork = "VirtualNetwork";
        }(GatewayKind || (GatewayKind = {})), function(GatewayStaticCapabilities) {
            GatewayStaticCapabilities[GatewayStaticCapabilities.none = 0] = "none", GatewayStaticCapabilities[GatewayStaticCapabilities.fetchDataSourceDetails = 1] = "fetchDataSourceDetails", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.schemaRowsets = 2] = "schemaRowsets", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.mdDataset = 4] = "mdDataset", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.columnOrdinals = 8] = "columnOrdinals", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.statefulSessions = 16] = "statefulSessions", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.directQuerySingleSignOn_Kerberos = 32] = "directQuerySingleSignOn_Kerberos", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.mashupCustomConnectors = 64] = "mashupCustomConnectors", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.mashupCustomConnectorsForODG = 128] = "mashupCustomConnectorsForODG", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.sapHanaSSOManagedProvider = 256] = "sapHanaSSOManagedProvider", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.filteringMashupExtensionsOnODG = 512] = "filteringMashupExtensionsOnODG", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.certifiedConnectors = 1024] = "certifiedConnectors", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.mashupAzureConnectorsCachingPool = 2048] = "mashupAzureConnectorsCachingPool", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.skipTestConnection = 4096] = "skipTestConnection", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.encryptedConnectionOptionOverride = 8192] = "encryptedConnectionOptionOverride", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.mashupADONetProviderSSO = 16384] = "mashupADONetProviderSSO", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.authTypeSAS = 32768] = "authTypeSAS", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.powerQueryOnlineCachingPool = 65536] = "powerQueryOnlineCachingPool", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.ssoTestConnection = 131072] = "ssoTestConnection", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.mashupIgnorePreviouslyCachedData = 262144] = "mashupIgnorePreviouslyCachedData", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.mashupQueryStatus = 524288] = "mashupQueryStatus", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.multipleResults = 1048576] = "multipleResults", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.renewDiagnosticsStorageAccess = 2097152] = "renewDiagnosticsStorageAccess", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.oAuthResource = 4194304] = "oAuthResource", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.statefulDbConnection = 8388608] = "statefulDbConnection", 
            GatewayStaticCapabilities[GatewayStaticCapabilities.discoverDatasourcesUsingMashupDSR = 16777216] = "discoverDatasourcesUsingMashupDSR";
        }(GatewayStaticCapabilities || (GatewayStaticCapabilities = {})), function(MessageTracingLevel) {
            MessageTracingLevel.Critical = "Critical", MessageTracingLevel.Error = "Error", 
            MessageTracingLevel.Warning = "Warning", MessageTracingLevel.Informational = "Informational", 
            MessageTracingLevel.Verbose = "Verbose";
        }(MessageTracingLevel || (MessageTracingLevel = {})), function(OneDriveGetTokenErrorCode) {
            OneDriveGetTokenErrorCode[OneDriveGetTokenErrorCode.connectionNotFound = 0] = "connectionNotFound", 
            OneDriveGetTokenErrorCode[OneDriveGetTokenErrorCode.failedToRefreshConnection = 1] = "failedToRefreshConnection", 
            OneDriveGetTokenErrorCode[OneDriveGetTokenErrorCode.unauthorizedConnection = 2] = "unauthorizedConnection";
        }(OneDriveGetTokenErrorCode || (OneDriveGetTokenErrorCode = {})), function(OneDriveVerifyConnectionAuthErrorCode) {
            OneDriveVerifyConnectionAuthErrorCode.DifferentUser = "DifferentUser", OneDriveVerifyConnectionAuthErrorCode.NoMatchingConnection = "NoMatchingConnection", 
            OneDriveVerifyConnectionAuthErrorCode.NonOAuthConnection = "NonOAuthConnection ", 
            OneDriveVerifyConnectionAuthErrorCode.NoToken = "NoToken";
        }(OneDriveVerifyConnectionAuthErrorCode || (OneDriveVerifyConnectionAuthErrorCode = {})), 
        function(PowerAppsEnvironmentStatusCode) {
            PowerAppsEnvironmentStatusCode.Active = "ActivePowerAppsEnvironment", PowerAppsEnvironmentStatusCode.HardDeleted = "HardDeletedPowerAppsEnvironment", 
            PowerAppsEnvironmentStatusCode.SoftDeleted = "SoftDeletedPowerAppsEnvironment", 
            PowerAppsEnvironmentStatusCode.Unknown = "UnknownPowerAppsEnvironment";
        }(PowerAppsEnvironmentStatusCode || (PowerAppsEnvironmentStatusCode = {})), function(QueryMetadataHostPropertyKey) {
            QueryMetadataHostPropertyKey.MappingEditorProperties = "MappingEditorProperties";
        }(QueryMetadataHostPropertyKey || (QueryMetadataHostPropertyKey = {})), function(RefreshGranularityTypeParameters) {
            RefreshGranularityTypeParameters[RefreshGranularityTypeParameters.day = 0] = "day", 
            RefreshGranularityTypeParameters[RefreshGranularityTypeParameters.month = 1] = "month", 
            RefreshGranularityTypeParameters[RefreshGranularityTypeParameters.quarter = 2] = "quarter", 
            RefreshGranularityTypeParameters[RefreshGranularityTypeParameters.year = 3] = "year";
        }(RefreshGranularityTypeParameters || (RefreshGranularityTypeParameters = {})), 
        function(RefreshPeriodUnit) {
            RefreshPeriodUnit.Minutes = "Minutes", RefreshPeriodUnit.Hours = "Hours", RefreshPeriodUnit.Days = "Days", 
            RefreshPeriodUnit.Weeks = "Weeks", RefreshPeriodUnit.Months = "Months";
        }(RefreshPeriodUnit || (RefreshPeriodUnit = {})), function(ServiceErrorReason) {
            ServiceErrorReason[ServiceErrorReason.uploadFileMalformedMultipartContent = 1] = "uploadFileMalformedMultipartContent", 
            ServiceErrorReason[ServiceErrorReason.uploadFileUnsupportedFileExtension = 2] = "uploadFileUnsupportedFileExtension", 
            ServiceErrorReason[ServiceErrorReason.oAuthStartLoginFailed = 3] = "oAuthStartLoginFailed", 
            ServiceErrorReason[ServiceErrorReason.oAuthFinishLoginFailed = 4] = "oAuthFinishLoginFailed", 
            ServiceErrorReason[ServiceErrorReason.normalizeResourceFailed = 8] = "normalizeResourceFailed", 
            ServiceErrorReason[ServiceErrorReason.editVersionMismatch = 9] = "editVersionMismatch", 
            ServiceErrorReason[ServiceErrorReason.updateGatewayVersion = 10] = "updateGatewayVersion", 
            ServiceErrorReason[ServiceErrorReason.mashupTooLong = 11] = "mashupTooLong", ServiceErrorReason[ServiceErrorReason.gatewayBindingMultipleMatchingGatewayError = 12] = "gatewayBindingMultipleMatchingGatewayError", 
            ServiceErrorReason[ServiceErrorReason.gatewayBindingNoMatchingDataSourceError = 13] = "gatewayBindingNoMatchingDataSourceError", 
            ServiceErrorReason[ServiceErrorReason.gatewayBindingNoMatchingGatewayError = 14] = "gatewayBindingNoMatchingGatewayError";
        }(ServiceErrorReason || (ServiceErrorReason = {})), function(TextByExampleErrorKind) {
            TextByExampleErrorKind.NoTextExampleFound = "NoTextExampleFound", TextByExampleErrorKind.NoTextProgramFound = "NoTextProgramFound", 
            TextByExampleErrorKind.NoTextProgramFoundBeforeCancellation = "NoTextProgramFoundBeforeCancellation", 
            TextByExampleErrorKind.NoTextProgramFoundBeforeTimeout = "NoTextProgramFoundBeforeTimeout";
        }(TextByExampleErrorKind || (TextByExampleErrorKind = {})), function(TextByExampleLearnExamplesResultKind) {
            TextByExampleLearnExamplesResultKind.Successful = "Successful", TextByExampleLearnExamplesResultKind.Failed = "Failed", 
            TextByExampleLearnExamplesResultKind.SessionExpired = "SessionExpired";
        }(TextByExampleLearnExamplesResultKind || (TextByExampleLearnExamplesResultKind = {})), 
        function(AmPmDistributionValue) {
            AmPmDistributionValue.AM = "AM", AmPmDistributionValue.PM = "PM";
        }(AmPmDistributionValue || (AmPmDistributionValue = {})), function(AuthKind) {
            AuthKind[AuthKind.anonymous = 1] = "anonymous", AuthKind[AuthKind.basic = 2] = "basic", 
            AuthKind[AuthKind.oAuth2 = 3] = "oAuth2", AuthKind[AuthKind.windows = 4] = "windows", 
            AuthKind[AuthKind.key = 5] = "key", AuthKind[AuthKind.sas = 6] = "sas", AuthKind[AuthKind.servicePrincipal = 7] = "servicePrincipal";
        }(AuthKind || (AuthKind = {})), function(BuiltInDataSourceOptionId) {
            BuiltInDataSourceOptionId.Access = "access", BuiltInDataSourceOptionId.ActiveDirectory = "activeDirectory", 
            BuiltInDataSourceOptionId.AdobeAnalytics = "adobeAnalytics", BuiltInDataSourceOptionId.AnalysisServices = "analysisServices", 
            BuiltInDataSourceOptionId.AzureAnalysisServices = "azureAnalysisServices", BuiltInDataSourceOptionId.AzureBlobs = "azureBlobs", 
            BuiltInDataSourceOptionId.AzureDataLake = "azureDataLake", BuiltInDataSourceOptionId.AzureHdInsightHdfs = "azureHdInsightHdfs", 
            BuiltInDataSourceOptionId.AzureSql = "azureSql", BuiltInDataSourceOptionId.AzureSqlDw = "azureSqlDW", 
            BuiltInDataSourceOptionId.AzureTables = "azureTables", BuiltInDataSourceOptionId.Blank = "blank", 
            BuiltInDataSourceOptionId.Db2 = "db2", BuiltInDataSourceOptionId.Dynamics365 = "dynamics365", 
            BuiltInDataSourceOptionId.EnterData = "enterData", BuiltInDataSourceOptionId.Excel = "excel", 
            BuiltInDataSourceOptionId.ExchangeOnline = "exchangeOnline", BuiltInDataSourceOptionId.FolderContents = "folderContents", 
            BuiltInDataSourceOptionId.FolderFiles = "folderFiles", BuiltInDataSourceOptionId.GoogleAnalytics = "googleAnalytics", 
            BuiltInDataSourceOptionId.Json = "json", BuiltInDataSourceOptionId.MySql = "mySql", 
            BuiltInDataSourceOptionId.Odata = "odata", BuiltInDataSourceOptionId.Odbc = "odbc", 
            BuiltInDataSourceOptionId.Oracle = "oracle", BuiltInDataSourceOptionId.Parquet = "parquet", 
            BuiltInDataSourceOptionId.Pdf = "pdf", BuiltInDataSourceOptionId.PostgreSql = "postgreSql", 
            BuiltInDataSourceOptionId.SharepointFolder = "sharepointFolder", BuiltInDataSourceOptionId.SharepointList = "sharepointList", 
            BuiltInDataSourceOptionId.SharepointOnlineList = "sharepointOnlineList", BuiltInDataSourceOptionId.SalesforceObjects = "salesforceObjects", 
            BuiltInDataSourceOptionId.SalesforceReports = "salesforceReports", BuiltInDataSourceOptionId.SapBusinessWarehouseAppServer = "SapBusinessWarehouseAppServer", 
            BuiltInDataSourceOptionId.SapBusinessWarehouseMessageServer = "SapBusinessWarehouseMessageServer", 
            BuiltInDataSourceOptionId.SapHanaDatabase = "SapHanaDatabase", BuiltInDataSourceOptionId.Sql = "sql", 
            BuiltInDataSourceOptionId.Sybase = "sybase", BuiltInDataSourceOptionId.Teradata = "teradata", 
            BuiltInDataSourceOptionId.TextCsv = "textCsv", BuiltInDataSourceOptionId.Web = "web", 
            BuiltInDataSourceOptionId.WebApi = "webApi", BuiltInDataSourceOptionId.Xml = "xml";
        }(BuiltInDataSourceOptionId || (BuiltInDataSourceOptionId = {})), function(ColumnMappingsKind) {
            ColumnMappingsKind.Automatic = "Automatic", ColumnMappingsKind.Explicit = "Explicit", 
            ColumnMappingsKind.Fixed = "Fixed";
        }(ColumnMappingsKind || (ColumnMappingsKind = {})), function(ColumnProfileAttributeName) {
            ColumnProfileAttributeName.Count = "Count", ColumnProfileAttributeName.ErrorCount = "ErrorCount", 
            ColumnProfileAttributeName.NullCount = "NullCount", ColumnProfileAttributeName.DistinctCount = "DistinctCount", 
            ColumnProfileAttributeName.UniqueCount = "UniqueCount", ColumnProfileAttributeName.Min = "Min", 
            ColumnProfileAttributeName.Max = "Max", ColumnProfileAttributeName.ValueDistribution = "ValueDistribution", 
            ColumnProfileAttributeName.Average = "Average", ColumnProfileAttributeName.EmptyStringCount = "EmptyStringCount", 
            ColumnProfileAttributeName.TextLengthDistribution = "TextLengthDistribution", ColumnProfileAttributeName.NaNCount = "NaNCount", 
            ColumnProfileAttributeName.ZeroCount = "ZeroCount", ColumnProfileAttributeName.EvenCount = "EvenCount", 
            ColumnProfileAttributeName.OddCount = "OddCount", ColumnProfileAttributeName.StandardDeviation = "StandardDeviation", 
            ColumnProfileAttributeName.SignDistribution = "SignDistribution", ColumnProfileAttributeName.ParityDistribution = "ParityDistribution", 
            ColumnProfileAttributeName.TrueCount = "TrueCount", ColumnProfileAttributeName.FalseCount = "FalseCount", 
            ColumnProfileAttributeName.YearDistribution = "YearDistribution", ColumnProfileAttributeName.MonthDistribution = "MonthDistribution", 
            ColumnProfileAttributeName.DayDistribution = "DayDistribution", ColumnProfileAttributeName.WeekOfYearDistribution = "WeekOfYearDistribution", 
            ColumnProfileAttributeName.DayOfWeekDistribution = "DayOfWeekDistribution", ColumnProfileAttributeName.AmPmDistribution = "AmPmDistribution", 
            ColumnProfileAttributeName.HourDistribution = "HourDistribution";
        }(ColumnProfileAttributeName || (ColumnProfileAttributeName = {})), function(ConnectionUpsertErrorCode) {
            ConnectionUpsertErrorCode.AccessPremiumConnectionNotAllowed = "AccessPremiumConnectionNotAllowed", 
            ConnectionUpsertErrorCode.AdfConnectionEvaluationError = "AdfConnectionEvaluationError", 
            ConnectionUpsertErrorCode.CdsaFeatureNotAvailableError = "CdsaFeatureNotAvailableError", 
            ConnectionUpsertErrorCode.ConnectionApiPolicyViolation = "ConnectionApiPolicyViolation", 
            ConnectionUpsertErrorCode.ConnectionCouldNotBeCreated = "ConnectionCouldNotBeCreated", 
            ConnectionUpsertErrorCode.ConnectionCouldNotBeUpdated = "ConnectionCouldNotBeUpdated", 
            ConnectionUpsertErrorCode.ConnectionKindNotSupported = "ConnectionKindNotSupported", 
            ConnectionUpsertErrorCode.ConnectionNotFound = "ConnectionNotFound", ConnectionUpsertErrorCode.ConnectionShareNotAllowedInEnvironment = "ConnectionShareNotAllowedInEnvironment", 
            ConnectionUpsertErrorCode.DataAccessError = "DataAccessError", ConnectionUpsertErrorCode.DataflowDatasourceIsReadOnly = "DataflowDatasourceIsReadOnly", 
            ConnectionUpsertErrorCode.DataSourceUnreachableOrGatewayRequired = "DataSourceUnreachableOrGatewayRequired", 
            ConnectionUpsertErrorCode.DuplicateDataSourceNameError = "DuplicateDataSourceNameError", 
            ConnectionUpsertErrorCode.EncryptionNotSupportedForKindAndGateway = "EncryptionNotSupportedForKindAndGateway", 
            ConnectionUpsertErrorCode.ExceededLimit = "ExceededLimit", ConnectionUpsertErrorCode.GatewayDetailsNotFound = "GatewayDetailsNotFound", 
            ConnectionUpsertErrorCode.GatewayNotAuthorized = "GatewayNotAuthorized", ConnectionUpsertErrorCode.GatewayUnreachable = "GatewayUnreachable", 
            ConnectionUpsertErrorCode.GatewayUnsupportedByLicense = "GatewayUnsupportedByLicense", 
            ConnectionUpsertErrorCode.InvalidCredentials = "InvalidCredentials", ConnectionUpsertErrorCode.InvalidPath = "InvalidPath", 
            ConnectionUpsertErrorCode.OAuthLoginFailed = "OAuthLoginFailed", ConnectionUpsertErrorCode.OboSignInError = "OboSignInError", 
            ConnectionUpsertErrorCode.OboTokenAcquisitionFailed = "OboTokenAcquisitionFailed", 
            ConnectionUpsertErrorCode.TooManyConnections = "TooManyConnections", ConnectionUpsertErrorCode.UnknownDmtsError = "UnknownDmtsError", 
            ConnectionUpsertErrorCode.UnknownError = "UnknownError", ConnectionUpsertErrorCode.UnknownGatewayError = "UnknownGatewayError", 
            ConnectionUpsertErrorCode.Unsupported = "Unsupported";
        }(ConnectionUpsertErrorCode || (ConnectionUpsertErrorCode = {})), function(CopilotActionKind) {
            CopilotActionKind.AddStep = "AddStep", CopilotActionKind.CreateQuery = "CreateQuery", 
            CopilotActionKind.DeleteQuery = "DeleteQuery", CopilotActionKind.ExplainQuery = "ExplainQuery", 
            CopilotActionKind.ExplainStep = "ExplainStep";
        }(CopilotActionKind || (CopilotActionKind = {})), function(CopilotErrorKind) {
            CopilotErrorKind.CouldNotExplainQuery = "CouldNotExplainQuery", CopilotErrorKind.CouldNotGenerateQuery = "CouldNotGenerateQuery", 
            CopilotErrorKind.CouldNotGenerateStep = "CouldNotGenerateStep", CopilotErrorKind.DataItemsMissing = "DataItemsMissing", 
            CopilotErrorKind.LanguageNotSupported = "LanguageNotSupported", CopilotErrorKind.OutOfScope = "OutOfScope", 
            CopilotErrorKind.QueryNotFound = "QueryNotFound", CopilotErrorKind.SkillNotFound = "SkillNotFound", 
            CopilotErrorKind.TableNotFound = "TableNotFound", CopilotErrorKind.Unknown = "Unknown";
        }(CopilotErrorKind || (CopilotErrorKind = {})), function(CopilotResponseKind) {
            CopilotResponseKind.Action = "Action", CopilotResponseKind.Error = "Error";
        }(CopilotResponseKind || (CopilotResponseKind = {})), function(CoreColumnMappingsKind) {
            CoreColumnMappingsKind.Automatic = "Automatic", CoreColumnMappingsKind.Explicit = "Explicit", 
            CoreColumnMappingsKind.Fixed = "Fixed";
        }(CoreColumnMappingsKind || (CoreColumnMappingsKind = {})), function(DataSourceExtensionResourceType) {
            DataSourceExtensionResourceType.Singleton = "Singleton", DataSourceExtensionResourceType.Database = "Database", 
            DataSourceExtensionResourceType.Uri = "Uri", DataSourceExtensionResourceType.Custom = "Custom";
        }(DataSourceExtensionResourceType || (DataSourceExtensionResourceType = {})), function(DataSourceOptionKind) {
            DataSourceOptionKind.BuiltIn = "BuiltIn", DataSourceOptionKind.Extension = "Extension";
        }(DataSourceOptionKind || (DataSourceOptionKind = {})), function(DefaultOutputDestinationDefinitionKind) {
            DefaultOutputDestinationDefinitionKind.JsonDsr = "JsonDsr", DefaultOutputDestinationDefinitionKind.MScript = "MScript", 
            DefaultOutputDestinationDefinitionKind.QueryModel = "QueryModel";
        }(DefaultOutputDestinationDefinitionKind || (DefaultOutputDestinationDefinitionKind = {})), 
        function(DestinationDefinitionKind) {
            DestinationDefinitionKind.DSR = "DSR", DestinationDefinitionKind.Reference = "Reference", 
            DestinationDefinitionKind.Script = "Script";
        }(DestinationDefinitionKind || (DestinationDefinitionKind = {})), function(DestinationDetailsName) {
            DestinationDetailsName.Cluster = "Cluster", DestinationDetailsName.Database = "Database", 
            DestinationDetailsName.Lakehouse = "Lakehouse", DestinationDetailsName.Object = "Object", 
            DestinationDetailsName.Schema = "Schema", DestinationDetailsName.Server = "Server", 
            DestinationDetailsName.Table = "Table", DestinationDetailsName.Warehouse = "Warehouse", 
            DestinationDetailsName.Workspace = "Workspace";
        }(DestinationDetailsName || (DestinationDetailsName = {})), function(DropColumnReason) {
            DropColumnReason.Constant = "Constant", DropColumnReason.Duplicate = "Duplicate", 
            DropColumnReason.Empty = "Empty", DropColumnReason.Index = "Index";
        }(DropColumnReason || (DropColumnReason = {})), function(EncryptConnection) {
            EncryptConnection[EncryptConnection.false = 0] = "false", EncryptConnection[EncryptConnection.true = 1] = "true", 
            EncryptConnection[EncryptConnection.notApplicable = 2] = "notApplicable", EncryptConnection[EncryptConnection.existingConnection = 3] = "existingConnection";
        }(EncryptConnection || (EncryptConnection = {})), function(EvaluationErrorCode) {
            EvaluationErrorCode.ApiHubTokenExchangeFailed = "ApiHubTokenExchangeFailed", EvaluationErrorCode.Cancelled = "Cancelled", 
            EvaluationErrorCode.DuplicateEvaluationId = "DuplicateEvaluationId", EvaluationErrorCode.ErrorGettingPowerBIPrivateLinkConfig = "ErrorGettingPowerBIPrivateLinkConfig", 
            EvaluationErrorCode.EvaluationAgentNotFound = "EvaluationAgentNotFound", EvaluationErrorCode.EvaluationQuotaReached = "EvaluationQuotaReached", 
            EvaluationErrorCode.ExternalServiceError = "ExternalServiceError", EvaluationErrorCode.GatewayDetailsNotFound = "GatewayDetailsNotFound", 
            EvaluationErrorCode.GatewayNeeded = "GatewayNeeded", EvaluationErrorCode.GatewayNotAuthorized = "GatewayNotAuthorized", 
            EvaluationErrorCode.GatewayNotFound = "GatewayNotFound", EvaluationErrorCode.GatewayUnknownError = "GatewayUnknownError", 
            EvaluationErrorCode.GatewayUnreachable = "GatewayUnreachable", EvaluationErrorCode.GatewayUpgradeRequired = "GatewayUpgradeRequired", 
            EvaluationErrorCode.GatewayUserError = "GatewayUserError", EvaluationErrorCode.MashupEntityNotFound = "MashupEntityNotFound", 
            EvaluationErrorCode.MaxConcurrentEvaluationsReached = "MaxConcurrentEvaluationsReached", 
            EvaluationErrorCode.NetworkAccessDenied = "NetworkAccessDenied", EvaluationErrorCode.NoPowerBiClusterForTenant = "NoPowerBiClusterForTenant", 
            EvaluationErrorCode.ParameterNotFound = "ParameterNotFound", EvaluationErrorCode.PowerAppsEnvironmentNotFound = "PowerAppsEnvironmentNotFound", 
            EvaluationErrorCode.QueryNameAndQueryScriptBothSpecified = "QueryNameAndQueryScriptBothSpecified", 
            EvaluationErrorCode.QueryNameAndQueryScriptNotSpecified = "QueryNameAndQueryScriptNotSpecified", 
            EvaluationErrorCode.QueryNotFound = "QueryNotFound", EvaluationErrorCode.StepNotFound = "StepNotFound", 
            EvaluationErrorCode.UnableToContactBackend = "UnableToContactBackend", EvaluationErrorCode.Unknown = "Unknown", 
            EvaluationErrorCode.UnsupportedKind = "UnsupportedKind", EvaluationErrorCode.ValueTooComplex = "ValueTooComplex";
        }(EvaluationErrorCode || (EvaluationErrorCode = {})), function(EvaluationParamsKind) {
            EvaluationParamsKind.Path = "Path", EvaluationParamsKind.QueryScript = "QueryScript";
        }(EvaluationParamsKind || (EvaluationParamsKind = {})), function(EvaluationType) {
            EvaluationType.AutoFilterColumnValues = "AutoFilterColumnValues", EvaluationType.BinaryMetadata = "BinaryMetadata", 
            EvaluationType.ConnectorRows = "ConnectorRows", EvaluationType.ConnectorSchema = "ConnectorSchema", 
            EvaluationType.CubeAllowedValues = "CubeAllowedValues", EvaluationType.CubeDisplayFolders = "CubeDisplayFolders", 
            EvaluationType.CubeParameters = "CubeParameters", EvaluationType.DataSourceQuery = "DataSourceQuery", 
            EvaluationType.DetailsPreview = "DetailsPreview", EvaluationType.DetectTableHeaderAndColumnTypes = "DetectTableHeaderAndColumnTypes", 
            EvaluationType.DsrDetailsFetching = "DsrDetailsFetching", EvaluationType.ExcelTableInferenceGetInferredTables = "ExcelTableInferenceGetInferredTables", 
            EvaluationType.ExpandColumnNames = "ExpandColumnNames", EvaluationType.FunctionBrowser = "FunctionBrowser", 
            EvaluationType.JsonTableInferenceGetJsonText = "JsonTableInferenceGetJsonText", 
            EvaluationType.LoadToCdsCreateEntitiesRelationships = "LoadToCdsCreateEntitiesRelationships", 
            EvaluationType.LoadToCdsRelationships = "LoadToCdsRelationships", EvaluationType.LoadToCdsSchema = "LoadToCdsSchema", 
            EvaluationType.MappingEditorQueryProfiling = "MappingEditorQueryProfiling", EvaluationType.MappingEditorSchemaResult = "MappingEditorSchemaResult", 
            EvaluationType.MappingEditorTypeMetadata = "MappingEditorTypeMetadata", EvaluationType.MashupLoad = "MashupLoad", 
            EvaluationType.MergeMatchAnalysis = "MergeMatchAnalysis", EvaluationType.MergeQueriesPreview = "MergeQueriesPreview", 
            EvaluationType.MergeQueriesSuggestionsLeftCandidatePreview = "MergeQueriesSuggestionsLeftCandidatePreview", 
            EvaluationType.MergeQueriesSuggestionsRightCandidatePreview = "MergeQueriesSuggestionsRightCandidatePreview", 
            EvaluationType.NaturalLanguageValidation = "NaturalLanguageValidation", EvaluationType.NavigatorCubeAllowedValues = "NavigatorCubeAllowedValues", 
            EvaluationType.NavigatorCubeParameters = "NavigatorCubeParameters", EvaluationType.NavigatorCubePreview = "NavigatorCubePreview", 
            EvaluationType.NavigatorDiscoverRelatedTables = "NavigatorDiscoverRelatedTables", 
            EvaluationType.NavigatorPreview = "NavigatorPreview", EvaluationType.NavigatorTemporaryQueryForIndirectionNode = "NavigatorTemporaryQueryForIndirectionNode", 
            EvaluationType.Preview = "Preview", EvaluationType.QueryAnalysis = "QueryAnalysis", 
            EvaluationType.QueryPlan = "QueryPlan", EvaluationType.QuerySanitizer = "QuerySanitizer", 
            EvaluationType.QuerySanitizerAnalysis = "QuerySanitizerAnalysis", EvaluationType.QuerySanitizerQueryAnalysis = "QuerySanitizerQueryAnalysis", 
            EvaluationType.QueryScriptPreview = "QueryScriptPreview", EvaluationType.SemanticEntitySets = "SemanticEntitySets", 
            EvaluationType.SemanticDataGetData = "SemanticDataGetData", EvaluationType.SemanticDataList = "SemanticDataList", 
            EvaluationType.SemanticDataSearchInDataflow = "SemanticDataSearchInDataflow", EvaluationType.SplitColumnInferMultiplePositions = "SplitColumnInferMultiplePositions", 
            EvaluationType.SplitColumnNumberOfColumns = "SplitColumnNumberOfColumns", EvaluationType.StepAnalysis = "StepAnalysis", 
            EvaluationType.TableProfiler = "TableProfiler", EvaluationType.TextByExampleGetText = "TextByExampleGetText", 
            EvaluationType.WebByExampleExecuteSelectors = "WebByExampleExecuteSelectors", EvaluationType.WebByExampleGetHtml = "WebByExampleGetHtml";
        }(EvaluationType || (EvaluationType = {})), function(FileFilter) {
            FileFilter.None = "None", FileFilter.Any = "Any", FileFilter.Access = "Access", 
            FileFilter.Excel = "Excel", FileFilter.Json = "Json", FileFilter.TextCsv = "TextCsv", 
            FileFilter.Pdf = "Pdf", FileFilter.Xml = "Xml";
        }(FileFilter || (FileFilter = {})), function(FileMenuActionableSectionType) {
            FileMenuActionableSectionType.List = "List";
        }(FileMenuActionableSectionType || (FileMenuActionableSectionType = {})), function(FileMenuNavigationItemKind) {
            FileMenuNavigationItemKind.MenuItem = "MenuItem", FileMenuNavigationItemKind.Separator = "Separator";
        }(FileMenuNavigationItemKind || (FileMenuNavigationItemKind = {})), function(FillColumnMethod) {
            FillColumnMethod.Max = "Max", FillColumnMethod.Mean = "Mean", FillColumnMethod.Min = "Min", 
            FillColumnMethod.Mode = "Mode", FillColumnMethod.RoundedMean = "RoundedMean";
        }(FillColumnMethod || (FillColumnMethod = {})), function(GetDataWizardStage) {
            GetDataWizardStage.Cancelled = "Cancelled", GetDataWizardStage.CombineFiles = "CombineFiles", 
            GetDataWizardStage.CsvTextSettings = "CsvTextSettings", GetDataWizardStage.DataDiscovery = "DataDiscovery", 
            GetDataWizardStage.DataSources = "DataSources", GetDataWizardStage.DataSourceSettings = "DataSourceSettings", 
            GetDataWizardStage.FolderPreview = "FolderPreview", GetDataWizardStage.IncrementalRefreshSettings = "IncrementalRefreshSettings", 
            GetDataWizardStage.Loading = "Loading", GetDataWizardStage.MappingEditor = "MappingEditor", 
            GetDataWizardStage.Navigator = "Navigator", GetDataWizardStage.QueryEditor = "QueryEditor", 
            GetDataWizardStage.QuickCreate = "QuickCreate", GetDataWizardStage.RecentDataPreview = "RecentDataPreview", 
            GetDataWizardStage.RefreshSettings = "RefreshSettings", GetDataWizardStage.TemplateCredentials = "TemplateCredentials", 
            GetDataWizardStage.TemplateParameters = "TemplateParameters", GetDataWizardStage.TextByExample = "TextByExample";
        }(GetDataWizardStage || (GetDataWizardStage = {})), function(GetOutputSettingsResultKind) {
            GetOutputSettingsResultKind.Database = "Database", GetOutputSettingsResultKind.File = "File";
        }(GetOutputSettingsResultKind || (GetOutputSettingsResultKind = {})), function(HeaderDetectionPolicy) {
            HeaderDetectionPolicy.AlwaysWhenInferringAllColumnTypes = "AlwaysWhenInferringAllColumnTypes", 
            HeaderDetectionPolicy.BasedOnMetadata = "BasedOnMetadata", HeaderDetectionPolicy.Never = "Never";
        }(HeaderDetectionPolicy || (HeaderDetectionPolicy = {})), function(HostCommandEnablementConstraintKind) {
            HostCommandEnablementConstraintKind.Always = "Always", HostCommandEnablementConstraintKind.Never = "Never", 
            HostCommandEnablementConstraintKind.HasNewLoadableQueries = "HasNewLoadableQueries", 
            HostCommandEnablementConstraintKind.NumberOfQueries = "NumberOfQueries";
        }(HostCommandEnablementConstraintKind || (HostCommandEnablementConstraintKind = {})), 
        function(HostCommandEnablementConstraintOperator) {
            HostCommandEnablementConstraintOperator.Equals = "Equals", HostCommandEnablementConstraintOperator.GreaterThan = "GreaterThan", 
            HostCommandEnablementConstraintOperator.GreaterThanOrEqual = "GreaterThanOrEqual", 
            HostCommandEnablementConstraintOperator.LessThan = "LessThan", HostCommandEnablementConstraintOperator.LessThanOrEqual = "LessThanOrEqual";
        }(HostCommandEnablementConstraintOperator || (HostCommandEnablementConstraintOperator = {})), 
        function(HostContextType) {
            HostContextType.Adf = "Adf", HostContextType.Athena = "Athena", HostContextType.CdsA = "CdsA", 
            HostContextType.CdsLite = "CdsLite", HostContextType.CdsT = "CdsT", HostContextType.CdsV1 = "CdsAdHoc", 
            HostContextType.CustomerInsights = "CustomerInsights", HostContextType.CustomerInsightsPPDF = "CustomerInsightsPPDF", 
            HostContextType.D365TalentInsights = "D365TalentInsights", HostContextType.DataIntegration = "DataIntegration", 
            HostContextType.DesktopBootstrap = "DesktopBootstrap", HostContextType.DesktopUITester = "DesktopUITester", 
            HostContextType.DmtsPowerBiExperimental = "DmtsPowerBiExperimental", HostContextType.DmtsSaExperimental = "DmtsSaExperimental", 
            HostContextType.ExcelDesktop = "ExcelDesktop", HostContextType.ExcelOnline = "ExcelOnline", 
            HostContextType.ExcelOnlineDmtsPowerBi = "ExcelOnlineDmtsPowerBi", HostContextType.Experimental = "Experimental", 
            HostContextType.Flow = "Flow", HostContextType.IAPDataflowTemplateReferenceApp = "IAPDataflowTemplateReferenceApp", 
            HostContextType.IntelligentOrderManagement = "IntelligentOrderManagement", HostContextType.InternalPortal = "InternalPortal", 
            HostContextType.KustoViewDesigner = "KustoViewDesigner", HostContextType.MashupEditorBootstrap = "MashupEditorBootstrap", 
            HostContextType.PowerAppsTeams = "PowerAppsTeams", HostContextType.PowerBIDataMart = "PowerBIDataMart", 
            HostContextType.PowerBIModeling = "PowerBIModeling", HostContextType.PowerBIModelingDmtsPowerBi = "PowerBIModelingDmtsPowerBi", 
            HostContextType.PowerBIPaginatedReports = "PowerBIPaginatedReports", HostContextType.PowerBIPPDF = "PowerBIPPDF", 
            HostContextType.PowerBIReportView = "PowerBIReportView", HostContextType.PowerPlatformDataflowAdlsGen2 = "PowerPlatformDataflowAdlsGen2", 
            HostContextType.PowerPlatformDataflowsBootstrap = "PowerPlatformDataflowsBootstrap", 
            HostContextType.PowerPlatformExperimental = "PowerPlatformExperimental", HostContextType.PowerQueryDesktop = "PowerQueryDesktop", 
            HostContextType.ProcessAdvisor = "ProcessAdvisor", HostContextType.SupplyChainVisibility = "SupplyChainVisibility", 
            HostContextType.SustainabilityCloud = "SustainabilityCloud", HostContextType.Synapse = "Synapse", 
            HostContextType.TridentDataflow = "TridentDataflow", HostContextType.TridentDataPipeline = "TridentDataPipeline", 
            HostContextType.TridentDataverseOneLake = "TridentDataverseOneLake", HostContextType.TridentDataWarehouse = "TridentDataWarehouse", 
            HostContextType.TridentEventStream = "TridentEventStream", HostContextType.TridentKusto = "TridentKusto", 
            HostContextType.TridentLakehouse = "TridentLakehouse", HostContextType.TridentLakeWarehouse = "TridentLakeWarehouse", 
            HostContextType.TridentMountedDataWarehouse = "TridentMountedDataWarehouse", HostContextType.TridentOneLake = "TridentOneLake", 
            HostContextType.TridentReplicator = "TridentReplicator", HostContextType.TridentSynapseLink = "TridentSynapseLink";
        }(HostContextType || (HostContextType = {})), function(HostQueryPropertyType) {
            HostQueryPropertyType.Boolean = "Boolean";
        }(HostQueryPropertyType || (HostQueryPropertyType = {})), function(JsonNumericKind) {
            JsonNumericKind.NaN = "NaN", JsonNumericKind.NegativeInfinity = "NegativeInfinity", 
            JsonNumericKind.PositiveInfinity = "PositiveInfinity", JsonNumericKind.FormattedNumber = "FormattedNumber", 
            JsonNumericKind.Number = "Number";
        }(JsonNumericKind || (JsonNumericKind = {})), function(MashupDataSourceKind) {
            MashupDataSourceKind.Access = "Access", MashupDataSourceKind.ActiveDirectory = "ActiveDirectory", 
            MashupDataSourceKind.AdoDotNet = "AdoDotNet", MashupDataSourceKind.AdobeAnalytics = "AdobeAnalytics", 
            MashupDataSourceKind.AnalysisServices = "AnalysisServices", MashupDataSourceKind.AzureBlobs = "AzureBlobs", 
            MashupDataSourceKind.AzureDataLakeStorage = "AzureDataLakeStorage", MashupDataSourceKind.AzureTables = "AzureTables", 
            MashupDataSourceKind.Cdpa = "CDPA", MashupDataSourceKind.CurrentWorkbook = "CurrentWorkbook", 
            MashupDataSourceKind.DB2 = "DB2", MashupDataSourceKind.Environment = "Environment", 
            MashupDataSourceKind.Essbase = "Essbase", MashupDataSourceKind.Exchange = "Exchange", 
            MashupDataSourceKind.File = "File", MashupDataSourceKind.Folder = "Folder", MashupDataSourceKind.Ftp = "Ftp", 
            MashupDataSourceKind.GoogleAnalytics = "GoogleAnalytics", MashupDataSourceKind.HDInsight = "HDInsight", 
            MashupDataSourceKind.Hdfs = "Hdfs", MashupDataSourceKind.Informix = "Informix", 
            MashupDataSourceKind.MQ = "MQ", MashupDataSourceKind.MicrosoftInformationProtection = "MicrosoftInformationProtection", 
            MashupDataSourceKind.MySql = "MySql", MashupDataSourceKind.OData = "OData", MashupDataSourceKind.Odbc = "Odbc", 
            MashupDataSourceKind.OleDb = "OleDb", MashupDataSourceKind.Oracle = "Oracle", MashupDataSourceKind.PostgreSQL = "PostgreSQL", 
            MashupDataSourceKind.PowerBIDataflow = "PowerBI", MashupDataSourceKind.Python = "Python", 
            MashupDataSourceKind.R = "R", MashupDataSourceKind.Salesforce = "Salesforce", MashupDataSourceKind.SapBusinessWarehouse = "SapBusinessWarehouse", 
            MashupDataSourceKind.SapHana = "SapHana", MashupDataSourceKind.SharePoint = "SharePoint", 
            MashupDataSourceKind.Spark = "Spark", MashupDataSourceKind.Sql = "SQL", MashupDataSourceKind.Staging = "Staging", 
            MashupDataSourceKind.Sybase = "Sybase", MashupDataSourceKind.Teradata = "Teradata", 
            MashupDataSourceKind.Web = "Web";
        }(MashupDataSourceKind || (MashupDataSourceKind = {})), function(MashupTemplatePackagePartUri) {
            MashupTemplatePackagePartUri.TemplateMetadata = "Metadata.json", MashupTemplatePackagePartUri.MashupDocument = "MashupDocument.pq", 
            MashupTemplatePackagePartUri.MashupMetadata = "MashupMetadata.json";
        }(MashupTemplatePackagePartUri || (MashupTemplatePackagePartUri = {})), function(MashupXmlVisitorErrorCode) {
            MashupXmlVisitorErrorCode.GroupNestingLimitReached = "GroupNestingLimitReached", 
            MashupXmlVisitorErrorCode.NullMashupXml = "NullMashupXml", MashupXmlVisitorErrorCode.Unknown = "Unknown";
        }(MashupXmlVisitorErrorCode || (MashupXmlVisitorErrorCode = {})), function(MetricsOperationStatus) {
            MetricsOperationStatus.CompletedSuccessfully = "CompletedSuccessfully", MetricsOperationStatus.CompletedWithExpectedError = "CompletedWithExpectedError", 
            MetricsOperationStatus.CompletedWithUnexpectedError = "CompletedWithUnexpectedError", 
            MetricsOperationStatus.Started = "Started";
        }(MetricsOperationStatus || (MetricsOperationStatus = {})), function(MoveQueriesRelativePosition) {
            MoveQueriesRelativePosition.Above = "Above", MoveQueriesRelativePosition.Below = "Below";
        }(MoveQueriesRelativePosition || (MoveQueriesRelativePosition = {})), function(NaturalLanguageQueryScriptGenerationFailureKind) {
            NaturalLanguageQueryScriptGenerationFailureKind.ErrorInvokingOpenAiApi = "ErrorInvokingOpenAiApi", 
            NaturalLanguageQueryScriptGenerationFailureKind.NoProgramFound = "NoProgramFound", 
            NaturalLanguageQueryScriptGenerationFailureKind.OpenAiApiKeyNotProvided = "OpenAiApiKeyNotProvided", 
            NaturalLanguageQueryScriptGenerationFailureKind.RequestCanceled = "RequestCanceled";
        }(NaturalLanguageQueryScriptGenerationFailureKind || (NaturalLanguageQueryScriptGenerationFailureKind = {})), 
        function(OutputFileEncoding) {
            OutputFileEncoding.Ascii = "Ascii", OutputFileEncoding.Utf8 = "Utf8", OutputFileEncoding.Utf16 = "Utf16", 
            OutputFileEncoding.Windows = "Windows";
        }(OutputFileEncoding || (OutputFileEncoding = {})), function(OutputFileFormat) {
            OutputFileFormat.Excel = "Excel", OutputFileFormat.Json = "Json", OutputFileFormat.Parquet = "Parquet", 
            OutputFileFormat.Text = "Text";
        }(OutputFileFormat || (OutputFileFormat = {})), function(OutputTextFileDelimiter) {
            OutputTextFileDelimiter.Colon = "Colon", OutputTextFileDelimiter.Comma = "Comma", 
            OutputTextFileDelimiter.None = "None", OutputTextFileDelimiter.Semicolon = "Semicolon", 
            OutputTextFileDelimiter.Space = "Space", OutputTextFileDelimiter.Tab = "Tab";
        }(OutputTextFileDelimiter || (OutputTextFileDelimiter = {})), function(ParityDistributionValue) {
            ParityDistributionValue.Even = "Even", ParityDistributionValue.Odd = "Odd";
        }(ParityDistributionValue || (ParityDistributionValue = {})), function(PrivacyGroup) {
            PrivacyGroup.None = "None", PrivacyGroup.Private = "Private", PrivacyGroup.Organizational = "Organizational", 
            PrivacyGroup.Public = "Public";
        }(PrivacyGroup || (PrivacyGroup = {})), function(QueryConnectivityModeValidationErrorFixKind) {
            QueryConnectivityModeValidationErrorFixKind.ChangeModes = "ChangeModes";
        }(QueryConnectivityModeValidationErrorFixKind || (QueryConnectivityModeValidationErrorFixKind = {})), 
        function(QueryConnectivityModeValidationRule) {
            QueryConnectivityModeValidationRule.QueryNeedsToFold = "QueryNeedsToFold";
        }(QueryConnectivityModeValidationRule || (QueryConnectivityModeValidationRule = {})), 
        function(QueryOutputDestinationKind) {
            QueryOutputDestinationKind.AzureBlob = "AzureBlob", QueryOutputDestinationKind.Database = "Database";
        }(QueryOutputDestinationKind || (QueryOutputDestinationKind = {})), function(QueryPlanType) {
            QueryPlanType.DynamicPlanFolded = "DynamicPlanFolded", QueryPlanType.DynamicPlanMightFold = "DynamicPlanMightFold", 
            QueryPlanType.DynamicPlanNotFolded = "DynamicPlanNotFolded", QueryPlanType.DynamicPlanOpaque = "DynamicPlanOpaque", 
            QueryPlanType.ErrorRetrievingPlan = "ErrorRetrievingPlan", QueryPlanType.FoldedQueryNotImplemented = "FoldedQueryNotImplemented", 
            QueryPlanType.FoldedQueryNull = "FoldedQueryNull", QueryPlanType.FoldedWithQuery = "FoldedWithQuery", 
            QueryPlanType.NotFolded = "NotFolded", QueryPlanType.NotFoldedPrivacyBuffering = "NotFoldedPrivacyBuffering", 
            QueryPlanType.NotTable = "NotTable", QueryPlanType.OpaqueConstant = "OpaqueConstant", 
            QueryPlanType.UnexpectedPlanKind = "UnexpectedPlanKind";
        }(QueryPlanType || (QueryPlanType = {})), function(ResourceKind) {
            ResourceKind.ActiveDirectory = "ActiveDirectory", ResourceKind.AdobeAnalytics = "AdobeAnalytics", 
            ResourceKind.AmazonRedshift = "AmazonRedshift", ResourceKind.AnalysisServices = "AnalysisServices", 
            ResourceKind.AzureAnalysisServices = "AzureAnalysisServices", ResourceKind.AzureBlobs = "AzureBlobs", 
            ResourceKind.AzureDataExplorer = "AzureDataExplorer", ResourceKind.AzureDataLakeStorage = "AzureDataLakeStorage", 
            ResourceKind.AzureTables = "AzureTables", ResourceKind.AIFunctions = "AIFunctions", 
            ResourceKind.AIInsights = "AIInsights", ResourceKind.AzureMLFunctions = "AzureMLFunctions", 
            ResourceKind.AIInsightsInProc = "AIInsightsInProc", ResourceKind.Cds = "Cds", ResourceKind.CommonDataService = "CommonDataService", 
            ResourceKind.DataLake = "DataLake", ResourceKind.Dataverse = "Dataverse", ResourceKind.DB2 = "DB2", 
            ResourceKind.ElasticSearch = "ElasticSearch", ResourceKind.Exchange = "Exchange", 
            ResourceKind.Fhir = "Fhir", ResourceKind.File = "File", ResourceKind.Folder = "Folder", 
            ResourceKind.GoogleAnalytics = "GoogleAnalytics", ResourceKind.GoogleBigQuery = "GoogleBigQuery", 
            ResourceKind.HDInsight = "HDInsight", ResourceKind.Impala = "Impala", ResourceKind.Kusto = "Kusto", 
            ResourceKind.Lakehouse = "Lakehouse", ResourceKind.MySql = "MySql", ResourceKind.OData = "OData", 
            ResourceKind.Odbc = "Odbc", ResourceKind.Oracle = "Oracle", ResourceKind.OracleERP = "OracleERP", 
            ResourceKind.PostgreSQL = "PostgreSQL", ResourceKind.PowerBI = "PowerBI", ResourceKind.PowerBIDatamarts = "PowerBIDatamarts", 
            ResourceKind.PowerPlatformDataflows = "PowerPlatformDataflows", ResourceKind.PQGenericInvokeTestExtension = "PQGenericInvokeTestExtension", 
            ResourceKind.Salesforce = "Salesforce", ResourceKind.SapBusinessWarehouse = "SapBusinessWarehouse", 
            ResourceKind.SAPERP = "SAPERP", ResourceKind.SapHana = "SapHana", ResourceKind.SharePoint = "SharePoint", 
            ResourceKind.Snowflake = "Snowflake", ResourceKind.Spark = "Spark", ResourceKind.SQL = "SQL", 
            ResourceKind.Sybase = "Sybase", ResourceKind.Teradata = "Teradata", ResourceKind.Vertica = "Vertica", 
            ResourceKind.Warehouse = "Warehouse", ResourceKind.Web = "Web";
        }(ResourceKind || (ResourceKind = {})), function(SetMashupDocumentResultKind) {
            SetMashupDocumentResultKind.CompilationError = "CompilationError", SetMashupDocumentResultKind.InvalidQueryName = "InvalidQueryName", 
            SetMashupDocumentResultKind.ParsingError = "ParsingError", SetMashupDocumentResultKind.Success = "Success", 
            SetMashupDocumentResultKind.UnexpectedDocumentKind = "UnexpectedDocumentKind";
        }(SetMashupDocumentResultKind || (SetMashupDocumentResultKind = {})), function(SetMashupFromTemplateResultKind) {
            SetMashupFromTemplateResultKind.Failure = "Failure", SetMashupFromTemplateResultKind.Success = "Success";
        }(SetMashupFromTemplateResultKind || (SetMashupFromTemplateResultKind = {})), function(SimsError) {
            SimsError[SimsError.endpointNotAvailableInRegion = 0] = "endpointNotAvailableInRegion", 
            SimsError[SimsError.httpError = 1] = "httpError", SimsError[SimsError.invalidInput = 2] = "invalidInput", 
            SimsError[SimsError.maxRetriesReached = 3] = "maxRetriesReached", SimsError[SimsError.modelError = 4] = "modelError";
        }(SimsError || (SimsError = {})), function(SimsResponseStatus) {
            SimsResponseStatus.Error = "Error", SimsResponseStatus.Ok = "Ok";
        }(SimsResponseStatus || (SimsResponseStatus = {})), function(StagingDefinitionKind) {
            StagingDefinitionKind.Default = "Default", StagingDefinitionKind.FastCopy = "FastCopy";
        }(StagingDefinitionKind || (StagingDefinitionKind = {})), function(StartEditingSessionErrorKind) {
            StartEditingSessionErrorKind.ConnectionsAuthorizationFailed = "ConnectionsAuthorizationFailed", 
            StartEditingSessionErrorKind.DuplicateQueryId = "DuplicateQueryId", StartEditingSessionErrorKind.DuplicateQueryName = "DuplicateQueryName", 
            StartEditingSessionErrorKind.DuplicateStepName = "DuplicateStepName", StartEditingSessionErrorKind.InvalidQueryName = "InvalidQueryName", 
            StartEditingSessionErrorKind.MashupDocumentNotASectionDocument = "MashupDocumentNotASectionDocument", 
            StartEditingSessionErrorKind.ParsingError = "ParsingError", StartEditingSessionErrorKind.UnexpectedQueryIdFormat = "UnexpectedQueryIdFormat";
        }(StartEditingSessionErrorKind || (StartEditingSessionErrorKind = {})), function(SuggestedTransformId) {
            SuggestedTransformId.Custom = "Custom", SuggestedTransformId.DropColumn = "DropColumn", 
            SuggestedTransformId.DropBlankRows = "DropBlankRows", SuggestedTransformId.DropDuplicates = "DropDuplicates", 
            SuggestedTransformId.FillColumn = "FillColumn", SuggestedTransformId.SplitColumn = "SplitColumn", 
            SuggestedTransformId.UnpivotColumns = "UnpivotColumns", SuggestedTransformId.UnpivotOtherColumns = "UnpivotOtherColumns";
        }(SuggestedTransformId || (SuggestedTransformId = {})), function(TableProfileColumnName) {
            TableProfileColumnName.Column = "Column", TableProfileColumnName.ColumnType = "ColumnType", 
            TableProfileColumnName.Count = "Count", TableProfileColumnName.ErrorCount = "ErrorCount", 
            TableProfileColumnName.NullCount = "NullCount", TableProfileColumnName.DistinctCount = "DistinctCount", 
            TableProfileColumnName.UniqueCount = "UniqueCount", TableProfileColumnName.Min = "Min", 
            TableProfileColumnName.Max = "Max", TableProfileColumnName.ValueDistribution = "ValueDistribution", 
            TableProfileColumnName.Average = "Average", TableProfileColumnName.EmptyStringCount = "EmptyStringCount", 
            TableProfileColumnName.TextLengthDistribution = "TextLengthDistribution", TableProfileColumnName.NaNCount = "NaNCount", 
            TableProfileColumnName.ZeroCount = "ZeroCount", TableProfileColumnName.EvenCount = "EvenCount", 
            TableProfileColumnName.OddCount = "OddCount", TableProfileColumnName.StandardDeviation = "StandardDeviation", 
            TableProfileColumnName.SignDistribution = "SignDistribution", TableProfileColumnName.ParityDistribution = "ParityDistribution", 
            TableProfileColumnName.TrueCount = "TrueCount", TableProfileColumnName.FalseCount = "FalseCount", 
            TableProfileColumnName.YearDistribution = "YearDistribution", TableProfileColumnName.MonthDistribution = "MonthDistribution", 
            TableProfileColumnName.DayDistribution = "DayDistribution", TableProfileColumnName.WeekOfYearDistribution = "WeekOfYearDistribution", 
            TableProfileColumnName.DayOfWeekDistribution = "DayOfWeekDistribution", TableProfileColumnName.AmPmDistribution = "AmPmDistribution", 
            TableProfileColumnName.HourDistribution = "HourDistribution";
        }(TableProfileColumnName || (TableProfileColumnName = {})), function(TableUpdateMethodKind) {
            TableUpdateMethodKind.AppendRows = "AppendRows", TableUpdateMethodKind.ReplaceRows = "ReplaceRows", 
            TableUpdateMethodKind.UpsertRows = "UpsertRows";
        }(TableUpdateMethodKind || (TableUpdateMethodKind = {})), function(TableUpdateStepKind) {
            TableUpdateStepKind.SelectRows = "SelectRows", TableUpdateStepKind.Sort = "Sort", 
            TableUpdateStepKind.SelectColumns = "SelectColumns", TableUpdateStepKind.RenameColumns = "RenameColumns", 
            TableUpdateStepKind.AddColumn = "AddColumn", TableUpdateStepKind.ReplaceColumns = "ReplaceColumns", 
            TableUpdateStepKind.ReplaceRows = "ReplaceRows", TableUpdateStepKind.AddRows = "AddRows", 
            TableUpdateStepKind.SplitColumn = "SplitColumn", TableUpdateStepKind.ReplaceTable = "ReplaceTable";
        }(TableUpdateStepKind || (TableUpdateStepKind = {})), function(TargetDefinitionKind) {
            TargetDefinitionKind.InvocationPattern = "InvocationPattern", TargetDefinitionKind.Script = "Script";
        }(TargetDefinitionKind || (TargetDefinitionKind = {})), function(UntrustedUriSource) {
            UntrustedUriSource.DataSourceTag = "DataSourceTag", UntrustedUriSource.QueryEditorMessageBar = "QueryEditorMessageBar", 
            UntrustedUriSource.QuickCreateForm = "QuickCreateForm", UntrustedUriSource.WebByExampleForm = "WebByExampleForm";
        }(UntrustedUriSource || (UntrustedUriSource = {})), function(UpdateMethodKind) {
            UpdateMethodKind.Append = "Append", UpdateMethodKind.Replace = "Replace";
        }(UpdateMethodKind || (UpdateMethodKind = {})), function(ValidateExpressionResultKind) {
            ValidateExpressionResultKind.CompilationError = "CompilationError", ValidateExpressionResultKind.ParsingError = "ParsingError", 
            ValidateExpressionResultKind.Success = "Success", ValidateExpressionResultKind.UnexpectedDocumentKind = "UnexpectedDocumentKind";
        }(ValidateExpressionResultKind || (ValidateExpressionResultKind = {})), function(WebByExampleSuggestionKind) {
            WebByExampleSuggestionKind.Link = "Link", WebByExampleSuggestionKind.Text = "Text";
        }(WebByExampleSuggestionKind || (WebByExampleSuggestionKind = {}));
    },
    24126: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            _: function() {
                return publishReplay;
            }
        });
        var _ReplaySubject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(33554), _multicast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(87088);
        function publishReplay(bufferSize, windowTime, selectorOrScheduler, scheduler) {
            selectorOrScheduler && "function" != typeof selectorOrScheduler && (scheduler = selectorOrScheduler);
            var selector = "function" == typeof selectorOrScheduler ? selectorOrScheduler : void 0, subject = new _ReplaySubject__WEBPACK_IMPORTED_MODULE_0__.t(bufferSize, windowTime, scheduler);
            return function(source) {
                return (0, _multicast__WEBPACK_IMPORTED_MODULE_1__.O)(function() {
                    return subject;
                }, selector)(source);
            };
        }
    },
    58614: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            f: function() {
                return GoalsHttpServiceInjectionToken;
            }
        });
        var GoalsHttpServiceInjectionToken = new (__webpack_require__(50423).InjectionToken)("GoalsHttpService");
    },
    73088: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            F: function() {
                return ScorecardActionsServiceInjectionToken;
            }
        });
        var ScorecardActionsServiceInjectionToken = new (__webpack_require__(50423).InjectionToken)("ScorecardActionsService");
    },
    60166: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            M: function() {
                return ScorecardHostServiceInjectionToken;
            }
        });
        var ScorecardHostServiceInjectionToken = new (__webpack_require__(50423).InjectionToken)("ScorecardHostService");
    },
    98587: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            u: function() {
                return ScorecardSettingsServiceInjectionToken;
            }
        });
        var ScorecardSettingsServiceInjectionToken = new (__webpack_require__(50423).InjectionToken)("ScorecardSettingsService");
    },
    62113: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            Q: function() {
                return AccessTokenProviderService;
            }
        });
        var AuthorityType, tslib_es6 = __webpack_require__(81337), InteractionRequiredAuthError = __webpack_require__(29019), utils_Constants = __webpack_require__(66422), _tslib = __webpack_require__(37241), AuthError = __webpack_require__(41170), ClientAuthError_ClientAuthError = function(_super) {
            function ClientAuthError(errorCode, errorMessage) {
                var _this = _super.call(this, errorCode, errorMessage) || this;
                return _this.name = "ClientAuthError", Object.setPrototypeOf(_this, ClientAuthError.prototype), 
                _this;
            }
            return (0, _tslib.ZT)(ClientAuthError, _super), ClientAuthError.createClientInfoDecodingError = function(caughtError) {
                return new ClientAuthError("client_info_decoding_error", "The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause. Failed with error: " + caughtError);
            }, ClientAuthError.createClientInfoEmptyError = function() {
                return new ClientAuthError("client_info_empty_error", "The client info was empty. Please review the trace to determine the root cause.");
            }, ClientAuthError.createTokenParsingError = function(caughtExtractionError) {
                return new ClientAuthError("token_parsing_error", "Token cannot be parsed. Please review stack trace to determine root cause. Failed with error: " + caughtExtractionError);
            }, ClientAuthError.createTokenNullOrEmptyError = function(invalidRawTokenString) {
                return new ClientAuthError("null_or_empty_token", "The token is null or empty. Please review the trace to determine the root cause. Raw Token Value: " + invalidRawTokenString);
            }, ClientAuthError.createEndpointDiscoveryIncompleteError = function(errDetail) {
                return new ClientAuthError("endpoints_resolution_error", "Error: could not resolve endpoints. Please check network and try again. Detail: " + errDetail);
            }, ClientAuthError.createNetworkError = function(endpoint, errDetail) {
                return new ClientAuthError("network_error", "Network request failed. Please check network trace to determine root cause. | Fetch client threw: " + errDetail + " | Attempted to reach: " + endpoint.split("?")[0]);
            }, ClientAuthError.createUnableToGetOpenidConfigError = function(errDetail) {
                return new ClientAuthError("openid_config_error", "Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints. Attempted to retrieve endpoints from: " + errDetail);
            }, ClientAuthError.createHashNotDeserializedError = function(hashParamObj) {
                return new ClientAuthError("hash_not_deserialized", "The hash parameters could not be deserialized. Please review the trace to determine the root cause. Given Object: " + hashParamObj);
            }, ClientAuthError.createInvalidStateError = function(invalidState, errorString) {
                return new ClientAuthError("invalid_state", "State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState(). Invalid State: " + invalidState + ", Root Err: " + errorString);
            }, ClientAuthError.createStateMismatchError = function() {
                return new ClientAuthError("state_mismatch", "State mismatch error. Please check your network. Continued requests may cause cache overflow.");
            }, ClientAuthError.createStateNotFoundError = function(missingState) {
                return new ClientAuthError("state_not_found", "State not found:  " + missingState);
            }, ClientAuthError.createNonceMismatchError = function() {
                return new ClientAuthError("nonce_mismatch", "Nonce mismatch error. This may be caused by a race condition in concurrent requests.");
            }, ClientAuthError.createNonceNotFoundError = function(missingNonce) {
                return new ClientAuthError("nonce_not_found", "nonce not found:  " + missingNonce);
            }, ClientAuthError.createMultipleMatchingTokensInCacheError = function() {
                return new ClientAuthError("multiple_matching_tokens", "The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account..");
            }, ClientAuthError.createMultipleMatchingAccountsInCacheError = function() {
                return new ClientAuthError("multiple_matching_accounts", "The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account");
            }, ClientAuthError.createMultipleMatchingAppMetadataInCacheError = function() {
                return new ClientAuthError("multiple_matching_appMetadata", "The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata");
            }, ClientAuthError.createTokenRequestCannotBeMadeError = function() {
                return new ClientAuthError("request_cannot_be_made", "Token request cannot be made without authorization code or refresh token.");
            }, ClientAuthError.createAppendEmptyScopeToSetError = function(givenScope) {
                return new ClientAuthError("cannot_append_empty_scope", "Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info. Given Scope: " + givenScope);
            }, ClientAuthError.createRemoveEmptyScopeFromSetError = function(givenScope) {
                return new ClientAuthError("cannot_remove_empty_scope", "Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info. Given Scope: " + givenScope);
            }, ClientAuthError.createAppendScopeSetError = function(appendError) {
                return new ClientAuthError("cannot_append_scopeset", "Cannot append ScopeSet due to error. Detail Error: " + appendError);
            }, ClientAuthError.createEmptyInputScopeSetError = function() {
                return new ClientAuthError("empty_input_scopeset", "Empty input ScopeSet cannot be processed.");
            }, ClientAuthError.createDeviceCodeCancelledError = function() {
                return new ClientAuthError("device_code_polling_cancelled", "Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.");
            }, ClientAuthError.createDeviceCodeExpiredError = function() {
                return new ClientAuthError("device_code_expired", "Device code is expired.");
            }, ClientAuthError.createDeviceCodeUnknownError = function() {
                return new ClientAuthError("device_code_unknown_error", "Device code stopped polling for unknown reasons.");
            }, ClientAuthError.createNoAccountInSilentRequestError = function() {
                return new ClientAuthError("no_account_in_silent_request", "Please pass an account object, silent flow is not supported without account information");
            }, ClientAuthError.createNullOrUndefinedCacheRecord = function() {
                return new ClientAuthError("invalid_cache_record", "Cache record object was null or undefined.");
            }, ClientAuthError.createInvalidCacheEnvironmentError = function() {
                return new ClientAuthError("invalid_cache_environment", "Invalid environment when attempting to create cache entry");
            }, ClientAuthError.createNoAccountFoundError = function() {
                return new ClientAuthError("no_account_found", "No account found in cache for given key.");
            }, ClientAuthError.createCachePluginError = function() {
                return new ClientAuthError("no cache plugin set on CacheManager", "ICachePlugin needs to be set before using readFromStorage or writeFromStorage");
            }, ClientAuthError.createNoCryptoObjectError = function(operationName) {
                return new ClientAuthError("no_crypto_object", "No crypto object detected. This is required for the following operation: " + operationName);
            }, ClientAuthError.createInvalidCacheTypeError = function() {
                return new ClientAuthError("invalid_cache_type", "Invalid cache type");
            }, ClientAuthError.createUnexpectedAccountTypeError = function() {
                return new ClientAuthError("unexpected_account_type", "Unexpected account type.");
            }, ClientAuthError.createUnexpectedCredentialTypeError = function() {
                return new ClientAuthError("unexpected_credential_type", "Unexpected credential type.");
            }, ClientAuthError.createInvalidAssertionError = function() {
                return new ClientAuthError("invalid_assertion", "Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515");
            }, ClientAuthError.createInvalidCredentialError = function() {
                return new ClientAuthError("invalid_client_credential", "Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential");
            }, ClientAuthError.createRefreshRequiredError = function() {
                return new ClientAuthError("token_refresh_required", "Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.");
            }, ClientAuthError.createUserTimeoutReachedError = function() {
                return new ClientAuthError("user_timeout_reached", "User defined timeout for device code polling reached");
            }, ClientAuthError.createTokenClaimsRequiredError = function() {
                return new ClientAuthError("token_claims_cnf_required_for_signedjwt", "Cannot generate a POP jwt if the token_claims are not populated");
            }, ClientAuthError.createNoAuthCodeInServerResponseError = function() {
                return new ClientAuthError("authorization_code_missing_from_server_response", "Server response does not contain an authorization code to proceed");
            }, ClientAuthError.createBindingKeyNotRemovedError = function() {
                return new ClientAuthError("binding_key_not_removed", "Could not remove the credential's binding key from storage.");
            }, ClientAuthError.createLogoutNotSupportedError = function() {
                return new ClientAuthError("end_session_endpoint_not_supported", "Provided authority does not support logout.");
            }, ClientAuthError.createKeyIdMissingError = function() {
                return new ClientAuthError("key_id_missing", "A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.");
            }, ClientAuthError;
        }(AuthError.l), StringUtils_StringUtils = function() {
            function StringUtils() {}
            return StringUtils.decodeAuthToken = function(authToken) {
                if (StringUtils.isEmpty(authToken)) throw ClientAuthError_ClientAuthError.createTokenNullOrEmptyError(authToken);
                var matches = /^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(authToken);
                if (!matches || matches.length < 4) throw ClientAuthError_ClientAuthError.createTokenParsingError("Given token is malformed: " + JSON.stringify(authToken));
                return {
                    header: matches[1],
                    JWSPayload: matches[2],
                    JWSSig: matches[3]
                };
            }, StringUtils.isEmpty = function(str) {
                return void 0 === str || !str || 0 === str.length;
            }, StringUtils.isEmptyObj = function(strObj) {
                if (strObj && !StringUtils.isEmpty(strObj)) try {
                    var obj = JSON.parse(strObj);
                    return 0 === Object.keys(obj).length;
                } catch (e) {}
                return !0;
            }, StringUtils.startsWith = function(str, search) {
                return 0 === str.indexOf(search);
            }, StringUtils.endsWith = function(str, search) {
                return str.length >= search.length && str.lastIndexOf(search) === str.length - search.length;
            }, StringUtils.queryStringToObject = function(query) {
                var obj = {}, params = query.split("&"), decode = function(s) {
                    return decodeURIComponent(s.replace(/\+/g, " "));
                };
                return params.forEach(function(pair) {
                    if (pair.trim()) {
                        var _a = pair.split(/=(.+)/g, 2), key = _a[0], value = _a[1];
                        key && value && (obj[decode(key)] = decode(value));
                    }
                }), obj;
            }, StringUtils.trimArrayEntries = function(arr) {
                return arr.map(function(entry) {
                    return entry.trim();
                });
            }, StringUtils.removeEmptyStringsFromArray = function(arr) {
                return arr.filter(function(entry) {
                    return !StringUtils.isEmpty(entry);
                });
            }, StringUtils.jsonParseHelper = function(str) {
                try {
                    return JSON.parse(str);
                } catch (e) {
                    return null;
                }
            }, StringUtils.matchPattern = function(pattern, input) {
                return new RegExp(pattern.replace(/\\/g, "\\\\").replace(/\*/g, "[^ ]*").replace(/\?/g, "\\?")).test(input);
            }, StringUtils;
        }();
        !function(AuthorityType) {
            AuthorityType[AuthorityType.Default = 0] = "Default", AuthorityType[AuthorityType.Adfs = 1] = "Adfs";
        }(AuthorityType || (AuthorityType = {}));
        var AccountEntity = function() {
            function AccountEntity() {}
            return AccountEntity.prototype.generateAccountId = function() {
                return [ this.homeAccountId, this.environment ].join(utils_Constants.Bv.CACHE_KEY_SEPARATOR).toLowerCase();
            }, AccountEntity.prototype.generateAccountKey = function() {
                return AccountEntity.generateAccountCacheKey({
                    homeAccountId: this.homeAccountId,
                    environment: this.environment,
                    tenantId: this.realm,
                    username: this.username,
                    localAccountId: this.localAccountId
                });
            }, AccountEntity.prototype.generateType = function() {
                switch (this.authorityType) {
                  case utils_Constants.iR.ADFS_ACCOUNT_TYPE:
                    return utils_Constants.LL.ADFS;

                  case utils_Constants.iR.MSAV1_ACCOUNT_TYPE:
                    return utils_Constants.LL.MSA;

                  case utils_Constants.iR.MSSTS_ACCOUNT_TYPE:
                    return utils_Constants.LL.MSSTS;

                  case utils_Constants.iR.GENERIC_ACCOUNT_TYPE:
                    return utils_Constants.LL.GENERIC;

                  default:
                    throw ClientAuthError_ClientAuthError.createUnexpectedAccountTypeError();
                }
            }, AccountEntity.prototype.getAccountInfo = function() {
                return {
                    homeAccountId: this.homeAccountId,
                    environment: this.environment,
                    tenantId: this.realm,
                    username: this.username,
                    localAccountId: this.localAccountId,
                    name: this.name,
                    idTokenClaims: this.idTokenClaims,
                    nativeAccountId: this.nativeAccountId
                };
            }, AccountEntity.generateAccountCacheKey = function(accountInterface) {
                return [ accountInterface.homeAccountId, accountInterface.environment || utils_Constants.gT.EMPTY_STRING, accountInterface.tenantId || utils_Constants.gT.EMPTY_STRING ].join(utils_Constants.Bv.CACHE_KEY_SEPARATOR).toLowerCase();
            }, AccountEntity.createAccount = function(clientInfo, homeAccountId, idToken, authority, oboAssertion, cloudGraphHostName, msGraphHost, environment, nativeAccountId) {
                var _a, _b, _c, _d, _e, _f, account = new AccountEntity;
                account.authorityType = utils_Constants.iR.MSSTS_ACCOUNT_TYPE, account.clientInfo = clientInfo, 
                account.homeAccountId = homeAccountId, account.nativeAccountId = nativeAccountId;
                var env = environment || authority && authority.getPreferredCache();
                if (!env) throw ClientAuthError_ClientAuthError.createInvalidCacheEnvironmentError();
                return account.environment = env, account.realm = (null === (_a = null == idToken ? void 0 : idToken.claims) || void 0 === _a ? void 0 : _a.tid) || utils_Constants.gT.EMPTY_STRING, 
                account.oboAssertion = oboAssertion, idToken && (account.idTokenClaims = idToken.claims, 
                account.localAccountId = (null === (_b = null == idToken ? void 0 : idToken.claims) || void 0 === _b ? void 0 : _b.oid) || (null === (_c = null == idToken ? void 0 : idToken.claims) || void 0 === _c ? void 0 : _c.sub) || utils_Constants.gT.EMPTY_STRING, 
                account.username = (null === (_d = null == idToken ? void 0 : idToken.claims) || void 0 === _d ? void 0 : _d.preferred_username) || ((null === (_e = null == idToken ? void 0 : idToken.claims) || void 0 === _e ? void 0 : _e.emails) ? idToken.claims.emails[0] : utils_Constants.gT.EMPTY_STRING), 
                account.name = null === (_f = null == idToken ? void 0 : idToken.claims) || void 0 === _f ? void 0 : _f.name), 
                account.cloudGraphHostName = cloudGraphHostName, account.msGraphHost = msGraphHost, 
                account;
            }, AccountEntity.createGenericAccount = function(homeAccountId, idToken, authority, oboAssertion, cloudGraphHostName, msGraphHost, environment) {
                var _a, _b, _c, _d, account = new AccountEntity;
                account.authorityType = authority && authority.authorityType === AuthorityType.Adfs ? utils_Constants.iR.ADFS_ACCOUNT_TYPE : utils_Constants.iR.GENERIC_ACCOUNT_TYPE, 
                account.homeAccountId = homeAccountId, account.realm = utils_Constants.gT.EMPTY_STRING, 
                account.oboAssertion = oboAssertion;
                var env = environment || authority && authority.getPreferredCache();
                if (!env) throw ClientAuthError_ClientAuthError.createInvalidCacheEnvironmentError();
                return idToken && (account.localAccountId = (null === (_a = null == idToken ? void 0 : idToken.claims) || void 0 === _a ? void 0 : _a.oid) || (null === (_b = null == idToken ? void 0 : idToken.claims) || void 0 === _b ? void 0 : _b.sub) || utils_Constants.gT.EMPTY_STRING, 
                account.username = (null === (_c = null == idToken ? void 0 : idToken.claims) || void 0 === _c ? void 0 : _c.upn) || utils_Constants.gT.EMPTY_STRING, 
                account.name = (null === (_d = null == idToken ? void 0 : idToken.claims) || void 0 === _d ? void 0 : _d.name) || utils_Constants.gT.EMPTY_STRING, 
                account.idTokenClaims = null == idToken ? void 0 : idToken.claims), account.environment = env, 
                account.cloudGraphHostName = cloudGraphHostName, account.msGraphHost = msGraphHost, 
                account;
            }, AccountEntity.generateHomeAccountId = function(serverClientInfo, authType, logger, cryptoObj, idToken) {
                var _a, accountId = (null === (_a = null == idToken ? void 0 : idToken.claims) || void 0 === _a ? void 0 : _a.sub) ? idToken.claims.sub : utils_Constants.gT.EMPTY_STRING;
                if (authType === AuthorityType.Adfs) return accountId;
                if (serverClientInfo) try {
                    var clientInfo = function(rawClientInfo, crypto) {
                        if (StringUtils_StringUtils.isEmpty(rawClientInfo)) throw ClientAuthError_ClientAuthError.createClientInfoEmptyError();
                        try {
                            var decodedClientInfo = crypto.base64Decode(rawClientInfo);
                            return JSON.parse(decodedClientInfo);
                        } catch (e) {
                            throw ClientAuthError_ClientAuthError.createClientInfoDecodingError(e);
                        }
                    }(serverClientInfo, cryptoObj);
                    if (!StringUtils_StringUtils.isEmpty(clientInfo.uid) && !StringUtils_StringUtils.isEmpty(clientInfo.utid)) return "" + clientInfo.uid + utils_Constants.Bv.CLIENT_INFO_SEPARATOR + clientInfo.utid;
                } catch (e) {}
                return logger.verbose("No client info in response"), accountId;
            }, AccountEntity.isAccountEntity = function(entity) {
                return !!entity && entity.hasOwnProperty("homeAccountId") && entity.hasOwnProperty("environment") && entity.hasOwnProperty("realm") && entity.hasOwnProperty("localAccountId") && entity.hasOwnProperty("username") && entity.hasOwnProperty("authorityType");
            }, AccountEntity.accountInfoIsEqual = function(accountA, accountB, compareClaims) {
                if (!accountA || !accountB) return !1;
                var claimsMatch = !0;
                if (compareClaims) {
                    var accountAClaims = accountA.idTokenClaims || {}, accountBClaims = accountB.idTokenClaims || {};
                    claimsMatch = accountAClaims.iat === accountBClaims.iat && accountAClaims.nonce === accountBClaims.nonce;
                }
                return accountA.homeAccountId === accountB.homeAccountId && accountA.localAccountId === accountB.localAccountId && accountA.username === accountB.username && accountA.tenantId === accountB.tenantId && accountA.environment === accountB.environment && accountA.nativeAccountId === accountB.nativeAccountId && claimsMatch;
            }, AccountEntity;
        }(), Telemetry = __webpack_require__(21617), simple_confirmation_dialog_component = __webpack_require__(98049), msal_service = __webpack_require__(19270), src = __webpack_require__(66070), AccessTokenError = function(_super) {
            function AccessTokenError(message, msalError) {
                var _this = _super.call(this, message) || this;
                return _this.message = message, _this.msalError = msalError, _this;
            }
            return (0, tslib_es6.__extends)(AccessTokenError, _super), AccessTokenError;
        }(Error), telemetryHelpers = __webpack_require__(41114), AppAdHocTokenAcquisition = telemetryHelpers.cx["PBI.App.AdHocTokenAcquisition"] = (0, 
        telemetryHelpers.b1)("PBI.App.AdHocTokenAcquisition"), AppAdHocTokenAcquisitionUserConfirmation = telemetryHelpers.cx["PBI.App.AdHocTokenAcquisition.UserConfirmation"] = (0, 
        telemetryHelpers.b1)("PBI.App.AdHocTokenAcquisition.UserConfirmation"), core = __webpack_require__(50423), dialog_service = __webpack_require__(58938), localization_service = __webpack_require__(65181), commonGlobals = window, AccessTokenProviderService = function() {
            function AccessTokenProviderService(dialogService, localizationService, telemetryService) {
                this.dialogService = dialogService, this.localizationService = localizationService, 
                this.telemetryService = telemetryService, this.msalClientApplication = commonGlobals.msalClientApplication;
            }
            return AccessTokenProviderService.prototype.acquireToken = function(scenarioName, scopes, forceRefresh) {
                var _a;
                return void 0 === forceRefresh && (forceRefresh = !1), (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var signedInAccount, acquireTokenEvent, authResult, error_1, errorMessage;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            if (signedInAccount = this.retrieveSignedInAccount(), acquireTokenEvent = this.telemetryService.startActivity(null, AppAdHocTokenAcquisition, {
                                scenarioName,
                                authMethod: "Silent"
                            }), !signedInAccount) return [ 3, 5 ];
                            _b.label = 1;

                          case 1:
                            return _b.trys.push([ 1, 3, , 4 ]), [ 4, this.msalClientApplication.acquireTokenSilent({
                                scopes,
                                account: signedInAccount,
                                forceRefresh
                            }) ];

                          case 2:
                            return authResult = _b.sent(), acquireTokenEvent.resolve(), [ 2, {
                                token: authResult.accessToken,
                                expiry: authResult.expiresOn
                            } ];

                          case 3:
                            throw (error_1 = _b.sent()).constructor.name === InteractionRequiredAuthError.Yo.name ? (acquireTokenEvent.reject({
                                errorSource: "External",
                                errorMessage: errorMessage = msal_service.fW.UserInteractionRequired,
                                errorCode: "UserInteractionRequired"
                            }), new AccessTokenError(errorMessage, error_1)) : (errorMessage = null !== (_a = error_1.message) && void 0 !== _a ? _a : error_1, 
                            acquireTokenEvent.reject({
                                errorSource: "External",
                                errorMessage,
                                errorCode: error_1.code
                            }), new AccessTokenError("Error code: ".concat(error_1.code, ", error message: ").concat(errorMessage), error_1));

                          case 4:
                            return [ 3, 6 ];

                          case 5:
                            throw acquireTokenEvent.reject({
                                errorSource: "PowerBI",
                                errorMessage: errorMessage = msal_service.fW.UserNotSignedIn,
                                errorCode: "UserNotSignedIn"
                            }), Error(errorMessage);

                          case 6:
                            return [ 2 ];
                        }
                    });
                });
            }, AccessTokenProviderService.prototype.acquireTokenPopup = function(scenarioName, scopes) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        return [ 2, src.kB.retryOnInteractionInProgressError(function() {
                            return _this.acquireTokenPopupInternal(scenarioName, scopes);
                        }) ];
                    });
                });
            }, AccessTokenProviderService.prototype.acquireTokenPopupInternal = function(scenarioName, scopes) {
                var _a;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var result, signedInAccount, acquireTokenEvent, authResult, error_2, errorMessage;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            return [ 4, this.dialogService.open(simple_confirmation_dialog_component.J, {
                                data: {
                                    title: this.localizationService.get("AcquireToken_Dialog_VerifyIdentity"),
                                    ariaLabel: this.localizationService.get("AcquireToken_Dialog_SelectContinue"),
                                    message: this.localizationService.get("AcquireToken_Dialog_SelectContinue"),
                                    okButtonText: this.localizationService.get("ModalDialogButtonText_Continue"),
                                    cancelButtonText: this.localizationService.get("ModalDialog_Cancel")
                                },
                                autoFocus: !0
                            }).afterClosed().toPromise() ];

                          case 1:
                            if (result = _b.sent(), this.telemetryService.logEvent(AppAdHocTokenAcquisitionUserConfirmation, {
                                scenarioName,
                                authMethod: "Popup",
                                result: 1 === result
                            }), 1 !== result) throw Error(msal_service.fW.UserInteractionDeclined);
                            signedInAccount = this.retrieveSignedInAccount(), acquireTokenEvent = this.telemetryService.startActivity(null, AppAdHocTokenAcquisition, {
                                scenarioName,
                                authMethod: "Popup"
                            }), _b.label = 2;

                          case 2:
                            return _b.trys.push([ 2, 4, , 5 ]), [ 4, this.msalClientApplication.acquireTokenPopup({
                                scopes,
                                account: signedInAccount
                            }) ];

                          case 3:
                            return authResult = _b.sent(), this.msalClientApplication.setActiveAccount(authResult.account), 
                            [ 3, 5 ];

                          case 4:
                            throw error_2 = _b.sent(), errorMessage = null !== (_a = error_2.message) && void 0 !== _a ? _a : error_2, 
                            acquireTokenEvent.reject({
                                errorSource: "External",
                                errorMessage,
                                errorCode: error_2.code
                            }), new AccessTokenError("Error code: ".concat(error_2.code, ", error message: ").concat(errorMessage), error_2);

                          case 5:
                            if (!AccountEntity.accountInfoIsEqual(null != signedInAccount ? signedInAccount : null, authResult.account)) throw acquireTokenEvent.reject({
                                errorSource: "External",
                                errorMessage: msal_service.fW.UserAccountChanged,
                                errorCode: "UserAccountChanged"
                            }), this.reloadPage(), Error(msal_service.fW.UserAccountChanged);
                            return acquireTokenEvent.resolve(), [ 2, {
                                token: authResult.accessToken,
                                expiry: authResult.expiresOn
                            } ];
                        }
                    });
                });
            }, AccessTokenProviderService.prototype.reloadPage = function() {
                window.location.reload();
            }, AccessTokenProviderService.prototype.retrieveSignedInAccount = function() {
                return commonGlobals.signInProviderService.retrieveSignedInAccount();
            }, AccessTokenProviderService.\u0275fac = function(t) {
                return new (t || AccessTokenProviderService)(core["\u0275\u0275inject"](dialog_service.x), core["\u0275\u0275inject"](localization_service.o), core["\u0275\u0275inject"](Telemetry.y0));
            }, AccessTokenProviderService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: AccessTokenProviderService,
                factory: AccessTokenProviderService.\u0275fac,
                providedIn: "root"
            }), AccessTokenProviderService;
        }();
    },
    14967: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            Gp: function() {
                return UpdateCaching;
            },
            HG: function() {
                return Delete;
            },
            JW: function() {
                return Remove;
            },
            T4: function() {
                return BulkLoad;
            },
            Uo: function() {
                return LoadAllSuccess;
            },
            Wy: function() {
                return DELETE_SUCCESS;
            },
            Xg: function() {
                return MoveToSubfolderSuccess;
            },
            dG: function() {
                return LoadUserPermissions;
            },
            dQ: function() {
                return Endorse;
            },
            ic: function() {
                return Rename;
            },
            pH: function() {
                return LoadShared;
            },
            q5: function() {
                return Load;
            },
            rR: function() {
                return BULK_LOAD_SUCCESS;
            },
            zb: function() {
                return EnsureLoadedReadonlyShared;
            },
            zh: function() {
                return BulkAddWithoutUpdate;
            }
        });
        var BULK_LOAD_SUCCESS = "[Dataset] Bulk Load Success", DELETE_SUCCESS = "[Dataset] Delete Success", LoadAllSuccess = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Dataset] Load All Success";
            };
        }(), Load = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Dataset] Load";
            };
        }(), BulkAddWithoutUpdate = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Dataset] Bulk Add Without Update";
            };
        }(), BulkLoad = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Dataset] Bulk Load";
            };
        }(), Delete = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Dataset] Delete";
            };
        }(), Rename = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Dataset] Rename";
            };
        }(), Remove = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Dataset] Remove";
            };
        }(), LoadShared = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Dataset] Load Shared";
            };
        }(), UpdateCaching = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Dataset] Update Caching";
            };
        }(), LoadUserPermissions = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Dataset] Load User Permissions";
            };
        }(), Endorse = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Dataset] Endorse";
            };
        }(), EnsureLoadedReadonlyShared = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Dataset] Ensure Loaded readonly shared";
            };
        }(), MoveToSubfolderSuccess = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Dataset] Move To Subfolder Success";
            };
        }();
    },
    98632: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            AX: function() {
                return UpdateMany;
            },
            BN: function() {
                return Update;
            },
            Dq: function() {
                return REMOVE;
            },
            EC: function() {
                return ENSURE;
            },
            HG: function() {
                return Delete;
            },
            JW: function() {
                return Remove;
            },
            Lf: function() {
                return UpdateVisibility;
            },
            Ph: function() {
                return Select;
            },
            Wy: function() {
                return DELETE_SUCCESS;
            },
            Xg: function() {
                return MoveToSubfolderSuccess;
            },
            Zt: function() {
                return UpsertMany;
            },
            _S: function() {
                return Ensure;
            },
            aM: function() {
                return LOAD_SUCCESS;
            },
            c: function() {
                return Hide;
            },
            f$: function() {
                return Rebind;
            },
            ic: function() {
                return Rename;
            },
            q5: function() {
                return Load;
            },
            xb: function() {
                return SyncServiceLoad;
            },
            yO: function() {
                return Unhide;
            },
            yi: function() {
                return EnsureReportMetadata;
            }
        });
        var DELETE_SUCCESS = "[Report] Delete Success", ENSURE = "[Report] Ensure", LOAD_SUCCESS = "[Report] Load Success", REMOVE = "[Report] Remove", EnsureReportMetadata = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Report] Ensure Report Metadata";
            };
        }(), Load = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Report] Load";
            };
        }(), SyncServiceLoad = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Report] Load From Sync Service";
            };
        }(), Delete = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Report] Delete";
            };
        }(), UpdateVisibility = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Report] Update Visibility";
            };
        }(), Rename = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Report] Rename";
            };
        }(), Rebind = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Report] Rebind";
            };
        }(), Select = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Report] Select";
            };
        }(), Ensure = function() {
            return function(payload) {
                this.payload = payload, this.type = ENSURE;
            };
        }(), Remove = function() {
            return function(payload) {
                this.payload = payload, this.type = REMOVE;
            };
        }(), Update = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Report] Update";
            };
        }(), UpdateMany = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Report] Update Many";
            };
        }(), UpsertMany = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Report] Upsert Many";
            };
        }(), Hide = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Report] Hide";
            };
        }(), Unhide = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Report] Unhide";
            };
        }(), MoveToSubfolderSuccess = function() {
            return function(payload) {
                this.payload = payload, this.type = "[Report] Move To Subfolder Success";
            };
        }();
    },
    90982: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            e: function() {
                return CoreModuleConfigurationInjectionToken;
            }
        });
        var CoreModuleConfigurationInjectionToken = new (__webpack_require__(50423).InjectionToken)("coreModuleConfiguration");
    },
    50911: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            s: function() {
                return DatasetStore;
            }
        });
        var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(81337), _actions_dataset__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(14967), _core_module_configuration__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(90982), _reducers_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(28726), _reducers_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(18405), rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(48787), rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(14172), _permission_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(87041), _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(50423), _ngrx_store__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(85732), DatasetStore = function() {
            function DatasetStore(store, config) {
                this.store = store, this.config = config, this.dataset$ = this.store.select(config.shouldFilterDataServicesByFolder ? _reducers_index__WEBPACK_IMPORTED_MODULE_0__.F8 : _reducers_index__WEBPACK_IMPORTED_MODULE_1__.uL), 
                this.explorableDatasets$ = this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.Ol), 
                this.writeableModels$ = this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.YZ), 
                this.selectedDataset$ = this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_1__.rY);
            }
            return Object.defineProperty(DatasetStore.prototype, "datasets", {
                get: function() {
                    return this.dataset$;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(DatasetStore.prototype, "explorableDatasets", {
                get: function() {
                    return this.explorableDatasets$;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(DatasetStore.prototype, "writeableModels", {
                get: function() {
                    return this.writeableModels$.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.q)(1)).toPromise();
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(DatasetStore.prototype, "selectedDataset", {
                get: function() {
                    return this.selectedDataset$;
                },
                enumerable: !1,
                configurable: !0
            }), DatasetStore.prototype.getSelectedDatasetId = function() {
                return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_1__.m5);
            }, DatasetStore.prototype.getDatasetsByGroupId = function(groupId) {
                return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.Rx, {
                    id: groupId
                }).pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.q)(1));
            }, DatasetStore.prototype.findById = function(id, packageId) {
                var uniqueId = id + "_" + packageId;
                return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_1__.vw).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.U)(function(datasets) {
                    return datasets[uniqueId];
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.q)(1)).toPromise();
            }, DatasetStore.prototype.findDatasetById = function(id) {
                return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_1__.Ue, {
                    id
                }).pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.q)(1)).toPromise();
            }, DatasetStore.prototype.findDatasetByIdAsObservable = function(id) {
                return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_1__.Ue, {
                    id
                });
            }, DatasetStore.prototype.findByPackageId = function(packageId, groupObjectId) {
                return (this.config.shouldFilterDataServicesByFolder ? this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.Rx, {
                    id: groupObjectId
                }) : this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_1__.Su)).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.U)(function(datasets) {
                    return datasets.filter(function(ds) {
                        return ds.packageId === packageId;
                    });
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.q)(1)).toPromise();
            }, DatasetStore.prototype.findDataset = function(id, packageId, allowOtherPackages) {
                return void 0 === allowOtherPackages && (allowOtherPackages = !1), this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_1__.pY, {
                    modelId: id,
                    packageId,
                    allowOtherPackages
                }).pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.q)(1)).toPromise();
            }, DatasetStore.prototype.findDatasetByObjectId = function(dbName) {
                return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.Z6, dbName).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.U)(function(datasets) {
                    return datasets[0];
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.q)(1)).toPromise();
            }, DatasetStore.prototype.findAll = function(id, forceSearchAllFolders) {
                return void 0 === forceSearchAllFolders && (forceSearchAllFolders = !1), this.store.select(forceSearchAllFolders || !this.config.shouldFilterDataServicesByFolder ? _reducers_index__WEBPACK_IMPORTED_MODULE_1__.Su : _reducers_index__WEBPACK_IMPORTED_MODULE_0__.qI).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.U)(function(datasets) {
                    return datasets.filter(function(ds) {
                        return ds.id === id;
                    });
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.q)(1)).toPromise();
            }, DatasetStore.prototype.loadUserPermissions = function(id, permission) {
                this.store.dispatch(new _actions_dataset__WEBPACK_IMPORTED_MODULE_4__.dG({
                    id,
                    permissions: permission
                }));
            }, DatasetStore.prototype.delete = function(dataset, fromSyncService, telemetryEvent) {
                return dataset && this.store.dispatch(fromSyncService ? new _actions_dataset__WEBPACK_IMPORTED_MODULE_4__.JW({
                    dataset,
                    relatedReportIds: []
                }) : new _actions_dataset__WEBPACK_IMPORTED_MODULE_4__.HG({
                    dataset,
                    telemetryEvent
                })), telemetryEvent && telemetryEvent.promise;
            }, DatasetStore.prototype.rename = function(dataset, newName, telemetryEvent) {
                return this.store.dispatch(new _actions_dataset__WEBPACK_IMPORTED_MODULE_4__.ic({
                    dataset,
                    name: newName,
                    telemetryEvent
                })), telemetryEvent && telemetryEvent.promise;
            }, DatasetStore.prototype.bulkLoad = function(datasets, loadCompletion) {
                this.store.dispatch(new _actions_dataset__WEBPACK_IMPORTED_MODULE_4__.T4({
                    datasets,
                    loadCompletion
                }));
            }, DatasetStore.prototype.load = function(id, packageId, loadCompletion, telemetryEvent) {
                this.store.dispatch(new _actions_dataset__WEBPACK_IMPORTED_MODULE_4__.q5({
                    id,
                    packageId,
                    loadCompletion,
                    telemetryEvent
                }));
            }, DatasetStore.prototype.add = function(id, packageId, loadCompletion) {
                this.store.dispatch(new _actions_dataset__WEBPACK_IMPORTED_MODULE_4__.q5({
                    id,
                    packageId,
                    isNew: !0,
                    loadCompletion
                }));
            }, DatasetStore.prototype.bulkAdd = function(models) {
                this.store.dispatch(new _actions_dataset__WEBPACK_IMPORTED_MODULE_4__.Uo(models));
            }, DatasetStore.prototype.bulkAddWithoutUpdate = function(models) {
                this.store.dispatch(new _actions_dataset__WEBPACK_IMPORTED_MODULE_4__.zh(models));
            }, DatasetStore.prototype.loadShared = function(loadCompletion) {
                this.store.dispatch(new _actions_dataset__WEBPACK_IMPORTED_MODULE_4__.pH({
                    loadCompletion
                }));
            }, DatasetStore.prototype.ensureLoadedReadonlyShared = function(loadCompletion) {
                this.store.dispatch(new _actions_dataset__WEBPACK_IMPORTED_MODULE_4__.zb({
                    loadCompletion
                }));
            }, DatasetStore.prototype.updateCaching = function(id, packageId, cachingSettings, telemetryEvent) {
                this.store.dispatch(new _actions_dataset__WEBPACK_IMPORTED_MODULE_4__.Gp({
                    id,
                    packageId,
                    cachingSettings,
                    telemetryEvent
                }));
            }, DatasetStore.prototype.endorse = function(dataset, galleryItem) {
                this.store.dispatch(new _actions_dataset__WEBPACK_IMPORTED_MODULE_4__.dQ({
                    dataset,
                    galleryItem
                }));
            }, DatasetStore.prototype.findModelByDBName = function(dbName, packageId) {
                var model;
                return (model = packageId ? this.dataset$.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.U)(function(datasetsWithCategory) {
                    return _.find(_.map(datasetsWithCategory, function(datasetWithCategory) {
                        return datasetWithCategory.dataset;
                    }), function(dataset) {
                        return dataset.dbName === dbName && dataset.packageId === packageId;
                    });
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.q)(1)).toPromise() : this.findDatasetByObjectId(dbName)) || packageId || (model = this.dataset$.pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.U)(function(datasetsWithCategory) {
                    return _.find(_.map(datasetsWithCategory, function(datasetWithCategory) {
                        return datasetWithCategory.dataset;
                    }), function(dataset) {
                        return dataset.dbName === dbName;
                    });
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.q)(1)).toPromise()), model;
            }, DatasetStore.prototype.moveToSubfolder = function(movedDatasets) {
                this.store.dispatch(new _actions_dataset__WEBPACK_IMPORTED_MODULE_4__.Xg({
                    movedDatasets
                }));
            }, DatasetStore.prototype.getCopyEditUsableDataSets = function(isMyWorkspace) {
                return (0, tslib__WEBPACK_IMPORTED_MODULE_5__.__awaiter)(this, void 0, void 0, function() {
                    var copyAndEditModels, combinedModels, filteredModels;
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_5__.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return [ 4, this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_1__.uL).pipe((0, 
                            rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.q)(1), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.U)(function(datasetsWithCategory) {
                                return _.filter(_.map(datasetsWithCategory, function(datasetWithCategory) {
                                    return datasetWithCategory.dataset;
                                }), function(dataset) {
                                    return (0, _permission_service__WEBPACK_IMPORTED_MODULE_6__.q0)(dataset);
                                });
                            })).toPromise() ];

                          case 1:
                            return copyAndEditModels = _a.sent(), [ 4, this.combineAndFilterUsableModelLists(copyAndEditModels, isMyWorkspace) ];

                          case 2:
                            return combinedModels = _a.sent(), [ 2, {
                                models: filteredModels = _.filter(combinedModels, function(m) {
                                    return m.workspaceName;
                                }),
                                filteredCount: copyAndEditModels.length - filteredModels.length
                            } ];
                        }
                    });
                });
            }, DatasetStore.prototype.combineAndFilterUsableModelLists = function(models, isMyWorkspace) {
                return (0, tslib__WEBPACK_IMPORTED_MODULE_5__.__awaiter)(this, void 0, void 0, function() {
                    var allModels, _a, _b, _c;
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_5__.__generator)(this, function(_d) {
                        switch (_d.label) {
                          case 0:
                            return isMyWorkspace ? (_b = (_a = _).concat, [ 4, this.datasets.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.q)(1), (0, 
                            rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.U)(function(datasetsWithCategory) {
                                return _.map(datasetsWithCategory, function(datasetWithCategory) {
                                    return datasetWithCategory.dataset;
                                });
                            })).toPromise() ]) : [ 2, models ];

                          case 1:
                            return _c = [ _d.sent() ], [ 4, this.explorableDatasets.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.q)(1)).toPromise() ];

                          case 2:
                            return allModels = _b.apply(_a, _c.concat([ _d.sent() ])), [ 2, _.filter(allModels, function(m) {
                                return 2 !== m.workspaceType;
                            }) ];
                        }
                    });
                });
            }, DatasetStore.\u0275fac = function(t) {
                return new (t || DatasetStore)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["\u0275\u0275inject"](_ngrx_store__WEBPACK_IMPORTED_MODULE_8__.yh), _angular_core__WEBPACK_IMPORTED_MODULE_7__["\u0275\u0275inject"](_core_module_configuration__WEBPACK_IMPORTED_MODULE_9__.e));
            }, DatasetStore.\u0275prov = _angular_core__WEBPACK_IMPORTED_MODULE_7__["\u0275\u0275defineInjectable"]({
                token: DatasetStore,
                factory: DatasetStore.\u0275fac,
                providedIn: "root"
            }), DatasetStore;
        }();
    },
    19178: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            Y: function() {
                return GroupStore;
            }
        });
        var tslib__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(81337), _actions_group__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(82515), _reducers_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(74076), _reducers_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(40898), rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(82762), rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(11547), rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(59017), rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81905), rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(14172), rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(48787), rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(41198), rxjs_operators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(23558), _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(50423), _ngrx_store__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(85732), GroupStore = function() {
            function GroupStore(store) {
                this.store = store;
            }
            return Object.defineProperty(GroupStore.prototype, "selectedGroup$", {
                get: function() {
                    return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.S6);
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GroupStore.prototype, "selectedFolderId$", {
                get: function() {
                    return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.CW);
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GroupStore.prototype, "myFolderObjectId$", {
                get: function() {
                    return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.iF);
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GroupStore.prototype, "nonMyWorkspaces$", {
                get: function() {
                    return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.c_);
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GroupStore.prototype, "myWorkspace$", {
                get: function() {
                    return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.Au);
                },
                enumerable: !1,
                configurable: !0
            }), GroupStore.prototype.foldersWithEditPermissions = function(includeMyWorkspace) {
                var _this = this;
                return (0, rxjs__WEBPACK_IMPORTED_MODULE_1__.D)(this.ensureWorkspacesLoaded()).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.w)(function() {
                    return (0, rxjs__WEBPACK_IMPORTED_MODULE_3__.aj)([ _this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_4__.Ou), includeMyWorkspace ? _this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.Ze) : (0, 
                    rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(null) ]);
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(function(_a) {
                    var myWorkspace = _a[1], sortedFolders = _(_a[0]).filter(function(f) {
                        return !myWorkspace || !_.isEqual(f, myWorkspace);
                    }).sortBy(function(f) {
                        return f.displayName.toLocaleLowerCase();
                    }).value();
                    return myWorkspace ? (0, tslib__WEBPACK_IMPORTED_MODULE_7__.__spreadArray)([ myWorkspace ], sortedFolders, !0) : sortedFolders;
                }));
            }, GroupStore.prototype.add = function(group, isFolder) {
                this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.mm({
                    group,
                    isFolder
                }));
            }, Object.defineProperty(GroupStore.prototype, "folders", {
                get: function() {
                    return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_4__.xh).pipe((0, 
                    rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(function(value) {
                        return _.map(Object.keys(value), function(key) {
                            return value[key];
                        });
                    }));
                },
                enumerable: !1,
                configurable: !0
            }), GroupStore.prototype.remove = function(objectId) {
                this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.JW(objectId));
            }, GroupStore.prototype.update = function(folders) {
                this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.BN(folders));
            }, GroupStore.prototype.updateGroup = function(group) {
                this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.bn(group));
            }, GroupStore.prototype.updatePartialWorkspaces = function(folders) {
                this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.ZG(folders));
            }, GroupStore.prototype.load = function(groupObjectId) {
                this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.q5({
                    groupId: groupObjectId
                }));
            }, GroupStore.prototype.getGroupById = function(groupObjectId) {
                return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.VL, {
                    id: groupObjectId
                });
            }, GroupStore.prototype.getAllNonEmptyDomains = function() {
                return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.vL);
            }, GroupStore.prototype.addDomainFilters = function(domainObjectIds) {
                this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.qC({
                    domainObjectIds
                }));
            }, GroupStore.prototype.deleteDomainFilters = function(domainObjectIds) {
                this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.tk({
                    domainObjectIds
                }));
            }, GroupStore.prototype.getGroupObjectId = function(groupId) {
                return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.cM).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.w)(function(groups) {
                    for (var groupObjectId in groups) {
                        var selectedGroup = groups[groupObjectId];
                        if (selectedGroup.id === groupId) return (0, rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(null == selectedGroup ? void 0 : selectedGroup.objectId);
                    }
                    return (0, rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(void 0);
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.q)(1));
            }, GroupStore.prototype.loadSuccess = function(groupObjectId, dashboardContainer, folderNumericId, permissions) {
                this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.Xt({
                    id: groupObjectId,
                    group: dashboardContainer,
                    folderId: folderNumericId,
                    permissions
                }));
            }, GroupStore.prototype.loadSuccessBasedOnWorkspaceContext = function(groupObjectId, dashboardContainer) {
                var _this = this;
                this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.ve).pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.q)(1)).subscribe(function(folderId) {
                    _this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.Xt(folderId ? {
                        id: groupObjectId,
                        group: dashboardContainer,
                        folderId: void 0,
                        permissions: void 0,
                        currentWorkspaceType: "folder"
                    } : {
                        id: groupObjectId,
                        group: dashboardContainer,
                        folderId: void 0,
                        permissions: void 0,
                        currentWorkspaceType: "group"
                    }));
                });
            }, GroupStore.prototype.select = function(groupObjectId) {
                this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.Ph({
                    id: groupObjectId
                }));
            }, GroupStore.prototype.switch = function(groupObjectId, groupSwitchOptions) {
                this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.q_({
                    groupId: groupObjectId,
                    groupSwitchOptions
                }));
            }, GroupStore.prototype.ensureGroupArtifactsLoaded = function(groupObjectId, addArtifacts) {
                var _this = this;
                return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.s4).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.n)(function(loaded) {
                    return !loaded;
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.q)(1)).subscribe(function() {
                    _this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__._S({
                        groupObjectId,
                        refreshIfStale: !1,
                        addArtifacts
                    }));
                }), this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.VL, {
                    id: groupObjectId
                }).pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.M)(this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.Uy)), (0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.n)(function(_a) {
                    var group = _a[0];
                    return !group || !(group.loaded && (!addArtifacts || !0 === _a[1]));
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.q)(1), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(function() {
                    return !0;
                })).toPromise();
            }, GroupStore.prototype.ensureGroupArtifactsLoadedOrError = function(groupObjectId) {
                var _this = this;
                return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.s4).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.n)(function(loaded) {
                    return !loaded;
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.q)(1)).subscribe(function() {
                    _this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__._S({
                        groupObjectId,
                        refreshIfStale: !1
                    }));
                }), this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.VL, {
                    id: groupObjectId
                }).pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.n)(function(group) {
                    return !group || !group.loaded && !group.loadedWithError;
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.q)(1), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(function() {
                    return !0;
                })).toPromise();
            }, GroupStore.prototype.ensureGroupSelectedAndLoaded = function(groupObjectId) {
                return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.S6).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.n)(function(group) {
                    return !group || !group.loaded || group.objectId !== groupObjectId;
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.q)(1), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(function() {
                    return !0;
                })).toPromise();
            }, GroupStore.prototype.ensureWorkspacesLoaded = function() {
                var _this = this;
                return this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.LD).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.n)(function(groups) {
                    return !groups || groups.loading;
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.q)(1)).subscribe(function(groups) {
                    groups.loaded || _this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.Us);
                }), this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.LD).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.n)(function(groups) {
                    return !groups || !groups.loaded;
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.q)(1), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(function() {
                    return !0;
                })).toPromise();
            }, GroupStore.prototype.forceReloadWorkspaces = function() {
                return this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.Us), 
                this.store.select(_reducers_index__WEBPACK_IMPORTED_MODULE_0__.LD).pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.n)(function(groups) {
                    return !groups || !groups.loaded;
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.q)(1), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(function() {
                    return !0;
                })).toPromise();
            }, GroupStore.prototype.updateMyWorkSpaceCapacity = function(capacity) {
                this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.Vd(capacity));
            }, GroupStore.prototype.loadFoldersSuccess = function(folders) {
                this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.uw(folders));
            }, GroupStore.prototype.hide = function(group) {
                this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.c({
                    group
                }));
            }, GroupStore.prototype.unhide = function(group) {
                this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_8__.yO({
                    group
                }));
            }, GroupStore.\u0275fac = function(t) {
                return new (t || GroupStore)(_angular_core__WEBPACK_IMPORTED_MODULE_12__["\u0275\u0275inject"](_ngrx_store__WEBPACK_IMPORTED_MODULE_13__.yh));
            }, GroupStore.\u0275prov = _angular_core__WEBPACK_IMPORTED_MODULE_12__["\u0275\u0275defineInjectable"]({
                token: GroupStore,
                factory: GroupStore.\u0275fac,
                providedIn: "root"
            }), GroupStore;
        }();
    },
    94420: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            R: function() {
                return ReportStore;
            }
        });
        var tslib__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(81337), _actions_report__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(98632), _actions_group__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(82515), _core_module_configuration__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(90982), _helpers_datasets__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(3408), _Common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(35911), _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(62458), rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(59017), rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(48787), rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(14172), rxjs_operators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(59973), _selectors_shell_groups__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(40521), _selectors_shell_groups__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(74076), _selectors_shell_shared_with_me_selector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(14556), _selectors_artifacts_report_selector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(43633), _selectors_artifacts_dataset_selector__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(18405), _selectors_artifacts_package_selector__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(81871), _angular_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(50423), _ngrx_store__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(85732), ReportStore = function() {
            function ReportStore(store, config) {
                this.store = store, this.reports$ = this.store.select(config.shouldFilterDataServicesByFolder ? _selectors_shell_groups__WEBPACK_IMPORTED_MODULE_1__.CL : _selectors_artifacts_report_selector__WEBPACK_IMPORTED_MODULE_2__.I1), 
                this.sharedReports$ = this.store.select(config.shouldFilterDataServicesByFolder ? _selectors_shell_groups__WEBPACK_IMPORTED_MODULE_1__.pV : _selectors_shell_shared_with_me_selector__WEBPACK_IMPORTED_MODULE_3__.XA), 
                this.selectedReport$ = this.store.select(_selectors_artifacts_report_selector__WEBPACK_IMPORTED_MODULE_2__.OX);
            }
            return Object.defineProperty(ReportStore.prototype, "reports", {
                get: function() {
                    return this.reports$;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(ReportStore.prototype, "sharedReports", {
                get: function() {
                    return this.sharedReports$;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(ReportStore.prototype, "selectedReport", {
                get: function() {
                    return this.selectedReport$;
                },
                enumerable: !1,
                configurable: !0
            }), ReportStore.prototype.getReportsByGroupId = function(groupId) {
                return this.store.select(_selectors_shell_groups__WEBPACK_IMPORTED_MODULE_1__.Uw, {
                    id: groupId
                }).pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.q)(1));
            }, ReportStore.prototype.findByObjectId = function(objectId) {
                return this.store.select(_selectors_artifacts_report_selector__WEBPACK_IMPORTED_MODULE_2__.Ok).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(function(reports) {
                    return reports[objectId];
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.q)(1)).toPromise();
            }, ReportStore.prototype.findById = function(id) {
                return this.store.select(_selectors_artifacts_report_selector__WEBPACK_IMPORTED_MODULE_2__.Ok).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(function(reports) {
                    return _.find(reports, function(report) {
                        return report.id === id;
                    });
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.q)(1)).toPromise();
            }, ReportStore.prototype.findByPackageId = function(packageId) {
                return this.store.select(_selectors_artifacts_report_selector__WEBPACK_IMPORTED_MODULE_2__.I1).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(function(reports) {
                    return _.filter(reports, function(report) {
                        return report.packageId === packageId;
                    });
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.q)(1)).toPromise();
            }, ReportStore.prototype.findByName = function(name) {
                return this.store.select(_selectors_artifacts_report_selector__WEBPACK_IMPORTED_MODULE_2__.I1).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(function(reports) {
                    return _.filter(reports, function(report) {
                        var _a;
                        return (null === (_a = report.displayName) || void 0 === _a ? void 0 : _a.toLowerCase()) === (null == name ? void 0 : name.toLowerCase());
                    });
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.q)(1)).toPromise();
            }, ReportStore.prototype.delete = function(report, fromSyncService, telemetryEvent) {
                return report && this.store.dispatch(fromSyncService ? new _actions_report__WEBPACK_IMPORTED_MODULE_6__.JW({
                    report
                }) : new _actions_report__WEBPACK_IMPORTED_MODULE_6__.HG({
                    report,
                    telemetryEvent
                })), telemetryEvent && telemetryEvent.promise;
            }, ReportStore.prototype.rename = function(report, name, telemetryEvent) {
                return this.store.dispatch(new _actions_report__WEBPACK_IMPORTED_MODULE_6__.ic({
                    report,
                    name,
                    telemetryEvent
                })), telemetryEvent && telemetryEvent.promise;
            }, ReportStore.prototype.load = function(id, loadCompletion) {
                this.store.dispatch(new _actions_report__WEBPACK_IMPORTED_MODULE_6__.q5({
                    id,
                    loadCompletion
                }));
            }, ReportStore.prototype.rebind = function(report, dataset) {
                this.store.dispatch(new _actions_report__WEBPACK_IMPORTED_MODULE_6__.f$({
                    report,
                    dataset
                }));
            }, ReportStore.prototype.addFromSyncService = function(id, loadCompletion) {
                this.store.dispatch(new _actions_report__WEBPACK_IMPORTED_MODULE_6__.xb({
                    id,
                    isNew: !0,
                    loadCompletion
                }));
            }, ReportStore.prototype.select = function(reportInfo) {
                this.store.dispatch(new _actions_report__WEBPACK_IMPORTED_MODULE_6__.Ph({
                    reportInfo
                }));
            }, ReportStore.prototype.ensure = function(report) {
                var _this = this;
                _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_7__.fF.assertValue(report, "ensure - report");
                var store = this.store;
                (0, rxjs__WEBPACK_IMPORTED_MODULE_8__.aj)(store.select(_selectors_artifacts_package_selector__WEBPACK_IMPORTED_MODULE_9__.zu), store.select(_selectors_artifacts_dataset_selector__WEBPACK_IMPORTED_MODULE_10__.Su)).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.q)(1), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.U)(function(_a) {
                    var pkg = _a[0][report.packageId], datasetNumericId = report.modelId, dataset = _.find(_a[1], function(d) {
                        return d.id === datasetNumericId;
                    });
                    return new _actions_report__WEBPACK_IMPORTED_MODULE_6__._S({
                        report,
                        pkg,
                        datasetId: dataset && (0, _helpers_datasets__WEBPACK_IMPORTED_MODULE_11__.EL)(dataset)
                    });
                })).subscribe(function(action) {
                    _this.store.dispatch(action);
                });
            }, ReportStore.prototype.updateVisibility = function(report, isVisible, telemetryEvent) {
                this.store.dispatch(new _actions_report__WEBPACK_IMPORTED_MODULE_6__.Lf({
                    report,
                    isVisible,
                    telemetryEvent
                }));
            }, ReportStore.prototype.hide = function(report) {
                this.store.dispatch(new _actions_report__WEBPACK_IMPORTED_MODULE_6__.c({
                    report
                }));
            }, ReportStore.prototype.unhide = function(report) {
                this.store.dispatch(new _actions_report__WEBPACK_IMPORTED_MODULE_6__.yO({
                    report
                }));
            }, ReportStore.prototype.update = function(report, changes) {
                this.store.dispatch(new _actions_report__WEBPACK_IMPORTED_MODULE_6__.BN({
                    report,
                    changes
                }));
            }, ReportStore.prototype.updateMany = function(reports) {
                this.store.dispatch(new _actions_report__WEBPACK_IMPORTED_MODULE_6__.AX(reports));
            }, ReportStore.prototype.isReportInAdminFolder = function() {
                return this.store.select(_selectors_shell_groups__WEBPACK_IMPORTED_MODULE_12__.$y);
            }, ReportStore.prototype.moveToSubfolder = function(movedReports) {
                this.store.dispatch(new _actions_report__WEBPACK_IMPORTED_MODULE_6__.Xg({
                    movedReports
                }));
            }, ReportStore.prototype.ensureReportLoaded = function(reportObjectId, workspaceObjectId) {
                return (0, tslib__WEBPACK_IMPORTED_MODULE_13__.__awaiter)(this, void 0, void 0, function() {
                    var groupState, workspaceObjectIdAfterCheck;
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_13__.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return [ 4, this.store.select(_selectors_shell_groups__WEBPACK_IMPORTED_MODULE_12__.cM).pipe((0, 
                            rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.q)(1)).toPromise() ];

                          case 1:
                            return groupState = _a.sent(), this.store.dispatch(new _actions_report__WEBPACK_IMPORTED_MODULE_6__.yi({
                                reportObjectId,
                                workspaceObjectId: workspaceObjectIdAfterCheck = workspaceObjectId && groupState[workspaceObjectId] ? workspaceObjectId : _Common__WEBPACK_IMPORTED_MODULE_0__.fm
                            })), this.store.dispatch(new _actions_group__WEBPACK_IMPORTED_MODULE_14__.oi({
                                groupId: workspaceObjectIdAfterCheck,
                                reportId: reportObjectId
                            })), [ 4, this.store.select(_selectors_artifacts_report_selector__WEBPACK_IMPORTED_MODULE_2__.W4, {
                                id: reportObjectId
                            }).pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.h)(function(report) {
                                return report && (!1 === report.loading || !0 === report.loaded);
                            }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.q)(1)).toPromise() ];

                          case 2:
                            return _a.sent(), [ 2 ];
                        }
                    });
                });
            }, ReportStore.\u0275fac = function(t) {
                return new (t || ReportStore)(_angular_core__WEBPACK_IMPORTED_MODULE_16__["\u0275\u0275inject"](_ngrx_store__WEBPACK_IMPORTED_MODULE_17__.yh), _angular_core__WEBPACK_IMPORTED_MODULE_16__["\u0275\u0275inject"](_core_module_configuration__WEBPACK_IMPORTED_MODULE_18__.e));
            }, ReportStore.\u0275prov = _angular_core__WEBPACK_IMPORTED_MODULE_16__["\u0275\u0275defineInjectable"]({
                token: ReportStore,
                factory: ReportStore.\u0275fac,
                providedIn: "root"
            }), ReportStore;
        }();
    },
    82792: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            t: function() {
                return EmailsListModernComponent;
            }
        });
        var tslib_es6 = __webpack_require__(81337), telemetryHelpers = __webpack_require__(41114), EmailsListPasteInfo = telemetryHelpers.cx["PBI.EmailsList.PasteInfo"] = (0, 
        telemetryHelpers.b1)("PBI.EmailsList.PasteInfo"), keycodes = __webpack_require__(93247), core = __webpack_require__(50423), fesm2022_forms = __webpack_require__(17174), legacy_chips = __webpack_require__(89075), Common = __webpack_require__(35911), constants = __webpack_require__(2142), rx_component = __webpack_require__(73221), Telemetry = __webpack_require__(21617), BehaviorSubject = __webpack_require__(35510), Subject = __webpack_require__(30794), timer = __webpack_require__(40133), of = __webpack_require__(11547), Observable = __webpack_require__(58417), from = __webpack_require__(82762), empty = __webpack_require__(37272), map = __webpack_require__(14172), distinctUntilChanged = __webpack_require__(77526), shareReplay = __webpack_require__(57243), throttleTime = __webpack_require__(69903), switchMap = __webpack_require__(81905), startWith = __webpack_require__(22318), pairwise = __webpack_require__(6663), filter = __webpack_require__(59973), takeUntil = __webpack_require__(83317), tap = __webpack_require__(17653), mergeMap = __webpack_require__(42195), catchError = __webpack_require__(59822), take = __webpack_require__(48787), user_directory_http_service = __webpack_require__(15910), localization_service = __webpack_require__(65181), promiseFactory = __webpack_require__(14463), events = __webpack_require__(59055), http_core_service = __webpack_require__(629), DomainHelperService = function() {
            function DomainHelperService(promiseFactory, telemetryService, httpService) {
                this.promiseFactory = promiseFactory, this.telemetryService = telemetryService, 
                this.httpService = httpService;
            }
            return DomainHelperService.prototype.emailIsInVerifiedDomain = function(email) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var deferred, verifiedDomainSet;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            deferred = this.promiseFactory.defer(), _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, , 4 ]), [ 4, this.getVerifiedDomains() ];

                          case 2:
                            return verifiedDomainSet = _a.sent(), deferred.resolve(this.verifyEmailInGivenVerifiedDomains(email, verifiedDomainSet)), 
                            [ 3, 4 ];

                          case 3:
                            return _a.sent(), deferred.reject(), [ 3, 4 ];

                          case 4:
                            return [ 2, deferred.promise ];
                        }
                    });
                });
            }, DomainHelperService.prototype.getVerifiedDomains = function() {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var deferred, getVerifiedDomainsEvent, requestOptions, result, verifiedDomainSet_1, resultData;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return this.verifiedDomainsPromise ? [ 2, this.verifiedDomainsPromise ] : [ 3, 1 ];

                          case 1:
                            deferred = this.promiseFactory.defer(), getVerifiedDomainsEvent = this.telemetryService.startEvent(events.f8), 
                            requestOptions = this.httpService.powerbiRequestOptions(getVerifiedDomainsEvent.event, "TenantVerifiedDomains"), 
                            _a.label = 2;

                          case 2:
                            return _a.trys.push([ 2, 4, , 5 ]), [ 4, this.httpService.get("powerbi/invitation/verifiedDomains", requestOptions) ];

                          case 3:
                            return result = _a.sent(), verifiedDomainSet_1 = {
                                verifiedDomains: {},
                                blockedDomains: {}
                            }, (resultData = result.data).verifiedDomains && resultData.verifiedDomains.map(function(d) {
                                var ld = d.toUpperCase();
                                return verifiedDomainSet_1.verifiedDomains[ld] = ld, ld;
                            }), resultData.blockedDomains && resultData.blockedDomains.map(function(d) {
                                var ld = d.toUpperCase();
                                return verifiedDomainSet_1.blockedDomains[ld] = ld, ld;
                            }), deferred.resolve(verifiedDomainSet_1), getVerifiedDomainsEvent.resolve(), [ 3, 5 ];

                          case 4:
                            return _a.sent(), deferred.reject(), [ 3, 5 ];

                          case 5:
                            return this.verifiedDomainsPromise = deferred.promise, [ 2, this.verifiedDomainsPromise ];
                        }
                    });
                });
            }, DomainHelperService.prototype.verifyEmailInGivenVerifiedDomains = function(email, domainSet) {
                var domainParts = email.split("@");
                return !(!domainSet || !_.isEmpty(domainSet.verifiedDomains)) || domainParts.length > 1 && domainSet && !!domainSet.verifiedDomains[domainParts[1].toUpperCase()];
            }, DomainHelperService.\u0275fac = function(t) {
                return new (t || DomainHelperService)(core["\u0275\u0275inject"](promiseFactory.t), core["\u0275\u0275inject"](Telemetry.y0), core["\u0275\u0275inject"](http_core_service.M));
            }, DomainHelperService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: DomainHelperService,
                factory: DomainHelperService.\u0275fac,
                providedIn: "root"
            }), DomainHelperService;
        }(), common = __webpack_require__(77476), legacy_autocomplete = __webpack_require__(34895), scrolling = __webpack_require__(21661), legacy_core = __webpack_require__(33846), legacy_form_field = __webpack_require__(87650), pbi_icon_component = __webpack_require__(86663), spinner_component = __webpack_require__(73425), message_banner_component = __webpack_require__(44641), user_details_host_component = __webpack_require__(223), _c0 = [ "emailsInput" ], _c1 = [ "emailsList" ];
        function EmailsListModernComponent_div_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 14), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var noOfEmails_r10 = ctx.ngIf, ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"](" ", ctx_r0.getSuggestionsText(noOfEmails_r10), " ");
            }
        }
        function EmailsListModernComponent_ng_template_4_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275text"](0), 2 & rf) {
                var ctx_r1 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275textInterpolate"](ctx_r1.inputLabel);
            }
        }
        function EmailsListModernComponent_pbi_icon_7_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "pbi-icon", 15), 2 & rf) {
                var ctx_r3 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("name", ctx_r3.inputIcon);
            }
        }
        function EmailsListModernComponent_div_8_mat_chip_1_pbi_icon_2_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "pbi-icon", 21);
        }
        var _c2 = function(a0, a1) {
            return {
                userEmail: a0,
                displayName: a1
            };
        };
        function EmailsListModernComponent_div_8_mat_chip_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r15 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "mat-chip", 18), core["\u0275\u0275listener"]("removed", function() {
                    var user_r12 = core["\u0275\u0275restoreView"](_r15).$implicit, ctx_r14 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r14.remove(user_r12));
                }), core["\u0275\u0275element"](1, "user-details-host", 19), core["\u0275\u0275template"](2, EmailsListModernComponent_div_8_mat_chip_1_pbi_icon_2_Template, 1, 0, "pbi-icon", 20), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var user_r12 = ctx.$implicit, ctx_r11 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275property"]("disabled", ctx_r11.disabled), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275property"]("details", core["\u0275\u0275pureFunction2"](5, _c2, null == user_r12 ? null : user_r12.userPrincipalName, null == user_r12 ? null : user_r12.displayName))("forceShowDisplayNameInTooltip", !0)("coloredDefaultUserPhoto", ctx_r11.coloredDefaultUserPhoto), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !(null != ctx_r11.ngControl && ctx_r11.ngControl.disabled));
            }
        }
        function EmailsListModernComponent_div_8_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 16), core["\u0275\u0275template"](1, EmailsListModernComponent_div_8_mat_chip_1_Template, 3, 8, "mat-chip", 17), 
            core["\u0275\u0275pipe"](2, "async"), core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r4 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngForOf", core["\u0275\u0275pipeBind1"](2, 1, ctx_r4.selectedUsers$));
            }
        }
        function EmailsListModernComponent_div_9_Template(rf, ctx) {
            1 & rf && (core["\u0275\u0275elementStart"](0, "div", 22), core["\u0275\u0275element"](1, "spinner"), 
            core["\u0275\u0275elementEnd"]());
        }
        function EmailsListModernComponent_input_10_Template(rf, ctx) {
            if (1 & rf) {
                var _r19 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "input", 23, 24), core["\u0275\u0275listener"]("matChipInputTokenEnd", function($event) {
                    core["\u0275\u0275restoreView"](_r19);
                    var ctx_r18 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r18.add($event, 2));
                })("paste", function($event) {
                    core["\u0275\u0275restoreView"](_r19);
                    var _r17 = core["\u0275\u0275reference"](2);
                    return core["\u0275\u0275nextContext"]().onPaste($event), core["\u0275\u0275resetView"](_r17.closePanel());
                })("blur", function($event) {
                    core["\u0275\u0275restoreView"](_r19);
                    var ctx_r21 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r21.onBlur($event));
                })("focus", function($event) {
                    core["\u0275\u0275restoreView"](_r19);
                    var ctx_r22 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r22.onFocus($event));
                })("keydown.escape", function($event) {
                    core["\u0275\u0275restoreView"](_r19);
                    var _r17 = core["\u0275\u0275reference"](2), ctx_r23 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r23.onEscape($event, _r17));
                }), core["\u0275\u0275pipe"](3, "async"), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r6 = core["\u0275\u0275nextContext"](), _r7 = core["\u0275\u0275reference"](13), _r2 = core["\u0275\u0275reference"](6);
                core["\u0275\u0275property"]("placeholder", core["\u0275\u0275pipeBind1"](3, 9, ctx_r6.selectedUsers$).length > 0 ? void 0 : ctx_r6.inputPlaceholder)("disabled", ctx_r6.disabled)("formControl", ctx_r6.emailsListControl)("matAutocomplete", _r7)("matChipInputFor", _r2)("matChipInputSeparatorKeyCodes", ctx_r6.separatorKeysCodes), 
                core["\u0275\u0275attribute"]("title", ctx_r6.inputPlaceholder)("aria-label", ctx_r6.inputAriaLabelledBy ? void 0 : ctx_r6.inputPlaceholder)("aria-labelledby", ctx_r6.inputAriaLabelledBy);
            }
        }
        function EmailsListModernComponent_mat_option_14_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "mat-option", 25), core["\u0275\u0275element"](1, "user-details-host", 26), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var userMetaData_r24 = ctx.$implicit, ctx_r8 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("value", userMetaData_r24), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275property"]("showOneLine", !1)("details", core["\u0275\u0275pureFunction2"](6, _c2, ctx_r8.getUserEmail(userMetaData_r24), userMetaData_r24.displayName))("forceShowDisplayNameInTooltip", !0)("coloredDefaultUserPhoto", ctx_r8.coloredDefaultUserPhoto), 
                core["\u0275\u0275attribute"]("data-testid", ctx_r8.getUserEmail(userMetaData_r24));
            }
        }
        function EmailsListModernComponent_ng_container_16_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "div", 27), 
            core["\u0275\u0275element"](2, "message-banner", 28), core["\u0275\u0275elementEnd"](), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var ctx_r9 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("viewModel", ctx_r9.messageBannerViewModel);
            }
        }
        var EmailsListModernComponent = function(_super) {
            function EmailsListModernComponent(userDirectoryHttpService, localizationService, domainHelperService, telemetryService, cdr, ngControl) {
                var _this = _super.call(this) || this;
                return _this.userDirectoryHttpService = userDirectoryHttpService, _this.localizationService = localizationService, 
                _this.domainHelperService = domainHelperService, _this.telemetryService = telemetryService, 
                _this.cdr = cdr, _this.ngControl = ngControl, _this.showRelevantUsers = !0, _this.defaultSelectedUsers = [], 
                _this.coloredDefaultUserPhoto = !1, _this.onInputFocus = new core.EventEmitter, 
                _this.awaitingRequestsCount = new BehaviorSubject.X(0), _this.isBusy$ = _this.awaitingRequestsCount.pipe((0, 
                map.U)(function(c) {
                    return _.gt(c, 0);
                }), (0, distinctUntilChanged.x)(), (0, shareReplay.d)(1)), _this.separatorKeysCodes = [ keycodes.K5 ], 
                _this.emailsListControl = new fesm2022_forms.p4("", null, _this.findUserValidator()), 
                _this.emailSuggestionResults = new BehaviorSubject.X([]), _this.selectedUsers$ = new BehaviorSubject.X([]), 
                _this.onSelectedUsersChange = function() {}, _this.onComponentBlur = function() {}, 
                _this.ngControl && (_this.ngControl.valueAccessor = _this), _this;
            }
            return (0, tslib_es6.__extends)(EmailsListModernComponent, _super), EmailsListModernComponent.prototype.ngOnInit = function() {
                var _this = this;
                this.pasteHandler = new Subject.xQ, this.lifecycleSubscriptions.add(this.pasteHandler.pipe((0, 
                throttleTime.p)(1e3), (0, switchMap.w)(function(event) {
                    return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                        var users, validateUsers, telemetryEvent, invalidEmails, hasErrors, tooManyUsers;
                        return (0, tslib_es6.__generator)(this, function(_a) {
                            switch (_a.label) {
                              case 0:
                                return this.emailsListControl.markAsPending(), users = event.clipboardData.getData("Text").split(/;|,|\n/).filter(function(user) {
                                    return _.trim(user).length > 0;
                                }), validateUsers = _.size(users) <= 100, telemetryEvent = this.telemetryService.startEvent(EmailsListPasteInfo, {
                                    inputCount: _.size(users)
                                }), [ 4, this.addUser(users, validateUsers, 3) ];

                              case 1:
                                return invalidEmails = _a.sent(), hasErrors = 0 === _.size(invalidEmails), this.propagateSelectedUsersChange(hasErrors), 
                                this.emailsInput.nativeElement.value = _.join(invalidEmails, ","), (tooManyUsers = _.size(users) > 100) && this.emailsListControl.setErrors({
                                    TooManyUsers: _.size(users)
                                }), (hasErrors || tooManyUsers) && this.cdr.markForCheck(), telemetryEvent.resolve(), 
                                [ 2 ];
                            }
                        });
                    });
                })).subscribe()), this.lifecycleSubscriptions.add(this.emailsListControl.statusChanges.pipe((0, 
                startWith.O)(this.emailsListControl.status), (0, distinctUntilChanged.x)(), (0, 
                pairwise.G)(), (0, filter.h)(function(_a) {
                    return "PENDING" === _a[0];
                })).subscribe(function() {
                    return _this.cdr.markForCheck();
                })), this.actions && this.actions.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(action) {
                    0 === action && _this.reset();
                }), this.applyDefaultSelectedUsers(), this.onChanges$.subscribe(function(changes) {
                    _this.onChanges(changes);
                });
            }, EmailsListModernComponent.prototype.ngAfterViewInit = function() {
                this.notUseUnallowedAttributes();
            }, EmailsListModernComponent.prototype.onChanges = function(changes) {
                changes.defaultSelectedUsers && this.applyDefaultSelectedUsers();
            }, EmailsListModernComponent.prototype.applyDefaultSelectedUsers = function() {
                this.defaultSelectedUsers && this.defaultSelectedUsers.length > 0 && this.selectedUsers$.value && 0 === this.selectedUsers$.value.length && this.selectedUsers$.next(this.defaultSelectedUsers);
            }, EmailsListModernComponent.prototype.reset = function() {
                this.selectedUsers$.next([]), this.emailsListControl.setValue(null), this.emailsInput && (this.emailsInput.nativeElement.value = ""), 
                this.propagateSelectedUsersChange(!0);
            }, EmailsListModernComponent.prototype.propagateSelectedUsersChange = function(clearErrors) {
                clearErrors && this.emailsListControl.setErrors(null), this.onSelectedUsersChange(this.selectedUsers$.value);
            }, EmailsListModernComponent.prototype.add = function(event, addUserEventType) {
                var _a;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var input;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            return this.emailsListControl.invalid || this.emailsListControl.pending ? [ 2 ] : (input = null === (_a = event.chipInput) || void 0 === _a ? void 0 : _a.inputElement, 
                            [ 4, this.addUser([ event.value ], !0, addUserEventType) ]);

                          case 1:
                            return 0 === _b.sent().length && (input && (input.value = ""), this.propagateSelectedUsersChange(!0), 
                            this.emailsListControl.setValue(null)), [ 2 ];
                        }
                    });
                });
            }, Object.defineProperty(EmailsListModernComponent.prototype, "hasValidPendingInput", {
                get: function() {
                    var value = this.emailsInput.nativeElement.value;
                    return !!value && Common.JJ.test(value);
                },
                enumerable: !1,
                configurable: !0
            }), EmailsListModernComponent.prototype.addUser = function(emails, resolveEmail, addUserEventType) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var invalidEmails, _i, emails_1, email, resolvedADObject, error;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            invalidEmails = [], _i = 0, emails_1 = emails, _a.label = 1;

                          case 1:
                            return _i < emails_1.length ? (email = emails_1[_i], (email = _.trim(email)) ? (resolvedADObject = void 0, 
                            resolveEmail ? [ 4, this.findUsers(email).pipe((0, map.U)(function(result) {
                                return 1 === result.length ? result[0] : null;
                            })).toPromise() ] : [ 3, 3 ]) : [ 3, 6 ]) : [ 3, 7 ];

                          case 2:
                            resolvedADObject = _a.sent(), _a.label = 3;

                          case 3:
                            return this.emailsListControl.value || 1 !== addUserEventType ? (error = void 0, 
                            resolvedADObject ? [ 3, 5 ] : [ 4, this.validateEmail(email, resolveEmail && this.checkValidOrgUser, !resolveEmail || this.allowExternalUsers) ]) : [ 3, 6 ];

                          case 4:
                            error = _a.sent(), _a.label = 5;

                          case 5:
                            error ? (this.emailsListControl.setErrors(error), invalidEmails.push(email), this.cdr.markForCheck()) : this.selectedUsers$.next(this.selectedUsers$.value.concat([ null != resolvedADObject ? resolvedADObject : this.getADUserMetadataFromEmail(email) ])), 
                            _a.label = 6;

                          case 6:
                            return _i++, [ 3, 1 ];

                          case 7:
                            return [ 2, invalidEmails ];
                        }
                    });
                });
            }, EmailsListModernComponent.prototype.getADUserMetadataFromEmail = function(email) {
                return {
                    displayName: void 0,
                    userPrincipalName: email,
                    objectId: void 0,
                    emailAddress: email,
                    objectType: 1,
                    isSecurityGroup: !1
                };
            }, EmailsListModernComponent.prototype.remove = function(user) {
                this.selectedUsers$.next(this.selectedUsers$.value.filter(function(u) {
                    return u !== user;
                })), this.propagateSelectedUsersChange(!0);
            }, EmailsListModernComponent.prototype.select = function(event) {
                this.selectedUsers$.next(this.selectedUsers$.value.concat([ event.option.value ])), 
                this.propagateSelectedUsersChange(!0), this.emailsInput.nativeElement.value = "", 
                this.emailsListControl.setValue(null);
            }, EmailsListModernComponent.prototype.findUserValidator = function() {
                var _this = this;
                return function(control) {
                    return (0, timer.H)(500).pipe((0, switchMap.w)(function() {
                        var trimmedPrefix = _.trim(control.value);
                        return _.isString(control.value) && trimmedPrefix ? _this.findUsers(control.value).pipe((0, 
                        tap.b)(function(result) {
                            return _this.emailSuggestionResults.next(result);
                        }), (0, mergeMap.zg)(function(findUserResults) {
                            return _.isEmpty(findUserResults) ? _this.validateEmail(control.value, _this.checkValidOrgUser, _this.allowExternalUsers) : (0, 
                            of.of)(null);
                        })) : (_this.emailSuggestionResults.next([]), (0, of.of)(null));
                    }));
                };
            }, EmailsListModernComponent.prototype.sendFindUsersRequest = function(prefix) {
                var resourceFactory, observableFactory, _this = this;
                return resourceFactory = function() {
                    return {
                        unsubscribe: function() {
                            return _this.awaitingRequestsCount.next(_this.awaitingRequestsCount.value - 1);
                        }
                    };
                }, observableFactory = function() {
                    var objectTypeFilter = _this.allowAnyGroup || _this.allowSecurityGroups || _this.allowUnifiedGroups || _this.allowEmailEnabledSecurityGroups ? _this.blockUsers ? 2 : 3 : 1;
                    return _this.awaitingRequestsCount.next(_this.awaitingRequestsCount.value + 1), 
                    _this.userDirectoryHttpService.findUsers(prefix, objectTypeFilter, constants.OsI, Boolean(_this.includeGuests), _this.showRelevantUsers, _this.allowAnyGroup, !0);
                }, new Observable.y(function(subscriber) {
                    var resource, result;
                    try {
                        resource = resourceFactory();
                    } catch (err) {
                        return void subscriber.error(err);
                    }
                    try {
                        result = observableFactory();
                    } catch (err) {
                        return void subscriber.error(err);
                    }
                    var subscription = (result ? (0, from.D)(result) : empty.E).subscribe(subscriber);
                    return function() {
                        subscription.unsubscribe(), resource && resource.unsubscribe();
                    };
                });
            }, EmailsListModernComponent.prototype.findUsers = function(prefix) {
                var _this = this;
                return this.sendFindUsersRequest(prefix).pipe((0, map.U)(function(httpResult) {
                    return _.reduce(httpResult.data, function(decoratedUsers, rawUser) {
                        var _a;
                        if (_this.isValidObjectType(rawUser) && -1 === _.findIndex(_this.selectedUsers$.value, function(selectedUser) {
                            return _this.compareADEntities(rawUser, selectedUser);
                        })) {
                            var displayNameMatch = rawUser.displayName && rawUser.displayName.toLocaleLowerCase() === prefix.toLocaleLowerCase(), userAlias = null === (_a = rawUser.userPrincipalName) || void 0 === _a ? void 0 : _a.split("@")[0], userAliasMatch = userAlias && userAlias.toLocaleLowerCase() === prefix.toLocaleLowerCase();
                            displayNameMatch || userAliasMatch ? decoratedUsers.unshift(rawUser) : decoratedUsers.push(rawUser);
                        }
                        return decoratedUsers;
                    }, []);
                }), (0, catchError.K)(function() {
                    return (0, of.of)([]);
                }));
            }, EmailsListModernComponent.prototype.compareADEntities = function(rawUser, selectedUser) {
                return rawUser.userPrincipalName && selectedUser.userPrincipalName ? rawUser.userPrincipalName === selectedUser.userPrincipalName : !(!rawUser.objectId || !selectedUser.objectId) && rawUser.objectId === selectedUser.objectId;
            }, EmailsListModernComponent.prototype.writeValue = function(val) {
                val && this.selectedUsers$.next(val);
            }, EmailsListModernComponent.prototype.registerOnChange = function(fn) {
                this.onSelectedUsersChange = fn;
            }, EmailsListModernComponent.prototype.registerOnTouched = function(fn) {
                this.onComponentBlur = fn;
            }, EmailsListModernComponent.prototype.onPaste = function(event) {
                event.preventDefault(), this.pasteHandler.next(event);
            }, Object.defineProperty(EmailsListModernComponent.prototype, "messageBannerViewModel", {
                get: function() {
                    var errorMessage = this.localizationService.get("ClientError_UnknownClientErrorValue"), bannerType = 1;
                    return this.emailsListControl.hasError("DuplicateEmail") || this.emailsListControl.hasError("InvalidEmail") ? errorMessage = this.localizationService.get("Sharing_InvalidEmail") : this.emailsListControl.hasError("ExternalUser") ? (errorMessage = this.localizationService.format("Sharing_ExternalOrganization", this.emailsListControl.getError("ExternalUser")), 
                    bannerType = 1) : this.emailsListControl.hasError("InvalidOrgUser") ? (errorMessage = this.localizationService.format("GrantAccessPane_InvalidEmails", this.emailsListControl.getError("InvalidOrgUser")), 
                    bannerType = 1) : this.emailsListControl.hasError("TooManyUsers") && (errorMessage = this.localizationService.format("TooManyUsers_BlockedEmails", this.emailsListControl.getError("TooManyUsers")), 
                    bannerType = 1), {
                        bannerType,
                        iconName: 1 === bannerType ? "pbi-glyph-error-circle-exclamation" : "pbi-glyph-warning",
                        message: errorMessage
                    };
                },
                enumerable: !1,
                configurable: !0
            }), EmailsListModernComponent.prototype.onBlur = function(event) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var input, value;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return event.relatedTarget && "MAT-OPTION" === event.relatedTarget.tagName ? [ 2 ] : (this.onComponentBlur(this.selectedUsers$.value), 
                            this.addUserOnBlur ? (input = this.emailsInput.nativeElement, this.emailsListControl.pending ? [ 4, this.emailsListControl.statusChanges.pipe((0, 
                            filter.h)(function(status) {
                                return "PENDING" !== status;
                            }), (0, take.q)(1)).toPromise() ] : [ 3, 2 ]) : [ 3, 3 ]);

                          case 1:
                            _a.sent(), _a.label = 2;

                          case 2:
                            return (value = _.trim(input.value)) ? [ 2, this.add({
                                input,
                                value,
                                chipInput: new legacy_chips.IP(this.emailsInput, {
                                    separatorKeyCodes: []
                                })
                            }, 1) ] : [ 2 ];

                          case 3:
                            return [ 2 ];
                        }
                    });
                });
            }, EmailsListModernComponent.prototype.onEscape = function(event, trigger) {
                var _a;
                (null === (_a = null == trigger ? void 0 : trigger.autocomplete) || void 0 === _a ? void 0 : _a.isOpen) && (null == event || event.stopPropagation(), 
                trigger.closePanel());
            }, EmailsListModernComponent.prototype.onFocus = function(event) {
                this.onInputFocus.emit(event);
            }, EmailsListModernComponent.prototype.validateEmail = function(email, checkValidOrgUser, allowExternalUsers) {
                return void 0 === allowExternalUsers && (allowExternalUsers = !1), (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var orgUser;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return Common.JJ.test(email) ? -1 !== _.findIndex(this.selectedUsers$.value, function(selectedUser) {
                                return selectedUser.userPrincipalName === email;
                            }) ? [ 2, {
                                DuplicateEmail: !0
                            } ] : [ 4, this.domainHelperService.emailIsInVerifiedDomain(email) ] : [ 3, 2 ];

                          case 1:
                            return (orgUser = _a.sent()) || allowExternalUsers ? orgUser && checkValidOrgUser ? [ 2, {
                                InvalidOrgUser: email
                            } ] : [ 2, null ] : [ 2, {
                                ExternalUser: email
                            } ];

                          case 2:
                            return [ 2, {
                                InvalidEmail: !0
                            } ];
                        }
                    });
                });
            }, EmailsListModernComponent.prototype.isValidObjectType = function(user) {
                return 2 === user.objectType ? !!this.allowAnyGroup || (user.isSecurityGroup ? this.allowSecurityGroups || this.allowEmailEnabledSecurityGroups && 3 === user.groupType : 2 === user.groupType ? this.allowDistributionLists : this.allowUnifiedGroups) : 1 === user.objectType && user.aadAppId ? this.allowServicePrincipals : (1 === user.objectType || 3 === user.objectType) && !this.blockUsers;
            }, EmailsListModernComponent.prototype.getUserEmail = function(user) {
                return user.userPrincipalName || user.emailAddress || (user.aadAppId ? "AppID: " + user.aadAppId : null);
            }, EmailsListModernComponent.prototype.notUseUnallowedAttributes = function() {
                this.emailsList._multiple = void 0, this.emailsList.ariaOrientation = void 0;
            }, EmailsListModernComponent.prototype.getSuggestionsText = function(noOfResults) {
                return noOfResults > 0 ? this.localizationService.format("Email_Address_Suggestion_Count_Text", [ noOfResults ]) : "";
            }, EmailsListModernComponent.\u0275fac = function(t) {
                return new (t || EmailsListModernComponent)(core["\u0275\u0275directiveInject"](user_directory_http_service.W), core["\u0275\u0275directiveInject"](localization_service.o), core["\u0275\u0275directiveInject"](DomainHelperService), core["\u0275\u0275directiveInject"](Telemetry.y0), core["\u0275\u0275directiveInject"](core.ChangeDetectorRef), core["\u0275\u0275directiveInject"](fesm2022_forms.a5, 10));
            }, EmailsListModernComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: EmailsListModernComponent,
                selectors: [ [ "emails-list-modern" ] ],
                viewQuery: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275viewQuery"](_c0, 5), core["\u0275\u0275viewQuery"](_c1, 5)), 
                    2 & rf) {
                        var _t = void 0;
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.emailsInput = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.emailsList = _t.first);
                    }
                },
                hostVars: 4,
                hostBindings: function(rf, ctx) {
                    2 & rf && core["\u0275\u0275classProp"]("disabled", (null == ctx.ngControl ? null : ctx.ngControl.disabled) || ctx.disabled)("invalid", (null == ctx.ngControl ? null : ctx.ngControl.invalid) || ctx.emailsListControl.invalid);
                },
                inputs: {
                    allowAnyGroup: "allowAnyGroup",
                    allowSecurityGroups: "allowSecurityGroups",
                    allowUnifiedGroups: "allowUnifiedGroups",
                    allowEmailEnabledSecurityGroups: "allowEmailEnabledSecurityGroups",
                    allowObjectIds: "allowObjectIds",
                    blockUsers: "blockUsers",
                    isRequired: "isRequired",
                    includeGuests: "includeGuests",
                    allowExternalUsers: "allowExternalUsers",
                    allowDistributionLists: "allowDistributionLists",
                    allowServicePrincipals: "allowServicePrincipals",
                    inputLabel: "inputLabel",
                    inputPlaceholder: "inputPlaceholder",
                    inputIcon: "inputIcon",
                    inputAriaLabelledBy: "inputAriaLabelledBy",
                    disabled: "disabled",
                    maxSelectableUsers: "maxSelectableUsers",
                    hideChips: "hideChips",
                    hideError: "hideError",
                    hideInput: "hideInput",
                    addUserOnBlur: "addUserOnBlur",
                    checkValidOrgUser: "checkValidOrgUser",
                    showRelevantUsers: "showRelevantUsers",
                    actions: "actions",
                    defaultSelectedUsers: "defaultSelectedUsers",
                    coloredDefaultUserPhoto: "coloredDefaultUserPhoto"
                },
                outputs: {
                    onInputFocus: "onInputFocus"
                },
                features: [ core["\u0275\u0275InheritDefinitionFeature"] ],
                decls: 17,
                vars: 17,
                consts: [ [ "id", "emailsList", "appearance", "none", "cdkScrollable", "", 1, "emails-list" ], [ "class", "x-screen-reader", "aria-live", "assertive", 4, "ngIf" ], [ 1, "email-list-input-wrapper" ], [ 3, "ngIf" ], [ "role", "listbox", 1, "chip-list", 3, "required" ], [ "emailsList", "" ], [ "class", "inputIcon", "size", "small", 3, "name", 4, "ngIf" ], [ "class", "chips-wrapper", 4, "ngIf" ], [ "class", "autoCompleteSpinner", 4, "ngIf" ], [ "matChipInput", "", "aria-owns", "email-list-modern-suggestions", "aria-controls", "email-list-modern-suggestions", "data-testid", "emails-list-input", "data-unique-id", "EmailsListInput", 3, "placeholder", "disabled", "formControl", "matAutocomplete", "matChipInputFor", "matChipInputSeparatorKeyCodes", "matChipInputTokenEnd", "paste", "blur", "focus", "keydown.escape", 4, "ngIf" ], [ "id", "email-list-modern-suggestions", "data-testid", "email-sugessions-dropdown", 3, "optionSelected" ], [ "auto", "matAutocomplete" ], [ "data-automation-type", "Suggestion", 3, "value", 4, "ngFor", "ngForOf" ], [ 4, "ngIf" ], [ "aria-live", "assertive", 1, "x-screen-reader" ], [ "size", "small", 1, "inputIcon", 3, "name" ], [ 1, "chips-wrapper" ], [ "defaultTabIndex", "0", "tabindex", "0", "role", "option", 3, "disabled", "removed", 4, "ngFor", "ngForOf" ], [ "defaultTabIndex", "0", "tabindex", "0", "role", "option", 3, "disabled", "removed" ], [ 3, "details", "forceShowDisplayNameInTooltip", "coloredDefaultUserPhoto" ], [ "name", "close", "size", "mini", "matChipRemove", "", 4, "ngIf" ], [ "name", "close", "size", "mini", "matChipRemove", "" ], [ 1, "autoCompleteSpinner" ], [ "matChipInput", "", "aria-owns", "email-list-modern-suggestions", "aria-controls", "email-list-modern-suggestions", "data-testid", "emails-list-input", "data-unique-id", "EmailsListInput", 3, "placeholder", "disabled", "formControl", "matAutocomplete", "matChipInputFor", "matChipInputSeparatorKeyCodes", "matChipInputTokenEnd", "paste", "blur", "focus", "keydown.escape" ], [ "emailsInput", "", "trigger", "matAutocompleteTrigger" ], [ "data-automation-type", "Suggestion", 3, "value" ], [ 3, "showOneLine", "details", "forceShowDisplayNameInTooltip", "coloredDefaultUserPhoto" ], [ "role", "alert", "aria-atomic", "true" ], [ 3, "viewModel" ] ],
                template: function(rf, ctx) {
                    var tmp_0_0;
                    1 & rf && (core["\u0275\u0275elementStart"](0, "mat-form-field", 0), core["\u0275\u0275template"](1, EmailsListModernComponent_div_1_Template, 2, 1, "div", 1), 
                    core["\u0275\u0275pipe"](2, "async"), core["\u0275\u0275elementStart"](3, "label", 2), 
                    core["\u0275\u0275template"](4, EmailsListModernComponent_ng_template_4_Template, 1, 1, "ng-template", 3), 
                    core["\u0275\u0275elementStart"](5, "mat-chip-list", 4, 5), core["\u0275\u0275template"](7, EmailsListModernComponent_pbi_icon_7_Template, 1, 1, "pbi-icon", 6), 
                    core["\u0275\u0275template"](8, EmailsListModernComponent_div_8_Template, 3, 3, "div", 7), 
                    core["\u0275\u0275template"](9, EmailsListModernComponent_div_9_Template, 2, 0, "div", 8), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](10, EmailsListModernComponent_input_10_Template, 4, 11, "input", 9), 
                    core["\u0275\u0275pipe"](11, "async"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](12, "mat-autocomplete", 10, 11), 
                    core["\u0275\u0275listener"]("optionSelected", function($event) {
                        return ctx.select($event);
                    }), core["\u0275\u0275template"](14, EmailsListModernComponent_mat_option_14_Template, 2, 9, "mat-option", 12), 
                    core["\u0275\u0275pipe"](15, "async"), core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275template"](16, EmailsListModernComponent_ng_container_16_Template, 3, 1, "ng-container", 13)), 
                    2 & rf && (core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", null == (tmp_0_0 = core["\u0275\u0275pipeBind1"](2, 11, ctx.emailSuggestionResults)) ? null : tmp_0_0.length), 
                    core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", ctx.inputLabel), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("required", ctx.isRequired), 
                    core["\u0275\u0275attribute"]("aria-label", ctx.inputAriaLabelledBy ? void 0 : ctx.inputPlaceholder)("aria-labelledby", ctx.inputAriaLabelledBy), 
                    core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", !!ctx.inputIcon), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !ctx.hideChips), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx.emailsListControl.pending), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !ctx.hideInput && (!ctx.maxSelectableUsers || core["\u0275\u0275pipeBind1"](11, 13, ctx.selectedUsers$).length < ctx.maxSelectableUsers)), 
                    core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("ngForOf", core["\u0275\u0275pipeBind1"](15, 15, ctx.emailSuggestionResults)), 
                    core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx.emailsListControl.invalid && !ctx.hideError));
                },
                dependencies: [ common.NgForOf, common.NgIf, legacy_autocomplete.VN, legacy_autocomplete.QJ, scrolling.PQ, legacy_core.CK, legacy_chips.ir, legacy_chips.lw, legacy_chips.IP, legacy_chips.Y6, legacy_form_field.v_, fesm2022_forms.Fj, fesm2022_forms.JJ, fesm2022_forms.oH, pbi_icon_component._, spinner_component.O, message_banner_component.A, user_details_host_component.s, common.AsyncPipe ],
                styles: [ '[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{border:0px solid;width:min-content;min-height:32px;padding:6px 8px!important;margin:0!important;box-sizing:border-box;caret-color:auto;line-height:1.4}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block;line-height:1.125}[_nghost-%COMP%]   .chip-list[_ngcontent-%COMP%]{max-width:100%;display:flex}[_nghost-%COMP%]   .chip-list[_ngcontent-%COMP%]     .mat-chip-list-wrapper{max-width:100%;margin:0}[_nghost-%COMP%]   .chip-list[_ngcontent-%COMP%]   .chips-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-height:190px;overflow:auto}[_nghost-%COMP%]   .inputIcon[_ngcontent-%COMP%]{padding:0 8px}[_nghost-%COMP%]     .mat-chip{background-color:var(--fluent-theme-neutral-lighter-color, #F3F2F1);font-weight:400;padding:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-o-text-overflow:ellipsis}[_nghost-%COMP%]     .mat-standard-chip{min-height:24px!important}[_nghost-%COMP%]     .mat-standard-chip.mat-chip-with-trailing-icon{padding:0 2px 0 0!important}[_nghost-%COMP%]     .mat-standard-chip .mat-chip-remove{height:12px!important}[_nghost-%COMP%]     .mat-form-field-appearance-standard, [_nghost-%COMP%]     .mat-form-field-wrapper, [_nghost-%COMP%]     .mat-form-field-flex{padding:0}[_nghost-%COMP%]     .mat-form-field-infix{border:0px;padding:0;width:min-content;min-height:32px}[_nghost-%COMP%]     .mat-form-field-appearance-standard .mat-form-field-flex, [_nghost-%COMP%]     .mat-chip-list-wrapper{padding-top:0!important;padding-bottom:0!important}[_nghost-%COMP%]     user-details-host{width:calc(100% - 24px)}[_nghost-%COMP%]     user-details{width:100%}[_nghost-%COMP%]     .user-info{width:calc(100% - 29px)}[_nghost-%COMP%]     .user-name, [_nghost-%COMP%]     .user-email{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-o-text-overflow:ellipsis}[_nghost-%COMP%]   .email-list-input-wrapper[_ngcontent-%COMP%]{display:flex;flex-flow:wrap}[_nghost-%COMP%]   .email-list-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}[_nghost-%COMP%]   .email-list-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{opacity:1;color:var(--colorNeutralForeground4, #707070)}[_nghost-%COMP%]   .emails-list[_ngcontent-%COMP%]{border:1px solid var(--fluent-theme-neutral-tertia-color, #A19F9D);border-radius:2px;background-color:var(--fluent-theme-white-color, #FFF)}[_nghost-%COMP%]   .emails-list[_ngcontent-%COMP%]:hover{border-color:var(--fluent-theme-black-color, #000)}[_nghost-%COMP%]   .emails-list[_ngcontent-%COMP%]:focus-within{border:2px solid var(--colorNeutralStrokeFocus2)}[_nghost-%COMP%]   .autoCompleteSpinner[_ngcontent-%COMP%]{position:absolute;top:4px;right:6px;overflow:auto}.invalid[_nghost-%COMP%]   .emails-list[_ngcontent-%COMP%]{border-color:var(--fluent-theme-error-dark-color, #A80000)}.disabled[_nghost-%COMP%]   .emails-list[_ngcontent-%COMP%]{background-color:var(--fluent-theme-neutral-lighter-color, #F3F2F1)}.disabled[_nghost-%COMP%]   .emails-list[_ngcontent-%COMP%]   .chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{background-color:var(--fluent-theme-neutral-light-color, #EDEBE9)}.disabled[_nghost-%COMP%]   .emails-list[_ngcontent-%COMP%]   .chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{display:none}.disabled[_nghost-%COMP%]   .emails-list[_ngcontent-%COMP%]   .chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   user-details-host[_ngcontent-%COMP%]{width:100%}html:not([dir="rtl"])   .disabled[_nghost-%COMP%]   .emails-list[_ngcontent-%COMP%]   .chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   user-details-host[_ngcontent-%COMP%]{margin-right:12px}html[dir="rtl"]   .disabled[_nghost-%COMP%]   .emails-list[_ngcontent-%COMP%]   .chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   user-details-host[_ngcontent-%COMP%]{margin-left:12px}.disabled[_nghost-%COMP%]   .emails-list[_ngcontent-%COMP%]   .chip-list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--colorNeutralForegroundDisabled, #bdbdbd)}user-details-host[_ngcontent-%COMP%]     .user-email, user-details-host[_ngcontent-%COMP%]     .user-name{line-height:16px}.mat-option.mat-active[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.x-screen-reader[_ngcontent-%COMP%]{position:absolute!important;overflow:hidden!important;clip:rect(1px,1px,1px,1px)!important;width:1px!important;height:1px!important;border:0!important;padding:0!important;margin:0!important}' ],
                changeDetection: 0
            }), EmailsListModernComponent;
        }(rx_component.w);
    },
    50932: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            F: function() {
                return EmailsListModule;
            }
        }), __webpack_require__(82792), __webpack_require__(94120), __webpack_require__(82775);
        var _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(59051), _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(21661), _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(77476), _angular_forms__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(17174), _angular_material_legacy_autocomplete__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(54241), _angular_material_legacy_autocomplete__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(34895), _angular_material_legacy_chips__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(89075), _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(87650), _powerbi_UILibrary__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(94785), _powerbi_UILibrary_message_banner__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(52040), _powerbi_UILibrary_pbi_icon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(93367), _powerbi_UILibrary_pbi_tooltip__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(16095), _powerbi_UILibrary_spinner__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(70137), _powerbi_UILibrary_user_details__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(88717), _powerbi_User__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(68264), _powerbi_UserDetails__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(67255), _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(50423);
        function autocompleteScrollStrategyFactory(overlay) {
            return function() {
                return overlay.scrollStrategies.close();
            };
        }
        var EmailsListModule = function() {
            function EmailsListModule() {}
            return EmailsListModule.\u0275fac = function(t) {
                return new (t || EmailsListModule);
            }, EmailsListModule.\u0275mod = _angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275defineNgModule"]({
                type: EmailsListModule
            }), EmailsListModule.\u0275inj = _angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275defineInjector"]({
                providers: [ {
                    provide: _angular_material_legacy_autocomplete__WEBPACK_IMPORTED_MODULE_4__.g8,
                    deps: [ _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_5__.aV ],
                    useFactory: autocompleteScrollStrategyFactory
                } ],
                imports: [ _angular_common__WEBPACK_IMPORTED_MODULE_6__.CommonModule, _angular_material_legacy_autocomplete__WEBPACK_IMPORTED_MODULE_7__.D8, _angular_material_legacy_chips__WEBPACK_IMPORTED_MODULE_8__.yD, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_9__.wp, _angular_forms__WEBPACK_IMPORTED_MODULE_10__.UX, _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_11__.Cl, _powerbi_User__WEBPACK_IMPORTED_MODULE_12__.z, _powerbi_UILibrary_pbi_icon__WEBPACK_IMPORTED_MODULE_13__.U, _powerbi_UILibrary_spinner__WEBPACK_IMPORTED_MODULE_14__.F, _powerbi_UILibrary__WEBPACK_IMPORTED_MODULE_15__.g, _powerbi_UserDetails__WEBPACK_IMPORTED_MODULE_16__.N, _powerbi_UILibrary_user_details__WEBPACK_IMPORTED_MODULE_17__.R, _powerbi_UILibrary_message_banner__WEBPACK_IMPORTED_MODULE_18__.x, _powerbi_UILibrary_pbi_tooltip__WEBPACK_IMPORTED_MODULE_19__.Z ]
            }), EmailsListModule;
        }();
    },
    87758: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            c: function() {
                return AvatarRowComponent;
            }
        });
        var _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62458), _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50423), _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(77476), _UILibrary_pbi_tooltip_pbi_tooltip_directive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(36858), _UserDetails_user_details_host_user_details_host_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(223), _c0 = function(a0) {
            return {
                userEmail: a0
            };
        };
        function AvatarRowComponent_div_1_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](1, "user-details-host", 4), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 2 & rf) {
                var email_r4 = ctx.$implicit, ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("details", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction1"](4, _c0, email_r4))("photoSize", ctx_r0.photoSize)("showUserInfo", !1)("showTooltip", !0);
            }
        }
        function AvatarRowComponent_div_3_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div", 5)(1, "div", 6), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()()), 
            2 & rf) {
                var ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](), _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](5);
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275styleProp"]("width", ctx_r1.photoSize, "px")("height", ctx_r1.photoSize, "px"), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("pbiTooltip", _r2)("pbiTooltipCaretSize", "small")("pbiTooltipPosition", "below"), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"](" +", ctx_r1.emails.length - ctx_r1.numUsersToShow, " ");
            }
        }
        function AvatarRowComponent_ng_template_4_div_1_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div", 9), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click", function($event) {
                return $event.stopPropagation();
            }), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](1, "user-details-host", 10), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 2 & rf) {
                var email_r6 = ctx.$implicit;
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("details", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction1"](4, _c0, email_r6))("showUserInfo", !0)("showOneLine", !1)("showTooltip", !1);
            }
        }
        function AvatarRowComponent_ng_template_4_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div", 7), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](1, AvatarRowComponent_ng_template_4_div_1_Template, 2, 6, "div", 8), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2, "slice"), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 
            2 & rf) {
                var ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind2"](2, 1, ctx_r3.emails, ctx_r3.numUsersToShow));
            }
        }
        var AvatarRowComponent = function() {
            function AvatarRowComponent() {
                this.emails = [], this.numAvatarsToShow = 5, this.avatarSize = "medium", this.rowStyle = "spread", 
                this.AvatarSizeMap = {
                    smallest: {
                        photoSize: 16,
                        spreadSpacing: 8,
                        stackOverlap: 2,
                        stackOutline: 2
                    },
                    small: {
                        photoSize: 20,
                        spreadSpacing: 10,
                        stackOverlap: 2,
                        stackOutline: 2
                    },
                    medium: {
                        photoSize: 24,
                        spreadSpacing: 10,
                        stackOverlap: 4,
                        stackOutline: 2
                    }
                };
            }
            return AvatarRowComponent.prototype.ngOnInit = function() {
                this.setSize();
            }, AvatarRowComponent.prototype.ngOnChanges = function(changes) {
                (changes.emails || changes.numAvatarsToShow) && this.setUserCount(), (changes.avatarSize || changes.rowStyle) && this.setSize();
            }, AvatarRowComponent.prototype.setUserCount = function() {
                this.numUsersToShow = this.emails.length > this.numAvatarsToShow ? this.numAvatarsToShow - 1 : this.numAvatarsToShow;
            }, AvatarRowComponent.prototype.setSize = function() {
                var size = this.AvatarSizeMap[this.avatarSize];
                _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_1__.fF.assertValue(size, "Invalid size ".concat(this.avatarSize, " for AvatarRow.")), 
                this.photoSize = size.photoSize;
                var outlineWidth = 0, avatarLeftMargin = 0, avatarRightMargin = 0;
                "spread" === this.rowStyle ? avatarRightMargin = size.spreadSpacing : "stack" === this.rowStyle ? (outlineWidth = size.stackOutline, 
                avatarLeftMargin = -size.stackOutline, avatarRightMargin = -size.stackOutline - size.stackOverlap) : _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_1__.fF.assertFail("Invalid style ".concat(this.rowStyle, " for AvatarRow.")), 
                this.styleVariables = {
                    "--avatar-left-margin": avatarLeftMargin + "px",
                    "--avatar-right-margin": avatarRightMargin + "px",
                    "--avatar-outline": outlineWidth + "px"
                };
            }, AvatarRowComponent.\u0275fac = function(t) {
                return new (t || AvatarRowComponent);
            }, AvatarRowComponent.\u0275cmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({
                type: AvatarRowComponent,
                selectors: [ [ "avatar-row" ] ],
                inputs: {
                    emails: "emails",
                    numAvatarsToShow: "numAvatarsToShow",
                    avatarSize: "avatarSize",
                    rowStyle: "rowStyle"
                },
                features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275NgOnChangesFeature"] ],
                decls: 6,
                vars: 8,
                consts: [ [ 1, "avatar-row-container" ], [ 4, "ngFor", "ngForOf" ], [ "class", "plus-number-container", 3, "width", "height", "pbiTooltip", "pbiTooltipCaretSize", "pbiTooltipPosition", 4, "ngIf" ], [ "collapsedAvatars", "" ], [ 1, "user-details-host", 3, "details", "photoSize", "showUserInfo", "showTooltip" ], [ 1, "plus-number-container", 3, "pbiTooltip", "pbiTooltipCaretSize", "pbiTooltipPosition" ], [ 1, "plus-number" ], [ 1, "collapsed-avatar-list" ], [ "class", "collapsed-avatar", 3, "click", 4, "ngFor", "ngForOf" ], [ 1, "collapsed-avatar", 3, "click" ], [ 3, "details", "showUserInfo", "showOneLine", "showTooltip" ] ],
                template: function(rf, ctx) {
                    1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div", 0), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](1, AvatarRowComponent_div_1_Template, 2, 6, "div", 1), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2, "slice"), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](3, AvatarRowComponent_div_3_Template, 3, 8, "div", 2), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](4, AvatarRowComponent_ng_template_4_Template, 3, 4, "ng-template", null, 3, _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"])), 
                    2 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275styleMap"](ctx.styleVariables), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind3"](2, 4, ctx.emails, 0, ctx.numUsersToShow)), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", ctx.emails.length > ctx.numUsersToShow));
                },
                dependencies: [ _angular_common__WEBPACK_IMPORTED_MODULE_2__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_2__.NgIf, _UILibrary_pbi_tooltip_pbi_tooltip_directive__WEBPACK_IMPORTED_MODULE_3__.V, _UserDetails_user_details_host_user_details_host_component__WEBPACK_IMPORTED_MODULE_4__.s, _angular_common__WEBPACK_IMPORTED_MODULE_2__.SlicePipe ],
                styles: [ '.avatar-row-container[_ngcontent-%COMP%]{display:inline-flex;--avatar-outline-color: var(--fluent-theme-white-color)}.avatar-row-container[_ngcontent-%COMP%]   .user-details-host[_ngcontent-%COMP%]     .user-image{margin-left:var(--avatar-left-margin);margin-right:var(--avatar-right-margin)}.avatar-row-container[_ngcontent-%COMP%]   .user-details-host[_ngcontent-%COMP%]     .user-image>*{border:var(--avatar-outline) solid var(--avatar-outline-color)}.avatar-row-container[_ngcontent-%COMP%]   .plus-number-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:var(--fluent-theme-neutral-lighter-color, #F3F2F1);border-radius:50%;border:var(--avatar-outline) solid var(--avatar-outline-color)}.avatar-row-container[_ngcontent-%COMP%]   .plus-number-container[_ngcontent-%COMP%]   .plus-number[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--xs-font-size, 10px);font-weight:var(--font-weight-regular, 400);color:var(--fluent-theme-neutral-primary-color, #323130)}.collapsed-avatar-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 16px}.collapsed-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;height:48px;white-space:nowrap;overflow:hidden}' ],
                changeDetection: 0
            }), AvatarRowComponent;
        }();
    },
    95594: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            k: function() {
                return GoalChangeCellComponent;
            }
        });
        var _helpers_goal_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(125), _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50423), _powerbi_FeatureSwitch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9380), _powerbi_ValueFormatting__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(82621), _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(77476), _UILibrary_pbi_icon_pbi_icon_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(86663), _UILibrary_pbi_tooltip_pbi_tooltip_directive__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(36858), _Localization_pipes_localize_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(85102);
        function GoalChangeCellComponent_div_0_pbi_icon_1_Template(rf, ctx) {
            if (1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0, "pbi-icon", 6), 
            2 & rf) {
                var ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("rotate180", !ctx_r3.valueChange.isIncrease), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("size", ctx_r3.arrowSize);
            }
        }
        var _c0 = function() {
            return {
                rounded: !0
            };
        };
        function GoalChangeCellComponent_div_0_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div", 2), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](1, GoalChangeCellComponent_div_0_pbi_icon_1_Template, 1, 3, "pbi-icon", 3), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2, "div", 4), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainer"](3, 5), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()()), 2 & rf) {
                var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](), _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](2);
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", !!ctx_r0.valueChange), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("pbiTooltip", _r1), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngTemplateOutlet", _r1)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction0"](4, _c0));
            }
        }
        function GoalChangeCellComponent_ng_template_1_span_1_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "span"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2, "localize"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"](" ", ctx_r5.isCyclePeriodLabelLocalizable ? _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2, 1, null == ctx_r5.valueChange ? null : ctx_r5.valueChange.period) : null == ctx_r5.valueChange ? null : ctx_r5.valueChange.period, " ");
            }
        }
        function GoalChangeCellComponent_ng_template_1_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](0), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](1, GoalChangeCellComponent_ng_template_1_span_1_Template, 3, 3, "span", 7)), 
            2 & rf) {
                var rounded_r4 = ctx.rounded, ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"](" ", rounded_r4 ? ctx_r2.formattedChangeValue : ctx_r2.formattedTooltipValue, " "), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", null == ctx_r2.valueChange ? null : ctx_r2.valueChange.period);
            }
        }
        var GoalChangeCellComponent = function() {
            function GoalChangeCellComponent(featureSwitches, formatValuePipe) {
                this.featureSwitches = featureSwitches, this.formatValuePipe = formatValuePipe, 
                this.arrowSize = "micro", this.nilDisplayString = "";
            }
            return GoalChangeCellComponent.prototype.ngOnChanges = function(changes) {
                var _a, _b, _c, _d, _e, _f;
                if (changes.goal) {
                    this.valueChange = _helpers_goal_helper__WEBPACK_IMPORTED_MODULE_1__.r.calculateValueChange(this.goal, this.featureSwitches.featureSwitches.goalsSparklineChangeAggregations);
                    var formatString = (null === (_a = this.valueChange) || void 0 === _a ? void 0 : _a.isPercentage) ? void 0 : this.goal.valuesFormatString;
                    this.formattedChangeValue = this.formatValuePipe.transform(null === (_b = this.valueChange) || void 0 === _b ? void 0 : _b.changeAmount, formatString, !0, this.nilDisplayString), 
                    this.formattedChangeValue = (null === (_c = this.valueChange) || void 0 === _c ? void 0 : _c.isPercentage) ? this.formattedChangeValue + "%" : this.formattedChangeValue, 
                    this.formattedTooltipValue = this.formatValuePipe.transform(null === (_d = this.valueChange) || void 0 === _d ? void 0 : _d.changeAmount, formatString, !1, this.nilDisplayString), 
                    this.formattedTooltipValue = (null === (_e = this.valueChange) || void 0 === _e ? void 0 : _e.isPercentage) ? this.formattedTooltipValue + "%" : this.formattedTooltipValue, 
                    this.isCyclePeriodLabelLocalizable = _helpers_goal_helper__WEBPACK_IMPORTED_MODULE_1__.r.isCyclePeriodLabelLocalizable(null === (_f = this.valueChange) || void 0 === _f ? void 0 : _f.period);
                }
            }, GoalChangeCellComponent.\u0275fac = function(t) {
                return new (t || GoalChangeCellComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_powerbi_FeatureSwitch__WEBPACK_IMPORTED_MODULE_2__.vZ), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_powerbi_ValueFormatting__WEBPACK_IMPORTED_MODULE_3__.c));
            }, GoalChangeCellComponent.\u0275cmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({
                type: GoalChangeCellComponent,
                selectors: [ [ "goal-change-cell" ] ],
                inputs: {
                    goal: "goal",
                    arrowSize: "arrowSize",
                    nilDisplayString: "nilDisplayString"
                },
                features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275NgOnChangesFeature"] ],
                decls: 3,
                vars: 1,
                consts: [ [ "class", "delta", 4, "ngIf" ], [ "valueAndPeriod", "" ], [ 1, "delta" ], [ "name", "arrow", 3, "size", "rotate180", 4, "ngIf" ], [ 1, "change", 3, "pbiTooltip" ], [ 3, "ngTemplateOutlet", "ngTemplateOutletContext" ], [ "name", "arrow", 3, "size" ], [ 4, "ngIf" ] ],
                template: function(rf, ctx) {
                    1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](0, GoalChangeCellComponent_div_0_Template, 4, 5, "div", 0), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](1, GoalChangeCellComponent_ng_template_1_Template, 2, 2, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"])), 
                    2 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", !1 !== (null == ctx.goal || null == ctx.goal.metadata ? null : ctx.goal.metadata.showPercentChange) && !(null != ctx.goal && ctx.goal.valuesCategoryId));
                },
                dependencies: [ _angular_common__WEBPACK_IMPORTED_MODULE_4__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_4__.NgTemplateOutlet, _UILibrary_pbi_icon_pbi_icon_component__WEBPACK_IMPORTED_MODULE_5__._, _UILibrary_pbi_tooltip_pbi_tooltip_directive__WEBPACK_IMPORTED_MODULE_6__.V, _Localization_pipes_localize_pipe__WEBPACK_IMPORTED_MODULE_7__.F ],
                styles: [ "[_nghost-%COMP%]{--container-align-items: center;--arrow-margin: none;--arrow-font-weight: var(--font-weight-regular);--change-font-size: var(--sm-font-size);--change-font-weight: var(--font-weight-regular)}.delta[_ngcontent-%COMP%]{display:flex;align-items:var(--container-align-items);font-size:var(--change-font-size);font-weight:var(--change-font-weight);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.delta[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{margin:var(--arrow-margin);font-weight:var(--arrow-font-weight)}.delta[_ngcontent-%COMP%]   .rotate180[_ngcontent-%COMP%]{transform:rotate(180deg)}.change[_ngcontent-%COMP%]{margin-left:4px;overflow:hidden;text-overflow:ellipsis}" ],
                changeDetection: 0
            }), GoalChangeCellComponent;
        }();
    },
    76654: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            t: function() {
                return GoalSparklineCellComponent;
            }
        });
        var _helpers_sparkline_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3204), _goal_history_chart_goal_history_chart_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(42989), immer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(74466), _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50423), _services_scorecard_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(49803), _services_scorecard_configuration_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(64929), _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(77476);
        function GoalSparklineCellComponent_goal_history_chart_0_Template(rf, ctx) {
            if (1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0, "goal-history-chart", 1), 
            2 & rf) {
                var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275styleProp"]("width", ctx_r0.options.width + "px")("height", ctx_r0.options.height + "px"), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("width", ctx_r0.options.width)("height", ctx_r0.options.height)("values", ctx_r0.values)("formatString", ctx_r0.goal.valuesFormatString)("color", ctx_r0.options.lineColor)("showGoalTargets", !1)("axesOptions", ctx_r0.axesOptions)("legend", "None");
            }
        }
        var GoalSparklineCellComponent = function() {
            function GoalSparklineCellComponent(scorecardService, scorecardConfigurationService) {
                this.scorecardService = scorecardService, this.scorecardConfigurationService = scorecardConfigurationService, 
                this.axesOptions = _goal_history_chart_goal_history_chart_component__WEBPACK_IMPORTED_MODULE_1__.n;
            }
            return GoalSparklineCellComponent.prototype.ngOnChanges = function(changes) {
                var _a, _b, _c, _this = this;
                if ((changes.goal || changes.sparklineValues) && (this.isCategorical = !_.isEmpty(this.scorecardService.getGoalValueCategories(this.goal)), 
                this.values = null !== (_a = this.sparklineValues) && void 0 !== _a ? _a : _helpers_sparkline_helper__WEBPACK_IMPORTED_MODULE_2__.b.buildSparklineValues(this.goal, !0).map(function(x) {
                    return {
                        value: x.value,
                        timestamp: x.timestamp
                    };
                })), changes.goal || changes.height || changes.width) {
                    var config = null !== (_c = null === (_b = this.scorecardConfigurationService) || void 0 === _b ? void 0 : _b.getConfiguration()) && void 0 !== _c ? _c : {
                        scorecardDisplayOptions: {
                            isMobileLayout: !1
                        }
                    }, configWithSize = (0, immer__WEBPACK_IMPORTED_MODULE_3__.ZP)(config, function(config) {
                        config.scorecardDisplayOptions.sparklineOptions || (config.scorecardDisplayOptions.sparklineOptions = {}), 
                        _this.height && (config.scorecardDisplayOptions.sparklineOptions.height = _this.height), 
                        _this.width && (config.scorecardDisplayOptions.sparklineOptions.width = _this.width);
                    });
                    this.options = _helpers_sparkline_helper__WEBPACK_IMPORTED_MODULE_2__.b.getSparklineOptions(this.goal, this.scorecardService.getGoalStatuses(this.goal), configWithSize);
                }
            }, GoalSparklineCellComponent.\u0275fac = function(t) {
                return new (t || GoalSparklineCellComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_services_scorecard_service__WEBPACK_IMPORTED_MODULE_4__.G), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_services_scorecard_configuration_service__WEBPACK_IMPORTED_MODULE_5__.V, 8));
            }, GoalSparklineCellComponent.\u0275cmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({
                type: GoalSparklineCellComponent,
                selectors: [ [ "goal-sparkline-cell" ] ],
                inputs: {
                    goal: "goal",
                    sparklineValues: "sparklineValues",
                    height: "height",
                    width: "width"
                },
                features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275NgOnChangesFeature"] ],
                decls: 1,
                vars: 1,
                consts: [ [ 3, "width", "height", "values", "formatString", "color", "showGoalTargets", "axesOptions", "legend", 4, "ngIf" ], [ 3, "width", "height", "values", "formatString", "color", "showGoalTargets", "axesOptions", "legend" ] ],
                template: function(rf, ctx) {
                    1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](0, GoalSparklineCellComponent_goal_history_chart_0_Template, 1, 12, "goal-history-chart", 0), 
                    2 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", !ctx.isCategorical && !ctx.goal.currentRefreshInProgress && (null == ctx.values ? null : ctx.values.length) > 1 && ctx.options);
                },
                dependencies: [ _angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _goal_history_chart_goal_history_chart_component__WEBPACK_IMPORTED_MODULE_1__.R ],
                changeDetection: 0
            }), GoalSparklineCellComponent;
        }();
    },
    85953: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            m: function() {
                return GoalValueCellComponent;
            }
        });
        var _helpers_goal_helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(125), _helpers_rollup_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(98925), _scorecard_scorecard_permissions_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70060), _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(62458), _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50423), _services_goals_hierarchy_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(87426), _powerbi_Localization__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(65181), _services_scorecard_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(49803), _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(77476), _UILibrary_pbi_spinner_pbi_spinner_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(24326), _UILibrary_pbi_tooltip_pbi_tooltip_directive__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(36858), _Localization_pipes_localize_pipe__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(85102), _ValueFormatting_pipes_format_goal_value_pipe__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(90127);
        function GoalValueCellComponent_pbi_spinner_0_Template(rf, ctx) {
            1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](0, "pbi-spinner", 4);
        }
        function GoalValueCellComponent_ng_template_1_div_1_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div", 8), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2, "formatGoalValue"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2), _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](4);
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("pbiTooltip", _r3), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind3"](2, 2, null == ctx_r7.currentValue ? null : ctx_r7.currentValue.value, ctx_r7.categories, ctx_r7.formatString), " ");
            }
        }
        function GoalValueCellComponent_ng_template_1_div_2_ng_container_1_Template(rf, ctx) {
            1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerStart"](0), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1, "/"), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerEnd"]());
        }
        var _c0 = function(a0) {
            return {
                "combined-target": a0
            };
        };
        function GoalValueCellComponent_ng_template_1_div_2_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div", 9), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](1, GoalValueCellComponent_ng_template_1_div_2_ng_container_1_Template, 2, 0, "ng-container", 10), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerStart"](2), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](4, "formatGoalValue"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerEnd"](), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2), _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](6);
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("pbiTooltip", _r5)("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction1"](8, _c0, ctx_r8.showValueAndTargetCombined)), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", ctx_r8.showValueAndTargetCombined), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind3"](4, 4, ctx_r8.showTarget ? null == ctx_r8.currentValue ? null : ctx_r8.currentValue.finalTarget : null == ctx_r8.currentValue ? null : ctx_r8.currentValue.nextTarget, ctx_r8.categories, ctx_r8.formatString));
            }
        }
        var _c1 = function(a0, a1) {
            return {
                categories: a0,
                compact: a1
            };
        };
        function GoalValueCellComponent_ng_template_1_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div", 5), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](1, GoalValueCellComponent_ng_template_1_div_1_Template, 3, 6, "div", 6), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2, GoalValueCellComponent_ng_template_1_div_2_Template, 5, 10, "div", 7), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pureFunction2"](3, _c1, !!ctx_r2.categories, ctx_r2.compact)), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", ctx_r2.showCurrent && ctx_r2.hasValueOrConnection), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", (ctx_r2.showTarget || ctx_r2.showMilestone) && ctx_r2.hasTargetOrConnection);
            }
        }
        function GoalValueCellComponent_ng_template_3_div_1_Template(rf, ctx) {
            1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div")(1, "span", 15), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](3, "localize"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](5, "localize"), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 
            2 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](3, 2, "CurrentValue")), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](5, 4, "Metrics_Tooltip_ValueNotConnected"), " "));
        }
        function GoalValueCellComponent_ng_template_3_ng_template_2_div_0_div_4_Template(rf, ctx) {
            1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2, "localize"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 2 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2, 1, "Rollups_Submetrics_Tooltip_Footer")));
        }
        function GoalValueCellComponent_ng_template_3_ng_template_2_div_0_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div")(1, "div", 16), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](3, "formatGoalValue"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](4, GoalValueCellComponent_ng_template_3_ng_template_2_div_0_div_4_Template, 3, 3, "div", 10), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3);
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind4"](3, 3, null == ctx_r15.currentValue ? null : ctx_r15.currentValue.value, ctx_r15.categories, ctx_r15.formatString, !1), " ", ctx_r15.valueRollupsString, ""), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", !ctx_r15.canViewAllGoals);
            }
        }
        function GoalValueCellComponent_ng_template_3_ng_template_2_Template(rf, ctx) {
            if (1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](0, GoalValueCellComponent_ng_template_3_ng_template_2_div_0_Template, 5, 8, "div", 12), 
            2 & rf) {
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                var _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](5), ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", (null == ctx_r12.goal ? null : ctx_r12.goal.valueRollup) && !(null != ctx_r12.goal && ctx_r12.goal.isLinked))("ngIfElse", _r13);
            }
        }
        function GoalValueCellComponent_ng_template_3_ng_template_4_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](0), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1, "formatGoalValue")), 
            2 & rf) {
                var ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind4"](1, 1, null == ctx_r14.currentValue ? null : ctx_r14.currentValue.value, ctx_r14.categories, ctx_r14.formatString, !1), " ");
            }
        }
        function GoalValueCellComponent_ng_template_3_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div", 11), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](1, GoalValueCellComponent_ng_template_3_div_1_Template, 6, 6, "div", 12), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2, GoalValueCellComponent_ng_template_3_ng_template_2_Template, 1, 2, "ng-template", null, 13, _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"]), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](4, GoalValueCellComponent_ng_template_3_ng_template_4_Template, 2, 6, "ng-template", null, 14, _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"]), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 2 & rf) {
                var _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](3), ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", ctx_r4.isCurrentValueNotConnectedToHierarchy)("ngIfElse", _r11);
            }
        }
        function GoalValueCellComponent_ng_template_5_div_1_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div")(1, "span", 15), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](3, "localize"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](4), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](5, "localize"), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 
            2 & rf) {
                var ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](3, 2, ctx_r17.showTarget ? "Role_DisplayName_TargetValue" : "Role_DisplayName_MilestoneValue"), " "), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](5, 4, "Metrics_Tooltip_ValueNotConnected"), " ");
            }
        }
        function GoalValueCellComponent_ng_template_5_ng_template_2_div_0_div_4_Template(rf, ctx) {
            1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2, "localize"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 2 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2, 1, "Rollups_Submetrics_Tooltip_Footer")));
        }
        function GoalValueCellComponent_ng_template_5_ng_template_2_div_0_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div")(1, "div", 16), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](3, "formatGoalValue"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](4, GoalValueCellComponent_ng_template_5_ng_template_2_div_0_div_4_Template, 3, 3, "div", 10), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3);
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate2"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind4"](3, 3, ctx_r22.showTarget ? null == ctx_r22.currentValue ? null : ctx_r22.currentValue.finalTarget : null == ctx_r22.currentValue ? null : ctx_r22.currentValue.nextTarget, ctx_r22.categories, ctx_r22.formatString, !1), " ", ctx_r22.targetRollupsString, " "), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", !ctx_r22.canViewAllGoals);
            }
        }
        function GoalValueCellComponent_ng_template_5_ng_template_2_Template(rf, ctx) {
            if (1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](0, GoalValueCellComponent_ng_template_5_ng_template_2_div_0_Template, 5, 8, "div", 12), 
            2 & rf) {
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                var _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](5), ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", (null == ctx_r19.goal ? null : ctx_r19.goal.targetRollup) && !(null != ctx_r19.goal && ctx_r19.goal.isLinked))("ngIfElse", _r20);
            }
        }
        function GoalValueCellComponent_ng_template_5_ng_template_4_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](0), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1, "localize"), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2, "div", 20), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](3), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](4, "formatGoalValue"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1, 2, ctx_r21.showTarget ? "Target_Final" : "Target_Next"), " "), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind4"](4, 4, ctx_r21.showTarget ? null == ctx_r21.currentValue ? null : ctx_r21.currentValue.finalTarget : null == ctx_r21.currentValue ? null : ctx_r21.currentValue.nextTarget, ctx_r21.categories, ctx_r21.formatString, !1), " ");
            }
        }
        function GoalValueCellComponent_ng_template_5_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div", 17), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](1, GoalValueCellComponent_ng_template_5_div_1_Template, 6, 6, "div", 12), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](2, GoalValueCellComponent_ng_template_5_ng_template_2_Template, 1, 2, "ng-template", null, 18, _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"]), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](4, GoalValueCellComponent_ng_template_5_ng_template_4_Template, 5, 9, "ng-template", null, 19, _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"]), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 2 & rf) {
                var _r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](3), ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", ctx_r6.isTargetValueNotConnectedToHierarchy)("ngIfElse", _r18);
            }
        }
        var GoalValueCellComponent = function() {
            function GoalValueCellComponent(hierarchyService, localizationService, scorecardService, changeDetector) {
                var _this = this;
                this.hierarchyService = hierarchyService, this.localizationService = localizationService, 
                this.scorecardService = scorecardService, this.changeDetector = changeDetector, 
                this.currentValue = null, this.canViewAllGoals = !0, this.metricRollups = (0, _helpers_rollup_utils__WEBPACK_IMPORTED_MODULE_1__.P)(this.localizationService), 
                this.scorecardSubscription = this.scorecardService.getScorecard().subscribe(function(scorecard) {
                    var _a;
                    _this.scorecard = scorecard, _this.canViewAllGoals = 3 === (0, _scorecard_scorecard_permissions_helper__WEBPACK_IMPORTED_MODULE_2__.l)(null === (_a = _this.scorecard) || void 0 === _a ? void 0 : _a.permissions), 
                    _this.goal && (_this.setHierarchyTooltips(), _this.categories = _this.scorecardService.getGoalValueCategories(_this.goal)), 
                    _this.changeDetector.markForCheck();
                });
            }
            return GoalValueCellComponent.prototype.ngOnChanges = function(changes) {
                var _this = this;
                changes.goal && (this.formatString = this.goal.valuesFormatString, this.currentValue = _helpers_goal_helper__WEBPACK_IMPORTED_MODULE_3__.r.buildCurrentGoalValue(this.goal), 
                this.hasValueOrConnection = !_.isNil(this.currentValue.value) || !_.isNil(this.goal.valueConnection), 
                this.hasTargetOrConnection = !_.isNil(this.currentValue.finalTarget) || !_.isNil(this.currentValue.nextTarget) || !_.isNil(this.goal.targetConnection), 
                _.isNil(this.goal.valueRollup) || (this.valueRollupsString = this.localizationService.format("Rollups_Submetrics_Tooltip_Header", [ this.metricRollups[(0, 
                _helpers_rollup_utils__WEBPACK_IMPORTED_MODULE_1__.t)(this.goal.valueRollup.rollupType)] ])), 
                _.isNil(this.goal.targetRollup) || (this.targetRollupsString = this.localizationService.format("Rollups_Submetrics_Tooltip_Header", [ this.metricRollups[(0, 
                _helpers_rollup_utils__WEBPACK_IMPORTED_MODULE_1__.t)(this.goal.targetRollup.rollupType)] ])), 
                this.categories = this.scorecardService.getGoalValueCategories(this.goal), this.setHierarchyTooltips()), 
                (changes.showCurrent || changes.showTarget || changes.showMilestone) && (_powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_4__.fF.assert(function() {
                    return !(_this.showTarget && _this.showMilestone);
                }, "GoalValueCell can't show both target and milestone."), this.showValueAndTargetCombined = this.showCurrent && (this.showTarget || this.showMilestone));
            }, GoalValueCellComponent.prototype.ngOnDestroy = function() {
                this.scorecardSubscription.unsubscribe();
            }, GoalValueCellComponent.prototype.setHierarchyTooltips = function() {
                var _a, isHierarchicalScorecard = !_.isEmpty(null === (_a = this.scorecard) || void 0 === _a ? void 0 : _a.hierarchyPaths);
                this.isCurrentValueNotConnectedToHierarchy = isHierarchicalScorecard && this.goal.valueConnection && !this.hierarchyService.isDatasetMappedToHierarchyPath(this.goal.valueConnection.datasetId, this.scorecard.hierarchyPaths), 
                this.isTargetValueNotConnectedToHierarchy = isHierarchicalScorecard && this.goal.targetConnection && !this.hierarchyService.isDatasetMappedToHierarchyPath(this.goal.targetConnection.datasetId, this.scorecard.hierarchyPaths);
            }, GoalValueCellComponent.\u0275fac = function(t) {
                return new (t || GoalValueCellComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_services_goals_hierarchy_service__WEBPACK_IMPORTED_MODULE_5__.G), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_powerbi_Localization__WEBPACK_IMPORTED_MODULE_6__.o), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_services_scorecard_service__WEBPACK_IMPORTED_MODULE_7__.G), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef));
            }, GoalValueCellComponent.\u0275cmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({
                type: GoalValueCellComponent,
                selectors: [ [ "goal-value-cell" ] ],
                inputs: {
                    goal: "goal",
                    showCurrent: "showCurrent",
                    showTarget: "showTarget",
                    showMilestone: "showMilestone",
                    compact: "compact"
                },
                features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275NgOnChangesFeature"] ],
                decls: 7,
                vars: 2,
                consts: [ [ "class", "pbi-spinner-medium", 4, "ngIf", "ngIfElse" ], [ "noRefresh", "" ], [ "valueTooltip", "" ], [ "targetTooltip", "" ], [ 1, "pbi-spinner-medium" ], [ 1, "content", 3, "ngClass" ], [ "class", "value", 3, "pbiTooltip", 4, "ngIf" ], [ "class", "target", 3, "pbiTooltip", "ngClass", 4, "ngIf" ], [ 1, "value", 3, "pbiTooltip" ], [ 1, "target", 3, "pbiTooltip", "ngClass" ], [ 4, "ngIf" ], [ 1, "goal-current-tooltip" ], [ 4, "ngIf", "ngIfElse" ], [ "rollupsValueTooltip", "" ], [ "currentValueTooltip", "" ], [ 1, "no-hierarchy-label" ], [ 1, "rollups" ], [ 1, "goal-target-tooltip" ], [ "rollupsTargetTooltip", "" ], [ "targetValueTooltip", "" ], [ 1, "target-value" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](0, GoalValueCellComponent_pbi_spinner_0_Template, 1, 0, "pbi-spinner", 0), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](1, GoalValueCellComponent_ng_template_1_Template, 3, 6, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"]), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](3, GoalValueCellComponent_ng_template_3_Template, 6, 2, "ng-template", null, 2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"]), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](5, GoalValueCellComponent_ng_template_5_Template, 6, 2, "ng-template", null, 3, _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"])), 
                    2 & rf) {
                        var _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](2);
                        _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", !(null == ctx.goal || !ctx.goal.currentRefreshInProgress) || !(null == ctx.goal || !ctx.goal.targetRefreshInProgress))("ngIfElse", _r1);
                    }
                },
                dependencies: [ _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, _UILibrary_pbi_spinner_pbi_spinner_component__WEBPACK_IMPORTED_MODULE_9__.k, _UILibrary_pbi_tooltip_pbi_tooltip_directive__WEBPACK_IMPORTED_MODULE_10__.V, _Localization_pipes_localize_pipe__WEBPACK_IMPORTED_MODULE_11__.F, _ValueFormatting_pipes_format_goal_value_pipe__WEBPACK_IMPORTED_MODULE_12__.D ],
                styles: [ "pbi-spinner[_ngcontent-%COMP%]{display:flex;position:relative;top:3px;left:10px}.content[_ngcontent-%COMP%]{display:flex;overflow:hidden;white-space:nowrap;align-items:baseline;font-size:var(--lg-font-size);font-weight:var(--font-weight-regular)}.content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:var(--xxlg-font-size);font-weight:var(--font-weight-semi-bold)}.content[_ngcontent-%COMP%]   .combined-target[_ngcontent-%COMP%]{font-size:var(--md-font-size)}.content.categories[_ngcontent-%COMP%]{white-space:nowrap}.content.categories[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:var(--vlg-font-size)}.content.compact[_ngcontent-%COMP%], .content.compact[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:var(--md-font-size)}.no-hierarchy-label[_ngcontent-%COMP%]{font-weight:var(--font-weight-semi-bold)}.rollups[_ngcontent-%COMP%]{font-weight:var(--font-weight-regular)}.goal-target-tooltip[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px}.goal-target-tooltip[_ngcontent-%COMP%]   .target-value[_ngcontent-%COMP%]{margin-top:4px;text-align:center}" ],
                changeDetection: 0
            }), GoalValueCellComponent;
        }();
    },
    16511: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            y: function() {
                return FormattedInputComponent;
            }
        });
        var _helpers_date_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(44603), _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50423), _powerbi_ValueFormatting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(82621), _powerbi_Localization__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65181), _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(77476), _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(17174), _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(87650), _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(48205), _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(33846), _Localization_pipes_localize_pipe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(85102), _c0 = [ "input" ];
        function FormattedInputComponent_input_0_Template(rf, ctx) {
            if (1 & rf) {
                var _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "input", 2, 3), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("focus", function() {
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r5);
                    var ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                    return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275resetView"](ctx_r4.onInputFocus());
                })("blur", function() {
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r5);
                    var ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                    return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275resetView"](ctx_r6.onInputBlur());
                })("keyup.enter", function() {
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r5);
                    var ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                    return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275resetView"](ctx_r7.keyupEnter());
                })("ngModelChange", function($event) {
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r5);
                    var ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                    return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275resetView"](ctx_r8.onInputChanged($event));
                }), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275propertyInterpolate"]("type", ctx_r0.inputType), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("disabled", ctx_r0.isReadOnly)("placeholder", ctx_r0.placeholder)("ngModel", "text" == ctx_r0.inputType ? ctx_r0.formattedValue : ctx_r0.value), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-label", ctx_r0.placeholder);
            }
        }
        function FormattedInputComponent_ng_template_1_mat_option_3_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "mat-option", 7), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 
            2 & rf) {
                var category_r10 = ctx.$implicit;
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("value", ctx.index), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"](" ", category_r10.displayName, " ");
            }
        }
        function FormattedInputComponent_ng_template_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "mat-form-field", 4)(1, "mat-select", 5), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("selectionChange", function($event) {
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r13);
                    var ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                    return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275resetView"](ctx_r12.onSelectChanged($event));
                })("keyup.enter", function() {
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r13);
                    var ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                    return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275resetView"](ctx_r14.keyupEnter());
                }), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2, "localize"), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](3, FormattedInputComponent_ng_template_1_mat_option_3_Template, 2, 2, "mat-option", 6), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("disabled", ctx_r2.isReadOnly)("value", ctx_r2.value)("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2, 4, "Generic_Select_Value")), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf", ctx_r2.categories);
            }
        }
        var FormattedInputComponent = function() {
            function FormattedInputComponent(formatValuePipe, localizationService) {
                this.formatValuePipe = formatValuePipe, this.localizationService = localizationService, 
                this.placeholder = "", this.type = "number", this.onValueChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter, 
                this.onInputKeyEnter = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter, 
                this.inputType = "text", this.defaultDateFormat = {
                    day: "numeric",
                    month: "short",
                    year: "numeric"
                };
            }
            return FormattedInputComponent.prototype.ngOnInit = function() {
                this.categories || this.showFormattedValue();
            }, FormattedInputComponent.prototype.onInputFocus = function() {
                this.inputType = this.type;
            }, FormattedInputComponent.prototype.onInputBlur = function() {
                this.showFormattedValue();
            }, FormattedInputComponent.prototype.onInputChanged = function(value) {
                this.value = value, this.formattedValue = this.formatValue(value), this.onValueChanged.emit(this.value);
            }, FormattedInputComponent.prototype.onSelectChanged = function(value) {
                this.value = value.value, this.onValueChanged.emit(this.value);
            }, FormattedInputComponent.prototype.keyupEnter = function() {
                this.onInputKeyEnter && this.onInputKeyEnter.emit();
            }, FormattedInputComponent.prototype.focus = function() {
                var _a, _b;
                null === (_b = null === (_a = this.inputElement) || void 0 === _a ? void 0 : _a.nativeElement) || void 0 === _b || _b.focus();
            }, FormattedInputComponent.prototype.showFormattedValue = function() {
                this.inputType = "text", this.formattedValue = this.formatValue(this.value), "date" !== this.type || this.formattedValue || (this.inputType = "date");
            }, FormattedInputComponent.prototype.formatValue = function(value) {
                var _a;
                if ("number" === this.type) return this.formatValuePipe.transform(value, this.formatString, !0, "");
                if (!value) return "";
                var locale = this.localizationService.currentLanguageLocale;
                return _helpers_date_utils__WEBPACK_IMPORTED_MODULE_1__.E.treatAsLocalDate(new Date(value)).toLocaleDateString(locale, null !== (_a = this.dateFormat) && void 0 !== _a ? _a : this.defaultDateFormat);
            }, FormattedInputComponent.\u0275fac = function(t) {
                return new (t || FormattedInputComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_powerbi_ValueFormatting__WEBPACK_IMPORTED_MODULE_2__.c), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_powerbi_Localization__WEBPACK_IMPORTED_MODULE_3__.o));
            }, FormattedInputComponent.\u0275cmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({
                type: FormattedInputComponent,
                selectors: [ [ "formatted-input" ] ],
                viewQuery: function(rf, ctx) {
                    var _t;
                    1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275viewQuery"](_c0, 5), 
                    2 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]()) && (ctx.inputElement = _t.first);
                },
                inputs: {
                    placeholder: "placeholder",
                    value: "value",
                    formatString: "formatString",
                    isReadOnly: "isReadOnly",
                    type: "type",
                    dateFormat: "dateFormat",
                    categories: "categories"
                },
                outputs: {
                    onValueChanged: "onValueChanged",
                    onInputKeyEnter: "onInputKeyEnter"
                },
                decls: 3,
                vars: 2,
                consts: [ [ "class", "input-value", "step", "any", 3, "disabled", "placeholder", "type", "ngModel", "focus", "blur", "keyup.enter", "ngModelChange", 4, "ngIf", "ngIfElse" ], [ "categoricalTarget", "" ], [ "step", "any", 1, "input-value", 3, "disabled", "placeholder", "type", "ngModel", "focus", "blur", "keyup.enter", "ngModelChange" ], [ "input", "" ], [ "appearance", "none", 1, "select-category" ], [ "panelClass", "goals-categorical-value-select", 1, "number-select", 3, "disabled", "value", "placeholder", "selectionChange", "keyup.enter" ], [ 3, "value", 4, "ngFor", "ngForOf" ], [ 3, "value" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](0, FormattedInputComponent_input_0_Template, 2, 5, "input", 0), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](1, FormattedInputComponent_ng_template_1_Template, 4, 6, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"])), 
                    2 & rf) {
                        var _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](2);
                        _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", !ctx.categories)("ngIfElse", _r1);
                    }
                },
                dependencies: [ _angular_common__WEBPACK_IMPORTED_MODULE_4__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_4__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Fj, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.JJ, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.On, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_6__.v_, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_7__.x8, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_8__.CK, _Localization_pipes_localize_pipe__WEBPACK_IMPORTED_MODULE_9__.F ],
                styles: [ "[_ngcontent-%COMP%]::-webkit-outer-spin-button, [_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}" ],
                changeDetection: 0
            }), FormattedInputComponent;
        }();
    },
    42989: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            R: function() {
                return GoalHistoryChartComponent;
            },
            n: function() {
                return DefaultSparklineAxesOptions;
            }
        });
        var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(81337), _helpers_date_utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(44603), _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60042), _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(50423), _powerbi_Common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(35911), _powerbi_ExploreUI__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(42680), _powerbi_InjectionTokens_promiseFactory__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(14463), _powerbi_legacy_Explore_services_visualAuthoringCore__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(66794), _powerbi_legacy_ExploreUI_services_visualHostService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(47245), _powerbi_legacy_PowerBICommon_services_localize_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(61036), _powerbi_legacy_PowerBIVisuals_Visuals_capabilities_dataQueryVisual_capabilities__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(29589), _powerbi_legacy_PowerBIVisuals_Visuals_plugins__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(47508), _powerbi_legacy_PowerBIVisuals_VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(79154), _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(62458), _powerbi_legacy_PowerBIVisuals_VisualsCommon_Prototype__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(39681), _powerbi_legacy_PowerBIVisuals_VisualsData_contracts_selector__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(32379), _powerbi_legacy_PowerBIVisuals_VisualsData_dataView_dataViewScopeIdentity__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(78843), _powerbi_legacy_PowerBIVisuals_VisualsData_dataView_dataViewTransform__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(61289), _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_exprPatterns_scopeIdentityExtractor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(26743), _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(94419), _powerbi_legacy_PowerBIVisuals_VisualsData_types_valueType__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(80777), _powerbi_Geocoding__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(28505), _powerbi_Localization__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(65181), _powerbi_LazyLoad__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(2330), _powerbi_VisualHostCore__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(29866), _powerbi_VisualHostUI__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(98136), _angular_common__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(77476), _ExploreUI_Components_visual_visual_modern_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(232), _UILibrary_resizer_on_resize_directive__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(698), _Localization_pipes_localize_pipe__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(85102), _c0 = function(a0) {
            return {
                "hide-legend": a0
            };
        };
        function GoalHistoryChartComponent_div_0_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275elementStart"](0, "div", 3)(1, "div", 4), 
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275element"](2, "div", 5), 
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275elementStart"](3, "span"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275text"](4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275pipe"](5, "localize"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275elementEnd"]()(), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275elementStart"](6, "div", 4), 
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275element"](7, "div", 6), 
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275elementStart"](8, "span"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275text"](9), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275pipe"](10, "localize"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275elementEnd"]()(), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275elementStart"](11, "div", 4)(12, "div", 7), 
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275element"](13, "div", 8), 
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275elementEnd"](), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275elementStart"](14, "span"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275text"](15), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275pipe"](16, "localize"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275elementEnd"]()()()), 2 & rf) {
                var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275property"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275pureFunction1"](12, _c0, "Hidden" == ctx_r0.legend)), 
                _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275styleProp"]("background-color", ctx_r0.color), 
                _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275pipeBind1"](5, 6, "Progress")), 
                _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275advance"](5), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275pipeBind1"](10, 8, "Milestones")), 
                _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275advance"](6), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275pipeBind1"](16, 10, "Target_Final"));
            }
        }
        function GoalHistoryChartComponent_visual_modern_2_Template(rf, ctx) {
            if (1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275element"](0, "visual-modern", 9), 
            2 & rf) {
                var ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275property"]("viewModel", ctx_r1.visualDefinition)("useOnPushChangeDetection", !0);
            }
        }
        var DefaultSparklineAxesOptions = {
            xAxis: {
                show: !1
            },
            yAxis: {
                show: !1
            }
        }, GoalHistoryChartComponent = function() {
            function GoalHistoryChartComponent(geocoder, geolocation, localizationService, moduleLoader, promiseFactory, visualPlugin, visualHostTooltipServiceFactory, changeDetector) {
                this.geocoder = geocoder, this.geolocation = geolocation, this.localizationService = localizationService, 
                this.moduleLoader = moduleLoader, this.promiseFactory = promiseFactory, this.visualPlugin = visualPlugin, 
                this.visualHostTooltipServiceFactory = visualHostTooltipServiceFactory, this.changeDetector = changeDetector, 
                this.showGoalTargets = !1, this.axesOptions = {
                    xAxis: {
                        show: !0
                    },
                    yAxis: {
                        show: !0
                    }
                }, this.legend = "None", this.showZoom = !1, this.type = "LineChart", this.targetLineColor = _constants__WEBPACK_IMPORTED_MODULE_2__.gT.GoalTargetsLineColor, 
                this.onSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter;
            }
            return Object.defineProperty(GoalHistoryChartComponent.prototype, "isComboChart", {
                get: function() {
                    return "ComboChart" === this.type;
                },
                enumerable: !1,
                configurable: !0
            }), GoalHistoryChartComponent.prototype.ngOnInit = function() {
                var _a, _this = this;
                this.shadeCurrentArea = null !== (_a = this.shadeCurrentArea) && void 0 !== _a ? _a : this.isComboChart, 
                this.visualPlugin.ensureBuiltInPlugins().then(function() {
                    _this.initializeVisual(), _this.isLoaded = !0, _this.changeDetector.detectChanges();
                });
            }, GoalHistoryChartComponent.prototype.ngOnChanges = function(changes) {
                (changes.values || changes.color || changes.showGoalTargets || changes.showAxis || changes.targetLineColor || changes.axesOptions || changes.shadeCurrentArea) && (this.generateDataView(), 
                this.update());
            }, GoalHistoryChartComponent.prototype.initializeVisual = function() {
                var _a, _this = this, hostServices = (0, _powerbi_legacy_PowerBIVisuals_VisualsCommon_Prototype__WEBPACK_IMPORTED_MODULE_3__.ED)((0, 
                _powerbi_legacy_ExploreUI_services_visualHostService__WEBPACK_IMPORTED_MODULE_4__.q)({
                    geocoder: this.geocoder,
                    geolocation: this.geolocation,
                    localizationService: this.localizationService,
                    moduleLoader: this.moduleLoader,
                    promiseFactory: this.promiseFactory,
                    visualHostTooltipService: this.visualHostTooltipServiceFactory.create(),
                    getAzureMapToken: void 0,
                    azureMapsEndpoint: void 0,
                    geocoderIndexedDB: void 0
                }), function(h) {
                    h.persistProperties = function(changes, _noUndo) {
                        return _this.persistProperties(changes);
                    }, h.getLocalizedString = function(id) {
                        for (var _a, args = [], _i = 1; _i < arguments.length; _i++) args[_i - 1] = arguments[_i];
                        return (_a = _this.localizationService).format.apply(_a, (0, tslib__WEBPACK_IMPORTED_MODULE_5__.__spreadArray)([ id ], args || [], !1));
                    }, h.getViewMode = function() {
                        return 0;
                    }, h.locale = function() {
                        return (0, _powerbi_legacy_PowerBICommon_services_localize_core__WEBPACK_IMPORTED_MODULE_6__.uD)();
                    }, h.promiseFactory = function() {
                        return _this.promiseFactory;
                    }, h.onSelect = function(selectArgs) {
                        var _a;
                        if (!_.isEmpty(null == selectArgs ? void 0 : selectArgs.visualObjects)) {
                            var selector = null === (_a = _.first(selectArgs.visualObjects)) || void 0 === _a ? void 0 : _a.selectorsByColumn;
                            if (selector) {
                                var dataMap = _.first(selector.dataMap.Time);
                                if ((0, _powerbi_legacy_PowerBIVisuals_VisualsData_contracts_selector__WEBPACK_IMPORTED_MODULE_7__.yN)(dataMap)) {
                                    var value = (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_exprPatterns_scopeIdentityExtractor__WEBPACK_IMPORTED_MODULE_8__.KX)(dataMap.expr), rawDate = _.first(value);
                                    rawDate && rawDate.value && _this.onSelected.emit(rawDate.value);
                                } else _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_9__.fF.assertFail("Unexpected selector");
                            }
                        }
                    };
                }), chartType = _powerbi_legacy_PowerBIVisuals_Visuals_plugins__WEBPACK_IMPORTED_MODULE_10__.L.lineChart.name;
                "AreaChart" === this.type ? chartType = _powerbi_legacy_PowerBIVisuals_Visuals_plugins__WEBPACK_IMPORTED_MODULE_10__.L.areaChart.name : "ColumnChart" === this.type ? chartType = _powerbi_legacy_PowerBIVisuals_Visuals_plugins__WEBPACK_IMPORTED_MODULE_10__.L.columnChart.name : "ComboChart" === this.type && (chartType = _powerbi_legacy_PowerBIVisuals_Visuals_plugins__WEBPACK_IMPORTED_MODULE_10__.L.lineClusteredColumnComboChart.name), 
                this.visualDefinition = {
                    interactivityOptions: {},
                    type: chartType,
                    allowInvalidDataView: !0,
                    themeCollection: void 0,
                    viewport: null !== (_a = this.viewportSize) && void 0 !== _a ? _a : {
                        height: 100,
                        width: 100,
                        scale: 1
                    },
                    dataTransforms: void 0,
                    hostServices,
                    visualAdapterHostServices: {
                        startProgressBar: _.noop,
                        stopProgressBar: _.noop,
                        getNextDataSegment: function() {
                            return (0, tslib__WEBPACK_IMPORTED_MODULE_5__.__awaiter)(_this, void 0, void 0, function() {
                                return (0, tslib__WEBPACK_IMPORTED_MODULE_5__.__generator)(this, function(_a) {
                                    return [ 2, {} ];
                                });
                            });
                        }
                    },
                    stylePresetName: void 0,
                    additionalObjectUpdates: _.noop,
                    visualPlugin: this.visualPlugin
                }, this.update();
            }, GoalHistoryChartComponent.prototype.update = function() {
                var _a, _b;
                if (this.visualDefinition) {
                    var objects = {
                        categoryAxis: [ {
                            properties: {
                                show: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.O7)(this.axesOptions.xAxis.show)
                            }
                        } ],
                        valueAxis: [ {
                            properties: {
                                show: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.O7)(this.axesOptions.yAxis.show)
                            }
                        } ],
                        dataPoint: [ {
                            selector: {
                                metadata: "Value"
                            },
                            properties: {
                                fill: {
                                    solid: {
                                        color: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.fL)(this.color)
                                    }
                                }
                            }
                        }, {
                            selector: {
                                metadata: "Targets"
                            },
                            properties: {
                                fill: {
                                    solid: {
                                        color: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.fL)(this.targetLineColor)
                                    }
                                }
                            }
                        }, {
                            selector: {
                                metadata: "Milestones"
                            },
                            properties: {
                                fill: {
                                    solid: {
                                        color: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.fL)(this.targetLineColor)
                                    }
                                }
                            }
                        }, {
                            selector: {
                                metadata: "FinalTarget"
                            },
                            properties: {
                                fill: {
                                    solid: {
                                        color: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.fL)(this.targetLineColor)
                                    }
                                }
                            }
                        } ],
                        lineStyles: [ {
                            selector: {
                                metadata: "Targets"
                            },
                            properties: {
                                lineStyle: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.fL)("dashed"),
                                strokeWidth: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.cA)(1.5),
                                showMarker: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.O7)(!1)
                            }
                        }, {
                            selector: {
                                metadata: "Milestones"
                            },
                            properties: {
                                showMarker: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.O7)(!0),
                                markerSize: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.cA)(5),
                                markerShape: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.fL)("circle"),
                                strokeWidth: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.cA)(0)
                            }
                        }, {
                            selector: {
                                metadata: "FinalTarget"
                            },
                            properties: {
                                showMarker: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.O7)(!0),
                                markerSize: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.cA)(8),
                                markerShape: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.fL)("diamond"),
                                strokeWidth: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.cA)(0)
                            }
                        } ],
                        legend: [ {
                            properties: {
                                show: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.O7)(!1)
                            }
                        } ],
                        zoom: [ {
                            properties: {
                                show: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.O7)(this.showZoom),
                                showOnValueAxis: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.O7)(!1)
                            }
                        } ]
                    };
                    if (this.isComboChart) {
                        for (var _i = 0, _c = objects.lineStyles; _i < _c.length; _i++) {
                            var lineStyle = _c[_i];
                            _.isUndefined(lineStyle.selector) || "Value" === lineStyle.selector.metadata || (lineStyle.properties.areaShow = (0, 
                            _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.O7)(!1));
                        }
                        objects.lineStyles.push({
                            properties: {
                                areaShow: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.O7)(this.shadeCurrentArea)
                            }
                        });
                    }
                    this.setAxisFontProperties(objects.categoryAxis[0].properties, null === (_a = this.axesOptions) || void 0 === _a ? void 0 : _a.xAxis.fontProperties), 
                    this.setAxisFontProperties(objects.valueAxis[0].properties, null === (_b = this.axesOptions) || void 0 === _b ? void 0 : _b.yAxis.fontProperties), 
                    this.visualDefinition.dataTransforms = {
                        objects
                    }, this.applyDataTransformsForComboIfNeeded(), this.visualDefinition.data = {
                        dataView: this.dataView
                    };
                }
            }, GoalHistoryChartComponent.prototype.setAxisFontProperties = function(objectsAxisProperties, axisFontProperties) {
                axisFontProperties && (axisFontProperties.color && (objectsAxisProperties.labelColor = {
                    solid: {
                        color: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.fL)(axisFontProperties.color)
                    }
                }), axisFontProperties.family && (objectsAxisProperties.fontFamily = (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.fL)(axisFontProperties.family)), 
                axisFontProperties.size && (objectsAxisProperties.fontSize = (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.gH)(axisFontProperties.size.pt)), 
                axisFontProperties.weight && (objectsAxisProperties.bold = (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.O7)(axisFontProperties.weight === _powerbi_legacy_PowerBIVisuals_VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_12__.en)), 
                axisFontProperties.style && (objectsAxisProperties.italic = (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.O7)(axisFontProperties.style === _powerbi_legacy_PowerBIVisuals_VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_12__.BF)), 
                axisFontProperties.textDecoration && (objectsAxisProperties.underline = (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.O7)(axisFontProperties.textDecoration === _powerbi_legacy_PowerBIVisuals_VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_12__.f0)));
            }, GoalHistoryChartComponent.prototype.persistProperties = function(changes) {
                var mergeChanges = _.isArray(changes) ? {
                    merge: changes
                } : changes;
                this.visualDefinition && this.checkAndApplyDataTransformPropertyChanges(mergeChanges);
            }, GoalHistoryChartComponent.prototype.checkAndApplyDataTransformPropertyChanges = function(changes) {
                var chartCapabilities;
                if (chartCapabilities = this.isComboChart ? _powerbi_legacy_PowerBIVisuals_Visuals_plugins__WEBPACK_IMPORTED_MODULE_10__.L.lineClusteredColumnComboChart.capabilities : _powerbi_legacy_PowerBIVisuals_Visuals_plugins__WEBPACK_IMPORTED_MODULE_10__.L.lineChart.capabilities, 
                !_.isEmpty(changes.merge) || !_.isEmpty(changes.remove)) {
                    var objDesc = chartCapabilities.objects;
                    this.update(), (0, _powerbi_legacy_Explore_services_visualAuthoringCore__WEBPACK_IMPORTED_MODULE_13__._6)(changes, objDesc, this.visualDefinition.dataTransforms.objects), 
                    this.changeDetector.detectChanges();
                }
            }, GoalHistoryChartComponent.prototype.onResize = function(viewport) {
                this.viewportSize = {
                    width: viewport.width,
                    height: viewport.height,
                    scale: 1
                }, this.visualDefinition && (this.visualDefinition.viewport = this.viewportSize);
            }, GoalHistoryChartComponent.prototype.generateDataView = function() {
                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, columns = [ {
                    displayName: this.localizationService.get("Date"),
                    queryName: "Time",
                    type: _powerbi_legacy_PowerBIVisuals_VisualsData_types_valueType__WEBPACK_IMPORTED_MODULE_14__.Ge.fromPrimitiveTypeAndCategory(6),
                    roles: {
                        Category: !0
                    }
                }, {
                    displayName: this.localizationService.get("Role_DisplayName_Value"),
                    queryName: "Value",
                    type: _powerbi_legacy_PowerBIVisuals_VisualsData_types_valueType__WEBPACK_IMPORTED_MODULE_14__.Ge.fromPrimitiveTypeAndCategory(3),
                    roles: {
                        Y: !0
                    },
                    index: 0,
                    objects: (_a = {}, _a[_powerbi_legacy_PowerBIVisuals_Visuals_capabilities_dataQueryVisual_capabilities__WEBPACK_IMPORTED_MODULE_15__.iu.objectName] = (_b = {}, 
                    _b[_powerbi_legacy_PowerBIVisuals_Visuals_capabilities_dataQueryVisual_capabilities__WEBPACK_IMPORTED_MODULE_15__.iu.propertyName] = this.formatString, 
                    _b), _a)
                } ];
                this.showGoalTargets && (columns.push({
                    displayName: this.localizationService.get("Target"),
                    queryName: "Targets",
                    type: _powerbi_legacy_PowerBIVisuals_VisualsData_types_valueType__WEBPACK_IMPORTED_MODULE_14__.Ge.fromPrimitiveTypeAndCategory(3),
                    roles: {
                        Y: !0
                    },
                    index: 1,
                    objects: (_c = {}, _c[_powerbi_legacy_PowerBIVisuals_Visuals_capabilities_dataQueryVisual_capabilities__WEBPACK_IMPORTED_MODULE_15__.iu.objectName] = (_d = {}, 
                    _d[_powerbi_legacy_PowerBIVisuals_Visuals_capabilities_dataQueryVisual_capabilities__WEBPACK_IMPORTED_MODULE_15__.iu.propertyName] = this.formatString, 
                    _d), _c)
                }), columns.push({
                    displayName: this.localizationService.get("Target_Milestone_Due"),
                    queryName: "Milestones",
                    type: _powerbi_legacy_PowerBIVisuals_VisualsData_types_valueType__WEBPACK_IMPORTED_MODULE_14__.Ge.fromPrimitiveTypeAndCategory(3),
                    roles: {
                        Y: !0
                    },
                    index: 2,
                    objects: (_e = {}, _e[_powerbi_legacy_PowerBIVisuals_Visuals_capabilities_dataQueryVisual_capabilities__WEBPACK_IMPORTED_MODULE_15__.iu.objectName] = (_f = {}, 
                    _f[_powerbi_legacy_PowerBIVisuals_Visuals_capabilities_dataQueryVisual_capabilities__WEBPACK_IMPORTED_MODULE_15__.iu.propertyName] = this.formatString, 
                    _f), _e)
                }), columns.push({
                    displayName: this.localizationService.get("Target_Final_Due"),
                    queryName: "FinalTarget",
                    type: _powerbi_legacy_PowerBIVisuals_VisualsData_types_valueType__WEBPACK_IMPORTED_MODULE_14__.Ge.fromPrimitiveTypeAndCategory(3),
                    roles: {
                        Y: !0
                    },
                    index: 3,
                    objects: (_g = {}, _g[_powerbi_legacy_PowerBIVisuals_Visuals_capabilities_dataQueryVisual_capabilities__WEBPACK_IMPORTED_MODULE_15__.iu.objectName] = (_h = {}, 
                    _h[_powerbi_legacy_PowerBIVisuals_Visuals_capabilities_dataQueryVisual_capabilities__WEBPACK_IMPORTED_MODULE_15__.iu.propertyName] = this.formatString, 
                    _h), _g)
                })), this.updateColumnsForComboIfNeeded(columns);
                var timestamps, values, dateExpr = (0, _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.Oh)((0, 
                _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.fL)("Date"), "Date"), goalValues = null !== (_k = this.values) && void 0 !== _k ? _k : [];
                goalValues = goalValues.filter(function(value) {
                    return !_.isNil(value.value) || !_.isNil(value.target);
                }), goalValues = _.sortBy(goalValues, function(value) {
                    return new Date(value.timestamp);
                });
                var milestones = [], finalTargetSeries = [], steppedTargetsLine = [];
                if (this.showGoalTargets) {
                    timestamps = [], values = [];
                    for (var finalTarget = (_j = function() {
                        for (var i = goalValues.length - 1; i >= 0; i--) if (!_.isNil(goalValues[i].target)) return [ goalValues[i].target, goalValues[i].timestamp ];
                        return [ void 0, void 0 ];
                    }(), _j[0]), finalTargetDue = _j[1], getNextTarget = function(index) {
                        for (var j = index + 1; j < goalValues.length && _.isNil(goalValues[j].target); ) j++;
                        return j < goalValues.length ? goalValues[j].target : void 0;
                    }, i = 0; i < goalValues.length; i++) {
                        var goalValue = goalValues[i], nextTarget = getNextTarget(i);
                        timestamps.push(goalValue.timestamp), values.push(goalValue.value), milestones.push(goalValue.target !== nextTarget && goalValue.timestamp !== finalTargetDue ? goalValue.target : void 0), 
                        finalTargetSeries.push(goalValue.timestamp === finalTargetDue ? goalValue.target : void 0), 
                        _.isNil(goalValue.target) ? steppedTargetsLine.push(0 === i ? nextTarget : i === goalValues.length - 1 ? finalTarget : void 0) : (steppedTargetsLine.push(goalValue.target), 
                        _.isNil(nextTarget) || (timestamps.push(goalValue.timestamp), steppedTargetsLine.push(nextTarget), 
                        values.push(void 0), milestones.push(void 0), finalTargetSeries.push(void 0)));
                    }
                } else timestamps = goalValues.map(function(goalValue) {
                    return goalValue.timestamp;
                }), values = goalValues.map(function(goalValues) {
                    return goalValues.value;
                });
                var valueColumns = [];
                valueColumns.push({
                    source: columns[1],
                    values
                }), this.showGoalTargets && (valueColumns.push({
                    source: columns[3],
                    values: milestones
                }), valueColumns.push({
                    source: columns[4],
                    values: finalTargetSeries
                }), valueColumns.push({
                    source: columns[2],
                    values: steppedTargetsLine
                }));
                var dataView = {
                    metadata: {
                        columns
                    },
                    categorical: {
                        categories: [ {
                            source: columns[0],
                            values: _.map(timestamps, function(timestamp) {
                                var utcDate = new Date(timestamp), date = _helpers_date_utils__WEBPACK_IMPORTED_MODULE_16__.E.treatAsLocalDate(utcDate);
                                return date.epochTimeStamp = utcDate.getTime(), date;
                            }),
                            identity: _.map(timestamps, function(timestamp) {
                                return (0, _powerbi_legacy_PowerBIVisuals_VisualsData_dataView_dataViewScopeIdentity__WEBPACK_IMPORTED_MODULE_17__.TZ)((0, 
                                _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.Dg)(dateExpr, (0, 
                                _powerbi_legacy_PowerBIVisuals_VisualsData_semanticQuery_sqExpr__WEBPACK_IMPORTED_MODULE_11__.fL)(timestamp)));
                            })
                        } ],
                        values: (0, _powerbi_legacy_PowerBIVisuals_VisualsData_dataView_dataViewTransform__WEBPACK_IMPORTED_MODULE_18__.Yv)(valueColumns)
                    }
                };
                this.dataView = dataView;
            }, GoalHistoryChartComponent.prototype.updateColumnsForComboIfNeeded = function(columns) {
                if (this.isComboChart) for (var index = 0, _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {
                    var column = columns_1[_i];
                    "Time" !== column.queryName && (column.roles = {
                        Y2: !0
                    }), column.index = index, index++;
                }
            }, GoalHistoryChartComponent.prototype.applyDataTransformsForComboIfNeeded = function() {
                if (this.isComboChart) {
                    var dataViewSelectTransforms = this.dataView.metadata.columns.map(function(column) {
                        return {
                            displayName: column.displayName,
                            queryName: column.queryName,
                            roles: column.roles
                        };
                    });
                    this.visualDefinition.dataTransforms.selects = dataViewSelectTransforms;
                    var selects = {};
                    for (var index in dataViewSelectTransforms) selects[index] = !0;
                    this.visualDefinition.dataTransforms.splits = [ {
                        selects: void 0
                    }, {
                        selects
                    } ];
                }
            }, GoalHistoryChartComponent.\u0275fac = function(t) {
                return new (t || GoalHistoryChartComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275directiveInject"](_powerbi_Geocoding__WEBPACK_IMPORTED_MODULE_19__.i), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275directiveInject"](_powerbi_Common__WEBPACK_IMPORTED_MODULE_0__._1), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275directiveInject"](_powerbi_Localization__WEBPACK_IMPORTED_MODULE_20__.o), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275directiveInject"](_powerbi_LazyLoad__WEBPACK_IMPORTED_MODULE_21__.m), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275directiveInject"](_powerbi_InjectionTokens_promiseFactory__WEBPACK_IMPORTED_MODULE_22__.t), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275directiveInject"](_powerbi_VisualHostCore__WEBPACK_IMPORTED_MODULE_23__.D), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275directiveInject"](_powerbi_VisualHostUI__WEBPACK_IMPORTED_MODULE_24__.q), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef));
            }, GoalHistoryChartComponent.\u0275cmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineComponent"]({
                type: GoalHistoryChartComponent,
                selectors: [ [ "goal-history-chart" ] ],
                inputs: {
                    values: "values",
                    formatString: "formatString",
                    color: "color",
                    showGoalTargets: "showGoalTargets",
                    axesOptions: "axesOptions",
                    legend: "legend",
                    showZoom: "showZoom",
                    type: "type",
                    shadeCurrentArea: "shadeCurrentArea",
                    targetLineColor: "targetLineColor"
                },
                outputs: {
                    onSelected: "onSelected"
                },
                features: [ _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275ProvidersFeature"]((0, 
                tslib__WEBPACK_IMPORTED_MODULE_5__.__spreadArray)([], _powerbi_ExploreUI__WEBPACK_IMPORTED_MODULE_25__.H, !0)), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275NgOnChangesFeature"] ],
                decls: 3,
                vars: 2,
                consts: [ [ "class", "legend", 3, "ngClass", 4, "ngIf" ], [ 1, "linechart-wrapper", 3, "on-resize" ], [ "class", "linechart", 3, "viewModel", "useOnPushChangeDetection", 4, "ngIf" ], [ 1, "legend", 3, "ngClass" ], [ 1, "label" ], [ 1, "square" ], [ 1, "circle", "filled" ], [ 1, "square", "center-diamond" ], [ 1, "diamond", "filled" ], [ 1, "linechart", 3, "viewModel", "useOnPushChangeDetection" ] ],
                template: function(rf, ctx) {
                    1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275template"](0, GoalHistoryChartComponent_div_0_Template, 17, 14, "div", 0), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275elementStart"](1, "div", 1), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275listener"]("on-resize", function($event) {
                        return ctx.onResize($event);
                    }), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275template"](2, GoalHistoryChartComponent_visual_modern_2_Template, 1, 2, "visual-modern", 2), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275elementEnd"]()), 2 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275property"]("ngIf", "None" != ctx.legend), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275property"]("ngIf", ctx.isLoaded && !!ctx.viewportSize));
                },
                dependencies: [ _angular_common__WEBPACK_IMPORTED_MODULE_26__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_26__.NgIf, _ExploreUI_Components_visual_visual_modern_component__WEBPACK_IMPORTED_MODULE_27__.y, _UILibrary_resizer_on_resize_directive__WEBPACK_IMPORTED_MODULE_28__.O, _Localization_pipes_localize_pipe__WEBPACK_IMPORTED_MODULE_29__.F ],
                styles: [ "[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .linechart-wrapper[_ngcontent-%COMP%]{flex:1;position:relative}[_nghost-%COMP%]   .linechart-wrapper[_ngcontent-%COMP%]   .linechart[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;border-radius:4px}[_nghost-%COMP%]   .legend[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:8px}[_nghost-%COMP%]   .legend[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}[_nghost-%COMP%]   .legend[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%], [_nghost-%COMP%]   .legend[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{width:12px;height:12px}[_nghost-%COMP%]   .legend[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]   .legend[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .center-diamond[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .legend[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .diamond[_ngcontent-%COMP%]{width:10px;height:10px;transform:rotate(45deg)}[_nghost-%COMP%]   .legend[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .filled[_ngcontent-%COMP%]{background-color:#8a8886}[_nghost-%COMP%]   .hide-legend[_ngcontent-%COMP%]{visibility:hidden}" ],
                changeDetection: 0
            }), GoalHistoryChartComponent;
        }();
    },
    64646: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            B: function() {
                return GoalRowPreviewComponent;
            }
        });
        var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60042), _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50423), _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(77476), _cells_goal_change_cell_goal_change_cell_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(95594), _cells_goal_sparkline_cell_goal_sparkline_cell_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(76654), _cells_goal_value_cell_goal_value_cell_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(85953);
        function GoalRowPreviewComponent_table_0_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "table", 1)(1, "tbody")(2, "tr")(3, "td", 2)(4, "div", 3), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](5, "div", 4), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()(), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](6, "td", 5), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](7, "goal-value-cell", 6)(8, "goal-change-cell", 7), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](9, "td", 8), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](10, "goal-sparkline-cell", 7), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"](), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](11, "td", 9), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()()()), 2 & rf) {
                var tmp_5_0, tmp_6_0, ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275styleProp"]("--borderColor", ctx_r0.color), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275styleProp"]("background-color", ctx_r0.color), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275styleProp"]("--borderColor", ctx_r0.color), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("goal", ctx_r0.goal)("showCurrent", !0)("showTarget", null !== (tmp_5_0 = null == ctx_r0.goal.metadata ? null : ctx_r0.goal.metadata.showFinalTarget) && void 0 !== tmp_5_0 ? tmp_5_0 : !ctx_r0.goal.targetConnection)("showMilestone", !(null !== (tmp_6_0 = null == ctx_r0.goal.metadata ? null : ctx_r0.goal.metadata.showFinalTarget) && void 0 !== tmp_6_0 ? tmp_6_0 : !ctx_r0.goal.targetConnection)), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("goal", ctx_r0.goal), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275styleProp"]("--borderColor", ctx_r0.color), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("goal", ctx_r0.goal), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275styleProp"]("--borderColor", ctx_r0.color);
            }
        }
        var GoalRowPreviewComponent = function() {
            function GoalRowPreviewComponent() {
                this.color = _constants__WEBPACK_IMPORTED_MODULE_1__.gT.ColorPalette[0];
            }
            return GoalRowPreviewComponent.\u0275fac = function(t) {
                return new (t || GoalRowPreviewComponent);
            }, GoalRowPreviewComponent.\u0275cmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({
                type: GoalRowPreviewComponent,
                selectors: [ [ "goal-row-preview" ] ],
                inputs: {
                    goal: "goal",
                    color: "color"
                },
                decls: 1,
                vars: 1,
                consts: [ [ "class", "scorecard-table2", "width", "100%", 4, "ngIf" ], [ "width", "100%", 1, "scorecard-table2" ], [ 1, "cell", "cell-left-edge" ], [ 1, "cell-box" ], [ 1, "color-box" ], [ "colspan", "2", 1, "cell", "cell-value" ], [ 3, "goal", "showCurrent", "showTarget", "showMilestone" ], [ 3, "goal" ], [ "colspan", "2", 1, "cell", "cell-sparkline" ], [ 1, "cell", "cell-value", "cell-right-edge" ] ],
                template: function(rf, ctx) {
                    1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](0, GoalRowPreviewComponent_table_0_Template, 12, 16, "table", 0), 
                    2 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", ctx.goal);
                },
                dependencies: [ _angular_common__WEBPACK_IMPORTED_MODULE_2__.NgIf, _cells_goal_change_cell_goal_change_cell_component__WEBPACK_IMPORTED_MODULE_3__.k, _cells_goal_sparkline_cell_goal_sparkline_cell_component__WEBPACK_IMPORTED_MODULE_4__.t, _cells_goal_value_cell_goal_value_cell_component__WEBPACK_IMPORTED_MODULE_5__.m ],
                styles: [ ".cell[_ngcontent-%COMP%]{border:none;box-sizing:border-box}.cell-indent[_ngcontent-%COMP%]{width:36px}.cell-left-edge[_ngcontent-%COMP%]{border-top-left-radius:4px;border-bottom-left-radius:4px}.cell-right-edge[_ngcontent-%COMP%]{border-top-right-radius:4px;border-bottom-right-radius:4px}.cell-box[_ngcontent-%COMP%]{display:flex;height:100%}.cell-box[_ngcontent-%COMP%]   .color-box[_ngcontent-%COMP%]{min-width:6px;width:6px;border-top-left-radius:4px;border-bottom-left-radius:4px}.dialog-config[_ngcontent-%COMP%]     .simpleConfirmationDialog.updateConfirmationDialogPanel{width:580px}.dialog-config[_ngcontent-%COMP%]     .simpleConfirmationDialog.updateConfirmationDialogPanel .mat-mdc-dialog-actions button{border-width:1px;height:32px;padding:0;width:80px;margin-left:8px}.dialog-config[_ngcontent-%COMP%]     .simpleConfirmationDialog.updateConfirmationDialogPanel .mat-mdc-dialog-content{padding-left:8px}[_nghost-%COMP%]   td[_ngcontent-%COMP%]{height:60px}[_nghost-%COMP%]   .checkmark-td[_ngcontent-%COMP%]{width:35px;max-width:35px}[_nghost-%COMP%]   .checkmark-td[_ngcontent-%COMP%]:not(.show-checkmark){width:0px;max-width:0px}[_nghost-%COMP%]   .checkmark-td[_ngcontent-%COMP%]:not(.show-checkmark)   .select-checkmark[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .show-on-hover-only[_ngcontent-%COMP%]   .select-checkmark[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]:hover   .show-on-hover-only[_ngcontent-%COMP%]   .select-checkmark[_ngcontent-%COMP%], [_nghost-%COMP%]   .show-on-hover-only[_ngcontent-%COMP%]   .select-checkmark.box-checked[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .select-checkmark[_ngcontent-%COMP%]{margin-right:15px}[_nghost-%COMP%]   .select-checkmark[_ngcontent-%COMP%]     pbi-checkbox{margin-bottom:0}[_nghost-%COMP%]   .cell[_ngcontent-%COMP%]{background:var(--scorecard-tableRowBackgroundColor);padding-right:10px;border-top:1px solid var(--fluent-theme-neutral-light-color, #EDEBE9);border-bottom:1px solid var(--fluent-theme-neutral-light-color, #EDEBE9)}[_nghost-%COMP%]   .cell[_ngcontent-%COMP%]   .rotate90[_ngcontent-%COMP%]{transform:rotate(-90deg)}[_nghost-%COMP%]   .cell-box[_ngcontent-%COMP%]{font-size:var(--lg-font-size, 16px);font-weight:var(--font-weight-regular, 400)}[_nghost-%COMP%]   .cell-box[_ngcontent-%COMP%]   .collapse-box[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:48px;min-width:48px;background-color:transparent;border:none}[_nghost-%COMP%]   .cell-box[_ngcontent-%COMP%]   .pointer[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .cell-box[_ngcontent-%COMP%]   .displayed-name-and-action-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}[_nghost-%COMP%]   .cell-box[_ngcontent-%COMP%]   .displayed-name-and-action-wrapper[_ngcontent-%COMP%]   goal-name-cell[_ngcontent-%COMP%]{flex-grow:1;max-height:3.6em;line-height:1.8em}[_nghost-%COMP%]   .cell-box[_ngcontent-%COMP%]   .displayed-name-and-action-wrapper[_ngcontent-%COMP%]   goal-actions-cell[_ngcontent-%COMP%]{margin-right:10px}[_nghost-%COMP%]   .cell-owner[_ngcontent-%COMP%]{width:250px;max-width:300px}[_nghost-%COMP%]   .cell-progress-icon[_ngcontent-%COMP%]{width:220px;max-width:250px;text-align:center;padding-right:20px}[_nghost-%COMP%]   .cell-sparkline[_ngcontent-%COMP%]{width:150px;overflow:hidden}[_nghost-%COMP%]   .cell-due-date[_ngcontent-%COMP%]{width:150px}[_nghost-%COMP%]   .cell-context-menu[_ngcontent-%COMP%]{width:51px;text-align:center}[_nghost-%COMP%]   .cell-context-menu[_ngcontent-%COMP%]   .context-menu-icon[_ngcontent-%COMP%]{color:var(--gray-140, #484644);font-size:16px;cursor:pointer}[_nghost-%COMP%]   .cell-value-combined[_ngcontent-%COMP%]{width:220px}[_nghost-%COMP%]   .cell-value[_ngcontent-%COMP%]{width:92px}[_nghost-%COMP%]   .cell-milestone[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-target[_ngcontent-%COMP%]{width:72px}[_nghost-%COMP%]   .cell-value-combined[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-value[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-milestone[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-target[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]   .cell-value-combined[_ngcontent-%COMP%]   .mat-icon.glyph-small[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-value[_ngcontent-%COMP%]   .mat-icon.glyph-small[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-milestone[_ngcontent-%COMP%]   .mat-icon.glyph-small[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-target[_ngcontent-%COMP%]   .mat-icon.glyph-small[_ngcontent-%COMP%]{font-size:var(--lg-font-size, 16px);width:var(--lg-font-size, 16px);height:var(--lg-font-size, 16px)}[_nghost-%COMP%]   .cell-value-combined[_ngcontent-%COMP%]   .mat-icon.glyph-mini[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-value[_ngcontent-%COMP%]   .mat-icon.glyph-mini[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-milestone[_ngcontent-%COMP%]   .mat-icon.glyph-mini[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-target[_ngcontent-%COMP%]   .mat-icon.glyph-mini[_ngcontent-%COMP%]{font-size:var(--sm-font-size, 12px);width:var(--sm-font-size, 12px);height:var(--sm-font-size, 12px)}[_nghost-%COMP%]   .cell-value-combined[_ngcontent-%COMP%]   .mat-icon.mat-ligature-font[fontIcon][_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-value[_ngcontent-%COMP%]   .mat-icon.mat-ligature-font[fontIcon][_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-milestone[_ngcontent-%COMP%]   .mat-icon.mat-ligature-font[fontIcon][_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-target[_ngcontent-%COMP%]   .mat-icon.mat-ligature-font[fontIcon][_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]   goal-actions-cell[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]:hover   goal-actions-cell[_ngcontent-%COMP%], [_nghost-%COMP%]:focus-within   goal-actions-cell[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .selected-goal.cell[_ngcontent-%COMP%]{border-top:2px solid var(--borderColor);border-bottom:2px solid var(--borderColor)}[_nghost-%COMP%]   .selected-goal.cell-right-edge[_ngcontent-%COMP%]{border-right:2px solid var(--borderColor)}[_nghost-%COMP%]   .cell-right-edge[_ngcontent-%COMP%]{width:2px;border-right:1px solid var(--fluent-theme-neutral-light-color, #EDEBE9)}  .simpleConfirmationDialog.updateConfirmationDialogPanel{width:580px}  .simpleConfirmationDialog.updateConfirmationDialogPanel .mat-mdc-dialog-actions button{border-width:1px;height:32px;padding:0;width:80px;margin-left:8px}  .simpleConfirmationDialog.updateConfirmationDialogPanel .mat-mdc-dialog-content{padding-left:8px}" ],
                changeDetection: 0
            }), GoalRowPreviewComponent;
        }();
    },
    26410: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            O: function() {
                return ScorecardAccessBannerComponent;
            }
        });
        var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81337), _powerbi_InjectionTokens_goalsHttpService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(58614), _powerbi_InjectionTokens_scorecardActionsService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(73088), _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(62458), rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(35510), _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50423), _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(77476), _UILibrary_pbi_icon_pbi_icon_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(86663), _Localization_pipes_localize_pipe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(85102), _Localization_pipes_localize_format_pipe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(74199);
        function ScorecardAccessBannerComponent_ng_container_0_ng_container_1_div_1_label_3_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "label"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2, "localize"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](4);
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2, 1, ctx_r4.labels[0]));
            }
        }
        function ScorecardAccessBannerComponent_ng_container_0_ng_container_1_div_1_ng_template_4_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "label"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2, "localizeFormat"), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 2 & rf) {
                var noAccessUsersCount_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2).ngIf, ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind2"](2, 1, ctx_r6.labels[1], noAccessUsersCount_r2));
            }
        }
        function ScorecardAccessBannerComponent_ng_container_0_ng_container_1_div_1_button_10_Template(rf, ctx) {
            if (1 & rf) {
                var _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "button", 9), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click", function() {
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r10);
                    var ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](4);
                    return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275resetView"](ctx_r9.onDissmis());
                }), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](1, "localize"), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](2, "pbi-icon", 10), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]();
            }
            2 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](1, 1, "Dismiss"));
        }
        function ScorecardAccessBannerComponent_ng_container_0_ng_container_1_div_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div", 2), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275element"](1, "i", 3), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](2, "div", 4), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](3, ScorecardAccessBannerComponent_ng_container_0_ng_container_1_div_1_label_3_Template, 3, 3, "label", 5), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](4, ScorecardAccessBannerComponent_ng_container_0_ng_container_1_div_1_ng_template_4_Template, 3, 4, "ng-template", null, 6, _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275templateRefExtractor"]), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](6, "button", 7), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click", function() {
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r12);
                    var ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](3);
                    return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275resetView"](ctx_r11.openSharingDialog());
                }), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](7, "localize"), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](9, "localize"), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()(), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](10, ScorecardAccessBannerComponent_ng_container_0_ng_container_1_div_1_button_10_Template, 3, 3, "button", 8), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275reference"](5), noAccessUsersCount_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]().ngIf, ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"](2);
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", 1 === noAccessUsersCount_r2)("ngIfElse", _r5), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](7, 5, ctx_r3.labels[2])), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](9, 7, ctx_r3.labels[2])), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", ctx_r3.showDismiss);
            }
        }
        function ScorecardAccessBannerComponent_ng_container_0_ng_container_1_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerStart"](0), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](1, ScorecardAccessBannerComponent_ng_container_0_ng_container_1_div_1_Template, 11, 9, "div", 1), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerEnd"]()), 
            2 & rf) {
                var noAccessUsersCount_r2 = ctx.ngIf;
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", noAccessUsersCount_r2 > 0);
            }
        }
        function ScorecardAccessBannerComponent_ng_container_0_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerStart"](0), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](1, ScorecardAccessBannerComponent_ng_container_0_ng_container_1_Template, 2, 1, "ng-container", 0), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](2, "async"), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementContainerEnd"]()), 
            2 & rf) {
                var tmp_0_0, ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", null == (tmp_0_0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](2, 1, ctx_r0.noAccessUsers$)) ? null : tmp_0_0.length);
            }
        }
        var ScorecardAccessBannerComponent = function() {
            function ScorecardAccessBannerComponent(goalsHttpService, scorecardActions) {
                var _a;
                this.goalsHttpService = goalsHttpService, this.scorecardActions = scorecardActions, 
                this.labels = [ "Member_No_Scorecard_Access", "Members_No_Scorecard_Access", "Manage_Scorecard_Access" ], 
                this.showDismiss = !0, this.userAccess = {
                    userPrincipalNames: {},
                    aadAppIds: {},
                    groupIds: {}
                }, this.noAccessUsers$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__.X([]), this.show = !0, 
                _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_2__.fF.assertValue(3 === (null === (_a = this.labels) || void 0 === _a ? void 0 : _a.length), "Should only contain 3 labels");
            }
            return ScorecardAccessBannerComponent.prototype.ngOnChanges = function(changes) {
                var _a, _b;
                (changes.scorecard && this.scorecard.reportId && _.isNil(null === (_a = changes.scorecard.previousValue) || void 0 === _a ? void 0 : _a.reportId) && this.users || changes.users && (null === (_b = this.scorecard) || void 0 === _b ? void 0 : _b.reportId)) && this.updateUserAccessInfo();
            }, ScorecardAccessBannerComponent.prototype.onDissmis = function() {
                this.show = !1;
            }, ScorecardAccessBannerComponent.prototype.openSharingDialog = function() {
                return (0, tslib__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(this, void 0, void 0, function() {
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_3__.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return [ 4, this.scorecardActions.share(this.scorecard, this.noAccessUsers$.value) ];

                          case 1:
                            return _a.sent(), [ 2 ];
                        }
                    });
                });
            }, ScorecardAccessBannerComponent.prototype.updateUserAccessInfo = function() {
                return (0, tslib__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(this, void 0, void 0, function() {
                    var request, result;
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_3__.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            if (!_.some(this.users)) return [ 3, 5 ];
                            if (request = this.getCheckScorecardAccessRequest(this.users), !(_.some(request.userPrincipalNames) || _.some(request.aadAppIds) || _.some(request.groupIds))) return [ 3, 4 ];
                            _b.label = 1;

                          case 1:
                            return _b.trys.push([ 1, 3, , 4 ]), [ 4, this.goalsHttpService.checkAccess(this.scorecard.groupId, this.scorecard.id, request).toPromise() ];

                          case 2:
                            return result = _b.sent(), this.updateAcessInfo(result), [ 3, 4 ];

                          case 3:
                            return _b.sent(), this.noAccessUsers$.next([]), [ 3, 4 ];

                          case 4:
                            return this.noAccessUsers$.next(this.countUsersWithNoAccess(this.users)), [ 3, 6 ];

                          case 5:
                            this.noAccessUsers$.next([]), _b.label = 6;

                          case 6:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardAccessBannerComponent.prototype.getCheckScorecardAccessRequest = function(users) {
                for (var request = {
                    userPrincipalNames: [],
                    aadAppIds: [],
                    groupIds: []
                }, _i = 0, users_1 = users; _i < users_1.length; _i++) {
                    var user = users_1[_i];
                    2 === user.objectType ? void 0 === this.userAccess.groupIds[user.objectId] && request.groupIds.push(user.objectId) : user.userPrincipalName ? void 0 === this.userAccess.userPrincipalNames[user.userPrincipalName] && request.userPrincipalNames.push(user.userPrincipalName) : void 0 === this.userAccess.aadAppIds[user.aadAppId] && request.aadAppIds.push(user.aadAppId);
                }
                return request;
            }, ScorecardAccessBannerComponent.prototype.countUsersWithNoAccess = function(users) {
                for (var noAccessUsers = [], _i = 0, users_2 = users; _i < users_2.length; _i++) {
                    var user = users_2[_i];
                    2 === user.objectType ? !0 !== this.userAccess.groupIds[user.objectId] && noAccessUsers.push(user) : user.userPrincipalName ? !0 !== this.userAccess.userPrincipalNames[user.userPrincipalName] && noAccessUsers.push(user) : !0 !== this.userAccess.aadAppIds[user.aadAppId] && noAccessUsers.push(user);
                }
                return noAccessUsers;
            }, ScorecardAccessBannerComponent.prototype.updateAcessInfo = function(result) {
                for (var _i = 0, _a = _.keys(null == result ? void 0 : result.userPrincipalNames); _i < _a.length; _i++) this.userAccess.userPrincipalNames[key = _a[_i]] = result.userPrincipalNames[key];
                for (var _b = 0, _c = _.keys(null == result ? void 0 : result.aadAppIds); _b < _c.length; _b++) this.userAccess.aadAppIds[key = _c[_b]] = result.aadAppIds[key];
                for (var _d = 0, _e = _.keys(null == result ? void 0 : result.groupIds); _d < _e.length; _d++) {
                    var key;
                    this.userAccess.groupIds[key = _e[_d]] = result.groupIds[key];
                }
            }, ScorecardAccessBannerComponent.\u0275fac = function(t) {
                return new (t || ScorecardAccessBannerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_powerbi_InjectionTokens_goalsHttpService__WEBPACK_IMPORTED_MODULE_4__.f), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_powerbi_InjectionTokens_scorecardActionsService__WEBPACK_IMPORTED_MODULE_5__.F));
            }, ScorecardAccessBannerComponent.\u0275cmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({
                type: ScorecardAccessBannerComponent,
                selectors: [ [ "scorecard-access-banner" ] ],
                inputs: {
                    scorecard: "scorecard",
                    users: "users",
                    labels: "labels",
                    showDismiss: "showDismiss"
                },
                features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275NgOnChangesFeature"] ],
                decls: 1,
                vars: 1,
                consts: [ [ 4, "ngIf" ], [ "class", "message-banner", 4, "ngIf" ], [ 1, "message-banner" ], [ "aria-hidden", "true", 1, "glyphicon", "pbi-glyph-info", "glyph-small", "message-banner-icon" ], [ 1, "message-banner-text-container" ], [ 4, "ngIf", "ngIfElse" ], [ "multiple", "" ], [ 3, "click" ], [ "class", "close", 3, "click", 4, "ngIf" ], [ 1, "close", 3, "click" ], [ "name", "close", "size", "mini" ] ],
                template: function(rf, ctx) {
                    1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](0, ScorecardAccessBannerComponent_ng_container_0_Template, 3, 3, "ng-container", 0), 
                    2 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", ctx.show && (null == ctx.scorecard ? null : ctx.scorecard.reportId));
                },
                dependencies: [ _angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _UILibrary_pbi_icon_pbi_icon_component__WEBPACK_IMPORTED_MODULE_7__._, _angular_common__WEBPACK_IMPORTED_MODULE_6__.AsyncPipe, _Localization_pipes_localize_pipe__WEBPACK_IMPORTED_MODULE_8__.F, _Localization_pipes_localize_format_pipe__WEBPACK_IMPORTED_MODULE_9__.j ],
                styles: [ '[_nghost-%COMP%]{display:block;font-size:12px}[_nghost-%COMP%]   .message-banner[_ngcontent-%COMP%]{color:var(--gray-180, #252423);display:flex;padding:10px 12px;background-color:var(--gray-20, #F3F2F1);margin-bottom:10px}[_nghost-%COMP%]   .message-banner[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin:0 0 0 auto;border:0;padding:0;background-color:transparent;color:inherit;display:flex;align-items:center}[_nghost-%COMP%]   .message-banner[_ngcontent-%COMP%]   .message-banner-text-container[_ngcontent-%COMP%]{display:block;line-height:16px;-webkit-user-select:text;-ms-user-select:text;user-select:text}[_nghost-%COMP%]   .message-banner[_ngcontent-%COMP%]   .message-banner-text-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent;margin:0;padding:0;align-self:flex-end;text-decoration:underline;color:var(--fluent-theme-link-darker-color, #005A9E)}[_nghost-%COMP%]   .message-banner[_ngcontent-%COMP%]   .message-banner-text-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .message-banner[_ngcontent-%COMP%]   .message-banner-text-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{color:var(--fluent-theme-link-alt-color, #004578)}[_nghost-%COMP%]   .message-banner[_ngcontent-%COMP%]   .message-banner-text-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:1px solid var(--gray-140, #484644)}[_nghost-%COMP%]   .message-banner[_ngcontent-%COMP%]   .message-banner-text-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}[_nghost-%COMP%]   .message-banner[_ngcontent-%COMP%]   .message-banner-text-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:var(--gray-90, #A19F9D)}html:not([dir="rtl"])   [_nghost-%COMP%]   .message-banner[_ngcontent-%COMP%]   .message-banner-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir="rtl"]   [_nghost-%COMP%]   .message-banner[_ngcontent-%COMP%]   .message-banner-icon[_ngcontent-%COMP%]{margin-left:8px}' ],
                changeDetection: 0
            }), ScorecardAccessBannerComponent;
        }();
    },
    70060: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        function getScorecardPermission(permission) {
            if (null == permission) return 0;
            if ("number" == typeof permission) return permission;
            if ("string" == typeof permission) switch (permission.toString().trim().toLowerCase()) {
              case "none":
                return 0;

              case "read":
              default:
                return 1;

              case "write":
                return 2;

              case "readwrite":
                return 3;
            }
            return 0;
        }
        __webpack_require__.d(__webpack_exports__, {
            l: function() {
                return getScorecardPermission;
            }
        });
    },
    77695: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            p: function() {
                return ScorecardSortHelper;
            }
        });
        var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60042), _helpers_goal_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(125), _status_picker_goal_status_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(57535), ScorecardSortHelper = function() {
            function ScorecardSortHelper() {}
            return ScorecardSortHelper.sortAndFilter = function(goals, sortType, goalStatusesByScorecardId, filterBy) {
                if (_.isEmpty(goals)) return goals;
                var sortDirection = sortType.sortAscending ? "asc" : "desc", sortOrder = [ this.sortingFunctions[sortType.sortBy] ];
                return "Rank" === sortType.sortBy && sortOrder.push(this.sortingFunctions.CreatedTime), 
                sortOrder.push("Name" === sortType.sortBy ? this.sortingFunctions.CreatedTime : this.sortingFunctions.Name), 
                this.sortRecursive(goals, sortDirection, sortOrder, goalStatusesByScorecardId, filterBy);
            }, ScorecardSortHelper.sort = function(goals, sortType) {
                return this.sortAndFilter(goals, sortType, {}, {});
            }, ScorecardSortHelper.toggleSort = function(currentSort, sortBy) {
                return sortBy ? currentSort.sortBy === sortBy ? currentSort.sortAscending ? {
                    sortBy: currentSort.sortBy,
                    sortAscending: !1
                } : _constants__WEBPACK_IMPORTED_MODULE_0__.Ij : {
                    sortBy,
                    sortAscending: !0
                } : currentSort;
            }, ScorecardSortHelper.sortRecursive = function(goals, sortDirection, sortOrder, goalStatusesByScorecardId, filterBy) {
                for (var _i = 0, goals_1 = goals = _.orderBy(goals, sortOrder, [ sortDirection, "asc" ]); _i < goals_1.length; _i++) {
                    var goal = goals_1[_i];
                    _.isEmpty(goal.subGoals) || (goal.subGoals = this.sortRecursive(goal.subGoals, sortDirection, sortOrder, goalStatusesByScorecardId, filterBy)), 
                    _.isNil(filterBy) ? (delete goal.isFilterMatch, delete goal.isHidden) : (goal.isFilterMatch = ScorecardSortHelper.matchesFilter(goal, goalStatusesByScorecardId, filterBy), 
                    goal.isHidden = !goal.isFilterMatch && !_.some(goal.subGoals, function(subGoal) {
                        return !subGoal.isHidden;
                    }));
                }
                return goals;
            }, ScorecardSortHelper.matchesFilter = function(goal, goalStatusesByScorecardId, filterBy) {
                var _a, _b, _c, _d, _e;
                if (_.isNil(filterBy)) return !0;
                if (goal.isNew) return !0;
                if ("Editing" === goal.state || "Saving" === goal.state) return !0;
                var latestStatusId = null !== (_a = _helpers_goal_helper__WEBPACK_IMPORTED_MODULE_1__.r.buildCurrentGoalValue(goal).status) && void 0 !== _a ? _a : 0, latestStatus = _status_picker_goal_status_helper__WEBPACK_IMPORTED_MODULE_2__.p.getGoalStatusForScorecardId(latestStatusId, goal.scorecardId, goalStatusesByScorecardId), keywordMatch = !1, keyword = null === (_b = null == filterBy ? void 0 : filterBy.keyword) || void 0 === _b ? void 0 : _b.toLocaleLowerCase();
                if (!_.isString(keyword) || _.isEmpty(keyword)) keywordMatch = !0; else if ((null === (_c = goal.name) || void 0 === _c ? void 0 : _c.toLocaleLowerCase().includes(keyword)) && (keywordMatch = !0), 
                (null == filterBy ? void 0 : filterBy.matchOwner) && !keywordMatch && ((null === (_d = goal.ownerDisplayNames) || void 0 === _d ? void 0 : _d.length) >= 1 ? keywordMatch = _.some(goal.ownerDisplayNames, function(displayName) {
                    return null == displayName ? void 0 : displayName.toLocaleLowerCase().includes(keyword);
                }) : (keywordMatch = null === (_e = goal.owner) || void 0 === _e ? void 0 : _e.toLocaleLowerCase().includes(keyword)) || (keywordMatch = _.some(goal.additionalOwners, function(addOwner) {
                    var _a, addOwnerStr = null !== (_a = addOwner.userPrincipalName) && void 0 !== _a ? _a : addOwner.aadAppId;
                    return null == addOwnerStr ? void 0 : addOwnerStr.toLocaleLowerCase().includes(keyword);
                }))), (null == filterBy ? void 0 : filterBy.matchStatus) && !keywordMatch) {
                    var statusText = latestStatus.displayName;
                    (null == statusText ? void 0 : statusText.toLocaleLowerCase().includes(keyword)) && (keywordMatch = !0);
                }
                var statusMatch = !1;
                return (_.isNil(null == filterBy ? void 0 : filterBy.statuses) || _.isEmpty(null == filterBy ? void 0 : filterBy.statuses) || _status_picker_goal_status_helper__WEBPACK_IMPORTED_MODULE_2__.p.listIncludesMatchingStatus(filterBy.statuses, latestStatus)) && (statusMatch = !0), 
                keywordMatch && statusMatch;
            }, ScorecardSortHelper.sortingFunctions = {
                Rank: function(goal) {
                    return goal.rank;
                },
                CreatedTime: function(goal) {
                    return goal.createdTime;
                },
                Name: function(goal) {
                    var _a;
                    return null === (_a = goal.name) || void 0 === _a ? void 0 : _a.trim().toLocaleLowerCase();
                },
                Owner: function(goal) {
                    var _a, _b, _c;
                    return null === (_c = null !== (_b = null === (_a = goal.ownerDisplayNames) || void 0 === _a ? void 0 : _a[0]) && void 0 !== _b ? _b : goal.owner) || void 0 === _c ? void 0 : _c.trim().toLocaleLowerCase();
                },
                Status: function(goal) {
                    return (_helpers_goal_helper__WEBPACK_IMPORTED_MODULE_1__.r.buildCurrentGoalValue(goal).status + 1) % 6;
                },
                Value: function(goal) {
                    return _helpers_goal_helper__WEBPACK_IMPORTED_MODULE_1__.r.buildCurrentGoalValue(goal).value;
                },
                Change: function(goal) {
                    return _helpers_goal_helper__WEBPACK_IMPORTED_MODULE_1__.r.calculateValueChange(goal, !0).changeAmount;
                },
                Milestone: function(goal) {
                    return _helpers_goal_helper__WEBPACK_IMPORTED_MODULE_1__.r.buildCurrentGoalValue(goal).nextTarget;
                },
                Target: function(goal) {
                    return _helpers_goal_helper__WEBPACK_IMPORTED_MODULE_1__.r.buildCurrentGoalValue(goal).finalTarget;
                },
                DueDate: function(goal) {
                    return goal.completionDate;
                }
            }, ScorecardSortHelper;
        }();
    },
    77971: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            m: function() {
                return StatusIconComponent;
            }
        });
        var _status_picker_goal_status_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57535), _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50423), _powerbi_Localization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(65181), _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(77476), _UILibrary_pbi_tooltip_pbi_tooltip_directive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(36858);
        function StatusIconComponent_div_0_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div", 1)(1, "span", 2), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()()), 
            2 & rf) {
                var ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275styleMap"](ctx_r0.style), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("pbiTooltip", ctx_r0.text), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate"](ctx_r0.text);
            }
        }
        var StatusIconComponent = function() {
            function StatusIconComponent(localizationService) {
                this.localizationService = localizationService, this.goalStatusHelper = new _status_picker_goal_status_helper__WEBPACK_IMPORTED_MODULE_1__.p(this.localizationService);
            }
            return StatusIconComponent.prototype.ngOnChanges = function() {
                this.configText(), this.configStyle();
            }, StatusIconComponent.prototype.configStyle = function() {
                if (this.outlineOnly) {
                    var colorKey = _status_picker_goal_status_helper__WEBPACK_IMPORTED_MODULE_1__.p.getGoalStatus(this.status, this.goalStatuses).color, sparklineColor = _status_picker_goal_status_helper__WEBPACK_IMPORTED_MODULE_1__.p.getGoalSparklineColor(colorKey, this.isMobile, this.isDarkMode);
                    this.style = {
                        color: void 0,
                        "background-color": void 0,
                        border: "1px solid ".concat(sparklineColor)
                    };
                } else {
                    colorKey = _status_picker_goal_status_helper__WEBPACK_IMPORTED_MODULE_1__.p.getGoalStatus(this.status, this.goalStatuses).color;
                    var textColor = _status_picker_goal_status_helper__WEBPACK_IMPORTED_MODULE_1__.p.getGoalStatusTextColor(colorKey, this.isMobile, this.isDarkMode), backgroundColor = _status_picker_goal_status_helper__WEBPACK_IMPORTED_MODULE_1__.p.getGoalStatusColor(colorKey, this.isMobile, this.isDarkMode);
                    this.style = {
                        color: textColor,
                        "background-color": backgroundColor,
                        border: "none"
                    }, this.isMobile && !this.text.trim().length && (this.style.visibility = "hidden");
                }
            }, StatusIconComponent.prototype.configText = function() {
                var _a, displayName = null === (_a = _status_picker_goal_status_helper__WEBPACK_IMPORTED_MODULE_1__.p.getGoalStatus(this.status, this.goalStatuses)) || void 0 === _a ? void 0 : _a.displayName;
                this.text = this.goalStatusHelper.tryLocalizeDisplayName(displayName);
            }, StatusIconComponent.\u0275fac = function(t) {
                return new (t || StatusIconComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_powerbi_Localization__WEBPACK_IMPORTED_MODULE_2__.o));
            }, StatusIconComponent.\u0275cmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({
                type: StatusIconComponent,
                selectors: [ [ "status-icon" ] ],
                inputs: {
                    goalStatuses: "goalStatuses",
                    isDarkMode: "isDarkMode",
                    isMobile: "isMobile",
                    outlineOnly: "outlineOnly",
                    status: "status"
                },
                features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275NgOnChangesFeature"] ],
                decls: 1,
                vars: 1,
                consts: [ [ "class", "status", 3, "style", 4, "ngIf" ], [ 1, "status" ], [ 3, "pbiTooltip" ] ],
                template: function(rf, ctx) {
                    1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](0, StatusIconComponent_div_0_Template, 3, 4, "div", 0), 
                    2 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", ctx.text);
                },
                dependencies: [ _angular_common__WEBPACK_IMPORTED_MODULE_3__.NgIf, _UILibrary_pbi_tooltip_pbi_tooltip_directive__WEBPACK_IMPORTED_MODULE_4__.V ],
                styles: [ ".status[_ngcontent-%COMP%]{height:24px;line-height:24px;padding-left:10px;padding-right:10px;border-radius:12px;white-space:nowrap;text-align:center;font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}.status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:-webkit-fill-available;display:inline-block}", 'mobile-scorecard-container[_nghost-%COMP%]   .status[_ngcontent-%COMP%], mobile-scorecard-container   [_nghost-%COMP%]   .status[_ngcontent-%COMP%]{height:18px;line-height:18px;padding-left:10px;padding-right:10px;border-radius:12px;white-space:nowrap;text-align:center;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);font-weight:500;text-overflow:ellipsis;overflow:hidden;min-width:35px}' ],
                changeDetection: 0
            }), StatusIconComponent;
        }();
    },
    24973: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            z: function() {
                return StatusPickerComponent;
            }
        });
        var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(60042), _services_create_goal_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(14372), _goal_status_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(57535), _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50423), _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(17174), _Shared_GoalsUI_services_goals_details_pane_launcher_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(53678), _powerbi_Localization__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(65181), _Shared_GoalsUI_services_scorecard_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(49803), _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(77476), _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(87650), _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(48205), _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(33846), _Localization_pipes_localize_pipe__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(85102), _c0 = [ "matSelect" ];
        function StatusPickerComponent_mat_option_5_Template(rf, ctx) {
            if (1 & rf) {
                var _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "mat-option", 6), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("onSelectionChange", function($event) {
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r5);
                    var ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                    return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275resetView"](ctx_r4.onValueSelect($event));
                }), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var displayGoalStatus_r3 = ctx.$implicit;
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275styleProp"]("background-color", displayGoalStatus_r3.color), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("value", displayGoalStatus_r3), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"](" ", displayGoalStatus_r3.displayName, " ");
            }
        }
        function StatusPickerComponent_div_6_Template(rf, ctx) {
            if (1 & rf) {
                var _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div")(1, "button", 7), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click", function() {
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r7);
                    var ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                    return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275resetView"](ctx_r6.onEdit());
                }), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275text"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](3, "localize"), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()();
            }
            2 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275textInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](3, 1, "EditStatusRules_Button_Text"), " "));
        }
        var StatusPickerComponent = function() {
            function StatusPickerComponent(detailsPaneLauncher, localizationService, scorecardService) {
                this.detailsPaneLauncher = detailsPaneLauncher, this.localizationService = localizationService, 
                this.scorecardService = scorecardService, this.canCustomizeStatus = !1, this.onSelect = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter, 
                this.createGoalHelper = new _services_create_goal_helper__WEBPACK_IMPORTED_MODULE_1__.a(scorecardService), 
                this.goalStatusHelper = new _goal_status_helper__WEBPACK_IMPORTED_MODULE_2__.p(this.localizationService), 
                this.defaultColor = _constants__WEBPACK_IMPORTED_MODULE_3__.xt.defaultColorPalette[0].backgroundColor, 
                this.statusForm = new _angular_forms__WEBPACK_IMPORTED_MODULE_4__.nJ({
                    statusPicker: new _angular_forms__WEBPACK_IMPORTED_MODULE_4__.p4(null)
                });
            }
            return StatusPickerComponent.prototype.focus = function() {
                this.matSelect._elementRef.nativeElement.focus();
            }, StatusPickerComponent.prototype.onEdit = function() {
                var _this = this;
                this.detailsPaneLauncher.openEditStatusesPane(this.scorecardService, function(scorecard) {
                    return _this.createGoalHelper.updateScorecardStatuses(scorecard);
                }, !this.canCustomizeStatus), this.matSelect.close();
            }, StatusPickerComponent.prototype.ngOnInit = function() {
                this.displayGoalStatuses = this.configStatus(this.goalStatuses);
            }, StatusPickerComponent.prototype.ngOnChanges = function(changes) {
                var _a, _b, _c;
                changes.goalStatuses && (this.displayGoalStatuses = this.configStatus(this.goalStatuses)), 
                changes.isReadOnly && (this.isReadOnly ? null === (_a = this.statusForm) || void 0 === _a || _a.get("statusPicker").disable() : null === (_b = this.statusForm) || void 0 === _b || _b.get("statusPicker").enable()), 
                changes.status && (this.currentStatus = _goal_status_helper__WEBPACK_IMPORTED_MODULE_2__.p.getGoalStatus(this.status, this.goalStatuses), 
                _.isNil(this.status) && this.showUndefinedAsEmpty && (this.currentStatus = void 0), 
                null === (_c = this.statusForm.get("statusPicker")) || void 0 === _c || _c.setValue(this.currentStatus)), 
                changes.showUndefinedAsEmpty && (this.defaultColor = this.showUndefinedAsEmpty ? "transparent" : _constants__WEBPACK_IMPORTED_MODULE_3__.xt.defaultColorPalette[0].backgroundColor);
            }, StatusPickerComponent.prototype.compareOptions = function(goalStatus_1, goalStatus_2) {
                return goalStatus_1.id === goalStatus_2.id;
            }, StatusPickerComponent.prototype.onValueSelect = function(event) {
                event.isUserInput && (this.currentStatus = event.source.value, this.onSelect.emit(event.source.value));
            }, StatusPickerComponent.prototype.configStatus = function(goalStatuses) {
                var localizedStatuses = [];
                if (!_.isEmpty(goalStatuses)) for (var _i = 0, goalStatuses_1 = goalStatuses; _i < goalStatuses_1.length; _i++) {
                    var goalStatus = goalStatuses_1[_i];
                    if (!goalStatus.historical) {
                        var localizedStatus = {
                            id: goalStatus.id,
                            displayName: this.goalStatusHelper.tryLocalizeDisplayName(goalStatus.displayName),
                            color: goalStatus.color,
                            historical: goalStatus.historical,
                            labelColor: goalStatus.labelColor
                        };
                        localizedStatuses.push(localizedStatus);
                    }
                }
                return localizedStatuses;
            }, StatusPickerComponent.\u0275fac = function(t) {
                return new (t || StatusPickerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_Shared_GoalsUI_services_goals_details_pane_launcher_service__WEBPACK_IMPORTED_MODULE_5__.c), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_powerbi_Localization__WEBPACK_IMPORTED_MODULE_6__.o), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_Shared_GoalsUI_services_scorecard_service__WEBPACK_IMPORTED_MODULE_7__.G));
            }, StatusPickerComponent.\u0275cmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({
                type: StatusPickerComponent,
                selectors: [ [ "status-picker" ] ],
                viewQuery: function(rf, ctx) {
                    var _t;
                    1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275viewQuery"](_c0, 5), 
                    2 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]()) && (ctx.matSelect = _t.first);
                },
                inputs: {
                    canCustomizeStatus: "canCustomizeStatus",
                    goalStatuses: "goalStatuses",
                    status: "status",
                    isReadOnly: "isReadOnly",
                    onSave: "onSave",
                    showUndefinedAsEmpty: "showUndefinedAsEmpty"
                },
                outputs: {
                    onSelect: "onSelect"
                },
                features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275NgOnChangesFeature"] ],
                decls: 7,
                vars: 10,
                consts: [ [ 3, "formGroup" ], [ "appearance", "none" ], [ "pbiInput", "", "pbiMatSelect", "", "disableOptionCentering", "", "data-testid", "goal-status-picker", "panelClass", "goal-status-panel", "formControlName", "statusPicker", 1, "custom-mat-select", 3, "placeholder", "aria-label", "compareWith" ], [ "matSelect", "" ], [ "class", "custom-mat-option", 3, "background-color", "value", "onSelectionChange", 4, "ngFor", "ngForOf" ], [ 4, "ngIf" ], [ 1, "custom-mat-option", 3, "value", "onSelectionChange" ], [ 1, "editStatus", 3, "click" ] ],
                template: function(rf, ctx) {
                    var tmp_1_0;
                    1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "form", 0)(1, "mat-form-field", 1)(2, "mat-select", 2, 3), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipe"](4, "localize"), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](5, StatusPickerComponent_mat_option_5_Template, 2, 4, "mat-option", 4), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](6, StatusPickerComponent_div_6_Template, 4, 3, "div", 5), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()()()), 2 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("formGroup", ctx.statusForm), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275styleProp"]("background-color", null !== (tmp_1_0 = null == ctx.currentStatus ? null : ctx.currentStatus.color) && void 0 !== tmp_1_0 ? tmp_1_0 : ctx.defaultColor), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275propertyInterpolate"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275pipeBind1"](4, 8, "SelectStatus")), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("placeholder", null == ctx.currentStatus ? null : ctx.currentStatus.displayName)("compareWith", ctx.compareOptions), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](3), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngForOf", ctx.displayGoalStatuses), 
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275advance"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("ngIf", ctx.canCustomizeStatus));
                },
                dependencies: [ _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_4__._Y, _angular_forms__WEBPACK_IMPORTED_MODULE_4__.JJ, _angular_forms__WEBPACK_IMPORTED_MODULE_4__.JL, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_9__.v_, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_10__.x8, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_11__.CK, _angular_forms__WEBPACK_IMPORTED_MODULE_4__.sg, _angular_forms__WEBPACK_IMPORTED_MODULE_4__.u, _Localization_pipes_localize_pipe__WEBPACK_IMPORTED_MODULE_12__.F ],
                styles: [ '.custom-mat-option{height:24px!important;line-height:24px!important;margin:6px 32px 6px 8px;border-radius:12px}  .custom-mat-option span{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--fluent-theme-neutral-primary-color, #323130);text-align:center}  .mat-option.mat-active{outline:2px solid var(--fluent-theme-neutral-dark-color, #201F1E)}  .editStatus{width:100%;background-color:transparent!important;border:none;border-top:1px solid var(--gray-60, #C8C6C4);font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--fluent-theme-neutral-primary-color, #323130)}  .editStatus:hover,   .editStatus:active{background-color:transparent!important;border-top:1px solid var(--gray-60, #C8C6C4)!important}  .goal-status-panel{margin-top:42px;margin-bottom:42px;width:100%;max-width:100%!important;min-width:100%!important;margin-left:16px;box-shadow:var(--fluent-shadow-depth8, 0px 0px 2px var(--colorNeutralShadowAmbient), 0px 4px 8px var(--colorNeutralShadowKey))!important;border-radius:2px!important;position:relative;top:-12px}[_nghost-%COMP%]     mat-form-field{width:100%!important;border:1px solid var(--gray-110, #8A8886);box-sizing:border-box;border-radius:2px;height:32px;padding:2px}[_nghost-%COMP%]     mat-form-field mat-select{border-radius:24px}[_nghost-%COMP%]     .mat-select-trigger{height:24px!important;width:100%;display:flex;align-items:center}[_nghost-%COMP%]     .custom-mat-select .mat-select-value{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--fluent-theme-neutral-primary-color, #323130);text-align:center;border-radius:12px;margin-left:8px;margin-right:8px;line-height:24px!important;height:24px!important}[_nghost-%COMP%]     .custom-mat-select .mat-select-arrow-wrapper{font-family:PowrMDL2;font-style:normal;font-size:32px;display:inline-block;font-size:12px;margin-right:8px;color:var(--gray-140, #484644)}[_nghost-%COMP%]     .custom-mat-select .mat-select-arrow-wrapper:before{content:"\\e70d"}[_nghost-%COMP%]     .custom-mat-select .mat-select-arrow-wrapper .mat-select-arrow{display:none}[_nghost-%COMP%]     .custom-mat-select.mat-select-disabled .mat-select-arrow-wrapper{display:none}[_nghost-%COMP%]     .custom-mat-select:focus{outline:2px solid var(--fluent-theme-neutral-dark-color, #201F1E)}[_nghost-%COMP%]     .mat-select-value{width:100%;max-width:100%}[_nghost-%COMP%]     .mat-select-placeholder{color:unset}[_nghost-%COMP%]     .mat-select-value-text{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--fluent-theme-neutral-primary-color, #323130)}[_nghost-%COMP%]     .mat-form-field-wrapper{padding:0!important}[_nghost-%COMP%]     .mat-form-field-wrapper .mat-form-field-flex{height:unset!important}[_nghost-%COMP%]     .mat-form-field-wrapper .mat-form-field-infix{padding:0!important;border:none!important;top:1px}' ],
                changeDetection: 0
            }), StatusPickerComponent;
        }();
    },
    15337: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            r: function() {
                return GoalsLimits;
            }
        });
        var GoalsLimits = function() {
            function GoalsLimits() {}
            return GoalsLimits.GoalNameMaxLength = 256, GoalsLimits.MaxGoalOwnerCount = 5, GoalsLimits.ScorecardNameMaxCharacterLimit = 250, 
            GoalsLimits.ScorecardDescriptionMaxCharacterLimit = 120, GoalsLimits.RoleDescriptionMaxCharacterLimit = 512, 
            GoalsLimits.RoleNameMaxCharacterLimit = 128, GoalsLimits.ActiveStatusMaxCountLimit = 12, 
            GoalsLimits.HistoricalStatusMaxCountLimit = 12, GoalsLimits.MaxStatusId = 255, GoalsLimits.StatusMaxCharacterLimit = 50, 
            GoalsLimits.MaxNumberOfCategories = 10, GoalsLimits.GoalValueCategoryMaxLength = 40, 
            GoalsLimits.GoalValueCategoryNameMaxLength = 256, GoalsLimits.CycleCustomLabelMaxLength = 32, 
            GoalsLimits.CycleCustomDescriptionMaxLength = 128, GoalsLimits.CycleMaxCustomDurationInDays = 1e3, 
            GoalsLimits;
        }();
    },
    12230: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.r(__webpack_exports__), __webpack_require__.d(__webpack_exports__, {
            GoalsUIModule: function() {
                return GoalsUIModule;
            }
        });
        var tslib_es6 = __webpack_require__(81337), avatar_row_component = __webpack_require__(87758), rx_component = __webpack_require__(73221), distinctUntilChanged = __webpack_require__(77526), takeUntil = __webpack_require__(83317), core = __webpack_require__(50423), scorecard_context_menu_lazy_component = __webpack_require__(8297), constants = __webpack_require__(60042), scorecard_helper = __webpack_require__(62831), debug = __webpack_require__(62458), pbi_overlay_service = __webpack_require__(86940), pbi_overlay_positions = __webpack_require__(25512), BehaviorSubject = __webpack_require__(35510), Subject = __webpack_require__(30794), scorecard_service = __webpack_require__(49803), scorecard_capability_service = __webpack_require__(93379), goal_connection_service = __webpack_require__(33014), map = __webpack_require__(14172), feature_switch_service = __webpack_require__(9380), ScorecardExpansionService = function() {
            function ScorecardExpansionService(scorecardService, featureSwitches) {
                var _this = this;
                this.scorecardService = scorecardService, this.featureSwitches = featureSwitches, 
                this._expansionMap$ = new BehaviorSubject.X({}), this._expandableGoals$ = new BehaviorSubject.X([]), 
                this._showAllExpanded$ = new BehaviorSubject.X(!1), this.onDestroy$ = new Subject.xQ, 
                this.expandByDefault = !this.featureSwitches.featureSwitches.collapseGoalsByDefault, 
                this.scorecardService.getScorecard().pipe((0, map.U)(function(scorecard) {
                    return _.map(scorecard_helper.q.filterGoals(scorecard.goals, function(goal) {
                        return !_.isEmpty(goal.subGoals);
                    }), function(goal) {
                        return goal.id;
                    });
                }), (0, distinctUntilChanged.x)(_.isEqual), (0, takeUntil.R)(this.onDestroy$)).subscribe(this._expandableGoals$), 
                this._expandableGoals$.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(goalIds) {
                    var expandableGoalIds = new Set(goalIds), cleanMap = _.pickBy(_this.expansionMap, function(_, id) {
                        return expandableGoalIds.has(id);
                    });
                    if (_this._expansionMap$.next(cleanMap), _this.expandByDefault) {
                        var newGoals = _.filter(goalIds, function(id) {
                            return _.isNil(_this.expansionMap[id]);
                        });
                        _this.setExpansion(newGoals, !0);
                    }
                }), this._expansionMap$.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function() {
                    var countExpanded = _this.expandedGoalIds.length;
                    0 === countExpanded ? _this._showAllExpanded$.next(!1) : countExpanded === _this._expandableGoals$.value.length && _this._showAllExpanded$.next(!0);
                });
            }
            return Object.defineProperty(ScorecardExpansionService.prototype, "expansionMap$", {
                get: function() {
                    return this._expansionMap$;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(ScorecardExpansionService.prototype, "expansionMap", {
                get: function() {
                    return this._expansionMap$.value;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(ScorecardExpansionService.prototype, "expandedGoalIds", {
                get: function() {
                    return _.keys(_.pickBy(this.expansionMap, function(expanded) {
                        return expanded;
                    }));
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(ScorecardExpansionService.prototype, "showAllExpanded$", {
                get: function() {
                    return this._showAllExpanded$;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(ScorecardExpansionService.prototype, "showAllExpanded", {
                get: function() {
                    return this._showAllExpanded$.value;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(ScorecardExpansionService.prototype, "hasExpandableGoals$", {
                get: function() {
                    return this._expandableGoals$.pipe((0, map.U)(function(goals) {
                        return !_.isEmpty(goals);
                    }));
                },
                enumerable: !1,
                configurable: !0
            }), ScorecardExpansionService.prototype.ngOnDestroy = function() {
                this.onDestroy$.next(!0), this.onDestroy$.complete();
            }, ScorecardExpansionService.prototype.isExpanded = function(goalId) {
                var _a;
                return null !== (_a = this.expansionMap[goalId]) && void 0 !== _a ? _a : this.expandByDefault;
            }, ScorecardExpansionService.prototype.expandGoal = function(goalId) {
                this.setExpansion([ goalId ], !0);
            }, ScorecardExpansionService.prototype.collapseGoal = function(goalId) {
                this.setExpansion([ goalId ], !1);
            }, ScorecardExpansionService.prototype.expandGoals = function(goalIds) {
                this.setExpansion(goalIds, !0);
            }, ScorecardExpansionService.prototype.collapseGoals = function(goalIds) {
                this.setExpansion(goalIds, !1);
            }, ScorecardExpansionService.prototype.expandAllGoals = function() {
                this.setExpansion(this._expandableGoals$.value, !0);
            }, ScorecardExpansionService.prototype.collapseAllGoals = function() {
                this.setExpansion(this._expandableGoals$.value, !1);
            }, ScorecardExpansionService.prototype.toggleExpandAll = function() {
                this.showAllExpanded ? this.collapseAllGoals() : this.expandAllGoals();
            }, ScorecardExpansionService.prototype.setExpansion = function(goalIds, expand) {
                var _this = this;
                if (_.some(goalIds, function(id) {
                    return _this.expansionMap[id] !== expand;
                })) {
                    var newMap_1 = (0, tslib_es6.__assign)({}, this.expansionMap);
                    _.forEach(goalIds, function(id) {
                        newMap_1[id] = expand;
                    }), this._expansionMap$.next(newMap_1);
                }
            }, ScorecardExpansionService.\u0275fac = function(t) {
                return new (t || ScorecardExpansionService)(core["\u0275\u0275inject"](scorecard_service.G), core["\u0275\u0275inject"](feature_switch_service.vZ));
            }, ScorecardExpansionService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: ScorecardExpansionService,
                factory: ScorecardExpansionService.\u0275fac
            }), ScorecardExpansionService;
        }(), GoalRowService = function() {
            function GoalRowService(scorecardService, capabilityService, overlay, goalConnectionService, expansionService, featureSwitches) {
                this.scorecardService = scorecardService, this.capabilityService = capabilityService, 
                this.overlay = overlay, this.goalConnectionService = goalConnectionService, this.expansionService = expansionService, 
                this.featureSwitches = featureSwitches, this.contextMenuOpenGoalId$ = new BehaviorSubject.X(void 0), 
                this.onDestroy$ = new Subject.xQ;
            }
            return GoalRowService.prototype.ngOnDestroy = function() {
                this.onDestroy$.next(!0), this.onDestroy$.complete();
            }, Object.defineProperty(GoalRowService.prototype, "scorecardSelectionMode", {
                get: function() {
                    return this.scorecardService.scorecardSelectionMode;
                },
                enumerable: !1,
                configurable: !0
            }), GoalRowService.prototype.capabilities = function(goal) {
                return this.capabilityService.getCurrentGoalCapabilities(goal);
            }, GoalRowService.prototype.canSelectGoal = function(goal) {
                var _a, _b;
                return null === (_b = null === (_a = this.capabilities(goal).selectGoal) || void 0 === _a ? void 0 : _a.enabled) || void 0 === _b || _b;
            }, GoalRowService.prototype.isSelected = function(goal) {
                var _a, _b;
                return null === (_b = null === (_a = this.scorecardService.getCurrentScorecard()) || void 0 === _a ? void 0 : _a.selectedGoalIds) || void 0 === _b ? void 0 : _b[goal.id];
            }, GoalRowService.prototype.onRowClick = function(goal, event) {
                this.canSelectGoal(goal) && this.scorecardService.toggleSelectedGoal(goal.id, !1, this.isClickMultiselect(event));
            }, GoalRowService.prototype.onNameClick = function(goal, event) {
                if (this.canSelectGoal(goal)) if ((_.isNil(this.scorecardSelectionMode) || "ctrl" === this.scorecardSelectionMode) && 1 === this.scorecardService.numberOfSelectedGoals() && this.isSelected(goal) && _.isNil(this.scorecardService.getCurrentScorecard().activeGoalId)) this.scorecardService.setActiveGoal(goal.id); else {
                    var multiSelect = this.isClickMultiselect(event);
                    this.scorecardService.toggleSelectedGoal(goal.id, !(multiSelect || "single" === this.scorecardSelectionMode), multiSelect);
                }
                null == event || event.stopPropagation();
            }, GoalRowService.prototype.onCheckboxClick = function(goal, event) {
                this.canSelectGoal(goal) && this.scorecardService.toggleSelectedGoal(goal.id, !1, "single" !== this.scorecardSelectionMode), 
                null == event || event.stopPropagation();
            }, GoalRowService.prototype.getGoalActionIcons = function(goal, isEditMode, showActionIcons) {
                var acts = this.getGoalActions(goal);
                return _.map(_.filter(showActionIcons ? isEditMode ? this.featureSwitches.featureSwitches.scorecardCompactView ? [ acts.editGoal, acts.openNotes, acts.openContextMenu ] : [ acts.openNotes, acts.editGoal, acts.openContextMenu ] : this.featureSwitches.featureSwitches.scorecardCompactView ? [ acts.goToReport, acts.toggleFollow, acts.openNotes ] : [ acts.goToReport, acts.openNotes, acts.toggleFollow ] : [ acts.openContextMenu ], function(action) {
                    return !action.hidden;
                }), function(action) {
                    return (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, action), {
                        onClick: function(event) {
                            action.onClick(), event.stopPropagation();
                        }
                    });
                });
            }, GoalRowService.prototype.getGoalMenuOptions = function(goal, isEditMode, showActionIcons) {
                var _this = this, acts = this.getGoalActions(goal), actionList = [];
                return isEditMode ? (actionList = [ acts.goToReport, acts.seeDetails, acts.addSubGoal, acts.toggleFollow, acts.goToLinkedSource, acts.deleteGoal ], 
                showActionIcons || actionList.unshift(acts.editGoal)) : showActionIcons ? debug.fF.assertFail("When action icons are shown, read mode has no context menu") : actionList = [ acts.goToReport, acts.openNotes, acts.toggleFollow ], 
                _.map(_.filter(actionList, function(action) {
                    return !action.hidden;
                }), function(action) {
                    return (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, action), {
                        onClick: function() {
                            action.onClick(), _this.overlay.closeAll();
                        }
                    });
                });
            }, GoalRowService.prototype.onContextMenuClick = function(goal, event, elementRef, isEditMode, showActionIcons) {
                var _this = this;
                this.overlay.isOverlayOpen && this.overlay.closeAll();
                var goalActions = this.getGoalMenuOptions(goal, isEditMode, showActionIcons), eventConnector = event.pointerType ? {
                    x: event.x,
                    y: event.y
                } : elementRef, contextMenuOverlayRef = this.overlay.open({
                    component: scorecard_context_menu_lazy_component.H,
                    data: {
                        goalActions
                    },
                    closeOnBackdropClick: !0,
                    disableForwardClickOnBackdropClick: !0,
                    hasCaret: !1,
                    options: {
                        hasBackdrop: !0,
                        backdropClass: pbi_overlay_service.L,
                        positionStrategy: this.overlay.position().flexibleConnectedTo(eventConnector).withPositions([ (0, 
                        pbi_overlay_positions.Iz)(), (0, pbi_overlay_positions.Kb)(), (0, pbi_overlay_positions.Zz)(), (0, 
                        pbi_overlay_positions.J7)() ]).withPush(!0).withGrowAfterOpen(!0)
                    }
                });
                return this.contextMenuOpenGoalId$.next(goal.id), contextMenuOverlayRef.onClose.subscribe(function(_) {
                    return _this.contextMenuOpenGoalId$.next(void 0);
                }), event.stopPropagation(), contextMenuOverlayRef;
            }, GoalRowService.prototype.getGoalActions = function(goal) {
                var _a, _b, _c, _d, _this = this, capabilities = this.capabilities(goal);
                return {
                    goToReport: {
                        id: "goToReport",
                        onClick: function() {
                            return _this.goalConnectionService.goToConnectedReport(goal.valueConnection);
                        },
                        labelKey: "TileMenuOption_GoToReport",
                        iconTooltipKey: "Metrics_Tooltip_Open_Report",
                        iconName: "barchart",
                        iconType: "pbi",
                        hidden: _.isNil(goal.valueConnection)
                    },
                    openNotes: {
                        id: "openNotes",
                        onClick: function() {
                            _this.canSelectGoal(goal) && _this.scorecardService.setActiveGoal(goal.id);
                        },
                        labelKey: "OpenNotes",
                        iconTooltipKey: "Notes",
                        iconName: "comment_16_regular",
                        iconType: "tri"
                    },
                    seeDetails: {
                        id: "seeDetails",
                        onClick: function() {
                            return _this.scorecardService.setActiveGoal(goal.id);
                        },
                        labelKey: "VisualContainer_ShowErrorDetails",
                        iconName: "list",
                        iconType: "pbi"
                    },
                    editGoal: {
                        id: "editGoal",
                        onClick: function() {
                            return _this.scorecardService.setGoalState(goal.id, "Editing");
                        },
                        labelKey: "Metrics_Tooltip_Edit_Metric",
                        iconName: "edit",
                        iconType: "pbi",
                        disabled: !(null === (_a = null == capabilities ? void 0 : capabilities.editGoal) || void 0 === _a ? void 0 : _a.enabled),
                        disabledTooltipKey: null === (_b = null == capabilities ? void 0 : capabilities.editGoal) || void 0 === _b ? void 0 : _b.disabledMessageKey
                    },
                    toggleFollow: {
                        id: "toggleFollow",
                        onClick: function() {
                            goal.isFollowed ? _this.scorecardService.unfollowGoal(goal.id) : _this.scorecardService.followGoal(goal.id);
                        },
                        labelKey: goal.isFollowed ? "Metrics_Follow_Goals_Unfollow_This_Metric" : "Metrics_Follow_Goals_Follow_This_Metric",
                        iconName: goal.isFollowed ? "alert_16_filled" : "alert_16_regular",
                        iconType: "tri",
                        hidden: !capabilities.followGoal
                    },
                    addSubGoal: {
                        id: "addSubGoal",
                        onClick: function() {
                            _this.scorecardService.addSubGoal(goal.id), _this.expansionService.expandGoal(goal.id);
                        },
                        labelKey: "NewSubmetric",
                        iconName: "add-multiple",
                        iconType: "pbi",
                        hidden: scorecard_helper.q.computeGoalLevel(this.scorecardService.getCurrentScorecard().goals, goal) >= constants.gT.MaxSubGoals,
                        disabled: !(null === (_c = capabilities.createSubgoal) || void 0 === _c ? void 0 : _c.enabled),
                        disabledTooltipKey: null === (_d = capabilities.createSubgoal) || void 0 === _d ? void 0 : _d.disabledMessageKey
                    },
                    deleteGoal: {
                        id: "deleteGoal",
                        onClick: function() {
                            return _this.scorecardService.deleteGoal(goal.id);
                        },
                        labelKey: goal.isLinked ? "Metrics_LinkedMetrics_RemoveLinkedMetric" : "Metrics_Tooltip_Delete_Metric",
                        iconName: "delete",
                        iconType: "pbi",
                        hidden: !capabilities.deleteGoal
                    },
                    goToLinkedSource: {
                        id: "goToLinkedSource",
                        onClick: function() {
                            return _this.scorecardService.openLinkedSourceScorecard(goal);
                        },
                        labelKey: "Metrics_LinkedMetrics_GoToSource",
                        iconName: "open_16_regular",
                        iconType: "tri",
                        hidden: !goal.isLinked
                    },
                    openContextMenu: {
                        id: "openContextMenu",
                        onClick: function() {
                            return debug.fF.assertFail("OpenContextMenu must be set up in template");
                        },
                        labelKey: "Options_Menu",
                        iconName: "pbi-glyph-more-vertical",
                        iconType: "mat"
                    }
                };
            }, GoalRowService.prototype.isClickMultiselect = function(event) {
                switch (this.scorecardSelectionMode) {
                  case "multiple":
                    return !0;

                  case "ctrl":
                    return null == event ? void 0 : event.ctrlKey;

                  default:
                    return !1;
                }
            }, GoalRowService.\u0275fac = function(t) {
                return new (t || GoalRowService)(core["\u0275\u0275inject"](scorecard_service.G), core["\u0275\u0275inject"](scorecard_capability_service.Nw), core["\u0275\u0275inject"](pbi_overlay_service._), core["\u0275\u0275inject"](goal_connection_service.D), core["\u0275\u0275inject"](ScorecardExpansionService), core["\u0275\u0275inject"](feature_switch_service.vZ));
            }, GoalRowService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: GoalRowService,
                factory: GoalRowService.\u0275fac
            }), GoalRowService;
        }(), common = __webpack_require__(77476), icon = __webpack_require__(44408), pbi_icon_component = __webpack_require__(86663), pbi_tooltip_directive = __webpack_require__(36858), tri_svg_icon_component = __webpack_require__(74913), localize_pipe = __webpack_require__(85102), _c0 = [ "*" ], TooltipWrapperComponent = function() {
            function TooltipWrapperComponent() {
                this.disableTooltip = !1;
            }
            return TooltipWrapperComponent.\u0275fac = function(t) {
                return new (t || TooltipWrapperComponent);
            }, TooltipWrapperComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: TooltipWrapperComponent,
                selectors: [ [ "tooltip-wrapper" ] ],
                inputs: {
                    tooltipKey: "tooltipKey",
                    disableTooltip: "disableTooltip"
                },
                ngContentSelectors: _c0,
                decls: 3,
                vars: 4,
                consts: [ [ 1, "tooltip-wrapper", 3, "pbiTooltipDisabled", "pbiTooltip" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275projectionDef"](), core["\u0275\u0275elementStart"](0, "div", 0), 
                    core["\u0275\u0275pipe"](1, "localize"), core["\u0275\u0275projection"](2), core["\u0275\u0275elementEnd"]()), 
                    2 & rf && core["\u0275\u0275property"]("pbiTooltipDisabled", ctx.disableTooltip)("pbiTooltip", ctx.tooltipKey ? core["\u0275\u0275pipeBind1"](1, 2, ctx.tooltipKey) : void 0);
                },
                dependencies: [ pbi_tooltip_directive.V, localize_pipe.F ],
                styles: [ "[_nghost-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;flex:1;display:flex}" ],
                changeDetection: 0
            }), TooltipWrapperComponent;
        }();
        function GoalActionsCellComponent_div_0_ng_container_1_button_1_span_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "span", 11), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r8 = core["\u0275\u0275nextContext"](4);
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"](" ", ctx_r8.goal.notesCount, " ");
            }
        }
        function GoalActionsCellComponent_div_0_ng_container_1_button_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r11 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 8), core["\u0275\u0275listener"]("click", function($event) {
                    core["\u0275\u0275restoreView"](_r11);
                    var action_r4 = core["\u0275\u0275nextContext"]().$implicit;
                    return core["\u0275\u0275resetView"](action_r4.onClick($event));
                }), core["\u0275\u0275pipe"](1, "localize"), core["\u0275\u0275element"](2, "tri-svg-icon", 9), 
                core["\u0275\u0275template"](3, GoalActionsCellComponent_div_0_ng_container_1_button_1_span_3_Template, 2, 1, "span", 10), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var tmp_1_0, action_r4 = core["\u0275\u0275nextContext"]().$implicit, ctx_r5 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275classProp"]("show-btn", ctx_r5.goal.notesCount > 0), core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind1"](1, 6, null !== (tmp_1_0 = action_r4.iconTooltipKey) && void 0 !== tmp_1_0 ? tmp_1_0 : action_r4.labelKey))("disabled", action_r4.disabled), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("name", action_r4.iconName), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r5.goal.notesCount > 0);
            }
        }
        function GoalActionsCellComponent_div_0_ng_container_1_button_2_Template(rf, ctx) {
            if (1 & rf) {
                var _r15 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 12, 13), core["\u0275\u0275listener"]("click", function($event) {
                    core["\u0275\u0275restoreView"](_r15);
                    var _r13 = core["\u0275\u0275reference"](1), ctx_r14 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r14.onContextMenuClick($event, _r13));
                }), core["\u0275\u0275pipe"](2, "localize"), core["\u0275\u0275element"](3, "mat-icon", 14), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var tmp_1_0, action_r4 = core["\u0275\u0275nextContext"]().$implicit, ctx_r6 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275classProp"]("space-btn", ctx_r6.goal.notesCount > 0), core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind1"](2, 4, null !== (tmp_1_0 = action_r4.iconTooltipKey) && void 0 !== tmp_1_0 ? tmp_1_0 : action_r4.labelKey))("disabled", action_r4.disabled);
            }
        }
        var goal_actions_cell_component_c0 = function(a0) {
            return {
                action: a0
            };
        };
        function GoalActionsCellComponent_div_0_ng_container_1_ng_container_3_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275elementContainer"](0, 15), 2 & rf) {
                var action_r4 = core["\u0275\u0275nextContext"]().$implicit;
                core["\u0275\u0275nextContext"](2);
                var _r1 = core["\u0275\u0275reference"](2);
                core["\u0275\u0275property"]("ngTemplateOutlet", _r1)("ngTemplateOutletContext", core["\u0275\u0275pureFunction1"](2, goal_actions_cell_component_c0, action_r4));
            }
        }
        function GoalActionsCellComponent_div_0_ng_container_1_Template(rf, ctx) {
            1 & rf && (core["\u0275\u0275elementContainerStart"](0, 4), core["\u0275\u0275template"](1, GoalActionsCellComponent_div_0_ng_container_1_button_1_Template, 4, 8, "button", 5), 
            core["\u0275\u0275template"](2, GoalActionsCellComponent_div_0_ng_container_1_button_2_Template, 4, 6, "button", 6), 
            core["\u0275\u0275template"](3, GoalActionsCellComponent_div_0_ng_container_1_ng_container_3_Template, 1, 4, "ng-container", 7), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf && (core["\u0275\u0275property"]("ngSwitch", ctx.$implicit.id), 
            core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngSwitchCase", "openNotes"), 
            core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngSwitchCase", "openContextMenu"));
        }
        function GoalActionsCellComponent_div_0_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 2), core["\u0275\u0275template"](1, GoalActionsCellComponent_div_0_ng_container_1_Template, 4, 3, "ng-container", 3), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngForOf", ctx_r0.actions);
            }
        }
        function GoalActionsCellComponent_ng_template_1_tooltip_wrapper_0_mat_icon_3_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "mat-icon", 21), 2 & rf) {
                var action_r18 = core["\u0275\u0275nextContext"](2).action;
                core["\u0275\u0275property"]("fontIcon", action_r18.iconName);
            }
        }
        function GoalActionsCellComponent_ng_template_1_tooltip_wrapper_0_pbi_icon_4_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "pbi-icon", 22), 2 & rf) {
                var action_r18 = core["\u0275\u0275nextContext"](2).action;
                core["\u0275\u0275property"]("name", action_r18.iconName);
            }
        }
        function GoalActionsCellComponent_ng_template_1_tooltip_wrapper_0_tri_svg_icon_5_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "tri-svg-icon", 9), 2 & rf) {
                var action_r18 = core["\u0275\u0275nextContext"](2).action;
                core["\u0275\u0275property"]("name", action_r18.iconName);
            }
        }
        function GoalActionsCellComponent_ng_template_1_tooltip_wrapper_0_Template(rf, ctx) {
            if (1 & rf) {
                var _r28 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "tooltip-wrapper", 17)(1, "button", 8), core["\u0275\u0275listener"]("click", function($event) {
                    core["\u0275\u0275restoreView"](_r28);
                    var action_r18 = core["\u0275\u0275nextContext"]().action;
                    return core["\u0275\u0275resetView"](action_r18.onClick($event));
                }), core["\u0275\u0275pipe"](2, "localize"), core["\u0275\u0275template"](3, GoalActionsCellComponent_ng_template_1_tooltip_wrapper_0_mat_icon_3_Template, 1, 1, "mat-icon", 18), 
                core["\u0275\u0275template"](4, GoalActionsCellComponent_ng_template_1_tooltip_wrapper_0_pbi_icon_4_Template, 1, 1, "pbi-icon", 19), 
                core["\u0275\u0275template"](5, GoalActionsCellComponent_ng_template_1_tooltip_wrapper_0_tri_svg_icon_5_Template, 1, 1, "tri-svg-icon", 20), 
                core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var tmp_1_0, action_r18 = core["\u0275\u0275nextContext"]().action;
                core["\u0275\u0275property"]("tooltipKey", null == action_r18 ? null : action_r18.disabledTooltipKey), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind1"](2, 6, null !== (tmp_1_0 = action_r18.iconTooltipKey) && void 0 !== tmp_1_0 ? tmp_1_0 : action_r18.labelKey))("disabled", action_r18.disabled), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", "mat" === action_r18.iconType), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", "pbi" === action_r18.iconType), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", "tri" === action_r18.iconType);
            }
        }
        function GoalActionsCellComponent_ng_template_1_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275template"](0, GoalActionsCellComponent_ng_template_1_tooltip_wrapper_0_Template, 6, 8, "tooltip-wrapper", 16), 
            2 & rf && core["\u0275\u0275property"]("ngIf", ctx.action);
        }
        var GoalActionsCellComponent = function(_super) {
            function GoalActionsCellComponent(goalRowService, changeDetector) {
                var _this = _super.call(this) || this;
                return _this.goalRowService = goalRowService, _this.changeDetector = changeDetector, 
                _this.showActionIcons = !0, _this.goalRowService.contextMenuOpenGoalId$.pipe((0, 
                distinctUntilChanged.x)(), (0, takeUntil.R)(_this.onDestroy$)).subscribe(function(openGoalId) {
                    _this.contextMenuOpen = _this.goal && openGoalId === _this.goal.id, _this.changeDetector.markForCheck();
                }), _this;
            }
            return (0, tslib_es6.__extends)(GoalActionsCellComponent, _super), GoalActionsCellComponent.prototype.ngOnChanges = function(changes) {
                (changes.goal || changes.isEditMode || changes.showActionIcons) && (this.actions = this.goalRowService.getGoalActionIcons(this.goal, this.isEditMode, this.showActionIcons)), 
                _super.prototype.ngOnChanges.call(this, changes);
            }, GoalActionsCellComponent.prototype.onContextMenuClick = function(event, elementRef) {
                this.goalRowService.onContextMenuClick(this.goal, event, elementRef, this.isEditMode, this.showActionIcons);
            }, GoalActionsCellComponent.\u0275fac = function(t) {
                return new (t || GoalActionsCellComponent)(core["\u0275\u0275directiveInject"](GoalRowService), core["\u0275\u0275directiveInject"](core.ChangeDetectorRef));
            }, GoalActionsCellComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: GoalActionsCellComponent,
                selectors: [ [ "goal-actions-cell" ] ],
                hostVars: 2,
                hostBindings: function(rf, ctx) {
                    2 & rf && core["\u0275\u0275classProp"]("context-menu-open", ctx.contextMenuOpen);
                },
                inputs: {
                    goal: "goal",
                    isEditMode: "isEditMode",
                    showActionIcons: "showActionIcons"
                },
                features: [ core["\u0275\u0275InheritDefinitionFeature"], core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 3,
                vars: 1,
                consts: [ [ "class", "goal-actions", 4, "ngIf" ], [ "actionIcon", "" ], [ 1, "goal-actions" ], [ 3, "ngSwitch", 4, "ngFor", "ngForOf" ], [ 3, "ngSwitch" ], [ "class", "action-btn", "mat-icon-button", "", 3, "show-btn", "pbiTooltip", "disabled", "click", 4, "ngSwitchCase" ], [ "class", "action-btn context-menu-btn", "mat-icon-button", "", 3, "space-btn", "pbiTooltip", "disabled", "click", 4, "ngSwitchCase" ], [ 3, "ngTemplateOutlet", "ngTemplateOutletContext", 4, "ngSwitchDefault" ], [ "mat-icon-button", "", 1, "action-btn", 3, "pbiTooltip", "disabled", "click" ], [ "tri-svg-icon-16", "", 1, "tri-svg", 3, "name" ], [ "class", "notes-count", 4, "ngIf" ], [ 1, "notes-count" ], [ "mat-icon-button", "", 1, "action-btn", "context-menu-btn", 3, "pbiTooltip", "disabled", "click" ], [ "contextMenuBtn", "" ], [ "fontIcon", "pbi-glyph-more-vertical", 1, "glyph-small" ], [ 3, "ngTemplateOutlet", "ngTemplateOutletContext" ], [ 3, "tooltipKey", 4, "ngIf" ], [ 3, "tooltipKey" ], [ "class", "glyphicon glyph-small", 3, "fontIcon", 4, "ngIf" ], [ "size", "small", "class", "icon", 3, "name", 4, "ngIf" ], [ "tri-svg-icon-16", "", "class", "tri-svg", 3, "name", 4, "ngIf" ], [ 1, "glyphicon", "glyph-small", 3, "fontIcon" ], [ "size", "small", 1, "icon", 3, "name" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275template"](0, GoalActionsCellComponent_div_0_Template, 2, 1, "div", 0), 
                    core["\u0275\u0275template"](1, GoalActionsCellComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, core["\u0275\u0275templateRefExtractor"])), 
                    2 & rf && core["\u0275\u0275property"]("ngIf", "Saving" !== ctx.goal.state && "Deleting" !== ctx.goal.state);
                },
                dependencies: [ common.NgForOf, common.NgIf, common.NgTemplateOutlet, common.NgSwitch, common.NgSwitchCase, common.NgSwitchDefault, icon.Hw, pbi_icon_component._, pbi_tooltip_directive.V, tri_svg_icon_component.M, TooltipWrapperComponent, localize_pipe.F ],
                styles: [ "[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .goal-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]   .goal-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{position:relative;padding:0;border:none;background:none;height:100%;width:32px}[_nghost-%COMP%]   .goal-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:rgba(0,0,0,.05);color:inherit}[_nghost-%COMP%]   .goal-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before{vertical-align:middle}[_nghost-%COMP%]   .goal-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{margin-top:-5px}[_nghost-%COMP%]   .goal-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .notes-count[_ngcontent-%COMP%]{position:absolute;top:12px;right:0;border-radius:30px;padding:2px 4px;min-width:8px;min-height:8px;font-size:var(--xs-font-size);font-family:var(--fluent-font-family);font-weight:var(--font-weight-regular);background:var(--fluent-theme-primary-color);color:var(--text-primary-content-color-hc)}[_nghost-%COMP%]   .goal-actions[_ngcontent-%COMP%]   .action-btn.show-btn[_ngcontent-%COMP%]{display:block;visibility:visible}[_nghost-%COMP%]   .goal-actions[_ngcontent-%COMP%]   .action-btn.space-btn[_ngcontent-%COMP%]{display:block}.context-menu-open[_nghost-%COMP%]   .goal-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:block!important;visibility:visible!important}.context-menu-open[_nghost-%COMP%]   .goal-actions[_ngcontent-%COMP%]   .action-btn.context-menu-btn[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.05);color:inherit}" ],
                changeDetection: 0
            }), GoalActionsCellComponent;
        }(rx_component.w), goal_change_cell_component = __webpack_require__(95594), date_utils = __webpack_require__(44603), localization_service = __webpack_require__(65181);
        function GoalDueDateCellComponent_div_0_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 2), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("pbiTooltip", ctx_r0.completionDate), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275textInterpolate1"](" ", ctx_r0.completionDate, "\n");
            }
        }
        function GoalDueDateCellComponent_ng_template_1_Template(rf, ctx) {
            1 & rf && (core["\u0275\u0275elementStart"](0, "div", 3), core["\u0275\u0275text"](1, "\u2014"), 
            core["\u0275\u0275elementEnd"]());
        }
        var GoalDueDateCellComponent = function() {
            function GoalDueDateCellComponent(localizationService) {
                this.localizationService = localizationService, this.formatOptions = {
                    day: "numeric",
                    month: "short",
                    year: "numeric"
                };
            }
            return GoalDueDateCellComponent.prototype.ngOnChanges = function() {
                if (this.goal.completionDate) {
                    var locale = this.localizationService.currentLanguageLocale;
                    this.completionDate = date_utils.E.treatAsLocalDate(new Date(this.goal.completionDate)).toLocaleDateString(locale, this.formatOptions);
                }
            }, GoalDueDateCellComponent.\u0275fac = function(t) {
                return new (t || GoalDueDateCellComponent)(core["\u0275\u0275directiveInject"](localization_service.o));
            }, GoalDueDateCellComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: GoalDueDateCellComponent,
                selectors: [ [ "goal-due-date-cell" ] ],
                inputs: {
                    goal: "goal",
                    formatOptions: "formatOptions"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 3,
                vars: 2,
                consts: [ [ "class", "completion-date", 3, "pbiTooltip", 4, "ngIf", "ngIfElse" ], [ "noValueDash", "" ], [ 1, "completion-date", 3, "pbiTooltip" ], [ 1, "no-value-dash" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275template"](0, GoalDueDateCellComponent_div_0_Template, 2, 2, "div", 0), 
                    core["\u0275\u0275template"](1, GoalDueDateCellComponent_ng_template_1_Template, 2, 0, "ng-template", null, 1, core["\u0275\u0275templateRefExtractor"])), 
                    2 & rf) {
                        var _r1 = core["\u0275\u0275reference"](2);
                        core["\u0275\u0275property"]("ngIf", ctx.completionDate)("ngIfElse", _r1);
                    }
                },
                dependencies: [ common.NgIf, pbi_tooltip_directive.V ],
                styles: [ "[_nghost-%COMP%]   .completion-date[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .no-value-dash[_ngcontent-%COMP%]{font-size:var(--lg-font-size);font-weight:var(--font-weight-regular);overflow:hidden}" ],
                changeDetection: 0
            }), GoalDueDateCellComponent;
        }();
        function GoalNameCellComponent_pbi_icon_4_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "pbi-icon", 4), 2 & rf) {
                core["\u0275\u0275nextContext"]();
                var _r1 = core["\u0275\u0275reference"](6);
                core["\u0275\u0275property"]("pbiTooltip", _r1);
            }
        }
        function GoalNameCellComponent_ng_template_5_div_1_Template(rf, ctx) {
            1 & rf && (core["\u0275\u0275elementStart"](0, "div"), core["\u0275\u0275text"](1), 
            core["\u0275\u0275pipe"](2, "localize"), core["\u0275\u0275elementEnd"]()), 2 & rf && (core["\u0275\u0275advance"](1), 
            core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](2, 1, "Metrics_Tooltip_LinkedHierarchical"), " "));
        }
        function GoalNameCellComponent_ng_template_5_ng_template_2_div_0_Template(rf, ctx) {
            1 & rf && (core["\u0275\u0275elementStart"](0, "div")(1, "span", 9), core["\u0275\u0275text"](2), 
            core["\u0275\u0275pipe"](3, "localize"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275text"](4), 
            core["\u0275\u0275pipe"](5, "localize"), core["\u0275\u0275elementEnd"]()), 2 & rf && (core["\u0275\u0275advance"](2), 
            core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](3, 2, "CurrentValue")), 
            core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](5, 4, "Metrics_Tooltip_ValueAddedManually"), " "));
        }
        function GoalNameCellComponent_ng_template_5_ng_template_2_div_1_Template(rf, ctx) {
            1 & rf && (core["\u0275\u0275elementStart"](0, "div")(1, "span", 9), core["\u0275\u0275text"](2), 
            core["\u0275\u0275pipe"](3, "localize"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275text"](4), 
            core["\u0275\u0275pipe"](5, "localize"), core["\u0275\u0275elementEnd"]()), 2 & rf && (core["\u0275\u0275advance"](2), 
            core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](3, 2, "Role_DisplayName_TargetValue")), 
            core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](5, 4, "Metrics_Tooltip_ValueAddedManually"), " "));
        }
        function GoalNameCellComponent_ng_template_5_ng_template_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275template"](0, GoalNameCellComponent_ng_template_5_ng_template_2_div_0_Template, 6, 6, "div", 8), 
            core["\u0275\u0275template"](1, GoalNameCellComponent_ng_template_5_ng_template_2_div_1_Template, 6, 6, "div", 8)), 
            2 & rf) {
                var ctx_r5 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275property"]("ngIf", !ctx_r5.goal.valueConnection), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275property"]("ngIf", !ctx_r5.goal.targetConnection);
            }
        }
        function GoalNameCellComponent_ng_template_5_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 5), core["\u0275\u0275template"](1, GoalNameCellComponent_ng_template_5_div_1_Template, 3, 3, "div", 6), 
            core["\u0275\u0275template"](2, GoalNameCellComponent_ng_template_5_ng_template_2_Template, 2, 2, "ng-template", null, 7, core["\u0275\u0275templateRefExtractor"]), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var _r4 = core["\u0275\u0275reference"](3), ctx_r2 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r2.goal.isLinked)("ngIfElse", _r4);
            }
        }
        var GoalNameCellComponent = function() {
            function GoalNameCellComponent(goalRowService, featureSwitches) {
                this.goalRowService = goalRowService, this.featureSwitches = featureSwitches, this.boldName = !1, 
                this.innerIndent = 0;
            }
            return GoalNameCellComponent.prototype.ngOnChanges = function(changes) {
                var _a;
                changes.scorecard && (this.showHierarchyTooltips = !_.isEmpty(null === (_a = this.scorecard) || void 0 === _a ? void 0 : _a.hierarchyPaths) && !this.featureSwitches.featureSwitches.goalsHierarchiesHideInfoTooltips);
            }, GoalNameCellComponent.prototype.onNameClick = function(event) {
                this.goalRowService.onNameClick(this.goal, event);
            }, GoalNameCellComponent.\u0275fac = function(t) {
                return new (t || GoalNameCellComponent)(core["\u0275\u0275directiveInject"](GoalRowService), core["\u0275\u0275directiveInject"](feature_switch_service.vZ));
            }, GoalNameCellComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: GoalNameCellComponent,
                selectors: [ [ "goal-name-cell" ] ],
                inputs: {
                    goal: "goal",
                    scorecard: "scorecard",
                    boldName: "boldName",
                    innerIndent: "innerIndent"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 7,
                vars: 7,
                consts: [ [ "data-testid", "goal-name-box", 1, "name-box", 3, "pbiTooltip", "click" ], [ 1, "inner-indent" ], [ "class", "name-info", "name", "info", "size", "mini", 3, "pbiTooltip", 4, "ngIf" ], [ "infoTooltip", "" ], [ "name", "info", "size", "mini", 1, "name-info", 3, "pbiTooltip" ], [ 1, "goal-info-tooltip" ], [ 4, "ngIf", "ngIfElse" ], [ "manualTooltip", "" ], [ 4, "ngIf" ], [ 1, "tooltip-value-label" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "button", 0), core["\u0275\u0275listener"]("click", function($event) {
                        return ctx.onNameClick($event);
                    }), core["\u0275\u0275element"](1, "div", 1), core["\u0275\u0275elementStart"](2, "span"), 
                    core["\u0275\u0275text"](3), core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](4, GoalNameCellComponent_pbi_icon_4_Template, 1, 1, "pbi-icon", 2), 
                    core["\u0275\u0275template"](5, GoalNameCellComponent_ng_template_5_Template, 4, 2, "ng-template", null, 3, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275elementEnd"]()), 2 & rf && (core["\u0275\u0275classProp"]("bold-name", ctx.boldName), 
                    core["\u0275\u0275property"]("pbiTooltip", ctx.goal.name), core["\u0275\u0275advance"](1), 
                    core["\u0275\u0275styleProp"]("width", ctx.innerIndent + "px"), core["\u0275\u0275advance"](2), 
                    core["\u0275\u0275textInterpolate"](ctx.goal.name), core["\u0275\u0275advance"](1), 
                    core["\u0275\u0275property"]("ngIf", ctx.showHierarchyTooltips && (ctx.goal.isLinked || !ctx.goal.valueConnection || !ctx.goal.targetConnection)));
                },
                dependencies: [ common.NgIf, pbi_icon_component._, pbi_tooltip_directive.V, localize_pipe.F ],
                styles: [ "[_nghost-%COMP%]{display:flex;flex:1;height:100%;overflow:hidden}[_nghost-%COMP%]   .name-box[_ngcontent-%COMP%]{flex:1;border:none;padding:0;background-color:transparent;overflow:hidden;white-space:break-spaces;text-overflow:ellipsis;text-align:left}[_nghost-%COMP%]   .name-box[_ngcontent-%COMP%]:hover{text-decoration:underline}[_nghost-%COMP%]   .name-box.bold-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:var(--font-weight-semi-bold)}[_nghost-%COMP%]   .name-box[_ngcontent-%COMP%]   .name-info[_ngcontent-%COMP%]{margin:0 6px}[_nghost-%COMP%]   .name-box[_ngcontent-%COMP%]   .inner-indent[_ngcontent-%COMP%]{display:inline-block}" ],
                changeDetection: 0
            }), GoalNameCellComponent;
        }(), user_details_host_component = __webpack_require__(223), goal_owners_cell_component_c0 = function(a0) {
            return {
                userEmail: a0
            };
        };
        function GoalOwnersCellComponent_div_0_user_details_host_1_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "user-details-host", 5), 2 & rf) {
                var ctx_r3 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275property"]("details", core["\u0275\u0275pureFunction1"](3, goal_owners_cell_component_c0, ctx_r3.owners[0]))("showUserInfo", !0)("showTooltip", !0);
            }
        }
        function GoalOwnersCellComponent_div_0_ng_template_2_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "avatar-row", 6), 2 & rf) {
                var ctx_r5 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275property"]("emails", ctx_r5.owners)("numAvatarsToShow", ctx_r5.avatarRowCount)("rowStyle", ctx_r5.rowStyle)("avatarSize", ctx_r5.avatarSize);
            }
        }
        function GoalOwnersCellComponent_div_0_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 2), core["\u0275\u0275template"](1, GoalOwnersCellComponent_div_0_user_details_host_1_Template, 1, 5, "user-details-host", 3), 
            core["\u0275\u0275template"](2, GoalOwnersCellComponent_div_0_ng_template_2_Template, 1, 4, "ng-template", null, 4, core["\u0275\u0275templateRefExtractor"]), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var _r4 = core["\u0275\u0275reference"](3), ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", 1 === ctx_r0.owners.length && !ctx_r0.alwaysShowAvatarRow)("ngIfElse", _r4);
            }
        }
        function GoalOwnersCellComponent_ng_template_1_Template(rf, ctx) {
            1 & rf && (core["\u0275\u0275elementStart"](0, "div", 2), core["\u0275\u0275text"](1, "\u2014"), 
            core["\u0275\u0275elementEnd"]());
        }
        var GoalOwnersCellComponent = function() {
            function GoalOwnersCellComponent() {
                this.rowStyle = "spread", this.avatarSize = "medium", this.avatarRowCount = 4;
            }
            return GoalOwnersCellComponent.prototype.ngOnChanges = function(changes) {
                var _a;
                changes.goal && (this.owners = this.goal.owner ? [ this.goal.owner ] : [], this.goal.additionalOwners && (_a = this.owners).push.apply(_a, this.goal.additionalOwners.map(function(owner) {
                    return owner.userPrincipalName;
                })));
            }, GoalOwnersCellComponent.\u0275fac = function(t) {
                return new (t || GoalOwnersCellComponent);
            }, GoalOwnersCellComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: GoalOwnersCellComponent,
                selectors: [ [ "goal-owners-cell" ] ],
                inputs: {
                    goal: "goal",
                    alwaysShowAvatarRow: "alwaysShowAvatarRow",
                    rowStyle: "rowStyle",
                    avatarSize: "avatarSize",
                    avatarRowCount: "avatarRowCount"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 3,
                vars: 2,
                consts: [ [ "class", "content", 4, "ngIf", "ngIfElse" ], [ "emptyOwner", "" ], [ 1, "content" ], [ 3, "details", "showUserInfo", "showTooltip", 4, "ngIf", "ngIfElse" ], [ "hasMultipleOwners", "" ], [ 3, "details", "showUserInfo", "showTooltip" ], [ 3, "emails", "numAvatarsToShow", "rowStyle", "avatarSize" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275template"](0, GoalOwnersCellComponent_div_0_Template, 4, 2, "div", 0), 
                    core["\u0275\u0275template"](1, GoalOwnersCellComponent_ng_template_1_Template, 2, 0, "ng-template", null, 1, core["\u0275\u0275templateRefExtractor"])), 
                    2 & rf) {
                        var _r1 = core["\u0275\u0275reference"](2);
                        core["\u0275\u0275property"]("ngIf", (null == ctx.owners ? null : ctx.owners.length) > 0)("ngIfElse", _r1);
                    }
                },
                dependencies: [ common.NgIf, user_details_host_component.s, avatar_row_component.c ],
                styles: [ "[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]     .user-info{color:var(--scorecard-tableRowForegroundColor)!important;font-family:var(--scorecard-fontFamily)}" ],
                changeDetection: 0
            }), GoalOwnersCellComponent;
        }(), goal_sparkline_cell_component = __webpack_require__(76654), goal_helper = __webpack_require__(125), status_icon_component = __webpack_require__(77971), GoalStatusCellComponent = function() {
            function GoalStatusCellComponent(scorecardService) {
                this.scorecardService = scorecardService;
            }
            return GoalStatusCellComponent.prototype.ngOnChanges = function(changes) {
                changes.goal && (this.status = goal_helper.r.buildCurrentGoalValue(this.goal).status, 
                this.goalStatuses = this.scorecardService.getGoalStatuses(this.goal));
            }, GoalStatusCellComponent.\u0275fac = function(t) {
                return new (t || GoalStatusCellComponent)(core["\u0275\u0275directiveInject"](scorecard_service.G));
            }, GoalStatusCellComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: GoalStatusCellComponent,
                selectors: [ [ "goal-status-cell" ] ],
                inputs: {
                    goal: "goal"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 1,
                vars: 2,
                consts: [ [ 3, "status", "goalStatuses" ] ],
                template: function(rf, ctx) {
                    1 & rf && core["\u0275\u0275element"](0, "status-icon", 0), 2 & rf && core["\u0275\u0275property"]("status", ctx.status)("goalStatuses", ctx.goalStatuses);
                },
                dependencies: [ status_icon_component.m ],
                styles: [ "[_nghost-%COMP%]{display:flex;flex:1;height:100%;overflow:hidden;align-items:center;justify-content:center}" ],
                changeDetection: 0
            }), GoalStatusCellComponent;
        }(), goal_value_cell_component = __webpack_require__(85953), scorecard_sort_helper = __webpack_require__(77695), localize_directive = __webpack_require__(59968), scorecard_column_settings_helper = __webpack_require__(61088), goals_details_pane_launcher_service = __webpack_require__(53678), localize_tooltip_directive = __webpack_require__(50057), divider = __webpack_require__(57746), legacy_menu = __webpack_require__(55710), sort_icon_component_c0 = function(a0, a1, a2) {
            return {
                hide: a0,
                rotate180: a1,
                "reserve-space": a2
            };
        }, SortIconComponent = function() {
            function SortIconComponent() {
                this.reserveSpaceWhenHidden = !0;
            }
            return SortIconComponent.\u0275fac = function(t) {
                return new (t || SortIconComponent);
            }, SortIconComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: SortIconComponent,
                selectors: [ [ "sort-icon" ] ],
                inputs: {
                    hidden: "hidden",
                    upArrow: "upArrow",
                    reserveSpaceWhenHidden: "reserveSpaceWhenHidden"
                },
                decls: 1,
                vars: 5,
                consts: [ [ "fontIcon", "pbi-glyph-sortup", 1, "glyphicon", "glyph-mini", "sort-icon", 3, "ngClass" ] ],
                template: function(rf, ctx) {
                    1 & rf && core["\u0275\u0275element"](0, "mat-icon", 0), 2 & rf && core["\u0275\u0275property"]("ngClass", core["\u0275\u0275pureFunction3"](1, sort_icon_component_c0, ctx.hidden, ctx.upArrow, ctx.reserveSpaceWhenHidden));
                },
                dependencies: [ common.NgClass, icon.Hw ],
                styles: [ ".sort-icon[_ngcontent-%COMP%]{height:12px;width:12px;margin-left:12px}.sort-icon.rotate180[_ngcontent-%COMP%]{transform:rotate(180deg)}.sort-icon.hide[_ngcontent-%COMP%]{display:none}.sort-icon.hide.reserve-space[_ngcontent-%COMP%]{display:inline;visibility:hidden}" ],
                changeDetection: 0
            }), SortIconComponent;
        }();
        function ScorecardColumnContextMenuComponent_ng_container_0_sort_icon_5_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "sort-icon", 24), 2 & rf) {
                var ctx_r2 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275property"]("upArrow", !ctx_r2.sortType.sortAscending);
            }
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_ng_template_6_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "pbi-icon", 25);
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_span_12_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "span", 26);
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_span_13_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "span", 27);
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_span_14_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "span", 28);
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_span_15_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "span", 29);
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_span_16_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "span");
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_span_19_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "span", 30);
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_span_20_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "span", 31);
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_span_21_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "span", 32);
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_span_22_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "span", 33);
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_span_23_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "span");
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_button_25_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "button", 34), core["\u0275\u0275element"](1, "span", 35)(2, "pbi-icon", 36), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                core["\u0275\u0275nextContext"]();
                var _r17 = core["\u0275\u0275reference"](27);
                core["\u0275\u0275property"]("matMenuTriggerFor", _r17);
            }
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_button_28_Template(rf, ctx) {
            if (1 & rf) {
                var _r25 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 37), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r25);
                    var columnSettings_r1 = core["\u0275\u0275nextContext"]().ngIf, ctx_r24 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r24.changeColumnSettings(ctx_r24.moveColumnLeft, columnSettings_r1));
                }), core["\u0275\u0275element"](1, "span", 38), core["\u0275\u0275elementEnd"]();
            }
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_button_29_Template(rf, ctx) {
            if (1 & rf) {
                var _r28 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 37), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r28);
                    var columnSettings_r1 = core["\u0275\u0275nextContext"]().ngIf, ctx_r27 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r27.changeColumnSettings(ctx_r27.moveColumnRight, columnSettings_r1));
                }), core["\u0275\u0275element"](1, "span", 39), core["\u0275\u0275elementEnd"]();
            }
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_button_30_Template(rf, ctx) {
            if (1 & rf) {
                var _r31 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 37), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r31);
                    var columnSettings_r1 = core["\u0275\u0275nextContext"]().ngIf, ctx_r30 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r30.changeColumnSettings(ctx_r30.hideColumn, columnSettings_r1));
                }), core["\u0275\u0275element"](1, "span", 40), core["\u0275\u0275elementEnd"]();
            }
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_ng_container_32_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275elementContainer"](0);
        }
        function ScorecardColumnContextMenuComponent_ng_container_0_ng_template_33_Template(rf, ctx) {
            if (1 & rf) {
                var _r34 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 41), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r34);
                    var ctx_r33 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r33.showHideColumns());
                }), core["\u0275\u0275element"](1, "span", 42), core["\u0275\u0275elementEnd"]();
            }
        }
        var scorecard_column_context_menu_component_c0 = function(a0) {
            return {
                hidden: a0
            };
        };
        function ScorecardColumnContextMenuComponent_ng_container_0_Template(rf, ctx) {
            if (1 & rf) {
                var _r36 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "button", 1), 
                core["\u0275\u0275pipe"](2, "localize"), core["\u0275\u0275element"](3, "span", 2), 
                core["\u0275\u0275pipe"](4, "localize"), core["\u0275\u0275template"](5, ScorecardColumnContextMenuComponent_ng_container_0_sort_icon_5_Template, 1, 1, "sort-icon", 3), 
                core["\u0275\u0275template"](6, ScorecardColumnContextMenuComponent_ng_container_0_ng_template_6_Template, 1, 0, "ng-template", null, 4, core["\u0275\u0275templateRefExtractor"]), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](8, "mat-menu", 5, 6)(10, "button", 7), 
                core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r36);
                    var ctx_r35 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r35.sort(!0));
                }), core["\u0275\u0275element"](11, "pbi-icon", 8), core["\u0275\u0275template"](12, ScorecardColumnContextMenuComponent_ng_container_0_span_12_Template, 1, 0, "span", 9), 
                core["\u0275\u0275template"](13, ScorecardColumnContextMenuComponent_ng_container_0_span_13_Template, 1, 0, "span", 10), 
                core["\u0275\u0275template"](14, ScorecardColumnContextMenuComponent_ng_container_0_span_14_Template, 1, 0, "span", 11), 
                core["\u0275\u0275template"](15, ScorecardColumnContextMenuComponent_ng_container_0_span_15_Template, 1, 0, "span", 12), 
                core["\u0275\u0275template"](16, ScorecardColumnContextMenuComponent_ng_container_0_span_16_Template, 1, 0, "span", 13), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](17, "button", 7), 
                core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r36);
                    var ctx_r37 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r37.sort(!1));
                }), core["\u0275\u0275element"](18, "pbi-icon", 8), core["\u0275\u0275template"](19, ScorecardColumnContextMenuComponent_ng_container_0_span_19_Template, 1, 0, "span", 14), 
                core["\u0275\u0275template"](20, ScorecardColumnContextMenuComponent_ng_container_0_span_20_Template, 1, 0, "span", 15), 
                core["\u0275\u0275template"](21, ScorecardColumnContextMenuComponent_ng_container_0_span_21_Template, 1, 0, "span", 16), 
                core["\u0275\u0275template"](22, ScorecardColumnContextMenuComponent_ng_container_0_span_22_Template, 1, 0, "span", 17), 
                core["\u0275\u0275template"](23, ScorecardColumnContextMenuComponent_ng_container_0_span_23_Template, 1, 0, "span", 13), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275element"](24, "mat-divider"), 
                core["\u0275\u0275template"](25, ScorecardColumnContextMenuComponent_ng_container_0_button_25_Template, 3, 1, "button", 18), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](26, "mat-menu", 19, 20), 
                core["\u0275\u0275template"](28, ScorecardColumnContextMenuComponent_ng_container_0_button_28_Template, 2, 0, "button", 21), 
                core["\u0275\u0275template"](29, ScorecardColumnContextMenuComponent_ng_container_0_button_29_Template, 2, 0, "button", 21), 
                core["\u0275\u0275template"](30, ScorecardColumnContextMenuComponent_ng_container_0_button_30_Template, 2, 0, "button", 21), 
                core["\u0275\u0275element"](31, "mat-divider"), core["\u0275\u0275template"](32, ScorecardColumnContextMenuComponent_ng_container_0_ng_container_32_Template, 1, 0, "ng-container", 22), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](33, ScorecardColumnContextMenuComponent_ng_container_0_ng_template_33_Template, 2, 0, "ng-template", null, 23, core["\u0275\u0275templateRefExtractor"]), 
                core["\u0275\u0275elementContainerEnd"]();
            }
            if (2 & rf) {
                var columnSettings_r1 = ctx.ngIf, _r3 = core["\u0275\u0275reference"](7), _r5 = core["\u0275\u0275reference"](9), _r17 = core["\u0275\u0275reference"](27), _r22 = core["\u0275\u0275reference"](34), ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("matMenuTriggerFor", ctx_r0.column.canSort ? _r5 : _r17), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](2, 26, ctx_r0.column.name)), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275propertyInterpolate"]("localize", ctx_r0.column.name), 
                core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind1"](4, 28, ctx_r0.column.name)), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx_r0.column.canSort && ctx_r0.sortType.sortBy === ctx_r0.column.sortBy)("ngIfElse", _r3), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("overlapTrigger", !1), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngSwitch", ctx_r0.column.dataType), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngClass", core["\u0275\u0275pureFunction1"](30, scorecard_column_context_menu_component_c0, ctx_r0.sortType.sortBy !== ctx_r0.column.sortBy || !ctx_r0.sortType.sortAscending)), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngSwitchCase", "Date"), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngSwitchCase", "Number"), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngSwitchCase", "String"), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngSwitchCase", "Status"), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngSwitch", ctx_r0.column.dataType), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngClass", core["\u0275\u0275pureFunction1"](32, scorecard_column_context_menu_component_c0, ctx_r0.sortType.sortBy !== ctx_r0.column.sortBy || ctx_r0.sortType.sortAscending)), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngSwitchCase", "Date"), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngSwitchCase", "Number"), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngSwitchCase", "String"), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngSwitchCase", "Status"), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", ctx_r0.canMoveLeft(columnSettings_r1) || ctx_r0.canMoveRight(columnSettings_r1) || ctx_r0.column.canHide)("ngIfElse", _r22), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("overlapTrigger", !1), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx_r0.canMoveLeft(columnSettings_r1)), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r0.canMoveRight(columnSettings_r1)), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r0.column.canHide), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngTemplateOutlet", _r22);
            }
        }
        var ScorecardColumnContextMenuComponent = function() {
            function ScorecardColumnContextMenuComponent(detailsPaneLauncher, scorecardService) {
                var _this = this;
                this.detailsPaneLauncher = detailsPaneLauncher, this.scorecardService = scorecardService, 
                this.onSortColumn = new core.EventEmitter, this.moveColumnLeft = function(columnSettings) {
                    scorecard_column_settings_helper._.moveColumnLeft(columnSettings, _this.column.id);
                }, this.moveColumnRight = function(columnSettings) {
                    scorecard_column_settings_helper._.moveColumnRight(columnSettings, _this.column.id);
                }, this.hideColumn = function(columnSettings) {
                    scorecard_column_settings_helper._.hideColumn(columnSettings, _this.column.id);
                };
            }
            return ScorecardColumnContextMenuComponent.prototype.ngOnInit = function() {
                this.columnSettings$ = this.scorecardService.getColumnSettings();
            }, ScorecardColumnContextMenuComponent.prototype.showHideColumns = function() {
                this.detailsPaneLauncher.openScorecardColumnSettingsPane(this.scorecardService);
            }, ScorecardColumnContextMenuComponent.prototype.changeColumnSettings = function(action, columnSettings) {
                debug.fF.assertValue(columnSettings, "columnSettingsAction columnSettings");
                var draftColumnSettings = _.cloneDeep(columnSettings);
                action(draftColumnSettings), this.scorecardService.updateScorecard({
                    columnSettings: draftColumnSettings
                });
            }, ScorecardColumnContextMenuComponent.prototype.canMoveLeft = function(columnSettings) {
                return scorecard_column_settings_helper._.canMoveLeft(columnSettings, this.columnIndex);
            }, ScorecardColumnContextMenuComponent.prototype.canMoveRight = function(columnSettings) {
                return scorecard_column_settings_helper._.canMoveRight(columnSettings, this.columnIndex);
            }, ScorecardColumnContextMenuComponent.prototype.sort = function(sortAscending) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        return debug.fF.assert(function() {
                            return _this.column.canSort;
                        }, "Cannot sort this column."), this.onSortColumn.emit(this.sortType.sortBy !== this.column.sortBy || this.sortType.sortAscending !== sortAscending ? {
                            sortBy: this.column.sortBy,
                            sortAscending
                        } : constants.Ij), [ 2 ];
                    });
                });
            }, ScorecardColumnContextMenuComponent.componentId = "ScorecardColumnContextMenuComponentId", 
            ScorecardColumnContextMenuComponent.\u0275fac = function(t) {
                return new (t || ScorecardColumnContextMenuComponent)(core["\u0275\u0275directiveInject"](goals_details_pane_launcher_service.c), core["\u0275\u0275directiveInject"](scorecard_service.G));
            }, ScorecardColumnContextMenuComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: ScorecardColumnContextMenuComponent,
                selectors: [ [ "scorecard-column-context-menu" ] ],
                inputs: {
                    column: "column",
                    columnIndex: "columnIndex",
                    sortType: "sortType"
                },
                outputs: {
                    onSortColumn: "onSortColumn"
                },
                decls: 2,
                vars: 3,
                consts: [ [ 4, "ngIf" ], [ "mat-button", "", "cdkMonitorElementFocus", "", 1, "scorecard-column-menu-trigger", 3, "matMenuTriggerFor" ], [ 1, "column-name", 3, "localize", "pbiTooltip" ], [ "class", "sort-icon", 3, "upArrow", 4, "ngIf", "ngIfElse" ], [ "chevron", "" ], [ "xPosition", "after", 1, "scorecard-column-menu", 3, "overlapTrigger" ], [ "scorecardColumnMenu", "matMenu" ], [ "mat-menu-item", "", 3, "ngSwitch", "click" ], [ "size", "small", "name", "checkmark", 3, "ngClass" ], [ "localize", "Menu_OldestToNewest", 4, "ngSwitchCase" ], [ "localize", "Menu_Ascending", 4, "ngSwitchCase" ], [ "localize", "Menu_Sort_AZ", 4, "ngSwitchCase" ], [ "localize", "Menu_Sort_FromLowPriority", 4, "ngSwitchCase" ], [ 4, "ngSwitchDefault" ], [ "localize", "Menu_NewestToOldest", 4, "ngSwitchCase" ], [ "localize", "Menu_Descending", 4, "ngSwitchCase" ], [ "localize", "Menu_Sort_ZA", 4, "ngSwitchCase" ], [ "localize", "Menu_Sort_FromHighPriority", 4, "ngSwitchCase" ], [ "mat-menu-item", "", "class", "customize-column-button", "localizeTooltip", "Scorecard_Column_Settings_CustomizeColumn", 3, "matMenuTriggerFor", 4, "ngIf", "ngIfElse" ], [ 1, "scorecard-column-settings-menu", 3, "overlapTrigger" ], [ "scorecardColumnSettingsMenu", "matMenu" ], [ "mat-menu-item", "", 3, "click", 4, "ngIf" ], [ 4, "ngTemplateOutlet" ], [ "columnSettingsButton", "" ], [ 1, "sort-icon", 3, "upArrow" ], [ "name", "chevrondownsmall", "size", "small", 1, "chevrondown" ], [ "localize", "Menu_OldestToNewest" ], [ "localize", "Menu_Ascending" ], [ "localize", "Menu_Sort_AZ" ], [ "localize", "Menu_Sort_FromLowPriority" ], [ "localize", "Menu_NewestToOldest" ], [ "localize", "Menu_Descending" ], [ "localize", "Menu_Sort_ZA" ], [ "localize", "Menu_Sort_FromHighPriority" ], [ "mat-menu-item", "", "localizeTooltip", "Scorecard_Column_Settings_CustomizeColumn", 1, "customize-column-button", 3, "matMenuTriggerFor" ], [ "localize", "Scorecard_Column_Settings_CustomizeColumn" ], [ "name", "chevronrightmedium", "size", "mini", 1, "chevron-right" ], [ "mat-menu-item", "", 3, "click" ], [ "localize", "Menu_MoveLeft", "localizeTooltip", "Menu_MoveLeft" ], [ "localize", "Menu_MoveRight", "localizeTooltip", "Menu_MoveRight" ], [ "localize", "Menu_HideThisColumn", "localizeTooltip", "Menu_HideThisColumn" ], [ "mat-menu-item", "", 1, "column-settings-button", 3, "click" ], [ "localize", "Scorecard_Column_Settings", "localizeTooltip", "Scorecard_Column_Settings" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275template"](0, ScorecardColumnContextMenuComponent_ng_container_0_Template, 35, 34, "ng-container", 0), 
                    core["\u0275\u0275pipe"](1, "async")), 2 & rf && core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](1, 1, ctx.columnSettings$));
                },
                dependencies: [ common.NgClass, common.NgIf, common.NgTemplateOutlet, common.NgSwitch, common.NgSwitchCase, common.NgSwitchDefault, localize_directive.X, localize_tooltip_directive.r, divider.d, legacy_menu.W0, legacy_menu.tN, legacy_menu.D8, pbi_icon_component._, pbi_tooltip_directive.V, SortIconComponent, common.AsyncPipe, localize_pipe.F ],
                styles: [ ".scorecard-column-menu-trigger[_ngcontent-%COMP%]{padding-left:0;width:100%;border:none;background:none;color:inherit;display:flex;flex-direction:row}.scorecard-column-menu-trigger[_ngcontent-%COMP%]   .column-name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.scorecard-column-menu-trigger[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{padding-left:4px;padding-top:4px}  .scorecard-column-menu-trigger .sort-icon .mat-icon{margin:0 4px}  .mat-menu-panel.scorecard-column-settings-menu{min-height:fit-content}  .scorecard-column-menu .mat-menu-item{padding-left:8px}  .scorecard-column-menu .mat-menu-item.column-settings-button{padding-left:32px}.mat-menu-item[_ngcontent-%COMP%]{color:var(--gray-180, #252423);display:flex;flex-direction:row;align-items:center;height:36px;padding-right:16px}.mat-menu-item[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{display:flex;padding-right:8px}.mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:inherit;display:flex;align-items:center}.mat-menu-item.customize-column-button[_ngcontent-%COMP%]{justify-content:space-between;padding-left:32px}.mat-menu-item.customize-column-button[_ngcontent-%COMP%]   .chevron-right[_ngcontent-%COMP%]{height:inherit;display:flex;align-items:center}" ],
                changeDetection: 0
            }), ScorecardColumnContextMenuComponent;
        }();
        function ScorecardColumnHeaderComponent_ng_container_0_Template(rf, ctx) {
            if (1 & rf) {
                var _r4 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "div", 2)(2, "scorecard-column-context-menu", 3), 
                core["\u0275\u0275listener"]("onSortColumn", function($event) {
                    core["\u0275\u0275restoreView"](_r4);
                    var ctx_r3 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r3.sortColumn($event));
                }), core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275elementContainerEnd"]();
            }
            if (2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("column", ctx_r0.column)("columnIndex", ctx_r0.index)("sortType", ctx_r0.sort);
            }
        }
        function ScorecardColumnHeaderComponent_ng_template_1_sort_icon_5_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "sort-icon", 7), 2 & rf) {
                var ctx_r5 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275property"]("reserveSpaceWhenHidden", ctx_r5.reserveSpaceForSortIcon)("hidden", ctx_r5.sort.sortBy !== ctx_r5.column.sortBy)("upArrow", !ctx_r5.sort.sortAscending);
            }
        }
        function ScorecardColumnHeaderComponent_ng_template_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r7 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 4), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r7);
                    var ctx_r6 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r6.toggleSort(ctx_r6.sort, ctx_r6.column.sortBy));
                }), core["\u0275\u0275pipe"](1, "localize"), core["\u0275\u0275pipe"](2, "localize"), 
                core["\u0275\u0275element"](3, "span", 5), core["\u0275\u0275pipe"](4, "localize"), 
                core["\u0275\u0275template"](5, ScorecardColumnHeaderComponent_ng_template_1_sort_icon_5_Template, 1, 3, "sort-icon", 6), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r2 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275classProp"]("sort-col", ctx_r2.column.canSort), core["\u0275\u0275attributeInterpolate2"]("aria-label", "", core["\u0275\u0275pipeBind1"](1, 7, ctx_r2.column.name), " ", core["\u0275\u0275pipeBind1"](2, 9, "Sort"), ""), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275propertyInterpolate"]("localize", ctx_r2.column.name), 
                core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind1"](4, 11, ctx_r2.column.name)), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx_r2.column.canSort);
            }
        }
        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, ScorecardColumnHeaderComponent = function() {
            function ScorecardColumnHeaderComponent() {
                this.onSortColumn = new core.EventEmitter, this.reserveSpaceForSortIcon = !0;
            }
            return ScorecardColumnHeaderComponent.prototype.sortColumn = function(newSort) {
                this.onSortColumn.emit(newSort);
            }, ScorecardColumnHeaderComponent.prototype.toggleSort = function(currentSort, sortBy) {
                var newSort = scorecard_sort_helper.p.toggleSort(currentSort, sortBy);
                this.onSortColumn.emit(newSort);
            }, ScorecardColumnHeaderComponent.\u0275fac = function(t) {
                return new (t || ScorecardColumnHeaderComponent);
            }, ScorecardColumnHeaderComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: ScorecardColumnHeaderComponent,
                selectors: [ [ "scorecard-column-header" ] ],
                inputs: {
                    column: "column",
                    index: "index",
                    sort: "sort",
                    isEditMode: "isEditMode",
                    reserveSpaceForSortIcon: "reserveSpaceForSortIcon"
                },
                outputs: {
                    onSortColumn: "onSortColumn"
                },
                decls: 3,
                vars: 2,
                consts: [ [ 4, "ngIf", "ngIfElse" ], [ "columnNameWithSortIcon", "" ], [ 1, "column-menu-sort" ], [ 1, "scorecard-column-context-menu", 3, "column", "columnIndex", "sortType", "onSortColumn" ], [ 1, "column-sort", 3, "click" ], [ 1, "column-name", 3, "localize", "pbiTooltip" ], [ 3, "reserveSpaceWhenHidden", "hidden", "upArrow", 4, "ngIf" ], [ 3, "reserveSpaceWhenHidden", "hidden", "upArrow" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275template"](0, ScorecardColumnHeaderComponent_ng_container_0_Template, 3, 3, "ng-container", 0), 
                    core["\u0275\u0275template"](1, ScorecardColumnHeaderComponent_ng_template_1_Template, 6, 13, "ng-template", null, 1, core["\u0275\u0275templateRefExtractor"])), 
                    2 & rf) {
                        var _r1 = core["\u0275\u0275reference"](2);
                        core["\u0275\u0275property"]("ngIf", ctx.isEditMode)("ngIfElse", _r1);
                    }
                },
                dependencies: [ common.NgIf, localize_directive.X, pbi_tooltip_directive.V, ScorecardColumnContextMenuComponent, SortIconComponent, localize_pipe.F ],
                styles: [ "[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .column-sort[_ngcontent-%COMP%]{padding-left:0;width:100%;border:none;background:none;color:inherit;display:flex;flex-direction:row;align-items:center;cursor:default}[_nghost-%COMP%]   .column-sort.sort-col[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .column-sort.sort-col[_ngcontent-%COMP%]     sort-icon mat-icon.sort-icon{font-weight:var(--font-weight-semi-bold)}[_nghost-%COMP%]   .column-sort.sort-col[_ngcontent-%COMP%]:hover     sort-icon mat-icon.sort-icon.hide{display:inline;visibility:visible;color:var(--fluent-theme-neutral-tertia-color)}[_nghost-%COMP%]   .column-sort.sort-col[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .column-sort.sort-col[_ngcontent-%COMP%]:focus:hover, [_nghost-%COMP%]   .column-sort.sort-col[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .column-sort.sort-col[_ngcontent-%COMP%]:focus:hover:active{background-color:var(--fluent-theme-neutral-lighter-color)}[_nghost-%COMP%]   .column-sort[_ngcontent-%COMP%]   .column-name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .column-menu-sort[_ngcontent-%COMP%]   .scorecard-column-context-menu[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .column-menu-sort[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .column-menu-sort[_ngcontent-%COMP%]:focus:hover, [_nghost-%COMP%]   .column-menu-sort[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .column-menu-sort[_ngcontent-%COMP%]:focus:hover:active{background-color:var(--fluent-theme-neutral-lighter-color)}[_nghost-%COMP%]   .column-menu-sort[_ngcontent-%COMP%]     sort-icon mat-icon.sort-icon.hide{color:transparent}" ],
                changeDetection: 0
            }), ScorecardColumnHeaderComponent;
        }(), screen_size_service = __webpack_require__(68233), Breakpoint = (0, tslib_es6.__assign)((0, 
        tslib_es6.__assign)({}, screen_size_service._), {
            Default: 0,
            XXXXMidLarge: 1736
        }), breakpoints = (0, tslib_es6.__spreadArray)([], Object.values(Breakpoint).sort(function(a, b) {
            return b - a;
        }), !0);
        function getResponsiveSetting(settings, width) {
            for (var _i = 0, breakpoints_1 = breakpoints; _i < breakpoints_1.length; _i++) {
                var breakpoint = breakpoints_1[_i];
                if (!_.isNil(settings[breakpoint]) && width >= breakpoint) return settings[breakpoint];
            }
            return settings[Breakpoint.Default];
        }
        var CompactScorecardColumnWidths = ((_a = {})[0] = ((_b = {})[Breakpoint.XXXXXLarge] = 584, 
        _b[Breakpoint.XXXXMidLarge] = 562, _b[Breakpoint.XXXXLarge] = 516, _b[Breakpoint.XXLarge] = 438, 
        _b[Breakpoint.XLarge] = 298, _b[Breakpoint.Large] = 292, _b[Breakpoint.Medium] = 258, 
        _b[Breakpoint.Default] = 184, _b), _a[1] = ((_c = {})[Breakpoint.XXXXLarge] = 98, 
        _c[Breakpoint.XXLarge] = 74, _c[Breakpoint.Default] = 40, _c), _a[2] = ((_d = {})[Breakpoint.Default] = 76, 
        _d), _a[3] = ((_e = {})[Breakpoint.Default] = 128, _e), _a[10] = ((_f = {})[Breakpoint.Default] = 106, 
        _f), _a[7] = ((_g = {})[Breakpoint.Default] = 64, _g), _a[8] = ((_h = {})[Breakpoint.Default] = 64, 
        _h), _a[9] = ((_j = {})[Breakpoint.Default] = 64, _j), _a[4] = ((_k = {})[Breakpoint.XXXXXLarge] = 156, 
        _k[Breakpoint.XXXXLarge] = 132, _k[Breakpoint.XXLarge] = 100, _k[Breakpoint.Default] = 60, 
        _k), _a[5] = ((_l = {})[Breakpoint.Default] = 62, _l), _a[6] = {}, _a), CompactScorecardInnerIndentWidths = ((_m = {})[Breakpoint.XXXXXLarge] = 32, 
        _m[Breakpoint.XXLarge] = 24, _m[Breakpoint.Default] = 16, _m), CompactScorecardColumnSpacingWidths = ((_o = {})[Breakpoint.XXXXXLarge] = 80, 
        _o[Breakpoint.XXXXMidLarge] = 58, _o[Breakpoint.XXXXLarge] = 48, _o[Breakpoint.XXLarge] = 30, 
        _o[Breakpoint.XLarge] = 26, _o[Breakpoint.Default] = 20, _o), CompactScorecardAvatarRowSettings = ((_p = {})[Breakpoint.XXXXLarge] = {
            avatarRowSize: "medium",
            avatarRowCount: 4
        }, _p[Breakpoint.XXLarge] = {
            avatarRowSize: "small",
            avatarRowCount: 4
        }, _p[Breakpoint.Default] = {
            avatarRowSize: "small",
            avatarRowCount: 2
        }, _p), CompactScorecardShowActionIcons = ((_q = {})[Breakpoint.XXLarge] = !0, _q[Breakpoint.Default] = !1, 
        _q), scorecardSettingsService = __webpack_require__(98587), scrolling = __webpack_require__(21661), tree = __webpack_require__(94585), fesm2022_tree = __webpack_require__(15015), of = __webpack_require__(11547), shareReplay = __webpack_require__(57243), switchMap = __webpack_require__(81905), startWith = __webpack_require__(22318), on_resize_directive = __webpack_require__(698), ResizeColumnDirective = function() {
            function ResizeColumnDirective() {
                this.columnResized = new core.EventEmitter;
            }
            return ResizeColumnDirective.prototype.onMouseDown = function(event) {
                return this.isResizing = !0, this.pageX = event.pageX, this.initialWidth = event.target.parentElement.offsetWidth, 
                document.body.style.cursor = "col-resize", event.stopPropagation(), !1;
            }, ResizeColumnDirective.prototype.onDragStart = function() {
                return !1;
            }, ResizeColumnDirective.prototype.onMouseMove = function(event) {
                return !this.isResizing || (this.columnResized.emit(Math.max(0, this.initialWidth + event.pageX - this.pageX)), 
                event.stopPropagation(), !1);
            }, ResizeColumnDirective.prototype.onMouseLeave = function(event) {
                return !this.isResizing || (this.isResizing = !1, document.body.style.cursor = "", 
                event.stopPropagation(), !1);
            }, ResizeColumnDirective.\u0275fac = function(t) {
                return new (t || ResizeColumnDirective);
            }, ResizeColumnDirective.\u0275dir = core["\u0275\u0275defineDirective"]({
                type: ResizeColumnDirective,
                selectors: [ [ "", "resize-column", "" ] ],
                hostBindings: function(rf, ctx) {
                    1 & rf && core["\u0275\u0275listener"]("mousedown", function($event) {
                        return ctx.onMouseDown($event);
                    })("touchstart", function($event) {
                        return ctx.onMouseDown($event);
                    })("dragstart", function() {
                        return ctx.onDragStart();
                    })("mousemove", function($event) {
                        return ctx.onMouseMove($event);
                    }, !1, core["\u0275\u0275resolveWindow"])("touchmove", function($event) {
                        return ctx.onMouseMove($event);
                    }, !1, core["\u0275\u0275resolveWindow"])("mouseup", function($event) {
                        return ctx.onMouseLeave($event);
                    }, !1, core["\u0275\u0275resolveWindow"])("mouseleave", function($event) {
                        return ctx.onMouseLeave($event);
                    }, !1, core["\u0275\u0275resolveWindow"])("touchend", function($event) {
                        return ctx.onMouseLeave($event);
                    }, !1, core["\u0275\u0275resolveWindow"]);
                },
                outputs: {
                    columnResized: "columnResized"
                }
            }), ResizeColumnDirective;
        }(), tree_list_component_c0 = [ "headers" ];
        function TreeListComponent_div_2_div_1_button_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r15 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 14), core["\u0275\u0275listener"]("click", function($event) {
                    core["\u0275\u0275restoreView"](_r15);
                    var ctx_r14 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r14.onToggleExpandAll($event));
                }), core["\u0275\u0275pipe"](1, "localize"), core["\u0275\u0275element"](2, "mat-icon", 15), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r13 = core["\u0275\u0275nextContext"](3);
                core["\u0275\u0275classProp"]("expanded", ctx_r13.showAllExpanded), core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind1"](1, 3, ctx_r13.showAllExpanded ? "FieldListMenuItem_CollapseAll" : "FieldListMenuItem_ExpandAll"));
            }
        }
        function TreeListComponent_div_2_div_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div"), core["\u0275\u0275template"](1, TreeListComponent_div_2_div_1_button_1_Template, 3, 5, "button", 13), 
            core["\u0275\u0275pipe"](2, "async"), core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r8 = core["\u0275\u0275nextContext"](2), _r4 = core["\u0275\u0275reference"](9);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](2, 2, ctx_r8.canExpandAll$))("ngIfElse", _r4);
            }
        }
        var _c1 = function(a0) {
            return {
                column: a0
            };
        };
        function TreeListComponent_div_2_ng_container_2_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275elementContainer"](0, 16), 2 & rf) {
                var column_r6 = core["\u0275\u0275nextContext"]().$implicit;
                core["\u0275\u0275property"]("ngTemplateOutlet", column_r6.headerTemplate)("ngTemplateOutletContext", core["\u0275\u0275pureFunction1"](2, _c1, column_r6));
            }
        }
        function TreeListComponent_div_2_ng_template_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 17), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var column_r6 = core["\u0275\u0275nextContext"]().$implicit;
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate"](column_r6.name);
            }
        }
        function TreeListComponent_div_2_div_5_Template(rf, ctx) {
            if (1 & rf) {
                var _r20 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 18), core["\u0275\u0275listener"]("columnResized", function($event) {
                    core["\u0275\u0275restoreView"](_r20);
                    var columnIndex_r7 = core["\u0275\u0275nextContext"]().index, ctx_r18 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r18.onColumnResized($event, columnIndex_r7));
                }), core["\u0275\u0275elementEnd"]();
            }
        }
        function TreeListComponent_div_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 8), core["\u0275\u0275template"](1, TreeListComponent_div_2_div_1_Template, 3, 4, "div", 9), 
            core["\u0275\u0275template"](2, TreeListComponent_div_2_ng_container_2_Template, 1, 4, "ng-container", 10), 
            core["\u0275\u0275template"](3, TreeListComponent_div_2_ng_template_3_Template, 2, 1, "ng-template", null, 11, core["\u0275\u0275templateRefExtractor"]), 
            core["\u0275\u0275template"](5, TreeListComponent_div_2_div_5_Template, 1, 0, "div", 12), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var column_r6 = ctx.$implicit, columnIndex_r7 = ctx.index, _r10 = core["\u0275\u0275reference"](4), ctx_r1 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275styleProp"]("width", column_r6.width, "px"), core["\u0275\u0275classProp"]("sticky-left", ctx_r1.stickyFirstColumn && 0 === columnIndex_r7), 
                core["\u0275\u0275property"]("ngClass", column_r6.class)("ngStyle", column_r6.style), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", 0 === columnIndex_r7), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !!column_r6.headerTemplate)("ngIfElse", _r10), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", !1 !== column_r6.resizable);
            }
        }
        function TreeListComponent_ng_container_4_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275elementContainer"](0);
        }
        function TreeListComponent_cdk_tree_node_7_div_1_ng_container_1_button_2_Template(rf, ctx) {
            if (1 & rf) {
                var _r31 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 24), core["\u0275\u0275listener"]("dblclick", function($event) {
                    return $event.stopPropagation();
                })("click", function($event) {
                    core["\u0275\u0275restoreView"](_r31);
                    var node_r22 = core["\u0275\u0275nextContext"](3).$implicit, ctx_r29 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r29.onExpandNode(node_r22, $event));
                }), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var node_r22 = core["\u0275\u0275nextContext"](3).$implicit, ctx_r27 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275classProp"]("expanded", ctx_r27.treeControl.isExpanded(node_r22));
            }
        }
        function TreeListComponent_cdk_tree_node_7_div_1_ng_container_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "div", 22), 
            core["\u0275\u0275template"](2, TreeListComponent_cdk_tree_node_7_div_1_ng_container_1_button_2_Template, 1, 2, "button", 23), 
            core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var node_r22 = core["\u0275\u0275nextContext"](2).$implicit, ctx_r26 = core["\u0275\u0275nextContext"](), _r4 = core["\u0275\u0275reference"](9);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("cdkTreeNodePaddingIndent", ctx_r26.paddingIndent), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", node_r22.expandable)("ngIfElse", _r4);
            }
        }
        var _c2 = function(a0, a1) {
            return {
                column: a0,
                data: a1
            };
        };
        function TreeListComponent_cdk_tree_node_7_div_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 21), core["\u0275\u0275template"](1, TreeListComponent_cdk_tree_node_7_div_1_ng_container_1_Template, 3, 3, "ng-container", 9), 
            core["\u0275\u0275elementContainer"](2, 16), core["\u0275\u0275elementEnd"]()), 
            2 & rf) {
                var column_r24 = ctx.$implicit, columnIndex_r25 = ctx.index, node_r22 = core["\u0275\u0275nextContext"]().$implicit, ctx_r23 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275styleProp"]("width", column_r24.width, "px"), core["\u0275\u0275classProp"]("sticky-left", ctx_r23.stickyFirstColumn && 0 === columnIndex_r25), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", 0 === columnIndex_r25), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngTemplateOutlet", column_r24.cellTemplate)("ngTemplateOutletContext", core["\u0275\u0275pureFunction2"](7, _c2, column_r24, node_r22));
            }
        }
        function TreeListComponent_cdk_tree_node_7_Template(rf, ctx) {
            if (1 & rf) {
                var _r36 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "cdk-tree-node", 19), core["\u0275\u0275listener"]("click", function($event) {
                    var node_r22 = core["\u0275\u0275restoreView"](_r36).$implicit;
                    return core["\u0275\u0275resetView"](node_r22.onClick ? node_r22.onClick($event) : void 0);
                }), core["\u0275\u0275template"](1, TreeListComponent_cdk_tree_node_7_div_1_Template, 3, 10, "div", 20), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var node_r22 = ctx.$implicit, ctx_r3 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275styleMap"](node_r22.style), core["\u0275\u0275classMap"](node_r22.class), 
                core["\u0275\u0275styleProp"]("height", ctx_r3.rowHeight, "px")("margin-bottom", ctx_r3.rowSpacing, "px"), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngForOf", ctx_r3.columns)("ngForTrackBy", ctx_r3.trackByColumn);
            }
        }
        function TreeListComponent_ng_template_8_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "div", 25);
        }
        var TreeListComponent = function() {
            function TreeListComponent() {
                var _this = this;
                this.minBufferPx = 400, this.maxBufferPx = 1e3, this.enableRowVirtualization = !0, 
                this.onResizeTreeList = new core.EventEmitter, this.onResizeColumn = new core.EventEmitter, 
                this.onExpansionChange = new core.EventEmitter, this.columns = [], this.expandedNodeIds = [], 
                this.rowHeight = 50, this.rowSpacing = 10, this.paddingIndent = 15, this.getChildren = function(node) {
                    return node.children;
                }, this.rowHash = function(_position, node) {
                    return node.id;
                }, this.treeControl = new tree.C2(function(node) {
                    return node.level;
                }, function(node) {
                    return node.expandable;
                }, {
                    trackBy: function(node) {
                        return node.id;
                    }
                }), this.nodeFlatMapper = function(node, level) {
                    return (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, node), {
                        level,
                        expandable: _.size(_this.getChildren(node)) > 0
                    });
                };
            }
            return TreeListComponent.prototype.ngAfterViewInit = function() {
                var _a, _this = this;
                this.treeFlattener = new fesm2022_tree.JZ(this.nodeFlatMapper, function(node) {
                    return node.level;
                }, function(node) {
                    return node.expandable;
                }, this.getChildren), this.dataSource = new fesm2022_tree.kc(this.treeControl, this.treeFlattener), 
                this.allRows$ = this.dataSource.connect(this.cdkTree).pipe((0, shareReplay.d)(1)), 
                this.visibleItems$ = this.allRows$.pipe((0, switchMap.w)(function(rows) {
                    return _this.enableRowVirtualization ? _this.viewport.renderedRangeStream.pipe((0, 
                    startWith.O)(_this.viewport.getRenderedRange()), (0, map.U)(function(_a) {
                        return rows.slice(_a.start, _a.end);
                    })) : (0, of.of)(rows);
                })), this.dataSource.data = this.data, (_a = this.treeControl.expansionModel).select.apply(_a, this.expandedNodeIds), 
                this.setShowExpandAll(), this.canExpandAll$ = this.allRows$.pipe((0, map.U)(function(nodes) {
                    return _.some(nodes, function(node) {
                        return node.expandable;
                    });
                })), this.expansionSub = this.treeControl.expansionModel.changed.subscribe(function(change) {
                    _this.setShowExpandAll(), _this.onExpansionChange.emit(change);
                });
            }, TreeListComponent.prototype.ngOnChanges = function(changes) {
                changes.data && this.dataSource && (this.dataSource.data = this.data, this.setShowExpandAll()), 
                (changes.rowHeight || changes.rowSpacing) && (this.totalRowHeight = this.rowHeight + this.rowSpacing);
            }, TreeListComponent.prototype.ngOnDestroy = function() {
                var _a;
                null === (_a = this.expansionSub) || void 0 === _a || _a.unsubscribe();
            }, TreeListComponent.prototype.onExpandNode = function(node, event) {
                this.treeControl.toggle(node), event.stopPropagation();
            }, TreeListComponent.prototype.onToggleExpandAll = function() {
                var _a;
                this.showAllExpanded ? this.treeControl.collapseAll() : (_a = this.treeControl.expansionModel).select.apply(_a, this.getExpandableNodeIds());
            }, TreeListComponent.prototype.trackByColumn = function(_index, column) {
                return column.key;
            }, TreeListComponent.prototype.trackById = function(_position, node) {
                return node.id;
            }, TreeListComponent.prototype.scroll = function() {
                this.headers.nativeElement.scrollLeft = this.viewport.measureScrollOffset("left");
            }, TreeListComponent.prototype.onTreeListResized = function(viewport) {
                var _this = this;
                requestAnimationFrame(function() {
                    _this.onResizeTreeList.emit(viewport);
                });
            }, TreeListComponent.prototype.onColumnResized = function(width, column) {
                var _this = this;
                requestAnimationFrame(function() {
                    _this.onResizeColumn.emit({
                        column,
                        width: Math.max(60, width)
                    });
                });
            }, TreeListComponent.prototype.setShowExpandAll = function() {
                var _this = this, countExpanded = _.filter(this.treeControl.dataNodes, function(node) {
                    return node.expandable && _this.treeControl.isExpanded(node);
                }).length, countExpandable = this.getExpandableNodeIds().length;
                0 === countExpanded ? this.showAllExpanded = !1 : countExpanded === countExpandable && (this.showAllExpanded = !0);
            }, TreeListComponent.prototype.getExpandableNodeIds = function() {
                return _.map(_.filter(this.treeControl.dataNodes, function(node) {
                    return node.expandable;
                }), function(node) {
                    return node.id;
                });
            }, TreeListComponent.\u0275fac = function(t) {
                return new (t || TreeListComponent);
            }, TreeListComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: TreeListComponent,
                selectors: [ [ "tree-list" ] ],
                viewQuery: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275viewQuery"](tree._0, 7), core["\u0275\u0275viewQuery"](scrolling.N7, 7), 
                    core["\u0275\u0275viewQuery"](tree_list_component_c0, 5)), 2 & rf) {
                        var _t = void 0;
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.cdkTree = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.viewport = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.headers = _t.first);
                    }
                },
                inputs: {
                    columns: "columns",
                    data: "data",
                    expandedNodeIds: "expandedNodeIds",
                    rowHeight: "rowHeight",
                    rowSpacing: "rowSpacing",
                    paddingIndent: "paddingIndent",
                    getChildren: "getChildren",
                    rowHash: "rowHash",
                    stickyFirstColumn: "stickyFirstColumn"
                },
                outputs: {
                    onResizeTreeList: "onResizeTreeList",
                    onResizeColumn: "onResizeColumn",
                    onExpansionChange: "onExpansionChange"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 10,
                vars: 12,
                consts: [ [ 1, "column-headers" ], [ "headers", "" ], [ "class", "header", 3, "ngClass", "ngStyle", "sticky-left", "width", 4, "ngFor", "ngForOf", "ngForTrackBy" ], [ "tabindex", "-1", 3, "itemSize", "minBufferPx", "maxBufferPx", "scroll", "on-resize" ], [ 4, "cdkVirtualFor", "cdkVirtualForOf", "cdkVirtualForTrackBy" ], [ 3, "dataSource", "treeControl", "trackBy" ], [ "class", "row", 3, "class", "style", "height", "margin-bottom", "click", 4, "cdkTreeNodeDef" ], [ "expanderPlaceholder", "" ], [ 1, "header", 3, "ngClass", "ngStyle" ], [ 4, "ngIf" ], [ 3, "ngTemplateOutlet", "ngTemplateOutletContext", 4, "ngIf", "ngIfElse" ], [ "name", "" ], [ "class", "resize-handle", "resize-column", "", 3, "columnResized", 4, "ngIf" ], [ "tabindex", "-1", "class", "expander expander-all", 3, "pbiTooltip", "expanded", "click", 4, "ngIf", "ngIfElse" ], [ "tabindex", "-1", 1, "expander", "expander-all", 3, "pbiTooltip", "click" ], [ "fontIcon", "pbi-glyph-doublechevrondown", 1, "glyphicon", "glyph-mini" ], [ 3, "ngTemplateOutlet", "ngTemplateOutletContext" ], [ 1, "name" ], [ "resize-column", "", 1, "resize-handle", 3, "columnResized" ], [ 1, "row", 3, "click" ], [ "class", "cell", "role", "cell", 3, "sticky-left", "width", 4, "ngFor", "ngForOf", "ngForTrackBy" ], [ "role", "cell", 1, "cell" ], [ "cdkTreeNodePadding", "", 1, "tree-node-padding", 3, "cdkTreeNodePaddingIndent" ], [ "tabindex", "-1", "class", "glyphicon expander", 3, "expanded", "dblclick", "click", 4, "ngIf", "ngIfElse" ], [ "tabindex", "-1", 1, "glyphicon", "expander", 3, "dblclick", "click" ], [ 1, "expander-placeholder" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "div", 0, 1), core["\u0275\u0275template"](2, TreeListComponent_div_2_Template, 6, 10, "div", 2), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](3, "cdk-virtual-scroll-viewport", 3), 
                    core["\u0275\u0275listener"]("scroll", function() {
                        return ctx.scroll();
                    })("on-resize", function($event) {
                        return ctx.onTreeListResized($event);
                    }), core["\u0275\u0275template"](4, TreeListComponent_ng_container_4_Template, 1, 0, "ng-container", 4), 
                    core["\u0275\u0275pipe"](5, "async"), core["\u0275\u0275elementStart"](6, "cdk-tree", 5), 
                    core["\u0275\u0275template"](7, TreeListComponent_cdk_tree_node_7_Template, 2, 10, "cdk-tree-node", 6), 
                    core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275template"](8, TreeListComponent_ng_template_8_Template, 1, 0, "ng-template", null, 7, core["\u0275\u0275templateRefExtractor"])), 
                    2 & rf && (core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngForOf", ctx.columns)("ngForTrackBy", ctx.trackByColumn), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("itemSize", ctx.totalRowHeight)("minBufferPx", ctx.minBufferPx)("maxBufferPx", ctx.maxBufferPx), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("cdkVirtualForOf", core["\u0275\u0275pipeBind1"](5, 10, ctx.allRows$))("cdkVirtualForTrackBy", ctx.trackById), 
                    core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("dataSource", ctx.visibleItems$)("treeControl", ctx.treeControl)("trackBy", ctx.rowHash));
                },
                dependencies: [ common.NgClass, common.NgForOf, common.NgIf, common.NgTemplateOutlet, common.NgStyle, tree.rO, tree.XJ, tree._0, tree.Hs, on_resize_directive.O, icon.Hw, pbi_tooltip_directive.V, scrolling.xd, scrolling.x0, scrolling.N7, ResizeColumnDirective, common.AsyncPipe, localize_pipe.F ],
                styles: [ '[_nghost-%COMP%]{--headerHeight: 40px;--expanderWidth: 48px;--column-headers-backgroundColor: var(--fluent-theme-white-color);--column-headers-foregroundColor: var(--fluent-theme-neutral-primary-color);--row-backgroundColor: var(--fluent-theme-white-color);--row-foregroundColor: var(--fluent-theme-neutral-primary-color);display:flex;flex-direction:column}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{flex:1;width:100%;max-width:100%;display:block}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]:focus{outline:none}cdk-tree-node[_ngcontent-%COMP%]{display:block}.column-headers[_ngcontent-%COMP%]{margin:0;display:flex;padding:8px 0;height:var(--headerHeight);box-sizing:border-box;align-items:center;background-color:var(--column-headers-backgroundColor);color:var(--column-headers-foregroundColor);width:100%;overflow:hidden;z-index:2}.column-headers[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--lg-font-size, 16px);font-weight:var(--font-weight-regular, 400);font-weight:550;position:relative;border-right:solid 1px var(--gray-70, #BEBBB8);box-sizing:border-box;display:flex;flex-grow:0;flex-shrink:0;overflow:hidden}.column-headers[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.column-headers[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;opacity:0;width:10px;cursor:col-resize}.sticky-left[_ngcontent-%COMP%]{position:sticky!important;left:0;z-index:1!important}.sticky-left.cell[_ngcontent-%COMP%]{background-color:var(--row-backgroundColor)}.sticky-left.header[_ngcontent-%COMP%]{background-color:var(--column-headers-backgroundColor)}.row[_ngcontent-%COMP%], .cell[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;flex-grow:0;flex-shrink:0;z-index:0;box-sizing:border-box}.row[_ngcontent-%COMP%]{background-color:var(--row-backgroundColor);color:var(--row-foregroundColor);width:fit-content}.cell[_ngcontent-%COMP%]{overflow:hidden;height:100%}.tree-node-padding[_ngcontent-%COMP%]{height:100%}.expander-placeholder[_ngcontent-%COMP%]{width:var(--expanderWidth);flex-shrink:0}.expander[_ngcontent-%COMP%]{color:var(--gray-180, #252423);transition:transform ease .15s;transform:rotate(-90deg);font-size:var(--sm-font-size, 12px);width:var(--expanderWidth);padding:0 16px;background:transparent;outline:none;display:inline-flex;align-items:center;justify-content:center;height:100%;border:none}.expander.glyphicon[_ngcontent-%COMP%]:before{content:"\\e70d"}.expander.expanded[_ngcontent-%COMP%]{transform:none}.expander[_ngcontent-%COMP%]:focus, .expander[_ngcontent-%COMP%]:hover, .expander[_ngcontent-%COMP%]:focus:hover{background:transparent}.expander[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding:2px;font-size:12px;height:unset}' ],
                changeDetection: 0
            }), TreeListComponent;
        }(), compact_scorecard_component_c0 = [ "columnHeader" ], compact_scorecard_component_c1 = [ "nameCell" ], compact_scorecard_component_c2 = [ "ownersCell" ], _c3 = [ "statusCell" ], _c4 = [ "combinedValueTargetCell" ], _c5 = [ "changeCell" ], _c6 = [ "currentCell" ], _c7 = [ "targetCell" ], _c8 = [ "milestoneCell" ], _c9 = [ "sparklineCell" ], _c10 = [ "dueDateCell" ], _c11 = [ "blank" ], _c12 = function(a0, a1) {
            return {
                "--column-spacing": a0,
                "--border-left-width": a1
            };
        };
        function CompactScorecardComponent_tree_list_0_Template(rf, ctx) {
            if (1 & rf) {
                var _r24 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "tree-list", 12), core["\u0275\u0275listener"]("onResizeColumn", function($event) {
                    core["\u0275\u0275restoreView"](_r24);
                    var ctx_r23 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r23.onResizeColumn($event));
                })("onExpansionChange", function($event) {
                    core["\u0275\u0275restoreView"](_r24);
                    var ctx_r25 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r25.onExpansionChange($event));
                })("onResizeTreeList", function($event) {
                    core["\u0275\u0275restoreView"](_r24);
                    var ctx_r26 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r26.onResizeScorecard($event));
                }), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275styleMap"](core["\u0275\u0275pureFunction2"](12, _c12, ctx_r0.columnSpacing + "px", ctx_r0.colorBorderWidth + "px")), 
                core["\u0275\u0275classProp"]("hidden", !ctx_r0.scorecardWidth), core["\u0275\u0275property"]("columns", ctx_r0.columns)("data", ctx_r0.goals)("expandedNodeIds", ctx_r0.expandedGoalIds)("getChildren", ctx_r0.getSubgoals)("rowHash", ctx_r0.rowHash)("rowHeight", ctx_r0.rowHeight)("rowSpacing", ctx_r0.rowSpacing)("paddingIndent", 0);
            }
        }
        function CompactScorecardComponent_ng_template_1_scorecard_column_header_0_Template(rf, ctx) {
            if (1 & rf) {
                var _r30 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "scorecard-column-header", 14), core["\u0275\u0275listener"]("onSortColumn", function($event) {
                    core["\u0275\u0275restoreView"](_r30);
                    var ctx_r29 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r29.onSortColumn.emit($event));
                }), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var column_r27 = core["\u0275\u0275nextContext"]().column, ctx_r28 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("column", column_r27)("index", column_r27.index)("sort", ctx_r28.sort)("isEditMode", ctx_r28.isEditMode)("reserveSpaceForSortIcon", !1);
            }
        }
        function CompactScorecardComponent_ng_template_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275template"](0, CompactScorecardComponent_ng_template_1_scorecard_column_header_0_Template, 1, 5, "scorecard-column-header", 13), 
            core["\u0275\u0275pipe"](1, "async")), 2 & rf) {
                var ctx_r2 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("ngIf", !core["\u0275\u0275pipeBind1"](1, 1, ctx_r2.hideColumnHeaders$));
            }
        }
        function CompactScorecardComponent_ng_template_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 15), core["\u0275\u0275element"](1, "goal-name-cell", 16)(2, "div", 17)(3, "goal-actions-cell", 18), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var goal_r32 = ctx.data, ctx_r4 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("goal", goal_r32)("scorecard", ctx_r4.scorecard)("boldName", 0 === goal_r32.level)("innerIndent", goal_r32.innerIndent * ctx_r4.innerIndentSpacing), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275styleProp"]("width", ctx_r4.columnSpacing, "px"), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("goal", goal_r32)("isEditMode", ctx_r4.isEditMode)("showActionIcons", ctx_r4.showActionIcons);
            }
        }
        function CompactScorecardComponent_ng_template_5_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "goal-owners-cell", 19), 2 & rf) {
                var goal_r34 = ctx.data, ctx_r6 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("goal", goal_r34)("alwaysShowAvatarRow", !0)("rowStyle", "stack")("avatarSize", ctx_r6.avatarRowSize)("avatarRowCount", ctx_r6.avatarRowCount);
            }
        }
        function CompactScorecardComponent_ng_template_7_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "goal-status-cell", 20), 2 & rf && core["\u0275\u0275property"]("goal", ctx.data);
        }
        function CompactScorecardComponent_ng_template_9_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "goal-value-cell", 21), 2 & rf) {
                var tmp_2_0, tmp_3_0, goal_r38 = ctx.data;
                core["\u0275\u0275property"]("goal", goal_r38)("showCurrent", !0)("showTarget", null !== (tmp_2_0 = null == goal_r38.metadata ? null : goal_r38.metadata.showFinalTarget) && void 0 !== tmp_2_0 ? tmp_2_0 : !goal_r38.targetConnection)("showMilestone", !(null !== (tmp_3_0 = null == goal_r38.metadata ? null : goal_r38.metadata.showFinalTarget) && void 0 !== tmp_3_0 ? tmp_3_0 : !goal_r38.targetConnection))("compact", !0);
            }
        }
        function CompactScorecardComponent_ng_template_11_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "goal-change-cell", 20), 2 & rf && core["\u0275\u0275property"]("goal", ctx.data);
        }
        function CompactScorecardComponent_ng_template_13_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "goal-value-cell", 22), 2 & rf && core["\u0275\u0275property"]("goal", ctx.data)("showCurrent", !0)("compact", !0);
        }
        function CompactScorecardComponent_ng_template_15_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "goal-value-cell", 23), 2 & rf && core["\u0275\u0275property"]("goal", ctx.data)("showTarget", !0)("compact", !0);
        }
        function CompactScorecardComponent_ng_template_17_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "goal-value-cell", 24), 2 & rf && core["\u0275\u0275property"]("goal", ctx.data)("showMilestone", !0)("compact", !0);
        }
        function CompactScorecardComponent_ng_template_19_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "goal-sparkline-cell", 25), 2 & rf) {
                var goal_r48 = ctx.data, column_r49 = ctx.column, ctx_r20 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("goal", goal_r48)("height", ctx_r20.rowHeight - 10)("width", column_r49.width - ctx_r20.columnSpacing);
            }
        }
        function CompactScorecardComponent_ng_template_21_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "goal-due-date-cell", 26), 2 & rf) {
                var goal_r50 = ctx.data, ctx_r22 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("goal", goal_r50)("formatOptions", ctx_r22.dateFormatOptions);
            }
        }
        var CompactScorecardComponent = function(_super) {
            function CompactScorecardComponent(goalRowService, expansionService, changeDetector, scorecardSettings) {
                var _a, _b, _this = this;
                return (_this = _super.call(this) || this).goalRowService = goalRowService, _this.expansionService = expansionService, 
                _this.changeDetector = changeDetector, _this.scorecardSettings = scorecardSettings, 
                _this.onSortColumn = new core.EventEmitter, _this.getSubgoals = function(goal) {
                    return _this.getGoalNodes(goal.subGoals, goal);
                }, _this.rowHash = function(_position, goal) {
                    return JSON.stringify(goal);
                }, _this.rowHeight = 42, _this.rowSpacing = 0, _this.dateFormatOptions = {
                    day: "numeric",
                    month: "numeric",
                    year: "2-digit"
                }, _this.colorBorderWidth = 4, _this.resizedColumns = {}, _this.innerIndentSpacing = 16, 
                _this.columnSpacing = 20, _this.showActionIcons = !1, _this.avatarRowSize = "smallest", 
                _this.avatarRowCount = 2, _this.hideColumnHeaders$ = null === (_b = null === (_a = _this.scorecardSettings) || void 0 === _a ? void 0 : _a.settings) || void 0 === _b ? void 0 : _b.pipe((0, 
                map.U)(function(settings) {
                    return null == settings ? void 0 : settings.hideColumnHeaders;
                })), _this;
            }
            return (0, tslib_es6.__extends)(CompactScorecardComponent, _super), CompactScorecardComponent.prototype.ngAfterViewInit = function() {
                var _a;
                this.columnTemplates = ((_a = {})[0] = this.nameCell, _a[1] = this.ownersCell, _a[2] = this.statusCell, 
                _a[3] = this.combinedValueTargetCell, _a[10] = this.changeCell, _a[7] = this.currentCell, 
                _a[4] = this.sparklineCell, _a[8] = this.targetCell, _a[9] = this.milestoneCell, 
                _a[5] = this.dueDateCell, _a[6] = null, _a);
            }, CompactScorecardComponent.prototype.ngOnChanges = function(changes) {
                changes.scorecard && (this.goals = this.getGoalNodes(this.scorecard.goals), this.expandedGoalIds = this.expansionService.expandedGoalIds), 
                (changes.scorecard || changes.viewSettings) && this.columnTemplates && this.recalculateColumnLayout(), 
                _super.prototype.ngOnChanges.call(this, changes);
            }, CompactScorecardComponent.prototype.onGoalRowClick = function(goal, event) {
                this.goalRowService.onRowClick(goal, event);
            }, CompactScorecardComponent.prototype.onExpansionChange = function(change) {
                this.expansionService.expandGoals(change.added), this.expansionService.collapseGoals(change.removed);
            }, CompactScorecardComponent.prototype.onResizeScorecard = function(viewport) {
                this.scorecardWidth = viewport.width, this.recalculateColumnLayout(), this.changeDetector.markForCheck();
            }, CompactScorecardComponent.prototype.onResizeColumn = function(_a) {
                var width = _a.width, column = _a.column;
                this.columns[column] && (this.columns[column].width = width, this.resizedColumns[this.columns[column].id] = width - this.columnSpacing, 
                this.recalculateColumnLayout(), this.changeDetector.markForCheck());
            }, CompactScorecardComponent.prototype.recalculateColumnLayout = function() {
                this.effectiveBreakpoint = this.getEffectiveBreakpoint(this.scorecardWidth);
                var cutoffIndex = this.calculateCutoffIndex(), totalWidthAtCutoff = this.calculateTotalWidth(this.effectiveBreakpoint, cutoffIndex);
                this.columns = this.getColumns(cutoffIndex, totalWidthAtCutoff), this.setResponsiveSettings();
            }, CompactScorecardComponent.prototype.getEffectiveBreakpoint = function(width) {
                for (var _i = 0, breakpoints_1 = breakpoints; _i < breakpoints_1.length; _i++) {
                    var breakpoint = breakpoints_1[_i];
                    if (this.calculateTotalWidth(breakpoint) < width) return breakpoint;
                }
                return Breakpoint.Default;
            }, CompactScorecardComponent.prototype.calculateCutoffIndex = function() {
                var _a, cutoffIndex = this.scorecard.columnSettings.length;
                if ((null === (_a = this.viewSettings) || void 0 === _a ? void 0 : _a.dropColumns) && this.effectiveBreakpoint === Breakpoint.Default) for (var totalWidth = this.colorBorderWidth, i = 0; i < this.scorecard.columnSettings.length; i++) if (this.scorecard.columnSettings[i].show && (totalWidth += this.getBaseColumnWidth(this.scorecard.columnSettings[i].columnId, this.effectiveBreakpoint)) > this.scorecardWidth) {
                    cutoffIndex = i || 1;
                    break;
                }
                return cutoffIndex;
            }, CompactScorecardComponent.prototype.calculateTotalWidth = function(breakpoint, cutoffIndex) {
                var _a, _this = this;
                return this.colorBorderWidth + _.sumBy(_.filter(null === (_a = this.scorecard) || void 0 === _a ? void 0 : _a.columnSettings.slice(0, cutoffIndex), function(col) {
                    return col.show;
                }), function(col) {
                    return _this.getBaseColumnWidth(col.columnId, breakpoint);
                });
            }, CompactScorecardComponent.prototype.getBaseColumnWidth = function(columnId, breakpoint) {
                var _a;
                return (null !== (_a = this.resizedColumns[columnId]) && void 0 !== _a ? _a : getResponsiveSetting(CompactScorecardColumnWidths[columnId], breakpoint)) + getResponsiveSetting(CompactScorecardColumnSpacingWidths, breakpoint);
            }, CompactScorecardComponent.prototype.getColumns = function(cutoffIndex, totalWidth) {
                var _a, _this = this;
                return _.map(_.filter(null === (_a = this.scorecard) || void 0 === _a ? void 0 : _a.columnSettings.slice(0, cutoffIndex), function(col) {
                    return col.show;
                }), function(col, index) {
                    return (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, constants.Ml[col.columnId]), {
                        cellTemplate: _this.columnTemplates[col.columnId],
                        key: col.columnId.toString(),
                        index,
                        width: (columnId = col.columnId, columnWidthAtBreakpoint = _this.getBaseColumnWidth(columnId, _this.effectiveBreakpoint), 
                        Math.max(Math.floor(columnWidthAtBreakpoint / totalWidth * _this.scorecardWidth), columnWidthAtBreakpoint)),
                        headerTemplate: _this.columnHeader,
                        resizable: !0
                    });
                    var columnId, columnWidthAtBreakpoint;
                });
            }, CompactScorecardComponent.prototype.setResponsiveSettings = function() {
                var _this = this;
                this.innerIndentSpacing = getResponsiveSetting(CompactScorecardInnerIndentWidths, this.effectiveBreakpoint), 
                this.columnSpacing = getResponsiveSetting(CompactScorecardColumnSpacingWidths, this.effectiveBreakpoint), 
                this.columns && this.columns.forEach(function(col) {
                    return _this.updateSettingsForColumn(col);
                });
            }, CompactScorecardComponent.prototype.getSettingsForColumn = function(column, settings) {
                return function(settings, baseSettings, currentValue) {
                    for (var _loop_1 = function(breakpoint) {
                        if (debug.fF.assert(function() {
                            return !(!_.isNil(settings[breakpoint]) && _.isNil(baseSettings[breakpoint]));
                        }, "Associated settings at ".concat(breakpoint, " have no matching breakpoint in base settings and will not be triggered.")), 
                        baseSettings[breakpoint] <= currentValue && !_.isNil(settings[breakpoint])) return {
                            value: settings[breakpoint]
                        };
                    }, _i = 0, breakpoints_2 = breakpoints; _i < breakpoints_2.length; _i++) {
                        var state_1 = _loop_1(breakpoints_2[_i]);
                        if ("object" == typeof state_1) return state_1.value;
                    }
                    return settings[Breakpoint.Default];
                }(settings, CompactScorecardColumnWidths[column.id], column.width - this.columnSpacing);
            }, CompactScorecardComponent.prototype.updateSettingsForColumn = function(column) {
                var _a;
                switch (column.id) {
                  case 0:
                    this.showActionIcons = this.getSettingsForColumn(column, CompactScorecardShowActionIcons);
                    break;

                  case 1:
                    _a = this.getSettingsForColumn(column, CompactScorecardAvatarRowSettings), this.avatarRowSize = _a.avatarRowSize, 
                    this.avatarRowCount = _a.avatarRowCount;
                }
            }, CompactScorecardComponent.prototype.getGoalNodes = function(goals, parent) {
                var _this = this;
                return _.map(_.filter(goals, function(goal) {
                    return !goal.isNew && !goal.isHidden;
                }), function(goal, i) {
                    var level = parent ? parent.level + 1 : 0, color = parent ? parent.color : constants.gT.ColorPalette[i % constants.gT.ColorPalette.length], isSelected = _this.goalRowService.isSelected(goal), className = [ !1 === goal.isFilterMatch ? "goal-not-match" : "", isSelected ? "selected-goal" : "" ].join(" ");
                    return (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, goal), {
                        level,
                        color,
                        innerIndent: level,
                        style: {
                            "border-left-color": color,
                            "border-color": isSelected ? color : ""
                        },
                        class: className,
                        onClick: function(event) {
                            return _this.goalRowService.onRowClick(goal, event);
                        }
                    });
                });
            }, CompactScorecardComponent.\u0275fac = function(t) {
                return new (t || CompactScorecardComponent)(core["\u0275\u0275directiveInject"](GoalRowService), core["\u0275\u0275directiveInject"](ScorecardExpansionService), core["\u0275\u0275directiveInject"](core.ChangeDetectorRef), core["\u0275\u0275directiveInject"](scorecardSettingsService.u, 8));
            }, CompactScorecardComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: CompactScorecardComponent,
                selectors: [ [ "compact-scorecard" ] ],
                viewQuery: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275viewQuery"](compact_scorecard_component_c0, 5), 
                    core["\u0275\u0275viewQuery"](compact_scorecard_component_c1, 5), core["\u0275\u0275viewQuery"](compact_scorecard_component_c2, 5), 
                    core["\u0275\u0275viewQuery"](_c3, 5), core["\u0275\u0275viewQuery"](_c4, 5), core["\u0275\u0275viewQuery"](_c5, 5), 
                    core["\u0275\u0275viewQuery"](_c6, 5), core["\u0275\u0275viewQuery"](_c7, 5), core["\u0275\u0275viewQuery"](_c8, 5), 
                    core["\u0275\u0275viewQuery"](_c9, 5), core["\u0275\u0275viewQuery"](_c10, 5), core["\u0275\u0275viewQuery"](_c11, 5)), 
                    2 & rf) {
                        var _t = void 0;
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.columnHeader = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.nameCell = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.ownersCell = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.statusCell = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.combinedValueTargetCell = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.changeCell = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.currentCell = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.targetCell = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.milestoneCell = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.sparklineCell = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.dueDateCell = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.blankCell = _t.first);
                    }
                },
                inputs: {
                    scorecard: "scorecard",
                    isEditMode: "isEditMode",
                    viewSettings: "viewSettings",
                    sort: "sort"
                },
                outputs: {
                    onSortColumn: "onSortColumn"
                },
                features: [ core["\u0275\u0275InheritDefinitionFeature"], core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 23,
                vars: 1,
                consts: [ [ 3, "style", "hidden", "columns", "data", "expandedNodeIds", "getChildren", "rowHash", "rowHeight", "rowSpacing", "paddingIndent", "onResizeColumn", "onExpansionChange", "onResizeTreeList", 4, "ngIf" ], [ "columnHeader", "" ], [ "nameCell", "" ], [ "ownersCell", "" ], [ "statusCell", "" ], [ "combinedValueTargetCell", "" ], [ "changeCell", "" ], [ "currentCell", "" ], [ "targetCell", "" ], [ "milestoneCell", "" ], [ "sparklineCell", "" ], [ "dueDateCell", "" ], [ 3, "columns", "data", "expandedNodeIds", "getChildren", "rowHash", "rowHeight", "rowSpacing", "paddingIndent", "onResizeColumn", "onExpansionChange", "onResizeTreeList" ], [ 3, "column", "index", "sort", "isEditMode", "reserveSpaceForSortIcon", "onSortColumn", 4, "ngIf" ], [ 3, "column", "index", "sort", "isEditMode", "reserveSpaceForSortIcon", "onSortColumn" ], [ 1, "displayed-name-and-action-wrapper", "compact-cell" ], [ 3, "goal", "scorecard", "boldName", "innerIndent" ], [ 1, "actions-spacer" ], [ 3, "goal", "isEditMode", "showActionIcons" ], [ 1, "compact-cell", 3, "goal", "alwaysShowAvatarRow", "rowStyle", "avatarSize", "avatarRowCount" ], [ 1, "compact-cell", 3, "goal" ], [ 1, "compact-cell", 3, "goal", "showCurrent", "showTarget", "showMilestone", "compact" ], [ 1, "compact-cell", 3, "goal", "showCurrent", "compact" ], [ 1, "compact-cell", 3, "goal", "showTarget", "compact" ], [ 1, "compact-cell", 3, "goal", "showMilestone", "compact" ], [ 1, "compact-cell", 3, "goal", "height", "width" ], [ 1, "compact-cell", 3, "goal", "formatOptions" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275template"](0, CompactScorecardComponent_tree_list_0_Template, 1, 15, "tree-list", 0), 
                    core["\u0275\u0275template"](1, CompactScorecardComponent_ng_template_1_Template, 2, 3, "ng-template", null, 1, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](3, CompactScorecardComponent_ng_template_3_Template, 4, 9, "ng-template", null, 2, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](5, CompactScorecardComponent_ng_template_5_Template, 1, 5, "ng-template", null, 3, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](7, CompactScorecardComponent_ng_template_7_Template, 1, 1, "ng-template", null, 4, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](9, CompactScorecardComponent_ng_template_9_Template, 1, 5, "ng-template", null, 5, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](11, CompactScorecardComponent_ng_template_11_Template, 1, 1, "ng-template", null, 6, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](13, CompactScorecardComponent_ng_template_13_Template, 1, 3, "ng-template", null, 7, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](15, CompactScorecardComponent_ng_template_15_Template, 1, 3, "ng-template", null, 8, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](17, CompactScorecardComponent_ng_template_17_Template, 1, 3, "ng-template", null, 9, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](19, CompactScorecardComponent_ng_template_19_Template, 1, 3, "ng-template", null, 10, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](21, CompactScorecardComponent_ng_template_21_Template, 1, 2, "ng-template", null, 11, core["\u0275\u0275templateRefExtractor"])), 
                    2 & rf && core["\u0275\u0275property"]("ngIf", ctx.scorecard);
                },
                dependencies: [ common.NgIf, goal_change_cell_component.k, TreeListComponent, GoalActionsCellComponent, GoalDueDateCellComponent, GoalNameCellComponent, GoalOwnersCellComponent, goal_sparkline_cell_component.t, GoalStatusCellComponent, goal_value_cell_component.m, ScorecardColumnHeaderComponent, common.AsyncPipe ],
                styles: [ "[_nghost-%COMP%]{display:flex;flex:1}[_nghost-%COMP%]   tree-list[_ngcontent-%COMP%]{flex:1;overflow:hidden;--column-headers-backgroundColor: var(--scorecard-tableHeaderBackgroundColor);--column-headers-foregroundColor: var(--scorecard-tableHeaderForegroundColor);--row-backgroundColor: var(--scorecard-tableRowBackgroundColor);--row-foregroundColor: var(--scorecard-tableRowForegroundColor);--border-left-width: 4px;--expanderWidth: 44px}[_nghost-%COMP%]   tree-list[_ngcontent-%COMP%]     .row{width:100%;border:1px solid var(--fluent-theme-neutral-lighter-color);border-left-width:var(--border-left-width);border-right:none}[_nghost-%COMP%]   tree-list[_ngcontent-%COMP%]     .row.goal-not-match{opacity:50%}[_nghost-%COMP%]   tree-list[_ngcontent-%COMP%]     .row.selected-goal{border-right:1px solid}[_nghost-%COMP%]   tree-list[_ngcontent-%COMP%]     .row goal-actions-cell .action-btn, [_nghost-%COMP%]   tree-list[_ngcontent-%COMP%]     .row .actions-spacer{display:none;visibility:hidden}[_nghost-%COMP%]   tree-list[_ngcontent-%COMP%]     .row:hover goal-actions-cell .action-btn, [_nghost-%COMP%]   tree-list[_ngcontent-%COMP%]     .row:focus-within goal-actions-cell .action-btn, [_nghost-%COMP%]   tree-list[_ngcontent-%COMP%]     .row:hover .actions-spacer, [_nghost-%COMP%]   tree-list[_ngcontent-%COMP%]     .row:focus-within .actions-spacer{display:block;visibility:visible}[_nghost-%COMP%]   tree-list[_ngcontent-%COMP%]     .column-headers{border-left:var(--border-left-width) solid var(--column-headers-backgroundColor);border-bottom:1px solid var(--fluent-theme-neutral-lighter-color)}[_nghost-%COMP%]   tree-list[_ngcontent-%COMP%]     .column-headers .header{border-right:none!important}[_nghost-%COMP%]   tree-list[_ngcontent-%COMP%]     .column-headers .column-name{font-size:var(--md-font-size)}.compact-cell[_ngcontent-%COMP%]{width:100%;padding-right:var(--column-spacing);overflow:hidden}.displayed-name-and-action-wrapper[_ngcontent-%COMP%]{display:flex;height:100%}.displayed-name-and-action-wrapper[_ngcontent-%COMP%]   goal-name-cell[_ngcontent-%COMP%]{flex:1}.displayed-name-and-action-wrapper[_ngcontent-%COMP%]   goal-name-cell[_ngcontent-%COMP%]     .name-box{white-space:nowrap}goal-status-cell[_ngcontent-%COMP%]     status-icon{width:100%}goal-status-cell[_ngcontent-%COMP%]     status-icon .status{border-radius:4px;padding:0 2px}goal-due-date-cell[_ngcontent-%COMP%]{font-size:var(--md-font-size)}goal-change-cell[_ngcontent-%COMP%]{--change-font-size: var(--md-font-size)}" ],
                changeDetection: 0
            }), CompactScorecardComponent;
        }(rx_component.w), scorecardHostService = __webpack_require__(60166), pbi_feature_switch_directive = __webpack_require__(50264);
        function EmptyScorecardComponent_ng_container_2_ng_container_8_button_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r6 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 12), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r6);
                    var ctx_r5 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r5.onLinkToGoalClick());
                }), core["\u0275\u0275elementEnd"]();
            }
        }
        function EmptyScorecardComponent_ng_container_2_ng_container_8_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, EmptyScorecardComponent_ng_container_2_ng_container_8_button_1_Template, 1, 0, "button", 11), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var ctx_r3 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r3.canEdit);
            }
        }
        function EmptyScorecardComponent_ng_container_2_Template(rf, ctx) {
            if (1 & rf) {
                var _r8 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275element"](1, "div", 4)(2, "div", 5)(3, "div", 6), 
                core["\u0275\u0275elementStart"](4, "button", 7), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r8);
                    var ctx_r7 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r7.onNewGoalClick());
                }), core["\u0275\u0275pipe"](5, "localize"), core["\u0275\u0275element"](6, "mat-icon", 8)(7, "span", 9), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](8, EmptyScorecardComponent_ng_container_2_ng_container_8_Template, 2, 1, "ng-container", 10), 
                core["\u0275\u0275elementContainerEnd"]();
            }
            if (2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("disabled", !ctx_r0.canEdit), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](5, 3, "NewMetric")), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("pbiFeatureSwitch", "goalsLinkedGoals");
            }
        }
        function EmptyScorecardComponent_ng_template_3_button_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r11 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 15), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r11);
                    var ctx_r10 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r10.onCancelScorecard());
                }), core["\u0275\u0275element"](1, "mat-icon", 16), core["\u0275\u0275elementStart"](2, "span"), 
                core["\u0275\u0275text"](3), core["\u0275\u0275pipe"](4, "localize"), core["\u0275\u0275elementEnd"]()();
            }
            2 & rf && (core["\u0275\u0275advance"](3), core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](4, 1, "Metrics_LinkedMetrics_CancelSelectedScorecard")));
        }
        function EmptyScorecardComponent_ng_template_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275element"](0, "div", 13), core["\u0275\u0275template"](1, EmptyScorecardComponent_ng_template_3_button_1_Template, 5, 3, "button", 14)), 
            2 & rf) {
                var ctx_r2 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r2.onCancelScorecard);
            }
        }
        var EmptyScorecardComponent = function() {
            function EmptyScorecardComponent(scorecardHost) {
                this.onNewGoal = new core.EventEmitter, this.onLinkToGoal = new core.EventEmitter, 
                this.onCancelScorecard = (null == scorecardHost ? void 0 : scorecardHost.onCancelSelectedScorecard) ? function() {
                    return scorecardHost.onCancelSelectedScorecard();
                } : void 0;
            }
            return EmptyScorecardComponent.prototype.onNewGoalClick = function() {
                this.onNewGoal.emit();
            }, EmptyScorecardComponent.prototype.onLinkToGoalClick = function() {
                this.onLinkToGoal.emit();
            }, EmptyScorecardComponent.\u0275fac = function(t) {
                return new (t || EmptyScorecardComponent)(core["\u0275\u0275directiveInject"](scorecardHostService.M, 8));
            }, EmptyScorecardComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: EmptyScorecardComponent,
                selectors: [ [ "empty-scorecard" ] ],
                inputs: {
                    canEdit: "canEdit",
                    isMetricsPicker: "isMetricsPicker"
                },
                outputs: {
                    onNewGoal: "onNewGoal",
                    onLinkToGoal: "onLinkToGoal"
                },
                decls: 5,
                vars: 2,
                consts: [ [ 1, "empty-scorecard" ], [ 1, "content" ], [ 4, "ngIf", "ngIfElse" ], [ "metricsPickerView", "" ], [ 1, "icon" ], [ "localize", "ScorecardNoMetricsTitle", 1, "title" ], [ "localize", "ScorecardNoMetricsDescription", 1, "description" ], [ 1, "pbi-fluent-button", "primary", "new-goal", 3, "disabled", "click" ], [ "fontIcon", "pbi-glyph-add", 1, "glyphicon", "glyph-small" ], [ "localize", "NewMetric" ], [ 4, "pbiFeatureSwitch" ], [ "class", "link-to-goal", "localize", "Metrics_LinkedMetrics_Button_Preview", 3, "click", 4, "ngIf" ], [ "localize", "Metrics_LinkedMetrics_Button_Preview", 1, "link-to-goal", 3, "click" ], [ "localize", "ScorecardNoMetricsInfo", 1, "title" ], [ "class", "cancel-scorecard-button pbi-fluent-button", 3, "click", 4, "ngIf" ], [ 1, "cancel-scorecard-button", "pbi-fluent-button", 3, "click" ], [ "fontIcon", "pbi-glyph-chevronleftmedium", 1, "glyphicon", "glyph-mini" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 0)(1, "div", 1), core["\u0275\u0275template"](2, EmptyScorecardComponent_ng_container_2_Template, 9, 5, "ng-container", 2), 
                    core["\u0275\u0275template"](3, EmptyScorecardComponent_ng_template_3_Template, 2, 1, "ng-template", null, 3, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275elementEnd"]()()), 2 & rf) {
                        var _r1 = core["\u0275\u0275reference"](4);
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", !ctx.isMetricsPicker)("ngIfElse", _r1);
                    }
                },
                dependencies: [ common.NgIf, localize_directive.X, icon.Hw, pbi_feature_switch_directive.P, localize_pipe.F ],
                styles: [ "[_nghost-%COMP%]   .empty-scorecard[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto;display:flex}[_nghost-%COMP%]   .empty-scorecard[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:auto;max-width:350px;text-align:center;display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .empty-scorecard[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQkAAADwCAMAAAAkXGEzAAADAFBMVEUAAAD50Rr2yhLzyhLzyhLzyRLzyRLzyRHzyBLzyRHzyRLyyRHzyRLzyRHyyRLzyRHyyBH/0hTzyhPyyRHzyRLyyBL0yRPzyRH0yxLzyRLyyRH1yxXzyRH4zRf/3CXzyRH0yhP/+UP0yhP0yRHzyRHzyhHzyRH0yRLyyRHxxxHwxhHvxRHtwxHswhHrwRHpwBHowBHvz0n777v99NDkuxHguBD99dPetRD89dT58tLcsxDnvhH89df2yhL99tn999v88cX55Y3555r44oH99939+OD66Zz444f9+OPzyxz22Fb56Z/++eT++eX9+ef56aL++un8+On9+uv78MD666v66qX+++3+++/+/PH666j99tf888z+++v+/PT+/Pb+/ff+/Pn//vr//vz+/f3u2X3asg/Sqg/Kow/huRDWrxDTrA/11UjyyRf0yxL00DP43m/333hZQD345pZPOxzzzSNWQiX////00j769Nn88sjzyRL++efz1FL222W6lA9FKwv///9PNBHwxhL////9/Pzuyzb04Y3x2G3tyCny1V7qwxv////atBb99dX///7kxELp0Gj67bTsxiDivzHny1jCvbLSy8DfuR7x4JbsxBj79dr58tb16r389+X////79d3279Tz7NT49OX69un////07tj28uT28dr18N/7+Ov//fjv6tr48MvX0Mj48936+O/s5tbz7uD++eT8/Pz29fP89+H69eHm4dPw7OH7+vb////5+Pjw7erby6D8+u/9/fvr59zm4c718+78+/j//Oz////6+fjz7+be2M739fH6+PL9+/Pu7Onr6OHz8u75+PX39evv7ej49vPr5dD+++n7+vnt6uT////8+/r////////////y7+ro49aNgWj9/Pvk3MX//O/////////WzsZPMxP////o5d/o49z////X0cXm4tv////9/f3h0ZX///7////6+ffx7+zn497t6eX39fTm4t3m493j39nz8e77+/r29fTm4dzz8e/5+Pfh3dfkktj7AAABAHRSTlMAEzZVa3yUprnN2d3n7PL7/w08s9XzTYEoYp8vxSAHikIDXHPiZr6b8P//////////////////////////HP//////////////////////////////////////////////////////////////RP///wT/CP8Pzv/+//X///+FFv83/8W3////////0f//1v///////xRA/////////9L//////9T/////////iSj/////6adb///////JlUxS////////48F///7///9z//7//////+3//9r/2dfc//8o5f/w391vIeH//+P9/ubq/+3p8+vx7ubq7fvz+PDaofzxuSMzYQAAH99JREFUeAHs04VhhTAQANCL4nC4u+4/YSeot0DyeTs8eDwet0Io40IapmU7rucHGPie69iWaUjBGSXwAsKIyzhJ8WNpEksehaApkuWxg9/hxHlGQC9FWdn4M3ZVFqAHwioXf8etGAHF1aIJ8C8EjagVPpHb+JfsXMknrUjw7yWiBaV0zMT/YrJOnRW9h//J69VYMsT4/+IBbm6cLDyHNY1wX9284HmWuYN76riL53J5d8cX64LnW9bbHWEOXsNhcCf1htfZargLsuO1dgJ3MPIDr3bw8Y26urqRIIihKLqqBMrLzGgoGGjOP66l72ay5sgRXOnJR+qu7qAJ9gaT3V1pf85LW9+AiHgAIprYw16qflRzBnXwL4M46c3JXwyESc6MXohX2xCCxfsQYm8heC88NYV91XoZp9AYYrPdDbTdTE8BpypPxLxBUwkJ291g2yCTS8CbUVlGA2K/342w90wwlX1VWEZziZCkIyRhagmFhZy8QTOSmOV5Wgy7PM+iEMzg7UR/Gf+QXSzzEcroGAHgcBbyfANtkKUaV6ISxh/u62A3bSAI47hAuaL9FBuCkMUh+NBzKkU9EAgJJG4CxLjN2nn/Fykbf6vS1lLxesct+YsDO8ffYeSBl0atfHyPA/z3EgjGLezKCEdITB3yKYFIfG/ehDgJCYQ3wpdnjBORQDyUhOj2cJzEzCHPEuh15SAGfZyQBPoDKYhLhWMl5ux2YbqaV3a1MN3ap3cJqEshCKC2xB1M99US9zDdiUgwEYqBqiGxZJRYVkYJ+5SQUAOBZdnHCUqg731tDnuoI7FilFhVRgn7FJFAb+j5gyrGiUog9vqJ1QnhJvEA02O1xCNMD8ISCDsej64INSWS1XsJJZJVYtv/3c/f35TgXEwC0djbGR6gtgSzEsn1V9NTYjuUYGISCHwd6SM4Szxbic8wVUk8y0tg5AdigsYS6+T6F4l1st7/KGFnghKY+IA4Vw4SG0aJzeZLKbE5jBL2KSmhzptDdGI4SGwZJbZbSmwPo4R9Skog7jSWCPAhJBBILIkaEi9/l3gRkBBYFV3lJpGm6S7d7VJKpOm0lODclO4okZr/+7mwhOq2uiSsRMYokWWUMLNv302bLKNExgQlmq+KAAISTzBN5SQEVsUETSVeYVpUSMzal8CkxSVhJbTWmf4pobMZJfZzK6EXML2amRaUaL4qxiHcJZiV0PNSwsxKibm2EprJSyB0u8UuICCR539I5FrnZt6CBC5cIIaqgUTOKJHnlDAzSuS5lWBtSKihwykewafE8neJ5T+RQFT/QD9DE4mCvZUSRUEJM6NEUZQSbwVrRQJndSE6n7xI/GDuPNjTRrYw7N7AlwMh7uVyl4V4+6Z3F8JiuT/YuLftBUxLYc1u2j+/YggayRmfkXQ0it/0Ht4HSTOfPh3v/9DgYHf3kH3nZuPnbrLvHu7uHrDv7Ptr4ka7QxNJIJk4coE/JiDpTMQ4fHoTqorf445MJD6xCZXF74QTEZ1ANHF8cnJ8cnx88uHbBifin9P58PPchOLid6eDK2iAauLEBdyE4uJ3wP6V9HP4pCaUF78/t73hiHtl4vTkVP98wkF+/pSbUF38jk+pXlRxE6fO4SbUF7+7bL4lgnQTP7qAm1Be/A5OqctnrG1lVyZYW5la/PYys4nFgQR7IT+5gL0Qn4rf8Zh3dSr0qYZ7Rz875ugee3NT684eFrD66Sa+ufPLsVMRx7/c+cZHE/02BmkAlZkvvr7962+/O+S3X29//cWMrOQ7l7t/PzfnRclXPsqjj25CPzz++PXPvxzx569/6AcHauIgk9cAbt0C0PKZA6qJPmlmB1TYyuib23/88ccd2+i/+fY3rXWR2MTcUgF0mAmdwtIczQTIcrxp8ETFF/qm6JuvbfONvtkyNlCiuvP9lAZN7t6FJlrqPqnuPC1ZVQ0CHeKmWmDiIA8t7t+HFvkDionBKUXb8fhZ+CwO9KCF1505c0UQmYCi0fl2U3fuVHS+PNP/9BmWH+LBKGbiVhHEJqB4i2ACPWdOgmsacz3DcDmTk+Cs7szJg4nHj8FE3vz7HJqAScRENyh7T7S1uTWRgstNQIpgohsxEQXaecI7E2mDAw3M7O+DGe0gbeDURJSwmBgEHBUmSmDh6VOwUHJvAkbc3xPuBSfMmGlrm7kcxMStApgoltPpchFMFG6JTdDuFw8ATv+Q+/VEpeJgPcGL3+kqcLRcs/id04BTXXRd/B5wfbvnv/htY3Q6y/PndkJ6bqLFEhi8mGv95NwLMFhadF93Hnd55ejRL7PXQY4wpH/50m5IbzWhgcHCosECGGhiE6SrxwSgJBvL08gAyBCH9K9e2QzprSZugUFthZtYqYHBLffF7wmxiPYQIETPWnOb4oDAQ3rEBBrSW4vfN8GgvGqiDAY33Re/Q+2O9xzBMeOQiiSjgMBDesQEFtJbS75bYLCwZmIBDLYIJd9ON49xjDF/4STIEIf0f/8tD+kFJvbAYNm+CeKDH0HACU7qIgYAhYf0D+5aP9/Xv2CfeUhvMbEJBmWziTIYbBJMBN2lVRMx2fuGHtJfLH7fB4PaBqNZ/K6BwX1B8Zu0zBwFKV1nIIMeTVtLvmsaGOSyBuar6Aal5Dvq7mmviV7fTWSXTAurbItz88oqKzdRH3ByohgAKfUAgPpJHFYTVZOI2a0sw7LaXrBhYmLMwYK7Heh4ZoIXv7NPC4aIZzWopbLZCzuw2W158Xvo8gr6xyuKoStmwqD0QcS2LkJndRUslPjvFJgwYuyuy1QMkVvaCmaSiE08LjREnG+nmQj45x8wo83ubOPF7/oEe7HjvVGbO/NrV8vEDifTELGjixCZyOxwxCaivWx5PDRRt/n4S9xTE7MuEJlg/KuLWKxBk40NMLG0g5tghLqQO1rxiyLCcLVM7JpIn+8aIqwmiov8dyF151DHEBbKW4l4a+KZC8QmGKZN+OGhScT+ri0TMIYEDhF6y0ypiSML6bzIRH7VbvF7oG6/fdbjrYk0ytNUmYfzN1vfEZjgZAoXTWjzO55U4HvIlw6CiSWAFy0BT4uYCc5sqeliexsaFF4/w4rfhGcnoz6amAcdbSvNeA0WE0jxO73wb6FpQsv/sIEXvwn3f64DGWFIb0xjMUifa9CgsP4hmrWG9Hjdefbm0dFmGq07O+U6fdeBmkDIm+5UzGkA1miaXvzGkO88OvwzwY6NIjTIzBZBYIJW/HZMh+00l2iCT2Nh32XHRnH59Ywh5GJITy9+U1LdLo9NrF5KHgAK88vLpQI0qVlDenrxm/a0YLfHJtYuIwM6r5d1yho0eLFgDWTpxW+UoOxGWI9PJs4LAFBbZmQaKgqZZasJevEb48Y12dKqV6WJar78bK1JjS0Ol5vMv2BvD6sJevEbo0/w5u8lN83k01lY+L6RYsfARoMM6JTWWyyUUvrX1pCeXvzG6ByRNc/6PTaR5WwBo7aZzc6xY2P9AtZAll78RojG2nolZfYBZSZ4Ter1fXZsVOUmRMXvN29sFr8RQuNs9A4abwdUmUgXQacABqV1qQlh8fvtW3vFb4T6kHBkeMDOPVHadBbjxs3rqpG01HLruXX9c67xLUM0nUVQ/H7+3F7xW/4Rkdp7sXujg96bYKRAJ5/L5VIvANixkfuI1u/Fn6auVEhPUwf7THH+SHdfEAwG6VtRuYktYEvrnM76aw0AyrmPQKazyLp7HJAw0NvNh8jGRvvql25GQx6b2Gmimd8GC0vFUk6AJZom9Dm7w92AEEq2iz+IWchiAtSYAJ1UTgJu4rPP7JoIywL6wAjbbIbgAkrfE7tNAOB1TgYSTXMDhPcEJx4WDekKqTxPcBP5PSl0E7bpbYtF4SL/UXrtOGoCxXW5CR7IKjcBk6PAEV47gmpMaNW9q2ViuE/WtYqDUxIhGyZSe65NDA2pMHGtLjiREvcdgS4b01m27CAM6bkBT02I3vsD1L1opIcJSWCTODa35GyeNKGZINBPzSeSseGJZKQrpGBOjb8m+oiZFWt/x3pUTGfx2UQvNcccFleS6CG93yZ6iC2rnpjoOQhKSC82EQ6rNjFMut8R6ookJ4ZjSY+nswhMJBKqTXSR7oElAqDTE3E+neXnn+2F9PyVqzbxPy/ui3YFnE9neYeH9P6biHhxrzyUcDyd5d07PKT33wSLcDh18Aw8pH//Hg/pfTcRihE6NZTpLO/f4yG97yYCynpW4pAeT+t5SO+/iQShe0eazvL8ORLSC1759LRiE0nCIEjSdJZKBQnpBSZiMcUmuukdXbkPMzduIGk9cHxfbQ8p623jM0lkr8h/E5OKuvzIK6OYYCaVcJ38fAfdBJ7Q89+PTfyhM0F+5oduAr9rw3+/34PIh67ue8Lnj/PSfpXPE/TIXb7/4gxcVRPEyB0nNEX8iJHqTYyM8N9PitxxJvBx4/ShVnQT9Tr//aTIHacHnzVAH3RGN8H/nJvInTaKIw4I5OF34TDFBD1yl8c0nKTS98TEBMEEIXLHiRNmYxKG3xFMECN3fF3l+4pCsYmPI3f300L71XuYman8n7azem5ch+LwZWZmJo3AjangLbezzOw8Xlpm5lUpUAos7x97dax4E9XXWo2n+p5D+ub8ZEUP55zlHCFkyZzmyt2s54LkVeseOMfQ9Q1jzsGHLRPvFz9NSL6wLgITcXvHGKVEgLn0UdyEveF5n1gXwTbOzJ47c2POYdIHBh/auFg18ZG+P6Y9E8QpdXqdlffNL5QqDqOgQxsXmybe+VHTFtIinNDor1CakIztnKzO1Zg2LjZNvPZCLm/ZNcGCrWG9HgJeFzcbF4Tsm9BPKXjVajho1L83NaHqUOIiw4Lsm3j3x3wTwzZNYOovxkvLy0tLoYKXjQslmCPrJn7X92C3GY4jK3G8YUMcx0tAng+Iy3FCOLJt4qS+L79VE6txL6oO1cdGgrllE+/8aGVWA8oizwmox0T//IhAsZFXHmUG+bBgwnhsxWvGK+dZsEJ6TkCpib6hxkiCgQ+3jxiYSH0XMvHFusx0QbBs0gvN0nkQcJRumEPhaIKBj4lIawIcSPdSdwEX36zLAH/ECaFM4HSATtEJtVqtWRHMCUpAhcolgYmWFGGi46+IpibyHaT+pe0CnTG1/GAmgl7eeO7cxNatO/fv29doNNy9e8eulr3/oXyZJnsfx/RIe0owqpLjo6rWhCqBYHDAGJu7ceace3UjK6DiU7WjV8G/YRyTStkzZN4hHMkT5l9Tz3iejlbXhFIIqYNKaWF+X/obSkIFKnLS1vOliQlW8hTCfM75FCcm+vr3TydodUgfS0cckj5F1TCw2lx1cueY8t0iSpgX3y+LTxdFnESl0JStRxjh8qx9VZow8OEGsDYohLNn14Qh619+RdEuVhpeWU8TS+HOgMGiMI0WoZfTtEJeXCZ8SqASYLJBJwzj+8p5Nbh3KKLZeCCg+Ig4WRT6D4VVrSzpgYdAnHA4YITDNuGvpI31Mz4yOkS9E0gEZffuZ8LQi/yuB36mKFASqbzTxpvFZs4iLkFdE/5KbMo+aQKzYGH7NiCrI+ujLUwQclyE4dIljQOQDaz4DPPMBVnzeEXeemRd/FRo6CznhBB5RCpiohE4siaCh9slGh+pjpZDCdko+/nnFEIvq2B77XO+JraUfTeblBAojGLTqX9dI5fOnan2MZqoSNMhNvgRIxIT8JYh9/r162BCrwOIA0YpK0sTOXWQAt8x3++oJrj4vgV5njl345EsDKQpiTx+fFORy6riN00eiVIV0oQJoyOjo25/xOBE6v/9WHSqETKyPjJC3COMUccNBfW6XgIw2lC3TPjV7Egj/W87tvEyJbhHxlvmA8s/6kkGrY0n5dkOYBd7ZmLUjMdX3CHfYdSJgge7d+xK0fgAHRM+ozSa6JjQOBCmgXDIV0xwQv1W7x9990yFysqQJWHO6917+bmGzGm5FTgU846JlomFx1euPHny9O8jflSpVv+j7D6Cm8jyOI5vjufd4942B5KM4uRxFRlkk4py6G4yN68LlzaizcGsYYpYkmVhtRVaXhyGccuaoDYSM0L2MJJzJme4n/f312vJHYRgv+QMH73/635NOnk24HYzh5dyHHDiHspygAy6uowGegTWGf3Fg5bEAZxeNBaaLQP/bs+r99r3tJMBCCzP907iBgao+PwVCdrq361Q0AcHv//Spe7Oo6cOEObFAyFRL2H2QEWPs07Mk/Nf+1BPT1UD9C46q5Ogl8paj+u4HqO0ZXz11R3Q19XJ+HvJAevz7w4LUTCJd19cMBj0eRhDdzgU+M06ym7fGQEFqttRIT3HhVW4XDnP7EMdHdUNWAd0Fw9cstnFzYDBtowftaBXl/jBdzWTAYjii3LWSlsFJDCFtS9IdYhCoTsmNcbjzXY7fR92e7g3EgqJCBgN6MXLw3XkV5BYZbW5XC6fD2/R66/jvQoItcV2WfFkR/tbTDUXcXwxYKhPSf97ubW19f/A+L5uMtjqXH+mZjW2CrrbfoEEGPr6otEwLYb+eLEmu339epvNZu8fGIxFEDiYhZbD7ca/9xZQ68SOhB3T2ulfCYuM3vN5fEEdAutN7cWDhuPCOu3RVrsw3m9ru/LBOWC8mkVLS+u3tJOBaG2uLW4Vf4bEhVpNG+jtkCyXGWJiY7yc3W5Dfh+X6B1Ock3iIDBEUarb3VAOEAAIIZm6WOPEQyCn9eIlU9AAhZ6ffuSTR1b98s/aZ8fsNGdeGLb2NvThRx8ff6WFAYjWT97TQqgz+mtsFbg0Q2KDriH8bPoYQzSUivOaVAlXQBm5ms5wPM/1Dw7CQpKk3RRJ1ImhUCRW7rT1iNPptDhOd7PCVBT19cnRqCdYNlj5oU/RNf6npeFYXbNTc7LVYVwjCerTz86/3AIOxz/+y/u6yXidTedpB50IILGlHH4uQ0WGcJh2Bt5Q3O/fh3n3pJTs9VySEwSB50azZQuqThJD4hhqbGyi3lSfgQXjFeqLBoMMAbEfG0QXzxxhz4DZzcQF/FTfqIThaUdtan/9/HJVixaC+Axf0WOGqH2dtgqa4a1qGzbIKkOYLQZTfhflH1NGE0wC8ckIs0il8M9ZSVIowmuyr2P5K0lI4T55iDHQiyDTjy3F3fazR1ZjCyvdTNRqj7YrFq6Orq52LQa2DB2FEeLylTbUYSMHVHKg+XwTE/krHCJUiEAAEGAwLAajhM/n57jMjS/yGUVQayqoFnv2psRIRD9PbKbtlST6B/rkDeptGBxi0ZiEF2Cvvf6kBbt56WaCHeZMC+NaT09Plx7jr+daqk1GG2pvv6ZbEIBAG7Y7LKtXWRy/K7aNIGLiWDP/4jx0DfR5lAyfHp9gEiy+P5sNFSSpXxIHs/xKY3YbOeBys1ePwFP9k1F5Q/E1YA79qp7ttIPmgz0JqWUZMYI9LJ3Fx60t1SaDILq6pnSTQWFJ/sNhcVoObt1BQSIyxlfPQ/cBnoAy7Z2e0UnAYpQsCoXQ8DA+UarOZiMKvL9bQ8BiEoHiWpRjMeZA+e2dR4/Q3Q4Nx0WMjgkDzXZ0dJgwsFdUm4x2gujp8BgWBCC21p6yWo4c3MBuA0IRkX9JQUj4+iRO8XpvpPNzgr5kIRvJZkducIyIPAJ+238om20bEIyNTsZkowMa8rtO0+0VnccdNkyO3oIw3p2an19YgIUO48oJJmGejE9LED1o0QSBdbnupLXm6JCbScQKL5eg+62xOcHrXVrKZwRjXGF4eHkkmYEFK+hyse3NJfPmINHHHFK8JrffVY9Fgd8H+KXlLI4vsDAuDECgBQ0GbRmfQ6LaZDCIjoUp/WQA4ne/27Hz6MGjfSLdJoqhWG8VBIGSg1Ryzuv15scnphXBFJdOLOfyyUyGExDvAQSj8FSSuNobQ8ah3ONxYVGswsltVc3OrciEMbS4ODs7a8Rov3kcElUmo4dBzM/LhgXxux3owLFDUdENCbcYG2iqosAkcBaRM/shodzIYTzMKcmldJpZKEKcdlgKp1nTcHDcxNXe8CAcDMX9Pl/9UTzX+BXuf7GXMwstxq1FilnQlDCMKydIovpkdBDE/KIJAm07dag7RPdFkhgZKFRjQIEgIGQsCTTzRX5O2Y/0EEom453LpXMTwODGyEGlaDQ4ZDL59O3JQTiYgsQb2ClWrT7yjx0IFiUMZnHn7r17zEKHcf+EEaJFe81gCwIQs7OLt/STQTXU+Q5NRkTcCuBOoHfYqKCLV3C1ww0x56VyNB4koRRjW6QCiWlaMROwSE5LnvKZ05cyOkzklhKjHMebk/GtsFM4Ldb68tFWMyV37iIDBqak7YFhSRiuGWwyAIFvde9OeUGUIBrqdnfe7gXFnj2SOJygNYufY5KDgiEFBQhCjgsC5mNuBuOhmMsk93vR/iQsIpc8JYmgW++Qz6UnuCQHCTO+Gxvzu2cdlpozbu0xX8W48xAxi3vaKfnoxPGWFv2KME5GGeLu3Tu6yQDE7t2pPZHEcEhK7e0vDCfSuaWZR48fPxpPmiAE1DiGmgXWI1xH93vNTe8X2Ecyue5L/tLJOxjQOCTJQYCWRkJDnwpCov6Y1fF3t/bZB7NwPwFEJYxPThiXRMXJYBB3H97ZsgLRQBD4Z2+FkYFsoQCI5afXH6OZmUfPbuSNEl7E45/tKhl5l7I5rB18xJCilH2ksN9DEpTMfrGqQ774zSDBEPQ1FQ9mZ48dtUsNSIfhfv7kSclCNyUf6ocDEB8YIOYZxD1A4Bs/cZODDmKvMJdIjIwsJxLXnz5dmpjzovyjcU7QxyTiTVzpE/mZ9Giymf7nHk7ReijllSLEG7shoT754cmTYw70NZiEokJDCFOZYRuSPFQ7VNt5+FSITrg6DPf/2jMP57SRL47//rtf90x6x0L7D1ydcvVdmXZtypVpxxV7gguTAGmgKyxIk2BBBBYeaTRzIj0B93o2Tn+r1RqMzFjp9ZO4t9Vnvu9p92l2BlUEZKCNcx+/3WXiXK/KQBFoYmaHEME95EbGK2ZzamosU8+qCggcQ9nKBHYRGXzkPDMx6rnox7eYD9+ELAsTo0eH+AgCW20Er9fzoBDw4XswpodXZdOuembO4An9X6e/m4sPisEHIkQgW8n4IVAcx37rCES3CPz5GRGInXiEjqcxC81GI1NXHeiAgK7KnUSj3ES/BBvYbkmJ9I8y+hn4NiJFqSQaBUYo9+vQz6f5AOJ0mYvwPYhMaFqtYhpNholvjZqMDDIT//rxUpbd1Pa1ZeycX1iY8elycTZw53jz3VOdIriHq20PMzOzOJHeuWPHYDydyjAM3QrUOgEwadAElaSOb9VNXeEn104XkZKXeQDAH0r/yiYQnL3YI6oKbECoU1NZFBCjUqWAWIbtsJbJfiaWy6fiI8n9+/dxGRhiFMGY2SIYbKfdZeLtj3/vVRkoAllYjOHGmlvIqhqBrSBQsTaZoL4JaCMZuiJ2pSIZ+KqMmR+NeneFyMTR46f/5c/D+mRHUTYsUFYQ00jT1i0CAtlmoYgwEbGIlsmOJ/ftR3K5EWR+ViBUeHgmLgTOHLituvD5RiC2EnFxabmA1LO6Bj0hUBXlQau1WtVyKGEmZOjAaxTRLhfMBLMQxZf0xNDxM2IOFKMSmmBRcFhBNJBps+Z0/1kXnUdjMZyOy3I+H0/mUEQynkjV6ys+S4K/BRcvfu5tJgI7zB++7NhNXd3sYeHiyuracjEpQW9EeQDDMnHJzYbhqlXLUgh0UHE9EwI/FdwEc9E/gcURYx7e///7fX2SVK04FuuNDFtVZNgCE93Isb6+WBnAC0X5SDKB8W0tI2uc1QCBnTbfY358vmdlLMwura07sD0EXMcTYWMRV+zmNF9+pWZRSsRN0GY7im6OaBInOs7mD+JZcl+spJvT/NeIKAQhoNYACJroi7LU5dFEOZspKoSwMFk3PRaRW7fWEUwGpmT19ifX32UmgiruBCpjhotYuLh8F8JAQK+xN25DAQa1dLPhXYdhurrioA8ghloNmohozAIjlRjeEBEbnqhPt1pjojf2gAB1KUix2I4RAC8UyVKyXoJtmL8WMCFaxVkUEagMZP5WBUKaIKxiHUODNkSruUbDw8ZqcQy3pnWrkJgJfziXjsd2+CIShUKGHV+3/7umUmaPGSMAfijcMEu+c52bCLaKb1gggiLmbxEgIVXk8bSeLga/3alWbK5juoWp2OxCkkaFiURieMAXsSNRSChyuD9bTAzuQGTgoSjqJoRZ8rU3ewy1z28tYn4RLAohlxQfGUnQHqugiorVMjXWmsaq3+Ri1FdTnhgeYNMwxmBGhXAQ0AppzESOgEejUVkHZ1sTFD4PmBCt4iTzgHR6YEDVCrkkJYEHdSAEeiKrLvbSZtPtVNGvSd64opgYHtyxlxMvQlgI5AupVKKoVy3qUHK3NW0Che1NzAsTwVbxWXcgPBWLQB0IAxpIDMSL26+CVI2m2qFC4iZG6+kBfmxABghQCEs0VcCm0mS3bts0p6Z0ICFMADPRo1X8tVkEZz30mggUC5lqqK7i2lq0DZ/mjie8URgnCZYF4YmUdHfd5r251YIAoU2IVjF50WNWML+4uL5MgEBItHoewiEmOzwTrDZoKhvH8Y9PDqo6gQeGUMui8CgmRKtYFawhyx7rQOBxQ8DiJhCmgpnQ8/FBfE4qAKISeHIIEz1bxe1uESu3nsR6LAKa3MbLRB73ybkjgpwCNQJPlu97mkAV8FQgugOS3Ia9r+SL7MTgUx5XwYEnzOSpY+La4RlBKgBylwk7K0SUS6XxYlMFAk+NZ2mCbjJBiVZnkSiXxt2ika/X63kC8CqYqIEit6Ga49j5bNYw8s1pD6NC4NUwYUHFAcQ7ON/VXdOYGrvXaqEDu3LXEhZeARNAwXQtx/IcsHNZc2yqhQ4cAs+Gf7zmNa95zTbcB561bL3JySyTAAAAAElFTkSuQmCC);background-position:center;background-repeat:no-repeat;background-size:contain;height:200px;width:220.83px;margin:0 auto}[_nghost-%COMP%]   .empty-scorecard[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:var(--vlg-font-size, 18px);font-weight:var(--font-weight-semi-bold, 600);margin-top:28px}[_nghost-%COMP%]   .empty-scorecard[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);margin-top:20px}[_nghost-%COMP%]   .empty-scorecard[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .new-goal[_ngcontent-%COMP%]{margin-top:28px;display:inline-flex;align-items:center}[_nghost-%COMP%]   .empty-scorecard[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .new-goal[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;color:var(--text-primary-content-color-hc)}[_nghost-%COMP%]   .empty-scorecard[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .link-to-goal[_ngcontent-%COMP%]{background:transparent;border:none;text-decoration:underline;color:var(--fluent-theme-link-darker-color);font-size:var(--sm-font-size);font-weight:var(--font-weight-regular);margin-top:12px}[_nghost-%COMP%]   .empty-scorecard[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cancel-scorecard-button[_ngcontent-%COMP%]{margin-top:28px;padding:6px;font-size:var(--md-font-size);font-weight:var(--font-weight-regular);display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]   .empty-scorecard[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cancel-scorecard-button[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{margin-left:-12px}[_nghost-%COMP%]   .empty-scorecard[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cancel-scorecard-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:6px}[_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]   .mat-icon.glyph-small[_ngcontent-%COMP%]{font-size:var(--lg-font-size, 16px);width:var(--lg-font-size, 16px);height:var(--lg-font-size, 16px)}[_nghost-%COMP%]   .mat-icon.glyph-mini[_ngcontent-%COMP%]{font-size:var(--sm-font-size, 12px);width:var(--sm-font-size, 12px);height:var(--sm-font-size, 12px)}[_nghost-%COMP%]   .mat-icon.mat-ligature-font[fontIcon][_ngcontent-%COMP%]{overflow:auto}" ],
                changeDetection: 0
            }), EmptyScorecardComponent;
        }(), formatted_input_component = __webpack_require__(16511), goal_edit_buttons_row_component_c0 = [ "goal-edit-buttons-row", "" ], GoalEditButtonsRowComponent = function() {
            function GoalEditButtonsRowComponent() {
                this.onSave = new core.EventEmitter, this.onCancel = new core.EventEmitter, this.COLSPAN = constants.gT.TotalNumberOfColumns;
            }
            return GoalEditButtonsRowComponent.prototype.onSaveClick = function() {
                this.onSave.emit();
            }, GoalEditButtonsRowComponent.prototype.onCancelClick = function() {
                this.onCancel.emit();
            }, GoalEditButtonsRowComponent.\u0275fac = function(t) {
                return new (t || GoalEditButtonsRowComponent);
            }, GoalEditButtonsRowComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: GoalEditButtonsRowComponent,
                selectors: [ [ "", "goal-edit-buttons-row", "" ] ],
                inputs: {
                    disableSave: "disableSave"
                },
                outputs: {
                    onSave: "onSave",
                    onCancel: "onCancel"
                },
                attrs: goal_edit_buttons_row_component_c0,
                decls: 6,
                vars: 8,
                consts: [ [ 1, "button-box" ], [ "data-testid", "button-save", "localize", "PBI_Button_Label_Save", 1, "button-save", "pbi-fluent-button", "primary", 3, "disabled", "click" ], [ "data-testid", "button-cancel", "localize", "PBI_Button_Label_Cancel", 1, "button-cancel", "pbi-fluent-button", 3, "click" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "td")(1, "div", 0)(2, "button", 1), 
                    core["\u0275\u0275listener"]("click", function() {
                        return ctx.onSaveClick();
                    }), core["\u0275\u0275pipe"](3, "localize"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](4, "button", 2), 
                    core["\u0275\u0275listener"]("click", function() {
                        return ctx.onCancelClick();
                    }), core["\u0275\u0275pipe"](5, "localize"), core["\u0275\u0275elementEnd"]()()()), 
                    2 & rf && (core["\u0275\u0275attribute"]("colspan", ctx.COLSPAN), core["\u0275\u0275advance"](2), 
                    core["\u0275\u0275property"]("disabled", ctx.disableSave), core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](3, 4, "PBI_Button_Label_Save")), 
                    core["\u0275\u0275advance"](2), core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](5, 6, "PBI_Button_Label_Cancel")));
                },
                dependencies: [ localize_directive.X, localize_pipe.F ],
                styles: [ "[_nghost-%COMP%]   .button-box[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .button-save[_ngcontent-%COMP%]{margin-right:8px}" ],
                changeDetection: 0
            }), GoalEditButtonsRowComponent;
        }(), goal_limits = __webpack_require__(15337), goal_value_helper = __webpack_require__(45017), events = __webpack_require__(14786), dataQueryVisual_capabilities = __webpack_require__(29589), valueFormatter = __webpack_require__(72489), ConnectToDataHelper = function() {
            function ConnectToDataHelper() {}
            return ConnectToDataHelper.getPreviewValue = function(previewResult) {
                var _a, value, timestamp, formatString;
                if (null === (_a = null == previewResult ? void 0 : previewResult.result) || void 0 === _a ? void 0 : _a[0]) {
                    var firstRow = previewResult.result[0], measures = _.filter(previewResult.columns, function(column) {
                        return column.isMeasure;
                    }), measureColumn = _.first(measures), previewValue = firstRow[measureColumn.index], timeColumn = _.find(previewResult.columns, function(column) {
                        return !!column.type && !!column.type.dateTime;
                    });
                    timeColumn && (timestamp = new Date(firstRow[timeColumn.index])), formatString = (0, 
                    valueFormatter.EO)(measureColumn, dataQueryVisual_capabilities.iu), _.isFinite(previewValue) && (value = previewValue);
                }
                return {
                    timestamp,
                    value,
                    formatString
                };
            }, ConnectToDataHelper;
        }(), goals_tooltip_lazy_component = __webpack_require__(17085), ConnectToDataDialogServiceInjectionToken = new core.InjectionToken("ConnectToDataDialogService"), value_formatting_component = __webpack_require__(5432), immer_esm = __webpack_require__(74466), take = __webpack_require__(48787), filter = __webpack_require__(59973), format_value_pipe = __webpack_require__(82621), dialog = __webpack_require__(32293), fesm2022_forms = __webpack_require__(17174), localization_module = __webpack_require__(78035), skip = __webpack_require__(3307), tap = __webpack_require__(17653), rx_rx_component = __webpack_require__(12587);
        function getEffectiveRange(rangeSelection, rowCount, columnCount) {
            return (0, immer_esm.ZP)(rangeSelection, function(selection) {
                -1 === selection.start.column && (selection.start.column = 0, selection.end.column = columnCount - 1), 
                -1 === selection.start.row && (selection.start.row = 0, selection.end.row = rowCount - 1), 
                selection.start.row = Math.max(0, Math.min(selection.start.row, rowCount - 1)), 
                selection.start.column = Math.max(0, Math.min(selection.start.column, columnCount - 1)), 
                selection.end.row = Math.max(0, Math.min(selection.end.row, rowCount - 1)), selection.end.column = Math.max(0, Math.min(selection.end.column, columnCount - 1));
            });
        }
        function parseData(value, type) {
            switch (type) {
              case "Date":
                if (value) {
                    _.isString(value) && (value = value.replace(/\//g, "-"));
                    var date = new Date(value);
                    if (_.isFinite(date.getTime())) return date;
                }
                return;

              case "Number":
                return _.isFinite(parseFloat(value)) ? parseFloat(value) : void 0;

              default:
                return value;
            }
        }
        (0, immer_esm.Fl)(!1);
        var DataTableService = function() {
            function DataTableService() {
                this._columns$ = new BehaviorSubject.X([]), this._rows$ = new BehaviorSubject.X([]);
            }
            return Object.defineProperty(DataTableService.prototype, "columns", {
                get: function() {
                    return this._columns$.value;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(DataTableService.prototype, "rows", {
                get: function() {
                    return this._rows$.value;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(DataTableService.prototype, "rows$", {
                get: function() {
                    return this._rows$.asObservable();
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(DataTableService.prototype, "columns$", {
                get: function() {
                    return this._columns$.asObservable();
                },
                enumerable: !1,
                configurable: !0
            }), DataTableService.prototype.setColumns = function(columns) {
                this._columns$.next(columns || []);
            }, DataTableService.prototype.setRows = function(rows) {
                this._rows$.next(rows || []);
            }, DataTableService.prototype.appendRow = function() {
                this.ensureRows(this.rows.length + 1);
            }, DataTableService.prototype.ensureRows = function(rowCount) {
                var rows = this.rows;
                rowCount <= rows.length || this.setRows((0, tslib_es6.__spreadArray)((0, tslib_es6.__spreadArray)([], rows, !0), _.map(new Array(rowCount - rows.length), function() {
                    return [];
                }), !0));
            }, DataTableService.prototype.setCellData = function(cell, data) {
                if (this.isValidCell(cell)) {
                    var rows = this.rows, newRows = (0, tslib_es6.__spreadArray)((0, tslib_es6.__spreadArray)((0, 
                    tslib_es6.__spreadArray)([], _.slice(rows, 0, cell.row), !0), [ (0, tslib_es6.__spreadArray)([], rows[cell.row], !0) ], !1), _.slice(rows, cell.row + 1, rows.length), !0);
                    newRows[cell.row][cell.column] = data, this.setRows(newRows);
                }
            }, DataTableService.prototype.deleteRows = function(startRow, count) {
                var rows = this.rows;
                this.setRows((0, tslib_es6.__spreadArray)((0, tslib_es6.__spreadArray)([], _.slice(rows, 0, startRow), !0), _.slice(rows, startRow + count, rows.length), !0));
            }, DataTableService.prototype.emptyRange = function(range) {
                var _this = this;
                this.setRows((0, immer_esm.Uy)(this.rows, function(rows) {
                    for (var i = (range = getEffectiveRange(range, _this.rows.length, _this.columns.length)).start.row; i <= range.end.row; i++) for (var j = range.start.column; j <= range.end.column; j++) rows[i][j] = null;
                }));
            }, DataTableService.prototype.isValidCell = function(cell) {
                return !(!_.isFinite(cell.row) || !_.isFinite(cell.column) || cell.row >= this._rows$.value.length || cell.column >= this._columns$.value.length || cell.row < 0 || cell.column < 0);
            }, DataTableService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: DataTableService,
                factory: DataTableService.\u0275fac = function(t) {
                    return new (t || DataTableService);
                }
            }), DataTableService;
        }(), CellEditingService = function() {
            function CellEditingService(dataSource) {
                this.dataSource = dataSource, this._editingCell$ = new BehaviorSubject.X(void 0), 
                this._isReadOnly$ = new BehaviorSubject.X(!1), this.isReadOnly$ = this._isReadOnly$.asObservable();
            }
            return Object.defineProperty(CellEditingService.prototype, "isReadOnly", {
                get: function() {
                    return !!this._isReadOnly$.value;
                },
                enumerable: !1,
                configurable: !0
            }), CellEditingService.prototype.setReadOnly = function(isReadOnly) {
                this.cancelEditing(), this._isReadOnly$.next(!!isReadOnly);
            }, Object.defineProperty(CellEditingService.prototype, "editingCell$", {
                get: function() {
                    return this._editingCell$.asObservable();
                },
                enumerable: !1,
                configurable: !0
            }), CellEditingService.prototype.isEditing = function() {
                return !!this._editingCell$.value;
            }, CellEditingService.prototype.isEditingCell = function(cell) {
                var editingCell = this._editingCell$.value;
                return !!editingCell && !!cell && cell.column === editingCell.column && cell.row === editingCell.row;
            }, CellEditingService.prototype.tryEditCell = function(cell, data) {
                this.isEditingCell(cell) || this.isReadOnly || this.editCell(cell, data);
            }, CellEditingService.prototype.editCell = function(cell, data) {
                this.commitPendingEdit(), this.dataSource.isValidCell(cell) && this._editingCell$.next({
                    column: cell.column,
                    row: cell.row,
                    data: _.isNil(data) ? this.dataSource.rows[cell.row][cell.column] : data
                });
            }, CellEditingService.prototype.setEditingData = function(data) {
                var _a, _b, _c, row = void 0 === (_b = (_a = this._editingCell$.value || {}).row) ? 0 : _b, column = void 0 === (_c = _a.column) ? 0 : _c;
                this._editingCell$.next({
                    data,
                    row,
                    column
                });
            }, CellEditingService.prototype.commitPendingEdit = function() {
                var editingCell = this._editingCell$.value;
                editingCell && (this.dataSource.setCellData(editingCell, editingCell.data), this._editingCell$.next(void 0));
            }, CellEditingService.prototype.cancelEditing = function() {
                this._editingCell$.value && this._editingCell$.next(void 0);
            }, CellEditingService.\u0275fac = function(t) {
                return new (t || CellEditingService)(core["\u0275\u0275inject"](DataTableService));
            }, CellEditingService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: CellEditingService,
                factory: CellEditingService.\u0275fac
            }), CellEditingService;
        }(), SelectionService = function() {
            function SelectionService(dataStore) {
                var _this = this;
                this.dataStore = dataStore, this.currentSelection$ = new BehaviorSubject.X(void 0), 
                this._enforceSelectingColumn = !1, this.normalizedSelection$ = this.currentSelection$.pipe((0, 
                map.U)(function(selection) {
                    return _this.normalizeSelection(selection);
                }), (0, shareReplay.d)({
                    bufferSize: 1,
                    refCount: !0
                })), this.selectedCell$ = this.currentSelection$.pipe((0, map.U)(function(selection) {
                    return selection && {
                        column: selection.start.column,
                        row: selection.start.row
                    };
                }), (0, shareReplay.d)({
                    bufferSize: 1,
                    refCount: !0
                }));
            }
            return Object.defineProperty(SelectionService.prototype, "selectedCell", {
                get: function() {
                    var res;
                    return this.selectedCell$.pipe((0, take.q)(1)).subscribe(function(cell) {
                        return res = cell;
                    }), res;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(SelectionService.prototype, "normalizedSelection", {
                get: function() {
                    var res;
                    return this.normalizedSelection$.pipe((0, take.q)(1)).subscribe(function(selection) {
                        return res = selection;
                    }), res;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(SelectionService.prototype, "selection", {
                get: function() {
                    return this.currentSelection$.value;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(SelectionService.prototype, "enforceSelectingColumn", {
                set: function(enforceSelectingColumn) {
                    this._enforceSelectingColumn = enforceSelectingColumn;
                },
                enumerable: !1,
                configurable: !0
            }), SelectionService.prototype.setSelection = function(selection) {
                selection && (this._enforceSelectingColumn && (selection.start = {
                    row: -1,
                    column: selection.start.column
                }, selection.end = {
                    row: -1,
                    column: selection.start.column
                }), selection.start = this.normalizeCell(selection.start), selection.end = this.normalizeCell(selection.end)), 
                this.currentSelection$.next(selection), this.clearFocus();
            }, SelectionService.prototype.setFocus = function(cell, container) {
                this.ensureRowIsInVirtualScroll(cell.row);
                var cellElement = container.querySelector('[data-row="'.concat(cell.row, '"][data-column="').concat(cell.column, '"]'));
                cellElement && (cellElement.focus(), this.focusedCell = cell);
            }, SelectionService.prototype.clearFocus = function() {
                this.focusedCell = void 0;
            }, SelectionService.prototype.ensureRowIsInVirtualScroll = function(rowIndex) {
                var renderedRange = this.virtualScroll.getRenderedRange();
                rowIndex >= 0 && (renderedRange.start > rowIndex || renderedRange.end < rowIndex) && this.virtualScroll.scrollToIndex(rowIndex);
            }, SelectionService.prototype.selectCell = function(cell) {
                cell = this.normalizeCell(cell), this.setSelection({
                    start: cell,
                    end: cell
                });
            }, SelectionService.prototype.setSelectionStart = function(cell) {
                cell = this.normalizeCell(cell);
                var currentSelection = this.currentSelection$.value;
                this.setSelection({
                    start: cell,
                    end: (null == currentSelection ? void 0 : currentSelection.end) || cell
                });
            }, SelectionService.prototype.setSelectionEnd = function(cell) {
                cell = this.normalizeCell(cell);
                var currentSelection = this.currentSelection$.value;
                this.setSelection({
                    start: (null == currentSelection ? void 0 : currentSelection.start) || cell,
                    end: cell
                });
            }, SelectionService.prototype.selectAll = function() {
                this.selectCell({
                    row: -1,
                    column: -1
                });
            }, SelectionService.prototype.normalizeCell = function(cell) {
                var rowCount = this.dataStore.rows.length, columnCount = this.dataStore.columns.length;
                return {
                    row: _.isFinite(null == cell ? void 0 : cell.row) ? Math.max(-1, Math.min(cell.row, rowCount - 1)) : -1,
                    column: _.isFinite(null == cell ? void 0 : cell.column) ? Math.max(-1, Math.min(cell.column, columnCount - 1)) : -1
                };
            }, SelectionService.prototype.normalizeSelection = function(selection) {
                if (!_.isNil(selection)) return {
                    start: {
                        row: Math.min(selection.start.row, selection.end.row),
                        column: Math.min(selection.start.column, selection.end.column)
                    },
                    end: {
                        row: Math.max(selection.start.row, selection.end.row),
                        column: Math.max(selection.start.column, selection.end.column)
                    }
                };
            }, SelectionService.\u0275fac = function(t) {
                return new (t || SelectionService)(core["\u0275\u0275inject"](DataTableService));
            }, SelectionService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: SelectionService,
                factory: SelectionService.\u0275fac
            }), SelectionService;
        }(), ClipboardService = function() {
            function ClipboardService(selectionService, dataSource, cellEditingService) {
                this.selectionService = selectionService, this.dataSource = dataSource, this.cellEditingService = cellEditingService;
            }
            return ClipboardService.prototype.canCopyCurrentSelection = function() {
                return !!this.selectionService.normalizedSelection;
            }, ClipboardService.prototype.copyCurrentSelection = function(copyForExcel) {
                return void 0 === copyForExcel && (copyForExcel = !1), (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var selection, _a;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            return (selection = this.selectionService.normalizedSelection) ? (_a = getEffectiveRange({
                                start: selection.start || {
                                    row: 0,
                                    column: 0
                                },
                                end: selection.end || {
                                    row: 0,
                                    column: 0
                                }
                            }, this.dataSource.rows.length, this.dataSource.columns.length), [ 4, this.copy(_a.start, _a.end, !1, copyForExcel) ]) : [ 2 ];

                          case 1:
                            return _b.sent(), [ 2 ];
                        }
                    });
                });
            }, ClipboardService.prototype.copyAll = function(includeColumnNames) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return [ 4, this.copy({
                                row: 0,
                                column: 0
                            }, {
                                row: this.dataSource.rows.length - 1,
                                column: this.dataSource.columns.length - 1
                            }, includeColumnNames) ];

                          case 1:
                            return _a.sent(), [ 2 ];
                        }
                    });
                });
            }, ClipboardService.prototype.copy = function(start, end, includeColumnNames, copyForExcel) {
                void 0 === copyForExcel && (copyForExcel = !1);
                var data = _.map(_.slice(this.dataSource.rows, start.row, end.row + 1), function(row) {
                    return _.slice(row, start.column, end.column + 1);
                }), rowsText = [];
                if (includeColumnNames) {
                    var headersText = _(this.dataSource.columns).map(function(column) {
                        return column.name;
                    }).slice(start.column, end.column + 1).join("\t");
                    rowsText.push(headersText);
                }
                for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {
                    var rowText = _.join(data_1[_i].map(function(cell) {
                        return copyForExcel ? '"' + (null != cell ? cell : "").toString().trimStart().replace(/"/g, '""') : (null != cell ? cell : "").toString();
                    }), "\t");
                    rowsText.push(rowText);
                }
                return navigator.clipboard.writeText(_.join(rowsText, "\r\n"));
            }, ClipboardService.prototype.pasteOverSelection = function() {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var selection, data, pastedRows, columns, start, newRows;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return !(selection = this.selectionService.normalizedSelection) || this.cellEditingService.isReadOnly ? [ 2 ] : [ 4, navigator.clipboard.readText() ];

                          case 1:
                            return (data = _a.sent()) ? (0 === (pastedRows = _.map(data.split(/\n|\r\n/), function(row) {
                                return row.split(/\t/);
                            })).length || (columns = this.dataSource.columns, (start = selection.start || {
                                row: 0,
                                column: 0
                            }).row = Math.max(0, start.row), start.column = Math.max(0, start.column), this.dataSource.ensureRows(start.row + pastedRows.length), 
                            newRows = (0, immer_esm.ZP)(this.dataSource.rows, function(rows) {
                                for (var i = 0; i < pastedRows.length; i++) for (var j = start.column, rowCol = 0; j < columns.length && rowCol < pastedRows[i].length; j++, 
                                rowCol++) {
                                    var parsed = parseData(pastedRows[i][rowCol], columns[j].type);
                                    parsed && (rows[start.row + i][j] = parsed);
                                }
                            }), this.dataSource.setRows(newRows), this.selectionService.setSelection({
                                start,
                                end: {
                                    row: start.row + pastedRows.length - 1,
                                    column: start.column + pastedRows[0].length - 1
                                }
                            })), [ 2 ]) : [ 2 ];
                        }
                    });
                });
            }, ClipboardService.\u0275fac = function(t) {
                return new (t || ClipboardService)(core["\u0275\u0275inject"](SelectionService), core["\u0275\u0275inject"](DataTableService), core["\u0275\u0275inject"](CellEditingService));
            }, ClipboardService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: ClipboardService,
                factory: ClipboardService.\u0275fac
            }), ClipboardService;
        }(), ArrowKey = function(ArrowKey) {
            return ArrowKey.ArrowUp = "ArrowUp", ArrowKey.ArrowDown = "ArrowDown", ArrowKey.ArrowLeft = "ArrowLeft", 
            ArrowKey.ArrowRight = "ArrowRight", ArrowKey;
        }({}), KeyCode = function(KeyCode) {
            return KeyCode.Enter = "Enter", KeyCode.Tab = "Tab", KeyCode.Escape = "Escape", 
            KeyCode.Delete = "Delete", KeyCode.Backspace = "Backspace", KeyCode.F2 = "F2", KeyCode.Space = " ", 
            KeyCode;
        }({}), KeyboardEventHandlerService = function() {
            function KeyboardEventHandlerService(cellEditing, selectionService, dataSource, clipboardService) {
                this.cellEditing = cellEditing, this.selectionService = selectionService, this.dataSource = dataSource, 
                this.clipboardService = clipboardService;
            }
            return KeyboardEventHandlerService.prototype.keydown = function(event, container, allowExpandSelection) {
                var handled = !1;
                "c" === event.key && event.ctrlKey && !this.cellEditing.isEditing() ? (this.clipboardService.copyCurrentSelection(), 
                handled = !0) : "v" === event.key && event.ctrlKey && !this.cellEditing.isEditing() ? (this.clipboardService.pasteOverSelection(), 
                handled = !0) : "a" === event.key && event.ctrlKey && !this.cellEditing.isEditing() ? (this.selectionService.selectAll(), 
                handled = !0) : event.key.match(/^[a-z0-9]$/i) ? handled = this.handleAlphaNumeric(event.key) : event.key in ArrowKey ? handled = event.altKey ? this.handleColumnResize(event.key) : this.handleArrowKey(event.key, (event.shiftKey || event.ctrlKey) && allowExpandSelection, container) : event.key === KeyCode.Enter ? handled = this.handleEnter(event) : event.key === KeyCode.Tab ? handled = this.handleTab() : event.key === KeyCode.Escape ? handled = this.handleEscape() : event.key === KeyCode.Delete || event.key === KeyCode.Backspace ? handled = this.handleDelete() : event.key === KeyCode.F2 ? handled = this.handleF2() : event.key === KeyCode.Space && (handled = this.handleSpace(event)), 
                handled && (event.stopPropagation(), event.preventDefault());
            }, KeyboardEventHandlerService.prototype.handleF2 = function() {
                var selectedCell = this.selectionService.selectedCell;
                return !(!selectedCell || this.cellEditing.isEditingCell(selectedCell) || this.cellEditing.isReadOnly || (this.cellEditing.tryEditCell(selectedCell), 
                0));
            }, KeyboardEventHandlerService.prototype.handleAlphaNumeric = function(char) {
                var selectedCell = this.selectionService.selectedCell;
                if (selectedCell && !this.cellEditing.isEditingCell(selectedCell) && !this.cellEditing.isReadOnly) {
                    var column = this.dataSource.columns[selectedCell.column];
                    return this.cellEditing.tryEditCell(selectedCell, parseData(char, null == column ? void 0 : column.type)), 
                    !0;
                }
                return !1;
            }, KeyboardEventHandlerService.prototype.handleColumnResize = function(key) {
                var _a, _b, columnIndex = null === (_a = this.selectionService.focusedCell) || void 0 === _a ? void 0 : _a.column;
                if (void 0 !== columnIndex && -1 !== columnIndex) {
                    var columnWidth = null !== (_b = this.dataSource.columns[columnIndex].width) && void 0 !== _b ? _b : 50, newColumns = this.dataSource.columns;
                    switch (key) {
                      case ArrowKey.ArrowLeft:
                        newColumns[columnIndex].width = Math.max(columnWidth - 1, 45), this.dataSource.setColumns(newColumns);
                        break;

                      case ArrowKey.ArrowRight:
                        newColumns[columnIndex].width = columnWidth + 1, this.dataSource.setColumns(newColumns);
                    }
                }
                return !0;
            }, KeyboardEventHandlerService.prototype.handleArrowKey = function(key, expandSelection, container) {
                var focusTarget = {
                    row: -1,
                    column: -1
                };
                if (this.selectionService.focusedCell) focusTarget = {
                    row: this.selectionService.focusedCell.row,
                    column: this.selectionService.focusedCell.column
                }; else {
                    var selection = this.selectionService.selection;
                    (null == selection ? void 0 : selection.end) && expandSelection ? focusTarget = (0, 
                    tslib_es6.__assign)({}, selection.end) : (null == selection ? void 0 : selection.start) && (focusTarget = (0, 
                    tslib_es6.__assign)({}, selection.start));
                }
                switch (key) {
                  case ArrowKey.ArrowUp:
                    if (this.cellEditing.isEditing()) return !1;
                    focusTarget.row--;
                    break;

                  case ArrowKey.ArrowDown:
                    focusTarget.row++, this.cellEditing.isReadOnly || this.dataSource.ensureRows(focusTarget.row + 1);
                    break;

                  case ArrowKey.ArrowLeft:
                    if (this.cellEditing.isEditing()) return !1;
                    focusTarget.column--;
                    break;

                  case ArrowKey.ArrowRight:
                    if (this.cellEditing.isEditing()) return !1;
                    focusTarget.column++;
                }
                return expandSelection && this.selectionService.setSelectionEnd(focusTarget), this.selectionService.setFocus(focusTarget, container), 
                !0;
            }, KeyboardEventHandlerService.prototype.handleTab = function() {
                return this.selectionService.clearFocus(), !1;
            }, KeyboardEventHandlerService.prototype.handleEnter = function(event) {
                var _a, _b, focusedCell = this.selectionService.focusedCell;
                if (focusedCell) return this.selectionService.selectCell(focusedCell), null === (_a = event.target) || void 0 === _a || _a.blur(), 
                null === (_b = event.currentTarget) || void 0 === _b || _b.focus(), !0;
                var selectedCell = this.selectionService.selectedCell;
                if (selectedCell) {
                    if (this.cellEditing.isEditingCell(selectedCell)) {
                        var newSelection = {
                            row: selectedCell.row + 1,
                            column: selectedCell.column
                        };
                        return this.dataSource.ensureRows(newSelection.row + 1), this.selectionService.selectCell(newSelection), 
                        !0;
                    }
                    if (!this.cellEditing.isReadOnly) return this.cellEditing.tryEditCell(selectedCell), 
                    !0;
                }
                return !1;
            }, KeyboardEventHandlerService.prototype.handleSpace = function(event) {
                var _a, _b, focusedCell = this.selectionService.focusedCell;
                if (focusedCell) return this.selectionService.selectCell(focusedCell), null === (_a = event.target) || void 0 === _a || _a.blur(), 
                null === (_b = event.currentTarget) || void 0 === _b || _b.focus(), !0;
                var selectedCell = this.selectionService.selectedCell;
                if (selectedCell) {
                    if (this.cellEditing.isEditingCell(selectedCell)) return !1;
                    if (!this.cellEditing.isReadOnly) return this.cellEditing.tryEditCell(selectedCell), 
                    !0;
                }
                return !1;
            }, KeyboardEventHandlerService.prototype.handleEscape = function() {
                return this.cellEditing.cancelEditing(), !0;
            }, KeyboardEventHandlerService.prototype.handleDelete = function() {
                var selection = this.selectionService.normalizedSelection;
                return !(!selection || this.cellEditing.isEditing() || this.cellEditing.isReadOnly || (-1 === selection.start.column && -1 !== selection.start.row ? (this.dataSource.deleteRows(selection.start.row, selection.end.row - selection.start.row + 1), 
                this.selectionService.selectCell({
                    row: selection.start.row,
                    column: -1
                })) : this.dataSource.emptyRange(selection), 0));
            }, KeyboardEventHandlerService.\u0275fac = function(t) {
                return new (t || KeyboardEventHandlerService)(core["\u0275\u0275inject"](CellEditingService), core["\u0275\u0275inject"](SelectionService), core["\u0275\u0275inject"](DataTableService), core["\u0275\u0275inject"](ClipboardService));
            }, KeyboardEventHandlerService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: KeyboardEventHandlerService,
                factory: KeyboardEventHandlerService.\u0275fac
            }), KeyboardEventHandlerService;
        }(), dom = __webpack_require__(80786), MouseEventHandlerService = function() {
            function MouseEventHandlerService(cellEditing, selectionService, dataSource) {
                this.cellEditing = cellEditing, this.selectionService = selectionService, this.dataSource = dataSource;
            }
            return MouseEventHandlerService.prototype.doubleClick = function(event, cell) {
                this.cellEditing.isEditingCell(cell) || this.cellEditing.isReadOnly || (this.cellEditing.tryEditCell(cell), 
                event.preventDefault(), event.stopPropagation());
            }, MouseEventHandlerService.prototype.mouseDown = function(event, cell, allowExpandSelection) {
                if (this._supportRightClickMenu && event.button === dom.tc.Secondary) return event.preventDefault(), 
                void event.stopPropagation();
                this.cellEditing.isEditingCell(cell) || (event.preventDefault(), event.stopPropagation(), 
                $(event.currentTarget).trigger("focus"), event.shiftKey && allowExpandSelection ? this.selectionService.setSelectionEnd(cell) : this.selectionService.selectCell(cell), 
                this.isSelecting = !0);
            }, MouseEventHandlerService.prototype.mouseOver = function(event, cell, allowExpandSelection) {
                this.isSelecting && allowExpandSelection && (event.preventDefault(), event.stopPropagation(), 
                this.selectionService.setSelectionEnd(cell));
            }, MouseEventHandlerService.prototype.mouseLeave = function(event) {
                this.isSelecting && (this.isSelecting = !1, event.preventDefault(), event.stopPropagation());
            }, MouseEventHandlerService.prototype.mouseUpInCell = function(event, cell) {
                var _a, _b;
                if (this.showRightClickMenu = !1, cell && !this.cellEditing.isEditingCell(cell) && this._supportRightClickMenu && event.button === dom.tc.Secondary) {
                    var start = null === (_a = this.selectionService.normalizedSelection) || void 0 === _a ? void 0 : _a.start, end = null === (_b = this.selectionService.normalizedSelection) || void 0 === _b ? void 0 : _b.end;
                    if (!start || !end) return;
                    return this.isInEffectiveRange(cell, start, end) && (this.showRightClickMenu = !0), 
                    event.preventDefault(), void event.stopPropagation();
                }
            }, Object.defineProperty(MouseEventHandlerService.prototype, "supportRightClickMenu", {
                set: function(support) {
                    this._supportRightClickMenu = support;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(MouseEventHandlerService.prototype, "showRightClickMenu", {
                get: function() {
                    return this._showRightClickMenu;
                },
                set: function(show) {
                    this._showRightClickMenu = show;
                },
                enumerable: !1,
                configurable: !0
            }), MouseEventHandlerService.prototype.isInEffectiveRange = function(cell, selectionStart, selectionEnd) {
                var _a, start = (_a = getEffectiveRange({
                    start: selectionStart || {
                        row: 0,
                        column: 0
                    },
                    end: selectionEnd || {
                        row: 0,
                        column: 0
                    }
                }, this.dataSource.rows.length, this.dataSource.columns.length)).start, end = _a.end;
                return cell.row >= start.row && cell.row <= end.row && cell.column >= start.column && cell.column <= end.column;
            }, MouseEventHandlerService.\u0275fac = function(t) {
                return new (t || MouseEventHandlerService)(core["\u0275\u0275inject"](CellEditingService), core["\u0275\u0275inject"](SelectionService), core["\u0275\u0275inject"](DataTableService));
            }, MouseEventHandlerService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: MouseEventHandlerService,
                factory: MouseEventHandlerService.\u0275fac
            }), MouseEventHandlerService;
        }(), ResizeServiceInjectionToken = new core.InjectionToken("ResizeService"), TriCellComponent = function() {
            function TriCellComponent() {}
            return TriCellComponent.\u0275fac = function(t) {
                return new (t || TriCellComponent);
            }, TriCellComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: TriCellComponent,
                selectors: [ [ "tri-cell" ] ],
                inputs: {
                    data: "data"
                },
                decls: 1,
                vars: 1,
                template: function(rf, ctx) {
                    1 & rf && core["\u0275\u0275text"](0), 2 & rf && core["\u0275\u0275textInterpolate"](ctx.data);
                },
                styles: [ "[_nghost-%COMP%]{cursor:default;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}" ],
                changeDetection: 0
            }), TriCellComponent;
        }(), ReplaySubject = __webpack_require__(33554), tri_cell_editor_component_c0 = [ "editor" ], TriCellEditorComponent = function() {
            function TriCellEditorComponent() {
                this.onDestroy$ = new ReplaySubject.t(1);
            }
            return TriCellEditorComponent.prototype.ngOnInit = function() {
                var _a, _this = this;
                null === (_a = this.focusEditor$) || void 0 === _a || _a.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function() {
                    _this.focusEditor();
                });
            }, TriCellEditorComponent.prototype.ngOnDestroy = function() {
                this.onDestroy$.next(), this.onDestroy$.complete();
            }, TriCellEditorComponent.prototype.ngOnChanges = function(changes) {
                if (changes.data && "Date" === this.column.type) {
                    var parsedDate = new Date(this.data);
                    _.isFinite(parsedDate.getTime()) && (this.data = parsedDate.toISOString().slice(0, 10));
                }
                if (changes.column) switch (this.column.type) {
                  case "Date":
                    this.type = "date";
                    break;

                  case "Number":
                    this.type = "number";
                    break;

                  default:
                    this.type = "text";
                }
            }, TriCellEditorComponent.prototype.ngAfterViewInit = function() {
                this.focusEditor();
            }, TriCellEditorComponent.prototype.onDataChange = function(value) {
                var result = parseData(value, this.column.type);
                _.isNil(result) || this.dataChange(result);
            }, TriCellEditorComponent.prototype.focusEditor = function() {
                var _a;
                null === (_a = this.editor.nativeElement) || void 0 === _a || _a.focus();
            }, TriCellEditorComponent.\u0275fac = function(t) {
                return new (t || TriCellEditorComponent);
            }, TriCellEditorComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: TriCellEditorComponent,
                selectors: [ [ "tri-cell-editor" ] ],
                viewQuery: function(rf, ctx) {
                    var _t;
                    1 & rf && core["\u0275\u0275viewQuery"](tri_cell_editor_component_c0, 5), 2 & rf && core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.editor = _t.first);
                },
                inputs: {
                    column: "column",
                    data: "data",
                    focusEditor$: "focusEditor$",
                    dataChange: "dataChange"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 2,
                vars: 3,
                consts: [ [ "autofocus", "", 3, "type", "ngModel", "ngModelChange" ], [ "editor", "" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "input", 0, 1), core["\u0275\u0275listener"]("ngModelChange", function($event) {
                        return ctx.onDataChange($event);
                    }), core["\u0275\u0275elementEnd"]()), 2 & rf && (core["\u0275\u0275property"]("type", ctx.type)("ngModel", ctx.data), 
                    core["\u0275\u0275attribute"]("aria-label", ctx.data));
                },
                dependencies: [ fesm2022_forms.Fj, fesm2022_forms.JJ, fesm2022_forms.On ],
                styles: [ "input[_ngcontent-%COMP%]{border:0;width:100%;background:transparent;padding:0;display:inline-flex;align-items:center}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:hover, input[_ngcontent-%COMP%]:active, input[_ngcontent-%COMP%]:active:hover, input[_ngcontent-%COMP%]:focus:hover{outline:none}[_ngcontent-%COMP%]::-webkit-outer-spin-button, [_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-webkit-appearance:textfield;appearance:textfield;-moz-appearance:textfield}" ],
                changeDetection: 0
            }), TriCellEditorComponent;
        }(), resize_column_directive_ResizeColumnDirective = function() {
            function ResizeColumnDirective() {
                this.columnResized = new core.EventEmitter;
            }
            return ResizeColumnDirective.prototype.onMouseDown = function(event) {
                var _a, _b, _c;
                return this.isResizing = !0, this.pageX = event.pageX, this.initialWidth = null !== (_c = null === (_b = null === (_a = event.target) || void 0 === _a ? void 0 : _a.parentElement) || void 0 === _b ? void 0 : _b.offsetWidth) && void 0 !== _c ? _c : 0, 
                document.body.style.cursor = "col-resize", event.stopPropagation(), !1;
            }, ResizeColumnDirective.prototype.onDragStart = function() {
                return !1;
            }, ResizeColumnDirective.prototype.onMouseMove = function(event) {
                return !this.isResizing || (this.columnResized.emit(Math.max(0, this.initialWidth + event.pageX - this.pageX)), 
                event.stopPropagation(), !1);
            }, ResizeColumnDirective.prototype.onMouseLeave = function(event) {
                return !this.isResizing || (this.isResizing = !1, document.body.style.cursor = "", 
                event.stopPropagation(), !1);
            }, ResizeColumnDirective.\u0275fac = function(t) {
                return new (t || ResizeColumnDirective);
            }, ResizeColumnDirective.\u0275dir = core["\u0275\u0275defineDirective"]({
                type: ResizeColumnDirective,
                selectors: [ [ "", "triResizeColumn", "" ] ],
                hostBindings: function(rf, ctx) {
                    1 & rf && core["\u0275\u0275listener"]("mousedown", function($event) {
                        return ctx.onMouseDown($event);
                    })("touchstart", function($event) {
                        return ctx.onMouseDown($event);
                    })("dragstart", function() {
                        return ctx.onDragStart();
                    })("mousemove", function($event) {
                        return ctx.onMouseMove($event);
                    }, !1, core["\u0275\u0275resolveWindow"])("touchmove", function($event) {
                        return ctx.onMouseMove($event);
                    }, !1, core["\u0275\u0275resolveWindow"])("mouseup", function($event) {
                        return ctx.onMouseLeave($event);
                    }, !1, core["\u0275\u0275resolveWindow"])("mouseleave", function($event) {
                        return ctx.onMouseLeave($event);
                    }, !1, core["\u0275\u0275resolveWindow"])("touchend", function($event) {
                        return ctx.onMouseLeave($event);
                    }, !1, core["\u0275\u0275resolveWindow"]);
                },
                outputs: {
                    columnResized: "columnResized"
                }
            }), ResizeColumnDirective;
        }(), IsSelectedPipe = function() {
            function IsSelectedPipe() {}
            return IsSelectedPipe.prototype.transform = function(value, row, column) {
                return !!value && (-1 === value.start.row || row >= value.start.row && row <= value.end.row) && (-1 === value.start.column || column >= value.start.column && column <= value.end.column);
            }, IsSelectedPipe.\u0275fac = function(t) {
                return new (t || IsSelectedPipe);
            }, IsSelectedPipe.\u0275pipe = core["\u0275\u0275definePipe"]({
                name: "isSelected",
                type: IsSelectedPipe,
                pure: !0
            }), IsSelectedPipe;
        }(), tri_grid_component_c0 = [ "headers" ], tri_grid_component_c1 = [ "table" ], tri_grid_component_c2 = [ "viewport" ], tri_grid_component_c3 = [ "cellEditor" ];
        function TriGridComponent_ng_container_2_div_3_Template(rf, ctx) {
            if (1 & rf) {
                var _r14 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 11), core["\u0275\u0275listener"]("focus", function($event) {
                    core["\u0275\u0275restoreView"](_r14);
                    var ctx_r13 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r13.focusCell($event, {
                        row: -1,
                        column: -1
                    }));
                }), core["\u0275\u0275element"](1, "tri-svg-icon", 12), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r10 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275property"]("tabindex", ctx_r10.focusedCell ? -1 : 0), core["\u0275\u0275attribute"]("data-row", -1)("data-column", -1), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("name", "table_20_regular");
            }
        }
        var tri_grid_component_c4 = function(a0) {
            return {
                headerName: a0
            };
        };
        function TriGridComponent_ng_container_2_div_4_Template(rf, ctx) {
            if (1 & rf) {
                var _r18 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 13), core["\u0275\u0275listener"]("focus", function($event) {
                    var columnIndex_r16 = core["\u0275\u0275restoreView"](_r18).index, ctx_r17 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r17.focusCell($event, {
                        row: -1,
                        column: columnIndex_r16
                    }));
                }), core["\u0275\u0275pipe"](1, "isSelected"), core["\u0275\u0275elementContainer"](2, 14), 
                core["\u0275\u0275elementStart"](3, "span", 15), core["\u0275\u0275listener"]("columnResized", function($event) {
                    var columnIndex_r16 = core["\u0275\u0275restoreView"](_r18).index, ctx_r19 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r19.onColumnResized($event, columnIndex_r16));
                }), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var column_r15 = ctx.$implicit, columnIndex_r16 = ctx.index, ctx_r11 = core["\u0275\u0275nextContext"](2), _r6 = core["\u0275\u0275reference"](9);
                core["\u0275\u0275styleProp"]("width", ctx_r11.columnWidths[columnIndex_r16]), core["\u0275\u0275classProp"]("selection-start", core["\u0275\u0275pipeBind3"](1, 9, ctx_r11.selection, -1, columnIndex_r16)), 
                core["\u0275\u0275property"]("tabindex", ctx_r11.focusedCell || ctx_r11.rowHeaders || 0 !== columnIndex_r16 ? -1 : 0), 
                core["\u0275\u0275attribute"]("data-row", -1)("data-column", columnIndex_r16), core["\u0275\u0275advance"](2), 
                core["\u0275\u0275property"]("ngTemplateOutlet", column_r15.headerTemplate || _r6)("ngTemplateOutletContext", core["\u0275\u0275pureFunction1"](13, tri_grid_component_c4, column_r15.name));
            }
        }
        function TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_div_2_div_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r30 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 23), core["\u0275\u0275listener"]("focus", function($event) {
                    core["\u0275\u0275restoreView"](_r30);
                    var rowIndex_r25 = core["\u0275\u0275nextContext"]().index, ctx_r28 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r28.focusCell($event, {
                        row: rowIndex_r25,
                        column: -1
                    }));
                }), core["\u0275\u0275pipe"](1, "isSelected"), core["\u0275\u0275text"](2), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var rowIndex_r25 = core["\u0275\u0275nextContext"]().index, ctx_r26 = core["\u0275\u0275nextContext"](3);
                core["\u0275\u0275classProp"]("selection-start", core["\u0275\u0275pipeBind3"](1, 5, ctx_r26.selection, rowIndex_r25, -1)), 
                core["\u0275\u0275attribute"]("data-row", rowIndex_r25)("data-column", -1), core["\u0275\u0275advance"](2), 
                core["\u0275\u0275textInterpolate1"](" ", rowIndex_r25 + ctx_r26.rowIndexDisplayOffset, " ");
            }
        }
        var tri_grid_component_c5 = function(a0, a1, a2, a3) {
            return {
                column: a0,
                data: a1,
                dataChange: a2,
                focusEditor$: a3
            };
        };
        function TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_div_2_div_2_ng_container_2_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275elementContainer"](0, 14, 27), 2 & rf) {
                var column_r32 = core["\u0275\u0275nextContext"]().$implicit, ctx_r34 = core["\u0275\u0275nextContext"](4), _r2 = core["\u0275\u0275reference"](5);
                core["\u0275\u0275property"]("ngTemplateOutlet", column_r32.editTemplate || _r2)("ngTemplateOutletContext", core["\u0275\u0275pureFunction4"](2, tri_grid_component_c5, column_r32, ctx_r34.editingCell.data, ctx_r34.onEditCellDataChange.bind(ctx_r34), ctx_r34.focusEditor$));
            }
        }
        var tri_grid_component_c6 = function(a0, a1) {
            return {
                column: a0,
                data: a1
            };
        };
        function TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_div_2_div_2_ng_template_3_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275elementContainer"](0, 14), 2 & rf) {
                var ctx_r39 = core["\u0275\u0275nextContext"](), column_r32 = ctx_r39.$implicit, columnIndex_r33 = ctx_r39.index, row_r24 = core["\u0275\u0275nextContext"]().$implicit;
                core["\u0275\u0275nextContext"](3);
                var _r4 = core["\u0275\u0275reference"](7);
                core["\u0275\u0275property"]("ngTemplateOutlet", column_r32.template || _r4)("ngTemplateOutletContext", core["\u0275\u0275pureFunction2"](2, tri_grid_component_c6, column_r32, row_r24[columnIndex_r33]));
            }
        }
        function TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_div_2_div_2_Template(rf, ctx) {
            if (1 & rf) {
                var _r43 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 24), core["\u0275\u0275listener"]("focus", function($event) {
                    var columnIndex_r33 = core["\u0275\u0275restoreView"](_r43).index, rowIndex_r25 = core["\u0275\u0275nextContext"]().index, ctx_r41 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r41.focusCell($event, {
                        row: rowIndex_r25,
                        column: columnIndex_r33
                    }));
                }), core["\u0275\u0275pipe"](1, "isSelected"), core["\u0275\u0275template"](2, TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_div_2_div_2_ng_container_2_Template, 2, 7, "ng-container", 25), 
                core["\u0275\u0275template"](3, TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_div_2_div_2_ng_template_3_Template, 1, 5, "ng-template", null, 26, core["\u0275\u0275templateRefExtractor"]), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var columnIndex_r33 = ctx.index, _r35 = core["\u0275\u0275reference"](4), rowIndex_r25 = core["\u0275\u0275nextContext"]().index;
                core["\u0275\u0275nextContext"]();
                var _r21 = core["\u0275\u0275reference"](1), ctx_r27 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275styleProp"]("width", ctx_r27.columnWidths[columnIndex_r33]), core["\u0275\u0275classProp"]("selected-top", rowIndex_r25 === (null == ctx_r27.selection || null == ctx_r27.selection.start ? null : ctx_r27.selection.start.row) || 0 === rowIndex_r25 && -1 === (null == ctx_r27.selection || null == ctx_r27.selection.start ? null : ctx_r27.selection.start.row))("selected-bottom", rowIndex_r25 === (null == ctx_r27.selection || null == ctx_r27.selection.end ? null : ctx_r27.selection.end.row) && -1 !== (null == ctx_r27.selection || null == ctx_r27.selection.start ? null : ctx_r27.selection.start.row) || rowIndex_r25 === ctx_r27.dataSource.rows.length - 1 && -1 === (null == ctx_r27.selection || null == ctx_r27.selection.end ? null : ctx_r27.selection.end.row))("selected-left", columnIndex_r33 === (null == ctx_r27.selection || null == ctx_r27.selection.start ? null : ctx_r27.selection.start.column) || 0 === columnIndex_r33 && -1 === (null == ctx_r27.selection || null == ctx_r27.selection.start ? null : ctx_r27.selection.start.column))("selected-right", columnIndex_r33 === (null == ctx_r27.selection || null == ctx_r27.selection.end ? null : ctx_r27.selection.end.column) && -1 !== (null == ctx_r27.selection || null == ctx_r27.selection.start ? null : ctx_r27.selection.start.column) || columnIndex_r33 === ctx_r27.dataSource.columns.length - 1 && -1 === (null == ctx_r27.selection || null == ctx_r27.selection.start ? null : ctx_r27.selection.start.column))("selected", core["\u0275\u0275pipeBind3"](1, 19, ctx_r27.selection, rowIndex_r25, columnIndex_r33))("selection-start", ctx_r27.selectedCell && ctx_r27.selectedCell.row === rowIndex_r25 && ctx_r27.selectedCell.column === columnIndex_r33), 
                core["\u0275\u0275attribute"]("data-row", rowIndex_r25)("data-column", columnIndex_r33)("aria-colindex", (_r21.getRenderedRange().start || 0) + columnIndex_r33 + 1), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx_r27.editingCell && ctx_r27.editingCell.row === rowIndex_r25 && ctx_r27.editingCell.column === columnIndex_r33)("ngIfElse", _r35);
            }
        }
        function TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_div_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 20), core["\u0275\u0275template"](1, TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_div_2_div_1_Template, 3, 9, "div", 21), 
            core["\u0275\u0275template"](2, TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_div_2_div_2_Template, 5, 23, "div", 22), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var rowIndex_r25 = ctx.index, allColumns_r8 = core["\u0275\u0275nextContext"](2).$implicit, ctx_r22 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275attribute"]("aria-rowindex", rowIndex_r25 + 1), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275property"]("ngIf", ctx_r22.rowHeaders), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275property"]("ngForOf", allColumns_r8)("ngForTrackBy", ctx_r22.trackByColumn);
            }
        }
        function TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_div_3_div_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r49 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 31), core["\u0275\u0275listener"]("mousedown", function() {
                    core["\u0275\u0275restoreView"](_r49);
                    var ctx_r48 = core["\u0275\u0275nextContext"](4);
                    return core["\u0275\u0275resetView"](ctx_r48.appendRow(-1));
                })("focus", function($event) {
                    core["\u0275\u0275restoreView"](_r49);
                    var allRows_r20 = core["\u0275\u0275nextContext"](2).$implicit, ctx_r50 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r50.focusCell($event, {
                        row: allRows_r20.length,
                        column: -1
                    }));
                }), core["\u0275\u0275text"](1, "+"), core["\u0275\u0275elementEnd"]();
            }
        }
        function TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_div_3_div_2_Template(rf, ctx) {
            if (1 & rf) {
                var _r55 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 32), core["\u0275\u0275listener"]("mousedown", function() {
                    var columnIndex_r53 = core["\u0275\u0275restoreView"](_r55).index, ctx_r54 = core["\u0275\u0275nextContext"](4);
                    return core["\u0275\u0275resetView"](ctx_r54.appendRow(columnIndex_r53));
                })("focus", function($event) {
                    var columnIndex_r53 = core["\u0275\u0275restoreView"](_r55).index, allRows_r20 = core["\u0275\u0275nextContext"](2).$implicit, ctx_r56 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r56.focusCell($event, {
                        row: allRows_r20.length,
                        column: columnIndex_r53
                    }));
                }), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var columnIndex_r53 = ctx.index, ctx_r47 = core["\u0275\u0275nextContext"](4);
                core["\u0275\u0275styleProp"]("width", ctx_r47.columnWidths[columnIndex_r53]);
            }
        }
        function TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_div_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 28), core["\u0275\u0275template"](1, TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_div_3_div_1_Template, 2, 0, "div", 29), 
            core["\u0275\u0275template"](2, TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_div_3_div_2_Template, 1, 2, "div", 30), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var allColumns_r8 = core["\u0275\u0275nextContext"](2).$implicit, ctx_r23 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r23.rowHeaders), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngForOf", allColumns_r8)("ngForTrackBy", ctx_r23.trackByColumn);
            }
        }
        function TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_Template(rf, ctx) {
            if (1 & rf) {
                var _r60 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "cdk-virtual-scroll-viewport", 16, 17), core["\u0275\u0275listener"]("scroll", function() {
                    core["\u0275\u0275restoreView"](_r60);
                    var ctx_r59 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r59.scroll());
                }), core["\u0275\u0275template"](2, TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_div_2_Template, 3, 4, "div", 18), 
                core["\u0275\u0275template"](3, TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_div_3_Template, 3, 3, "div", 19), 
                core["\u0275\u0275pipe"](4, "async"), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var allRows_r20 = ctx.$implicit, ctx_r12 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275property"]("itemSize", ctx_r12.rowHeight), core["\u0275\u0275advance"](2), 
                core["\u0275\u0275property"]("cdkVirtualForOf", allRows_r20)("cdkVirtualForTrackBy", ctx_r12.trackByColumn)("cdkVirtualForTemplateCacheSize", 100), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r12.showAppendRow && !1 === core["\u0275\u0275pipeBind1"](4, 5, ctx_r12.isReadOnly$));
            }
        }
        function TriGridComponent_ng_container_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "div", 6, 7), 
            core["\u0275\u0275template"](3, TriGridComponent_ng_container_2_div_3_Template, 2, 4, "div", 8), 
            core["\u0275\u0275template"](4, TriGridComponent_ng_container_2_div_4_Template, 4, 15, "div", 9), 
            core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](5, TriGridComponent_ng_container_2_cdk_virtual_scroll_viewport_5_Template, 5, 7, "cdk-virtual-scroll-viewport", 10), 
            core["\u0275\u0275pipe"](6, "async"), core["\u0275\u0275elementContainerEnd"]()), 
            2 & rf) {
                var allColumns_r8 = ctx.$implicit, ctx_r1 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", ctx_r1.rowHeaders), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngForOf", allColumns_r8)("ngForTrackBy", ctx_r1.trackByColumn), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](6, 4, ctx_r1.rows$));
            }
        }
        function TriGridComponent_ng_template_4_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "tri-cell-editor", 33), 2 & rf) {
                var data_r62 = ctx.data, dataChange_r63 = ctx.dataChange, focusEditor$_r64 = ctx.focusEditor$;
                core["\u0275\u0275property"]("column", ctx.column)("data", data_r62)("dataChange", dataChange_r63)("focusEditor$", focusEditor$_r64);
            }
        }
        function TriGridComponent_ng_template_6_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "tri-cell", 34), 2 & rf && core["\u0275\u0275property"]("data", ctx.data);
        }
        function TriGridComponent_ng_template_8_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "span", 35), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var headerName_r66 = ctx.headerName;
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"](" ", headerName_r66, " ");
            }
        }
        var TriGridComponent = function(_super) {
            function TriGridComponent(changeDetector, cellEditing, dataSource, selectionService, mouseEventHandler, keyboardEventHandler, clipboardService, resizeService) {
                var _this = _super.call(this) || this;
                return _this.changeDetector = changeDetector, _this.cellEditing = cellEditing, _this.dataSource = dataSource, 
                _this.selectionService = selectionService, _this.mouseEventHandler = mouseEventHandler, 
                _this.keyboardEventHandler = keyboardEventHandler, _this.clipboardService = clipboardService, 
                _this.resizeService = resizeService, _this.columnWidths = [], _this.focusEditor$ = new Subject.xQ, 
                _this.rowHeight = 24, _this.isReadOnly$ = _this.cellEditing.isReadOnly$, _this.rowHeaders = !0, 
                _this.showAppendRow = !0, _this.isReadOnly = !1, _this.allowExpandSelection = !0, 
                _this.enforceSelectingColumn = !1, _this.clearSelectionOnDataChange = !1, _this.rowIndexDisplayOffset = 0, 
                _this.supportRightClickMenu = !1, _this.rowsChange = new core.EventEmitter, _this.selectionChange = new core.EventEmitter, 
                _this.columnWidthChange = new core.EventEmitter, _this.showRightClickMenu = new core.EventEmitter, 
                _this.columns$ = _this.dataSource.columns$, _this.rows$ = _this.dataSource.rows$, 
                _this;
            }
            return (0, tslib_es6.__extends)(TriGridComponent, _super), TriGridComponent.prototype.releaseMouse = function(event) {
                this.mouseEventHandler.mouseLeave(event);
            }, TriGridComponent.prototype.ngOnInit = function() {
                var _this = this;
                this.changes$("isReadOnly").subscribe(function(isReadOnly) {
                    return _this.cellEditing.setReadOnly(isReadOnly);
                }), this.changes$("columns").subscribe(function(columns) {
                    _this.columnWidths = _.map(columns, function(column) {
                        return (_.isFinite(column.width) ? column.width : 50) + "px";
                    }), _this.dataSource.setColumns(columns), _this.clearSelectionOnDataChangeHandler();
                }), this.changes$("rows").subscribe(function(rows) {
                    _this.dataSource.setRows(rows), _this.clearSelectionOnDataChangeHandler();
                }), this.dataSource.rows$.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(rows) {
                    _this.rows !== rows && _this.rowsChange.emit(rows);
                }), this.dataSource.columns$.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(columns) {
                    _this.columnWidths = _.map(columns, function(column) {
                        return (_.isFinite(column.width) ? column.width : 50) + "px";
                    });
                }), this.cellEditing.editingCell$.pipe((0, skip.T)(1), (0, takeUntil.R)(this.onDestroy$), (0, 
                tap.b)(function(editingCell) {
                    _this.editingCell = editingCell, _this.changeDetector.markForCheck();
                }), (0, distinctUntilChanged.x)(function(prev, curr) {
                    return (null == prev ? void 0 : prev.row) === (null == curr ? void 0 : curr.row) && (null == prev ? void 0 : prev.column) === (null == curr ? void 0 : curr.column);
                })).subscribe(function() {
                    _this.editingCell ? setTimeout(function() {
                        return _this.focusEditor$.next();
                    }, 0) : setTimeout(function() {
                        return _this.table.nativeElement.focus();
                    }, 0);
                }), this.selectionService.enforceSelectingColumn = this.enforceSelectingColumn, 
                this.selectionService.selectedCell$.pipe((0, takeUntil.R)(this.onDestroy$), (0, 
                tap.b)(function(cell) {
                    _this.selectedCell = cell, _this.changeDetector.markForCheck();
                }), (0, filter.h)(function(cell) {
                    return !!cell;
                }), (0, distinctUntilChanged.x)(function(prev, curr) {
                    return prev.row === curr.row && prev.column === curr.column;
                })).subscribe(function(cell) {
                    var _a, _b, _c;
                    _this.cellEditing.isEditing() && !_this.cellEditing.isEditingCell(cell) && _this.cellEditing.commitPendingEdit();
                    var rangeStart = (null === (_a = _this.viewport.nativeElement) || void 0 === _a ? void 0 : _a.scrollTop) / _this.rowHeight, rangeEnd = rangeStart + (null === (_b = _this.viewport.nativeElement) || void 0 === _b ? void 0 : _b.offsetHeight) / _this.rowHeight;
                    cell.row >= 0 && (cell.row < rangeStart || cell.row >= rangeEnd) && (null === (_c = _this.viewportComponent) || void 0 === _c || _c.scrollToIndex(cell.row));
                }), this.selectionService.normalizedSelection$.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(selection) {
                    _this.selection = selection, _this.selectionChange.emit(selection), _this.changeDetector.markForCheck();
                }), this.resizeService && this.resizeService.resize$.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function() {
                    _this.viewportComponent.checkViewportSize();
                }), this.mouseEventHandler.supportRightClickMenu = this.supportRightClickMenu;
            }, TriGridComponent.prototype.ngAfterViewInit = function() {
                var _this = this;
                this.table.nativeElement.style.setProperty("--row-height", this.rowHeight + "px"), 
                this.keyboardEventHandler.parentElement = this.table.nativeElement, setTimeout(function() {
                    _this.changes$("nextSelectionInput").subscribe(function(nextSelectionInput) {
                        _this.scrollToSelectedColumn(nextSelectionInput), _this.selectionService.setSelection(nextSelectionInput);
                    });
                }, 0), this.selectionService.virtualScroll = this.viewportComponent;
            }, TriGridComponent.prototype.scrollToSelectedColumn = function(nextSelectionInput) {
                var _this = this;
                if (nextSelectionInput) {
                    var scrollWidth = 0;
                    if (this.nextSelectionInputChangedFromSelection(nextSelectionInput) && this.columns && this.columnWidths) for (var i = 0; i < this.columns.length && i <= nextSelectionInput.start.column - 1; i++) scrollWidth += this.substractWidh(this.columnWidths[i]);
                    setTimeout(function() {
                        var _a, _b;
                        (null === (_a = _this.viewport) || void 0 === _a ? void 0 : _a.nativeElement.clientWidth) < scrollWidth && (null === (_b = _this.viewport) || void 0 === _b || _b.nativeElement.scroll(scrollWidth, 0));
                    }, 300);
                }
            }, TriGridComponent.prototype.nextSelectionInputChangedFromSelection = function(nextSelectionInput) {
                var _a, _b, _c, _d, _e, _f, _g, _h;
                return nextSelectionInput.end.column !== (null === (_b = null === (_a = this.selection) || void 0 === _a ? void 0 : _a.end) || void 0 === _b ? void 0 : _b.column) || nextSelectionInput.end.row !== (null === (_d = null === (_c = this.selection) || void 0 === _c ? void 0 : _c.end) || void 0 === _d ? void 0 : _d.row) || nextSelectionInput.start.row !== (null === (_f = null === (_e = this.selection) || void 0 === _e ? void 0 : _e.start) || void 0 === _f ? void 0 : _f.row) || nextSelectionInput.start.column !== (null === (_h = null === (_g = this.selection) || void 0 === _g ? void 0 : _g.start) || void 0 === _h ? void 0 : _h.column);
            }, TriGridComponent.prototype.substractWidh = function(colWidth) {
                var _a, result = null === (_a = null == colWidth ? void 0 : colWidth.match(/\d+(\.\d+)?/g)) || void 0 === _a ? void 0 : _a.map(Number);
                return result ? result[0] : 0;
            }, TriGridComponent.prototype.flushPendingChanges = function() {
                var data;
                return this.cellEditing.commitPendingEdit(), this.rows$.pipe((0, take.q)(1)).subscribe(function(rows) {
                    return data = rows;
                }), data;
            }, TriGridComponent.prototype.trackByColumn = function(index) {
                return index;
            }, TriGridComponent.prototype.scroll = function() {
                this.headers.nativeElement.style.transform = "translateX(".concat(-this.viewport.nativeElement.scrollLeft, "px)");
            }, TriGridComponent.prototype.onColumnResized = function(width, column) {
                this.columnWidths[column] = width + "px", this.columnWidthChange.emit({
                    width,
                    column
                });
            }, TriGridComponent.prototype.onCellMouseDown = function(event) {
                var cell = this.getCell();
                cell && this.mouseEventHandler.mouseDown(event, cell, this.allowExpandSelection);
            }, TriGridComponent.prototype.onCellMouseUp = function(event) {
                var cell = this.getCell();
                this.mouseEventHandler.mouseUpInCell(event, cell), this.mouseEventHandler.showRightClickMenu && this.showRightClickMenu.emit({
                    pageX: event.pageX,
                    pageY: event.pageY
                });
            }, TriGridComponent.prototype.onCellMouseOver = function(event) {
                var cell = this.getCell();
                cell && this.mouseEventHandler.mouseOver(event, cell, this.allowExpandSelection);
            }, TriGridComponent.prototype.onCellDoubleClick = function(event) {
                var cell = this.getCell();
                cell && this.mouseEventHandler.doubleClick(event, cell);
            }, TriGridComponent.prototype.onEditCellDataChange = function(data) {
                this.cellEditing.setEditingData(data);
            }, TriGridComponent.prototype.focusCell = function(event, cell) {
                this.selectionService.setFocus(cell, this.table.nativeElement), this.scrollViewportHorizontally(event.target);
            }, Object.defineProperty(TriGridComponent.prototype, "focusedCell", {
                get: function() {
                    return this.selectionService.focusedCell;
                },
                enumerable: !1,
                configurable: !0
            }), TriGridComponent.prototype.scrollViewportHorizontally = function(targetElement) {
                var viewportElement = this.viewport.nativeElement, offsetLeft = targetElement.offsetLeft;
                (viewportElement.scrollLeft + viewportElement.clientWidth < offsetLeft || viewportElement.scrollLeft > offsetLeft) && (viewportElement.scrollLeft = offsetLeft - (viewportElement.clientWidth - targetElement.clientWidth) / 2, 
                this.viewport.nativeElement.scrollIntoView());
            }, TriGridComponent.prototype.handleKeydown = function(event) {
                this.keyboardEventHandler.keydown(event, this.table.nativeElement, this.allowExpandSelection);
            }, TriGridComponent.prototype.getCell = function() {
                var element = $("[data-clickable]:hover").get(0);
                if (element) {
                    var dataRowAttribute = element.getAttribute("data-row"), dataColumnAttribute = element.getAttribute("data-column");
                    if (dataRowAttribute && dataColumnAttribute) {
                        var row = parseInt(dataRowAttribute, 10), column = parseInt(dataColumnAttribute, 10);
                        return _.isFinite(row) && _.isFinite(column) ? {
                            row,
                            column
                        } : void 0;
                    }
                }
            }, TriGridComponent.prototype.appendRow = function(column) {
                this.dataSource.appendRow(), this.selectionService.selectCell({
                    row: this.dataSource.rows.length,
                    column
                });
            }, TriGridComponent.prototype.clearSelectionOnDataChangeHandler = function() {
                this.clearSelectionOnDataChange && this.selectionService.setSelection(void 0);
            }, TriGridComponent.\u0275fac = function(t) {
                return new (t || TriGridComponent)(core["\u0275\u0275directiveInject"](core.ChangeDetectorRef), core["\u0275\u0275directiveInject"](CellEditingService), core["\u0275\u0275directiveInject"](DataTableService), core["\u0275\u0275directiveInject"](SelectionService), core["\u0275\u0275directiveInject"](MouseEventHandlerService), core["\u0275\u0275directiveInject"](KeyboardEventHandlerService), core["\u0275\u0275directiveInject"](ClipboardService), core["\u0275\u0275directiveInject"](ResizeServiceInjectionToken, 8));
            }, TriGridComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: TriGridComponent,
                selectors: [ [ "tri-grid" ] ],
                viewQuery: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275viewQuery"](tri_grid_component_c0, 5), core["\u0275\u0275viewQuery"](tri_grid_component_c1, 5), 
                    core["\u0275\u0275viewQuery"](tri_grid_component_c2, 5, core.ElementRef), core["\u0275\u0275viewQuery"](scrolling.N7, 5), 
                    core["\u0275\u0275viewQuery"](tri_grid_component_c3, 5)), 2 & rf) {
                        var _t = void 0;
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.headers = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.table = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.viewport = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.viewportComponent = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.cellEditor = _t.first);
                    }
                },
                hostBindings: function(rf, ctx) {
                    1 & rf && core["\u0275\u0275listener"]("mouseup", function($event) {
                        return ctx.releaseMouse($event);
                    }, !1, core["\u0275\u0275resolveWindow"])("mouseleave", function($event) {
                        return ctx.releaseMouse($event);
                    }, !1, core["\u0275\u0275resolveWindow"]);
                },
                inputs: {
                    columns: "columns",
                    rows: "rows",
                    rowHeaders: "rowHeaders",
                    showAppendRow: "showAppendRow",
                    isReadOnly: "isReadOnly",
                    allowExpandSelection: "allowExpandSelection",
                    enforceSelectingColumn: "enforceSelectingColumn",
                    nextSelectionInput: "nextSelectionInput",
                    clearSelectionOnDataChange: "clearSelectionOnDataChange",
                    rowIndexDisplayOffset: "rowIndexDisplayOffset",
                    supportRightClickMenu: "supportRightClickMenu"
                },
                outputs: {
                    rowsChange: "rowsChange",
                    selectionChange: "selectionChange",
                    columnWidthChange: "columnWidthChange",
                    showRightClickMenu: "showRightClickMenu"
                },
                features: [ core["\u0275\u0275ProvidersFeature"]([ SelectionService, CellEditingService, DataTableService, MouseEventHandlerService, KeyboardEventHandlerService, ClipboardService ]), core["\u0275\u0275InheritDefinitionFeature"] ],
                decls: 10,
                vars: 3,
                consts: [ [ "tabindex", "-1", "role", "table", 1, "table", 3, "keydown", "mousedown", "mouseover", "mouseup", "dblclick" ], [ "table", "" ], [ 4, "ngIf" ], [ "defaultCellEditor", "" ], [ "defaultViewCell", "" ], [ "defaultHeaderCell", "" ], [ "role", "row", 1, "headers" ], [ "headers", "" ], [ "class", "header selectable table-icon", "role", "columnheader", "data-clickable", "true", 3, "tabindex", "focus", 4, "ngIf" ], [ "class", "header selectable", "data-clickable", "true", "role", "columnheader", 3, "selection-start", "tabindex", "width", "focus", 4, "ngFor", "ngForOf", "ngForTrackBy" ], [ 3, "itemSize", "scroll", 4, "ngIf" ], [ "role", "columnheader", "data-clickable", "true", 1, "header", "selectable", "table-icon", 3, "tabindex", "focus" ], [ "tri-svg-icon-20", "", 1, "table-svg-icon", 3, "name" ], [ "data-clickable", "true", "role", "columnheader", 1, "header", "selectable", 3, "tabindex", "focus" ], [ 3, "ngTemplateOutlet", "ngTemplateOutletContext" ], [ "triResizeColumn", "", 1, "resize-handle", 3, "columnResized" ], [ 3, "itemSize", "scroll" ], [ "viewport", "" ], [ "class", "row", "role", "row", 4, "cdkVirtualFor", "cdkVirtualForOf", "cdkVirtualForTrackBy", "cdkVirtualForTemplateCacheSize" ], [ "class", "row", "role", "row", "tabindex", "0", 4, "ngIf" ], [ "role", "row", 1, "row" ], [ "class", "cell row-header selectable", "role", "gridcell", "tabindex", "-1", "data-clickable", "true", 3, "selection-start", "focus", 4, "ngIf" ], [ "class", "cell selectable", "role", "gridcell", "tabindex", "-1", "data-clickable", "true", 3, "selected-top", "selected-bottom", "selected-left", "selected-right", "selected", "selection-start", "width", "focus", 4, "ngFor", "ngForOf", "ngForTrackBy" ], [ "role", "gridcell", "tabindex", "-1", "data-clickable", "true", 1, "cell", "row-header", "selectable", 3, "focus" ], [ "role", "gridcell", "tabindex", "-1", "data-clickable", "true", 1, "cell", "selectable", 3, "focus" ], [ 3, "ngTemplateOutlet", "ngTemplateOutletContext", 4, "ngIf", "ngIfElse" ], [ "viewCell", "" ], [ "cellEditor", "" ], [ "role", "row", "tabindex", "0", 1, "row" ], [ "class", "cell row-header", "role", "gridcell", "tabindex", "-1", 3, "mousedown", "focus", 4, "ngIf" ], [ "tabindex", "-1", "class", "cell", "role", "gridcell", 3, "width", "mousedown", "focus", 4, "ngFor", "ngForOf", "ngForTrackBy" ], [ "role", "gridcell", "tabindex", "-1", 1, "cell", "row-header", 3, "mousedown", "focus" ], [ "tabindex", "-1", "role", "gridcell", 1, "cell", 3, "mousedown", "focus" ], [ 3, "column", "data", "dataChange", "focusEditor$" ], [ 3, "data" ], [ 1, "default-header-name" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "div", 0, 1), core["\u0275\u0275listener"]("keydown", function($event) {
                        return ctx.handleKeydown($event);
                    })("mousedown", function($event) {
                        return ctx.onCellMouseDown($event);
                    })("mouseover", function($event) {
                        return ctx.onCellMouseOver($event);
                    })("mouseup", function($event) {
                        return ctx.onCellMouseUp($event);
                    })("dblclick", function($event) {
                        return ctx.onCellDoubleClick($event);
                    }), core["\u0275\u0275template"](2, TriGridComponent_ng_container_2_Template, 7, 6, "ng-container", 2), 
                    core["\u0275\u0275pipe"](3, "async"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](4, TriGridComponent_ng_template_4_Template, 1, 4, "ng-template", null, 3, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](6, TriGridComponent_ng_template_6_Template, 1, 1, "ng-template", null, 4, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](8, TriGridComponent_ng_template_8_Template, 2, 1, "ng-template", null, 5, core["\u0275\u0275templateRefExtractor"])), 
                    2 & rf && (core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](3, 1, ctx.columns$)));
                },
                dependencies: [ common.NgForOf, common.NgIf, common.NgTemplateOutlet, scrolling.xd, scrolling.x0, scrolling.N7, tri_svg_icon_component.M, TriCellComponent, TriCellEditorComponent, resize_column_directive_ResizeColumnDirective, common.AsyncPipe, IsSelectedPipe ],
                styles: [ '[_nghost-%COMP%]{height:100%;width:100%;display:flex;background:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);--row-height: $default-row-height}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]   *[_ngcontent-%COMP%]:focus{outline:none}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{overflow-x:auto;height:calc(100% - var(--row-height));position:absolute;top:var(--row-height);bottom:0;width:100%;scrollbar-width:thin}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border:1px solid var(--fluentThemeNeutralSecondaryAltColor, #767676);border-radius:20px;background-color:var(--fluentThemeNeutralSecondaryAltColor, #767676)}.table[_ngcontent-%COMP%]{height:100%;display:flex;position:relative;max-width:100%;overflow-x:hidden;width:max-content;padding-right:5px}.table[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]{text-align:start;display:flex;flex-wrap:nowrap;height:var(--row-height);width:100%;border-left:1px solid var(--colorNeutralStroke2)}.table[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:inline-flex;position:relative;min-width:45px;height:var(--row-height);line-height:12px;margin:0;padding:3px 6px;background:var(--colorNeutralBackground2);flex-shrink:0;flex-grow:0;overflow:hidden;border-top:solid 1px var(--colorNeutralStroke2);border-bottom:solid 1px var(--colorNeutralStroke2);border-right:solid 1px var(--colorNeutralStroke2);font-family:var(--fluent-font-family, "Segoe UI");font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400)}.table[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .default-header-name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.table[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;opacity:0;width:10px;cursor:col-resize}.table[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]   .header.selection-start[_ngcontent-%COMP%]{background:var(--colorNeutralBackground2Selected);border-bottom:2px solid var(--colorNeutralStrokeAccessibleSelected);color:var(--colorNeutralForeground1Selected);font-family:var(--fluent-font-family, "Segoe UI");font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-semi-bold, 600)}@media (forced-colors: active){.table[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]   .header.selection-start[_ngcontent-%COMP%]{border-bottom:2px solid var(--globalColorhcHighlight)!important}}.table[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]:focus{border:2px solid var(--colorNeutralStrokeFocus2);border-radius:4px;padding:2px 4px}.table[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]:hover{background:var(--colorNeutralBackground2Hover);color:var(--colorNeutralForeground1Hover)}.table[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]:active{background:var(--colorNeutralBackground2Pressed);color:var(--colorNeutralForeground1Pressed)}.table[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]   .header.table-icon[_ngcontent-%COMP%]{justify-content:center;align-items:center}.table[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]   .header.table-icon[_ngcontent-%COMP%]:focus{padding:2px 5px 2px 4px}.table[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]   .header.table-icon[_ngcontent-%COMP%]   .table-svg-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground2)}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;border-left:solid 1px var(--colorNeutralStroke2)}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .selectable[_ngcontent-%COMP%]:not(.selection-start):focus{border:2px solid var(--colorNeutralStrokeFocus2);border-radius:4px;padding:1.5px 4px}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{cursor:default;position:relative;display:inline-flex;flex-grow:0;min-width:45px;height:var(--row-height);padding:3.5px 6px;align-items:center;overflow:hidden;border-bottom:solid 1px var(--colorNeutralStroke2);border-right:solid 1px var(--colorNeutralStroke2);background:var(--colorSubtleBackground);outline:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;font-family:var(--fluent-font-family, "Segoe UI");font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400)}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.number-cell[_ngcontent-%COMP%]{text-align:right}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.row-header[_ngcontent-%COMP%]{background:var(--colorNeutralBackground2);justify-content:center;padding:3px 0 0}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.row-header.selection-start[_ngcontent-%COMP%]{background:var(--colorNeutralBackground2Selected);border-right:2px solid var(--colorNeutralStrokeAccessibleSelected);color:var(--colorNeutralForeground1Selected);font-family:var(--fluent-font-family, "Segoe UI");font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-semi-bold, 600)}@media (forced-colors: active){.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.row-header.selection-start[_ngcontent-%COMP%]{border-right:2px solid var(--globalColorhcHighlight)!important}}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.row-header[_ngcontent-%COMP%]:hover{background:var(--colorNeutralBackground2Hover);color:var(--colorNeutralForeground1Hover)}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.row-header[_ngcontent-%COMP%]:active{background:var(--colorNeutralBackground2Pressed);color:var(--colorNeutralForeground1Pressed)}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.row-header[_ngcontent-%COMP%]:focus{padding:1px 1px 0 0}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.selected[_ngcontent-%COMP%]{background:var(--colorSubtleBackgroundSelected)}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.selected.selected-top[_ngcontent-%COMP%]:not(.selected-bottom){padding-bottom:5px}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.selected.selected-bottom[_ngcontent-%COMP%]:not(.selected-top){padding-top:5px}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.selected.selected-top[_ngcontent-%COMP%]{border-top:2px solid var(--colorNeutralStrokeAccessibleSelected);padding-top:4px}@media (forced-colors: active){.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.selected.selected-top[_ngcontent-%COMP%]{border-top:2px solid var(--globalColorhcHighlight)!important}}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.selected.selected-top[_ngcontent-%COMP%]:before{border-top:1px solid var(--colorNeutralStrokeFocus1);top:0}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.selected.selected-bottom[_ngcontent-%COMP%]{border-bottom:2px solid var(--colorNeutralStrokeAccessibleSelected);padding-bottom:4px}@media (forced-colors: active){.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.selected.selected-bottom[_ngcontent-%COMP%]{border-bottom:2px solid var(--globalColorhcHighlight)!important}}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.selected.selected-bottom[_ngcontent-%COMP%]:before{border-bottom:1px solid var(--colorNeutralStrokeFocus1);bottom:0}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.selected.selected-left[_ngcontent-%COMP%]{border-left:2px solid var(--colorNeutralStrokeAccessibleSelected);padding-left:4px}@media (forced-colors: active){.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.selected.selected-left[_ngcontent-%COMP%]{border-left:2px solid var(--globalColorhcHighlight)!important}}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.selected.selected-left[_ngcontent-%COMP%]:before{border-left:1px solid var(--colorNeutralStrokeFocus1);left:0}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.selected.selected-right[_ngcontent-%COMP%]{border-right:2px solid var(--colorNeutralStrokeAccessibleSelected);padding-right:4px}@media (forced-colors: active){.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.selected.selected-right[_ngcontent-%COMP%]{border-right:2px solid var(--globalColorhcHighlight)!important}}.table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.selected.selected-right[_ngcontent-%COMP%]:before{border-right:1px solid var(--colorNeutralStrokeFocus1);right:0}' ],
                changeDetection: 0
            }), TriGridComponent;
        }(rx_rx_component.w), tri_svg_icon = __webpack_require__(17177), TriGridModule = function() {
            function TriGridModule() {}
            return TriGridModule.\u0275fac = function(t) {
                return new (t || TriGridModule);
            }, TriGridModule.\u0275mod = core["\u0275\u0275defineNgModule"]({
                type: TriGridModule
            }), TriGridModule.\u0275inj = core["\u0275\u0275defineInjector"]({
                imports: [ common.CommonModule, fesm2022_forms.u5, localization_module.Y, scrolling.Cl, tri_svg_icon.T6 ]
            }), TriGridModule;
        }(), Telemetry = __webpack_require__(21617), format_switch_cell_template_component_c0 = [ "formatSwitchCell" ];
        function FormatSwitchCellTemplateComponent_ng_template_0_ng_container_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275text"](1), 
            core["\u0275\u0275pipe"](2, "formatValue"), core["\u0275\u0275elementContainerEnd"]()), 
            2 & rf) {
                var ctx_r8 = core["\u0275\u0275nextContext"](), data_r2 = ctx_r8.data, column_r3 = ctx_r8.column;
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind2"](2, 1, data_r2, column_r3.formatString));
            }
        }
        function FormatSwitchCellTemplateComponent_ng_template_0_ng_container_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275text"](1), 
            core["\u0275\u0275pipe"](2, "date"), core["\u0275\u0275elementContainerEnd"]()), 
            2 & rf) {
                var ctx_r9 = core["\u0275\u0275nextContext"](), data_r2 = ctx_r9.data, column_r3 = ctx_r9.column;
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind3"](2, 1, data_r2, column_r3.formatString || "shortDate", "UTC"));
            }
        }
        function FormatSwitchCellTemplateComponent_ng_template_0_ng_container_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var data_r2 = core["\u0275\u0275nextContext"]().data;
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate"](data_r2);
            }
        }
        function FormatSwitchCellTemplateComponent_ng_template_0_ng_container_4_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var data_r2 = core["\u0275\u0275nextContext"]().data;
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate"](data_r2);
            }
        }
        function FormatSwitchCellTemplateComponent_ng_template_0_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0, 1), core["\u0275\u0275template"](1, FormatSwitchCellTemplateComponent_ng_template_0_ng_container_1_Template, 3, 4, "ng-container", 2), 
            core["\u0275\u0275template"](2, FormatSwitchCellTemplateComponent_ng_template_0_ng_container_2_Template, 3, 5, "ng-container", 2), 
            core["\u0275\u0275template"](3, FormatSwitchCellTemplateComponent_ng_template_0_ng_container_3_Template, 2, 1, "ng-container", 2), 
            core["\u0275\u0275template"](4, FormatSwitchCellTemplateComponent_ng_template_0_ng_container_4_Template, 2, 1, "ng-container", 3), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var column_r3 = ctx.column;
                core["\u0275\u0275property"]("ngSwitch", null == column_r3 ? null : column_r3.type), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngSwitchCase", "Number"), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngSwitchCase", "Date"), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngSwitchCase", "Text");
            }
        }
        var FormatSwitchCellTemplateComponent = function() {
            function FormatSwitchCellTemplateComponent() {}
            return FormatSwitchCellTemplateComponent.\u0275fac = function(t) {
                return new (t || FormatSwitchCellTemplateComponent);
            }, FormatSwitchCellTemplateComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: FormatSwitchCellTemplateComponent,
                selectors: [ [ "format-switch-cell-template" ] ],
                viewQuery: function(rf, ctx) {
                    var _t;
                    1 & rf && core["\u0275\u0275viewQuery"](format_switch_cell_template_component_c0, 5), 
                    2 & rf && core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.formatSwitchCell = _t.first);
                },
                decls: 2,
                vars: 0,
                consts: [ [ "formatSwitchCell", "" ], [ 3, "ngSwitch" ], [ 4, "ngSwitchCase" ], [ 4, "ngSwitchDefault" ] ],
                template: function(rf, ctx) {
                    1 & rf && core["\u0275\u0275template"](0, FormatSwitchCellTemplateComponent_ng_template_0_Template, 5, 4, "ng-template", null, 0, core["\u0275\u0275templateRefExtractor"]);
                },
                dependencies: [ common.NgSwitch, common.NgSwitchCase, common.NgSwitchDefault, common.DatePipe, format_value_pipe.c ],
                changeDetection: 0
            }), FormatSwitchCellTemplateComponent;
        }(), message_banner_component = __webpack_require__(44641), pbi_radio_button_component = __webpack_require__(11941), pbi_radio_group_component = __webpack_require__(39686), pbi_spinner_component = __webpack_require__(24326);
        function GoalTargetsEditorComponent_message_banner_0_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "message-banner", 12), 2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("viewModel", ctx_r0.messageBanner);
            }
        }
        function GoalTargetsEditorComponent_mat_icon_7_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "mat-icon", 13);
        }
        function GoalTargetsEditorComponent_mat_icon_8_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "mat-icon", 14);
        }
        function GoalTargetsEditorComponent_pbi_spinner_14_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "pbi-spinner", 15);
        }
        function GoalTargetsEditorComponent_ng_template_15_Template(rf, ctx) {
            if (1 & rf) {
                var _r8 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 16)(1, "tri-grid", 17, 18), core["\u0275\u0275listener"]("rowsChange", function($event) {
                    core["\u0275\u0275restoreView"](_r8);
                    var ctx_r7 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r7.onRowUpdate($event));
                }), core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275elementStart"](3, "section")(4, "div", 19), 
                core["\u0275\u0275text"](5), core["\u0275\u0275pipe"](6, "localize"), core["\u0275\u0275elementEnd"](), 
                core["\u0275\u0275elementStart"](7, "pbi-radio-group", 20), core["\u0275\u0275listener"]("ngModelChange", function($event) {
                    core["\u0275\u0275restoreView"](_r8);
                    var ctx_r9 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r9.showFinalTarget = $event);
                }), core["\u0275\u0275elementStart"](8, "pbi-radio-button", 21), core["\u0275\u0275text"](9), 
                core["\u0275\u0275pipe"](10, "localize"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](11, "pbi-radio-button", 21), 
                core["\u0275\u0275text"](12), core["\u0275\u0275pipe"](13, "localize"), core["\u0275\u0275elementEnd"]()()();
            }
            if (2 & rf) {
                var ctx_r5 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("rows", ctx_r5.gridData)("columns", ctx_r5.columnsConfig), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](6, 8, "Metrics_Targets_Editor_Select_Target")), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngModel", ctx_r5.showFinalTarget), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("value", !1), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](10, 10, "Target_Next")), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("value", !0), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](13, 12, "Target_Final"));
            }
        }
        var GoalTargetsEditorComponent = function() {
            function GoalTargetsEditorComponent(dialogRef, data, localizationService, telemetryService, changeDetector) {
                this.dialogRef = dialogRef, this.localizationService = localizationService, this.telemetryService = telemetryService, 
                this.changeDetector = changeDetector, this.isFullScreen = !1, this.onDestroy$ = new Subject.xQ, 
                this.resultType = 2, this.TargetColumnIndex = 0, this.DueDateColumnIndex = 1, this.telemetryService.logEvent(events.dT), 
                this.goal$ = data.goal$, this.goalTargets$ = data.goalTargets$, this.onDoneCallback = data.onDoneCallback, 
                this.columnsConfig = [ {
                    name: this.localizationService.get("Target"),
                    type: "Number",
                    width: GoalTargetsEditorComponent.GridColumnWidthInPx
                }, {
                    name: this.localizationService.get("DueDate"),
                    type: "Date",
                    width: GoalTargetsEditorComponent.GridColumnWidthInPx
                } ], this.DuplicateTargetDates = {
                    bannerType: 1,
                    iconName: GoalTargetsEditorComponent.ErrorIcon,
                    message: this.localizationService.get("Metrics_Targets_Editor_Error_Duplicate_Target_Dates")
                }, this.MissingTargetDate = {
                    bannerType: 1,
                    iconName: GoalTargetsEditorComponent.ErrorIcon,
                    message: this.localizationService.get("Metrics_Targets_Editor_Error_Missing_Target_Date")
                }, this.MissingTargetValue = {
                    bannerType: 1,
                    iconName: GoalTargetsEditorComponent.ErrorIcon,
                    message: this.localizationService.get("Metrics_Targets_Editor_Error_Missing_Target_Value")
                };
            }
            return GoalTargetsEditorComponent.prototype.ngOnInit = function() {
                var _this = this;
                this.goal$.pipe((0, take.q)(1)).subscribe(function(goal) {
                    var _a, _b;
                    _this.columnsConfig = [ (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, _this.columnsConfig[_this.TargetColumnIndex]), {
                        formatString: goal.valuesFormatString
                    }), (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, _this.columnsConfig[_this.DueDateColumnIndex]), {
                        formatString: goal.datesFormatString
                    }) ], _this.showFinalTarget = null !== (_b = null === (_a = goal.metadata) || void 0 === _a ? void 0 : _a.showFinalTarget) && void 0 !== _b ? _b : !goal.targetConnection;
                }), this.goalTargets$.pipe((0, take.q)(1)).subscribe(function(goalTargets) {
                    _this.gridData = goalTargets.map(function(value) {
                        return [ value.target, new Date(value.timestamp) ];
                    }), _this.changeDetector.markForCheck();
                });
            }, GoalTargetsEditorComponent.prototype.ngAfterViewInit = function() {
                var _this = this;
                this.columnsConfig = _.map(this.columnsConfig, function(column) {
                    return column.template = _this.formatSwitchCellTemplate.formatSwitchCell, column;
                });
            }, GoalTargetsEditorComponent.prototype.ngOnDestroy = function() {
                this.onDestroy$.next(), this.onDestroy$.complete();
            }, GoalTargetsEditorComponent.prototype.onRowUpdate = function(updatedGridData) {
                this.gridData = updatedGridData;
            }, GoalTargetsEditorComponent.prototype.toggleFullScreen = function() {
                this.isFullScreen ? (this.dialogRef.updateSize("70%", "80%"), this.isFullScreen = !1) : (this.dialogRef.updateSize("100%", "100%"), 
                this.isFullScreen = !0);
            }, GoalTargetsEditorComponent.prototype.close = function() {
                this.telemetryService.logEvent(events.JP), this.dialogRef.close();
            }, GoalTargetsEditorComponent.prototype.onDone = function() {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var targets, targetDatesSet, _i, targets_1, timestamp;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        if (this.gridData = this.gridEditor.flushPendingChanges(), (targets = this.gridData.filter(function(row) {
                            return !(_.isNil(row[0]) && _.isNil(row[1]));
                        }).map(function(row) {
                            return {
                                timestamp: _.isNil(row[1]) ? void 0 : row[1],
                                target: _.isNil(row[0]) ? void 0 : row[0]
                            };
                        })).find(function(target) {
                            return _.isNil(target.timestamp) && !_.isNil(target.target);
                        })) return this.messageBanner = this.MissingTargetDate, [ 2 ];
                        if (targets.find(function(target) {
                            return !_.isNil(target.timestamp) && _.isNil(target.target);
                        })) return this.messageBanner = this.MissingTargetValue, [ 2 ];
                        for (targetDatesSet = new Set, _i = 0, targets_1 = targets; _i < targets_1.length; _i++) {
                            if (targetDatesSet.has((timestamp = targets_1[_i].timestamp).getTime())) return this.messageBanner = this.DuplicateTargetDates, 
                            [ 2 ];
                            targetDatesSet.add(timestamp.getTime());
                        }
                        return this.onDoneCallback(targets.map(function(t) {
                            return {
                                timestamp: t.timestamp.toISOString(),
                                target: t.target
                            };
                        }), this.showFinalTarget, this.columnsConfig[this.TargetColumnIndex].formatString), 
                        this.telemetryService.logEvent(events.pN), this.dialogRef.close(), [ 2 ];
                    });
                });
            }, GoalTargetsEditorComponent.prototype.valueFormatStringChanged = function(formatString) {
                this.columnsConfig = [ (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, this.columnsConfig[this.TargetColumnIndex]), {
                    formatString
                }), this.columnsConfig[1] ];
            }, GoalTargetsEditorComponent.ErrorIcon = "pbi-glyph-blocked2", GoalTargetsEditorComponent.GridColumnWidthInPx = 200, 
            GoalTargetsEditorComponent.\u0275fac = function(t) {
                return new (t || GoalTargetsEditorComponent)(core["\u0275\u0275directiveInject"](dialog.so), core["\u0275\u0275directiveInject"](dialog.WI), core["\u0275\u0275directiveInject"](localization_service.o), core["\u0275\u0275directiveInject"](Telemetry.y0), core["\u0275\u0275directiveInject"](core.ChangeDetectorRef));
            }, GoalTargetsEditorComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: GoalTargetsEditorComponent,
                selectors: [ [ "goal-targets-editor" ] ],
                viewQuery: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275viewQuery"](TriGridComponent, 5), core["\u0275\u0275viewQuery"](FormatSwitchCellTemplateComponent, 5)), 
                    2 & rf) {
                        var _t = void 0;
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.gridEditor = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.formatSwitchCellTemplate = _t.first);
                    }
                },
                decls: 27,
                vars: 29,
                consts: [ [ 3, "viewModel", 4, "ngIf" ], [ 1, "title" ], [ "mat-icon-button", "", 1, "pbi-icon-button", 3, "click" ], [ "class", "glyph-small", "fontIcon", "pbi-glyph-fullscreen", 4, "ngIf" ], [ "class", "glyph-small", "fontIcon", "pbi-glyph-fullscreenexit", 4, "ngIf" ], [ 1, "targets-editor-value-formatting-box" ], [ 1, "goals-value-formatting", 3, "formatString", "dataType", "formatStringChange" ], [ "class", "pbi-spinner-large", 4, "ngIf", "ngIfElse" ], [ "showGrid", "" ], [ 1, "actions" ], [ 1, "pbi-fluent-button", "primary", 3, "disabled", "click" ], [ 1, "pbi-fluent-button", "secondary", 3, "click" ], [ 3, "viewModel" ], [ "fontIcon", "pbi-glyph-fullscreen", 1, "glyph-small" ], [ "fontIcon", "pbi-glyph-fullscreenexit", 1, "glyph-small" ], [ 1, "pbi-spinner-large" ], [ 1, "grid-container" ], [ 3, "rows", "columns", "rowsChange" ], [ "gridEditor", "" ], [ 1, "displayed-target-title" ], [ 1, "displayed-target-options", 3, "ngModel", "ngModelChange" ], [ 3, "value" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275template"](0, GoalTargetsEditorComponent_message_banner_0_Template, 1, 1, "message-banner", 0), 
                    core["\u0275\u0275elementStart"](1, "header")(2, "div", 1), core["\u0275\u0275text"](3), 
                    core["\u0275\u0275pipe"](4, "localize"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](5, "button", 2), 
                    core["\u0275\u0275listener"]("click", function() {
                        return ctx.toggleFullScreen();
                    }), core["\u0275\u0275pipe"](6, "localize"), core["\u0275\u0275template"](7, GoalTargetsEditorComponent_mat_icon_7_Template, 1, 0, "mat-icon", 3), 
                    core["\u0275\u0275template"](8, GoalTargetsEditorComponent_mat_icon_8_Template, 1, 0, "mat-icon", 4), 
                    core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275elementStart"](9, "section"), 
                    core["\u0275\u0275text"](10), core["\u0275\u0275pipe"](11, "localize"), core["\u0275\u0275elementEnd"](), 
                    core["\u0275\u0275elementStart"](12, "div", 5)(13, "value-formatting", 6), core["\u0275\u0275listener"]("formatStringChange", function($event) {
                        return ctx.valueFormatStringChanged($event);
                    }), core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275template"](14, GoalTargetsEditorComponent_pbi_spinner_14_Template, 1, 0, "pbi-spinner", 7), 
                    core["\u0275\u0275template"](15, GoalTargetsEditorComponent_ng_template_15_Template, 14, 14, "ng-template", null, 8, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275element"](17, "format-switch-cell-template"), core["\u0275\u0275elementStart"](18, "div", 9)(19, "button", 10), 
                    core["\u0275\u0275listener"]("click", function() {
                        return ctx.onDone();
                    }), core["\u0275\u0275pipe"](20, "localize"), core["\u0275\u0275text"](21), core["\u0275\u0275pipe"](22, "localize"), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](23, "button", 11), 
                    core["\u0275\u0275listener"]("click", function() {
                        return ctx.close();
                    }), core["\u0275\u0275pipe"](24, "localize"), core["\u0275\u0275text"](25), core["\u0275\u0275pipe"](26, "localize"), 
                    core["\u0275\u0275elementEnd"]()()), 2 & rf) {
                        var _r4 = core["\u0275\u0275reference"](16);
                        core["\u0275\u0275property"]("ngIf", ctx.messageBanner), core["\u0275\u0275advance"](3), 
                        core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](4, 15, "Metrics_Targets_Editor_Title")), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](6, 17, "Fullscreen_Toggle")), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", !ctx.isFullScreen), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx.isFullScreen), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](11, 19, "Metrics_Targets_Editor_Description"), "\n"), 
                        core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("formatString", ctx.columnsConfig[0].formatString)("dataType", ctx.resultType), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !ctx.gridData)("ngIfElse", _r4), 
                        core["\u0275\u0275advance"](5), core["\u0275\u0275property"]("disabled", !ctx.gridData), 
                        core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](20, 21, "Done_ButtonText")), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](22, 23, "Done_ButtonText"), " "), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](24, 25, "PBI_Button_Label_Cancel")), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](26, 27, "PBI_Button_Label_Cancel"), " ");
                    }
                },
                dependencies: [ common.NgIf, fesm2022_forms.JJ, fesm2022_forms.On, icon.Hw, message_banner_component.A, pbi_radio_button_component.o, pbi_radio_group_component.d, pbi_spinner_component.k, value_formatting_component.d, TriGridComponent, FormatSwitchCellTemplateComponent, localize_pipe.F ],
                styles: [ '[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]     .targets-editor-value-formatting-box mat-select{height:28px;border:1px solid var(--gray-110, #8A8886);border-radius:2px}[_nghost-%COMP%]     .targets-editor-value-formatting-box mat-select .mat-select-value{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--fluent-theme-neutral-primary-color, #323130);line-height:20px}[_nghost-%COMP%]     .targets-editor-value-formatting-box mat-select .mat-select-arrow{color:var(--gray-140, #484644);padding-right:14px}[_nghost-%COMP%]     .targets-editor-value-formatting-box num-up-down .inputRange{height:28px;border:1px solid var(--gray-110, #8A8886);border-radius:2px}[_nghost-%COMP%]     .targets-editor-value-formatting-box num-up-down .inputRange .inputUpDown{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--fluent-theme-neutral-primary-color, #323130);line-height:20px}[_nghost-%COMP%]     .targets-editor-value-formatting-box num-up-down label{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);line-height:20px}[_nghost-%COMP%]     .targets-editor-value-formatting-box .valueFormatterToggleButtonsGroup .btn{background-color:transparent;border:none}[_nghost-%COMP%]     .targets-editor-value-formatting-box .valueFormatterToggleButtonsGroup .btn:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}header[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-dark-color, #201F1E);display:flex;flex-direction:row;align-items:center;justify-content:space-between}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--xlg-font-size, 20px);font-weight:var(--font-weight-semi-bold, 600)}header[_ngcontent-%COMP%], section[_ngcontent-%COMP%], tri-grid[_ngcontent-%COMP%], .targets-editor-value-formatting-box[_ngcontent-%COMP%], .displayed-target-title[_ngcontent-%COMP%]{margin-bottom:16px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:end;gap:8px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   pbi-spinner[_ngcontent-%COMP%]{margin:5px 5px 0 0}.pbi-spinner-large[_ngcontent-%COMP%]{height:100%}.displayed-target-title[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px)}.displayed-target-options[_ngcontent-%COMP%]{display:flex;gap:36px}.grid-container[_ngcontent-%COMP%]{flex-grow:1}' ],
                changeDetection: 0
            }), GoalTargetsEditorComponent;
        }();
        function GoalValuesEditorComponent_message_banner_0_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "message-banner", 12), 2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("viewModel", ctx_r0.messageBanner);
            }
        }
        function GoalValuesEditorComponent_mat_icon_7_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "mat-icon", 13);
        }
        function GoalValuesEditorComponent_mat_icon_8_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "mat-icon", 14);
        }
        function GoalValuesEditorComponent_pbi_spinner_14_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "pbi-spinner", 15);
        }
        function GoalValuesEditorComponent_ng_template_15_Template(rf, ctx) {
            if (1 & rf) {
                var _r8 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 16)(1, "tri-grid", 17, 18), core["\u0275\u0275listener"]("rowsChange", function($event) {
                    core["\u0275\u0275restoreView"](_r8);
                    var ctx_r7 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r7.onRowUpdate($event));
                }), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r5 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("rows", ctx_r5.gridData)("columns", ctx_r5.columnsConfig);
            }
        }
        var GoalValuesEditorComponent = function() {
            function GoalValuesEditorComponent(dialogRef, data, localizationService, telemetryService, changeDetector) {
                this.dialogRef = dialogRef, this.localizationService = localizationService, this.telemetryService = telemetryService, 
                this.changeDetector = changeDetector, this.isFullScreen = !1, this.onDestroy$ = new Subject.xQ, 
                this.resultType = 2, this.ValueColumnIndex = 0, this.DateAddedColumnIndex = 1, this.telemetryService.logEvent(events.Bn), 
                this.goal$ = data.goal$, this.goalValues$ = data.goalValues$, this.onDoneCallback = data.onDoneCallback, 
                this.columnsConfig = [ {
                    name: this.localizationService.get("Visual_Tablix_Values"),
                    type: "Number",
                    width: GoalValuesEditorComponent.GridColumnWidthInPx
                }, {
                    name: this.localizationService.get("Date"),
                    type: "Date",
                    width: GoalValuesEditorComponent.GridColumnWidthInPx
                } ], this.DuplicateCurrentValueDates = {
                    bannerType: 1,
                    iconName: GoalValuesEditorComponent.ErrorIcon,
                    message: this.localizationService.get("Metrics_Values_Editor_Error_Duplicate_Current_Value_Dates")
                }, this.MissingCurrentValueDate = {
                    bannerType: 1,
                    iconName: GoalValuesEditorComponent.ErrorIcon,
                    message: this.localizationService.get("Metrics_Values_Editor_Error_Missing_Current_Value_Date")
                }, this.MissingCurrentValue = {
                    bannerType: 1,
                    iconName: GoalValuesEditorComponent.ErrorIcon,
                    message: this.localizationService.get("Metrics_Values_Editor_Error_Missing_Current_Value")
                };
            }
            return GoalValuesEditorComponent.prototype.ngOnInit = function() {
                var _this = this;
                this.goal$.pipe((0, take.q)(1)).subscribe(function(goal) {
                    _this.columnsConfig = [ (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, _this.columnsConfig[_this.ValueColumnIndex]), {
                        formatString: goal.valuesFormatString
                    }), (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, _this.columnsConfig[_this.DateAddedColumnIndex]), {
                        formatString: goal.datesFormatString
                    }) ];
                }), this.goalValues$.pipe((0, take.q)(1)).subscribe(function(goalValues) {
                    _this.gridData = goalValues.map(function(value) {
                        return [ value.value, new Date(value.timestamp) ];
                    }), _this.changeDetector.markForCheck();
                });
            }, GoalValuesEditorComponent.prototype.ngAfterViewInit = function() {
                var _this = this;
                this.columnsConfig = _.map(this.columnsConfig, function(column) {
                    return column.template = _this.formatSwitchCellTemplate.formatSwitchCell, column;
                });
            }, GoalValuesEditorComponent.prototype.ngOnDestroy = function() {
                this.onDestroy$.next(), this.onDestroy$.complete();
            }, GoalValuesEditorComponent.prototype.onRowUpdate = function(updatedGridData) {
                this.gridData = updatedGridData;
            }, GoalValuesEditorComponent.prototype.toggleFullScreen = function() {
                this.isFullScreen ? (this.dialogRef.updateSize("70%", "80%"), this.isFullScreen = !1) : (this.dialogRef.updateSize("100%", "100%"), 
                this.isFullScreen = !0);
            }, GoalValuesEditorComponent.prototype.close = function() {
                this.telemetryService.logEvent(events.V8), this.dialogRef.close();
            }, GoalValuesEditorComponent.prototype.onDone = function() {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var values, valueDatesSet, _i, values_1, timestamp;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        if (this.gridData = this.gridEditor.flushPendingChanges(), (values = this.gridData.filter(function(row) {
                            return !(_.isNil(row[0]) && _.isNil(row[1]));
                        }).map(function(row) {
                            return {
                                timestamp: _.isNil(row[1]) ? void 0 : row[1],
                                value: _.isNil(row[0]) ? void 0 : row[0]
                            };
                        })).find(function(value) {
                            return _.isNil(value.timestamp) && !_.isNil(value.value);
                        })) return this.messageBanner = this.MissingCurrentValueDate, [ 2 ];
                        if (values.find(function(value) {
                            return !_.isNil(value.timestamp) && _.isNil(value.value);
                        })) return this.messageBanner = this.MissingCurrentValue, [ 2 ];
                        for (valueDatesSet = new Set, _i = 0, values_1 = values; _i < values_1.length; _i++) {
                            if (valueDatesSet.has((timestamp = values_1[_i].timestamp).getTime())) return this.messageBanner = this.DuplicateCurrentValueDates, 
                            [ 2 ];
                            valueDatesSet.add(timestamp.getTime());
                        }
                        return this.onDoneCallback(values.map(function(t) {
                            return {
                                timestamp: t.timestamp.toISOString(),
                                value: t.value
                            };
                        }), this.columnsConfig[this.ValueColumnIndex].formatString), this.telemetryService.logEvent(events.GW), 
                        this.dialogRef.close(), [ 2 ];
                    });
                });
            }, GoalValuesEditorComponent.prototype.valueFormatStringChanged = function(formatString) {
                this.columnsConfig = [ (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, this.columnsConfig[this.ValueColumnIndex]), {
                    formatString
                }), this.columnsConfig[1] ];
            }, GoalValuesEditorComponent.ErrorIcon = "pbi-glyph-blocked2", GoalValuesEditorComponent.GridColumnWidthInPx = 200, 
            GoalValuesEditorComponent.\u0275fac = function(t) {
                return new (t || GoalValuesEditorComponent)(core["\u0275\u0275directiveInject"](dialog.so), core["\u0275\u0275directiveInject"](dialog.WI), core["\u0275\u0275directiveInject"](localization_service.o), core["\u0275\u0275directiveInject"](Telemetry.y0), core["\u0275\u0275directiveInject"](core.ChangeDetectorRef));
            }, GoalValuesEditorComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: GoalValuesEditorComponent,
                selectors: [ [ "goal-values-editor" ] ],
                viewQuery: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275viewQuery"](TriGridComponent, 5), core["\u0275\u0275viewQuery"](FormatSwitchCellTemplateComponent, 5)), 
                    2 & rf) {
                        var _t = void 0;
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.gridEditor = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.formatSwitchCellTemplate = _t.first);
                    }
                },
                decls: 27,
                vars: 29,
                consts: [ [ 3, "viewModel", 4, "ngIf" ], [ 1, "title" ], [ "mat-icon-button", "", 1, "pbi-icon-button", 3, "click" ], [ "class", "glyph-small", "fontIcon", "pbi-glyph-fullscreen", 4, "ngIf" ], [ "class", "glyph-small", "fontIcon", "pbi-glyph-fullscreenexit", 4, "ngIf" ], [ 1, "values-editor-value-formatting-box" ], [ 1, "goals-value-formatting", 3, "formatString", "dataType", "formatStringChange" ], [ "class", "pbi-spinner-large", 4, "ngIf", "ngIfElse" ], [ "showGrid", "" ], [ 1, "actions" ], [ 1, "pbi-fluent-button", "primary", 3, "disabled", "click" ], [ 1, "pbi-fluent-button", "secondary", 3, "click" ], [ 3, "viewModel" ], [ "fontIcon", "pbi-glyph-fullscreen", 1, "glyph-small" ], [ "fontIcon", "pbi-glyph-fullscreenexit", 1, "glyph-small" ], [ 1, "pbi-spinner-large" ], [ 1, "grid-container" ], [ 3, "rows", "columns", "rowsChange" ], [ "gridEditor", "" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275template"](0, GoalValuesEditorComponent_message_banner_0_Template, 1, 1, "message-banner", 0), 
                    core["\u0275\u0275elementStart"](1, "header")(2, "div", 1), core["\u0275\u0275text"](3), 
                    core["\u0275\u0275pipe"](4, "localize"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](5, "button", 2), 
                    core["\u0275\u0275listener"]("click", function() {
                        return ctx.toggleFullScreen();
                    }), core["\u0275\u0275pipe"](6, "localize"), core["\u0275\u0275template"](7, GoalValuesEditorComponent_mat_icon_7_Template, 1, 0, "mat-icon", 3), 
                    core["\u0275\u0275template"](8, GoalValuesEditorComponent_mat_icon_8_Template, 1, 0, "mat-icon", 4), 
                    core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275elementStart"](9, "section"), 
                    core["\u0275\u0275text"](10), core["\u0275\u0275pipe"](11, "localize"), core["\u0275\u0275elementEnd"](), 
                    core["\u0275\u0275elementStart"](12, "div", 5)(13, "value-formatting", 6), core["\u0275\u0275listener"]("formatStringChange", function($event) {
                        return ctx.valueFormatStringChanged($event);
                    }), core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275template"](14, GoalValuesEditorComponent_pbi_spinner_14_Template, 1, 0, "pbi-spinner", 7), 
                    core["\u0275\u0275template"](15, GoalValuesEditorComponent_ng_template_15_Template, 3, 2, "ng-template", null, 8, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275element"](17, "format-switch-cell-template"), core["\u0275\u0275elementStart"](18, "div", 9)(19, "button", 10), 
                    core["\u0275\u0275listener"]("click", function() {
                        return ctx.onDone();
                    }), core["\u0275\u0275pipe"](20, "localize"), core["\u0275\u0275text"](21), core["\u0275\u0275pipe"](22, "localize"), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](23, "button", 11), 
                    core["\u0275\u0275listener"]("click", function() {
                        return ctx.close();
                    }), core["\u0275\u0275pipe"](24, "localize"), core["\u0275\u0275text"](25), core["\u0275\u0275pipe"](26, "localize"), 
                    core["\u0275\u0275elementEnd"]()()), 2 & rf) {
                        var _r4 = core["\u0275\u0275reference"](16);
                        core["\u0275\u0275property"]("ngIf", ctx.messageBanner), core["\u0275\u0275advance"](3), 
                        core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](4, 15, "Metrics_Values_Editor_Title")), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](6, 17, "Fullscreen_Toggle")), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", !ctx.isFullScreen), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx.isFullScreen), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](11, 19, "Metrics_Values_Editor_Description"), "\n"), 
                        core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("formatString", ctx.columnsConfig[0].formatString)("dataType", ctx.resultType), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !ctx.gridData)("ngIfElse", _r4), 
                        core["\u0275\u0275advance"](5), core["\u0275\u0275property"]("disabled", !ctx.gridData), 
                        core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](20, 21, "Done_ButtonText")), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](22, 23, "Done_ButtonText"), " "), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](24, 25, "PBI_Button_Label_Cancel")), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](26, 27, "PBI_Button_Label_Cancel"), " ");
                    }
                },
                dependencies: [ common.NgIf, icon.Hw, message_banner_component.A, pbi_spinner_component.k, value_formatting_component.d, TriGridComponent, FormatSwitchCellTemplateComponent, localize_pipe.F ],
                styles: [ '[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]     .values-editor-value-formatting-box mat-select{height:28px;border:1px solid var(--gray-110, #8A8886);border-radius:2px}[_nghost-%COMP%]     .values-editor-value-formatting-box mat-select .mat-select-value{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--fluent-theme-neutral-primary-color, #323130);line-height:20px}[_nghost-%COMP%]     .values-editor-value-formatting-box mat-select .mat-select-arrow{color:var(--gray-140, #484644);padding-right:14px}[_nghost-%COMP%]     .values-editor-value-formatting-box num-up-down .inputRange{height:28px;border:1px solid var(--gray-110, #8A8886);border-radius:2px}[_nghost-%COMP%]     .values-editor-value-formatting-box num-up-down .inputRange .inputUpDown{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--fluent-theme-neutral-primary-color, #323130);line-height:20px}[_nghost-%COMP%]     .values-editor-value-formatting-box num-up-down label{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);line-height:20px}[_nghost-%COMP%]     .values-editor-value-formatting-box .valueFormatterToggleButtonsGroup .btn{background-color:transparent;border:none}[_nghost-%COMP%]     .values-editor-value-formatting-box .valueFormatterToggleButtonsGroup .btn:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}header[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-dark-color, #201F1E);display:flex;flex-direction:row;align-items:center;justify-content:space-between}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--xlg-font-size, 20px);font-weight:var(--font-weight-semi-bold, 600)}header[_ngcontent-%COMP%], section[_ngcontent-%COMP%], tri-grid[_ngcontent-%COMP%], .values-editor-value-formatting-box[_ngcontent-%COMP%]{margin-bottom:16px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:end;gap:8px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   pbi-spinner[_ngcontent-%COMP%]{margin:5px 5px 0 0}.pbi-spinner-large[_ngcontent-%COMP%]{height:100%}.grid-container[_ngcontent-%COMP%]{flex-grow:1}' ],
                changeDetection: 0
            }), GoalValuesEditorComponent;
        }(), dialog_service = __webpack_require__(58938), GoalValuesEditorLauncherService = function() {
            function GoalValuesEditorLauncherService(dialogService) {
                this.dialogService = dialogService;
            }
            return GoalValuesEditorLauncherService.prototype.launchTargetsEditor = function(goal, goalTargets$, onDoneCallback) {
                this.dialogService.open(GoalTargetsEditorComponent, {
                    width: "70%",
                    height: "80%",
                    maxWidth: "100%",
                    maxHeight: "100%",
                    autoFocus: !1,
                    data: {
                        goal$: (0, of.of)(goal),
                        goalTargets$,
                        onDoneCallback
                    }
                });
            }, GoalValuesEditorLauncherService.prototype.launchValuesEditor = function(goal, goalValues$, onDoneCallback) {
                this.dialogService.open(GoalValuesEditorComponent, {
                    width: "70%",
                    height: "80%",
                    maxWidth: "100%",
                    maxHeight: "100%",
                    autoFocus: !1,
                    data: {
                        goal$: (0, of.of)(goal),
                        goalValues$,
                        onDoneCallback
                    }
                });
            }, GoalValuesEditorLauncherService.\u0275fac = function(t) {
                return new (t || GoalValuesEditorLauncherService)(core["\u0275\u0275inject"](dialog_service.x));
            }, GoalValuesEditorLauncherService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: GoalValuesEditorLauncherService,
                factory: GoalValuesEditorLauncherService.\u0275fac
            }), GoalValuesEditorLauncherService;
        }(), rollup_utils = __webpack_require__(98925), goals_tutorial_service = __webpack_require__(20930), goal_value_type_picker_component_c0 = function(a0) {
            return {
                isNew: a0
            };
        };
        function GoalValueTypePickerComponent_span_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "span", 15), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("ngClass", core["\u0275\u0275pureFunction1"](2, goal_value_type_picker_component_c0, ctx_r0.goal.isNew && !ctx_r0.selectedValue)), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate"](ctx_r0.currentStatus);
            }
        }
        function GoalValueTypePickerComponent_tri_svg_icon_3_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "tri-svg-icon", 16), 2 & rf && core["\u0275\u0275property"]("name", "link_20_regular");
        }
        var goal_value_type_picker_component_c1 = function(a0) {
            return {
                selected: a0
            };
        };
        function GoalValueTypePickerComponent_button_19_Template(rf, ctx) {
            if (1 & rf) {
                var _r9 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 6), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r9);
                    var ctx_r8 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r8.onValueSelect(ctx_r8.allGoalValueOptions[2].value));
                }), core["\u0275\u0275element"](1, "tri-svg-icon", 7), core["\u0275\u0275text"](2), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r3 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("disabled", !ctx_r3.capabilities.selectMultiple)("ngClass", core["\u0275\u0275pureFunction1"](5, goal_value_type_picker_component_c1, (null == ctx_r3.selectedValue ? null : ctx_r3.selectedValue.type) === ctx_r3.allGoalValueOptions[2].value.type)), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngClass", (null == ctx_r3.selectedValue ? null : ctx_r3.selectedValue.type) === ctx_r3.allGoalValueOptions[2].value.type ? "show-checkmark" : "hide-checkmark")("name", "checkmark_20_regular"), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"](" ", ctx_r3.allGoalValueOptions[2].displayName, " ");
            }
        }
        function GoalValueTypePickerComponent_button_21_Template(rf, ctx) {
            if (1 & rf) {
                var _r11 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 17), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r11);
                    var ctx_r10 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r10.onValueSelect(ctx_r10.allGoalValueOptions[1].value));
                }), core["\u0275\u0275element"](1, "tri-svg-icon", 18), core["\u0275\u0275text"](2), 
                core["\u0275\u0275pipe"](3, "localize"), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r4 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("disabled", !ctx_r4.capabilities.selectConnect), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275property"]("name", "edit_20_regular"), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](3, 3, "Rollups_Connect_Edit"), " ");
            }
        }
        function GoalValueTypePickerComponent_button_22_Template(rf, ctx) {
            if (1 & rf) {
                var _r13 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 17), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r13);
                    var ctx_r12 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r12.onValueSelect(ctx_r12.allGoalValueOptions[2].value));
                }), core["\u0275\u0275element"](1, "tri-svg-icon", 18), core["\u0275\u0275text"](2), 
                core["\u0275\u0275pipe"](3, "localize"), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r5 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("disabled", !ctx_r5.capabilities.selectMultiple), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275property"]("name", "edit_20_regular"), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](3, 3, ctx_r5.isGoalCurrentValuePicker ? "Rollups_Multiple_Values_Edit" : "Rollups_Multiple_Targets_Edit"), " ");
            }
        }
        function GoalValueTypePickerComponent_ng_container_25_Template(rf, ctx) {
            if (1 & rf) {
                var _r16 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "button", 17), 
                core["\u0275\u0275listener"]("click", function() {
                    var metricRollup_r14 = core["\u0275\u0275restoreView"](_r16).$implicit, ctx_r15 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r15.onSelectRollup(metricRollup_r14));
                }), core["\u0275\u0275element"](2, "tri-svg-icon", 19), core["\u0275\u0275text"](3), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementContainerEnd"]();
            }
            if (2 & rf) {
                var metricRollup_r14 = ctx.$implicit, ctx_r7 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("disabled", !ctx_r7.capabilities.selectRollup), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngClass", (null == ctx_r7.selectedValue ? null : ctx_r7.selectedValue.rollupType) === metricRollup_r14 ? "show-checkmark" : "hide-checkmark")("name", "checkmark_20_regular"), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"](" ", ctx_r7.metricRollupDisplayNames[metricRollup_r14], " ");
            }
        }
        var GoalValueTypePickerComponent = function() {
            function GoalValueTypePickerComponent(localizationService, changeDetector, goalsTutorialService) {
                this.localizationService = localizationService, this.changeDetector = changeDetector, 
                this.goalsTutorialService = goalsTutorialService, this.onCurrentSelection = new core.EventEmitter, 
                this.MetricRollupOptions = [ 1, 2, 4, 3 ], this.isSelected = !1, this.isSubmetricSelected = !1, 
                this.capabilities = {}, this.allGoalValueOptions = [], this.metricRollupDisplayNames = {}, 
                this.setOptions();
            }
            return GoalValueTypePickerComponent.prototype.ngOnInit = function() {
                this.isGoalCurrentValuePicker = 1 === this.goalValueType;
            }, GoalValueTypePickerComponent.prototype.ngOnChanges = function(changes) {
                var _a, _b;
                if (changes.goal && (this.isCategorical = !!this.goal.valuesCategoryId, this.showGoalRollupsCoachmark && this.goalsTutorialService.startGoalRollupsTutorial()), 
                changes.goalCapabilities && (this.capabilities = {
                    editCalculation: this.goalCapabilities.editCalculationType,
                    selectManual: !0,
                    selectRollup: this.goalCapabilities.usePickerRollup,
                    selectConnect: this.isGoalCurrentValuePicker ? this.goalCapabilities.connectCurrentValueToData : this.goalCapabilities.connectTargetValueToData,
                    selectMultiple: this.isGoalCurrentValuePicker ? this.goalCapabilities.editMultipleValues : this.goalCapabilities.editMultipleTargets
                }), changes.currentGoalValueTypeSelection) {
                    if (_.isUndefined(null === (_b = null === (_a = changes.currentGoalValueTypeSelection) || void 0 === _a ? void 0 : _a.currentValue) || void 0 === _b ? void 0 : _b.rollupType)) this.isSubmetricSelected = !1, 
                    this.selectedValue = changes.currentGoalValueTypeSelection.currentValue, this.currentStatus = void 0 === this.selectedValue ? this.localizationService.get("Set_Up") : this.allGoalValueOptions[changes.currentGoalValueTypeSelection.currentValue.type].buttonText; else {
                        this.isSubmetricSelected = !0, this.selectedValue = changes.currentGoalValueTypeSelection.currentValue;
                        var rollupValue = (0, rollup_utils.t)(changes.currentGoalValueTypeSelection.currentValue.rollupType);
                        this.selectedValue.rollupType = rollupValue, this.currentStatus = void 0 === this.selectedValue ? this.localizationService.get("Set_Up") : this.metricRollupDisplayNames[rollupValue];
                    }
                    this.changeDetector.markForCheck();
                }
            }, GoalValueTypePickerComponent.prototype.setOptions = function() {
                this.metricRollupDisplayNames = (0, rollup_utils.P)(this.localizationService), this.allGoalValueOptions = [ {
                    displayName: this.localizationService.get("Rollups_Manual_Metric"),
                    value: {
                        type: 0
                    },
                    buttonText: this.localizationService.get("Rollups_Manual")
                }, {
                    displayName: this.localizationService.get("Rollups_Connect_To_Data"),
                    value: {
                        type: 1
                    },
                    buttonText: ""
                }, {
                    displayName: this.localizationService.get("Rollups_Multiple_Targets"),
                    value: {
                        type: 2
                    },
                    buttonText: this.localizationService.get("Rollups_Multiple")
                } ];
            }, GoalValueTypePickerComponent.prototype.onValueSelect = function(event) {
                this.onCurrentSelection.emit(event);
            }, GoalValueTypePickerComponent.prototype.onSelectRollup = function(rollupType) {
                this.onCurrentSelection.emit({
                    type: 4,
                    rollupType
                });
            }, GoalValueTypePickerComponent.\u0275fac = function(t) {
                return new (t || GoalValueTypePickerComponent)(core["\u0275\u0275directiveInject"](localization_service.o), core["\u0275\u0275directiveInject"](core.ChangeDetectorRef), core["\u0275\u0275directiveInject"](goals_tutorial_service.N));
            }, GoalValueTypePickerComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: GoalValueTypePickerComponent,
                selectors: [ [ "goal-value-type-picker" ] ],
                inputs: {
                    goal: "goal",
                    hasMultipleTargets: "hasMultipleTargets",
                    goalValueType: "goalValueType",
                    currentGoalValueTypeSelection: "currentGoalValueTypeSelection",
                    goalCapabilities: "goalCapabilities",
                    showGoalRollupsCoachmark: "showGoalRollupsCoachmark"
                },
                outputs: {
                    onCurrentSelection: "onCurrentSelection"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 26,
                vars: 35,
                consts: [ [ "mat-button", "", "cdkMonitorElementFocus", "", "data-testid", "goal-value-input-menu-btn", 1, "goal-value-input-menu-trigger", 3, "matMenuTriggerFor", "disabled" ], [ 3, "ngClass", 4, "ngIf" ], [ 3, "name", 4, "ngIf" ], [ 1, "chevron-down", 3, "name" ], [ "xPosition", "before", 1, "goal-value-input-menu", 3, "overlapTrigger" ], [ "goalValueInputMenu", "matMenu" ], [ "mat-menu-item", "", 3, "disabled", "ngClass", "click" ], [ 1, "margin-right", 3, "ngClass", "name" ], [ "mat-menu-item", "", 1, "goal-value-input-sub-menu-button", "submetrics-menu-trigger", 3, "disabled", "matMenuTriggerFor" ], [ "name", "chevronrightmedium", "size", "mini" ], [ "mat-menu-item", "", 3, "disabled", "ngClass", "click", 4, "ngIf" ], [ "mat-menu-item", "", 3, "disabled", "click", 4, "ngIf" ], [ 1, "goal-value-input-sub-menu", 3, "overlapTrigger" ], [ "goalValueInputRollupsMenu", "matMenu" ], [ 4, "ngFor", "ngForOf" ], [ 3, "ngClass" ], [ 3, "name" ], [ "mat-menu-item", "", 3, "disabled", "click" ], [ 1, "margin-right", 3, "name" ], [ 1, "margin-right-sub-menu", 3, "ngClass", "name" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275elementStart"](0, "button", 0), core["\u0275\u0275pipe"](1, "localize"), 
                    core["\u0275\u0275template"](2, GoalValueTypePickerComponent_span_2_Template, 2, 4, "span", 1), 
                    core["\u0275\u0275template"](3, GoalValueTypePickerComponent_tri_svg_icon_3_Template, 1, 1, "tri-svg-icon", 2), 
                    core["\u0275\u0275element"](4, "tri-svg-icon", 3), core["\u0275\u0275elementEnd"](), 
                    core["\u0275\u0275elementStart"](5, "mat-menu", 4, 5)(7, "button", 6), core["\u0275\u0275listener"]("click", function() {
                        return ctx.onValueSelect(ctx.allGoalValueOptions[0].value);
                    }), core["\u0275\u0275element"](8, "tri-svg-icon", 7), core["\u0275\u0275text"](9), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](10, "button", 8)(11, "div"), 
                    core["\u0275\u0275element"](12, "tri-svg-icon", 7), core["\u0275\u0275text"](13), 
                    core["\u0275\u0275pipe"](14, "localize"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275element"](15, "pbi-icon", 9), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](16, "button", 6), 
                    core["\u0275\u0275listener"]("click", function() {
                        return ctx.onValueSelect(ctx.allGoalValueOptions[1].value);
                    }), core["\u0275\u0275element"](17, "tri-svg-icon", 7), core["\u0275\u0275text"](18), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](19, GoalValueTypePickerComponent_button_19_Template, 3, 7, "button", 10), 
                    core["\u0275\u0275element"](20, "mat-divider"), core["\u0275\u0275template"](21, GoalValueTypePickerComponent_button_21_Template, 4, 5, "button", 11), 
                    core["\u0275\u0275template"](22, GoalValueTypePickerComponent_button_22_Template, 4, 5, "button", 11), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](23, "mat-menu", 12, 13), 
                    core["\u0275\u0275template"](25, GoalValueTypePickerComponent_ng_container_25_Template, 4, 4, "ng-container", 14), 
                    core["\u0275\u0275elementEnd"]()), 2 & rf) {
                        var tmp_2_0, _r2 = core["\u0275\u0275reference"](6), _r6 = core["\u0275\u0275reference"](24);
                        core["\u0275\u0275property"]("matMenuTriggerFor", _r2)("disabled", !ctx.capabilities.editCalculation), 
                        core["\u0275\u0275attribute"]("aria-label", null !== (tmp_2_0 = ctx.currentStatus) && void 0 !== tmp_2_0 ? tmp_2_0 : core["\u0275\u0275pipeBind1"](1, 27, "Set_Up")), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", (null == ctx.selectedValue ? null : ctx.selectedValue.type) !== ctx.allGoalValueOptions[1].value.type), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", (null == ctx.selectedValue ? null : ctx.selectedValue.type) === ctx.allGoalValueOptions[1].value.type), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("name", "chevron_down_20_regular"), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("overlapTrigger", !1), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("disabled", !ctx.capabilities.selectManual || !ctx.isGoalCurrentValuePicker && ctx.hasMultipleTargets)("ngClass", core["\u0275\u0275pureFunction1"](31, goal_value_type_picker_component_c1, (null == ctx.selectedValue ? null : ctx.selectedValue.type) === ctx.allGoalValueOptions[0].value.type)), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngClass", (null == ctx.selectedValue ? null : ctx.selectedValue.type) === ctx.allGoalValueOptions[0].value.type ? "show-checkmark" : "hide-checkmark")("name", "checkmark_20_regular"), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"](" ", ctx.allGoalValueOptions[0].displayName, " "), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("disabled", !ctx.capabilities.selectRollup)("matMenuTriggerFor", _r6), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngClass", ctx.isSubmetricSelected ? "show-checkmark" : "hide-checkmark")("name", "checkmark_20_regular"), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](14, 29, "Rollups_Use_Submetrics")), 
                        core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("disabled", !ctx.capabilities.selectConnect)("ngClass", core["\u0275\u0275pureFunction1"](33, goal_value_type_picker_component_c1, (null == ctx.selectedValue ? null : ctx.selectedValue.type) === ctx.allGoalValueOptions[1].value.type)), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngClass", (null == ctx.selectedValue ? null : ctx.selectedValue.type) === ctx.allGoalValueOptions[1].value.type ? "show-checkmark" : "hide-checkmark")("name", "checkmark_20_regular"), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"](" ", ctx.allGoalValueOptions[1].displayName, " "), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !ctx.isGoalCurrentValuePicker), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", !!ctx.goal.valueConnection && ctx.isGoalCurrentValuePicker || !!ctx.goal.targetConnection && !ctx.isGoalCurrentValuePicker), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !ctx.isCategorical && ctx.isGoalCurrentValuePicker && (null == ctx.selectedValue ? null : ctx.selectedValue.type) === ctx.allGoalValueOptions[0].value.type || !ctx.isGoalCurrentValuePicker && (null == ctx.selectedValue ? null : ctx.selectedValue.type) === ctx.allGoalValueOptions[2].value.type), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("overlapTrigger", !1), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngForOf", ctx.MetricRollupOptions);
                    }
                },
                dependencies: [ common.NgClass, common.NgForOf, common.NgIf, divider.d, legacy_menu.W0, legacy_menu.tN, legacy_menu.D8, pbi_icon_component._, tri_svg_icon_component.M, localize_pipe.F ],
                styles: [ '.goal-value-input-menu-trigger[_ngcontent-%COMP%]{padding:6px 8px;width:100%;background:none;border:1px solid var(--gray-110, #8A8886);border-radius:2px;display:flex;flex-direction:row}.goal-value-input-menu-trigger[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{padding-left:4px;padding-top:4px}.goal-value-input-menu-trigger[_ngcontent-%COMP%]:active, .goal-value-input-menu-trigger[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--gray-88, #E0E0E0)}.goal-value-input-menu-trigger[_ngcontent-%COMP%]:disabled{color:var(--gray-90, #A19F9D);background-color:var(--gray-20, #F3F2F1);border-color:var(--gray-20, #F3F2F1)}button[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px);color:var(--fluent-theme-neutral-primary-color, #323130);padding:6px 12px;height:32px}button[_ngcontent-%COMP%]   .isNew[_ngcontent-%COMP%]{color:var(--fluent-theme-link-darker-color, #005A9E)}button[_ngcontent-%COMP%]   tri-svg-icon.chevron-down[_ngcontent-%COMP%]{height:16px;width:16px;margin:2px;padding-left:4px}button[_ngcontent-%COMP%]   tri-svg-icon.margin-right[_ngcontent-%COMP%]{margin-right:8px}button[_ngcontent-%COMP%]   tri-svg-icon.margin-right-sub-menu[_ngcontent-%COMP%]{margin-right:6px}button[_ngcontent-%COMP%]   .show-checkmark[_ngcontent-%COMP%]{visibility:visible}button[_ngcontent-%COMP%]   .hide-checkmark[_ngcontent-%COMP%]{visibility:hidden}button[_ngcontent-%COMP%]:active, button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--gray-96, #F5F5F5)}button[_ngcontent-%COMP%]:disabled   tri-svg-icon[_ngcontent-%COMP%]{opacity:50%}  .goal-value-input-menu-trigger .sort-icon .mat-icon{margin:0 4px}  .mat-menu-panel.goal-value-input-sub-menu{min-height:fit-content;transform:translateY(8px);width:100px;min-width:100px}  .goal-value-input-menu .mat-menu-item{padding-left:8px}  .goal-value-input-menu .mat-menu-content{width:190px;min-width:190px}  .goal-value-input-sub-menu .mat-menu-content{width:100px;min-width:100px}  .goal-value-input-sub-menu .mat-menu-content button{width:100px;min-width:100px}  .goal-rollups-tutorial.tutorial-popup .box{background-color:var(--gray-130, #605E5C)}  .goal-rollups-tutorial.tutorial-popup .box .arrow{background-color:var(--gray-130, #605E5C)}  .goal-rollups-tutorial.tutorial-popup .box .title{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--xlg-font-size, 20px);font-weight:var(--font-weight-semi-bold, 600)}  .goal-rollups-tutorial.tutorial-popup .box .text{margin:10px 10px 0;line-height:22px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400)}.mat-menu-item[_ngcontent-%COMP%]{color:var(--gray-180, #252423);display:flex;flex-direction:row;align-items:center}.mat-menu-item[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{display:flex}.mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:inherit;display:flex;align-items:center}.mat-menu-item.goal-value-input-sub-menu-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.mat-menu-item[_ngcontent-%COMP%]:active, .mat-menu-item[_ngcontent-%COMP%]:hover{background-color:var(--gray-96, #F5F5F5)}.mat-menu-item[_ngcontent-%COMP%]:disabled{color:var(--gray-90, #A19F9D)}.selected[_ngcontent-%COMP%]{pointer-events:none;user-select:none;-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none}' ],
                changeDetection: 0
            }), GoalValueTypePickerComponent;
        }(), goal_value_input_component_c0 = [ "valueInput" ], goal_value_input_component_c1 = [ "valueSelect" ], goal_value_input_component_c2 = [ "targetInput" ], goal_value_input_component_c3 = [ "targetSelect" ], goal_value_input_component_c4 = [ "valueFormattingTmpl" ], goal_value_input_component_c5 = [ "valueFormatting" ];
        function GoalValueInputComponent_div_3_Template(rf, ctx) {
            if (1 & rf) {
                var _r15 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 13)(1, "button", 14), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r15);
                    var ctx_r14 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r14.openGoalValuesEditor());
                }), core["\u0275\u0275text"](2), core["\u0275\u0275pipe"](3, "localize"), core["\u0275\u0275elementEnd"]()();
            }
            2 & rf && (core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](3, 1, "Edit")));
        }
        function GoalValueInputComponent_div_5_Template(rf, ctx) {
            if (1 & rf) {
                var _r18 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 15)(1, "input", 16, 17), core["\u0275\u0275listener"]("focus", function() {
                    core["\u0275\u0275restoreView"](_r18);
                    var ctx_r17 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r17.onCurrentValueFocus());
                })("keyup.enter", function() {
                    core["\u0275\u0275restoreView"](_r18);
                    var ctx_r19 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r19.save());
                })("ngModelChange", function($event) {
                    core["\u0275\u0275restoreView"](_r18);
                    var ctx_r20 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r20.onCurrentValueChange($event));
                }), core["\u0275\u0275pipe"](3, "localize"), core["\u0275\u0275pipe"](4, "localize"), 
                core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r1 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275propertyInterpolate"]("type", ctx_r1.valueInputType), 
                core["\u0275\u0275property"]("readonly", !ctx_r1.capabilities.editCurrentValue || ctx_r1.isValueSubmetricsSelected)("ngModel", ctx_r1.valueInputValue), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](3, 5, "CurrentValue"))("placeholder", ctx_r1.displayedGoal.valueConnection || ctx_r1.displayedGoal.valueRollup || ctx_r1.isValueSubmetricsSelected ? "-" : core["\u0275\u0275pipeBind1"](4, 7, "Enter_Value"));
            }
        }
        function GoalValueInputComponent_ng_template_6_option_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "option", 22), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var categoricalValue_r23 = ctx.$implicit;
                core["\u0275\u0275property"]("ngValue", ctx.index), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275textInterpolate1"](" ", categoricalValue_r23.displayName, " ");
            }
        }
        function GoalValueInputComponent_ng_template_6_Template(rf, ctx) {
            if (1 & rf) {
                var _r26 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "select", 18, 19), core["\u0275\u0275listener"]("ngModelChange", function($event) {
                    core["\u0275\u0275restoreView"](_r26);
                    var ctx_r25 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r25.valueSelected = $event);
                }), core["\u0275\u0275element"](2, "option", 20), core["\u0275\u0275template"](3, GoalValueInputComponent_ng_template_6_option_3_Template, 2, 2, "option", 21), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r3 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("disabled", !ctx_r3.capabilities.editCurrentValue)("ngModel", ctx_r3.valueSelected), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngForOf", null == ctx_r3.goalValueCategoryLists[ctx_r3.selectedCategoryListIndex] ? null : ctx_r3.goalValueCategoryLists[ctx_r3.selectedCategoryListIndex].categories);
            }
        }
        function GoalValueInputComponent_div_8_Template(rf, ctx) {
            if (1 & rf) {
                var _r28 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div")(1, "goal-value-type-picker", 23), core["\u0275\u0275listener"]("onCurrentSelection", function($event) {
                    core["\u0275\u0275restoreView"](_r28);
                    var ctx_r27 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r27.onCurrentSelectionCurrentValueChange($event));
                }), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r4 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("canCustomizeStatus", null == ctx_r4.capabilities.scorecardCapabilities ? null : ctx_r4.capabilities.scorecardCapabilities.customizeStatus)("goal", ctx_r4.displayedGoal)("currentGoalValueTypeSelection", ctx_r4.currentGoalValueTypeSelection)("goalValueType", 1)("goalCapabilities", ctx_r4.capabilities)("showGoalRollupsCoachmark", (null == ctx_r4.displayedGoal.subGoals ? null : ctx_r4.displayedGoal.subGoals.length) > 0 && ctx_r4.capabilities.usePickerRollup);
            }
        }
        function GoalValueInputComponent_div_9_span_1_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "span", 26);
        }
        function GoalValueInputComponent_div_9_Template(rf, ctx) {
            if (1 & rf) {
                var _r31 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 13), core["\u0275\u0275template"](1, GoalValueInputComponent_div_9_span_1_Template, 1, 0, "span", 24), 
                core["\u0275\u0275elementStart"](2, "span"), core["\u0275\u0275text"](3, "\xa0"), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](4, "button", 25), 
                core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r31);
                    var ctx_r30 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r30.onConnectCurrentToDataClick());
                }), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r5 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !ctx_r5.displayedGoal.valueConnection), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("localize", ctx_r5.displayedGoal.valueConnection ? "UpdateConnection" : "ConnectToData");
            }
        }
        function GoalValueInputComponent_div_15_Template(rf, ctx) {
            if (1 & rf) {
                var _r33 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 13)(1, "button", 14), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r33);
                    var ctx_r32 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r32.openGoalTargetsEditor());
                }), core["\u0275\u0275text"](2), core["\u0275\u0275pipe"](3, "localize"), core["\u0275\u0275elementEnd"]()();
            }
            2 & rf && (core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](3, 1, "Edit")));
        }
        function GoalValueInputComponent_div_17_Template(rf, ctx) {
            if (1 & rf) {
                var _r36 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 15)(1, "input", 27, 28), core["\u0275\u0275listener"]("focus", function() {
                    core["\u0275\u0275restoreView"](_r36);
                    var ctx_r35 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r35.onTargetValueFocus());
                })("keyup.enter", function() {
                    core["\u0275\u0275restoreView"](_r36);
                    var ctx_r37 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r37.save());
                })("ngModelChange", function($event) {
                    core["\u0275\u0275restoreView"](_r36);
                    var ctx_r38 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r38.onTargetValueChange($event));
                }), core["\u0275\u0275pipe"](3, "localize"), core["\u0275\u0275pipe"](4, "localize"), 
                core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r7 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275propertyInterpolate"]("type", ctx_r7.targetInputType), 
                core["\u0275\u0275property"]("readonly", !ctx_r7.capabilities.editTargetValue || ctx_r7.isTargetSubmetricsSelected)("ngModel", ctx_r7.targetInputValue)("pbiTooltipDisabled", !(ctx_r7.capabilities.supportMultipleTargetsEditing && ctx_r7.targetCount > 1 && !ctx_r7.displayedGoal.targetConnection && !ctx_r7.isTargetSubmetricsSelected))("pbiTooltipPosition", "below"), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](3, 7, "Target"))("placeholder", ctx_r7.displayedGoal.targetConnection || ctx_r7.displayedGoal.targetRollup || ctx_r7.isTargetSubmetricsSelected ? "-" : core["\u0275\u0275pipeBind1"](4, 9, "Enter_A_Value"));
            }
        }
        function GoalValueInputComponent_ng_template_18_option_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "option", 22), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var categoricalTarget_r41 = ctx.$implicit;
                core["\u0275\u0275property"]("ngValue", ctx.index), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275textInterpolate1"](" ", categoricalTarget_r41.displayName, " ");
            }
        }
        function GoalValueInputComponent_ng_template_18_Template(rf, ctx) {
            if (1 & rf) {
                var _r44 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "select", 29, 30), core["\u0275\u0275listener"]("ngModelChange", function($event) {
                    core["\u0275\u0275restoreView"](_r44);
                    var ctx_r43 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r43.targetSelected = $event);
                }), core["\u0275\u0275element"](2, "option", 31), core["\u0275\u0275template"](3, GoalValueInputComponent_ng_template_18_option_3_Template, 2, 2, "option", 21), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r9 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("disabled", !ctx_r9.capabilities.editTargetValue)("ngModel", ctx_r9.targetSelected), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngForOf", null == ctx_r9.goalValueCategoryLists[ctx_r9.selectedCategoryListIndex] ? null : ctx_r9.goalValueCategoryLists[ctx_r9.selectedCategoryListIndex].categories);
            }
        }
        function GoalValueInputComponent_div_20_Template(rf, ctx) {
            if (1 & rf) {
                var _r46 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div")(1, "goal-value-type-picker", 32), core["\u0275\u0275listener"]("onCurrentSelection", function($event) {
                    core["\u0275\u0275restoreView"](_r46);
                    var ctx_r45 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r45.onCurrentSelectionTargetChange($event));
                }), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r10 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("canCustomizeStatus", null == ctx_r10.capabilities.scorecardCapabilities ? null : ctx_r10.capabilities.scorecardCapabilities.customizeStatus)("goal", ctx_r10.displayedGoal)("hasMultipleTargets", ctx_r10.targetCount > 1)("currentGoalValueTypeSelection", ctx_r10.targetGoalValueTypeSelection)("goalValueType", 2)("goalCapabilities", ctx_r10.capabilities);
            }
        }
        function GoalValueInputComponent_div_21_span_1_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "span", 26);
        }
        function GoalValueInputComponent_div_21_Template(rf, ctx) {
            if (1 & rf) {
                var _r49 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 13), core["\u0275\u0275template"](1, GoalValueInputComponent_div_21_span_1_Template, 1, 0, "span", 24), 
                core["\u0275\u0275elementStart"](2, "span"), core["\u0275\u0275text"](3, "\xa0"), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](4, "button", 25), 
                core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r49);
                    var ctx_r48 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r48.onConnectTargetToDataClick());
                }), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r11 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !ctx_r11.displayedGoal.targetConnection), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("localize", ctx_r11.displayedGoal.targetConnection ? "UpdateConnection" : "ConnectToData");
            }
        }
        function GoalValueInputComponent_ng_template_22_Template(rf, ctx) {
            if (1 & rf) {
                var _r52 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 33, 34)(2, "div", 35), core["\u0275\u0275text"](3), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](4, "value-formatting", 36), 
                core["\u0275\u0275listener"]("formatStringChange", function($event) {
                    core["\u0275\u0275restoreView"](_r52);
                    var ctx_r51 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r51.valueFormatStringChanged($event));
                })("onSelectedCategoryListChange", function($event) {
                    core["\u0275\u0275restoreView"](_r52);
                    var ctx_r53 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r53.selectCategoryList($event));
                }), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r13 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](3), core["\u0275\u0275textInterpolate"](ctx_r13.formattedValue), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("formatString", ctx_r13.formatString)("dataType", ctx_r13.resultType)("supportCategoricalValues", ctx_r13.capabilities.useCategoricalValues && !ctx_r13.isValueSubmetricsSelected && !ctx_r13.isTargetSubmetricsSelected)("goalValueCategoryLists", ctx_r13.goalValueCategoryLists)("selectedCategoryListIndex", ctx_r13.selectedCategoryListIndex)("launchCategoryListsEditPane", ctx_r13.launchCategoryListsEditPane);
            }
        }
        var FocusedInput = function(FocusedInput) {
            return FocusedInput[FocusedInput.None = 0] = "None", FocusedInput[FocusedInput.Value = 1] = "Value", 
            FocusedInput[FocusedInput.Target = 2] = "Target", FocusedInput;
        }({}), GoalValueInputComponent = function() {
            function GoalValueInputComponent(elementRef, pbiOverlay, changeDetector, formatValuePipe, localizationService, detailsPaneLauncher, goalValuesEditorLauncher, dialogService, scorecardService, connectToDataDialog, scorecardSettings) {
                var _this = this;
                this.elementRef = elementRef, this.pbiOverlay = pbiOverlay, this.changeDetector = changeDetector, 
                this.formatValuePipe = formatValuePipe, this.localizationService = localizationService, 
                this.detailsPaneLauncher = detailsPaneLauncher, this.goalValuesEditorLauncher = goalValuesEditorLauncher, 
                this.dialogService = dialogService, this.scorecardService = scorecardService, this.connectToDataDialog = connectToDataDialog, 
                this.scorecardSettings = scorecardSettings, this.currentTargetChange = new core.EventEmitter, 
                this.currentValueChange = new core.EventEmitter, this.targetsChange = new core.EventEmitter, 
                this.valuesChange = new core.EventEmitter, this.valueRollupsChange = new core.EventEmitter, 
                this.targetRollupsChange = new core.EventEmitter, this.onCategoryListIdChanged = new core.EventEmitter, 
                this.onSave = new core.EventEmitter, this.onConnectionChanged = new core.EventEmitter, 
                this.PaddingFromComponentToEditor = 4, this.GoalEditValueTooltipId = "goal-edit-value-formatting", 
                this.resultType = 2, this.formatNilReturn = "", this.focusedInput = FocusedInput.None, 
                this.goalValueCategoryLists = [], this.isValueSubmetricsSelected = !1, this.isTargetSubmetricsSelected = !1, 
                this.currentGoalValueTypeSelection = void 0, this.targetGoalValueTypeSelection = void 0, 
                this.launchCategoryListsEditPane = function(creatingNewList) {
                    _this.overlayRef && (_this.overlayRef.close(), _this.overlayRef = null), _this.detailsPaneLauncher.openCategoryListsEditPane(_this.scorecardService, creatingNewList, function(isNewList) {
                        _.isEmpty(_this.goalValueCategoryLists) && (_this.formatString = "");
                        var currentCategoryListId = _this.displayedGoal.valuesCategoryId;
                        if (currentCategoryListId) {
                            var updatedIndex = _.findIndex(_this.goalValueCategoryLists, function(list) {
                                return list.id === currentCategoryListId;
                            });
                            isNewList && 1 === _this.goalValueCategoryLists.length && (updatedIndex = 0), updatedIndex < 0 ? (_this.selectedCategoryListIndex = updatedIndex, 
                            _this.onCategoryListIdChanged.emit(currentCategoryListId), _this.formatGoalValues()) : _this.selectCategoryList(updatedIndex);
                        } else _this.selectCategoryList(updatedIndex = isNewList && 1 === _this.goalValueCategoryLists.length ? 0 : -1);
                    });
                };
            }
            return GoalValueInputComponent.prototype.ngOnInit = function() {
                var _a, _b, _c, _d, targetCount, _this = this;
                (this.formatString = this.displayedGoal.valuesCategoryId ? value_formatting_component.d.CategoricalFormatString : this.displayedGoal.valuesFormatString, 
                this.originalCurrentValue = this.currentValue.value, this.capabilities.useCategoricalValues && (this.categoryListsSubscribe = this.scorecardService.getScorecard().pipe((0, 
                distinctUntilChanged.x)(function(x, y) {
                    return _.isEqual(x.goalValueCategories, y.goalValueCategories);
                })).subscribe(function() {
                    var _a;
                    _this.goalValueCategoryLists = _this.scorecardService.getGoalValueCategoryLists(_this.displayedGoal), 
                    _this.selectedCategoryListIndex = null !== (_a = _.findIndex(_this.goalValueCategoryLists, function(list) {
                        return list.id === _this.displayedGoal.valuesCategoryId;
                    })) && void 0 !== _a ? _a : -1;
                })), this.capabilities.supportMultipleTargetsEditing && !this.displayedGoal.targetConnection) && (targetCount = this.displayedGoal.isNew ? 0 : null !== (_c = null === (_b = null === (_a = this.displayedGoal.aggregations) || void 0 === _a ? void 0 : _a.find(function(aggregation) {
                    return "NumberOfTargets" === aggregation.type;
                })) || void 0 === _b ? void 0 : _b.value) && void 0 !== _c ? _c : 0, this.targetCount = Math.max(targetCount, 1));
                if (_.isUndefined(null === (_d = this.displayedGoal.metadata) || void 0 === _d ? void 0 : _d.showFinalTarget) && this.capabilities.supportMultipleTargetsEditing) {
                    var showFinalTarget = !this.displayedGoal.targetConnection;
                    this.displayedGoal.metadata ? this.displayedGoal.metadata.showFinalTarget = showFinalTarget : this.displayedGoal.metadata = {
                        showFinalTarget
                    };
                }
                this.formatGoalValues(), this.updateCurrentGoalValueTypeSelection(void 0, 1), this.updateCurrentGoalValueTypeSelection(void 0, 2);
            }, GoalValueInputComponent.prototype.save = function() {
                this.onSave.emit();
            }, GoalValueInputComponent.prototype.onCurrentSelectionCurrentValueChange = function(goalValueTypeSelection) {
                var _a;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        return this.isValueSubmetricsSelected = null !== (_a = !_.isUndefined(goalValueTypeSelection.rollupType)) && void 0 !== _a && _a, 
                        1 !== goalValueTypeSelection.type && this.displayedGoal.valueConnection && (this.displayedGoal.valueConnection = void 0, 
                        this.onConnectionChanged.emit()), _.isUndefined(goalValueTypeSelection.rollupType) ? 2 === goalValueTypeSelection.type ? (this.displayedGoal.valueRollup = void 0, 
                        this.openGoalValuesEditor()) : 1 === goalValueTypeSelection.type ? this.onConnectCurrentToDataClick() : this.displayedGoal.valueRollup = void 0 : (this.currentValue = (0, 
                        tslib_es6.__assign)((0, tslib_es6.__assign)({}, this.currentValue), {
                            value: null
                        }), this.currentValueChange.emit(this.currentValue), this.formatGoalValues()), this.changeDetector.detectChanges(), 
                        this.valueRollupsChange.emit({
                            rollupType: goalValueTypeSelection.rollupType,
                            type: goalValueTypeSelection.type
                        }), this.updateCurrentGoalValueTypeSelection(goalValueTypeSelection, 1), [ 2 ];
                    });
                });
            }, GoalValueInputComponent.prototype.onCurrentSelectionTargetChange = function(goalValueTypeSelection) {
                var _a;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        return this.isTargetSubmetricsSelected = null !== (_a = !_.isUndefined(goalValueTypeSelection.rollupType)) && void 0 !== _a && _a, 
                        1 !== goalValueTypeSelection.type && this.displayedGoal.targetConnection && (this.displayedGoal.targetConnection = void 0, 
                        this.onConnectionChanged.emit()), _.isUndefined(goalValueTypeSelection.rollupType) ? 2 === goalValueTypeSelection.type ? this.openGoalTargetsEditor() : 1 === goalValueTypeSelection.type ? this.onConnectTargetToDataClick() : this.displayedGoal.targetRollup = void 0 : (this.currentTarget = (0, 
                        tslib_es6.__assign)((0, tslib_es6.__assign)({}, this.currentTarget), {
                            target: null
                        }), this.currentTargetChange.emit(this.currentTarget), this.formatGoalValues()), 
                        this.changeDetector.detectChanges(), this.targetRollupsChange.emit({
                            rollupType: goalValueTypeSelection.rollupType,
                            type: goalValueTypeSelection.type
                        }), this.updateCurrentGoalValueTypeSelection(goalValueTypeSelection, 2), [ 2 ];
                    });
                });
            }, GoalValueInputComponent.prototype.updateCurrentGoalValueTypeSelection = function(goalValueTypeSelection, type) {
                var _a, _b, _c, _d, _e, _f;
                2 === type ? this.targetGoalValueTypeSelection = this.displayedGoal.targetConnection ? {
                    type: 1
                } : this.isTargetSubmetricsSelected || _.isNil(goalValueTypeSelection) && !_.isNil(null === (_a = this.displayedGoal) || void 0 === _a ? void 0 : _a.targetRollup) ? {
                    type: 4,
                    rollupType: null !== (_b = null == goalValueTypeSelection ? void 0 : goalValueTypeSelection.rollupType) && void 0 !== _b ? _b : null === (_c = this.displayedGoal.targetRollup) || void 0 === _c ? void 0 : _c.rollupType
                } : this.targetCount > 1 ? {
                    type: 2
                } : this.displayedGoal.isNew && void 0 === goalValueTypeSelection ? void 0 : {
                    type: 0
                } : this.currentGoalValueTypeSelection = this.displayedGoal.valueConnection ? {
                    type: 1
                } : this.isValueSubmetricsSelected || _.isNil(goalValueTypeSelection) && !_.isNil(null === (_d = this.displayedGoal) || void 0 === _d ? void 0 : _d.valueRollup) ? {
                    type: 4,
                    rollupType: null !== (_e = null == goalValueTypeSelection ? void 0 : goalValueTypeSelection.rollupType) && void 0 !== _e ? _e : null === (_f = this.displayedGoal.valueRollup) || void 0 === _f ? void 0 : _f.rollupType
                } : this.displayedGoal.isNew && void 0 === goalValueTypeSelection ? void 0 : {
                    type: 0
                };
            }, GoalValueInputComponent.prototype.ngOnDestroy = function() {
                this.overlayRef && (this.overlayRef.close(), this.overlayRef = null), this.connectToDataDialog.close(), 
                this.categoryListsSubscribe && this.categoryListsSubscribe.unsubscribe();
            }, GoalValueInputComponent.prototype.onConnectCurrentToDataClick = function() {
                var _this = this;
                this.detailsPaneLauncher.closeGoalDetails(), this.getDialogConfig(1).then(function(config) {
                    _this.connectToDataDialog.open(config).pipe((0, take.q)(1)).subscribe(function(result) {
                        var _a;
                        if (result) {
                            var queryConnection = (0, tslib_es6.__rest)(result, [ "previewResult" ]);
                            _this.displayedGoal.valueConnection = queryConnection;
                            var value = (_a = ConnectToDataHelper.getPreviewValue(result.previewResult)).value;
                            _this.valueFormatStringChanged(_a.formatString), _this.currentValue = (0, tslib_es6.__assign)((0, 
                            tslib_es6.__assign)({}, _this.currentValue), {
                                value
                            }), _this.currentValueChange.emit(_this.currentValue), _this.capabilities.supportMultipleValuesEditing && (_this.values = void 0, 
                            _this.valuesChange.emit(_this.values)), _this.formatGoalValues(), _this.updateCurrentGoalValueTypeSelection({
                                type: 1
                            }, 1), _this.onConnectionChanged.emit(), _this.changeDetector.detectChanges();
                        }
                    });
                });
            }, GoalValueInputComponent.prototype.onConnectTargetToDataClick = function() {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return this.detailsPaneLauncher.closeGoalDetails(), this.capabilities.supportMultipleTargetsEditing && !this.displayedGoal.targetConnection && (this.targetCount > 1 || null != this.currentTarget.target) ? [ 4, this.dialogService.showConfirmationDialog({
                                title: this.localizationService.get("Metrics_Switch_To_Connected_Data"),
                                message: this.localizationService.get("Metrics_Switch_To_Connected_Data_Multiple_Goal_Targets"),
                                okButtonText: this.localizationService.get("ModalDialogButtonText_Continue")
                            }).afterClosed().toPromise() ] : [ 3, 2 ];

                          case 1:
                            if (1 !== _a.sent()) return [ 2 ];
                            _a.label = 2;

                          case 2:
                            return this.getDialogConfig(2).then(function(config) {
                                _this.connectToDataDialog.open(config).pipe((0, take.q)(1)).subscribe(function(result) {
                                    var _a, _b;
                                    if (result) {
                                        var queryConnection = (0, tslib_es6.__rest)(result, [ "previewResult" ]);
                                        _this.displayedGoal.targetConnection = queryConnection;
                                        var value = (_a = ConnectToDataHelper.getPreviewValue(result.previewResult)).value;
                                        _this.valueFormatStringChanged(_a.formatString), _this.currentTarget = (0, tslib_es6.__assign)((0, 
                                        tslib_es6.__assign)({}, _this.currentTarget), {
                                            target: value
                                        }), _this.currentTargetChange.emit(_this.currentTarget), _this.capabilities.supportMultipleTargetsEditing && (_this.targets = void 0, 
                                        _this.targetsChange.emit(_this.targets), _this.targetCount = void 0, (null === (_b = _this.displayedGoal) || void 0 === _b ? void 0 : _b.metadata) ? _this.displayedGoal.metadata.showFinalTarget = !1 : _this.displayedGoal.metadata = {
                                            showFinalTarget: !1
                                        }), _this.formatGoalValues(), _this.updateCurrentGoalValueTypeSelection({
                                            type: 1
                                        }, 2), _this.onConnectionChanged.emit(), _this.changeDetector.detectChanges();
                                    }
                                });
                            }), [ 2 ];
                        }
                    });
                });
            }, GoalValueInputComponent.prototype.onCurrentValueFocus = function() {
                this.focusedInput !== FocusedInput.Value && (this.focusedInput = FocusedInput.Value, 
                this.formatGoalValues(), this.valueInput.nativeElement.click()), this.capabilities.changeValueFormat && null == this.overlayRef && this.openValueFormattingPane();
            }, GoalValueInputComponent.prototype.onTargetValueFocus = function() {
                this.focusedInput !== FocusedInput.Target && (this.focusedInput = FocusedInput.Target, 
                this.formatGoalValues(), this.targetInput.nativeElement.click()), this.capabilities.changeValueFormat && null == this.overlayRef && this.openValueFormattingPane();
            }, GoalValueInputComponent.prototype.valueFormatStringChanged = function(formatString) {
                var wasCategorical = this.formatString === value_formatting_component.d.CategoricalFormatString;
                this.formatString = formatString, this.displayedGoal.valuesFormatString = formatString === value_formatting_component.d.CategoricalFormatString ? "" : null != formatString ? formatString : "", 
                wasCategorical && this.formatString !== value_formatting_component.d.CategoricalFormatString && this.onCategoryListIdChanged.emit(null), 
                this.formatGoalValues();
            }, GoalValueInputComponent.prototype.isCategoricalValue = function(value) {
                var _a, _b;
                return this.isCategoricalFormat && this.selectedCategoryListIndex >= 0 && this.selectedCategoryListIndex < (null === (_a = this.goalValueCategoryLists) || void 0 === _a ? void 0 : _a.length) && (null === (_b = this.goalValueCategoryLists[this.selectedCategoryListIndex]) || void 0 === _b ? void 0 : _b.categories.length) > value;
            }, GoalValueInputComponent.prototype.onCurrentValueChange = function(value) {
                var _this = this, currentValue = _.isNil(value) || "" === value ? null : +value;
                this.currentValue = (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, this.currentValue), {
                    value: currentValue
                }), this.currentValueChange.emit(this.currentValue), this.currentGoalValueTypeSelection = {
                    type: 0
                }, this.capabilities.supportMultipleValuesEditing && this.values && (this.values = (0, 
                immer_esm.ZP)(this.values, function(draftValues) {
                    var value = draftValues.find(function(t) {
                        return new Date(t.timestamp).getTime() === new Date(_this.currentValue.timestamp).getTime();
                    });
                    value ? value.value = _this.currentValue.value : draftValues.push(_this.currentValue);
                }), this.valuesChange.emit(this.values)), this.formatGoalValues();
            }, GoalValueInputComponent.prototype.onTargetValueChange = function(value) {
                var _this = this, targetValue = _.isNil(value) || "" === value ? null : +value;
                this.currentTarget = (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, this.currentTarget), {
                    target: targetValue
                }), this.currentTargetChange.emit(this.currentTarget), this.targetGoalValueTypeSelection = {
                    type: 0
                }, this.capabilities.supportMultipleTargetsEditing && this.targets && (debug.fF.assert(function() {
                    return _this.targetCount <= 1 && _this.targets.length <= 1;
                }, "Inline target editor should only be enabled if there's at most one target!"), 
                this.targets = [ this.currentTarget ], this.targetsChange.emit(this.targets)), this.formatGoalValues();
            }, GoalValueInputComponent.prototype.openGoalTargetsEditor = function() {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goalTargets$, onDoneCallback, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        return debug.fF.assertValue(_.isNil(this.displayedGoal.targetConnection), "Targets can only be edited if there is no target connection"), 
                        goalTargets$ = this.getGoalTargets(), onDoneCallback = function(targets, showFinalTarget, formatString) {
                            return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                                var dueDate, _a;
                                return (0, tslib_es6.__generator)(this, function(_b) {
                                    return targets.length > 0 ? (targets.sort(function(lhs, rhs) {
                                        return new Date(lhs.timestamp).getTime() - new Date(rhs.timestamp).getTime();
                                    }), this.currentTarget = showFinalTarget ? goal_helper.r.calculateFinalTarget(targets) : goal_helper.r.calculateNextTarget(targets), 
                                    this.targets = targets) : ((dueDate = date_utils.E.getCurrentLocalDay()).setMonth(dueDate.getMonth() + 1), 
                                    this.currentTarget = {
                                        timestamp: dueDate.toISOString(),
                                        target: null
                                    }, this.targets = [ this.currentTarget ]), this.currentTargetChange.emit(this.currentTarget), 
                                    this.targetsChange.emit(this.targets), (null === (_a = this.displayedGoal) || void 0 === _a ? void 0 : _a.metadata) ? this.displayedGoal.metadata.showFinalTarget = showFinalTarget : this.displayedGoal.metadata = {
                                        showFinalTarget
                                    }, this.targetCount = targets.length, this.formatString = formatString, this.displayedGoal.valuesFormatString = formatString, 
                                    this.formatGoalValues(), this.updateCurrentGoalValueTypeSelection({
                                        type: 2
                                    }, 2), [ 2 ];
                                });
                            });
                        }, this.goalValuesEditorLauncher.launchTargetsEditor(this.displayedGoal, goalTargets$, onDoneCallback), 
                        [ 2 ];
                    });
                });
            }, GoalValueInputComponent.prototype.openGoalValuesEditor = function() {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goalValues$, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        return debug.fF.assertValue(_.isNil(this.displayedGoal.valueConnection), "Values can only be edited if there is no value connection"), 
                        goalValues$ = this.getGoalValues(), this.goalValuesEditorLauncher.launchValuesEditor(this.displayedGoal, goalValues$, function(values, formatString) {
                            return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                                return (0, tslib_es6.__generator)(this, function(_a) {
                                    return values.length > 0 ? (values.sort(function(lhs, rhs) {
                                        return new Date(lhs.timestamp).getTime() - new Date(rhs.timestamp).getTime();
                                    }), this.currentValue = (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, this.currentValue), {
                                        value: goal_helper.r.calculateCurrentValue(values)
                                    }), this.values = values) : (this.currentValue = (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, this.currentValue), {
                                        value: null
                                    }), this.values = [ this.currentValue ]), this.currentValueChange.emit(this.currentValue), 
                                    this.valuesChange.emit(this.values), this.formatString = formatString, this.displayedGoal.valuesFormatString = formatString, 
                                    this.formatGoalValues(), this.updateCurrentGoalValueTypeSelection({
                                        type: 0
                                    }, 1), [ 2 ];
                                });
                            });
                        }), [ 2 ];
                    });
                });
            }, GoalValueInputComponent.prototype.getGoalTargets = function() {
                var _a, goalTargets$, _this = this;
                return this.displayedGoal.isNew || this.targets ? goalTargets$ = (0, of.of)(null !== (_a = this.targets) && void 0 !== _a ? _a : []) : (this.scorecardService.expandGoalValues(this.displayedGoal.id, !1), 
                goalTargets$ = this.scorecardService.getGoal(this.displayedGoal.id).pipe((0, filter.h)(function(goal) {
                    return goal.isExpanded;
                }), (0, map.U)(function(goal) {
                    var _a;
                    return null !== (_a = goal.goalValues) && void 0 !== _a ? _a : [];
                }), (0, map.U)(function(goalValues) {
                    return goalValues.filter(function(value) {
                        return !_.isNil(value.target);
                    });
                }))), goalTargets$.pipe((0, map.U)(function(targets) {
                    return (0, immer_esm.ZP)(targets, function(draftTargets) {
                        if (!_.isNil(_this.targetCount) && _this.targetCount <= 1) {
                            debug.fF.assert(function() {
                                return draftTargets.length <= 1;
                            }, "Inline target editor should only be enabled if there's at most one target!");
                            var target = draftTargets.find(function(t) {
                                return new Date(t.timestamp).getTime() === new Date(_this.currentTarget.timestamp).getTime();
                            });
                            target ? target.target = _this.currentTarget.target : draftTargets.push(_this.currentTarget);
                        }
                    });
                }), (0, map.U)(function(targets) {
                    return (0, immer_esm.ZP)(targets, function(draftTargets) {
                        draftTargets.sort(function(lhs, rhs) {
                            return new Date(lhs.timestamp).getTime() - new Date(rhs.timestamp).getTime();
                        });
                    });
                }));
            }, GoalValueInputComponent.prototype.getGoalValues = function() {
                var _a, goalValues$, _this = this;
                return this.displayedGoal.isNew || this.values ? goalValues$ = (0, of.of)(null !== (_a = this.values) && void 0 !== _a ? _a : []) : (this.scorecardService.expandGoalValues(this.displayedGoal.id, !1), 
                goalValues$ = this.scorecardService.getGoal(this.displayedGoal.id).pipe((0, filter.h)(function(goal) {
                    return goal.isExpanded;
                }), (0, map.U)(function(goal) {
                    var _a;
                    return null !== (_a = goal.goalValues) && void 0 !== _a ? _a : [];
                }), (0, map.U)(function(goalValues) {
                    return goalValues.filter(function(value) {
                        return !_.isNil(value.value);
                    });
                }))), goalValues$.pipe((0, map.U)(function(values) {
                    return (0, immer_esm.ZP)(values, function(draftValues) {
                        var value = draftValues.find(function(t) {
                            return new Date(t.timestamp).getTime() === new Date(_this.currentValue.timestamp).getTime();
                        });
                        value ? value.value = _this.currentValue.value : _this.originalCurrentValue !== _this.currentValue.value && draftValues.push(_this.currentValue);
                    });
                }), (0, map.U)(function(values) {
                    return (0, immer_esm.ZP)(values, function(draftValues) {
                        draftValues.sort(function(lhs, rhs) {
                            return new Date(lhs.timestamp).getTime() - new Date(rhs.timestamp).getTime();
                        });
                    });
                }));
            }, GoalValueInputComponent.prototype.onMouseClick = function($event) {
                var _a, _b, _c, _d, _e, _f, _g, _h, clickTarget = null == $event ? void 0 : $event.target;
                return (null === (_a = this.valueSelect) || void 0 === _a ? void 0 : _a.nativeElement.contains(clickTarget)) ? (this.focusedInput !== FocusedInput.Value && (this.focusedInput = FocusedInput.Value, 
                this.formatGoalValues()), void (this.overlayRef || this.openValueFormattingPane())) : (null === (_b = this.targetSelect) || void 0 === _b ? void 0 : _b.nativeElement.contains(clickTarget)) ? (this.focusedInput !== FocusedInput.Target && (this.focusedInput = FocusedInput.Target, 
                this.formatGoalValues()), void (this.overlayRef || this.openValueFormattingPane())) : void ((null === (_c = this.valueInput) || void 0 === _c ? void 0 : _c.nativeElement.contains(clickTarget)) || (null === (_d = this.targetInput) || void 0 === _d ? void 0 : _d.nativeElement.contains(clickTarget)) || (null === (_f = null === (_e = this.valueFormatting) || void 0 === _e ? void 0 : _e.nativeElement) || void 0 === _f ? void 0 : _f.contains(clickTarget)) || clickTarget.classList.contains("mat-option-text") || clickTarget.classList.contains("pbi-menu-item") || (null === (_g = this.valueInput) || void 0 === _g ? void 0 : _g.nativeElement.contains(document.activeElement)) || (null === (_h = this.targetInput) || void 0 === _h ? void 0 : _h.nativeElement.contains(document.activeElement)) || (this.focusedInput !== FocusedInput.None && (this.focusedInput = FocusedInput.None, 
                this.formatGoalValues()), this.overlayRef && (this.overlayRef.close(), this.overlayRef = null)));
            }, GoalValueInputComponent.prototype.selectCategoryList = function(selectedCategoryListIndex) {
                var _a;
                this.selectedCategoryListIndex = selectedCategoryListIndex, this.onCategoryListIdChanged.emit(null === (_a = this.goalValueCategoryLists[this.selectedCategoryListIndex]) || void 0 === _a ? void 0 : _a.id), 
                this.formatGoalValues();
            }, Object.defineProperty(GoalValueInputComponent.prototype, "valueSelected", {
                get: function() {
                    return this.isCategoricalValue(this.currentValue.value) ? this.currentValue.value : void 0;
                },
                set: function(index) {
                    var _this = this;
                    this.currentValue = (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, this.currentValue), {
                        value: index
                    }), this.currentValueChange.emit(this.currentValue), this.capabilities.supportMultipleValuesEditing && this.values && (this.values = (0, 
                    immer_esm.ZP)(this.values, function(draftValues) {
                        var value = draftValues.find(function(t) {
                            return new Date(t.timestamp).getTime() === new Date(_this.currentValue.timestamp).getTime();
                        });
                        value ? value.value = _this.currentValue.value : draftValues.push(_this.currentValue);
                    }), this.valuesChange.emit(this.values)), this.formatGoalValues();
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GoalValueInputComponent.prototype, "targetSelected", {
                get: function() {
                    return this.isCategoricalValue(this.currentTarget.target) ? this.currentTarget.target : void 0;
                },
                set: function(index) {
                    var _this = this, targetValue = index;
                    this.currentTarget = (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, this.currentTarget), {
                        target: targetValue
                    }), this.currentTargetChange.emit(this.currentTarget), this.capabilities.supportMultipleTargetsEditing && this.targets && (debug.fF.assert(function() {
                        return _this.targetCount <= 1 && _this.targets.length <= 1;
                    }, "Inline target editor should only be enabled if there's at most one target!"), 
                    this.targets = [ this.currentTarget ], this.targetsChange.emit(this.targets)), this.formatGoalValues();
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GoalValueInputComponent.prototype, "isCategoricalFormat", {
                get: function() {
                    return this.formatString === value_formatting_component.d.CategoricalFormatString;
                },
                enumerable: !1,
                configurable: !0
            }), GoalValueInputComponent.prototype.openValueFormattingPane = function() {
                var positionStrategy = this.pbiOverlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withPositions([ (0, 
                pbi_overlay_positions.xe)(0, -this.PaddingFromComponentToEditor) ]).withPush(!0).withGrowAfterOpen(!0);
                this.overlayRef = this.pbiOverlay.open({
                    component: goals_tooltip_lazy_component.i,
                    data: {
                        id: this.GoalEditValueTooltipId,
                        templateRef: this.valueFormattingTmpl
                    },
                    options: {
                        positionStrategy,
                        hasBackdrop: !1,
                        disposeOnNavigation: !0
                    },
                    hasCaret: !1,
                    focusElementOnClose: null,
                    disableCloseOnEsc: !0,
                    disableFocusTrapSetting: {
                        disable: !0
                    }
                }), this.overlayRef.componentRef.changeDetectorRef.detectChanges();
            }, GoalValueInputComponent.prototype.formatValue = function(value) {
                var _a, _b;
                return this.formatString !== value_formatting_component.d.CategoricalFormatString ? this.formatValuePipe.transform(value, this.formatString, !0, this.formatNilReturn) : this.isCategoricalValue(value) ? null === (_b = null === (_a = this.goalValueCategoryLists[this.selectedCategoryListIndex]) || void 0 === _a ? void 0 : _a.categories[value]) || void 0 === _b ? void 0 : _b.displayName : void 0;
            }, GoalValueInputComponent.prototype.formatGoalValues = function() {
                var _a, _b, _c, _d, clearValueFormat = this.focusedInput === FocusedInput.Value && this.capabilities.editCurrentValue, clearTargetFormat = this.focusedInput === FocusedInput.Target && this.capabilities.editTargetValue;
                this.valueInputType = clearValueFormat ? "number" : "text", this.targetInputType = clearTargetFormat ? "number" : "text", 
                this.valueInputValue = clearValueFormat ? null !== (_b = null === (_a = this.currentValue.value) || void 0 === _a ? void 0 : _a.toString()) && void 0 !== _b ? _b : "" : this.formatValue(this.currentValue.value), 
                this.targetInputValue = clearTargetFormat ? null !== (_d = null === (_c = this.currentTarget.target) || void 0 === _c ? void 0 : _c.toString()) && void 0 !== _d ? _d : "" : this.formatValue(this.currentTarget.target), 
                this.formattedValue = "", this.focusedInput === FocusedInput.Value && (this.formattedValue = this.formatValue(this.currentValue.value)), 
                this.focusedInput === FocusedInput.Target && (this.formattedValue = this.formatValue(this.currentTarget.target));
            }, GoalValueInputComponent.prototype.getDialogConfig = function(goalValueType) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var config, currentConnection;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return config = {
                                data: {}
                            }, (currentConnection = 1 === goalValueType ? this.displayedGoal.valueConnection : this.displayedGoal.targetConnection) && (config.data.reportUrl = currentConnection.reportUrl, 
                            currentConnection.shouldClearGoalValues && (config.data.banner = {
                                bannerType: 2,
                                iconName: "pbi-glyph-info",
                                message: this.localizationService.get("Metric_Clear_Values_On_New_Connection_Warning")
                            })), this.scorecardSettings ? [ 4, this.scorecardSettings.settings.pipe((0, take.q)(1)).toPromise() ] : [ 2, config ];

                          case 1:
                            return _a.sent().alwaysMaximize && (config.height = "100%", config.width = "100%", 
                            config.hideFullscreenToggle = !0), [ 2, config ];
                        }
                    });
                });
            }, GoalValueInputComponent.\u0275fac = function(t) {
                return new (t || GoalValueInputComponent)(core["\u0275\u0275directiveInject"](core.ElementRef), core["\u0275\u0275directiveInject"](pbi_overlay_service._), core["\u0275\u0275directiveInject"](core.ChangeDetectorRef), core["\u0275\u0275directiveInject"](format_value_pipe.c), core["\u0275\u0275directiveInject"](localization_service.o), core["\u0275\u0275directiveInject"](goals_details_pane_launcher_service.c), core["\u0275\u0275directiveInject"](GoalValuesEditorLauncherService), core["\u0275\u0275directiveInject"](dialog_service.x), core["\u0275\u0275directiveInject"](scorecard_service.G), core["\u0275\u0275directiveInject"](ConnectToDataDialogServiceInjectionToken), core["\u0275\u0275directiveInject"](scorecardSettingsService.u, 8));
            }, GoalValueInputComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: GoalValueInputComponent,
                selectors: [ [ "goal-value-input" ] ],
                viewQuery: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275viewQuery"](goal_value_input_component_c0, 5), 
                    core["\u0275\u0275viewQuery"](goal_value_input_component_c1, 5), core["\u0275\u0275viewQuery"](goal_value_input_component_c2, 5), 
                    core["\u0275\u0275viewQuery"](goal_value_input_component_c3, 5), core["\u0275\u0275viewQuery"](goal_value_input_component_c4, 5, core.TemplateRef), 
                    core["\u0275\u0275viewQuery"](goal_value_input_component_c5, 5)), 2 & rf) {
                        var _t = void 0;
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.valueInput = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.valueSelect = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.targetInput = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.targetSelect = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.valueFormattingTmpl = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.valueFormatting = _t.first);
                    }
                },
                hostBindings: function(rf, ctx) {
                    1 & rf && core["\u0275\u0275listener"]("click", function($event) {
                        return ctx.onMouseClick($event);
                    }, !1, core["\u0275\u0275resolveDocument"]);
                },
                inputs: {
                    displayedGoal: "displayedGoal",
                    currentValue: "currentValue",
                    capabilities: "capabilities",
                    currentTarget: "currentTarget",
                    targets: "targets",
                    values: "values",
                    goalStatuses: "goalStatuses"
                },
                outputs: {
                    currentTargetChange: "currentTargetChange",
                    currentValueChange: "currentValueChange",
                    targetsChange: "targetsChange",
                    valuesChange: "valuesChange",
                    valueRollupsChange: "valueRollupsChange",
                    targetRollupsChange: "targetRollupsChange",
                    onCategoryListIdChanged: "onCategoryListIdChanged",
                    onSave: "onSave",
                    onConnectionChanged: "onConnectionChanged"
                },
                decls: 24,
                vars: 17,
                consts: [ [ 1, "input-box-sm", "right-padding", "current" ], [ 1, "value-input-title" ], [ "localize", "CurrentValue", 1, "input-title" ], [ "class", "input-action-txt", 4, "ngIf" ], [ 1, "input" ], [ "class", "input-box right-margin", 4, "ngIf", "ngIfElse" ], [ "selectCategoricalValue", "" ], [ 4, "ngIf" ], [ 1, "input-box-sm", "target" ], [ 1, "target-input-title" ], [ 1, "input-title" ], [ "selectCategoricalTarget", "" ], [ "valueFormattingTmpl", "" ], [ 1, "input-action-txt" ], [ 1, "link", 3, "click" ], [ 1, "input-box", "right-margin" ], [ "data-testid", "current-value-input-box", "step", "any", 3, "readonly", "type", "ngModel", "focus", "keyup.enter", "ngModelChange" ], [ "valueInput", "" ], [ "data-testid", "select-categorical-value", 1, "select-categorical-value", 3, "disabled", "ngModel", "ngModelChange" ], [ "valueSelect", "" ], [ "value", "", "selected", "!valueSelected", "hidden", "!!valueSelected}}" ], [ 3, "ngValue", 4, "ngFor", "ngForOf" ], [ 3, "ngValue" ], [ 3, "canCustomizeStatus", "goal", "currentGoalValueTypeSelection", "goalValueType", "goalCapabilities", "showGoalRollupsCoachmark", "onCurrentSelection" ], [ "localize", "Logical_Or_Operator", 4, "ngIf" ], [ 1, "link", 3, "localize", "click" ], [ "localize", "Logical_Or_Operator" ], [ "data-testid", "target-value-input-box", "step", "any", 3, "readonly", "type", "ngModel", "pbiTooltipDisabled", "pbiTooltipPosition", "focus", "keyup.enter", "ngModelChange" ], [ "targetInput", "" ], [ 1, "select-categorical-target", 3, "disabled", "ngModel", "ngModelChange" ], [ "targetSelect", "" ], [ "value", "", "selected", "!targetSelected", "hidden", "!!targetSelected" ], [ 3, "canCustomizeStatus", "goal", "hasMultipleTargets", "currentGoalValueTypeSelection", "goalValueType", "goalCapabilities", "onCurrentSelection" ], [ "data-testid", "value-formatting-box", 1, "value-formatting-box" ], [ "valueFormatting", "" ], [ 1, "result" ], [ 1, "goals-value-formatting", 3, "formatString", "dataType", "supportCategoricalValues", "goalValueCategoryLists", "selectedCategoryListIndex", "launchCategoryListsEditPane", "formatStringChange", "onSelectedCategoryListChange" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 0)(1, "div", 1), core["\u0275\u0275element"](2, "div", 2), 
                    core["\u0275\u0275template"](3, GoalValueInputComponent_div_3_Template, 4, 3, "div", 3), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](4, "div", 4), 
                    core["\u0275\u0275template"](5, GoalValueInputComponent_div_5_Template, 5, 9, "div", 5), 
                    core["\u0275\u0275template"](6, GoalValueInputComponent_ng_template_6_Template, 4, 3, "ng-template", null, 6, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](8, GoalValueInputComponent_div_8_Template, 2, 6, "div", 7), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](9, GoalValueInputComponent_div_9_Template, 5, 2, "div", 3), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](10, "div", 8)(11, "div", 9)(12, "div", 10), 
                    core["\u0275\u0275text"](13), core["\u0275\u0275pipe"](14, "localize"), core["\u0275\u0275elementEnd"](), 
                    core["\u0275\u0275template"](15, GoalValueInputComponent_div_15_Template, 4, 3, "div", 3), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](16, "div", 4), 
                    core["\u0275\u0275template"](17, GoalValueInputComponent_div_17_Template, 5, 11, "div", 5), 
                    core["\u0275\u0275template"](18, GoalValueInputComponent_ng_template_18_Template, 4, 3, "ng-template", null, 11, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](20, GoalValueInputComponent_div_20_Template, 2, 6, "div", 7), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](21, GoalValueInputComponent_div_21_Template, 5, 2, "div", 3), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](22, GoalValueInputComponent_ng_template_22_Template, 5, 7, "ng-template", null, 12, core["\u0275\u0275templateRefExtractor"])), 
                    2 & rf) {
                        var _r2 = core["\u0275\u0275reference"](7), _r8 = core["\u0275\u0275reference"](19);
                        core["\u0275\u0275classProp"]("inner-input-box-with-rollups", ctx.capabilities.supportsRollup), 
                        core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", ctx.capabilities.supportMultipleValuesEditing && ctx.capabilities.editMultipleValues && !ctx.capabilities.supportsRollup), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", !ctx.isCategoricalFormat)("ngIfElse", _r2), 
                        core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", ctx.capabilities.supportsRollup), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx.capabilities.connectCurrentValueToData && !ctx.capabilities.supportsRollup), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275classProp"]("inner-input-box-with-rollups", ctx.capabilities.supportsRollup), 
                        core["\u0275\u0275advance"](3), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](14, 15, ctx.capabilities.supportMultipleTargetsEditing ? null != ctx.displayedGoal.metadata && ctx.displayedGoal.metadata.showFinalTarget ? "Target_Final" : "Target_Next" : "Target"), " "), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx.capabilities.supportMultipleTargetsEditing && ctx.capabilities.editMultipleTargets && !ctx.capabilities.supportsRollup), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", !ctx.isCategoricalFormat)("ngIfElse", _r8), 
                        core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", ctx.capabilities.supportsRollup), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx.capabilities.connectTargetValueToData && !ctx.capabilities.supportsRollup);
                    }
                },
                dependencies: [ common.NgForOf, common.NgIf, fesm2022_forms.YN, fesm2022_forms.Kr, fesm2022_forms.Fj, fesm2022_forms.EJ, fesm2022_forms.JJ, fesm2022_forms.On, localize_directive.X, value_formatting_component.d, GoalValueTypePickerComponent, localize_pipe.F ],
                styles: [ "[_nghost-%COMP%]{display:inline-flex}.inner-input-box-with-rollups[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.right-padding[_ngcontent-%COMP%]{padding-right:8px}.right-margin[_ngcontent-%COMP%]{margin-right:4px}.select-categorical-value[_ngcontent-%COMP%], .select-categorical-target[_ngcontent-%COMP%]{width:100%;height:32px}.value-input-title[_ngcontent-%COMP%], .target-input-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.edit-targets-title[_ngcontent-%COMP%]{padding-top:9px;padding-bottom:4px}.pbi-text-field-error-message[_ngcontent-%COMP%]{fill:var(--fluent-theme-error-dark-color, #A80000);color:var(--fluent-theme-error-dark-color, #A80000)}  #goal-edit-value-formatting{background-color:var(--fluent-theme-neutral-lighter-alt-color, #FAF9F8)}  #goal-edit-value-formatting .value-formatting-box .result{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--gray-180, #252423);line-height:20px;height:20px;padding:12px 12px 8px;border-bottom:1px solid var(--fluent-theme-neutral-tertiary-alt-color, #C8C6C4)}  #goal-edit-value-formatting .value-formatting-box mat-select{height:28px;border:1px solid var(--gray-110, #8A8886);border-radius:2px}  #goal-edit-value-formatting .value-formatting-box mat-select .mat-select-value{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--fluent-theme-neutral-primary-color, #323130);line-height:20px}  #goal-edit-value-formatting .value-formatting-box mat-select .mat-select-arrow{color:var(--gray-140, #484644);padding-right:14px}  #goal-edit-value-formatting .value-formatting-box num-up-down .inputRange{height:28px;border:1px solid var(--gray-110, #8A8886);border-radius:2px}  #goal-edit-value-formatting .value-formatting-box num-up-down .inputRange .inputUpDown{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--fluent-theme-neutral-primary-color, #323130);line-height:20px}  #goal-edit-value-formatting .value-formatting-box num-up-down label{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);line-height:20px}  #goal-edit-value-formatting .value-formatting-box .valueFormatterToggleButtonsGroup .btn{background-color:transparent;border:none}  #goal-edit-value-formatting .value-formatting-box .valueFormatterToggleButtonsGroup .btn:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}", ".cell[_ngcontent-%COMP%]{border:none;box-sizing:border-box}.cell-indent[_ngcontent-%COMP%]{width:36px}.cell-left-edge[_ngcontent-%COMP%]{border-top-left-radius:4px;border-bottom-left-radius:4px}.cell-right-edge[_ngcontent-%COMP%]{border-top-right-radius:4px;border-bottom-right-radius:4px}.cell-box[_ngcontent-%COMP%]{display:flex;height:100%}.cell-box[_ngcontent-%COMP%]   .color-box[_ngcontent-%COMP%]{min-width:6px;width:6px;border-top-left-radius:4px;border-bottom-left-radius:4px}[_nghost-%COMP%]   td[_ngcontent-%COMP%]{height:100px}[_nghost-%COMP%]   .select-checkmark[_ngcontent-%COMP%]{margin-right:15px}[_nghost-%COMP%]   .cell[_ngcontent-%COMP%]{background-color:var(--scorecard-tableEditRowBackgroundColor);color:var(--scorecard-tableEditRowForegroundColor);border-top:1px solid var(--fluent-theme-neutral-light-color, #EDEBE9);border-bottom:1px solid var(--fluent-theme-neutral-light-color, #EDEBE9)}[_nghost-%COMP%]   .cell.cell-right-edge[_ngcontent-%COMP%]{border-right:1px solid var(--fluent-theme-neutral-light-color, #EDEBE9)}[_nghost-%COMP%]   .cell[_ngcontent-%COMP%]   .cell-box-with-rollups[_ngcontent-%COMP%]   .edit-row-content[_ngcontent-%COMP%]{padding-left:12px;padding-right:12px}[_nghost-%COMP%]   .cell[_ngcontent-%COMP%]   .cell-box-with-rollups[_ngcontent-%COMP%]   goal-value-input[_ngcontent-%COMP%]{flex:none;max-width:none;min-width:392px}[_nghost-%COMP%]   .cell[_ngcontent-%COMP%]   .cell-box-with-rollups[_ngcontent-%COMP%]   .inner-input-box-with-rollups[_ngcontent-%COMP%]{max-width:none}[_nghost-%COMP%]   .cell[_ngcontent-%COMP%]   .cell-box-with-rollups[_ngcontent-%COMP%]   .input-box-with-rollups[_ngcontent-%COMP%]{width:104px;max-width:104px;min-width:auto}[_nghost-%COMP%]   .cell[_ngcontent-%COMP%]   .cell-box-with-rollups[_ngcontent-%COMP%]   .input-box-with-rollups[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:4px 6px}[_nghost-%COMP%]:hover   .select-checkmark[_ngcontent-%COMP%], [_nghost-%COMP%]   .select-checkmark.box-checked[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .checkmark-td[_ngcontent-%COMP%]{width:35px;max-width:35px}[_nghost-%COMP%]   .checkmark-td.bulk-editing-off[_ngcontent-%COMP%]{width:0px;max-width:0px}[_nghost-%COMP%]   .select-checkmark[_ngcontent-%COMP%]{visibility:hidden;margin-right:15px}[_nghost-%COMP%]   .select-checkmark[_ngcontent-%COMP%]     pbi-checkbox{margin-bottom:0}[_nghost-%COMP%]   .input-title[_ngcontent-%COMP%]{font-size:var(--lg-font-size, 16px);font-weight:var(--font-weight-semi-bold, 600);padding-top:9px;padding-bottom:4px}[_nghost-%COMP%]   .input-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{vertical-align:middle;padding:0}[_nghost-%COMP%]   .input-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   .edit-row-content[_ngcontent-%COMP%]{display:flex;flex:1;padding-left:20px;padding-right:20px;width:1000px;min-width:1000px}[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);height:32px;padding:6px 8px;box-sizing:border-box;color:var(--scorecard-tableInputForegroundColor);background:var(--scorecard-tableInputBackgroundColor);border:1px solid var(--gray-110, #8A8886);border-radius:2px}[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{filter:brightness(90%)}[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:invalid{border:2px solid var(--fluent-theme-error-dark-alt-color, #D83B01);outline-color:var(--fluent-theme-error-dark-alt-color, #D83B01)}[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{filter:brightness(90%)}[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder, [_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-ms-input-placeholder, [_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--scorecard-tableInputForegroundColor)}[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{padding:0;margin:0}[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-outer-spin-button, [_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}[_nghost-%COMP%]   .right-padding[_ngcontent-%COMP%]{padding-right:8px}[_nghost-%COMP%]   .input-action-txt[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--scorecard-tableEditRowForegroundColor);padding-top:4px}[_nghost-%COMP%]   .input-action-txt[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:var(--scorecard-tableRowLinkColor);cursor:pointer;text-decoration:none;background-color:transparent;border:none;padding:0}[_nghost-%COMP%]   .input-action-txt[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:var(--fluent-theme-link-darker-color, #005A9E)}[_nghost-%COMP%]   .input-action-txt[_ngcontent-%COMP%]   .link.inactive[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-tertia-color, #A19F9D);pointer-events:none}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:1px;height:100%;background-color:var(--gray-80, #B3B0AD);margin:0 12px}[_nghost-%COMP%]   .width-override[_ngcontent-%COMP%]{width:24px}[_nghost-%COMP%]     .mat-form-field{background:var(--scorecard-tableInputBackgroundColor)!important}[_nghost-%COMP%]     emails-list-modern.disabled .mat-form-field{filter:brightness(95%)}[_nghost-%COMP%]   .goal-owners-input[_ngcontent-%COMP%]{padding-bottom:9px}[_nghost-%COMP%]   goal-value-input[_ngcontent-%COMP%]{flex:1 0 260px;max-width:400px}[_nghost-%COMP%]   .input-box-xs[_ngcontent-%COMP%]{flex:1 1 100px;max-width:140px;min-width:110px}[_nghost-%COMP%]   .input-box-sm[_ngcontent-%COMP%]{flex:1 1 100px;max-width:200px;min-width:140px}[_nghost-%COMP%]   .input-box-md[_ngcontent-%COMP%]{flex:1 1 200px;max-width:300px;min-width:130px}[_nghost-%COMP%]   .input-box-lg[_ngcontent-%COMP%]{flex:1 1 250px;min-width:150px}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}" ],
                changeDetection: 0
            }), GoalValueInputComponent;
        }(), scorecard_configuration_service = __webpack_require__(64929), emails_list_modern_component = __webpack_require__(82792), pbi_checkbox_component = __webpack_require__(56011), status_picker_component = __webpack_require__(24973), goal_edit_row_component_c0 = [ "nameInput" ], goal_edit_row_component_c1 = [ "goal-edit-row", "" ];
        function GoalEditRowComponent_div_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r8 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 16), core["\u0275\u0275pipe"](1, "async"), 
                core["\u0275\u0275elementStart"](2, "pbi-checkbox", 17), core["\u0275\u0275listener"]("onChange", function() {
                    core["\u0275\u0275restoreView"](_r8);
                    var ctx_r7 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r7.onSelectGoalCheckbox());
                }), core["\u0275\u0275pipe"](3, "async"), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var tmp_0_0, tmp_1_0, ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275classProp"]("box-checked", null == (tmp_0_0 = core["\u0275\u0275pipeBind1"](1, 4, ctx_r0.selectedGoalIds$)) ? null : tmp_0_0[ctx_r0.displayedGoal.id]), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("checked", null == (tmp_1_0 = core["\u0275\u0275pipeBind1"](3, 6, ctx_r0.selectedGoalIds$)) ? null : tmp_1_0[ctx_r0.displayedGoal.id])("disabled", null == ctx_r0.displayedGoal ? null : ctx_r0.displayedGoal.isNew);
            }
        }
        function GoalEditRowComponent_td_2_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "td", 18);
        }
        function GoalEditRowComponent_ng_container_15_Template(rf, ctx) {
            if (1 & rf) {
                var _r11 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "div", 13), 
                core["\u0275\u0275element"](2, "div"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](3, "div", 19), 
                core["\u0275\u0275element"](4, "div", 20), core["\u0275\u0275elementStart"](5, "div", 21)(6, "emails-list-modern", 22), 
                core["\u0275\u0275listener"]("ngModelChange", function($event) {
                    core["\u0275\u0275restoreView"](_r11);
                    var ctx_r10 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r10.selectedUsers = $event);
                }), core["\u0275\u0275pipe"](7, "localize"), core["\u0275\u0275elementEnd"]()()(), 
                core["\u0275\u0275elementContainerEnd"]();
            }
            if (2 & rf) {
                var ctx_r3 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](6), core["\u0275\u0275property"]("allowAnyGroup", !0)("maxSelectableUsers", ctx_r3.maxGoalOwnerCount)("ngModel", ctx_r3.selectedUsers)("addUserOnBlur", !0)("inputPlaceholder", core["\u0275\u0275pipeBind1"](7, 7, "Enter_Name"))("disabled", !ctx_r3.capabilities.editOwners)("hideInput", !ctx_r3.capabilities.editOwners);
            }
        }
        function GoalEditRowComponent_ng_container_22_div_8_span_1_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "span", 31);
        }
        function GoalEditRowComponent_ng_container_22_div_8_Template(rf, ctx) {
            if (1 & rf) {
                var _r15 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 28), core["\u0275\u0275template"](1, GoalEditRowComponent_ng_container_22_div_8_span_1_Template, 1, 0, "span", 29), 
                core["\u0275\u0275elementStart"](2, "span"), core["\u0275\u0275text"](3, "\xa0"), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](4, "button", 30), 
                core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r15);
                    var ctx_r14 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r14.onUpdateStatusRules());
                }), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r12 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !ctx_r12.displayedGoal.hasStatusRules), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("localize", ctx_r12.displayedGoal.hasStatusRules ? "UpdateMetricStatusRules" : "SetupMetricStatusRules");
            }
        }
        function GoalEditRowComponent_ng_container_22_Template(rf, ctx) {
            if (1 & rf) {
                var _r17 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "div", 23), 
                core["\u0275\u0275element"](2, "div"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](3, "div", 24), 
                core["\u0275\u0275element"](4, "div", 25), core["\u0275\u0275elementStart"](5, "status-picker", 26), 
                core["\u0275\u0275listener"]("onSelect", function($event) {
                    core["\u0275\u0275restoreView"](_r17);
                    var ctx_r16 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r16.onStatusChange($event));
                }), core["\u0275\u0275pipe"](6, "async"), core["\u0275\u0275pipe"](7, "localize"), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](8, GoalEditRowComponent_ng_container_22_div_8_Template, 5, 2, "div", 27), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementContainerEnd"]();
            }
            if (2 & rf) {
                var ctx_r5 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](5), core["\u0275\u0275property"]("canCustomizeStatus", null == ctx_r5.capabilities.scorecardCapabilities ? null : ctx_r5.capabilities.scorecardCapabilities.customizeStatus)("status", null == ctx_r5.currentValue ? null : ctx_r5.currentValue.status)("goalStatuses", core["\u0275\u0275pipeBind1"](6, 7, ctx_r5.goalStatuses$))("pbiTooltip", core["\u0275\u0275pipeBind1"](7, 9, "MetricStatus_ReadOnly"))("pbiTooltipDisabled", !ctx_r5.displayedGoal.hasStatusRules)("isReadOnly", !ctx_r5.capabilities.editStatus), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", ctx_r5.showUpdateRules && ctx_r5.capabilities.editStatusRules);
            }
        }
        function GoalEditRowComponent_ng_container_24_Template(rf, ctx) {
            if (1 & rf) {
                var _r19 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "div", 13), 
                core["\u0275\u0275element"](2, "div"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](3, "div", 32), 
                core["\u0275\u0275element"](4, "div", 33), core["\u0275\u0275elementStart"](5, "div", 9)(6, "input", 34), 
                core["\u0275\u0275listener"]("ngModelChange", function($event) {
                    core["\u0275\u0275restoreView"](_r19);
                    var ctx_r18 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r18.onStartDateChange($event));
                }), core["\u0275\u0275pipe"](7, "localize"), core["\u0275\u0275elementEnd"]()()(), 
                core["\u0275\u0275elementStart"](8, "div", 35)(9, "div", 36), core["\u0275\u0275text"](10), 
                core["\u0275\u0275pipe"](11, "localize"), core["\u0275\u0275element"](12, "i", 37), 
                core["\u0275\u0275pipe"](13, "localize"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](14, "div", 9)(15, "input", 38), 
                core["\u0275\u0275listener"]("ngModelChange", function($event) {
                    core["\u0275\u0275restoreView"](_r19);
                    var ctx_r20 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r20.onDueDateChange($event));
                }), core["\u0275\u0275pipe"](16, "localize"), core["\u0275\u0275elementEnd"]()()(), 
                core["\u0275\u0275elementContainerEnd"]();
            }
            if (2 & rf) {
                var ctx_r6 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](6), core["\u0275\u0275property"]("min", ctx_r6.SqlDateTimeMinValue)("max", ctx_r6.SqlDateTimeMaxValue)("ngModel", ctx_r6.startDateShort)("disabled", !ctx_r6.capabilities.editStartDate), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](7, 12, "Start_Date")), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](11, 14, "DueDate"), " "), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind1"](13, 16, "Metrics_Due_Date_Tooltip")), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("min", ctx_r6.SqlDateTimeMinValue)("max", ctx_r6.SqlDateTimeMaxValue)("ngModel", ctx_r6.completionDateShort)("disabled", !ctx_r6.capabilities.editDueDate), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](16, 18, "DueDate"));
            }
        }
        var goal_edit_row_component_c2 = function() {
            return [];
        }, GoalEditRowComponent = function() {
            function GoalEditRowComponent(featureSwitches, scorecardService, scorecardConfigurationService, detailsPaneLauncher, capabilityService, telemetryService, scorecardHost, settingsService) {
                this.featureSwitches = featureSwitches, this.scorecardService = scorecardService, 
                this.scorecardConfigurationService = scorecardConfigurationService, this.detailsPaneLauncher = detailsPaneLauncher, 
                this.capabilityService = capabilityService, this.telemetryService = telemetryService, 
                this.scorecardHost = scorecardHost, this.settingsService = settingsService, this.TotalNumberOfColumns = constants.gT.TotalNumberOfColumns, 
                this.GoalNameMaxLength = goal_limits.r.GoalNameMaxLength, this.maxGoalOwnerCount = 1, 
                this.currentValue = {}, this.supportMultipleTargets = !1, this.supportMultipleValuesEditing = !1, 
                this.indentation = 0, this.selectedUsers = [], this.showUpdateRules = !1, this.goalCurrentValueSelection = void 0, 
                this.goalTargetValueSelection = void 0, this.SqlDateTimeMinValue = constants.gT.SqlDateTimeMinValue, 
                this.SqlDateTimeMaxValue = constants.gT.SqlDateTimeMaxValue, this.isSingleGoalVisual = !1;
            }
            return Object.defineProperty(GoalEditRowComponent.prototype, "indent", {
                set: function(indent) {
                    this.indentation = goal_helper.r.getSafeIndentation(indent);
                },
                enumerable: !1,
                configurable: !0
            }), GoalEditRowComponent.prototype.ngOnInit = function() {
                var _a, _b, _c, _d, _e, _f, _g, _this = this;
                debug.fF.assertValue(this.goal, "No goal to edit"), this.displayedGoal = _.cloneDeep(this.goal), 
                this.startDateShort = null === (_c = null === (_b = this.displayedGoal) || void 0 === _b ? void 0 : _b.startDate) || void 0 === _c ? void 0 : _c.slice(0, 10), 
                this.completionDateShort = null === (_e = null === (_d = this.displayedGoal) || void 0 === _d ? void 0 : _d.completionDate) || void 0 === _e ? void 0 : _e.slice(0, 10);
                var currentValue = goal_helper.r.buildCurrentGoalValue(this.goal);
                if (this.currentTarget = {
                    timestamp: currentValue.timestamp,
                    target: currentValue.target
                }, currentValue.target = void 0, this.currentValue = currentValue, this.supportMultipleValuesEditing = this.featureSwitches.featureSwitches.goalsMultipleValuesEditor, 
                this.supportMultipleTargets = this.featureSwitches.featureSwitches.powerBIGoalsMultipleTargets, 
                this.supportMultipleTargets && (this.currentTarget = goal_helper.r.getCurrentGoalTarget(this.displayedGoal), 
                !this.currentTarget)) {
                    var dueDate = date_utils.E.getCurrentUTCDay();
                    dueDate.setMonth(dueDate.getMonth() + 1), this.currentTarget = {
                        timestamp: dueDate.toISOString()
                    };
                }
                var goalOwner = this.displayedGoal.owner;
                this.selectedUsers = goalOwner ? [ {
                    displayName: "",
                    userPrincipalName: goalOwner,
                    objectId: "",
                    objectType: 1,
                    isSecurityGroup: !1
                } ] : [];
                var additionalOwners = this.displayedGoal.additionalOwners;
                _.isEmpty(additionalOwners) || (_a = this.selectedUsers).push.apply(_a, additionalOwners.filter(function(owner) {
                    return owner.userPrincipalName;
                }).map(function(owner) {
                    return {
                        displayName: "",
                        userPrincipalName: owner.userPrincipalName,
                        objectId: "",
                        objectType: 1,
                        isSecurityGroup: !1
                    };
                })), this.showUpdateRules = this.featureSwitches.featureSwitches.powerBIGoalsStatusRules, 
                this.bulkDeleteEnabled = this.featureSwitches.featureSwitches.goalsBulkDelete, this.selectedGoalIds$ = this.scorecardService.getSelectedGoalIdsObservable();
                var columnSettings$ = this.scorecardService.getColumnSettings();
                this.showDueDate$ = columnSettings$.pipe((0, distinctUntilChanged.x)(), (0, map.U)(function(settings) {
                    return scorecard_column_settings_helper._.isColumnVisible(settings, 5);
                })), this.showOwner$ = columnSettings$.pipe((0, distinctUntilChanged.x)(), (0, map.U)(function(settings) {
                    return scorecard_column_settings_helper._.isColumnVisible(settings, 1);
                })), this.showStatus$ = columnSettings$.pipe((0, distinctUntilChanged.x)(), (0, 
                map.U)(function(settings) {
                    return scorecard_column_settings_helper._.isColumnVisible(settings, 2);
                })), this.maxGoalOwnerCount = this.featureSwitches.featureSwitches.powerBIGoalsMultipleGoalOwners ? goal_limits.r.MaxGoalOwnerCount : 1, 
                null === (_g = null === (_f = this.settingsService) || void 0 === _f ? void 0 : _f.settings) || void 0 === _g || _g.pipe((0, 
                take.q)(1)).subscribe(function(settings) {
                    var _a;
                    _this.isSingleGoalVisual = !_.isNil(null === (_a = _.first(settings.filters)) || void 0 === _a ? void 0 : _a.goalId);
                }), this.goalStatuses$ = this.scorecardService.goalStatusesByScorecardId$.pipe((0, 
                map.U)(function(allStatuses) {
                    return allStatuses[_this.goal.scorecardId];
                })), this.updateCapabilities();
            }, GoalEditRowComponent.prototype.ngAfterViewInit = function() {
                this.displayedGoal.isNew && this.nameInput.nativeElement.focus();
            }, GoalEditRowComponent.prototype.ngOnChanges = function(changes) {
                changes.goal && this.displayedGoal && !this.goal.isNew && (this.displayedGoal.hasStatusRules = this.goal.hasStatusRules, 
                this.updateCapabilities(), this.displayedGoal.cycleMetadata = (0, tslib_es6.__assign)({}, this.goal.cycleMetadata), 
                this.displayedGoal.metadata = (0, tslib_es6.__assign)({}, this.goal.metadata), this.displayedGoal.cycle = this.goal.cycle, 
                this.displayedGoal.cyclePeriod = this.goal.cyclePeriod, this.displayedGoal.cycleRollingInterval = this.goal.cycleRollingInterval);
            }, GoalEditRowComponent.prototype.onSelectGoalCheckbox = function() {
                this.scorecardService.toggleSelectedGoal(this.displayedGoal.id, !1, !0);
            }, GoalEditRowComponent.prototype.onSave = function() {
                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var additionalOwners, goalId, valueToSave, targetToSave, diffedGoalValue, currentGoalValue, scorecard, _q;
                    return (0, tslib_es6.__generator)(this, function(_s) {
                        switch (_s.label) {
                          case 0:
                            return _.isNil(this.goal.valueRollup) || _.isUndefined(this.goalCurrentValueSelection) || 4 === (null === (_a = this.goalCurrentValueSelection) || void 0 === _a ? void 0 : _a.type) ? [ 3, 2 ] : [ 4, this.scorecardService.deleteGoalValueRollup(this.displayedGoal.id, 1) ];

                          case 1:
                            _s.sent(), _s.label = 2;

                          case 2:
                            return _.isNil(this.goal.targetRollup) || _.isUndefined(this.goalTargetValueSelection) || 4 === (null === (_b = this.goalTargetValueSelection) || void 0 === _b ? void 0 : _b.type) ? [ 3, 4 ] : [ 4, this.scorecardService.deleteGoalValueRollup(this.displayedGoal.id, 2) ];

                          case 3:
                            _s.sent(), _s.label = 4;

                          case 4:
                            return _.isUndefined(this.goalCurrentValueSelection) || 1 === (null === (_c = this.goalCurrentValueSelection) || void 0 === _c ? void 0 : _c.type) || !this.goal.valueConnection ? [ 3, 6 ] : [ 4, this.scorecardService.deleteGoalQueryConnection(this.displayedGoal.id, 1) ];

                          case 5:
                            if (!1 === (null !== (_d = _s.sent()) && void 0 !== _d && _d)) return [ 2 ];
                            _s.label = 6;

                          case 6:
                            return _.isUndefined(this.goalTargetValueSelection) || 1 === (null === (_e = this.goalTargetValueSelection) || void 0 === _e ? void 0 : _e.type) || !this.goal.targetConnection ? [ 3, 8 ] : [ 4, this.scorecardService.deleteGoalQueryConnection(this.displayedGoal.id, 2) ];

                          case 7:
                            if (!1 === (null !== (_f = _s.sent()) && void 0 !== _f && _f)) return [ 2 ];
                            _s.label = 8;

                          case 8:
                            if (!goal_helper.r.allGoalInputsValid(this.displayedGoal)) return [ 2 ];
                            _.isEmpty(this.selectedUsers) ? (this.displayedGoal.owner = "", this.displayedGoal.additionalOwners = []) : (this.displayedGoal.owner = this.selectedUsers[0].userPrincipalName || this.selectedUsers[0].emailAddress, 
                            additionalOwners = this.selectedUsers.slice(1).map(function(user) {
                                return {
                                    userPrincipalName: user.userPrincipalName || user.emailAddress
                                };
                            }), this.displayedGoal.additionalOwners = additionalOwners), _s.label = 9;

                          case 9:
                            return _s.trys.push([ 9, 31, , 32 ]), this.scorecardService.setGoalState(this.displayedGoal.id, "Saving"), 
                            [ 4, this.scorecardService.saveGoal(this.displayedGoal.id, this.displayedGoal) ];

                          case 10:
                            return goalId = _s.sent(), this.displayedGoal.id = goalId, valueToSave = _.cloneDeep(this.currentValue), 
                            targetToSave = _.cloneDeep(this.currentTarget), !this.displayedGoal.valueConnection && _.isNil(null === (_g = this.displayedGoal) || void 0 === _g ? void 0 : _g.valueRollup) && _.isUndefined(null === (_h = this.goalCurrentValueSelection) || void 0 === _h ? void 0 : _h.rollupType) || (valueToSave.value = void 0, 
                            this.values = void 0), !this.displayedGoal.targetConnection && _.isNil(null === (_j = this.displayedGoal) || void 0 === _j ? void 0 : _j.targetRollup) && _.isUndefined(null === (_k = this.goalTargetValueSelection) || void 0 === _k ? void 0 : _k.rollupType) || (targetToSave.target = void 0, 
                            this.targets = void 0), this.supportMultipleTargets || (valueToSave.target = targetToSave.target), 
                            _.isEmpty(this.displayedGoal.goalValues) ? [ 4, this.scorecardService.saveGoalValue(this.displayedGoal.id, valueToSave) ] : [ 3, 12 ];

                          case 11:
                            return _s.sent(), [ 3, 14 ];

                          case 12:
                            return currentGoalValue = goal_helper.r.buildCurrentGoalValue(this.displayedGoal, !0), 
                            goal_value_helper.B.areGoalValuesEqual(valueToSave, currentGoalValue, !_.isNil(this.displayedGoal.valueConnection), this.supportMultipleTargets || !_.isNil(this.displayedGoal.targetConnection)) ? [ 3, 14 ] : (diffedGoalValue = goal_value_helper.B.diffGoalValues(valueToSave, currentGoalValue), 
                            [ 4, this.scorecardService.saveGoalValue(this.displayedGoal.id, diffedGoalValue) ]);

                          case 13:
                            _s.sent(), _s.label = 14;

                          case 14:
                            return this.supportMultipleValuesEditing && this.values ? [ 4, this.scorecardService.overwriteMultipleGoalValues(this.displayedGoal.id, this.values) ] : [ 3, 16 ];

                          case 15:
                            _s.sent(), _s.label = 16;

                          case 16:
                            return this.supportMultipleTargets ? this.targets ? [ 4, this.scorecardService.overwriteGoalTargets(this.displayedGoal.id, this.targets) ] : [ 3, 18 ] : [ 3, 20 ];

                          case 17:
                            return _s.sent(), [ 3, 20 ];

                          case 18:
                            return void 0 === targetToSave.target || (currentGoalValue = goal_helper.r.buildCurrentGoalValue(this.displayedGoal)).target === targetToSave.target ? [ 3, 20 ] : [ 4, this.scorecardService.saveGoalValue(this.displayedGoal.id, targetToSave) ];

                          case 19:
                            _s.sent(), _s.label = 20;

                          case 20:
                            return _.isUndefined(null === (_l = this.goalCurrentValueSelection) || void 0 === _l ? void 0 : _l.rollupType) ? [ 3, 22 ] : [ 4, this.scorecardService.upsertGoalValueRollup(this.displayedGoal.id, 1, this.goalCurrentValueSelection.rollupType) ];

                          case 21:
                            _s.sent(), _s.label = 22;

                          case 22:
                            return _.isUndefined(null === (_m = this.goalTargetValueSelection) || void 0 === _m ? void 0 : _m.rollupType) ? [ 3, 24 ] : [ 4, this.scorecardService.upsertGoalValueRollup(this.displayedGoal.id, 2, this.goalTargetValueSelection.rollupType) ];

                          case 23:
                            _s.sent(), _s.label = 24;

                          case 24:
                            return [ 4, this.scorecardService.updateGoalQueryConnection(this.displayedGoal.id, 1, this.displayedGoal.valueConnection) ];

                          case 25:
                            return _s.sent(), [ 4, this.scorecardService.updateGoalQueryConnection(this.displayedGoal.id, 2, this.displayedGoal.targetConnection) ];

                          case 26:
                            return _s.sent(), this.displayedGoal.isNew && this.newGoalRules ? [ 4, this.scorecardService.saveStatusRules(this.displayedGoal.id, this.newGoalRules) ] : [ 3, 28 ];

                          case 27:
                            _s.sent(), _s.label = 28;

                          case 28:
                            return this.scorecardService.setGoalState(this.displayedGoal.id, "Consumption"), 
                            this.isSingleGoalVisual ? (scorecard = this.scorecardService.getCurrentScorecard(), 
                            _q = this, [ 4, this.scorecardService.getGoal(this.displayedGoal.id).pipe((0, filter.h)(function(visualGoal) {
                                return !visualGoal.currentRefreshInProgress && !visualGoal.targetRefreshInProgress;
                            }), (0, take.q)(1)).toPromise() ]) : [ 3, 30 ];

                          case 29:
                            _q.displayedGoal = _s.sent(), this.scorecardHost.onUpdateScorecard(scorecard), this.scorecardHost.onSelectGoals([ this.displayedGoal ]), 
                            this.scorecardHost.showGoals(!1, scorecard, [ this.displayedGoal ]), _s.label = 30;

                          case 30:
                            return _.isNil(null === (_o = this.goalCurrentValueSelection) || void 0 === _o ? void 0 : _o.type) || this.telemetryService.logEvent(events.h2, {
                                calculationType: this.getMetricCalculationType(this.goalCurrentValueSelection.type)
                            }), _.isNil(null === (_p = this.goalTargetValueSelection) || void 0 === _p ? void 0 : _p.type) || this.telemetryService.logEvent(events.Lc, {
                                calculationType: this.getMetricCalculationType(this.goalTargetValueSelection.type)
                            }), [ 3, 32 ];

                          case 31:
                            return _s.sent(), debug.fF.assertFail("Could not save goal"), this.scorecardService.setGoalState(this.displayedGoal.id, "Editing"), 
                            [ 3, 32 ];

                          case 32:
                            return [ 2 ];
                        }
                    });
                });
            }, GoalEditRowComponent.prototype.onUpdateStatusRules = function() {
                var _this = this;
                this.displayedGoal.isNew ? this.detailsPaneLauncher.openGoalStatusRulesPane(this.scorecardService.getGoalStatuses(this.displayedGoal), this.displayedGoal, this.newGoalRules, function(rules) {
                    return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                        return (0, tslib_es6.__generator)(this, function(_a) {
                            return rules = _.some(null == rules ? void 0 : rules.rules) ? rules : void 0, this.newGoalRules = rules, 
                            this.displayedGoal.hasStatusRules = !!rules, this.updateCapabilities(), [ 2, rules ];
                        });
                    });
                }) : this.detailsPaneLauncher.openGoalDetails(this.scorecardService, this.goal.id, goals_details_pane_launcher_service.E.ShowStatusRules, this.scorecardConfigurationService.getConfiguration());
            }, GoalEditRowComponent.prototype.onCancel = function() {
                this.scorecardService.cancelEditing(this.displayedGoal.id);
            }, GoalEditRowComponent.prototype.onStartDateChange = function(value) {
                var date = new Date(value);
                !_.isEmpty(value) && _.isFinite(date.getTime()) && (this.displayedGoal.startDate = date.toISOString(), 
                this.startDateShort = value);
            }, GoalEditRowComponent.prototype.onDueDateChange = function(value) {
                var date = new Date(value);
                !_.isEmpty(value) && _.isFinite(date.getTime()) && (this.displayedGoal.completionDate = date.toISOString(), 
                this.completionDateShort = value);
            }, GoalEditRowComponent.prototype.onSetCustomStatusesClick = function() {}, GoalEditRowComponent.prototype.onStatusChange = function(status) {
                debug.fF.assert(function() {
                    return !!status;
                }, "status should not be null"), this.currentValue.status = status.id;
            }, GoalEditRowComponent.prototype.allValid = function() {
                return goal_helper.r.allGoalInputsValid(this.displayedGoal);
            }, GoalEditRowComponent.prototype.onCategoryListIdChanged = function(categoryListId) {
                this.displayedGoal.valuesCategoryId = categoryListId, this.updateCapabilities();
            }, GoalEditRowComponent.prototype.onConnectionChanged = function() {
                this.updateCapabilities();
            }, GoalEditRowComponent.prototype.onTargetsChanged = function(targets) {
                this.updateCapabilities(targets);
            }, GoalEditRowComponent.prototype.onValueRollupChanged = function(goalValueSelection) {
                4 !== goalValueSelection.type && this.updateCapabilities(), this.goalCurrentValueSelection = goalValueSelection;
            }, GoalEditRowComponent.prototype.onTargetRollupChanged = function(goalValueSelection) {
                4 !== goalValueSelection.type && this.updateCapabilities(), this.goalTargetValueSelection = goalValueSelection;
            }, GoalEditRowComponent.prototype.updateCapabilities = function(newTargets) {
                var goal = this.displayedGoal;
                newTargets && (goal = (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, goal), {
                    aggregations: (0, tslib_es6.__spreadArray)((0, tslib_es6.__spreadArray)([], _.filter(goal.aggregations, function(aggr) {
                        return "NumberOfTargets" !== aggr.type;
                    }), !0), [ {
                        type: "NumberOfTargets",
                        value: newTargets.length
                    } ], !1)
                })), this.capabilities = this.capabilityService.getCurrentGoalCapabilities(goal), 
                this.capabilities.useCategoricalValues = this.capabilities.useCategoricalValues && !this.isSingleGoalVisual;
            }, GoalEditRowComponent.prototype.getMetricCalculationType = function(calculationType) {
                switch (calculationType) {
                  case 1:
                    return events.z8.Connect;

                  case 4:
                    return events.z8.Rollup;

                  case 0:
                  case 2:
                    return events.z8.Manual;

                  default:
                    return void debug.fF.assertNever(calculationType);
                }
            }, GoalEditRowComponent.\u0275fac = function(t) {
                return new (t || GoalEditRowComponent)(core["\u0275\u0275directiveInject"](feature_switch_service.vZ), core["\u0275\u0275directiveInject"](scorecard_service.G), core["\u0275\u0275directiveInject"](scorecard_configuration_service.V), core["\u0275\u0275directiveInject"](goals_details_pane_launcher_service.c), core["\u0275\u0275directiveInject"](scorecard_capability_service.Nw), core["\u0275\u0275directiveInject"](Telemetry.y0), core["\u0275\u0275directiveInject"](scorecardHostService.M, 8), core["\u0275\u0275directiveInject"](scorecardSettingsService.u, 8));
            }, GoalEditRowComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: GoalEditRowComponent,
                selectors: [ [ "", "goal-edit-row", "" ] ],
                viewQuery: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275viewQuery"](goal_edit_row_component_c0, 5), core["\u0275\u0275viewQuery"](GoalValueInputComponent, 5)), 
                    2 & rf) {
                        var _t = void 0;
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.nameInput = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.valueInput = _t.first);
                    }
                },
                inputs: {
                    color: "color",
                    goal: "goal",
                    indent: "indent"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                attrs: goal_edit_row_component_c1,
                decls: 26,
                vars: 42,
                consts: [ [ 1, "checkmark-td" ], [ "class", "select-checkmark", 3, "box-checked", 4, "ngIf" ], [ "class", "cell cell-indent", 4, "ngFor", "ngForOf" ], [ 1, "cell", "cell-left-edge", "cell-right-edge" ], [ 1, "cell-box" ], [ 1, "color-box" ], [ 1, "edit-row-content" ], [ 1, "input-box-lg", "goal-name" ], [ 1, "input-title", 3, "localize" ], [ 1, "input-box" ], [ "data-testid", "goal-name-input-box", "type", "text", 3, "maxlength", "ngModel", "disabled", "keyup.enter", "ngModelChange" ], [ "nameInput", "" ], [ 4, "ngIf" ], [ 1, "divider" ], [ 1, "inner-input-box-with-rollups", 3, "displayedGoal", "currentValue", "currentTarget", "values", "targets", "goalStatuses", "capabilities", "displayedGoalChange", "currentValueChange", "currentTargetChange", "valuesChange", "targetsChange", "onCategoryListIdChanged", "onConnectionChanged", "valueRollupsChange", "targetRollupsChange", "onSave" ], [ "valueInput", "" ], [ 1, "select-checkmark" ], [ 3, "checked", "disabled", "onChange" ], [ 1, "cell", "cell-indent" ], [ 1, "input-box-md" ], [ "localize", "Owners_Lowercase", 1, "input-title" ], [ "data-testid", "goal-owners-input", 1, "input-box", "goal-owners-input" ], [ 3, "allowAnyGroup", "maxSelectableUsers", "ngModel", "addUserOnBlur", "inputPlaceholder", "disabled", "hideInput", "ngModelChange" ], [ 1, "divider", "width-override" ], [ 1, "input-box-sm" ], [ "localize", "Status", 1, "input-title" ], [ 3, "canCustomizeStatus", "status", "goalStatuses", "pbiTooltip", "pbiTooltipDisabled", "isReadOnly", "onSelect" ], [ "class", "input-action-txt", 4, "ngIf" ], [ 1, "input-action-txt" ], [ "localize", "Logical_Or_Operator", 4, "ngIf" ], [ 1, "link", 3, "localize", "click" ], [ "localize", "Logical_Or_Operator" ], [ 1, "input-box-xs", "right-padding", "input-box-with-rollups" ], [ "localize", "Start_Date", 1, "input-title" ], [ "data-testid", "start-date-input", "type", "date", 3, "min", "max", "ngModel", "disabled", "ngModelChange" ], [ 1, "input-box-xs", "input-box-with-rollups" ], [ 1, "input-title" ], [ 1, "glyphicon", "glyph-small", "pbi-glyph-info", "icon", 3, "pbiTooltip" ], [ "data-testid", "due-date-input", "type", "date", 3, "min", "max", "ngModel", "disabled", "ngModelChange" ] ],
                template: function(rf, ctx) {
                    var tmp_3_0;
                    1 & rf && (core["\u0275\u0275elementStart"](0, "td", 0), core["\u0275\u0275template"](1, GoalEditRowComponent_div_1_Template, 4, 8, "div", 1), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](2, GoalEditRowComponent_td_2_Template, 1, 0, "td", 2), 
                    core["\u0275\u0275elementStart"](3, "td", 3), core["\u0275\u0275pipe"](4, "async"), 
                    core["\u0275\u0275elementStart"](5, "div", 4), core["\u0275\u0275element"](6, "div", 5), 
                    core["\u0275\u0275elementStart"](7, "div", 6)(8, "div", 7), core["\u0275\u0275element"](9, "div", 8), 
                    core["\u0275\u0275elementStart"](10, "div", 9)(11, "input", 10, 11), core["\u0275\u0275listener"]("keyup.enter", function() {
                        return ctx.onSave();
                    })("ngModelChange", function($event) {
                        return ctx.displayedGoal.name = $event;
                    }), core["\u0275\u0275pipe"](13, "localize"), core["\u0275\u0275pipe"](14, "localize"), 
                    core["\u0275\u0275elementEnd"]()()(), core["\u0275\u0275template"](15, GoalEditRowComponent_ng_container_15_Template, 8, 9, "ng-container", 12), 
                    core["\u0275\u0275pipe"](16, "async"), core["\u0275\u0275elementStart"](17, "div", 13), 
                    core["\u0275\u0275element"](18, "div"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](19, "goal-value-input", 14, 15), 
                    core["\u0275\u0275listener"]("displayedGoalChange", function($event) {
                        return ctx.displayedGoal = $event;
                    })("currentValueChange", function($event) {
                        return ctx.currentValue = $event;
                    })("currentTargetChange", function($event) {
                        return ctx.currentTarget = $event;
                    })("valuesChange", function($event) {
                        return ctx.values = $event;
                    })("targetsChange", function($event) {
                        return ctx.targets = $event;
                    })("onCategoryListIdChanged", function($event) {
                        return ctx.onCategoryListIdChanged($event);
                    })("onConnectionChanged", function() {
                        return ctx.onConnectionChanged();
                    })("targetsChange", function($event) {
                        return ctx.onTargetsChanged($event);
                    })("valueRollupsChange", function($event) {
                        return ctx.onValueRollupChanged($event);
                    })("targetRollupsChange", function($event) {
                        return ctx.onTargetRollupChanged($event);
                    })("onSave", function() {
                        return ctx.onSave();
                    }), core["\u0275\u0275pipe"](21, "async"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](22, GoalEditRowComponent_ng_container_22_Template, 9, 11, "ng-container", 12), 
                    core["\u0275\u0275pipe"](23, "async"), core["\u0275\u0275template"](24, GoalEditRowComponent_ng_container_24_Template, 17, 20, "ng-container", 12), 
                    core["\u0275\u0275pipe"](25, "async"), core["\u0275\u0275elementEnd"]()()()), 2 & rf && (core["\u0275\u0275classProp"]("bulk-editing-off", !ctx.bulkDeleteEnabled), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx.bulkDeleteEnabled), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngForOf", core["\u0275\u0275pureFunction0"](41, goal_edit_row_component_c2).constructor(ctx.indentation)), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275classProp"]("selected-goal", null == (tmp_3_0 = core["\u0275\u0275pipeBind1"](4, 27, ctx.selectedGoalIds$)) ? null : tmp_3_0[ctx.displayedGoal.id]), 
                    core["\u0275\u0275attribute"]("colspan", ctx.TotalNumberOfColumns - ctx.indentation - 1), 
                    core["\u0275\u0275advance"](2), core["\u0275\u0275classProp"]("cell-box-with-rollups", ctx.capabilities.supportsRollup), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275styleProp"]("background-color", ctx.color), 
                    core["\u0275\u0275advance"](3), core["\u0275\u0275propertyInterpolate"]("localize", 0 === ctx.indentation ? "MetricName" : "SubmetricName"), 
                    core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("maxlength", ctx.GoalNameMaxLength)("ngModel", ctx.displayedGoal.name)("disabled", !ctx.capabilities.editName), 
                    core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](13, 29, 0 === ctx.indentation ? "MetricName" : "SubmetricName"))("placeholder", core["\u0275\u0275pipeBind1"](14, 31, "NameYourMetric")), 
                    core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](16, 33, ctx.showOwner$)), 
                    core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("displayedGoal", ctx.displayedGoal)("currentValue", ctx.currentValue)("currentTarget", ctx.currentTarget)("values", ctx.values)("targets", ctx.targets)("goalStatuses", core["\u0275\u0275pipeBind1"](21, 35, ctx.goalStatuses$))("capabilities", ctx.capabilities), 
                    core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](23, 37, ctx.showStatus$)), 
                    core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](25, 39, ctx.showDueDate$)));
                },
                dependencies: [ common.NgForOf, common.NgIf, emails_list_modern_component.t, fesm2022_forms.Fj, fesm2022_forms.JJ, fesm2022_forms.nD, fesm2022_forms.On, localize_directive.X, pbi_checkbox_component.v, pbi_tooltip_directive.V, GoalValueInputComponent, status_picker_component.z, common.AsyncPipe, localize_pipe.F ],
                styles: [ ".cell[_ngcontent-%COMP%]{border:none;box-sizing:border-box}.cell-indent[_ngcontent-%COMP%]{width:36px}.cell-left-edge[_ngcontent-%COMP%]{border-top-left-radius:4px;border-bottom-left-radius:4px}.cell-right-edge[_ngcontent-%COMP%]{border-top-right-radius:4px;border-bottom-right-radius:4px}.cell-box[_ngcontent-%COMP%]{display:flex;height:100%}.cell-box[_ngcontent-%COMP%]   .color-box[_ngcontent-%COMP%]{min-width:6px;width:6px;border-top-left-radius:4px;border-bottom-left-radius:4px}[_nghost-%COMP%]   td[_ngcontent-%COMP%]{height:100px}[_nghost-%COMP%]   .select-checkmark[_ngcontent-%COMP%]{margin-right:15px}[_nghost-%COMP%]   .cell[_ngcontent-%COMP%]{background-color:var(--scorecard-tableEditRowBackgroundColor);color:var(--scorecard-tableEditRowForegroundColor);border-top:1px solid var(--fluent-theme-neutral-light-color, #EDEBE9);border-bottom:1px solid var(--fluent-theme-neutral-light-color, #EDEBE9)}[_nghost-%COMP%]   .cell.cell-right-edge[_ngcontent-%COMP%]{border-right:1px solid var(--fluent-theme-neutral-light-color, #EDEBE9)}[_nghost-%COMP%]   .cell[_ngcontent-%COMP%]   .cell-box-with-rollups[_ngcontent-%COMP%]   .edit-row-content[_ngcontent-%COMP%]{padding-left:12px;padding-right:12px}[_nghost-%COMP%]   .cell[_ngcontent-%COMP%]   .cell-box-with-rollups[_ngcontent-%COMP%]   goal-value-input[_ngcontent-%COMP%]{flex:none;max-width:none;min-width:392px}[_nghost-%COMP%]   .cell[_ngcontent-%COMP%]   .cell-box-with-rollups[_ngcontent-%COMP%]   .inner-input-box-with-rollups[_ngcontent-%COMP%]{max-width:none}[_nghost-%COMP%]   .cell[_ngcontent-%COMP%]   .cell-box-with-rollups[_ngcontent-%COMP%]   .input-box-with-rollups[_ngcontent-%COMP%]{width:104px;max-width:104px;min-width:auto}[_nghost-%COMP%]   .cell[_ngcontent-%COMP%]   .cell-box-with-rollups[_ngcontent-%COMP%]   .input-box-with-rollups[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:4px 6px}[_nghost-%COMP%]:hover   .select-checkmark[_ngcontent-%COMP%], [_nghost-%COMP%]   .select-checkmark.box-checked[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .checkmark-td[_ngcontent-%COMP%]{width:35px;max-width:35px}[_nghost-%COMP%]   .checkmark-td.bulk-editing-off[_ngcontent-%COMP%]{width:0px;max-width:0px}[_nghost-%COMP%]   .select-checkmark[_ngcontent-%COMP%]{visibility:hidden;margin-right:15px}[_nghost-%COMP%]   .select-checkmark[_ngcontent-%COMP%]     pbi-checkbox{margin-bottom:0}[_nghost-%COMP%]   .input-title[_ngcontent-%COMP%]{font-size:var(--lg-font-size, 16px);font-weight:var(--font-weight-semi-bold, 600);padding-top:9px;padding-bottom:4px}[_nghost-%COMP%]   .input-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{vertical-align:middle;padding:0}[_nghost-%COMP%]   .input-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   .edit-row-content[_ngcontent-%COMP%]{display:flex;flex:1;padding-left:20px;padding-right:20px;width:1000px;min-width:1000px}[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);height:32px;padding:6px 8px;box-sizing:border-box;color:var(--scorecard-tableInputForegroundColor);background:var(--scorecard-tableInputBackgroundColor);border:1px solid var(--gray-110, #8A8886);border-radius:2px}[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{filter:brightness(90%)}[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:invalid{border:2px solid var(--fluent-theme-error-dark-alt-color, #D83B01);outline-color:var(--fluent-theme-error-dark-alt-color, #D83B01)}[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{filter:brightness(90%)}[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder, [_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-ms-input-placeholder, [_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--scorecard-tableInputForegroundColor)}[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{padding:0;margin:0}[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-outer-spin-button, [_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}[_nghost-%COMP%]   .input-box[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}[_nghost-%COMP%]   .right-padding[_ngcontent-%COMP%]{padding-right:8px}[_nghost-%COMP%]   .input-action-txt[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--scorecard-tableEditRowForegroundColor);padding-top:4px}[_nghost-%COMP%]   .input-action-txt[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:var(--scorecard-tableRowLinkColor);cursor:pointer;text-decoration:none;background-color:transparent;border:none;padding:0}[_nghost-%COMP%]   .input-action-txt[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:var(--fluent-theme-link-darker-color, #005A9E)}[_nghost-%COMP%]   .input-action-txt[_ngcontent-%COMP%]   .link.inactive[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-tertia-color, #A19F9D);pointer-events:none}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:1px;height:100%;background-color:var(--gray-80, #B3B0AD);margin:0 12px}[_nghost-%COMP%]   .width-override[_ngcontent-%COMP%]{width:24px}[_nghost-%COMP%]     .mat-form-field{background:var(--scorecard-tableInputBackgroundColor)!important}[_nghost-%COMP%]     emails-list-modern.disabled .mat-form-field{filter:brightness(95%)}[_nghost-%COMP%]   .goal-owners-input[_ngcontent-%COMP%]{padding-bottom:9px}[_nghost-%COMP%]   goal-value-input[_ngcontent-%COMP%]{flex:1 0 260px;max-width:400px}[_nghost-%COMP%]   .input-box-xs[_ngcontent-%COMP%]{flex:1 1 100px;max-width:140px;min-width:110px}[_nghost-%COMP%]   .input-box-sm[_ngcontent-%COMP%]{flex:1 1 100px;max-width:200px;min-width:140px}[_nghost-%COMP%]   .input-box-md[_ngcontent-%COMP%]{flex:1 1 200px;max-width:300px;min-width:130px}[_nghost-%COMP%]   .input-box-lg[_ngcontent-%COMP%]{flex:1 1 250px;min-width:150px}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}" ],
                changeDetection: 0
            }), GoalEditRowComponent;
        }(), drag_drop = __webpack_require__(558), sparkline_helper = __webpack_require__(3204), goals_hierarchy_service = __webpack_require__(87426), goal_row_component_c0 = [ "chart" ], goal_row_component_c1 = [ "goal-row", "" ];
        function GoalRowComponent_div_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r6 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 5)(1, "pbi-checkbox", 6), core["\u0275\u0275listener"]("onChange", function() {
                    core["\u0275\u0275restoreView"](_r6);
                    var ctx_r5 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r5.onSelectGoalCheckbox());
                }), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275classProp"]("box-checked", null == ctx_r0.scorecard || null == ctx_r0.scorecard.selectedGoalIds ? null : ctx_r0.scorecard.selectedGoalIds[ctx_r0.displayedGoal.id]), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("checked", ctx_r0.isChecked);
            }
        }
        function GoalRowComponent_div_2_Template(rf, ctx) {
            if (1 & rf) {
                var _r8 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 5)(1, "pbi-radio-button", 7), core["\u0275\u0275listener"]("change", function() {
                    core["\u0275\u0275restoreView"](_r8);
                    var ctx_r7 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r7.onSelectGoalCheckbox());
                }), core["\u0275\u0275pipe"](2, "localize"), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r1 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("disabled", !ctx_r1.canSelectGoal)("pbiTooltip", ctx_r1.selectGoalDisabledTooltip ? core["\u0275\u0275pipeBind1"](2, 5, ctx_r1.selectGoalDisabledTooltip) : "")("pbiTooltipDisabled", ctx_r1.canSelectGoal)("isCompact", !0)("checked", ctx_r1.isChecked);
            }
        }
        function GoalRowComponent_div_3_Template(rf, ctx) {
            if (1 & rf) {
                var _r10 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 5)(1, "pbi-checkbox", 8), core["\u0275\u0275listener"]("onChange", function() {
                    core["\u0275\u0275restoreView"](_r10);
                    var ctx_r9 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r9.onSelectGoalCheckbox());
                }), core["\u0275\u0275pipe"](2, "localize"), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r2 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("disabled", !ctx_r2.canSelectGoal)("pbiTooltip", ctx_r2.selectGoalDisabledTooltip ? core["\u0275\u0275pipeBind1"](2, 4, ctx_r2.selectGoalDisabledTooltip) : "")("pbiTooltipDisabled", ctx_r2.canSelectGoal)("checked", ctx_r2.isChecked);
            }
        }
        function GoalRowComponent_td_4_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "td", 9);
        }
        function GoalRowComponent_ng_container_5_ng_container_1_td_1_ng_container_3_Template(rf, ctx) {
            if (1 & rf) {
                var _r28 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "button", 29), 
                core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r28);
                    var ctx_r27 = core["\u0275\u0275nextContext"](4);
                    return core["\u0275\u0275resetView"](ctx_r27.onShowChildrenChange());
                }), core["\u0275\u0275pipe"](2, "localize"), core["\u0275\u0275pipe"](3, "localize"), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementContainerEnd"]();
            }
            if (2 & rf) {
                var ctx_r24 = core["\u0275\u0275nextContext"](4);
                core["\u0275\u0275advance"](1), core["\u0275\u0275classProp"]("rotate90", !ctx_r24.showChildren), 
                core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind1"](3, 6, ctx_r24.showChildren ? "Collapse_Expand_Submetrics_Button_Functional_Description_Hide_Submetrics" : "Collapse_Expand_Submetrics_Button_Functional_Description_Show_Submetrics")), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](2, 4, ctx_r24.showChildren ? "Collapse_Expand_Submetrics_Button_Functional_Description_Hide_Submetrics" : "Collapse_Expand_Submetrics_Button_Functional_Description_Show_Submetrics"));
            }
        }
        function GoalRowComponent_ng_container_5_ng_container_1_td_1_ng_template_4_Template(rf, ctx) {
            if (1 & rf) {
                var _r30 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 30), core["\u0275\u0275listener"]("click", function($event) {
                    core["\u0275\u0275restoreView"](_r30);
                    var ctx_r29 = core["\u0275\u0275nextContext"](4);
                    return core["\u0275\u0275resetView"](ctx_r29.onGoalRowClick($event));
                }), core["\u0275\u0275elementEnd"]();
            }
        }
        function GoalRowComponent_ng_container_5_ng_container_1_td_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r32 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "td", 21)(1, "div", 22)(2, "div", 23), core["\u0275\u0275listener"]("click", function($event) {
                    core["\u0275\u0275restoreView"](_r32);
                    var ctx_r31 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r31.onGoalRowClick($event));
                }), core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](3, GoalRowComponent_ng_container_5_ng_container_1_td_1_ng_container_3_Template, 4, 8, "ng-container", 24), 
                core["\u0275\u0275template"](4, GoalRowComponent_ng_container_5_ng_container_1_td_1_ng_template_4_Template, 1, 0, "ng-template", null, 25, core["\u0275\u0275templateRefExtractor"]), 
                core["\u0275\u0275elementStart"](6, "div", 26), core["\u0275\u0275element"](7, "goal-name-cell", 27)(8, "goal-actions-cell", 28), 
                core["\u0275\u0275pipe"](9, "async"), core["\u0275\u0275elementEnd"]()()();
            }
            if (2 & rf) {
                var _r25 = core["\u0275\u0275reference"](5), columnSetting_r12 = core["\u0275\u0275nextContext"](2).$implicit, ctx_r15 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275styleProp"]("--borderColor", ctx_r15.color)("max-width", ctx_r15.forceColumnMinWidths ? ctx_r15.ListViewCellMinWidths[columnSetting_r12.columnId] + "px" : void 0)("min-width", ctx_r15.ListViewCellMinWidths[columnSetting_r12.columnId], "px"), 
                core["\u0275\u0275classProp"]("selected-goal", (null == ctx_r15.scorecard || null == ctx_r15.scorecard.selectedGoalIds ? null : ctx_r15.scorecard.selectedGoalIds[ctx_r15.displayedGoal.id]) || ctx_r15.highlightRow), 
                core["\u0275\u0275attribute"]("colspan", ctx_r15.MAX_COLSPAN - ctx_r15.indentation), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275styleProp"]("background-color", ctx_r15.color), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r15.hasVisibleChildren)("ngIfElse", _r25), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("goal", ctx_r15.displayedGoal)("scorecard", ctx_r15.scorecard), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("goal", ctx_r15.displayedGoal)("isEditMode", core["\u0275\u0275pipeBind1"](9, 17, ctx_r15.isEditMode$));
            }
        }
        function GoalRowComponent_ng_container_5_ng_container_1_td_2_Template(rf, ctx) {
            if (1 & rf) {
                var _r35 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "td", 31), core["\u0275\u0275listener"]("click", function($event) {
                    core["\u0275\u0275restoreView"](_r35);
                    var ctx_r34 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r34.onGoalRowClick($event));
                }), core["\u0275\u0275element"](1, "goal-owners-cell", 32), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r36 = core["\u0275\u0275nextContext"](2), columnSetting_r12 = ctx_r36.$implicit, isLast_r13 = ctx_r36.last, ctx_r16 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275styleProp"]("max-width", ctx_r16.forceColumnMinWidths ? ctx_r16.ListViewCellMinWidths[columnSetting_r12.columnId] + "px" : void 0)("min-width", ctx_r16.ListViewCellMinWidths[columnSetting_r12.columnId], "px")("--borderColor", ctx_r16.color), 
                core["\u0275\u0275classProp"]("selected-goal", (null == ctx_r16.scorecard || null == ctx_r16.scorecard.selectedGoalIds ? null : ctx_r16.scorecard.selectedGoalIds[ctx_r16.displayedGoal.id]) || ctx_r16.highlightRow)("cell-right-edge", isLast_r13), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("goal", ctx_r16.displayedGoal);
            }
        }
        function GoalRowComponent_ng_container_5_ng_container_1_td_3_Template(rf, ctx) {
            if (1 & rf) {
                var _r38 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "td", 33), core["\u0275\u0275listener"]("click", function($event) {
                    core["\u0275\u0275restoreView"](_r38);
                    var ctx_r37 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r37.onGoalRowClick($event));
                }), core["\u0275\u0275element"](1, "status-icon", 34), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r39 = core["\u0275\u0275nextContext"](2), columnSetting_r12 = ctx_r39.$implicit, isLast_r13 = ctx_r39.last, ctx_r17 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275styleProp"]("max-width", ctx_r17.forceColumnMinWidths ? ctx_r17.ListViewCellMinWidths[columnSetting_r12.columnId] + "px" : void 0)("min-width", ctx_r17.ListViewCellMinWidths[columnSetting_r12.columnId], "px")("--borderColor", ctx_r17.color), 
                core["\u0275\u0275classProp"]("selected-goal", (null == ctx_r17.scorecard || null == ctx_r17.scorecard.selectedGoalIds ? null : ctx_r17.scorecard.selectedGoalIds[ctx_r17.displayedGoal.id]) || ctx_r17.highlightRow)("cell-right-edge", isLast_r13), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("status", null == ctx_r17.currentValue ? null : ctx_r17.currentValue.status)("goalStatuses", ctx_r17.goalStatuses);
            }
        }
        function GoalRowComponent_ng_container_5_ng_container_1_td_4_goal_change_cell_2_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "goal-change-cell", 32), 2 & rf) {
                var ctx_r40 = core["\u0275\u0275nextContext"](4);
                core["\u0275\u0275property"]("goal", ctx_r40.displayedGoal);
            }
        }
        function GoalRowComponent_ng_container_5_ng_container_1_td_4_Template(rf, ctx) {
            if (1 & rf) {
                var _r42 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "td", 35), core["\u0275\u0275listener"]("click", function($event) {
                    core["\u0275\u0275restoreView"](_r42);
                    var ctx_r41 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r41.onGoalRowClick($event));
                }), core["\u0275\u0275element"](1, "goal-value-cell", 36), core["\u0275\u0275template"](2, GoalRowComponent_ng_container_5_ng_container_1_td_4_goal_change_cell_2_Template, 1, 1, "goal-change-cell", 37), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var tmp_7_0, tmp_8_0, ctx_r43 = core["\u0275\u0275nextContext"](2), columnSetting_r12 = ctx_r43.$implicit, isLast_r13 = ctx_r43.last, ctx_r18 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275styleProp"]("max-width", ctx_r18.forceColumnMinWidths ? ctx_r18.ListViewCellMinWidths[columnSetting_r12.columnId] + "px" : void 0)("min-width", ctx_r18.ListViewCellMinWidths[columnSetting_r12.columnId], "px")("--borderColor", ctx_r18.color), 
                core["\u0275\u0275classProp"]("selected-goal", (null == ctx_r18.scorecard || null == ctx_r18.scorecard.selectedGoalIds ? null : ctx_r18.scorecard.selectedGoalIds[ctx_r18.displayedGoal.id]) || ctx_r18.highlightRow)("cell-right-edge", isLast_r13), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("goal", ctx_r18.displayedGoal)("showCurrent", !0)("showTarget", null !== (tmp_7_0 = null == ctx_r18.displayedGoal.metadata ? null : ctx_r18.displayedGoal.metadata.showFinalTarget) && void 0 !== tmp_7_0 ? tmp_7_0 : !ctx_r18.displayedGoal.targetConnection)("showMilestone", !(null !== (tmp_8_0 = null == ctx_r18.displayedGoal.metadata ? null : ctx_r18.displayedGoal.metadata.showFinalTarget) && void 0 !== tmp_8_0 ? tmp_8_0 : !ctx_r18.displayedGoal.targetConnection)), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r18.isChangeVisible);
            }
        }
        function GoalRowComponent_ng_container_5_ng_container_1_td_5_goal_change_cell_2_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "goal-change-cell", 32), 2 & rf) {
                var ctx_r44 = core["\u0275\u0275nextContext"](4);
                core["\u0275\u0275property"]("goal", ctx_r44.displayedGoal);
            }
        }
        function GoalRowComponent_ng_container_5_ng_container_1_td_5_Template(rf, ctx) {
            if (1 & rf) {
                var _r46 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "td", 38), core["\u0275\u0275listener"]("click", function($event) {
                    core["\u0275\u0275restoreView"](_r46);
                    var ctx_r45 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r45.onGoalRowClick($event));
                }), core["\u0275\u0275element"](1, "goal-value-cell", 39), core["\u0275\u0275template"](2, GoalRowComponent_ng_container_5_ng_container_1_td_5_goal_change_cell_2_Template, 1, 1, "goal-change-cell", 37), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r47 = core["\u0275\u0275nextContext"](2), columnSetting_r12 = ctx_r47.$implicit, isLast_r13 = ctx_r47.last, ctx_r19 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275styleProp"]("max-width", ctx_r19.forceColumnMinWidths ? ctx_r19.ListViewCellMinWidths[columnSetting_r12.columnId] + "px" : void 0)("min-width", ctx_r19.ListViewCellMinWidths[columnSetting_r12.columnId], "px")("--borderColor", ctx_r19.color), 
                core["\u0275\u0275classProp"]("selected-goal", (null == ctx_r19.scorecard || null == ctx_r19.scorecard.selectedGoalIds ? null : ctx_r19.scorecard.selectedGoalIds[ctx_r19.displayedGoal.id]) || ctx_r19.highlightRow)("cell-right-edge", isLast_r13), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("goal", ctx_r19.displayedGoal)("showCurrent", !0), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r19.isChangeVisible);
            }
        }
        function GoalRowComponent_ng_container_5_ng_container_1_td_6_Template(rf, ctx) {
            if (1 & rf) {
                var _r49 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "td", 40), core["\u0275\u0275listener"]("click", function($event) {
                    core["\u0275\u0275restoreView"](_r49);
                    var ctx_r48 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r48.onGoalRowClick($event));
                }), core["\u0275\u0275element"](1, "goal-value-cell", 41), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r50 = core["\u0275\u0275nextContext"](2), columnSetting_r12 = ctx_r50.$implicit, isLast_r13 = ctx_r50.last, ctx_r20 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275styleProp"]("max-width", ctx_r20.forceColumnMinWidths ? ctx_r20.ListViewCellMinWidths[columnSetting_r12.columnId] + "px" : void 0)("min-width", ctx_r20.ListViewCellMinWidths[columnSetting_r12.columnId], "px")("--borderColor", ctx_r20.color), 
                core["\u0275\u0275classProp"]("selected-goal", (null == ctx_r20.scorecard || null == ctx_r20.scorecard.selectedGoalIds ? null : ctx_r20.scorecard.selectedGoalIds[ctx_r20.displayedGoal.id]) || ctx_r20.highlightRow)("cell-right-edge", isLast_r13), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("goal", ctx_r20.displayedGoal)("showTarget", !0);
            }
        }
        function GoalRowComponent_ng_container_5_ng_container_1_td_7_Template(rf, ctx) {
            if (1 & rf) {
                var _r52 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "td", 42), core["\u0275\u0275listener"]("click", function($event) {
                    core["\u0275\u0275restoreView"](_r52);
                    var ctx_r51 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r51.onGoalRowClick($event));
                }), core["\u0275\u0275element"](1, "goal-value-cell", 43), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r53 = core["\u0275\u0275nextContext"](2), columnSetting_r12 = ctx_r53.$implicit, isLast_r13 = ctx_r53.last, ctx_r21 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275styleProp"]("max-width", ctx_r21.forceColumnMinWidths ? ctx_r21.ListViewCellMinWidths[columnSetting_r12.columnId] + "px" : void 0)("min-width", ctx_r21.ListViewCellMinWidths[columnSetting_r12.columnId], "px")("--borderColor", ctx_r21.color), 
                core["\u0275\u0275classProp"]("selected-goal", (null == ctx_r21.scorecard || null == ctx_r21.scorecard.selectedGoalIds ? null : ctx_r21.scorecard.selectedGoalIds[ctx_r21.displayedGoal.id]) || ctx_r21.highlightRow)("cell-right-edge", isLast_r13), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("goal", ctx_r21.displayedGoal)("showMilestone", !0);
            }
        }
        function GoalRowComponent_ng_container_5_ng_container_1_td_8_Template(rf, ctx) {
            if (1 & rf) {
                var _r56 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "td", 44, 45), core["\u0275\u0275listener"]("click", function($event) {
                    core["\u0275\u0275restoreView"](_r56);
                    var ctx_r55 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r55.onGoalRowClick($event));
                }), core["\u0275\u0275element"](2, "goal-sparkline-cell", 46), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r57 = core["\u0275\u0275nextContext"](2), columnSetting_r12 = ctx_r57.$implicit, isLast_r13 = ctx_r57.last, ctx_r22 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275styleProp"]("max-width", ctx_r22.forceColumnMinWidths ? ctx_r22.ListViewCellMinWidths[columnSetting_r12.columnId] + "px" : void 0)("min-width", ctx_r22.ListViewCellMinWidths[columnSetting_r12.columnId], "px")("--borderColor", ctx_r22.color), 
                core["\u0275\u0275classProp"]("selected-goal", (null == ctx_r22.scorecard || null == ctx_r22.scorecard.selectedGoalIds ? null : ctx_r22.scorecard.selectedGoalIds[ctx_r22.displayedGoal.id]) || ctx_r22.highlightRow)("cell-right-edge", isLast_r13), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("goal", ctx_r22.displayedGoal)("sparklineValues", ctx_r22.sparklineValues);
            }
        }
        function GoalRowComponent_ng_container_5_ng_container_1_td_9_Template(rf, ctx) {
            if (1 & rf) {
                var _r59 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "td", 47), core["\u0275\u0275listener"]("click", function($event) {
                    core["\u0275\u0275restoreView"](_r59);
                    var ctx_r58 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r58.onGoalRowClick($event));
                }), core["\u0275\u0275element"](1, "goal-due-date-cell", 32), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r60 = core["\u0275\u0275nextContext"](2), columnSetting_r12 = ctx_r60.$implicit, isLast_r13 = ctx_r60.last, ctx_r23 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275styleProp"]("max-width", ctx_r23.forceColumnMinWidths ? ctx_r23.ListViewCellMinWidths[columnSetting_r12.columnId] + "px" : void 0)("min-width", ctx_r23.ListViewCellMinWidths[columnSetting_r12.columnId], "px")("--borderColor", ctx_r23.color), 
                core["\u0275\u0275classProp"]("selected-goal", (null == ctx_r23.scorecard || null == ctx_r23.scorecard.selectedGoalIds ? null : ctx_r23.scorecard.selectedGoalIds[ctx_r23.displayedGoal.id]) || ctx_r23.highlightRow)("cell-right-edge", isLast_r13), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("goal", ctx_r23.displayedGoal);
            }
        }
        function GoalRowComponent_ng_container_5_ng_container_1_Template(rf, ctx) {
            1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, GoalRowComponent_ng_container_5_ng_container_1_td_1_Template, 10, 19, "td", 12), 
            core["\u0275\u0275template"](2, GoalRowComponent_ng_container_5_ng_container_1_td_2_Template, 2, 11, "td", 13), 
            core["\u0275\u0275template"](3, GoalRowComponent_ng_container_5_ng_container_1_td_3_Template, 2, 12, "td", 14), 
            core["\u0275\u0275template"](4, GoalRowComponent_ng_container_5_ng_container_1_td_4_Template, 3, 15, "td", 15), 
            core["\u0275\u0275template"](5, GoalRowComponent_ng_container_5_ng_container_1_td_5_Template, 3, 13, "td", 16), 
            core["\u0275\u0275template"](6, GoalRowComponent_ng_container_5_ng_container_1_td_6_Template, 2, 12, "td", 17), 
            core["\u0275\u0275template"](7, GoalRowComponent_ng_container_5_ng_container_1_td_7_Template, 2, 12, "td", 18), 
            core["\u0275\u0275template"](8, GoalRowComponent_ng_container_5_ng_container_1_td_8_Template, 3, 12, "td", 19), 
            core["\u0275\u0275template"](9, GoalRowComponent_ng_container_5_ng_container_1_td_9_Template, 2, 11, "td", 20), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf && (core["\u0275\u0275advance"](1), 
            core["\u0275\u0275property"]("ngSwitchCase", 0), core["\u0275\u0275advance"](1), 
            core["\u0275\u0275property"]("ngSwitchCase", 1), core["\u0275\u0275advance"](1), 
            core["\u0275\u0275property"]("ngSwitchCase", 2), core["\u0275\u0275advance"](1), 
            core["\u0275\u0275property"]("ngSwitchCase", 3), core["\u0275\u0275advance"](1), 
            core["\u0275\u0275property"]("ngSwitchCase", 7), core["\u0275\u0275advance"](1), 
            core["\u0275\u0275property"]("ngSwitchCase", 8), core["\u0275\u0275advance"](1), 
            core["\u0275\u0275property"]("ngSwitchCase", 9), core["\u0275\u0275advance"](1), 
            core["\u0275\u0275property"]("ngSwitchCase", 4), core["\u0275\u0275advance"](1), 
            core["\u0275\u0275property"]("ngSwitchCase", 5));
        }
        function GoalRowComponent_ng_container_5_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0, 10), core["\u0275\u0275template"](1, GoalRowComponent_ng_container_5_ng_container_1_Template, 10, 9, "ng-container", 11), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var columnSetting_r12 = ctx.$implicit;
                core["\u0275\u0275property"]("ngSwitch", columnSetting_r12.columnId), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275property"]("ngIf", columnSetting_r12.show);
            }
        }
        var goal_row_component_c2 = function() {
            return [];
        }, GoalRowComponent = function() {
            function GoalRowComponent(elementRef, scorecardService, featureSwitches, localizationService, scorecardConfigurationService, capabilityService, hierarchyService, goalRowService) {
                this.elementRef = elementRef, this.scorecardService = scorecardService, this.featureSwitches = featureSwitches, 
                this.localizationService = localizationService, this.scorecardConfigurationService = scorecardConfigurationService, 
                this.capabilityService = capabilityService, this.hierarchyService = hierarchyService, 
                this.goalRowService = goalRowService, this.showChildren = !0, this.highlightRow = !1, 
                this.showChildrenChange = new core.EventEmitter, this.tabIndex = 0, this.MAX_COLSPAN = constants.gT.MaxSubGoals + 1, 
                this.ListViewCellMinWidths = constants.gT.ListViewCellMinWidths, this.currentValue = null, 
                this.displayedGoal = null, this.indentation = 0, this.canSelectGoal = !0, debug.fF.assertValue(this.hierarchyService, "No hierarchy service");
            }
            return Object.defineProperty(GoalRowComponent.prototype, "goal", {
                set: function(goal) {
                    var _a, _b, _c, _d, _e;
                    if (this.displayedGoal = goal, this.capabilities = this.capabilityService.getCurrentGoalCapabilities(goal), 
                    this.sparklineValues = sparkline_helper.b.buildSparklineValues(goal, this.featureSwitches.featureSwitches.goalsSparklineChangeAggregations).map(function(x) {
                        return {
                            value: x.value,
                            timestamp: x.timestamp
                        };
                    }), this.sparklineOptions = sparkline_helper.b.getSparklineOptions(goal, this.scorecardService.getGoalStatuses(goal), this.scorecardConfigurationService.getConfiguration()), 
                    this.currentValue = goal_helper.r.buildCurrentGoalValue(goal), this.valueChange = goal_helper.r.calculateValueChange(goal, this.featureSwitches.featureSwitches.goalsSparklineChangeAggregations), 
                    this.hasValueOrTarget = !_.isNil(this.currentValue.value) || !_.isNil(this.currentValue.finalTarget) || !_.isNil(this.currentValue.nextTarget), 
                    this.displayedGoal.completionDate) {
                        var locale = this.localizationService.currentLanguageLocale;
                        this.completionDate = date_utils.E.treatAsLocalDate(new Date(this.displayedGoal.completionDate)).toLocaleDateString(locale, {
                            day: "numeric",
                            month: "short",
                            year: "numeric"
                        });
                    }
                    this.hasVisibleChildren = _.some(goal.subGoals, function(subGoal) {
                        return !subGoal.isHidden;
                    }), this.canSelectGoal = null === (_b = null === (_a = this.capabilities.selectGoal) || void 0 === _a ? void 0 : _a.enabled) || void 0 === _b || _b, 
                    this.selectGoalDisabledTooltip = null === (_c = this.capabilities.selectGoal) || void 0 === _c ? void 0 : _c.disabledMessageKey, 
                    this.showDisabledGoalSelected = null === (_e = null === (_d = this.capabilities.selectGoal) || void 0 === _d ? void 0 : _d.disabledReasons) || void 0 === _e ? void 0 : _e.has("AlreadyLinked");
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GoalRowComponent.prototype, "indent", {
                set: function(indent) {
                    this.indentation = goal_helper.r.getSafeIndentation(indent);
                },
                enumerable: !1,
                configurable: !0
            }), GoalRowComponent.prototype.ngOnInit = function() {
                this.isEditMode$ = this.scorecardService.isEditMode(), this.bulkDeleteEnabled = this.featureSwitches.featureSwitches.goalsBulkDelete;
            }, GoalRowComponent.prototype.ngOnChanges = function(changes) {
                var _a, _b, _c, _d;
                if (changes.scorecard) {
                    var scorecardConfig = this.scorecardConfigurationService.getConfiguration();
                    (null === (_a = null == scorecardConfig ? void 0 : scorecardConfig.scorecardDisplayOptions) || void 0 === _a ? void 0 : _a.isMobileLayout) || this.scorecard.activeGoalId === this.displayedGoal.id && this.focus(), 
                    this.isChangeVisible = scorecard_column_settings_helper._.isColumnVisible(this.scorecard.columnSettings, 10);
                }
                changes.goal && (this.formatString = changes.goal.currentValue.valuesFormatString, 
                this.isCyclePeriodLabelLocalizable = goal_helper.r.isCyclePeriodLabelLocalizable(null === (_b = this.valueChange) || void 0 === _b ? void 0 : _b.period)), 
                (changes.scorecard || changes.goal) && (this.goalStatuses = this.scorecardService.getGoalStatuses(this.displayedGoal), 
                this.categories = this.scorecardService.getGoalValueCategories(this.displayedGoal), 
                this.isChecked = this.canSelectGoal ? null === (_d = null === (_c = this.scorecard) || void 0 === _c ? void 0 : _c.selectedGoalIds) || void 0 === _d ? void 0 : _d[this.displayedGoal.id] : this.showDisabledGoalSelected);
            }, GoalRowComponent.prototype.ngAfterViewInit = function() {
                var _a;
                this.lineChartChangeObserver = scorecard_helper.q.observeAndRemoveFocusableAttributes(null === (_a = this.chart) || void 0 === _a ? void 0 : _a.nativeElement);
            }, GoalRowComponent.prototype.ngOnDestroy = function() {
                var _a;
                null === (_a = this.lineChartChangeObserver) || void 0 === _a || _a.disconnect();
            }, GoalRowComponent.prototype.onShowChildrenChange = function() {
                this.showChildrenChange && this.showChildrenChange.emit(!this.showChildren);
            }, GoalRowComponent.prototype.onGoalRowClick = function($event) {
                this.goalRowService.onRowClick(this.displayedGoal, $event);
            }, GoalRowComponent.prototype.onSelectGoalCheckbox = function() {
                this.goalRowService.onCheckboxClick(this.displayedGoal);
            }, GoalRowComponent.prototype.focus = function() {
                var _a;
                null === (_a = this.elementRef) || void 0 === _a || _a.nativeElement.focus();
            }, GoalRowComponent.\u0275fac = function(t) {
                return new (t || GoalRowComponent)(core["\u0275\u0275directiveInject"](core.ElementRef), core["\u0275\u0275directiveInject"](scorecard_service.G), core["\u0275\u0275directiveInject"](feature_switch_service.vZ), core["\u0275\u0275directiveInject"](localization_service.o), core["\u0275\u0275directiveInject"](scorecard_configuration_service.V), core["\u0275\u0275directiveInject"](scorecard_capability_service.Nw), core["\u0275\u0275directiveInject"](goals_hierarchy_service.G), core["\u0275\u0275directiveInject"](GoalRowService));
            }, GoalRowComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: GoalRowComponent,
                selectors: [ [ "", "goal-row", "" ] ],
                viewQuery: function(rf, ctx) {
                    var _t;
                    1 & rf && core["\u0275\u0275viewQuery"](goal_row_component_c0, 5), 2 & rf && core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.chart = _t.first);
                },
                hostVars: 1,
                hostBindings: function(rf, ctx) {
                    2 & rf && core["\u0275\u0275attribute"]("tabindex", ctx.tabIndex);
                },
                inputs: {
                    color: "color",
                    showChildren: "showChildren",
                    scorecard: "scorecard",
                    columnSettings: "columnSettings",
                    highlightRow: "highlightRow",
                    scorecardSelectionMode: "scorecardSelectionMode",
                    goal: "goal",
                    indent: "indent",
                    forceColumnMinWidths: "forceColumnMinWidths"
                },
                outputs: {
                    showChildrenChange: "showChildrenChange"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                attrs: goal_row_component_c1,
                decls: 6,
                vars: 10,
                consts: [ [ 1, "checkmark-td" ], [ "class", "select-checkmark", 3, "box-checked", 4, "ngIf" ], [ "class", "select-checkmark", 4, "ngIf" ], [ "class", "cell cell-indent", 4, "ngFor", "ngForOf" ], [ 3, "ngSwitch", 4, "ngFor", "ngForOf" ], [ 1, "select-checkmark" ], [ 3, "checked", "onChange" ], [ "name", "selectGoalInVisual", 1, "select-goal-in-visual-radio", 3, "disabled", "pbiTooltip", "pbiTooltipDisabled", "isCompact", "checked", "change" ], [ 3, "disabled", "pbiTooltip", "pbiTooltipDisabled", "checked", "onChange" ], [ 1, "cell", "cell-indent" ], [ 3, "ngSwitch" ], [ 4, "ngIf" ], [ "class", "cell cell-left-edge", 3, "selected-goal", "--borderColor", "max-width", "min-width", 4, "ngSwitchCase" ], [ "class", "cell cell-owner", 3, "max-width", "min-width", "selected-goal", "cell-right-edge", "--borderColor", "click", 4, "ngSwitchCase" ], [ "class", "cell cell-progress-icon", 3, "max-width", "min-width", "selected-goal", "cell-right-edge", "--borderColor", "click", 4, "ngSwitchCase" ], [ "class", "cell cell-value-combined", 3, "max-width", "min-width", "selected-goal", "cell-right-edge", "--borderColor", "click", 4, "ngSwitchCase" ], [ "class", "cell cell-value", 3, "max-width", "min-width", "selected-goal", "cell-right-edge", "--borderColor", "click", 4, "ngSwitchCase" ], [ "class", "cell cell-target", 3, "max-width", "min-width", "selected-goal", "cell-right-edge", "--borderColor", "click", 4, "ngSwitchCase" ], [ "class", "cell cell-milestone", 3, "max-width", "min-width", "selected-goal", "cell-right-edge", "--borderColor", "click", 4, "ngSwitchCase" ], [ "class", "cell cell-sparkline", 3, "max-width", "min-width", "selected-goal", "cell-right-edge", "--borderColor", "click", 4, "ngSwitchCase" ], [ "class", "cell cell-due-date", 3, "max-width", "min-width", "selected-goal", "cell-right-edge", "--borderColor", "click", 4, "ngSwitchCase" ], [ 1, "cell", "cell-left-edge" ], [ 1, "cell-box" ], [ 1, "color-box", 3, "click" ], [ 4, "ngIf", "ngIfElse" ], [ "noChildren", "" ], [ 1, "displayed-name-and-action-wrapper" ], [ 3, "goal", "scorecard" ], [ 3, "goal", "isEditMode" ], [ 1, "collapse-box", "powervisuals-glyph", "chevron-down", 3, "pbiTooltip", "click" ], [ 1, "collapse-box", 3, "click" ], [ 1, "cell", "cell-owner", 3, "click" ], [ 3, "goal" ], [ 1, "cell", "cell-progress-icon", 3, "click" ], [ 3, "status", "goalStatuses" ], [ 1, "cell", "cell-value-combined", 3, "click" ], [ 3, "goal", "showCurrent", "showTarget", "showMilestone" ], [ 3, "goal", 4, "ngIf" ], [ 1, "cell", "cell-value", 3, "click" ], [ 3, "goal", "showCurrent" ], [ 1, "cell", "cell-target", 3, "click" ], [ 3, "goal", "showTarget" ], [ 1, "cell", "cell-milestone", 3, "click" ], [ 3, "goal", "showMilestone" ], [ 1, "cell", "cell-sparkline", 3, "click" ], [ "chart", "" ], [ 3, "goal", "sparklineValues" ], [ 1, "cell", "cell-due-date", 3, "click" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "td", 0), core["\u0275\u0275template"](1, GoalRowComponent_div_1_Template, 2, 3, "div", 1), 
                    core["\u0275\u0275template"](2, GoalRowComponent_div_2_Template, 3, 7, "div", 2), 
                    core["\u0275\u0275template"](3, GoalRowComponent_div_3_Template, 3, 6, "div", 2), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](4, GoalRowComponent_td_4_Template, 1, 0, "td", 3), 
                    core["\u0275\u0275template"](5, GoalRowComponent_ng_container_5_Template, 2, 2, "ng-container", 4)), 
                    2 & rf && (core["\u0275\u0275classProp"]("show-checkmark", !!ctx.scorecardSelectionMode)("show-on-hover-only", "ctrl" === ctx.scorecardSelectionMode), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", "ctrl" === ctx.scorecardSelectionMode), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", "single" === ctx.scorecardSelectionMode), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", "multiple" === ctx.scorecardSelectionMode), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngForOf", core["\u0275\u0275pureFunction0"](9, goal_row_component_c2).constructor(ctx.indentation)), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngForOf", ctx.columnSettings));
                },
                dependencies: [ common.NgForOf, common.NgIf, common.NgSwitch, common.NgSwitchCase, pbi_checkbox_component.v, pbi_radio_button_component.o, pbi_tooltip_directive.V, goal_change_cell_component.k, status_icon_component.m, GoalActionsCellComponent, GoalDueDateCellComponent, GoalNameCellComponent, GoalOwnersCellComponent, goal_sparkline_cell_component.t, goal_value_cell_component.m, common.AsyncPipe, localize_pipe.F ],
                styles: [ ".cell[_ngcontent-%COMP%]{border:none;box-sizing:border-box}.cell-indent[_ngcontent-%COMP%]{width:36px}.cell-left-edge[_ngcontent-%COMP%]{border-top-left-radius:4px;border-bottom-left-radius:4px}.cell-right-edge[_ngcontent-%COMP%]{border-top-right-radius:4px;border-bottom-right-radius:4px}.cell-box[_ngcontent-%COMP%]{display:flex;height:100%}.cell-box[_ngcontent-%COMP%]   .color-box[_ngcontent-%COMP%]{min-width:6px;width:6px;border-top-left-radius:4px;border-bottom-left-radius:4px}.dialog-config[_ngcontent-%COMP%]     .simpleConfirmationDialog.updateConfirmationDialogPanel{width:580px}.dialog-config[_ngcontent-%COMP%]     .simpleConfirmationDialog.updateConfirmationDialogPanel .mat-mdc-dialog-actions button{border-width:1px;height:32px;padding:0;width:80px;margin-left:8px}.dialog-config[_ngcontent-%COMP%]     .simpleConfirmationDialog.updateConfirmationDialogPanel .mat-mdc-dialog-content{padding-left:8px}[_nghost-%COMP%]   td[_ngcontent-%COMP%]{height:60px}[_nghost-%COMP%]   .checkmark-td[_ngcontent-%COMP%]{width:35px;max-width:35px}[_nghost-%COMP%]   .checkmark-td[_ngcontent-%COMP%]:not(.show-checkmark){width:0px;max-width:0px}[_nghost-%COMP%]   .checkmark-td[_ngcontent-%COMP%]:not(.show-checkmark)   .select-checkmark[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .show-on-hover-only[_ngcontent-%COMP%]   .select-checkmark[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]:hover   .show-on-hover-only[_ngcontent-%COMP%]   .select-checkmark[_ngcontent-%COMP%], [_nghost-%COMP%]   .show-on-hover-only[_ngcontent-%COMP%]   .select-checkmark.box-checked[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .select-checkmark[_ngcontent-%COMP%]{margin-right:15px}[_nghost-%COMP%]   .select-checkmark[_ngcontent-%COMP%]     pbi-checkbox{margin-bottom:0}[_nghost-%COMP%]   .cell[_ngcontent-%COMP%]{background:var(--scorecard-tableRowBackgroundColor);padding-right:10px;border-top:1px solid var(--fluent-theme-neutral-light-color, #EDEBE9);border-bottom:1px solid var(--fluent-theme-neutral-light-color, #EDEBE9)}[_nghost-%COMP%]   .cell[_ngcontent-%COMP%]   .rotate90[_ngcontent-%COMP%]{transform:rotate(-90deg)}[_nghost-%COMP%]   .cell-box[_ngcontent-%COMP%]{font-size:var(--lg-font-size, 16px);font-weight:var(--font-weight-regular, 400)}[_nghost-%COMP%]   .cell-box[_ngcontent-%COMP%]   .collapse-box[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:48px;min-width:48px;background-color:transparent;border:none}[_nghost-%COMP%]   .cell-box[_ngcontent-%COMP%]   .pointer[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .cell-box[_ngcontent-%COMP%]   .displayed-name-and-action-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}[_nghost-%COMP%]   .cell-box[_ngcontent-%COMP%]   .displayed-name-and-action-wrapper[_ngcontent-%COMP%]   goal-name-cell[_ngcontent-%COMP%]{flex-grow:1;max-height:3.6em;line-height:1.8em}[_nghost-%COMP%]   .cell-box[_ngcontent-%COMP%]   .displayed-name-and-action-wrapper[_ngcontent-%COMP%]   goal-actions-cell[_ngcontent-%COMP%]{margin-right:10px}[_nghost-%COMP%]   .cell-owner[_ngcontent-%COMP%]{width:250px;max-width:300px}[_nghost-%COMP%]   .cell-progress-icon[_ngcontent-%COMP%]{width:220px;max-width:250px;text-align:center;padding-right:20px}[_nghost-%COMP%]   .cell-sparkline[_ngcontent-%COMP%]{width:150px;overflow:hidden}[_nghost-%COMP%]   .cell-due-date[_ngcontent-%COMP%]{width:150px}[_nghost-%COMP%]   .cell-context-menu[_ngcontent-%COMP%]{width:51px;text-align:center}[_nghost-%COMP%]   .cell-context-menu[_ngcontent-%COMP%]   .context-menu-icon[_ngcontent-%COMP%]{color:var(--gray-140, #484644);font-size:16px;cursor:pointer}[_nghost-%COMP%]   .cell-value-combined[_ngcontent-%COMP%]{width:220px}[_nghost-%COMP%]   .cell-value[_ngcontent-%COMP%]{width:92px}[_nghost-%COMP%]   .cell-milestone[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-target[_ngcontent-%COMP%]{width:72px}[_nghost-%COMP%]   .cell-value-combined[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-value[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-milestone[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-target[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]   .cell-value-combined[_ngcontent-%COMP%]   .mat-icon.glyph-small[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-value[_ngcontent-%COMP%]   .mat-icon.glyph-small[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-milestone[_ngcontent-%COMP%]   .mat-icon.glyph-small[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-target[_ngcontent-%COMP%]   .mat-icon.glyph-small[_ngcontent-%COMP%]{font-size:var(--lg-font-size, 16px);width:var(--lg-font-size, 16px);height:var(--lg-font-size, 16px)}[_nghost-%COMP%]   .cell-value-combined[_ngcontent-%COMP%]   .mat-icon.glyph-mini[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-value[_ngcontent-%COMP%]   .mat-icon.glyph-mini[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-milestone[_ngcontent-%COMP%]   .mat-icon.glyph-mini[_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-target[_ngcontent-%COMP%]   .mat-icon.glyph-mini[_ngcontent-%COMP%]{font-size:var(--sm-font-size, 12px);width:var(--sm-font-size, 12px);height:var(--sm-font-size, 12px)}[_nghost-%COMP%]   .cell-value-combined[_ngcontent-%COMP%]   .mat-icon.mat-ligature-font[fontIcon][_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-value[_ngcontent-%COMP%]   .mat-icon.mat-ligature-font[fontIcon][_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-milestone[_ngcontent-%COMP%]   .mat-icon.mat-ligature-font[fontIcon][_ngcontent-%COMP%], [_nghost-%COMP%]   .cell-target[_ngcontent-%COMP%]   .mat-icon.mat-ligature-font[fontIcon][_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]   goal-actions-cell[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]:hover   goal-actions-cell[_ngcontent-%COMP%], [_nghost-%COMP%]:focus-within   goal-actions-cell[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .selected-goal.cell[_ngcontent-%COMP%]{border-top:2px solid var(--borderColor);border-bottom:2px solid var(--borderColor)}[_nghost-%COMP%]   .selected-goal.cell-right-edge[_ngcontent-%COMP%]{border-right:2px solid var(--borderColor)}[_nghost-%COMP%]   .cell-right-edge[_ngcontent-%COMP%]{width:2px;border-right:1px solid var(--fluent-theme-neutral-light-color, #EDEBE9)}  .simpleConfirmationDialog.updateConfirmationDialogPanel{width:580px}  .simpleConfirmationDialog.updateConfirmationDialogPanel .mat-mdc-dialog-actions button{border-width:1px;height:32px;padding:0;width:80px;margin-left:8px}  .simpleConfirmationDialog.updateConfirmationDialogPanel .mat-mdc-dialog-content{padding-left:8px}" ],
                changeDetection: 0
            }), GoalRowComponent;
        }(), goal_group_component_c0 = [ "goal-group", "" ];
        function GoalGroupComponent_ng_container_0_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275elementContainer"](0);
        }
        function GoalGroupComponent_ng_template_1_ng_container_0_tr_3_td_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "td", 9), core["\u0275\u0275element"](1, "div"), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var pos_r12 = ctx.index, ctx_r10 = core["\u0275\u0275nextContext"](4);
                core["\u0275\u0275classProp"]("goal-drag-placeholder-line", ctx_r10.goalDragInfo && pos_r12 >= ctx_r10.goalDragInfo.destGoalDropLevel);
            }
        }
        var goal_group_component_c1 = function() {
            return [];
        };
        function GoalGroupComponent_ng_template_1_ng_container_0_tr_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "tr"), core["\u0275\u0275element"](1, "td", 6), 
            core["\u0275\u0275template"](2, GoalGroupComponent_ng_template_1_ng_container_0_tr_3_td_2_Template, 2, 2, "td", 7), 
            core["\u0275\u0275elementStart"](3, "td", 8), core["\u0275\u0275element"](4, "div"), 
            core["\u0275\u0275elementEnd"]()()), 2 & rf) {
                var ctx_r8 = core["\u0275\u0275nextContext"](3);
                core["\u0275\u0275advance"](1), core["\u0275\u0275classProp"]("bulk-editing-off", !ctx_r8.bulkDeleteEnabled), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngForOf", core["\u0275\u0275pureFunction0"](4, goal_group_component_c1).constructor(ctx_r8.MaxSubGoals)), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275attribute"]("colspan", 50);
            }
        }
        function GoalGroupComponent_ng_template_1_ng_container_0_div_4_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div"), core["\u0275\u0275element"](1, "div", 10), 
            core["\u0275\u0275elementStart"](2, "div", 11), core["\u0275\u0275text"](3), core["\u0275\u0275elementEnd"]()()), 
            2 & rf) {
                var goal_r3 = core["\u0275\u0275nextContext"](2).goal, ctx_r9 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275styleProp"]("background-color", ctx_r9.color), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate"](goal_r3.name);
            }
        }
        var goal_group_component_c2 = function(a0, a1) {
            return {
                goal: a0,
                level: a1
            };
        };
        function GoalGroupComponent_ng_template_1_ng_container_0_Template(rf, ctx) {
            if (1 & rf) {
                var _r16 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "tr", 3), 
                core["\u0275\u0275listener"]("showChildrenChange", function($event) {
                    core["\u0275\u0275restoreView"](_r16);
                    var goal_r3 = core["\u0275\u0275nextContext"]().goal, ctx_r14 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r14.onShowChildrenChange(goal_r3.id, $event));
                })("cdkDragStarted", function($event) {
                    core["\u0275\u0275restoreView"](_r16);
                    var ctx_r17 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r17.onDragStart($event));
                })("cdkDragMoved", function($event) {
                    core["\u0275\u0275restoreView"](_r16);
                    var ctx_r18 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r18.onDragMove($event));
                }), core["\u0275\u0275elementContainerStart"](2), core["\u0275\u0275template"](3, GoalGroupComponent_ng_template_1_ng_container_0_tr_3_Template, 5, 5, "tr", 4), 
                core["\u0275\u0275template"](4, GoalGroupComponent_ng_template_1_ng_container_0_div_4_Template, 4, 3, "div", 5), 
                core["\u0275\u0275elementContainerEnd"](), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementContainerEnd"]();
            }
            if (2 & rf) {
                var ctx_r19 = core["\u0275\u0275nextContext"](), goal_r3 = ctx_r19.goal, i_r4 = ctx_r19.i, ctx_r5 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275classProp"]("disabled", "Saving" === goal_r3.state || "Deleting" === goal_r3.state)("goal-not-match", !1 === goal_r3.isFilterMatch), 
                core["\u0275\u0275property"]("scorecard", ctx_r5.scorecard)("columnSettings", ctx_r5.columnSettings)("goal", goal_r3)("indent", i_r4)("color", ctx_r5.color)("highlightRow", ctx_r5.goalDragInfo && goal_r3.id === ctx_r5.goalDragInfo.destParentGoalId)("scorecardSelectionMode", ctx_r5.scorecardSelectionMode)("showChildren", ctx_r5.showChildren[goal_r3.id])("forceColumnMinWidths", ctx_r5.forceColumnMinWidths)("cdkDragData", core["\u0275\u0275pureFunction2"](16, goal_group_component_c2, goal_r3, i_r4))("cdkDragDisabled", "Saving" === goal_r3.state || "Deleting" === goal_r3.state)("cdkDragStartDelay", ctx_r5.goalDragStartDelayInMs);
            }
        }
        function GoalGroupComponent_ng_template_1_ng_container_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r22 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275element"](1, "tr", 12, 13), 
                core["\u0275\u0275elementStart"](3, "tr", 14), core["\u0275\u0275listener"]("onSave", function() {
                    core["\u0275\u0275restoreView"](_r22);
                    var _r20 = core["\u0275\u0275reference"](2);
                    return core["\u0275\u0275resetView"](_r20.onSave());
                })("onCancel", function() {
                    core["\u0275\u0275restoreView"](_r22);
                    var _r20 = core["\u0275\u0275reference"](2);
                    return core["\u0275\u0275resetView"](_r20.onCancel());
                }), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementContainerEnd"]();
            }
            if (2 & rf) {
                var _r20 = core["\u0275\u0275reference"](2), ctx_r24 = core["\u0275\u0275nextContext"](), goal_r3 = ctx_r24.goal, i_r4 = ctx_r24.i, ctx_r6 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275classProp"]("goal-not-match", !1 === goal_r3.isFilterMatch), 
                core["\u0275\u0275property"]("goal", goal_r3)("indent", i_r4)("color", ctx_r6.color), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("id", goal_r3.id)("disableSave", !_r20.allValid());
            }
        }
        function GoalGroupComponent_ng_template_1_ng_container_2_ng_container_1_ng_container_1_ng_container_1_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275elementContainer"](0);
        }
        var goal_group_component_c3 = function(a0, a1) {
            return {
                goal: a0,
                i: a1
            };
        };
        function GoalGroupComponent_ng_template_1_ng_container_2_ng_container_1_ng_container_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, GoalGroupComponent_ng_template_1_ng_container_2_ng_container_1_ng_container_1_ng_container_1_Template, 1, 0, "ng-container", 0), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var g_r26 = core["\u0275\u0275nextContext"]().$implicit, i_r4 = core["\u0275\u0275nextContext"](2).i;
                core["\u0275\u0275nextContext"]();
                var _r1 = core["\u0275\u0275reference"](2);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngTemplateOutlet", _r1)("ngTemplateOutletContext", core["\u0275\u0275pureFunction2"](2, goal_group_component_c3, g_r26, i_r4 + 1));
            }
        }
        function GoalGroupComponent_ng_template_1_ng_container_2_ng_container_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, GoalGroupComponent_ng_template_1_ng_container_2_ng_container_1_ng_container_1_Template, 2, 5, "ng-container", 2), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var g_r26 = ctx.$implicit;
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !g_r26.isHidden);
            }
        }
        function GoalGroupComponent_ng_template_1_ng_container_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, GoalGroupComponent_ng_template_1_ng_container_2_ng_container_1_Template, 2, 1, "ng-container", 15), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var goal_r3 = core["\u0275\u0275nextContext"]().goal, ctx_r7 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngForOf", goal_r3.subGoals)("ngForTrackBy", ctx_r7.goalId);
            }
        }
        function GoalGroupComponent_ng_template_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275template"](0, GoalGroupComponent_ng_template_1_ng_container_0_Template, 5, 19, "ng-container", 2), 
            core["\u0275\u0275template"](1, GoalGroupComponent_ng_template_1_ng_container_1_Template, 4, 7, "ng-container", 2), 
            core["\u0275\u0275template"](2, GoalGroupComponent_ng_template_1_ng_container_2_Template, 2, 2, "ng-container", 2)), 
            2 & rf) {
                var goal_r3 = ctx.goal, ctx_r2 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("ngIf", null == goal_r3.state || "Consumption" === goal_r3.state || "Saving" === goal_r3.state || "Deleting" === goal_r3.state), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", "Editing" === goal_r3.state), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", (null == goal_r3.subGoals ? null : goal_r3.subGoals.length) > 0 && ctx_r2.showChildren[goal_r3.id] && (null == ctx_r2.goalDragInfo ? null : ctx_r2.goalDragInfo.sourceGoalId) !== goal_r3.id);
            }
        }
        var goal_group_component_c4 = function(a0) {
            return {
                goal: a0,
                i: 0
            };
        }, dragConfigFactory = function(featureSwitches) {
            return {
                dragStartThreshold: featureSwitches.featureSwitches.goalsDelayDragAndDrop ? constants.gT.GoalDragStartThresholdInPx : constants.gT.DefaultDragThresholdInPx,
                pointerDirectionChangeThreshold: constants.gT.DefaultDragThresholdInPx
            };
        }, GoalGroupComponent = function() {
            function GoalGroupComponent(featureSwitches) {
                this.featureSwitches = featureSwitches, this.showChildren = {}, this.goalDragInfo = {}, 
                this.showChildrenChange = new core.EventEmitter, this.dragMoved = new core.EventEmitter, 
                this.dragStarted = new core.EventEmitter, this.MaxSubGoals = constants.gT.MaxSubGoals, 
                this.goalDragStartDelayInMs = 0;
            }
            return GoalGroupComponent.prototype.ngOnInit = function() {
                this.bulkDeleteEnabled = this.featureSwitches.featureSwitches.goalsBulkDelete, this.goalDragStartDelayInMs = this.featureSwitches.featureSwitches.goalsDelayDragAndDrop ? constants.gT.GoalDragStartDelayInMs : 0;
            }, GoalGroupComponent.prototype.goalId = function(i, goal) {
                return goal.id;
            }, GoalGroupComponent.prototype.onShowChildrenChange = function(id, value) {
                this.showChildrenChange.emit({
                    id,
                    value
                });
            }, GoalGroupComponent.prototype.onDragMove = function(event) {
                this.dragMoved.emit(event);
            }, GoalGroupComponent.prototype.onDragStart = function(event) {
                this.dragStarted.emit(event);
            }, GoalGroupComponent.\u0275fac = function(t) {
                return new (t || GoalGroupComponent)(core["\u0275\u0275directiveInject"](feature_switch_service.vZ));
            }, GoalGroupComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: GoalGroupComponent,
                selectors: [ [ "", "goal-group", "" ] ],
                inputs: {
                    scorecard: "scorecard",
                    columnSettings: "columnSettings",
                    goal: "goal",
                    color: "color",
                    showChildren: "showChildren",
                    goalDragInfo: "goalDragInfo",
                    scorecardSelectionMode: "scorecardSelectionMode",
                    forceColumnMinWidths: "forceColumnMinWidths"
                },
                outputs: {
                    showChildrenChange: "showChildrenChange",
                    dragMoved: "dragMoved",
                    dragStarted: "dragStarted"
                },
                features: [ core["\u0275\u0275ProvidersFeature"]([ {
                    provide: drag_drop.ni,
                    useFactory: dragConfigFactory,
                    deps: [ feature_switch_service.vZ ]
                } ]) ],
                attrs: goal_group_component_c0,
                decls: 3,
                vars: 4,
                consts: [ [ 4, "ngTemplateOutlet", "ngTemplateOutletContext" ], [ "goalWithChildrenTmpl", "" ], [ 4, "ngIf" ], [ "goal-row", "", "cdkDrag", "", 1, "goal-row", 3, "scorecard", "columnSettings", "goal", "indent", "color", "highlightRow", "scorecardSelectionMode", "showChildren", "forceColumnMinWidths", "cdkDragData", "cdkDragDisabled", "cdkDragStartDelay", "showChildrenChange", "cdkDragStarted", "cdkDragMoved" ], [ 4, "cdkDragPlaceholder" ], [ 4, "cdkDragPreview" ], [ "colspan", "1", 1, "goal-placeholder-checkbox" ], [ "class", "cell cell-indent", 3, "goal-drag-placeholder-line", 4, "ngFor", "ngForOf" ], [ 1, "goal-drag-placeholder-line" ], [ 1, "cell", "cell-indent" ], [ 1, "goal-drag-preview-accent" ], [ 1, "goal-drag-preview-content" ], [ "goal-edit-row", "", "data-testid", "goal-edit-row", 1, "goal-edit-row", 3, "goal", "indent", "color" ], [ "editRow", "" ], [ "goal-edit-buttons-row", "", 1, "button-row", 3, "id", "disableSave", "onSave", "onCancel" ], [ 4, "ngFor", "ngForOf", "ngForTrackBy" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275template"](0, GoalGroupComponent_ng_container_0_Template, 1, 0, "ng-container", 0), 
                    core["\u0275\u0275template"](1, GoalGroupComponent_ng_template_1_Template, 3, 3, "ng-template", null, 1, core["\u0275\u0275templateRefExtractor"])), 
                    2 & rf) {
                        var _r1 = core["\u0275\u0275reference"](2);
                        core["\u0275\u0275property"]("ngTemplateOutlet", _r1)("ngTemplateOutletContext", core["\u0275\u0275pureFunction1"](2, goal_group_component_c4, ctx.goal));
                    }
                },
                dependencies: [ common.NgForOf, common.NgIf, common.NgTemplateOutlet, drag_drop.Zt, drag_drop.pV, drag_drop.Hk, GoalRowComponent, GoalEditButtonsRowComponent, GoalEditRowComponent ],
                styles: [ ".cell[_ngcontent-%COMP%]{border:none;box-sizing:border-box}.cell-indent[_ngcontent-%COMP%]{width:36px}.cell-left-edge[_ngcontent-%COMP%]{border-top-left-radius:4px;border-bottom-left-radius:4px}.cell-right-edge[_ngcontent-%COMP%]{border-top-right-radius:4px;border-bottom-right-radius:4px}.cell-box[_ngcontent-%COMP%]{display:flex;height:100%}.cell-box[_ngcontent-%COMP%]   .color-box[_ngcontent-%COMP%]{min-width:6px;width:6px;border-top-left-radius:4px;border-bottom-left-radius:4px}[_nghost-%COMP%]   .goal-edit-row[_ngcontent-%COMP%]{box-sizing:border-box;border:none;height:96px}[_nghost-%COMP%]   .goal-not-match[_ngcontent-%COMP%]{opacity:50%}[_nghost-%COMP%]   .button-row[_ngcontent-%COMP%]{height:32px;box-sizing:border-box;border:none}[_nghost-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:.4}.row[_ngcontent-%COMP%]{box-sizing:border-box;border:none}.goal-row[_ngcontent-%COMP%]{box-sizing:border-box;border:none;height:60px}.cdk-drag-placeholder[_ngcontent-%COMP%]{height:2px}.goal-drag-placeholder-line[_ngcontent-%COMP%]{background-color:var(--fluent-theme-black-color, #000)}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border:none;height:60px;display:flex;width:25%;opacity:.7;background-color:var(--scorecard-tableBackgroundColor);font-family:var(--scorecard-fontFamily)}.goal-drag-preview-accent[_ngcontent-%COMP%]{width:6px;border-radius:4px;margin-right:12px}.goal-drag-preview-content[_ngcontent-%COMP%]{display:inline-flex;align-items:center;min-width:fit-content;overflow:hidden;text-overflow:ellipsis}.goal-placeholder-checkbox[_ngcontent-%COMP%]{width:35px}.goal-placeholder-checkbox.bulk-editing-off[_ngcontent-%COMP%]{width:0px}" ],
                changeDetection: 0
            }), GoalGroupComponent;
        }(), goal_history_chart_component = __webpack_require__(42989), Common = __webpack_require__(35911), scoped_services = __webpack_require__(42680), promiseFactory = __webpack_require__(14463), visualHostService = __webpack_require__(47245), localize_core = __webpack_require__(61036), plugins = __webpack_require__(47508), Prototype = __webpack_require__(39681), dataViewScopeIdentity = __webpack_require__(78843), dataViewTransformUtils = __webpack_require__(61289), sqExpr = __webpack_require__(94419), valueType = __webpack_require__(80777), geocoder_service = __webpack_require__(28505), module_loader_service = __webpack_require__(2330), visual_plugin_service = __webpack_require__(29866), visual_host_tooltip_service_factory_service = __webpack_require__(98136), visual_modern_component = __webpack_require__(232);
        function GoalKpiComponent_visual_modern_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r2 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "visual-modern", 2), core["\u0275\u0275listener"]("on-resize", function($event) {
                    core["\u0275\u0275restoreView"](_r2);
                    var ctx_r1 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r1.onResize($event));
                }), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("viewModel", ctx_r0.visualDefinition)("useOnPushChangeDetection", !0);
            }
        }
        var GoalKpiComponent = function() {
            function GoalKpiComponent(geocoder, geolocation, localizationService, moduleLoader, promiseFactory, visualPlugin, visualHostTooltipServiceFactory, changeDetector) {
                this.geocoder = geocoder, this.geolocation = geolocation, this.localizationService = localizationService, 
                this.moduleLoader = moduleLoader, this.promiseFactory = promiseFactory, this.visualPlugin = visualPlugin, 
                this.visualHostTooltipServiceFactory = visualHostTooltipServiceFactory, this.changeDetector = changeDetector, 
                this.initialVisualWidth = 360, this.initialVisualHeight = 172;
            }
            return GoalKpiComponent.prototype.ngOnInit = function() {
                var _this = this;
                this.visualPlugin.ensureBuiltInPlugins().then(function() {
                    _this.initializeVisual(), _this.isLoaded = !0, _this.changeDetector.detectChanges();
                });
            }, GoalKpiComponent.prototype.ngOnChanges = function(changes) {
                changes.values && (this.generateDataView(), this.update());
            }, GoalKpiComponent.prototype.initializeVisual = function() {
                var _this = this, hostServices = (0, Prototype.ED)((0, visualHostService.q)({
                    geocoder: this.geocoder,
                    geolocation: this.geolocation,
                    localizationService: this.localizationService,
                    moduleLoader: this.moduleLoader,
                    promiseFactory: this.promiseFactory,
                    visualHostTooltipService: this.visualHostTooltipServiceFactory.create(),
                    getAzureMapToken: void 0,
                    azureMapsEndpoint: void 0,
                    geocoderIndexedDB: void 0
                }), function(h) {
                    h.getLocalizedString = function(id) {
                        for (var _a, args = [], _i = 1; _i < arguments.length; _i++) args[_i - 1] = arguments[_i];
                        return (_a = _this.localizationService).format.apply(_a, (0, tslib_es6.__spreadArray)([ id ], args || [], !1));
                    }, h.getViewMode = function() {
                        return 0;
                    }, h.locale = function() {
                        return (0, localize_core.uD)();
                    }, h.promiseFactory = function() {
                        return _this.promiseFactory;
                    };
                });
                this.visualDefinition = {
                    interactivityOptions: {},
                    type: plugins.L.kpi.name,
                    allowInvalidDataView: !0,
                    themeCollection: void 0,
                    viewport: {
                        height: this.initialVisualHeight,
                        width: this.initialVisualWidth,
                        scale: 1
                    },
                    dataTransforms: void 0,
                    hostServices,
                    visualAdapterHostServices: {
                        startProgressBar: _.noop,
                        stopProgressBar: _.noop,
                        getNextDataSegment: function() {
                            return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                                return (0, tslib_es6.__generator)(this, function(_a) {
                                    return [ 2, {} ];
                                });
                            });
                        }
                    },
                    stylePresetName: void 0,
                    additionalObjectUpdates: _.noop,
                    visualPlugin: this.visualPlugin
                }, this.generateDataView(), this.update();
            }, GoalKpiComponent.prototype.update = function() {
                this.visualDefinition && (this.visualDefinition.data = {
                    dataView: this.dataView
                });
            }, GoalKpiComponent.prototype.onResize = function(viewport) {
                this.visualDefinition && (this.visualDefinition.viewport = {
                    width: viewport.width,
                    height: viewport.height,
                    scale: 1
                });
            }, GoalKpiComponent.prototype.generateDataView = function() {
                var _a, _b, formatObjects = ((_a = {})[dataQueryVisual_capabilities.iu.objectName] = ((_b = {})[dataQueryVisual_capabilities.iu.propertyName] = this.formatString, 
                _b), _a), columns = [ {
                    displayName: this.localizationService.get("Date"),
                    type: valueType.Ge.fromPrimitiveTypeAndCategory(6),
                    roles: {
                        TrendLine: !0
                    }
                }, {
                    displayName: this.localizationService.get("Value"),
                    type: valueType.Ge.fromPrimitiveTypeAndCategory(3),
                    roles: {
                        Indicator: !0
                    },
                    index: 0,
                    objects: formatObjects
                }, {
                    displayName: this.localizationService.get("MetricsName_New_Singular"),
                    type: valueType.Ge.fromPrimitiveTypeAndCategory(3),
                    roles: {
                        Goal: !0
                    },
                    index: 0,
                    objects: formatObjects
                } ], dateExpr = (0, sqExpr.Oh)((0, sqExpr.fL)("Date"), "Date"), values = _.sortBy(this.values, function(value) {
                    return new Date(value.timestamp);
                }), lastValueWithTarget = _.findLast(values, function(value) {
                    return _.isFinite(value.target);
                });
                values = _.filter(values, function(value) {
                    return _.isFinite(value.value);
                }), lastValueWithTarget && (_.some(values) ? _.last(values).target = lastValueWithTarget.target : values = [ lastValueWithTarget ]), 
                this.dataView = {
                    metadata: {
                        columns,
                        objects: {
                            indicator: {
                                showIcon: !1
                            }
                        }
                    },
                    categorical: {
                        categories: [ {
                            source: columns[0],
                            values: _.map(values, function(point) {
                                return date_utils.E.treatAsLocalDate(new Date(point.timestamp));
                            }),
                            identity: _.map(values, function(point) {
                                return (0, dataViewScopeIdentity.TZ)((0, sqExpr.Dg)(dateExpr, (0, sqExpr.fL)(point.timestamp)));
                            })
                        } ],
                        values: (0, dataViewTransformUtils.Yv)([ {
                            source: columns[1],
                            values: _.map(values, function(point) {
                                return point.value;
                            })
                        }, {
                            source: columns[2],
                            values: _.map(values, function(point) {
                                return point.target;
                            })
                        } ])
                    }
                };
            }, GoalKpiComponent.\u0275fac = function(t) {
                return new (t || GoalKpiComponent)(core["\u0275\u0275directiveInject"](geocoder_service.i), core["\u0275\u0275directiveInject"](Common._1), core["\u0275\u0275directiveInject"](localization_service.o), core["\u0275\u0275directiveInject"](module_loader_service.m), core["\u0275\u0275directiveInject"](promiseFactory.t), core["\u0275\u0275directiveInject"](visual_plugin_service.D), core["\u0275\u0275directiveInject"](visual_host_tooltip_service_factory_service.q), core["\u0275\u0275directiveInject"](core.ChangeDetectorRef));
            }, GoalKpiComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: GoalKpiComponent,
                selectors: [ [ "goal-kpi" ] ],
                inputs: {
                    values: "values",
                    formatString: "formatString"
                },
                features: [ core["\u0275\u0275ProvidersFeature"]((0, tslib_es6.__spreadArray)([], scoped_services.H, !0)), core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 2,
                vars: 1,
                consts: [ [ 1, "kpi-wrapper" ], [ "class", "kpi", 3, "viewModel", "useOnPushChangeDetection", "on-resize", 4, "ngIf" ], [ 1, "kpi", 3, "viewModel", "useOnPushChangeDetection", "on-resize" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "div", 0), core["\u0275\u0275template"](1, GoalKpiComponent_visual_modern_1_Template, 1, 2, "visual-modern", 1), 
                    core["\u0275\u0275elementEnd"]()), 2 & rf && (core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx.isLoaded));
                },
                dependencies: [ common.NgIf, visual_modern_component.y, on_resize_directive.O ],
                styles: [ "[_nghost-%COMP%]{min-height:150px;display:flex;height:100%;width:100%}.kpi-wrapper[_ngcontent-%COMP%]{flex:1;position:relative}.kpi-wrapper[_ngcontent-%COMP%]   .kpi[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}" ],
                changeDetection: 0
            }), GoalKpiComponent;
        }(), goal_row_preview_component = __webpack_require__(64646), goal_status_helper = __webpack_require__(57535), app_settings_service = __webpack_require__(76746), format_goal_value_pipe = __webpack_require__(90127), dateFormat = {
            day: "numeric",
            month: "numeric",
            year: "2-digit"
        }, FormatDatePipe = function() {
            function FormatDatePipe() {}
            return FormatDatePipe.prototype.transform = function(date, locale) {
                return new Date(date).toLocaleDateString(locale, dateFormat);
            }, FormatDatePipe.\u0275fac = function(t) {
                return new (t || FormatDatePipe);
            }, FormatDatePipe.\u0275pipe = core["\u0275\u0275definePipe"]({
                name: "formatDate",
                type: FormatDatePipe,
                pure: !0
            }), FormatDatePipe;
        }(), goal_tile_component_c0 = [ "chart" ];
        function GoalTileComponent_div_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 25), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("pbiTooltip", null == ctx_r0.goal ? null : ctx_r0.goal.scorecardName), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"](" ", null == ctx_r0.goal ? null : ctx_r0.goal.scorecardName, " ");
            }
        }
        function GoalTileComponent_ng_container_5_ng_container_1_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275elementContainer"](0);
        }
        function GoalTileComponent_ng_container_5_div_2_span_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "span", 31)(1, "span", 32), core["\u0275\u0275text"](2), 
            core["\u0275\u0275pipe"](3, "formatGoalValue"), core["\u0275\u0275elementEnd"]()()), 
            2 & rf) {
                var ctx_r16 = core["\u0275\u0275nextContext"](3);
                core["\u0275\u0275property"]("localize", ctx_r16.periodLocalizeString), core["\u0275\u0275advance"](2), 
                core["\u0275\u0275textInterpolate"](ctx_r16.valueChange.isPercentage ? ctx_r16.valueChange.changeAmount + "%" : core["\u0275\u0275pipeBind3"](3, 2, ctx_r16.valueChange.changeAmount, ctx_r16.categories, ctx_r16.goal.valuesFormatString));
            }
        }
        function GoalTileComponent_ng_container_5_div_2_ng_template_4_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "span", 31)(1, "span", 32), core["\u0275\u0275text"](2), 
            core["\u0275\u0275pipe"](3, "formatGoalValue"), core["\u0275\u0275elementEnd"](), 
            core["\u0275\u0275elementStart"](4, "span", 33), core["\u0275\u0275text"](5), core["\u0275\u0275elementEnd"]()()), 
            2 & rf) {
                var ctx_r18 = core["\u0275\u0275nextContext"](3);
                core["\u0275\u0275property"]("localize", ctx_r18.periodLocalizeString), core["\u0275\u0275advance"](2), 
                core["\u0275\u0275textInterpolate"](ctx_r18.valueChange.isPercentage ? ctx_r18.valueChange.changeAmount + "%" : core["\u0275\u0275pipeBind3"](3, 3, ctx_r18.valueChange.changeAmount, ctx_r18.categories, ctx_r18.goal.valuesFormatString)), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275textInterpolate"](ctx_r18.valueChange.period);
            }
        }
        function GoalTileComponent_ng_container_5_div_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 28)(1, "span"), core["\u0275\u0275text"](2), 
            core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](3, GoalTileComponent_ng_container_5_div_2_span_3_Template, 4, 6, "span", 29), 
            core["\u0275\u0275template"](4, GoalTileComponent_ng_container_5_div_2_ng_template_4_Template, 6, 7, "ng-template", null, 30, core["\u0275\u0275templateRefExtractor"]), 
            core["\u0275\u0275elementStart"](6, "span"), core["\u0275\u0275text"](7, ")"), core["\u0275\u0275elementEnd"]()()), 
            2 & rf) {
                var _r17 = core["\u0275\u0275reference"](5), ctx_r15 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"]("(", ctx_r15.valueChange.isIncrease ? "\u2191" : "\u2193", ""), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r15.periodLocalizeString && !ctx_r15.periodLocalizeString.endsWith("Custom"))("ngIfElse", _r17);
            }
        }
        function GoalTileComponent_ng_container_5_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, GoalTileComponent_ng_container_5_ng_container_1_Template, 1, 0, "ng-container", 26), 
            core["\u0275\u0275template"](2, GoalTileComponent_ng_container_5_div_2_Template, 8, 3, "div", 27), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var ctx_r1 = core["\u0275\u0275nextContext"](), _r10 = core["\u0275\u0275reference"](22);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngTemplateOutlet", _r10), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r1.settings.showGoalVisualGrowth && !(ctx_r1.supportCategoricalValues && null != ctx_r1.goal && ctx_r1.goal.valuesCategoryId) && ctx_r1.hasData && ctx_r1.valueChange);
            }
        }
        var goal_tile_component_c1 = function(a0) {
            return {
                userEmail: a0
            };
        };
        function GoalTileComponent_div_6_user_details_host_1_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "user-details-host", 37), 2 & rf) {
                var tmp_1_0, ctx_r19 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275property"]("details", core["\u0275\u0275pureFunction1"](4, goal_tile_component_c1, ctx_r19.owners[0]))("photoSize", null !== (tmp_1_0 = ctx_r19.settings.goalVisualOwnerPhotoSize) && void 0 !== tmp_1_0 ? tmp_1_0 : 20)("showUserInfo", ctx_r19.showOwnerName)("showTooltip", !0);
            }
        }
        function GoalTileComponent_div_6_ng_template_2_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "avatar-row", 38), 2 & rf) {
                var ctx_r21 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275property"]("emails", ctx_r21.owners)("numAvatarsToShow", ctx_r21.OwnersToShow);
            }
        }
        function GoalTileComponent_div_6_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 34), core["\u0275\u0275template"](1, GoalTileComponent_div_6_user_details_host_1_Template, 1, 6, "user-details-host", 35), 
            core["\u0275\u0275template"](2, GoalTileComponent_div_6_ng_template_2_Template, 1, 2, "ng-template", null, 36, core["\u0275\u0275templateRefExtractor"]), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var _r20 = core["\u0275\u0275reference"](3), ctx_r2 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", 1 === ctx_r2.owners.length)("ngIfElse", _r20);
            }
        }
        function GoalTileComponent_h1_7_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "h1", 39), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r3 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("pbiTooltip", null == ctx_r3.goal ? null : ctx_r3.goal.name), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"](" ", null == ctx_r3.goal ? null : ctx_r3.goal.name, " ");
            }
        }
        function GoalTileComponent_ng_container_8_section_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "section", 41)(1, "div", 42, 43), 
            core["\u0275\u0275element"](3, "goal-history-chart", 44), core["\u0275\u0275elementEnd"]()()), 
            2 & rf) {
                var tmp_2_0, ctx_r22 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("values", ctx_r22.goal.goalValues)("formatString", ctx_r22.goal.valuesFormatString)("color", null !== (tmp_2_0 = null == ctx_r22.settings.theme ? null : ctx_r22.settings.theme.goalVisualCurrentLineColor) && void 0 !== tmp_2_0 ? tmp_2_0 : ctx_r22.statusColor)("targetLineColor", null == ctx_r22.settings.theme ? null : ctx_r22.settings.theme.goalVisualTargetLineColor)("showGoalTargets", ctx_r22.supportMultipleTargets && ctx_r22.settings.showGoalVisualTargetLine)("legend", ctx_r22.supportMultipleTargets && ctx_r22.settings.showGoalVisualLegends ? "Visible" : "None")("showZoom", !1)("shadeCurrentArea", ctx_r22.shadeCurrentArea)("type", "ComboChart")("axesOptions", ctx_r22.axesOptions);
            }
        }
        function GoalTileComponent_ng_container_8_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, GoalTileComponent_ng_container_8_section_1_Template, 4, 10, "section", 40), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var tmp_0_0, ctx_r4 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", null === (tmp_0_0 = ctx_r4.settings.showVisualization) || void 0 === tmp_0_0 || tmp_0_0);
            }
        }
        function GoalTileComponent_status_icon_11_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "status-icon", 45), 2 & rf) {
                var ctx_r5 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("status", null == ctx_r5.currentValue ? null : ctx_r5.currentValue.status)("goalStatuses", ctx_r5.goal.goalStatuses);
            }
        }
        function GoalTileComponent_ng_container_13_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275element"](1, "label", 46), 
            core["\u0275\u0275elementStart"](2, "span"), core["\u0275\u0275text"](3), core["\u0275\u0275pipe"](4, "formatDate"), 
            core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var ctx_r6 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](3), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind2"](4, 1, ctx_r6.goal.completionDate, ctx_r6.locale), "");
            }
        }
        function GoalTileComponent_button_15_span_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "span", 50), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r24 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"](" ", ctx_r24.goal.notesCount, " ");
            }
        }
        function GoalTileComponent_button_15_Template(rf, ctx) {
            if (1 & rf) {
                var _r26 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 47), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r26);
                    var ctx_r25 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r25.openNotes());
                }), core["\u0275\u0275pipe"](1, "localize"), core["\u0275\u0275element"](2, "tri-svg-icon", 48), 
                core["\u0275\u0275template"](3, GoalTileComponent_button_15_span_3_Template, 2, 1, "span", 49), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r7 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind1"](1, 2, "Notes")), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", ctx_r7.goal.notesCount > 0);
            }
        }
        function GoalTileComponent_ng_template_19_ng_container_1_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275elementContainer"](0);
        }
        function GoalTileComponent_ng_template_19_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 51), core["\u0275\u0275template"](1, GoalTileComponent_ng_template_19_ng_container_1_Template, 1, 0, "ng-container", 26), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                core["\u0275\u0275nextContext"]();
                var _r10 = core["\u0275\u0275reference"](22);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngTemplateOutlet", _r10);
            }
        }
        function GoalTileComponent_ng_template_21_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 52)(1, "div", 53)(2, "div", 54), 
            core["\u0275\u0275pipe"](3, "formatValue"), core["\u0275\u0275text"](4), core["\u0275\u0275pipe"](5, "formatValue"), 
            core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](6, "div", 55), 
            core["\u0275\u0275pipe"](7, "formatValue"), core["\u0275\u0275text"](8), core["\u0275\u0275pipe"](9, "formatValue"), 
            core["\u0275\u0275elementEnd"]()()()), 2 & rf) {
                var ctx_r11 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind3"](3, 4, ctx_r11.currentValue.value, ctx_r11.goal.valuesFormatString, !1)), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind2"](5, 8, ctx_r11.currentValue.value, ctx_r11.goal.valuesFormatString), " "), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind3"](7, 11, ctx_r11.currentValue.target, ctx_r11.goal.valuesFormatString, !1)), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"](" /", core["\u0275\u0275pipeBind2"](9, 15, ctx_r11.currentValue.target, ctx_r11.goal.valuesFormatString), " ");
            }
        }
        function GoalTileComponent_ng_container_25_Template(rf, ctx) {
            if (1 & rf) {
                var _r29 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "button", 21), 
                core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r29);
                    var ctx_r28 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r28.onEdit());
                }), core["\u0275\u0275element"](2, "tri-svg-icon", 22)(3, "span", 56), core["\u0275\u0275elementEnd"](), 
                core["\u0275\u0275elementContainerEnd"]();
            }
            2 & rf && (core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("name", "edit_20_regular"));
        }
        var GoalTileComponent = function() {
            function GoalTileComponent(appSettings, featureSwitches, localizationService, cd, scorecardHost) {
                this.appSettings = appSettings, this.featureSwitches = featureSwitches, this.localizationService = localizationService, 
                this.cd = cd, this.scorecardHost = scorecardHost, this.currentValue = null, this.showGrowth = !1, 
                this.showOwnerName = !1, this.shadeCurrentArea = !0, this.owners = [], this.OwnersToShow = 4, 
                this.supportCategoricalValues = this.featureSwitches.featureSwitches.goalsCategoricalValues, 
                this.supportMultipleTargets = this.featureSwitches.featureSwitches.powerBIGoalsMultipleTargets;
            }
            return Object.defineProperty(GoalTileComponent.prototype, "scorecardRoutePath", {
                get: function() {
                    return "/groups/".concat(this.goal.groupId || "me", "/scorecards/").concat(this.goal.scorecardId).toLowerCase();
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GoalTileComponent.prototype, "inServiceUrl", {
                get: function() {
                    return "".concat(this.appSettings.baseUrl).concat(this.scorecardRoutePath, "?goal=").concat(this.goal.id);
                },
                enumerable: !1,
                configurable: !0
            }), GoalTileComponent.prototype.ngOnInit = function() {
                var _a, _b, _c, _this = this;
                debug.fF.assertValue(this.goal, "Missing goal"), this.setDisplayedVals(), this.locale = this.localizationService.currentLanguageLocale, 
                this.supportCategoricalValues && (null === (_a = this.goal) || void 0 === _a ? void 0 : _a.valuesCategoryId) && (this.categories = null !== (_c = null === (_b = _.find(this.goal.goalValueCategories, function(categoryList) {
                    return categoryList.id === _this.goal.valuesCategoryId;
                })) || void 0 === _b ? void 0 : _b.categories) && void 0 !== _c ? _c : []);
            }, GoalTileComponent.prototype.ngOnChanges = function(changes) {
                var _a, _b, _c, _d, _e, _f, _g, _h;
                if (changes.goal && (this.setDisplayedVals(), this.supportCategoricalValues && changes.goal.currentValue.valuesCategoryId && (this.categories = null !== (_c = null === (_b = _.find(this.goal.goalValueCategories, function(categoryList) {
                    return categoryList.id === changes.goal.currentValue.valuesCategoryId;
                })) || void 0 === _b ? void 0 : _b.categories) && void 0 !== _c ? _c : []), this.owners = this.goal.owner ? [ this.goal.owner ] : [], 
                this.goal.additionalOwners && (_a = this.owners).push.apply(_a, this.goal.additionalOwners.map(function(owner) {
                    return owner.userPrincipalName;
                }))), changes.settings) {
                    this.cd.markForCheck();
                    var currentSettings = changes.settings.currentValue;
                    this.isEditMode = !(null == currentSettings ? void 0 : currentSettings.disableEdit), 
                    this.axesOptions = {
                        xAxis: {
                            show: null === (_d = null == currentSettings ? void 0 : currentSettings.showGoalVisualXAxis) || void 0 === _d || _d,
                            fontProperties: null === (_e = null == currentSettings ? void 0 : currentSettings.theme) || void 0 === _e ? void 0 : _e.goalVisualXAxis
                        },
                        yAxis: {
                            show: null === (_f = null == currentSettings ? void 0 : currentSettings.showGoalVisualYAxis) || void 0 === _f || _f,
                            fontProperties: null === (_g = null == currentSettings ? void 0 : currentSettings.theme) || void 0 === _g ? void 0 : _g.goalVisualYAxis
                        }
                    }, this.shadeCurrentArea = null === (_h = null == currentSettings ? void 0 : currentSettings.currentAreaShaded) || void 0 === _h || _h;
                }
            }, GoalTileComponent.prototype.ngAfterViewInit = function() {
                var _a;
                this.lineChartChangeObserver = scorecard_helper.q.observeAndRemoveFocusableAttributes(null === (_a = this.chart) || void 0 === _a ? void 0 : _a.nativeElement);
            }, GoalTileComponent.prototype.ngOnDestroy = function() {
                var _a;
                null === (_a = this.lineChartChangeObserver) || void 0 === _a || _a.disconnect();
            }, GoalTileComponent.prototype.openNotes = function() {
                this.scorecardHost.openNotes(this.goal);
            }, GoalTileComponent.prototype.onEdit = function() {
                this.scorecardHost.editGoal();
            }, GoalTileComponent.prototype.onOpenInService = function() {
                this.scorecardHost.openLink(this.inServiceUrl);
            }, GoalTileComponent.prototype.setDisplayedVals = function() {
                var _a;
                this.currentValue = goal_helper.r.buildCurrentGoalValue(this.goal), this.valueChange = goal_helper.r.calculateValueChange(this.goal, this.featureSwitches.featureSwitches.goalsSparklineChangeAggregations), 
                this.periodLocalizeString = _.isNil(null === (_a = this.valueChange) || void 0 === _a ? void 0 : _a.period) ? void 0 : "PercentGrowth_" + this.getPeriodSuffix(this.valueChange.period);
                var status = goal_status_helper.p.getGoalStatus(this.currentValue.status, this.goal.goalStatuses);
                this.statusColor = goal_status_helper.p.getGoalSparklineColor(status.color), this.sparklineValues = sparkline_helper.b.buildSparklineValues(this.goal, this.featureSwitches.featureSwitches.goalsSparklineChangeAggregations), 
                this.hasData = _.some(this.sparklineValues);
            }, GoalTileComponent.prototype.getPeriodSuffix = function(period) {
                switch (period) {
                  case "Period_DoD":
                  case "Period_MoM":
                  case "Period_QoQ":
                  case "Period_WoW":
                  case "Period_YoY":
                    return period;

                  default:
                    return "Period_Custom";
                }
            }, GoalTileComponent.componentId = "GoalTileComponentId", GoalTileComponent.\u0275fac = function(t) {
                return new (t || GoalTileComponent)(core["\u0275\u0275directiveInject"](app_settings_service.de), core["\u0275\u0275directiveInject"](feature_switch_service.vZ), core["\u0275\u0275directiveInject"](localization_service.o), core["\u0275\u0275directiveInject"](core.ChangeDetectorRef), core["\u0275\u0275directiveInject"](scorecardHostService.M, 8));
            }, GoalTileComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: GoalTileComponent,
                selectors: [ [ "goal-tile" ] ],
                viewQuery: function(rf, ctx) {
                    var _t;
                    1 & rf && core["\u0275\u0275viewQuery"](goal_tile_component_c0, 5), 2 & rf && core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.chart = _t.first);
                },
                inputs: {
                    goal: "goal",
                    settings: "settings"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 32,
                vars: 17,
                consts: [ [ 1, "goal-tile" ], [ 1, "header-container" ], [ "class", "scorecard-name", 3, "pbiTooltip", 4, "ngIf" ], [ 1, "details" ], [ 1, "value-and-growth" ], [ 4, "ngIf" ], [ "class", "owners", 4, "ngIf" ], [ "class", "goal-name", 3, "pbiTooltip", 4, "ngIf" ], [ 4, "ngIf", "ngIfElse" ], [ 1, "footer-container" ], [ 1, "status-and-date" ], [ 3, "status", "goalStatuses", 4, "ngIf" ], [ 1, "target-date" ], [ 1, "notes-and-menu" ], [ "mat-icon-button", "", 3, "pbiTooltip", "click", 4, "ngIf" ], [ "mat-icon-button", "", 3, "matMenuTriggerFor" ], [ "fontIcon", "pbi-glyph-more", 1, "glyph-small" ], [ "noChart", "" ], [ "valueAndTarget", "" ], [ 1, "context-menu-dropdown", 3, "xPosition" ], [ "contextMenu", "matMenu" ], [ "mat-menu-item", "", 1, "goal-tile-context-menu-item", 3, "click" ], [ "tri-svg-icon-16", "", 3, "name" ], [ "localize", "OpenScorecard" ], [ "localize", "OpenNotes" ], [ 1, "scorecard-name", 3, "pbiTooltip" ], [ 4, "ngTemplateOutlet" ], [ "class", "growth", 4, "ngIf" ], [ 1, "growth" ], [ "class", "period", "localize-fragments", "", 3, "localize", 4, "ngIf", "ngIfElse" ], [ "customPeriod", "" ], [ "localize-fragments", "", 1, "period", 3, "localize" ], [ "fragment-index", "0" ], [ "fragment-index", "1" ], [ 1, "owners" ], [ 3, "details", "photoSize", "showUserInfo", "showTooltip", 4, "ngIf", "ngIfElse" ], [ "hasMultipleOwners", "" ], [ 3, "details", "photoSize", "showUserInfo", "showTooltip" ], [ 3, "emails", "numAvatarsToShow" ], [ 1, "goal-name", 3, "pbiTooltip" ], [ "class", "visual-container", 4, "ngIf" ], [ 1, "visual-container" ], [ 1, "visual" ], [ "chart", "" ], [ 3, "values", "formatString", "color", "targetLineColor", "showGoalTargets", "legend", "showZoom", "shadeCurrentArea", "type", "axesOptions" ], [ 3, "status", "goalStatuses" ], [ "localize", "Due" ], [ "mat-icon-button", "", 3, "pbiTooltip", "click" ], [ "tri-svg-icon-16", "", "name", "comment_16_regular", 1, "tri-svg" ], [ "class", "notes-count", 4, "ngIf" ], [ 1, "notes-count" ], [ 1, "no-chart" ], [ 1, "value-wrapper" ], [ 1, "value-target" ], [ 1, "value", 3, "pbiTooltip" ], [ 1, "target", 3, "pbiTooltip" ], [ "localize", "Edit_Metric" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275elementStart"](0, "section", 0)(1, "section", 1), 
                    core["\u0275\u0275template"](2, GoalTileComponent_div_2_Template, 2, 2, "div", 2), 
                    core["\u0275\u0275elementStart"](3, "div", 3)(4, "div", 4), core["\u0275\u0275template"](5, GoalTileComponent_ng_container_5_Template, 3, 2, "ng-container", 5), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](6, GoalTileComponent_div_6_Template, 4, 2, "div", 6), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](7, GoalTileComponent_h1_7_Template, 2, 2, "h1", 7), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](8, GoalTileComponent_ng_container_8_Template, 2, 1, "ng-container", 8), 
                    core["\u0275\u0275elementStart"](9, "section", 9)(10, "div", 10), core["\u0275\u0275template"](11, GoalTileComponent_status_icon_11_Template, 1, 2, "status-icon", 11), 
                    core["\u0275\u0275elementStart"](12, "div", 12), core["\u0275\u0275template"](13, GoalTileComponent_ng_container_13_Template, 5, 4, "ng-container", 5), 
                    core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275elementStart"](14, "div", 13), 
                    core["\u0275\u0275template"](15, GoalTileComponent_button_15_Template, 4, 4, "button", 14), 
                    core["\u0275\u0275elementStart"](16, "button", 15), core["\u0275\u0275pipe"](17, "localize"), 
                    core["\u0275\u0275element"](18, "mat-icon", 16), core["\u0275\u0275elementEnd"]()()(), 
                    core["\u0275\u0275template"](19, GoalTileComponent_ng_template_19_Template, 2, 1, "ng-template", null, 17, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](21, GoalTileComponent_ng_template_21_Template, 10, 18, "ng-template", null, 18, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](23, "mat-menu", 19, 20), 
                    core["\u0275\u0275template"](25, GoalTileComponent_ng_container_25_Template, 4, 1, "ng-container", 5), 
                    core["\u0275\u0275elementStart"](26, "button", 21), core["\u0275\u0275listener"]("click", function() {
                        return ctx.onOpenInService();
                    }), core["\u0275\u0275element"](27, "tri-svg-icon", 22)(28, "span", 23), core["\u0275\u0275elementEnd"](), 
                    core["\u0275\u0275elementStart"](29, "button", 21), core["\u0275\u0275listener"]("click", function() {
                        return ctx.openNotes();
                    }), core["\u0275\u0275element"](30, "tri-svg-icon", 22)(31, "span", 24), core["\u0275\u0275elementEnd"]()()), 
                    2 & rf) {
                        var _r8 = core["\u0275\u0275reference"](20), _r12 = core["\u0275\u0275reference"](24);
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx.settings.showGoalVisualScorecardName), 
                        core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", ctx.hasData), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx.settings.showGoalVisualOwner && ctx.owners.length > 0), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx.settings.showGoalVisualGoalName), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx.hasData)("ngIfElse", _r8), 
                        core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", ctx.settings.showGoalVisualStatus), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx.settings.showGoalVisualDueDate && (null == ctx.goal ? null : ctx.goal.completionDate)), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx.settings.showGoalVisualNotes), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("matMenuTriggerFor", _r12), 
                        core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](17, 15, "HotkeyDialog_Open_Context_Menu")), 
                        core["\u0275\u0275advance"](7), core["\u0275\u0275property"]("xPosition", "after"), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx.isEditMode), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("name", "open_20_regular"), 
                        core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("name", "note_20_regular");
                    }
                },
                dependencies: [ common.NgIf, common.NgTemplateOutlet, localize_directive.X, icon.Hw, legacy_menu.W0, legacy_menu.tN, legacy_menu.D8, pbi_tooltip_directive.V, tri_svg_icon_component.M, user_details_host_component.s, avatar_row_component.c, goal_history_chart_component.R, status_icon_component.m, localize_pipe.F, format_goal_value_pipe.D, format_value_pipe.c, FormatDatePipe ],
                styles: [ '.goal-tile[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;height:100%;color:var(--fluent-theme-neutral-primary-alt-color, #3B3A39);background-color:var(--scorecard-goalVisualBackgroundColor);font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);white-space:nowrap}.goal-tile[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:4px 7px;color:var(--fluent-theme-black-color, #000)}.goal-tile[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .scorecard-name[_ngcontent-%COMP%]{margin:0 0 4px;color:var(--scorecard-goalVisualScorecardName-color);font-size:var(--scorecard-goalVisualScorecardName-size);font-family:var(--scorecard-goalVisualScorecardName-family);font-weight:var(--scorecard-goalVisualScorecardName-weight);font-style:var(--scorecard-goalVisualScorecardName-style);text-decoration:var(--scorecard-goalVisualScorecardName-textDecoration)}.goal-tile[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.goal-tile[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .value-and-growth[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}.goal-tile[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .value-and-growth[_ngcontent-%COMP%]   .value-target[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--scorecard-goalVisualCurrentValue-color);font-size:var(--scorecard-goalVisualCurrentValue-size);font-family:var(--scorecard-goalVisualCurrentValue-family);font-weight:var(--scorecard-goalVisualCurrentValue-weight);font-style:var(--scorecard-goalVisualCurrentValue-style);text-decoration:var(--scorecard-goalVisualCurrentValue-textDecoration)}.goal-tile[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .value-and-growth[_ngcontent-%COMP%]   .value-target[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{color:var(--scorecard-goalVisualTargetValue-color);font-size:var(--scorecard-goalVisualTargetValue-size);font-family:var(--scorecard-goalVisualTargetValue-family);font-weight:var(--scorecard-goalVisualTargetValue-weight);font-style:var(--scorecard-goalVisualTargetValue-style);text-decoration:var(--scorecard-goalVisualTargetValue-textDecoration)}.goal-tile[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .value-and-growth[_ngcontent-%COMP%]   .growth[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:6px;color:var(--scorecard-goalVisualGrowth-color);font-size:var(--scorecard-goalVisualGrowth-size);font-family:var(--scorecard-goalVisualGrowth-family);font-weight:var(--scorecard-goalVisualGrowth-weight);font-style:var(--scorecard-goalVisualGrowth-style);text-decoration:var(--scorecard-goalVisualGrowth-textDecoration)}.goal-tile[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .value-and-growth[_ngcontent-%COMP%]   .growth[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:8px;width:8px}.goal-tile[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .value-and-growth[_ngcontent-%COMP%]   .growth[_ngcontent-%COMP%]   .period[_ngcontent-%COMP%]{padding-left:4px}.goal-tile[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .owners[_ngcontent-%COMP%]{display:flex;align-items:center}.goal-tile[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .owners[_ngcontent-%COMP%]     .user-info{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}.goal-tile[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .owners[_ngcontent-%COMP%]     .user-image{margin:0}.goal-tile[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .goal-name[_ngcontent-%COMP%]{margin:4px 0;color:var(--scorecard-goalVisualGoalName-color);font-size:var(--scorecard-goalVisualGoalName-size);font-family:var(--scorecard-goalVisualGoalName-family);font-weight:var(--scorecard-goalVisualGoalName-weight);font-style:var(--scorecard-goalVisualGoalName-style);text-decoration:var(--scorecard-goalVisualGoalName-textDecoration)}.goal-tile[_ngcontent-%COMP%]   .visual-container[_ngcontent-%COMP%]{display:flex;flex-grow:1;padding:4px 7px}.goal-tile[_ngcontent-%COMP%]   .visual-container[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{flex:1;display:flex}.goal-tile[_ngcontent-%COMP%]   .visual-container[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   goal-history-chart[_ngcontent-%COMP%]{width:100%;flex:1}.goal-tile[_ngcontent-%COMP%]   .no-chart[_ngcontent-%COMP%]{display:flex;flex-grow:1;padding:4px 7px}.goal-tile[_ngcontent-%COMP%]   .no-chart[_ngcontent-%COMP%]   .value-wrapper[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center}.goal-tile[_ngcontent-%COMP%]   .no-chart[_ngcontent-%COMP%]   .value-wrapper[_ngcontent-%COMP%]   .value-target[_ngcontent-%COMP%]{margin:auto}.goal-tile[_ngcontent-%COMP%]   .no-chart[_ngcontent-%COMP%]   .value-wrapper[_ngcontent-%COMP%]   .value-target[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:34px}.goal-tile[_ngcontent-%COMP%]   .no-chart[_ngcontent-%COMP%]   .value-wrapper[_ngcontent-%COMP%]   .value-target[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{font-size:22px}.goal-tile[_ngcontent-%COMP%]   .value-target[_ngcontent-%COMP%]{display:flex;align-items:baseline}.goal-tile[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:4px 7px}.goal-tile[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .status-and-date[_ngcontent-%COMP%], .goal-tile[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .notes-and-menu[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.goal-tile[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .status-and-date[_ngcontent-%COMP%]   .target-date[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;color:var(--scorecard-goalVisualDueDate-color);font-size:var(--scorecard-goalVisualDueDate-size);font-family:var(--scorecard-goalVisualDueDate-family);font-weight:var(--scorecard-goalVisualDueDate-weight);font-style:var(--scorecard-goalVisualDueDate-style);text-decoration:var(--scorecard-goalVisualDueDate-textDecoration)}.goal-tile[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .status-and-date[_ngcontent-%COMP%]   status-icon[_ngcontent-%COMP%]{padding-right:10px}.goal-tile[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .status-and-date[_ngcontent-%COMP%]   status-icon[_ngcontent-%COMP%]     .status{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;height:14px;line-height:14px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400)}.goal-tile[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;padding:0;border:none;background:none;height:100%;width:32px}.goal-tile[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before{vertical-align:middle}.goal-tile[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .notes[_ngcontent-%COMP%]{color:var(--scorecard-goalVisualNotes-color);font-size:var(--scorecard-goalVisualNotes-size)}.goal-tile[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .notes-count[_ngcontent-%COMP%]{position:absolute;font-size:9px;font-weight:600;top:-1px;right:3px;border-radius:30px;padding:1px 4px;background:var(--fluent-theme-primary-color, #F2C811);color:var(--text-primary-content-color-hc, #000)}  .context-menu-dropdown{min-height:unset}  .context-menu-dropdown .mat-menu-content{padding:4px!important}  .context-menu-dropdown .mat-menu-content .goal-tile-context-menu-item{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;padding:0 8px!important;max-height:32px}  .context-menu-dropdown .mat-menu-content .goal-tile-context-menu-item tri-svg-icon{margin-right:4px}' ],
                changeDetection: 0
            }), GoalTileComponent;
        }();
        function GoalsTooltipComponent_ng_container_1_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275elementContainer"](0);
        }
        var GoalsTooltipComponent = function() {
            function GoalsTooltipComponent() {}
            return GoalsTooltipComponent.\u0275fac = function(t) {
                return new (t || GoalsTooltipComponent);
            }, GoalsTooltipComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: GoalsTooltipComponent,
                selectors: [ [ "goals-tooltip" ] ],
                inputs: {
                    args: "args"
                },
                decls: 2,
                vars: 2,
                consts: [ [ "role", "tooltip", 1, "pbi-goals-tooltip-content", "themeableElement", 3, "id" ], [ 4, "ngTemplateOutlet" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "div", 0), core["\u0275\u0275template"](1, GoalsTooltipComponent_ng_container_1_Template, 1, 0, "ng-container", 1), 
                    core["\u0275\u0275elementEnd"]()), 2 & rf && (core["\u0275\u0275property"]("id", ctx.args.id), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngTemplateOutlet", ctx.args.templateRef));
                },
                dependencies: [ common.NgTemplateOutlet ],
                styles: [ "@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;overflow:auto;border-radius:2px;border:1px solid var(--scorecard-backgroundColor);background-color:var(--scorecard-backgroundColor);color:var(--scorecard-neutralPrimaryColor);box-shadow:0 0 2px var(--colorNeutralShadowAmbient),0 8px 16px var(--colorNeutralShadowKey);animation:_ngcontent-%COMP%_fade-in .15s ease;font-size:var(--sm-font-size, 12px);word-break:break-word}.pbi-goals-tooltip-content[_ngcontent-%COMP%]{background-color:var(--scorecard-backgroundColor);z-index:1;padding:7px}" ],
                changeDetection: 0
            }), GoalsTooltipComponent;
        }(), hierarchy_utils = __webpack_require__(29730), side_flyout_service = __webpack_require__(41819), telemetry_service = __webpack_require__(96608), GoalsHierarchyPaneService = function() {
            function GoalsHierarchyPaneService(sideFlyoutService, scorecardService, hierarchyService, telemetryService) {
                this.sideFlyoutService = sideFlyoutService, this.scorecardService = scorecardService, 
                this.hierarchyService = hierarchyService, this.telemetryService = telemetryService, 
                this._showHierarchiesPane$ = new BehaviorSubject.X(!1), this._showHeatmapConfigurationPane$ = new BehaviorSubject.X(!1), 
                this._showHeatmapDisplaySettingsPane$ = new BehaviorSubject.X(!1), this.showHierarchiesPane$ = this._showHierarchiesPane$.asObservable(), 
                this.showHeatmapConfigurationPane$ = this._showHeatmapConfigurationPane$.asObservable(), 
                this.showHeatmapDisplaySettingsPane$ = this._showHeatmapDisplaySettingsPane$.asObservable();
            }
            return GoalsHierarchyPaneService.prototype.openHierarchiesBuilder = function(entryPoint) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var closed, scorecard, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return this.telemetryService.logEvent(events.AY, {
                                entryPoint
                            }), closed = new ReplaySubject.t(1), this.sideFlyoutService.show({
                                componentManifest: {
                                    componentId: "HierarchyBuilderPaneComponentId",
                                    modulePath: "@powerbi/GoalsHierarchy/goals-hierarchy.module#GoalsHierarchyModule",
                                    inputArgs: {
                                        scorecard$: this.scorecardService.getScorecard(),
                                        close: function(hierarchiesUpdated) {
                                            _this.sideFlyoutService.hide(), closed.next(hierarchiesUpdated), closed.complete();
                                        },
                                        saveQueryHierarchyAsUser: function(queryHierarchyAsUser) {
                                            _this.scorecardService.updateScorecard({
                                                queryHierarchyAsUser
                                            });
                                        }
                                    }
                                },
                                paneClass: "hierarchy-builder"
                            }), [ 4, closed.toPromise() ];

                          case 1:
                            return _a.sent() && (scorecard = this.scorecardService.getCurrentScorecard(), this.scorecardService.setActiveHierarchy(void 0), 
                            this.hierarchyService.loadHierarchies(scorecard.groupId, scorecard.id, !1)), [ 2 ];
                        }
                    });
                });
            }, GoalsHierarchyPaneService.prototype.showHierarchiesPane = function() {
                this._showHierarchiesPane$.next(!0);
            }, GoalsHierarchyPaneService.prototype.hideHierarchiesPane = function() {
                this._showHierarchiesPane$.next(!1);
            }, GoalsHierarchyPaneService.prototype.showHeatmapConfigurationPane = function() {
                this.hideHeatmapDisplaySettingsPane(), this._showHeatmapConfigurationPane$.next(!0);
            }, GoalsHierarchyPaneService.prototype.hideHeatmapConfigurationPane = function() {
                this._showHeatmapConfigurationPane$.next(!1);
            }, GoalsHierarchyPaneService.prototype.showHeatmapDisplaySettingsPane = function() {
                this.hideHeatmapConfigurationPane(), this._showHeatmapDisplaySettingsPane$.next(!0);
            }, GoalsHierarchyPaneService.prototype.hideHeatmapDisplaySettingsPane = function() {
                this._showHeatmapDisplaySettingsPane$.next(!1);
            }, GoalsHierarchyPaneService.\u0275fac = function(t) {
                return new (t || GoalsHierarchyPaneService)(core["\u0275\u0275inject"](side_flyout_service.p), core["\u0275\u0275inject"](scorecard_service.G), core["\u0275\u0275inject"](goals_hierarchy_service.G), core["\u0275\u0275inject"](telemetry_service.y0));
            }, GoalsHierarchyPaneService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: GoalsHierarchyPaneService,
                factory: GoalsHierarchyPaneService.\u0275fac
            }), GoalsHierarchyPaneService;
        }(), goalsHttpService = __webpack_require__(58614), combineLatest = __webpack_require__(59017), scorecard_views_service = __webpack_require__(32027), GoalsHeatmapService = function() {
            function GoalsHeatmapService(scorecardService, hierarchyService, localizationService, viewsService, goalsHttpService) {
                var _this = this;
                this.scorecardService = scorecardService, this.hierarchyService = hierarchyService, 
                this.localizationService = localizationService, this.viewsService = viewsService, 
                this.goalsHttpService = goalsHttpService, this._goalsByHierarchyItemId$ = new BehaviorSubject.X({}), 
                this._selectedHierarchyItems$ = new BehaviorSubject.X([]), this._displaySettings$ = new BehaviorSubject.X({}), 
                this.onDestroy$ = new Subject.xQ, this._isLoadingView$ = new BehaviorSubject.X(!1), 
                this.hierarchyService.hierarchyItems$.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(hierarchyItems) {
                    var _a;
                    if (_this._selectedHierarchyItems$.value.length > 1) {
                        for (var items = [], goalsByItemId = (0, tslib_es6.__assign)({}, _this._goalsByHierarchyItemId$.value), _i = 0, _b = _this._selectedHierarchyItems$.value; _i < _b.length; _i++) {
                            var selectedItem = _b[_i];
                            if (selectedItem.id) {
                                var path = (0, hierarchy_utils.IX)(selectedItem), newItem = null === (_a = (0, hierarchy_utils.qB)([ path ], hierarchyItems)) || void 0 === _a ? void 0 : _a[0];
                                if ((null == newItem ? void 0 : newItem.id) && newItem.id !== selectedItem.id) {
                                    items.push(newItem), goalsByItemId[newItem.id] = goalsByItemId[selectedItem.id], 
                                    delete goalsByItemId[selectedItem.id];
                                    continue;
                                }
                            }
                            items.push(selectedItem);
                        }
                        _this._selectedHierarchyItems$.next(items), _this._goalsByHierarchyItemId$.next(goalsByItemId);
                    }
                }), this.totalItem = {
                    id: void 0,
                    value: this.localizationService.get("Visual_Totals"),
                    parent: void 0,
                    parentHierarchyItemId: void 0,
                    level: 0
                }, this._hasViewChanges$ = (0, combineLatest.aj)([ this.selectedHierarchyItems$, this.viewsService.getDefaultView("Heatmap") ]).pipe((0, 
                map.U)(function(_a) {
                    var items = _a[0], view = _a[1];
                    return view ? !_.isEqual((0, hierarchy_utils.t7)(items), view.heatmapViewDetails.hierarchyItemPaths) : _.size(items) > 1;
                }), (0, shareReplay.d)({
                    bufferSize: 1,
                    refCount: !0
                })), this._hasSettingsChanges$ = (0, combineLatest.aj)([ this._displaySettings$, this.viewsService.getDefaultView("Heatmap") ]).pipe((0, 
                map.U)(function(_a) {
                    var _b, view = _a[1], defaultSettings = null !== (_b = null == view ? void 0 : view.heatmapViewDetails.heatmapDisplaySettings) && void 0 !== _b ? _b : constants.rl;
                    return !_.isEqual(_a[0], defaultSettings);
                }), (0, shareReplay.d)({
                    bufferSize: 1,
                    refCount: !0
                }));
            }
            return GoalsHeatmapService.prototype.ngOnDestroy = function() {
                this.onDestroy$.next(!0), this.onDestroy$.complete();
            }, Object.defineProperty(GoalsHeatmapService.prototype, "goalsByHierarchyItemId$", {
                get: function() {
                    return this._goalsByHierarchyItemId$;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GoalsHeatmapService.prototype, "selectedHierarchyItems$", {
                get: function() {
                    return this._selectedHierarchyItems$;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GoalsHeatmapService.prototype, "selectedHierarchyItems", {
                get: function() {
                    return this._selectedHierarchyItems$.value;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GoalsHeatmapService.prototype, "displaySettings$", {
                get: function() {
                    return this._displaySettings$;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GoalsHeatmapService.prototype, "hasViewChanges$", {
                get: function() {
                    return this._hasViewChanges$;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GoalsHeatmapService.prototype, "hasSettingsChanges$", {
                get: function() {
                    return this._hasSettingsChanges$;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GoalsHeatmapService.prototype, "isSaving$", {
                get: function() {
                    return this.viewsService.isSaving$;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GoalsHeatmapService.prototype, "isLoading$", {
                get: function() {
                    return this._isLoadingView$;
                },
                enumerable: !1,
                configurable: !0
            }), GoalsHeatmapService.prototype.addHierarchyItem = function(hierarchyItem) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var items;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return items = _.uniqBy((0, tslib_es6.__spreadArray)((0, tslib_es6.__spreadArray)([], this._selectedHierarchyItems$.value, !0), [ hierarchyItem ], !1), function(item) {
                                return item.id;
                            }), this._selectedHierarchyItems$.next(items), [ 4, this.loadGoalsForHierarchyItem(hierarchyItem) ];

                          case 1:
                            return _a.sent(), [ 2 ];
                        }
                    });
                });
            }, GoalsHeatmapService.prototype.removeHierarchyItem = function(hierarchyItem) {
                hierarchyItem.id ? this._selectedHierarchyItems$.next(_.filter(this._selectedHierarchyItems$.value, function(item) {
                    return item.id !== hierarchyItem.id;
                })) : debug.fF.assertFail("Cannot remove totals");
            }, GoalsHeatmapService.prototype.setHierarchyItems = function(hierarchyItems) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var items, tasks, _i, items_1;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            for (items = _.uniqBy((0, tslib_es6.__spreadArray)([ this.totalItem ], hierarchyItems, !0), function(item) {
                                return item.id;
                            }), this._selectedHierarchyItems$.next(items), tasks = [], _i = 0, items_1 = items; _i < items_1.length; _i++) tasks.push(this.loadGoalsForHierarchyItem(items_1[_i]));
                            return [ 4, Promise.all(tasks) ];

                          case 1:
                            return _a.sent(), [ 2 ];
                        }
                    });
                });
            }, GoalsHeatmapService.prototype.reset = function(clearCache) {
                void 0 === clearCache && (clearCache = !1), this._selectedHierarchyItems$.next([ this.totalItem ]), 
                clearCache && this.clearCache();
            }, GoalsHeatmapService.prototype.refreshAll = function() {
                for (var _i = 0, _a = this._selectedHierarchyItems$.value; _i < _a.length; _i++) this.loadGoalsForHierarchyItem(_a[_i], !0);
            }, GoalsHeatmapService.prototype.clearCache = function() {
                this._goalsByHierarchyItemId$.next({});
            }, GoalsHeatmapService.prototype.loadDefaultView = function(restoreItems, restoreDisplaySettings, defaultItems) {
                var _a, _b;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var defaultView, savedSettings, items;
                    return (0, tslib_es6.__generator)(this, function(_c) {
                        switch (_c.label) {
                          case 0:
                            if (!restoreItems && !restoreDisplaySettings) return debug.fF.assertFail("loadDefaultView called without restoring items or settings"), 
                            [ 2 ];
                            this._isLoadingView$.next(!0), _c.label = 1;

                          case 1:
                            return _c.trys.push([ 1, , 8, 9 ]), [ 4, this.viewsService.loadViews(!1) ];

                          case 2:
                            return _c.sent(), [ 4, this.viewsService.getDefaultView("Heatmap").pipe((0, take.q)(1)).toPromise() ];

                          case 3:
                            return defaultView = _c.sent(), restoreDisplaySettings && (savedSettings = null === (_a = null == defaultView ? void 0 : defaultView.heatmapViewDetails) || void 0 === _a ? void 0 : _a.heatmapDisplaySettings, 
                            this.setDisplaySettings((0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, constants.rl), savedSettings))), 
                            restoreItems ? (items = void 0, defaultView ? [ 4, this.hierarchyService.getHierarchyItemsForPath(null === (_b = null == defaultView ? void 0 : defaultView.heatmapViewDetails) || void 0 === _b ? void 0 : _b.hierarchyItemPaths).pipe((0, 
                            take.q)(1)).toPromise() ] : [ 3, 5 ]) : [ 3, 7 ];

                          case 4:
                            items = _c.sent(), _c.label = 5;

                          case 5:
                            return [ 4, this.setHierarchyItems(items = items || defaultItems || []) ];

                          case 6:
                            _c.sent(), _c.label = 7;

                          case 7:
                            return [ 3, 9 ];

                          case 8:
                            return this._isLoadingView$.next(!1), [ 7 ];

                          case 9:
                            return [ 2 ];
                        }
                    });
                });
            }, GoalsHeatmapService.prototype.saveView = function(saveItems, saveDisplaySettings) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var defaultView;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return saveItems || saveDisplaySettings ? [ 4, this.viewsService.getDefaultView("Heatmap").pipe((0, 
                            take.q)(1)).toPromise() ] : (debug.fF.assertFail("saveView called without saving items or settings"), 
                            [ 2 ]);

                          case 1:
                            return defaultView = _a.sent(), defaultView = _.cloneDeep(defaultView) || {
                                isDefault: !0,
                                name: "",
                                viewType: "Heatmap",
                                id: void 0,
                                scorecardId: this.scorecardId,
                                heatmapViewDetails: {
                                    heatmapDisplaySettings: void 0,
                                    hierarchyItemPaths: void 0
                                }
                            }, saveItems && (defaultView.heatmapViewDetails.hierarchyItemPaths = (0, hierarchy_utils.t7)(this.selectedHierarchyItems)), 
                            saveDisplaySettings && (defaultView.heatmapViewDetails.heatmapDisplaySettings = this._displaySettings$.value), 
                            [ 4, this.viewsService.saveView(defaultView) ];

                          case 2:
                            return _a.sent(), [ 2 ];
                        }
                    });
                });
            }, GoalsHeatmapService.prototype.loadGoalsForHierarchyItem = function(hierarchyItem, reload) {
                return void 0 === reload && (reload = !1), (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var currentScorecard, path, _a, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            return currentScorecard = this.scorecardService.getCurrentScorecard(), debug.fF.assertValue(currentScorecard, "scorecard not loaded"), 
                            this.scorecardId !== currentScorecard.id && (this._goalsByHierarchyItemId$.next({}), 
                            this.scorecardId = currentScorecard.id, reload = !0), !reload && this._goalsByHierarchyItemId$.value[null == hierarchyItem ? void 0 : hierarchyItem.id] ? [ 2 ] : (this._goalsByHierarchyItemId$.next((0, 
                            tslib_es6.__assign)((0, tslib_es6.__assign)({}, this._goalsByHierarchyItemId$.value), ((_a = {})[null == hierarchyItem ? void 0 : hierarchyItem.id] = {}, 
                            _a))), path = (null == hierarchyItem ? void 0 : hierarchyItem.id) ? (0, hierarchy_utils.t7)([ hierarchyItem ]) : void 0, 
                            [ 4, this.goalsHttpService.getScorecard(currentScorecard.groupId, currentScorecard.id, !0, path).toPromise().then(function(scorecard) {
                                var _a, hierarchyGoals = _this.checkGoalsConnectedToHierarchy(path, scorecard.goals), hierarchyGoalsDict = _.keyBy(hierarchyGoals, "id");
                                _this._goalsByHierarchyItemId$.next((0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, _this._goalsByHierarchyItemId$.value), ((_a = {})[null == hierarchyItem ? void 0 : hierarchyItem.id] = hierarchyGoalsDict, 
                                _a)));
                            }).catch(function(err) {
                                var _a;
                                debug.fF.assertFail(err), _this._goalsByHierarchyItemId$.next((0, tslib_es6.__assign)((0, 
                                tslib_es6.__assign)({}, _this._goalsByHierarchyItemId$.value), ((_a = {})[null == hierarchyItem ? void 0 : hierarchyItem.id] = null, 
                                _a)));
                            }) ]);

                          case 1:
                            return _b.sent(), [ 2 ];
                        }
                    });
                });
            }, GoalsHeatmapService.prototype.setDisplaySettings = function(settings) {
                this._displaySettings$.next(settings);
            }, GoalsHeatmapService.prototype.checkGoalsConnectedToHierarchy = function(path, goals) {
                var _this = this;
                return _.map(goals, function(goal) {
                    var _a, _b, isHierarchical = !_.isEmpty(path), isCurrentValueNotConnectedToHierarchy = isHierarchical && goal.valueConnection && !_this.hierarchyService.isDatasetMappedToHierarchyPath(null === (_a = goal.valueConnection) || void 0 === _a ? void 0 : _a.datasetId, path), isTargetValueNotConnectedToHierarchy = isHierarchical && goal.targetConnection && !_this.hierarchyService.isDatasetMappedToHierarchyPath(null === (_b = goal.targetConnection) || void 0 === _b ? void 0 : _b.datasetId, path);
                    return (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, goal), {
                        isCurrentValueNotConnectedToHierarchy,
                        isTargetValueNotConnectedToHierarchy
                    });
                });
            }, GoalsHeatmapService.\u0275fac = function(t) {
                return new (t || GoalsHeatmapService)(core["\u0275\u0275inject"](scorecard_service.G), core["\u0275\u0275inject"](goals_hierarchy_service.G), core["\u0275\u0275inject"](localization_service.o), core["\u0275\u0275inject"](scorecard_views_service.w), core["\u0275\u0275inject"](goalsHttpService.f));
            }, GoalsHeatmapService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: GoalsHeatmapService,
                factory: GoalsHeatmapService.\u0275fac
            }), GoalsHeatmapService;
        }(), pbi_lazy_load_component = __webpack_require__(18460);
        function HierarchyGoalCell_div_0_ng_container_2_div_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 9), core["\u0275\u0275text"](1), 
            core["\u0275\u0275pipe"](2, "formatGoalValue"), core["\u0275\u0275elementEnd"]()), 
            2 & rf) {
                var ctx_r6 = core["\u0275\u0275nextContext"](3);
                core["\u0275\u0275property"]("title", ctx_r6.valueTooltip), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind3"](2, 2, ctx_r6.currentValue.value, ctx_r6.categories, ctx_r6.formatString), " ");
            }
        }
        function HierarchyGoalCell_div_0_ng_container_2_goal_change_cell_2_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "goal-change-cell", 10), 2 & rf) {
                var ctx_r7 = core["\u0275\u0275nextContext"](3);
                core["\u0275\u0275property"]("goal", ctx_r7.goal)("arrowSize", ctx_r7.changeArrowSize)("nilDisplayString", "\u2014");
            }
        }
        function HierarchyGoalCell_div_0_ng_container_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, HierarchyGoalCell_div_0_ng_container_2_div_1_Template, 3, 6, "div", 7), 
            core["\u0275\u0275template"](2, HierarchyGoalCell_div_0_ng_container_2_goal_change_cell_2_Template, 1, 3, "goal-change-cell", 8), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var ctx_r3 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !ctx_r3.displaySettings.showValueChange), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r3.displaySettings.showValueChange);
            }
        }
        function HierarchyGoalCell_div_0_div_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 11)(1, "span", 12), core["\u0275\u0275text"](2), 
            core["\u0275\u0275elementEnd"](), core["\u0275\u0275text"](3), core["\u0275\u0275pipe"](4, "formatGoalValue"), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r4 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275classProp"]("targetOnly", !ctx_r4.displaySettings.showCurrentValue), 
                core["\u0275\u0275property"]("title", ctx_r4.targetTooltip), core["\u0275\u0275advance"](2), 
                core["\u0275\u0275textInterpolate"](ctx_r4.displaySettings.showValueChange ? "|" : "/"), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"]("", core["\u0275\u0275pipeBind3"](4, 5, ctx_r4.currentValue.target, ctx_r4.categories, ctx_r4.formatString), " ");
            }
        }
        function HierarchyGoalCell_div_0_status_icon_4_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "status-icon", 13, 14), 2 & rf) {
                var ctx_r5 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275property"]("status", null == ctx_r5.currentValue ? null : ctx_r5.currentValue.status)("goalStatuses", ctx_r5.goalStatuses);
            }
        }
        function HierarchyGoalCell_div_0_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 2)(1, "div", 3), core["\u0275\u0275template"](2, HierarchyGoalCell_div_0_ng_container_2_Template, 3, 2, "ng-container", 4), 
            core["\u0275\u0275template"](3, HierarchyGoalCell_div_0_div_3_Template, 5, 9, "div", 5), 
            core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](4, HierarchyGoalCell_div_0_status_icon_4_Template, 2, 2, "status-icon", 6), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275styleProp"]("background", ctx_r0.backgroundColor), core["\u0275\u0275classProp"]("isSelected", ctx_r0.isSelected), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx_r0.displaySettings.showCurrentValue), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r0.displaySettings.showTargetValue), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r0.displaySettings.showStatus);
            }
        }
        function HierarchyGoalCell_ng_template_1_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "pbi-spinner", 15);
        }
        var HierarchyGoalCell = function() {
            function HierarchyGoalCell(localizationService, formatGoalValuePipe, featureSwitches, scorecardService) {
                this.localizationService = localizationService, this.formatGoalValuePipe = formatGoalValuePipe, 
                this.featureSwitches = featureSwitches, this.scorecardService = scorecardService, 
                this.currentValue = null, this.changeArrowSize = "mini";
            }
            return HierarchyGoalCell.prototype.ngOnChanges = function(changes) {
                var _a;
                if ((changes.goal || changes.displaySettings) && this.goal) {
                    this.currentValue = goal_helper.r.buildCurrentGoalValue(this.goal), this.categories = this.scorecardService.getGoalValueCategories(this.goal), 
                    this.goalStatuses = this.scorecardService.getGoalStatuses(this.goal);
                    var colorKey = goal_status_helper.p.getGoalStatus(this.currentValue.status, this.goalStatuses).color;
                    this.backgroundColor = this.displaySettings.showStatusColor ? goal_status_helper.p.getGoalStatusColor(colorKey, !1, !1) : void 0, 
                    this.formatString = this.goal.valuesFormatString, this.valueTooltip = this.goal.isCurrentValueNotConnectedToHierarchy ? "".concat(this.localizationService.get("CurrentValue"), " ").concat(this.localizationService.get("Metrics_Tooltip_ValueNotConnected")) : this.formatGoalValuePipe.transform(this.currentValue.value, this.categories, this.goal.valuesFormatString, !1), 
                    this.targetTooltip = this.goal.isTargetValueNotConnectedToHierarchy ? "".concat(this.localizationService.get("Role_DisplayName_TargetValue"), " ").concat(this.localizationService.get("Metrics_Tooltip_ValueNotConnected")) : this.formatGoalValuePipe.transform(this.currentValue.target, this.categories, this.goal.valuesFormatString, !1), 
                    this.displaySettings.showValueChange && (this.valueChange = goal_helper.r.calculateValueChange(this.goal, this.featureSwitches.featureSwitches.goalsSparklineChangeAggregations), 
                    this.isCyclePeriodLabelLocalizable = goal_helper.r.isCyclePeriodLabelLocalizable(null === (_a = this.valueChange) || void 0 === _a ? void 0 : _a.period));
                }
            }, HierarchyGoalCell.\u0275fac = function(t) {
                return new (t || HierarchyGoalCell)(core["\u0275\u0275directiveInject"](localization_service.o), core["\u0275\u0275directiveInject"](format_goal_value_pipe.D), core["\u0275\u0275directiveInject"](feature_switch_service.vZ), core["\u0275\u0275directiveInject"](scorecard_service.G));
            }, HierarchyGoalCell.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: HierarchyGoalCell,
                selectors: [ [ "hierarchy-goal-cell" ] ],
                inputs: {
                    goal: "goal",
                    scorecard: "scorecard",
                    displaySettings: "displaySettings",
                    isSelected: "isSelected"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 3,
                vars: 2,
                consts: [ [ "class", "cell", 3, "background", "isSelected", 4, "ngIf", "ngIfElse" ], [ "loading", "" ], [ 1, "cell" ], [ 1, "content" ], [ 4, "ngIf" ], [ "class", "target", 3, "title", "targetOnly", 4, "ngIf" ], [ 3, "status", "goalStatuses", 4, "ngIf" ], [ "class", "value", 3, "title", 4, "ngIf" ], [ 3, "goal", "arrowSize", "nilDisplayString", 4, "ngIf" ], [ 1, "value", 3, "title" ], [ 3, "goal", "arrowSize", "nilDisplayString" ], [ 1, "target", 3, "title" ], [ 1, "slash" ], [ 3, "status", "goalStatuses" ], [ "statusCell", "" ], [ 1, "pbi-spinner-small" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275template"](0, HierarchyGoalCell_div_0_Template, 5, 7, "div", 0), 
                    core["\u0275\u0275template"](1, HierarchyGoalCell_ng_template_1_Template, 1, 0, "ng-template", null, 1, core["\u0275\u0275templateRefExtractor"])), 
                    2 & rf) {
                        var _r1 = core["\u0275\u0275reference"](2);
                        core["\u0275\u0275property"]("ngIf", ctx.goal)("ngIfElse", _r1);
                    }
                },
                dependencies: [ common.NgIf, pbi_spinner_component.k, goal_change_cell_component.k, status_icon_component.m, format_goal_value_pipe.D ],
                styles: [ "[_nghost-%COMP%]{flex:1;height:100%;display:flex;flex-direction:column;justify-content:center}.cell[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;border-bottom:4px solid transparent}.content[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:flex-start;box-sizing:border-box;white-space:nowrap;width:100%;padding:0 6px}.content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:var(--vlg-font-size, 18px);font-weight:var(--font-weight-semi-bold, 600)}.content[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}.content[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   .slash[_ngcontent-%COMP%]{margin:0 1px}.content[_ngcontent-%COMP%]   .target.targetOnly[_ngcontent-%COMP%]{font-size:var(--vlg-font-size, 18px);font-weight:var(--font-weight-semi-bold, 600)}.content[_ngcontent-%COMP%]   .target.targetOnly[_ngcontent-%COMP%]   .slash[_ngcontent-%COMP%]{display:none}.content[_ngcontent-%COMP%]   goal-change-cell[_ngcontent-%COMP%]{display:flex;overflow:hidden;--container-align-items: baseline;--arrow-margin: 0 4px;--change-font-size: var(--vlg-font-size);--change-font-weight: var(--font-weight-semi-bold)}status-icon[_ngcontent-%COMP%]{display:flex;justify-content:center}status-icon[_ngcontent-%COMP%]     .status{font-size:var(--sm-font-size, 12px);line-height:16px;height:16px;width:fit-content}.isSelected[_ngcontent-%COMP%]{border-color:var(--fluent-theme-neutral-secondary-color, #605E5C)}" ],
                changeDetection: 0
            }), HierarchyGoalCell;
        }(), heat_map_component_c0 = [ "nameCell" ], heat_map_component_c1 = [ "hierarchyGoalCell" ], heat_map_component_c2 = [ "columnHeader" ];
        function HeatMapComponent_tree_list_0_Template(rf, ctx) {
            if (1 & rf) {
                var _r10 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "tree-list", 6), core["\u0275\u0275listener"]("onResizeColumn", function($event) {
                    core["\u0275\u0275restoreView"](_r10);
                    var ctx_r9 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r9.onResizeColumn($event));
                })("onExpansionChange", function($event) {
                    core["\u0275\u0275restoreView"](_r10);
                    var ctx_r11 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r11.onExpansionChange($event));
                }), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275classMap"](ctx_r0.heatmapClassname), core["\u0275\u0275property"]("columns", ctx_r0.columns)("data", ctx_r0.goals)("expandedNodeIds", ctx_r0.expandedGoalIds)("getChildren", ctx_r0.getSubgoals)("rowHash", ctx_r0.rowHash)("rowHeight", ctx_r0.rowHeight)("rowSpacing", ctx_r0.rowSpacing)("stickyFirstColumn", !0);
            }
        }
        function HeatMapComponent_ng_template_1_pbi_icon_3_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "pbi-icon", 10), 2 & rf) {
                core["\u0275\u0275nextContext"]();
                var _r15 = core["\u0275\u0275reference"](5);
                core["\u0275\u0275property"]("pbiTooltip", _r15);
            }
        }
        function HeatMapComponent_ng_template_1_ng_template_4_div_1_Template(rf, ctx) {
            1 & rf && (core["\u0275\u0275elementStart"](0, "div"), core["\u0275\u0275text"](1), 
            core["\u0275\u0275pipe"](2, "localize"), core["\u0275\u0275elementEnd"]()), 2 & rf && (core["\u0275\u0275advance"](1), 
            core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](2, 1, "Metrics_Tooltip_LinkedHierarchical"), " "));
        }
        function HeatMapComponent_ng_template_1_ng_template_4_ng_template_2_div_0_Template(rf, ctx) {
            1 & rf && (core["\u0275\u0275elementStart"](0, "div")(1, "span", 15), core["\u0275\u0275text"](2), 
            core["\u0275\u0275pipe"](3, "localize"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275text"](4), 
            core["\u0275\u0275pipe"](5, "localize"), core["\u0275\u0275elementEnd"]()), 2 & rf && (core["\u0275\u0275advance"](2), 
            core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](3, 2, "CurrentValue")), 
            core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](5, 4, "Metrics_Tooltip_ValueAddedManually"), " "));
        }
        function HeatMapComponent_ng_template_1_ng_template_4_ng_template_2_div_1_Template(rf, ctx) {
            1 & rf && (core["\u0275\u0275elementStart"](0, "div")(1, "span", 15), core["\u0275\u0275text"](2), 
            core["\u0275\u0275pipe"](3, "localize"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275text"](4), 
            core["\u0275\u0275pipe"](5, "localize"), core["\u0275\u0275elementEnd"]()), 2 & rf && (core["\u0275\u0275advance"](2), 
            core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](3, 2, "Role_DisplayName_TargetValue")), 
            core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind1"](5, 4, "Metrics_Tooltip_ValueAddedManually"), " "));
        }
        function HeatMapComponent_ng_template_1_ng_template_4_ng_template_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275template"](0, HeatMapComponent_ng_template_1_ng_template_4_ng_template_2_div_0_Template, 6, 6, "div", 14), 
            core["\u0275\u0275template"](1, HeatMapComponent_ng_template_1_ng_template_4_ng_template_2_div_1_Template, 6, 6, "div", 14)), 
            2 & rf) {
                var goal_r13 = core["\u0275\u0275nextContext"](2).data;
                core["\u0275\u0275property"]("ngIf", !goal_r13.valueConnection), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275property"]("ngIf", !goal_r13.targetConnection);
            }
        }
        function HeatMapComponent_ng_template_1_ng_template_4_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 11), core["\u0275\u0275template"](1, HeatMapComponent_ng_template_1_ng_template_4_div_1_Template, 3, 3, "div", 12), 
            core["\u0275\u0275template"](2, HeatMapComponent_ng_template_1_ng_template_4_ng_template_2_Template, 2, 2, "ng-template", null, 13, core["\u0275\u0275templateRefExtractor"]), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var _r18 = core["\u0275\u0275reference"](3), goal_r13 = core["\u0275\u0275nextContext"]().data;
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", goal_r13.isLinked)("ngIfElse", _r18);
            }
        }
        function HeatMapComponent_ng_template_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r25 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 7), core["\u0275\u0275listener"]("click", function() {
                    var goal_r13 = core["\u0275\u0275restoreView"](_r25).data, ctx_r24 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r24.onGoalNameClicked(goal_r13));
                }), core["\u0275\u0275elementStart"](1, "span"), core["\u0275\u0275text"](2), core["\u0275\u0275elementEnd"](), 
                core["\u0275\u0275template"](3, HeatMapComponent_ng_template_1_pbi_icon_3_Template, 1, 1, "pbi-icon", 8), 
                core["\u0275\u0275template"](4, HeatMapComponent_ng_template_1_ng_template_4_Template, 4, 2, "ng-template", null, 9, core["\u0275\u0275templateRefExtractor"]), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var goal_r13 = ctx.data;
                core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate"](goal_r13.name), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", goal_r13.isLinked || !goal_r13.valueConnection || !goal_r13.targetConnection);
            }
        }
        function HeatMapComponent_ng_template_3_hierarchy_goal_cell_0_Template(rf, ctx) {
            if (1 & rf) {
                var _r31 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "hierarchy-goal-cell", 17), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r31);
                    var ctx_r30 = core["\u0275\u0275nextContext"](), goal_r27 = ctx_r30.data, column_r26 = ctx_r30.column, ctx_r29 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r29.openGoalDetails(goal_r27, column_r26.data));
                }), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r32 = core["\u0275\u0275nextContext"](), column_r26 = ctx_r32.column, goal_r27 = ctx_r32.data, ctx_r28 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("goal", null == ctx_r28.goalsByHierarchyItemIds[column_r26.data.id] ? null : ctx_r28.goalsByHierarchyItemIds[column_r26.data.id][goal_r27.id])("scorecard", ctx_r28.scorecard)("displaySettings", ctx_r28.displaySettings)("isSelected", column_r26.data.id === ctx_r28.activeItemId && goal_r27.id === ctx_r28.scorecard.activeGoalId);
            }
        }
        function HeatMapComponent_ng_template_3_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275template"](0, HeatMapComponent_ng_template_3_hierarchy_goal_cell_0_Template, 1, 4, "hierarchy-goal-cell", 16), 
            2 & rf && core["\u0275\u0275property"]("ngIf", !ctx.data.isLinked || !ctx.column.data.id);
        }
        function HeatMapComponent_ng_template_5_ng_template_4_ng_container_0_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "div")(2, "span", 29), 
            core["\u0275\u0275text"](3), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](4, "span"), 
            core["\u0275\u0275text"](5), core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275elementContainerEnd"]()), 
            2 & rf) {
                var path_r42 = ctx.$implicit;
                core["\u0275\u0275advance"](3), core["\u0275\u0275textInterpolate"](path_r42.hierarchyName), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"](": ", path_r42.levels.join(" > "), "");
            }
        }
        function HeatMapComponent_ng_template_5_ng_template_4_ng_template_1_Template(rf, ctx) {
            1 & rf && (core["\u0275\u0275elementStart"](0, "span", 29), core["\u0275\u0275text"](1), 
            core["\u0275\u0275pipe"](2, "localize"), core["\u0275\u0275elementEnd"]()), 2 & rf && (core["\u0275\u0275advance"](1), 
            core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](2, 1, "Visual_Totals")));
        }
        function HeatMapComponent_ng_template_5_ng_template_4_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275template"](0, HeatMapComponent_ng_template_5_ng_template_4_ng_container_0_Template, 6, 2, "ng-container", 12), 
            core["\u0275\u0275template"](1, HeatMapComponent_ng_template_5_ng_template_4_ng_template_1_Template, 3, 3, "ng-template", null, 28, core["\u0275\u0275templateRefExtractor"])), 
            2 & rf) {
                var _r40 = core["\u0275\u0275reference"](2), column_r33 = core["\u0275\u0275nextContext"]().column, ctx_r35 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("ngIf", ctx_r35.hierarchyPathsByKey[column_r33.key])("ngIfElse", _r40);
            }
        }
        function HeatMapComponent_ng_template_5_button_8_Template(rf, ctx) {
            if (1 & rf) {
                var _r46 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 30), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r46);
                    var column_r33 = core["\u0275\u0275nextContext"]().column, ctx_r44 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r44.removeColumn(column_r33.data));
                }), core["\u0275\u0275element"](1, "pbi-icon", 31)(2, "span", 32), core["\u0275\u0275elementEnd"]();
            }
        }
        function HeatMapComponent_ng_template_5_button_13_Template(rf, ctx) {
            if (1 & rf) {
                var _r48 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 24), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r48);
                    var ctx_r47 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r47.hierarchyPane.showHeatmapDisplaySettingsPane());
                }), core["\u0275\u0275pipe"](1, "async"), core["\u0275\u0275element"](2, "pbi-icon", 33)(3, "span", 34), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r38 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275property"]("disabled", core["\u0275\u0275pipeBind1"](1, 1, ctx_r38.hierarchyPane.showHeatmapDisplaySettingsPane$));
            }
        }
        function HeatMapComponent_ng_template_5_Template(rf, ctx) {
            if (1 & rf) {
                var _r50 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 18)(1, "span"), core["\u0275\u0275text"](2), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275element"](3, "pbi-icon", 19), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](4, HeatMapComponent_ng_template_5_ng_template_4_Template, 3, 2, "ng-template", null, 20, core["\u0275\u0275templateRefExtractor"]), 
                core["\u0275\u0275elementStart"](6, "mat-menu", 21, 22), core["\u0275\u0275template"](8, HeatMapComponent_ng_template_5_button_8_Template, 3, 0, "button", 23), 
                core["\u0275\u0275elementStart"](9, "button", 24), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r50);
                    var ctx_r49 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r49.hierarchyPane.showHeatmapConfigurationPane());
                }), core["\u0275\u0275pipe"](10, "async"), core["\u0275\u0275element"](11, "pbi-icon", 25)(12, "span", 26), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](13, HeatMapComponent_ng_template_5_button_13_Template, 4, 3, "button", 27), 
                core["\u0275\u0275pipe"](14, "async"), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var column_r33 = ctx.column, _r34 = core["\u0275\u0275reference"](5), _r36 = core["\u0275\u0275reference"](7), ctx_r6 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("matMenuTriggerFor", _r36)("pbiTooltip", _r34), core["\u0275\u0275attribute"]("aria-label", column_r33.name), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate"](column_r33.name), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("overlapTrigger", !1), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", !!column_r33.data.id), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("disabled", core["\u0275\u0275pipeBind1"](10, 8, ctx_r6.hierarchyPane.showHeatmapConfigurationPane$)), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](14, 10, ctx_r6.canEditHeatmap$));
            }
        }
        function HeatMapComponent_pbi_lazy_load_7_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "pbi-lazy-load", 35), 2 & rf) {
                var ctx_r7 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("modulePath", ctx_r7.hierarchyModulePath)("componentId", ctx_r7.heatmapConfigurationComponentId);
            }
        }
        function HeatMapComponent_pbi_lazy_load_9_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "pbi-lazy-load", 36), 2 & rf) {
                var ctx_r8 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("modulePath", ctx_r8.hierarchyModulePath)("componentId", ctx_r8.heatmapDisplaySettingsComponentId);
            }
        }
        var Columns = function(Columns) {
            return Columns.Name = "name", Columns;
        }({});
        function sortItems(items, remainingSelection, acc, level) {
            void 0 === level && (level = 0);
            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {
                var item = items_1[_i];
                if (_.isEmpty(item.children) || sortItems(item.children, remainingSelection, acc, level + 1), 
                remainingSelection[item.id] && (delete remainingSelection[item.id], acc.push((0, 
                tslib_es6.__assign)((0, tslib_es6.__assign)({}, item), {
                    level
                }))), _.isEmpty(remainingSelection)) return;
            }
        }
        var HeatMapComponent = function(_super) {
            function HeatMapComponent(hierarchyPane, hierarchyService, detailsPaneLauncher, changeDetector, localization, heatmapService, scorecardService, scorecardConfigurationService, capabilityService, expansionService) {
                var _this = _super.call(this) || this;
                return _this.hierarchyPane = hierarchyPane, _this.hierarchyService = hierarchyService, 
                _this.detailsPaneLauncher = detailsPaneLauncher, _this.changeDetector = changeDetector, 
                _this.localization = localization, _this.heatmapService = heatmapService, _this.scorecardService = scorecardService, 
                _this.scorecardConfigurationService = scorecardConfigurationService, _this.capabilityService = capabilityService, 
                _this.expansionService = expansionService, _this.columnsByKey = {}, _this.hierarchyPathsByKey = {}, 
                _this.hierarchyModulePath = "@powerbi/GoalsHierarchy/goals-hierarchy.module#GoalsHierarchyModule", 
                _this.heatmapConfigurationComponentId = "HeatmapConfigurationPaneComponentId", _this.heatmapDisplaySettingsComponentId = "HeatmapDisplaySettingsPaneComponentId", 
                _this.getSubgoals = function(goal) {
                    return _this.getGoalNodes(goal.subGoals, goal);
                }, _this.rowHash = function(_position, goal) {
                    return JSON.stringify(goal);
                }, _this.rowHeight = 50, _this.rowSpacing = 8, _this.canEditHeatmap$ = _this.capabilityService.getScorecardCapabilities().pipe((0, 
                map.U)(function(capabilities) {
                    return capabilities.editHeatmap;
                })), _this;
            }
            return (0, tslib_es6.__extends)(HeatMapComponent, _super), HeatMapComponent.prototype.ngOnInit = function() {
                var _this = this;
                this.hierarchyPane.showHeatmapConfigurationPane();
                var currentPaths = this.scorecardService.getCurrentScorecard().hierarchyPaths;
                this.hierarchyService.getHierarchyItemsForPath(currentPaths).pipe((0, take.q)(1)).subscribe(function(items) {
                    return _this.heatmapService.loadDefaultView(!0, !0, items);
                }), this.scorecardService.setActiveHierarchy(void 0), this.scorecardService.getScorecard().pipe((0, 
                tap.b)(function(scorecard) {
                    _this.scorecard = scorecard, _this.goals = _this.getGoalNodes(scorecard.goals), 
                    _this.expandedGoalIds = _this.expansionService.expandedGoalIds, _this.changeDetector.markForCheck();
                }), (0, switchMap.w)(function(scorecard) {
                    return _this.hierarchyService.getHierarchyItemsForPath(scorecard.hierarchyPaths);
                }), (0, takeUntil.R)(this.onDestroy$)).subscribe(function(selectedItems) {
                    _this.activeItemId = 1 === _.size(selectedItems) ? selectedItems[0].id : void 0;
                }), this.heatmapService.goalsByHierarchyItemId$.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(goalsByHierarchyItemIds) {
                    _this.goalsByHierarchyItemIds = goalsByHierarchyItemIds, _this.changeDetector.markForCheck();
                }), this.heatmapService.displaySettings$.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(settings) {
                    _this.displaySettings = settings;
                    var className = "show-value-only";
                    _this.displaySettings.showCurrentValue && _this.displaySettings.showValueChange ? className = _this.displaySettings.showTargetValue ? "show-change-target" : "show-change-only" : _this.displaySettings.showCurrentValue && _this.displaySettings.showTargetValue && (className = "show-value-target"), 
                    _this.heatmapClassname = "heat-map " + className, _this.changeDetector.markForCheck();
                });
            }, HeatMapComponent.prototype.ngAfterViewInit = function() {
                var _this = this;
                this.updateColumns([]), this.heatmapService.selectedHierarchyItems$.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(displayedItems) {
                    _this.updateColumns(displayedItems), _this.changeDetector.markForCheck();
                });
            }, HeatMapComponent.prototype.getCachedColumn = function(key, generateColumn) {
                return this.columnsByKey[key] || (this.columnsByKey[key] = generateColumn()), this.columnsByKey[key];
            }, HeatMapComponent.prototype.updateColumns = function(hierarchyItems) {
                var _this = this, allItems = _.flatMap(Object.values(this.hierarchyService.hierarchyItems)), selection = _.keyBy(hierarchyItems, function(item) {
                    var _a;
                    return null !== (_a = item.id) && void 0 !== _a ? _a : "TOTAL";
                }), sortedItems = [];
                sortItems(allItems, selection, sortedItems, 0), selection.TOTAL && (sortedItems.unshift(selection.TOTAL), 
                delete selection.TOTAL), sortedItems.push.apply(sortedItems, Object.values(selection)), 
                hierarchyItems = sortedItems, this.columns = (0, tslib_es6.__spreadArray)([ this.getCachedColumn(Columns.Name, function() {
                    return {
                        key: Columns.Name,
                        name: _this.localization.get("Name"),
                        width: 400,
                        cellTemplate: _this.nameCell
                    };
                }) ], _.map(hierarchyItems, function(hierarchyItem) {
                    return _this.getCachedColumn(hierarchyItem.id, function() {
                        return {
                            key: hierarchyItem.id,
                            name: (0, valueFormatter.WU)(hierarchyItem.value),
                            class: "column-center-name",
                            resizable: !1,
                            headerTemplate: _this.columnHeader,
                            cellTemplate: _this.hierarchyGoalCell,
                            data: hierarchyItem
                        };
                    });
                }), !0), hierarchyItems.forEach(function(item) {
                    if (item.id && !_this.hierarchyPathsByKey[item.id]) {
                        var path = (0, hierarchy_utils.IX)(item);
                        _this.hierarchyPathsByKey[item.id] = _this.hierarchyService.formatHierarchyItemPath(path);
                    }
                });
            }, HeatMapComponent.prototype.onGoalNameClicked = function(goal) {
                this.detailsPaneLauncher.openGoalDetails(this.scorecardService, goal.id, goals_details_pane_launcher_service.E.Default, this.scorecardConfigurationService.getConfiguration()), 
                this.changeDetector.markForCheck();
            }, HeatMapComponent.prototype.openGoalDetails = function(goal, hierarchyItem) {
                var _a;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            return (null === (_a = this.goalsByHierarchyItemIds[null == hierarchyItem ? void 0 : hierarchyItem.id]) || void 0 === _a ? void 0 : _a[goal.id]) ? [ 4, this.scorecardService.setActiveHierarchy((null == hierarchyItem ? void 0 : hierarchyItem.id) ? (0, 
                            hierarchy_utils.t7)([ hierarchyItem ]) : void 0) ] : [ 3, 2 ];

                          case 1:
                            _b.sent(), this.detailsPaneLauncher.openGoalDetails(this.scorecardService, goal.id, goals_details_pane_launcher_service.E.Default, this.scorecardConfigurationService.getConfiguration()), 
                            this.changeDetector.markForCheck(), _b.label = 2;

                          case 2:
                            return [ 2 ];
                        }
                    });
                });
            }, HeatMapComponent.prototype.removeColumn = function(hierarchyItem) {
                this.heatmapService.removeHierarchyItem(hierarchyItem);
            }, HeatMapComponent.prototype.onResizeColumn = function(_a) {
                this.columns[_a.column].width = _a.width;
            }, HeatMapComponent.prototype.onExpansionChange = function(change) {
                this.expansionService.expandGoals(change.added), this.expansionService.collapseGoals(change.removed);
            }, HeatMapComponent.prototype.getGoalNodes = function(goals, parent) {
                return _.map(_.filter(goals, function(goal) {
                    return !goal.isNew && !goal.isHidden;
                }), function(goal, i) {
                    return (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, goal), {
                        style: parent ? parent.style : {
                            "border-color": constants.gT.ColorPalette[i % constants.gT.ColorPalette.length]
                        },
                        class: !1 === goal.isFilterMatch ? "goal-not-match" : ""
                    });
                });
            }, HeatMapComponent.\u0275fac = function(t) {
                return new (t || HeatMapComponent)(core["\u0275\u0275directiveInject"](GoalsHierarchyPaneService), core["\u0275\u0275directiveInject"](goals_hierarchy_service.G), core["\u0275\u0275directiveInject"](goals_details_pane_launcher_service.c), core["\u0275\u0275directiveInject"](core.ChangeDetectorRef), core["\u0275\u0275directiveInject"](localization_service.o), core["\u0275\u0275directiveInject"](GoalsHeatmapService), core["\u0275\u0275directiveInject"](scorecard_service.G), core["\u0275\u0275directiveInject"](scorecard_configuration_service.V), core["\u0275\u0275directiveInject"](scorecard_capability_service.Nw), core["\u0275\u0275directiveInject"](ScorecardExpansionService));
            }, HeatMapComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: HeatMapComponent,
                selectors: [ [ "heat-map" ] ],
                viewQuery: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275viewQuery"](heat_map_component_c0, 5), core["\u0275\u0275viewQuery"](heat_map_component_c1, 5), 
                    core["\u0275\u0275viewQuery"](heat_map_component_c2, 5)), 2 & rf) {
                        var _t = void 0;
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.nameCell = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.hierarchyGoalCell = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.columnHeader = _t.first);
                    }
                },
                features: [ core["\u0275\u0275InheritDefinitionFeature"] ],
                decls: 11,
                vars: 7,
                consts: [ [ 3, "class", "columns", "data", "expandedNodeIds", "getChildren", "rowHash", "rowHeight", "rowSpacing", "stickyFirstColumn", "onResizeColumn", "onExpansionChange", 4, "ngIf" ], [ "nameCell", "" ], [ "hierarchyGoalCell", "" ], [ "columnHeader", "" ], [ "class", "configuration-pane", 3, "modulePath", "componentId", 4, "ngIf" ], [ "class", "display-settings-pane", 3, "modulePath", "componentId", 4, "ngIf" ], [ 3, "columns", "data", "expandedNodeIds", "getChildren", "rowHash", "rowHeight", "rowSpacing", "stickyFirstColumn", "onResizeColumn", "onExpansionChange" ], [ 1, "name", 3, "click" ], [ "class", "name-info", "name", "info", "size", "mini", 3, "pbiTooltip", 4, "ngIf" ], [ "infoTooltip", "" ], [ "name", "info", "size", "mini", 1, "name-info", 3, "pbiTooltip" ], [ 1, "goal-info-tooltip" ], [ 4, "ngIf", "ngIfElse" ], [ "manualTooltip", "" ], [ 4, "ngIf" ], [ 1, "tooltip-value-label" ], [ 3, "goal", "scorecard", "displaySettings", "isSelected", "click", 4, "ngIf" ], [ 3, "goal", "scorecard", "displaySettings", "isSelected", "click" ], [ "mat-button", "", "cdkMonitorElementFocus", "", 1, "heatmap-column-header", 3, "matMenuTriggerFor", "pbiTooltip" ], [ "name", "chevrondownsmall", "size", "mini", 1, "chevrondown" ], [ "hierarchyPathTooltip", "" ], [ "xPosition", "after", 1, "heatmap-column-menu", 3, "overlapTrigger" ], [ "heatmapColumnMenu", "matMenu" ], [ "mat-menu-item", "", 3, "click", 4, "ngIf" ], [ "mat-menu-item", "", 3, "disabled", "click" ], [ "name", "edit", "size", "small", 1, "icon" ], [ "localize", "MetricsCustomizeHeatmap" ], [ "mat-menu-item", "", 3, "disabled", "click", 4, "ngIf" ], [ "total", "" ], [ 1, "tooltip-hierarchy-name" ], [ "mat-menu-item", "", 3, "click" ], [ "name", "delete", "size", "small", 1, "icon" ], [ "localize", "MetricsHierarchy_Builder_Remove_Level" ], [ "name", "settings", "size", "small", 1, "icon" ], [ "localize", "DisplaySettings_Open" ], [ 1, "configuration-pane", 3, "modulePath", "componentId" ], [ 1, "display-settings-pane", 3, "modulePath", "componentId" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275template"](0, HeatMapComponent_tree_list_0_Template, 1, 10, "tree-list", 0), 
                    core["\u0275\u0275template"](1, HeatMapComponent_ng_template_1_Template, 6, 2, "ng-template", null, 1, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](3, HeatMapComponent_ng_template_3_Template, 1, 1, "ng-template", null, 2, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](5, HeatMapComponent_ng_template_5_Template, 15, 12, "ng-template", null, 3, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275template"](7, HeatMapComponent_pbi_lazy_load_7_Template, 1, 2, "pbi-lazy-load", 4), 
                    core["\u0275\u0275pipe"](8, "async"), core["\u0275\u0275template"](9, HeatMapComponent_pbi_lazy_load_9_Template, 1, 2, "pbi-lazy-load", 5), 
                    core["\u0275\u0275pipe"](10, "async")), 2 & rf && (core["\u0275\u0275property"]("ngIf", ctx.scorecard), 
                    core["\u0275\u0275advance"](7), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](8, 3, ctx.hierarchyPane.showHeatmapConfigurationPane$)), 
                    core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](10, 5, ctx.hierarchyPane.showHeatmapDisplaySettingsPane$)));
                },
                dependencies: [ common.NgIf, pbi_lazy_load_component.R, localize_directive.X, legacy_menu.W0, legacy_menu.tN, legacy_menu.D8, pbi_icon_component._, pbi_tooltip_directive.V, HierarchyGoalCell, TreeListComponent, common.AsyncPipe, localize_pipe.F ],
                styles: [ "[_nghost-%COMP%]{display:flex;flex-direction:row}[_nghost-%COMP%]   .heat-map[_ngcontent-%COMP%]{flex:1;overflow:hidden;padding-left:30px;--column-headers-backgroundColor: var(--scorecard-tableBackgroundColor);--row-backgroundColor: var(--scorecard-tableRowBackgroundColor)}[_nghost-%COMP%]   .heat-map.show-value-only[_ngcontent-%COMP%]{--cell-width: 88px}[_nghost-%COMP%]   .heat-map.show-value-target[_ngcontent-%COMP%]{--cell-width: 152px}[_nghost-%COMP%]   .heat-map.show-change-only[_ngcontent-%COMP%]{--cell-width: 132px}[_nghost-%COMP%]   .heat-map.show-change-target[_ngcontent-%COMP%]{--cell-width: 208px}[_nghost-%COMP%]   .name[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap;overflow:hidden;height:100%;display:flex;align-items:center;flex:1}[_nghost-%COMP%]   .name[_ngcontent-%COMP%]:hover{text-decoration:underline}[_nghost-%COMP%]   .name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden}[_nghost-%COMP%]   .name[_ngcontent-%COMP%]   .name-info[_ngcontent-%COMP%]{margin:0 6px}[_nghost-%COMP%]   .heatmap-column-header[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;padding:0;background:none;border:none}[_nghost-%COMP%]   .heatmap-column-header[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .heatmap-column-header[_ngcontent-%COMP%]:focus:hover, [_nghost-%COMP%]   .heatmap-column-header[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .heatmap-column-header[_ngcontent-%COMP%]:focus:hover:active{background-color:var(--fluent-theme-neutral-lighter-color, #F3F2F1)}[_nghost-%COMP%]   .heatmap-column-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:6px;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .heatmap-column-header[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{padding:6px}[_nghost-%COMP%]   .configuration-pane[_ngcontent-%COMP%]{border-left:1px solid var(--gray-50, #D2D0CE)}[_nghost-%COMP%]   .configuration-pane[_ngcontent-%COMP%]     pbi-side-pane{width:450px}[_nghost-%COMP%]     .column-center-name{justify-content:center}[_nghost-%COMP%]     .heat-map .column-headers{padding-left:6px}[_nghost-%COMP%]     .heat-map .column-headers .header{width:var(--cell-width)}[_nghost-%COMP%]     .row{border-left:6px solid transparent;border-radius:4px 8px 8px 4px;box-shadow:0 0 2px var(--colorNeutralShadowAmbient),0 2px 4px var(--colorNeutralShadowKey)}[_nghost-%COMP%]     .row.goal-not-match{opacity:50%}[_nghost-%COMP%]     .cell{width:var(--cell-width)}[_nghost-%COMP%]   hierarchy-goal-cell[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .name[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.goal-info-tooltip[_ngcontent-%COMP%]   .tooltip-value-label[_ngcontent-%COMP%], .tooltip-hierarchy-name[_ngcontent-%COMP%]{font-weight:600}  .mat-menu-panel.heatmap-column-menu{min-height:fit-content;margin-top:4px}  .mat-menu-panel.heatmap-column-menu .mat-menu-content{padding:0}  .mat-menu-panel.heatmap-column-menu .mat-menu-item{color:var(--gray-180, #252423);display:flex;flex-direction:row;align-items:center;height:36px}  .mat-menu-panel.heatmap-column-menu .mat-menu-item:disabled{background:transparent;color:var(--gray-80, #B3B0AD)}  .mat-menu-panel.heatmap-column-menu .mat-menu-item pbi-icon{display:flex;padding-right:8px}" ],
                changeDetection: 0
            }), HeatMapComponent;
        }(rx_component.w), relevant_goal_chart_component_c0 = [ "chart" ];
        function RelevantGoalChartComponent_ng_container_2_ng_container_1_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275elementContainer"](0);
        }
        function RelevantGoalChartComponent_ng_container_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, RelevantGoalChartComponent_ng_container_2_ng_container_1_Template, 1, 0, "ng-container", 8), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                core["\u0275\u0275nextContext"]();
                var _r4 = core["\u0275\u0275reference"](11);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngTemplateOutlet", _r4);
            }
        }
        function RelevantGoalChartComponent_div_7_ng_container_1_div_1_span_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "span", 20)(1, "span", 21), core["\u0275\u0275text"](2), 
            core["\u0275\u0275pipe"](3, "formatGoalValue"), core["\u0275\u0275elementEnd"]()()), 
            2 & rf) {
                var ctx_r10 = core["\u0275\u0275nextContext"](4);
                core["\u0275\u0275property"]("localize", ctx_r10.periodLocalizeString), core["\u0275\u0275advance"](2), 
                core["\u0275\u0275textInterpolate"](ctx_r10.valueChange.isPercentage ? ctx_r10.valueChange.changeAmount + "%" : core["\u0275\u0275pipeBind3"](3, 2, ctx_r10.valueChange.changeAmount, ctx_r10.categories, ctx_r10.goal.valuesFormatString));
            }
        }
        function RelevantGoalChartComponent_div_7_ng_container_1_div_1_ng_template_4_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "span", 22)(1, "span", 23), core["\u0275\u0275text"](2), 
            core["\u0275\u0275pipe"](3, "formatGoalValue"), core["\u0275\u0275elementEnd"](), 
            core["\u0275\u0275elementStart"](4, "span", 24), core["\u0275\u0275text"](5), core["\u0275\u0275elementEnd"]()()), 
            2 & rf) {
                var ctx_r12 = core["\u0275\u0275nextContext"](4);
                core["\u0275\u0275property"]("localize", ctx_r12.periodLocalizeString), core["\u0275\u0275advance"](2), 
                core["\u0275\u0275textInterpolate"](ctx_r12.valueChange.isPercentage ? ctx_r12.valueChange.changeAmount + "%" : core["\u0275\u0275pipeBind3"](3, 3, ctx_r12.valueChange.changeAmount, ctx_r12.categories, ctx_r12.goal.valuesFormatString)), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275textInterpolate"](ctx_r12.valueChange.period);
            }
        }
        function RelevantGoalChartComponent_div_7_ng_container_1_div_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 15), core["\u0275\u0275element"](1, "mat-icon", 16), 
            core["\u0275\u0275elementStart"](2, "div", 17), core["\u0275\u0275template"](3, RelevantGoalChartComponent_div_7_ng_container_1_div_1_span_3_Template, 4, 6, "span", 18), 
            core["\u0275\u0275template"](4, RelevantGoalChartComponent_div_7_ng_container_1_div_1_ng_template_4_Template, 6, 7, "ng-template", null, 19, core["\u0275\u0275templateRefExtractor"]), 
            core["\u0275\u0275elementEnd"]()()), 2 & rf) {
                var _r11 = core["\u0275\u0275reference"](5), ctx_r8 = core["\u0275\u0275nextContext"](3);
                core["\u0275\u0275advance"](1), core["\u0275\u0275classProp"]("rotate180", !ctx_r8.valueChange.isIncrease), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx_r8.periodLocalizeString && !ctx_r8.periodLocalizeString.endsWith("Custom"))("ngIfElse", _r11);
            }
        }
        function RelevantGoalChartComponent_div_7_ng_container_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, RelevantGoalChartComponent_div_7_ng_container_1_div_1_Template, 6, 4, "div", 11), 
            core["\u0275\u0275elementStart"](2, "div", 12, 13), core["\u0275\u0275element"](4, "goal-history-chart", 14), 
            core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var ctx_r7 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r7.valueChange), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("values", ctx_r7.sparklineValues)("formatString", ctx_r7.goal.valuesFormatString)("color", ctx_r7.statusColor)("showGoalTargets", !1)("axesOptions", ctx_r7.axesOptions)("legend", "None");
            }
        }
        function RelevantGoalChartComponent_div_7_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 9), core["\u0275\u0275template"](1, RelevantGoalChartComponent_div_7_ng_container_1_Template, 5, 7, "ng-container", 10), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r1 = core["\u0275\u0275nextContext"](), _r4 = core["\u0275\u0275reference"](11);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r1.hasData)("ngIfElse", _r4);
            }
        }
        function RelevantGoalChartComponent_ng_template_8_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 25), core["\u0275\u0275text"](1), 
            core["\u0275\u0275pipe"](2, "formatGoalValue"), core["\u0275\u0275elementEnd"]()), 
            2 & rf) {
                var ctx_r3 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind3"](2, 1, ctx_r3.currentValue.value, ctx_r3.categories, ctx_r3.goal.valuesFormatString));
            }
        }
        function RelevantGoalChartComponent_ng_template_10_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 26)(1, "div", 27)(2, "div", 28), 
            core["\u0275\u0275pipe"](3, "formatValue"), core["\u0275\u0275text"](4), core["\u0275\u0275pipe"](5, "formatValue"), 
            core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](6, "div", 29), 
            core["\u0275\u0275pipe"](7, "formatValue"), core["\u0275\u0275text"](8), core["\u0275\u0275pipe"](9, "formatValue"), 
            core["\u0275\u0275elementEnd"]()()()), 2 & rf) {
                var ctx_r5 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind3"](3, 4, ctx_r5.currentValue.value, ctx_r5.goal.valuesFormatString, !1)), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"](" ", core["\u0275\u0275pipeBind2"](5, 8, ctx_r5.currentValue.value, ctx_r5.goal.valuesFormatString), " "), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind3"](7, 11, ctx_r5.currentValue.target, ctx_r5.goal.valuesFormatString, !1)), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"](" /", core["\u0275\u0275pipeBind2"](9, 15, ctx_r5.currentValue.target, ctx_r5.goal.valuesFormatString), " ");
            }
        }
        var RelevantGoalChartComponent = function() {
            function RelevantGoalChartComponent(featureSwitches, localizationService) {
                this.featureSwitches = featureSwitches, this.localizationService = localizationService, 
                this.axesOptions = goal_history_chart_component.n, this.currentValue = null, this.supportCategoricalValues = this.featureSwitches.featureSwitches.goalsCategoricalValues;
            }
            return RelevantGoalChartComponent.prototype.ngOnInit = function() {
                var _a, _b, _this = this;
                debug.fF.assertValue(this.goal, "Missing goal"), this.setDisplayedVals(), this.locale = this.localizationService.currentLanguageLocale, 
                this.supportCategoricalValues && this.goal.valuesCategoryId && (this.categories = null !== (_b = null === (_a = _.find(this.goal.goalValueCategories, function(categoryList) {
                    return categoryList.id === _this.goal.valuesCategoryId;
                })) || void 0 === _a ? void 0 : _a.categories) && void 0 !== _b ? _b : []);
            }, RelevantGoalChartComponent.prototype.ngOnChanges = function(changes) {
                var _a, _b;
                changes.goal && (this.setDisplayedVals(), this.supportCategoricalValues && changes.goal.currentValue.valuesCategoryId && (this.categories = null !== (_b = null === (_a = _.find(this.goal.goalValueCategories, function(categoryList) {
                    return categoryList.id === changes.goal.currentValue.valuesCategoryId;
                })) || void 0 === _a ? void 0 : _a.categories) && void 0 !== _b ? _b : []));
            }, RelevantGoalChartComponent.prototype.ngAfterViewInit = function() {
                var _a;
                this.lineChartChangeObserver = scorecard_helper.q.observeAndRemoveFocusableAttributes(null === (_a = this.chart) || void 0 === _a ? void 0 : _a.nativeElement);
            }, RelevantGoalChartComponent.prototype.ngOnDestroy = function() {
                var _a;
                null === (_a = this.lineChartChangeObserver) || void 0 === _a || _a.disconnect();
            }, RelevantGoalChartComponent.prototype.setDisplayedVals = function() {
                var _a;
                this.currentValue = goal_helper.r.buildCurrentGoalValue(this.goal), this.valueChange = goal_helper.r.calculateValueChange(this.goal, this.featureSwitches.featureSwitches.goalsSparklineChangeAggregations), 
                this.periodLocalizeString = _.isNil(null === (_a = this.valueChange) || void 0 === _a ? void 0 : _a.period) ? void 0 : this.getPeriodSuffix(this.valueChange.period);
                var status = goal_status_helper.p.getGoalStatus(this.currentValue.status, this.goalStatuses);
                this.statusColor = goal_status_helper.p.getGoalSparklineColor(status.color), this.sparklineValues = sparkline_helper.b.buildSparklineValues(this.goal, this.featureSwitches.featureSwitches.goalsSparklineChangeAggregations), 
                this.hasData = _.some(this.sparklineValues);
            }, RelevantGoalChartComponent.prototype.getPeriodSuffix = function(period) {
                switch (period) {
                  case "Period_DoD":
                  case "Period_MoM":
                  case "Period_QoQ":
                  case "Period_WoW":
                  case "Period_YoY":
                    return period;

                  default:
                    return "PercentGrowth_Period_Custom";
                }
            }, RelevantGoalChartComponent.componentId = "RelevantGoalChartComponentId", RelevantGoalChartComponent.\u0275fac = function(t) {
                return new (t || RelevantGoalChartComponent)(core["\u0275\u0275directiveInject"](feature_switch_service.vZ), core["\u0275\u0275directiveInject"](localization_service.o));
            }, RelevantGoalChartComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: RelevantGoalChartComponent,
                selectors: [ [ "relevant-goal-chart" ] ],
                viewQuery: function(rf, ctx) {
                    var _t;
                    1 & rf && core["\u0275\u0275viewQuery"](relevant_goal_chart_component_c0, 5), 2 & rf && core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.chart = _t.first);
                },
                inputs: {
                    goal: "goal",
                    goalStatuses: "goalStatuses"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 12,
                vars: 7,
                consts: [ [ 1, "relevant-goal" ], [ 1, "title-and-value" ], [ 4, "ngIf" ], [ 1, "title", 3, "pbiTooltip" ], [ 3, "pbiTooltip" ], [ "class", "growth-and-visual", 4, "ngIf", "ngIfElse" ], [ "useCategories", "" ], [ "valueAndTarget", "" ], [ 4, "ngTemplateOutlet" ], [ 1, "growth-and-visual" ], [ 4, "ngIf", "ngIfElse" ], [ "class", "growth", 4, "ngIf" ], [ 1, "visual" ], [ "chart", "" ], [ "type", "AreaChart", 3, "values", "formatString", "color", "showGoalTargets", "axesOptions", "legend" ], [ 1, "growth" ], [ "fontIcon", "pbi-glyph-arrow", 1, "glyphicon", "glyph-micro" ], [ 1, "change" ], [ "class", "period", "localize-fragments", "", 3, "localize", 4, "ngIf", "ngIfElse" ], [ "customPeriod", "" ], [ "localize-fragments", "", 1, "period", 3, "localize" ], [ "fragment-index", "0", 1, "valueChangePeriod" ], [ "localize-fragments", "", 3, "localize" ], [ "fragment-index", "0" ], [ "fragment-index", "1" ], [ 1, "current-value" ], [ 1, "value-wrapper" ], [ 1, "value-target" ], [ 1, "value", 3, "pbiTooltip" ], [ 1, "target", 3, "pbiTooltip" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 0)(1, "div", 1), core["\u0275\u0275template"](2, RelevantGoalChartComponent_ng_container_2_Template, 2, 1, "ng-container", 2), 
                    core["\u0275\u0275elementStart"](3, "span", 3), core["\u0275\u0275text"](4), core["\u0275\u0275elementStart"](5, "span", 4), 
                    core["\u0275\u0275text"](6), core["\u0275\u0275elementEnd"]()()(), core["\u0275\u0275template"](7, RelevantGoalChartComponent_div_7_Template, 2, 2, "div", 5), 
                    core["\u0275\u0275template"](8, RelevantGoalChartComponent_ng_template_8_Template, 3, 5, "ng-template", null, 6, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](10, RelevantGoalChartComponent_ng_template_10_Template, 10, 18, "ng-template", null, 7, core["\u0275\u0275templateRefExtractor"])), 
                    2 & rf) {
                        var _r2 = core["\u0275\u0275reference"](9);
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx.hasData && !(ctx.supportCategoricalValues && ctx.goal.valuesCategoryId)), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("pbiTooltip", ctx.goal.scorecardName), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"]("", ctx.goal.scorecardName, " > "), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("pbiTooltip", ctx.goal.name), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"](" ", ctx.goal.name, ""), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !(ctx.supportCategoricalValues && ctx.goal.valuesCategoryId))("ngIfElse", _r2);
                    }
                },
                dependencies: [ common.NgIf, common.NgTemplateOutlet, localize_directive.X, icon.Hw, pbi_tooltip_directive.V, goal_history_chart_component.R, format_goal_value_pipe.D, format_value_pipe.c ],
                styles: [ '.relevant-goal[_ngcontent-%COMP%]{flex:1;width:284px;background-color:var(--fluent-theme-white-color, #FFF);border-radius:2px}.relevant-goal[_ngcontent-%COMP%]   .rotate180[_ngcontent-%COMP%]{transform:rotate(180deg);-webkit-transform:rotate(180deg)}.relevant-goal[_ngcontent-%COMP%]:hover, .relevant-goal[_ngcontent-%COMP%]:focus:hover{cursor:pointer}.relevant-goal[_ngcontent-%COMP%]   .title-and-value[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:66px;padding:0 16px}.relevant-goal[_ngcontent-%COMP%]   .title-and-value[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--lg-font-size, 16px);font-weight:var(--font-weight-regular, 400);line-height:20px;color:var(--fluent-theme-neutral-primary-color, #323130);white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.relevant-goal[_ngcontent-%COMP%]   .title-and-value[_ngcontent-%COMP%]   .value-target[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:18px}.relevant-goal[_ngcontent-%COMP%]   .title-and-value[_ngcontent-%COMP%]   .value-target[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{font-size:14px}.relevant-goal[_ngcontent-%COMP%]   .growth-and-visual[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:168px}.relevant-goal[_ngcontent-%COMP%]   .growth-and-visual[_ngcontent-%COMP%]   .growth[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:1px;padding:7px 16px}.relevant-goal[_ngcontent-%COMP%]   .growth-and-visual[_ngcontent-%COMP%]   .growth[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:8px!important;width:8px!important}.relevant-goal[_ngcontent-%COMP%]   .growth-and-visual[_ngcontent-%COMP%]   .growth[_ngcontent-%COMP%]   .rotate180[_ngcontent-%COMP%]{transform:rotate(180deg)}.relevant-goal[_ngcontent-%COMP%]   .growth-and-visual[_ngcontent-%COMP%]   .growth[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);margin-left:4px}.relevant-goal[_ngcontent-%COMP%]   .growth-and-visual[_ngcontent-%COMP%]   .growth[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]   .valueChangePeriod[_ngcontent-%COMP%]{margin-right:4px}.relevant-goal[_ngcontent-%COMP%]   .growth-and-visual[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]{flex:1;display:flex;padding:7px 10px}.relevant-goal[_ngcontent-%COMP%]   .growth-and-visual[_ngcontent-%COMP%]   .visual[_ngcontent-%COMP%]   goal-history-chart[_ngcontent-%COMP%]{width:100%;flex:1}.relevant-goal[_ngcontent-%COMP%]   .growth-and-visual[_ngcontent-%COMP%]   .value-wrapper[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center}.relevant-goal[_ngcontent-%COMP%]   .growth-and-visual[_ngcontent-%COMP%]   .value-wrapper[_ngcontent-%COMP%]   .value-target[_ngcontent-%COMP%]{margin:auto}.relevant-goal[_ngcontent-%COMP%]   .growth-and-visual[_ngcontent-%COMP%]   .value-wrapper[_ngcontent-%COMP%]   .value-target[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:34px}.relevant-goal[_ngcontent-%COMP%]   .growth-and-visual[_ngcontent-%COMP%]   .value-wrapper[_ngcontent-%COMP%]   .value-target[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{font-size:22px}.relevant-goal[_ngcontent-%COMP%]   .current-value[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:168px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--pbi-font-32, 32px);font-weight:var(--font-weight-semi-bold, 600)}.relevant-goal[_ngcontent-%COMP%]   .value-target[_ngcontent-%COMP%]{display:flex;align-items:baseline}.relevant-goal[_ngcontent-%COMP%]   .value-target[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-primary-color, #323130);font-weight:var(--font-weight-semi-bold, 600)}.relevant-goal[_ngcontent-%COMP%]   .value-target[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-primary-alt-color, #3B3A39)}.relevant-goal[_ngcontent-%COMP%]   .date-and-status[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;height:44px;padding:0 16px}.relevant-goal[_ngcontent-%COMP%]   .date-and-status[_ngcontent-%COMP%]   .target-date[_ngcontent-%COMP%]{display:flex;align-items:center;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);font-size:14px;line-height:18px;color:var(--fluent-theme-neutral-secondary-color, #605E5C);white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.relevant-goal[_ngcontent-%COMP%]   .date-and-status[_ngcontent-%COMP%]   .target-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:4px}.relevant-goal[_ngcontent-%COMP%]   .date-and-status[_ngcontent-%COMP%]   status-icon[_ngcontent-%COMP%]{width:95px;margin-right:7px}.relevant-goal[_ngcontent-%COMP%]   .date-and-status[_ngcontent-%COMP%]   status-icon[_ngcontent-%COMP%]     .status{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}' ],
                changeDetection: 0
            }), RelevantGoalChartComponent;
        }();
        function RelevantGoalKpiComponent_goal_kpi_2_Template(rf, ctx) {
            if (1 & rf) {
                var _r3 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "goal-kpi", 5), core["\u0275\u0275listener"]("onSelected", function($event) {
                    core["\u0275\u0275restoreView"](_r3);
                    var ctx_r2 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r2.onPointSelected($event));
                }), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("values", ctx_r0.goal.goalValues)("formatString", ctx_r0.goal.valuesFormatString);
            }
        }
        function RelevantGoalKpiComponent_ng_container_4_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "div", 6), 
            core["\u0275\u0275text"](2), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](3, "div", 7), 
            core["\u0275\u0275element"](4, "label", 8), core["\u0275\u0275elementStart"](5, "span"), 
            core["\u0275\u0275text"](6), core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275elementContainerEnd"]()), 
            2 & rf) {
                var ctx_r1 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate"](ctx_r1.goal.name), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275textInterpolate1"](" : ", ctx_r1.completionDate, "");
            }
        }
        var RelevantGoalKpiComponent = function() {
            function RelevantGoalKpiComponent(localizationService) {
                this.localizationService = localizationService;
            }
            return RelevantGoalKpiComponent.prototype.ngOnInit = function() {
                if (this.goal.completionDate) {
                    var locale = this.localizationService.currentLanguageLocale;
                    this.completionDate = new Date(this.goal.completionDate).toLocaleDateString(locale, {
                        day: "numeric",
                        month: "short",
                        year: "numeric"
                    });
                }
            }, RelevantGoalKpiComponent.componentId = "RelevantGoalKpiComponentId", RelevantGoalKpiComponent.\u0275fac = function(t) {
                return new (t || RelevantGoalKpiComponent)(core["\u0275\u0275directiveInject"](localization_service.o));
            }, RelevantGoalKpiComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: RelevantGoalKpiComponent,
                selectors: [ [ "relevant-goal-kpi" ] ],
                inputs: {
                    goal: "goal"
                },
                decls: 5,
                vars: 2,
                consts: [ [ 1, "relevant-goal", "pbi-depth-1", "pbi-depth-interactive" ], [ 1, "relevant-goal-kpi" ], [ 3, "values", "formatString", "onSelected", 4, "ngIf" ], [ 1, "relevant-goal-details" ], [ 4, "ngIf" ], [ 3, "values", "formatString", "onSelected" ], [ 1, "title" ], [ 1, "target-date" ], [ "localize", "KpiTargetDateFieldListDisplayName" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "div", 0)(1, "div", 1), core["\u0275\u0275template"](2, RelevantGoalKpiComponent_goal_kpi_2_Template, 1, 2, "goal-kpi", 2), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](3, "div", 3), 
                    core["\u0275\u0275template"](4, RelevantGoalKpiComponent_ng_container_4_Template, 7, 2, "ng-container", 4), 
                    core["\u0275\u0275elementEnd"]()()), 2 & rf && (core["\u0275\u0275advance"](2), 
                    core["\u0275\u0275property"]("ngIf", ctx.goal), core["\u0275\u0275advance"](2), 
                    core["\u0275\u0275property"]("ngIf", ctx.goal));
                },
                dependencies: [ common.NgIf, localize_directive.X, GoalKpiComponent ],
                styles: [ '.relevant-goal[_ngcontent-%COMP%]{flex:1;height:262px;width:285px;background:var(--fluent-theme-white-color, #FFF);border-radius:2px}.relevant-goal[_ngcontent-%COMP%]:hover, .relevant-goal[_ngcontent-%COMP%]:focus:hover{cursor:pointer}.relevant-goal[_ngcontent-%COMP%]   .relevant-goal-details[_ngcontent-%COMP%]{border-top:1px solid var(--fluent-theme-neutral-light-color, #EDEBE9);padding:16px}.relevant-goal[_ngcontent-%COMP%]   .relevant-goal-details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600);line-height:20px;color:var(--fluent-theme-neutral-primary-color, #323130);white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.relevant-goal[_ngcontent-%COMP%]   .relevant-goal-details[_ngcontent-%COMP%]   .target-date[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);line-height:16px;color:var(--fluent-theme-neutral-secondary-color, #605E5C);white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.relevant-goal[_ngcontent-%COMP%]   .relevant-goal-kpi[_ngcontent-%COMP%]{height:194px}.relevant-goal[_ngcontent-%COMP%]   .relevant-goal-kpi[_ngcontent-%COMP%]   visual-modern[_ngcontent-%COMP%]{border:none!important;padding:0!important}' ],
                changeDetection: 0
            }), RelevantGoalKpiComponent;
        }(), RecommendedContentSourceType = function(RecommendedContentSourceType) {
            return RecommendedContentSourceType[RecommendedContentSourceType.None = 0] = "None", 
            RecommendedContentSourceType[RecommendedContentSourceType.View = 1] = "View", RecommendedContentSourceType[RecommendedContentSourceType.TenantView = 2] = "TenantView", 
            RecommendedContentSourceType[RecommendedContentSourceType.Favorite = 3] = "Favorite", 
            RecommendedContentSourceType[RecommendedContentSourceType.Frequent = 4] = "Frequent", 
            RecommendedContentSourceType[RecommendedContentSourceType.Promoted = 5] = "Promoted", 
            RecommendedContentSourceType[RecommendedContentSourceType.Learning = 6] = "Learning", 
            RecommendedContentSourceType[RecommendedContentSourceType.Discover = 7] = "Discover", 
            RecommendedContentSourceType[RecommendedContentSourceType.Teams = 8] = "Teams", 
            RecommendedContentSourceType[RecommendedContentSourceType.TeamAnalytics = 9] = "TeamAnalytics", 
            RecommendedContentSourceType[RecommendedContentSourceType.PromotedSample = 10] = "PromotedSample", 
            RecommendedContentSourceType;
        }({});
        function RelevantMeasureComponent_span_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "span", 7), core["\u0275\u0275element"](1, "tri-svg-icon", 8), 
            core["\u0275\u0275text"](2), core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("pbiTooltip", ctx_r0.recommendationReason), core["\u0275\u0275advance"](2), 
                core["\u0275\u0275textInterpolate1"](" ", ctx_r0.recommendationReason, "");
            }
        }
        var RelevantMeasureComponent = function() {
            function RelevantMeasureComponent(localizationService) {
                this.localizationService = localizationService;
            }
            return RelevantMeasureComponent.prototype.ngOnChanges = function(changes) {
                var _a;
                (this.relevantMeasure || changes.relevantMeasure) && (this.recommendationReason = function(recommendedContentSourceType, localizationService) {
                    var result = "";
                    switch (recommendedContentSourceType) {
                      case RecommendedContentSourceType.View:
                        result = localizationService.format("Recommended_Reason_View");
                        break;

                      case RecommendedContentSourceType.Favorite:
                        result = localizationService.get("Recommended_Reason_Favorite");
                        break;

                      case RecommendedContentSourceType.Frequent:
                        result = localizationService.get("Recommended_Reason_Frequent");
                        break;

                      case RecommendedContentSourceType.Promoted:
                        result = localizationService.format("Recommended_Reason_Featured");
                        break;

                      case RecommendedContentSourceType.Learning:
                        result = localizationService.get("TopNav_HelpMenu_GettingStarted");
                        break;

                      case RecommendedContentSourceType.Discover:
                        result = localizationService.get("Recommended_Reason_Discover");
                        break;

                      case RecommendedContentSourceType.TeamAnalytics:
                        result = localizationService.get("Teams_Analyze_Usage");
                        break;

                      default:
                        result = localizationService.get("Recommended_Reason_None");
                    }
                    return result;
                }(null === (_a = this.relevantMeasure) || void 0 === _a ? void 0 : _a.recommendationReason, this.localizationService));
            }, RelevantMeasureComponent.componentId = "RelevantMeasureComponentId", RelevantMeasureComponent.\u0275fac = function(t) {
                return new (t || RelevantMeasureComponent)(core["\u0275\u0275directiveInject"](localization_service.o));
            }, RelevantMeasureComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: RelevantMeasureComponent,
                selectors: [ [ "relevant-measure" ] ],
                inputs: {
                    relevantMeasure: "relevantMeasure"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 11,
                vars: 4,
                consts: [ [ 1, "relevant-measure" ], [ 1, "measure" ], [ 1, "title-and-value" ], [ "class", "title", 3, "pbiTooltip", 4, "ngIf" ], [ 3, "pbiTooltip" ], [ 1, "measure-report" ], [ "fontIcon", "pbi-glyph-barchart", 1, "glyph-small" ], [ 1, "title", 3, "pbiTooltip" ], [ "name", "folder_open_20_regular", "tri-svg-icon-16", "" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2), 
                    core["\u0275\u0275template"](3, RelevantMeasureComponent_span_3_Template, 3, 2, "span", 3), 
                    core["\u0275\u0275elementStart"](4, "div", 4), core["\u0275\u0275text"](5), core["\u0275\u0275elementEnd"]()(), 
                    core["\u0275\u0275elementStart"](6, "div", 5)(7, "div"), core["\u0275\u0275element"](8, "mat-icon", 6), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](9, "div"), core["\u0275\u0275text"](10), 
                    core["\u0275\u0275elementEnd"]()()()()), 2 & rf && (core["\u0275\u0275advance"](3), 
                    core["\u0275\u0275property"]("ngIf", !(null == ctx.relevantMeasure || !ctx.relevantMeasure.recommendationReason)), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("pbiTooltip", null == ctx.relevantMeasure ? null : ctx.relevantMeasure.name), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate"](null == ctx.relevantMeasure ? null : ctx.relevantMeasure.name), 
                    core["\u0275\u0275advance"](5), core["\u0275\u0275textInterpolate"](null == ctx.relevantMeasure ? null : ctx.relevantMeasure.value));
                },
                dependencies: [ common.NgIf, icon.Hw, pbi_tooltip_directive.V, tri_svg_icon_component.M ],
                styles: [ '.relevant-measure[_ngcontent-%COMP%]{flex:1;width:284px;background-color:var(--fluent-theme-white-color, #FFF);border-radius:2px}.relevant-measure[_ngcontent-%COMP%]:hover, .relevant-measure[_ngcontent-%COMP%]:focus:hover{cursor:pointer}.relevant-measure[_ngcontent-%COMP%]   .title-and-value[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:66px;padding:0 16px}.relevant-measure[_ngcontent-%COMP%]   .title-and-value[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--lg-font-size, 16px);font-weight:var(--font-weight-regular, 400);line-height:20px;color:var(--fluent-theme-neutral-primary-color, #323130);white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.relevant-measure[_ngcontent-%COMP%]   .measure[_ngcontent-%COMP%]{height:100%}.relevant-measure[_ngcontent-%COMP%]   .measure[_ngcontent-%COMP%]   .measure-report[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:168px}.relevant-measure[_ngcontent-%COMP%]   .measure[_ngcontent-%COMP%]   .measure-report[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:48px!important;width:48px!important}.relevant-measure[_ngcontent-%COMP%]   .measure[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}' ],
                changeDetection: 0
            }), RelevantMeasureComponent;
        }(), scorecard_access_banner_component = __webpack_require__(26410);
        function ScorecardBoardViewComponent_div_0_Template(rf, ctx) {
            if (1 & rf) {
                var _r4 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div")(1, "input", 7), core["\u0275\u0275listener"]("ngModelChange", function($event) {
                    core["\u0275\u0275restoreView"](_r4);
                    var ctx_r3 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r3.bucketId = $event);
                }), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](2, "input", 8), 
                core["\u0275\u0275listener"]("ngModelChange", function($event) {
                    core["\u0275\u0275restoreView"](_r4);
                    var ctx_r5 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r5.bucketName = $event);
                }), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](3, "button", 9), 
                core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r4);
                    var ctx_r6 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r6.addBucket());
                }), core["\u0275\u0275element"](4, "mat-icon", 10)(5, "span", 11), core["\u0275\u0275elementEnd"](), 
                core["\u0275\u0275elementStart"](6, "button", 9), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r4);
                    var ctx_r7 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r7.deleteBucket());
                }), core["\u0275\u0275element"](7, "mat-icon", 12)(8, "span", 13), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngModel", ctx_r0.bucketId), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngModel", ctx_r0.bucketName);
            }
        }
        function ScorecardBoardViewComponent_div_4_Template(rf, ctx) {
            if (1 & rf) {
                var _r10 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 14), core["\u0275\u0275listener"]("cdkDragEntered", function($event) {
                    core["\u0275\u0275restoreView"](_r10);
                    var ctx_r9 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r9.dragEnteredGroup($event));
                }), core["\u0275\u0275pipe"](1, "async"), core["\u0275\u0275elementStart"](2, "label", 15), 
                core["\u0275\u0275text"](3), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var eachVisualGroup_r8 = ctx.$implicit, ctx_r1 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("cdkDragDisabled", !core["\u0275\u0275pipeBind1"](1, 2, ctx_r1.isEditMode$)), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275textInterpolate"](eachVisualGroup_r8.name);
            }
        }
        function ScorecardBoardViewComponent_div_7_Template(rf, ctx) {
            if (1 & rf) {
                var _r13 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 16)(1, "goal-tile", 17), core["\u0275\u0275listener"]("cdkDropListDropped", function($event) {
                    core["\u0275\u0275restoreView"](_r13);
                    var ctx_r12 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r12.drop($event));
                }), core["\u0275\u0275pipe"](2, "async"), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var goal_r11 = ctx.$implicit, ctx_r2 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("goal", goal_r11)("goalStatuses", ctx_r2.metricsGoalStatuses)("settings", ctx_r2.boardSettings)("cdkDragDisabled", !core["\u0275\u0275pipeBind1"](2, 4, ctx_r2.isEditMode$));
            }
        }
        var ScorecardBoardViewComponent = function() {
            function ScorecardBoardViewComponent(scorecardService) {
                var _this = this;
                this.scorecardService = scorecardService, this.bucketArr = [], this.bucketName = "", 
                this.bucketId = "", this.boardGoals = [], this.boardGroups = [], this.isEditMode$ = this.scorecardService.isEditMode(), 
                this.scorecardBoard$ = this.scorecardService.getBoard(), this.scorecardBoard$.pipe().subscribe(function(scorecard) {
                    _this.boardGroups = null == scorecard ? void 0 : scorecard.groups;
                }), this.boardGoals = this.scorecardService.flatten();
            }
            return ScorecardBoardViewComponent.prototype.addBucket = function() {
                "" !== this.bucketName && this.scorecardService.addGroupToBoard(this.bucketId, this.bucketName);
            }, ScorecardBoardViewComponent.prototype.deleteBucket = function() {
                this.scorecardService.deleteGroupFromBoard(this.bucketId);
            }, ScorecardBoardViewComponent.prototype.drop = function(event) {
                event.previousContainer === event.container ? (0, drag_drop.bA)(event.container.data, event.previousIndex, event.currentIndex) : (0, 
                drag_drop.EA)(event.previousContainer.data, event.container.data, event.previousIndex, event.currentIndex);
            }, ScorecardBoardViewComponent.\u0275fac = function(t) {
                return new (t || ScorecardBoardViewComponent)(core["\u0275\u0275directiveInject"](scorecard_service.G));
            }, ScorecardBoardViewComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: ScorecardBoardViewComponent,
                selectors: [ [ "scorecard-board-view" ] ],
                inputs: {
                    boardSettings: "boardSettings",
                    metricsGoalStatuses: "metricsGoalStatuses"
                },
                decls: 8,
                vars: 6,
                consts: [ [ 4, "ngIf" ], [ "cdkDropListGroup", "", 1, "group-container" ], [ "cdkDropList", "", 1, "group-list", 3, "cdkDropListData", "cdkDropListDropped" ], [ "cdkDropList", "", "class", "group-box", "cdkDrag", "", 3, "cdkDragDisabled", "cdkDragEntered", 4, "ngFor", "ngForOf" ], [ "cdkDropListGroup", "" ], [ 1, "metric-container" ], [ "cdkDropList", "", 4, "ngFor", "ngForOf" ], [ "type", "text", "placeholder", "id", 3, "ngModel", "ngModelChange" ], [ "type", "text", "placeholder", "name", 3, "ngModel", "ngModelChange" ], [ 3, "click" ], [ "fontIcon", "pbi-glyph-add", 1, "glyphicon", "glyph-mini" ], [ "localize", "Add_Group_To_Board_Visual" ], [ "fontIcon", "pbi-glyph-delete", 1, "glyphicon", "glyph-mini" ], [ "localize", "Delete_Group_From_Board_Visual" ], [ "cdkDropList", "", "cdkDrag", "", 1, "group-box", 3, "cdkDragDisabled", "cdkDragEntered" ], [ 1, "group-name" ], [ "cdkDropList", "" ], [ "cdkDrag", "", 1, "metric-tile", 3, "goal", "goalStatuses", "settings", "cdkDragDisabled", "cdkDropListDropped" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275template"](0, ScorecardBoardViewComponent_div_0_Template, 9, 2, "div", 0), 
                    core["\u0275\u0275pipe"](1, "async"), core["\u0275\u0275elementStart"](2, "div", 1)(3, "div", 2), 
                    core["\u0275\u0275listener"]("cdkDropListDropped", function($event) {
                        return ctx.drop($event);
                    }), core["\u0275\u0275template"](4, ScorecardBoardViewComponent_div_4_Template, 4, 4, "div", 3), 
                    core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275elementStart"](5, "div", 4)(6, "div", 5), 
                    core["\u0275\u0275template"](7, ScorecardBoardViewComponent_div_7_Template, 3, 6, "div", 6), 
                    core["\u0275\u0275elementEnd"]()()), 2 & rf && (core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](1, 4, ctx.isEditMode$)), 
                    core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("cdkDropListData", ctx.boardGroups), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngForOf", ctx.boardGroups), 
                    core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngForOf", ctx.boardGoals));
                },
                dependencies: [ common.NgForOf, common.NgIf, drag_drop.Wj, drag_drop.Fd, drag_drop.Zt, fesm2022_forms.Fj, fesm2022_forms.JJ, fesm2022_forms.On, localize_directive.X, icon.Hw, GoalTileComponent, common.AsyncPipe ],
                styles: [ ".metric-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:row;gap:20px;margin:30px}.metric-container[_ngcontent-%COMP%]   .metric-tile[_ngcontent-%COMP%]{width:250px;height:180px;display:flex}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}.group-container[_ngcontent-%COMP%]{max-width:100%;margin:0 25px 25px 0;vertical-align:top}.group-container[_ngcontent-%COMP%]   .group-list[_ngcontent-%COMP%]{overflow:hidden;display:block}.group-container[_ngcontent-%COMP%]   .group-list[_ngcontent-%COMP%]   .group-box[_ngcontent-%COMP%]{padding:20px;margin:20px;background-color:#d3d3d3;border-radius:20px;min-height:250px;display:flex;flex-wrap:wrap;flex-direction:row;gap:20px}.delete-group-button[_ngcontent-%COMP%]{font-size:medium;margin-left:auto;padding:0;border:none;background:none}.group-name[_ngcontent-%COMP%]{font-weight:700}" ]
            }), ScorecardBoardViewComponent;
        }(), scorecard_context_menu_component_c0 = function(a0) {
            return {
                action: a0
            };
        };
        function ScorecardContextMenuComponent_ng_container_1_ng_container_1_ng_container_1_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275elementContainer"](0, 5), 2 & rf) {
                var action_r11 = ctx.$implicit;
                core["\u0275\u0275nextContext"](3);
                var _r1 = core["\u0275\u0275reference"](3);
                core["\u0275\u0275property"]("ngTemplateOutlet", _r1)("ngTemplateOutletContext", core["\u0275\u0275pureFunction1"](2, scorecard_context_menu_component_c0, action_r11));
            }
        }
        function ScorecardContextMenuComponent_ng_container_1_ng_container_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, ScorecardContextMenuComponent_ng_container_1_ng_container_1_ng_container_1_Template, 1, 4, "ng-container", 4), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var actions_r9 = ctx.ngIf;
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngForOf", actions_r9);
            }
        }
        function ScorecardContextMenuComponent_ng_container_1_button_2_Template(rf, ctx) {
            if (1 & rf) {
                var _r13 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 6), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r13);
                    var ctx_r12 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r12.args.onAddNote());
                }), core["\u0275\u0275element"](1, "pbi-icon", 7)(2, "div", 8), core["\u0275\u0275elementEnd"]();
            }
        }
        function ScorecardContextMenuComponent_ng_container_1_button_3_Template(rf, ctx) {
            if (1 & rf) {
                var _r15 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 6), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r15);
                    var ctx_r14 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r14.args.onEditCheckIn());
                }), core["\u0275\u0275element"](1, "pbi-icon", 9)(2, "div", 10), core["\u0275\u0275elementEnd"]();
            }
        }
        function ScorecardContextMenuComponent_ng_container_1_button_4_Template(rf, ctx) {
            if (1 & rf) {
                var _r17 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 6), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r17);
                    var ctx_r16 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r16.args.onDeleteCheckIn());
                }), core["\u0275\u0275element"](1, "pbi-icon", 11)(2, "div", 12), core["\u0275\u0275elementEnd"]();
            }
        }
        function ScorecardContextMenuComponent_ng_container_1_button_5_Template(rf, ctx) {
            if (1 & rf) {
                var _r19 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 6), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r19);
                    var ctx_r18 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r18.args.onEditNote());
                }), core["\u0275\u0275element"](1, "pbi-icon", 9)(2, "div", 13), core["\u0275\u0275elementEnd"]();
            }
        }
        function ScorecardContextMenuComponent_ng_container_1_button_6_Template(rf, ctx) {
            if (1 & rf) {
                var _r21 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 6), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r21);
                    var ctx_r20 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r20.args.onDeleteNote());
                }), core["\u0275\u0275element"](1, "pbi-icon", 11)(2, "div", 14), core["\u0275\u0275elementEnd"]();
            }
        }
        function ScorecardContextMenuComponent_ng_container_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, ScorecardContextMenuComponent_ng_container_1_ng_container_1_Template, 2, 1, "ng-container", 1), 
            core["\u0275\u0275template"](2, ScorecardContextMenuComponent_ng_container_1_button_2_Template, 3, 0, "button", 3), 
            core["\u0275\u0275template"](3, ScorecardContextMenuComponent_ng_container_1_button_3_Template, 3, 0, "button", 3), 
            core["\u0275\u0275template"](4, ScorecardContextMenuComponent_ng_container_1_button_4_Template, 3, 0, "button", 3), 
            core["\u0275\u0275template"](5, ScorecardContextMenuComponent_ng_container_1_button_5_Template, 3, 0, "button", 3), 
            core["\u0275\u0275template"](6, ScorecardContextMenuComponent_ng_container_1_button_6_Template, 3, 0, "button", 3), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r0.args.goalActions), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r0.args.onAddNote), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r0.args.onEditCheckIn), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r0.args.onDeleteCheckIn), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r0.args.onEditNote), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r0.args.onDeleteNote);
            }
        }
        function ScorecardContextMenuComponent_ng_template_2_tooltip_wrapper_0_mat_icon_2_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "mat-icon", 22), 2 & rf) {
                var action_r22 = core["\u0275\u0275nextContext"](2).action;
                core["\u0275\u0275property"]("fontIcon", action_r22.iconName);
            }
        }
        function ScorecardContextMenuComponent_ng_template_2_tooltip_wrapper_0_pbi_icon_3_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "pbi-icon", 23), 2 & rf) {
                var action_r22 = core["\u0275\u0275nextContext"](2).action;
                core["\u0275\u0275property"]("name", action_r22.iconName);
            }
        }
        function ScorecardContextMenuComponent_ng_template_2_tooltip_wrapper_0_tri_svg_icon_4_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "tri-svg-icon", 24), 2 & rf) {
                var action_r22 = core["\u0275\u0275nextContext"](2).action;
                core["\u0275\u0275property"]("name", action_r22.iconName);
            }
        }
        function ScorecardContextMenuComponent_ng_template_2_tooltip_wrapper_0_Template(rf, ctx) {
            if (1 & rf) {
                var _r32 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "tooltip-wrapper", 16)(1, "button", 17), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r32);
                    var action_r22 = core["\u0275\u0275nextContext"]().action;
                    return core["\u0275\u0275resetView"](action_r22.onClick());
                }), core["\u0275\u0275template"](2, ScorecardContextMenuComponent_ng_template_2_tooltip_wrapper_0_mat_icon_2_Template, 1, 1, "mat-icon", 18), 
                core["\u0275\u0275template"](3, ScorecardContextMenuComponent_ng_template_2_tooltip_wrapper_0_pbi_icon_3_Template, 1, 1, "pbi-icon", 19), 
                core["\u0275\u0275template"](4, ScorecardContextMenuComponent_ng_template_2_tooltip_wrapper_0_tri_svg_icon_4_Template, 1, 1, "tri-svg-icon", 20), 
                core["\u0275\u0275element"](5, "div", 21), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var action_r22 = core["\u0275\u0275nextContext"]().action;
                core["\u0275\u0275property"]("tooltipKey", null == action_r22 ? null : action_r22.disabledTooltipKey), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("disabled", action_r22.disabled), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", "mat" === action_r22.iconType), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", "pbi" === action_r22.iconType), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", "tri" === action_r22.iconType), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("localize", action_r22.labelKey);
            }
        }
        function ScorecardContextMenuComponent_ng_template_2_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275template"](0, ScorecardContextMenuComponent_ng_template_2_tooltip_wrapper_0_Template, 6, 6, "tooltip-wrapper", 15), 
            2 & rf && core["\u0275\u0275property"]("ngIf", ctx.action);
        }
        var ScorecardContextMenuComponent = function() {
            function ScorecardContextMenuComponent() {}
            return ScorecardContextMenuComponent.\u0275fac = function(t) {
                return new (t || ScorecardContextMenuComponent);
            }, ScorecardContextMenuComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: ScorecardContextMenuComponent,
                selectors: [ [ "scorecard-context-menu" ] ],
                inputs: {
                    args: "args"
                },
                decls: 4,
                vars: 1,
                consts: [ [ 1, "context-menu" ], [ 4, "ngIf" ], [ "actionOption", "" ], [ "class", "option", 3, "click", 4, "ngIf" ], [ 3, "ngTemplateOutlet", "ngTemplateOutletContext", 4, "ngFor", "ngForOf" ], [ 3, "ngTemplateOutlet", "ngTemplateOutletContext" ], [ 1, "option", 3, "click" ], [ "name", "add", "size", "small", 1, "icon" ], [ "localize", "MetricsDetailsPane_DetailsTab_Add_Note", 1, "text" ], [ "name", "edit", "size", "small", 1, "icon" ], [ "localize", "MetricsDetailsPane_DetailsTab_Edit_Check_In", 1, "text" ], [ "name", "delete", "size", "small", 1, "icon" ], [ "localize", "MetricsDetailsPane_DetailsTab_Delete_Check_In", 1, "text" ], [ "localize", "MetricsDetailsPane_DetailsTab_Edit_Note", 1, "text" ], [ "localize", "MetricsDetailsPane_DetailsTab_Delete_Note", 1, "text" ], [ 3, "tooltipKey", 4, "ngIf" ], [ 3, "tooltipKey" ], [ "mat-icon-button", "", 1, "option", 3, "disabled", "click" ], [ "class", "glyphicon glyph-small icon", 3, "fontIcon", 4, "ngIf" ], [ "size", "small", "class", "icon", 3, "name", 4, "ngIf" ], [ "tri-svg-icon-16", "", "class", "tri-svg icon", 3, "name", 4, "ngIf" ], [ 1, "text", 3, "localize" ], [ 1, "glyphicon", "glyph-small", "icon", 3, "fontIcon" ], [ "size", "small", 1, "icon", 3, "name" ], [ "tri-svg-icon-16", "", 1, "tri-svg", "icon", 3, "name" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "div", 0), core["\u0275\u0275template"](1, ScorecardContextMenuComponent_ng_container_1_Template, 7, 6, "ng-container", 1), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](2, ScorecardContextMenuComponent_ng_template_2_Template, 1, 1, "ng-template", null, 2, core["\u0275\u0275templateRefExtractor"])), 
                    2 & rf && (core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx.args));
                },
                dependencies: [ common.NgForOf, common.NgIf, common.NgTemplateOutlet, localize_directive.X, icon.Hw, pbi_icon_component._, tri_svg_icon_component.M, TooltipWrapperComponent ],
                styles: [ '[_nghost-%COMP%]   .context-menu[_ngcontent-%COMP%]{width:fit-content;padding:2px 0;background-color:#fff;border-radius:2px;box-sizing:border-box;box-shadow:0 3.2px 7.2px rgba(0,0,0,.13),0 .6px 1.8px rgba(0,0,0,.11)}[_nghost-%COMP%]   .option[_ngcontent-%COMP%]{height:36px;display:flex;align-items:center;cursor:pointer;background-color:transparent;border:none;min-width:-webkit-fill-available}[_nghost-%COMP%]   .option[_ngcontent-%COMP%]:disabled{cursor:default}[_nghost-%COMP%]   .option[_ngcontent-%COMP%]:disabled   .text[_ngcontent-%COMP%]{color:var(--gray-80)}[_nghost-%COMP%]   .option[_ngcontent-%COMP%]:hover{background:var(--gray-20, #F3F2F1)}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;display:inline-block;padding-left:8px;padding-right:8px}[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--gray-180, #252423);text-align:left;display:inline-block}' ],
                changeDetection: 0
            }), ScorecardContextMenuComponent;
        }(), ScorecardFilterComponent = function() {
            function ScorecardFilterComponent() {
                this.filterBy = new core.EventEmitter;
            }
            return ScorecardFilterComponent.prototype.onFilterBy = function(keyword) {
                this.filterBy.emit(keyword);
            }, ScorecardFilterComponent.\u0275fac = function(t) {
                return new (t || ScorecardFilterComponent);
            }, ScorecardFilterComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: ScorecardFilterComponent,
                selectors: [ [ "scorecard-filter" ] ],
                inputs: {
                    filterText: "filterText"
                },
                outputs: {
                    filterBy: "filterBy"
                },
                decls: 5,
                vars: 7,
                consts: [ [ 1, "toolbar-filter-glyph" ], [ "fontIcon", "pbi-glyph-search", 1, "glyphicon", "glyph-mini" ], [ 3, "ngModel", "ngModelChange" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "div", 0), core["\u0275\u0275element"](1, "mat-icon", 1), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](2, "input", 2), 
                    core["\u0275\u0275listener"]("ngModelChange", function($event) {
                        return ctx.onFilterBy($event);
                    }), core["\u0275\u0275pipe"](3, "localize"), core["\u0275\u0275pipe"](4, "localize"), 
                    core["\u0275\u0275elementEnd"]()), 2 & rf && (core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngModel", ctx.filterText), 
                    core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](3, 3, "Filter_By_Keyword"))("placeholder", core["\u0275\u0275pipeBind1"](4, 5, "Filter_By_Keyword")));
                },
                dependencies: [ fesm2022_forms.Fj, fesm2022_forms.JJ, fesm2022_forms.On, icon.Hw, localize_pipe.F ],
                styles: [ "[_nghost-%COMP%]{display:inline-block;margin-right:8px;align-items:center;vertical-align:top;height:32px;width:230px}[_nghost-%COMP%]   .toolbar-filter-glyph[_ngcontent-%COMP%]{display:inline-block;margin:0;padding:0;border:none;outline:none;height:32px;width:32px;color:var(--gray-180, #252423);background-color:var(--fluent-theme-neutral-lighter-color, #F3F2F1);border-top-left-radius:4px;border-bottom-left-radius:4px}[_nghost-%COMP%]   .toolbar-filter-glyph[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;height:12px;width:12px}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;margin:0;padding:0;height:32px;width:198px;color:var(--gray-180, #252423);font-weight:400;font-size:14px;line-height:20px;border:0px;border-top-right-radius:4px;border-bottom-right-radius:4px;background-color:var(--fluent-theme-neutral-lighter-color, #F3F2F1)}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus{border:0px;outline:none}" ],
                changeDetection: 0
            }), ScorecardFilterComponent;
        }(), view_switcher_component_c0 = function(a0) {
            return {
                active: a0
            };
        };
        function ViewSwitcherComponent_button_0_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "button", 4, 5), core["\u0275\u0275element"](2, "mat-icon", 6)(3, "span", 7), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var _r3 = core["\u0275\u0275reference"](1), ctx_r0 = core["\u0275\u0275nextContext"](), _r1 = core["\u0275\u0275reference"](2);
                core["\u0275\u0275property"]("matMenuTriggerFor", _r1)("ngClass", core["\u0275\u0275pureFunction1"](4, view_switcher_component_c0, !0 === _r3.menuOpen)), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("fontIcon", ctx_r0.selectedOption.icon), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("localize", ctx_r0.selectedOption.label);
            }
        }
        function ViewSwitcherComponent_button_3_Template(rf, ctx) {
            if (1 & rf) {
                var _r6 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 8), core["\u0275\u0275listener"]("click", function() {
                    var option_r4 = core["\u0275\u0275restoreView"](_r6).$implicit, ctx_r5 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r5.onSwitchView(option_r4.value));
                }), core["\u0275\u0275element"](1, "mat-icon", 6)(2, "span", 9), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var option_r4 = ctx.$implicit, ctx_r2 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("disabled", ctx_r2.viewType === option_r4.value), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275property"]("fontIcon", option_r4.icon), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275property"]("localize", option_r4.label)("localizeTooltip", option_r4.label);
            }
        }
        var ViewSwitcherComponent = function(_super) {
            function ViewSwitcherComponent(scorecardService, hierarchyService, featureSwitches, changeDetector) {
                var _this = _super.call(this) || this;
                _this.scorecardService = scorecardService, _this.hierarchyService = hierarchyService, 
                _this.featureSwitches = featureSwitches, _this.changeDetector = changeDetector;
                var showCompactOption = _this.featureSwitches.featureSwitches.scorecardCompactView, showBoardOption = _this.featureSwitches.featureSwitches.metricsBoardView, showHeatmap$ = _this.hierarchyService.hasHierarchies$.pipe((0, 
                map.U)(function(hasHierarchies) {
                    return _this.featureSwitches.featureSwitches.goalsHierarchies && _this.featureSwitches.featureSwitches.goalsHierarchiesHeatmap && hasHierarchies;
                }), (0, takeUntil.R)(_this.onDestroy$));
                return (0, combineLatest.aj)([ _this.scorecardService.viewType$, showHeatmap$ ]).pipe((0, 
                takeUntil.R)(_this.onDestroy$)).subscribe(function(_a) {
                    _this.updateViewOptions(_a[0], showCompactOption, _a[1], showBoardOption);
                }), _this;
            }
            return (0, tslib_es6.__extends)(ViewSwitcherComponent, _super), ViewSwitcherComponent.prototype.onSwitchView = function(view) {
                this.scorecardService.setViewType(view);
            }, ViewSwitcherComponent.prototype.updateViewOptions = function(viewType, showCompactOption, showHeatmapOption, showBoardOption) {
                var options = [ {
                    value: "List",
                    label: "ListView",
                    icon: "pbi-glyph-allapps"
                } ];
                showCompactOption && options.push({
                    value: "Compact",
                    label: "Scorecard_CompactView_Preview",
                    icon: "pbi-glyph-allapps"
                }), showBoardOption && options.push({
                    value: "Board",
                    label: "Display_Mode_Board_View",
                    icon: "pbi-glyph-table"
                }), showHeatmapOption && options.push({
                    value: "Heatmap",
                    label: "MetricsHeatmap_Preview",
                    icon: "pbi-glyph-table"
                }), this.options = options, this.showViewSwitcher = options.length > 1, this.viewType = viewType, 
                this.selectedOption = options.find(function(opt) {
                    return opt.value === viewType;
                }), this.changeDetector.markForCheck();
            }, ViewSwitcherComponent.\u0275fac = function(t) {
                return new (t || ViewSwitcherComponent)(core["\u0275\u0275directiveInject"](scorecard_service.G), core["\u0275\u0275directiveInject"](goals_hierarchy_service.G), core["\u0275\u0275directiveInject"](feature_switch_service.vZ), core["\u0275\u0275directiveInject"](core.ChangeDetectorRef));
            }, ViewSwitcherComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: ViewSwitcherComponent,
                selectors: [ [ "view-switcher" ] ],
                features: [ core["\u0275\u0275InheritDefinitionFeature"] ],
                decls: 4,
                vars: 3,
                consts: [ [ "cdkMonitorElementFocus", "", "mat-button", "", "aria-expanded", "viewSwitcherMenuTrigger.menuOpen === true", "class", "view-mode-picker pbi-fluent-button", 3, "matMenuTriggerFor", "ngClass", 4, "ngIf" ], [ 1, "view-mode-picker-menu", 3, "overlapTrigger" ], [ "viewSwitcherMenu", "matMenu" ], [ "mat-menu-item", "", "class", "pbi-fluent-button", 3, "disabled", "click", 4, "ngFor", "ngForOf" ], [ "cdkMonitorElementFocus", "", "mat-button", "", "aria-expanded", "viewSwitcherMenuTrigger.menuOpen === true", 1, "view-mode-picker", "pbi-fluent-button", 3, "matMenuTriggerFor", "ngClass" ], [ "viewSwitcherMenuTrigger", "matMenuTrigger" ], [ 1, "glyphicon", "glyph-small", 3, "fontIcon" ], [ 3, "localize" ], [ "mat-menu-item", "", 1, "pbi-fluent-button", 3, "disabled", "click" ], [ 3, "localize", "localizeTooltip" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275template"](0, ViewSwitcherComponent_button_0_Template, 4, 6, "button", 0), 
                    core["\u0275\u0275elementStart"](1, "mat-menu", 1, 2), core["\u0275\u0275template"](3, ViewSwitcherComponent_button_3_Template, 3, 4, "button", 3), 
                    core["\u0275\u0275elementEnd"]()), 2 & rf && (core["\u0275\u0275property"]("ngIf", ctx.showViewSwitcher && ctx.selectedOption), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("overlapTrigger", !1), 
                    core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngForOf", ctx.options));
                },
                dependencies: [ common.NgClass, common.NgForOf, common.NgIf, localize_directive.X, localize_tooltip_directive.r, icon.Hw, legacy_menu.W0, legacy_menu.tN, legacy_menu.D8 ],
                styles: [ ".view-mode-picker[_ngcontent-%COMP%]{border:none;display:inline-flex;align-items:center;background-color:var(--fluent-theme-neutral-lighter-alt-color, #FAF9F8)}.view-mode-picker[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{overflow:visible}.view-mode-picker[_ngcontent-%COMP%]   .mat-icon.glyph-small[_ngcontent-%COMP%]{font-size:var(--lg-font-size, 16px);width:var(--lg-font-size, 16px);height:var(--lg-font-size, 16px)}.view-mode-picker[_ngcontent-%COMP%]   .mat-icon.glyph-mini[_ngcontent-%COMP%]{font-size:var(--sm-font-size, 12px);width:var(--sm-font-size, 12px);height:var(--sm-font-size, 12px)}.view-mode-picker[_ngcontent-%COMP%]   .mat-icon.mat-ligature-font[fontIcon][_ngcontent-%COMP%]{overflow:auto}.view-mode-picker[_ngcontent-%COMP%]:hover{background-color:var(--gray-20, #F3F2F1)}.view-mode-picker[_ngcontent-%COMP%]:active{background-color:var(--gray-30, #EDEBE9)}.view-mode-picker[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-weight:400;margin-right:8px;color:var(--fluent-theme-black-color, #000)}  .mat-menu-panel.view-mode-picker-menu .mat-menu-content{padding:0}.mat-menu-item[_ngcontent-%COMP%]{color:var(--gray-180, #252423);display:flex;flex-direction:row;align-items:center;height:36px;padding-right:16px}.mat-menu-item[_ngcontent-%COMP%]:disabled{background:transparent;color:var(--gray-80, #B3B0AD)}" ],
                changeDetection: 0
            }), ViewSwitcherComponent;
        }(rx_component.w);
        function ScorecardNewButtonComponent_tooltip_wrapper_10_Template(rf, ctx) {
            if (1 & rf) {
                var _r4 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "tooltip-wrapper", 6)(1, "button", 7), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r4);
                    var ctx_r3 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r3.onLinkedMetricInit.emit());
                }), core["\u0275\u0275element"](2, "span", 11), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r1 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("tooltipKey", null == ctx_r1.capabilities || null == ctx_r1.capabilities.createLinkedGoal ? null : ctx_r1.capabilities.createLinkedGoal.disabledMessageKey), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("disabled", !(null != ctx_r1.capabilities && null != ctx_r1.capabilities.createLinkedGoal && ctx_r1.capabilities.createLinkedGoal.enabled));
            }
        }
        function ScorecardNewButtonComponent_tooltip_wrapper_14_Template(rf, ctx) {
            if (1 & rf) {
                var _r6 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "tooltip-wrapper", 6)(1, "button", 12), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r6);
                    var ctx_r5 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r5.hierarchyPane.openHierarchiesBuilder("ScorecardNewButton"));
                }), core["\u0275\u0275element"](2, "span", 13), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r2 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("tooltipKey", null == ctx_r2.capabilities || null == ctx_r2.capabilities.editHierarchies ? null : ctx_r2.capabilities.editHierarchies.disabledMessageKey), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("disabled", !(null != ctx_r2.capabilities && null != ctx_r2.capabilities.editHierarchies && ctx_r2.capabilities.editHierarchies.enabled)), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("localize", ctx_r2.hasHierarchies ? "MetricsManageHierarchies_Preview" : "MetricsHierarchy_SetupHierarchy_Preview");
            }
        }
        var ScorecardNewButtonComponent = function() {
            function ScorecardNewButtonComponent(hierarchyPane, scorecardService) {
                var _this = this;
                this.hierarchyPane = hierarchyPane, this.scorecardService = scorecardService, this.onNewGoal = new core.EventEmitter, 
                this.onNewSubGoal = new core.EventEmitter, this.onLinkedMetricInit = new core.EventEmitter, 
                this.connectedGoalSubscrition = this.scorecardService.getScorecard().pipe((0, map.U)(function(scorecard) {
                    return scorecard_helper.q.anyGoals(scorecard.goals, function(goal) {
                        return !!goal.valueConnection || !!goal.targetConnection;
                    });
                }), (0, distinctUntilChanged.x)()).subscribe(function(anyConnectedGoals) {
                    _this.anyConnectedGoals = anyConnectedGoals, _this.updateCapabilities();
                });
            }
            return ScorecardNewButtonComponent.prototype.ngOnChanges = function(changes) {
                (changes.scorecardCapabilities || changes.hasHierarchies || changes.numberOfSelectedGoals) && this.updateCapabilities();
            }, ScorecardNewButtonComponent.prototype.ngOnDestroy = function() {
                this.connectedGoalSubscrition.unsubscribe();
            }, ScorecardNewButtonComponent.prototype.updateCapabilities = function() {
                this.scorecardCapabilities && (this.capabilities = (0, tslib_es6.__assign)({}, this.scorecardCapabilities), 
                this.capabilities.editHierarchies = scorecard_capability_service.jL.clone(this.scorecardCapabilities.editHierarchies).disableIf(!this.anyConnectedGoals && !this.hasHierarchies, "NoConnections", "MetricsHierarchy_No_Connections_Tooltip").build(), 
                this.capabilities.createSubgoal = scorecard_capability_service.jL.clone(this.scorecardCapabilities.createGoal).disableIf(1 !== this.numberOfSelectedGoals, "InvalidSelection").build());
            }, ScorecardNewButtonComponent.\u0275fac = function(t) {
                return new (t || ScorecardNewButtonComponent)(core["\u0275\u0275directiveInject"](GoalsHierarchyPaneService), core["\u0275\u0275directiveInject"](scorecard_service.G));
            }, ScorecardNewButtonComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: ScorecardNewButtonComponent,
                selectors: [ [ "scorecard-new-button" ] ],
                inputs: {
                    isEditMode: "isEditMode",
                    scorecardCapabilities: "scorecardCapabilities",
                    numberOfSelectedGoals: "numberOfSelectedGoals",
                    hasHierarchies: "hasHierarchies"
                },
                outputs: {
                    onNewGoal: "onNewGoal",
                    onNewSubGoal: "onNewSubGoal",
                    onLinkedMetricInit: "onLinkedMetricInit"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 15,
                vars: 13,
                consts: [ [ "mat-button-toggle", "", 1, "new-btn", "pbi-fluent-button", "pbi-focus-outline", "primary", 3, "matMenuTriggerFor", "disabled" ], [ 1, "glyphicon", "pbi-glyph-add", "glyph-small", "icon" ], [ "localize", "New", 1, "label" ], [ 1, "glyphicon", "pbi-glyph-chevrondownsmall", "glyph-small", "icon" ], [ 1, "new-menu", 3, "overlapTrigger" ], [ "newBtnDropdownMenu", "matMenu" ], [ 3, "tooltipKey" ], [ "mat-menu-item", "", 1, "pbi-fluent-button", 3, "disabled", "click" ], [ "localize", "NewMetric" ], [ 3, "tooltipKey", 4, "pbiFeatureSwitch" ], [ "localize", "AddSubmetric" ], [ "localize", "Metrics_LinkedMetrics_Button_Preview" ], [ "mat-menu-item", "", 1, "pbi-fluent-button", "manage-hierarchies-btn", 3, "disabled", "click" ], [ 3, "localize" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275elementStart"](0, "button", 0), core["\u0275\u0275pipe"](1, "localize"), 
                    core["\u0275\u0275element"](2, "i", 1)(3, "span", 2)(4, "i", 3), core["\u0275\u0275elementEnd"](), 
                    core["\u0275\u0275elementStart"](5, "mat-menu", 4, 5)(7, "tooltip-wrapper", 6)(8, "button", 7), 
                    core["\u0275\u0275listener"]("click", function() {
                        return ctx.onNewGoal.emit();
                    }), core["\u0275\u0275element"](9, "span", 8), core["\u0275\u0275elementEnd"]()(), 
                    core["\u0275\u0275template"](10, ScorecardNewButtonComponent_tooltip_wrapper_10_Template, 3, 2, "tooltip-wrapper", 9), 
                    core["\u0275\u0275elementStart"](11, "tooltip-wrapper", 6)(12, "button", 7), core["\u0275\u0275listener"]("click", function() {
                        return ctx.onNewSubGoal.emit();
                    }), core["\u0275\u0275element"](13, "span", 10), core["\u0275\u0275elementEnd"]()(), 
                    core["\u0275\u0275template"](14, ScorecardNewButtonComponent_tooltip_wrapper_14_Template, 3, 3, "tooltip-wrapper", 9), 
                    core["\u0275\u0275elementEnd"]()), 2 & rf) {
                        var _r0 = core["\u0275\u0275reference"](6);
                        core["\u0275\u0275property"]("matMenuTriggerFor", _r0)("disabled", !ctx.isEditMode), 
                        core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](1, 11, "New"))("aria-expanded", !0 === _r0.menuOpen), 
                        core["\u0275\u0275advance"](5), core["\u0275\u0275property"]("overlapTrigger", !1), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("tooltipKey", null == ctx.capabilities || null == ctx.capabilities.createGoal ? null : ctx.capabilities.createGoal.disabledMessageKey), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("disabled", !(null != ctx.capabilities && null != ctx.capabilities.createGoal && ctx.capabilities.createGoal.enabled)), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("pbiFeatureSwitch", "goalsLinkedGoals"), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("tooltipKey", null == ctx.capabilities || null == ctx.capabilities.createSubgoal ? null : ctx.capabilities.createSubgoal.disabledMessageKey), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("disabled", !(null != ctx.capabilities && null != ctx.capabilities.createSubgoal && ctx.capabilities.createSubgoal.enabled)), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("pbiFeatureSwitch", "goalsHierarchies");
                    }
                },
                dependencies: [ localize_directive.X, legacy_menu.W0, legacy_menu.tN, legacy_menu.D8, pbi_feature_switch_directive.P, TooltipWrapperComponent, localize_pipe.F ],
                styles: [ ".new-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:6px 10px}.new-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:0 4px}.new-btn[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding:0 4px}.manage-hierarchies-btn[_ngcontent-%COMP%]{border-top:1px solid var(--gray-40, #E1DFDD)}.manage-hierarchies-btn[_ngcontent-%COMP%]:active, .manage-hierarchies-btn[_ngcontent-%COMP%]:focus{border-top:1px solid var(--gray-40, #E1DFDD)}  .mat-menu-panel.new-menu .mat-menu-content{padding:0}.mat-menu-item[_ngcontent-%COMP%]{color:var(--gray-180, #252423);display:flex;flex-direction:row;align-items:center;height:36px}.mat-menu-item[_ngcontent-%COMP%]:disabled{background:transparent;color:var(--gray-80, #B3B0AD)}" ],
                changeDetection: 0
            }), ScorecardNewButtonComponent;
        }();
        function ScorecardHeatmapToolbarComponent_button_20_Template(rf, ctx) {
            if (1 & rf) {
                var _r3 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 9), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r3);
                    var ctx_r2 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r2.hierarchyPane.showHeatmapDisplaySettingsPane());
                }), core["\u0275\u0275pipe"](1, "async"), core["\u0275\u0275element"](2, "pbi-icon", 13)(3, "span", 14), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r1 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("disabled", core["\u0275\u0275pipeBind1"](1, 1, ctx_r1.hierarchyPane.showHeatmapDisplaySettingsPane$));
            }
        }
        var ScorecardHeatmapToolbarComponent = function(_super) {
            function ScorecardHeatmapToolbarComponent(hierarchyPane, capabilityService, heatmapService, hierarchyService, localizationService, scorecardService, changeDetector) {
                var _this = _super.call(this) || this;
                return _this.hierarchyPane = hierarchyPane, _this.capabilityService = capabilityService, 
                _this.heatmapService = heatmapService, _this.hierarchyService = hierarchyService, 
                _this.localizationService = localizationService, _this.scorecardService = scorecardService, 
                _this.changeDetector = changeDetector, _this.filterBy = new core.EventEmitter, _this.isEditMode$ = _this.scorecardService.isEditMode(), 
                _this.scorecardCapabilities$ = _this.capabilityService.getScorecardCapabilities(), 
                _this.canEditHeatmap$ = _this.scorecardCapabilities$.pipe((0, map.U)(function(capabilities) {
                    return capabilities.editHeatmap;
                })), _this.hasHierarchies$ = _this.hierarchyService.hasHierarchies$, _this.heatmapService.selectedHierarchyItems$.subscribe(function(items) {
                    var columnCount = items.length - 1;
                    _this.dropdownLabel = columnCount > 0 ? _this.localizationService.format("MetricsHeatmap_ComparingItems", columnCount) : _this.localizationService.get("Add_Columns"), 
                    _this.changeDetector.markForCheck();
                }), _this;
            }
            return (0, tslib_es6.__extends)(ScorecardHeatmapToolbarComponent, _super), ScorecardHeatmapToolbarComponent.\u0275fac = function(t) {
                return new (t || ScorecardHeatmapToolbarComponent)(core["\u0275\u0275directiveInject"](GoalsHierarchyPaneService), core["\u0275\u0275directiveInject"](scorecard_capability_service.Nw), core["\u0275\u0275directiveInject"](GoalsHeatmapService), core["\u0275\u0275directiveInject"](goals_hierarchy_service.G), core["\u0275\u0275directiveInject"](localization_service.o), core["\u0275\u0275directiveInject"](scorecard_service.G), core["\u0275\u0275directiveInject"](core.ChangeDetectorRef));
            }, ScorecardHeatmapToolbarComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: ScorecardHeatmapToolbarComponent,
                selectors: [ [ "scorecard-heatmap-toolbar" ] ],
                inputs: {
                    filterText: "filterText"
                },
                outputs: {
                    filterBy: "filterBy"
                },
                features: [ core["\u0275\u0275InheritDefinitionFeature"] ],
                decls: 22,
                vars: 22,
                consts: [ [ 1, "scorecard-heatmap-toolbar" ], [ 1, "left-actions" ], [ "mat-button", "", "cdkMonitorElementFocus", "", 1, "heatmap-menu-button", "pbi-fluent-button", "pbi-icon-button", "pbi-with-text", 3, "matMenuTriggerFor" ], [ "name", "chevrondownsmall", "size", "mini", 1, "chevrondown" ], [ 1, "right-actions" ], [ 3, "filterText", "filterBy" ], [ 3, "isEditMode", "scorecardCapabilities", "hasHierarchies" ], [ "xPosition", "after", 1, "heatmap-menu", 3, "overlapTrigger" ], [ "heatmapMenu", "matMenu" ], [ "mat-menu-item", "", 3, "disabled", "click" ], [ "name", "edit", "size", "small", 1, "icon" ], [ "localize", "MetricsCustomizeHeatmap" ], [ "mat-menu-item", "", 3, "disabled", "click", 4, "ngIf" ], [ "name", "settings", "size", "small", 1, "icon" ], [ "localize", "DisplaySettings_Open" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275elementStart"](0, "section", 0)(1, "div", 1)(2, "button", 2), 
                    core["\u0275\u0275pipe"](3, "localize"), core["\u0275\u0275elementStart"](4, "span"), 
                    core["\u0275\u0275text"](5), core["\u0275\u0275elementEnd"](), core["\u0275\u0275element"](6, "pbi-icon", 3), 
                    core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275elementStart"](7, "div", 4)(8, "scorecard-filter", 5), 
                    core["\u0275\u0275listener"]("filterBy", function($event) {
                        return ctx.filterBy.emit($event);
                    }), core["\u0275\u0275elementEnd"](), core["\u0275\u0275element"](9, "view-switcher")(10, "scorecard-new-button", 6), 
                    core["\u0275\u0275pipe"](11, "async"), core["\u0275\u0275pipe"](12, "async"), core["\u0275\u0275pipe"](13, "async"), 
                    core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275elementStart"](14, "mat-menu", 7, 8)(16, "button", 9), 
                    core["\u0275\u0275listener"]("click", function() {
                        return ctx.hierarchyPane.showHeatmapConfigurationPane();
                    }), core["\u0275\u0275pipe"](17, "async"), core["\u0275\u0275element"](18, "pbi-icon", 10)(19, "span", 11), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](20, ScorecardHeatmapToolbarComponent_button_20_Template, 4, 3, "button", 12), 
                    core["\u0275\u0275pipe"](21, "async"), core["\u0275\u0275elementEnd"]()), 2 & rf) {
                        var _r0 = core["\u0275\u0275reference"](15);
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("matMenuTriggerFor", _r0), 
                        core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](3, 10, "Add_Columns")), 
                        core["\u0275\u0275advance"](3), core["\u0275\u0275textInterpolate"](ctx.dropdownLabel), 
                        core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("filterText", ctx.filterText), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("isEditMode", core["\u0275\u0275pipeBind1"](11, 12, ctx.isEditMode$))("scorecardCapabilities", core["\u0275\u0275pipeBind1"](12, 14, ctx.scorecardCapabilities$))("hasHierarchies", core["\u0275\u0275pipeBind1"](13, 16, ctx.hasHierarchies$)), 
                        core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("overlapTrigger", !1), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("disabled", core["\u0275\u0275pipeBind1"](17, 18, ctx.hierarchyPane.showHeatmapConfigurationPane$)), 
                        core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](21, 20, ctx.canEditHeatmap$));
                    }
                },
                dependencies: [ common.NgIf, localize_directive.X, legacy_menu.W0, legacy_menu.tN, legacy_menu.D8, pbi_icon_component._, ViewSwitcherComponent, ScorecardFilterComponent, ScorecardNewButtonComponent, common.AsyncPipe, localize_pipe.F ],
                styles: [ ".scorecard-heatmap-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;box-sizing:border-box;padding:0 30px 12px;width:100%;font-family:var(--scorecard-fontFamily);color:var(--scorecard-headerForegroundColor);background-color:var(--scorecard-headerBackgroundColor);border-bottom:1px solid rgba(0,0,0,.05);vertical-align:top}.scorecard-heatmap-toolbar[_ngcontent-%COMP%]   .right-actions[_ngcontent-%COMP%]{display:inline-flex}.scorecard-heatmap-toolbar[_ngcontent-%COMP%]   .right-actions[_ngcontent-%COMP%]   .hierarchies-btn[_ngcontent-%COMP%]{background-color:var(--fluent-theme-neutral-lighter-alt-color, #FAF9F8)}.pbi-fluent-button[_ngcontent-%COMP%]{border:none;display:inline-flex;align-items:center}.pbi-fluent-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{overflow:visible}.pbi-fluent-button[_ngcontent-%COMP%]   .mat-icon.glyph-small[_ngcontent-%COMP%]{font-size:var(--lg-font-size, 16px);width:var(--lg-font-size, 16px);height:var(--lg-font-size, 16px)}.pbi-fluent-button[_ngcontent-%COMP%]   .mat-icon.glyph-mini[_ngcontent-%COMP%]{font-size:var(--sm-font-size, 12px);width:var(--sm-font-size, 12px);height:var(--sm-font-size, 12px)}.pbi-fluent-button[_ngcontent-%COMP%]   .mat-icon.mat-ligature-font[fontIcon][_ngcontent-%COMP%]{overflow:auto}.pbi-fluent-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .pbi-fluent-button[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{margin:0 8px}.heatmap-menu-button[_ngcontent-%COMP%]{padding:0 8px}  .mat-menu-panel.heatmap-menu{min-height:fit-content;margin-top:4px}  .mat-menu-panel.heatmap-menu .mat-menu-content{padding:0}  .mat-menu-panel.heatmap-menu .mat-menu-item{color:var(--gray-180, #252423);display:flex;flex-direction:row;align-items:center;height:36px}  .mat-menu-panel.heatmap-menu .mat-menu-item:disabled{background:transparent;color:var(--gray-80, #B3B0AD)}  .mat-menu-panel.heatmap-menu .mat-menu-item pbi-icon{display:flex;padding-right:8px}" ],
                changeDetection: 0
            }), ScorecardHeatmapToolbarComponent;
        }(rx_component.w);
        function ScorecardHierarchyButtonComponent_button_0_ng_container_2_ng_template_4_div_0_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div")(1, "span", 13), core["\u0275\u0275text"](2), 
            core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](3, "span"), core["\u0275\u0275text"](4), 
            core["\u0275\u0275elementEnd"]()()), 2 & rf) {
                var path_r12 = ctx.$implicit;
                core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate"](path_r12.hierarchyName), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate1"](": ", path_r12.levels.join(" > "), "");
            }
        }
        function ScorecardHierarchyButtonComponent_button_0_ng_container_2_ng_template_4_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275template"](0, ScorecardHierarchyButtonComponent_button_0_ng_container_2_ng_template_4_div_0_Template, 5, 2, "div", 12), 
            2 & rf) {
                var hierarchyInfo_r8 = core["\u0275\u0275nextContext"]().$implicit;
                core["\u0275\u0275property"]("ngForOf", hierarchyInfo_r8.displayPaths);
            }
        }
        function ScorecardHierarchyButtonComponent_button_0_ng_container_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "span", 10), 
            core["\u0275\u0275text"](2), core["\u0275\u0275pipe"](3, "localize"), core["\u0275\u0275elementEnd"](), 
            core["\u0275\u0275template"](4, ScorecardHierarchyButtonComponent_button_0_ng_container_2_ng_template_4_Template, 1, 1, "ng-template", null, 11, core["\u0275\u0275templateRefExtractor"]), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var hierarchyInfo_r8 = ctx.$implicit, _r9 = core["\u0275\u0275reference"](5);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("pbiTooltip", _r9)("pbiTooltipDisabled", hierarchyInfo_r8.showingAll), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"](" ", hierarchyInfo_r8.showingAll ? core["\u0275\u0275pipeBind1"](3, 3, "MetricsHierarchy_SelectHierarchy") : hierarchyInfo_r8.displayLabel, " ");
            }
        }
        function ScorecardHierarchyButtonComponent_button_0_ng_template_4_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "span", 14);
        }
        function ScorecardHierarchyButtonComponent_button_0_pbi_spinner_6_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "pbi-spinner", 15);
        }
        var scorecard_hierarchy_button_component_c0 = function(a0) {
            return {
                active: a0
            };
        };
        function ScorecardHierarchyButtonComponent_button_0_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "button", 4, 5), core["\u0275\u0275template"](2, ScorecardHierarchyButtonComponent_button_0_ng_container_2_Template, 6, 5, "ng-container", 6), 
            core["\u0275\u0275pipe"](3, "async"), core["\u0275\u0275template"](4, ScorecardHierarchyButtonComponent_button_0_ng_template_4_Template, 1, 0, "ng-template", null, 7, core["\u0275\u0275templateRefExtractor"]), 
            core["\u0275\u0275template"](6, ScorecardHierarchyButtonComponent_button_0_pbi_spinner_6_Template, 1, 0, "pbi-spinner", 8), 
            core["\u0275\u0275pipe"](7, "async"), core["\u0275\u0275element"](8, "pbi-icon", 9), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var _r3 = core["\u0275\u0275reference"](1), _r5 = core["\u0275\u0275reference"](5), ctx_r0 = core["\u0275\u0275nextContext"](), _r1 = core["\u0275\u0275reference"](3);
                core["\u0275\u0275property"]("matMenuTriggerFor", _r1)("ngClass", core["\u0275\u0275pureFunction1"](9, scorecard_hierarchy_button_component_c0, !0 === _r3.menuOpen)), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](3, 5, ctx_r0.hierarchyDisplayInfo$))("ngIfElse", _r5), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](7, 7, ctx_r0.isSwitchingPath$));
            }
        }
        function ScorecardHierarchyButtonComponent_ng_template_4_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "pbi-lazy-load", 16);
        }
        var ScorecardHierarchyButtonComponent = function() {
            function ScorecardHierarchyButtonComponent(hierarchyService, scorecardService) {
                this.hierarchyService = hierarchyService, this.scorecardService = scorecardService, 
                this.showButton$ = this.hierarchyService.hasHierarchies$, this.hierarchyDisplayInfo$ = this.hierarchyService.getHierarchyDisplayInfoObservable(this.scorecardService.hierarchyPaths$), 
                this.isSwitchingPath$ = this.scorecardService.isSwitchingHierarchyPath();
            }
            return ScorecardHierarchyButtonComponent.\u0275fac = function(t) {
                return new (t || ScorecardHierarchyButtonComponent)(core["\u0275\u0275directiveInject"](goals_hierarchy_service.G), core["\u0275\u0275directiveInject"](scorecard_service.G));
            }, ScorecardHierarchyButtonComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: ScorecardHierarchyButtonComponent,
                selectors: [ [ "scorecard-hierarchy-button" ] ],
                decls: 5,
                vars: 3,
                consts: [ [ "cdkMonitorElementFocus", "", "mat-button", "", "aria-expanded", "hierarchySlicerMenuTrigger.menuOpen === true", "class", "hierarchy-btn pbi-fluent-button pbi-icon-button pbi-with-text", 3, "matMenuTriggerFor", "ngClass", 4, "ngIf" ], [ "xPosition", "after", "yPosition", "below", 1, "hierarchy-slicer-menu" ], [ "hierarchySlicerMenu", "matMenu" ], [ "matMenuContent", "" ], [ "cdkMonitorElementFocus", "", "mat-button", "", "aria-expanded", "hierarchySlicerMenuTrigger.menuOpen === true", 1, "hierarchy-btn", "pbi-fluent-button", "pbi-icon-button", "pbi-with-text", 3, "matMenuTriggerFor", "ngClass" ], [ "hierarchySlicerMenuTrigger", "matMenuTrigger" ], [ 4, "ngIf", "ngIfElse" ], [ "loadingHierarchies", "" ], [ "class", "pbi-spinner-small", 4, "ngIf" ], [ "size", "mini", "name", "chevrondownsmall", "localizeTooltip", "View_Options", 1, "icon" ], [ 3, "pbiTooltip", "pbiTooltipDisabled" ], [ "hierarchySlicerTooltip", "" ], [ 4, "ngFor", "ngForOf" ], [ 1, "hierarchy-name" ], [ "localize", "All" ], [ 1, "pbi-spinner-small" ], [ "modulePath", "@powerbi/GoalsHierarchy/goals-hierarchy.module#GoalsHierarchyModule", "componentId", "HierarchySlicerComponentId" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275template"](0, ScorecardHierarchyButtonComponent_button_0_Template, 9, 11, "button", 0), 
                    core["\u0275\u0275pipe"](1, "async"), core["\u0275\u0275elementStart"](2, "mat-menu", 1, 2), 
                    core["\u0275\u0275template"](4, ScorecardHierarchyButtonComponent_ng_template_4_Template, 1, 0, "ng-template", 3), 
                    core["\u0275\u0275elementEnd"]()), 2 & rf && core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](1, 1, ctx.showButton$));
                },
                dependencies: [ common.NgClass, common.NgForOf, common.NgIf, pbi_lazy_load_component.R, localize_directive.X, localize_tooltip_directive.r, legacy_menu.W0, legacy_menu.D8, legacy_menu.hd, pbi_icon_component._, pbi_spinner_component.k, pbi_tooltip_directive.V, common.AsyncPipe, localize_pipe.F ],
                styles: [ '.hierarchy-btn[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px;background-color:var(--fluent-theme-neutral-lighter-alt-color, #FAF9F8)}.hierarchy-btn[_ngcontent-%COMP%]   pbi-spinner[_ngcontent-%COMP%]{height:20px}html:not([dir="rtl"])[_nghost-%COMP%]   .hierarchy-btn[_ngcontent-%COMP%]   pbi-spinner[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .hierarchy-btn[_ngcontent-%COMP%]   pbi-spinner[_ngcontent-%COMP%]{margin-left:8px}html[dir="rtl"][_nghost-%COMP%]   .hierarchy-btn[_ngcontent-%COMP%]   pbi-spinner[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .hierarchy-btn[_ngcontent-%COMP%]   pbi-spinner[_ngcontent-%COMP%]{margin-right:8px}html:not([dir="rtl"])[_nghost-%COMP%]   .hierarchy-btn[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .hierarchy-btn[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir="rtl"][_nghost-%COMP%]   .hierarchy-btn[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .hierarchy-btn[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{margin-right:8px}.hierarchy-name[_ngcontent-%COMP%]{font-weight:var(--font-weight-semi-bold)}' ],
                changeDetection: 0
            }), ScorecardHierarchyButtonComponent;
        }(), pbi_editable_label_directive = __webpack_require__(24150);
        function ScorecardTitleComponent_ng_container_1_input_2_Template(rf, ctx) {
            if (1 & rf) {
                var _r7 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "input", 7), core["\u0275\u0275listener"]("ngModelChange", function($event) {
                    core["\u0275\u0275restoreView"](_r7);
                    var ctx_r6 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r6.scorecardName = $event);
                }), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r3 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275property"]("ngModel", ctx_r3.scorecardName);
            }
        }
        function ScorecardTitleComponent_ng_container_1_tri_svg_icon_4_Template(rf, ctx) {
            if (1 & rf) {
                var _r9 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "tri-svg-icon", 8), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r9);
                    var ctx_r8 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r8.onScorecardNameEdit());
                }), core["\u0275\u0275pipe"](1, "async"), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r4 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275classProp"]("can-display", core["\u0275\u0275pipeBind1"](1, 3, ctx_r4.isEditMode$)), 
                core["\u0275\u0275property"]("name", "edit_20_regular");
            }
        }
        function ScorecardTitleComponent_ng_container_1_span_5_input_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r13 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "input", 7), core["\u0275\u0275listener"]("ngModelChange", function($event) {
                    core["\u0275\u0275restoreView"](_r13);
                    var ctx_r12 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r12.scorecardDescription = $event);
                }), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r10 = core["\u0275\u0275nextContext"](3);
                core["\u0275\u0275property"]("ngModel", ctx_r10.scorecardDescription);
            }
        }
        function ScorecardTitleComponent_ng_container_1_span_5_tri_svg_icon_3_Template(rf, ctx) {
            if (1 & rf) {
                var _r15 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "tri-svg-icon", 11), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r15);
                    var ctx_r14 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r14.onDescriptionEdit());
                }), core["\u0275\u0275pipe"](1, "async"), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r11 = core["\u0275\u0275nextContext"](3);
                core["\u0275\u0275classProp"]("can-display", core["\u0275\u0275pipeBind1"](1, 3, ctx_r11.isEditMode$)), 
                core["\u0275\u0275property"]("name", "edit_20_regular");
            }
        }
        function ScorecardTitleComponent_ng_container_1_span_5_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "span", 9), core["\u0275\u0275template"](1, ScorecardTitleComponent_ng_container_1_span_5_input_1_Template, 1, 1, "input", 4), 
            core["\u0275\u0275pipe"](2, "async"), core["\u0275\u0275template"](3, ScorecardTitleComponent_ng_container_1_span_5_tri_svg_icon_3_Template, 2, 5, "tri-svg-icon", 10), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r5 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("pbiEditableLabel", ctx_r5.pbiEditableDescriptionOptions)("pbiEditableLabelValue", ctx_r5.scorecardDescription)("pbiEditableLabelMode", core["\u0275\u0275pipeBind1"](2, 5, ctx_r5.isEditMode$))("pbiEditableLabelEditable", ctx_r5.isScorecardDescriptionEditable), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", !ctx_r5.isScorecardDescriptionEditable);
            }
        }
        function ScorecardTitleComponent_ng_container_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "span", 3), 
            core["\u0275\u0275template"](2, ScorecardTitleComponent_ng_container_1_input_2_Template, 1, 1, "input", 4), 
            core["\u0275\u0275pipe"](3, "async"), core["\u0275\u0275template"](4, ScorecardTitleComponent_ng_container_1_tri_svg_icon_4_Template, 2, 5, "tri-svg-icon", 5), 
            core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](5, ScorecardTitleComponent_ng_container_1_span_5_Template, 4, 7, "span", 6), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("pbiEditableLabel", ctx_r0.pbiEditableNameOptions)("pbiEditableLabelValue", ctx_r0.scorecardName)("pbiEditableLabelMode", core["\u0275\u0275pipeBind1"](3, 6, ctx_r0.isEditMode$))("pbiEditableLabelEditable", ctx_r0.isScorecardNameEditable), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", !ctx_r0.isScorecardNameEditable), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !!ctx_r0.scorecardDescription);
            }
        }
        function ScorecardTitleComponent_ng_template_2_div_2_Template(rf, ctx) {
            1 & rf && (core["\u0275\u0275elementStart"](0, "div", 15), core["\u0275\u0275text"](1, "-"), 
            core["\u0275\u0275elementEnd"]());
        }
        function ScorecardTitleComponent_ng_template_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 12), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](2, ScorecardTitleComponent_ng_template_2_div_2_Template, 2, 0, "div", 13), 
            core["\u0275\u0275elementStart"](3, "div", 14), core["\u0275\u0275text"](4), core["\u0275\u0275elementEnd"]()), 
            2 & rf) {
                var ctx_r2 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275propertyInterpolate"]("title", ctx_r2.scorecardName), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275textInterpolate"](ctx_r2.scorecardName), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275property"]("ngIf", ctx_r2.showTitleDash), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275propertyInterpolate"]("title", ctx_r2.scorecardDescription), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275textInterpolate"](ctx_r2.scorecardDescription);
            }
        }
        var ScorecardTitleComponent = function() {
            function ScorecardTitleComponent(changeDetector, scorecardService, telemetryService) {
                this.changeDetector = changeDetector, this.scorecardService = scorecardService, 
                this.telemetryService = telemetryService, this.isNewHeader = !0, this.isScorecardNameEditable = !1, 
                this.isScorecardDescriptionEditable = !1, this.isEditMode$ = this.scorecardService.isEditMode();
            }
            return ScorecardTitleComponent.prototype.ngOnInit = function() {
                var _this = this;
                this.showTitleDash = void 0 !== this.scorecardDescription && "" !== this.scorecardDescription && this.isNewHeader;
                var oldScorecardName = this.scorecardName, oldDescription = this.scorecardDescription;
                this.pbiEditableNameOptions = {
                    disableClick: !0,
                    customTooltip: !1,
                    inputMatchLabelWidth: !1,
                    onEdit: this.onScorecardNameEdit.bind(this),
                    onBlur: function() {
                        return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                            return (0, tslib_es6.__generator)(this, function(_a) {
                                switch (_a.label) {
                                  case 0:
                                    return this.isScorecardNameEditable = !1, oldScorecardName === this.scorecardName ? [ 2 ] : (this.telemetryService.logEvent(events.tj), 
                                    [ 4, this.updateScorecardDetails() ]);

                                  case 1:
                                    return _a.sent(), oldScorecardName = this.scorecardName, [ 2 ];
                                }
                            });
                        });
                    }
                }, this.pbiEditableDescriptionOptions = {
                    disableClick: !0,
                    customTooltip: !1,
                    inputMatchLabelWidth: !1,
                    onEdit: this.onDescriptionEdit.bind(this),
                    onBlur: function() {
                        return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                            return (0, tslib_es6.__generator)(this, function(_a) {
                                switch (_a.label) {
                                  case 0:
                                    return this.isScorecardDescriptionEditable = !1, oldDescription === this.scorecardDescription ? [ 2 ] : (this.telemetryService.logEvent(events.ib), 
                                    [ 4, this.updateScorecardDetails() ]);

                                  case 1:
                                    return _a.sent(), oldDescription = this.scorecardDescription, [ 2 ];
                                }
                            });
                        });
                    }
                };
            }, ScorecardTitleComponent.prototype.ngOnChanges = function(changes) {
                changes.scorecardDescription && (this.showTitleDash = void 0 !== this.scorecardDescription && "" !== this.scorecardDescription);
            }, ScorecardTitleComponent.prototype.onScorecardNameEdit = function() {
                this.isScorecardNameEditable = !0, this.changeDetector.markForCheck();
            }, ScorecardTitleComponent.prototype.onDescriptionEdit = function() {
                this.isScorecardDescriptionEditable = !0, this.changeDetector.markForCheck();
            }, ScorecardTitleComponent.prototype.updateScorecardDetails = function() {
                return this.scorecardService.updateScorecard({
                    name: this.scorecardName,
                    description: this.scorecardDescription
                });
            }, ScorecardTitleComponent.\u0275fac = function(t) {
                return new (t || ScorecardTitleComponent)(core["\u0275\u0275directiveInject"](core.ChangeDetectorRef), core["\u0275\u0275directiveInject"](scorecard_service.G), core["\u0275\u0275directiveInject"](Telemetry.y0));
            }, ScorecardTitleComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: ScorecardTitleComponent,
                selectors: [ [ "scorecard-title" ] ],
                inputs: {
                    scorecardName: "scorecardName",
                    scorecardDescription: "scorecardDescription",
                    isTitleEditable: "isTitleEditable",
                    isNewHeader: "isNewHeader"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 4,
                vars: 4,
                consts: [ [ "data-testid", "scorecard-title", 1, "scorecard-title" ], [ 4, "ngIf", "ngIfElse" ], [ "staticTitle", "" ], [ 1, "editableLabel" ], [ 3, "ngModel", "ngModelChange", 4, "pbiEditableLabel", "pbiEditableLabelValue", "pbiEditableLabelMode", "pbiEditableLabelEditable" ], [ "tri-svg-icon-16", "", "class", "tri-svg", "data-testid", "edit-scorecard-title", 3, "name", "can-display", "click", 4, "ngIf" ], [ "class", "editableDescription", 4, "ngIf" ], [ 3, "ngModel", "ngModelChange" ], [ "tri-svg-icon-16", "", "data-testid", "edit-scorecard-title", 1, "tri-svg", 3, "name", "click" ], [ 1, "editableDescription" ], [ "tri-svg-icon-16", "", "class", "tri-svg", 3, "name", "can-display", "click", 4, "ngIf" ], [ "tri-svg-icon-16", "", 1, "tri-svg", 3, "name", "click" ], [ 1, "title", 3, "title" ], [ "class", "dash", 4, "ngIf" ], [ 1, "subtitle", 3, "title" ], [ 1, "dash" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275elementStart"](0, "section", 0), core["\u0275\u0275template"](1, ScorecardTitleComponent_ng_container_1_Template, 6, 8, "ng-container", 1), 
                    core["\u0275\u0275template"](2, ScorecardTitleComponent_ng_template_2_Template, 5, 5, "ng-template", null, 2, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275elementEnd"]()), 2 & rf) {
                        var _r1 = core["\u0275\u0275reference"](3);
                        core["\u0275\u0275classProp"]("old-header", !ctx.isNewHeader), core["\u0275\u0275advance"](1), 
                        core["\u0275\u0275property"]("ngIf", ctx.isTitleEditable)("ngIfElse", _r1);
                    }
                },
                dependencies: [ common.NgIf, fesm2022_forms.Fj, fesm2022_forms.JJ, fesm2022_forms.On, pbi_editable_label_directive.D, tri_svg_icon_component.M, common.AsyncPipe ],
                styles: [ ".scorecard-title.old-header[_ngcontent-%COMP%]{display:block}.scorecard-title.old-header[_ngcontent-%COMP%]   .editableLabel[_ngcontent-%COMP%]     pbi-text-label{max-width:90%}.scorecard-title.old-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px}.scorecard-title.old-header[_ngcontent-%COMP%]   .editableDescription[_ngcontent-%COMP%]     pbi-text-label{max-width:90%}.scorecard-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;box-sizing:border-box;padding:12px 30px 6px;width:100%;background-color:var(--scorecard-headerBackgroundColor)}.scorecard-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--scorecard-headerForegroundColor);font-family:var(--scorecard-fontFamily);font-size:var(--vlg-font-size, 18px);font-weight:var(--font-weight-semi-bold, 600)}.scorecard-title[_ngcontent-%COMP%]   .editableLabel[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center;padding-bottom:0;margin-right:10px;color:var(--scorecard-headerForegroundColor);font-family:var(--scorecard-fontFamily);font-size:var(--vlg-font-size, 18px);font-weight:var(--font-weight-semi-bold, 600)}.scorecard-title[_ngcontent-%COMP%]   .editableLabel[_ngcontent-%COMP%]:hover   .tri-svg.can-display[_ngcontent-%COMP%]{visibility:visible}.scorecard-title[_ngcontent-%COMP%]   .editableDescription[_ngcontent-%COMP%]{flex-grow:100;display:flex;align-items:center;color:var(--scorecard-headerForegroundColor);opacity:.9;font-family:var(--scorecard-fontFamily);font-size:var(--lg-font-size, 16px);font-weight:var(--font-weight-regular, 400)}.scorecard-title[_ngcontent-%COMP%]   .editableDescription[_ngcontent-%COMP%]:hover   .tri-svg.can-display[_ngcontent-%COMP%]{visibility:visible}.scorecard-title[_ngcontent-%COMP%]   .tri-svg[_ngcontent-%COMP%]{height:16px;width:16px;margin-left:6px;margin-right:4px;visibility:hidden}.scorecard-title[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:6px 12px 6px 16px;box-sizing:border-box;border:2px solid #0F6CBD;border-radius:4px}.scorecard-title[_ngcontent-%COMP%]   .dash[_ngcontent-%COMP%]{padding:0 8px}.scorecard-title[_ngcontent-%COMP%]   .dash[_ngcontent-%COMP%], .scorecard-title[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:var(--scorecard-headerForegroundColor);opacity:.9;font-family:var(--scorecard-fontFamily);font-size:var(--lg-font-size, 16px);font-weight:var(--font-weight-regular, 400)}" ],
                changeDetection: 0
            }), ScorecardTitleComponent;
        }();
        function ScorecardListToolbarComponent_scorecard_title_2_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "scorecard-title", 7), 2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("scorecardName", ctx_r0.scorecard.name)("isTitleEditable", ctx_r0.isTitleEditable);
            }
        }
        function ScorecardListToolbarComponent_ng_container_3_scorecard_hierarchy_button_1_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "scorecard-hierarchy-button");
        }
        function ScorecardListToolbarComponent_ng_container_3_Template(rf, ctx) {
            1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, ScorecardListToolbarComponent_ng_container_3_scorecard_hierarchy_button_1_Template, 1, 0, "scorecard-hierarchy-button", 8), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf && (core["\u0275\u0275advance"](1), 
            core["\u0275\u0275property"]("pbiFeatureSwitch", "goalsHierarchies"));
        }
        function ScorecardListToolbarComponent_ng_container_5_scorecard_hierarchy_button_1_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "scorecard-hierarchy-button");
        }
        function ScorecardListToolbarComponent_ng_container_5_Template(rf, ctx) {
            1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, ScorecardListToolbarComponent_ng_container_5_scorecard_hierarchy_button_1_Template, 1, 0, "scorecard-hierarchy-button", 8), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf && (core["\u0275\u0275advance"](1), 
            core["\u0275\u0275property"]("pbiFeatureSwitch", "goalsHierarchies"));
        }
        var ScorecardListToolbarComponent = function() {
            function ScorecardListToolbarComponent(hierarchyService, featureSwitchService) {
                this.hierarchyService = hierarchyService, this.featureSwitchService = featureSwitchService, 
                this.filterBy = new core.EventEmitter, this.onLinkedMetricInit = new core.EventEmitter, 
                this.onNewGoal = new core.EventEmitter, this.onNewSubGoal = new core.EventEmitter, 
                this.isTitleEditable = this.featureSwitchService.featureSwitches.goalsSkipScorecardCreationPane;
            }
            return ScorecardListToolbarComponent.prototype.ngOnInit = function() {
                this.hasHierarchies$ = this.hierarchyService.hasHierarchies$;
            }, ScorecardListToolbarComponent.\u0275fac = function(t) {
                return new (t || ScorecardListToolbarComponent)(core["\u0275\u0275directiveInject"](goals_hierarchy_service.G), core["\u0275\u0275directiveInject"](feature_switch_service.vZ));
            }, ScorecardListToolbarComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: ScorecardListToolbarComponent,
                selectors: [ [ "scorecard-list-toolbar" ] ],
                inputs: {
                    isEditMode: "isEditMode",
                    scorecard: "scorecard",
                    scorecardCapabilities: "scorecardCapabilities",
                    numberOfSelectedGoals: "numberOfSelectedGoals",
                    filterText: "filterText",
                    showTitle: "showTitle"
                },
                outputs: {
                    filterBy: "filterBy",
                    onLinkedMetricInit: "onLinkedMetricInit",
                    onNewGoal: "onNewGoal",
                    onNewSubGoal: "onNewSubGoal"
                },
                decls: 10,
                vars: 10,
                consts: [ [ "data-testid", "scorecard-list-toolbar", 1, "scorecard-list-toolbar" ], [ 1, "left-actions", "actions-container" ], [ 3, "scorecardName", "isTitleEditable", 4, "ngIf" ], [ 4, "ngIf" ], [ 1, "right-actions", "actions-container" ], [ 3, "filterText", "filterBy" ], [ 3, "isEditMode", "scorecardCapabilities", "numberOfSelectedGoals", "hasHierarchies", "onNewGoal", "onNewSubGoal", "onLinkedMetricInit" ], [ 3, "scorecardName", "isTitleEditable" ], [ 4, "pbiFeatureSwitch" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "section", 0)(1, "div", 1), core["\u0275\u0275template"](2, ScorecardListToolbarComponent_scorecard_title_2_Template, 1, 2, "scorecard-title", 2), 
                    core["\u0275\u0275template"](3, ScorecardListToolbarComponent_ng_container_3_Template, 2, 1, "ng-container", 3), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](4, "div", 4), 
                    core["\u0275\u0275template"](5, ScorecardListToolbarComponent_ng_container_5_Template, 2, 1, "ng-container", 3), 
                    core["\u0275\u0275elementStart"](6, "scorecard-filter", 5), core["\u0275\u0275listener"]("filterBy", function($event) {
                        return ctx.filterBy.emit($event);
                    }), core["\u0275\u0275elementEnd"](), core["\u0275\u0275element"](7, "view-switcher"), 
                    core["\u0275\u0275elementStart"](8, "scorecard-new-button", 6), core["\u0275\u0275listener"]("onNewGoal", function() {
                        return ctx.onNewGoal.emit();
                    })("onNewSubGoal", function() {
                        return ctx.onNewSubGoal.emit();
                    })("onLinkedMetricInit", function() {
                        return ctx.onLinkedMetricInit.emit();
                    }), core["\u0275\u0275pipe"](9, "async"), core["\u0275\u0275elementEnd"]()()()), 
                    2 & rf && (core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx.showTitle), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !ctx.showTitle), 
                    core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx.showTitle), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("filterText", ctx.filterText), 
                    core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("isEditMode", ctx.isEditMode)("scorecardCapabilities", ctx.scorecardCapabilities)("numberOfSelectedGoals", ctx.numberOfSelectedGoals)("hasHierarchies", core["\u0275\u0275pipeBind1"](9, 8, ctx.hasHierarchies$)));
                },
                dependencies: [ common.NgIf, pbi_feature_switch_directive.P, ViewSwitcherComponent, ScorecardTitleComponent, ScorecardFilterComponent, ScorecardHierarchyButtonComponent, ScorecardNewButtonComponent, common.AsyncPipe ],
                styles: [ "[_nghost-%COMP%]{--toolbar-padding: 0px 30px 12px 30px}[_nghost-%COMP%]   .scorecard-list-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;box-sizing:border-box;padding:var(--toolbar-padding);width:100%;font-family:var(--scorecard-fontFamily);background-color:var(--scorecard-headerBackgroundColor);border-bottom:1px solid var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD);vertical-align:top}[_nghost-%COMP%]   .scorecard-list-toolbar[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:8px}[_nghost-%COMP%]   .scorecard-list-toolbar[_ngcontent-%COMP%]     .no-line .mat-form-field-underline{display:none}[_nghost-%COMP%]   .scorecard-list-toolbar[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{border-top:0px}[_nghost-%COMP%]   .scorecard-list-toolbar[_ngcontent-%COMP%]     .scorecard-title{padding:0}[_nghost-%COMP%]   .scorecard-list-toolbar[_ngcontent-%COMP%]     .scorecard-title .editableLabel{font-size:var(--lg-font-size)}" ],
                changeDetection: 0
            }), ScorecardListToolbarComponent;
        }(), ScorecardMetricPickerToolbarComponent = function() {
            function ScorecardMetricPickerToolbarComponent() {
                this.filterBy = new core.EventEmitter;
            }
            return ScorecardMetricPickerToolbarComponent.\u0275fac = function(t) {
                return new (t || ScorecardMetricPickerToolbarComponent);
            }, ScorecardMetricPickerToolbarComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: ScorecardMetricPickerToolbarComponent,
                selectors: [ [ "scorecard-metric-picker-toolbar" ] ],
                inputs: {
                    filterText: "filterText"
                },
                outputs: {
                    filterBy: "filterBy"
                },
                decls: 4,
                vars: 1,
                consts: [ [ 1, "scorecard-picker-toolbar" ], [ 1, "left-actions" ], [ 1, "right-actions" ], [ 3, "filterText", "filterBy" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "section", 0), core["\u0275\u0275element"](1, "div", 1), 
                    core["\u0275\u0275elementStart"](2, "div", 2)(3, "scorecard-filter", 3), core["\u0275\u0275listener"]("filterBy", function($event) {
                        return ctx.filterBy.emit($event);
                    }), core["\u0275\u0275elementEnd"]()()()), 2 & rf && (core["\u0275\u0275advance"](3), 
                    core["\u0275\u0275property"]("filterText", ctx.filterText));
                },
                dependencies: [ ScorecardFilterComponent ],
                styles: [ ".scorecard-picker-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;box-sizing:border-box;padding:0 30px 12px;width:100%;font-family:var(--scorecard-fontFamily);background-color:var(--scorecard-headerBackgroundColor);border-bottom:1px solid var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD);vertical-align:top}" ],
                changeDetection: 0
            }), ScorecardMetricPickerToolbarComponent;
        }(), button_toggle = __webpack_require__(78181), pbi_office_icon_component = __webpack_require__(69437), scorecard_status_tiles_component_c0 = [ "scorecardStatusTiles" ];
        function ScorecardStatusTiles_mat_button_toggle_3_pbi_office_icon_2_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "pbi-office-icon", 11);
        }
        var scorecard_status_tiles_component_c1 = function(a0) {
            return {
                "background-color": a0
            };
        };
        function ScorecardStatusTiles_mat_button_toggle_3_div_3_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "div", 12), 2 & rf) {
                var statusTile_r3 = core["\u0275\u0275nextContext"]().$implicit;
                core["\u0275\u0275styleMap"](core["\u0275\u0275pureFunction1"](2, scorecard_status_tiles_component_c1, statusTile_r3.color));
            }
        }
        function ScorecardStatusTiles_mat_button_toggle_3_Template(rf, ctx) {
            if (1 & rf) {
                var _r8 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "mat-button-toggle", 5), core["\u0275\u0275listener"]("click", function() {
                    var statusTile_r3 = core["\u0275\u0275restoreView"](_r8).$implicit, ctx_r7 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r7.onStatusTileClicked(statusTile_r3));
                }), core["\u0275\u0275elementStart"](1, "span", 6), core["\u0275\u0275template"](2, ScorecardStatusTiles_mat_button_toggle_3_pbi_office_icon_2_Template, 1, 0, "pbi-office-icon", 7), 
                core["\u0275\u0275template"](3, ScorecardStatusTiles_mat_button_toggle_3_div_3_Template, 1, 4, "div", 8), 
                core["\u0275\u0275elementStart"](4, "div", 9), core["\u0275\u0275text"](5), core["\u0275\u0275elementEnd"]()(), 
                core["\u0275\u0275elementStart"](6, "span", 10), core["\u0275\u0275text"](7), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var statusTile_r3 = ctx.$implicit;
                core["\u0275\u0275classProp"]("filtered-on", statusTile_r3.filteredOn)("hide", statusTile_r3.collapsed), 
                core["\u0275\u0275property"]("checked", statusTile_r3.filteredOn), core["\u0275\u0275attribute"]("aria-label", statusTile_r3.displayName), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", statusTile_r3.filteredOn), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !statusTile_r3.filteredOn), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate"](statusTile_r3.displayName), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate"](statusTile_r3.count);
            }
        }
        function ScorecardStatusTiles_button_4_Template(rf, ctx) {
            if (1 & rf) {
                var _r10 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 13), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r10);
                    var ctx_r9 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r9.onCollapse());
                }), core["\u0275\u0275elementStart"](1, "span"), core["\u0275\u0275text"](2), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r2 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275classProp"]("expanded", !ctx_r2.collapsed), core["\u0275\u0275attribute"]("aria-label", ctx_r2.collapseButtonAriaLabel), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275textInterpolate"](ctx_r2.collapseButtonLabel);
            }
        }
        var ScorecardStatusTiles = function() {
            function ScorecardStatusTiles(changeDetectorRef, localizationService) {
                this.changeDetectorRef = changeDetectorRef, this.localizationService = localizationService, 
                this.onStatusSelected = new core.EventEmitter, this.collapsed = !0, this.columnGap = 8, 
                this.enableCollapse = !1, this.tileMinWidth = 140, this.tileMaxWidth = 210, this.goalStatusHelper = new goal_status_helper.p(this.localizationService);
            }
            return ScorecardStatusTiles.prototype.onResize = function() {
                this.updateGoalStatusTiles();
            }, ScorecardStatusTiles.prototype.ngAfterViewInit = function() {
                this.updateGoalStatusTiles();
            }, ScorecardStatusTiles.prototype.ngOnChanges = function() {
                this.updateGoalStatusTiles();
            }, ScorecardStatusTiles.prototype.onStatusTileClicked = function(tile) {
                if (_.isNil(this.selectedStatuses) && (this.selectedStatuses = []), tile.status) {
                    var selectedStatus = _.find(this.selectedStatuses, function(status) {
                        return goal_status_helper.p.statusesMatch(status, tile.status);
                    });
                    selectedStatus ? this.selectedStatuses = _.without(this.selectedStatuses, selectedStatus) : this.selectedStatuses.push(tile.status);
                } else this.selectedStatuses = [];
                this.updateGoalStatusTiles(), this.onStatusSelected.emit(this.selectedStatuses);
            }, ScorecardStatusTiles.prototype.onCollapse = function() {
                this.collapsed = !this.collapsed, this.updateGoalStatusTiles();
            }, ScorecardStatusTiles.prototype.updateGoalStatusTiles = function() {
                this.createStatusTiles(), this.calculateGrid(), this.collapseGrid(), this.changeDetectorRef.markForCheck();
            }, ScorecardStatusTiles.prototype.createStatusTiles = function() {
                var _a;
                if (this.goals && 0 !== (null === (_a = this.goals) || void 0 === _a ? void 0 : _a.length) && (1 !== this.goals.length || !_.isNil(this.goals[0].name))) {
                    var allGoals = scorecard_helper.q.flattenGoals(this.goals);
                    this.statusTiles = [];
                    var noStatusesSelected = _.isEmpty(this.selectedStatuses);
                    this.statusTiles.push({
                        displayName: this.localizationService.get("MetricsName_New"),
                        count: _.size(allGoals),
                        collapsed: !1,
                        filteredOn: noStatusesSelected
                    });
                    for (var defaultStatuses = _.filter(this.goalStatusList, function(status) {
                        return !status.historical;
                    }), _i = 0, distinctStatuses_1 = goal_status_helper.p.getDistinctStatuses(allGoals, this.goalStatusesByScorecardId, defaultStatuses); _i < distinctStatuses_1.length; _i++) {
                        var distinctStatus = distinctStatuses_1[_i], displayName = this.goalStatusHelper.tryLocalizeDisplayName(distinctStatus.displayName) || this.localizationService.get("NullValue"), filteredOn = goal_status_helper.p.listIncludesMatchingStatus(this.selectedStatuses, distinctStatus), color = goal_status_helper.p.getGoalStatusIconColor(distinctStatus.color);
                        this.statusTiles.push({
                            status: distinctStatus,
                            displayName,
                            color,
                            count: distinctStatus.count,
                            collapsed: !1,
                            filteredOn
                        });
                    }
                }
            }, ScorecardStatusTiles.prototype.calculateGrid = function() {
                var _a, _b;
                if (this.statusTiles && 0 !== (null === (_a = this.statusTiles) || void 0 === _a ? void 0 : _a.length) && (null === (_b = this.scorecardStatusTiles) || void 0 === _b ? void 0 : _b.nativeElement)) {
                    var tileCount = this.statusTiles.length;
                    if (this.availableSpace = this.scorecardStatusTiles.nativeElement.clientWidth, this.availableSpace < this.tileMinWidth) return this.gridLayout = {
                        numberOfRows: tileCount,
                        numberOfColumns: 1
                    }, this.gridStyle = {
                        "column-gap": "".concat(this.columnGap, "px"),
                        "grid-template-columns": "repeat(".concat(this.gridLayout.numberOfColumns, ", 1fr)")
                    }, void (this.enableCollapse = !0);
                    if (this.availableSpace > tileCount * this.tileMaxWidth + (tileCount - 1) * this.columnGap) return this.gridLayout = {
                        numberOfRows: 1,
                        numberOfColumns: tileCount
                    }, this.gridStyle = {
                        "column-gap": "".concat(this.columnGap, "px"),
                        "grid-template-columns": "repeat(auto-fill, ".concat(this.tileMaxWidth, "px)")
                    }, void (this.enableCollapse = !1);
                    for (var numberOfCardsPerRow = Math.floor((this.availableSpace - this.tileMinWidth) / (this.tileMinWidth + this.columnGap) + 1), solutions = []; numberOfCardsPerRow > 0 && (this.availableSpace - (numberOfCardsPerRow - 1) * this.columnGap) / numberOfCardsPerRow <= this.tileMaxWidth; ) solutions.push({
                        numberOfRows: Math.ceil(this.statusTiles.length / numberOfCardsPerRow),
                        numberOfColumns: numberOfCardsPerRow
                    }), numberOfCardsPerRow -= 1;
                    switch (solutions.length) {
                      case 0:
                        numberOfCardsPerRow = Math.floor((this.availableSpace - this.tileMinWidth) / (this.tileMinWidth + this.columnGap) + 1), 
                        this.gridLayout = {
                            numberOfRows: Math.ceil(this.statusTiles.length / numberOfCardsPerRow),
                            numberOfColumns: numberOfCardsPerRow
                        };
                        break;

                      case 1:
                        this.gridLayout = solutions[0];
                        break;

                      default:
                        if (this.availableSpace >= 768) {
                            this.gridLayout = solutions[solutions.length - 1];
                            break;
                        }
                        if (this.availableSpace <= 767 && this.availableSpace > 480) {
                            this.gridLayout = solutions[Math.ceil(solutions.length / 2) - 1];
                            break;
                        }
                        if (this.availableSpace <= 480) {
                            this.gridLayout = solutions[0];
                            break;
                        }
                    }
                    this.gridStyle = {
                        "column-gap": "".concat(this.columnGap, "px"),
                        "grid-template-columns": "repeat(".concat(this.gridLayout.numberOfColumns, ", 1fr)")
                    }, this.enableCollapse = this.gridLayout.numberOfRows > 1;
                }
            }, ScorecardStatusTiles.prototype.collapseGrid = function() {
                if (this.enableCollapse) {
                    if (!this.collapsed) return this.collapseButtonLabel = this.localizationService.get("Collapse"), 
                    void (this.collapseButtonAriaLabel = this.localizationService.get("CollapseStatuses"));
                    for (var standard = !0, i = this.gridLayout.numberOfColumns - 1; i < this.statusTiles.length; i++) this.statusTiles[i].filteredOn && (standard = !1);
                    standard ? this.standardCollapse() : this.rearrangeCollapse(), this.collapseButtonLabel = this.localizationService.format("ShowXMore", [ this.collapsedStatuses ]), 
                    this.collapseButtonAriaLabel = this.localizationService.format("ShowMoreStatuses", [ this.collapsedStatuses ]);
                }
            }, ScorecardStatusTiles.prototype.standardCollapse = function() {
                for (var i = this.gridLayout.numberOfColumns - 1; i < this.statusTiles.length; i++) this.statusTiles[i].collapsed = !0;
                this.collapsedStatuses = this.statusTiles.length - (this.gridLayout.numberOfColumns - 1);
            }, ScorecardStatusTiles.prototype.rearrangeCollapse = function() {
                var rearrangedStatusTiles = [ this.statusTiles[0] ], filteredStatusTiles = this.statusTiles.filter(function(statusTile) {
                    return statusTile.filteredOn && statusTile.status;
                }), unfilteredStatusTiles = this.statusTiles.filter(function(statusTile) {
                    return !statusTile.filteredOn && statusTile.status;
                });
                rearrangedStatusTiles = (rearrangedStatusTiles = rearrangedStatusTiles.concat(filteredStatusTiles)).concat(unfilteredStatusTiles), 
                this.collapsedStatuses = 0;
                for (var i = 0; i < rearrangedStatusTiles.length; i++) !rearrangedStatusTiles[i].filteredOn && i > this.gridLayout.numberOfColumns - 2 && (rearrangedStatusTiles[i].collapsed = !0, 
                this.collapsedStatuses += 1);
                this.statusTiles = rearrangedStatusTiles;
            }, ScorecardStatusTiles.\u0275fac = function(t) {
                return new (t || ScorecardStatusTiles)(core["\u0275\u0275directiveInject"](core.ChangeDetectorRef), core["\u0275\u0275directiveInject"](localization_service.o));
            }, ScorecardStatusTiles.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: ScorecardStatusTiles,
                selectors: [ [ "scorecard-status-tiles" ] ],
                viewQuery: function(rf, ctx) {
                    var _t;
                    1 & rf && core["\u0275\u0275viewQuery"](scorecard_status_tiles_component_c0, 5), 
                    2 & rf && core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.scorecardStatusTiles = _t.first);
                },
                hostBindings: function(rf, ctx) {
                    1 & rf && core["\u0275\u0275listener"]("resize", function($event) {
                        return ctx.onResize($event);
                    }, !1, core["\u0275\u0275resolveWindow"]);
                },
                inputs: {
                    goals: "goals",
                    goalStatusesByScorecardId: "goalStatusesByScorecardId",
                    goalStatusList: "goalStatusList",
                    selectedStatuses: "selectedStatuses"
                },
                outputs: {
                    onStatusSelected: "onStatusSelected"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 5,
                vars: 4,
                consts: [ [ 1, "scorecard-status-tiles" ], [ "multiple", "", 1, "status-tiles-btn-group" ], [ "scorecardStatusTiles", "" ], [ "class", "status-tile", 3, "checked", "filtered-on", "hide", "click", 4, "ngFor", "ngForOf" ], [ "class", "status-tiles-collapse-btn", 3, "expanded", "click", 4, "ngIf" ], [ 1, "status-tile", 3, "checked", "click" ], [ 1, "status-tile-flex-container" ], [ "class", "status-tile-icon", "name", "CheckmarkWithDynamicColor_16", 4, "ngIf" ], [ "class", "status-tile-dot", 3, "style", 4, "ngIf" ], [ 1, "status-tile-name" ], [ 1, "status-tile-count" ], [ "name", "CheckmarkWithDynamicColor_16", 1, "status-tile-icon" ], [ 1, "status-tile-dot" ], [ 1, "status-tiles-collapse-btn", 3, "click" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "section", 0)(1, "mat-button-toggle-group", 1, 2), 
                    core["\u0275\u0275template"](3, ScorecardStatusTiles_mat_button_toggle_3_Template, 8, 10, "mat-button-toggle", 3), 
                    core["\u0275\u0275template"](4, ScorecardStatusTiles_button_4_Template, 3, 4, "button", 4), 
                    core["\u0275\u0275elementEnd"]()()), 2 & rf && (core["\u0275\u0275advance"](1), 
                    core["\u0275\u0275styleMap"](ctx.gridStyle), core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngForOf", ctx.statusTiles), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx.enableCollapse));
                },
                dependencies: [ common.NgForOf, common.NgIf, button_toggle.A9, button_toggle.Yi, pbi_office_icon_component.m ],
                styles: [ ".scorecard-status-tiles[_ngcontent-%COMP%]{box-sizing:border-box;padding:0 30px;font-family:var(--scorecard-fontFamily);background-color:var(--scorecard-headerBackgroundColor);border-bottom:1px solid var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD);width:100%}.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]{display:grid;row-gap:12px;grid-template-rows:repeat(auto-fill,40px);column-gap:8px;grid-template-columns:repeat(auto-fill,140px);padding:12px 0;width:100%;border:var(--focus-outline-definition, 2.5px solid) transparent}@media screen and (-ms-high-contrast: active){.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]{border:none}}.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tile[_ngcontent-%COMP%]{display:flex;box-sizing:border-box;justify-content:space-between;min-width:140px;max-width:210px;padding:0;box-shadow:none;border:1px solid var(--gray-30, #EDEBE9);border-radius:2px;background-color:var(--fluent-theme-white-color, #FFF)}.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tile.hide[_ngcontent-%COMP%]{display:none}.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tile[_ngcontent-%COMP%]:hover{background-color:var(--gray-20, #F3F2F1)}.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tile[_ngcontent-%COMP%]:active{background-color:var(--gray-30, #EDEBE9)}.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tile.filtered-on[_ngcontent-%COMP%]{border:1px solid var(--gray-140, #484644)}.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tile[_ngcontent-%COMP%]     .mat-button-toggle-button{width:100%;padding:10px 12px}.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tile[_ngcontent-%COMP%]     .mat-button-toggle-button .mat-button-toggle-label-content{display:flex;box-sizing:border-box;justify-content:space-between;max-height:20px;padding:0;line-height:20px}.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tile[_ngcontent-%COMP%]     .mat-button-toggle-button .mat-button-toggle-label-content .status-tile-flex-container{text-align:left;max-width:80%}.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tile[_ngcontent-%COMP%]     .mat-button-toggle-button .mat-button-toggle-label-content .status-tile-flex-container .status-tile-dot{display:inline-block;height:8px;width:8px;margin:6px 8px 6px 0;border-radius:50%;background-color:var(--fluent-theme-black-color, #000)}.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tile[_ngcontent-%COMP%]     .mat-button-toggle-button .mat-button-toggle-label-content .status-tile-flex-container .status-tile-icon{display:inline-block;vertical-align:top;height:16px;width:16px;margin:1px 4px 2px 0}.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tile[_ngcontent-%COMP%]     .mat-button-toggle-button .mat-button-toggle-label-content .status-tile-flex-container .status-tile-name{display:inline-block;width:100%;line-height:20px;font-family:var(--scorecard-fontFamily);font-size:var(--md-font-size, 14px);overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tile[_ngcontent-%COMP%]     .mat-button-toggle-button .mat-button-toggle-label-content .status-tile-count{max-width:20%;font-family:var(--scorecard-fontFamily);font-size:var(--md-font-size, 14px);text-align:right;line-height:20px}.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tiles-collapse-btn[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;margin:auto 0 auto auto;padding:0;color:var(--fluent-theme-link-darker-alt-color, #106EBE);background:transparent;border:var(--focus-outline-definition, 2.5px solid) transparent}@media screen and (-ms-high-contrast: active){.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tiles-collapse-btn[_ngcontent-%COMP%]{border:none}}.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tiles-collapse-btn[_ngcontent-%COMP%]:hover, .scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tiles-collapse-btn[_ngcontent-%COMP%]:active{border:var(--focus-outline-definition, 2.5px solid) transparent}@media screen and (-ms-high-contrast: active){.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tiles-collapse-btn[_ngcontent-%COMP%]:hover, .scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tiles-collapse-btn[_ngcontent-%COMP%]:active{border:none}}.scorecard-status-tiles[_ngcontent-%COMP%]   .status-tiles-btn-group[_ngcontent-%COMP%]   .status-tiles-collapse-btn.expanded[_ngcontent-%COMP%]{flex-direction:row;margin:auto auto auto 12px}" ],
                changeDetection: 0
            }), ScorecardStatusTiles;
        }(), scorecard_lazy_component = __webpack_require__(87582), mashup_service = __webpack_require__(85928), http = __webpack_require__(48741), MashupEvaluationService = function() {
            function MashupEvaluationService(appSettings, mashupService, httpClient, goalsHttpService) {
                this.appSettings = appSettings, this.mashupService = mashupService, this.httpClient = httpClient, 
                this.goalsHttpService = goalsHttpService;
            }
            return MashupEvaluationService.prototype.evaluateQuery = function(mashup) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var api, token, evaluateApi;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return [ 4, this.mashupService.getPQEndpoint().pipe((0, take.q)(1)).toPromise() ];

                          case 1:
                            return api = _a.sent(), [ 4, this.mashupService.getPQToken("".concat(this.appSettings.powerQueryResourceName, "/.default")).pipe((0, 
                            take.q)(1)).toPromise() ];

                          case 2:
                            return token = _a.sent(), evaluateApi = "".concat(api, "/api/evaluator/evaluate"), 
                            [ 4, this.httpClient.post(evaluateApi, {
                                mashupDocument: mashup,
                                queryName: "Query",
                                fastCombine: !0
                            }, {
                                headers: {
                                    "x-ms-api-version": "2.0",
                                    authorization: "Bearer ".concat(token)
                                }
                            }).pipe((0, take.q)(1)).toPromise() ];

                          case 3:
                            return [ 2, _a.sent() ];
                        }
                    });
                });
            }, MashupEvaluationService.prototype.importGoal = function(groupId, id, selectedTable, mappedHeaderNames, goalStatuses) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var headerIndex, nameIndex, ownerIndex, statusIndex, valueIndex, dueDateIndex, noteIndex, statusIndexArr, index, _i, _a, row, goal, createGoalValueRequest;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            headerIndex = [], nameIndex = _.indexOf(mappedHeaderNames, "Name"), ownerIndex = _.indexOf(mappedHeaderNames, "Owner"), 
                            statusIndex = _.indexOf(mappedHeaderNames, "Status"), valueIndex = _.indexOf(mappedHeaderNames, "Value"), 
                            dueDateIndex = _.indexOf(mappedHeaderNames, "Due Date"), noteIndex = _.indexOf(mappedHeaderNames, "Notes"), 
                            headerIndex.push(nameIndex, ownerIndex, statusIndex, valueIndex, dueDateIndex, noteIndex), 
                            -1 !== statusIndex && (statusIndexArr = this.getStatus(selectedTable, statusIndex, goalStatuses)), 
                            index = 0, _i = 0, _a = selectedTable.rows, _b.label = 1;

                          case 1:
                            return _i < _a.length ? [ 4, this.goalsHttpService.createGoal(groupId, id, {
                                name: (row = _a[_i])[nameIndex],
                                owner: row[ownerIndex],
                                completionDate: row[dueDateIndex]
                            }).pipe().toPromise() ] : [ 3, 5 ];

                          case 2:
                            return goal = _b.sent(), createGoalValueRequest = {
                                timestamp: "2:00",
                                status: statusIndexArr[index]
                            }, index += 1, [ 4, this.goalsHttpService.createGoalValue(groupId, id, goal.id, createGoalValueRequest) ];

                          case 3:
                            _b.sent(), _b.label = 4;

                          case 4:
                            return _i++, [ 3, 1 ];

                          case 5:
                            return [ 2 ];
                        }
                    });
                });
            }, MashupEvaluationService.prototype.getStatus = function(selectedTable, statusIndex, goalStatuses) {
                for (var removeSpaceStatus = [], _i = 0, allRows_1 = selectedTable.rows; _i < allRows_1.length; _i++) {
                    var eachStatus = allRows_1[_i][statusIndex].replace(/\s/g, "");
                    removeSpaceStatus.push(eachStatus);
                }
                for (var indexStatus = [], _a = 0, removeSpaceStatus_1 = removeSpaceStatus; _a < removeSpaceStatus_1.length; _a++) {
                    var statusMatch = goal_status_helper.p.getGoalStatusId(removeSpaceStatus_1[_a], goalStatuses);
                    indexStatus.push(statusMatch);
                }
                return indexStatus;
            }, MashupEvaluationService.\u0275fac = function(t) {
                return new (t || MashupEvaluationService)(core["\u0275\u0275inject"](app_settings_service.de), core["\u0275\u0275inject"](mashup_service.M), core["\u0275\u0275inject"](http.eN), core["\u0275\u0275inject"](goalsHttpService.f));
            }, MashupEvaluationService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: MashupEvaluationService,
                factory: MashupEvaluationService.\u0275fac
            }), MashupEvaluationService;
        }();
        function ImportDialogComponent_message_banner_6_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "message-banner", 10), 2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("viewModel", ctx_r0.messageBannerModelColumn);
            }
        }
        function ImportDialogComponent_message_banner_7_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "message-banner", 10), 2 & rf) {
                var ctx_r1 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("viewModel", ctx_r1.messageBannerModelEmpty);
            }
        }
        function ImportDialogComponent_div_9_option_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "option", 15), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var table_option_r7 = ctx.$implicit;
                core["\u0275\u0275property"]("value", ctx.index), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275textInterpolate"](table_option_r7.sheetName);
            }
        }
        function ImportDialogComponent_div_9_Template(rf, ctx) {
            if (1 & rf) {
                var _r10 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 11), core["\u0275\u0275element"](1, "p", 12), 
                core["\u0275\u0275elementStart"](2, "select", 13), core["\u0275\u0275listener"]("change", function($event) {
                    core["\u0275\u0275restoreView"](_r10);
                    var ctx_r9 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r9.onSelectTable($event.target.value));
                }), core["\u0275\u0275template"](3, ImportDialogComponent_div_9_option_3_Template, 2, 2, "option", 14), 
                core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r2 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngForOf", ctx_r2.goalPreviewData);
            }
        }
        function ImportDialogComponent_div_10_th_3_option_5_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "option", 24), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var attributes_r17 = ctx.$implicit;
                core["\u0275\u0275property"]("value", attributes_r17), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275textInterpolate"](attributes_r17);
            }
        }
        function ImportDialogComponent_div_10_th_3_Template(rf, ctx) {
            if (1 & rf) {
                var _r19 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "th")(1, "div", 19)(2, "div", 20)(3, "select", 21), 
                core["\u0275\u0275listener"]("ngModelChange", function($event) {
                    var index_r14 = core["\u0275\u0275restoreView"](_r19).index, ctx_r18 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r18.matchedHeaderName[index_r14] = $event);
                }), core["\u0275\u0275text"](4), core["\u0275\u0275template"](5, ImportDialogComponent_div_10_th_3_option_5_Template, 2, 2, "option", 22), 
                core["\u0275\u0275element"](6, "option"), core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275elementStart"](7, "div", 23), 
                core["\u0275\u0275text"](8), core["\u0275\u0275elementEnd"]()()();
            }
            if (2 & rf) {
                var index_r14 = ctx.index, file_header_r15 = ctx.$implicit, ctx_r11 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngModel", ctx_r11.matchedHeaderName[index_r14]), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"]("", ctx_r11.matchedHeaderName[index_r14], " "), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngForOf", ctx_r11.scorecardAttributes), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275textInterpolate"](file_header_r15);
            }
        }
        function ImportDialogComponent_div_10_tr_4_td_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "td"), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var data_r22 = ctx.$implicit;
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate"](data_r22);
            }
        }
        function ImportDialogComponent_div_10_tr_4_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "tr"), core["\u0275\u0275template"](1, ImportDialogComponent_div_10_tr_4_td_1_Template, 2, 1, "td", 18), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var row_r20 = ctx.$implicit;
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngForOf", row_r20);
            }
        }
        function ImportDialogComponent_div_10_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 16)(1, "table", 17)(2, "tr"), 
            core["\u0275\u0275template"](3, ImportDialogComponent_div_10_th_3_Template, 9, 4, "th", 18), 
            core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](4, ImportDialogComponent_div_10_tr_4_Template, 2, 1, "tr", 18), 
            core["\u0275\u0275elementEnd"]()()), 2 & rf) {
                var ctx_r3 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngForOf", ctx_r3.matchedHeaderName)("ngForOf", ctx_r3.goalImportFileMetadata.tables[ctx_r3.selectTable].column), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngForOf", ctx_r3.goalImportFileMetadata.tables[ctx_r3.selectTable].rows);
            }
        }
        function ImportDialogComponent_pbi_spinner_11_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "pbi-spinner", 25);
        }
        function ImportDialogComponent_section_12_span_4_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "span", 32);
        }
        function ImportDialogComponent_section_12_span_5_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "span", 33), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var ctx_r24 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"](" ", ctx_r24.numGoals, "");
            }
        }
        function ImportDialogComponent_section_12_Template(rf, ctx) {
            if (1 & rf) {
                var _r26 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "section", 26)(1, "div", 27)(2, "button", 28), 
                core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r26);
                    var ctx_r25 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r25.importFromFile());
                }), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](3, "button", 29), 
                core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r26);
                    var ctx_r27 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r27.close());
                }), core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275template"](4, ImportDialogComponent_section_12_span_4_Template, 1, 0, "span", 30), 
                core["\u0275\u0275template"](5, ImportDialogComponent_section_12_span_5_Template, 2, 1, "span", 31), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r5 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("ngIf", ctx_r5.hasDataLoaded), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r5.hasDataLoaded);
            }
        }
        var ImportDialogComponent = function() {
            function ImportDialogComponent(data, mashupEvaluationService, localizationService, dialogService) {
                this.data = data, this.mashupEvaluationService = mashupEvaluationService, this.localizationService = localizationService, 
                this.dialogService = dialogService, this.selectTable = 0, this.maxPercent = 0, this.numGoals = 0, 
                this.emptyFile = !1, this.exceedsColumns = !1, this.hasDataLoaded = !1, this.messageBannerModelColumn = {
                    bannerType: 0,
                    iconName: "pbi-glyph-warning",
                    message: this.localizationService.get("MetricsScorecard_Import_Error_Column_Num")
                }, this.messageBannerModelEmpty = {
                    bannerType: 0,
                    iconName: "pbi-glyph-error",
                    message: this.localizationService.get("MetricsScorecard_Import_Error_Empty_File")
                };
            }
            return ImportDialogComponent.prototype.ngOnInit = function() {
                var _this = this;
                this.goalImportFileMetadata = {
                    file_name: "ExampleFile",
                    tables: []
                }, this.goalPreviewData = this.goalImportFileMetadata.tables, this.scorecardAttributes = [ "Name", "Owner", "Status", "Value", "Progress", "Due Date", "Notes" ], 
                this.getAllTables().then(function(tables) {
                    if (_.isEmpty(tables)) _this.emptyFile = !0; else {
                        for (var _i = 0, tables_1 = tables; _i < tables_1.length; _i++) {
                            var table = tables_1[_i];
                            _this.goalPreviewData.push({
                                sheetName: table.sheetName,
                                tableName: table.tableName,
                                column: [],
                                rows: []
                            });
                        }
                        _this.onSelectTable(0);
                    }
                });
            }, ImportDialogComponent.prototype.onSelectTable = function(i) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var selectedTable, result;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return this.selectTable = i, selectedTable = this.goalImportFileMetadata.tables[i], 
                            _.isEmpty(selectedTable.column) ? (this.hasDataLoaded = !1, [ 4, this.evaluatePreviewTable(selectedTable.sheetName, selectedTable.tableName) ]) : [ 3, 2 ];

                          case 1:
                            result = _a.sent(), this.goalImportFileMetadata.tables[this.selectTable].column = result.columns, 
                            this.goalImportFileMetadata.tables[this.selectTable].rows = result.rows, _a.label = 2;

                          case 2:
                            return this.setHeaders(), this.numGoals = this.goalImportFileMetadata.tables[this.selectTable].rows.length, 
                            this.exceedsColumns = this.goalImportFileMetadata.tables[this.selectTable].column.length >= 7, 
                            [ 2 ];
                        }
                    });
                });
            }, ImportDialogComponent.prototype.setHeaders = function() {
                this.excelHeaders = this.goalImportFileMetadata.tables[this.selectTable].column;
                for (var matchedHeaderName = [], _i = 0, _a = this.excelHeaders; _i < _a.length; _i++) this.stringSimilarity(_a[_i], this.scorecardAttributes), 
                matchedHeaderName.push(this.maxPercentHeader);
                this.matchedHeaderName = matchedHeaderName, this.hasDataLoaded = !0;
            }, ImportDialogComponent.prototype.getAllTables = function() {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var encodedDocument, previewTable, headerPair, sheetNameColumnIndex, kindNameColumnIndex, _i, _a, eachRow;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            return encodedDocument = this.data.fileData, debug.fF.assertValue(this.data.fileData, "Missing file data"), 
                            [ 4, this.mashupEvaluationService.evaluateQuery('section Section1; shared Query = let source = Excel.Workbook(Binary.FromText("'.concat(encodedDocument, '")) in source;')) ];

                          case 1:
                            for (previewTable = _b.sent(), headerPair = [], sheetNameColumnIndex = _.indexOf(previewTable.columns, "Name"), 
                            kindNameColumnIndex = _.indexOf(previewTable.columns, "Kind"), _i = 0, _a = previewTable.rows; _i < _a.length; _i++) "Table" === (eachRow = _a[_i])[kindNameColumnIndex] && headerPair.push({
                                sheetName: eachRow[sheetNameColumnIndex],
                                tableName: eachRow[kindNameColumnIndex],
                                column: [],
                                rows: []
                            });
                            return [ 2, headerPair ];
                        }
                    });
                });
            }, ImportDialogComponent.prototype.importFromFile = function() {
                var _a;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var scorecard;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            return [ 4, this.mashupEvaluationService.importGoal((scorecard = this.data.scorecard).groupId, scorecard.id, this.goalImportFileMetadata.tables[this.selectTable], this.matchedHeaderName, null === (_a = scorecard.goalStatuses) || void 0 === _a ? void 0 : _a.statuses) ];

                          case 1:
                            return _b.sent(), this.close(), [ 2 ];
                        }
                    });
                });
            }, ImportDialogComponent.prototype.evaluatePreviewTable = function(sheetName, tableName) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        return [ 2, this.mashupEvaluationService.evaluateQuery('section Section1; shared Query = let source = Excel.Workbook(Binary.FromText("'.concat(this.data.fileData, '")){[Item="').concat(sheetName, '",Kind="').concat(tableName, '"]}[Data] in source;')) ];
                    });
                });
            }, ImportDialogComponent.prototype.stringSimilarity = function(excelFileHeader, scorecardAttributes, gramSize) {
                function getNGrams(s, len) {
                    s = " ".repeat(len - 1) + s.toLowerCase() + " ".repeat(len - 1);
                    for (var v = new Array(s.length - len + 1), i = 0; i < v.length; i++) v[i] = s.slice(i, i + len);
                    return v;
                }
                void 0 === gramSize && (gramSize = 2), this.maxPercent = 0;
                for (var currentPercent = 0, _i = 0, scorecardAttributes_1 = scorecardAttributes; _i < scorecardAttributes_1.length; _i++) {
                    var attribute = scorecardAttributes_1[_i];
                    if (!(null == excelFileHeader ? void 0 : excelFileHeader.length) || !(null == attribute ? void 0 : attribute.length)) return 0;
                    for (var s2 = excelFileHeader.length < attribute.length ? attribute : excelFileHeader, pairs1 = getNGrams(excelFileHeader.length < attribute.length ? excelFileHeader : attribute, gramSize), pairs2 = getNGrams(s2, gramSize), set = new Set(pairs1), total = pairs2.length, hits = 0, _a = 0, pairs2_1 = pairs2; _a < pairs2_1.length; _a++) set.delete(pairs2_1[_a]) && hits++;
                    (currentPercent = hits / total) > this.maxPercent && (this.maxPercent = currentPercent, 
                    this.maxPercentHeader = attribute);
                }
            }, ImportDialogComponent.prototype.close = function() {
                this.dialogService.closeAll();
            }, ImportDialogComponent.\u0275fac = function(t) {
                return new (t || ImportDialogComponent)(core["\u0275\u0275directiveInject"](dialog.WI), core["\u0275\u0275directiveInject"](MashupEvaluationService), core["\u0275\u0275directiveInject"](localization_service.o), core["\u0275\u0275directiveInject"](dialog_service.x));
            }, ImportDialogComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: ImportDialogComponent,
                selectors: [ [ "import-dialog" ] ],
                features: [ core["\u0275\u0275ProvidersFeature"]([ MashupEvaluationService ]) ],
                decls: 13,
                vars: 9,
                consts: [ [ 1, "header" ], [ "mat-dialog-title", "", "localize", "MetricsScorecard_Import_Dialog_Header" ], [ 1, "title" ], [ "mat-icon-button", "", 1, "close", 3, "click" ], [ "fontIcon", "pbi-glyph-close", 1, "glyph-mini" ], [ "class", "impact-margin", 3, "viewModel", 4, "ngIf" ], [ "class", "select", 4, "ngIf" ], [ "class", "scroll", 4, "ngIf" ], [ "class", "pbi-spinner-large", 4, "ngIf" ], [ "class", "import", 4, "ngIf" ], [ 1, "impact-margin", 3, "viewModel" ], [ 1, "select" ], [ "localize", "MetricsScorecard_Import_Dialog_Description", 1, "description" ], [ 1, "select-table", 3, "change" ], [ "class", "table-select", 3, "value", 4, "ngFor", "ngForOf" ], [ 1, "table-select", 3, "value" ], [ 1, "scroll" ], [ "id", "preview-table" ], [ 4, "ngFor", "ngForOf" ], [ 1, "table-headers" ], [ "id", "left" ], [ 1, "col-headers", 3, "ngModel", "ngModelChange" ], [ 3, "value", 4, "ngFor", "ngForOf" ], [ 1, "right" ], [ 3, "value" ], [ 1, "pbi-spinner-large" ], [ 1, "import" ], [ 1, "dialog-buttons" ], [ "localize", "Import", "localizeTooltip", "Import", 1, "pbi-fluent-button", "primary", 3, "click" ], [ "localize", "PBI_Button_Label_Cancel", "localizeTooltip", "PBI_Button_Label_Cancel", 1, "pbi-fluent-button", 3, "click" ], [ "class", "num-goals", "localize", "MetricsScorecard_Import_Dialog_Number_Metrics", 4, "ngIf" ], [ "class", "number", 4, "ngIf" ], [ "localize", "MetricsScorecard_Import_Dialog_Number_Metrics", 1, "num-goals" ], [ 1, "number" ] ],
                template: function(rf, ctx) {
                    1 & rf && (core["\u0275\u0275elementStart"](0, "section", 0), core["\u0275\u0275element"](1, "h1", 1)(2, "div", 2), 
                    core["\u0275\u0275elementStart"](3, "button", 3), core["\u0275\u0275listener"]("click", function() {
                        return ctx.close();
                    }), core["\u0275\u0275pipe"](4, "localize"), core["\u0275\u0275element"](5, "mat-icon", 4), 
                    core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275template"](6, ImportDialogComponent_message_banner_6_Template, 1, 1, "message-banner", 5), 
                    core["\u0275\u0275template"](7, ImportDialogComponent_message_banner_7_Template, 1, 1, "message-banner", 5), 
                    core["\u0275\u0275elementStart"](8, "div"), core["\u0275\u0275template"](9, ImportDialogComponent_div_9_Template, 4, 1, "div", 6), 
                    core["\u0275\u0275template"](10, ImportDialogComponent_div_10_Template, 5, 3, "div", 7), 
                    core["\u0275\u0275template"](11, ImportDialogComponent_pbi_spinner_11_Template, 1, 0, "pbi-spinner", 8), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](12, ImportDialogComponent_section_12_Template, 6, 2, "section", 9)), 
                    2 & rf && (core["\u0275\u0275advance"](3), core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](4, 7, "Close")), 
                    core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", ctx.exceedsColumns), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx.emptyFile), 
                    core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", (null == ctx.goalPreviewData ? null : ctx.goalPreviewData.length) > 0), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx.hasDataLoaded), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !ctx.hasDataLoaded && !ctx.emptyFile), 
                    core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", (null == ctx.goalPreviewData ? null : ctx.goalPreviewData.length) > 0));
                },
                dependencies: [ common.NgForOf, common.NgIf, dialog.uh, fesm2022_forms.YN, fesm2022_forms.Kr, fesm2022_forms.EJ, fesm2022_forms.JJ, fesm2022_forms.On, localize_directive.X, localize_tooltip_directive.r, icon.Hw, message_banner_component.A, pbi_spinner_component.k, localize_pipe.F ],
                styles: [ ".header[_ngcontent-%COMP%]{flex:0 0 50px;display:flex;flex-direction:row;align-items:center}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 1 auto}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:none;margin:0;background-color:transparent;border:0;padding:0}.header[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%]{flex:0 0 20px;align-self:flex-start}.select-table[_ngcontent-%COMP%]{border-bottom:revert;width:10%;margin-left:10px;height:32px;cursor:pointer;padding:0 8px;border-width:1px}div.scroll[_ngcontent-%COMP%]{height:55vh;overflow-y:scroll}.description[_ngcontent-%COMP%]{display:inline}.select[_ngcontent-%COMP%]{padding-bottom:15px}#preview-table[_ngcontent-%COMP%]{padding-top:15px;border-collapse:collapse;width:100%}#preview-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #preview-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #bebebe;padding:4px}#preview-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:4px;font-size:12px;text-align:left;background-color:#ccc}.col-headers[_ngcontent-%COMP%]{border-color:transparent;background-color:transparent;border-bottom:black;font-size:14px;text-overflow:ellipsis}.table-headers[_ngcontent-%COMP%]{display:flex;padding-left:10px;padding-right:8px}.right[_ngcontent-%COMP%]{font-weight:400;text-align:center;padding-left:4vh}.pbi-fluent-button[_ngcontent-%COMP%]{margin-left:8px}.pbi-spinner-large[_ngcontent-%COMP%]{top:50%;left:50%;position:absolute}.loading-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;opacity:0;animation-name:fade-in;animation-duration:.5s;animation-iteration-count:1;animation-timing-function:linear;animation-delay:1s;animation-fill-mode:forwards}.import[_ngcontent-%COMP%]{flex:0 0 55px;display:flex;bottom:13%;flex-direction:inherit;align-items:flex-end;padding-right:1%;position:fixed;display:-webkit-inline-box}.number[_ngcontent-%COMP%]{padding-left:1%;display:contents}.num-goals[_ngcontent-%COMP%]{margin-left:25px}" ]
            }), ImportDialogComponent;
        }(), scorecard_permissions_helper = __webpack_require__(70060), LinkedMetricsLauncherServiceInjectionToken = new core.InjectionToken("LinkedMetricsLauncherService"), StandaloneUtility3 = __webpack_require__(43286), delay = __webpack_require__(70032), withLatestFrom = __webpack_require__(23558), takeWhile = __webpack_require__(68549), scorecard_component_c0 = [ "inputFile" ], scorecard_component_c1 = [ "columnTable" ], scorecard_component_c2 = function() {
            return [ "Metric_Owner_No_Scorecard_Access", "Metric_Owners_No_Scorecard_Access", "Share_Now" ];
        };
        function ScorecardComponent_ng_container_0_ng_container_1_scorecard_access_banner_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275element"](0, "scorecard-access-banner", 8), core["\u0275\u0275pipe"](1, "async")), 
            2 & rf) {
                var scorecard_r3 = core["\u0275\u0275nextContext"](2).ngIf, ctx_r7 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("scorecard", scorecard_r3)("users", core["\u0275\u0275pipeBind1"](1, 3, ctx_r7.goalOwners$))("labels", core["\u0275\u0275pureFunction0"](5, scorecard_component_c2));
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_div_3_ng_container_2_label_9_Template(rf, ctx) {
            if (1 & rf) {
                var _r19 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "label", 18)(1, "input", 19, 20), core["\u0275\u0275listener"]("change", function($event) {
                    core["\u0275\u0275restoreView"](_r19);
                    var ctx_r18 = core["\u0275\u0275nextContext"](5);
                    return core["\u0275\u0275resetView"](ctx_r18.onImportClick($event));
                }), core["\u0275\u0275elementEnd"](), core["\u0275\u0275element"](3, "span", 21), 
                core["\u0275\u0275elementEnd"]();
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_div_3_ng_container_2_Template(rf, ctx) {
            if (1 & rf) {
                var _r21 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "button", 12), 
                core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r21);
                    var ctx_r20 = core["\u0275\u0275nextContext"](4);
                    return core["\u0275\u0275resetView"](ctx_r20.onNewGoalClick());
                }), core["\u0275\u0275pipe"](2, "localize"), core["\u0275\u0275element"](3, "mat-icon", 13)(4, "span", 14), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](5, "button", 15), 
                core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r21);
                    var ctx_r22 = core["\u0275\u0275nextContext"](4);
                    return core["\u0275\u0275resetView"](ctx_r22.onNewSubGoalClick());
                }), core["\u0275\u0275pipe"](6, "localize"), core["\u0275\u0275pipe"](7, "async"), 
                core["\u0275\u0275element"](8, "span", 16), core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](9, ScorecardComponent_ng_container_0_ng_container_1_div_3_ng_container_2_label_9_Template, 4, 0, "label", 17), 
                core["\u0275\u0275elementContainerEnd"]();
            }
            if (2 & rf) {
                var ctx_r14 = core["\u0275\u0275nextContext"](4);
                core["\u0275\u0275advance"](1), core["\u0275\u0275classProp"]("primary", !ctx_r14.toolbarNewLook), 
                core["\u0275\u0275property"]("disabled", !ctx_r14.scorecardCapabilities.createGoal.enabled), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](2, 7, "NewMetric")), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("disabled", !ctx_r14.scorecardCapabilities.createGoal.enabled || 1 !== core["\u0275\u0275pipeBind1"](7, 11, ctx_r14.numberOfSelectedGoals$)), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](6, 9, "AddSubmetric")), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("ngIf", ctx_r14.showImportButton);
            }
        }
        var scorecard_component_c3 = function(a0) {
            return {
                active: a0
            };
        };
        function ScorecardComponent_ng_container_0_ng_container_1_div_3_ng_container_4_button_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "button", 32, 33), core["\u0275\u0275element"](2, "mat-icon", 34)(3, "span", 35)(4, "mat-icon", 36), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var _r28 = core["\u0275\u0275reference"](1);
                core["\u0275\u0275nextContext"]();
                var _r24 = core["\u0275\u0275reference"](4), ctx_r23 = core["\u0275\u0275nextContext"](4);
                core["\u0275\u0275property"]("matMenuTriggerFor", _r24)("ngClass", core["\u0275\u0275pureFunction1"](5, scorecard_component_c3, !0 === _r28.menuOpen)), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275propertyInterpolate"]("fontIcon", "List" === ctx_r23.viewType ? "pbi-glyph-list" : "pbi-glyph-table"), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("localize", "View")("localizeTooltip", "View");
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_div_3_ng_container_4_button_11_Template(rf, ctx) {
            if (1 & rf) {
                var _r30 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 37), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r30);
                    var ctx_r29 = core["\u0275\u0275nextContext"](5);
                    return core["\u0275\u0275resetView"](ctx_r29.openHeatmapConfigurationPane());
                }), core["\u0275\u0275pipe"](1, "localize"), core["\u0275\u0275element"](2, "mat-icon", 38)(3, "span", 39), 
                core["\u0275\u0275elementEnd"]();
            }
            2 & rf && core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](1, 1, "MetricsCustomizeHeatmap"));
        }
        function ScorecardComponent_ng_container_0_ng_container_1_div_3_ng_container_4_button_12_Template(rf, ctx) {
            if (1 & rf) {
                var _r32 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 40), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r32);
                    var ctx_r31 = core["\u0275\u0275nextContext"](5);
                    return core["\u0275\u0275resetView"](ctx_r31.openHierarchiesBuilder());
                }), core["\u0275\u0275pipe"](1, "localize"), core["\u0275\u0275element"](2, "mat-icon", 41)(3, "span", 42), 
                core["\u0275\u0275elementEnd"]();
            }
            2 & rf && core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](1, 1, "MetricsManageHierarchies"));
        }
        function ScorecardComponent_ng_container_0_ng_container_1_div_3_ng_container_4_scorecard_hierarchy_button_13_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "scorecard-hierarchy-button");
        }
        function ScorecardComponent_ng_container_0_ng_container_1_div_3_ng_container_4_Template(rf, ctx) {
            if (1 & rf) {
                var _r34 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, ScorecardComponent_ng_container_0_ng_container_1_div_3_ng_container_4_button_1_Template, 5, 7, "button", 22), 
                core["\u0275\u0275pipe"](2, "async"), core["\u0275\u0275elementStart"](3, "mat-menu", 23, 24)(5, "button", 25), 
                core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r34);
                    var ctx_r33 = core["\u0275\u0275nextContext"](4);
                    return core["\u0275\u0275resetView"](ctx_r33.onScorecardViewClick());
                }), core["\u0275\u0275element"](6, "mat-icon", 26)(7, "span", 27), core["\u0275\u0275elementEnd"](), 
                core["\u0275\u0275elementStart"](8, "button", 25), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r34);
                    var ctx_r35 = core["\u0275\u0275nextContext"](4);
                    return core["\u0275\u0275resetView"](ctx_r35.onHeatmapViewClick());
                }), core["\u0275\u0275element"](9, "mat-icon", 28)(10, "span", 29), core["\u0275\u0275elementEnd"]()(), 
                core["\u0275\u0275template"](11, ScorecardComponent_ng_container_0_ng_container_1_div_3_ng_container_4_button_11_Template, 4, 3, "button", 30), 
                core["\u0275\u0275template"](12, ScorecardComponent_ng_container_0_ng_container_1_div_3_ng_container_4_button_12_Template, 4, 3, "button", 31), 
                core["\u0275\u0275template"](13, ScorecardComponent_ng_container_0_ng_container_1_div_3_ng_container_4_scorecard_hierarchy_button_13_Template, 1, 0, "scorecard-hierarchy-button", 7), 
                core["\u0275\u0275elementContainerEnd"]();
            }
            if (2 & rf) {
                var ctx_r15 = core["\u0275\u0275nextContext"](4);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](2, 5, ctx_r15.hasHierarchies$)), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("overlapTrigger", !1), 
                core["\u0275\u0275advance"](8), core["\u0275\u0275property"]("ngIf", "Heatmap" === ctx_r15.viewType), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r15.isEditMode && "Heatmap" === ctx_r15.viewType), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", "List" === ctx_r15.viewType);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_div_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 9)(1, "div", 10), core["\u0275\u0275template"](2, ScorecardComponent_ng_container_0_ng_container_1_div_3_ng_container_2_Template, 10, 13, "ng-container", 7), 
            core["\u0275\u0275element"](3, "div", 11), core["\u0275\u0275template"](4, ScorecardComponent_ng_container_0_ng_container_1_div_3_ng_container_4_Template, 14, 7, "ng-container", 7), 
            core["\u0275\u0275elementEnd"]()()), 2 & rf) {
                var ctx_r8 = core["\u0275\u0275nextContext"](3);
                core["\u0275\u0275classProp"]("new-look", ctx_r8.toolbarNewLook), core["\u0275\u0275advance"](2), 
                core["\u0275\u0275property"]("ngIf", ("List" === ctx_r8.viewType || "Compact" === ctx_r8.viewType) && ctx_r8.isEditMode), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx_r8.showHierarchies);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_scorecard_title_6_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275element"](0, "scorecard-title", 43), 2 & rf) {
                var scorecard_r3 = core["\u0275\u0275nextContext"](2).ngIf, ctx_r9 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("scorecardName", scorecard_r3.name)("scorecardDescription", scorecard_r3.description)("isTitleEditable", ctx_r9.isTitleEditable);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_ng_container_1_scorecard_metric_picker_toolbar_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r46 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "scorecard-metric-picker-toolbar", 50), core["\u0275\u0275listener"]("filterBy", function($event) {
                    core["\u0275\u0275restoreView"](_r46);
                    var ctx_r45 = core["\u0275\u0275nextContext"](5);
                    return core["\u0275\u0275resetView"](ctx_r45.onFilterKeywordChange($event));
                }), core["\u0275\u0275pipe"](1, "async"), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r42 = core["\u0275\u0275nextContext"](5);
                core["\u0275\u0275property"]("filterText", core["\u0275\u0275pipeBind1"](1, 1, ctx_r42.filterBy$).keyword);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_ng_container_1_ng_template_3_Template(rf, ctx) {
            if (1 & rf) {
                var _r48 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "scorecard-list-toolbar", 51), core["\u0275\u0275listener"]("filterBy", function($event) {
                    core["\u0275\u0275restoreView"](_r48);
                    var ctx_r47 = core["\u0275\u0275nextContext"](5);
                    return core["\u0275\u0275resetView"](ctx_r47.onFilterKeywordChange($event));
                })("onNewGoal", function() {
                    core["\u0275\u0275restoreView"](_r48);
                    var ctx_r49 = core["\u0275\u0275nextContext"](5);
                    return core["\u0275\u0275resetView"](ctx_r49.onNewGoalClick(!1));
                })("onNewSubGoal", function() {
                    core["\u0275\u0275restoreView"](_r48);
                    var ctx_r50 = core["\u0275\u0275nextContext"](5);
                    return core["\u0275\u0275resetView"](ctx_r50.onNewSubGoalClick());
                })("onLinkedMetricInit", function() {
                    core["\u0275\u0275restoreView"](_r48);
                    var ctx_r51 = core["\u0275\u0275nextContext"](5);
                    return core["\u0275\u0275resetView"](ctx_r51.onLinkedMetricInit());
                }), core["\u0275\u0275pipe"](1, "async"), core["\u0275\u0275pipe"](2, "async"), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var scorecard_r3 = core["\u0275\u0275nextContext"](4).ngIf, ctx_r44 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("isEditMode", ctx_r44.isEditMode)("scorecard", scorecard_r3)("scorecardCapabilities", ctx_r44.scorecardCapabilities)("numberOfSelectedGoals", core["\u0275\u0275pipeBind1"](1, 6, ctx_r44.numberOfSelectedGoals$))("filterText", core["\u0275\u0275pipeBind1"](2, 8, ctx_r44.filterBy$).keyword)("showTitle", "Compact" === ctx_r44.viewType);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_ng_container_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_ng_container_1_scorecard_metric_picker_toolbar_1_Template, 2, 3, "scorecard-metric-picker-toolbar", 48), 
            core["\u0275\u0275pipe"](2, "async"), core["\u0275\u0275template"](3, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_ng_container_1_ng_template_3_Template, 3, 10, "ng-template", null, 49, core["\u0275\u0275templateRefExtractor"]), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var _r43 = core["\u0275\u0275reference"](4), ctx_r37 = core["\u0275\u0275nextContext"](4);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](2, 2, ctx_r37.showPickerToolbar$))("ngIfElse", _r43);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_scorecard_status_tiles_4_Template(rf, ctx) {
            if (1 & rf) {
                var _r54 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "scorecard-status-tiles", 52), core["\u0275\u0275listener"]("onStatusSelected", function($event) {
                    core["\u0275\u0275restoreView"](_r54);
                    var ctx_r53 = core["\u0275\u0275nextContext"](4);
                    return core["\u0275\u0275resetView"](ctx_r53.onGoalsStatusTileSelectionChange($event));
                }), core["\u0275\u0275pipe"](1, "async"), core["\u0275\u0275pipe"](2, "async"), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var scorecard_r3 = core["\u0275\u0275nextContext"](3).ngIf, ctx_r38 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("goals", scorecard_r3.goals)("goalStatusesByScorecardId", core["\u0275\u0275pipeBind1"](1, 4, ctx_r38.goalStatusesByScorecardId$))("goalStatusList", null == scorecard_r3.goalStatuses ? null : scorecard_r3.goalStatuses.statuses)("selectedStatuses", core["\u0275\u0275pipeBind1"](2, 6, ctx_r38.filterBy$).statuses);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_div_8_Template(rf, ctx) {
            if (1 & rf) {
                var _r57 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 53)(1, "div"), core["\u0275\u0275element"](2, "mat-icon", 54), 
                core["\u0275\u0275elementStart"](3, "input", 55), core["\u0275\u0275listener"]("ngModelChange", function($event) {
                    core["\u0275\u0275restoreView"](_r57);
                    var ctx_r56 = core["\u0275\u0275nextContext"](4);
                    return core["\u0275\u0275resetView"](ctx_r56.onFilterKeywordChange($event));
                }), core["\u0275\u0275pipe"](4, "localize"), core["\u0275\u0275pipe"](5, "localize"), 
                core["\u0275\u0275pipe"](6, "async"), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](7, "mat-icon", 56), 
                core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r57);
                    var ctx_r58 = core["\u0275\u0275nextContext"](4);
                    return core["\u0275\u0275resetView"](ctx_r58.toggleFilterRow());
                }), core["\u0275\u0275elementEnd"]()()();
            }
            if (2 & rf) {
                var ctx_r39 = core["\u0275\u0275nextContext"](4);
                core["\u0275\u0275classProp"]("toolbar-visible", ctx_r39.isEditMode), core["\u0275\u0275advance"](3), 
                core["\u0275\u0275property"]("ngModel", core["\u0275\u0275pipeBind1"](6, 9, ctx_r39.filterBy$).keyword), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](4, 5, "Filter_By_Keyword"))("placeholder", core["\u0275\u0275pipeBind1"](5, 7, "Filter_By_Keyword"));
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_div_3_Template(rf, ctx) {
            if (1 & rf) {
                var _r65 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "div", 63), core["\u0275\u0275pipe"](1, "async"), 
                core["\u0275\u0275elementStart"](2, "pbi-checkbox", 64), core["\u0275\u0275listener"]("onChange", function($event) {
                    core["\u0275\u0275restoreView"](_r65);
                    var ctx_r64 = core["\u0275\u0275nextContext"](6);
                    return core["\u0275\u0275resetView"](ctx_r64.onSelectAllGoals($event));
                }), core["\u0275\u0275pipe"](3, "async"), core["\u0275\u0275pipe"](4, "localize"), 
                core["\u0275\u0275pipe"](5, "localize"), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r62 = core["\u0275\u0275nextContext"](6);
                core["\u0275\u0275classProp"]("box-checked", core["\u0275\u0275pipeBind1"](1, 5, ctx_r62.allGoalsSelected$)), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("checked", core["\u0275\u0275pipeBind1"](3, 7, ctx_r62.allGoalsSelected$))("pbiTooltip", core["\u0275\u0275pipeBind1"](5, 11, "Metrics_BulkEditing_SelectAllMetrics")), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](4, 9, "Metrics_BulkEditing_SelectAllMetrics"));
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_ng_container_4_ng_container_1_th_1_button_2_Template(rf, ctx) {
            if (1 & rf) {
                var _r75 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 73), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r75);
                    var ctx_r74 = core["\u0275\u0275nextContext"](9);
                    return core["\u0275\u0275resetView"](ctx_r74.onToggleExpandAllMetrics());
                }), core["\u0275\u0275pipe"](1, "localize"), core["\u0275\u0275pipe"](2, "async"), 
                core["\u0275\u0275element"](3, "mat-icon", 74), core["\u0275\u0275pipe"](4, "async"), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r72 = core["\u0275\u0275nextContext"](9);
                core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind1"](1, 2, core["\u0275\u0275pipeBind1"](2, 4, ctx_r72.showAllChildren$) ? "FieldListMenuItem_CollapseAll" : "FieldListMenuItem_ExpandAll")), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("fontIcon", core["\u0275\u0275pipeBind1"](4, 6, ctx_r72.showAllChildren$) ? "pbi-glyph-doublechevrondown" : "pbi-glyph-doublechevronright");
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_ng_container_4_ng_container_1_th_1_button_4_Template(rf, ctx) {
            if (1 & rf) {
                var _r77 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "button", 75), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r77);
                    var ctx_r76 = core["\u0275\u0275nextContext"](9);
                    return core["\u0275\u0275resetView"](ctx_r76.toggleFilterRow());
                }), core["\u0275\u0275pipe"](1, "localize"), core["\u0275\u0275pipe"](2, "async"), 
                core["\u0275\u0275pipe"](3, "localize"), core["\u0275\u0275pipe"](4, "async"), core["\u0275\u0275element"](5, "mat-icon", 76), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r73 = core["\u0275\u0275nextContext"](9);
                core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind1"](3, 6, core["\u0275\u0275pipeBind1"](4, 8, ctx_r73.filterRowVisible$) ? "Filters_Hide" : "Filters_Show")), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](1, 2, core["\u0275\u0275pipeBind1"](2, 4, ctx_r73.filterRowVisible$) ? "Filters_Hide" : "Filters_Show"));
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_ng_container_4_ng_container_1_th_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r79 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "th", 67)(1, "div", 68), core["\u0275\u0275template"](2, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_ng_container_4_ng_container_1_th_1_button_2_Template, 5, 8, "button", 69), 
                core["\u0275\u0275pipe"](3, "async"), core["\u0275\u0275template"](4, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_ng_container_4_ng_container_1_th_1_button_4_Template, 6, 10, "button", 70), 
                core["\u0275\u0275elementStart"](5, "div", 71)(6, "scorecard-column-header", 72), 
                core["\u0275\u0275listener"]("onSortColumn", function($event) {
                    core["\u0275\u0275restoreView"](_r79);
                    var ctx_r78 = core["\u0275\u0275nextContext"](8);
                    return core["\u0275\u0275resetView"](ctx_r78.sortColumn($event));
                }), core["\u0275\u0275pipe"](7, "async"), core["\u0275\u0275elementEnd"]()()()();
            }
            if (2 & rf) {
                var ctx_r80 = core["\u0275\u0275nextContext"](2), columnSetting_r66 = ctx_r80.$implicit, columnIndex_r67 = ctx_r80.index, ctx_r69 = core["\u0275\u0275nextContext"](6);
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx_r69.collapseGoalsByDefault && core["\u0275\u0275pipeBind1"](3, 6, ctx_r69.hasExpandableGoals$)), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", !ctx_r69.goalsNewHeaderEnabled), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("column", ctx_r69.ScorecardColumnConfigs[columnSetting_r66.columnId])("index", columnIndex_r67)("sort", core["\u0275\u0275pipeBind1"](7, 8, ctx_r69.sort$))("isEditMode", ctx_r69.isEditMode);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_ng_container_4_ng_container_1_ng_template_2_th_0_Template(rf, ctx) {
            if (1 & rf) {
                var _r83 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "th", 78)(1, "scorecard-column-header", 72), 
                core["\u0275\u0275listener"]("onSortColumn", function($event) {
                    core["\u0275\u0275restoreView"](_r83);
                    var ctx_r82 = core["\u0275\u0275nextContext"](9);
                    return core["\u0275\u0275resetView"](ctx_r82.sortColumn($event));
                }), core["\u0275\u0275pipe"](2, "async"), core["\u0275\u0275elementEnd"]()();
            }
            if (2 & rf) {
                var ctx_r84 = core["\u0275\u0275nextContext"](3), columnSetting_r66 = ctx_r84.$implicit, columnIndex_r67 = ctx_r84.index, ctx_r81 = core["\u0275\u0275nextContext"](6);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("column", ctx_r81.ScorecardColumnConfigs[columnSetting_r66.columnId])("index", columnIndex_r67)("sort", core["\u0275\u0275pipeBind1"](2, 4, ctx_r81.sort$))("isEditMode", ctx_r81.isEditMode);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_ng_container_4_ng_container_1_ng_template_2_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275template"](0, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_ng_container_4_ng_container_1_ng_template_2_th_0_Template, 3, 6, "th", 77), 
            2 & rf) {
                var columnSetting_r66 = core["\u0275\u0275nextContext"](2).$implicit, ctx_r71 = core["\u0275\u0275nextContext"](6);
                core["\u0275\u0275property"]("ngIf", !ctx_r71.ScorecardColumnConfigs[columnSetting_r66.columnId].hideHeaderInListView);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_ng_container_4_ng_container_1_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_ng_container_4_ng_container_1_th_1_Template, 8, 10, "th", 65), 
            core["\u0275\u0275template"](2, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_ng_container_4_ng_container_1_ng_template_2_Template, 1, 1, "ng-template", null, 66, core["\u0275\u0275templateRefExtractor"]), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var _r70 = core["\u0275\u0275reference"](3), columnSetting_r66 = core["\u0275\u0275nextContext"]().$implicit;
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", 0 == columnSetting_r66.columnId)("ngIfElse", _r70);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_ng_container_4_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_ng_container_4_ng_container_1_Template, 4, 2, "ng-container", 7), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var columnSetting_r66 = ctx.$implicit;
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", columnSetting_r66.show);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "thead")(1, "tr", 60)(2, "th", 61), 
            core["\u0275\u0275template"](3, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_div_3_Template, 6, 13, "div", 62), 
            core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](4, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_ng_container_4_Template, 2, 1, "ng-container", 59), 
            core["\u0275\u0275elementEnd"]()()), 2 & rf) {
                var ctx_r60 = core["\u0275\u0275nextContext"](5);
                core["\u0275\u0275advance"](2), core["\u0275\u0275classProp"]("show-checkmark", !!ctx_r60.scorecardSelectionMode)("show-on-hover-only", "ctrl" === ctx_r60.scorecardSelectionMode), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", "single" !== ctx_r60.scorecardSelectionMode), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngForOf", ctx_r60.columnSettings)("ngForTrackBy", ctx_r60.columnSettingId);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_ng_container_5_tbody_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r91 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "tbody", 80), core["\u0275\u0275listener"]("showChildrenChange", function($event) {
                    core["\u0275\u0275restoreView"](_r91);
                    var ctx_r90 = core["\u0275\u0275nextContext"](6);
                    return core["\u0275\u0275resetView"](ctx_r90.onShowChildrenChange($event));
                })("dragStarted", function($event) {
                    core["\u0275\u0275restoreView"](_r91);
                    var ctx_r92 = core["\u0275\u0275nextContext"](6);
                    return core["\u0275\u0275resetView"](ctx_r92.onGoalDragStart($event));
                })("dragMoved", function($event) {
                    core["\u0275\u0275restoreView"](_r91);
                    var ctx_r93 = core["\u0275\u0275nextContext"](6);
                    return core["\u0275\u0275resetView"](ctx_r93.onGoalDragMove($event));
                }), core["\u0275\u0275pipe"](1, "async"), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r95 = core["\u0275\u0275nextContext"](), goal_r87 = ctx_r95.$implicit, i_r88 = ctx_r95.index, scorecard_r3 = core["\u0275\u0275nextContext"](4).ngIf, ctx_r89 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("scorecard", scorecard_r3)("columnSettings", ctx_r89.columnSettings)("goal", goal_r87)("color", ctx_r89.colorPalette[i_r88 % ctx_r89.colorPalette.length])("showChildren", core["\u0275\u0275pipeBind1"](1, 8, ctx_r89.showChildren$))("goalDragInfo", ctx_r89.goalDragInfo)("scorecardSelectionMode", ctx_r89.scorecardSelectionMode)("forceColumnMinWidths", ctx_r89.forceColumnMinWidths);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_ng_container_5_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_ng_container_5_tbody_1_Template, 2, 10, "tbody", 79), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var goal_r87 = ctx.$implicit;
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !goal_r87.isHidden);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_Template(rf, ctx) {
            if (1 & rf) {
                var _r97 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "table", 57, 58), core["\u0275\u0275listener"]("cdkDropListDropped", function($event) {
                    core["\u0275\u0275restoreView"](_r97);
                    var ctx_r96 = core["\u0275\u0275nextContext"](4);
                    return core["\u0275\u0275resetView"](ctx_r96.onDropGoal($event));
                })("cdkDropListSorted", function($event) {
                    core["\u0275\u0275restoreView"](_r97);
                    var ctx_r98 = core["\u0275\u0275nextContext"](4);
                    return core["\u0275\u0275resetView"](ctx_r98.onGoalDropListSorted($event));
                }), core["\u0275\u0275pipe"](2, "async"), core["\u0275\u0275template"](3, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_thead_3_Template, 5, 7, "thead", 7), 
                core["\u0275\u0275pipe"](4, "async"), core["\u0275\u0275template"](5, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_ng_container_5_Template, 2, 1, "ng-container", 59), 
                core["\u0275\u0275pipe"](6, "async"), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r40 = core["\u0275\u0275nextContext"](4);
                core["\u0275\u0275styleProp"]("padding-left", ctx_r40.scorecardTablePadding.left, "px")("padding-right", ctx_r40.scorecardTablePadding.right, "px"), 
                core["\u0275\u0275property"]("cdkDropListDisabled", !core["\u0275\u0275pipeBind1"](2, 8, ctx_r40.canDragAndDrop$)), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](4, 10, ctx_r40.showHeaders$)), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngForOf", core["\u0275\u0275pipeBind1"](6, 12, ctx_r40.goals$))("ngForTrackBy", ctx_r40.goalId);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_compact_scorecard_11_Template(rf, ctx) {
            if (1 & rf) {
                var _r100 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "compact-scorecard", 81), core["\u0275\u0275listener"]("onSortColumn", function($event) {
                    core["\u0275\u0275restoreView"](_r100);
                    var ctx_r99 = core["\u0275\u0275nextContext"](4);
                    return core["\u0275\u0275resetView"](ctx_r99.sortColumn($event));
                }), core["\u0275\u0275pipe"](1, "async"), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var scorecard_r3 = core["\u0275\u0275nextContext"](3).ngIf, ctx_r41 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("scorecard", scorecard_r3)("isEditMode", ctx_r41.isEditMode)("viewSettings", ctx_r41.viewSettings)("sort", core["\u0275\u0275pipeBind1"](1, 4, ctx_r41.sort$));
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_ng_container_1_Template, 5, 4, "ng-container", 7), 
            core["\u0275\u0275pipe"](2, "async"), core["\u0275\u0275pipe"](3, "async"), core["\u0275\u0275template"](4, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_scorecard_status_tiles_4_Template, 3, 8, "scorecard-status-tiles", 44), 
            core["\u0275\u0275pipe"](5, "async"), core["\u0275\u0275pipe"](6, "async"), core["\u0275\u0275pipe"](7, "async"), 
            core["\u0275\u0275template"](8, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_div_8_Template, 8, 11, "div", 45), 
            core["\u0275\u0275pipe"](9, "async"), core["\u0275\u0275template"](10, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_table_10_Template, 7, 14, "table", 46), 
            core["\u0275\u0275template"](11, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_compact_scorecard_11_Template, 2, 6, "compact-scorecard", 47), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var ctx_r10 = core["\u0275\u0275nextContext"](3);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r10.goalsNewHeaderEnabled && !(core["\u0275\u0275pipeBind1"](2, 5, ctx_r10.hideToolbar$) || core["\u0275\u0275pipeBind1"](3, 7, ctx_r10.hideHeader$))), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", ctx_r10.goalsNewHeaderEnabled && core["\u0275\u0275pipeBind1"](5, 9, ctx_r10.showStatus$) && !(core["\u0275\u0275pipeBind1"](6, 11, ctx_r10.hideCards$) || core["\u0275\u0275pipeBind1"](7, 13, ctx_r10.hideHeader$))), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](9, 15, ctx_r10.filterRowVisible$)), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", "List" === ctx_r10.viewType), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", "Compact" === ctx_r10.viewType);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_10_scorecard_heatmap_toolbar_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r104 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "scorecard-heatmap-toolbar", 50), core["\u0275\u0275listener"]("filterBy", function($event) {
                    core["\u0275\u0275restoreView"](_r104);
                    var ctx_r103 = core["\u0275\u0275nextContext"](4);
                    return core["\u0275\u0275resetView"](ctx_r103.onFilterKeywordChange($event));
                }), core["\u0275\u0275pipe"](1, "async"), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r102 = core["\u0275\u0275nextContext"](4);
                core["\u0275\u0275property"]("filterText", core["\u0275\u0275pipeBind1"](1, 1, ctx_r102.filterBy$).keyword);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_10_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, ScorecardComponent_ng_container_0_ng_container_1_ng_container_10_scorecard_heatmap_toolbar_1_Template, 2, 3, "scorecard-heatmap-toolbar", 82), 
            core["\u0275\u0275element"](2, "heat-map", 83), core["\u0275\u0275elementContainerEnd"]()), 
            2 & rf) {
                var ctx_r11 = core["\u0275\u0275nextContext"](3);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r11.goalsNewHeaderEnabled);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_ng_container_11_Template(rf, ctx) {
            if (1 & rf) {
                var _r106 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "scorecard-list-toolbar", 84), 
                core["\u0275\u0275listener"]("filterBy", function($event) {
                    core["\u0275\u0275restoreView"](_r106);
                    var ctx_r105 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r105.onFilterKeywordChange($event));
                })("onNewGoal", function() {
                    core["\u0275\u0275restoreView"](_r106);
                    var ctx_r107 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r107.onNewGoalClick(!1));
                })("onNewSubGoal", function() {
                    core["\u0275\u0275restoreView"](_r106);
                    var ctx_r108 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r108.onNewSubGoalClick());
                })("onLinkedMetricInit", function() {
                    core["\u0275\u0275restoreView"](_r106);
                    var ctx_r109 = core["\u0275\u0275nextContext"](3);
                    return core["\u0275\u0275resetView"](ctx_r109.onLinkedMetricInit());
                }), core["\u0275\u0275pipe"](2, "async"), core["\u0275\u0275pipe"](3, "async"), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275element"](4, "scorecard-board-view", 85), 
                core["\u0275\u0275elementContainerEnd"]();
            }
            if (2 & rf) {
                var scorecard_r3 = core["\u0275\u0275nextContext"](2).ngIf, ctx_r12 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("isEditMode", ctx_r12.isEditMode)("scorecardCapabilities", ctx_r12.scorecardCapabilities)("numberOfSelectedGoals", core["\u0275\u0275pipeBind1"](2, 6, ctx_r12.numberOfSelectedGoals$))("filterText", core["\u0275\u0275pipeBind1"](3, 8, ctx_r12.filterBy$).keyword), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("boardSettings", ctx_r12.boardSettings)("metricsGoalStatuses", null == scorecard_r3.goalStatuses ? null : scorecard_r3.goalStatuses.statuses);
            }
        }
        function ScorecardComponent_ng_container_0_ng_container_1_Template(rf, ctx) {
            if (1 & rf) {
                var _r112 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "div", 3), 
                core["\u0275\u0275listener"]("on-resize", function() {
                    core["\u0275\u0275restoreView"](_r112);
                    var ctx_r111 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r111.setVisibleColumns());
                }), core["\u0275\u0275template"](2, ScorecardComponent_ng_container_0_ng_container_1_scorecard_access_banner_2_Template, 2, 6, "scorecard-access-banner", 4), 
                core["\u0275\u0275template"](3, ScorecardComponent_ng_container_0_ng_container_1_div_3_Template, 5, 4, "div", 5), 
                core["\u0275\u0275pipe"](4, "async"), core["\u0275\u0275pipe"](5, "async"), core["\u0275\u0275template"](6, ScorecardComponent_ng_container_0_ng_container_1_scorecard_title_6_Template, 1, 3, "scorecard-title", 6), 
                core["\u0275\u0275pipe"](7, "async"), core["\u0275\u0275pipe"](8, "async"), core["\u0275\u0275template"](9, ScorecardComponent_ng_container_0_ng_container_1_ng_container_9_Template, 12, 17, "ng-container", 7), 
                core["\u0275\u0275template"](10, ScorecardComponent_ng_container_0_ng_container_1_ng_container_10_Template, 3, 1, "ng-container", 7), 
                core["\u0275\u0275template"](11, ScorecardComponent_ng_container_0_ng_container_1_ng_container_11_Template, 5, 10, "ng-container", 7), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementContainerEnd"]();
            }
            if (2 & rf) {
                var ctx_r4 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275advance"](1), core["\u0275\u0275styleProp"]("overflow-x", null != ctx_r4.viewSettings && ctx_r4.viewSettings.dropColumns ? "hidden" : "auto"), 
                core["\u0275\u0275classProp"]("heat-map-scroll", "Heatmap" === ctx_r4.viewType)("new-header", ctx_r4.goalsNewHeaderEnabled)("compact", "Compact" === ctx_r4.viewType), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx_r4.showScorecardAccessBanner && ctx_r4.isEditMode), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !ctx_r4.goalsNewHeaderEnabled && (ctx_r4.isEditMode || ctx_r4.toolbarNewLook) && !(core["\u0275\u0275pipeBind1"](4, 14, ctx_r4.hideToolbar$) || core["\u0275\u0275pipeBind1"](5, 16, ctx_r4.hideHeader$))), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", ctx_r4.goalsNewHeaderEnabled && !(core["\u0275\u0275pipeBind1"](7, 18, ctx_r4.hideTitle$) || core["\u0275\u0275pipeBind1"](8, 20, ctx_r4.hideHeader$)) && "Compact" !== ctx_r4.viewType), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("ngIf", "List" === ctx_r4.viewType || "Compact" === ctx_r4.viewType), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", "Heatmap" === ctx_r4.viewType), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", "Board" === ctx_r4.viewType);
            }
        }
        function ScorecardComponent_ng_container_0_ng_template_3_Template(rf, ctx) {
            if (1 & rf) {
                var _r114 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "empty-scorecard", 86), core["\u0275\u0275listener"]("onNewGoal", function() {
                    core["\u0275\u0275restoreView"](_r114);
                    var ctx_r113 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r113.onNewGoalClick(!0));
                })("onLinkToGoal", function() {
                    core["\u0275\u0275restoreView"](_r114);
                    var ctx_r115 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r115.onLinkedMetricInit());
                }), core["\u0275\u0275pipe"](1, "async"), core["\u0275\u0275pipe"](2, "async"), 
                core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r6 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275property"]("isMetricsPicker", core["\u0275\u0275pipeBind1"](1, 2, ctx_r6.showPickerToolbar$))("canEdit", ctx_r6.isEditMode && core["\u0275\u0275pipeBind1"](2, 4, ctx_r6.userHasEditPermissions$));
            }
        }
        function ScorecardComponent_ng_container_0_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275template"](1, ScorecardComponent_ng_container_0_ng_container_1_Template, 12, 22, "ng-container", 0), 
            core["\u0275\u0275pipe"](2, "async"), core["\u0275\u0275template"](3, ScorecardComponent_ng_container_0_ng_template_3_Template, 3, 6, "ng-template", null, 2, core["\u0275\u0275templateRefExtractor"]), 
            core["\u0275\u0275elementContainerEnd"]()), 2 & rf) {
                var _r5 = core["\u0275\u0275reference"](4), ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](2, 2, ctx_r0.hasGoals$))("ngIfElse", _r5);
            }
        }
        function ScorecardComponent_ng_template_2_ng_container_1_Template(rf, ctx) {
            1 & rf && (core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275element"](1, "span", 89), 
            core["\u0275\u0275elementContainerEnd"]());
        }
        function ScorecardComponent_ng_template_2_ng_template_3_Template(rf, ctx) {
            1 & rf && core["\u0275\u0275element"](0, "span", 90);
        }
        function ScorecardComponent_ng_template_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 87), core["\u0275\u0275template"](1, ScorecardComponent_ng_template_2_ng_container_1_Template, 2, 0, "ng-container", 0), 
            core["\u0275\u0275pipe"](2, "async"), core["\u0275\u0275template"](3, ScorecardComponent_ng_template_2_ng_template_3_Template, 1, 0, "ng-template", null, 88, core["\u0275\u0275templateRefExtractor"]), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var _r117 = core["\u0275\u0275reference"](4), ctx_r2 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275classProp"]("border-top", ctx_r2.toolbarNewLook), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275property"]("ngIf", null === core["\u0275\u0275pipeBind1"](2, 4, ctx_r2.scorecard$))("ngIfElse", _r117);
            }
        }
        var ScorecardComponent = function() {
            function ScorecardComponent(scorecardService, heatmapService, detailsPaneLauncher, hierarchyPane, changeDetectorRef, featureSwitchService, goalsTutorialService, hierarchyService, capabilityService, expansionService, scorecardElement, linkedMetricsLauncher, dialogService, viewsService, scorecardSettings, scorecardHost) {
                var _this = this;
                this.scorecardService = scorecardService, this.heatmapService = heatmapService, 
                this.detailsPaneLauncher = detailsPaneLauncher, this.hierarchyPane = hierarchyPane, 
                this.changeDetectorRef = changeDetectorRef, this.featureSwitchService = featureSwitchService, 
                this.goalsTutorialService = goalsTutorialService, this.hierarchyService = hierarchyService, 
                this.capabilityService = capabilityService, this.expansionService = expansionService, 
                this.scorecardElement = scorecardElement, this.linkedMetricsLauncher = linkedMetricsLauncher, 
                this.dialogService = dialogService, this.viewsService = viewsService, this.scorecardSettings = scorecardSettings, 
                this.scorecardHost = scorecardHost, this.colorPalette = constants.gT.ColorPalette, 
                this.viewType = "List", this.sort$ = new BehaviorSubject.X((0, tslib_es6.__assign)({}, constants.Ij)), 
                this.filterRowVisible$ = new BehaviorSubject.X(!1), this.filterBy$ = new BehaviorSubject.X({}), 
                this.onDestroy$ = new ReplaySubject.t(1), this.boardSettings = {
                    showGoalVisualGoalName: !0,
                    showGoalVisualOwner: !0,
                    showGoalVisualGrowth: !0,
                    showGoalVisualScorecardName: !0,
                    showVisualization: !0
                }, this.goalDragInfo = {}, this.ScorecardColumnConfigs = constants.Ml, this.forceColumnMinWidths = !1, 
                this.scorecardTablePadding = constants.gT.ScorecardTablePadding, this.sortColumn = function(sort) {
                    return _this.sort$.next(sort);
                }, this.isExcelFile = !1;
            }
            return ScorecardComponent.prototype.goalId = function(_i, goal) {
                return goal.id;
            }, ScorecardComponent.prototype.columnSettingId = function(_i, columnSetting) {
                return columnSetting.columnId;
            }, ScorecardComponent.prototype.ngOnInit = function() {
                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _this = this;
                debug.fF.assertValue(this.scorecardDetails$, "Scorecard details should be set at initialization time"), 
                this.showImportButton = !!this.featureSwitchService.featureSwitches.goalsShowImportFromFileUI && !!this.dialogService, 
                this.showColumnSettingsMenu = !!this.featureSwitchService.featureSwitches.goalsColumnSettings, 
                this.showHierarchies = !!this.featureSwitchService.featureSwitches.goalsHierarchies, 
                this.toolbarNewLook = !!this.featureSwitchService.featureSwitches.goalsHierarchies, 
                this.showScorecardAccessBanner = !!this.featureSwitchService.featureSwitches.goalsScorecardAccessBanner, 
                this.bulkDeleteEnabled = !!this.featureSwitchService.featureSwitches.goalsBulkDelete, 
                this.goalsNewHeaderEnabled = this.featureSwitchService.featureSwitches.goalsNewHeader, 
                this.isTitleEditable = this.featureSwitchService.featureSwitches.goalsSkipScorecardCreationPane, 
                this.collapseGoalsByDefault = !!this.featureSwitchService.featureSwitches.collapseGoalsByDefault, 
                this.scorecard$ = this.scorecardDetails$.pipe((0, distinctUntilChanged.x)(function(previous, current) {
                    return !current.reload && _.isEqual(previous, current);
                }), (0, switchMap.w)(function(details) {
                    if (!details) return (0, of.of)(void 0);
                    if (!(details.groupId && details.scorecardId || details.prefetchedScorecard)) return (0, 
                    of.of)(null);
                    var scorecard;
                    if (details.prefetchedScorecard) scorecard = _this.scorecardService.loadPrefetchedScorecard(details.prefetchedScorecard); else {
                        var hierarchyPaths = _this.showHierarchies ? (0, hierarchy_utils.ID)(details.initialHierarchyPath) : void 0;
                        scorecard = _this.scorecardService.loadScorecard(details.groupId, details.scorecardId, !0, hierarchyPaths);
                    }
                    return details.reload ? scorecard : scorecard.pipe((0, delay.g)(0), (0, startWith.O)(void 0));
                }), (0, shareReplay.d)(1)), (0, combineLatest.aj)([ this.scorecardDetails$, this.scorecard$ ]).pipe((0, 
                takeUntil.R)(this.onDestroy$)).subscribe(function(_a) {
                    var inputArgs = _a[0], scorecard = _a[1];
                    if (inputArgs && inputArgs.onScorecardUpdated && scorecard) {
                        var goals = _.filter(scorecard.goals, function(goal) {
                            return !goal.isNew;
                        }), flatGoals = scorecard_helper.q.flattenGoals(goals);
                        inputArgs.onScorecardUpdated((0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, scorecard), {
                            goals: flatGoals
                        }));
                    }
                }), (0, combineLatest.aj)([ this.scorecardDetails$, this.scorecard$ ]).pipe((0, 
                distinctUntilChanged.x)(function(_a, _b) {
                    var prevInputArgs = _a[0], prevScorecard = _a[1], currInputArgs = _b[0], currScorecard = _b[1];
                    return (null == prevScorecard ? void 0 : prevScorecard.id) === (null == currScorecard ? void 0 : currScorecard.id) && (null == prevInputArgs ? void 0 : prevInputArgs.initialSelectedGoalId) === (null == currInputArgs ? void 0 : currInputArgs.initialSelectedGoalId);
                })).pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(_a) {
                    var inputArgs = _a[0], scorecard = _a[1];
                    _.isNil(null == inputArgs ? void 0 : inputArgs.initialSelectedGoalId) || _.isNil(scorecard) || _this.detailsPaneLauncher.openGoalDetails(_this.scorecardService, null == inputArgs ? void 0 : inputArgs.initialSelectedGoalId, goals_details_pane_launcher_service.E.Default);
                }), (0, combineLatest.aj)([ this.scorecardDetails$, this.scorecardService.isLoading() ]).pipe((0, 
                takeUntil.R)(this.onDestroy$), (0, filter.h)(function(_a) {
                    var inputArgs = _a[0];
                    return !!(null == inputArgs ? void 0 : inputArgs.onLoading);
                })).subscribe(function(_a) {
                    return _a[0].onLoading(_a[1]);
                }), this.hasGoals$ = this.scorecard$.pipe((0, map.U)(function(scorecard) {
                    var _a;
                    return (null === (_a = null == scorecard ? void 0 : scorecard.goals) || void 0 === _a ? void 0 : _a.length) > 0;
                })), this.goals$ = this.scorecard$.pipe((0, map.U)(function(scorecard) {
                    return null == scorecard ? void 0 : scorecard.goals;
                })), this.hasSavedGoals$ = this.goals$.pipe((0, map.U)(function(goals) {
                    var _a;
                    return (null === (_a = null == goals ? void 0 : goals.filter(function(goal) {
                        return !(null == goal ? void 0 : goal.isNew);
                    })) || void 0 === _a ? void 0 : _a.length) > 0;
                })), null === (_b = null === (_a = this.scorecardSettings) || void 0 === _a ? void 0 : _a.settings) || void 0 === _b || _b.pipe().subscribe(function(settings) {
                    _this.boardSettings = settings;
                }), this.columnSettings$ = this.scorecard$.pipe((0, distinctUntilChanged.x)(function(previous, current) {
                    return _.isEqual(null == previous ? void 0 : previous.columnSettings, null == current ? void 0 : current.columnSettings);
                }), (0, map.U)(function(scorecard) {
                    return null == scorecard ? void 0 : scorecard.columnSettings;
                })), this.showStatus$ = this.columnSettings$.pipe((0, map.U)(function(columnSettings) {
                    return scorecard_column_settings_helper._.isColumnVisible(columnSettings, 2);
                })), this.userHasEditPermissions$ = this.scorecard$.pipe((0, map.U)(function(scorecard) {
                    return (0, StandaloneUtility3.yE)((0, scorecard_permissions_helper.l)(null == scorecard ? void 0 : scorecard.permissions), 2);
                }));
                var settings$ = this.scorecardDetails$.pipe((0, filter.h)(function(scorecardDetails) {
                    return !!(null == scorecardDetails ? void 0 : scorecardDetails.settings$);
                }), (0, switchMap.w)(function(scorecardDetails) {
                    return null == scorecardDetails ? void 0 : scorecardDetails.settings$;
                }), (0, startWith.O)(void 0));
                this.showHeaders$ = (0, combineLatest.aj)([ this.scorecard$, settings$ ]).pipe((0, 
                map.U)(function(_a) {
                    var scorecard = _a[0], settings = _a[1];
                    return !(null == settings ? void 0 : settings.hideColumnHeaders) && _.some(null == scorecard ? void 0 : scorecard.goals, function(goal) {
                        return null == goal.state || "Consumption" === goal.state;
                    });
                }));
                var isEditMode$ = this.scorecardService.isEditMode();
                isEditMode$.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(isEditMode) {
                    _this.isEditMode = isEditMode, _this.changeDetectorRef.markForCheck();
                }), this.scorecardDetails$.pipe((0, switchMap.w)(function(scorecardDetails) {
                    var _a;
                    return null !== (_a = null == scorecardDetails ? void 0 : scorecardDetails.isEditMode$) && void 0 !== _a ? _a : (0, 
                    of.of)(!1);
                }), (0, takeUntil.R)(this.onDestroy$)).subscribe(function(isEditMode) {
                    return _this.scorecardService.setEditMode(isEditMode);
                }), this.scorecardDetails$.pipe((0, filter.h)(function(scorecardDetails) {
                    return !!(null == scorecardDetails ? void 0 : scorecardDetails.refresh$);
                }), (0, switchMap.w)(function(scorecardDetails) {
                    return null == scorecardDetails ? void 0 : scorecardDetails.refresh$;
                }), (0, withLatestFrom.M)(this.scorecard$.pipe((0, filter.h)(function(scorecard) {
                    return !!scorecard;
                }))), (0, takeUntil.R)(this.onDestroy$)).subscribe(function(_a) {
                    var scorecard = _a[1];
                    "Heatmap" === _this.scorecardService.viewType ? _this.heatmapService.refreshAll() : _this.heatmapService.clearCache(), 
                    _this.hierarchyService.loadHierarchies(scorecard.groupId, scorecard.id, !1), _this.scorecardService.loadScorecard(scorecard.groupId, scorecard.id, !1, scorecard.hierarchyPaths);
                }), this.scorecardDetails$.pipe((0, filter.h)(function(scorecardDetails) {
                    return !!(null == scorecardDetails ? void 0 : scorecardDetails.bulkEditingClearSelection$);
                }), (0, switchMap.w)(function(scorecardDetails) {
                    return null == scorecardDetails ? void 0 : scorecardDetails.bulkEditingClearSelection$;
                }), (0, takeUntil.R)(this.onDestroy$)).subscribe(function() {
                    return _this.scorecardService.unselectAllGoals();
                }), this.scorecardDetails$.pipe((0, filter.h)(function(scorecardDetails) {
                    return !!(null == scorecardDetails ? void 0 : scorecardDetails.bulkEditingDelete$);
                }), (0, switchMap.w)(function(scorecardDetails) {
                    return null == scorecardDetails ? void 0 : scorecardDetails.bulkEditingDelete$;
                }), (0, takeUntil.R)(this.onDestroy$)).subscribe(function() {
                    return _this.scorecardService.bulkDeleteGoalsPrompt();
                }), this.scorecardDetails$.pipe((0, filter.h)(function(scorecardDetails) {
                    return !!(null == scorecardDetails ? void 0 : scorecardDetails.bulkEditingUpdate$);
                }), (0, switchMap.w)(function(scorecardDetails) {
                    return null == scorecardDetails ? void 0 : scorecardDetails.bulkEditingUpdate$;
                }), (0, takeUntil.R)(this.onDestroy$)).subscribe(function() {
                    return _this.openBulkUpdatePane();
                }), this.selectedGoalIds$ = this.scorecardService.getSelectedGoalIdsObservable(), 
                this.numberOfSelectedGoals$ = this.selectedGoalIds$.pipe((0, map.U)(function(selectedGoalIds) {
                    return _.isNil(selectedGoalIds) ? 0 : Object.keys(selectedGoalIds).length;
                })), this.numberOfSelectedGoals$.pipe((0, withLatestFrom.M)(this.scorecardDetails$), (0, 
                distinctUntilChanged.x)(function(_a, _b) {
                    return _a[0] === _b[0];
                })).subscribe(function(_a) {
                    var numberOfSelectedGoals = _a[0], inputArgs = _a[1];
                    _.isFunction(null == inputArgs ? void 0 : inputArgs.onNumberOfSelectedGoalsChange) && !_.isNil(numberOfSelectedGoals) && inputArgs.onNumberOfSelectedGoalsChange(numberOfSelectedGoals);
                });
                var flatGoals$ = this.goals$.pipe((0, map.U)(function(goals) {
                    return scorecard_helper.q.flattenGoals(goals);
                }));
                this.allGoalsSelected$ = (0, combineLatest.aj)([ flatGoals$, this.selectedGoalIds$ ]).pipe((0, 
                distinctUntilChanged.x)(function(_a, _b) {
                    var currSelectedGoalIds = _b[1];
                    return _a[0].length === _b[0].length && Object.keys(_a[1]).length === Object.keys(currSelectedGoalIds).length;
                }), (0, map.U)(function(_a) {
                    var selectedGoalIds = _a[1];
                    return _.filter(_a[0], function(g) {
                        return !g.isNew && (!_this.scorecardHost || _this.scorecardHost.canSelectGoal(g).enabled);
                    }).length === Object.keys(selectedGoalIds).length;
                })), this.scorecard$.pipe((0, takeWhile.o)(function(scorecard) {
                    return _.isNil(scorecard);
                }, !0)).subscribe(function(scorecard) {
                    var _a;
                    _.isNil(scorecard) || !_.isNil(null == scorecard ? void 0 : scorecard.goals) && 0 !== (null === (_a = null == scorecard ? void 0 : scorecard.goals) || void 0 === _a ? void 0 : _a.length) || _this.scorecardService.userHasWritePermissions() && _this.onNewGoalClick(!0);
                });
                var isLoading$ = this.scorecardService.isLoading(), isEditing$ = this.scorecardService.isEditing();
                this.showChildren$ = this.expansionService.expansionMap$, this.showAllChildren$ = this.expansionService.showAllExpanded$, 
                this.hasExpandableGoals$ = this.expansionService.hasExpandableGoals$;
                var capabilities$ = this.capabilityService.getScorecardCapabilities();
                capabilities$.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(capabilities) {
                    _this.scorecardCapabilities = capabilities, _this.changeDetectorRef.markForCheck();
                }), this.canDragAndDrop$ = (0, combineLatest.aj)([ isEditMode$, this.filterBy$, this.sort$, isLoading$, isEditing$, this.numberOfSelectedGoals$, capabilities$ ]).pipe((0, 
                map.U)(function(values) {
                    var _a, isEditMode = (_a = values)[0], filterBy = _a[1], sort = _a[2], isLoading = _a[3], isEditing = _a[4], numberOfSelectedGoals = _a[5];
                    return _a[6].reorderGoal && isEditMode && _.isEmpty(filterBy.keyword) && _.isEmpty(filterBy.statuses) && "Rank" === sort.sortBy && !isLoading && !isEditing && numberOfSelectedGoals <= 1;
                })), this.scorecardDetails$.pipe((0, switchMap.w)(function(inputArgs) {
                    return inputArgs.filterBy$;
                })).pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(filterByFromHost) {
                    _this.filterBy$.next(filterByFromHost);
                }), (0, combineLatest.aj)([ this.scorecardDetails$, this.filterBy$ ]).pipe((0, distinctUntilChanged.x)(function(previous, current) {
                    var prevFilterBy = previous[1], currFilterBy = current[1];
                    return _.isEqual(null == prevFilterBy ? void 0 : prevFilterBy.keyword, null == currFilterBy ? void 0 : currFilterBy.keyword) && _.isEqual(null == prevFilterBy ? void 0 : prevFilterBy.statuses, null == currFilterBy ? void 0 : currFilterBy.statuses);
                })).pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(_a) {
                    var inputArgs = _a[0], filterBy = _a[1];
                    _.isFunction(null == inputArgs ? void 0 : inputArgs.onFiltersUpdated) && !_.isNil(filterBy) && inputArgs.onFiltersUpdated(filterBy);
                }), (0, combineLatest.aj)([ this.sort$, this.filterBy$, this.filterRowVisible$, this.columnSettings$, this.scorecardService.viewType$ ]).pipe((0, 
                takeUntil.R)(this.onDestroy$)).subscribe(function(_a) {
                    var sort = _a[0], filterBy = _a[1], filterRowVisible = _a[2], columnSettings = _a[3], viewType = _a[4];
                    filterBy.matchStatus = scorecard_column_settings_helper._.isColumnVisible(columnSettings, 2), 
                    filterBy.matchOwner = scorecard_column_settings_helper._.isColumnVisible(columnSettings, 1), 
                    "Heatmap" === viewType ? _this.scorecardService.applySortAndFilter((0, tslib_es6.__assign)({}, constants.Ij), _this.goalsNewHeaderEnabled ? {
                        keyword: null == filterBy ? void 0 : filterBy.keyword
                    } : {}) : "List" !== viewType && "Compact" !== viewType || _this.scorecardService.applySortAndFilter(sort, _this.goalsNewHeaderEnabled || filterRowVisible ? filterBy : {
                        statuses: null == filterBy ? void 0 : filterBy.statuses
                    });
                }), this.goalOwners$ = this.goals$.pipe((0, map.U)(scorecard_helper.q.getGoalOwners)), 
                this.scorecard$.pipe((0, filter.h)(function(scorecard) {
                    return !!scorecard;
                }), (0, distinctUntilChanged.x)(function(curr, prev) {
                    return curr.id === prev.id;
                }), (0, takeUntil.R)(this.onDestroy$)).subscribe(function(scorecard) {
                    _this.hierarchyService.loadHierarchies(scorecard.groupId, scorecard.id);
                }), this.scorecardService.getActiveGoalId().pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(activeGoalId) {
                    _.isNil(activeGoalId) ? _this.detailsPaneLauncher.closeGoalDetails() : (_this.detailsPaneLauncher.openGoalDetails(_this.scorecardService, activeGoalId, goals_details_pane_launcher_service.E.Default), 
                    _this.showChildrenForSelectedMetrics(activeGoalId));
                }), this.goalStatusesByScorecardId$ = this.scorecardService.goalStatusesByScorecardId$, 
                this.hasHierarchies$ = this.hierarchyService.hasHierarchies$, this.displayMode$ = null === (_d = null === (_c = this.scorecardSettings) || void 0 === _c ? void 0 : _c.settings) || void 0 === _d ? void 0 : _d.pipe((0, 
                map.U)(function(settings) {
                    return null == settings ? void 0 : settings.displayMode;
                })), this.hideHeader$ = null === (_f = null === (_e = this.scorecardSettings) || void 0 === _e ? void 0 : _e.settings) || void 0 === _f ? void 0 : _f.pipe((0, 
                map.U)(function(settings) {
                    return null == settings ? void 0 : settings.hideScorecardHeader;
                })), this.hideTitle$ = null === (_h = null === (_g = this.scorecardSettings) || void 0 === _g ? void 0 : _g.settings) || void 0 === _h ? void 0 : _h.pipe((0, 
                map.U)(function(settings) {
                    return null == settings ? void 0 : settings.hideScorecardTitle;
                })), this.hideToolbar$ = null === (_k = null === (_j = this.scorecardSettings) || void 0 === _j ? void 0 : _j.settings) || void 0 === _k ? void 0 : _k.pipe((0, 
                map.U)(function(settings) {
                    return null == settings ? void 0 : settings.hideScorecardToolbar;
                })), this.hideCards$ = null === (_m = null === (_l = this.scorecardSettings) || void 0 === _l ? void 0 : _l.settings) || void 0 === _m ? void 0 : _m.pipe((0, 
                map.U)(function(settings) {
                    return null == settings ? void 0 : settings.hideGoalCards;
                })), this.showPickerToolbar$ = null === (_p = null === (_o = this.scorecardSettings) || void 0 === _o ? void 0 : _o.settings) || void 0 === _p ? void 0 : _p.pipe((0, 
                map.U)(function(settings) {
                    return null == settings ? void 0 : settings.showPickerToolbar;
                })), this.scorecardService.scorecardSelectionMode$.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(selectionMode) {
                    return _this.scorecardSelectionMode = selectionMode;
                }), this.scorecardService.viewType$.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(viewType) {
                    return _this.viewType = viewType;
                }), null === (_r = null === (_q = this.scorecardSettings) || void 0 === _q ? void 0 : _q.settings) || void 0 === _r || _r.pipe((0, 
                take.q)(1)).subscribe(function(settings) {
                    var _a, goalId = null === (_a = _.first(settings.filters)) || void 0 === _a ? void 0 : _a.goalId;
                    goalId && settings.isEditingGoal && _this.scorecardService.setGoalState(goalId, "Editing");
                }), this.columnSettings$.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(columnSettings) {
                    return _this.columnSettings = columnSettings;
                }), this.scorecard$.pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function(scorecard) {
                    return _this.visualScorecard = scorecard;
                }), this.featureSwitchService.featureSwitches.scorecardListViewSettings && this.viewsService && (this.viewsService.loadViews(!1), 
                this.viewsService.getDefaultView("List").pipe((0, takeUntil.R)(this.onDestroy$)).subscribe(function() {
                    _this.viewSettings = _this.viewsService.defaultListView ? _this.viewsService.defaultListView.listViewDetails : constants.lb, 
                    _this.setVisibleColumns();
                }));
            }, ScorecardComponent.prototype.ngOnDestroy = function() {
                this.detailsPaneLauncher.closeGoalDetails(), this.onDestroy$.next(!0), this.onDestroy$.complete();
            }, ScorecardComponent.prototype.showChildrenForSelectedMetrics = function(goalId) {
                var scorecard = this.scorecardService.getCurrentScorecard(), goal = scorecard_helper.q.getGoal(null == scorecard ? void 0 : scorecard.goals, goalId);
                for (goalId = goal.parentId; goalId && null != (goal = scorecard_helper.q.getGoal(null == scorecard ? void 0 : scorecard.goals, goalId)); ) this.expansionService.expandGoal(goalId), 
                goalId = goal.parentId;
            }, ScorecardComponent.prototype.onShowChildrenChange = function(value) {
                value.value ? this.expansionService.expandGoal(value.id) : this.expansionService.collapseGoal(value.id);
            }, ScorecardComponent.prototype.onToggleExpandAllMetrics = function() {
                this.expansionService.toggleExpandAll();
            }, ScorecardComponent.prototype.onNewGoalClick = function(fromEmptyScorecard) {
                this.scorecardService.setViewType("List"), this.scorecardService.addGoal(), fromEmptyScorecard && this.goalsTutorialService.startFirstGoalTutorial();
            }, ScorecardComponent.prototype.openHierarchiesBuilder = function() {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return [ 4, this.hierarchyPane.openHierarchiesBuilder("HeatmapHeader") ];

                          case 1:
                            return _a.sent(), [ 2 ];
                        }
                    });
                });
            }, ScorecardComponent.prototype.openHeatmapConfigurationPane = function() {
                this.hierarchyPane.showHeatmapConfigurationPane();
            }, ScorecardComponent.prototype.onScorecardViewClick = function() {
                this.scorecardService.setViewType("List");
            }, ScorecardComponent.prototype.onHeatmapViewClick = function() {
                this.scorecardService.setViewType("Heatmap");
            }, ScorecardComponent.prototype.onSelectAllGoals = function() {
                this.scorecardService.toggleSelectAllGoals();
            }, ScorecardComponent.prototype.openBulkUpdatePane = function() {
                var _this = this;
                this.detailsPaneLauncher.openBulkEditingPane(this.scorecardService, function(updateRequest) {
                    return _this.scorecardService.bulkUpdateGoals(updateRequest);
                });
            }, ScorecardComponent.prototype.onNewSubGoalClick = function() {
                if (1 === this.scorecardService.numberOfSelectedGoals()) {
                    var selectedGoalId = this.scorecardService.getFirstSelectedGoalId();
                    this.expansionService.expandGoal(selectedGoalId), this.scorecardService.addSubGoal(selectedGoalId);
                }
            }, ScorecardComponent.prototype.onImportClick = function(evt) {
                var _this = this, target = evt.target;
                if (this.isExcelFile = !!target.files[0].name.match(/(.xls|.xlsx)/), this.isExcelFile) {
                    var fileReader_1 = new FileReader;
                    fileReader_1.onload = function(evt) {
                        var encoded = fileReader_1.result.toString().replace(/^data:(.*,)?/, "");
                        encoded.length % 4 > 0 && (encoded += "=".repeat(4 - encoded.length % 4)), _this.inputFile.nativeElement.value = "", 
                        _this.dialogService.open(ImportDialogComponent, {
                            width: "70%",
                            height: "80%",
                            data: {
                                fileData: encoded,
                                scorecard: _this.visualScorecard
                            }
                        }).afterClosed().pipe((0, withLatestFrom.M)(_this.scorecard$)).subscribe(function(_a) {
                            var scorecard = _a[1];
                            _this.scorecardService.loadScorecard(scorecard.groupId, scorecard.id);
                        });
                    }, fileReader_1.readAsDataURL(target.files[0]);
                }
            }, ScorecardComponent.prototype.updateSorting = function(currentSort, sortBy) {
                var newSort = scorecard_sort_helper.p.toggleSort(currentSort, sortBy);
                this.sort$.next(newSort);
            }, ScorecardComponent.prototype.toggleFilterRow = function() {
                var isVisible = !this.filterRowVisible$.value;
                this.filterRowVisible$.next(isVisible), isVisible || this.onFilterKeywordChange("");
            }, ScorecardComponent.prototype.onFilterKeywordChange = function(keyword) {
                var filterBy = (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, this.filterBy$.value), {
                    keyword
                });
                this.filterBy$.next(filterBy);
            }, ScorecardComponent.prototype.onGoalsStatusTileSelectionChange = function(selectedStatuses) {
                var _a, filterBy = {
                    keyword: null === (_a = this.filterBy$.value) || void 0 === _a ? void 0 : _a.keyword,
                    statuses: selectedStatuses
                };
                this.filterBy$.next(filterBy);
            }, ScorecardComponent.prototype.onGoalDragStart = function(event) {
                var sourceGoal = event.source.data.goal, sourceGoalLevel = event.source.data.level, dropList = event.source.dropContainer.getSortedItems(), index = dropList.findIndex(function(item) {
                    return item.data.goal.id === sourceGoal.id;
                });
                debug.fF.assertValue(-1 !== index, "Goal should exist in the drop list"), this.goalDragInfo = (0, 
                immer_esm.ZP)(this.goalDragInfo, function(goalDragInfo) {
                    return goalDragInfo.sourceGoalId = sourceGoal.id, goalDragInfo.rankOrderedPrevGoal = index > 0 ? dropList[index - 1].data : void 0, 
                    goalDragInfo.rankOrderedNextGoal = index < dropList.length - 1 ? dropList[index + 1].data : void 0, 
                    goalDragInfo.destParentGoalId = sourceGoal.parentId, goalDragInfo.destGoalDropLevel = sourceGoalLevel, 
                    goalDragInfo;
                }), this.changeDetectorRef.detectChanges();
            }, ScorecardComponent.prototype.onGoalDragMove = function(event) {
                var _a, _b, _c, _d;
                if (this.goalDragInfo.rankOrderedPrevGoal || this.goalDragInfo.rankOrderedNextGoal) if (this.goalDragInfo.rankOrderedPrevGoal) {
                    var level, dropLevel, rankOrderedPrevGoal = this.goalDragInfo.rankOrderedPrevGoal, canGoalHaveSubgoals = rankOrderedPrevGoal.level < constants.gT.MaxSubGoals;
                    if (this.featureSwitchService.featureSwitches.goalsXAxisDragAndDrop) {
                        element = event.source.getPlaceholderElement();
                        var xPosBoundaries = Array.from(element.querySelectorAll(".cell-indent")).map(function(e) {
                            return e.getBoundingClientRect().right;
                        });
                        for (dropLevel = 0; dropLevel < xPosBoundaries.length && xPosBoundaries[dropLevel] <= event.pointerPosition.x; ) dropLevel++;
                        nextGoalLevel = null !== (_d = null === (_c = this.goalDragInfo.rankOrderedNextGoal) || void 0 === _c ? void 0 : _c.level) && void 0 !== _d ? _d : 0;
                        var maxLevel = rankOrderedPrevGoal.level + (canGoalHaveSubgoals ? 1 : 0);
                        dropLevel = _.clamp(dropLevel, nextGoalLevel, maxLevel), level = maxLevel;
                    } else {
                        var element, domRectangle = (element = event.source.getPlaceholderElement()).getBoundingClientRect(), totalPlaceholderHeight = 20 + domRectangle.height, pos = _.clamp(event.pointerPosition.y - (domRectangle.top - 10), 0, totalPlaceholderHeight - 1), nextGoalLevel = null !== (_b = null === (_a = this.goalDragInfo.rankOrderedNextGoal) || void 0 === _a ? void 0 : _a.level) && void 0 !== _b ? _b : 0, numDropPoints = rankOrderedPrevGoal.level - nextGoalLevel + 1;
                        canGoalHaveSubgoals && numDropPoints++;
                        var dropLevelOffset = Math.floor(pos / (totalPlaceholderHeight / numDropPoints));
                        dropLevel = (level = rankOrderedPrevGoal.level + (canGoalHaveSubgoals ? 1 : 0)) - dropLevelOffset;
                    }
                    var scorecard = this.scorecardService.getCurrentScorecard(), destParentGoal = rankOrderedPrevGoal.goal;
                    for (canGoalHaveSubgoals || (destParentGoal = destParentGoal.parentId ? scorecard_helper.q.getGoal(scorecard.goals, destParentGoal.parentId) : void 0); level > dropLevel; ) destParentGoal = destParentGoal.parentId ? scorecard_helper.q.getGoal(scorecard.goals, destParentGoal.parentId) : void 0, 
                    level--;
                    this.goalDragInfo = (0, immer_esm.ZP)(this.goalDragInfo, function(goalDragInfo) {
                        return goalDragInfo.destParentGoalId = null == destParentGoal ? void 0 : destParentGoal.id, 
                        goalDragInfo.destGoalDropLevel = dropLevel, goalDragInfo;
                    });
                } else this.goalDragInfo = (0, immer_esm.ZP)(this.goalDragInfo, function(goalDragInfo) {
                    return goalDragInfo.destParentGoalId = void 0, goalDragInfo.destGoalDropLevel = 0, 
                    goalDragInfo;
                });
            }, ScorecardComponent.prototype.setVisibleColumns = function() {
                var _a, _b, _c;
                if (this.columnSettings = this.visualScorecard.columnSettings, null === (_a = this.viewSettings) || void 0 === _a ? void 0 : _a.dropColumns) {
                    var actualWidth = (null === (_b = this.scorecardElement) || void 0 === _b ? void 0 : _b.nativeElement.offsetWidth) || 0;
                    ((null === (_c = this.columnTableElement) || void 0 === _c ? void 0 : _c.nativeElement.offsetWidth) || 0) > actualWidth && (!1 === this.forceColumnMinWidths && (this.cutoffWidth = actualWidth), 
                    this.forceColumnMinWidths = !0);
                    for (var totalCellMinWidth = constants.gT.ScorecardTablePadding.left + constants.gT.ScorecardTablePadding.right, i = 0; i < this.visualScorecard.columnSettings.length; i++) if (this.visualScorecard.columnSettings[i].show && (totalCellMinWidth += constants.gT.ListViewCellMinWidths[this.visualScorecard.columnSettings[i].columnId] || 0) > actualWidth) {
                        this.columnSettings = this.visualScorecard.columnSettings.slice(0, i || 1);
                        break;
                    }
                    actualWidth > this.cutoffWidth && (this.forceColumnMinWidths = !1);
                } else this.forceColumnMinWidths = !1;
                this.changeDetectorRef.markForCheck();
            }, ScorecardComponent.prototype.onGoalDropListSorted = function(event) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var sourceGoalId, dropList, goals;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        return debug.fF.assertValue((sourceGoalId = event.item.data.goal.id) === this.goalDragInfo.sourceGoalId, "Dragged goal does not match."), 
                        dropList = event.container.getSortedItems(), goals = dropList.map(function(item) {
                            return item.data;
                        }).filter(function(draggableGoal) {
                            return draggableGoal.goal.id !== sourceGoalId;
                        }), this.goalDragInfo = (0, immer_esm.ZP)(this.goalDragInfo, function(goalDragInfo) {
                            return goalDragInfo.rankOrderedNextGoal = event.currentIndex < goals.length ? goals[event.currentIndex] : void 0, 
                            goalDragInfo.rankOrderedPrevGoal = event.currentIndex - 1 >= 0 ? goals[event.currentIndex - 1] : void 0, 
                            goalDragInfo;
                        }), [ 2 ];
                    });
                });
            }, ScorecardComponent.prototype.onDropGoal = function(event) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var sourceGoal, destNextGoal, nextGoal;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return debug.fF.assertValue((sourceGoal = event.item.data.goal).id === this.goalDragInfo.sourceGoalId, "Dragged goal does not match."), 
                            this.goalDragInfo.rankOrderedNextGoal && (nextGoal = this.goalDragInfo.rankOrderedNextGoal.goal, 
                            (this.goalDragInfo.destParentGoalId && nextGoal.parentId === this.goalDragInfo.destParentGoalId || !nextGoal.parentId && !this.goalDragInfo.destParentGoalId) && (destNextGoal = this.goalDragInfo.rankOrderedNextGoal.goal)), 
                            [ 4, this.scorecardService.moveGoal(sourceGoal.id, null == destNextGoal ? void 0 : destNextGoal.id, this.goalDragInfo.destParentGoalId) ];

                          case 1:
                            return _a.sent(), this.goalDragInfo = (0, immer_esm.ZP)(this.goalDragInfo, function() {
                                return {};
                            }), [ 2 ];
                        }
                    });
                });
            }, ScorecardComponent.prototype.onLinkedMetricInit = function() {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var existingGoalsIds, reportObjectId$, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        return this.linkedMetricsLauncher && (existingGoalsIds = _.map(scorecard_helper.q.flattenGoals(this.scorecardService.getCurrentScorecard().goals), "id"), 
                        reportObjectId$ = this.scorecardDetails$.pipe((0, switchMap.w)(function(details) {
                            var _a;
                            return null !== (_a = null == details ? void 0 : details.reportId$) && void 0 !== _a ? _a : _this.scorecard$.pipe((0, 
                            map.U)(function(scorecard) {
                                return scorecard.reportId;
                            }));
                        }), (0, distinctUntilChanged.x)()), this.linkedMetricsLauncher.launchLinkedMetrics(existingGoalsIds, reportObjectId$).pipe((0, 
                        take.q)(1)).subscribe(function(selectedGoals) {
                            (null == selectedGoals ? void 0 : selectedGoals.length) >= 1 && _this.scorecardService.createLinkedGoals(selectedGoals);
                        })), [ 2 ];
                    });
                });
            }, ScorecardComponent.\u0275fac = function(t) {
                return new (t || ScorecardComponent)(core["\u0275\u0275directiveInject"](scorecard_service.G), core["\u0275\u0275directiveInject"](GoalsHeatmapService), core["\u0275\u0275directiveInject"](goals_details_pane_launcher_service.c), core["\u0275\u0275directiveInject"](GoalsHierarchyPaneService), core["\u0275\u0275directiveInject"](core.ChangeDetectorRef), core["\u0275\u0275directiveInject"](feature_switch_service.vZ), core["\u0275\u0275directiveInject"](goals_tutorial_service.N), core["\u0275\u0275directiveInject"](goals_hierarchy_service.G), core["\u0275\u0275directiveInject"](scorecard_capability_service.Nw), core["\u0275\u0275directiveInject"](ScorecardExpansionService), core["\u0275\u0275directiveInject"](core.ElementRef), core["\u0275\u0275directiveInject"](LinkedMetricsLauncherServiceInjectionToken, 8), core["\u0275\u0275directiveInject"](dialog_service.x), core["\u0275\u0275directiveInject"](scorecard_views_service.w), core["\u0275\u0275directiveInject"](scorecardSettingsService.u, 8), core["\u0275\u0275directiveInject"](scorecardHostService.M, 8));
            }, ScorecardComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: ScorecardComponent,
                selectors: [ [ "scorecard" ] ],
                viewQuery: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275viewQuery"](scorecard_component_c0, 5), core["\u0275\u0275viewQuery"](scorecard_component_c1, 5)), 
                    2 & rf) {
                        var _t = void 0;
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.inputFile = _t.first), 
                        core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.columnTableElement = _t.first);
                    }
                },
                decls: 4,
                vars: 4,
                consts: [ [ 4, "ngIf", "ngIfElse" ], [ "noScorecard", "" ], [ "noGoals", "" ], [ 1, "scorecard", 3, "on-resize" ], [ 3, "scorecard", "users", "labels", 4, "ngIf" ], [ "class", "toolbar", 3, "new-look", 4, "ngIf" ], [ 3, "scorecardName", "scorecardDescription", "isTitleEditable", 4, "ngIf" ], [ 4, "ngIf" ], [ 3, "scorecard", "users", "labels" ], [ 1, "toolbar" ], [ 1, "toolbar-btns" ], [ 1, "spacer" ], [ 1, "add-goal-btn", "pbi-fluent-button", 3, "disabled", "click" ], [ "fontIcon", "pbi-glyph-add", 1, "glyphicon", "glyph-small" ], [ "localize", "NewMetric" ], [ 1, "add-subgoal-btn", "pbi-fluent-button", 3, "disabled", "click" ], [ "localize", "AddSubmetric" ], [ "class", "label pbi-fluent-button primary", 4, "ngIf" ], [ 1, "label", "pbi-fluent-button", "primary" ], [ "type", "file", 3, "change" ], [ "inputFile", "" ], [ "localize", "Import" ], [ "cdkMonitorElementFocus", "", "mat-button", "", "aria-expanded", "viewSwitcherMenuTrigger.menuOpen === true", "class", "view-mode-picker-btn pbi-fluent-button", 3, "matMenuTriggerFor", "ngClass", 4, "ngIf" ], [ 1, "view-mode-picker-menu", 3, "overlapTrigger" ], [ "viewSwitcherMenu", "matMenu" ], [ "mat-menu-item", "", 1, "pbi-fluent-button", 3, "click" ], [ "fontIcon", "pbi-glyph-list", 1, "glyphicon", "glyph-small" ], [ "localize", "Scorecard", "localizeTooltip", "Scorecard" ], [ "fontIcon", "pbi-glyph-table", 1, "glyphicon", "glyph-small" ], [ "localize", "MetricsHeatmap", "localizeTooltip", "MetricsHeatmap" ], [ "class", "customize-heatmap-btn pbi-fluent-button", 3, "click", 4, "ngIf" ], [ "class", "hierarchies-btn pbi-fluent-button", 3, "click", 4, "ngIf" ], [ "cdkMonitorElementFocus", "", "mat-button", "", "aria-expanded", "viewSwitcherMenuTrigger.menuOpen === true", 1, "view-mode-picker-btn", "pbi-fluent-button", 3, "matMenuTriggerFor", "ngClass" ], [ "viewSwitcherMenuTrigger", "matMenuTrigger" ], [ 1, "glyph-small", 3, "fontIcon" ], [ 3, "localize", "localizeTooltip" ], [ "fontIcon", "pbi-glyph-chevrondownsmall", "localizeTooltip", "View_Options", 1, "glyph-mini", "chevron-down" ], [ 1, "customize-heatmap-btn", "pbi-fluent-button", 3, "click" ], [ "fontIcon", "pbi-glyph-barchartverticaledit", 1, "glyphicon", "glyph-small" ], [ "localize", "MetricsCustomizeHeatmap" ], [ 1, "hierarchies-btn", "pbi-fluent-button", 3, "click" ], [ "fontIcon", "pbi-glyph-inline-drill-nocircle", 1, "glyphicon", "glyph-small" ], [ "localize", "MetricsManageHierarchies" ], [ 3, "scorecardName", "scorecardDescription", "isTitleEditable" ], [ 3, "goals", "goalStatusesByScorecardId", "goalStatusList", "selectedStatuses", "onStatusSelected", 4, "ngIf" ], [ "class", "filter-row", 3, "toolbar-visible", 4, "ngIf" ], [ "class", "scorecard-table", "cdkDropList", "", 3, "padding-left", "padding-right", "cdkDropListDisabled", "cdkDropListDropped", "cdkDropListSorted", 4, "ngIf" ], [ 3, "scorecard", "isEditMode", "viewSettings", "sort", "onSortColumn", 4, "ngIf" ], [ 3, "filterText", "filterBy", 4, "ngIf", "ngIfElse" ], [ "listToolbar", "" ], [ 3, "filterText", "filterBy" ], [ 3, "isEditMode", "scorecard", "scorecardCapabilities", "numberOfSelectedGoals", "filterText", "showTitle", "filterBy", "onNewGoal", "onNewSubGoal", "onLinkedMetricInit" ], [ 3, "goals", "goalStatusesByScorecardId", "goalStatusList", "selectedStatuses", "onStatusSelected" ], [ 1, "filter-row" ], [ "fontIcon", "pbi-glyph-filter", 1, "filter-icon", "glyphicon", "glyph-small" ], [ 3, "ngModel", "ngModelChange" ], [ "fontIcon", "pbi-glyph-close", 1, "close-icon", "glyphicon", "glyph-small", 3, "click" ], [ "cdkDropList", "", 1, "scorecard-table", 3, "cdkDropListDisabled", "cdkDropListDropped", "cdkDropListSorted" ], [ "columnTable", "" ], [ 4, "ngFor", "ngForOf", "ngForTrackBy" ], [ 1, "scorecard-header" ], [ "colspan", "1", 1, "checkmark-th" ], [ "class", "select-checkmark", 3, "box-checked", 4, "ngIf" ], [ 1, "select-checkmark" ], [ 3, "checked", "pbiTooltip", "onChange" ], [ "colspan", "5", 4, "ngIf", "ngIfElse" ], [ "columnHeader", "" ], [ "colspan", "5" ], [ 1, "filter-btn-and-name" ], [ "class", "collapse-btn", 3, "pbiTooltip", "click", 4, "ngIf" ], [ "class", "filter-btn", 3, "pbiTooltip", "click", 4, "ngIf" ], [ 1, "name-col", "sort-col" ], [ 3, "column", "index", "sort", "isEditMode", "onSortColumn" ], [ 1, "collapse-btn", 3, "pbiTooltip", "click" ], [ 1, "glyphicon", "glyph-mini", 3, "fontIcon" ], [ 1, "filter-btn", 3, "pbiTooltip", "click" ], [ "fontIcon", "pbi-glyph-filter", 1, "glyphicon", "glyph-small" ], [ "colspan", "1", "class", "sort-col", 4, "ngIf" ], [ "colspan", "1", 1, "sort-col" ], [ "goal-group", "", 3, "scorecard", "columnSettings", "goal", "color", "showChildren", "goalDragInfo", "scorecardSelectionMode", "forceColumnMinWidths", "showChildrenChange", "dragStarted", "dragMoved", 4, "ngIf" ], [ "goal-group", "", 3, "scorecard", "columnSettings", "goal", "color", "showChildren", "goalDragInfo", "scorecardSelectionMode", "forceColumnMinWidths", "showChildrenChange", "dragStarted", "dragMoved" ], [ 3, "scorecard", "isEditMode", "viewSettings", "sort", "onSortColumn" ], [ 3, "filterText", "filterBy", 4, "ngIf" ], [ 1, "heat-map" ], [ 3, "isEditMode", "scorecardCapabilities", "numberOfSelectedGoals", "filterText", "filterBy", "onNewGoal", "onNewSubGoal", "onLinkedMetricInit" ], [ 3, "boardSettings", "metricsGoalStatuses" ], [ 3, "isMetricsPicker", "canEdit", "onNewGoal", "onLinkToGoal" ], [ 1, "no-goals", "center-text" ], [ "loading", "" ], [ "localize", "Scorecard_DoesNotExist" ], [ "localize", "Scorecard_Loading" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275template"](0, ScorecardComponent_ng_container_0_Template, 5, 4, "ng-container", 0), 
                    core["\u0275\u0275pipe"](1, "async"), core["\u0275\u0275template"](2, ScorecardComponent_ng_template_2_Template, 5, 6, "ng-template", null, 1, core["\u0275\u0275templateRefExtractor"])), 
                    2 & rf) {
                        var _r1 = core["\u0275\u0275reference"](3);
                        core["\u0275\u0275property"]("ngIf", core["\u0275\u0275pipeBind1"](1, 2, ctx.scorecard$))("ngIfElse", _r1);
                    }
                },
                dependencies: [ common.NgClass, common.NgForOf, common.NgIf, drag_drop.Wj, on_resize_directive.O, fesm2022_forms.Fj, fesm2022_forms.JJ, fesm2022_forms.On, localize_directive.X, localize_tooltip_directive.r, icon.Hw, legacy_menu.W0, legacy_menu.tN, legacy_menu.D8, pbi_checkbox_component.v, pbi_tooltip_directive.V, EmptyScorecardComponent, GoalGroupComponent, HeatMapComponent, scorecard_access_banner_component.O, ScorecardBoardViewComponent, ScorecardTitleComponent, CompactScorecardComponent, ScorecardColumnHeaderComponent, ScorecardListToolbarComponent, ScorecardMetricPickerToolbarComponent, ScorecardStatusTiles, ScorecardHeatmapToolbarComponent, ScorecardHierarchyButtonComponent, common.AsyncPipe, localize_pipe.F ],
                styles: [ "[_nghost-%COMP%]{display:flex;flex-direction:row;height:100%}[_nghost-%COMP%]    {color:var(--scorecard-neutralPrimaryColor)}[_nghost-%COMP%]   .scorecard[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]{padding:20px 50px 0;width:100%;box-sizing:border-box}[_nghost-%COMP%]   .toolbar.new-look[_ngcontent-%COMP%]{padding:0 30px 4px;background-color:var(--scorecard-headerBackgroundColor);border-bottom:1px solid var(--gray-50, #D2D0CE);display:flex;flex-direction:column}[_nghost-%COMP%]   .toolbar.new-look[_ngcontent-%COMP%]   .pbi-fluent-button[_ngcontent-%COMP%]{border:none}[_nghost-%COMP%]   .toolbar.new-look[_ngcontent-%COMP%]   .pbi-fluent-button[_ngcontent-%COMP%]:disabled{background:transparent}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]{display:inline-flex;width:100%}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .mat-icon.glyph-small[_ngcontent-%COMP%]{font-size:var(--lg-font-size, 16px);width:var(--lg-font-size, 16px);height:var(--lg-font-size, 16px)}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .mat-icon.glyph-mini[_ngcontent-%COMP%]{font-size:var(--sm-font-size, 12px);width:var(--sm-font-size, 12px);height:var(--sm-font-size, 12px)}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .mat-icon.mat-ligature-font[fontIcon][_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;align-items:center}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled   span[_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D)}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .add-goal-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .hierarchies-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .view-mode-picker-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .customize-heatmap-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .hierarchy-slicer-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;color:var(--fluent-theme-black-color, #000)}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .view-mode-picker-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .hierarchy-slicer-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0 8px}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .add-goal-btn[_ngcontent-%COMP%], [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .add-subgoal-btn[_ngcontent-%COMP%], [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .hierarchies-btn[_ngcontent-%COMP%], [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .view-mode-picker-btn[_ngcontent-%COMP%], [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .customize-heatmap-btn[_ngcontent-%COMP%], [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .toolbar-btns[_ngcontent-%COMP%]   .hierarchy-slicer-btn[_ngcontent-%COMP%]{margin-right:8px;background-color:var(--fluent-theme-neutral-lighter-alt-color, #FAF9F8)}[_nghost-%COMP%]   pbi-dropdown-trigger[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .filter-row[_ngcontent-%COMP%]{color:var(--scorecard-tableHeaderForegroundColor);background-color:rgba(0,0,0,.05);border-radius:4px;margin:10px 30px 0}[_nghost-%COMP%]   .filter-row[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:var(--scorecard-tableHeaderForegroundColor)}[_nghost-%COMP%]   .filter-row.toolbar-visible[_ngcontent-%COMP%]{margin-top:20px}[_nghost-%COMP%]   .filter-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;height:45px;outline:none}[_nghost-%COMP%]   .filter-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{font-size:20px;margin-top:4px;margin-right:12px;padding-left:15px}[_nghost-%COMP%]   .filter-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:16px;margin-top:8px;margin-right:10px}[_nghost-%COMP%]   .filter-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:transparent;border:none;flex:1;font-size:var(--md-font-size, 14px);outline:none;padding-left:0}[_nghost-%COMP%]   .scorecard-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0px 10px;empty-cells:hide;padding-top:0;padding-bottom:0;color:var(--scorecard-tableRowForegroundColor)}[_nghost-%COMP%]   .scorecard-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1;background:var(--scorecard-tableBackgroundColor);height:40px}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]{text-align:left}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:var(--lg-font-size, 16px);font-weight:var(--font-weight-regular, 400);color:var(--scorecard-tableHeaderForegroundColor);font-weight:500}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th.checkmark-th[_ngcontent-%COMP%]{width:35px;max-width:35px}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th.checkmark-th[_ngcontent-%COMP%]:not(.show-checkmark){width:0px;max-width:0px}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th.checkmark-th[_ngcontent-%COMP%]:not(.show-checkmark)   .select-checkmark[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th.show-on-hover-only[_ngcontent-%COMP%]   .select-checkmark[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th.show-on-hover-only[_ngcontent-%COMP%]:hover   .select-checkmark[_ngcontent-%COMP%], [_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th.show-on-hover-only[_ngcontent-%COMP%]   .select-checkmark.box-checked[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .select-checkmark[_ngcontent-%COMP%]{margin-right:15px}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .select-checkmark[_ngcontent-%COMP%]     pbi-checkbox{margin-bottom:0}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th.dueDate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .sort-col[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .filter-btn-and-name[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .filter-btn-and-name[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;margin-left:6px;min-width:48px;width:48px;background-color:transparent;border:none;padding:2px}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .filter-btn-and-name[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;height:unset}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .filter-btn-and-name[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{background-color:transparent;border:none;font-size:20px;padding:0 12px;color:inherit}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .filter-btn-and-name[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;height:unset}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .filter-btn-and-name[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .filter-btn-and-name[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:focus:hover{background-color:var(--fluent-theme-neutral-lighter-color, #F3F2F1)}[_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .filter-btn-and-name[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .filter-btn-and-name[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .scorecard-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .filter-btn-and-name[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:active:focus:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}[_nghost-%COMP%]   .add-goal-btn-box[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .add-goal-btn-box[_ngcontent-%COMP%]   .add-goal-btn[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600);color:var(--gray-180, #252423);padding:6px 18px;box-sizing:border-box;border-radius:2px;height:32px;display:inline-block;cursor:pointer;background-color:var(--fluent-theme-primary-color, #F2C811)}[_nghost-%COMP%]   .center-text[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600);text-align:center}[_nghost-%COMP%]   .compact.scorecard[_ngcontent-%COMP%]{overflow:hidden;padding:0 20px}@media screen and (min-width: 1024px){[_nghost-%COMP%]   .compact.scorecard[_ngcontent-%COMP%]{padding:0 26px}}@media screen and (min-width: 1366px){[_nghost-%COMP%]   .compact.scorecard[_ngcontent-%COMP%]{padding:0 60px}}[_nghost-%COMP%]   .compact.scorecard[_ngcontent-%COMP%]   compact-scorecard[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .compact.scorecard[_ngcontent-%COMP%]   scorecard-list-toolbar[_ngcontent-%COMP%]{--toolbar-padding: 12px 0 12px 0}[_nghost-%COMP%]   .compact.scorecard[_ngcontent-%COMP%]     .scorecard-status-tiles{padding:0}label.label[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:-100%}.label[_ngcontent-%COMP%]{cursor:pointer;padding:5px 15px;display:inline-block}.no-goals[_ngcontent-%COMP%], empty-scorecard[_ngcontent-%COMP%]{color:var(--scorecard-tableHeaderForegroundColor);padding:20px;flex:1}.no-goals.border-top[_ngcontent-%COMP%], empty-scorecard.border-top[_ngcontent-%COMP%]{border-top:1px solid var(--gray-50, #D2D0CE)}.heat-map-scroll[_ngcontent-%COMP%]{overflow:hidden}.heat-map[_ngcontent-%COMP%]{flex:1;overflow:hidden;display:flex}.mat-menu-item[_ngcontent-%COMP%]{color:var(--gray-180, #252423);display:flex;flex-direction:row;align-items:center;height:36px;padding-right:16px}  .view-mode-picker-menu mat-icon{display:flex;align-items:center}  .view-mode-picker-menu .mat-icon{overflow:visible}  .view-mode-picker-menu .mat-icon.glyph-small{font-size:var(--lg-font-size, 16px);width:var(--lg-font-size, 16px);height:var(--lg-font-size, 16px)}  .view-mode-picker-menu .mat-icon.glyph-mini{font-size:var(--sm-font-size, 12px);width:var(--sm-font-size, 12px);height:var(--sm-font-size, 12px)}  .view-mode-picker-menu .mat-icon.mat-ligature-font[fontIcon]{overflow:auto}.new-header   scorecard[_nghost-%COMP%], scorecard   [_nghost-%COMP%]{display:block}  .hierarchy-slicer-menu .mat-menu-content{padding:0!important}" ],
                changeDetection: 0
            }), ScorecardComponent;
        }();
        function SparklineComponent__svg_path_2_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275namespaceSVG"](), core["\u0275\u0275element"](0, "path", 4)), 
            2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275attribute"]("d", ctx_r0.path)("stroke", ctx_r0.settings.lineColor)("stroke-width", ctx_r0.settings.lineWidth);
            }
        }
        function SparklineComponent__svg_circle_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275namespaceSVG"](), core["\u0275\u0275element"](0, "circle")), 
            2 & rf) {
                var ctx_r1 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275attribute"]("cx", ctx_r1.min.x)("cy", ctx_r1.min.y)("r", ctx_r1.settings.dotRadius)("fill", ctx_r1.settings.dotFillColor)("stroke", ctx_r1.settings.dotColor)("stroke-width", ctx_r1.settings.dotStrokeWidth);
            }
        }
        function SparklineComponent__svg_circle_4_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275namespaceSVG"](), core["\u0275\u0275element"](0, "circle")), 
            2 & rf) {
                var ctx_r2 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275attribute"]("cx", ctx_r2.max.x)("cy", ctx_r2.max.y)("r", ctx_r2.settings.dotRadius)("fill", ctx_r2.settings.dotFillColor)("stroke", ctx_r2.settings.dotColor)("stroke-width", ctx_r2.settings.dotStrokeWidth);
            }
        }
        function SparklineComponent_ng_template_5_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275namespaceSVG"](), core["\u0275\u0275namespaceHTML"](), 
            core["\u0275\u0275elementStart"](0, "div", 5)(1, "table")(2, "tr")(3, "th", 6), 
            core["\u0275\u0275text"](4), core["\u0275\u0275pipe"](5, "localize"), core["\u0275\u0275elementEnd"](), 
            core["\u0275\u0275elementStart"](6, "th", 7), core["\u0275\u0275text"](7), core["\u0275\u0275pipe"](8, "formatValue"), 
            core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275elementStart"](9, "tr")(10, "th", 6), 
            core["\u0275\u0275text"](11), core["\u0275\u0275pipe"](12, "localize"), core["\u0275\u0275elementEnd"](), 
            core["\u0275\u0275elementStart"](13, "th", 7), core["\u0275\u0275text"](14), core["\u0275\u0275pipe"](15, "formatValue"), 
            core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275elementStart"](16, "tr")(17, "th", 6), 
            core["\u0275\u0275text"](18), core["\u0275\u0275pipe"](19, "localize"), core["\u0275\u0275elementEnd"](), 
            core["\u0275\u0275elementStart"](20, "th", 7), core["\u0275\u0275text"](21), core["\u0275\u0275elementEnd"]()()()()), 
            2 & rf) {
                var ctx_r4 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](4), core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](5, 6, "High")), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind2"](8, 8, ctx_r4.tooltip.high, ctx_r4.formatString)), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](12, 11, "Low")), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind2"](15, 13, ctx_r4.tooltip.low, ctx_r4.formatString)), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275textInterpolate"](core["\u0275\u0275pipeBind1"](19, 16, "Cycle")), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275textInterpolate"](ctx_r4.tooltip.cycle);
            }
        }
        var SparklineComponent = function() {
            function SparklineComponent(localizationService) {
                this.localizationService = localizationService, this.DefaultOptions = {
                    height: 48,
                    width: 120,
                    lineColor: "#5BD667",
                    lineWidth: 2,
                    dotRadius: 2,
                    dotStrokeWidth: 1,
                    dotFillColor: "#161514",
                    dotColor: "#5BD667",
                    showMax: !0,
                    showMin: !0,
                    tension: .5
                }, this.settings = Object.assign({}, this.DefaultOptions);
            }
            return Object.defineProperty(SparklineComponent.prototype, "values", {
                set: function(value) {
                    this.sparklinePoints = null == value ? void 0 : value.filter(function(v) {
                        return null != v.value && null != v.timestamp;
                    }), this.update();
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(SparklineComponent.prototype, "options", {
                set: function(value) {
                    this.settings = Object.assign({}, this.DefaultOptions, value), this.sparklinePoints && this.update();
                },
                enumerable: !1,
                configurable: !0
            }), SparklineComponent.prototype.ngOnChanges = function(changes) {
                changes.cycle && (this.tooltip = Object.assign({}, this.tooltip, {
                    cycle: this.getCycleText()
                })), changes.formatString && this.update();
            }, SparklineComponent.prototype.update = function() {
                var _a;
                this.viewBox = "0 0 ".concat(this.settings.width, " ").concat(this.settings.height), 
                (null === (_a = this.sparklinePoints) || void 0 === _a ? void 0 : _a.length) >= 2 ? (this.points = SparklineComponent.calculatePoints(this.sparklinePoints, this.settings), 
                this.path = SparklineComponent.calculatePath(this.points, this.settings), this.min = this.points.reduce(function(prev, current) {
                    return (null == prev ? void 0 : prev.y) < current.y ? prev : current;
                }), this.max = this.points.reduce(function(prev, current) {
                    return (null == prev ? void 0 : prev.y) > current.y ? prev : current;
                }), this.tooltip = this.getTooltipData(this.sparklinePoints)) : (this.points = null, 
                this.path = null, this.min = null, this.max = null);
            }, SparklineComponent.calculatePoints = function(points, settings) {
                var datePoints = points.map(function(point) {
                    return {
                        value: point.value,
                        timestamp: new Date(point.timestamp)
                    };
                }), values = _.map(datePoints, function(value) {
                    return value.value;
                }), minValue = _.min(values), maxValue = _.max(values), timestamps = _.map(datePoints, function(value) {
                    return value.timestamp.getTime();
                }), minTimestamp = _.min(timestamps), maxTimestamp = _.max(timestamps), valueRange = this.calculateSafeRange(maxValue, minValue), timestampRange = this.calculateSafeRange(maxTimestamp, minTimestamp), dotSizeWithPadding = settings.dotRadius + settings.dotStrokeWidth + this.PaddingOnEdges, adjustedWidth = settings.width - 2 * dotSizeWithPadding, adjustedHeight = settings.height - 2 * dotSizeWithPadding;
                return datePoints.map(function(v) {
                    return {
                        x: (v.timestamp.getTime() - minTimestamp) / timestampRange * adjustedWidth + dotSizeWithPadding,
                        y: (1 - (v.value - minValue) / valueRange) * adjustedHeight + dotSizeWithPadding
                    };
                });
            }, SparklineComponent.calculatePath = function(points, settings) {
                for (var path = "M ".concat(points[0].x, ", ").concat(points[0].y), gradients = [], i = 0; i < points.length; i++) if (0 === i || i === points.length - 1) gradients.push({
                    x: 0,
                    y: 0
                }); else {
                    var dy_dx = this.calculateDerivative(points[i - 1], points[i + 1]), dist = Math.sqrt(1 + dy_dx * dy_dx);
                    gradients.push({
                        x: 1 / dist,
                        y: dy_dx / dist
                    });
                }
                for (i = 0; i < points.length - 1; i++) {
                    var currentPoint = points[i], nextPoint = points[i + 1], dx = Math.abs(nextPoint.x - currentPoint.x), dy = Math.abs(nextPoint.y - currentPoint.y), length_1 = Math.min(dx, dy) * settings.tension, c1y = currentPoint.y + length_1 * gradients[i].y, c2x = nextPoint.x - length_1 * gradients[i + 1].x, c2y = nextPoint.y - length_1 * gradients[i + 1].y, segment = "C ".concat(currentPoint.x + length_1 * gradients[i].x, ", ").concat(c1y, " ").concat(c2x, ", ").concat(c2y, " ").concat(nextPoint.x, ", ").concat(nextPoint.y);
                    path += " ".concat(segment);
                }
                return path;
            }, SparklineComponent.calculateDerivative = function(a, b) {
                return b.x === a.x ? 0 : (b.y - a.y) / (b.x - a.x);
            }, SparklineComponent.calculateSafeRange = function(a, b) {
                var delta = a - b;
                return 0 === delta ? 1 : delta;
            }, SparklineComponent.prototype.getTooltipData = function(points) {
                var values = _.map(points, function(value) {
                    return value.value;
                }), minValue = _.min(values);
                return {
                    high: _.max(values),
                    low: minValue,
                    cycle: this.getCycleText()
                };
            }, SparklineComponent.prototype.getCycleText = function() {
                switch (this.cycle) {
                  case 1:
                    return this.localizationService.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_Daily");

                  case 2:
                    return this.localizationService.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_Weekly");

                  case 3:
                    return this.localizationService.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_Monthly");

                  case 4:
                    return this.localizationService.get("MetricsDetailsPane_TimePeriodTab_RadioButton_Quarterly");

                  case 5:
                    return this.localizationService.get("MetricsDetailsPane_TimePeriodTab_RadioButton_Yearly");

                  default:
                    return "-";
                }
            }, SparklineComponent.PaddingOnEdges = 1.5, SparklineComponent.\u0275fac = function(t) {
                return new (t || SparklineComponent)(core["\u0275\u0275directiveInject"](localization_service.o));
            }, SparklineComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: SparklineComponent,
                selectors: [ [ "sparkline" ] ],
                inputs: {
                    values: "values",
                    options: "options",
                    formatString: "formatString",
                    cycle: "cycle"
                },
                features: [ core["\u0275\u0275NgOnChangesFeature"] ],
                decls: 7,
                vars: 11,
                consts: [ [ "role", "img", 3, "aria-label", "pbiTooltip", "pbiTooltipDisabled" ], [ "fill", "transparent", 4, "ngIf" ], [ 4, "ngIf" ], [ "tooltipTmpl", "" ], [ "fill", "transparent" ], [ 1, "sparkline-tooltip" ], [ 1, "text" ], [ 1, "value" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275namespaceSVG"](), core["\u0275\u0275elementStart"](0, "svg", 0), 
                    core["\u0275\u0275pipe"](1, "localize"), core["\u0275\u0275template"](2, SparklineComponent__svg_path_2_Template, 1, 3, "path", 1), 
                    core["\u0275\u0275template"](3, SparklineComponent__svg_circle_3_Template, 1, 6, "circle", 2), 
                    core["\u0275\u0275template"](4, SparklineComponent__svg_circle_4_Template, 1, 6, "circle", 2), 
                    core["\u0275\u0275elementEnd"](), core["\u0275\u0275template"](5, SparklineComponent_ng_template_5_Template, 22, 18, "ng-template", null, 3, core["\u0275\u0275templateRefExtractor"])), 
                    2 & rf) {
                        var _r3 = core["\u0275\u0275reference"](6);
                        core["\u0275\u0275property"]("aria-label", core["\u0275\u0275pipeBind1"](1, 9, "Metrics_Sparkline_AltText"))("pbiTooltip", _r3)("pbiTooltipDisabled", !ctx.tooltip), 
                        core["\u0275\u0275attribute"]("width", ctx.settings.width)("height", ctx.settings.height)("viewBox", ctx.viewBox), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngIf", ctx.path), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx.settings.showMin && ctx.min), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", ctx.settings.showMax && ctx.max);
                    }
                },
                dependencies: [ common.NgIf, pbi_tooltip_directive.V, localize_pipe.F, format_value_pipe.c ],
                styles: [ '[_nghost-%COMP%]   .sparkline[_ngcontent-%COMP%]{height:100%;width:100%}  .sparkline-tooltip{padding:5px 15px}  .sparkline-tooltip .text{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600);text-align:right;padding-right:8px}  .sparkline-tooltip .value{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);text-align:left}' ],
                changeDetection: 0
            }), SparklineComponent;
        }(), ShortNumberPipe = function() {
            function ShortNumberPipe() {
                this.mappings = [ {
                    key: "T",
                    value: Math.pow(10, 12)
                }, {
                    key: "B",
                    value: Math.pow(10, 9)
                }, {
                    key: "M",
                    value: Math.pow(10, 6)
                }, {
                    key: "K",
                    value: Math.pow(10, 3)
                } ];
            }
            return ShortNumberPipe.prototype.transform = function(input, decimalPoints) {
                if (void 0 === decimalPoints && (decimalPoints = 2), null == input || isNaN(input)) return "\u2014";
                if (0 === input) return "0";
                (null == decimalPoints || decimalPoints < 0 || isNaN(decimalPoints)) && (decimalPoints = 2);
                for (var rounder = Math.pow(10, decimalPoints), sign = input < 0 ? "-" : "", key = "", shortNumber = input = Math.abs(input), _i = 0, _a = this.mappings; _i < _a.length; _i++) {
                    var mapping = _a[_i], value = _.round(input * rounder / mapping.value) / rounder;
                    if (value >= 1) {
                        shortNumber = value, key = mapping.key;
                        break;
                    }
                }
                return "".concat(sign).concat(shortNumber).concat(key);
            }, ShortNumberPipe.\u0275fac = function(t) {
                return new (t || ShortNumberPipe);
            }, ShortNumberPipe.\u0275pipe = core["\u0275\u0275definePipe"]({
                name: "shortNumber",
                type: ShortNumberPipe,
                pure: !0
            }), ShortNumberPipe;
        }(), legacy_select = __webpack_require__(48205), Data_module = __webpack_require__(52910), emails_list_module = __webpack_require__(50932), ExploreUI_module = __webpack_require__(87121), lazy_load_module = __webpack_require__(82156), Localization_localization_module = __webpack_require__(79061), mashup_module = __webpack_require__(71328), dialogs_module = __webpack_require__(76966), message_banner_module = __webpack_require__(52040), pbi_checkbox_module = __webpack_require__(47913), pbi_dropdown_module = __webpack_require__(6015), pbi_editable_label_module = __webpack_require__(94770), pbi_feature_switch_module = __webpack_require__(23612), pbi_icon_module = __webpack_require__(93367), pbi_office_icon_module = __webpack_require__(45411), app_bar_sprite_icons = __webpack_require__(67799), pbi_radio_button_module = __webpack_require__(59951), pbi_spinner_module = __webpack_require__(16748), pbi_tooltip_module = __webpack_require__(16095), user_details_module = __webpack_require__(67255), value_formatting_module = __webpack_require__(76777), tri_dropdown = __webpack_require__(44913), tri_split_button = __webpack_require__(33161), pbi_office_icon_provider_service = __webpack_require__(54485), manifests = [ {
            componentId: RelevantGoalChartComponent.componentId,
            type: RelevantGoalChartComponent
        }, {
            componentId: RelevantGoalKpiComponent.componentId,
            type: RelevantGoalKpiComponent
        }, {
            componentId: RelevantMeasureComponent.componentId,
            type: RelevantMeasureComponent
        }, {
            componentId: scorecard_lazy_component.a.componentId,
            type: ScorecardComponent
        }, {
            componentId: scorecard_context_menu_lazy_component.H.componentId,
            type: ScorecardContextMenuComponent
        }, {
            componentId: goals_tooltip_lazy_component.i.componentId,
            type: GoalsTooltipComponent
        }, {
            componentId: ScorecardColumnContextMenuComponent.componentId,
            type: ScorecardColumnContextMenuComponent
        }, {
            componentId: GoalTileComponent.componentId,
            type: GoalTileComponent
        } ], GoalsUIModule = ((0, tslib_es6.__spreadArray)((0, tslib_es6.__spreadArray)([], [ avatar_row_component.c, EmptyScorecardComponent, formatted_input_component.y, goal_change_cell_component.k, GoalTileComponent, GoalGroupComponent, goal_history_chart_component.R, GoalKpiComponent, GoalRowComponent, goal_row_preview_component.B, GoalsTooltipComponent, GoalTargetsEditorComponent, GoalValuesEditorComponent, GoalValueInputComponent, GoalValueTypePickerComponent, HeatMapComponent, HierarchyGoalCell, RelevantGoalChartComponent, RelevantGoalKpiComponent, RelevantMeasureComponent, scorecard_access_banner_component.O, ScorecardBoardViewComponent, ScorecardColumnContextMenuComponent, ScorecardComponent, ScorecardContextMenuComponent, SortIconComponent, SparklineComponent, status_icon_component.m, status_picker_component.z, TreeListComponent, ViewSwitcherComponent, ScorecardTitleComponent, FormatSwitchCellTemplateComponent ], !0), [ CompactScorecardComponent, GoalEditButtonsRowComponent, GoalEditRowComponent, GoalActionsCellComponent, GoalDueDateCellComponent, GoalNameCellComponent, GoalOwnersCellComponent, goal_sparkline_cell_component.t, GoalStatusCellComponent, goal_value_cell_component.m, ScorecardColumnHeaderComponent, ScorecardFilterComponent, ScorecardListToolbarComponent, ScorecardMetricPickerToolbarComponent, ScorecardStatusTiles, ScorecardTitleComponent, ScorecardHeatmapToolbarComponent, ScorecardHierarchyButtonComponent, ScorecardNewButtonComponent, ShortNumberPipe, ResizeColumnDirective, FormatDatePipe, TooltipWrapperComponent ], !1), 
        function() {
            function GoalsUIModule(iconProvider) {
                iconProvider.registerIcons(app_bar_sprite_icons.$.sprite);
            }
            return GoalsUIModule.\u0275fac = function(t) {
                return new (t || GoalsUIModule)(core["\u0275\u0275inject"](pbi_office_icon_provider_service.u));
            }, GoalsUIModule.\u0275mod = core["\u0275\u0275defineNgModule"]({
                type: GoalsUIModule
            }), GoalsUIModule.\u0275inj = core["\u0275\u0275defineInjector"]({
                providers: [ goals_details_pane_launcher_service.c, GoalValuesEditorLauncherService, MashupEvaluationService ],
                imports: [ common.CommonModule, tree.nZ, dialogs_module.c, Data_module.O, drag_drop._t, ExploreUI_module.J, emails_list_module.F, fesm2022_forms.u5, lazy_load_module.N.withManifests(manifests), Localization_localization_module.v, mashup_module.G, button_toggle.vV, divider.t, icon.Ps, legacy_menu.jT, legacy_select.uw, message_banner_module.x, pbi_checkbox_module.V, pbi_dropdown_module.C, pbi_editable_label_module.f, pbi_feature_switch_module.N, pbi_icon_module.U, pbi_office_icon_module.m, pbi_radio_button_module.v, pbi_spinner_module.H, pbi_tooltip_module.Z, fesm2022_forms.UX, scrolling.Cl, tri_dropdown.lK, tri_split_button.R, tri_svg_icon.T6, user_details_module.N, value_formatting_module.H, TriGridModule ]
            }), GoalsUIModule;
        }());
    },
    45017: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            B: function() {
                return GoalValueHelper;
            }
        });
        var _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62458), GoalValueHelper = function() {
            function GoalValueHelper() {}
            return GoalValueHelper.getGoalValueMap = function(goalValues) {
                var goalValueMap = new Map;
                if (_.isEmpty(goalValues)) return goalValueMap;
                for (var _i = 0, goalValues_1 = goalValues; _i < goalValues_1.length; _i++) {
                    var value = goalValues_1[_i];
                    goalValueMap.set(new Date(value.timestamp).getTime(), value);
                }
                return goalValueMap;
            }, GoalValueHelper.areGoalValuesEqual = function(goalValueOne, goalValueTwo, skipValue, skipTarget) {
                return _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(goalValueOne, "goalValueOne"), 
                _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(goalValueTwo, "goalValueTwo"), 
                !(!skipValue && goalValueOne.value !== goalValueTwo.value || !skipTarget && goalValueOne.target !== goalValueTwo.target || goalValueOne.trend !== goalValueTwo.trend || goalValueOne.forecast !== goalValueTwo.forecast || goalValueOne.status !== goalValueTwo.status);
            }, GoalValueHelper.diffGoalValues = function(goalValueOne, goalValueTwo) {
                _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(goalValueOne, "goalValueOne"), 
                _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(goalValueTwo, "goalValueTwo");
                var newGoalValue = {
                    timestamp: goalValueOne.timestamp,
                    goalId: goalValueOne.goalId,
                    scorecardId: goalValueOne.scorecardId,
                    createdTime: goalValueOne.createdTime,
                    lastModifiedTime: goalValueOne.lastModifiedTime
                };
                return goalValueOne.value !== goalValueTwo.value && (newGoalValue.value = goalValueOne.value), 
                goalValueOne.target !== goalValueTwo.target && (newGoalValue.target = goalValueOne.target), 
                goalValueOne.trend !== goalValueTwo.trend && (newGoalValue.trend = goalValueOne.trend), 
                goalValueOne.forecast !== goalValueTwo.forecast && (newGoalValue.forecast = goalValueOne.forecast), 
                goalValueOne.status !== goalValueTwo.status && (newGoalValue.status = goalValueOne.status), 
                newGoalValue;
            }, GoalValueHelper.calculateGoalValueChanges = function(baseValues, currentValues) {
                for (var changes = [], baseValuesMap = new Map, _i = 0, baseValues_1 = baseValues; _i < baseValues_1.length; _i++) {
                    var value = baseValues_1[_i], timestamp = new Date(value.timestamp).getTime();
                    baseValuesMap.set(timestamp, value.value);
                }
                for (var _a = 0, currentValues_1 = currentValues; _a < currentValues_1.length; _a++) value = currentValues_1[_a], 
                timestamp = new Date(value.timestamp).getTime(), baseValuesMap.has(timestamp) ? value.value !== baseValuesMap.get(timestamp) && changes.push(value) : changes.push(value);
                for (var currentValuesSet = new Set, _b = 0, currentValues_2 = currentValues; _b < currentValues_2.length; _b++) value = currentValues_2[_b], 
                timestamp = new Date(value.timestamp).getTime(), currentValuesSet.add(timestamp);
                for (var _c = 0, baseValues_2 = baseValues; _c < baseValues_2.length; _c++) value = baseValues_2[_c], 
                timestamp = new Date(value.timestamp).getTime(), currentValuesSet.has(timestamp) || changes.push({
                    timestamp: value.timestamp,
                    value: null
                });
                return changes;
            }, GoalValueHelper;
        }();
    },
    29730: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            ID: function() {
                return decodePrettyHierarchyPaths;
            },
            IX: function() {
                return getHierarchyItemPath;
            },
            qB: function() {
                return getSelectedHierarchyItemsFromPath;
            },
            t7: function() {
                return getHierarchyPaths;
            }
        });
        var _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62458);
        function getHierarchyItemPath(hierarchyItem) {
            if (null == hierarchyItem ? void 0 : hierarchyItem.id) {
                for (var levelValues = [], path = {
                    hierarchyId: hierarchyItem.hierarchyId,
                    levels: levelValues
                }; hierarchyItem; ) levelValues.push(hierarchyItem.value), hierarchyItem = hierarchyItem.parent;
                return levelValues.reverse(), path;
            }
            _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertFail("Invalid item");
        }
        function getSelectedHierarchyItemFromPaths(levelValues, hierarchyItems) {
            for (var matchingItem, items = hierarchyItems, _loop_1 = function(levelValue) {
                if (!(matchingItem = _.find(items, function(item) {
                    return item.value === levelValue;
                }))) return _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertFail("Item not found for path"), 
                {
                    value: void 0
                };
                items = matchingItem.children;
            }, _i = 0, levelValues_1 = levelValues; _i < levelValues_1.length; _i++) {
                var state_1 = _loop_1(levelValues_1[_i]);
                if ("object" == typeof state_1) return state_1.value;
            }
            return matchingItem;
        }
        function getSelectedHierarchyItemsFromPath(hierarchyPaths, hierarchyItems) {
            for (var leafItems = [], _i = 0, hierarchyPaths_1 = hierarchyPaths; _i < hierarchyPaths_1.length; _i++) {
                var path = hierarchyPaths_1[_i], item = getSelectedHierarchyItemFromPaths(path.levels, hierarchyItems[path.hierarchyId]);
                item && leafItems.push(item);
            }
            return leafItems;
        }
        function getHierarchyPaths(hierarchyItems) {
            return _.map(_.filter(hierarchyItems, function(item) {
                return !!item.id;
            }), function(hierarchyItem) {
                return getHierarchyItemPath(hierarchyItem);
            });
        }
        var pathSeparator = ";", hierarchyIdSeparator = ":", levelSeparator = ",";
        function decodePrettyHierarchyPaths(encodedPaths) {
            if (!_.isEmpty(encodedPaths)) {
                for (var paths = [], _i = 0, stringPaths_1 = _.split(encodedPaths, pathSeparator); _i < stringPaths_1.length; _i++) {
                    var path = stringPaths_1[_i];
                    if (!path.includes(hierarchyIdSeparator)) return;
                    var _a = _.split(path, hierarchyIdSeparator), hierarchyId = _a[0], levels = _.map(_.split(_a[1], levelSeparator), function(level) {
                        return decodeURIComponent(level);
                    });
                    paths.push({
                        hierarchyId,
                        levels
                    });
                }
                return _.isEmpty(paths) ? void 0 : paths;
            }
        }
    },
    98925: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            P: function() {
                return setupRollupsLocalization;
            },
            t: function() {
                return getRollupType;
            }
        });
        var _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62458);
        function getRollupType(rollupType) {
            if ("number" == typeof rollupType) return rollupType;
            switch (rollupType.toString().trim().toLowerCase()) {
              case "sum":
                return 1;

              case "average":
                return 2;

              case "min":
                return 3;

              case "max":
                return 4;

              default:
                return void _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertNever(rollupType);
            }
        }
        function setupRollupsLocalization(localizationService) {
            var _a;
            return (_a = {})[1] = localizationService.get("Rollups_Submetrics_Sum"), _a[2] = localizationService.get("Rollups_Submetrics_Average"), 
            _a[3] = localizationService.get("Rollups_Submetrics_Min"), _a[4] = localizationService.get("Rollups_Submetrics_Max"), 
            _a;
        }
    },
    61088: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            _: function() {
                return ScorecardColumnSettingsHelper;
            }
        });
        var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(81337), _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(558), ScorecardColumnSettingsHelper = function() {
            function ScorecardColumnSettingsHelper() {}
            return ScorecardColumnSettingsHelper.moveColumnSettingUp = function(columnSettings, index) {
                if (!(_.size(columnSettings) <= 1 || 0 === index)) {
                    var oldColumnSettings = columnSettings;
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArray)((0, tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArray)((0, 
                    tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArray)([], _.slice(oldColumnSettings, 0, index - 1), !0), [ oldColumnSettings[index], oldColumnSettings[index - 1] ], !1), _.slice(oldColumnSettings, index + 1), !0);
                }
            }, ScorecardColumnSettingsHelper.moveColumnSettingDown = function(columnSettings, index) {
                if (!(_.size(columnSettings) <= 1 || index === _.size(columnSettings) - 1)) {
                    var oldColumnSettings = columnSettings;
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArray)((0, tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArray)((0, 
                    tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArray)([], _.slice(oldColumnSettings, 0, index), !0), [ oldColumnSettings[index + 1], oldColumnSettings[index] ], !1), _.slice(oldColumnSettings, index + 2), !0);
                }
            }, ScorecardColumnSettingsHelper.canMoveLeft = function(columnSettings, columnIndex) {
                if (columnIndex <= 1) return !1;
                var leftColumns = _.slice(columnSettings, 0, columnIndex);
                return _.findLastIndex(leftColumns, function(columnSetting) {
                    return columnSetting.show;
                }) > 0;
            }, ScorecardColumnSettingsHelper.canMoveRight = function(columnSettings, columnIndex) {
                return !(0 === columnIndex || columnIndex >= columnSettings.length - 1) && _.findIndex(columnSettings, function(columnSetting) {
                    return columnSetting.show;
                }, columnIndex + 1) > columnIndex;
            }, ScorecardColumnSettingsHelper.moveColumnLeft = function(columnSettings, columnId) {
                var columnIndex = _.findIndex(columnSettings, function(columnSetting) {
                    return columnSetting.columnId === columnId;
                }), leftColumns = _.slice(columnSettings, 0, columnIndex), leftShownColumnIndex = _.findLastIndex(leftColumns, function(columnSetting) {
                    return columnSetting.show;
                });
                (0, _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_1__.bA)(columnSettings, columnIndex, leftShownColumnIndex);
            }, ScorecardColumnSettingsHelper.moveColumnRight = function(columnSettings, columnId) {
                var columnIndex = _.findIndex(columnSettings, function(columnSetting) {
                    return columnSetting.columnId === columnId;
                }), rightShownColumnIndex = _.findIndex(columnSettings, function(columnSetting) {
                    return columnSetting.show;
                }, columnIndex + 1);
                (0, _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_1__.bA)(columnSettings, columnIndex, rightShownColumnIndex);
            }, ScorecardColumnSettingsHelper.hideColumn = function(columnSettings, columnId) {
                var columnIdx = _.findIndex(columnSettings, function(columnSetting) {
                    return columnSetting.columnId === columnId;
                });
                columnIdx >= 0 && (columnSettings[columnIdx].show = !1);
            }, ScorecardColumnSettingsHelper.showColumn = function(columnSettings, columnId) {
                var columnIdx = _.findIndex(columnSettings, function(columnSetting) {
                    return columnSetting.columnId === columnId;
                });
                columnIdx >= 0 && (columnSettings[columnIdx].show = !0);
            }, ScorecardColumnSettingsHelper.isColumnVisible = function(columnSettings, columnId) {
                var column = _.find(columnSettings, function(columnSetting) {
                    return columnSetting.columnId === columnId;
                });
                return !!_.isUndefined(null == column ? void 0 : column.show) || column.show;
            }, ScorecardColumnSettingsHelper.mergeColumns = function(receivedColumnSettings, knownColumnSettings) {
                for (var result = new Array, IdsOfKnownColumns = new Set(knownColumnSettings.map(function(setting) {
                    return setting.columnId;
                })), visitedIds = new Set, _i = 0, receivedColumnSettings_1 = receivedColumnSettings; _i < receivedColumnSettings_1.length; _i++) {
                    var receivedColumnSetting = receivedColumnSettings_1[_i];
                    IdsOfKnownColumns.has(receivedColumnSetting.columnId) && !visitedIds.has(receivedColumnSetting.columnId) && (result.push(receivedColumnSetting), 
                    visitedIds.add(receivedColumnSetting.columnId));
                }
                for (var _a = 0, knownColumnSettings_1 = knownColumnSettings; _a < knownColumnSettings_1.length; _a++) {
                    var knownColumnsetting = knownColumnSettings_1[_a];
                    visitedIds.has(knownColumnsetting.columnId) || result.push(knownColumnsetting);
                }
                return result;
            }, ScorecardColumnSettingsHelper.removeColumnSettings = function(columnSettings, columnIds) {
                var columnIdSet = new Set(columnIds);
                _.remove(columnSettings, function(columnSetting) {
                    return columnIdSet.has(columnSetting.columnId);
                });
            }, ScorecardColumnSettingsHelper.adjustColumnSettings = function(featureSwitchService, columnSettings) {
                featureSwitchService.featureSwitches.scorecardSplitColumns || (ScorecardColumnSettingsHelper.removeColumnSettings(columnSettings, [ 7, 8, 9 ]), 
                ScorecardColumnSettingsHelper.isColumnVisible(columnSettings, 3) || ScorecardColumnSettingsHelper.showColumn(columnSettings, 3)), 
                featureSwitchService.featureSwitches.scorecardCompactView || ScorecardColumnSettingsHelper.removeColumnSettings(columnSettings, [ 10 ]);
            }, ScorecardColumnSettingsHelper;
        }();
    },
    3204: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            b: function() {
                return SparklineHelper;
            }
        });
        var _components_status_picker_goal_status_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(57535), _services_scorecard_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62831), _goal_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(125), SparklineHelper = function() {
            function SparklineHelper() {}
            return SparklineHelper.buildSparklineValues = function(goal, enableAggregations, sparklineMaxValueCount) {
                if (void 0 === sparklineMaxValueCount && (sparklineMaxValueCount = 7), enableAggregations && goal.aggregations) return _.chain(goal.aggregations).filter(function(aggregation) {
                    return "Sparkline" === aggregation.type;
                }).sortBy(function(aggregation) {
                    return new Date(aggregation.timestamp);
                }).takeRight(sparklineMaxValueCount).map(function(aggregation) {
                    return {
                        scorecardId: goal.scorecardId,
                        goalId: goal.id,
                        lastModifiedTime: aggregation.maxLastModifiedTime,
                        timestamp: aggregation.timestamp,
                        value: aggregation.value,
                        valueDisplayString: aggregation.valueDisplayString,
                        createdTime: aggregation.calculationTime,
                        lastModifiedBy: null
                    };
                }).value();
                var sortedGoalValues = _.sortBy(goal.goalValues, function(x) {
                    return new Date(x.timestamp);
                });
                return _.takeRight(sortedGoalValues.filter(function(gv) {
                    return null != gv.value && null != gv.timestamp;
                }), sparklineMaxValueCount);
            }, SparklineHelper.getSparklineOptions = function(goal, goalStatuses, scorecardConfiguration) {
                var _a, _b, _c, _d, _e, _f, _g, isDarkMode = _services_scorecard_helper__WEBPACK_IMPORTED_MODULE_0__.q.isDarkMode(), currentValue = _goal_helper__WEBPACK_IMPORTED_MODULE_1__.r.buildCurrentGoalValue(goal), status = _components_status_picker_goal_status_helper__WEBPACK_IMPORTED_MODULE_2__.p.getGoalStatus(null == currentValue ? void 0 : currentValue.status, goalStatuses), color = _components_status_picker_goal_status_helper__WEBPACK_IMPORTED_MODULE_2__.p.getGoalSparklineColor(status.color, null === (_a = null == scorecardConfiguration ? void 0 : scorecardConfiguration.scorecardDisplayOptions) || void 0 === _a ? void 0 : _a.isMobileLayout, isDarkMode);
                return {
                    height: null !== (_d = null === (_c = null === (_b = null == scorecardConfiguration ? void 0 : scorecardConfiguration.scorecardDisplayOptions) || void 0 === _b ? void 0 : _b.sparklineOptions) || void 0 === _c ? void 0 : _c.height) && void 0 !== _d ? _d : 48,
                    width: null !== (_g = null === (_f = null === (_e = null == scorecardConfiguration ? void 0 : scorecardConfiguration.scorecardDisplayOptions) || void 0 === _e ? void 0 : _e.sparklineOptions) || void 0 === _f ? void 0 : _f.width) && void 0 !== _g ? _g : 120,
                    lineColor: color,
                    dotColor: color,
                    showMin: !1,
                    showMax: !1
                };
            }, SparklineHelper;
        }();
    },
    14372: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            a: function() {
                return CreateGoalHelper;
            }
        });
        var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(81337), _scorecard_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62831), CreateGoalHelper = function() {
            function CreateGoalHelper(scorecardService) {
                this.scorecardService = scorecardService;
            }
            return Object.defineProperty(CreateGoalHelper.prototype, "scorecard", {
                get: function() {
                    return this.scorecardService.getCurrentScorecard();
                },
                enumerable: !1,
                configurable: !0
            }), CreateGoalHelper.prototype.updateScorecardStatuses = function(scorecardUpdateRequest) {
                return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function() {
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return CreateGoalHelper.isLocalScorecard ? (this.scorecard.goalStatuses = scorecardUpdateRequest.goalStatuses, 
                            this.scorecard.goalStatuses.nextId = this.scorecard.goalStatuses.statuses.length, 
                            this.commit(), [ 3, 3 ]) : [ 3, 1 ];

                          case 1:
                            return [ 4, this.scorecardService.updateScorecard(scorecardUpdateRequest) ];

                          case 2:
                            _a.sent(), _a.label = 3;

                          case 3:
                            return [ 2 ];
                        }
                    });
                });
            }, CreateGoalHelper.prototype.createCategoryListHandler = function(categoricalValues) {
                return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function() {
                    var goalValueCategoryListCreateRequest, goalValueCategoryList;
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return CreateGoalHelper.isLocalScorecard ? (_.isUndefined(this.scorecard.goalValueCategories) && (this.scorecard.goalValueCategories = []), 
                            goalValueCategoryListCreateRequest = _scorecard_helper__WEBPACK_IMPORTED_MODULE_1__.q.getGoalValueCategoriesCreateRequest(categoricalValues), 
                            goalValueCategoryList = {
                                id: this.scorecard.goalValueCategories.length.toString(),
                                scorecardId: "",
                                name: "",
                                categories: goalValueCategoryListCreateRequest.categories
                            }, this.scorecard.goalValueCategories.push(goalValueCategoryList), this.commit(), 
                            [ 2, goalValueCategoryList ]) : [ 3, 1 ];

                          case 1:
                            return [ 4, this.scorecardService.createCategoryList(categoricalValues) ];

                          case 2:
                            return [ 2, _a.sent() ];
                        }
                    });
                });
            }, CreateGoalHelper.prototype.updateCategoryListHandler = function(categoryList) {
                return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function() {
                    var index;
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return CreateGoalHelper.isLocalScorecard ? (index = _.findIndex(this.scorecard.goalValueCategories, function(goalValueCategoryList) {
                                return goalValueCategoryList.id === categoryList.id;
                            }), this.scorecard.goalValueCategories[index] = categoryList, this.commit(), [ 2, categoryList ]) : [ 3, 1 ];

                          case 1:
                            return [ 4, this.scorecardService.updateCategoryList(categoryList) ];

                          case 2:
                            return [ 2, _a.sent() ];
                        }
                    });
                });
            }, CreateGoalHelper.prototype.deleteCategoryListHandler = function(categoryListId) {
                return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function() {
                    var index_1;
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return CreateGoalHelper.isLocalScorecard ? (_.remove(this.scorecard.goalValueCategories, function(categoryList) {
                                return categoryList.id === categoryListId;
                            }), index_1 = 0, this.scorecard.goalValueCategories.forEach(function(goalValueCategoryList) {
                                goalValueCategoryList.id = index_1.toString(), index_1 += 1;
                            }), this.commit(), [ 3, 3 ]) : [ 3, 1 ];

                          case 1:
                            return [ 4, this.scorecardService.deleteCategoryList(categoryListId) ];

                          case 2:
                            _a.sent(), _a.label = 3;

                          case 3:
                            return [ 2 ];
                        }
                    });
                });
            }, CreateGoalHelper.prototype.commit = function() {
                this.scorecardService.loadPrefetchedScorecard(this.scorecard);
            }, CreateGoalHelper.isLocalScorecard = !1, CreateGoalHelper;
        }();
    },
    33014: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            D: function() {
                return GoalConnectionService;
            }
        });
        var tslib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(81337), _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(50423), _powerbi_Common_contracts__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(34071), _powerbi_Core_actions_report__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(98632), _powerbi_Core_reducers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(43633), _powerbi_InjectionTokens_scorecardHostService__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(60166), _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62458), _powerbi_legacy_PowerBIVisuals_VisualsCommon_Utility_StandaloneUtility3__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(43286), rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(14172), rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(59973), _ngrx_store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(85732), _powerbi_Core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(50911), _powerbi_Core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(19178), _powerbi_Core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(94420), _angular_platform_browser__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(18942), _powerbi_WebAppSettings__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(76746), GoalConnectionService = function() {
            function GoalConnectionService(store, datasetStore, domSanitizer, groupStoreService, reportStore, appSettings, scorecardHost) {
                this.store = store, this.datasetStore = datasetStore, this.domSanitizer = domSanitizer, 
                this.groupStoreService = groupStoreService, this.reportStore = reportStore, this.appSettings = appSettings, 
                this.scorecardHost = scorecardHost;
            }
            return GoalConnectionService.prototype.getConnectedReport = function(connection) {
                var _a, _b;
                _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(connection.reportUrl, "No connected report url");
                var reportId = null === (_a = connection.reportUrl.match(/\/reports\/([a-zA-Z0-9\-]+)/)) || void 0 === _a ? void 0 : _a[1], workspaceId = null === (_b = connection.reportUrl.match(/\/groups\/([a-zA-Z0-9\-]+)/)) || void 0 === _b ? void 0 : _b[1];
                return this.getReport(reportId, workspaceId);
            }, GoalConnectionService.prototype.getConnectedReportDisplayName = function(connection) {
                var _a, appId = null === (_a = connection.reportUrl.match(/\/apps\/([a-zA-Z0-9\-]+)/)) || void 0 === _a ? void 0 : _a[1];
                return this.getConnectedReport(connection).pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.U)(function(report) {
                    return appId ? report.ownerFullname : report.displayName;
                }));
            }, GoalConnectionService.prototype.goToConnectedReport = function(connection) {
                _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(connection.reportUrl, "No connected report url");
                var url, append = connection.reportUrl.indexOf("?") >= 0 ? "&" : "?";
                if (url = this.appSettings.tenantId ? "".concat(connection.reportUrl).concat(append, "ctid=").concat(this.appSettings.tenantId) : connection.reportUrl, 
                this.scorecardHost) this.scorecardHost.openReport(url); else {
                    var reportUrl = new URL(url, window.location.origin).href;
                    window.open(this.domSanitizer.sanitize(_angular_core__WEBPACK_IMPORTED_MODULE_2__.SecurityContext.URL, reportUrl), "_blank");
                }
            }, GoalConnectionService.prototype.getReport = function(reportObjectId, workspaceId) {
                return this.store.dispatch(new _powerbi_Core_actions_report__WEBPACK_IMPORTED_MODULE_3__.yi({
                    reportObjectId,
                    workspaceObjectId: workspaceId
                })), this.store.select(_powerbi_Core_reducers__WEBPACK_IMPORTED_MODULE_4__.W4, {
                    id: reportObjectId
                }).pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(function(report) {
                    return !!report && !report.loading;
                }));
            }, GoalConnectionService.prototype.getConnectedGoalsWithoutBuildPermissions = function(goals) {
                var _a, _b;
                return (0, tslib__WEBPACK_IMPORTED_MODULE_6__.__awaiter)(this, void 0, void 0, function() {
                    var goalNames, _i, goals_1, goal, dataset, reportId, connectedReport;
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_6__.__generator)(this, function(_c) {
                        switch (_c.label) {
                          case 0:
                            return goalNames = [], [ 4, this.groupStoreService.ensureGroupArtifactsLoaded(_powerbi_Common_contracts__WEBPACK_IMPORTED_MODULE_7__.fm, !0) ];

                          case 1:
                            _c.sent(), _i = 0, goals_1 = goals, _c.label = 2;

                          case 2:
                            return _i < goals_1.length ? (goal = goals_1[_i]).valueConnection ? [ 4, this.datasetStore.findDatasetByObjectId(goal.valueConnection.datasetId) ] : [ 3, 5 ] : [ 3, 9 ];

                          case 3:
                            return (dataset = _c.sent()) && this.hasDatasetBuildPermission(dataset) || goalNames.push(goal.name), 
                            _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(goal.valueConnection.reportUrl, "No value connected report url"), 
                            reportId = null === (_a = goal.valueConnection.reportUrl.match(/\/reports\/([a-zA-Z0-9\-]+)/)) || void 0 === _a ? void 0 : _a[1], 
                            [ 4, this.reportStore.findByObjectId(reportId) ];

                          case 4:
                            (connectedReport = _c.sent()) && this.hasReportReadPermission(connectedReport) || goalNames.push(goal.name), 
                            _c.label = 5;

                          case 5:
                            return goal.targetConnection ? [ 4, this.datasetStore.findDatasetByObjectId(goal.targetConnection.datasetId) ] : [ 3, 8 ];

                          case 6:
                            return (dataset = _c.sent()) && this.hasDatasetBuildPermission(dataset) || goalNames.push(goal.name), 
                            _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(goal.targetConnection.reportUrl, "No target connected report url"), 
                            reportId = null === (_b = goal.targetConnection.reportUrl.match(/\/reports\/([a-zA-Z0-9\-]+)/)) || void 0 === _b ? void 0 : _b[1], 
                            [ 4, this.reportStore.findByObjectId(reportId) ];

                          case 7:
                            (connectedReport = _c.sent()) && this.hasReportReadPermission(connectedReport) || goalNames.push(goal.name), 
                            _c.label = 8;

                          case 8:
                            return _i++, [ 3, 2 ];

                          case 9:
                            return [ 2, _.uniq(goalNames) ];
                        }
                    });
                });
            }, GoalConnectionService.prototype.hasReportReadPermission = function(report) {
                return (0, _powerbi_legacy_PowerBIVisuals_VisualsCommon_Utility_StandaloneUtility3__WEBPACK_IMPORTED_MODULE_8__.yE)(report.permissions, 1);
            }, GoalConnectionService.prototype.hasDatasetBuildPermission = function(dataset) {
                return (0, _powerbi_legacy_PowerBIVisuals_VisualsCommon_Utility_StandaloneUtility3__WEBPACK_IMPORTED_MODULE_8__.yE)(null == dataset ? void 0 : dataset.permissions, 3) || (0, 
                _powerbi_legacy_PowerBIVisuals_VisualsCommon_Utility_StandaloneUtility3__WEBPACK_IMPORTED_MODULE_8__.yE)(null == dataset ? void 0 : dataset.permissions, 9) || (0, 
                _powerbi_legacy_PowerBIVisuals_VisualsCommon_Utility_StandaloneUtility3__WEBPACK_IMPORTED_MODULE_8__.yE)(null == dataset ? void 0 : dataset.userPermissions, 9) || (0, 
                _powerbi_legacy_PowerBIVisuals_VisualsCommon_Utility_StandaloneUtility3__WEBPACK_IMPORTED_MODULE_8__.yE)(null == dataset ? void 0 : dataset.userPermissions, 3);
            }, GoalConnectionService.\u0275fac = function(t) {
                return new (t || GoalConnectionService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275inject"](_ngrx_store__WEBPACK_IMPORTED_MODULE_9__.yh), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275inject"](_powerbi_Core__WEBPACK_IMPORTED_MODULE_10__.s), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275inject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_11__.H7), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275inject"](_powerbi_Core__WEBPACK_IMPORTED_MODULE_12__.Y), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275inject"](_powerbi_Core__WEBPACK_IMPORTED_MODULE_13__.R), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275inject"](_powerbi_WebAppSettings__WEBPACK_IMPORTED_MODULE_14__.de), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275inject"](_powerbi_InjectionTokens_scorecardHostService__WEBPACK_IMPORTED_MODULE_15__.M, 8));
            }, GoalConnectionService.\u0275prov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275defineInjectable"]({
                token: GoalConnectionService,
                factory: GoalConnectionService.\u0275fac
            }), GoalConnectionService;
        }();
    },
    53678: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            E: function() {
                return GoalDetailsPaneAction;
            },
            c: function() {
                return GoalsDetailsPaneLauncherService;
            }
        });
        var tslib__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(81337), _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(60042), _scorecard_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62831), _powerbi_InjectionTokens_scorecardHostService__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(60166), rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(33554), rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(11547), rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(14172), rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(17653), rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(24126), rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(46266), rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(83317), rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(77526), rxjs_operators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(42195), _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(50423), _powerbi_ExploreUI__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(41819), _services_goals_hierarchy_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(87426), GoalDetailsPaneAction = function(GoalDetailsPaneAction) {
            return GoalDetailsPaneAction[GoalDetailsPaneAction.Default = 0] = "Default", GoalDetailsPaneAction[GoalDetailsPaneAction.ShowCheckin = 1] = "ShowCheckin", 
            GoalDetailsPaneAction[GoalDetailsPaneAction.ShowStatusRules = 2] = "ShowStatusRules", 
            GoalDetailsPaneAction;
        }({}), GoalsDetailsPaneLauncherService = function() {
            function GoalsDetailsPaneLauncherService(sideFlyoutService, scorecardHost, hierarchyService) {
                this.sideFlyoutService = sideFlyoutService, this.scorecardHost = scorecardHost, 
                this.hierarchyService = hierarchyService, this.destroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.t(1);
            }
            return GoalsDetailsPaneLauncherService.prototype.openGoalDetails = function(scorecardService, goalId, action, scorecardConfiguration) {
                var _this = this;
                scorecardService.selectGoal(goalId);
                var scorecard = scorecardService.getCurrentScorecard(), goal = _scorecard_helper__WEBPACK_IMPORTED_MODULE_1__.q.getGoal(scorecard.goals, goalId), goalValueCategories = scorecardService.getGoalValueCategoryLists(goal), goalStatuses = scorecardService.getGoalStatuses(goal), color$ = this.traverse(scorecardService.getActiveGoal(), scorecardService).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.U)(function(id) {
                    var _a, colorIndex = null === (_a = scorecard.goals) || void 0 === _a ? void 0 : _a.findIndex(function(g) {
                        return g.id === id;
                    });
                    return _constants__WEBPACK_IMPORTED_MODULE_3__.gT.ColorPalette[colorIndex > 0 ? colorIndex % _constants__WEBPACK_IMPORTED_MODULE_3__.gT.ColorPalette.length : 0];
                }));
                this.destroy$ && (this.destroy$.next(!0), this.destroy$.complete()), this.destroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.t(1), 
                this.sideFlyoutService.show({
                    componentManifest: {
                        componentId: "GoalsDetailsPaneComponentId",
                        modulePath: "@powerbi/GoalsDetailsPane/goals-details-pane.module#GoalsDetailsPaneModule",
                        inputArgs: {
                            goal$: scorecardService.getActiveGoal().pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.b)(function(goal) {
                                goal && scorecardService.expandGoalValues(goal.id);
                            }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_5__._)(1), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.x)(), (0, 
                            rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.R)(this.destroy$)),
                            scorecardHierarchyInfo$: this.hierarchyService ? this.hierarchyService.getHierarchyDisplayInfoObservable(scorecardService.hierarchyPaths$) : (0, 
                            rxjs__WEBPACK_IMPORTED_MODULE_8__.of)({
                                showingAll: !0
                            }),
                            openAction: action,
                            scorecardConfiguration,
                            goalPreviewColor$: color$,
                            goalValueCategories,
                            goalStatuses,
                            showGoalTargetsInChart$: scorecardService.getScorecard().pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.U)(function(scorecard) {
                                return scorecard.showGoalTargetsInChart;
                            })),
                            close: function() {
                                _this.sideFlyoutService.hide(), scorecardService.unselectAllGoals();
                            },
                            saveGoalValue: function(goalId, goalValue) {
                                return (0, tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(_this, void 0, void 0, function() {
                                    var newScorecard, newGoal, _a, _b;
                                    return (0, tslib__WEBPACK_IMPORTED_MODULE_9__.__generator)(this, function(_c) {
                                        switch (_c.label) {
                                          case 0:
                                            return [ 4, scorecardService.saveGoalValue(goalId, goalValue) ];

                                          case 1:
                                            return _c.sent(), newScorecard = scorecardService.getCurrentScorecard(), newGoal = _scorecard_helper__WEBPACK_IMPORTED_MODULE_1__.q.getGoal(newScorecard.goals, goalId), 
                                            null === (_a = this.scorecardHost) || void 0 === _a || _a.onUpdateScorecard(newScorecard), 
                                            null === (_b = this.scorecardHost) || void 0 === _b || _b.updateCachedGoal(newGoal), 
                                            [ 2 ];
                                        }
                                    });
                                });
                            },
                            insertNote: function(goalId, timestamp, note) {
                                return scorecardService.insertNote(goalId, timestamp, note);
                            },
                            deleteNote: function(note) {
                                return scorecardService.deleteNote(note);
                            },
                            editNote: function(goalId, timestamp, noteId, noteRequest) {
                                return scorecardService.editNote(goalId, timestamp, noteId, noteRequest);
                            },
                            deleteGoalValue: function(goalValue) {
                                return scorecardService.deleteGoalValue(goalValue);
                            },
                            saveGoal: function(goal) {
                                return scorecardService.saveGoal(goal.id, goal);
                            },
                            deleteGoalQueryConnection: function(goalId, type) {
                                return scorecardService.deleteGoalQueryConnection(goalId, type);
                            },
                            getRefreshHistory: function(goalId) {
                                return scorecardService.getRefreshHistory(goalId);
                            },
                            refreshGoalValue: function(goalId, type) {
                                return scorecardService.refreshGoalValue(goalId, type);
                            },
                            isEditMode$: scorecardService.isEditMode(),
                            columnSettings$: scorecardService.getColumnSettings(),
                            saveStatusRules: function(goalId, rules) {
                                return scorecardService.saveStatusRules(goalId, rules);
                            },
                            getStatusRules: function(goalId) {
                                return scorecardService.getStatusRules(goalId);
                            },
                            updateGoalValueConnectionSettings: function(goalId, request) {
                                return scorecardService.updateGoalValueConnectionSettings(goalId, request);
                            },
                            takeOverConnection: function(goalId, type) {
                                return scorecardService.takeOverGoalQueryConnection(goalId, type);
                            },
                            toggleShowGoalTargets: function(show) {
                                return scorecardService.toggleShowGoalTargetsInChart(show);
                            },
                            followGoal: function(goalId) {
                                return scorecardService.followGoal(goalId);
                            },
                            unfollowGoal: function(goalId) {
                                return scorecardService.unfollowGoal(goalId);
                            }
                        }
                    }
                });
            }, GoalsDetailsPaneLauncherService.prototype.openGoalStatusRulesPane = function(goalStatuses, goal, rules, onSave) {
                var _this = this;
                this.sideFlyoutService.show({
                    componentManifest: {
                        componentId: "StatusRulesPaneComponentId",
                        modulePath: "@powerbi/GoalsDetailsPane/goals-details-pane.module#GoalsDetailsPaneModule",
                        inputArgs: {
                            goal,
                            goalStatuses,
                            statusRules: rules,
                            close: function() {
                                return _this.sideFlyoutService.hide();
                            },
                            saveStatusRules: function(rules) {
                                return (0, tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(_this, void 0, void 0, function() {
                                    return (0, tslib__WEBPACK_IMPORTED_MODULE_9__.__generator)(this, function(_a) {
                                        switch (_a.label) {
                                          case 0:
                                            return [ 4, onSave(rules) ];

                                          case 1:
                                            return _a.sent(), this.sideFlyoutService.hide(), [ 2 ];
                                        }
                                    });
                                });
                            }
                        }
                    }
                });
            }, GoalsDetailsPaneLauncherService.prototype.openEditStatusesPane = function(scorecardService, onSave, isReadOnly) {
                var _this = this;
                this.sideFlyoutService.show({
                    componentManifest: {
                        componentId: "EditStatusesPaneComponentId",
                        modulePath: "@powerbi/GoalsDetailsPane/goals-details-pane.module#GoalsDetailsPaneModule",
                        inputArgs: {
                            goalStatuses$: scorecardService.getScorecard().pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.U)(function(scorecard) {
                                return scorecard.goalStatuses;
                            }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.x)()),
                            onSave,
                            close: function() {
                                return _this.sideFlyoutService.hide();
                            },
                            isReadOnly
                        }
                    }
                });
            }, GoalsDetailsPaneLauncherService.prototype.openScorecardSettingsPane = function(scorecardService, onSave, scorecardSettingsPaneTabIndex) {
                var _this = this;
                this.sideFlyoutService.show({
                    componentManifest: {
                        componentId: "ScorecardSettingsPaneComponentId",
                        modulePath: "@powerbi/GoalsDetailsPane/goals-details-pane.module#GoalsDetailsPaneModule",
                        inputArgs: {
                            scorecard$: scorecardService.getScorecard(),
                            roles$: scorecardService.getScorecard().pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.b)(function(_) {
                                scorecardService.ensureRolesLoaded();
                            }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.U)(function(scorecard) {
                                return scorecard.roles;
                            }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_5__._)(1), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.x)()),
                            scorecardSettingsPaneTabIndex,
                            onSave,
                            close: function() {
                                return _this.sideFlyoutService.hide();
                            },
                            setAsDefaultRole: function(roleId) {
                                return scorecardService.setAsDefaultRole(roleId);
                            },
                            editRole: function(roleId) {
                                return _this.openRoleSettingsPane(scorecardService, !1, roleId);
                            },
                            deleteRole: function(roleId) {
                                return scorecardService.deleteRole(roleId);
                            },
                            openRoleSettingsPaneWithNewRole: function() {
                                return _this.openRoleSettingsPane(scorecardService, !0);
                            }
                        }
                    }
                });
            }, GoalsDetailsPaneLauncherService.prototype.openScorecardColumnSettingsPane = function(scorecardService) {
                var _this = this;
                this.sideFlyoutService.show({
                    componentManifest: {
                        componentId: "ScorecardColumnSettingsPaneComponentId",
                        modulePath: "@powerbi/GoalsDetailsPane/goals-details-pane.module#GoalsDetailsPaneModule",
                        inputArgs: {
                            scorecardService,
                            close: function() {
                                return _this.sideFlyoutService.hide();
                            }
                        }
                    }
                });
            }, GoalsDetailsPaneLauncherService.prototype.openCategoryListsEditPane = function(scorecardService, creatingNewList, applyChanges) {
                var _this = this;
                this.sideFlyoutService.show({
                    componentManifest: {
                        componentId: "CategoryListsEditPaneComponentId",
                        modulePath: "@powerbi/GoalsDetailsPane/goals-details-pane.module#GoalsDetailsPaneModule",
                        inputArgs: {
                            scorecardService,
                            creatingNewList,
                            applyChanges,
                            close: function() {
                                return _this.sideFlyoutService.hide();
                            }
                        }
                    }
                });
            }, GoalsDetailsPaneLauncherService.prototype.openCategoricalValuesEditPane = function(goalValueCategoryListsService) {
                this.sideFlyoutService.show({
                    componentManifest: {
                        componentId: "CategoricalValuesEditPaneComponentId",
                        modulePath: "@powerbi/GoalsDetailsPane/goals-details-pane.module#GoalsDetailsPaneModule",
                        inputArgs: {
                            goalValueCategoryListsService
                        }
                    }
                });
            }, GoalsDetailsPaneLauncherService.prototype.openRoleSettingsPane = function(scorecardService, addNewRole, selectedRoleId) {
                var _this = this;
                this.sideFlyoutService.show({
                    componentManifest: {
                        componentId: "RoleSettingsPaneComponentId",
                        modulePath: "@powerbi/GoalsDetailsPane/goals-details-pane.module#GoalsDetailsPaneModule",
                        inputArgs: {
                            scorecard$: scorecardService.getScorecard(),
                            goals$: scorecardService.getGoals(),
                            roles$: scorecardService.getScorecard().pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.b)(function(_) {
                                scorecardService.ensureRolesLoaded();
                            }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.U)(function(scorecard) {
                                return scorecard.roles;
                            })),
                            close: function() {
                                return _this.sideFlyoutService.hide();
                            },
                            cancel: function() {
                                return _this.openScorecardSettingsPane(scorecardService, function(scorecard) {
                                    return scorecardService.updateScorecard(scorecard);
                                }, 1);
                            },
                            createRole: function(roleCreateRequest) {
                                return scorecardService.createRole(roleCreateRequest);
                            },
                            updateRole: function(roleId, roleUpdateRequest) {
                                return scorecardService.updateRole(roleId, roleUpdateRequest);
                            },
                            setAsDefaultRole: function(roleId) {
                                return scorecardService.setAsDefaultRole(roleId);
                            },
                            deleteRole: function(roleId) {
                                return scorecardService.deleteRole(roleId);
                            },
                            addNewRole,
                            selectedRoleId
                        }
                    },
                    paneClass: "role-settings"
                });
            }, GoalsDetailsPaneLauncherService.prototype.openBulkEditingPane = function(scorecardService, onSave) {
                var _this = this, goalStatuses = scorecardService.getGoalStatuses(), goalValueCategories = scorecardService.getGoalValueCategoryLists();
                this.sideFlyoutService.show({
                    componentManifest: {
                        componentId: "BulkEditingPaneComponentId",
                        modulePath: "@powerbi/GoalsDetailsPane/goals-details-pane.module#GoalsDetailsPaneModule",
                        inputArgs: {
                            selectedGoalIds$: scorecardService.getSelectedGoalIdsObservable(),
                            selectedGoals$: scorecardService.getSelectedGoalsObservable(),
                            goalStatuses,
                            goalValueCategories,
                            onSave,
                            close: function() {
                                return _this.sideFlyoutService.hide();
                            }
                        }
                    }
                });
            }, GoalsDetailsPaneLauncherService.prototype.closeGoalDetails = function() {
                this.destroy$ && (this.destroy$.next(!0), this.destroy$.complete()), this.sideFlyoutService.hide();
            }, GoalsDetailsPaneLauncherService.prototype.traverse = function(currentGoal$, scorecardService) {
                var _this = this;
                return currentGoal$.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.zg)(function(g) {
                    return g.parentId ? _this.traverse(scorecardService.getGoal(g.parentId), scorecardService) : (0, 
                    rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(g.id);
                }));
            }, GoalsDetailsPaneLauncherService.\u0275fac = function(t) {
                return new (t || GoalsDetailsPaneLauncherService)(_angular_core__WEBPACK_IMPORTED_MODULE_12__["\u0275\u0275inject"](_powerbi_ExploreUI__WEBPACK_IMPORTED_MODULE_13__.p), _angular_core__WEBPACK_IMPORTED_MODULE_12__["\u0275\u0275inject"](_powerbi_InjectionTokens_scorecardHostService__WEBPACK_IMPORTED_MODULE_14__.M, 8), _angular_core__WEBPACK_IMPORTED_MODULE_12__["\u0275\u0275inject"](_services_goals_hierarchy_service__WEBPACK_IMPORTED_MODULE_15__.G, 8));
            }, GoalsDetailsPaneLauncherService.\u0275prov = _angular_core__WEBPACK_IMPORTED_MODULE_12__["\u0275\u0275defineInjectable"]({
                token: GoalsDetailsPaneLauncherService,
                factory: GoalsDetailsPaneLauncherService.\u0275fac
            }), GoalsDetailsPaneLauncherService;
        }();
    },
    99327: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            X: function() {
                return GoalsErrorService;
            }
        });
        var _powerbi_legacy_PowerBIVisuals_VisualsCommon_tracing_traceType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50547), _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(50423), _powerbi_ErrorService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81213), _powerbi_Localization__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65181), GoalsErrorService = function() {
            function GoalsErrorService(errorService, localizationService) {
                this.errorService = errorService, this.localizationService = localizationService;
            }
            return GoalsErrorService.prototype.showUserError = function(error, errorType, messageKey) {
                var _a;
                void 0 === messageKey && (messageKey = "GenericErrorDescription"), this.errorService.error(this.localizationService.get(messageKey), errorType, {
                    requestId: null == error ? void 0 : error.requestId,
                    statusCode: null === (_a = null == error ? void 0 : error.status) || void 0 === _a ? void 0 : _a.toString()
                });
            }, GoalsErrorService.prototype.showThrottlingError = function() {
                this.errorService.errorNoDefaultAdditionalErrorInfo(this.localizationService.get("You_Have_Exceeded_Limit_Try_Again_Later"), "throttling", {
                    title: this.localizationService.get("Rate_Limit_Is_Exceeded"),
                    level: _powerbi_legacy_PowerBIVisuals_VisualsCommon_tracing_traceType__WEBPACK_IMPORTED_MODULE_0__.U.Information,
                    isDismissable: !0,
                    showAdditionalErrorInfo: !1
                });
            }, GoalsErrorService.\u0275fac = function(t) {
                return new (t || GoalsErrorService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](_powerbi_ErrorService__WEBPACK_IMPORTED_MODULE_2__.T), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](_powerbi_Localization__WEBPACK_IMPORTED_MODULE_3__.o));
            }, GoalsErrorService.\u0275prov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjectable"]({
                token: GoalsErrorService,
                factory: GoalsErrorService.\u0275fac
            }), GoalsErrorService;
        }();
    },
    87426: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            G: function() {
                return GoalsHierarchyService;
            }
        });
        var tslib_es6 = __webpack_require__(81337), hierarchy_utils = __webpack_require__(29730), semanticQuerySerializer = __webpack_require__(3468), debug = __webpack_require__(62458);
        function deserializeHierarchy(hierarchy) {
            return (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, hierarchy), {
                connections: _.map(hierarchy.connections, function(connection) {
                    return deserializedMapping = {
                        datasetId: (mapping = connection).datasetId,
                        levels: _.map(hierarchy.levels, function(level) {
                            var levelMapping = _.find(mapping.levels, function(mapping) {
                                return mapping.levelId === level.id;
                            });
                            return function(level) {
                                return {
                                    levelId: level.levelId,
                                    fieldExpr: level.field ? semanticQuerySerializer.ib.deserializeExpr(JSON.parse(level.field)) : void 0,
                                    filter: level.fieldFilter ? semanticQuerySerializer.ib.deserializeFilter(JSON.parse(level.fieldFilter)) : void 0
                                };
                            }(null != levelMapping ? levelMapping : {
                                levelId: level.id,
                                field: void 0
                            });
                        })
                    }, mapping.ownerField && (deserializedMapping.ownerFieldExpr = semanticQuerySerializer.ib.deserializeExpr(JSON.parse(mapping.ownerField))), 
                    deserializedMapping;
                    var mapping, deserializedMapping;
                })
            });
        }
        function serializeHierarchy(hierarchy) {
            return {
                id: hierarchy.id,
                levels: hierarchy.levels,
                name: hierarchy.name,
                scorecardId: hierarchy.scorecardId,
                owner: hierarchy.owner,
                connections: _.map(hierarchy.connections, function(connection) {
                    return serializedMapping = {
                        datasetId: (mapping = connection).datasetId,
                        levels: _.map(mapping.levels, function(level) {
                            return function(level) {
                                return {
                                    levelId: level.levelId,
                                    field: level.fieldExpr ? JSON.stringify(semanticQuerySerializer.ib.serializeExpr(level.fieldExpr)) : void 0,
                                    fieldFilter: level.filter ? JSON.stringify(semanticQuerySerializer.ib.serializeFilter(level.filter)) : void 0
                                };
                            }(level);
                        })
                    }, mapping.ownerFieldExpr && (serializedMapping.ownerField = JSON.stringify(semanticQuerySerializer.ib.serializeExpr(mapping.ownerFieldExpr))), 
                    serializedMapping;
                    var mapping, serializedMapping;
                })
            };
        }
        var goalsHttpService = __webpack_require__(58614), valueFormatter = __webpack_require__(72489), immer_esm = __webpack_require__(74466), BehaviorSubject = __webpack_require__(35510), of = __webpack_require__(11547), forkJoin = __webpack_require__(9936), combineLatest = __webpack_require__(59017), distinctUntilChanged = __webpack_require__(77526), filter = __webpack_require__(59973), map = __webpack_require__(14172), take = __webpack_require__(48787), shareReplay = __webpack_require__(57243), core = __webpack_require__(50423), error_service = __webpack_require__(81213), localization_service = __webpack_require__(65181), GoalsHierarchyService = function() {
            function GoalsHierarchyService(goalsHttpService, errorService, localization) {
                this.goalsHttpService = goalsHttpService, this.errorService = errorService, this.localization = localization, 
                this._hierarchies$ = new BehaviorSubject.X(null), this._hierarchyItems$ = new BehaviorSubject.X({}), 
                this._hierarchyErrors$ = new BehaviorSubject.X({}), this._isSaving$ = new BehaviorSubject.X(!1), 
                this.loadingHierarchyItems = new Set, this.isLoadingHierarchies = !1, this.isSaving$ = this._isSaving$, 
                this.hierarchies$ = this._hierarchies$.pipe((0, distinctUntilChanged.x)()), this.hierarchyItems$ = this._hierarchyItems$.pipe((0, 
                filter.h)(function(hierarchyItems) {
                    return !_.isEmpty(hierarchyItems);
                }), (0, distinctUntilChanged.x)()), this.hierarchyErrors$ = this._hierarchyErrors$.pipe((0, 
                distinctUntilChanged.x)()), this.hasHierarchies$ = this.hierarchies$.pipe((0, filter.h)(function(hierarchies) {
                    return !!hierarchies;
                }), (0, map.U)(function(hierarchies) {
                    return !_.isEmpty(hierarchies);
                }), (0, distinctUntilChanged.x)());
            }
            return Object.defineProperty(GoalsHierarchyService.prototype, "hierarchies", {
                get: function() {
                    return this._hierarchies$.value;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GoalsHierarchyService.prototype, "hierarchyItems", {
                get: function() {
                    return this._hierarchyItems$.value;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(GoalsHierarchyService.prototype, "hierarchyErrors", {
                get: function() {
                    return this._hierarchyErrors$.value;
                },
                enumerable: !1,
                configurable: !0
            }), GoalsHierarchyService.prototype.setHierarchies = function(hierarchies) {
                this._hierarchies$.next(hierarchies);
            }, GoalsHierarchyService.prototype.setHierarchyItems = function(hierarchyId, hierarchyItems) {
                var hierarchy = _.find(this.hierarchies, function(hierarchy) {
                    return hierarchy.id === hierarchyId;
                });
                debug.fF.assertValue(hierarchy, "No hierarchies with id ".concat(hierarchyId)), 
                this._hierarchyItems$.next((0, immer_esm.Uy)(this.hierarchyItems, function(items) {
                    items[hierarchyId] = hierarchyItems;
                }));
            }, GoalsHierarchyService.prototype.setHierarchyErrors = function(hierarchyErrors) {
                this._hierarchyErrors$.next(hierarchyErrors);
            }, GoalsHierarchyService.prototype.saveHierarchies = function() {
                var _a;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var existingHierarchies, deletedHierarchies, updatedHierarchies, datasetAccessErrors, _loop_1, this_1, _i, datasetAccessErrors_1, _loop_2, this_2, _b, _c, _d, deletedHierarchies_1, error_1, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_e) {
                        switch (_e.label) {
                          case 0:
                            if (!this.hierarchies || !this.scorecardId || this.isLoadingHierarchies) return debug.fF.assertFail("Hierarchies not loaded"), 
                            [ 2 ];
                            if (this._isSaving$.value) return debug.fF.assertFail("Save already in progress"), 
                            [ 2 ];
                            if (_.some(this.hierarchyErrors, function(errorsByHierarchy) {
                                return _.some(errorsByHierarchy, function(error) {
                                    return "Error" === error.severity;
                                });
                            })) return debug.fF.assertFail("Save blocked by error"), [ 2 ];
                            this._isSaving$.next(!0), _e.label = 1;

                          case 1:
                            return _e.trys.push([ 1, 11, 12, 13 ]), [ 4, this.goalsHttpService.getScorecardHierarchies(this.groupId, this.scorecardId).toPromise() ];

                          case 2:
                            for (existingHierarchies = _e.sent(), deletedHierarchies = _.filter(existingHierarchies, function(existingHierarchy) {
                                return !_.some(_this.hierarchies, function(hierarchy) {
                                    return existingHierarchy.id === hierarchy.id;
                                });
                            }), updatedHierarchies = [], datasetAccessErrors = _.filter(_.flatten(_.values(this.hierarchyErrors)), function(error) {
                                return "MetricsHierarchy_NoDatasetAccess" === error.code;
                            }), _loop_1 = function(error) {
                                var hierarchy = _.find(this_1.hierarchies, function(hierarchy) {
                                    return hierarchy.id === error.hierarchyId;
                                });
                                debug.fF.assertValue(hierarchy, "Hierarchy with id ".concat(error.hierarchyId, " not found to clear invalid mapping"));
                                var connection = _.find(hierarchy.connections, function(connection) {
                                    return connection.datasetId === error.datasetId;
                                });
                                debug.fF.assertValue(connection, "Connection with id ".concat(error.datasetId, " not found to clear invalid mapping")), 
                                connection.levels.forEach(function(level) {
                                    level.fieldExpr = void 0, level.filter = void 0;
                                });
                            }, this_1 = this, _i = 0, datasetAccessErrors_1 = datasetAccessErrors; _i < datasetAccessErrors_1.length; _i++) _loop_1(datasetAccessErrors_1[_i]);
                            _loop_2 = function(hierarchy) {
                                var existingHierarchy, request, result, updatedHierarchy;
                                return (0, tslib_es6.__generator)(this, function(_f) {
                                    switch (_f.label) {
                                      case 0:
                                        return hierarchy.isNew ? _.some(hierarchy.connections, function(connection) {
                                            return _.some(null == connection ? void 0 : connection.levels, function(level) {
                                                return !!(null == level ? void 0 : level.fieldExpr);
                                            });
                                        }) ? (request = function(hierarchy) {
                                            var serializedHierarchy = serializeHierarchy(hierarchy);
                                            return {
                                                name: serializedHierarchy.name,
                                                levels: serializedHierarchy.levels,
                                                connections: serializedHierarchy.connections
                                            };
                                        }(hierarchy), [ 4, this_2.goalsHttpService.createScorecardHierarchy(this_2.groupId, this_2.scorecardId, request).toPromise() ]) : [ 3, 2 ] : [ 3, 3 ];

                                      case 1:
                                        result = _f.sent(), updatedHierarchy = deserializeHierarchy(result), updatedHierarchies.push(updatedHierarchy), 
                                        _f.label = 2;

                                      case 2:
                                        return [ 3, 7 ];

                                      case 3:
                                        return (existingHierarchy = _.find(existingHierarchies, function(currentHierarchy) {
                                            return currentHierarchy.id === hierarchy.id;
                                        })) ? [ 3, 4 ] : (debug.fF.assertFail("Cannot updated a deleted hierarchy"), [ 3, 7 ]);

                                      case 4:
                                        return _.isEqual(serializeHierarchy(deserializeHierarchy(existingHierarchy)), serializeHierarchy(hierarchy)) ? [ 3, 6 ] : (request = function(hierarchy) {
                                            return {
                                                hierarchy: serializeHierarchy(hierarchy)
                                            };
                                        }(hierarchy), [ 4, this_2.goalsHttpService.updateScorecardHierarchy(this_2.groupId, this_2.scorecardId, hierarchy.id, request).toPromise() ]);

                                      case 5:
                                        return result = _f.sent(), updatedHierarchy = deserializeHierarchy(result), updatedHierarchies.push(updatedHierarchy), 
                                        [ 3, 7 ];

                                      case 6:
                                        updatedHierarchies.push(hierarchy), _f.label = 7;

                                      case 7:
                                        return [ 2 ];
                                    }
                                });
                            }, this_2 = this, _b = 0, _c = this.hierarchies, _e.label = 3;

                          case 3:
                            return _b < _c.length ? [ 5, _loop_2(_c[_b]) ] : [ 3, 6 ];

                          case 4:
                            _e.sent(), _e.label = 5;

                          case 5:
                            return _b++, [ 3, 3 ];

                          case 6:
                            _d = 0, deletedHierarchies_1 = deletedHierarchies, _e.label = 7;

                          case 7:
                            return _d < deletedHierarchies_1.length ? [ 4, this.goalsHttpService.deleteScorecardHierarchy(this.groupId, this.scorecardId, deletedHierarchies_1[_d].id).toPromise() ] : [ 3, 10 ];

                          case 8:
                            _e.sent(), _e.label = 9;

                          case 9:
                            return _d++, [ 3, 7 ];

                          case 10:
                            return this.setHierarchies(updatedHierarchies), [ 3, 13 ];

                          case 11:
                            throw error_1 = _e.sent(), this.errorService.error(this.localization.get("MetricsHierarchy_Cannot_Save_Hierarchies"), "GoalsCannotSaveHierarchies", {
                                requestId: null == error_1 ? void 0 : error_1.requestId,
                                statusCode: null === (_a = null == error_1 ? void 0 : error_1.status) || void 0 === _a ? void 0 : _a.toString()
                            }), error_1;

                          case 12:
                            return this._isSaving$.next(!1), [ 7 ];

                          case 13:
                            return [ 2 ];
                        }
                    });
                });
            }, GoalsHierarchyService.prototype.loadHierarchies = function(groupId, scorecardId, preferCache) {
                var _this = this;
                return void 0 === preferCache && (preferCache = !0), this.scorecardId === scorecardId && preferCache && this.hierarchies || this.scorecardId === scorecardId && this.isLoadingHierarchies || (this.scorecardId = scorecardId, 
                this.groupId = groupId, this.isLoadingHierarchies = !0, this.goalsHttpService.getScorecardHierarchies(groupId, this.scorecardId).toPromise().then(function(hierarchies) {
                    if (_this.setHierarchies(function(hierarchies) {
                        return _.map(hierarchies, function(hierarchy) {
                            return deserializeHierarchy(hierarchy);
                        });
                    }(hierarchies)), !preferCache && !_.isEmpty(_this.hierarchyItems)) for (var hierarchyId in _this.hierarchyItems) _this.loadHierarchyItems(hierarchyId, !1);
                }).catch(function(err) {
                    throw _this.setHierarchies([]), err;
                }).finally(function() {
                    _this.isLoadingHierarchies = !1, _this.gc();
                })), this.hierarchies$;
            }, GoalsHierarchyService.prototype.loadHierarchyItems = function(hierarchyId, preferCache) {
                var _this = this;
                return void 0 === preferCache && (preferCache = !0), debug.fF.assertValue(this.scorecardId, "No scorecard loaded"), 
                (!preferCache || _.isEmpty(this.hierarchyItems[hierarchyId]) && !this.loadingHierarchyItems.has(hierarchyId)) && (this.loadingHierarchyItems.add(hierarchyId), 
                this.goalsHttpService.getScorecardHierarchyItems(this.groupId, this.scorecardId, hierarchyId).toPromise().then(function(hierarchyItems) {
                    return _this.setHierarchyItems(hierarchyId, function(items) {
                        for (var hierarchyItems = _.cloneDeep(items), itemMap = _.groupBy(hierarchyItems, function(item) {
                            return item.id;
                        }), itemsTree = [], _i = 0, hierarchyItems_1 = hierarchyItems; _i < hierarchyItems_1.length; _i++) {
                            var item = hierarchyItems_1[_i];
                            if (item.parentHierarchyItemId) {
                                var parentItem = _.first(itemMap[item.parentHierarchyItemId]);
                                item.parent = parentItem, parentItem ? parentItem.children ? parentItem.children.push(item) : parentItem.children = [ item ] : debug.fF.assertFail("Parent item missing");
                            } else itemsTree.push(item);
                        }
                        return itemsTree;
                    }(hierarchyItems));
                }).catch(function(error) {
                    var _a;
                    debug.fF.assertFail("Error loading hierarchy items. " + (null === (_a = null == error ? void 0 : error.error) || void 0 === _a ? void 0 : _a.message)), 
                    _this.setHierarchyItems(hierarchyId, []);
                }).finally(function() {
                    return _this.loadingHierarchyItems.delete(hierarchyId);
                })), this.hierarchyItems$.pipe((0, map.U)(function(hierarchyItems) {
                    return hierarchyItems[hierarchyId];
                }), (0, distinctUntilChanged.x)());
            }, GoalsHierarchyService.prototype.getHierarchyItemsForPath = function(hierarchyPaths) {
                var _this = this;
                return _.isEmpty(hierarchyPaths) ? (0, of.of)(null) : (0, forkJoin.D)(_.map(hierarchyPaths, function(hierarchy) {
                    return _this.loadHierarchyItems(hierarchy.hierarchyId).pipe((0, filter.h)(function(hierarchyItems) {
                        return !!hierarchyItems;
                    }), (0, take.q)(1));
                })).pipe((0, map.U)(function() {
                    return (0, hierarchy_utils.qB)(hierarchyPaths, _this.hierarchyItems);
                }));
            }, GoalsHierarchyService.prototype.getHierarchyDisplayInfoObservable = function(hierarchyPaths$) {
                var _this = this;
                return (0, combineLatest.aj)([ hierarchyPaths$, this.hierarchies$ ]).pipe((0, map.U)(function(_a) {
                    return _this.getHierarchyDisplayInfo(_a[1], _a[0]);
                }), (0, shareReplay.d)({
                    bufferSize: 1,
                    refCount: !0
                }));
            }, GoalsHierarchyService.prototype.getHierarchyDisplayInfo = function(hierarchies, hierarchyPaths) {
                var displayLabel, allLabel = this.localization.get("All"), formattedPaths = _.map(hierarchyPaths, function(path) {
                    return (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, path), {
                        levels: path.levels.map(function(value) {
                            return (0, valueFormatter.WU)(value);
                        })
                    });
                }), pathsById = _.keyBy(formattedPaths, function(path) {
                    return path.hierarchyId;
                });
                if (!_.isEmpty(hierarchyPaths)) {
                    var finalLevels = _.map(hierarchies, function(hierarchy) {
                        var _a;
                        return _.last(null === (_a = pathsById[hierarchy.id]) || void 0 === _a ? void 0 : _a.levels);
                    });
                    displayLabel = _.join(_.compact(finalLevels), ", ");
                }
                var displayPaths = _.map(hierarchies, function(hierarchy) {
                    return _.has(pathsById, hierarchy.id) ? (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, pathsById[hierarchy.id]), {
                        hierarchyName: hierarchy.name
                    }) : {
                        hierarchyId: hierarchy.id,
                        hierarchyName: hierarchy.name,
                        levels: [ allLabel ]
                    };
                });
                return {
                    showingAll: _.isEmpty(hierarchyPaths),
                    displayLabel,
                    displayPaths
                };
            }, GoalsHierarchyService.prototype.formatHierarchyItemPath = function(path) {
                var _a;
                return (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, path), {
                    levels: path.levels.map(function(value) {
                        return (0, valueFormatter.WU)(value);
                    }),
                    hierarchyName: null === (_a = this.hierarchies.find(function(hierarchy) {
                        return hierarchy.id === path.hierarchyId;
                    })) || void 0 === _a ? void 0 : _a.name
                });
            }, GoalsHierarchyService.prototype.getActiveHierarchies = function(hierarchyPaths) {
                return _.intersectionWith(this.hierarchies, hierarchyPaths, function(hierarchy, path) {
                    return hierarchy.id === path.hierarchyId;
                });
            }, GoalsHierarchyService.prototype.isDatasetMappedToHierarchyPath = function(datasetId, hierarchyPaths) {
                if (_.isNil(datasetId) || _.isEmpty(hierarchyPaths)) return debug.fF.assertFail("Expected datasetId and hierarchyPaths to be defined"), 
                !1;
                var activeHierarchies = this.getActiveHierarchies(hierarchyPaths);
                return _.some(activeHierarchies, function(hierarchy) {
                    return _.some(hierarchy.connections, function(connection) {
                        return connection.datasetId === datasetId && _.some(connection.levels, function(level) {
                            return !!level.fieldExpr;
                        });
                    });
                });
            }, GoalsHierarchyService.prototype.isGoalOwnerMappedToHierarchy = function(goal, hierarchyPaths) {
                if (!goal.valueConnection && !goal.targetConnection || _.isEmpty(hierarchyPaths)) return !1;
                var activeHierarchies = this.getActiveHierarchies(hierarchyPaths);
                return _.some(activeHierarchies, function(hierarchy) {
                    var connectionToDataset = _.find(hierarchy.connections, function(connection) {
                        var _a, _b;
                        return connection.datasetId === (null === (_a = goal.valueConnection) || void 0 === _a ? void 0 : _a.datasetId) || connection.datasetId === (null === (_b = goal.targetConnection) || void 0 === _b ? void 0 : _b.datasetId);
                    });
                    return !!(null == connectionToDataset ? void 0 : connectionToDataset.ownerFieldExpr);
                });
            }, GoalsHierarchyService.prototype.gc = function() {
                var _this = this, ids = new Set(_.map(this.hierarchies, function(hierarchy) {
                    return hierarchy.id;
                })), newItems = (0, immer_esm.Uy)(this.hierarchyItems, function(hierarchyItems) {
                    for (var _i = 0, _a = Object.keys(_this.hierarchyItems); _i < _a.length; _i++) {
                        var hierarchyId = _a[_i];
                        ids.has(hierarchyId) || delete hierarchyItems[hierarchyId];
                    }
                });
                newItems !== this.hierarchyItems && this._hierarchyItems$.next(newItems);
            }, GoalsHierarchyService.\u0275fac = function(t) {
                return new (t || GoalsHierarchyService)(core["\u0275\u0275inject"](goalsHttpService.f), core["\u0275\u0275inject"](error_service.T), core["\u0275\u0275inject"](localization_service.o));
            }, GoalsHierarchyService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: GoalsHierarchyService,
                factory: GoalsHierarchyService.\u0275fac
            }), GoalsHierarchyService;
        }();
    },
    20930: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            N: function() {
                return GoalsTutorialService;
            }
        });
        var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60042), _telemetry_events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(14786), _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(50423), _powerbi_Localization__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65181), _powerbi_Tutorial__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(56083), GoalsTutorialService = function() {
            function GoalsTutorialService(localizationService, tutorialPopupService) {
                this.localizationService = localizationService, this.tutorialPopupService = tutorialPopupService;
            }
            return GoalsTutorialService.prototype.startFirstGoalTutorial = function() {
                this.tutorialPopupService.startTutorial(this.createFirstGoalTutorialModel());
            }, GoalsTutorialService.prototype.createFirstGoalTutorialModel = function() {
                var _a;
                return {
                    isSequentialTutorial: !0,
                    itemKeys: [ "ScorecardTutorialFirstGoalName", "ScorecardTutorialFirstGoalCurrent", "ScorecardTutorialFirstGoalTarget" ],
                    items: (_a = {}, _a.ScorecardTutorialFirstGoalName = {
                        title: this.localizationService.get("ScorecardTutorial_MetricName_Title"),
                        text: this.localizationService.get("ScorecardTutorial_MetricName_Text"),
                        buttonLabel: this.localizationService.get("TutorialPopup_Next"),
                        dataStoreKey: "ScorecardTutorialFirstGoalName",
                        canShow: function() {
                            return $(_constants__WEBPACK_IMPORTED_MODULE_0__.gT.ScorecardTutorial_FirstGoalNameSelector).length > 0;
                        },
                        attachTo: function() {
                            return $(_constants__WEBPACK_IMPORTED_MODULE_0__.gT.ScorecardTutorial_FirstGoalNameSelector);
                        },
                        offset: {
                            top: 0,
                            left: -10
                        }
                    }, _a.ScorecardTutorialFirstGoalCurrent = {
                        title: this.localizationService.get("ScorecardTutorial_MetricCurrent_Title"),
                        text: this.localizationService.get("ScorecardTutorial_MetricCurrent_Text"),
                        buttonLabel: this.localizationService.get("TutorialPopup_Next"),
                        dataStoreKey: "ScorecardTutorialFirstGoalCurrent",
                        canShow: function() {
                            return $(_constants__WEBPACK_IMPORTED_MODULE_0__.gT.ScorecardTutorial_FirstGoalCurrentSelector).length > 0;
                        },
                        attachTo: function() {
                            return $(_constants__WEBPACK_IMPORTED_MODULE_0__.gT.ScorecardTutorial_FirstGoalCurrentSelector);
                        },
                        offset: {
                            top: 0,
                            left: -10
                        }
                    }, _a.ScorecardTutorialFirstGoalTarget = {
                        title: this.localizationService.get("ScorecardTutorial_MetricTarget_Title"),
                        text: this.localizationService.get("ScorecardTutorial_MetricTarget_Text"),
                        buttonLabel: this.localizationService.get("Done_ButtonText"),
                        dataStoreKey: "ScorecardTutorialFirstGoalTarget",
                        canShow: function() {
                            return $(_constants__WEBPACK_IMPORTED_MODULE_0__.gT.ScorecardTutorial_FirstGoalTargetSelector).length > 0;
                        },
                        attachTo: function() {
                            return $(_constants__WEBPACK_IMPORTED_MODULE_0__.gT.ScorecardTutorial_FirstGoalTargetSelector);
                        },
                        offset: {
                            top: 0,
                            left: -10
                        }
                    }, _a)
                };
            }, GoalsTutorialService.prototype.startGoalRollupsTutorial = function() {
                this.tutorialPopupService.startTutorial(this.createGoalRollupsTutorialModel());
            }, GoalsTutorialService.prototype.createGoalRollupsTutorialModel = function() {
                var _a, selector = _constants__WEBPACK_IMPORTED_MODULE_0__.gT.ScorecardTutorial_GoalRollupSelector;
                return {
                    itemKeys: [ "GoalRollupsTutorial" ],
                    items: (_a = {}, _a.GoalRollupsTutorial = {
                        title: this.localizationService.get("TutorialPopup_MetricsRollupsTitle"),
                        text: this.localizationService.get("TutorialPopup_MetricsRollupsContent"),
                        buttonLabel: this.localizationService.get("TutorialPopup_GotIt"),
                        dataStoreKey: "GoalRollupsTutorial",
                        canShow: function() {
                            return !!$(selector);
                        },
                        attachTo: function() {
                            return $(selector);
                        },
                        preferredOrientation: "bottom",
                        telemetryEventArgs: [ _telemetry_events__WEBPACK_IMPORTED_MODULE_1__._9 ],
                        customClass: "goal-rollups-tutorial"
                    }, _a)
                };
            }, GoalsTutorialService.prototype.startGoalRollupsDetailsPaneTutorial = function() {
                this.tutorialPopupService.startTutorial(this.createGoalRollupsDetailsPaneTutorialModel());
            }, GoalsTutorialService.prototype.createGoalRollupsDetailsPaneTutorialModel = function() {
                var _a, selector = _constants__WEBPACK_IMPORTED_MODULE_0__.gT.ScorecardTutorial_GoalRollupDetailsPaneSelector;
                return {
                    itemKeys: [ "GoalRollupsDetailsPaneTutorial" ],
                    items: (_a = {}, _a.GoalRollupsDetailsPaneTutorial = {
                        title: this.localizationService.get("TutorialPopup_MetricsRollupsTitle_DetailsPane"),
                        text: this.localizationService.get("TutorialPopup_MetricsRollupsContent_DetailsPane"),
                        buttonLabel: this.localizationService.get("TutorialPopup_GotIt"),
                        dataStoreKey: "GoalRollupsDetailsPaneTutorial",
                        canShow: function() {
                            return !!$(selector);
                        },
                        attachTo: function() {
                            return $(selector);
                        },
                        learnMoreText: this.localizationService.get("LearnMore"),
                        learnMoreUrl: "https://learn.microsoft.com/en-us/power-bi/create-reports/service-metrics-submetrics#get-started-creating-rollups",
                        preferredOrientation: "right",
                        telemetryEventArgs: [ _telemetry_events__WEBPACK_IMPORTED_MODULE_1__.Fg ],
                        customClass: "show-goal-rollups-coachmark"
                    }, _a)
                };
            }, GoalsTutorialService.\u0275fac = function(t) {
                return new (t || GoalsTutorialService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275inject"](_powerbi_Localization__WEBPACK_IMPORTED_MODULE_3__.o), _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275inject"](_powerbi_Tutorial__WEBPACK_IMPORTED_MODULE_4__.yU));
            }, GoalsTutorialService.\u0275prov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["\u0275\u0275defineInjectable"]({
                token: GoalsTutorialService,
                factory: GoalsTutorialService.\u0275fac
            }), GoalsTutorialService;
        }();
    },
    93379: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            jL: function() {
                return CapabilityBuilder;
            },
            Nw: function() {
                return ScorecardCapabilityService;
            }
        });
        var scorecard_permissions_helper = __webpack_require__(70060), debug = __webpack_require__(62458), scorecard_helper = __webpack_require__(62831), scorecardHostService = __webpack_require__(60166), StandaloneUtility3 = __webpack_require__(43286), BehaviorSubject = __webpack_require__(35510), combineLatest = __webpack_require__(59017), of = __webpack_require__(11547), distinctUntilChanged = __webpack_require__(77526), map = __webpack_require__(14172), switchMap = __webpack_require__(81905), shareReplay = __webpack_require__(57243), core = __webpack_require__(50423), feature_switch_service = __webpack_require__(9380), scorecard_service = __webpack_require__(49803), group_store_service = __webpack_require__(19178), CapabilityBuilder = function() {
            function CapabilityBuilder(capability) {
                this.capability = capability, this.capability || (this.capability = {
                    enabled: !0,
                    disabledReasons: new Set
                });
            }
            return CapabilityBuilder.clone = function(capability) {
                return new CapabilityBuilder(_.cloneDeep(capability));
            }, CapabilityBuilder.prototype.disableIf = function(disable, disabledReason, disabledMessageKey) {
                return disable && (this.capability.enabled = !1, this.capability.disabledReasons.add(disabledReason), 
                disabledMessageKey && !this.capability.disabledMessageKey && (this.capability.disabledMessageKey = disabledMessageKey)), 
                new CapabilityBuilder(this.capability);
            }, CapabilityBuilder.prototype.disableWithMultiple = function(disabledReasons) {
                var _this = this;
                return this.capability.enabled = !1, disabledReasons.forEach(function(reason) {
                    return _this.capability.disabledReasons.add(reason);
                }), new CapabilityBuilder(this.capability);
            }, CapabilityBuilder.prototype.build = function() {
                return this.capability;
            }, CapabilityBuilder;
        }();
        function hasPermission(permissions, permission) {
            return (0, StandaloneUtility3.yE)(permissions, permission);
        }
        var scorecardPropsToCheck = [ "id", "permissions", "hierarchyPaths" ], ScorecardCapabilityService = function() {
            function ScorecardCapabilityService(featureSwitchService, scorecardService, groupStore, scorecardHost) {
                var _this = this;
                this.featureSwitchService = featureSwitchService, this.scorecardService = scorecardService, 
                this.groupStore = groupStore, this.scorecardHost = scorecardHost, this.capabilityInputs$ = new BehaviorSubject.X([ void 0, "List", !1 ]);
                var scorecard$ = this.scorecardService.getScorecard().pipe((0, distinctUntilChanged.x)(function(sc1, sc2) {
                    return !sc1 && !sc2 || !!sc1 && !!sc2 && _.every(scorecardPropsToCheck, function(prop) {
                        return _.isEqual(sc1[prop], sc2[prop]);
                    });
                })), isScorecardInPremiumWorkspace$ = scorecard$.pipe((0, map.U)(function(scorecard) {
                    return scorecard.groupId;
                }), (0, distinctUntilChanged.x)(), (0, switchMap.w)(function(groupId) {
                    return _this.groupStore.getGroupById(groupId || "me");
                }), (0, map.U)(function(group) {
                    return void 0 !== (null == group ? void 0 : group.capacitySkuTier) && 6 !== group.capacitySkuTier;
                }));
                this.inputSub = (0, combineLatest.aj)([ scorecard$, this.scorecardService.viewType$, isScorecardInPremiumWorkspace$ ]).subscribe(this.capabilityInputs$), 
                this.scorecardCapabilities$ = this.capabilityInputs$.pipe((0, map.U)(function(inputs) {
                    return _this.calculateScorecardCapabilities(inputs);
                }), (0, shareReplay.d)(1));
            }
            return ScorecardCapabilityService.prototype.ngOnDestroy = function() {
                this.inputSub.unsubscribe();
            }, ScorecardCapabilityService.prototype.getCurrentScorecardCapabilities = function() {
                return this.calculateScorecardCapabilities(this.capabilityInputs$.value);
            }, ScorecardCapabilityService.prototype.getScorecardCapabilities = function() {
                return this.scorecardCapabilities$;
            }, ScorecardCapabilityService.prototype.getCurrentGoalCapabilities = function(goal) {
                return _.isNil(goal) ? {} : this.calculateGoalCapabilities(goal, this.capabilityInputs$.value);
            }, ScorecardCapabilityService.prototype.getGoalCapabilities = function(goal) {
                var _this = this;
                return _.isNil(goal) ? (0, of.of)({}) : this.capabilityInputs$.pipe((0, map.U)(function(inputs) {
                    return _this.calculateGoalCapabilities(goal, inputs);
                }), (0, shareReplay.d)(1));
            }, ScorecardCapabilityService.prototype.getMultipleGoalCapabilities = function(goals) {
                var _this = this;
                return _.isEmpty(goals) ? (0, of.of)({}) : this.capabilityInputs$.pipe((0, map.U)(function(inputs) {
                    for (var capabilitiesList = _.map(goals, function(goal) {
                        return _this.calculateGoalCapabilities(goal, inputs);
                    }), refCapabilities = capabilitiesList[0], allCapabilities = {}, _loop_1 = function(capabilityKey) {
                        var key = capabilityKey, refCapability = refCapabilities[key];
                        if ("scorecardCapabilities" === key) allCapabilities[key] = refCapabilities.scorecardCapabilities; else if ("boolean" == typeof refCapability) allCapabilities[key] = _.every(capabilitiesList, function(capabilities) {
                            return capabilities[key];
                        }); else if ("enabled" in refCapability) {
                            for (var result = new CapabilityBuilder, _b = 0, capabilitiesList_1 = capabilitiesList; _b < capabilitiesList_1.length; _b++) {
                                var capability = capabilitiesList_1[_b][key];
                                capability.enabled || result.disableWithMultiple(capability.disabledReasons);
                            }
                            allCapabilities[key] = result.build();
                        } else debug.fF.assertFail("Unexpected type for key ".concat(key, " when getting multiple goal capabilities"));
                    }, _i = 0, _a = _.keys(refCapabilities); _i < _a.length; _i++) _loop_1(_a[_i]);
                    return allCapabilities;
                }), (0, shareReplay.d)(1));
            }, ScorecardCapabilityService.prototype.calculateScorecardCapabilities = function(_a) {
                var scorecard = _a[0], scorecardViewType = _a[1], inPremiumWorkspace = _a[2], capabilities = {}, hasScorecardWritePermission = hasPermission((0, 
                scorecard_permissions_helper.l)(null == scorecard ? void 0 : scorecard.permissions), 2), isHierarchicalScorecard = !_.isEmpty(null == scorecard ? void 0 : scorecard.hierarchyPaths), isListView = "List" === scorecardViewType;
                return capabilities.customizeStatus = this.featureSwitchService.featureSwitches.goalsCustomizeStatus && hasScorecardWritePermission, 
                capabilities.createGoal = (new CapabilityBuilder).disableIf(!hasScorecardWritePermission, "NoWritePermission", "Metrics_Tooltip_NoPermission").disableIf(isHierarchicalScorecard, "Hierarchical", "Metrics_Tooltip_Create_Metric_Disabled_Hierarchical").disableIf(!isListView, "UnsupportedView", "Metrics_Tooltip_Create_Metric_Disabled_UnsupportedView").build(), 
                capabilities.createLinkedGoal = (new CapabilityBuilder).disableIf(!hasScorecardWritePermission, "NoWritePermission", "Metrics_Tooltip_NoPermission").disableIf(isHierarchicalScorecard, "Hierarchical", "Metrics_Tooltip_Create_Metric_Disabled_Hierarchical").disableIf("Heatmap" === scorecardViewType, "UnsupportedView", "Metrics_Tooltip_Create_Metric_Disabled_UnsupportedView").build(), 
                capabilities.deleteGoal = hasScorecardWritePermission && !isHierarchicalScorecard, 
                capabilities.reorderGoal = this.featureSwitchService.featureSwitches.powerBIGoalsDragAndDrop && hasScorecardWritePermission && !isHierarchicalScorecard && isListView, 
                capabilities.editHierarchies = (new CapabilityBuilder).disableIf(!hasScorecardWritePermission, "NoWritePermission", "MetricsHierarchy_NoPermission").disableIf(!inPremiumWorkspace && this.featureSwitchService.featureSwitches.scorecardHierarchiesPremium, "NoPremiumWorkspace", "MetricsHierarchy_NotAllowedInShared").build(), 
                capabilities.editHeatmap = hasScorecardWritePermission, capabilities;
            }, ScorecardCapabilityService.prototype.calculateGoalCapabilities = function(goal, inputs) {
                var _a, _b, capabilities = {
                    scorecardCapabilities: this.calculateScorecardCapabilities(inputs)
                }, scorecard = inputs[0], scorecardViewType = inputs[1], goalPermissions = goal.isNew ? 31 : function(permission) {
                    if (_.isNil(permission)) return 0;
                    if (!isNaN(permission)) return Number(permission);
                    switch (permission.toString().trim().toLowerCase()) {
                      case "none":
                        return 0;

                      case "view":
                        return 1;

                      case "updatecurrentvalue":
                        return 3;

                      case "updatetargetvalue":
                        return 5;

                      case "updatenotes":
                        return 9;

                      case "updatestatus":
                        return 17;

                      case "updatevalues":
                        return 7;

                      case "all":
                        return 31;

                      default:
                        debug.fF.assertValue(permission, "can't cast GoalPermission value");
                    }
                }(goal.permissions), hasScorecardWritePermission = hasPermission((0, scorecard_permissions_helper.l)(null == scorecard ? void 0 : scorecard.permissions), 2), isCategorical = !!goal.valuesCategoryId, hasMultipleTargets = (null === (_b = null === (_a = goal.aggregations) || void 0 === _a ? void 0 : _a.find(function(aggregation) {
                    return "NumberOfTargets" === aggregation.type;
                })) || void 0 === _b ? void 0 : _b.value) > 1, isHierarchicalScorecard = !_.isEmpty(null == scorecard ? void 0 : scorecard.hierarchyPaths), isSampleScorecard = scorecard_helper.q.isSampleScorecard(scorecard), isLinkedHierarchical = isHierarchicalScorecard && goal.isLinked, isListView = "List" === scorecardViewType;
                capabilities.selectGoal = this.scorecardHost ? this.scorecardHost.canSelectGoal(goal) : {
                    enabled: !0
                }, capabilities.editGoal = (new CapabilityBuilder).disableIf(!hasScorecardWritePermission, "NoWritePermission", "Metrics_Tooltip_NoPermission").disableIf(goal.isLinked, "LinkedMetric", "Metrics_Tooltip_Edit_Metric_Disabled_Linked").disableIf(!isListView, "UnsupportedView", "Metrics_Tooltip_Edit_Metric_Disabled_UnsupportedView").build();
                var canEditGoalMetadata = hasScorecardWritePermission && !goal.isLinked && !isHierarchicalScorecard;
                capabilities.editName = canEditGoalMetadata, capabilities.editStartDate = canEditGoalMetadata, 
                capabilities.editDueDate = canEditGoalMetadata, capabilities.editStatusRules = canEditGoalMetadata, 
                capabilities.editPeriodicity = canEditGoalMetadata, capabilities.connectCurrentValueToData = canEditGoalMetadata, 
                capabilities.connectTargetValueToData = canEditGoalMetadata, capabilities.changeValueFormat = canEditGoalMetadata, 
                capabilities.editOwners = canEditGoalMetadata, capabilities.deleteGoal = capabilities.scorecardCapabilities.deleteGoal, 
                capabilities.createSubgoal = capabilities.scorecardCapabilities.createGoal, capabilities.editStatus = hasPermission(goalPermissions, 17) && !isLinkedHierarchical && !goal.hasStatusRules, 
                capabilities.addNotes = hasPermission(goalPermissions, 9) && !isLinkedHierarchical;
                var canEditCurrentValue = hasPermission(goalPermissions, 3) && !isLinkedHierarchical && !goal.valueConnection && !goal.valueRollup;
                capabilities.editCurrentValue = canEditCurrentValue, capabilities.editMultipleValues = canEditCurrentValue && !isCategorical && !isHierarchicalScorecard && !goal.isLinked;
                var canEditTarget = hasPermission(goalPermissions, 5) && !goal.isLinked;
                return capabilities.editTargetValue = canEditTarget && !goal.targetConnection && !goal.targetRollup && !hasMultipleTargets, 
                capabilities.editMultipleTargets = canEditTarget && (!!this.featureSwitchService.featureSwitches.goalsRollups || !goal.targetConnection && !goal.targetRollup) && (!isCategorical || hasMultipleTargets) && !isHierarchicalScorecard, 
                capabilities.deleteCheckIn = hasScorecardWritePermission, capabilities.followGoal = this.featureSwitchService.featureSwitches.goalsFavoriteGoals && !isSampleScorecard && !isHierarchicalScorecard, 
                capabilities.useCategoricalValues = !!this.featureSwitchService.featureSwitches.goalsCategoricalValues && (!hasMultipleTargets || isCategorical) && !goal.valueRollup && !goal.targetRollup && !goal.valueConnection && !goal.targetConnection, 
                capabilities.supportMultipleTargetsEditing = !!this.featureSwitchService.featureSwitches.powerBIGoalsMultipleTargets, 
                capabilities.supportMultipleValuesEditing = !!this.featureSwitchService.featureSwitches.goalsMultipleValuesEditor, 
                capabilities.supportsRollup = !!this.featureSwitchService.featureSwitches.goalsRollups, 
                capabilities.editCalculationType = canEditGoalMetadata, capabilities.usePickerRollup = capabilities.editCalculationType && !isCategorical, 
                capabilities;
            }, ScorecardCapabilityService.\u0275fac = function(t) {
                return new (t || ScorecardCapabilityService)(core["\u0275\u0275inject"](feature_switch_service.vZ), core["\u0275\u0275inject"](scorecard_service.G), core["\u0275\u0275inject"](group_store_service.Y), core["\u0275\u0275inject"](scorecardHostService.M, 8));
            }, ScorecardCapabilityService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: ScorecardCapabilityService,
                factory: ScorecardCapabilityService.\u0275fac
            }), ScorecardCapabilityService;
        }();
    },
    62831: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            q: function() {
                return ScorecardHelper;
            }
        });
        var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81337), _helpers_date_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(44603), _powerbi_legacy_JsCommon_telemetry_powerbi_userInfo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(4444), _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62458), _powerbi_legacy_PowerBIVisuals_VisualsCommon_Utility_Utility__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(38078), ScorecardHelper = function() {
            function ScorecardHelper() {}
            return ScorecardHelper.isSampleScorecard = function(scorecard) {
                return "00000000-0000-0000-0000-000000000000" === scorecard.id;
            }, ScorecardHelper.getGoalCreateRequest = function(goal) {
                var _a;
                return _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(goal, "goal"), 
                {
                    name: goal.name,
                    completionDate: goal.completionDate,
                    owner: goal.owner,
                    additionalOwners: goal.additionalOwners,
                    parentId: null !== (_a = goal.parentId) && void 0 !== _a ? _a : null,
                    startDate: goal.startDate,
                    unit: goal.unit,
                    datesFormatString: goal.datesFormatString,
                    valuesFormatString: goal.valuesFormatString,
                    valuesCategoryId: goal.valuesCategoryId
                };
            }, ScorecardHelper.getGoalUpdateRequest = function(goal) {
                var _a;
                return _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(goal, "goal"), 
                {
                    name: goal.name,
                    completionDate: goal.completionDate,
                    owner: goal.owner,
                    additionalOwners: goal.additionalOwners,
                    parentId: null !== (_a = goal.parentId) && void 0 !== _a ? _a : null,
                    startDate: goal.startDate,
                    unit: goal.unit,
                    datesFormatString: goal.datesFormatString,
                    valuesFormatString: goal.valuesFormatString,
                    description: goal.description,
                    cycle: goal.cycle,
                    cyclePeriod: goal.cyclePeriod,
                    valuesCategoryId: goal.valuesCategoryId,
                    metadata: goal.metadata,
                    cycleMetadata: goal.cycleMetadata
                };
            }, ScorecardHelper.getGoalValueCreateRequest = function(goalValue) {
                return _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(goalValue, "goalValue"), 
                {
                    timestamp: goalValue.timestamp,
                    value: goalValue.value,
                    target: goalValue.target,
                    trend: goalValue.trend,
                    forecast: goalValue.forecast,
                    status: goalValue.status
                };
            }, ScorecardHelper.getGoalValueUpdateRequest = function(goalValue) {
                return _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(goalValue, "goalValue"), 
                {
                    value: goalValue.value,
                    target: goalValue.target,
                    trend: goalValue.trend,
                    forecast: goalValue.forecast,
                    status: goalValue.status
                };
            }, ScorecardHelper.getGoalStatusRulesUpdateRequest = function(statusRules) {
                return _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(statusRules, "statusRules"), 
                {
                    rules: _.map(statusRules.rules, function(rule) {
                        return function(rule) {
                            return {
                                conditions: _.map(rule.conditions, function(condition) {
                                    return function(condition) {
                                        return {
                                            fieldComparison: (comparison = condition.fieldComparison, {
                                                field: comparison.field,
                                                operator: comparison.operator,
                                                value: (value = comparison.value, {
                                                    dateTime: value.dateTime,
                                                    field: value.field,
                                                    number: value.number,
                                                    percentOf: value.percentOf ? {
                                                        field: value.percentOf.field,
                                                        percent: value.percentOf.percent
                                                    } : void 0
                                                })
                                            }),
                                            expression: condition.expression
                                        };
                                        var comparison, value;
                                    }(condition);
                                }),
                                output: rule.output
                            };
                        }(rule);
                    }),
                    defaultOutput: statusRules.defaultOutput
                };
            }, ScorecardHelper.isGoalMetadataUpdated = function(value, newValue) {
                return !_.isEqual(ScorecardHelper.getGoalUpdateRequest(value), ScorecardHelper.getGoalUpdateRequest(newValue));
            }, ScorecardHelper.createNewGoal = function(owner, scorecardId, parentGoalId) {
                _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(owner, "owner"), 
                _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(scorecardId, "scorecardId");
                var now = new Date, currentDateISO = _helpers_date_utils__WEBPACK_IMPORTED_MODULE_1__.E.getCurrentUTCDay().toISOString(), completionDate = _helpers_date_utils__WEBPACK_IMPORTED_MODULE_1__.E.getCurrentLocalDay();
                completionDate.setMonth(completionDate.getMonth() + 1);
                var completionDateISO = _helpers_date_utils__WEBPACK_IMPORTED_MODULE_1__.E.treatAsUTCDate(completionDate).toISOString();
                return {
                    name: null,
                    id: "new-".concat(_powerbi_legacy_PowerBIVisuals_VisualsCommon_Utility_Utility__WEBPACK_IMPORTED_MODULE_2__.b$.generateGuid()),
                    scorecardId,
                    createdTime: now.toISOString(),
                    lastModifiedBy: owner,
                    lastModifiedTime: now.toISOString(),
                    owner,
                    additionalOwners: [],
                    startDate: currentDateISO,
                    completionDate: completionDateISO,
                    unit: 0,
                    parentId: null != parentGoalId ? parentGoalId : null,
                    goalValues: [],
                    subGoals: [],
                    isNew: !0,
                    state: "Editing",
                    valuesCategoryId: null,
                    isExpanded: !0
                };
            }, ScorecardHelper.getGoal = function(goals, id) {
                return this.findGoal(goals, function(goal) {
                    return goal.id === id;
                });
            }, ScorecardHelper.buildGoalTree = function(goals) {
                for (var map = {}, _i = 0, goals_1 = goals; _i < goals_1.length; _i++) map[(goal = goals_1[_i]).id] = goal;
                for (var result = [], _a = 0, goals_2 = goals; _a < goals_2.length; _a++) {
                    var goal;
                    if ((goal = goals_2[_a]).parentId && map[goal.parentId]) {
                        var parentGoal = map[goal.parentId];
                        parentGoal.subGoals ? parentGoal.subGoals.push(goal) : parentGoal.subGoals = [ goal ];
                    } else result.push(goal);
                }
                return result;
            }, ScorecardHelper.findGoal = function(goals, predicate) {
                if (_.some(goals)) {
                    var goal = _.find(goals, function(goal) {
                        return predicate(goal);
                    });
                    if (goal) return goal;
                    for (var _i = 0, goals_3 = goals; _i < goals_3.length; _i++) if (goal = this.findGoal(goals_3[_i].subGoals, predicate)) return goal;
                }
                return null;
            }, ScorecardHelper.forEachGoal = function(goals, action) {
                if (_.some(goals)) for (var _i = 0, goals_4 = goals; _i < goals_4.length; _i++) {
                    var goal = goals_4[_i];
                    action(goal), this.forEachGoal(null == goal ? void 0 : goal.subGoals, action);
                }
            }, ScorecardHelper.countSubGoals = function(goal, filterPredicate) {
                var _this = this;
                return void 0 === filterPredicate && (filterPredicate = function() {
                    return !0;
                }), _.isEmpty(null == goal ? void 0 : goal.subGoals) ? 0 : goal.subGoals.filter(filterPredicate).length + goal.subGoals.reduce(function(currentCount, nextGoal) {
                    return currentCount + _this.countSubGoals(nextGoal, filterPredicate);
                }, 0);
            }, ScorecardHelper.flattenGoals = function(goals) {
                return function flatten(goals) {
                    return _.flatMap(goals, function(goal) {
                        return (0, tslib__WEBPACK_IMPORTED_MODULE_3__.__spreadArray)([ goal ], flatten(goal.subGoals), !0);
                    });
                }(goals);
            }, ScorecardHelper.filterGoals = function(goals, predicate) {
                return _.filter(this.flattenGoals(goals), predicate);
            }, ScorecardHelper.mapGoals = function(goals, predicate) {
                return _.map(this.flattenGoals(goals), predicate);
            }, ScorecardHelper.anyGoals = function(goals, predicate) {
                var _a;
                if (_.some(goals)) for (var _i = 0, goals_5 = goals; _i < goals_5.length; _i++) {
                    var goal = goals_5[_i];
                    if (predicate(goal) || this.anyGoals(null !== (_a = goal.subGoals) && void 0 !== _a ? _a : [], predicate)) return !0;
                }
                return !1;
            }, ScorecardHelper.computeGoalHeight = function(goal) {
                return _.isEmpty(null == goal ? void 0 : goal.subGoals) ? 0 : Math.max.apply(Math, goal.subGoals.map(function(subGoal) {
                    return 1 + ScorecardHelper.computeGoalHeight(subGoal);
                }));
            }, ScorecardHelper.computeGoalLevel = function(topLevelGoals, goal) {
                for (var level = 0, ancestor = goal; ancestor; ) level++, ancestor = ancestor.parentId ? ScorecardHelper.getGoal(topLevelGoals, ancestor.parentId) : void 0;
                return level - 1;
            }, ScorecardHelper.filterGoalsAndReassignParents = function(goals, predicate) {
                var flatten = function flatten(goal, lastValidAncestorId) {
                    var list = [], parentId = lastValidAncestorId;
                    return predicate(goal) && (list.push((0, tslib__WEBPACK_IMPORTED_MODULE_3__.__assign)((0, 
                    tslib__WEBPACK_IMPORTED_MODULE_3__.__assign)({}, goal), {
                        parentId: lastValidAncestorId
                    })), parentId = goal.id), _.concat(list, _.flatMap(goal.subGoals, function(subGoal) {
                        return flatten(subGoal, parentId);
                    }));
                };
                return _.flatMap(goals, function(goal) {
                    return flatten(goal);
                });
            }, ScorecardHelper.isEditing = function(scorecard) {
                return !!ScorecardHelper.findGoal(null == scorecard ? void 0 : scorecard.goals, function(goal) {
                    return !!goal.isNew || "Editing" === goal.state;
                });
            }, ScorecardHelper.isDarkMode = function() {
                return window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
            }, ScorecardHelper.getCurrentUser = function() {
                var _a;
                return null === (_a = (0, _powerbi_legacy_JsCommon_telemetry_powerbi_userInfo__WEBPACK_IMPORTED_MODULE_4__.bG)()) || void 0 === _a ? void 0 : _a.name;
            }, ScorecardHelper.isCurrentUser = function(upn) {
                var currentUser = ScorecardHelper.getCurrentUser();
                return currentUser && upn && (0, _powerbi_legacy_PowerBIVisuals_VisualsCommon_Utility_Utility__WEBPACK_IMPORTED_MODULE_2__.vr)(currentUser, upn);
            }, ScorecardHelper.compareGoalQueryConnections = function(a, b) {
                return _.isEqual(null == a ? void 0 : a.query, null == b ? void 0 : b.query) && _.isEqual(null == a ? void 0 : a.datasetId, null == b ? void 0 : b.datasetId) && _.isEqual(null == a ? void 0 : a.reportUrl, null == b ? void 0 : b.reportUrl);
            }, ScorecardHelper.getGoalValueCategoriesCreateRequest = function(categoricalValues) {
                return _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(!_.isEmpty(categoricalValues), "getGoalValueCategoriesCreateRequest categoricalValues"), 
                {
                    name: "",
                    categories: _.map(categoricalValues, function(value, index) {
                        return {
                            id: index,
                            displayName: value
                        };
                    })
                };
            }, ScorecardHelper.getGoalValueCategoriesUpdateRequest = function(categoryList) {
                return _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assertValue(categoryList, "getGoalValueCategoriesUpdateRequest categoryList"), 
                {
                    name: categoryList.name,
                    categories: categoryList.categories
                };
            }, ScorecardHelper.getGoalOwners = function(goals) {
                if (_.some(goals)) {
                    var users = {};
                    return function getUsers_1(input, result) {
                        if (_.some(input)) for (var _i = 0, input_1 = input; _i < input_1.length; _i++) {
                            var g = input_1[_i];
                            if (g.owner && (result[g.owner] = {
                                displayName: void 0,
                                userPrincipalName: g.owner,
                                objectId: void 0,
                                objectType: 3,
                                isSecurityGroup: void 0
                            }), _.some(g.additionalOwners)) for (var _a = 0, _b = g.additionalOwners; _a < _b.length; _a++) {
                                var owner = _b[_a];
                                owner.userPrincipalName && (result[owner.userPrincipalName] = {
                                    displayName: void 0,
                                    userPrincipalName: owner.userPrincipalName,
                                    objectId: void 0,
                                    objectType: 3,
                                    isSecurityGroup: void 0
                                });
                            }
                            getUsers_1(g.subGoals, result);
                        }
                    }(goals, users), _.values(users);
                }
                return [];
            }, ScorecardHelper.observeAndRemoveFocusableAttributes = function(nativeElement) {
                if (nativeElement) {
                    var observer = new MutationObserver(function(mutations) {
                        _.some(mutations, function(m) {
                            var _a;
                            return (null === (_a = m.addedNodes) || void 0 === _a ? void 0 : _a.length) > 0;
                        }) && function update_1(e) {
                            e && (e.removeAttribute("tabindex"), e.removeAttribute("focusable"), _.forEach(e.children, update_1));
                        }(nativeElement);
                    });
                    return observer.observe(nativeElement, {
                        attributeFilter: [ "tabindex", "focusable" ],
                        characterData: !1,
                        childList: !0,
                        subtree: !0
                    }), observer;
                }
                return null;
            }, ScorecardHelper.getGoalsWithRollups = function(topLevelGoals, goalId, type) {
                for (var goal, goals = []; goalId && null != (goal = ScorecardHelper.getGoal(topLevelGoals, goalId)) && !0 !== goal.isLinked && (goalId = goal.parentId, 
                1 === type && null != goal.valueRollup || 2 === type && null != goal.targetRollup); ) goals.push(goal);
                return goals;
            }, ScorecardHelper;
        }();
    },
    32027: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            w: function() {
                return ScorecardViewsService;
            }
        });
        var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(81337), _powerbi_InjectionTokens_goalsHttpService__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(58614), rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(35510), rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(59973), rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(77526), rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(14172), rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(57243), _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(50423), _scorecard_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(49803), _goals_error_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(99327), ScorecardViewsService = function() {
            function ScorecardViewsService(goalsHttpService, scorecardService, goalsErrorService) {
                this.goalsHttpService = goalsHttpService, this.scorecardService = scorecardService, 
                this.goalsErrorService = goalsErrorService, this._viewsById$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.X(null), 
                this._isSaving$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.X(!1), this._isLoading$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.X(!1), 
                this.isLoading$ = this._isLoading$, this.isSaving$ = this._isSaving$, this.views$ = this._viewsById$.pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.h)(function(views) {
                    return !!views;
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.x)(), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.U)(function(views) {
                    return _.values(views);
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.d)({
                    bufferSize: 1,
                    refCount: !0
                }));
            }
            return Object.defineProperty(ScorecardViewsService.prototype, "defaultListView", {
                get: function() {
                    return _.find(this._viewsById$.value, function(value) {
                        return value.isDefault && "List" === value.viewType;
                    });
                },
                enumerable: !1,
                configurable: !0
            }), ScorecardViewsService.prototype.getDefaultView = function(type) {
                return this.views$.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.U)(function(views) {
                    return _.find(views, function(view) {
                        return view.isDefault && view.viewType === type;
                    });
                }));
            }, ScorecardViewsService.prototype.loadViews = function(reload) {
                return void 0 === reload && (reload = !1), (0, tslib__WEBPACK_IMPORTED_MODULE_5__.__awaiter)(this, void 0, void 0, function() {
                    var scorecard, views;
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_5__.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            if (scorecard = this.scorecardService.getCurrentScorecard(), !reload && null !== this._viewsById$.value || this._isLoading$.value) return [ 2 ];
                            this._isLoading$.next(!0), _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, , 3, 4 ]), [ 4, this.goalsHttpService.getScorecardViews(scorecard.groupId, scorecard.id).toPromise() ];

                          case 2:
                            return views = _a.sent(), this._viewsById$.next(_.keyBy(views, function(view) {
                                return view.id;
                            })), [ 3, 4 ];

                          case 3:
                            return this._isLoading$.next(!1), [ 7 ];

                          case 4:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardViewsService.prototype.saveView = function(view) {
                return (0, tslib__WEBPACK_IMPORTED_MODULE_5__.__awaiter)(this, void 0, void 0, function() {
                    var scorecard, error_1;
                    return (0, tslib__WEBPACK_IMPORTED_MODULE_5__.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return scorecard = this.scorecardService.getCurrentScorecard(), [ 4, this.loadViews() ];

                          case 1:
                            _a.sent(), this._isSaving$.next(!0), _a.label = 2;

                          case 2:
                            return _a.trys.push([ 2, 8, 9, 10 ]), this._viewsById$.value[view.id] ? [ 4, this.goalsHttpService.updateScorecardView(scorecard.groupId, scorecard.id, view).toPromise() ] : [ 3, 4 ];

                          case 3:
                            return _a.sent(), [ 3, 6 ];

                          case 4:
                            return [ 4, this.goalsHttpService.createScorecardView(scorecard.groupId, scorecard.id, view).toPromise() ];

                          case 5:
                            _a.sent(), _a.label = 6;

                          case 6:
                            return [ 4, this.loadViews(!0) ];

                          case 7:
                            return _a.sent(), [ 3, 10 ];

                          case 8:
                            return error_1 = _a.sent(), this.goalsErrorService.showUserError(error_1, "SaveViewError"), 
                            [ 3, 10 ];

                          case 9:
                            return this._isSaving$.next(!1), [ 7 ];

                          case 10:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardViewsService.prototype.clearCache = function() {
                this._viewsById$.next(null);
            }, ScorecardViewsService.\u0275fac = function(t) {
                return new (t || ScorecardViewsService)(_angular_core__WEBPACK_IMPORTED_MODULE_6__["\u0275\u0275inject"](_powerbi_InjectionTokens_goalsHttpService__WEBPACK_IMPORTED_MODULE_7__.f), _angular_core__WEBPACK_IMPORTED_MODULE_6__["\u0275\u0275inject"](_scorecard_service__WEBPACK_IMPORTED_MODULE_8__.G), _angular_core__WEBPACK_IMPORTED_MODULE_6__["\u0275\u0275inject"](_goals_error_service__WEBPACK_IMPORTED_MODULE_9__.X));
            }, ScorecardViewsService.\u0275prov = _angular_core__WEBPACK_IMPORTED_MODULE_6__["\u0275\u0275defineInjectable"]({
                token: ScorecardViewsService,
                factory: ScorecardViewsService.\u0275fac
            }), ScorecardViewsService;
        }();
    },
    49803: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            G: function() {
                return ScorecardService;
            }
        });
        var tslib_es6 = __webpack_require__(81337), scorecard_permissions_helper = __webpack_require__(70060), scorecard_sort_helper = __webpack_require__(77695), goal_status_helper = __webpack_require__(57535), constants = __webpack_require__(60042), date_utils = __webpack_require__(44603), goal_helper = __webpack_require__(125), scorecard_column_settings_helper = __webpack_require__(61088), HttpErrorCodes = function() {
            function HttpErrorCodes() {}
            return HttpErrorCodes.ManuallyUpdatingConnectedGoalValueNotAllowed = "ManuallyUpdatingConnectedGoalValueNotAllowed", 
            HttpErrorCodes.ManuallyUpdatingConnectedMetricValueNotAllowed = "ManuallyUpdatingConnectedMetricValueNotAllowed", 
            HttpErrorCodes.MultiGeoNotSupported = "MultiGeoNotSupported", HttpErrorCodes.InvalidScorecardColumnSetting = "InvalidScorecardColumnSetting", 
            HttpErrorCodes.CircularRelationshipsNotAllowed = "CircularRelationshipsNotAllowed", 
            HttpErrorCodes;
        }(), scorecard_helper = __webpack_require__(62831), debug = __webpack_require__(62458), Subject = __webpack_require__(30794), observable_of = __webpack_require__(11547), scan = __webpack_require__(18353), operators_mergeMap = __webpack_require__(42195), delay = __webpack_require__(70032), operators_take = __webpack_require__(48787), PollingService = function() {
            function PollingService(scorecardService) {
                var _a, _this = this;
                this.scorecardService = scorecardService, this.MinPollingInterval = 200, this.MaxPollingInterval = 4e3, 
                this.MaxPollingRequests = 40, this.PollingDelay = function(count) {
                    return _this.MinPollingInterval + (_this.MaxPollingInterval - _this.MinPollingInterval) * count / _this.MaxPollingRequests;
                }, this.ConnectionTypeAsText = ((_a = {})[1] = "Current", _a[2] = "Target", _a);
            }
            return PollingService.prototype.startPollingAsync = function(goal, valueType, options) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var lastRefreshTimestamp, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            if (this.setGoalRefreshState(goal.id, valueType, !0), null != (lastRefreshTimestamp = null == options ? void 0 : options.lastRefreshTimestamp)) return [ 3, 4 ];
                            _b.label = 1;

                          case 1:
                            return _b.trys.push([ 1, 3, , 4 ]), [ 4, this.getLastRefreshTimestamp(goal.id, valueType) ];

                          case 2:
                            return lastRefreshTimestamp = _b.sent(), [ 3, 4 ];

                          case 3:
                            return _b.sent(), this.setGoalRefreshState(goal.id, valueType, !1), [ 2 ];

                          case 4:
                            return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                                var polling$_1, throttle$, currentRefreshTimestamp_1, _a, _this = this;
                                return (0, tslib_es6.__generator)(this, function(_b) {
                                    switch (_b.label) {
                                      case 0:
                                        return _b.trys.push([ 0, , 9, 10 ]), polling$_1 = new Subject.xQ, (throttle$ = polling$_1.pipe((0, 
                                        scan.R)(function(acc) {
                                            return acc + 1;
                                        }, -1), (0, operators_mergeMap.zg)(function(count) {
                                            return (0, observable_of.of)(void 0).pipe((0, delay.g)(_this.PollingDelay(count)));
                                        }), (0, operators_take.q)(this.MaxPollingRequests))).subscribe(function() {
                                            return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                                                return (0, tslib_es6.__generator)(this, function(_a) {
                                                    switch (_a.label) {
                                                      case 0:
                                                        return [ 4, this.getLastRefreshTimestamp(goal.id, valueType) ];

                                                      case 1:
                                                        return currentRefreshTimestamp_1 = _a.sent(), lastRefreshTimestamp === currentRefreshTimestamp_1 ? polling$_1.next() : (debug.fF.assertValue(currentRefreshTimestamp_1 > lastRefreshTimestamp, "Expected new refresh history count to be higher"), 
                                                        polling$_1.complete()), [ 2 ];
                                                    }
                                                });
                                            });
                                        }), polling$_1.next(), [ 4, throttle$.toPromise() ];

                                      case 1:
                                        return _b.sent(), (null == options ? void 0 : options.refreshGoal) ? [ 4, this.scorecardService.refreshGoal(goal.id) ] : [ 3, 3 ];

                                      case 2:
                                        _b.sent(), _b.label = 3;

                                      case 3:
                                        return (null == options ? void 0 : options.refreshGoalValues) ? [ 4, this.scorecardService.expandGoalValues(goal.id, !0) ] : [ 3, 5 ];

                                      case 4:
                                        _b.sent(), _b.label = 5;

                                      case 5:
                                        return (null == options ? void 0 : options.refreshRollups) && goal.parentId ? [ 4, this.startRollupPolling(goal.parentId, valueType, currentRefreshTimestamp_1) ] : [ 3, 7 ];

                                      case 6:
                                        _b.sent(), _b.label = 7;

                                      case 7:
                                        return [ 4, null === (_a = null == options ? void 0 : options.onComplete) || void 0 === _a ? void 0 : _a.call(options, currentRefreshTimestamp_1) ];

                                      case 8:
                                        return _b.sent(), [ 3, 10 ];

                                      case 9:
                                        return this.setGoalRefreshState(goal.id, valueType, !1), [ 7 ];

                                      case 10:
                                        return [ 2 ];
                                    }
                                });
                            }), [ 2 ];
                        }
                    });
                });
            }, PollingService.prototype.refreshRollups = function(goal, goalValues) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var promises, scorecard, parentGoal, forceRefreshValueRollups, forceRefreshTargetRollups, _loop_1, this_1, _i, goalValues_1;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            if (!goal.parentId || null != goal.valuesCategoryId) return [ 3, 2 ];
                            if (promises = [], scorecard = this.scorecardService.getCurrentScorecard(), !(parentGoal = scorecard_helper.q.getGoal(scorecard.goals, goal.parentId))) return [ 3, 2 ];
                            for (forceRefreshValueRollups = !1, forceRefreshTargetRollups = !1, _loop_1 = function(goalValue) {
                                var goalValueTimestamp = new Date(goalValue.timestamp).getTime(), existingGoalValue = _.find(goal.goalValues, function(value) {
                                    return new Date(value.timestamp).getTime() === goalValueTimestamp;
                                });
                                if (this_1.isPartOfParentGoalRollup(parentGoal.valueRollup, goalValue) && (forceRefreshValueRollups || (forceRefreshValueRollups = (null == existingGoalValue ? void 0 : existingGoalValue.value) !== goalValue.value)), 
                                this_1.isPartOfParentGoalRollup(parentGoal.targetRollup, goalValue) && (forceRefreshTargetRollups || (forceRefreshTargetRollups = (null == existingGoalValue ? void 0 : existingGoalValue.target) !== goalValue.target)), 
                                forceRefreshValueRollups && forceRefreshTargetRollups) return "break";
                            }, this_1 = this, _i = 0, goalValues_1 = goalValues; _i < goalValues_1.length && "break" !== _loop_1(goalValues_1[_i]); _i++) ;
                            return forceRefreshValueRollups && promises.push(this.startRollupPolling(goal.parentId, 1)), 
                            forceRefreshTargetRollups && promises.push(this.startRollupPolling(goal.parentId, 2)), 
                            _.some(promises) ? [ 4, Promise.all(promises) ] : [ 3, 2 ];

                          case 1:
                            _a.sent(), _a.label = 2;

                          case 2:
                            return [ 2 ];
                        }
                    });
                });
            }, PollingService.prototype.refreshRollupsAfterMove = function(moveGoalRequest) {
                var _a;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var scorecard, currentParents, targetParents, oldParentId, newParentId, current_tmp, target_tmp;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            return scorecard = this.scorecardService.getCurrentScorecard(), null != scorecard_helper.q.getGoal(scorecard.goals, moveGoalRequest.goalToMove.goalId).valuesCategoryId ? [ 2 ] : (currentParents = [], 
                            targetParents = [], null != moveGoalRequest.goalToMove.currentParentId && (currentParents.push.apply(currentParents, scorecard_helper.q.getGoalsWithRollups(scorecard.goals, oldParentId = moveGoalRequest.goalToMove.currentParentId, 1)), 
                            targetParents.push.apply(targetParents, scorecard_helper.q.getGoalsWithRollups(scorecard.goals, oldParentId, 2))), 
                            null != (null === (_a = moveGoalRequest.newParent) || void 0 === _a ? void 0 : _a.goalId) && (current_tmp = scorecard_helper.q.getGoalsWithRollups(scorecard.goals, newParentId = moveGoalRequest.newParent.goalId, 1), 
                            target_tmp = scorecard_helper.q.getGoalsWithRollups(scorecard.goals, newParentId, 2), 
                            currentParents = this.mergeParents(currentParents, current_tmp), targetParents = this.mergeParents(targetParents, target_tmp)), 
                            [ 4, Promise.all([ this.startRollupPollingForGoals(currentParents, 1), this.startRollupPollingForGoals(targetParents, 2) ]) ]);

                          case 1:
                            return _b.sent(), [ 2 ];
                        }
                    });
                });
            }, PollingService.prototype.refreshRollupsAfterGoalDelete = function(goal) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var scorecard, parentGoal_1, currentParents, targetParents, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return goal.parentId && null == goal.valuesCategoryId ? (scorecard = this.scorecardService.getCurrentScorecard(), 
                            (parentGoal_1 = scorecard_helper.q.getGoal(scorecard.goals, goal.parentId)) ? (currentParents = [], 
                            targetParents = [], _.isNil(parentGoal_1.valueRollup) || _.some(goal.goalValues, function(value) {
                                return !_.isNil(value.value) && _this.isPartOfParentGoalRollup(parentGoal_1.valueRollup, value);
                            }) && currentParents.push.apply(currentParents, scorecard_helper.q.getGoalsWithRollups(scorecard.goals, parentGoal_1.id, 1)), 
                            _.isNil(parentGoal_1.targetRollup) || _.some(goal.goalValues, function(value) {
                                return !_.isNil(value.target) && _this.isPartOfParentGoalRollup(parentGoal_1.targetRollup, value);
                            }) && targetParents.push.apply(targetParents, scorecard_helper.q.getGoalsWithRollups(scorecard.goals, parentGoal_1.id, 2)), 
                            [ 4, Promise.all([ this.startRollupPollingForGoals(currentParents, 1), this.startRollupPollingForGoals(targetParents, 2) ]) ]) : [ 3, 2 ]) : [ 3, 2 ];

                          case 1:
                            _a.sent(), _a.label = 2;

                          case 2:
                            return [ 2 ];
                        }
                    });
                });
            }, PollingService.prototype.refreshRollupsAfterGoalValueDelete = function(goal, goalValue) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var scorecard, parentGoal, currentParents, targetParents;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return goal.parentId && null == goal.valuesCategoryId ? (scorecard = this.scorecardService.getCurrentScorecard(), 
                            (parentGoal = scorecard_helper.q.getGoal(scorecard.goals, goal.parentId)) ? (currentParents = [], 
                            targetParents = [], _.isNil(parentGoal.valueRollup) || !_.isNil(goalValue.value) && this.isPartOfParentGoalRollup(parentGoal.valueRollup, goalValue) && currentParents.push.apply(currentParents, scorecard_helper.q.getGoalsWithRollups(scorecard.goals, parentGoal.id, 1)), 
                            _.isNil(parentGoal.targetRollup) || !_.isNil(goalValue.target) && this.isPartOfParentGoalRollup(parentGoal.targetRollup, goalValue) && targetParents.push.apply(targetParents, scorecard_helper.q.getGoalsWithRollups(scorecard.goals, parentGoal.id, 2)), 
                            [ 4, Promise.all([ this.startRollupPollingForGoals(currentParents, 1), this.startRollupPollingForGoals(targetParents, 2) ]) ]) : [ 3, 2 ]) : [ 3, 2 ];

                          case 1:
                            _a.sent(), _a.label = 2;

                          case 2:
                            return [ 2 ];
                        }
                    });
                });
            }, PollingService.prototype.isPartOfParentGoalRollup = function(goalRollup, value) {
                return goalRollup && (_.isNil(goalRollup.startDate) || new Date(value.timestamp).getTime() >= new Date(goalRollup.startDate).getTime());
            }, PollingService.prototype.startRollupPolling = function(goalId, valueType, currentRefreshTimestamp) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var scorecard, goals;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return scorecard = this.scorecardService.getCurrentScorecard(), goals = scorecard_helper.q.getGoalsWithRollups(scorecard.goals, goalId, valueType), 
                            [ 4, this.startRollupPollingForGoals(goals, valueType, currentRefreshTimestamp) ];

                          case 1:
                            return _a.sent(), [ 2 ];
                        }
                    });
                });
            }, PollingService.prototype.startRollupPollingForGoals = function(goals, valueType, currentRefreshTimestamp) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goal, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return _.some(goals) ? (goal = goals.shift(), [ 4, this.startPollingAsync(goal, valueType, {
                                lastRefreshTimestamp: currentRefreshTimestamp,
                                refreshGoal: !0,
                                refreshGoalValues: !0,
                                onComplete: function(lastRefreshTimestamp) {
                                    return _this.startRollupPollingForGoals(goals, valueType, lastRefreshTimestamp);
                                }
                            }) ]) : [ 3, 2 ];

                          case 1:
                            _a.sent(), _a.label = 2;

                          case 2:
                            return [ 2 ];
                        }
                    });
                });
            }, PollingService.prototype.getLastRefreshTimestamp = function(goalId, valueType) {
                var _a;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var namedType, refreshHistory, refreshHistoryForValueType;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            return namedType = this.ConnectionTypeAsText[valueType], [ 4, this.scorecardService.getRefreshHistory(goalId) ];

                          case 1:
                            return refreshHistory = _b.sent(), refreshHistoryForValueType = _.filter(refreshHistory, function(rh) {
                                return rh.connectionType === valueType || rh.connectionType === namedType;
                            }), [ 2, null === (_a = _.maxBy(refreshHistoryForValueType, function(rf) {
                                return rf.timestamp;
                            })) || void 0 === _a ? void 0 : _a.timestamp ];
                        }
                    });
                });
            }, PollingService.prototype.mergeParents = function(listA, listB) {
                if (!_.some(listA)) return listB;
                var intersection = _.intersectionBy(listA, listB, function(goal) {
                    return goal.id;
                });
                if (_.isEmpty(intersection)) return (0, tslib_es6.__spreadArray)((0, tslib_es6.__spreadArray)([], listA, !0), listB, !0);
                for (var index = _.findIndex(listB, function(g) {
                    return g.id === intersection[0].id;
                }), result = [], i = 0; i < index; i++) result.push(listB[i]);
                return result.push.apply(result, listA), result;
            }, PollingService.prototype.setGoalRefreshState = function(goalId, type, refreshing) {
                this.scorecardService.setGoalRefreshState(goalId, type, refreshing);
            }, PollingService;
        }(), events = __webpack_require__(14786), goal_value_helper = __webpack_require__(45017), group_selector = __webpack_require__(74076), goalsHttpService = __webpack_require__(58614), scorecardHostService = __webpack_require__(60166), scorecardSettingsService = __webpack_require__(98587), userDetailsService = __webpack_require__(10723), traceType = __webpack_require__(50547), StandaloneUtility3 = __webpack_require__(43286), ngrx_store = __webpack_require__(85732), selectTab = ((0, 
        ngrx_store.PH)("[Tab] Init"), (0, ngrx_store.PH)("[Tab] Noop"), (0, ngrx_store.PH)("[Tab] Setup Router Hook"), 
        (0, ngrx_store.PH)("[Tab] Select Tab", (0, ngrx_store.Ky)())), updateTab = (0, ngrx_store.PH)("[Tab] Update Tab", (0, 
        ngrx_store.Ky)()), addTabsAfterRefresh = (0, ngrx_store.PH)("[Tab] Add Tabs After Refresh", (0, 
        ngrx_store.Ky)()), updateTabStatusAfterReopen = (0, ngrx_store.PH)("[Tab] Update Tab After Open", (0, 
        ngrx_store.Ky)()), removeTab = (0, ngrx_store.PH)("[Tab] Remove Tab", (0, ngrx_store.Ky)()), deletePBIArtifactInTab = (0, 
        ngrx_store.PH)("[Tab] Delete PBI Artifact In Tab", (0, ngrx_store.Ky)()), initTab = ((0, 
        ngrx_store.PH)("[Tab] Delete Trident Artifact In Tab", (0, ngrx_store.Ky)()), (0, 
        ngrx_store.PH)("[Tab] Init Tab", (0, ngrx_store.Ky)())), initTabSuccess = (0, ngrx_store.PH)("[Tab] Init Tab Success", (0, 
        ngrx_store.Ky)()), initTabFailure = (0, ngrx_store.PH)("[Tab] Init Tab Failure", (0, 
        ngrx_store.Ky)()), closeTab = (0, ngrx_store.PH)("[Tab] Close Tab", (0, ngrx_store.Ky)()), destroyTab = ((0, 
        ngrx_store.PH)("[Tab] Close Foreground Tab"), (0, ngrx_store.PH)("[Tab] Close Background Tab", (0, 
        ngrx_store.Ky)()), (0, ngrx_store.PH)("[Tab] Destroy Tab", (0, ngrx_store.Ky)())), destroyTabSuccess = (0, 
        ngrx_store.PH)("[Tab] Destroy Tab Success", (0, ngrx_store.Ky)()), destroyTabFailure = (0, 
        ngrx_store.PH)("[Tab] Destroy Tab Failure", (0, ngrx_store.Ky)()), deleteTab = (0, 
        ngrx_store.PH)("[Tab] Delete", (0, ngrx_store.Ky)()), moveTabToTop = (0, ngrx_store.PH)("[Tab] Move Tab To Top", (0, 
        ngrx_store.Ky)()), openInBackground = (0, ngrx_store.PH)("[Tab] Open Tab In Background", (0, 
        ngrx_store.Ky)()), executeOpenInBackground = (0, ngrx_store.PH)("[Tab] Execute Open Tab In Background", (0, 
        ngrx_store.Ky)()), tab_state_tabsAdapter = (0, __webpack_require__(8894).H)({
            selectId: function(tab) {
                return tab.id;
            }
        }), getState = (0, ngrx_store.ZF)("tab"), getTabs = (0, ngrx_store.P1)(getState, function(state) {
            return tab_state_tabsAdapter.getSelectors().selectAll(state.tabs).filter(function(tab) {
                return "destroying" !== tab.status;
            });
        }), core = ((0, ngrx_store.P1)(getState, function(state) {
            return state.selectedTabId ? tab_state_tabsAdapter.getSelectors().selectEntities(state.tabs)[state.selectedTabId] : void 0;
        }), __webpack_require__(50423)), TabFacade = function() {
            function TabFacade(store) {
                this.store = store, this.tabs$ = this.store.select(getTabs);
            }
            return TabFacade.prototype.closeTab = function(id) {
                this.store.dispatch(closeTab({
                    id
                }));
            }, TabFacade.prototype.updateTab = function(_a) {
                var id = _a.id, changes = (0, tslib_es6.__rest)(_a, [ "id" ]);
                this.store.dispatch(updateTab({
                    id,
                    changes
                }));
            }, TabFacade.prototype.deletePBIArtifactInTab = function(_a) {
                this.store.dispatch(deletePBIArtifactInTab({
                    id: _a.id
                }));
            }, TabFacade.prototype.moveTabToTop = function(id) {
                this.store.dispatch(moveTabToTop({
                    id
                }));
            }, TabFacade.prototype.openInBackground = function(urlPath, displayName) {
                this.store.dispatch(openInBackground({
                    urlPath,
                    displayName
                }));
            }, TabFacade.\u0275fac = function(t) {
                return new (t || TabFacade)(core["\u0275\u0275inject"](ngrx_store.yh));
            }, TabFacade.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: TabFacade,
                factory: TabFacade.\u0275fac,
                providedIn: "root"
            }), TabFacade;
        }(), ngrx_immer_store = (__webpack_require__(94771), __webpack_require__(16559), 
        __webpack_require__(35030), __webpack_require__(86668), __webpack_require__(73471), 
        __webpack_require__(89082), __webpack_require__(41838), __webpack_require__(36012)), fetch_proxy_actions_src = __webpack_require__(71477), workspace_collection_actions_src = __webpack_require__(33827), artifact_src = __webpack_require__(25082), initialState = {
            tabs: tab_state_tabsAdapter.getInitialState(),
            selectedTabId: void 0
        };
        function updateTitle(state, artifact) {
            for (var _i = 0, _a = Object.values(state.tabs.entities); _i < _a.length; _i++) {
                var tab = _a[_i];
                tab && tab.associatedArtifactObjectId === artifact.objectId && tab.title !== artifact.displayName && (state.tabs = tab_state_tabsAdapter.updateOne({
                    id: tab.id,
                    changes: {
                        title: artifact.displayName
                    }
                }, state.tabs));
            }
        }
        (0, ngrx_store.Lq)(initialState, (0, ngrx_immer_store.P)(selectTab, function(state, _a) {
            var id = _a.id;
            id ? state.tabs.entities[id] && (state.selectedTabId = id) : state.selectedTabId = void 0;
        }), (0, ngrx_immer_store.P)(updateTab, function(state, _a) {
            var update = (0, tslib_es6.__rest)(_a, [ "type" ]);
            state.tabs = tab_state_tabsAdapter.updateOne(update, state.tabs);
        }), (0, ngrx_immer_store.P)(initTab, function(state, _a) {
            var tab = (0, tslib_es6.__rest)(_a, [ "type" ]);
            state.tabs = tab_state_tabsAdapter.upsertOne((0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, tab), {
                status: "initializing"
            }), state.tabs);
        }), (0, ngrx_immer_store.P)(initTabSuccess, function(state, _a) {
            state.tabs = tab_state_tabsAdapter.updateOne({
                id: _a.id,
                changes: {
                    status: "initialized",
                    title: _a.title,
                    associatedArtifactObjectId: _a.associatedArtifactObjectId
                }
            }, state.tabs);
        }), (0, ngrx_immer_store.P)(initTabFailure, function(state, _a) {
            state.tabs = tab_state_tabsAdapter.removeOne(_a.id, state.tabs);
        }), (0, ngrx_immer_store.P)(destroyTab, function(state, _a) {
            state.tabs = tab_state_tabsAdapter.updateOne({
                id: _a.id,
                changes: {
                    status: "destroying"
                }
            }, state.tabs);
        }), (0, ngrx_immer_store.P)(destroyTabSuccess, destroyTabFailure, removeTab, function(state, _a) {
            state.tabs = tab_state_tabsAdapter.removeOne(_a.id, state.tabs);
        }), (0, ngrx_immer_store.P)(workspace_collection_actions_src._t, function(state, _a) {
            for (var _i = 0, artifacts_1 = _a.artifacts; _i < artifacts_1.length; _i++) updateTitle(state, artifacts_1[_i]);
        }), (0, ngrx_immer_store.P)(artifact_src.j$.RN, artifact_src.j$.aX, artifact_src.j$.wt, fetch_proxy_actions_src.W2, fetch_proxy_actions_src.C2, fetch_proxy_actions_src.lK, function(state, _a) {
            updateTitle(state, _a.artifact);
        }), (0, ngrx_immer_store.P)(moveTabToTop, function(state, _a) {
            for (var id = _a.id, ids = state.tabs.ids.slice(0), i = 0; i < ids.length; i++) if (ids[i] === id) {
                ids.splice(i, 1), ids.push(id), state.tabs.ids = ids;
                break;
            }
        }), (0, ngrx_immer_store.P)(deleteTab, function(state, _a) {
            state.tabs = tab_state_tabsAdapter.removeOne(_a.id, state.tabs);
        }), (0, ngrx_immer_store.P)(addTabsAfterRefresh, function(state, _a) {
            var addTabs = _a.tabs.filter(function(tab) {
                return !state.tabs.ids.includes(tab.id);
            }).map(function(tab) {
                return tab.status = "refreshed", tab.dirty = !1, tab;
            });
            addTabs.length > 0 && (state.tabs = tab_state_tabsAdapter.addMany(addTabs, state.tabs));
        }), (0, ngrx_immer_store.P)(executeOpenInBackground, function(state, tab) {
            state.tabs.ids.includes(tab.id) || (state.tabs = tab_state_tabsAdapter.addOne(tab, state.tabs));
        }), (0, ngrx_immer_store.P)(updateTabStatusAfterReopen, function(state, _a) {
            var update = (0, tslib_es6.__rest)(_a, [ "type" ]);
            state.tabs = tab_state_tabsAdapter.updateOne(update, state.tabs);
        }));
        var immer_esm = __webpack_require__(74466), ReplaySubject = __webpack_require__(33554), BehaviorSubject = __webpack_require__(35510), observable_combineLatest = __webpack_require__(59017), operators_map = __webpack_require__(14172), operators_distinctUntilChanged = __webpack_require__(77526), takeUntil = __webpack_require__(83317), takeWhile = __webpack_require__(68549), operators_switchMap = __webpack_require__(81905), dialog_service = __webpack_require__(58938), error_service = __webpack_require__(81213), localization_service = __webpack_require__(65181), user_info_service = __webpack_require__(79474), services_feature_switch_service = __webpack_require__(9380), goals_error_service = __webpack_require__(99327), telemetry_service = __webpack_require__(96608), ScorecardService = function() {
            function ScorecardService(goalsHttpService, userDetailsService, dialogService, errorService, localizationService, userInfo, featureSwitches, goalsErrorService, telemetryService, tabFacade, store, scorecardHost, scorecardSettings) {
                var _a, _b, _this = this;
                this.goalsHttpService = goalsHttpService, this.userDetailsService = userDetailsService, 
                this.dialogService = dialogService, this.errorService = errorService, this.localizationService = localizationService, 
                this.userInfo = userInfo, this.featureSwitches = featureSwitches, this.goalsErrorService = goalsErrorService, 
                this.telemetryService = telemetryService, this.tabFacade = tabFacade, this.store = store, 
                this.scorecardHost = scorecardHost, this.scorecardSettings = scorecardSettings, 
                this.scorecard = void 0, this._scorecard$ = new ReplaySubject.t(1), this._selectedGoalIds$ = this._scorecard$.pipe((0, 
                operators_map.U)(function(scorecard) {
                    return null == scorecard ? void 0 : scorecard.selectedGoalIds;
                }), (0, operators_distinctUntilChanged.x)(_.isEqual)), this._activeGoalId$ = this._scorecard$.pipe((0, 
                operators_map.U)(function(scorecard) {
                    return null == scorecard ? void 0 : scorecard.activeGoalId;
                }), (0, operators_distinctUntilChanged.x)()), this.isEditMode$ = new BehaviorSubject.X(!1), 
                this.loading$ = new BehaviorSubject.X(0), this._viewType$ = new BehaviorSubject.X("List"), 
                this._scorecardSelectionMode$ = new BehaviorSubject.X(null), this.switchingHierarchyPath$ = new BehaviorSubject.X(!1), 
                this.linkedScorecardsById = {}, this._goalStatusesByScorecardId$ = new BehaviorSubject.X({}), 
                this.onHierarchyNotFound$ = new Subject.xQ, this.onDestroy$ = new Subject.xQ, this.requestId = 0, 
                this.pollingService = new PollingService(this), this.scorecardHost && (this.getSelectedGoalsObservable().pipe((0, 
                takeUntil.R)(this.onDestroy$)).subscribe(function(goals) {
                    _this.scorecardHost.onSelectGoals(goals);
                }), this._scorecard$.pipe((0, operators_map.U)(function(scorecard) {
                    return scorecard.hierarchyPaths;
                }), (0, operators_distinctUntilChanged.x)(), (0, takeUntil.R)(this.onDestroy$)).subscribe(function(paths) {
                    _this.scorecardHost.onChangeHierarchyPath(paths);
                })), this._scorecard$.pipe((0, operators_distinctUntilChanged.x)(function(s1, s2) {
                    var _a, _b;
                    return _.isEqual(null === (_a = null == s1 ? void 0 : s1.goalStatuses) || void 0 === _a ? void 0 : _a.statuses, null === (_b = null == s2 ? void 0 : s2.goalStatuses) || void 0 === _b ? void 0 : _b.statuses) && (null == s1 ? void 0 : s1.linkedScorecards) === (null == s2 ? void 0 : s2.linkedScorecards);
                }), (0, operators_map.U)(function(scorecard) {
                    return goal_status_helper.p.getGoalStatusesByScorecardId(scorecard);
                }), (0, takeUntil.R)(this.onDestroy$)).subscribe(this._goalStatusesByScorecardId$), 
                (0, observable_combineLatest.aj)([ this.isEditMode$, this.viewType$, null !== (_b = null === (_a = this.scorecardSettings) || void 0 === _a ? void 0 : _a.settings) && void 0 !== _b ? _b : (0, 
                observable_of.of)({}) ]).pipe((0, operators_map.U)(function(_a) {
                    var settings = _a[2];
                    return "tile" === (null == settings ? void 0 : settings.displayMode) ? _this.featureSwitches.featureSwitches.multipleGoalTilesVisual ? "multiple" : "single" : (null == settings ? void 0 : settings.useMultiselectMode) ? "multiple" : "List" === _a[1] && _a[0] ? "ctrl" : null;
                }), (0, operators_distinctUntilChanged.x)(), (0, takeUntil.R)(this.onDestroy$)).subscribe(this._scorecardSelectionMode$);
            }
            return ScorecardService.prototype.ngOnDestroy = function() {
                this.onDestroy$.next(!0), this.onDestroy$.complete();
            }, ScorecardService.prototype.loadScorecard = function(groupId, scorecardId, skipConfirmation, hierarchyPaths) {
                var _this = this;
                if (scorecard_helper.q.isEditing(this.scorecard) && !skipConfirmation) this.promptUserConfirmation({
                    title: this.localizationService.get("MetricsUnsavedChangesTitle"),
                    message: this.localizationService.get("MetricsUnsavedChangesDescription"),
                    okButtonText: this.localizationService.get("Refresh"),
                    panelClass: [ "updateConfirmationDialogPanel" ],
                    onConfirmation: function() {
                        return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                            return (0, tslib_es6.__generator)(this, function(_a) {
                                return [ 2, this.loadScorecard(groupId, scorecardId, !0, hierarchyPaths) ];
                            });
                        });
                    }
                }); else {
                    this.loading$.next(this.loading$.value + 1), this.requestId++;
                    var requestId_1 = this.requestId;
                    this.goalsHttpService.getScorecard(groupId, scorecardId, !0, hierarchyPaths).toPromise().then(function(scorecard) {
                        _this.loading$.next(_this.loading$.value - 1), requestId_1 < _this.requestId || (_this.switchingHierarchyPath$.next(!1), 
                        _this.setScorecardWithGoals(scorecard));
                    }).catch(function(error) {
                        if (_this.loading$.next(_this.loading$.value - 1), !(requestId_1 < _this.requestId)) {
                            if (_this.switchingHierarchyPath$.next(!1), _.isEmpty(hierarchyPaths)) _this.scorecard = null; else if (_this.goalsErrorService.showUserError(error, "LoadHierarchy", "MetricsHierarchy_Loading_Error"), 
                            404 === (null == error ? void 0 : error.status) && (_this.setActiveHierarchy(void 0, !0), 
                            _this.onHierarchyNotFound$.next(hierarchyPaths), !_this.scorecard)) return;
                            _this.commit();
                        }
                    });
                }
                return this._scorecard$.asObservable();
            }, ScorecardService.prototype.setActiveHierarchy = function(hierarchyPaths, skipConfirmation) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var equalHierarchyPaths, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return equalHierarchyPaths = function(paths1, paths2) {
                                return _.isEmpty(paths1) && _.isEmpty(paths2) || _.isEqual(paths1, paths2);
                            }, !this.scorecard || equalHierarchyPaths(this.scorecard.hierarchyPaths, hierarchyPaths) ? [ 3, 3 ] : !scorecard_helper.q.isEditing(this.scorecard) || skipConfirmation ? [ 3, 1 ] : [ 2, this.promptUserConfirmation({
                                title: this.localizationService.get("MetricsUnsavedChangesTitle"),
                                message: this.localizationService.get("MetricsUnsavedChangesDescription"),
                                okButtonText: this.localizationService.get("ModalDialogButtonText_Continue"),
                                panelClass: [ "updateConfirmationDialogPanel" ],
                                onConfirmation: function() {
                                    return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                                        return (0, tslib_es6.__generator)(this, function(_a) {
                                            return [ 2, this.setActiveHierarchy(hierarchyPaths, !0) ];
                                        });
                                    });
                                }
                            }) ];

                          case 1:
                            return this.switchingHierarchyPath$.next(!0), [ 4, this.loadScorecard(this.scorecard.groupId, this.scorecard.id, !0, hierarchyPaths).pipe((0, 
                            takeWhile.o)(function(scorecard) {
                                return !equalHierarchyPaths(scorecard.hierarchyPaths, hierarchyPaths);
                            }, !0)).toPromise() ];

                          case 2:
                            return [ 2, _a.sent() ];

                          case 3:
                            return [ 2 ];
                        }
                    });
                });
            }, Object.defineProperty(ScorecardService.prototype, "onHierarchyNotFound", {
                get: function() {
                    return this.onHierarchyNotFound$;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(ScorecardService.prototype, "isHierarchicalScorecard", {
                get: function() {
                    var _a;
                    return !_.isEmpty(null === (_a = this.scorecard) || void 0 === _a ? void 0 : _a.hierarchyPaths);
                },
                enumerable: !1,
                configurable: !0
            }), ScorecardService.prototype.assertNoActivehierarchy = function(showComingSoon) {
                return void 0 === showComingSoon && (showComingSoon = !1), !this.isHierarchicalScorecard || (showComingSoon ? this.dialogService.showSimpleDialog(this.localizationService.get("Coming_Soon"), this.localizationService.get("MetricsHierarchy_ComingSoon")) : debug.fF.assertFail("Cannot perform this operation on a hierarchical scorecard. ".concat((new Error).stack)), 
                !1);
            }, Object.defineProperty(ScorecardService.prototype, "hierarchyPaths$", {
                get: function() {
                    return this._scorecard$.pipe((0, operators_map.U)(function(scorecard) {
                        return null == scorecard ? void 0 : scorecard.hierarchyPaths;
                    }), (0, operators_distinctUntilChanged.x)());
                },
                enumerable: !1,
                configurable: !0
            }), ScorecardService.prototype.assertScorecardLoaded = function(scorecard) {
                return !(scorecard.id !== this.scorecard.id || !_.isEqual(scorecard.hierarchyPaths, this.scorecard.hierarchyPaths)) || (debug.fF.assertFail("Scorecard has changed. Active scorecard: ".concat(JSON.stringify(this.scorecard.hierarchyPaths), ". Previous scorecard ").concat(JSON.stringify(scorecard.hierarchyPaths))), 
                !1);
            }, ScorecardService.prototype.isSwitchingHierarchyPath = function() {
                return this.switchingHierarchyPath$.asObservable();
            }, ScorecardService.prototype.saveGoal = function(goalId, newGoal) {
                var _a, _b, _c, _d, _e, _f;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goal, isGoalMetadataUpdated, refreshAggregations, previousScorecard, savedGoal_1, ownerDisplayNames_1, error_1, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_g) {
                        switch (_g.label) {
                          case 0:
                            if (debug.fF.assertValue(this.scorecard, "No scorecard loaded"), goal = scorecard_helper.q.getGoal(this.scorecard.goals, goalId), 
                            debug.fF.assertValue(goal, "goal"), isGoalMetadataUpdated = scorecard_helper.q.isGoalMetadataUpdated(goal, newGoal), 
                            !goal.isNew && !isGoalMetadataUpdated) return [ 2, goalId ];
                            if (refreshAggregations = (null === (_a = newGoal.metadata) || void 0 === _a ? void 0 : _a.showFinalTarget) !== (null === (_b = goal.metadata) || void 0 === _b ? void 0 : _b.showFinalTarget) || (null === (_c = newGoal.metadata) || void 0 === _c ? void 0 : _c.showPercentChange) !== (null === (_d = goal.metadata) || void 0 === _d ? void 0 : _d.showPercentChange) || !_.isEqual(null !== (_e = goal.cycleMetadata) && void 0 !== _e ? _e : {}, null !== (_f = newGoal.cycleMetadata) && void 0 !== _f ? _f : {}), 
                            !this.assertNoActivehierarchy(!0)) return [ 2, goalId ];
                            _g.label = 1;

                          case 1:
                            return _g.trys.push([ 1, 9, , 10 ]), previousScorecard = this.scorecard, goal.isNew ? [ 4, this.goalsHttpService.createGoal(this.scorecard.groupId, this.scorecard.id, scorecard_helper.q.getGoalCreateRequest(newGoal)).toPromise() ] : [ 3, 5 ];

                          case 2:
                            return savedGoal_1 = _g.sent(), newGoal.metadata ? [ 4, this.goalsHttpService.updateGoal(this.scorecard.groupId, this.scorecard.id, savedGoal_1.id, {
                                metadata: newGoal.metadata
                            }).toPromise() ] : [ 3, 4 ];

                          case 3:
                            savedGoal_1 = _g.sent(), _g.label = 4;

                          case 4:
                            return [ 3, 7 ];

                          case 5:
                            return isGoalMetadataUpdated ? [ 4, this.goalsHttpService.updateGoal(this.scorecard.groupId, this.scorecard.id, goal.id, scorecard_helper.q.getGoalUpdateRequest(newGoal)).toPromise() ] : [ 3, 7 ];

                          case 6:
                            savedGoal_1 = _g.sent(), _g.label = 7;

                          case 7:
                            return this.assertScorecardLoaded(previousScorecard) ? [ 4, this.getOwnerDisplayNames(goal) ] : [ 2 ];

                          case 8:
                            return ownerDisplayNames_1 = _g.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId);
                                _this.assignGoal(goal, savedGoal_1), goal.isNew = !1, goal.ownerDisplayNames = ownerDisplayNames_1;
                            }), goalId = savedGoal_1.id, [ 3, 10 ];

                          case 9:
                            throw error_1 = _g.sent(), this.goalsErrorService.showUserError(error_1, "SaveGoalError"), 
                            error_1;

                          case 10:
                            return refreshAggregations ? [ 4, this.refreshGoal(goalId) ] : [ 3, 12 ];

                          case 11:
                            return _g.sent(), [ 3, 13 ];

                          case 12:
                            this.commit(), _g.label = 13;

                          case 13:
                            return [ 2, goalId ];
                        }
                    });
                });
            }, ScorecardService.prototype.moveGoal = function(sourceGoalId, destNextGoalId, destParentGoalId) {
                var _a;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var sourceGoal, sourceGoalHeight, destParentGoal, destParentGoalLevel, moveGoalRequest, error_2;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            return debug.fF.assertValue(this.scorecard, "No scorecard loaded"), debug.fF.assertValue(this.scorecard.goals, "Scorecard should have at least one goal to move"), 
                            this.assertNoActivehierarchy() ? (sourceGoal = scorecard_helper.q.getGoal(this.scorecard.goals, sourceGoalId), 
                            debug.fF.assertValue(sourceGoal, "Source goal does not exist"), sourceGoalHeight = scorecard_helper.q.computeGoalHeight(sourceGoal), 
                            destParentGoal = destParentGoalId ? scorecard_helper.q.getGoal(this.scorecard.goals, destParentGoalId) : void 0, 
                            debug.fF.assertValue(!destParentGoalId || destParentGoal, "Destination parent goal does not exist"), 
                            destParentGoalLevel = destParentGoal ? scorecard_helper.q.computeGoalLevel(this.scorecard.goals, destParentGoal) : void 0, 
                            (_.isNil(destParentGoalLevel) ? sourceGoalHeight : sourceGoalHeight + destParentGoalLevel + 1) > constants.gT.MaxSubGoals ? [ 4, this.dialogService.showSimpleInfoDialog({
                                title: this.localizationService.get("MetricCannotBeMovedTitle"),
                                message: this.localizationService.format("MetricCannotBeMovedMessage", constants.gT.MaxSubGoals)
                            }, {
                                autoFocus: !0
                            }).afterClosed().toPromise() ] : [ 3, 2 ]) : [ 2 ];

                          case 1:
                            return _b.sent(), [ 2 ];

                          case 2:
                            moveGoalRequest = {
                                goalToMove: {
                                    goalId: sourceGoalId
                                }
                            }, this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var _a, _b, _c, _d, sourceGoal = scorecard_helper.q.getGoal(draftScorecard.goals, sourceGoalId);
                                moveGoalRequest.goalToMove.currentParentId = null !== (_a = sourceGoal.parentId) && void 0 !== _a ? _a : void 0;
                                var sourceGoalParent = sourceGoal.parentId ? scorecard_helper.q.getGoal(draftScorecard.goals, sourceGoal.parentId) : void 0;
                                sourceGoal.parentId && !sourceGoalParent || _.remove(sourceGoal.parentId ? sourceGoalParent.subGoals : draftScorecard.goals, function(goal) {
                                    return goal.id === sourceGoal.id;
                                });
                                var destParentGoal = destParentGoalId ? scorecard_helper.q.getGoal(draftScorecard.goals, destParentGoalId) : void 0;
                                destParentGoal && (moveGoalRequest.newParent = {
                                    goalId: destParentGoal.id,
                                    currentParentId: null !== (_b = destParentGoal.parentId) && void 0 !== _b ? _b : void 0
                                });
                                var destGoalSiblings = destParentGoal ? destParentGoal.subGoals : draftScorecard.goals;
                                if (destGoalSiblings) {
                                    var index = destNextGoalId ? destGoalSiblings.findIndex(function(goal) {
                                        return goal.id === destNextGoalId;
                                    }) : destGoalSiblings.length;
                                    debug.fF.assertValue(-1 !== index, "Destination next goal does not exist");
                                    var destPrevGoal = index - 1 >= 0 ? destGoalSiblings[index - 1] : void 0;
                                    destPrevGoal && (moveGoalRequest.newPrevious = {
                                        goalId: destPrevGoal.id,
                                        currentParentId: null !== (_c = destPrevGoal.parentId) && void 0 !== _c ? _c : void 0
                                    });
                                    var destNextGoal = index < destGoalSiblings.length ? destGoalSiblings[index] : void 0;
                                    debug.fF.assertValue(!destNextGoal || destNextGoal.parentId === destParentGoalId, "Destination next goal parent should be the same as the destination parent goal"), 
                                    destNextGoal && (moveGoalRequest.newNext = {
                                        goalId: destNextGoal.id,
                                        currentParentId: null !== (_d = destNextGoal.parentId) && void 0 !== _d ? _d : void 0
                                    }), destGoalSiblings.splice(index, 0, sourceGoal);
                                    var rank_1 = 0;
                                    destGoalSiblings.forEach(function(goal) {
                                        goal.rank = rank_1, rank_1++;
                                    });
                                } else sourceGoal.rank = 0, destParentGoal.subGoals = [ sourceGoal ];
                                return sourceGoal.parentId = destParentGoalId, sourceGoal.state = "Saving", draftScorecard;
                            }), this.loading$.next(this.loading$.value + 1), this.commit(), _b.label = 3;

                          case 3:
                            return _b.trys.push([ 3, 6, 10, 11 ]), [ 4, this.pollingService.refreshRollupsAfterMove(moveGoalRequest) ];

                          case 4:
                            return _b.sent(), [ 4, this.goalsHttpService.moveGoal(this.scorecard.groupId, this.scorecard.id, moveGoalRequest).toPromise() ];

                          case 5:
                            return _b.sent(), this.setGoalState(sourceGoalId, "Consumption"), [ 3, 11 ];

                          case 6:
                            return error_2 = _b.sent(), (null === (_a = null == error_2 ? void 0 : error_2.error) || void 0 === _a ? void 0 : _a.code) !== HttpErrorCodes.CircularRelationshipsNotAllowed ? [ 3, 8 ] : [ 4, this.loadScorecard(this.scorecard.groupId, this.scorecard.id, !0) ];

                          case 7:
                            return _b.sent(), this.dialogService.showSimpleDialog(this.localizationService.get("Unable_to_move_metric"), this.localizationService.get("Metrics_Circular_Relationships_Not_Allowed")), 
                            [ 3, 9 ];

                          case 8:
                            throw this.goalsErrorService.showUserError(error_2, "MoveGoalError"), error_2;

                          case 9:
                            return [ 3, 11 ];

                          case 10:
                            return this.loading$.next(this.loading$.value - 1), [ 7 ];

                          case 11:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.refreshGoal = function(goalId) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var previousScorecard, goal_1, ownerDisplayNames_2, error_3, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            debug.fF.assertValue(this.scorecard, "No scorecard loaded"), _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 4, , 5 ]), previousScorecard = this.scorecard, [ 4, this.goalsHttpService.getGoal(this.scorecard.groupId, this.scorecard.id, goalId, !1, this.scorecard.hierarchyPaths).toPromise() ];

                          case 2:
                            return goal_1 = _a.sent(), this.assertScorecardLoaded(previousScorecard) ? [ 4, this.getOwnerDisplayNames(goal_1) ] : [ 2 ];

                          case 3:
                            return ownerDisplayNames_2 = _a.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var existingGoal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId);
                                _this.assignGoal(existingGoal, goal_1), existingGoal.ownerDisplayNames = ownerDisplayNames_2;
                            }), [ 3, 5 ];

                          case 4:
                            throw error_3 = _a.sent(), this.goalsErrorService.showUserError(error_3, "RefreshGoalError"), 
                            error_3;

                          case 5:
                            return this.commit(), [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.saveGoalValue = function(goalId, goalValue) {
                var _a, _b;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goal, existingGoalValue, previousScorecard, savedGoalValue_1, savedGoalValue_2, error_4;
                    return (0, tslib_es6.__generator)(this, function(_c) {
                        switch (_c.label) {
                          case 0:
                            return debug.fF.assertValue(this.scorecard, "No scorecard loaded"), [ 4, this.expandGoalValues(goalId) ];

                          case 1:
                            _c.sent(), goal = scorecard_helper.q.getGoal(this.scorecard.goals, goalId), debug.fF.assertValue(goal, "goal"), 
                            existingGoalValue = _.find(goal.goalValues, function(value) {
                                return new Date(value.timestamp).getTime() === new Date(goalValue.timestamp).getTime();
                            }), debug.fF.assert(function() {
                                return !goal.valueConnection || _.isNil(goalValue.value);
                            }, "Value cannot be updated when it is connected to data"), debug.fF.assert(function() {
                                return !goal.targetConnection || _.isNil(goalValue.target);
                            }, "Target cannot be updated when it is connected to data"), goal.hasStatusRules && (goalValue.status = null), 
                            _c.label = 2;

                          case 2:
                            return _c.trys.push([ 2, 9, 15, 16 ]), this.loading$.next(this.loading$.value + 1), 
                            [ 4, this.pollingService.refreshRollups(goal, [ goalValue ]) ];

                          case 3:
                            return _c.sent(), previousScorecard = this.scorecard, existingGoalValue ? [ 4, this.goalsHttpService.updateGoalValue(this.scorecard.groupId, this.scorecard.id, goalId, new Date(goalValue.timestamp).toISOString(), scorecard_helper.q.getGoalValueUpdateRequest(goalValue), this.scorecard.hierarchyPaths).toPromise() ] : [ 3, 5 ];

                          case 4:
                            return savedGoalValue_1 = _c.sent(), this.assertScorecardLoaded(previousScorecard) ? (this.scorecard = (0, 
                            immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId);
                                debug.fF.assertValue(goal, "Goal not found");
                                var goalValue = _.find(goal.goalValues, function(value) {
                                    return new Date(value.timestamp).getTime() === new Date(savedGoalValue_1.timestamp).getTime();
                                });
                                debug.fF.assertValue(goalValue, "Goal value not found"), Object.assign(goalValue, savedGoalValue_1);
                            }), [ 3, 7 ]) : [ 2 ];

                          case 5:
                            return [ 4, this.goalsHttpService.createGoalValue(this.scorecard.groupId, this.scorecard.id, goalId, scorecard_helper.q.getGoalValueCreateRequest(goalValue), this.scorecard.hierarchyPaths).toPromise() ];

                          case 6:
                            if (savedGoalValue_2 = _c.sent(), !this.assertScorecardLoaded(previousScorecard)) return [ 2 ];
                            this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId);
                                debug.fF.assertValue(goal, "Goal not found"), goal.goalValues ? goal.goalValues.push(savedGoalValue_2) : goal.goalValues = [ savedGoalValue_2 ];
                            }), _c.label = 7;

                          case 7:
                            return [ 4, this.refreshGoal(goalId) ];

                          case 8:
                            return _c.sent(), [ 3, 16 ];

                          case 9:
                            if (error_4 = _c.sent(), (null === (_a = null == error_4 ? void 0 : error_4.error) || void 0 === _a ? void 0 : _a.code) !== HttpErrorCodes.ManuallyUpdatingConnectedGoalValueNotAllowed && (null === (_b = null == error_4 ? void 0 : error_4.error) || void 0 === _b ? void 0 : _b.code) !== HttpErrorCodes.ManuallyUpdatingConnectedMetricValueNotAllowed) return [ 3, 10 ];
                            throw this.errorService.errorNoDefaultAdditionalErrorInfo(this.localizationService.get("Updating_Connected_MetricValue_Not_Allowed"), "Not_Allowed", {
                                title: this.localizationService.get("Operation_Not_Allowed"),
                                level: traceType.U.Information,
                                isDismissable: !0,
                                showAdditionalErrorInfo: !1
                            }), error_4;

                          case 10:
                            return existingGoalValue || 409 !== (null == error_4 ? void 0 : error_4.status) ? [ 3, 13 ] : (this.errorService.errorNoDefaultAdditionalErrorInfo(this.localizationService.get("Metrics_Existing_Checkin_Found"), "Checkin_Exists", {
                                title: this.localizationService.get("Metrics_Existing_Checkin_Found_Title"),
                                level: traceType.U.Information,
                                isDismissable: !0,
                                showAdditionalErrorInfo: !1,
                                hideGetHelpLink: !0
                            }), [ 4, this.refreshGoal(goalId) ]);

                          case 11:
                            return _c.sent(), [ 4, this.expandGoalValues(goalId, !0) ];

                          case 12:
                            return _c.sent(), [ 3, 14 ];

                          case 13:
                            throw this.goalsErrorService.showUserError(error_4, "SaveGoalValueError"), error_4;

                          case 14:
                            return [ 3, 16 ];

                          case 15:
                            return this.loading$.next(this.loading$.value - 1), [ 7 ];

                          case 16:
                            return this.commit(), [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.expandGoalValues = function(goalId, forceRefresh) {
                return void 0 === forceRefresh && (forceRefresh = !1), (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goal, previousScorecard, values_1, error_5;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            if (debug.fF.assertValue(this.scorecard, "No scorecard loaded"), this.scorecard.isSample) return [ 2 ];
                            if (goal = scorecard_helper.q.getGoal(this.scorecard.goals, goalId), debug.fF.assertValue(goal, "goal"), 
                            !goal || goal.isExpanded && !forceRefresh) return [ 2 ];
                            _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, 4, 5 ]), this.loading$.next(this.loading$.value + 1), 
                            previousScorecard = this.scorecard, [ 4, this.goalsHttpService.getGoalValues(this.scorecard.groupId, this.scorecard.id, goal.id, !0, this.scorecard.hierarchyPaths).toPromise() ];

                          case 2:
                            return values_1 = _a.sent(), this.assertScorecardLoaded(previousScorecard) ? (this.scorecard = (0, 
                            immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId);
                                debug.fF.assertValue(goal, "goal"), goal.goalValues = values_1, goal.isExpanded = !0;
                            }), this.commit(), [ 3, 5 ]) : [ 2 ];

                          case 3:
                            throw error_5 = _a.sent(), this.goalsErrorService.showUserError(error_5, "ExpandGoalValues"), 
                            error_5;

                          case 4:
                            return this.loading$.next(this.loading$.value - 1), [ 7 ];

                          case 5:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.upsertGoalValues = function(goalId, goalValues) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goal, newGoalValues_1, error_6;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            if (!this.assertNoActivehierarchy(!0)) return [ 2 ];
                            goal = scorecard_helper.q.getGoal(this.scorecard.goals, goalId), debug.fF.assertValue(goal, "goal"), 
                            _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 5, 6, 7 ]), this.loading$.next(this.loading$.value + 1), 
                            [ 4, this.pollingService.refreshRollups(goal, goalValues) ];

                          case 2:
                            return _a.sent(), [ 4, this.goalsHttpService.upsertGoalValues(this.scorecard.groupId, this.scorecard.id, goalId, goalValues).toPromise() ];

                          case 3:
                            return newGoalValues_1 = _a.sent(), [ 4, this.refreshGoal(goalId) ];

                          case 4:
                            return _a.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId);
                                goal.goalValues = newGoalValues_1, goal.isExpanded = !0;
                            }), this.commit(), [ 3, 7 ];

                          case 5:
                            throw error_6 = _a.sent(), this.goalsErrorService.showUserError(error_6, "UpsertGoalValues"), 
                            error_6;

                          case 6:
                            return this.loading$.next(this.loading$.value - 1), [ 7 ];

                          case 7:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.overwriteMultipleGoalValues = function(goalId, values) {
                var _a, _b;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var changes, goal, baseValues, goalDiffValues, goalValues;
                    return (0, tslib_es6.__generator)(this, function(_c) {
                        switch (_c.label) {
                          case 0:
                            return this.assertNoActivehierarchy(!0) ? [ 4, this.expandGoalValues(goalId) ] : [ 2 ];

                          case 1:
                            return _c.sent(), goal = scorecard_helper.q.getGoal(this.scorecard.goals, goalId), 
                            baseValues = null !== (_b = null === (_a = goal.goalValues) || void 0 === _a ? void 0 : _a.filter(function(value) {
                                return !_.isNil(value.value);
                            }).map(function(t) {
                                return {
                                    timestamp: t.timestamp,
                                    value: t.value
                                };
                            })) && void 0 !== _b ? _b : [], goalDiffValues = values.map(function(t) {
                                return {
                                    timestamp: t.timestamp,
                                    value: t.value
                                };
                            }), (changes = goal_value_helper.B.calculateGoalValueChanges(baseValues, goalDiffValues)).length > 0 ? (goalValues = changes.map(function(t) {
                                return {
                                    timestamp: t.timestamp,
                                    value: t.value
                                };
                            }), [ 4, this.upsertGoalValues(goalId, goalValues) ]) : [ 3, 3 ];

                          case 2:
                            _c.sent(), _c.label = 3;

                          case 3:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.overwriteGoalTargets = function(goalId, targets) {
                var _a, _b;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goal, baseTargets, goalDiffTargets, changes, goalValues;
                    return (0, tslib_es6.__generator)(this, function(_c) {
                        switch (_c.label) {
                          case 0:
                            return this.assertNoActivehierarchy(!0) ? [ 4, this.expandGoalValues(goalId) ] : [ 2 ];

                          case 1:
                            return _c.sent(), goal = scorecard_helper.q.getGoal(this.scorecard.goals, goalId), 
                            baseTargets = null !== (_b = null === (_a = goal.goalValues) || void 0 === _a ? void 0 : _a.filter(function(value) {
                                return !_.isNil(value.target);
                            }).map(function(t) {
                                return {
                                    timestamp: t.timestamp,
                                    value: t.target
                                };
                            })) && void 0 !== _b ? _b : [], goalDiffTargets = targets.map(function(t) {
                                return {
                                    timestamp: t.timestamp,
                                    value: t.target
                                };
                            }), (changes = goal_value_helper.B.calculateGoalValueChanges(baseTargets, goalDiffTargets)).length > 0 ? (goalValues = changes.map(function(t) {
                                return {
                                    timestamp: t.timestamp,
                                    target: t.value
                                };
                            }), [ 4, this.upsertGoalValues(goalId, goalValues) ]) : [ 3, 3 ];

                          case 2:
                            _c.sent(), _c.label = 3;

                          case 3:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.followGoal = function(goalId) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var error_7;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            if (!this.assertNoActivehierarchy(!0)) return [ 2 ];
                            if (scorecard_helper.q.isSampleScorecard(this.scorecard)) return [ 2 ];
                            debug.fF.assertValue(this.scorecard, "No scorecard loaded"), _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, , 4 ]), [ 4, this.goalsHttpService.followGoal(this.scorecard.groupId, this.scorecard.id, goalId).toPromise() ];

                          case 2:
                            return _a.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId);
                                debug.fF.assertValue(goal, "Goal not found"), goal.isFollowed = !0;
                            }), this.commit(), [ 3, 4 ];

                          case 3:
                            throw error_7 = _a.sent(), this.goalsErrorService.showUserError(error_7, "Follow Metric Error"), 
                            error_7;

                          case 4:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.unfollowGoal = function(goalId) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var error_8;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            if (!this.assertNoActivehierarchy(!0)) return [ 2 ];
                            if (scorecard_helper.q.isSampleScorecard(this.scorecard)) return [ 2 ];
                            debug.fF.assertValue(this.scorecard, "No scorecard loaded"), _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, , 4 ]), [ 4, this.goalsHttpService.unfollowGoal(this.scorecard.groupId, this.scorecard.id, goalId).toPromise() ];

                          case 2:
                            return _a.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId);
                                debug.fF.assertValue(goal, "Goal not found"), goal.isFollowed = !1;
                            }), this.commit(), [ 3, 4 ];

                          case 3:
                            throw error_8 = _a.sent(), this.goalsErrorService.showUserError(error_8, "Unfollow Metric Error"), 
                            error_8;

                          case 4:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.editNote = function(goalId, timestamp, noteId, noteRequest) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var previousScorecard, result_1, error_9;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            debug.fF.assertValue(this.scorecard, "No scorecard loaded"), _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, , 4 ]), previousScorecard = this.scorecard, [ 4, this.goalsHttpService.editNote(this.scorecard.groupId, this.scorecard.id, goalId, noteId, timestamp, noteRequest, this.scorecard.hierarchyPaths).toPromise() ];

                          case 2:
                            return result_1 = _a.sent(), this.assertScorecardLoaded(previousScorecard) ? (this.scorecard = (0, 
                            immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId);
                                debug.fF.assertValue(goal, "Goal not found");
                                var goalValue = _.find(goal.goalValues, function(value) {
                                    return new Date(value.timestamp).getTime() === new Date(timestamp).getTime();
                                });
                                if (debug.fF.assertValue(goalValue, "Goal value not found"), !_.isEmpty(goalValue)) {
                                    var affectedGoalNoteIndex = goalValue.notes.findIndex(function(note) {
                                        return note.id === noteId;
                                    });
                                    debug.fF.assertValue(goalValue.notes, "Goal note not found"), goalValue.notes[affectedGoalNoteIndex] = result_1;
                                }
                            }), this.commit(), [ 3, 4 ]) : [ 2 ];

                          case 3:
                            throw error_9 = _a.sent(), this.goalsErrorService.showUserError(error_9, "EditGoalNoteError"), 
                            error_9;

                          case 4:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.insertNote = function(goalId, timestamp, noteRequest) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var previousScorecard, result_2, error_10;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            debug.fF.assertValue(this.scorecard, "No scorecard loaded"), _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, , 4 ]), previousScorecard = this.scorecard, [ 4, this.goalsHttpService.insertNote(this.scorecard.groupId, this.scorecard.id, goalId, timestamp, noteRequest, this.scorecard.hierarchyPaths).toPromise() ];

                          case 2:
                            return result_2 = _a.sent(), this.assertScorecardLoaded(previousScorecard) ? (this.scorecard = (0, 
                            immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId);
                                debug.fF.assertValue(goal, "Goal not found");
                                var goalValue = _.find(goal.goalValues, function(value) {
                                    return new Date(value.timestamp).getTime() === new Date(timestamp).getTime();
                                });
                                debug.fF.assertValue(goalValue, "Goal value not found"), goal.notesCount = _.isFinite(goal.notesCount) ? goal.notesCount + 1 : 1, 
                                goalValue.notes = (0, tslib_es6.__spreadArray)((0, tslib_es6.__spreadArray)([], goalValue.notes || [], !0), [ result_2 ], !1);
                            }), this.commit(), [ 3, 4 ]) : [ 2 ];

                          case 3:
                            throw error_10 = _a.sent(), this.goalsErrorService.showUserError(error_10, "InsertGoalNoteError"), 
                            error_10;

                          case 4:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.getGoal = function(goalId) {
                return debug.fF.assertValue(this.scorecard, "No scorecard loaded"), this._scorecard$.pipe((0, 
                operators_map.U)(function(scorecard) {
                    return scorecard_helper.q.getGoal(scorecard.goals, goalId);
                }), (0, operators_distinctUntilChanged.x)());
            }, ScorecardService.prototype.getGoals = function() {
                return debug.fF.assertValue(this.scorecard, "No scorecard loaded"), this._scorecard$.pipe((0, 
                operators_map.U)(function(scorecard) {
                    return scorecard.goals;
                }));
            }, ScorecardService.prototype.getActiveGoal = function() {
                var _this = this;
                return this._activeGoalId$.pipe((0, operators_switchMap.w)(function(id) {
                    return id ? _this.getGoal(id) : (0, observable_of.of)(void 0);
                }));
            }, ScorecardService.prototype.getActiveGoalId = function() {
                return this._activeGoalId$;
            }, ScorecardService.prototype.deleteNote = function(note) {
                var _this = this;
                return this.promptUserConfirmation({
                    title: this.localizationService.get("ScorecardDialog_Delete_Note_Title"),
                    message: this.localizationService.get("ScorecardDialog_Action_Cant_be_Undone"),
                    panelClass: [ "updateDeleteNoteConfirmationDialogPanel" ],
                    onConfirmation: function() {
                        return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                            return (0, tslib_es6.__generator)(this, function(_a) {
                                switch (_a.label) {
                                  case 0:
                                    return [ 4, this.deleteNoteRequest(note) ];

                                  case 1:
                                    return _a.sent(), [ 2, !0 ];
                                }
                            });
                        });
                    }
                });
            }, ScorecardService.prototype.deleteNoteRequest = function(note) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var previousScorecard, error_11;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            debug.fF.assertValue(this.scorecard, "No scorecard loaded"), previousScorecard = this.scorecard, 
                            _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, , 4 ]), [ 4, this.goalsHttpService.deleteNote(this.scorecard.groupId, this.scorecard.id, note.goalId, note.id, note.valueTimestamp, this.scorecard.hierarchyPaths).toPromise() ];

                          case 2:
                            return _a.sent(), [ 3, 4 ];

                          case 3:
                            if (404 !== (null == (error_11 = _a.sent()) ? void 0 : error_11.status)) throw this.goalsErrorService.showUserError(error_11, "DeleteGoalNoteError"), 
                            error_11;
                            return [ 3, 4 ];

                          case 4:
                            return this.assertScorecardLoaded(previousScorecard) ? (this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var goal = scorecard_helper.q.getGoal(draftScorecard.goals, note.goalId);
                                if (debug.fF.assertValue(goal, "Goal not found"), !_.isEmpty(goal.goalValues)) {
                                    var affectedGoalValue = _.find(goal.goalValues, function(value) {
                                        return new Date(value.timestamp).getTime() === new Date(note.valueTimestamp).getTime();
                                    });
                                    affectedGoalValue.notes = _.filter(affectedGoalValue.notes, function(affectedNote) {
                                        return affectedNote.id !== note.id;
                                    });
                                }
                                goal.notesCount = null == goal.notesCount ? 0 : goal.notesCount - 1;
                            }), this.commit(), [ 2 ]) : [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.deleteGoal = function(goalId) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goal, hasSubgoals, title, message, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return this.assertNoActivehierarchy() ? [ 4, this.getGoal(goalId).pipe((0, operators_take.q)(1)).toPromise() ] : [ 2 ];

                          case 1:
                            return goal = _a.sent(), hasSubgoals = !_.isEmpty(goal.subGoals), title = this.localizationService.get(goal.isLinked ? hasSubgoals ? "ScorecardDialog_Delete_Metric_Title_Linked" : "ScorecardDialog_Delete_Metric_Title_Linked_Submetrics" : hasSubgoals ? "ScorecardDialog_Delete_Metric_Title" : "ScorecardDialog_Delete_Metric_Title_Submetrics"), 
                            message = goal.isLinked ? this.localizationService.get("ScorecardDialog_Delete_Metric_Message_Linked") + (hasSubgoals ? this.localizationService.get("ScorecardDialog_Delete_Metric_Message_Linked_Submetrics") : "") : this.localizationService.get("ScorecardDialog_Delete_Metric_Message_First_Line"), 
                            [ 2, this.promptUserConfirmation({
                                title,
                                message,
                                panelClass: [ "updateConfirmationDialogPanel" ],
                                onConfirmation: function() {
                                    return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                                        return (0, tslib_es6.__generator)(this, function(_a) {
                                            switch (_a.label) {
                                              case 0:
                                                return [ 4, this.pollingService.refreshRollupsAfterGoalDelete(goal) ];

                                              case 1:
                                                return _a.sent(), [ 4, this.deleteGoalRequest(goalId) ];

                                              case 2:
                                                return _a.sent(), [ 2, !0 ];
                                            }
                                        });
                                    });
                                }
                            }) ];
                        }
                    });
                });
            }, ScorecardService.prototype.applySortAndFilter = function(sort, filterBy) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return this.scorecard ? [ 4, this.ensureUsersLoaded() ] : [ 2 ];

                          case 1:
                            return _a.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                draftScorecard.goals = scorecard_sort_helper.p.sortAndFilter(draftScorecard.goals, sort, _this._goalStatusesByScorecardId$.value, filterBy);
                            }), this.commit(), [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.deleteGoalRequest = function(goalId) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goal, error_12;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            if (!this.assertNoActivehierarchy()) return [ 2 ];
                            if (debug.fF.assertValue(this.scorecard, "No scorecard loaded"), goal = scorecard_helper.q.getGoal(this.scorecard.goals, goalId), 
                            debug.fF.assertValue(goal, "Goal not found"), goal.isNew) return [ 3, 4 ];
                            _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, , 4 ]), this.setGoalState(goalId, "Deleting"), [ 4, this.goalsHttpService.deleteGoal(this.scorecard.groupId, this.scorecard.id, goal.id).toPromise() ];

                          case 2:
                            return _a.sent(), [ 3, 4 ];

                          case 3:
                            if (404 !== (null == (error_12 = _a.sent()) ? void 0 : error_12.status)) throw this.goalsErrorService.showUserError(error_12, "DeleteGoalError"), 
                            this.setGoalState(goalId, "Consumption"), error_12;
                            return [ 3, 4 ];

                          case 4:
                            return this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var parentGoal = scorecard_helper.q.getGoal(draftScorecard.goals, goal.parentId);
                                (null == parentGoal ? void 0 : parentGoal.subGoals) ? parentGoal.subGoals = parentGoal.subGoals.filter(function(g) {
                                    return g.id !== goalId;
                                }) : draftScorecard.goals && (draftScorecard.goals = draftScorecard.goals.filter(function(g) {
                                    return g.id !== goalId;
                                }));
                            }), this.commit(), [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.deleteGoalValue = function(goalValue) {
                var _this = this;
                return this.promptUserConfirmation({
                    title: this.localizationService.get("ScorecardDialog_Delete_CheckIn_Message_title"),
                    message: "".concat(this.localizationService.get("ScorecardDialog_Delete_CheckIn_Message_First_Line"), "\n\n            ").concat(this.localizationService.get("ScorecardDialog_Action_Cant_be_Undone")),
                    panelClass: [ "updateDeleteCheckInConfirmationDialogPanel" ],
                    onConfirmation: function() {
                        return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                            var goal;
                            return (0, tslib_es6.__generator)(this, function(_a) {
                                switch (_a.label) {
                                  case 0:
                                    return [ 4, this.getGoal(goalValue.goalId).pipe((0, operators_take.q)(1)).toPromise() ];

                                  case 1:
                                    return goal = _a.sent(), [ 4, this.pollingService.refreshRollupsAfterGoalValueDelete(goal, goalValue) ];

                                  case 2:
                                    return _a.sent(), [ 4, this.deleteGoalValueRequest(goalValue) ];

                                  case 3:
                                    return _a.sent(), [ 2, !0 ];
                                }
                            });
                        });
                    }
                });
            }, ScorecardService.prototype.deleteGoalValueRequest = function(goalValue) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var previousScorecard, error_13;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            debug.fF.assertValue(this.scorecard, "No scorecard loaded"), previousScorecard = this.scorecard, 
                            _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, , 4 ]), [ 4, this.goalsHttpService.deleteGoalValue(this.scorecard.groupId, this.scorecard.id, goalValue.goalId, goalValue.timestamp, this.scorecard.hierarchyPaths).toPromise() ];

                          case 2:
                            return _a.sent(), [ 3, 4 ];

                          case 3:
                            if (404 !== (null == (error_13 = _a.sent()) ? void 0 : error_13.status)) throw this.goalsErrorService.showUserError(error_13, "DeleteGoalValueError"), 
                            error_13;
                            return [ 3, 4 ];

                          case 4:
                            return this.assertScorecardLoaded(previousScorecard) ? (this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalValue.goalId);
                                debug.fF.assertValue(goal, "Goal not found"), goal.goalValues = _.filter(goal.goalValues, function(affectedGoalValue) {
                                    return affectedGoalValue.timestamp !== goalValue.timestamp;
                                });
                            }), [ 4, this.refreshGoal(goalValue.goalId) ]) : [ 2 ];

                          case 5:
                            return _a.sent(), this.commit(), [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.updateGoalQueryConnection = function(goalId, type, query) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goal, updatedGoal_1, error_14, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            if (debug.fF.assertValue(this.scorecard, "No scorecard loaded"), goal = scorecard_helper.q.getGoal(this.scorecard.goals, goalId), 
                            debug.fF.assertValue(goal, "goal"), scorecard_helper.q.compareGoalQueryConnections(1 === type ? goal.valueConnection : goal.targetConnection, query)) return [ 2 ];
                            if (!this.assertNoActivehierarchy()) return [ 2 ];
                            _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 4, , 5 ]), [ 4, this.pollingService.startPollingAsync(goal, type, {
                                refreshGoal: !0,
                                refreshGoalValues: !0,
                                refreshRollups: !0
                            }) ];

                          case 2:
                            return _a.sent(), [ 4, this.goalsHttpService.updateGoalQueryConnection(this.scorecard.groupId, this.scorecard.id, goalId, type, (0, 
                            tslib_es6.__assign)((0, tslib_es6.__assign)({}, query), {
                                userId: this.userInfo.uoid
                            })).toPromise() ];

                          case 3:
                            return updatedGoal_1 = _a.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId), _this.assignGoal(goal, updatedGoal_1);
                            }), this.commit(), [ 3, 5 ];

                          case 4:
                            throw error_14 = _a.sent(), this.goalsErrorService.showUserError(error_14, "UpdateGoalQueryConnectionError"), 
                            error_14;

                          case 5:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.deleteGoalQueryConnection = function(goalId, type) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        return this.assertNoActivehierarchy() ? [ 2, this.promptUserConfirmation({
                            title: this.localizationService.get("ScorecardDialog_Delete_Metric_Query_Connection_Title"),
                            message: "".concat(this.localizationService.format("ScorecardDialog_Delete_Metric_Query_Connection_Message_Line_1", [ this.localizationService.get(1 === type ? "CurrentValue" : "Target") ]), "\n\n            ").concat(this.localizationService.get("ScorecardDialog_Action_Cant_be_Undone")),
                            onConfirmation: function() {
                                return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                                    var updatedGoal_2, error_15, _this = this;
                                    return (0, tslib_es6.__generator)(this, function(_a) {
                                        switch (_a.label) {
                                          case 0:
                                            debug.fF.assertValue(this.scorecard, "No scorecard loaded"), _a.label = 1;

                                          case 1:
                                            return _a.trys.push([ 1, 5, , 6 ]), [ 4, this.goalsHttpService.deleteGoalQueryConnection(this.scorecard.groupId, this.scorecard.id, goalId, type).toPromise() ];

                                          case 2:
                                            return updatedGoal_2 = _a.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                                var goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId);
                                                if (!goal) throw "Goal not found";
                                                goal.valueConnection = updatedGoal_2.valueConnection, goal.targetConnection = updatedGoal_2.targetConnection, 
                                                _this.assignGoal(goal, updatedGoal_2);
                                            }), [ 4, this.refreshGoal(goalId) ];

                                          case 3:
                                            return _a.sent(), [ 4, this.expandGoalValues(goalId) ];

                                          case 4:
                                            return _a.sent(), this.commit(), [ 3, 6 ];

                                          case 5:
                                            throw error_15 = _a.sent(), this.goalsErrorService.showUserError(error_15, "DeleteGoalQueryConnectionError"), 
                                            error_15;

                                          case 6:
                                            return [ 2, !0 ];
                                        }
                                    });
                                });
                            }
                        }) ] : [ 2 ];
                    });
                });
            }, ScorecardService.prototype.takeOverGoalQueryConnection = function(goalId, type) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        return this.assertNoActivehierarchy() ? [ 2, this.promptUserConfirmation({
                            title: this.localizationService.get("MetricsDetailsPane_ConnectionsTab_TakeOver_Confirmation_Title"),
                            message: this.localizationService.get("MetricsDetailsPane_ConnectionsTab_TakeOver_Confirmation"),
                            okButtonText: this.localizationService.get("MetricsDetailsPane_ConnectionsTab_TakeOver"),
                            onConfirmation: function() {
                                return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                                    var updatedGoal_3, error_16, _this = this;
                                    return (0, tslib_es6.__generator)(this, function(_a) {
                                        switch (_a.label) {
                                          case 0:
                                            debug.fF.assertValue(this.scorecard, "No scorecard loaded"), _a.label = 1;

                                          case 1:
                                            return _a.trys.push([ 1, 3, , 4 ]), [ 4, this.goalsHttpService.takeOverGoalQueryConnection(this.scorecard.groupId, this.scorecard.id, goalId, type).toPromise() ];

                                          case 2:
                                            return updatedGoal_3 = _a.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                                var goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId);
                                                _this.assignGoal(goal, updatedGoal_3);
                                            }), this.commit(), [ 3, 4 ];

                                          case 3:
                                            if (400 !== (null == (error_16 = _a.sent()) ? void 0 : error_16.status)) throw this.goalsErrorService.showUserError(error_16, "TakeOverGoalQueryConnectionError"), 
                                            error_16;
                                            return this.errorService.errorNoDefaultAdditionalErrorInfo(this.localizationService.get("MetricsDetailsPane_ConnectionsTab_TakeOver_Error"), "TakeOverGoalQueryConnectionError", {
                                                title: this.localizationService.get("MetricsDetailsPane_ConnectionsTab_TakeOver_Error_Title"),
                                                level: traceType.U.Information
                                            }), [ 3, 4 ];

                                          case 4:
                                            return [ 2 ];
                                        }
                                    });
                                });
                            }
                        }) ] : [ 2 ];
                    });
                });
            }, ScorecardService.prototype.getRefreshHistory = function(goalId) {
                var _a;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var error_17;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            if (debug.fF.assertValue(this.scorecard, "No scorecard loaded"), this.scorecard.isSample) return [ 2, [] ];
                            if (!scorecard_helper.q.getGoal(null === (_a = this.scorecard) || void 0 === _a ? void 0 : _a.goals, goalId)) return debug.fF.assertFail("goal"), 
                            [ 2 ];
                            _b.label = 1;

                          case 1:
                            return _b.trys.push([ 1, 3, , 4 ]), [ 4, this.goalsHttpService.getRefreshHistory(this.scorecard.groupId, this.scorecard.id, goalId).toPromise() ];

                          case 2:
                            return [ 2, _b.sent() ];

                          case 3:
                            throw error_17 = _b.sent(), this.goalsErrorService.showUserError(error_17, "GetRefreshHistoryError"), 
                            error_17;

                          case 4:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.refreshGoalValue = function(goalId, type) {
                var _a;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goal, error_18;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            if (debug.fF.assertValue(this.scorecard, "No scorecard loaded"), !(goal = scorecard_helper.q.getGoal(null === (_a = this.scorecard) || void 0 === _a ? void 0 : _a.goals, goalId))) return debug.fF.assertFail("goal"), 
                            [ 2 ];
                            if (1 === type && !goal.valueConnection || 2 === type && !goal.targetConnection) return [ 2 ];
                            _b.label = 1;

                          case 1:
                            return _b.trys.push([ 1, 4, , 5 ]), [ 4, this.pollingService.startPollingAsync(goal, type, {
                                refreshGoal: !0,
                                refreshGoalValues: !0,
                                refreshRollups: !0
                            }) ];

                          case 2:
                            return _b.sent(), [ 4, this.goalsHttpService.refreshGoalValue(this.scorecard.groupId, this.scorecard.id, goalId, type).toPromise() ];

                          case 3:
                            return _b.sent(), this.showRefreshConfirmation(), [ 3, 5 ];

                          case 4:
                            if (429 === (null == (error_18 = _b.sent()) ? void 0 : error_18.status)) return this.goalsErrorService.showThrottlingError(), 
                            this.setGoalRefreshState(goalId, type, !1), [ 2 ];
                            throw this.goalsErrorService.showUserError(error_18, "RefreshGoalValue"), error_18;

                          case 5:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.upsertGoalValueRollup = function(goalId, type, rollupType) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goal, updatedGoal_4, goalRollupRequest, today, error_19, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            if (!this.assertNoActivehierarchy()) return [ 2 ];
                            debug.fF.assertValue(this.scorecard, "No scorecard loaded"), goal = scorecard_helper.q.getGoal(this.scorecard.goals, goalId), 
                            debug.fF.assertValue(goal, "goal"), _b.label = 1;

                          case 1:
                            return _b.trys.push([ 1, 10, , 11 ]), goalRollupRequest = void 0, today = date_utils.E.getCurrentLocalDay(), 
                            _.isEmpty(goal.subGoals) ? [ 3, 3 ] : [ 4, this.pollingService.startPollingAsync(goal, type, {
                                refreshGoal: !0,
                                refreshGoalValues: !0,
                                refreshRollups: !0
                            }) ];

                          case 2:
                            _b.sent(), _b.label = 3;

                          case 3:
                            switch (goalRollupRequest = goal_helper.r.hasHistoricalGoalValue(goal.goalValues, type) ? {
                                rollupType,
                                startDate: today.toISOString()
                            } : {
                                rollupType
                            }, type) {
                              case 1:
                                return [ 3, 4 ];

                              case 2:
                                return [ 3, 6 ];
                            }
                            return [ 3, 8 ];

                          case 4:
                            return [ 4, this.goalsHttpService.upsertGoalCurrentValueRollup(this.scorecard.groupId, this.scorecard.id, goalId, goalRollupRequest).toPromise() ];

                          case 5:
                            return updatedGoal_4 = _b.sent(), [ 3, 9 ];

                          case 6:
                            return [ 4, this.goalsHttpService.upsertGoalTargetValueRollup(this.scorecard.groupId, this.scorecard.id, goalId, goalRollupRequest).toPromise() ];

                          case 7:
                            return updatedGoal_4 = _b.sent(), [ 3, 9 ];

                          case 8:
                            debug.fF.assertNever(type), _b.label = 9;

                          case 9:
                            return this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId), _this.assignGoal(goal, updatedGoal_4);
                            }), this.commit(), [ 3, 11 ];

                          case 10:
                            throw error_19 = _b.sent(), this.goalsErrorService.showUserError(error_19, "upsertGoalValueRollupError"), 
                            error_19;

                          case 11:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.deleteGoalValueRollup = function(goalId, type) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goal, updatedGoal_5, error_20, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            if (!this.assertNoActivehierarchy()) return [ 2 ];
                            debug.fF.assertValue(this.scorecard, "No scorecard loaded"), goal = scorecard_helper.q.getGoal(this.scorecard.goals, goalId), 
                            debug.fF.assertValue(goal, "goal"), _b.label = 1;

                          case 1:
                            switch (_b.trys.push([ 1, 8, , 9 ]), type) {
                              case 1:
                                return [ 3, 2 ];

                              case 2:
                                return [ 3, 4 ];
                            }
                            return [ 3, 6 ];

                          case 2:
                            return [ 4, this.goalsHttpService.deleteGoalCurrentValueRollup(this.scorecard.groupId, this.scorecard.id, goalId).toPromise() ];

                          case 3:
                            return updatedGoal_5 = _b.sent(), [ 3, 7 ];

                          case 4:
                            return [ 4, this.goalsHttpService.deleteGoalTargetValueRollup(this.scorecard.groupId, this.scorecard.id, goalId).toPromise() ];

                          case 5:
                            return updatedGoal_5 = _b.sent(), [ 3, 7 ];

                          case 6:
                            debug.fF.assertNever(type), _b.label = 7;

                          case 7:
                            return this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                (goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId)).valueRollup = updatedGoal_5.valueRollup, 
                                goal.targetRollup = updatedGoal_5.targetRollup, _this.assignGoal(goal, updatedGoal_5);
                            }), this.commit(), [ 3, 9 ];

                          case 8:
                            throw error_20 = _b.sent(), this.goalsErrorService.showUserError(error_20, "deleteGoalValueRollupError"), 
                            error_20;

                          case 9:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.getStatusRules = function(goalId) {
                var _a;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goal, error_21;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            if (debug.fF.assertValue(this.scorecard, "No scorecard loaded"), this.scorecard.isSample) return [ 2, null ];
                            if (!(goal = scorecard_helper.q.getGoal(null === (_a = this.scorecard) || void 0 === _a ? void 0 : _a.goals, goalId))) return debug.fF.assertFail("goal"), 
                            [ 2 ];
                            if (!goal.hasStatusRules) return [ 2, null ];
                            _b.label = 1;

                          case 1:
                            return _b.trys.push([ 1, 3, , 4 ]), [ 4, this.goalsHttpService.getGoalStatusRules(this.scorecard.groupId, this.scorecard.id, goalId).toPromise() ];

                          case 2:
                            return [ 2, _b.sent() ];

                          case 3:
                            throw error_21 = _b.sent(), this.goalsErrorService.showUserError(error_21, "GetStatusRulesError"), 
                            error_21;

                          case 4:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.saveStatusRules = function(goalId, statusRules) {
                var _a, _b, _c, _d;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goal, request, result, error_22;
                    return (0, tslib_es6.__generator)(this, function(_e) {
                        switch (_e.label) {
                          case 0:
                            return this.assertNoActivehierarchy() ? (debug.fF.assertValue(this.scorecard, "No scorecard loaded"), 
                            (goal = scorecard_helper.q.getGoal(null === (_a = this.scorecard) || void 0 === _a ? void 0 : _a.goals, goalId)) ? statusRules && !_.isEmpty(statusRules.rules) ? [ 3, 5 ] : goal.hasStatusRules ? [ 4, this.goalsHttpService.deleteGoalStatusRules(this.scorecard.groupId, this.scorecard.id, goalId).toPromise() ] : [ 3, 4 ] : (debug.fF.assertFail("goal"), 
                            [ 2 ])) : [ 2, statusRules ];

                          case 1:
                            return _e.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                (goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId)).hasStatusRules = !1;
                            }), this.commit(), [ 4, this.refreshGoal(goalId) ];

                          case 2:
                            return _e.sent(), [ 4, this.expandGoalValues(goalId, !0) ];

                          case 3:
                            _e.sent(), _e.label = 4;

                          case 4:
                            return [ 2 ];

                          case 5:
                            return _e.trys.push([ 5, 9, , 10 ]), request = scorecard_helper.q.getGoalStatusRulesUpdateRequest(statusRules), 
                            [ 4, this.goalsHttpService.upsertGoalStatusRules(this.scorecard.groupId, this.scorecard.id, goalId, request).toPromise() ];

                          case 6:
                            return result = _e.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                (goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId)).hasStatusRules = !0;
                            }), this.commit(), [ 4, this.refreshGoal(goalId) ];

                          case 7:
                            return _e.sent(), [ 4, this.expandGoalValues(goalId, !0) ];

                          case 8:
                            return _e.sent(), [ 2, result ];

                          case 9:
                            throw 400 === (null == (error_22 = _e.sent()) ? void 0 : error_22.status) ? this.errorService.errorNoDefaultAdditionalErrorInfo(this.localizationService.get("MetricsDetailsPane_StatusRulesTab_SaveRulesError_Description"), "GetStatusRulesError", {
                                title: this.localizationService.get("MetricsDetailsPane_StatusRulesTab_SaveRulesError"),
                                level: traceType.U.Information,
                                isDismissable: !0,
                                showAdditionalErrorInfo: !0,
                                errorDetails: null === (_d = null === (_c = null === (_b = null == error_22 ? void 0 : error_22.error) || void 0 === _b ? void 0 : _b.details) || void 0 === _c ? void 0 : _c[0]) || void 0 === _d ? void 0 : _d.message
                            }) : this.goalsErrorService.showUserError(error_22, "GetStatusRulesError"), error_22;

                          case 10:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.loadPrefetchedScorecard = function(prefetchedScorecard) {
                return this.setScorecardWithGoals(prefetchedScorecard), this._scorecard$.asObservable();
            }, ScorecardService.prototype.addGoal = function() {
                var _this = this;
                if (this.assertNoActivehierarchy()) {
                    debug.fF.assertValue(this.scorecard, "No scorecard loaded"), debug.fF.assert(function() {
                        return _this.userHasWritePermissions();
                    }, "has write permissions");
                    var owner = scorecard_helper.q.getCurrentUser(), newGoal = scorecard_helper.q.createNewGoal(owner, this.scorecard.id);
                    return this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                        if (draftScorecard.goals ? draftScorecard.goals.push(newGoal) : draftScorecard.goals = [ newGoal ], 
                        -1 !== draftScorecard.goals.findIndex(function(goal) {
                            return !_.isNil(goal.rank);
                        })) {
                            var rank_2 = 0;
                            draftScorecard.goals.forEach(function(goal) {
                                goal.rank = rank_2, rank_2++;
                            });
                        }
                    }), this.commit(), newGoal.id;
                }
            }, ScorecardService.prototype.addSubGoal = function(parentGoalId, clearSelection) {
                var _this = this;
                void 0 === clearSelection && (clearSelection = !0), this.assertNoActivehierarchy() && (debug.fF.assertValue(this.scorecard, "No scorecard loaded"), 
                this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                    var parentGoal = scorecard_helper.q.getGoal(draftScorecard.goals, parentGoalId);
                    debug.fF.assertValue(parentGoal, "Parent goal not found");
                    var owner = scorecard_helper.q.getCurrentUser(), newGoal = scorecard_helper.q.createNewGoal(owner, _this.scorecard.id, parentGoal.id);
                    if (parentGoal.subGoals ? parentGoal.subGoals.push(newGoal) : parentGoal.subGoals = [ newGoal ], 
                    clearSelection && (draftScorecard.activeGoalId = void 0, draftScorecard.selectedGoalIds = {}), 
                    !_.isNil(parentGoal.rank) || -1 !== parentGoal.subGoals.findIndex(function(goal) {
                        return !_.isNil(goal.rank);
                    })) {
                        var rank_3 = 0;
                        parentGoal.subGoals.forEach(function(goal) {
                            goal.rank = rank_3, rank_3++;
                        });
                    }
                }), this.commit());
            }, ScorecardService.prototype.updateScorecard = function(scorecardUpdateRequest) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var refreshScorecard, updatedScorecard_1, error_23, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return _a.trys.push([ 0, 4, , 5 ]), refreshScorecard = void 0 !== scorecardUpdateRequest.localTimeZoneId && scorecardUpdateRequest.localTimeZoneId !== this.scorecard.localTimeZoneId, 
                            [ 4, this.goalsHttpService.updateScorecard(this.scorecard.groupId, this.scorecard.id, scorecardUpdateRequest).toPromise() ];

                          case 1:
                            return updatedScorecard_1 = _a.sent(), scorecardUpdateRequest.name && this.store.select(group_selector.iF).pipe((0, 
                            operators_take.q)(1)).subscribe(function(myFolderObjectId) {
                                _this.tabFacade.updateTab(myFolderObjectId === _this.scorecard.groupId ? {
                                    id: "me##" + _this.scorecard.id,
                                    title: scorecardUpdateRequest.name
                                } : {
                                    id: _this.scorecard.groupId + "##" + _this.scorecard.id,
                                    title: scorecardUpdateRequest.name
                                });
                            }), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                for (var _i = 0, keys_1 = _.keys(scorecardUpdateRequest); _i < keys_1.length; _i++) {
                                    var key = keys_1[_i];
                                    draftScorecard[key] = updatedScorecard_1[key];
                                }
                            }), this.commit(), refreshScorecard ? [ 4, this.loadScorecard(this.scorecard.groupId, this.scorecard.id, !1, this.scorecard.hierarchyPaths) ] : [ 3, 3 ];

                          case 2:
                            _a.sent(), _a.label = 3;

                          case 3:
                            return [ 3, 5 ];

                          case 4:
                            throw error_23 = _a.sent(), this.goalsErrorService.showUserError(error_23, "UpdateScorecardError"), 
                            error_23;

                          case 5:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.setGoalState = function(goalId, goalState) {
                debug.fF.assertValue(this.scorecard, "No scorecard loaded"), this.scorecard = (0, 
                immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                    var goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId);
                    debug.fF.assertValue(goal, "Goal not found"), goal.state = goalState, "Editing" !== goal.state && "Deleting" !== goal.state || !draftScorecard.selectedGoalIds[goal.id] && draftScorecard.activeGoalId !== goal.id || (draftScorecard.activeGoalId = void 0, 
                    "Deleting" === goal.state && delete draftScorecard.selectedGoalIds[goal.id]);
                }), this.commit();
            }, ScorecardService.prototype.cancelEditing = function(goalId) {
                debug.fF.assertValue(this.scorecard, "No scorecard loaded");
                var goal = scorecard_helper.q.getGoal(this.scorecard.goals, goalId);
                debug.fF.assertValue(goal, "Goal not found"), goal.isNew ? this.deleteGoalRequest(goalId) : this.setGoalState(goalId, "Consumption");
            }, ScorecardService.prototype.setViewType = function(view, skipConfirmation) {
                var _this = this;
                view !== this.viewType && (scorecard_helper.q.isEditing(this.scorecard) && !skipConfirmation ? this.promptUserConfirmation({
                    title: this.localizationService.get("MetricsUnsavedChangesTitle"),
                    message: this.localizationService.get("MetricsUnsavedChangesDescription_SwitchView"),
                    okButtonText: this.localizationService.get("ModalDialogButtonText_Continue"),
                    panelClass: [ "updateConfirmationDialogPanel" ],
                    onConfirmation: function() {
                        return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                            var _this = this;
                            return (0, tslib_es6.__generator)(this, function(_a) {
                                return scorecard_helper.q.filterGoals(this.scorecard.goals, function(goal) {
                                    return !!goal.isNew || "Editing" === goal.state;
                                }).forEach(function(goal) {
                                    return _this.cancelEditing(goal.id);
                                }), this.setViewType(view, !0), [ 2 ];
                            });
                        });
                    }
                }) : (this.telemetryService.logEvent(events.HE, {
                    viewType: view
                }), "Heatmap" === view && this.setActiveHierarchy(void 0), this._viewType$.next(view)));
            }, Object.defineProperty(ScorecardService.prototype, "viewType", {
                get: function() {
                    return this._viewType$.value;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(ScorecardService.prototype, "viewType$", {
                get: function() {
                    return this._viewType$;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(ScorecardService.prototype, "scorecardSelectionMode", {
                get: function() {
                    return this._scorecardSelectionMode$.value;
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(ScorecardService.prototype, "scorecardSelectionMode$", {
                get: function() {
                    return this._scorecardSelectionMode$;
                },
                enumerable: !1,
                configurable: !0
            }), ScorecardService.prototype.setEditMode = function(isEditMode) {
                this.isEditMode$.next(isEditMode), !isEditMode && this.scorecard && _.some(this.scorecard.goals) && (this.scorecard = (0, 
                immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                    !function updateGoals(parent, goals) {
                        for (var _a, _loop_1 = function(goal) {
                            goal.isNew && (parent ? parent.subGoals = parent.subGoals.filter(function(g) {
                                return g.id !== goal.id;
                            }) : draftScorecard.goals = draftScorecard.goals.filter(function(g) {
                                return g.id !== goal.id;
                            })), goal.state = "Consumption", (null === (_a = goal.subGoals) || void 0 === _a ? void 0 : _a.length) > 0 && updateGoals(goal, goal.subGoals);
                        }, _i = 0, goals_1 = goals; _i < goals_1.length; _i++) _loop_1(goals_1[_i]);
                    }(null, draftScorecard.goals), draftScorecard.activeGoalId = void 0, draftScorecard.selectedGoalIds = {};
                }), this.commit());
            }, ScorecardService.prototype.isEditMode = function() {
                return this.isEditMode$.asObservable();
            }, ScorecardService.prototype.isLoading = function() {
                return this.loading$.pipe((0, operators_map.U)(function(loading) {
                    return loading > 0;
                }));
            }, ScorecardService.prototype.getColumnSettings = function() {
                return this._scorecard$.pipe((0, operators_map.U)(function(scorecard) {
                    return scorecard.columnSettings;
                }));
            }, ScorecardService.prototype.setGoalRefreshState = function(goalId, type, state) {
                this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                    var goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId);
                    switch (type) {
                      case 1:
                        goal.currentRefreshInProgress = state;
                        break;

                      case 2:
                        goal.targetRefreshInProgress = state;
                        break;

                      default:
                        debug.fF.assertNever(type);
                    }
                }), this.commit();
            }, ScorecardService.prototype.fetchUserDetails = function(flatGoals) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var users;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        return users = _.chain(flatGoals).map(function(g) {
                            return _.concat(_.map(g.additionalOwners, function(addOwner) {
                                var _a;
                                return null !== (_a = null == addOwner ? void 0 : addOwner.userPrincipalName) && void 0 !== _a ? _a : null == addOwner ? void 0 : addOwner.aadAppId;
                            }), g.owner);
                        }).flattenDeep().filter(function(user) {
                            return !!user;
                        }).uniq().value(), [ 2, this.userDetailsService.getUserDetails(users).toPromise() ];
                    });
                });
            }, ScorecardService.prototype.populateUserDisplayNames = function(users, flatGoals) {
                if (!_.isEmpty(users) && !_.isEmpty(flatGoals)) {
                    for (var userMap = {}, _i = 0, users_1 = users; _i < users_1.length; _i++) {
                        var user = users_1[_i];
                        userMap[user.userPrincipalName] = user, userMap[user.aadAppId] = user;
                    }
                    for (var _a = 0, flatGoals_1 = flatGoals; _a < flatGoals_1.length; _a++) {
                        var goal = flatGoals_1[_a], allOwners = _.concat([ goal.owner ], _.map(goal.additionalOwners, function(addOwner) {
                            var _a;
                            return null !== (_a = null == addOwner ? void 0 : addOwner.userPrincipalName) && void 0 !== _a ? _a : null == addOwner ? void 0 : addOwner.aadAppId;
                        }));
                        goal.ownerDisplayNames = _.map(allOwners, function(owner) {
                            return userMap[owner] ? userMap[owner].displayName : owner;
                        });
                    }
                }
            }, ScorecardService.prototype.toggleSelectedGoal = function(goalId, setActive, multiSelect) {
                var _this = this;
                return void 0 === setActive && (setActive = !0), void 0 === multiSelect && (multiSelect = !1), 
                debug.fF.assertValue(this.scorecard, "No scorecard loaded"), this.scorecard = (0, 
                immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                    var _a, goal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId);
                    debug.fF.assertValue(goal, "Goal not found"), goal.isNew || (draftScorecard.activeGoalId = void 0, 
                    _this.numberOfSelectedGoals() > 1 || multiSelect ? (multiSelect || (setActive && (draftScorecard.activeGoalId = goalId), 
                    draftScorecard.selectedGoalIds = {}), draftScorecard.selectedGoalIds[goalId] || "Deleting" === goal.state ? delete draftScorecard.selectedGoalIds[goalId] : draftScorecard.selectedGoalIds[goalId] = !0) : draftScorecard.selectedGoalIds[goalId] || "Deleting" === goal.state ? draftScorecard.selectedGoalIds = {} : (setActive && (draftScorecard.activeGoalId = goalId), 
                    draftScorecard.selectedGoalIds = ((_a = {})[goalId] = !0, _a)));
                }), this.commit(), this.scorecard.selectedGoalIds[goalId];
            }, ScorecardService.prototype.setActiveGoal = function(goalId) {
                debug.fF.assertValue(this.scorecard, "No scorecard loaded"), this.scorecard = (0, 
                immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                    draftScorecard.activeGoalId = goalId;
                }), this.commit();
            }, ScorecardService.prototype.selectGoal = function(goalId, setActive) {
                void 0 === setActive && (setActive = !0), debug.fF.assertValue(this.scorecard, "No scorecard loaded");
                var goal = scorecard_helper.q.getGoal(this.scorecard.goals, goalId);
                debug.fF.assertValue(goal, "Goal not found"), goal.isNew || this.scorecard.selectedGoalIds[goalId] || "Deleting" === goal.state || (this.scorecard = (0, 
                immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                    var _a;
                    setActive && (draftScorecard.activeGoalId = goalId), draftScorecard.selectedGoalIds = ((_a = {})[goalId] = !0, 
                    _a);
                }), this.commit());
            }, ScorecardService.prototype.multiSelectGoal = function(goalId) {
                debug.fF.assertValue(this.scorecard, "No scorecard loaded");
                var goal = scorecard_helper.q.getGoal(this.scorecard.goals, goalId);
                debug.fF.assertValue(goal, "Goal not found"), goal.isNew || this.scorecard.selectedGoalIds[goalId] && "Deleting" !== goal.state && (this.scorecard = (0, 
                immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                    draftScorecard.selectedGoalIds[goalId] = !0;
                }), this.commit());
            }, ScorecardService.prototype.toggleSelectAllGoals = function() {
                var _this = this;
                debug.fF.assertValue(this.scorecard, "No scorecard loaded"), this.scorecard = (0, 
                immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                    draftScorecard.selectedGoalIds = {};
                    var selectableGoals = scorecard_helper.q.filterGoals(draftScorecard.goals, function(g) {
                        return !g.isNew && (!_this.scorecardHost || _this.scorecardHost.canSelectGoal(g).enabled);
                    });
                    if (selectableGoals.length !== _this.numberOfSelectedGoals()) for (var _i = 0, selectableGoals_1 = selectableGoals; _i < selectableGoals_1.length; _i++) draftScorecard.selectedGoalIds[selectableGoals_1[_i].id] = !0;
                }), this.commit();
            }, ScorecardService.prototype.unselectAllGoals = function() {
                debug.fF.assertValue(this.scorecard, "No scorecard loaded"), this.scorecard = (0, 
                immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                    draftScorecard.activeGoalId = void 0, draftScorecard.selectedGoalIds = {};
                }), this.commit();
            }, ScorecardService.prototype.getSelectedGoalIdsObservable = function() {
                return this._selectedGoalIds$;
            }, ScorecardService.prototype.getSelectedGoalsObservable = function() {
                var _this = this;
                return this._selectedGoalIds$.pipe((0, operators_map.U)(function(selectedGoalIds) {
                    return scorecard_helper.q.filterGoals(_this.scorecard.goals, function(goal) {
                        return selectedGoalIds[goal.id] && !goal.isNew;
                    });
                }));
            }, ScorecardService.prototype.getFirstSelectedGoalId = function() {
                if (this.numberOfSelectedGoals() > 0) return Object.keys(this.scorecard.selectedGoalIds)[0];
            }, ScorecardService.prototype.numberOfSelectedGoals = function() {
                return _.isNil(this.scorecard.selectedGoalIds) ? 0 : Object.keys(this.scorecard.selectedGoalIds).length;
            }, ScorecardService.prototype.isCurrentlyInEditMode = function() {
                return this.isEditMode$.value;
            }, ScorecardService.prototype.getCurrentScorecard = function() {
                return this.scorecard;
            }, ScorecardService.prototype.getScorecard = function() {
                return this._scorecard$.asObservable();
            }, ScorecardService.prototype.flatten = function() {
                return scorecard_helper.q.flattenGoals(this.scorecard.goals);
            }, ScorecardService.prototype.getBoard = function() {
                return this._scorecard$.pipe((0, operators_map.U)(function(scorecard) {
                    return scorecard.board;
                }));
            }, ScorecardService.prototype.addGroupToBoard = function(groupId, groupName) {
                var newGroup = {
                    id: groupId,
                    name: groupName,
                    goals: []
                };
                this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                    _.isUndefined(draftScorecard.board) && (draftScorecard.board = {
                        id: "",
                        groups: []
                    }), draftScorecard.board.id = "boardVisual", draftScorecard.board.groups.push(newGroup);
                }), this.commit();
            }, ScorecardService.prototype.deleteGroupFromBoard = function(bucketId) {
                this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                    draftScorecard.board.groups = draftScorecard.board.groups.filter(function(bucketArr) {
                        return bucketArr.id !== bucketId;
                    });
                }), this.commit();
            }, ScorecardService.prototype.isEditing = function() {
                return this._scorecard$.pipe((0, operators_map.U)(function(scorecard) {
                    return scorecard_helper.q.isEditing(scorecard);
                }));
            }, ScorecardService.prototype.ensureRolesLoaded = function() {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var roles_1, error_24;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            if (debug.fF.assertValue(this.scorecard, "No scorecard loaded"), !_.isEmpty(this.scorecard.roles)) return [ 2 ];
                            _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 6, , 7 ]), [ 4, this.goalsHttpService.getRoles(this.scorecard.groupId, this.scorecard.id).toPromise() ];

                          case 2:
                            return roles_1 = _a.sent(), _.isEmpty(roles_1) ? [ 4, this.initStartingRoles() ] : [ 3, 4 ];

                          case 3:
                            return _a.sent(), [ 3, 5 ];

                          case 4:
                            this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                draftScorecard.roles = roles_1;
                            }), this.commit(), _a.label = 5;

                          case 5:
                            return [ 3, 7 ];

                          case 6:
                            throw error_24 = _a.sent(), this.goalsErrorService.showUserError(error_24, "LoadRoles"), 
                            error_24;

                          case 7:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.initStartingRoles = function() {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var requests, roles_2, error_25, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            debug.fF.assertValue(this.scorecard, "No scorecard loaded"), _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, , 4 ]), requests = [ {
                                name: this.localizationService.get("EditScorecardSettings_Role_Card_Default_Role_View_All"),
                                isDefaultRole: !0,
                                permissions: [ {
                                    goalId: void 0,
                                    permissions: 1,
                                    applyToChildGoals: !0
                                } ]
                            }, {
                                name: this.localizationService.get("EditScorecardSettings_Role_Card_Default_Role_View_And_Update_All"),
                                isDefaultRole: !1,
                                permissions: [ {
                                    goalId: void 0,
                                    permissions: 27,
                                    applyToChildGoals: !0
                                } ]
                            } ], [ 4, Promise.all(requests.map(function(r) {
                                return _this.goalsHttpService.createRole(_this.scorecard.groupId, _this.scorecard.id, r).toPromise();
                            })) ];

                          case 2:
                            return roles_2 = _a.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var _a;
                                _.isEmpty(draftScorecard.roles) ? draftScorecard.roles = roles_2 : (_a = draftScorecard.roles).push.apply(_a, roles_2);
                            }), this.commit(), [ 2, roles_2 ];

                          case 3:
                            throw error_25 = _a.sent(), this.goalsErrorService.showUserError(error_25, "InitStartingRolesError"), 
                            error_25;

                          case 4:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.deleteRole = function(roleId) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return [ 4, this.ensureRolesLoaded() ];

                          case 1:
                            return _a.sent(), [ 2, this.promptUserConfirmation({
                                title: this.localizationService.get("ScorecardDialog_Delete_Role_Title"),
                                message: "".concat(this.localizationService.get("ScorecardDialog_Delete_Role_Message_First_Line"), "\n\n            ").concat(this.localizationService.get("ScorecardDialog_Action_Cant_be_Undone")),
                                panelClass: [ "updateConfirmationDialogPanel" ],
                                onConfirmation: function() {
                                    return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                                        var role, error_26, _a;
                                        return (0, tslib_es6.__generator)(this, function(_b) {
                                            switch (_b.label) {
                                              case 0:
                                                debug.fF.assertValue(this.scorecard, "No scorecard loaded"), role = null === (_a = this.scorecard.roles) || void 0 === _a ? void 0 : _a.find(function(r) {
                                                    return r.id === roleId;
                                                }), debug.fF.assertValue(role, "Role not found"), _b.label = 1;

                                              case 1:
                                                return _b.trys.push([ 1, 3, , 4 ]), [ 4, this.goalsHttpService.deleteRole(this.scorecard.groupId, this.scorecard.id, role.id).toPromise() ];

                                              case 2:
                                                return _b.sent(), [ 3, 4 ];

                                              case 3:
                                                throw error_26 = _b.sent(), this.goalsErrorService.showUserError(error_26, "DeleteRoleError"), 
                                                error_26;

                                              case 4:
                                                return this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                                    draftScorecard.roles = draftScorecard.roles.filter(function(r) {
                                                        return r.id !== roleId;
                                                    });
                                                }), this.commit(), [ 2, !0 ];
                                            }
                                        });
                                    });
                                }
                            }) ];
                        }
                    });
                });
            }, ScorecardService.prototype.setAsDefaultRole = function(roleId) {
                var _a, _b, _c;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var role, oldDefaultRoleName, newDefaultRoleName, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_d) {
                        switch (_d.label) {
                          case 0:
                            return [ 4, this.ensureRolesLoaded() ];

                          case 1:
                            return _d.sent(), debug.fF.assertValue(this.scorecard, "No scorecard loaded"), role = null === (_a = this.scorecard.roles) || void 0 === _a ? void 0 : _a.find(function(r) {
                                return r.id === roleId;
                            }), debug.fF.assertValue(role, "Role not found"), oldDefaultRoleName = null === (_c = null === (_b = this.scorecard.roles) || void 0 === _b ? void 0 : _b.find(function(r) {
                                return r.isDefaultRole;
                            })) || void 0 === _c ? void 0 : _c.name, newDefaultRoleName = role.name, [ 2, this.promptUserConfirmation({
                                title: this.localizationService.get("EditScorecardSettings_Permission_Pane_Change_Default_Role_title"),
                                message: _.isNil(oldDefaultRoleName) ? this.localizationService.format("EditScorecardSettings_Permission_Pane_Set_Default_Role_Message", [ newDefaultRoleName ]) : this.localizationService.format("EditScorecardSettings_Permission_Pane_Change_Default_Role_Message", [ oldDefaultRoleName, newDefaultRoleName ]),
                                okButtonText: this.localizationService.get("ModalDialogButtonText_Continue"),
                                panelClass: [ "updateRoleConfirmationDialogPanel" ],
                                onConfirmation: function() {
                                    return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                                        var error_27;
                                        return (0, tslib_es6.__generator)(this, function(_a) {
                                            switch (_a.label) {
                                              case 0:
                                                return _a.trys.push([ 0, 2, , 3 ]), [ 4, this.goalsHttpService.updateRole(this.scorecard.groupId, this.scorecard.id, role.id, {
                                                    isDefaultRole: !0
                                                }).toPromise() ];

                                              case 1:
                                                return _a.sent(), [ 3, 3 ];

                                              case 2:
                                                throw error_27 = _a.sent(), this.goalsErrorService.showUserError(error_27, "UpdateRoleError"), 
                                                error_27;

                                              case 3:
                                                return this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                                    draftScorecard.roles.forEach(function(value) {
                                                        value.isDefaultRole = value.id === roleId;
                                                    });
                                                }), this.commit(), [ 2, !0 ];
                                            }
                                        });
                                    });
                                }
                            }) ];
                        }
                    });
                });
            }, ScorecardService.prototype.createRole = function(roleCreateRequest) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var savedRole_1, error_28;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            debug.fF.assertValue(this.scorecard, "No scorecard loaded"), _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, , 4 ]), [ 4, this.goalsHttpService.createRole(this.scorecard.groupId, this.scorecard.id, roleCreateRequest).toPromise() ];

                          case 2:
                            return savedRole_1 = _a.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                _.isEmpty(draftScorecard.roles) ? draftScorecard.roles = [ savedRole_1 ] : draftScorecard.roles.push(savedRole_1);
                            }), this.commit(), [ 2, savedRole_1 ];

                          case 3:
                            throw error_28 = _a.sent(), this.goalsErrorService.showUserError(error_28, "UpdateRoleError"), 
                            error_28;

                          case 4:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.updateRole = function(roleId, roleUpdateRequest) {
                var _a;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var existingRole, savedRole_2, error_29;
                    return (0, tslib_es6.__generator)(this, function(_b) {
                        switch (_b.label) {
                          case 0:
                            return [ 4, this.ensureRolesLoaded() ];

                          case 1:
                            _b.sent(), debug.fF.assertValue(this.scorecard, "No scorecard loaded"), existingRole = null === (_a = this.scorecard.roles) || void 0 === _a ? void 0 : _a.find(function(r) {
                                return r.id === roleId;
                            }), debug.fF.assertValue(existingRole, "Role not found"), _b.label = 2;

                          case 2:
                            return _b.trys.push([ 2, 4, , 5 ]), [ 4, this.goalsHttpService.updateRole(this.scorecard.groupId, this.scorecard.id, roleId, roleUpdateRequest).toPromise() ];

                          case 3:
                            return savedRole_2 = _b.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                draftScorecard.roles = draftScorecard.roles.map(function(role) {
                                    return role.id === roleId ? savedRole_2 : role;
                                });
                            }), this.commit(), [ 2, savedRole_2 ];

                          case 4:
                            throw error_29 = _b.sent(), this.goalsErrorService.showUserError(error_29, "UpdateRoleError"), 
                            error_29;

                          case 5:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.updateGoalValueConnectionSettings = function(goalId, request) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var goal, error_30;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            debug.fF.assertValue(this.scorecard, "No scorecard loaded"), goal = scorecard_helper.q.getGoal(this.scorecard.goals, goalId), 
                            debug.fF.assertValue(goal, "Goal not found"), _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, , 4 ]), [ 4, this.goalsHttpService.updateConnectionSettings(this.scorecard.groupId, this.scorecard.id, goalId, request).toPromise() ];

                          case 2:
                            return _a.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var currentGoal = scorecard_helper.q.getGoal(draftScorecard.goals, goalId);
                                currentGoal.valueConnection && 1 === request.connectionType ? currentGoal.valueConnection = (0, 
                                tslib_es6.__assign)((0, tslib_es6.__assign)({}, currentGoal.valueConnection), {
                                    shouldClearGoalValues: request.shouldClearGoalValues
                                }) : currentGoal.targetConnection && 2 === request.connectionType && (currentGoal.targetConnection = (0, 
                                tslib_es6.__assign)((0, tslib_es6.__assign)({}, currentGoal.targetConnection), {
                                    shouldClearGoalValues: request.shouldClearGoalValues
                                }));
                            }), this.commit(), [ 3, 4 ];

                          case 3:
                            throw error_30 = _a.sent(), this.goalsErrorService.showUserError(error_30, "UpdateGoalValueConnectionSettingsError"), 
                            error_30;

                          case 4:
                            return [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.setScorecardWithGoals = function(scorecard) {
                var _this = this;
                this.linkedScorecardsById = _.keyBy(scorecard.linkedScorecards, "id"), this.scorecard = (0, 
                immer_esm.Uy)(scorecard, function(draftScorecard) {
                    var _a, _b;
                    draftScorecard.columnSettings = _.isEmpty(draftScorecard.columnSettings) ? constants.om : scorecard_column_settings_helper._.mergeColumns(draftScorecard.columnSettings, constants.om), 
                    scorecard_column_settings_helper._.adjustColumnSettings(_this.featureSwitches, draftScorecard.columnSettings), 
                    _this.featureSwitches.featureSwitches.goalsLinkedGoals ? null === (_a = draftScorecard.goals) || void 0 === _a || _a.forEach(function(g) {
                        return g.isLinked = goal_helper.r.isLinked(g, draftScorecard);
                    }) : draftScorecard.goals = _.filter(draftScorecard.goals, function(goal) {
                        return goal.scorecardId === draftScorecard.id;
                    }), draftScorecard.isSample = scorecard_helper.q.isSampleScorecard(scorecard), _.some(null == draftScorecard ? void 0 : draftScorecard.goals) && (draftScorecard.goals = scorecard_sort_helper.p.sort(scorecard_helper.q.buildGoalTree(draftScorecard.goals), constants.Ij)), 
                    (null === (_b = _this.scorecard) || void 0 === _b ? void 0 : _b.id) === scorecard.id ? (draftScorecard.activeGoalId = _this.scorecard.activeGoalId, 
                    draftScorecard.selectedGoalIds = _this.scorecard.selectedGoalIds) : draftScorecard.selectedGoalIds = {}, 
                    draftScorecard.showGoalTargetsInChart = !1;
                }), this.commit();
            }, ScorecardService.prototype.commit = function() {
                this._scorecard$.next(this.scorecard);
            }, ScorecardService.prototype.ensureUsersLoaded = function() {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var users, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return debug.fF.assertValue(this.scorecard, "No scorecard loaded"), this.scorecard.usersLoaded ? [ 2 ] : [ 4, this.fetchUserDetails(scorecard_helper.q.flattenGoals(this.scorecard.goals)) ];

                          case 1:
                            return users = _a.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                _this.populateUserDisplayNames(users, scorecard_helper.q.flattenGoals(draftScorecard.goals)), 
                                draftScorecard.usersLoaded = !0;
                            }), this.commit(), [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.showRefreshConfirmation = function() {
                this.dialogService.showSimpleDialog(this.localizationService.get("Refresh_Scheduled"), this.localizationService.get("Refresh_Scheduled_Data_Will_Be_Updated"));
            }, ScorecardService.prototype.promptUserConfirmation = function(args) {
                var _a, _b;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    return (0, tslib_es6.__generator)(this, function(_c) {
                        switch (_c.label) {
                          case 0:
                            return debug.fF.assertValue(args, "args"), debug.fF.assertValue(args.title, "args.title"), 
                            debug.fF.assertValue(args.message, "args.message"), [ 4, this.dialogService.showConfirmationDialog({
                                title: args.title,
                                message: args.message,
                                okButtonText: null !== (_a = args.okButtonText) && void 0 !== _a ? _a : this.localizationService.get("Delete"),
                                cancelButtonText: null !== (_b = args.cancelButtonText) && void 0 !== _b ? _b : this.localizationService.get("Cancel_ButtonText")
                            }, {
                                autoFocus: !0,
                                panelClass: args.panelClass
                            }).afterClosed().toPromise() ];

                          case 1:
                            return 1 === _c.sent() && args.onConfirmation ? [ 4, args.onConfirmation() ] : [ 3, 3 ];

                          case 2:
                            return [ 2, _c.sent() ];

                          case 3:
                            return [ 2, void 0 ];
                        }
                    });
                });
            }, ScorecardService.prototype.assignGoal = function(existingGoal, newGoal) {
                var computedRank = existingGoal.rank;
                debug.fF.assertValue(existingGoal, "existingGoal"), debug.fF.assertValue(newGoal, "newGoal"), 
                Object.assign(existingGoal, newGoal), existingGoal.cycle = newGoal.cycle, existingGoal.cyclePeriod = newGoal.cyclePeriod, 
                existingGoal.rank = computedRank, existingGoal.valuesCategoryId = newGoal.valuesCategoryId;
            }, ScorecardService.prototype.createCategoryList = function(categoricalValues) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var savedGoalValueCategories, error_31;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            debug.fF.assertValue(this.scorecard, "createCategoryList No scorecard loaded"), 
                            debug.fF.assert(function() {
                                return !_.isEmpty(categoricalValues);
                            }, "createCategoryList Categorical values are empty"), _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, , 4 ]), [ 4, this.goalsHttpService.createGoalValueCategories(this.scorecard.groupId, this.scorecard.id, scorecard_helper.q.getGoalValueCategoriesCreateRequest(categoricalValues)).toPromise() ];

                          case 2:
                            return savedGoalValueCategories = _a.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                _.isUndefined(draftScorecard.goalValueCategories) && (draftScorecard.goalValueCategories = []), 
                                draftScorecard.goalValueCategories.push(savedGoalValueCategories);
                            }), [ 3, 4 ];

                          case 3:
                            throw error_31 = _a.sent(), this.goalsErrorService.showUserError(error_31, "SaveGoalError"), 
                            error_31;

                          case 4:
                            return this.commit(), [ 2, savedGoalValueCategories ];
                        }
                    });
                });
            }, ScorecardService.prototype.updateCategoryList = function(categoryList) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var updatedGoalValueCategoryList, error_32, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            debug.fF.assertValue(this.scorecard, "updateCategoryList No scorecard loaded"), 
                            debug.fF.assertValue(categoryList, "updateCategoryList categoryList"), debug.fF.assertValue(_.find(this.scorecard.goalValueCategories, function(list) {
                                return list.id === categoryList.id;
                            }), "updateCategoryList No category list found to update"), _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, , 4 ]), [ 4, this.goalsHttpService.updateGoalValueCategories(this.scorecard.groupId, this.scorecard.id, categoryList.id, scorecard_helper.q.getGoalValueCategoriesUpdateRequest(categoryList)).toPromise() ];

                          case 2:
                            return updatedGoalValueCategoryList = _a.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                var index = _.findIndex(_this.scorecard.goalValueCategories, function(categoryList) {
                                    return categoryList.id === updatedGoalValueCategoryList.id;
                                });
                                draftScorecard.goalValueCategories[index] = updatedGoalValueCategoryList;
                            }), [ 3, 4 ];

                          case 3:
                            throw error_32 = _a.sent(), this.goalsErrorService.showUserError(error_32, "SaveGoalError"), 
                            error_32;

                          case 4:
                            return this.commit(), [ 2, updatedGoalValueCategoryList ];
                        }
                    });
                });
            }, ScorecardService.prototype.deleteCategoryList = function(categoryListId) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var error_33;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            debug.fF.assertValue(this.scorecard, "deleteCategoryList No scorecard loaded"), 
                            debug.fF.assertValue(_.find(this.scorecard.goalValueCategories, function(categoryList) {
                                return categoryList.id === categoryListId;
                            }), "deleteCategoryList No category list found to delete."), _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, , 4 ]), [ 4, this.goalsHttpService.deleteGoalValueCategories(this.scorecard.groupId, this.scorecard.id, categoryListId).toPromise() ];

                          case 2:
                            return _a.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                _.remove(draftScorecard.goalValueCategories, function(categoryList) {
                                    return categoryList.id === categoryListId;
                                });
                            }), [ 3, 4 ];

                          case 3:
                            throw error_33 = _a.sent(), this.goalsErrorService.showUserError(error_33, "SaveGoalError"), 
                            error_33;

                          case 4:
                            return this.commit(), [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.getGoalValueCategoryLists = function(goal) {
                var _a, _b;
                return debug.fF.assertValue(this.scorecard, "No scorecard loaded"), goal ? null !== (_a = this.getSourceScorecard(goal).goalValueCategories) && void 0 !== _a ? _a : [] : null !== (_b = this.scorecard.goalValueCategories) && void 0 !== _b ? _b : [];
            }, ScorecardService.prototype.getGoalValueCategories = function(goal) {
                var _a, _b;
                if (goal.valuesCategoryId) {
                    var lists = this.getGoalValueCategoryLists(goal);
                    return null !== (_b = null === (_a = _.find(lists, function(list) {
                        return list.id === goal.valuesCategoryId;
                    })) || void 0 === _a ? void 0 : _a.categories) && void 0 !== _b ? _b : [];
                }
            }, Object.defineProperty(ScorecardService.prototype, "goalStatusesByScorecardId$", {
                get: function() {
                    return this._goalStatusesByScorecardId$;
                },
                enumerable: !1,
                configurable: !0
            }), ScorecardService.prototype.getGoalStatuses = function(goal) {
                var _a, _b, _c, _d;
                return debug.fF.assertValue(this.scorecard, "No scorecard loaded"), goal ? null !== (_b = null === (_a = this.getSourceScorecard(goal).goalStatuses) || void 0 === _a ? void 0 : _a.statuses) && void 0 !== _b ? _b : [] : null !== (_d = null === (_c = this.scorecard.goalStatuses) || void 0 === _c ? void 0 : _c.statuses) && void 0 !== _d ? _d : [];
            }, ScorecardService.prototype.userHasWritePermissions = function() {
                var _a, scorecardPermissions = (0, scorecard_permissions_helper.l)(null === (_a = this.scorecard) || void 0 === _a ? void 0 : _a.permissions);
                return (0, StandaloneUtility3.yE)(scorecardPermissions, 2);
            }, ScorecardService.prototype.bulkDeleteGoalsPrompt = function() {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var selectedGoals, someLinked, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return this.assertNoActivehierarchy(!0) ? [ 4, this.getSelectedGoalsObservable().pipe((0, 
                            operators_take.q)(1)).toPromise() ] : [ 2 ];

                          case 1:
                            return selectedGoals = _a.sent(), someLinked = _.some(selectedGoals, function(goal) {
                                return goal.isLinked;
                            }), [ 2, this.promptUserConfirmation({
                                title: this.localizationService.format("ScorecardDialog_BulkDelete_Metric_Title", [ this.numberOfSelectedGoals() ]),
                                message: this.localizationService.get(someLinked ? "ScorecardDialog_BulkDelete_Metric_Message_Linked" : "ScorecardDialog_BulkDelete_Metric_Message_First_Line"),
                                panelClass: [ "updateConfirmationDialogPanel" ],
                                onConfirmation: function() {
                                    return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                                        return (0, tslib_es6.__generator)(this, function(_a) {
                                            switch (_a.label) {
                                              case 0:
                                                return [ 4, this.bulkDeleteGoals() ];

                                              case 1:
                                                return _a.sent(), [ 2, !0 ];
                                            }
                                        });
                                    });
                                }
                            }) ];
                        }
                    });
                });
            }, ScorecardService.prototype.bulkDeleteGoals = function() {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var selectedGoals, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return this.assertNoActivehierarchy(!0) ? (debug.fF.assertValue(this.scorecard, "No scorecard loaded"), 
                            selectedGoals = scorecard_helper.q.filterGoals(this.scorecard.goals, function(goal) {
                                return _this.scorecard.selectedGoalIds[goal.id] && !goal.isNew;
                            }), [ 4, this.bulkDeleteGoalsRequest(selectedGoals) ]) : [ 2 ];

                          case 1:
                            return _a.sent(), [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.bulkDeleteGoalsRequest = function(goals) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var _i, goals_2, goalIds, error_34;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            for (_i = 0, goals_2 = goals; _i < goals_2.length; _i++) this.setGoalState(goals_2[_i].id, "Deleting");
                            _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 4, , 5 ]), goalIds = _.map(goals, "id"), _.isEmpty(goalIds) ? [ 3, 3 ] : [ 4, this.goalsHttpService.bulkDeleteGoals(this.scorecard.groupId, this.scorecard.id, {
                                goalIds
                            }).toPromise() ];

                          case 2:
                            _a.sent(), _a.label = 3;

                          case 3:
                            return [ 3, 5 ];

                          case 4:
                            if (404 !== (null == (error_34 = _a.sent()) ? void 0 : error_34.status)) throw this.goalsErrorService.showUserError(error_34, "BulkDeleteGoalError"), 
                            error_34;
                            return [ 3, 5 ];

                          case 5:
                            return this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                for (var _loop_2 = function(goal) {
                                    var parentGoal = scorecard_helper.q.getGoal(draftScorecard.goals, goal.parentId);
                                    (null == parentGoal ? void 0 : parentGoal.subGoals) ? parentGoal.subGoals = parentGoal.subGoals.filter(function(g) {
                                        return g.id !== goal.id;
                                    }) : draftScorecard.goals && (draftScorecard.goals = draftScorecard.goals.filter(function(g) {
                                        return g.id !== goal.id;
                                    }));
                                }, _i = 0, goals_3 = goals; _i < goals_3.length; _i++) _loop_2(goals_3[_i]);
                            }), this.commit(), [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.bulkUpdateGoals = function(updateRequest) {
                var _a, _b, _c;
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var savedTarget, _i, _d, allNewOwners, _e, userMap, _f, ownerMetadata_1, user, _g, _h, goalId, goal, timestamp, retVal_1, error_35, _this = this;
                    return (0, tslib_es6.__generator)(this, function(_j) {
                        switch (_j.label) {
                          case 0:
                            if (!this.assertNoActivehierarchy(!0)) return [ 2 ];
                            if (debug.fF.assertValue(this.scorecard, "No scorecard loaded"), debug.fF.assertValue(updateRequest, "No bulk request"), 
                            (null === (_a = updateRequest.goalIds) || void 0 === _a ? void 0 : _a.length) <= 0) return [ 2 ];
                            for (savedTarget = updateRequest.target, delete updateRequest.target, _i = 0, _d = updateRequest.goalIds; _i < _d.length; _i++) this.setGoalState(goalId = _d[_i], "Saving");
                            return allNewOwners = _.map(updateRequest.owners, function(goalUser) {
                                var _a;
                                return null !== (_a = goalUser.userPrincipalName) && void 0 !== _a ? _a : goalUser.aadAppId;
                            }), _.isEmpty(updateRequest.owners) ? [ 3, 2 ] : [ 4, this.userDetailsService.getUserDetails(allNewOwners).toPromise() ];

                          case 1:
                            return _e = _j.sent(), [ 3, 3 ];

                          case 2:
                            _e = [], _j.label = 3;

                          case 3:
                            for (userMap = {}, _f = 0, ownerMetadata_1 = _e; _f < ownerMetadata_1.length; _f++) userMap[(user = ownerMetadata_1[_f]).userPrincipalName] = user, 
                            userMap[user.aadAppId] = user;
                            _j.label = 4;

                          case 4:
                            if (_j.trys.push([ 4, 10, , 11 ]), _.isNil(savedTarget)) return [ 3, 8 ];
                            _g = 0, _h = updateRequest.goalIds, _j.label = 5;

                          case 5:
                            return _g < _h.length ? (goal = scorecard_helper.q.getGoal(this.scorecard.goals, goalId = _h[_g]), 
                            timestamp = null !== (_c = null === (_b = _.find(goal.aggregations, function(agg) {
                                return "Target" === agg.type;
                            })) || void 0 === _b ? void 0 : _b.timestamp) && void 0 !== _c ? _c : updateRequest.timestamp, 
                            [ 4, this.upsertGoalValues(goalId, [ {
                                timestamp,
                                target: savedTarget
                            } ]) ]) : [ 3, 8 ];

                          case 6:
                            _j.sent(), _j.label = 7;

                          case 7:
                            return _g++, [ 3, 5 ];

                          case 8:
                            return [ 4, this.goalsHttpService.bulkUpdateGoals(this.scorecard.groupId, this.scorecard.id, updateRequest).toPromise() ];

                          case 9:
                            return retVal_1 = _j.sent(), this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                                for (var _i = 0, retVal_2 = retVal_1; _i < retVal_2.length; _i++) {
                                    var updatedGoal = retVal_2[_i], goal = scorecard_helper.q.getGoal(draftScorecard.goals, updatedGoal.id), prevAddOwners = goal.additionalOwners;
                                    _this.assignGoal(goal, updatedGoal), _.isEmpty(updateRequest.owners) ? goal.additionalOwners = prevAddOwners : goal.ownerDisplayNames = _.map(allNewOwners, function(owner) {
                                        var _a, _b;
                                        return null !== (_b = null === (_a = userMap[owner]) || void 0 === _a ? void 0 : _a.displayName) && void 0 !== _b ? _b : owner;
                                    }), goal.state = "Consumption";
                                }
                            }), [ 3, 11 ];

                          case 10:
                            throw error_35 = _j.sent(), this.goalsErrorService.showUserError(error_35, "BulkUpdateGoalError"), 
                            error_35;

                          case 11:
                            return this.commit(), [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.toggleShowGoalTargetsInChart = function(show) {
                this.scorecard = (0, immer_esm.Uy)(this.scorecard, function(draftScorecard) {
                    draftScorecard.showGoalTargetsInChart = show;
                }), this.commit();
            }, ScorecardService.prototype.createLinkedGoals = function(selectedGoals, overallParentGoalId) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var existingGoalIds, linkedGoalIds, numberOfGoals, dialogRef, i, goal, parentId, error_36;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            if (_.isEmpty(selectedGoals)) return [ 2 ];
                            existingGoalIds = new Set(scorecard_helper.q.mapGoals(this.scorecard.goals, function(goal) {
                                return goal.id;
                            })), linkedGoalIds = new Set, (numberOfGoals = selectedGoals.length) > 1 && (dialogRef = this.dialogService.showSimpleWaitDialog(this.localizationService.format("Metrics_LinkedMetrics_Linking", numberOfGoals), numberOfGoals > 100 ? this.localizationService.get("This_Might_Take_A_Moment") : "")), 
                            i = 0, _a.label = 1;

                          case 1:
                            if (!(i < numberOfGoals)) return [ 3, 9 ];
                            if (existingGoalIds.has((goal = selectedGoals[i]).id)) return debug.fF.assertFail("Selected goal to link already exists on this scorecard."), 
                            [ 3, 8 ];
                            (parentId = goal.parentId) && !linkedGoalIds.has(parentId) && (debug.fF.assertFail("Attempting to link goal with parentId ".concat(parentId, " without having linked parent.")), 
                            parentId = void 0), _a.label = 2;

                          case 2:
                            return _a.trys.push([ 2, 4, , 8 ]), [ 4, this.goalsHttpService.createLinkedGoals(this.scorecard.groupId, this.scorecard.id, {
                                goalIds: [ goal.id ],
                                scorecardId: goal.scorecardId,
                                parentGoalId: null != parentId ? parentId : overallParentGoalId
                            }).toPromise() ];

                          case 3:
                            return _a.sent(), linkedGoalIds.add(goal.id), [ 3, 8 ];

                          case 4:
                            return 429 !== (error_36 = _a.sent()).status ? [ 3, 6 ] : [ 4, new Promise(function(resolve) {
                                return setTimeout(resolve, 5e3);
                            }) ];

                          case 5:
                            return _a.sent(), i--, [ 3, 7 ];

                          case 6:
                            return this.goalsErrorService.showUserError(error_36, "CreateLinkedGoalsError", "Metrics_LinkedMetrics_Error"), 
                            [ 3, 9 ];

                          case 7:
                            return [ 3, 8 ];

                          case 8:
                            return i++, [ 3, 1 ];

                          case 9:
                            return this.loadScorecard(this.scorecard.groupId, this.scorecard.id, !0, this.scorecard.hierarchyPaths), 
                            null == dialogRef || dialogRef.close(), [ 2 ];
                        }
                    });
                });
            }, ScorecardService.prototype.getSourceScorecard = function(goal) {
                if (goal.isLinked) {
                    var linkedScorecard = this.linkedScorecardsById[goal.scorecardId];
                    if (linkedScorecard) return linkedScorecard;
                    debug.fF.assertFail("No linked scorecard with id " + goal.scorecardId);
                }
                return this.scorecard;
            }, ScorecardService.prototype.openLinkedSourceScorecard = function(goal) {
                debug.fF.assert(function() {
                    return goal.isLinked;
                }, "Goal is not linked");
                var linkedScorecard = this.getSourceScorecard(goal);
                this.scorecardHost.openScorecard(linkedScorecard, goal);
            }, ScorecardService.prototype.getOwnerDisplayNames = function(goal) {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var allOwners, ownerMetadataList, displayNames;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            return allOwners = _.concat([ goal.owner ], _.map(goal.additionalOwners, function(addOwner) {
                                var _a;
                                return null !== (_a = null == addOwner ? void 0 : addOwner.userPrincipalName) && void 0 !== _a ? _a : null == addOwner ? void 0 : addOwner.aadAppId;
                            })), [ 4, this.userDetailsService.getUserDetails(allOwners).toPromise() ];

                          case 1:
                            return ownerMetadataList = _a.sent(), displayNames = _.map(ownerMetadataList, function(ownerMetadata) {
                                return null == ownerMetadata ? void 0 : ownerMetadata.displayName;
                            }), [ 2, _.isEmpty(displayNames) ? allOwners : displayNames ];
                        }
                    });
                });
            }, ScorecardService.\u0275fac = function(t) {
                return new (t || ScorecardService)(core["\u0275\u0275inject"](goalsHttpService.f), core["\u0275\u0275inject"](userDetailsService.K), core["\u0275\u0275inject"](dialog_service.x), core["\u0275\u0275inject"](error_service.T), core["\u0275\u0275inject"](localization_service.o), core["\u0275\u0275inject"](user_info_service.a), core["\u0275\u0275inject"](services_feature_switch_service.vZ), core["\u0275\u0275inject"](goals_error_service.X), core["\u0275\u0275inject"](telemetry_service.y0), core["\u0275\u0275inject"](TabFacade), core["\u0275\u0275inject"](ngrx_store.yh), core["\u0275\u0275inject"](scorecardHostService.M, 8), core["\u0275\u0275inject"](scorecardSettingsService.u, 8));
            }, ScorecardService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: ScorecardService,
                factory: ScorecardService.\u0275fac
            }), ScorecardService;
        }();
    },
    14786: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            AY: function() {
                return ScorecardHierarchiesBuilderOpen;
            },
            Bn: function() {
                return GoalValuesEditorActionOpened;
            },
            Fg: function() {
                return DatasetDetailsPageGoalRollupsDetailsPaneCoachmarkTriggered;
            },
            GW: function() {
                return GoalValuesEditorActionDone;
            },
            HE: function() {
                return ScorecardChangeViewType;
            },
            JP: function() {
                return GoalTargetsEditorActionCanceled;
            },
            Lc: function() {
                return WebScorecardSaveTargetValueSelection;
            },
            V8: function() {
                return GoalValuesEditorActionCanceled;
            },
            _9: function() {
                return DatasetDetailsPageGoalRollupsCoachmarkTriggered;
            },
            dT: function() {
                return GoalTargetsEditorActionOpened;
            },
            h2: function() {
                return WebScorecardSaveCurrentValueSelection;
            },
            ib: function() {
                return ScorecardHeaderDescriptionInlineEdit;
            },
            pN: function() {
                return GoalTargetsEditorActionDone;
            },
            tj: function() {
                return ScorecardHeaderLabelInlineEdit;
            },
            z8: function() {
                return MetricCalculationType;
            }
        });
        var _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41114), GoalTargetsEditorActionOpened = (_powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.cx["PBI.Goal.ContextMenu.CreateAPowerAutomateFlow"] = (0, 
        _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.b1)("PBI.Goal.ContextMenu.CreateAPowerAutomateFlow"), 
        _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.cx["PBI.Goal.TargetsEditor.Action.Opened"] = (0, 
        _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.b1)("PBI.Goal.TargetsEditor.Action.Opened")), GoalTargetsEditorActionCanceled = _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.cx["PBI.Goal.TargetsEditor.Action.Canceled"] = (0, 
        _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.b1)("PBI.Goal.TargetsEditor.Action.Canceled"), GoalTargetsEditorActionDone = _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.cx["PBI.Goal.TargetsEditor.Action.Done"] = (0, 
        _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.b1)("PBI.Goal.TargetsEditor.Action.Done"), GoalValuesEditorActionOpened = _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.cx["PBI.Goal.ValuesEditor.Action.Opened"] = (0, 
        _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.b1)("PBI.Goal.ValuesEditor.Action.Opened"), GoalValuesEditorActionCanceled = _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.cx["PBI.Goal.ValuesEditor.Action.Canceled"] = (0, 
        _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.b1)("PBI.Goal.ValuesEditor.Action.Canceled"), GoalValuesEditorActionDone = _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.cx["PBI.Goal.ValuesEditor.Action.Done"] = (0, 
        _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.b1)("PBI.Goal.ValuesEditor.Action.Done"), ScorecardHeaderLabelInlineEdit = _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.cx["PBI.ScorecardHeader.LabelInlineEdit"] = (0, 
        _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.b1)("PBI.ScorecardHeader.LabelInlineEdit"), ScorecardHeaderDescriptionInlineEdit = _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.cx["PBI.ScorecardHeader.DescriptionInlineEdit"] = (0, 
        _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.b1)("PBI.ScorecardHeader.DescriptionInlineEdit"), MetricCalculationType = function(MetricCalculationType) {
            return MetricCalculationType.Manual = "Manual", MetricCalculationType.Connect = "Connect", 
            MetricCalculationType.Rollup = "Rollup", MetricCalculationType;
        }({}), WebScorecardSaveCurrentValueSelection = _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.cx["PBI.WebScorecard.SaveCurrentValueSelection"] = (0, 
        _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.b1)("PBI.WebScorecard.SaveCurrentValueSelection"), WebScorecardSaveTargetValueSelection = _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.cx["PBI.WebScorecard.SaveTargetValueSelection"] = (0, 
        _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.b1)("PBI.WebScorecard.SaveTargetValueSelection"), DatasetDetailsPageGoalRollupsCoachmarkTriggered = _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.cx["PBI.DatasetDetailsPage.GoalRollupsCoachmarkTriggered"] = (0, 
        _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.b1)("PBI.DatasetDetailsPage.GoalRollupsCoachmarkTriggered"), DatasetDetailsPageGoalRollupsDetailsPaneCoachmarkTriggered = _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.cx["PBI.DatasetDetailsPage.GoalRollupsDetailsPaneCoachmarkTriggered"] = (0, 
        _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.b1)("PBI.DatasetDetailsPage.GoalRollupsDetailsPaneCoachmarkTriggered"), ScorecardChangeViewType = _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.cx["PBI.Scorecard.ChangeViewType"] = (0, 
        _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.b1)("PBI.Scorecard.ChangeViewType"), ScorecardHierarchiesBuilderOpen = _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.cx["PBI.Scorecard.Hierarchies.Builder.Open"] = (0, 
        _powerbi_legacy_JsCommon_telemetry_powerbi_telemetryHelpers__WEBPACK_IMPORTED_MODULE_0__.b1)("PBI.Scorecard.Hierarchies.Builder.Open");
    },
    8748: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            o: function() {
                return MashupEditorComponent;
            }
        });
        var tslib_es6 = __webpack_require__(81337), constants = __webpack_require__(12966), telemetryHelpers = __webpack_require__(41114), MashupEditorOnReadyError = telemetryHelpers.cx["PBI.MashupEditor.OnReadyError"] = (0, 
        telemetryHelpers.b1)("PBI.MashupEditor.OnReadyError"), MashupEditorOnTokenError = telemetryHelpers.cx["PBI.MashupEditor.OnTokenError"] = (0, 
        telemetryHelpers.b1)("PBI.MashupEditor.OnTokenError"), http = __webpack_require__(48741), core = __webpack_require__(50423), ngrx_component_store = __webpack_require__(95281), Common = __webpack_require__(35911), rx_component = __webpack_require__(73221), Telemetry = __webpack_require__(21617), Client = __webpack_require__(78590), combineLatest = __webpack_require__(59017), withLatestFrom = __webpack_require__(23558), filter = __webpack_require__(59973), takeUntil = __webpack_require__(83317), app_settings_service = __webpack_require__(76746), mashup_service = __webpack_require__(85928), localization_service = __webpack_require__(65181), _c0 = [ "mashupIframe" ], initialState = {
            readyState: 0
        }, MashupEditorComponent = function(_super) {
            function MashupEditorComponent(appSettings, ref, mashupService, localizationService, telemetryService, componentStore) {
                var _this = _super.call(this) || this;
                return _this.appSettings = appSettings, _this.ref = ref, _this.mashupService = mashupService, 
                _this.localizationService = localizationService, _this.telemetryService = telemetryService, 
                _this.componentStore = componentStore, _this.onError = new core.EventEmitter, _this.onReady = new core.EventEmitter, 
                _this.readyState$ = _this.componentStore.select(function(state) {
                    return state.readyState;
                }), _this.updateState = _this.componentStore.updater(function(state, readyState) {
                    return (0, tslib_es6.__assign)((0, tslib_es6.__assign)({}, state), {
                        readyState
                    });
                }), _this;
            }
            return (0, tslib_es6.__extends)(MashupEditorComponent, _super), MashupEditorComponent.prototype.ngOnInit = function() {
                var _a, _b, _c, _d, _this = this;
                !this.theme && (null === (_b = null === (_a = this.clientConfiguration) || void 0 === _a ? void 0 : _a.editorSettings) || void 0 === _b ? void 0 : _b.themeOverride) && (this.theme = null === (_d = null === (_c = this.clientConfiguration) || void 0 === _c ? void 0 : _c.editorSettings) || void 0 === _d ? void 0 : _d.themeOverride), 
                this.componentStore.setState(initialState), this.changes$("flow").pipe((0, withLatestFrom.M)(this.readyState$), (0, 
                filter.h)(function(_a) {
                    return !!_a[0] && 1 !== _a[1];
                }), (0, takeUntil.R)(this.onDestroy$)).subscribe(function(_a) {
                    var state = _a[1];
                    return (0, tslib_es6.__awaiter)(_this, void 0, void 0, function() {
                        return (0, tslib_es6.__generator)(this, function(_b) {
                            switch (_b.label) {
                              case 0:
                                return this.updateState(1), 0 === state ? [ 3, 2 ] : [ 4, this.endFlow() ];

                              case 1:
                                _b.sent(), _b.label = 2;

                              case 2:
                                return this.startFlow(), [ 2 ];
                            }
                        });
                    });
                });
            }, MashupEditorComponent.prototype.ngAfterViewInit = function() {
                var _this = this;
                (0, Common.mv)(this.clientConfiguration, "clientConfiguration is required"), this.mashupService.getPQToken("".concat(this.appSettings.powerQueryResourceName, "/.default")).toPromise().catch(function() {}), 
                this.mashupDataSubscription = (0, combineLatest.aj)([ this.mashupService.getPQEndpoint() ]).pipe((0, 
                filter.h)(function(_a) {
                    return !!_a[0];
                })).subscribe(function(_a) {
                    _this.initMashupeditor(_a[0]);
                }, function(error) {
                    _this.onError.emit(error);
                });
            }, MashupEditorComponent.prototype.ngOnDestroy = function() {
                return this.mashupEditorClient && this.mashupEditorClient.dispose(), this.mashupDataSubscription && this.mashupDataSubscription.unsubscribe(), 
                _super.prototype.ngOnDestroy.call(this);
            }, MashupEditorComponent.prototype.setFocus = function() {
                var doc = this.mashupIframe.nativeElement.contentDocument || this.mashupIframe.nativeElement.contentWindow;
                null == doc || doc.focus();
            }, MashupEditorComponent.prototype.activateQuery = function(queryName) {
                return this.mashupEditorClient.activateQuery(queryName);
            }, MashupEditorComponent.prototype.addQuery = function(queryName, queryScript) {
                return this.mashupEditorClient.addQuery(queryName, queryScript);
            }, MashupEditorComponent.prototype.cancelCurrentEvaluation = function() {
                return this.mashupEditorClient.dataPreview.cancelCurrentEvaluation();
            }, MashupEditorComponent.prototype.getEditingSessionMashup = function() {
                return this.mashupEditorClient.getEditingSessionMashup();
            }, MashupEditorComponent.prototype.getQueriesInfo = function() {
                return this.mashupEditorClient.getQueriesInfo();
            }, MashupEditorComponent.prototype.getQueryScript = function(queryName) {
                return this.mashupEditorClient.getQueryScript(queryName);
            }, MashupEditorComponent.prototype.getDataSourceQueryScript = function(queryName, stepName) {
                return this.mashupEditorClient.getDataSourceQueryScript(queryName, stepName);
            }, MashupEditorComponent.prototype.setUserSettings = function(userSettings) {
                return this.mashupEditorClient.setUserSettings(userSettings);
            }, MashupEditorComponent.prototype.refreshActiveQueryResult = function() {
                return this.mashupEditorClient.refreshActiveQueryResult();
            }, MashupEditorComponent.prototype.getSelectedStepName = function() {
                return this.mashupEditorClient.getSelectedStepName();
            }, MashupEditorComponent.prototype.getActiveQueryName = function() {
                return this.mashupEditorClient.getActiveQueryName();
            }, MashupEditorComponent.prototype.getClientSettings = function(endpoint) {
                return {
                    allowedOrigin: endpoint,
                    container: this.mashupIframe.nativeElement,
                    url: this.createMashupEditorUrl(endpoint),
                    className: "mashup-editor-client-iframe"
                };
            }, MashupEditorComponent.prototype.createMashupEditorUrl = function(endpoint) {
                var mashupUrl = "".concat(endpoint, "/MashupEditor");
                if (this.mashupEditorFeatureFlags && this.mashupEditorFeatureFlags.size > 0) {
                    var params_1 = new http.LE;
                    this.mashupEditorFeatureFlags.forEach(function(value, key) {
                        params_1 = params_1.set(key, value);
                    }), mashupUrl = mashupUrl + "?" + params_1.toString();
                }
                return mashupUrl;
            }, MashupEditorComponent.prototype.getEditorSettings = function() {
                var queryEditorDefaultSettings = {
                    cancelButtonLabel: this.localizationService.get("Cancel_ButtonText"),
                    closeButtonSettings: {
                        showConfirmationPrompt: !1,
                        actionOnClick: Client.w9.Cancel
                    },
                    commitButtonLabel: this.localizationService.get("ModalDialog_Save"),
                    enableAIInsights: !1,
                    enableCalculatedEntities: !0,
                    enableLinkedEntities: !0,
                    enableMappingAsAStep: !1,
                    returnQueryEditorResult: !1,
                    showCancelButton: !0,
                    useHostConnectionProvider: !1
                };
                return {
                    addFocusTrapZone: !1,
                    locale: this.localizationService.currentLanguageLocale,
                    sessionId: this.telemetryService.sessionId,
                    queryEditorSettings: queryEditorDefaultSettings,
                    showCloseButton: !0,
                    showHeader: !1,
                    themeOverride: this.theme || constants.C8
                };
            }, MashupEditorComponent.prototype.endFlow = function() {
                return (0, tslib_es6.__awaiter)(this, void 0, void 0, function() {
                    var error_1;
                    return (0, tslib_es6.__generator)(this, function(_a) {
                        switch (_a.label) {
                          case 0:
                            if (!this.mashupEditorClient) return [ 2 ];
                            _a.label = 1;

                          case 1:
                            return _a.trys.push([ 1, 3, , 4 ]), [ 4, this.mashupEditorClient.endFlow() ];

                          case 2:
                            return _a.sent(), this.updateState(3), [ 3, 4 ];

                          case 3:
                            return error_1 = _a.sent(), this.onError.emit(error_1), this.updateState(4), [ 3, 4 ];

                          case 4:
                            return [ 2 ];
                        }
                    });
                });
            }, MashupEditorComponent.prototype.startFlow = function() {
                var _this = this;
                this.flow && this.mashupEditorClient && this.mashupEditorClient.ready.then(function() {
                    _this.mashupEditorClient.startFlow(_this.flow, _this.editorOnCommit, _this.editorOnCancel).then(function() {
                        _this.updateState(2), _this.onReady.emit(), _this.ref.detectChanges();
                    }, function(error) {
                        _this.updateState(4);
                    });
                }, function(reason) {
                    _this.onError.emit(reason), _this.updateState(4), _this.telemetryService.logEvent(MashupEditorOnReadyError, {
                        reason: reason ? reason + "" : void 0
                    });
                });
            }, MashupEditorComponent.prototype.initMashupeditor = function(endpoint) {
                var configuration, _this = this, clientSettings = this.getClientSettings(endpoint), editorSettings = this.getEditorSettings();
                this.mashupEditorClient = (configuration = _.merge({
                    clientSettings,
                    editorSettings,
                    acquireToken: function(resource) {
                        return _this.mashupService.getPQToken("".concat(resource, "/.default")).toPromise().catch(function(error) {
                            _this.onError.emit(error), _this.telemetryService.logEvent(MashupEditorOnTokenError, {
                                reason: error ? error.status + "" : void 0
                            });
                        });
                    }
                }, this.clientConfiguration), new Client.Cq(configuration)), this.startFlow();
            }, MashupEditorComponent.\u0275fac = function(t) {
                return new (t || MashupEditorComponent)(core["\u0275\u0275directiveInject"](app_settings_service.de), core["\u0275\u0275directiveInject"](core.ChangeDetectorRef), core["\u0275\u0275directiveInject"](mashup_service.M), core["\u0275\u0275directiveInject"](localization_service.o), core["\u0275\u0275directiveInject"](Telemetry.y0), core["\u0275\u0275directiveInject"](ngrx_component_store.m1));
            }, MashupEditorComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: MashupEditorComponent,
                selectors: [ [ "mashup-editor" ] ],
                viewQuery: function(rf, ctx) {
                    var _t;
                    1 & rf && core["\u0275\u0275viewQuery"](_c0, 5), 2 & rf && core["\u0275\u0275queryRefresh"](_t = core["\u0275\u0275loadQuery"]()) && (ctx.mashupIframe = _t.first);
                },
                inputs: {
                    clientConfiguration: "clientConfiguration",
                    mashupEditorFeatureFlags: "mashupEditorFeatureFlags",
                    flow: "flow",
                    editorOnCommit: "editorOnCommit",
                    editorOnCancel: "editorOnCancel",
                    theme: "theme"
                },
                outputs: {
                    onError: "onError",
                    onReady: "onReady"
                },
                features: [ core["\u0275\u0275ProvidersFeature"]([ ngrx_component_store.m1 ]), core["\u0275\u0275InheritDefinitionFeature"] ],
                decls: 2,
                vars: 0,
                consts: [ [ "id", "mashupIframe", "pbi-auto-focus", "", "data-testid", "mashup-iframe" ], [ "mashupIframe", "" ] ],
                template: function(rf, ctx) {
                    1 & rf && core["\u0275\u0275element"](0, "div", 0, 1);
                },
                styles: [ "[_nghost-%COMP%]{display:flex}#mashupIframe[_ngcontent-%COMP%]{background:var(--white-color, #FFF);display:flex;flex:1 1 auto;align-items:stretch;justify-content:center}#mashupIframe[_ngcontent-%COMP%]     .mashup-editor-client-iframe{border:none;width:100%;height:100%;display:block!important}" ],
                changeDetection: 0
            }), MashupEditorComponent;
        }(rx_component.w);
    },
    12966: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            C8: function() {
                return PowerBITheme;
            },
            z6: function() {
                return TridentTheme;
            }
        });
        var PowerBITheme = {
            palette: {
                themeDarker: "#b1920b",
                themeDark: "#bc9a0a",
                themeDarkAlt: "#c5a20b",
                themePrimary: "#f2c811",
                themeSecondary: "#f2c811",
                themeTertiary: "#f7de72",
                themeLight: "#f9e48a",
                themeLighter: "#fbefba",
                themeLighterAlt: "#fdf6d7"
            },
            semanticColors: {
                primaryButton: {
                    text: {
                        default: "#333333"
                    }
                },
                checkableInput: {
                    text: {
                        checked: "#333333"
                    }
                },
                grid: {
                    cell: {
                        linkText: {
                            default: "#7D6807",
                            focused: "#5C4C05"
                        }
                    }
                }
            }
        }, TridentTheme = {
            palette: {
                themePrimary: "#117865",
                themeLighterAlt: "#f1faf8",
                themeLighter: "#c9e9e3",
                themeLight: "#9fd6cc",
                themeTertiary: "#54ae9d",
                themeSecondary: "#218875",
                themeDarkAlt: "#0f6c5b",
                themeDark: "#0d5b4d",
                themeDarker: "#094339",
                neutralLighterAlt: "#faf9f8",
                neutralLighter: "#f3f2f1",
                neutralLight: "#edebe9",
                neutralQuaternaryAlt: "#e1dfdd",
                neutralQuaternary: "#d0d0d0",
                neutralTertiaryAlt: "#c8c6c4",
                neutralTertiary: "#a19f9d",
                neutralSecondary: "#605e5c",
                neutralSecondaryAlt: "#8a8886",
                neutralPrimaryAlt: "#3b3a39",
                neutralPrimary: "#323130",
                neutralDark: "#201f1e",
                black: "#000000",
                white: "#ffffff"
            },
            semanticColors: {}
        };
    },
    71328: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            G: function() {
                return MashupModule;
            }
        });
        var dialog = __webpack_require__(32293), core = __webpack_require__(50423), common = __webpack_require__(77476), mashup_editor_component = __webpack_require__(8748);
        function MashUpEditorDialogComponent_mashup_editor_0_Template(rf, ctx) {
            if (1 & rf) {
                var _r2 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementStart"](0, "mashup-editor", 1), core["\u0275\u0275listener"]("onError", function() {
                    core["\u0275\u0275restoreView"](_r2);
                    var ctx_r1 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r1.onError);
                }), core["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var ctx_r0 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("clientConfiguration", ctx_r0.mashUpEditorInput.clientConfiguration)("editorOnCommit", ctx_r0.onCommit)("editorOnCancel", ctx_r0.onCancel)("flow", ctx_r0.mashUpEditorInput.flow);
            }
        }
        var MashUpEditorDialogComponent = function() {
            function MashUpEditorDialogComponent(dialogRef, bindings) {
                var _this = this;
                this.dialogRef = dialogRef, this.onCommit = function(mashupEditorClient, result) {
                    _this.mashUpEditorInput.editorOnCommit(mashupEditorClient, result), _this.dialogRef.close(result);
                }, this.onCancel = function(mashupEditorClient) {
                    _this.mashUpEditorInput.editorOnCancel(mashupEditorClient), _this.dialogRef.close();
                }, this.onError = function(error) {
                    _this.mashUpEditorInput.onError(error);
                }, this.mashUpEditorInput = bindings.input;
            }
            return MashUpEditorDialogComponent.\u0275fac = function(t) {
                return new (t || MashUpEditorDialogComponent)(core["\u0275\u0275directiveInject"](dialog.so), core["\u0275\u0275directiveInject"](dialog.WI));
            }, MashUpEditorDialogComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: MashUpEditorDialogComponent,
                selectors: [ [ "mashup-editor-dialog" ] ],
                decls: 1,
                vars: 1,
                consts: [ [ "pbi-auto-focus", "", "cdkFocusInitial", "", 3, "clientConfiguration", "editorOnCommit", "editorOnCancel", "flow", "onError", 4, "ngIf" ], [ "pbi-auto-focus", "", "cdkFocusInitial", "", 3, "clientConfiguration", "editorOnCommit", "editorOnCancel", "flow", "onError" ] ],
                template: function(rf, ctx) {
                    1 & rf && core["\u0275\u0275template"](0, MashUpEditorDialogComponent_mashup_editor_0_Template, 1, 4, "mashup-editor", 0), 
                    2 & rf && core["\u0275\u0275property"]("ngIf", !!ctx.mashUpEditorInput.clientConfiguration);
                },
                dependencies: [ common.NgIf, mashup_editor_component.o ],
                styles: [ "[_nghost-%COMP%]     mashup-editor{display:flex;width:80vw;height:80vh}[_nghost-%COMP%]{display:flex}" ]
            }), MashUpEditorDialogComponent;
        }(), MashUpEditorErrorHandlerInjectionToken = new core.InjectionToken("MashUpEditorErrorHandler"), MashUpEditorLauncherServiceInjectionToken = new core.InjectionToken("MashUpEditorLauncher"), Client = __webpack_require__(78590), ReplaySubject = __webpack_require__(33554), from = __webpack_require__(82762), take = __webpack_require__(48787), mergeMap = __webpack_require__(42195), dialog_service = __webpack_require__(58938), MashupEditorEventType = function(MashupEditorEventType) {
            return MashupEditorEventType.OnCommit = "OnCommit", MashupEditorEventType.OnCancel = "OnCancel", 
            MashupEditorEventType;
        }({}), MashUpEditorLauncherDefaultProvider = {
            provide: MashUpEditorLauncherServiceInjectionToken,
            useClass: function() {
                function DefaultMashUpEditorLauncherService(dialogService, errorHandler) {
                    this.dialogService = dialogService, this.errorHandler = errorHandler, this.lifeCycleEvent$ = new ReplaySubject.t(1);
                }
                return DefaultMashUpEditorLauncherService.prototype.editQueries = function(editingSessionMashUp, config) {
                    return this.launchMashUpEditor(config.clientConfiguration, {
                        kind: Client.Mw.EditQuery,
                        hostContext: config.hostContext || editingSessionMashUp.hostContext,
                        mashupDefinition: {
                            editingSessionMashup: editingSessionMashUp,
                            kind: Client.Qo.TransientMashup
                        }
                    });
                }, DefaultMashUpEditorLauncherService.prototype.addQueries = function(editingSessionMashUp, config) {
                    var flow = this.buildFlowForAddQueries(editingSessionMashUp, config);
                    return this.launchMashUpEditor(config.clientConfiguration, flow);
                }, DefaultMashUpEditorLauncherService.prototype.manageDataSources = function(editingSessionMashUp, config) {
                    return this.launchMashUpEditor(config.clientConfiguration, {
                        kind: Client.Mw.ManageConnections,
                        hostContext: config.hostContext,
                        connectionOverrides: editingSessionMashUp.connectionOverrides
                    });
                }, DefaultMashUpEditorLauncherService.prototype.buildFlowForAddQueries = function(editingSessionMashUp, config) {
                    var flow = {
                        kind: Client.Mw.AddQueries,
                        hostContext: config.hostContext || editingSessionMashUp.hostContext
                    };
                    return function(editingSessionMashUp) {
                        return !_.has(editingSessionMashUp, "mashupDocument") || _.isNil(editingSessionMashUp.mashupDocument);
                    }(editingSessionMashUp) ? (flow.mashupTemplateImportAllowed = !0, flow.mashupDefinition = {
                        editingSessionEmptyMashup: editingSessionMashUp,
                        kind: Client.Qo.TransientEmptyMashup
                    }) : (flow.mashupTemplateImportAllowed = !1, flow.mashupDefinition = {
                        editingSessionMashup: editingSessionMashUp,
                        kind: Client.Qo.TransientMashup
                    }), flow;
                }, DefaultMashUpEditorLauncherService.prototype.launchMashUpEditor = function(clientConfiguration, flow) {
                    var _this = this;
                    return (0, from.D)(this.dialogService.showTemplateDialog("MashUpEditorDialogComponentId", {
                        title: "Mash Up Editor Dialog",
                        input: {
                            clientConfiguration,
                            flow,
                            editorOnCommit: function(mashupEditorClient, result) {
                                return _this.onCommit(mashupEditorClient, result);
                            },
                            editorOnCancel: function(mashupEditorClient) {
                                return _this.onCancel(mashupEditorClient);
                            },
                            onError: function(error) {
                                var _a;
                                return null === (_a = _this.errorHandler) || void 0 === _a ? void 0 : _a.handleError(error);
                            }
                        }
                    })).pipe((0, take.q)(1), (0, mergeMap.zg)(function(ref) {
                        return ref.afterClosed();
                    })).toPromise();
                }, DefaultMashUpEditorLauncherService.prototype.onCommit = function(mashupEditorClient, result) {
                    this.lifeCycleEvent$.next({
                        type: MashupEditorEventType.OnCommit,
                        payload: result
                    });
                }, DefaultMashUpEditorLauncherService.prototype.onCancel = function(mashupEditorClient) {
                    this.lifeCycleEvent$.next({
                        type: MashupEditorEventType.OnCancel,
                        payload: void 0
                    });
                }, DefaultMashUpEditorLauncherService.\u0275fac = function(t) {
                    return new (t || DefaultMashUpEditorLauncherService)(core["\u0275\u0275inject"](dialog_service.x), core["\u0275\u0275inject"](MashUpEditorErrorHandlerInjectionToken, 8));
                }, DefaultMashUpEditorLauncherService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                    token: DefaultMashUpEditorLauncherService,
                    factory: DefaultMashUpEditorLauncherService.\u0275fac
                }), DefaultMashUpEditorLauncherService;
            }()
        }, localization_module = __webpack_require__(79061), dialogs_eager_module = __webpack_require__(24495), MashupModule = function() {
            function MashupModule() {}
            return MashupModule.\u0275fac = function(t) {
                return new (t || MashupModule);
            }, MashupModule.\u0275mod = core["\u0275\u0275defineNgModule"]({
                type: MashupModule
            }), MashupModule.\u0275inj = core["\u0275\u0275defineInjector"]({
                providers: [ MashUpEditorLauncherDefaultProvider ],
                imports: [ common.CommonModule, localization_module.v, dialogs_eager_module.z.withManifest([ {
                    componentIdentifier: "MashUpEditorDialogComponentId",
                    componentType: MashUpEditorDialogComponent
                } ]) ]
            }), MashupModule;
        }();
    },
    85928: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            M: function() {
                return MashupService;
            }
        });
        var MicrosoftTeams_min = __webpack_require__(36444), Common = __webpack_require__(35911), ngrx_store = __webpack_require__(85732), getUrlConfigurationState = (0, 
        ngrx_store.ZF)("urlConfiguration"), getPowerQueryHostUrl = (0, ngrx_store.P1)(getUrlConfigurationState, function(urlConfigurationState) {
            return urlConfigurationState.powerQueryHostUrl;
        }), inTeams = __webpack_require__(37263), formatUtil = __webpack_require__(59694), of = __webpack_require__(11547), from = __webpack_require__(82762), BehaviorSubject = __webpack_require__(35510), mergeMap = __webpack_require__(42195), map = __webpack_require__(14172), tap = __webpack_require__(17653), first = __webpack_require__(88255), core = __webpack_require__(50423), access_token_provider_service = __webpack_require__(62113), http_service = __webpack_require__(73875), commonGlobals = window, MashupService = function() {
            function MashupService(store, accessTokenProviderService, httpService, inTeams) {
                var _this = this;
                this.store = store, this.accessTokenProviderService = accessTokenProviderService, 
                this.httpService = httpService, this.inTeams = inTeams, this.getAADToken$ = function(resource) {
                    return (0, of.of)(null).pipe((0, mergeMap.zg)(function() {
                        if (commonGlobals.clientAuthEnabled) return (0, from.D)(_this.accessTokenProviderService.acquireToken("MashupService", [ resource ], !1)).pipe((0, 
                        map.U)(function(accessToken) {
                            return accessToken.token;
                        }));
                        if (_this.inTeams) {
                            var resourceWithoutScope = resource.substring(0, resource.lastIndexOf("/"));
                            return MicrosoftTeams_min.authentication.initialize(), (0, from.D)(MicrosoftTeams_min.authentication.getAuthToken({
                                resources: [ resourceWithoutScope ],
                                silent: !0
                            }));
                        }
                        var endpoint = (0, formatUtil.W)("{0}/msal", commonGlobals.baseUrl || window.location.origin), options = _this.httpService.powerbiRequestOptions();
                        return options.params = {
                            scopes: resource
                        }, _this.httpService.get(endpoint, options).pipe((0, map.U)(function(result) {
                            return result.data.AccessToken;
                        }));
                    }), (0, tap.b)(function(token) {
                        var expiration = 1e3 * (0, Common.oG)(token).exp;
                        _this.AADTokenCache$.next(new Map(_this.AADTokenCache$.getValue()).set(resource, {
                            token,
                            expiration
                        }));
                    }));
                }, this.AADTokenCache$ = new BehaviorSubject.X(new Map);
            }
            return MashupService.prototype.getPQEndpoint = function() {
                return this.store.select(getPowerQueryHostUrl).pipe((0, map.U)(function(powerQueryHostUrl) {
                    return (0, formatUtil.g)(powerQueryHostUrl) ? null : powerQueryHostUrl.replace(/\/$/, "");
                }));
            }, MashupService.prototype.getPQToken = function(resource) {
                var _this = this;
                return this.AADTokenCache$.pipe((0, first.P)(), (0, mergeMap.zg)(function(cache) {
                    return !cache.has(resource) || Date.now() + 3e5 > cache.get(resource).expiration ? _this.getAADToken$(resource) : (0, 
                    of.of)(cache.get(resource).token);
                }));
            }, MashupService.\u0275fac = function(t) {
                return new (t || MashupService)(core["\u0275\u0275inject"](ngrx_store.yh), core["\u0275\u0275inject"](access_token_provider_service.Q), core["\u0275\u0275inject"](http_service.O), core["\u0275\u0275inject"](inTeams.$, 8));
            }, MashupService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: MashupService,
                factory: MashupService.\u0275fac,
                providedIn: "root"
            }), MashupService;
        }();
    },
    47754: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            L: function() {
                return ProfileImageService;
            }
        });
        var _powerbi_Core_actions_group__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(82515), _powerbi_InjectionTokens_promiseFactory__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(14463), _powerbi_InjectionTokens_userMetadataHttpService__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(34410), _powerbi_legacy_PowerBICommon_telemetry_events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(59055), _powerbi_legacy_PowerBIVisuals_VisualsCommon_Utility_Utility__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(38078), _powerbi_Telemetry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21617), _powerbi_User__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(76609), _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(50423), _powerbi_WebAppSettings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(27887), _powerbi_User__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(79474), _angular_platform_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(18942), _ngrx_store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(85732), ProfileImageService = function() {
            function ProfileImageService(applicationOptions, userInfo, userProfileImageService, telemetryService, sanitizer, store, userMetadataHttpService, promiseFactory) {
                this.applicationOptions = applicationOptions, this.userInfo = userInfo, this.userProfileImageService = userProfileImageService, 
                this.telemetryService = telemetryService, this.sanitizer = sanitizer, this.store = store, 
                this.groupPhotos = [], this.userPhotos = [], this.findGroupIconPromises = [], this.getOtherUserPhotoPromises = [], 
                this.getGroupIconPromises = [], this.userMetadataHttpService = userMetadataHttpService, 
                this.promiseFactory = promiseFactory;
            }
            return ProfileImageService.prototype.getGroupIcons = function(delay) {
                var _this = this;
                if (void 0 === delay && (delay = 4900), this.groupIconsPromise) return this.groupIconsPromise;
                var deferredGroupIcons = this.promiseFactory.defer();
                return setTimeout(function() {
                    var getGroupIconsTelemetryEvent = _this.telemetryService.startEvent(_powerbi_legacy_PowerBICommon_telemetry_events__WEBPACK_IMPORTED_MODULE_1__.Sj);
                    _this.userMetadataHttpService.getUserGroupIcons(getGroupIconsTelemetryEvent.event).toPromise().then(function(result) {
                        result.data && (deferredGroupIcons.resolve(result.data), _this.store.dispatch(new _powerbi_Core_actions_group__WEBPACK_IMPORTED_MODULE_2__.YI({
                            groupIcons: result.data
                        })));
                    }, function() {
                        deferredGroupIcons.reject();
                    });
                }, delay), this.groupIconsPromise = deferredGroupIcons.promise, deferredGroupIcons.promise;
            }, ProfileImageService.prototype.getGroupIcon = function(groupObjectId, delay) {
                var _this = this;
                void 0 === delay && (delay = 4900);
                var groupPhotoPromise = _.find(this.getGroupIconPromises, function(group) {
                    return group.groupObjectId === groupObjectId;
                });
                if (groupPhotoPromise) return groupPhotoPromise.promise;
                var deferredString = this.promiseFactory.defer(), httpResultPromise = this.applicationOptions.isE2ERun ? this.getRejectedHttpResultPromiseWithNotFound() : this.userMetadataHttpService.getGroupIcon(groupObjectId).toPromise();
                return setTimeout(function() {
                    httpResultPromise.then(function(result) {
                        if (result.data) {
                            var resultImage = _this.base64Enconding(result.data.groupIcon);
                            deferredString.resolve(resultImage), _this.groupPhotos.push({
                                groupObjectId,
                                groupIcon: resultImage
                            });
                        } else deferredString.reject();
                    }, function(result) {
                        _this.resultHasStatusEquivalentOfNotFound(result.status) ? (deferredString.resolve(""), 
                        _this.groupPhotos.push({
                            groupObjectId,
                            groupIcon: ""
                        })) : deferredString.reject();
                    });
                }, delay), this.getGroupIconPromises.push({
                    groupObjectId,
                    promise: deferredString.promise
                }), deferredString.promise;
            }, ProfileImageService.prototype.getUserPhoto = function() {
                var _this = this;
                if (this._userPhotoPromise) return this._userPhotoPromise;
                var getUserPhotoPromise = this.userProfileImageService.getUserPhoto();
                return this._userPhotoPromise = getUserPhotoPromise, getUserPhotoPromise.then(function(blob) {
                    _this.userPhotos.push({
                        userObjectId: _this.userInfo.puid,
                        userIcon: blob
                    });
                    var objectUrl = blob.substring(4, blob.length - 1), sanitizedUrl = _this.sanitizer.bypassSecurityTrustUrl(objectUrl);
                    _this.store.dispatch(new _powerbi_Core_actions_group__WEBPACK_IMPORTED_MODULE_2__.Ar(sanitizedUrl));
                }, function(error) {
                    if (error.name !== _powerbi_User__WEBPACK_IMPORTED_MODULE_3__.SJ) throw error;
                }), getUserPhotoPromise;
            }, ProfileImageService.prototype.getOtherUserPhoto = function(userObjectId) {
                var _this = this, userPhotoPromise = _.find(this.getOtherUserPhotoPromises, function(user) {
                    return user.userObjectId === userObjectId;
                });
                if (userPhotoPromise) return userPhotoPromise.promise;
                var deferredString = this.promiseFactory.defer();
                return (this.applicationOptions.isE2ERun ? this.getRejectedHttpResultPromiseWithNotFound() : this.userMetadataHttpService.getOtherUserPhoto(userObjectId).toPromise()).then(function(result) {
                    if (result.data.type === _powerbi_legacy_PowerBIVisuals_VisualsCommon_Utility_Utility__WEBPACK_IMPORTED_MODULE_4__.JA) {
                        var resultIcon = URL.createObjectURL(result.data);
                        return deferredString.resolve(resultIcon), void _this.userPhotos.push({
                            userObjectId,
                            userIcon: resultIcon
                        });
                    }
                    deferredString.reject();
                }, function(result) {
                    _this.resultHasStatusEquivalentOfNotFound(result.status) ? (deferredString.resolve(""), 
                    _this.userPhotos.push({
                        userObjectId,
                        userIcon: ""
                    })) : deferredString.reject();
                }), this.getOtherUserPhotoPromises.push({
                    userObjectId,
                    promise: deferredString.promise
                }), deferredString.promise;
            }, ProfileImageService.prototype.findGroupIcon = function(groupObjectId, loadDelay) {
                var _this = this, groupPhotoPromise = _.find(this.findGroupIconPromises, function(group) {
                    return group.groupObjectId === groupObjectId;
                });
                if (groupPhotoPromise) return groupPhotoPromise.promise;
                var deferredGroupIcon = this.promiseFactory.defer();
                return this.getGroupIcons(loadDelay).then(function(groupIcons) {
                    var group = _.find(groupIcons, function(g) {
                        return g.groupObjectId === groupObjectId;
                    });
                    if (group) {
                        var groupIcon = _this.base64Enconding(group.groupIcon);
                        deferredGroupIcon.resolve(groupIcon), _this.groupPhotos.push({
                            groupObjectId,
                            groupIcon
                        });
                    } else deferredGroupIcon.reject("Group with objectid " + groupObjectId + " has no icon");
                }, function() {
                    deferredGroupIcon.reject();
                }), this.findGroupIconPromises.push({
                    groupObjectId,
                    promise: deferredGroupIcon.promise
                }), deferredGroupIcon.promise;
            }, ProfileImageService.prototype.findOrGetGroupPhoto = function(groupObjectId) {
                var _this = this, deferredGroupIcon = this.promiseFactory.defer(), group = _.find(this.groupPhotos, function(group) {
                    return group.groupObjectId === groupObjectId;
                });
                return group ? "" !== group.groupIcon ? deferredGroupIcon.resolve(group.groupIcon) : deferredGroupIcon.reject() : this.findGroupIcon(groupObjectId).then(function(groupPhoto) {
                    deferredGroupIcon.resolve(groupPhoto);
                }, function() {
                    _this.getGroupIcon(groupObjectId).then(function(groupPhoto) {
                        deferredGroupIcon.resolve(groupPhoto);
                    }, function(error) {
                        deferredGroupIcon.reject();
                    });
                }), deferredGroupIcon.promise;
            }, ProfileImageService.prototype.findOrGetUserPhoto = function(userObjectId) {
                var deferredUserIcon = this.promiseFactory.defer(), user = _.find(this.userPhotos, function(user) {
                    return user.userObjectId === userObjectId;
                });
                return user ? "" !== user.userIcon ? deferredUserIcon.resolve(user.userIcon) : deferredUserIcon.reject() : userObjectId === this.userInfo.puid ? this._userPhotoPromise && this._userPhotoPromise.then(function(userPhoto) {
                    deferredUserIcon.resolve(userPhoto);
                }) : this.getOtherUserPhoto(userObjectId).then(function(userPhoto) {
                    userPhoto ? deferredUserIcon.resolve(userPhoto) : deferredUserIcon.reject();
                }), deferredUserIcon.promise;
            }, ProfileImageService.prototype.base64Enconding = function(data) {
                return "data:image/jpeg;base64," + data;
            }, ProfileImageService.prototype.resultHasStatusEquivalentOfNotFound = function(status) {
                return 404 === status || 400 === status || 500 === status;
            }, ProfileImageService.prototype.getRejectedHttpResultPromiseWithNotFound = function() {
                return this.promiseFactory.reject({
                    data: {},
                    status: 404,
                    headers: function() {
                        return "";
                    }
                });
            }, ProfileImageService.\u0275fac = function(t) {
                return new (t || ProfileImageService)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["\u0275\u0275inject"](_powerbi_WebAppSettings__WEBPACK_IMPORTED_MODULE_6__.V), _angular_core__WEBPACK_IMPORTED_MODULE_5__["\u0275\u0275inject"](_powerbi_User__WEBPACK_IMPORTED_MODULE_7__.a), _angular_core__WEBPACK_IMPORTED_MODULE_5__["\u0275\u0275inject"](_powerbi_User__WEBPACK_IMPORTED_MODULE_3__.lH), _angular_core__WEBPACK_IMPORTED_MODULE_5__["\u0275\u0275inject"](_powerbi_Telemetry__WEBPACK_IMPORTED_MODULE_0__.y0), _angular_core__WEBPACK_IMPORTED_MODULE_5__["\u0275\u0275inject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_8__.H7), _angular_core__WEBPACK_IMPORTED_MODULE_5__["\u0275\u0275inject"](_ngrx_store__WEBPACK_IMPORTED_MODULE_9__.yh), _angular_core__WEBPACK_IMPORTED_MODULE_5__["\u0275\u0275inject"](_powerbi_InjectionTokens_userMetadataHttpService__WEBPACK_IMPORTED_MODULE_10__.y), _angular_core__WEBPACK_IMPORTED_MODULE_5__["\u0275\u0275inject"](_powerbi_InjectionTokens_promiseFactory__WEBPACK_IMPORTED_MODULE_11__.t));
            }, ProfileImageService.\u0275prov = _angular_core__WEBPACK_IMPORTED_MODULE_5__["\u0275\u0275defineInjectable"]({
                token: ProfileImageService,
                factory: ProfileImageService.\u0275fac,
                providedIn: "root"
            }), ProfileImageService;
        }();
    },
    67255: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            N: function() {
                return UserDetailsHostModule;
            }
        });
        var from = __webpack_require__(82762), ReplaySubject = __webpack_require__(33554), forkJoin = __webpack_require__(9936), map = __webpack_require__(14172), take = __webpack_require__(48787), core = __webpack_require__(50423), profile_image_service = __webpack_require__(47754), user_directory_http_service = __webpack_require__(15910), UserDetailsService = function() {
            function UserDetailsService(profileImageService, userHttpService) {
                this.profileImageService = profileImageService, this.userHttpService = userHttpService, 
                this.usersCache = {};
            }
            return UserDetailsService.prototype.getUserPhoto = function(id) {
                return (0, from.D)(this.profileImageService.getOtherUserPhoto(id));
            }, UserDetailsService.prototype.getUserDetails = function(ids) {
                var _this = this;
                ids = _.filter(ids, function(id) {
                    return !!id;
                });
                var cachedUsers = [], usersToSearch = [];
                if (_.isEmpty(ids)) return (0, from.D)([]);
                for (var _i = 0, ids_1 = ids; _i < ids_1.length; _i++) {
                    var lowerCaseId = ids_1[_i].toLowerCase();
                    this.usersCache[lowerCaseId] || (this.usersCache[lowerCaseId] = new ReplaySubject.t(1), 
                    usersToSearch.push(lowerCaseId)), cachedUsers.push(this.usersCache[lowerCaseId]);
                }
                return _.isEmpty(usersToSearch) || this.userHttpService.getUserDetails(usersToSearch).pipe((0, 
                take.q)(1)).subscribe(function(result) {
                    var foundUserIds = {};
                    if (_.some(null == result ? void 0 : result.data)) for (var _i = 0, _a = null == result ? void 0 : result.data; _i < _a.length; _i++) {
                        var userPrincipalName = (user = _a[_i]).userPrincipalName, objectId = user.objectId;
                        _this.upsert(user.emailAddress, user, foundUserIds), _this.upsert(userPrincipalName, user, foundUserIds), 
                        _this.upsert(objectId, user, foundUserIds);
                    }
                    for (var notFound = _.filter(usersToSearch, function(user) {
                        return !foundUserIds[user];
                    }), _b = 0, notFound_1 = notFound; _b < notFound_1.length; _b++) {
                        var user;
                        _this.usersCache[user = notFound_1[_b]].next(void 0), _this.usersCache[user].complete();
                    }
                }, function() {
                    for (var _a, _b, _i = 0, usersToSearch_1 = usersToSearch; _i < usersToSearch_1.length; _i++) {
                        var user = usersToSearch_1[_i];
                        null === (_a = _this.usersCache[user]) || void 0 === _a || _a.next(void 0), null === (_b = _this.usersCache[user]) || void 0 === _b || _b.complete(), 
                        delete _this.usersCache[user];
                    }
                }), (0, forkJoin.D)(cachedUsers).pipe((0, map.U)(function(users) {
                    return _.filter(users, function(user) {
                        return !!user;
                    });
                }));
            }, UserDetailsService.prototype.findUsers = function(searchTerm, limit) {
                return this.userHttpService.findUsers(searchTerm, 1, limit, !0, !0).pipe((0, map.U)(function(result) {
                    return null == result ? void 0 : result.data;
                }));
            }, UserDetailsService.prototype.upsert = function(id, user, foundUserIds) {
                if (id) {
                    var lowerCaseId = id.toLowerCase();
                    this.usersCache[lowerCaseId] || (this.usersCache[lowerCaseId] = new ReplaySubject.t(1)), 
                    this.usersCache[lowerCaseId].next(user), this.usersCache[lowerCaseId].complete(), 
                    foundUserIds[lowerCaseId] = !0;
                }
            }, UserDetailsService.\u0275fac = function(t) {
                return new (t || UserDetailsService)(core["\u0275\u0275inject"](profile_image_service.L), core["\u0275\u0275inject"](user_directory_http_service.W));
            }, UserDetailsService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: UserDetailsService,
                factory: UserDetailsService.\u0275fac,
                providedIn: "root"
            }), UserDetailsService;
        }(), common = __webpack_require__(77476), userDetailsService = __webpack_require__(10723), localization_module = __webpack_require__(79061), profile_image_module = __webpack_require__(76037), UILibrary_module = __webpack_require__(94785), user_details_module = __webpack_require__(88717), user_module = __webpack_require__(68264), UserDetailsHostModule = function() {
            function UserDetailsHostModule() {}
            return UserDetailsHostModule.\u0275fac = function(t) {
                return new (t || UserDetailsHostModule);
            }, UserDetailsHostModule.\u0275mod = core["\u0275\u0275defineNgModule"]({
                type: UserDetailsHostModule
            }), UserDetailsHostModule.\u0275inj = core["\u0275\u0275defineInjector"]({
                providers: [ {
                    provide: userDetailsService.K,
                    useClass: UserDetailsService
                } ],
                imports: [ common.CommonModule, localization_module.v, profile_image_module.J, UILibrary_module.g, user_details_module.R, user_module.z ]
            }), UserDetailsHostModule;
        }();
    },
    5432: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            d: function() {
                return ValueFormattingComponent;
            }
        });
        var tslib_es6 = __webpack_require__(81337), core = __webpack_require__(50423), value_formatting_culture_service = __webpack_require__(3613), CurrencyFormatService = function() {
            function CurrencyFormatService(cultureService) {
                this.cultureService = cultureService, this.currencyRecentFormats = [];
            }
            return CurrencyFormatService.prototype.getCurrencyGeneralFormat = function() {
                return this.currencyGeneralFormat || (this.currencyGeneralFormat = {
                    culture: null,
                    displayLabel: this.localizationService.get("Format_Label_Currency_General"),
                    symbol: "$",
                    positivePattern: 0,
                    negativePattern: 0,
                    formatType: "CurrencyGeneral"
                }), this.currencyGeneralFormat;
            }, CurrencyFormatService.prototype.getCurrencyCommonFormats = function() {
                if (!this.currencyCommonFormats) {
                    var formats = _.filter(this.cultureService.getAllCurrencySymbolCustomFormatItemsInfo(), function(f) {
                        return "en-US" === f.culture || "en-GB" === f.culture || "fr-CH" === f.culture || null === f.culture;
                    });
                    this.currencyCommonFormats = _.flatten([ this.getCurrencyGeneralFormat(), formats.find(function(f) {
                        return "en-US" === f.culture;
                    }), formats.find(function(f) {
                        return "en-GB" === f.culture;
                    }), formats.filter(function(f) {
                        return !f.culture && "\u20ac" === f.symbol;
                    }), formats.find(function(f) {
                        return !f.culture && "\xa5" === f.symbol;
                    }), formats.find(function(f) {
                        return "fr-CH" === f.culture;
                    }) ]);
                }
                return this.currencyCommonFormats;
            }, CurrencyFormatService.prototype.getCurrencyAllFormats = function() {
                if (!this.currencyAllFormats) {
                    var allFormats = this.cultureService.getAllCurrencySymbolCustomFormatItemsInfo();
                    this.currencyAllFormats = (0, tslib_es6.__spreadArray)([ this.getCurrencyGeneralFormat() ], allFormats, !0);
                }
                return this.currencyAllFormats;
            }, CurrencyFormatService.prototype.getCurrencyAllCultureFormats = function() {
                return this.cultureService.getAllCurrencySymbolCustomFormatItemsInfo();
            }, CurrencyFormatService.prototype.getCurrencyRecentFormats = function() {
                return this.currencyRecentFormats;
            }, CurrencyFormatService.\u0275fac = function(t) {
                return new (t || CurrencyFormatService)(core["\u0275\u0275inject"](value_formatting_culture_service.h));
            }, CurrencyFormatService.\u0275prov = core["\u0275\u0275defineInjectable"]({
                token: CurrencyFormatService,
                factory: CurrencyFormatService.\u0275fac,
                providedIn: "root"
            }), CurrencyFormatService;
        }(), date_time_format_service = __webpack_require__(61353), formatUtils = __webpack_require__(98776), culture_service = __webpack_require__(18967), debug = __webpack_require__(62458), pbi_menu_contracts = __webpack_require__(64560), localization_service = __webpack_require__(65181), common = __webpack_require__(77476), localize_directive = __webpack_require__(59968), legacy_select = __webpack_require__(48205), legacy_core = __webpack_require__(33846), num_up_down_component = __webpack_require__(7970), pbi_menu_directive = __webpack_require__(80357), pbi_icon_component = __webpack_require__(86663), pbi_office_icon_component = __webpack_require__(69437), pbi_tooltip_directive = __webpack_require__(36858), localize_pipe = __webpack_require__(85102);
        function ValueFormattingComponent_mat_option_6_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "mat-option", 7), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var formatType_r4 = ctx.$implicit;
                core["\u0275\u0275property"]("value", formatType_r4.value)("pbiTooltip", formatType_r4.label), 
                core["\u0275\u0275attribute"]("aria-label", formatType_r4.label), core["\u0275\u0275advance"](1), 
                core["\u0275\u0275textInterpolate1"](" ", formatType_r4.label, " ");
            }
        }
        var _c0 = function(a0) {
            return {
                btnDisabled: a0
            };
        }, _c1 = function(a0) {
            return {
                isToggled: a0
            };
        };
        function ValueFormattingComponent_ng_container_7_Template(rf, ctx) {
            if (1 & rf) {
                var _r6 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "div", 8)(2, "div")(3, "button", 9), 
                core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r6);
                    var ctx_r5 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r5.onCurrencyClicked());
                }), core["\u0275\u0275pipe"](4, "localize"), core["\u0275\u0275pipe"](5, "localize"), 
                core["\u0275\u0275element"](6, "pbi-office-icon", 10), core["\u0275\u0275elementEnd"](), 
                core["\u0275\u0275elementStart"](7, "button", 11), core["\u0275\u0275listener"]("pbiMenuButtonClick", function($event) {
                    core["\u0275\u0275restoreView"](_r6);
                    var ctx_r7 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r7.onCurrencyItemClicked($event));
                }), core["\u0275\u0275pipe"](8, "localize"), core["\u0275\u0275pipe"](9, "localize"), 
                core["\u0275\u0275element"](10, "pbi-icon", 12), core["\u0275\u0275elementEnd"]()(), 
                core["\u0275\u0275elementStart"](11, "button", 13), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r6);
                    var ctx_r8 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r8.onChangePercentageToggle());
                }), core["\u0275\u0275pipe"](12, "localize"), core["\u0275\u0275pipe"](13, "localize"), 
                core["\u0275\u0275element"](14, "pbi-office-icon", 14), core["\u0275\u0275elementEnd"](), 
                core["\u0275\u0275elementStart"](15, "button", 13), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r6);
                    var ctx_r9 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r9.onChangeThousandSeparatorToggle());
                }), core["\u0275\u0275pipe"](16, "localize"), core["\u0275\u0275pipe"](17, "localize"), 
                core["\u0275\u0275element"](18, "pbi-office-icon", 15), core["\u0275\u0275elementEnd"]()(), 
                core["\u0275\u0275elementStart"](19, "div", 16), core["\u0275\u0275pipe"](20, "localize"), 
                core["\u0275\u0275elementStart"](21, "span", 17), core["\u0275\u0275element"](22, "pbi-office-icon", 18), 
                core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](23, "num-up-down", 19), 
                core["\u0275\u0275listener"]("modelValueChange", function($event) {
                    core["\u0275\u0275restoreView"](_r6);
                    var ctx_r10 = core["\u0275\u0275nextContext"]();
                    return core["\u0275\u0275resetView"](ctx_r10.onDecimalPlacesChanged($event));
                }), core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275elementContainerEnd"]();
            }
            if (2 & rf) {
                var ctx_r1 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("disabled", !ctx_r1.isNumericFormatEnabled())("pbiTooltip", core["\u0275\u0275pipeBind1"](4, 22, "Value_Formatting_Tooltip_Currency_Format")), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](5, 24, "Value_Formatting_ARIA_Label_Currency_Format")), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("ngClass", core["\u0275\u0275pureFunction1"](40, _c0, !ctx_r1.isNumericFormatEnabled()))("pbiMenu", ctx_r1.currencyMenu)("pbiTooltip", core["\u0275\u0275pipeBind1"](8, 26, "Value_Formatting_Tooltip_Currency_Format"))("disabled", !ctx_r1.isNumericFormatEnabled()), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](9, 28, "Value_Formatting_ARIA_Label_Currency_Format")), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("ngClass", core["\u0275\u0275pureFunction1"](42, _c1, ctx_r1.isPercentFormatterToggled()))("disabled", !ctx_r1.isNumericFormatEnabled())("pbiTooltip", core["\u0275\u0275pipeBind1"](12, 30, "Value_Formatting_Tooltip_Percentage_Format")), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](13, 32, "Value_Formatting_ARIA_Label_Percentage_Format")), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("ngClass", core["\u0275\u0275pureFunction1"](44, _c1, ctx_r1.isThousandSeparatorToggled()))("disabled", !ctx_r1.isNumericFormatEnabled(!0))("pbiTooltip", core["\u0275\u0275pipeBind1"](16, 34, "Ribbon_Tooltip_DataFormatDecimalPlaces")), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](17, 36, "Value_Formatting_ARIA_Label_Thousands_Separator_Format")), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind1"](20, 38, "Ribbon_Tooltip_DataFormatDecimalPlaces")), 
                core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("disabled", (null == ctx_r1.formatInformation ? null : ctx_r1.formatInformation.format) === ctx_r1.FormatNumberWhole), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("options", ctx_r1.options)("useModernStyles", !0)("modelValue", ctx_r1.formatInformation && ctx_r1.formatInformation.accuracy)("isDisabled", !ctx_r1.isNumericFormatEnabled() || (null == ctx_r1.formatInformation ? null : ctx_r1.formatInformation.format) === ctx_r1.FormatNumberWhole);
            }
        }
        function ValueFormattingComponent_ng_template_8_ng_container_0_mat_option_3_Template(rf, ctx) {
            if (1 & rf && (core["\u0275\u0275elementStart"](0, "mat-option", 7), core["\u0275\u0275text"](1), 
            core["\u0275\u0275elementEnd"]()), 2 & rf) {
                var categoryListIndex_r14 = ctx.index, ctx_r12 = core["\u0275\u0275nextContext"](3);
                core["\u0275\u0275property"]("value", categoryListIndex_r14)("pbiTooltip", ctx_r12.categoryListNames[categoryListIndex_r14]), 
                core["\u0275\u0275advance"](1), core["\u0275\u0275textInterpolate1"](" ", ctx_r12.categoryListNames[categoryListIndex_r14], " ");
            }
        }
        function ValueFormattingComponent_ng_template_8_ng_container_0_Template(rf, ctx) {
            if (1 & rf) {
                var _r16 = core["\u0275\u0275getCurrentView"]();
                core["\u0275\u0275elementContainerStart"](0), core["\u0275\u0275elementStart"](1, "mat-select", 21), 
                core["\u0275\u0275listener"]("valueChange", function($event) {
                    core["\u0275\u0275restoreView"](_r16);
                    var ctx_r15 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r15.selectedCategoryList = $event);
                }), core["\u0275\u0275pipe"](2, "localize"), core["\u0275\u0275template"](3, ValueFormattingComponent_ng_template_8_ng_container_0_mat_option_3_Template, 2, 3, "mat-option", 4), 
                core["\u0275\u0275elementStart"](4, "div", 22)(5, "button", 23), core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r16);
                    var ctx_r17 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r17.launchCategoryListsEditPane(!1));
                }), core["\u0275\u0275pipe"](6, "localize"), core["\u0275\u0275pipe"](7, "localize"), 
                core["\u0275\u0275element"](8, "span", 24), core["\u0275\u0275elementEnd"](), core["\u0275\u0275elementStart"](9, "button", 25), 
                core["\u0275\u0275listener"]("click", function() {
                    core["\u0275\u0275restoreView"](_r16);
                    var ctx_r18 = core["\u0275\u0275nextContext"](2);
                    return core["\u0275\u0275resetView"](ctx_r18.launchCategoryListsEditPane(!0));
                }), core["\u0275\u0275pipe"](10, "localize"), core["\u0275\u0275pipe"](11, "localize"), 
                core["\u0275\u0275element"](12, "span", 26), core["\u0275\u0275elementEnd"]()()(), 
                core["\u0275\u0275elementContainerEnd"]();
            }
            if (2 & rf) {
                var ctx_r11 = core["\u0275\u0275nextContext"](2);
                core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("value", ctx_r11.selectedCategoryList), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](2, 7, "Value_Formatting_ARIA_Label_SelectCategoryListDropdown")), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngForOf", ctx_r11.goalValueCategoryLists), 
                core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind1"](6, 9, "Manage_Lists")), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](7, 11, "Manage_Lists")), 
                core["\u0275\u0275advance"](4), core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind1"](10, 13, "Create_A_List")), 
                core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](11, 15, "Create_A_List"));
            }
        }
        function ValueFormattingComponent_ng_template_8_Template(rf, ctx) {
            if (1 & rf && core["\u0275\u0275template"](0, ValueFormattingComponent_ng_template_8_ng_container_0_Template, 13, 17, "ng-container", 20), 
            2 & rf) {
                var ctx_r3 = core["\u0275\u0275nextContext"]();
                core["\u0275\u0275property"]("ngIf", (null == ctx_r3.goalValueCategoryLists ? null : ctx_r3.goalValueCategoryLists.length) > 0);
            }
        }
        var formatTypes = [ {
            value: "General",
            label: "Format_Label_General"
        }, {
            value: "CurrencyCustom",
            label: "Format_Label_Currency"
        }, {
            value: "DateTimeGeneralPattern",
            label: "Format_Label_DateTime"
        }, {
            value: "NumberDecimal",
            label: "DataType_Label_Number"
        }, {
            value: "NumberWhole",
            label: "DataType_Label_WholeNumber"
        }, {
            value: "Percentage",
            label: "Format_Label_Percentage"
        }, {
            value: "Scientific",
            label: "Format_Label_Scientific"
        }, {
            value: "Text",
            label: "Text"
        }, {
            value: "Boolean",
            label: "DataType_Label_Boolean"
        }, {
            value: "Binary",
            label: "DataType_Binary"
        }, {
            value: "Custom",
            label: "DataType_Label_Categorical"
        } ], ValueFormattingComponent = function() {
            function ValueFormattingComponent(cultureService, currencyFormatService, dateTimeFormatService, localizationService) {
                this.cultureService = cultureService, this.currencyFormatService = currencyFormatService, 
                this.dateTimeFormatService = dateTimeFormatService, this.localizationService = localizationService, 
                this.formatStringChange = new core.EventEmitter, this.onSelectedCategoryListChange = new core.EventEmitter, 
                this.availableFormats = [], this.options = {
                    unitSymbol: "",
                    minValue: 0,
                    maxValue: 15
                }, this.FormatNumberWhole = "NumberWhole", this.formatUtils = new formatUtils.c(this.cultureService.getFormatInfo()), 
                this.allCurrenciesOptions = cultureService.getAllCurrencySymbolCustomFormatItemsInfo(), 
                this.commonCurrenciesOptions = cultureService.getAllCommonCurrencySymbolCustomFormatItemsInfo(), 
                this.availableCurrencyFormats = this.generateCurrencyFormatInfoMapping(this.allCurrenciesOptions), 
                this.currencyMenu = this.currencyFormatInfoToPbiMenuAdaptor(this.commonCurrenciesOptions, this.allCurrenciesOptions);
            }
            return Object.defineProperty(ValueFormattingComponent.prototype, "formatString", {
                set: function(value) {
                    this.formatInformation = this.cultureService.tryParse(value, this.dataType), value === ValueFormattingComponent.CategoricalFormatString && (this.formatInformation.format = "Custom"), 
                    this.updateCompatibleFormats();
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(ValueFormattingComponent.prototype, "dataType", {
                get: function() {
                    return this._dataType;
                },
                set: function(value) {
                    this._dataType = value, this.formatInformation && (this.isCategorical ? this.formatInformation.format = "Custom" : this.formatInformation = this.cultureService.tryParse(this.formatInformation.formatString, value)), 
                    this.updateCompatibleFormats();
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(ValueFormattingComponent.prototype, "goalValueCategoryLists", {
                get: function() {
                    return this._goalValueCategoryLists;
                },
                set: function(lists) {
                    var _this = this;
                    this.supportCategoricalValues && (this._goalValueCategoryLists = lists, this.categoryListNames = lists.map(function(list) {
                        return _this.getCategoryListName(list);
                    }));
                },
                enumerable: !1,
                configurable: !0
            }), ValueFormattingComponent.prototype.ngOnInit = function() {
                this.updateCompatibleFormats();
            }, ValueFormattingComponent.prototype.isNumericFormatEnabled = function(validateFormat) {
                void 0 === validateFormat && (validateFormat = !1);
                var itemDataType = this.dataType, format = this.formatInformation && this.formatInformation.format;
                return (format && validateFormat ? this.isValidNumericFormat(format) : "Custom" !== format) && (2 === itemDataType || 3 === itemDataType || 4 === itemDataType || 13 === itemDataType);
            }, ValueFormattingComponent.prototype.isThousandSeparatorToggled = function() {
                return this.formatInformation && this.formatInformation.thousandSeparator;
            }, ValueFormattingComponent.prototype.isPercentFormatterToggled = function() {
                return this.formatInformation && "Percentage" === this.formatInformation.format;
            }, ValueFormattingComponent.prototype.onChangePercentageToggle = function() {
                var _a;
                this.formatInformation = this.formatInformation && "Percentage" === this.formatInformation.format ? void 0 : this.formatUtils.changeFormat(this.dataType, this.formatInformation, "Percentage"), 
                this.formatStringChange.emit(null === (_a = this.formatInformation) || void 0 === _a ? void 0 : _a.formatString);
            }, ValueFormattingComponent.prototype.onChangeThousandSeparatorToggle = function() {
                var _a;
                this.formatInformation = this.formatUtils.toggleThousandsSeparator(this.dataType, this.formatInformation), 
                this.formatStringChange.emit(null === (_a = this.formatInformation) || void 0 === _a ? void 0 : _a.formatString);
            }, ValueFormattingComponent.prototype.onCurrencyClicked = function() {
                var _a;
                this.formatInformation = this.formatUtils.changeFormat(this.dataType, this.formatInformation, "CurrencyCustom"), 
                this.formatStringChange.emit(null === (_a = this.formatInformation) || void 0 === _a ? void 0 : _a.formatString);
            }, ValueFormattingComponent.prototype.onCurrencyItemClicked = function(menuItem) {
                this.availableCurrencyFormats = this.generateCurrencyFormatInfoMapping(this.allCurrenciesOptions);
                var selectedCurrencyFormatInfo = this.availableCurrencyFormats.get(menuItem.text);
                this.formatInformation = this.formatUtils.changeFormat(this.dataType, this.formatInformation, "CurrencyCustom"), 
                this.formatInformation = this.formatUtils.setCurrencyFormat(this.dataType, this.formatInformation, this.formatInformation.format, selectedCurrencyFormatInfo.culture, selectedCurrencyFormatInfo.symbol, selectedCurrencyFormatInfo.positivePattern, selectedCurrencyFormatInfo.negativePattern), 
                this.formatStringChange.emit(this.formatInformation.formatString);
            }, ValueFormattingComponent.prototype.onDecimalPlacesChanged = function(decimalPlaces) {
                this.formatInformation = this.formatUtils.setAccuracy(this.dataType, this.formatInformation, decimalPlaces), 
                this.formatStringChange.emit(this.formatInformation.formatString);
            }, Object.defineProperty(ValueFormattingComponent.prototype, "selectedFormat", {
                get: function() {
                    if (!this.formatInformation) return "General";
                    var format = this.formatInformation.format;
                    switch (this.formatInformation.format) {
                      case "CurrencyCustom":
                        format = "CurrencyCustom";
                        break;

                      case "DateTimeCustom":
                      case "DateTimeGeneralPattern":
                        this.formatInformation.dateTimeCustomFormat && (format = this.formatInformation.dateTimeCustomFormat.formatString);
                    }
                    return format;
                },
                set: function(format) {
                    var _a, _b;
                    switch (format) {
                      case "General":
                        this.formatInformation = void 0;
                        break;

                      case "NumberDecimal":
                      case "NumberWhole":
                      case "Percentage":
                      case "CurrencyCustom":
                      case "Scientific":
                      case "Binary":
                      case "Boolean":
                      case "Text":
                        this.formatInformation = this.formatUtils.changeFormat(this.dataType, this.formatInformation, format);
                        break;

                      case "Custom":
                        this.formatInformation = {
                            format,
                            formatString: ValueFormattingComponent.CategoricalFormatString,
                            thousandSeparator: void 0,
                            currencyFormat: void 0,
                            dateTimeCustomFormat: void 0
                        }, _.isEmpty(this.categoryListNames) ? (this.selectedCategoryList = -1, this.formatStringChange.emit(null === (_a = this.formatInformation) || void 0 === _a ? void 0 : _a.formatString), 
                        this.launchCategoryListsEditPane(!0)) : this.selectedCategoryList = 0;
                        break;

                      default:
                        var dateFormat = this.dateTimeFormatService.getFormat(format);
                        this.formatInformation = this.formatUtils.setDateTimeFormat(this.dataType, this.formatInformation, dateFormat.formatType, dateFormat.pattern, dateFormat.formatString);
                    }
                    this.formatStringChange.emit(null === (_b = this.formatInformation) || void 0 === _b ? void 0 : _b.formatString);
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(ValueFormattingComponent.prototype, "selectedCategoryList", {
                get: function() {
                    return this.selectedCategoryListIndex;
                },
                set: function(categoryListIndex) {
                    this.selectedCategoryListIndex = categoryListIndex, this.onSelectedCategoryListChange.emit(categoryListIndex);
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(ValueFormattingComponent.prototype, "isCategorical", {
                get: function() {
                    var _a;
                    return (null === (_a = this.formatInformation) || void 0 === _a ? void 0 : _a.formatString) === ValueFormattingComponent.CategoricalFormatString;
                },
                enumerable: !1,
                configurable: !0
            }), ValueFormattingComponent.prototype.currencyFormatInfoToPbiMenuAdaptor = function(commonInputInfo, allInputInfo) {
                var localMenu = this.buildCommonCurrencyPbiMenu(commonInputInfo);
                debug.fF.assertValue(allInputInfo, "ICurrencyFormatInfo[] should not be null");
                var header = {
                    type: pbi_menu_contracts.iB.Header,
                    text: this.localizationService.get("All_Currency_Symbols"),
                    tooltip: this.localizationService.get("All_Currency_Symbols")
                };
                return localMenu.items.push({
                    type: pbi_menu_contracts.iB.Divider
                }), localMenu.items.push(header), this.forgeMenuOptions(localMenu, allInputInfo);
            }, ValueFormattingComponent.prototype.buildCommonCurrencyPbiMenu = function(commonInputInfo) {
                var commonMenu = {
                    items: []
                };
                debug.fF.assertValue(commonInputInfo, "ICurrencyFormatInfo[] should not be null");
                var header = {
                    type: pbi_menu_contracts.iB.Header,
                    text: this.localizationService.get("Common_Currency_Symbols"),
                    tooltip: this.localizationService.get("Common_Currency_Symbols")
                };
                return commonMenu.items.push(header), this.forgeMenuOptions(commonMenu, commonInputInfo);
            }, ValueFormattingComponent.prototype.forgeMenuOptions = function(menu, inputInfo) {
                for (var cacheMenu = menu, index = 0; index < inputInfo.length; index++) cacheMenu.items.push({
                    id: index,
                    type: pbi_menu_contracts.iB.Button,
                    text: inputInfo[index].displayLabel,
                    tooltip: inputInfo[index].displayLabel,
                    disabled: !1
                });
                return cacheMenu;
            }, ValueFormattingComponent.prototype.generateCurrencyFormatInfoMapping = function(inputInfo) {
                var infoMap = new Map;
                debug.fF.assertValue(inputInfo, "ICurrencyFormatInfo[] should not be null");
                for (var _i = 0, inputInfo_1 = inputInfo; _i < inputInfo_1.length; _i++) {
                    var value = inputInfo_1[_i];
                    infoMap.set(value.displayLabel, value);
                }
                return infoMap;
            }, ValueFormattingComponent.prototype.isValidNumericFormat = function(format) {
                return "General" === format || "CurrencyGeneral" === format || "CurrencyCustom" === format || "Scientific" === format || "Percentage" === format || "NumberDecimal" === format || "NumberWhole" === format || "Custom" === format;
            }, ValueFormattingComponent.prototype.getCompatibleFormats = function(dataType) {
                switch (dataType) {
                  case 4:
                  case 3:
                  case 2:
                    var formats = [ "General", "NumberWhole", "NumberDecimal", "CurrencyCustom", "Percentage", "Scientific" ];
                    return this.supportCategoricalValues && formats.push("Custom"), formats;

                  case 6:
                  case 7:
                  case 9:
                    return [];

                  case 11:
                    return [ "Binary" ];

                  case 5:
                    return [ "Boolean" ];

                  case 1:
                  case 13:
                    return [ "Text" ];

                  default:
                    return [ "General" ];
                }
            }, ValueFormattingComponent.prototype.updateCompatibleFormats = function() {
                var _this = this;
                switch (this.dataType) {
                  case 6:
                    this.availableFormats = _.map(this.dateTimeFormatService.getDateFormats(), function(format) {
                        return {
                            value: format.formatString,
                            label: format.displayLabel
                        };
                    });
                    break;

                  case 9:
                    this.availableFormats = _.map(this.dateTimeFormatService.getTimeFormats(), function(format) {
                        return {
                            value: format.formatString,
                            label: format.displayLabel
                        };
                    });
                    break;

                  case 7:
                    this.availableFormats = _.map(this.dateTimeFormatService.getCommonFormats(), function(format) {
                        return {
                            value: format.formatString,
                            label: format.displayLabel
                        };
                    });
                    break;

                  default:
                    var compatibleFormats_1 = this.getCompatibleFormats(this.dataType);
                    this.availableFormats = _.filter(_.map(formatTypes, function(format) {
                        return {
                            value: format.value,
                            label: _this.localizationService.get(format.label)
                        };
                    }), function(formatType) {
                        return _.some(compatibleFormats_1, function(format) {
                            return format === formatType.value;
                        });
                    });
                }
            }, ValueFormattingComponent.prototype.getCategoryListName = function(categoryList) {
                if (_.isEmpty(categoryList.name)) {
                    var categories = _.map(categoryList.categories, function(category) {
                        return category.displayName;
                    });
                    return _.join(categories, ", ");
                }
                return categoryList.name;
            }, ValueFormattingComponent.CategoricalFormatString = "CategoricalFormatString", 
            ValueFormattingComponent.\u0275fac = function(t) {
                return new (t || ValueFormattingComponent)(core["\u0275\u0275directiveInject"](value_formatting_culture_service.h), core["\u0275\u0275directiveInject"](CurrencyFormatService), core["\u0275\u0275directiveInject"](date_time_format_service.u), core["\u0275\u0275directiveInject"](localization_service.o));
            }, ValueFormattingComponent.\u0275cmp = core["\u0275\u0275defineComponent"]({
                type: ValueFormattingComponent,
                selectors: [ [ "value-formatting" ] ],
                inputs: {
                    formatString: "formatString",
                    dataType: "dataType",
                    supportCategoricalValues: "supportCategoricalValues",
                    goalValueCategoryLists: "goalValueCategoryLists",
                    selectedCategoryListIndex: "selectedCategoryListIndex",
                    launchCategoryListsEditPane: "launchCategoryListsEditPane"
                },
                outputs: {
                    formatStringChange: "formatStringChange",
                    onSelectedCategoryListChange: "onSelectedCategoryListChange"
                },
                features: [ core["\u0275\u0275ProvidersFeature"]([ {
                    provide: CurrencyFormatService,
                    useClass: CurrencyFormatService
                }, {
                    provide: culture_service.c,
                    useClass: value_formatting_culture_service.h
                }, {
                    provide: date_time_format_service.u,
                    useClass: date_time_format_service.u
                } ]) ],
                decls: 10,
                vars: 11,
                consts: [ [ 1, "valueFormatterToolbarContainer" ], [ 1, "valueFormatterDropdownGroup", 3, "pbiTooltip" ], [ "name", "PBIDataFormat_16", 1, "icon-format" ], [ "pbiMatSelect", "", "panelClass", "pbi-modern-select-panel", "disableOptionCentering", "", "role", "combobox", 1, "pbi-modern-select", "valueFormatDropdown", 3, "value", "disabled", "valueChange" ], [ 3, "value", "pbiTooltip", 4, "ngFor", "ngForOf" ], [ 4, "ngIf", "ngIfElse" ], [ "categoryListsSelector", "" ], [ 3, "value", "pbiTooltip" ], [ 1, "valueFormatterToggleButtonsGroup" ], [ 1, "btn", "toggleBtn", "icon", "splitButtonText", 3, "disabled", "pbiTooltip", "click" ], [ "name", "CurrencyFormat_16", 1, "icon-currency" ], [ 1, "btn", "toggleBtn", "icon", "splitButton", 3, "ngClass", "pbiMenu", "pbiTooltip", "disabled", "pbiMenuButtonClick" ], [ "name", "chevrondownsmall", "size", "mini", 1, "chevrondown" ], [ 1, "btn", "toggleBtn", "icon", "focusOutline", 3, "ngClass", "disabled", "pbiTooltip", "click" ], [ "name", "Percentage_16" ], [ "name", "CommaFormat_16" ], [ 1, "valueFormatterNumUpDownGroup", 3, "pbiTooltip" ], [ 1, "icon" ], [ "name", "DecreaseDecimals_16", 1, "icon-decreaseDecimals", 3, "disabled" ], [ "attr.aria-label", "'Value_Formatting_ARIA_Label_Decimal_Place_Format' | localize", "placeholderText", "Auto", 1, "numUpDown", 3, "options", "useModernStyles", "modelValue", "isDisabled", "modelValueChange" ], [ 4, "ngIf" ], [ "pbiMatSelect", "", "panelClass", "pbi-modern-select-panel", "disableOptionCentering", "", "role", "combobox", 1, "pbi-modern-select", "select-category-list-dropdown", 3, "value", "valueChange" ], [ 1, "edit-category-lists-in-dropdown" ], [ 1, "btn", "edit-category-lists-button", 3, "pbiTooltip", "click" ], [ "localize", "Manage_Lists" ], [ 1, "btn", "create-category-list-button", 3, "pbiTooltip", "click" ], [ "localize", "Create_A_List" ] ],
                template: function(rf, ctx) {
                    if (1 & rf && (core["\u0275\u0275elementStart"](0, "div", 0)(1, "div", 1), core["\u0275\u0275pipe"](2, "localize"), 
                    core["\u0275\u0275element"](3, "pbi-office-icon", 2), core["\u0275\u0275elementStart"](4, "mat-select", 3), 
                    core["\u0275\u0275listener"]("valueChange", function($event) {
                        return ctx.selectedFormat = $event;
                    }), core["\u0275\u0275pipe"](5, "localize"), core["\u0275\u0275template"](6, ValueFormattingComponent_mat_option_6_Template, 2, 4, "mat-option", 4), 
                    core["\u0275\u0275elementEnd"]()(), core["\u0275\u0275template"](7, ValueFormattingComponent_ng_container_7_Template, 24, 46, "ng-container", 5), 
                    core["\u0275\u0275template"](8, ValueFormattingComponent_ng_template_8_Template, 1, 1, "ng-template", null, 6, core["\u0275\u0275templateRefExtractor"]), 
                    core["\u0275\u0275elementEnd"]()), 2 & rf) {
                        var _r2 = core["\u0275\u0275reference"](9);
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("pbiTooltip", core["\u0275\u0275pipeBind1"](2, 7, "Value_Formatting_Tooltip_ComboBox")), 
                        core["\u0275\u0275advance"](3), core["\u0275\u0275property"]("value", ctx.selectedFormat)("disabled", ctx.availableFormats.length <= 1), 
                        core["\u0275\u0275attribute"]("aria-label", core["\u0275\u0275pipeBind1"](5, 9, "Value_Formatting_ARIA_Label_ComboBox")), 
                        core["\u0275\u0275advance"](2), core["\u0275\u0275property"]("ngForOf", ctx.availableFormats), 
                        core["\u0275\u0275advance"](1), core["\u0275\u0275property"]("ngIf", !ctx.isCategorical)("ngIfElse", _r2);
                    }
                },
                dependencies: [ common.NgClass, common.NgForOf, common.NgIf, localize_directive.X, legacy_select.x8, legacy_core.CK, num_up_down_component.x4, pbi_menu_directive.l8, pbi_icon_component._, pbi_office_icon_component.m, pbi_tooltip_directive.V, localize_pipe.F ],
                styles: [ '.focusOutline[_ngcontent-%COMP%]{outline:1px solid var(--fluent-theme-neutral-primary-hover-color, #232322)}.valueFormatterToolbarContainer[_ngcontent-%COMP%]{background-color:inherit;border-top:inherit;display:flex;flex-direction:row;padding:8px 10px}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterDropdownGroup[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;padding-right:13px}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterDropdownGroup[_ngcontent-%COMP%]   .valueFormatDropdown[_ngcontent-%COMP%]{background-color:var(--fluent-theme-white-color, #FFF);border:1px solid var(--fluent-theme-neutral-tertiary-alt-color, #C8C6C4);display:table;height:24px;width:150px}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterDropdownGroup[_ngcontent-%COMP%]   .valueFormatDropdown[_ngcontent-%COMP%]     .mat-select-arrow{color:var(--fluent-theme-neutral-primary-color, #323130)}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterDropdownGroup[_ngcontent-%COMP%]   .valueFormatDropdown[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color);outline:1px solid var(--fluent-theme-neutral-primary-hover-color, #232322)}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterDropdownGroup[_ngcontent-%COMP%]   .valueFormatOptions[_ngcontent-%COMP%]{height:30px}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterDropdownGroup[_ngcontent-%COMP%]     .mat-select-disabled .mat-select-value{color:var(--fluent-theme-black-color, #000)!important;opacity:.38}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .select-category-list-dropdown[_ngcontent-%COMP%]{width:150px}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .edit-category-lists[_ngcontent-%COMP%]:hover, .valueFormatterToolbarContainer[_ngcontent-%COMP%]   .edit-category-lists[_ngcontent-%COMP%]:active{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterToggleButtonsGroup[_ngcontent-%COMP%]{display:flex;align-items:center}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterToggleButtonsGroup[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{box-shadow:unset;display:inline-block;height:24px;margin:0;outline:unset;padding:0;vertical-align:middle;width:24px}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterToggleButtonsGroup[_ngcontent-%COMP%]   .icon-arrowDown[_ngcontent-%COMP%]{font-size:xx-small}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterToggleButtonsGroup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterToggleButtonsGroup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:inherit}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterToggleButtonsGroup[_ngcontent-%COMP%]   .isToggled[_ngcontent-%COMP%]{background-color:var(--fluent-theme-primary-color, #F2C811)!important}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterToggleButtonsGroup[_ngcontent-%COMP%]   .isToggled[_ngcontent-%COMP%]   .pbi-office-icon[_ngcontent-%COMP%]{fill:var(--button-primary-content-color)}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterToggleButtonsGroup[_ngcontent-%COMP%]   .isToggled[_ngcontent-%COMP%]   .pbi-office-icon[_ngcontent-%COMP%]     svg>path.OfficeIconColors_m22{fill:var(--button-primary-content-color)}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterToggleButtonsGroup[_ngcontent-%COMP%]   .splitButton[_ngcontent-%COMP%]{text-align:center;vertical-align:bottom;width:15px}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterToggleButtonsGroup[_ngcontent-%COMP%]   .splitButton[_ngcontent-%COMP%]:focus:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color);outline:1px solid var(--fluent-theme-neutral-primary-hover-color, #232322)}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterToggleButtonsGroup[_ngcontent-%COMP%]   .splitButton[_ngcontent-%COMP%]   .chevrondown[_ngcontent-%COMP%]{display:flex;align-items:center}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterToggleButtonsGroup[_ngcontent-%COMP%]   .btnDisabled[_ngcontent-%COMP%]{cursor:default}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterToggleButtonsGroup[_ngcontent-%COMP%]   .splitButtonText[_ngcontent-%COMP%]{width:16px}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterToggleButtonsGroup[_ngcontent-%COMP%]   .splitButtonText[_ngcontent-%COMP%]:focus:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color);outline:1px solid var(--fluent-theme-neutral-primary-hover-color, #232322)}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterToggleButtonsGroup[_ngcontent-%COMP%]   .focusOutline[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color);outline:1px solid var(--fluent-theme-neutral-primary-hover-color, #232322)}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterNumUpDownGroup[_ngcontent-%COMP%]{display:flex;align-items:center}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterNumUpDownGroup[_ngcontent-%COMP%]   .numUpDown[_ngcontent-%COMP%]{margin-left:10px;width:82px}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterNumUpDownGroup[_ngcontent-%COMP%]   .numUpDown[_ngcontent-%COMP%]     .mat-form-field{width:100%}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterNumUpDownGroup[_ngcontent-%COMP%]   .numUpDown[_ngcontent-%COMP%]     .numUpDownWrapper.modern-styles .unit-numupdown{border:1px solid var(--fluent-theme-neutral-tertiary-alt-color, #C8C6C4);background:var(--fluent-theme-white-color, #FFF)}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterNumUpDownGroup[_ngcontent-%COMP%]   .numUpDown[_ngcontent-%COMP%]     .numUpDownWrapper.modern-styles .unit-numupdown .navigationButtons .buttonBox{color:var(--fluent-theme-neutral-primary-color, #323130)}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterNumUpDownGroup[_ngcontent-%COMP%]   .numUpDown[_ngcontent-%COMP%]     .numUpDownWrapper.modern-styles .unit-numupdown .navigationButtons .buttonBox:hover{background-color:transparent}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterNumUpDownGroup[_ngcontent-%COMP%]   .numUpDown[_ngcontent-%COMP%]     .mat-form-field._mat-animation-noopable .mat-form-field-label{height:26px;padding-left:7px}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterNumUpDownGroup[_ngcontent-%COMP%]   .numUpDown[_ngcontent-%COMP%]     input{caret-color:var(--fluent-theme-neutral-tertiary-alt-color, #C8C6C4)}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterNumUpDownGroup[_ngcontent-%COMP%]   .numUpDown[_ngcontent-%COMP%]     .mat-form-field-appearance-legacy .mat-form-field-label{top:12px;left:6.5px}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .valueFormatterNumUpDownGroup[_ngcontent-%COMP%]   .numUpDown[_ngcontent-%COMP%]     .mat-form-field.mat-focused .mat-form-field-label{color:var(--fluent-theme-black-color, #000);opacity:.54}.valueFormatterToolbarContainer[_ngcontent-%COMP%]     .pbi-office-icon{width:16px}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .icon-decreaseDecimals[_ngcontent-%COMP%]{padding-left:4px;padding-top:4px}.valueFormatterToolbarContainer[_ngcontent-%COMP%]   .icon-format[_ngcontent-%COMP%]{padding-right:10px;padding-top:2px}.edit-category-lists-in-dropdown[_ngcontent-%COMP%]{border-top:1px solid var(--gray-60, #C8C6C4);display:flex;flex-direction:column}.edit-category-lists-button[_ngcontent-%COMP%], .create-category-list-button[_ngcontent-%COMP%]{width:100%;background-color:transparent;border:none;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);color:var(--fluent-theme-neutral-primary-color, #323130)}.edit-category-lists-button[_ngcontent-%COMP%]:hover, .create-category-list-button[_ngcontent-%COMP%]:hover, .edit-category-lists-button[_ngcontent-%COMP%]:active, .create-category-list-button[_ngcontent-%COMP%]:active{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}' ]
            }), ValueFormattingComponent;
        }();
    },
    90127: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            D: function() {
                return FormatGoalValuePipe;
            }
        });
        var _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62458), _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(50423), _powerbi_FeatureSwitch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9380), _format_value_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(82621), FormatGoalValuePipe = function() {
            function FormatGoalValuePipe(featureSwitchServices, formatValuePipe) {
                this.featureSwitchServices = featureSwitchServices, this.formatValuePipe = formatValuePipe;
            }
            return FormatGoalValuePipe.prototype.transform = function(value, categories, formatString, round, nilReturn) {
                var _a;
                return void 0 === round && (round = !0), void 0 === nilReturn && (nilReturn = "\u2014"), 
                this.featureSwitchServices.featureSwitches.goalsCategoricalValues && categories ? _.isNil(value) ? nilReturn : (_powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assert(function() {
                    return _.isNumber(value);
                }, "formatGoalValue transform value"), null === (_a = categories[value]) || void 0 === _a ? void 0 : _a.displayName) : this.formatValuePipe.transform(value, formatString, round, nilReturn);
            }, FormatGoalValuePipe.\u0275fac = function(t) {
                return new (t || FormatGoalValuePipe)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275directiveInject"](_powerbi_FeatureSwitch__WEBPACK_IMPORTED_MODULE_2__.vZ, 16), _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275directiveInject"](_format_value_pipe__WEBPACK_IMPORTED_MODULE_3__.c, 16));
            }, FormatGoalValuePipe.\u0275pipe = _angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275definePipe"]({
                name: "formatGoalValue",
                type: FormatGoalValuePipe,
                pure: !0
            }), FormatGoalValuePipe;
        }();
    },
    82621: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            c: function() {
                return FormatValuePipe;
            }
        });
        var _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62458), _powerbi_legacy_PowerBIVisuals_VisualsData_contracts_visualData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(58098), _powerbi_legacy_PowerBIVisuals_VisualsData_formatting_valueFormatter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(72489), _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(50423), FormatValuePipe = function() {
            function FormatValuePipe() {}
            return FormatValuePipe.prototype.transform = function(value, formatString, round, nilReturn) {
                if (void 0 === round && (round = !0), void 0 === nilReturn && (nilReturn = "\u2014"), 
                _powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assert(function() {
                    return _.isNil(value) || FormatValuePipe.isPrimitiveValue(value);
                }, "Should only use FormatValuePipe on PrimitiveValue type"), _.isNil(value) || !FormatValuePipe.isPrimitiveValue(value)) return nilReturn;
                formatString = null != formatString ? formatString : FormatValuePipe.getDefaultFormatString(value);
                var formatter = (0, _powerbi_legacy_PowerBIVisuals_VisualsData_formatting_valueFormatter__WEBPACK_IMPORTED_MODULE_1__.Ue)({
                    format: formatString,
                    formatSingleValues: !0,
                    columnType: void 0
                });
                return round && _.isNumber(value) && (formatter = (0, _powerbi_legacy_PowerBIVisuals_VisualsData_formatting_valueFormatter__WEBPACK_IMPORTED_MODULE_1__.Ue)({
                    format: formatString,
                    value: _.isNumber(value) ? value : 0,
                    precision: Number.NaN,
                    displayUnitSystemType: _powerbi_legacy_PowerBIVisuals_VisualsData_contracts_visualData__WEBPACK_IMPORTED_MODULE_2__.V.WholeUnits,
                    formatSingleValues: !1,
                    allowFormatBeautification: !0,
                    columnType: void 0
                })), formatter.format(value);
            }, FormatValuePipe.getDefaultFormatString = function(value) {
                var type = FormatValuePipe.valueTypeDescriptorFromPrimitiveValue(value);
                if (type.integer) {
                    if (value < FormatValuePipe.MIN_INTEGER_VALUE_FOR_DISPLAY_UNITS) return FormatValuePipe.INT_FORMAT_STRING_NO_DISPLAY_UNITS;
                    var projectedValue = (0, _powerbi_legacy_PowerBIVisuals_VisualsData_formatting_valueFormatter__WEBPACK_IMPORTED_MODULE_1__.Ue)({
                        value: _.isNumber(value) ? value : 0
                    }).displayUnit.project(value);
                    return _.isInteger(projectedValue) ? FormatValuePipe.INT_FORMAT_STRING_NO_DISPLAY_UNITS : FormatValuePipe.NUMERIC_FORMAT_STRING;
                }
                return (0, _powerbi_legacy_PowerBIVisuals_VisualsData_formatting_valueFormatter__WEBPACK_IMPORTED_MODULE_1__.v1)(type);
            }, FormatValuePipe.isPrimitiveValue = function(input) {
                return !!(_.isString(input) || _.isNumber(input) || _.isBoolean(input) || _.isDate(input));
            }, FormatValuePipe.valueTypeDescriptorFromPrimitiveValue = function(primitiveValue) {
                return _.isDate(primitiveValue) ? {
                    dateTime: !0
                } : _.isInteger(primitiveValue) ? {
                    integer: !0
                } : _.isNumber(primitiveValue) ? {
                    numeric: !0
                } : _.isBoolean(primitiveValue) ? {
                    bool: !0
                } : _.isString(primitiveValue) ? {
                    text: !0
                } : (_powerbi_legacy_PowerBIVisuals_VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_0__.fF.assert(function() {
                    return !primitiveValue;
                }, "Unsupported primitive value"), {
                    none: !0
                });
            }, FormatValuePipe.INT_FORMAT_STRING_NO_DISPLAY_UNITS = "#,0", FormatValuePipe.NUMERIC_FORMAT_STRING = "#,0.00", 
            FormatValuePipe.MIN_INTEGER_VALUE_FOR_DISPLAY_UNITS = 1e3, FormatValuePipe.\u0275fac = function(t) {
                return new (t || FormatValuePipe);
            }, FormatValuePipe.\u0275pipe = _angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275definePipe"]({
                name: "formatValue",
                type: FormatValuePipe,
                pure: !0
            }), FormatValuePipe;
        }();
    },
    76777: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            H: function() {
                return ValueFormattingModule;
            }
        }), __webpack_require__(5432);
        var _pipes_format_goal_value_pipe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(90127), _pipes_format_value_pipe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(82621), _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(77476), _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(48205), _powerbi_Localization__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(79061), _powerbi_UILibrary_num_up_down__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(91382), _powerbi_UILibrary_pbi_icon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(93367), _powerbi_UILibrary_pbi_menu__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(94841), _powerbi_UILibrary_pbi_office_icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(45411), _powerbi_UILibrary_pbi_tooltip__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(16095), _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(50423), _powerbi_UILibrary_pbi_office_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(54485), ValueFormattingModule = function() {
            function ValueFormattingModule(iconProvider) {
                __webpack_require__.e("value-formatting").then(__webpack_require__.bind(__webpack_require__, 24854)).then(function(module) {
                    iconProvider.registerIcons(module.iconSpriteSheet.sprite);
                });
            }
            return ValueFormattingModule.\u0275fac = function(t) {
                return new (t || ValueFormattingModule)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275inject"](_powerbi_UILibrary_pbi_office_icon__WEBPACK_IMPORTED_MODULE_4__.u));
            }, ValueFormattingModule.\u0275mod = _angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275defineNgModule"]({
                type: ValueFormattingModule
            }), ValueFormattingModule.\u0275inj = _angular_core__WEBPACK_IMPORTED_MODULE_3__["\u0275\u0275defineInjector"]({
                providers: [ _pipes_format_goal_value_pipe__WEBPACK_IMPORTED_MODULE_1__.D, _pipes_format_value_pipe__WEBPACK_IMPORTED_MODULE_2__.c ],
                imports: [ _angular_common__WEBPACK_IMPORTED_MODULE_5__.CommonModule, _powerbi_Localization__WEBPACK_IMPORTED_MODULE_6__.v, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_7__.uw, _powerbi_UILibrary_num_up_down__WEBPACK_IMPORTED_MODULE_8__.d, _powerbi_UILibrary_pbi_menu__WEBPACK_IMPORTED_MODULE_9__.b, _powerbi_UILibrary_pbi_icon__WEBPACK_IMPORTED_MODULE_10__.U, _powerbi_UILibrary_pbi_office_icon__WEBPACK_IMPORTED_MODULE_11__.m, _powerbi_UILibrary_pbi_tooltip__WEBPACK_IMPORTED_MODULE_12__.Z ]
            }), ValueFormattingModule;
        }();
    },
    54241: function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            Mz: function() {
                return _MatAutocompleteBase;
            },
            VI: function() {
                return _MatAutocompleteTriggerBase;
            },
            g8: function() {
                return MAT_AUTOCOMPLETE_SCROLL_STRATEGY;
            },
            q5: function() {
                return _MatAutocompleteOriginBase;
            },
            zp: function() {
                return MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY_PROVIDER;
            }
        });
        var _MatAutocompleteBase2, _MatAutocomplete, _MatAutocompleteOriginBase2, _MatAutocompleteOrigin, _MatAutocompleteTriggerBase2, _MatAutocompleteTrigger, _MatAutocompleteModule, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelperLoose__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(62661), C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(90341), C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(37419), _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50423), _angular_material_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(48138), _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(77476), _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(21661), _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(59051), _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(51193), _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(4437), _angular_cdk_platform__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(10519), _angular_animations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(26124), rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(34763), rxjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(30794), rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(48636), rxjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(63057), rxjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(59787), rxjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(11547), _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(93247), _angular_cdk_portal__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(22760), _angular_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(17174), _angular_material_form_field__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(60733), rxjs_operators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(22318), rxjs_operators__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(81905), rxjs_operators__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(48787), rxjs_operators__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(59973), rxjs_operators__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(17653), rxjs_operators__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(70032), rxjs_operators__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(14172), _angular_cdk_bidi__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(94130), _c0 = [ "panel" ];
        function _MatAutocomplete_ng_template_0_Template(rf, ctx) {
            if (1 & rf) {
                var _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getCurrentView"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div", 0, 1), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("@panelAnimation.done", function($event) {
                    _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275restoreView"](_r4);
                    var ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                    return _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275resetView"](ctx_r3._animationDone.next($event));
                }), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275projection"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]();
            }
            if (2 & rf) {
                var formFieldId_r1 = ctx.id, ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("id", ctx_r0.id)("ngClass", ctx_r0._classList)("@panelAnimation", ctx_r0.isOpen ? "visible" : "hidden"), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-label", ctx_r0.ariaLabel || null)("aria-labelledby", ctx_r0._getPanelAriaLabelledby(formFieldId_r1));
            }
        }
        var panelAnimation = (0, _angular_animations__WEBPACK_IMPORTED_MODULE_1__.X$)("panelAnimation", [ (0, 
        _angular_animations__WEBPACK_IMPORTED_MODULE_1__.SB)("void, hidden", (0, _angular_animations__WEBPACK_IMPORTED_MODULE_1__.oB)({
            opacity: 0,
            transform: "scaleY(0.8)"
        })), (0, _angular_animations__WEBPACK_IMPORTED_MODULE_1__.eR)(":enter, hidden => visible", [ (0, 
        _angular_animations__WEBPACK_IMPORTED_MODULE_1__.ru)([ (0, _angular_animations__WEBPACK_IMPORTED_MODULE_1__.jt)("0.03s linear", (0, 
        _angular_animations__WEBPACK_IMPORTED_MODULE_1__.oB)({
            opacity: 1
        })), (0, _angular_animations__WEBPACK_IMPORTED_MODULE_1__.jt)("0.12s cubic-bezier(0, 0, 0.2, 1)", (0, 
        _angular_animations__WEBPACK_IMPORTED_MODULE_1__.oB)({
            transform: "scaleY(1)"
        })) ]) ]), (0, _angular_animations__WEBPACK_IMPORTED_MODULE_1__.eR)(":leave, visible => hidden", [ (0, 
        _angular_animations__WEBPACK_IMPORTED_MODULE_1__.jt)("0.075s linear", (0, _angular_animations__WEBPACK_IMPORTED_MODULE_1__.oB)({
            opacity: 0
        })) ]) ]), _uniqueAutocompleteIdCounter = 0, MatAutocompleteSelectedEvent = function(source, option) {
            this.source = source, this.option = option;
        }, _MatAutocompleteMixinBase = (0, _angular_material_core__WEBPACK_IMPORTED_MODULE_2__.Kr)(function() {
            return function() {};
        }()), MAT_AUTOCOMPLETE_DEFAULT_OPTIONS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("mat-autocomplete-default-options", {
            providedIn: "root",
            factory: function() {
                return {
                    autoActiveFirstOption: !1,
                    autoSelectActiveOption: !1,
                    hideSingleSelectionIndicator: !1,
                    requireSelection: !1
                };
            }
        }), _MatAutocompleteBase = function(_MatAutocompleteMixin) {
            (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__.Z)(_MatAutocompleteBase, _MatAutocompleteMixin);
            var _proto = _MatAutocompleteBase.prototype;
            function _MatAutocompleteBase(_changeDetectorRef, _elementRef, _defaults, platform) {
                var _this;
                return (_this = _MatAutocompleteMixin.call(this) || this)._changeDetectorRef = _changeDetectorRef, 
                _this._elementRef = _elementRef, _this._defaults = _defaults, _this._activeOptionChanges = rxjs__WEBPACK_IMPORTED_MODULE_4__.w.EMPTY, 
                _this.showPanel = !1, _this._isOpen = !1, _this.displayWith = null, _this.optionSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter, 
                _this.opened = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter, _this.closed = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter, 
                _this.optionActivated = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter, 
                _this._classList = {}, _this.id = "mat-autocomplete-" + _uniqueAutocompleteIdCounter++, 
                _this.inertGroups = (null == platform ? void 0 : platform.SAFARI) || !1, _this._autoActiveFirstOption = !!_defaults.autoActiveFirstOption, 
                _this._autoSelectActiveOption = !!_defaults.autoSelectActiveOption, _this._requireSelection = !!_defaults.requireSelection, 
                _this;
            }
            return _proto._setColor = function(value) {
                this._color = value, this._setThemeClasses(this._classList);
            }, _proto.ngAfterContentInit = function() {
                var _this2 = this;
                this._keyManager = new _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_5__.s1(this.options).withWrap().skipPredicate(this._skipPredicate), 
                this._activeOptionChanges = this._keyManager.change.subscribe(function(index) {
                    _this2.isOpen && _this2.optionActivated.emit({
                        source: _this2,
                        option: _this2.options.toArray()[index] || null
                    });
                }), this._setVisibility();
            }, _proto.ngOnDestroy = function() {
                var _this$_keyManager;
                null == (_this$_keyManager = this._keyManager) || _this$_keyManager.destroy(), this._activeOptionChanges.unsubscribe();
            }, _proto._setScrollTop = function(scrollTop) {
                this.panel && (this.panel.nativeElement.scrollTop = scrollTop);
            }, _proto._getScrollTop = function() {
                return this.panel ? this.panel.nativeElement.scrollTop : 0;
            }, _proto._setVisibility = function() {
                this.showPanel = !!this.options.length, this._setVisibilityClasses(this._classList), 
                this._changeDetectorRef.markForCheck();
            }, _proto._emitSelectEvent = function(option) {
                var event = new MatAutocompleteSelectedEvent(this, option);
                this.optionSelected.emit(event);
            }, _proto._getPanelAriaLabelledby = function(labelId) {
                return this.ariaLabel ? null : this.ariaLabelledby ? (labelId ? labelId + " " : "") + this.ariaLabelledby : labelId;
            }, _proto._setVisibilityClasses = function(classList) {
                classList[this._visibleClass] = this.showPanel, classList[this._hiddenClass] = !this.showPanel;
            }, _proto._setThemeClasses = function(classList) {
                classList["mat-primary"] = "primary" === this._color, classList["mat-warn"] = "warn" === this._color, 
                classList["mat-accent"] = "accent" === this._color;
            }, _proto._skipPredicate = function(option) {
                return option.disabled;
            }, (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_6__.Z)(_MatAutocompleteBase, [ {
                key: "isOpen",
                get: function() {
                    return this._isOpen && this.showPanel;
                }
            }, {
                key: "autoActiveFirstOption",
                get: function() {
                    return this._autoActiveFirstOption;
                },
                set: function(value) {
                    this._autoActiveFirstOption = (0, _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_7__.Ig)(value);
                }
            }, {
                key: "autoSelectActiveOption",
                get: function() {
                    return this._autoSelectActiveOption;
                },
                set: function(value) {
                    this._autoSelectActiveOption = (0, _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_7__.Ig)(value);
                }
            }, {
                key: "requireSelection",
                get: function() {
                    return this._requireSelection;
                },
                set: function(value) {
                    this._requireSelection = (0, _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_7__.Ig)(value);
                }
            }, {
                key: "classList",
                set: function(value) {
                    this._classList = value && value.length ? (0, _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_7__.du)(value).reduce(function(classList, className) {
                        return classList[className] = !0, classList;
                    }, {}) : {}, this._setVisibilityClasses(this._classList), this._setThemeClasses(this._classList), 
                    this._elementRef.nativeElement.className = "";
                }
            } ]), _MatAutocompleteBase;
        }(_MatAutocompleteMixinBase);
        (_MatAutocompleteBase2 = _MatAutocompleteBase).\u0275fac = function(t) {
            return new (t || _MatAutocompleteBase2)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](MAT_AUTOCOMPLETE_DEFAULT_OPTIONS), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_cdk_platform__WEBPACK_IMPORTED_MODULE_8__.t4));
        }, _MatAutocompleteBase2.\u0275dir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({
            type: _MatAutocompleteBase2,
            viewQuery: function(rf, ctx) {
                var _t;
                1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275viewQuery"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef, 7), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275viewQuery"](_c0, 5)), 2 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]()) && (ctx.template = _t.first), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]()) && (ctx.panel = _t.first));
            },
            inputs: {
                ariaLabel: [ "aria-label", "ariaLabel" ],
                ariaLabelledby: [ "aria-labelledby", "ariaLabelledby" ],
                displayWith: "displayWith",
                autoActiveFirstOption: "autoActiveFirstOption",
                autoSelectActiveOption: "autoSelectActiveOption",
                requireSelection: "requireSelection",
                panelWidth: "panelWidth",
                classList: [ "class", "classList" ]
            },
            outputs: {
                optionSelected: "optionSelected",
                opened: "opened",
                closed: "closed",
                optionActivated: "optionActivated"
            },
            features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"] ]
        });
        var MatAutocomplete = function(_MatAutocompleteBase3) {
            function MatAutocomplete() {
                var _this3$_defaults$hide, _this3;
                return (_this3 = _MatAutocompleteBase3.apply(this, arguments) || this)._visibleClass = "mat-mdc-autocomplete-visible", 
                _this3._hiddenClass = "mat-mdc-autocomplete-hidden", _this3._animationDone = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter, 
                _this3._hideSingleSelectionIndicator = null != (_this3$_defaults$hide = _this3._defaults.hideSingleSelectionIndicator) && _this3$_defaults$hide, 
                _this3;
            }
            (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__.Z)(MatAutocomplete, _MatAutocompleteBase3);
            var _proto2 = MatAutocomplete.prototype;
            return _proto2._syncParentProperties = function() {
                if (this.options) for (var _step, _iterator = (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelperLoose__WEBPACK_IMPORTED_MODULE_9__.Z)(this.options); !(_step = _iterator()).done; ) _step.value._changeDetectorRef.markForCheck();
            }, _proto2.ngOnDestroy = function() {
                _MatAutocompleteBase3.prototype.ngOnDestroy.call(this), this._animationDone.complete();
            }, _proto2._skipPredicate = function(_option) {
                return !1;
            }, (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_6__.Z)(MatAutocomplete, [ {
                key: "hideSingleSelectionIndicator",
                get: function() {
                    return this._hideSingleSelectionIndicator;
                },
                set: function(value) {
                    this._hideSingleSelectionIndicator = (0, _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_7__.Ig)(value), 
                    this._syncParentProperties();
                }
            } ]), MatAutocomplete;
        }(_MatAutocompleteBase);
        (_MatAutocomplete = MatAutocomplete).\u0275fac = function() {
            var \u0275_MatAutocomplete_BaseFactory;
            return function(t) {
                return (\u0275_MatAutocomplete_BaseFactory || (\u0275_MatAutocomplete_BaseFactory = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getInheritedFactory"](_MatAutocomplete)))(t || _MatAutocomplete);
            };
        }(), _MatAutocomplete.\u0275cmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({
            type: _MatAutocomplete,
            selectors: [ [ "mat-autocomplete" ] ],
            contentQueries: function(rf, ctx, dirIndex) {
                var _t;
                1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275contentQuery"](dirIndex, _angular_material_core__WEBPACK_IMPORTED_MODULE_2__.K7, 5), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275contentQuery"](dirIndex, _angular_material_core__WEBPACK_IMPORTED_MODULE_2__.ey, 5)), 
                2 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]()) && (ctx.optionGroups = _t), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]()) && (ctx.options = _t));
            },
            hostAttrs: [ "ngSkipHydration", "", 1, "mat-mdc-autocomplete" ],
            inputs: {
                disableRipple: "disableRipple",
                hideSingleSelectionIndicator: "hideSingleSelectionIndicator"
            },
            exportAs: [ "matAutocomplete" ],
            features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275ProvidersFeature"]([ {
                provide: _angular_material_core__WEBPACK_IMPORTED_MODULE_2__.HF,
                useExisting: _MatAutocomplete
            } ]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"] ],
            ngContentSelectors: [ "*" ],
            decls: 1,
            vars: 0,
            consts: [ [ "role", "listbox", 1, "mat-mdc-autocomplete-panel", "mdc-menu-surface", "mdc-menu-surface--open", 3, "id", "ngClass" ], [ "panel", "" ] ],
            template: function(rf, ctx) {
                1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275projectionDef"](), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](0, _MatAutocomplete_ng_template_0_Template, 3, 5, "ng-template"));
            },
            dependencies: [ _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgClass ],
            styles: [ "div.mat-mdc-autocomplete-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden}mat-autocomplete{display:none}" ],
            encapsulation: 2,
            data: {
                animation: [ panelAnimation ]
            },
            changeDetection: 0
        });
        var _MatAutocompleteOriginBase = function(elementRef) {
            this.elementRef = elementRef;
        };
        (_MatAutocompleteOriginBase2 = _MatAutocompleteOriginBase).\u0275fac = function(t) {
            return new (t || _MatAutocompleteOriginBase2)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
        }, _MatAutocompleteOriginBase2.\u0275dir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({
            type: _MatAutocompleteOriginBase2
        });
        var MatAutocompleteOrigin = function(_MatAutocompleteOrigi) {
            function MatAutocompleteOrigin() {
                return _MatAutocompleteOrigi.apply(this, arguments) || this;
            }
            return (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__.Z)(MatAutocompleteOrigin, _MatAutocompleteOrigi), 
            MatAutocompleteOrigin;
        }(_MatAutocompleteOriginBase);
        (_MatAutocompleteOrigin = MatAutocompleteOrigin).\u0275fac = function() {
            var \u0275_MatAutocompleteOrigin_BaseFactory;
            return function(t) {
                return (\u0275_MatAutocompleteOrigin_BaseFactory || (\u0275_MatAutocompleteOrigin_BaseFactory = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getInheritedFactory"](_MatAutocompleteOrigin)))(t || _MatAutocompleteOrigin);
            };
        }(), _MatAutocompleteOrigin.\u0275dir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({
            type: _MatAutocompleteOrigin,
            selectors: [ [ "", "matAutocompleteOrigin", "" ] ],
            exportAs: [ "matAutocompleteOrigin" ],
            features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"] ]
        });
        var MAT_AUTOCOMPLETE_VALUE_ACCESSOR = {
            provide: _angular_forms__WEBPACK_IMPORTED_MODULE_11__.JU,
            useExisting: (0, _angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function() {
                return MatAutocompleteTrigger;
            }),
            multi: !0
        }, MAT_AUTOCOMPLETE_SCROLL_STRATEGY = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("mat-autocomplete-scroll-strategy"), MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY_PROVIDER = {
            provide: MAT_AUTOCOMPLETE_SCROLL_STRATEGY,
            deps: [ _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_12__.aV ],
            useFactory: function(overlay) {
                return function() {
                    return overlay.scrollStrategies.reposition();
                };
            }
        }, _MatAutocompleteTriggerBase = function() {
            function _MatAutocompleteTriggerBase(_element, _overlay, _viewContainerRef, _zone, _changeDetectorRef, scrollStrategy, _dir, _formField, _document, _viewportRuler, _defaults) {
                var _this4 = this;
                this._element = _element, this._overlay = _overlay, this._viewContainerRef = _viewContainerRef, 
                this._zone = _zone, this._changeDetectorRef = _changeDetectorRef, this._dir = _dir, 
                this._formField = _formField, this._document = _document, this._viewportRuler = _viewportRuler, 
                this._defaults = _defaults, this._componentDestroyed = !1, this._autocompleteDisabled = !1, 
                this._manuallyFloatingLabel = !1, this._viewportSubscription = rxjs__WEBPACK_IMPORTED_MODULE_4__.w.EMPTY, 
                this._canOpenOnNextFocus = !0, this._closeKeyEventStream = new rxjs__WEBPACK_IMPORTED_MODULE_13__.xQ, 
                this._windowBlurHandler = function() {
                    _this4._canOpenOnNextFocus = _this4._document.activeElement !== _this4._element.nativeElement || _this4.panelOpen;
                }, this._onChange = function() {}, this._onTouched = function() {}, this.position = "auto", 
                this.autocompleteAttribute = "off", this._overlayAttached = !1, this.optionSelections = (0, 
                rxjs__WEBPACK_IMPORTED_MODULE_14__.P)(function() {
                    var options = _this4.autocomplete ? _this4.autocomplete.options : null;
                    return options ? options.changes.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.O)(options), (0, 
                    rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.w)(function() {
                        return rxjs__WEBPACK_IMPORTED_MODULE_17__.T.apply(void 0, options.map(function(option) {
                            return option.onSelectionChange;
                        }));
                    })) : _this4._zone.onStable.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.q)(1), (0, 
                    rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.w)(function() {
                        return _this4.optionSelections;
                    }));
                }), this._handlePanelKeydown = function(event) {
                    var _this4$_valueBeforeAu;
                    (event.keyCode === _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_19__.hY && !(0, 
                    _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_19__.Vb)(event) || event.keyCode === _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_19__.LH && (0, 
                    _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_19__.Vb)(event, "altKey")) && (_this4._pendingAutoselectedOption && (_this4._updateNativeInputValue(null != (_this4$_valueBeforeAu = _this4._valueBeforeAutoSelection) ? _this4$_valueBeforeAu : ""), 
                    _this4._pendingAutoselectedOption = null), _this4._closeKeyEventStream.next(), _this4._resetActiveItem(), 
                    event.stopPropagation(), event.preventDefault());
                }, this._trackedModal = null, this._scrollStrategy = scrollStrategy;
            }
            var _proto3 = _MatAutocompleteTriggerBase.prototype;
            return _proto3.ngAfterViewInit = function() {
                var _this5 = this, window = this._getWindow();
                void 0 !== window && this._zone.runOutsideAngular(function() {
                    return window.addEventListener("blur", _this5._windowBlurHandler);
                });
            }, _proto3.ngOnChanges = function(changes) {
                changes.position && this._positionStrategy && (this._setStrategyPositions(this._positionStrategy), 
                this.panelOpen && this._overlayRef.updatePosition());
            }, _proto3.ngOnDestroy = function() {
                var window = this._getWindow();
                void 0 !== window && window.removeEventListener("blur", this._windowBlurHandler), 
                this._viewportSubscription.unsubscribe(), this._componentDestroyed = !0, this._destroyPanel(), 
                this._closeKeyEventStream.complete(), this._clearFromModal();
            }, _proto3.openPanel = function() {
                this._attachOverlay(), this._floatLabel(), this._trackedModal && (0, _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_5__.Zf)(this._trackedModal, "aria-owns", this.autocomplete.id);
            }, _proto3.closePanel = function() {
                var _this6 = this;
                this._resetLabel(), this._overlayAttached && (this.panelOpen && this._zone.run(function() {
                    _this6.autocomplete.closed.emit();
                }), this.autocomplete._isOpen = this._overlayAttached = !1, this._pendingAutoselectedOption = null, 
                this._overlayRef && this._overlayRef.hasAttached() && (this._overlayRef.detach(), 
                this._closingActionsSubscription.unsubscribe()), this._updatePanelState(), this._componentDestroyed || this._changeDetectorRef.detectChanges(), 
                this._trackedModal && (0, _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_5__.iD)(this._trackedModal, "aria-owns", this.autocomplete.id));
            }, _proto3.updatePosition = function() {
                this._overlayAttached && this._overlayRef.updatePosition();
            }, _proto3._getOutsideClickStream = function() {
                var _this7 = this;
                return (0, rxjs__WEBPACK_IMPORTED_MODULE_17__.T)((0, rxjs__WEBPACK_IMPORTED_MODULE_20__.R)(this._document, "click"), (0, 
                rxjs__WEBPACK_IMPORTED_MODULE_20__.R)(this._document, "auxclick"), (0, rxjs__WEBPACK_IMPORTED_MODULE_20__.R)(this._document, "touchend")).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.h)(function(event) {
                    var clickTarget = (0, _angular_cdk_platform__WEBPACK_IMPORTED_MODULE_8__.sA)(event), formField = _this7._formField ? _this7._formField._elementRef.nativeElement : null, customOrigin = _this7.connectedTo ? _this7.connectedTo.elementRef.nativeElement : null;
                    return _this7._overlayAttached && clickTarget !== _this7._element.nativeElement && _this7._document.activeElement !== _this7._element.nativeElement && (!formField || !formField.contains(clickTarget)) && (!customOrigin || !customOrigin.contains(clickTarget)) && !!_this7._overlayRef && !_this7._overlayRef.overlayElement.contains(clickTarget);
                }));
            }, _proto3.writeValue = function(value) {
                var _this8 = this;
                Promise.resolve(null).then(function() {
                    return _this8._assignOptionValue(value);
                });
            }, _proto3.registerOnChange = function(fn) {
                this._onChange = fn;
            }, _proto3.registerOnTouched = function(fn) {
                this._onTouched = fn;
            }, _proto3.setDisabledState = function(isDisabled) {
                this._element.nativeElement.disabled = isDisabled;
            }, _proto3._handleKeydown = function(event) {
                var keyCode = event.keyCode, hasModifier = (0, _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_19__.Vb)(event);
                if (keyCode !== _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_19__.hY || hasModifier || event.preventDefault(), 
                this.activeOption && keyCode === _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_19__.K5 && this.panelOpen && !hasModifier) this.activeOption._selectViaInteraction(), 
                this._resetActiveItem(), event.preventDefault(); else if (this.autocomplete) {
                    var prevActiveItem = this.autocomplete._keyManager.activeItem, isArrowKey = keyCode === _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_19__.LH || keyCode === _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_19__.JH;
                    keyCode === _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_19__.Mf || isArrowKey && !hasModifier && this.panelOpen ? this.autocomplete._keyManager.onKeydown(event) : isArrowKey && this._canOpen() && this.openPanel(), 
                    (isArrowKey || this.autocomplete._keyManager.activeItem !== prevActiveItem) && (this._scrollToOption(this.autocomplete._keyManager.activeItemIndex || 0), 
                    this.autocomplete.autoSelectActiveOption && this.activeOption && (this._pendingAutoselectedOption || (this._valueBeforeAutoSelection = this._element.nativeElement.value), 
                    this._pendingAutoselectedOption = this.activeOption, this._assignOptionValue(this.activeOption.value)));
                }
            }, _proto3._handleInput = function(event) {
                var target = event.target, value = target.value;
                "number" === target.type && (value = "" == value ? null : parseFloat(value)), this._previousValue !== value && (this._previousValue = value, 
                this._pendingAutoselectedOption = null, this.autocomplete && this.autocomplete.requireSelection || this._onChange(value), 
                value || this._clearPreviousSelectedOption(null, !1), this._canOpen() && this._document.activeElement === event.target && this.openPanel());
            }, _proto3._handleFocus = function() {
                this._canOpenOnNextFocus ? this._canOpen() && (this._previousValue = this._element.nativeElement.value, 
                this._attachOverlay(), this._floatLabel(!0)) : this._canOpenOnNextFocus = !0;
            }, _proto3._handleClick = function() {
                this._canOpen() && !this.panelOpen && this.openPanel();
            }, _proto3._floatLabel = function(shouldAnimate) {
                void 0 === shouldAnimate && (shouldAnimate = !1), this._formField && "auto" === this._formField.floatLabel && (shouldAnimate ? this._formField._animateAndLockLabel() : this._formField.floatLabel = "always", 
                this._manuallyFloatingLabel = !0);
            }, _proto3._resetLabel = function() {
                this._manuallyFloatingLabel && (this._formField && (this._formField.floatLabel = "auto"), 
                this._manuallyFloatingLabel = !1);
            }, _proto3._subscribeToClosingActions = function() {
                var _this9 = this, firstStable = this._zone.onStable.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.q)(1)), optionChanges = this.autocomplete.options.changes.pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.b)(function() {
                    return _this9._positionStrategy.reapplyLastPosition();
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_23__.g)(0));
                return (0, rxjs__WEBPACK_IMPORTED_MODULE_17__.T)(firstStable, optionChanges).pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.w)(function() {
                    return _this9._zone.run(function() {
                        var wasOpen = _this9.panelOpen;
                        _this9._resetActiveItem(), _this9._updatePanelState(), _this9._changeDetectorRef.detectChanges(), 
                        _this9.panelOpen && _this9._overlayRef.updatePosition(), wasOpen !== _this9.panelOpen && (_this9.panelOpen ? (_this9._captureValueOnAttach(), 
                        _this9._emitOpened()) : _this9.autocomplete.closed.emit());
                    }), _this9.panelClosingActions;
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.q)(1)).subscribe(function(event) {
                    return _this9._setValueAndClose(event);
                });
            }, _proto3._emitOpened = function() {
                this.autocomplete.opened.emit();
            }, _proto3._captureValueOnAttach = function() {
                this._valueOnAttach = this._element.nativeElement.value;
            }, _proto3._destroyPanel = function() {
                this._overlayRef && (this.closePanel(), this._overlayRef.dispose(), this._overlayRef = null);
            }, _proto3._assignOptionValue = function(value) {
                var toDisplay = this.autocomplete && this.autocomplete.displayWith ? this.autocomplete.displayWith(value) : value;
                this._updateNativeInputValue(null != toDisplay ? toDisplay : "");
            }, _proto3._updateNativeInputValue = function(value) {
                this._formField ? this._formField._control.value = value : this._element.nativeElement.value = value, 
                this._previousValue = value;
            }, _proto3._setValueAndClose = function(event) {
                var _this10 = this, panel = this.autocomplete, toSelect = event ? event.source : this._pendingAutoselectedOption;
                toSelect ? (this._clearPreviousSelectedOption(toSelect), this._assignOptionValue(toSelect.value), 
                this._onChange(toSelect.value), panel._emitSelectEvent(toSelect), this._element.nativeElement.focus()) : panel.requireSelection && this._element.nativeElement.value !== this._valueOnAttach && (this._clearPreviousSelectedOption(null), 
                this._assignOptionValue(null), panel._animationDone ? panel._animationDone.pipe((0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.q)(1)).subscribe(function() {
                    return _this10._onChange(null);
                }) : this._onChange(null)), this.closePanel();
            }, _proto3._clearPreviousSelectedOption = function(skip, emitEvent) {
                var _this$autocomplete;
                null == (_this$autocomplete = this.autocomplete) || null == (_this$autocomplete = _this$autocomplete.options) || _this$autocomplete.forEach(function(option) {
                    option !== skip && option.selected && option.deselect(emitEvent);
                });
            }, _proto3._attachOverlay = function() {
                var _this$_formField2, _this$_formField, _this11 = this, overlayRef = this._overlayRef;
                overlayRef ? (this._positionStrategy.setOrigin(this._getConnectedElement()), overlayRef.updateSize({
                    width: this._getPanelWidth()
                })) : (this._portal = new _angular_cdk_portal__WEBPACK_IMPORTED_MODULE_24__.UE(this.autocomplete.template, this._viewContainerRef, {
                    id: null == (_this$_formField = this._formField) ? void 0 : _this$_formField.getLabelId()
                }), overlayRef = this._overlay.create(this._getOverlayConfig()), this._overlayRef = overlayRef, 
                this._viewportSubscription = this._viewportRuler.change().subscribe(function() {
                    _this11.panelOpen && overlayRef && overlayRef.updateSize({
                        width: _this11._getPanelWidth()
                    });
                })), overlayRef && !overlayRef.hasAttached() && (overlayRef.attach(this._portal), 
                this._closingActionsSubscription = this._subscribeToClosingActions());
                var wasOpen = this.panelOpen;
                this.autocomplete._isOpen = this._overlayAttached = !0, this.autocomplete._setColor(null == (_this$_formField2 = this._formField) ? void 0 : _this$_formField2.color), 
                this._updatePanelState(), this._applyModalPanelOwnership(), this._captureValueOnAttach(), 
                this.panelOpen && wasOpen !== this.panelOpen && this._emitOpened();
            }, _proto3._updatePanelState = function() {
                if (this.autocomplete._setVisibility(), this.panelOpen) {
                    var overlayRef = this._overlayRef;
                    this._keydownSubscription || (this._keydownSubscription = overlayRef.keydownEvents().subscribe(this._handlePanelKeydown)), 
                    this._outsideClickSubscription || (this._outsideClickSubscription = overlayRef.outsidePointerEvents().subscribe());
                } else {
                    var _this$_keydownSubscri, _this$_outsideClickSu;
                    null == (_this$_keydownSubscri = this._keydownSubscription) || _this$_keydownSubscri.unsubscribe(), 
                    null == (_this$_outsideClickSu = this._outsideClickSubscription) || _this$_outsideClickSu.unsubscribe(), 
                    this._keydownSubscription = this._outsideClickSubscription = null;
                }
            }, _proto3._getOverlayConfig = function() {
                var _this$_dir, _this$_defaults;
                return new _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_12__.X_({
                    positionStrategy: this._getOverlayPosition(),
                    scrollStrategy: this._scrollStrategy(),
                    width: this._getPanelWidth(),
                    direction: null != (_this$_dir = this._dir) ? _this$_dir : void 0,
                    panelClass: null == (_this$_defaults = this._defaults) ? void 0 : _this$_defaults.overlayPanelClass
                });
            }, _proto3._getOverlayPosition = function() {
                var strategy = this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);
                return this._setStrategyPositions(strategy), this._positionStrategy = strategy, 
                strategy;
            }, _proto3._setStrategyPositions = function(positionStrategy) {
                var positions, belowPositions = [ {
                    originX: "start",
                    originY: "bottom",
                    overlayX: "start",
                    overlayY: "top"
                }, {
                    originX: "end",
                    originY: "bottom",
                    overlayX: "end",
                    overlayY: "top"
                } ], panelClass = this._aboveClass, abovePositions = [ {
                    originX: "start",
                    originY: "top",
                    overlayX: "start",
                    overlayY: "bottom",
                    panelClass
                }, {
                    originX: "end",
                    originY: "top",
                    overlayX: "end",
                    overlayY: "bottom",
                    panelClass
                } ];
                positions = "above" === this.position ? abovePositions : "below" === this.position ? belowPositions : [].concat(belowPositions, abovePositions), 
                positionStrategy.withPositions(positions);
            }, _proto3._getConnectedElement = function() {
                return this.connectedTo ? this.connectedTo.elementRef : this._formField ? this._formField.getConnectedOverlayOrigin() : this._element;
            }, _proto3._getPanelWidth = function() {
                return this.autocomplete.panelWidth || this._getHostWidth();
            }, _proto3._getHostWidth = function() {
                return this._getConnectedElement().nativeElement.getBoundingClientRect().width;
            }, _proto3._resetActiveItem = function() {
                var autocomplete = this.autocomplete;
                if (autocomplete.autoActiveFirstOption) {
                    for (var firstEnabledOptionIndex = -1, index = 0; index < autocomplete.options.length; index++) if (!autocomplete.options.get(index).disabled) {
                        firstEnabledOptionIndex = index;
                        break;
                    }
                    autocomplete._keyManager.setActiveItem(firstEnabledOptionIndex);
                } else autocomplete._keyManager.setActiveItem(-1);
            }, _proto3._canOpen = function() {
                var element = this._element.nativeElement;
                return !element.readOnly && !element.disabled && !this._autocompleteDisabled;
            }, _proto3._getWindow = function() {
                var _this$_document;
                return (null == (_this$_document = this._document) ? void 0 : _this$_document.defaultView) || window;
            }, _proto3._scrollToOption = function(index) {
                var autocomplete = this.autocomplete, labelCount = (0, _angular_material_core__WEBPACK_IMPORTED_MODULE_2__.CB)(index, autocomplete.options, autocomplete.optionGroups);
                if (0 === index && 1 === labelCount) autocomplete._setScrollTop(0); else if (autocomplete.panel) {
                    var option = autocomplete.options.toArray()[index];
                    if (option) {
                        var element = option._getHostElement(), newScrollPosition = (0, _angular_material_core__WEBPACK_IMPORTED_MODULE_2__.jH)(element.offsetTop, element.offsetHeight, autocomplete._getScrollTop(), autocomplete.panel.nativeElement.offsetHeight);
                        autocomplete._setScrollTop(newScrollPosition);
                    }
                }
            }, _proto3._applyModalPanelOwnership = function() {
                var modal = this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');
                if (modal) {
                    var panelId = this.autocomplete.id;
                    this._trackedModal && (0, _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_5__.iD)(this._trackedModal, "aria-owns", panelId), 
                    (0, _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_5__.Zf)(modal, "aria-owns", panelId), 
                    this._trackedModal = modal;
                }
            }, _proto3._clearFromModal = function() {
                this._trackedModal && ((0, _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_5__.iD)(this._trackedModal, "aria-owns", this.autocomplete.id), 
                this._trackedModal = null);
            }, (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_6__.Z)(_MatAutocompleteTriggerBase, [ {
                key: "autocompleteDisabled",
                get: function() {
                    return this._autocompleteDisabled;
                },
                set: function(value) {
                    this._autocompleteDisabled = (0, _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_7__.Ig)(value);
                }
            }, {
                key: "panelOpen",
                get: function() {
                    return this._overlayAttached && this.autocomplete.showPanel;
                }
            }, {
                key: "panelClosingActions",
                get: function() {
                    var _this12 = this;
                    return (0, rxjs__WEBPACK_IMPORTED_MODULE_17__.T)(this.optionSelections, this.autocomplete._keyManager.tabOut.pipe((0, 
                    rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.h)(function() {
                        return _this12._overlayAttached;
                    })), this._closeKeyEventStream, this._getOutsideClickStream(), this._overlayRef ? this._overlayRef.detachments().pipe((0, 
                    rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.h)(function() {
                        return _this12._overlayAttached;
                    })) : (0, rxjs__WEBPACK_IMPORTED_MODULE_25__.of)()).pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_26__.U)(function(event) {
                        return event instanceof _angular_material_core__WEBPACK_IMPORTED_MODULE_2__.rN ? event : null;
                    }));
                }
            }, {
                key: "activeOption",
                get: function() {
                    return this.autocomplete && this.autocomplete._keyManager ? this.autocomplete._keyManager.activeItem : null;
                }
            } ]), _MatAutocompleteTriggerBase;
        }();
        (_MatAutocompleteTriggerBase2 = _MatAutocompleteTriggerBase).\u0275fac = function(t) {
            return new (t || _MatAutocompleteTriggerBase2)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_12__.aV), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](MAT_AUTOCOMPLETE_SCROLL_STRATEGY), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_cdk_bidi__WEBPACK_IMPORTED_MODULE_27__.Is, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_material_form_field__WEBPACK_IMPORTED_MODULE_28__.G_, 9), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_10__.DOCUMENT, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_29__.rL), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](MAT_AUTOCOMPLETE_DEFAULT_OPTIONS, 8));
        }, _MatAutocompleteTriggerBase2.\u0275dir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({
            type: _MatAutocompleteTriggerBase2,
            inputs: {
                autocomplete: [ "matAutocomplete", "autocomplete" ],
                position: [ "matAutocompletePosition", "position" ],
                connectedTo: [ "matAutocompleteConnectedTo", "connectedTo" ],
                autocompleteAttribute: [ "autocomplete", "autocompleteAttribute" ],
                autocompleteDisabled: [ "matAutocompleteDisabled", "autocompleteDisabled" ]
            },
            features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275NgOnChangesFeature"] ]
        });
        var MatAutocompleteTrigger = function(_MatAutocompleteTrigg) {
            function MatAutocompleteTrigger() {
                var _this13;
                return (_this13 = _MatAutocompleteTrigg.apply(this, arguments) || this)._aboveClass = "mat-mdc-autocomplete-panel-above", 
                _this13;
            }
            return (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__.Z)(MatAutocompleteTrigger, _MatAutocompleteTrigg), 
            MatAutocompleteTrigger;
        }(_MatAutocompleteTriggerBase);
        (_MatAutocompleteTrigger = MatAutocompleteTrigger).\u0275fac = function() {
            var \u0275_MatAutocompleteTrigger_BaseFactory;
            return function(t) {
                return (\u0275_MatAutocompleteTrigger_BaseFactory || (\u0275_MatAutocompleteTrigger_BaseFactory = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getInheritedFactory"](_MatAutocompleteTrigger)))(t || _MatAutocompleteTrigger);
            };
        }(), _MatAutocompleteTrigger.\u0275dir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({
            type: _MatAutocompleteTrigger,
            selectors: [ [ "input", "matAutocomplete", "" ], [ "textarea", "matAutocomplete", "" ] ],
            hostAttrs: [ 1, "mat-mdc-autocomplete-trigger" ],
            hostVars: 7,
            hostBindings: function(rf, ctx) {
                1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("focusin", function() {
                    return ctx._handleFocus();
                })("blur", function() {
                    return ctx._onTouched();
                })("input", function($event) {
                    return ctx._handleInput($event);
                })("keydown", function($event) {
                    return ctx._handleKeydown($event);
                })("click", function() {
                    return ctx._handleClick();
                }), 2 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("autocomplete", ctx.autocompleteAttribute)("role", ctx.autocompleteDisabled ? null : "combobox")("aria-autocomplete", ctx.autocompleteDisabled ? null : "list")("aria-activedescendant", ctx.panelOpen && ctx.activeOption ? ctx.activeOption.id : null)("aria-expanded", ctx.autocompleteDisabled ? null : ctx.panelOpen.toString())("aria-controls", ctx.autocompleteDisabled || !ctx.panelOpen || null == ctx.autocomplete ? null : ctx.autocomplete.id)("aria-haspopup", ctx.autocompleteDisabled ? null : "listbox");
            },
            exportAs: [ "matAutocompleteTrigger" ],
            features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275ProvidersFeature"]([ MAT_AUTOCOMPLETE_VALUE_ACCESSOR ]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"] ]
        }), (_MatAutocompleteModule = function() {}).\u0275fac = function(t) {
            return new (t || _MatAutocompleteModule);
        }, _MatAutocompleteModule.\u0275mod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineNgModule"]({
            type: _MatAutocompleteModule
        }), _MatAutocompleteModule.\u0275inj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineInjector"]({
            providers: [ MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY_PROVIDER ],
            imports: [ _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_12__.U8, _angular_material_core__WEBPACK_IMPORTED_MODULE_2__.Ng, _angular_material_core__WEBPACK_IMPORTED_MODULE_2__.BQ, _angular_common__WEBPACK_IMPORTED_MODULE_10__.CommonModule, _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_29__.ZD, _angular_material_core__WEBPACK_IMPORTED_MODULE_2__.Ng, _angular_material_core__WEBPACK_IMPORTED_MODULE_2__.BQ ]
        });
    },
    34895: function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            D8: function() {
                return MatLegacyAutocompleteModule;
            },
            QJ: function() {
                return MatLegacyAutocompleteTrigger;
            },
            VN: function() {
                return MatLegacyAutocomplete;
            }
        });
        var _MatLegacyAutocomplete, _MatLegacyAutocompleteTrigger, _MatLegacyAutocompleteOrigin, _MatLegacyAutocompleteModule, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(37419), _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50423), _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(48138), _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(33846), _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(54241), _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(77476), _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(59051), _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(21661), _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(17174);
        function _MatLegacyAutocomplete_ng_template_0_Template(rf, ctx) {
            if (1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div", 0, 1), 
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275projection"](2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]()), 
            2 & rf) {
                var formFieldId_r1 = ctx.id, ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275nextContext"]();
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275property"]("id", ctx_r0.id)("ngClass", ctx_r0._classList), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("aria-label", ctx_r0.ariaLabel || null)("aria-labelledby", ctx_r0._getPanelAriaLabelledby(formFieldId_r1));
            }
        }
        var MatLegacyAutocomplete = function(_MatAutocompleteBase2) {
            function MatLegacyAutocomplete() {
                var _this;
                return (_this = _MatAutocompleteBase2.apply(this, arguments) || this)._visibleClass = "mat-autocomplete-visible", 
                _this._hiddenClass = "mat-autocomplete-hidden", _this._animationDone = null, _this;
            }
            return (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__.Z)(MatLegacyAutocomplete, _MatAutocompleteBase2), 
            MatLegacyAutocomplete;
        }(_angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_2__.Mz);
        (_MatLegacyAutocomplete = MatLegacyAutocomplete).\u0275fac = function() {
            var \u0275_MatLegacyAutocomplete_BaseFactory;
            return function(t) {
                return (\u0275_MatLegacyAutocomplete_BaseFactory || (\u0275_MatLegacyAutocomplete_BaseFactory = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getInheritedFactory"](_MatLegacyAutocomplete)))(t || _MatLegacyAutocomplete);
            };
        }(), _MatLegacyAutocomplete.\u0275cmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({
            type: _MatLegacyAutocomplete,
            selectors: [ [ "mat-autocomplete" ] ],
            contentQueries: function(rf, ctx, dirIndex) {
                var _t;
                1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275contentQuery"](dirIndex, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_3__.K7, 5), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275contentQuery"](dirIndex, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_4__.CK, 5)), 
                2 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]()) && (ctx.optionGroups = _t), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]()) && (ctx.options = _t));
            },
            hostAttrs: [ "ngSkipHydration", "", 1, "mat-autocomplete" ],
            inputs: {
                disableRipple: "disableRipple"
            },
            exportAs: [ "matAutocomplete" ],
            features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275ProvidersFeature"]([ {
                provide: _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_3__.HF,
                useExisting: _MatLegacyAutocomplete
            } ]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"] ],
            ngContentSelectors: [ "*" ],
            decls: 1,
            vars: 0,
            consts: [ [ "role", "listbox", 1, "mat-autocomplete-panel", 3, "id", "ngClass" ], [ "panel", "" ] ],
            template: function(rf, ctx) {
                1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275projectionDef"](), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275template"](0, _MatLegacyAutocomplete_ng_template_0_Template, 3, 4, "ng-template"));
            },
            dependencies: [ _angular_common__WEBPACK_IMPORTED_MODULE_5__.NgClass ],
            styles: [ ".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}" ],
            encapsulation: 2,
            changeDetection: 0
        });
        var MAT_LEGACY_AUTOCOMPLETE_VALUE_ACCESSOR = {
            provide: _angular_forms__WEBPACK_IMPORTED_MODULE_6__.JU,
            useExisting: (0, _angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function() {
                return MatLegacyAutocompleteTrigger;
            }),
            multi: !0
        }, MatLegacyAutocompleteTrigger = function(_MatAutocompleteTrigg) {
            function MatLegacyAutocompleteTrigger() {
                var _this2;
                return (_this2 = _MatAutocompleteTrigg.apply(this, arguments) || this)._aboveClass = "mat-autocomplete-panel-above", 
                _this2;
            }
            return (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__.Z)(MatLegacyAutocompleteTrigger, _MatAutocompleteTrigg), 
            MatLegacyAutocompleteTrigger;
        }(_angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_2__.VI);
        (_MatLegacyAutocompleteTrigger = MatLegacyAutocompleteTrigger).\u0275fac = function() {
            var \u0275_MatLegacyAutocompleteTrigger_BaseFactory;
            return function(t) {
                return (\u0275_MatLegacyAutocompleteTrigger_BaseFactory || (\u0275_MatLegacyAutocompleteTrigger_BaseFactory = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getInheritedFactory"](_MatLegacyAutocompleteTrigger)))(t || _MatLegacyAutocompleteTrigger);
            };
        }(), _MatLegacyAutocompleteTrigger.\u0275dir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({
            type: _MatLegacyAutocompleteTrigger,
            selectors: [ [ "input", "matAutocomplete", "" ], [ "textarea", "matAutocomplete", "" ] ],
            hostAttrs: [ 1, "mat-autocomplete-trigger" ],
            hostVars: 7,
            hostBindings: function(rf, ctx) {
                1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("focusin", function() {
                    return ctx._handleFocus();
                })("blur", function() {
                    return ctx._onTouched();
                })("input", function($event) {
                    return ctx._handleInput($event);
                })("keydown", function($event) {
                    return ctx._handleKeydown($event);
                })("click", function() {
                    return ctx._handleClick();
                }), 2 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("autocomplete", ctx.autocompleteAttribute)("role", ctx.autocompleteDisabled ? null : "combobox")("aria-autocomplete", ctx.autocompleteDisabled ? null : "list")("aria-activedescendant", ctx.panelOpen && ctx.activeOption ? ctx.activeOption.id : null)("aria-expanded", ctx.autocompleteDisabled ? null : ctx.panelOpen.toString())("aria-owns", ctx.autocompleteDisabled || !ctx.panelOpen || null == ctx.autocomplete ? null : ctx.autocomplete.id)("aria-haspopup", ctx.autocompleteDisabled ? null : "listbox");
            },
            exportAs: [ "matAutocompleteTrigger" ],
            features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275ProvidersFeature"]([ MAT_LEGACY_AUTOCOMPLETE_VALUE_ACCESSOR ]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"] ]
        });
        var MatLegacyAutocompleteOrigin = function(_MatAutocompleteOrigi) {
            function MatLegacyAutocompleteOrigin() {
                return _MatAutocompleteOrigi.apply(this, arguments) || this;
            }
            return (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__.Z)(MatLegacyAutocompleteOrigin, _MatAutocompleteOrigi), 
            MatLegacyAutocompleteOrigin;
        }(_angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_2__.q5);
        (_MatLegacyAutocompleteOrigin = MatLegacyAutocompleteOrigin).\u0275fac = function() {
            var \u0275_MatLegacyAutocompleteOrigin_BaseFactory;
            return function(t) {
                return (\u0275_MatLegacyAutocompleteOrigin_BaseFactory || (\u0275_MatLegacyAutocompleteOrigin_BaseFactory = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275getInheritedFactory"](_MatLegacyAutocompleteOrigin)))(t || _MatLegacyAutocompleteOrigin);
            };
        }(), _MatLegacyAutocompleteOrigin.\u0275dir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({
            type: _MatLegacyAutocompleteOrigin,
            selectors: [ [ "", "matAutocompleteOrigin", "" ] ],
            exportAs: [ "matAutocompleteOrigin" ],
            features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"] ]
        });
        var MatLegacyAutocompleteModule = function() {};
        (_MatLegacyAutocompleteModule = MatLegacyAutocompleteModule).\u0275fac = function(t) {
            return new (t || _MatLegacyAutocompleteModule);
        }, _MatLegacyAutocompleteModule.\u0275mod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineNgModule"]({
            type: _MatLegacyAutocompleteModule
        }), _MatLegacyAutocompleteModule.\u0275inj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineInjector"]({
            providers: [ _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_2__.zp ],
            imports: [ _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_7__.U8, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_4__.Uc, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_3__.BQ, _angular_common__WEBPACK_IMPORTED_MODULE_5__.CommonModule, _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_8__.ZD, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_4__.Uc, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_3__.BQ ]
        });
    },
    89075: function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.d(__webpack_exports__, {
            IP: function() {
                return MatLegacyChipInput;
            },
            Y6: function() {
                return MatLegacyChipRemove;
            },
            ir: function() {
                return MatLegacyChipList;
            },
            lw: function() {
                return MatLegacyChip;
            },
            yD: function() {
                return MatLegacyChipsModule;
            }
        });
        var _MatLegacyChipAvatar, _MatLegacyChipTrailingIcon, _MatLegacyChip, _MatLegacyChipRemove, _MatLegacyChipList, _MatLegacyChipInput, _MatLegacyChipsModule, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(90341), C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(76920), C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(37419), _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(93247), _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50423), _angular_material_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(48138), _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(4437), _angular_cdk_platform__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(10519), _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(77476), rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(30794), rxjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(63057), rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(48787), rxjs_operators__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(83317), rxjs_operators__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(22318), _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(51193), _angular_cdk_bidi__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(94130), _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(77445), _angular_forms__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(17174), _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(60733), MAT_LEGACY_CHIP_REMOVE = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("MatChipRemove"), MAT_LEGACY_CHIP_AVATAR = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("MatChipAvatar"), MAT_LEGACY_CHIP_TRAILING_ICON = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("MatChipTrailingIcon"), _MatChipMixinBase = (0, 
        _angular_material_core__WEBPACK_IMPORTED_MODULE_1__.sb)((0, _angular_material_core__WEBPACK_IMPORTED_MODULE_1__.pj)((0, 
        _angular_material_core__WEBPACK_IMPORTED_MODULE_1__.Kr)(function(_elementRef) {
            this._elementRef = _elementRef;
        }), "primary"), -1);
        (_MatLegacyChipAvatar = function() {}).\u0275fac = function(t) {
            return new (t || _MatLegacyChipAvatar);
        }, _MatLegacyChipAvatar.\u0275dir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({
            type: _MatLegacyChipAvatar,
            selectors: [ [ "mat-chip-avatar" ], [ "", "matChipAvatar", "" ] ],
            hostAttrs: [ 1, "mat-chip-avatar" ],
            features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275ProvidersFeature"]([ {
                provide: MAT_LEGACY_CHIP_AVATAR,
                useExisting: _MatLegacyChipAvatar
            } ]) ]
        }), (_MatLegacyChipTrailingIcon = function() {}).\u0275fac = function(t) {
            return new (t || _MatLegacyChipTrailingIcon);
        }, _MatLegacyChipTrailingIcon.\u0275dir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({
            type: _MatLegacyChipTrailingIcon,
            selectors: [ [ "mat-chip-trailing-icon" ], [ "", "matChipTrailingIcon", "" ] ],
            hostAttrs: [ 1, "mat-chip-trailing-icon" ],
            features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275ProvidersFeature"]([ {
                provide: MAT_LEGACY_CHIP_TRAILING_ICON,
                useExisting: _MatLegacyChipTrailingIcon
            } ]) ]
        });
        var MatLegacyChip = function(_MatChipMixinBase2) {
            function MatLegacyChip(elementRef, _ngZone, platform, globalRippleOptions, _changeDetectorRef, _document, animationMode, tabIndex) {
                var _this;
                return (_this = _MatChipMixinBase2.call(this, elementRef) || this)._ngZone = _ngZone, 
                _this._changeDetectorRef = _changeDetectorRef, _this._hasFocus = !1, _this.chipListSelectable = !0, 
                _this._chipListMultiple = !1, _this._chipListDisabled = !1, _this.role = "option", 
                _this._selected = !1, _this._selectable = !0, _this._disabled = !1, _this._removable = !0, 
                _this._onFocus = new rxjs__WEBPACK_IMPORTED_MODULE_3__.xQ, _this._onBlur = new rxjs__WEBPACK_IMPORTED_MODULE_3__.xQ, 
                _this.selectionChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter, 
                _this.destroyed = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter, _this.removed = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter, 
                _this._addHostClassName(), _this._chipRippleTarget = _document.createElement("div"), 
                _this._chipRippleTarget.classList.add("mat-chip-ripple"), _this._elementRef.nativeElement.appendChild(_this._chipRippleTarget), 
                _this._chipRipple = new _angular_material_core__WEBPACK_IMPORTED_MODULE_1__.IR((0, 
                C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.Z)(_this), _ngZone, _this._chipRippleTarget, platform), 
                _this._chipRipple.setupTriggerEvents(elementRef), _this.rippleConfig = globalRippleOptions || {}, 
                _this._animationsDisabled = "NoopAnimations" === animationMode, _this.tabIndex = null != tabIndex && parseInt(tabIndex) || -1, 
                _this;
            }
            (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_2__.Z)(MatLegacyChip, _MatChipMixinBase2);
            var _proto = MatLegacyChip.prototype;
            return _proto._addHostClassName = function() {
                var element = this._elementRef.nativeElement;
                element.hasAttribute("mat-basic-chip") || "mat-basic-chip" === element.tagName.toLowerCase() ? element.classList.add("mat-basic-chip") : element.classList.add("mat-standard-chip");
            }, _proto.ngOnDestroy = function() {
                this.destroyed.emit({
                    chip: this
                }), this._chipRipple._removeTriggerEvents();
            }, _proto.select = function() {
                this._selected || (this._selected = !0, this._dispatchSelectionChange(), this._changeDetectorRef.markForCheck());
            }, _proto.deselect = function() {
                this._selected && (this._selected = !1, this._dispatchSelectionChange(), this._changeDetectorRef.markForCheck());
            }, _proto.selectViaInteraction = function() {
                this._selected || (this._selected = !0, this._dispatchSelectionChange(!0), this._changeDetectorRef.markForCheck());
            }, _proto.toggleSelected = function(isUserInput) {
                return void 0 === isUserInput && (isUserInput = !1), this._selected = !this.selected, 
                this._dispatchSelectionChange(isUserInput), this._changeDetectorRef.markForCheck(), 
                this.selected;
            }, _proto.focus = function() {
                this._hasFocus || (this._elementRef.nativeElement.focus(), this._onFocus.next({
                    chip: this
                })), this._hasFocus = !0;
            }, _proto.remove = function() {
                this.removable && this.removed.emit({
                    chip: this
                });
            }, _proto._handleClick = function(event) {
                this.disabled && event.preventDefault();
            }, _proto._handleKeydown = function(event) {
                if (!this.disabled) switch (event.keyCode) {
                  case _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_5__.yY:
                  case _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_5__.ZH:
                    this.remove(), event.preventDefault();
                    break;

                  case _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_5__.L_:
                    this.selectable && this.toggleSelected(!0), event.preventDefault();
                }
            }, _proto._blur = function() {
                var _this2 = this;
                this._ngZone.onStable.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.q)(1)).subscribe(function() {
                    _this2._ngZone.run(function() {
                        _this2._hasFocus = !1, _this2._onBlur.next({
                            chip: _this2
                        });
                    });
                });
            }, _proto._dispatchSelectionChange = function(isUserInput) {
                void 0 === isUserInput && (isUserInput = !1), this.selectionChange.emit({
                    source: this,
                    isUserInput,
                    selected: this._selected
                });
            }, (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_7__.Z)(MatLegacyChip, [ {
                key: "rippleDisabled",
                get: function() {
                    return this.disabled || this.disableRipple || this._animationsDisabled || !!this.rippleConfig.disabled;
                }
            }, {
                key: "selected",
                get: function() {
                    return this._selected;
                },
                set: function(value) {
                    var coercedValue = (0, _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_8__.Ig)(value);
                    coercedValue !== this._selected && (this._selected = coercedValue, this._dispatchSelectionChange());
                }
            }, {
                key: "value",
                get: function() {
                    return void 0 !== this._value ? this._value : this._elementRef.nativeElement.textContent;
                },
                set: function(value) {
                    this._value = value;
                }
            }, {
                key: "selectable",
                get: function() {
                    return this._selectable && this.chipListSelectable;
                },
                set: function(value) {
                    this._selectable = (0, _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_8__.Ig)(value);
                }
            }, {
                key: "disabled",
                get: function() {
                    return this._chipListDisabled || this._disabled;
                },
                set: function(value) {
                    this._disabled = (0, _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_8__.Ig)(value);
                }
            }, {
                key: "removable",
                get: function() {
                    return this._removable;
                },
                set: function(value) {
                    this._removable = (0, _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_8__.Ig)(value);
                }
            }, {
                key: "ariaSelected",
                get: function() {
                    return this.selectable && (this._chipListMultiple || this.selected) ? this.selected.toString() : null;
                }
            } ]), MatLegacyChip;
        }(_MatChipMixinBase);
        (_MatLegacyChip = MatLegacyChip).\u0275fac = function(t) {
            return new (t || _MatLegacyChip)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_cdk_platform__WEBPACK_IMPORTED_MODULE_9__.t4), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_1__.Y2, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_10__.DOCUMENT), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ANIMATION_MODULE_TYPE, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275injectAttribute"]("tabindex"));
        }, _MatLegacyChip.\u0275dir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({
            type: _MatLegacyChip,
            selectors: [ [ "mat-basic-chip" ], [ "", "mat-basic-chip", "" ], [ "mat-chip" ], [ "", "mat-chip", "" ] ],
            contentQueries: function(rf, ctx, dirIndex) {
                var _t;
                1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275contentQuery"](dirIndex, MAT_LEGACY_CHIP_AVATAR, 5), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275contentQuery"](dirIndex, MAT_LEGACY_CHIP_TRAILING_ICON, 5), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275contentQuery"](dirIndex, MAT_LEGACY_CHIP_REMOVE, 5)), 
                2 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]()) && (ctx.avatar = _t.first), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]()) && (ctx.trailingIcon = _t.first), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]()) && (ctx.removeIcon = _t.first));
            },
            hostAttrs: [ 1, "mat-chip", "mat-focus-indicator" ],
            hostVars: 15,
            hostBindings: function(rf, ctx) {
                1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click", function($event) {
                    return ctx._handleClick($event);
                })("keydown", function($event) {
                    return ctx._handleKeydown($event);
                })("focus", function() {
                    return ctx.focus();
                })("blur", function() {
                    return ctx._blur();
                }), 2 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("tabindex", ctx.disabled ? null : ctx.tabIndex)("role", ctx.role)("disabled", ctx.disabled || null)("aria-disabled", ctx.disabled.toString())("aria-selected", ctx.ariaSelected), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("mat-chip-selected", ctx.selected)("mat-chip-with-avatar", ctx.avatar)("mat-chip-with-trailing-icon", ctx.trailingIcon || ctx.removeIcon)("mat-chip-disabled", ctx.disabled)("_mat-animation-noopable", ctx._animationsDisabled));
            },
            inputs: {
                color: "color",
                disableRipple: "disableRipple",
                tabIndex: "tabIndex",
                role: "role",
                selected: "selected",
                value: "value",
                selectable: "selectable",
                disabled: "disabled",
                removable: "removable"
            },
            outputs: {
                selectionChange: "selectionChange",
                destroyed: "destroyed",
                removed: "removed"
            },
            exportAs: [ "matChip" ],
            features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"] ]
        });
        var MatLegacyChipRemove = function() {
            function MatLegacyChipRemove(_parentChip, elementRef) {
                this._parentChip = _parentChip, "BUTTON" === elementRef.nativeElement.nodeName && elementRef.nativeElement.setAttribute("type", "button");
            }
            return MatLegacyChipRemove.prototype._handleClick = function(event) {
                var parentChip = this._parentChip;
                parentChip.removable && !parentChip.disabled && parentChip.remove(), event.stopPropagation(), 
                event.preventDefault();
            }, MatLegacyChipRemove;
        }();
        (_MatLegacyChipRemove = MatLegacyChipRemove).\u0275fac = function(t) {
            return new (t || _MatLegacyChipRemove)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](MatLegacyChip), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef));
        }, _MatLegacyChipRemove.\u0275dir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({
            type: _MatLegacyChipRemove,
            selectors: [ [ "", "matChipRemove", "" ] ],
            hostAttrs: [ 1, "mat-chip-remove", "mat-chip-trailing-icon" ],
            hostBindings: function(rf, ctx) {
                1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("click", function($event) {
                    return ctx._handleClick($event);
                });
            },
            features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275ProvidersFeature"]([ {
                provide: MAT_LEGACY_CHIP_REMOVE,
                useExisting: _MatLegacyChipRemove
            } ]) ]
        });
        var MAT_LEGACY_CHIPS_DEFAULT_OPTIONS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("mat-chips-default-options"), _MatChipListBase = (0, 
        _angular_material_core__WEBPACK_IMPORTED_MODULE_1__.FD)(function() {
            return function(_defaultErrorStateMatcher, _parentForm, _parentFormGroup, ngControl) {
                this._defaultErrorStateMatcher = _defaultErrorStateMatcher, this._parentForm = _parentForm, 
                this._parentFormGroup = _parentFormGroup, this.ngControl = ngControl, this.stateChanges = new rxjs__WEBPACK_IMPORTED_MODULE_3__.xQ;
            };
        }()), nextUniqueId$1 = 0, MatLegacyChipListChange = function(source, value) {
            this.source = source, this.value = value;
        }, MatLegacyChipList = function(_MatChipListBase2) {
            function MatLegacyChipList(_elementRef, _changeDetectorRef, _dir, _parentForm, _parentFormGroup, _defaultErrorStateMatcher, ngControl) {
                var _this3;
                return (_this3 = _MatChipListBase2.call(this, _defaultErrorStateMatcher, _parentForm, _parentFormGroup, ngControl) || this)._elementRef = _elementRef, 
                _this3._changeDetectorRef = _changeDetectorRef, _this3._dir = _dir, _this3.controlType = "mat-chip-list", 
                _this3._lastDestroyedChipIndex = null, _this3._destroyed = new rxjs__WEBPACK_IMPORTED_MODULE_3__.xQ, 
                _this3._uid = "mat-chip-list-" + nextUniqueId$1++, _this3._tabIndex = 0, _this3._userTabIndex = null, 
                _this3._onTouched = function() {}, _this3._onChange = function() {}, _this3._multiple = !1, 
                _this3._compareWith = function(o1, o2) {
                    return o1 === o2;
                }, _this3._disabled = !1, _this3.ariaOrientation = "horizontal", _this3._selectable = !0, 
                _this3.change = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter, _this3.valueChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter, 
                _this3.ngControl && (_this3.ngControl.valueAccessor = (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.Z)(_this3)), 
                _this3;
            }
            (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_2__.Z)(MatLegacyChipList, _MatChipListBase2);
            var _proto3 = MatLegacyChipList.prototype;
            return _proto3.ngAfterContentInit = function() {
                var _this4 = this;
                this._keyManager = new _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_11__.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir ? this._dir.value : "ltr"), 
                this._dir && this._dir.change.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.R)(this._destroyed)).subscribe(function(dir) {
                    return _this4._keyManager.withHorizontalOrientation(dir);
                }), this._keyManager.tabOut.subscribe(function() {
                    return _this4._allowFocusEscape();
                }), this.chips.changes.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.O)(null), (0, 
                rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.R)(this._destroyed)).subscribe(function() {
                    !_this4.disabled && _this4.selectable || Promise.resolve().then(function() {
                        _this4._syncChipsState();
                    }), _this4._resetChips(), _this4._initializeSelection(), _this4._updateTabIndex(), 
                    _this4._updateFocusForDestroyedChips(), _this4.stateChanges.next();
                });
            }, _proto3.ngOnInit = function() {
                this._selectionModel = new _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_14__.Ov(this.multiple, void 0, !1), 
                this.stateChanges.next();
            }, _proto3.ngDoCheck = function() {
                this.ngControl && (this.updateErrorState(), this.ngControl.disabled !== this._disabled && (this.disabled = !!this.ngControl.disabled));
            }, _proto3.ngOnDestroy = function() {
                var _this$_keyManager;
                null == (_this$_keyManager = this._keyManager) || _this$_keyManager.destroy(), this._destroyed.next(), 
                this._destroyed.complete(), this.stateChanges.complete(), this._dropSubscriptions();
            }, _proto3.registerInput = function(inputElement) {
                this._chipInput = inputElement, this._elementRef.nativeElement.setAttribute("data-mat-chip-input", inputElement.id);
            }, _proto3.setDescribedByIds = function(ids) {
                ids.length ? this._elementRef.nativeElement.setAttribute("aria-describedby", ids.join(" ")) : this._elementRef.nativeElement.removeAttribute("aria-describedby");
            }, _proto3.writeValue = function(value) {
                this.chips && this._setSelectionByValue(value, !1);
            }, _proto3.registerOnChange = function(fn) {
                this._onChange = fn;
            }, _proto3.registerOnTouched = function(fn) {
                this._onTouched = fn;
            }, _proto3.setDisabledState = function(isDisabled) {
                this.disabled = isDisabled, this.stateChanges.next();
            }, _proto3.onContainerClick = function(event) {
                this._originatesFromChip(event) || this.focus();
            }, _proto3.focus = function(options) {
                this.disabled || this._chipInput && this._chipInput.focused || (this.chips.length > 0 ? (this._keyManager.setFirstItemActive(), 
                this.stateChanges.next()) : (this._focusInput(options), this.stateChanges.next()));
            }, _proto3._focusInput = function(options) {
                this._chipInput && this._chipInput.focus(options);
            }, _proto3._keydown = function(event) {
                var target = event.target;
                target && target.classList.contains("mat-chip") && (this._keyManager.onKeydown(event), 
                this.stateChanges.next());
            }, _proto3._updateTabIndex = function() {
                this._tabIndex = this._userTabIndex || (0 === this.chips.length ? -1 : 0);
            }, _proto3._updateFocusForDestroyedChips = function() {
                if (null != this._lastDestroyedChipIndex) if (this.chips.length) {
                    var newChipIndex = Math.min(this._lastDestroyedChipIndex, this.chips.length - 1);
                    this._keyManager.setActiveItem(newChipIndex);
                } else this.focus();
                this._lastDestroyedChipIndex = null;
            }, _proto3._isValidIndex = function(index) {
                return index >= 0 && index < this.chips.length;
            }, _proto3._setSelectionByValue = function(value, isUserInput) {
                var _this5 = this;
                if (void 0 === isUserInput && (isUserInput = !0), this._clearSelection(), this.chips.forEach(function(chip) {
                    return chip.deselect();
                }), Array.isArray(value)) value.forEach(function(currentValue) {
                    return _this5._selectValue(currentValue, isUserInput);
                }), this._sortValues(); else {
                    var correspondingChip = this._selectValue(value, isUserInput);
                    correspondingChip && isUserInput && this._keyManager.setActiveItem(correspondingChip);
                }
            }, _proto3._selectValue = function(value, isUserInput) {
                var _this6 = this;
                void 0 === isUserInput && (isUserInput = !0);
                var correspondingChip = this.chips.find(function(chip) {
                    return null != chip.value && _this6._compareWith(chip.value, value);
                });
                return correspondingChip && (isUserInput ? correspondingChip.selectViaInteraction() : correspondingChip.select(), 
                this._selectionModel.select(correspondingChip)), correspondingChip;
            }, _proto3._initializeSelection = function() {
                var _this7 = this;
                Promise.resolve().then(function() {
                    (_this7.ngControl || _this7._value) && (_this7._setSelectionByValue(_this7.ngControl ? _this7.ngControl.value : _this7._value, !1), 
                    _this7.stateChanges.next());
                });
            }, _proto3._clearSelection = function(skip) {
                this._selectionModel.clear(), this.chips.forEach(function(chip) {
                    chip !== skip && chip.deselect();
                }), this.stateChanges.next();
            }, _proto3._sortValues = function() {
                var _this8 = this;
                this._multiple && (this._selectionModel.clear(), this.chips.forEach(function(chip) {
                    chip.selected && _this8._selectionModel.select(chip);
                }), this.stateChanges.next());
            }, _proto3._propagateChanges = function(fallbackValue) {
                var valueToEmit;
                valueToEmit = Array.isArray(this.selected) ? this.selected.map(function(chip) {
                    return chip.value;
                }) : this.selected ? this.selected.value : fallbackValue, this._value = valueToEmit, 
                this.change.emit(new MatLegacyChipListChange(this, valueToEmit)), this.valueChange.emit(valueToEmit), 
                this._onChange(valueToEmit), this._changeDetectorRef.markForCheck();
            }, _proto3._blur = function() {
                var _this9 = this;
                this._hasFocusedChip() || this._keyManager.setActiveItem(-1), this.disabled || (this._chipInput ? setTimeout(function() {
                    _this9.focused || _this9._markAsTouched();
                }) : this._markAsTouched());
            }, _proto3._markAsTouched = function() {
                this._onTouched(), this._changeDetectorRef.markForCheck(), this.stateChanges.next();
            }, _proto3._allowFocusEscape = function() {
                var _this10 = this;
                -1 !== this._tabIndex && (this._tabIndex = -1, setTimeout(function() {
                    _this10._tabIndex = _this10._userTabIndex || 0, _this10._changeDetectorRef.markForCheck();
                }));
            }, _proto3._resetChips = function() {
                this._dropSubscriptions(), this._listenToChipsFocus(), this._listenToChipsSelection(), 
                this._listenToChipsRemoved();
            }, _proto3._dropSubscriptions = function() {
                this._chipFocusSubscription && (this._chipFocusSubscription.unsubscribe(), this._chipFocusSubscription = null), 
                this._chipBlurSubscription && (this._chipBlurSubscription.unsubscribe(), this._chipBlurSubscription = null), 
                this._chipSelectionSubscription && (this._chipSelectionSubscription.unsubscribe(), 
                this._chipSelectionSubscription = null), this._chipRemoveSubscription && (this._chipRemoveSubscription.unsubscribe(), 
                this._chipRemoveSubscription = null);
            }, _proto3._listenToChipsSelection = function() {
                var _this11 = this;
                this._chipSelectionSubscription = this.chipSelectionChanges.subscribe(function(event) {
                    event.source.selected ? _this11._selectionModel.select(event.source) : _this11._selectionModel.deselect(event.source), 
                    _this11.multiple || _this11.chips.forEach(function(chip) {
                        !_this11._selectionModel.isSelected(chip) && chip.selected && chip.deselect();
                    }), event.isUserInput && _this11._propagateChanges();
                });
            }, _proto3._listenToChipsFocus = function() {
                var _this12 = this;
                this._chipFocusSubscription = this.chipFocusChanges.subscribe(function(event) {
                    var chipIndex = _this12.chips.toArray().indexOf(event.chip);
                    _this12._isValidIndex(chipIndex) && _this12._keyManager.updateActiveItem(chipIndex), 
                    _this12.stateChanges.next();
                }), this._chipBlurSubscription = this.chipBlurChanges.subscribe(function() {
                    _this12._blur(), _this12.stateChanges.next();
                });
            }, _proto3._listenToChipsRemoved = function() {
                var _this13 = this;
                this._chipRemoveSubscription = this.chipRemoveChanges.subscribe(function(event) {
                    var chip = event.chip, chipIndex = _this13.chips.toArray().indexOf(event.chip);
                    _this13._isValidIndex(chipIndex) && chip._hasFocus && (_this13._lastDestroyedChipIndex = chipIndex);
                });
            }, _proto3._originatesFromChip = function(event) {
                for (var currentElement = event.target; currentElement && currentElement !== this._elementRef.nativeElement; ) {
                    if (currentElement.classList.contains("mat-chip")) return !0;
                    currentElement = currentElement.parentElement;
                }
                return !1;
            }, _proto3._hasFocusedChip = function() {
                return this.chips && this.chips.some(function(chip) {
                    return chip._hasFocus;
                });
            }, _proto3._syncChipsState = function() {
                var _this14 = this;
                this.chips && this.chips.forEach(function(chip) {
                    chip._chipListDisabled = _this14._disabled, chip._chipListMultiple = _this14.multiple, 
                    chip.chipListSelectable = _this14._selectable;
                });
            }, (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_7__.Z)(MatLegacyChipList, [ {
                key: "selected",
                get: function() {
                    var _this$_selectionModel, _this$_selectionModel2;
                    return this.multiple ? (null == (_this$_selectionModel = this._selectionModel) ? void 0 : _this$_selectionModel.selected) || [] : null == (_this$_selectionModel2 = this._selectionModel) ? void 0 : _this$_selectionModel2.selected[0];
                }
            }, {
                key: "role",
                get: function() {
                    return this._explicitRole ? this._explicitRole : this.empty ? null : "listbox";
                },
                set: function(role) {
                    this._explicitRole = role;
                }
            }, {
                key: "multiple",
                get: function() {
                    return this._multiple;
                },
                set: function(value) {
                    this._multiple = (0, _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_8__.Ig)(value), 
                    this._syncChipsState();
                }
            }, {
                key: "compareWith",
                get: function() {
                    return this._compareWith;
                },
                set: function(fn) {
                    this._compareWith = fn, this._selectionModel && this._initializeSelection();
                }
            }, {
                key: "value",
                get: function() {
                    return this._value;
                },
                set: function(value) {
                    this.writeValue(value), this._value = value;
                }
            }, {
                key: "id",
                get: function() {
                    return this._chipInput ? this._chipInput.id : this._uid;
                }
            }, {
                key: "required",
                get: function() {
                    var _ref, _this$_required, _this$ngControl;
                    return null != (_ref = null != (_this$_required = this._required) ? _this$_required : null == (_this$ngControl = this.ngControl) || null == (_this$ngControl = _this$ngControl.control) ? void 0 : _this$ngControl.hasValidator(_angular_forms__WEBPACK_IMPORTED_MODULE_15__.kI.required)) && _ref;
                },
                set: function(value) {
                    this._required = (0, _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_8__.Ig)(value), 
                    this.stateChanges.next();
                }
            }, {
                key: "placeholder",
                get: function() {
                    return this._chipInput ? this._chipInput.placeholder : this._placeholder;
                },
                set: function(value) {
                    this._placeholder = value, this.stateChanges.next();
                }
            }, {
                key: "focused",
                get: function() {
                    return this._chipInput && this._chipInput.focused || this._hasFocusedChip();
                }
            }, {
                key: "empty",
                get: function() {
                    return (!this._chipInput || this._chipInput.empty) && (!this.chips || 0 === this.chips.length);
                }
            }, {
                key: "shouldLabelFloat",
                get: function() {
                    return !this.empty || this.focused;
                }
            }, {
                key: "disabled",
                get: function() {
                    return this.ngControl ? !!this.ngControl.disabled : this._disabled;
                },
                set: function(value) {
                    this._disabled = (0, _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_8__.Ig)(value), 
                    this._syncChipsState();
                }
            }, {
                key: "selectable",
                get: function() {
                    return this._selectable;
                },
                set: function(value) {
                    this._selectable = (0, _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_8__.Ig)(value), 
                    this._syncChipsState();
                }
            }, {
                key: "tabIndex",
                set: function(value) {
                    this._userTabIndex = value, this._tabIndex = value;
                }
            }, {
                key: "chipSelectionChanges",
                get: function() {
                    return rxjs__WEBPACK_IMPORTED_MODULE_16__.T.apply(void 0, this.chips.map(function(chip) {
                        return chip.selectionChange;
                    }));
                }
            }, {
                key: "chipFocusChanges",
                get: function() {
                    return rxjs__WEBPACK_IMPORTED_MODULE_16__.T.apply(void 0, this.chips.map(function(chip) {
                        return chip._onFocus;
                    }));
                }
            }, {
                key: "chipBlurChanges",
                get: function() {
                    return rxjs__WEBPACK_IMPORTED_MODULE_16__.T.apply(void 0, this.chips.map(function(chip) {
                        return chip._onBlur;
                    }));
                }
            }, {
                key: "chipRemoveChanges",
                get: function() {
                    return rxjs__WEBPACK_IMPORTED_MODULE_16__.T.apply(void 0, this.chips.map(function(chip) {
                        return chip.destroyed;
                    }));
                }
            } ]), MatLegacyChipList;
        }(_MatChipListBase);
        (_MatLegacyChipList = MatLegacyChipList).\u0275fac = function(t) {
            return new (t || _MatLegacyChipList)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_cdk_bidi__WEBPACK_IMPORTED_MODULE_17__.Is, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_15__.F, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_15__.sg, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_1__.rD), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_15__.a5, 10));
        }, _MatLegacyChipList.\u0275cmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineComponent"]({
            type: _MatLegacyChipList,
            selectors: [ [ "mat-chip-list" ] ],
            contentQueries: function(rf, ctx, dirIndex) {
                var _t;
                1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275contentQuery"](dirIndex, MatLegacyChip, 5), 
                2 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275queryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275loadQuery"]()) && (ctx.chips = _t);
            },
            hostAttrs: [ "ngSkipHydration", "", 1, "mat-chip-list" ],
            hostVars: 14,
            hostBindings: function(rf, ctx) {
                1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("focus", function() {
                    return ctx.focus();
                })("blur", function() {
                    return ctx._blur();
                })("keydown", function($event) {
                    return ctx._keydown($event);
                }), 2 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275hostProperty"]("id", ctx._uid), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("tabindex", ctx.disabled ? null : ctx._tabIndex)("aria-required", ctx.role ? ctx.required : null)("aria-disabled", ctx.disabled.toString())("aria-invalid", ctx.errorState)("aria-multiselectable", ctx.multiple)("role", ctx.role)("aria-orientation", ctx.ariaOrientation), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275classProp"]("mat-chip-list-disabled", ctx.disabled)("mat-chip-list-invalid", ctx.errorState)("mat-chip-list-required", ctx.required));
            },
            inputs: {
                role: "role",
                userAriaDescribedBy: [ "aria-describedby", "userAriaDescribedBy" ],
                errorStateMatcher: "errorStateMatcher",
                multiple: "multiple",
                compareWith: "compareWith",
                value: "value",
                required: "required",
                placeholder: "placeholder",
                disabled: "disabled",
                ariaOrientation: [ "aria-orientation", "ariaOrientation" ],
                selectable: "selectable",
                tabIndex: "tabIndex"
            },
            outputs: {
                change: "change",
                valueChange: "valueChange"
            },
            exportAs: [ "matChipList" ],
            features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275ProvidersFeature"]([ {
                provide: _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_18__.Eo,
                useExisting: _MatLegacyChipList
            } ]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275InheritDefinitionFeature"] ],
            ngContentSelectors: [ "*" ],
            decls: 2,
            vars: 0,
            consts: [ [ 1, "mat-chip-list-wrapper" ] ],
            template: function(rf, ctx) {
                1 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275projectionDef"](), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementStart"](0, "div", 0), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275projection"](1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275elementEnd"]());
            },
            styles: [ '.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-chip::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip._mat-animation-noopable{transition:none !important;animation:none !important}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}' ],
            encapsulation: 2,
            changeDetection: 0
        });
        var nextUniqueId = 0, MatLegacyChipInput = function() {
            function MatLegacyChipInput(_elementRef, defaultOptions) {
                this._elementRef = _elementRef, this.focused = !1, this._addOnBlur = !1, this.chipEnd = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter, 
                this.placeholder = "", this.id = "mat-chip-list-input-" + nextUniqueId++, this._disabled = !1, 
                this.inputElement = this._elementRef.nativeElement, this.separatorKeyCodes = defaultOptions.separatorKeyCodes;
            }
            var _proto4 = MatLegacyChipInput.prototype;
            return _proto4.ngOnChanges = function() {
                this._chipList.stateChanges.next();
            }, _proto4.ngOnDestroy = function() {
                this.chipEnd.complete();
            }, _proto4.ngAfterContentInit = function() {
                this._focusLastChipOnBackspace = this.empty;
            }, _proto4._keydown = function(event) {
                if (event) {
                    if (event.keyCode !== _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_5__.Mf || (0, 
                    _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_5__.Vb)(event, "shiftKey") || this._chipList._allowFocusEscape(), 
                    event.keyCode === _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_5__.ZH && this._focusLastChipOnBackspace) return this._chipList._keyManager.setLastItemActive(), 
                    void event.preventDefault();
                    this._focusLastChipOnBackspace = !1;
                }
                this._emitChipEnd(event);
            }, _proto4._keyup = function(event) {
                !this._focusLastChipOnBackspace && event.keyCode === _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_5__.ZH && this.empty && (this._focusLastChipOnBackspace = !0, 
                event.preventDefault());
            }, _proto4._blur = function() {
                this.addOnBlur && this._emitChipEnd(), this.focused = !1, this._chipList.focused || this._chipList._blur(), 
                this._chipList.stateChanges.next();
            }, _proto4._focus = function() {
                this.focused = !0, this._focusLastChipOnBackspace = this.empty, this._chipList.stateChanges.next();
            }, _proto4._emitChipEnd = function(event) {
                !this.inputElement.value && event && this._chipList._keydown(event), event && !this._isSeparatorKey(event) || (this.chipEnd.emit({
                    input: this.inputElement,
                    value: this.inputElement.value,
                    chipInput: this
                }), null == event || event.preventDefault());
            }, _proto4._onInput = function() {
                this._chipList.stateChanges.next();
            }, _proto4.focus = function(options) {
                this.inputElement.focus(options);
            }, _proto4.clear = function() {
                this.inputElement.value = "", this._focusLastChipOnBackspace = !0;
            }, _proto4._isSeparatorKey = function(event) {
                return !(0, _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_5__.Vb)(event) && new Set(this.separatorKeyCodes).has(event.keyCode);
            }, (0, C_w_1_s_node_modules_pnpm_babel_runtime_7_14_8_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_7__.Z)(MatLegacyChipInput, [ {
                key: "chipList",
                set: function(value) {
                    value && (this._chipList = value, this._chipList.registerInput(this));
                }
            }, {
                key: "addOnBlur",
                get: function() {
                    return this._addOnBlur;
                },
                set: function(value) {
                    this._addOnBlur = (0, _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_8__.Ig)(value);
                }
            }, {
                key: "disabled",
                get: function() {
                    return this._disabled || this._chipList && this._chipList.disabled;
                },
                set: function(value) {
                    this._disabled = (0, _angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_8__.Ig)(value);
                }
            }, {
                key: "empty",
                get: function() {
                    return !this.inputElement.value;
                }
            } ]), MatLegacyChipInput;
        }();
        (_MatLegacyChipInput = MatLegacyChipInput).\u0275fac = function(t) {
            return new (t || _MatLegacyChipInput)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](MAT_LEGACY_CHIPS_DEFAULT_OPTIONS));
        }, _MatLegacyChipInput.\u0275dir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({
            type: _MatLegacyChipInput,
            selectors: [ [ "input", "matChipInputFor", "" ] ],
            hostAttrs: [ 1, "mat-chip-input", "mat-input-element" ],
            hostVars: 5,
            hostBindings: function(rf, ctx) {
                1 & rf && _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275listener"]("keydown", function($event) {
                    return ctx._keydown($event);
                })("keyup", function($event) {
                    return ctx._keyup($event);
                })("blur", function() {
                    return ctx._blur();
                })("focus", function() {
                    return ctx._focus();
                })("input", function() {
                    return ctx._onInput();
                }), 2 & rf && (_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275hostProperty"]("id", ctx.id), 
                _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275attribute"]("disabled", ctx.disabled || null)("placeholder", ctx.placeholder || null)("aria-invalid", ctx._chipList && ctx._chipList.ngControl ? ctx._chipList.ngControl.invalid : null)("aria-required", ctx._chipList && ctx._chipList.required || null));
            },
            inputs: {
                chipList: [ "matChipInputFor", "chipList" ],
                addOnBlur: [ "matChipInputAddOnBlur", "addOnBlur" ],
                separatorKeyCodes: [ "matChipInputSeparatorKeyCodes", "separatorKeyCodes" ],
                placeholder: "placeholder",
                id: "id",
                disabled: "disabled"
            },
            outputs: {
                chipEnd: "matChipInputTokenEnd"
            },
            exportAs: [ "matChipInput", "matChipInputFor" ],
            features: [ _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275NgOnChangesFeature"] ]
        });
        var MatLegacyChipsModule = function() {};
        (_MatLegacyChipsModule = MatLegacyChipsModule).\u0275fac = function(t) {
            return new (t || _MatLegacyChipsModule);
        }, _MatLegacyChipsModule.\u0275mod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineNgModule"]({
            type: _MatLegacyChipsModule
        }), _MatLegacyChipsModule.\u0275inj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineInjector"]({
            providers: [ _angular_material_core__WEBPACK_IMPORTED_MODULE_1__.rD, {
                provide: MAT_LEGACY_CHIPS_DEFAULT_OPTIONS,
                useValue: {
                    separatorKeyCodes: [ _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_5__.K5 ]
                }
            } ],
            imports: [ _angular_material_core__WEBPACK_IMPORTED_MODULE_1__.BQ ]
        });
    }
} ]);