"use strict";(self.webpackChunkdesktopModelView=self.webpackChunkdesktopModelView||[]).push([["workspace-settings"],{2552:function(pt,De,v){v.d(De,{Ug:function(){return Te},su:function(){return de},ce:function(){return V},Kl:function(){return f},i:function(){return se},bE:function(){return Se},xU:function(){return Ze},aw:function(){return Pe},Zt:function(){return me},P9:function(){return Xe},mK:function(){return Ke},ZH:function(){return ze},WV:function(){return Z},nD:function(){return Ee},Jv:function(){return Be},h_:function(){return qe}});var g=v(60225),p=v(37419),ce=v(47875);function C(y){return void 0===y&&(y=-1),function(O){return O.lift(new J(y,O))}}var J=function(){function y(E,B){this.count=E,this.source=B}return y.prototype.call=function(B,P){return P.subscribe(new T(B,this.count,this.source))},y}(),T=function(y){function O(B,P,w){var S;return(S=y.call(this,B)||this).count=P,S.source=w,S}return(0,p.Z)(O,y),O.prototype.error=function(P){if(!this.isStopped){var w=this.source,S=this.count;if(0===S)return y.prototype.error.call(this,P);S>-1&&(this.count=S-1),w.subscribe(this._unsubscribeAndRecycle())}},O}(ce.L),X=v(14172),e=v(59822),j=v(68698),N=v(50423),x=function(){function y(O){this.httpService=O}return y.prototype.getData=function(O){var E=this.createNoRetriesRequestOptions();return this.httpService.get(O,E).pipe(C(0),(0,X.U)(function(B){return B.data}))},y.prototype.postData=function(O,E){var B=this.createNoRetriesRequestOptions();return this.httpService.post(O,E,B).pipe(this.retryWithTransform(),(0,X.U)(function(P){return P.data}))},y.prototype.deleteData=function(O){var E=this.createNoRetriesRequestOptions();return this.httpService.delete(O,E).pipe(C(0),(0,X.U)(function(B){return B.data}))},y.prototype.createNoRetriesRequestOptions=function(){var O=this.httpService.powerbiRequestOptions();return O.disableRetriesOnServerError=!0,O.retryCount=0,O.signInOnConditionalAccessErrors=!1,O},y.prototype.retryWithTransform=function(){return function(O){return O.pipe(C(0),(0,e.K)(function(E){return(0,g._)(E)}),(0,X.U)(function(E){return{data:E.data}}))}},y.\u0275fac=function(E){return new(E||y)(N.\u0275\u0275inject(j.s))},y.\u0275prov=N.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y}(),de=function(){function y(O){this.httpUtils=O}return y.prototype.branchOut=function(O,E){return this.httpUtils.postData("metadata/git/workspaces/".concat(O,"/branchOut"),E)},y.\u0275fac=function(E){return new(E||y)(N.\u0275\u0275inject(x))},y.\u0275prov=N.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),ae=v(81337),V=function(){function y(O){this.httpUtils=O}return y.prototype.commitArtifacts=function(O,E){return this.httpUtils.postData("metadata/git/workspaces/".concat(O,"/commitToGit?skipHeadValidation=true"),E).pipe((0,X.U)(function(B){return(0,ae.__assign)((0,ae.__assign)({},B),{responseDate:new Date(Date.now())})}))},y.\u0275fac=function(E){return new(E||y)(N.\u0275\u0275inject(x))},y.\u0275prov=N.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),f=function(){function y(O){this.httpUtils=O}return y.prototype.postConfigureCredentials=function(O,E){return this.httpUtils.postData("/metadata/git/workspaces/".concat(O,"/configureCredentials"),E)},y.prototype.deleteConfiguredCredentials=function(O){return this.httpUtils.deleteData("/metadata/git/workspaces/".concat(O,"/configureCredentials"))},y.\u0275fac=function(E){return new(E||y)(N.\u0275\u0275inject(x))},y.\u0275prov=N.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y}(),se=function(){function y(O){this.httpUtils=O}return y.prototype.getGitConnectionDetails=function(O){return this.httpUtils.getData("/metadata/git/workspaces/".concat(O,"/connection"))},y.prototype.setGitConnectionDetails=function(O,E){return this.httpUtils.postData("/metadata/git/workspaces/".concat(O,"/connection"),E)},y.prototype.checkoutBranch=function(O,E){return this.httpUtils.postData("/metadata/git/workspaces/".concat(O,"/checkoutBranch"),E)},y.prototype.deleteGitConnectionDetails=function(O){return this.httpUtils.deleteData("/metadata/git/workspaces/".concat(O,"/connection"))},y.\u0275fac=function(E){return new(E||y)(N.\u0275\u0275inject(x))},y.\u0275prov=N.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),we=v(18016),Se=function(){function y(O){this.httpUtils=O}return y.prototype.getOrganizations=function(O,E){return this.httpUtils.getData("/metadata/git/organizations?gitProviderType=".concat(we.IS[O],"&workspaceId=").concat(E))},y.prototype.getProjects=function(O,E,B){return this.httpUtils.getData("/metadata/git/projects?gitProviderType=".concat(we.IS[O],"&organizationName=").concat(E,"&workspaceId=").concat(B))},y.prototype.getRepositories=function(O,E,B,P){return this.httpUtils.getData("/metadata/git/repositories?gitProviderType=".concat(we.IS[O],"&organizationName=").concat(E,"&projectName=").concat(B,"&workspaceId=").concat(P))},y.prototype.getBranches=function(O,E,B,P,w,S){var $="/metadata/git/branches?workspaceId=".concat(O,"&gitProviderType=").concat(we.IS[E],"&organizationName=").concat(B,"&repositoryName=").concat(P);return w&&($+="&projectName=".concat(w)),S&&($+="&datasourceOID=".concat(S)),this.httpUtils.getData($)},y.prototype.createBranch=function(O){return this.httpUtils.postData("/metadata/git/branches",O)},y.prototype.createDirectory=function(O){return this.httpUtils.postData("/metadata/git/directory",O)},y.prototype.getRelatedWorkspaces=function(O){return this.httpUtils.getData("/metadata/git/workspaces/".concat(O,"/relatedWorkspaces"))},y.\u0275fac=function(E){return new(E||y)(N.\u0275\u0275inject(x))},y.\u0275prov=N.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y}(),Pe=function(){function y(O){this.httpUtils=O}return y.prototype.createDatasource=function(O){return this.httpUtils.postData("/v2.0/myorg/me/gatewayClusterCloudDatasource",O)},y.prototype.discoverDatasources=function(){return this.httpUtils.postData("/v2.0/myorg/me/gatewayClusterDatasources",{datasourceTypes:["Extension"]})},y.prototype.getDatasource=function(O){var E="/v2.0/myorg/me/gatewayClusterDatasources/".concat(O);return this.httpUtils.getData(E)},y.\u0275fac=function(E){return new(E||y)(N.\u0275\u0275inject(x))},y.\u0275prov=N.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y}(),me=function(){function y(O){this.httpUtils=O}return y.prototype.initializeGitConnection=function(O,E){return this.httpUtils.postData("/metadata/git/workspaces/".concat(O,"/connection/initialize"),E)},y.\u0275fac=function(E){return new(E||y)(N.\u0275\u0275inject(x))},y.\u0275prov=N.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),Ke=function(){function y(O){this.httpUtils=O}return y.prototype.getUncommittedChanges=function(O){return this.getData(O,"uncommittedChanges")},y.prototype.getIncomingChanges=function(O){return this.getData(O,"incomingChanges")},y.prototype.getGitStatus=function(O){return this.getData(O,"gitStatus")},y.prototype.getData=function(O,E){var B="metadata/git/workspaces/".concat(O,"/").concat(E);return this.httpUtils.getData(B)},y.\u0275fac=function(E){return new(E||y)(N.\u0275\u0275inject(x))},y.\u0275prov=N.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),Z=function(){function y(O){this.httpUtils=O}return y.prototype.getlatestGitOperation=function(O){return this.httpUtils.getData("metadata/git/workspaces/".concat(O,"/latestGitOperationV2"))},y.\u0275fac=function(E){return new(E||y)(N.\u0275\u0275inject(x))},y.\u0275prov=N.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),ze=function(){function y(O){this.httpUtils=O}return y.prototype.switchBranch=function(O,E){return this.httpUtils.postData("/metadata/git/workspaces/".concat(O,"/switchBranch"),E)},y.\u0275fac=function(E){return new(E||y)(N.\u0275\u0275inject(x))},y.\u0275prov=N.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),Ee=function(){function y(O){this.httpUtils=O}return y.prototype.undoCommitArtifacts=function(O,E){return this.httpUtils.postData("metadata/git/workspaces/".concat(O,"/undo"),E)},y.\u0275fac=function(E){return new(E||y)(N.\u0275\u0275inject(x))},y.\u0275prov=N.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),Be=function(){function y(O){this.httpUtils=O}return y.prototype.UpdateArtifactsFromGit=function(O,E){return this.httpUtils.postData("metadata/git/workspaces/".concat(O,"/updateFromGit"),E).pipe((0,X.U)(function(B){return(0,ae.__assign)((0,ae.__assign)({},B),{responseDate:new Date(Date.now())})}))},y.\u0275fac=function(E){return new(E||y)(N.\u0275\u0275inject(x))},y.\u0275prov=N.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),Xe=function(){function y(O){this.httpUtils=O}return y.prototype.gitRepairItems=function(O,E){return this.httpUtils.postData("metadata/git/workspaces/".concat(O,"/repairGitItems"),E).pipe((0,X.U)(function(B){return(0,ae.__assign)({},B)}))},y.\u0275fac=function(E){return new(E||y)(N.\u0275\u0275inject(x))},y.\u0275prov=N.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}();function qe(y){return y&&"string"==typeof y.extensionDataSourceKind&&"string"==typeof y.extensionDataSourcePath}var Ze=function(y){return y[y.Undefined=0]="Undefined",y[y.Completed=1]="Completed",y[y.UpdateFromGitRequired=2]="UpdateFromGitRequired",y[y.CommitToGitRequired=3]="CommitToGitRequired",y[y.Failed=100]="Failed",y}({}),ye=v(77476),Te=function(){function y(){}return y.forRoot=function(){return{ngModule:y,providers:[]}},y.\u0275fac=function(E){return new(E||y)},y.\u0275mod=N.\u0275\u0275defineNgModule({type:y}),y.\u0275inj=N.\u0275\u0275defineInjector({providers:[de,V,f,se,Se,Pe,x,me,Ke,Z,ze,Ee,Be,Xe],imports:[ye.CommonModule]}),y}()},70628:function(pt,De,v){v.d(De,{CmZ:function(){return me},DAQ:function(){return ki},j3q:function(){return qe},f$Z:function(){return ui},iAv:function(){return _a},REK:function(){return Pi},gCl:function(){return Pr},F8e:function(){return jt},pPx:function(){return to},CCT:function(){return wr},Gui:function(){return Se},ND3:function(){return Be},x6e:function(){return T},V_q:function(){return rt}});var g=v(60756),p=v(85732),ce=v(2552),C=v(81337),J=v(8894),T=(0,p.PH)("[GitStatus] Load Uncommitted Changes",(0,p.Ky)()),X=(0,p.PH)("[GitStatus] Load Uncommitted Changes Success",(0,p.Ky)()),e=(0,p.PH)("[GitStatus] Load Uncommitted Changes Failure",(0,p.Ky)()),j=(0,p.PH)("[GitStatus] Load Incoming Changes",(0,p.Ky)()),N=(0,p.PH)("[GitStatus] Load Incoming Changes Success",(0,p.Ky)()),x=(0,p.PH)("[GitStatus] Load Incoming Changes Failure",(0,p.Ky)()),de=(0,p.PH)("[GitStatus] set selection of artifact in changes tab",(0,p.Ky)()),ae=(0,p.PH)("[GitStatus] clear selection of artifact in changes tab",(0,p.Ky)()),V=(0,p.PH)("[GitConnection] Invalidate Git status",(0,p.Ky)()),f=(0,p.PH)("[GitStatus] Load Git Status",(0,p.Ky)()),se=(0,p.PH)("[GitStatus] Load Git Status Success",(0,p.Ky)()),we=(0,p.PH)("[GitStatus] Load Git Status Failure",(0,p.Ky)()),Se=function(s){return s[s.Initial=0]="Initial",s[s.Loading=1]="Loading",s[s.Loaded=2]="Loaded",s}({}),me=function(s){return s[s.Initial=0]="Initial",s[s.InProgress=1]="InProgress",s[s.Completed=2]="Completed",s}({}),Ke=function(s){return s[s.Initial=0]="Initial",s[s.Committing=1]="Committing",s[s.Committed=2]="Committed",s}({}),Z=function(s){return s[s.Initial=0]="Initial",s[s.Undoing=1]="Undoing",s[s.Undone=2]="Undone",s}({}),ze=function(s){return s[s.Initial=0]="Initial",s[s.Updating=1]="Updating",s[s.Updated=2]="Updated",s}({}),Ee=function(s){return s[s.None=0]="None",s[s.CommitFlowInProgress=1]="CommitFlowInProgress",s[s.CommitInitialFlowInProgress=2]="CommitInitialFlowInProgress",s[s.UpdateFlowInProgress=3]="UpdateFlowInProgress",s[s.UpdateInitialFlowInProgress=4]="UpdateInitialFlowInProgress",s[s.UndoFlowInProgress=5]="UndoFlowInProgress",s[s.CheckoutBranchFlowInProgress=6]="CheckoutBranchFlowInProgress",s[s.SwitchBranchFlowInProgress=7]="SwitchBranchFlowInProgress",s}({}),Be=function(s){return s[s.Initial=0]="Initial",s[s.InProgress=1]="InProgress",s[s.Completed=2]="Completed",s}({}),Xe=function(s){return s[s.Initial=0]="Initial",s[s.InProgress=1]="InProgress",s[s.Completed=2]="Completed",s}({}),qe=function(s){return s[s.Initial=0]="Initial",s[s.InProgress=1]="InProgress",s[s.Completed=2]="Completed",s}({}),Ze=function(s){return s[s.Initial=0]="Initial",s[s.InProgress=1]="InProgress",s[s.Completed=2]="Completed",s}({}),Te=(0,J.H)({selectId:function(c){return c.workspaceId}}),ge=(0,C.__assign)({},Te.getInitialState()),y=(0,p.Lq)(ge,(0,p.on)(f,function(s,c){return Te.upsertOne({workspaceId:c.workspaceId,statusCallState:Se.Loading},s)}),(0,p.on)(se,function(s,c){return Te.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitStatus),{statusCallState:Se.Loaded}),s)}),(0,p.on)(we,function(s,c){return Te.upsertOne({workspaceId:c.workspaceId,statusCallState:c.error},s)}),(0,p.on)(T,function(s,c){return Te.upsertOne({workspaceId:c.workspaceId,uncommittedChangesCallState:Se.Loading},s)}),(0,p.on)(X,function(s,c){var d,u,k,M,A,R=c.gitStatus;return Te.upsertOne({workspaceId:R.workspaceId,head:R.head,gitChanges:(0,C.__spreadArray)((0,C.__spreadArray)([],null!==(k=null===(u=null===(d=s.entities[R.workspaceId])||void 0===d?void 0:d.gitChanges)||void 0===u?void 0:u.filter(function(G){return G.remoteChange}))&&void 0!==k?k:[],!0),null!==(M=R?.gitChanges)&&void 0!==M?M:[],!0),incomingChangesCommitHash:null===(A=s.entities[R.workspaceId])||void 0===A?void 0:A.incomingChangesCommitHash,uncommittedChangesCallState:Se.Loaded},s)}),(0,p.on)(e,function(s,c){return Te.upsertOne({workspaceId:c.workspaceId,uncommittedChangesCallState:c.error},s)}),(0,p.on)(j,function(s,c){return Te.upsertOne({workspaceId:c.workspaceId,incomingChangesCallState:Se.Loading},s)}),(0,p.on)(N,function(s,c){var d,u,k,M,A=c.gitStatus;return Te.upsertOne({workspaceId:A.workspaceId,head:A.head,gitChanges:(0,C.__spreadArray)((0,C.__spreadArray)([],null!==(k=null===(u=null===(d=s.entities[A.workspaceId])||void 0===d?void 0:d.gitChanges)||void 0===u?void 0:u.filter(function(R){return R.workspaceChange}))&&void 0!==k?k:[],!0),null!==(M=A?.gitChanges)&&void 0!==M?M:[],!0),incomingChangesCommitHash:A.incomingChangesCommitHash,incomingChangesCallState:Se.Loaded},s)}),(0,p.on)(x,function(s,c){return Te.upsertOne({workspaceId:c.workspaceId,incomingChangesCallState:c.error},s)}),(0,p.on)(de,function(s,c){var d,u,k=c.workspaceId,M=c.artifactId,A=c.logicalId,G=(null===(u=null===(d=s.entities[k])||void 0===d?void 0:d.uncommittedChangesArtifactSelectionState)||void 0===u?void 0:u.selectedArtifacts)||[],L=c.isChecked?G.concat({artifactId:M,logicalId:A}):G.filter(function(U){return U.artifactId!==M||U.logicalId!==A});return Te.upsertOne({workspaceId:k,uncommittedChangesArtifactSelectionState:{selectedArtifacts:L}},s)}),(0,p.on)(ae,function(s,c){return Te.updateOne({id:c.workspaceId,changes:{uncommittedChangesArtifactSelectionState:{selectedArtifacts:[]}}},s)}),(0,p.on)(V,function(s,c){return Te.removeOne(c.workspaceId,s)})),E=v(18016),B=(0,p.PH)("[GitConnection] Initialize Git connection",(0,p.Ky)()),P=(0,p.PH)("[GitConnection] Initialize Git connection success",(0,p.Ky)()),w=(0,p.PH)("[GitConnection] Initialize Git connection failure",(0,p.Ky)()),S=(0,p.PH)("[GitConnection] Invalidate Git connection initialization",(0,p.Ky)()),$=(0,p.PH)("[GitConnection] Load Git Connection",(0,p.Ky)()),H=(0,p.PH)("[GitConnection] Load Git Connection Success",(0,p.Ky)()),_e=(0,p.PH)("[GitConnection] Load Git Connection Failure",(0,p.Ky)()),Ce=(0,p.PH)("[GitConnection] Ensure Git Connection",(0,p.Ky)()),Ie=(0,p.PH)("[GitConnection] Save Git Connection",(0,p.Ky)()),xe=(0,p.PH)("[GitConnection] Save Git Connection Success",(0,p.Ky)()),it=(0,p.PH)("[GitConnection] Save Git Connection Failure",(0,p.Ky)()),ft=(0,p.PH)("[GitConnection] Delete Git Connection",(0,p.Ky)()),D=(0,p.PH)("[GitConnection] Delete Git Connection Success",(0,p.Ky)()),le=(0,p.PH)("[GitConnection] Delete Git Connection Failure",(0,p.Ky)()),Oe=(0,p.PH)("[GitConnection] Git Checkout Branch",(0,p.Ky)()),Ae=(0,p.PH)("[GitConnection] Git Checkout Branch Success",(0,p.Ky)()),Ct=(0,p.PH)("[GitConnection] Git Checkout Branch Failure",(0,p.Ky)()),rt=(0,p.PH)("[GitConnection] Update datasource in GitConnection",(0,p.Ky)()),st=(0,p.PH)("[GitSync] Get latest git alm operation",(0,p.Ky)()),tt=(0,p.PH)("[GitSync] Get latest git alm operation Success",(0,p.Ky)()),mt=(0,p.PH)("[GitSync] Get latest git alm operation Failure",(0,p.Ky)()),Qe=(0,p.PH)("[GitConnection] Invalidate Git sync",(0,p.Ky)()),ut=(0,p.PH)("[GitSwitchBranch] Git Switch Branch",(0,p.Ky)()),vt=(0,p.PH)("[GitSwitchBranch] Git Switch Branch Success",(0,p.Ky)()),ke=(0,p.PH)("[GitSwitchBranch] Git Switch Branch In Progress",(0,p.Ky)()),pe=(0,p.PH)("[GitSwitchBranch] Git Switch Branch Failure server error",(0,p.Ky)()),Ge=(0,p.PH)("[GitSwitchBranch] Git Switch Branch Failure",(0,p.Ky)()),Je=(0,p.PH)("[GitBranchOut] Branch Out",(0,p.Ky)()),It=(0,p.PH)("[GitBranchOut] Branch Out success",(0,p.Ky)()),St=(0,p.PH)("[GitBranchOut] Branch Out failure",(0,p.Ky)()),ct=(0,p.PH)("[GitBranchOut] Branch Out requires to sync folder into store",(0,p.Ky)()),bn=(0,p.PH)("[GitBranchOut] Branch Out completed",(0,p.Ky)()),wn=(0,p.PH)("[GitBranchOut] Branch Out requires to sync folder into store without update",(0,p.Ky)()),kn=(0,p.PH)("[GitBranchOut] Branch Out store invalidate",(0,p.Ky)()),ot=(0,J.H)({selectId:function(c){return c.workspaceId}}),In=(0,C.__assign)({},ot.getInitialState()),$i=(0,p.Lq)(In,(0,p.on)($,ft,function(s,c){return ot.upsertOne({workspaceId:c.workspaceId,callState:me.InProgress},s)}),(0,p.on)(Ie,function(s,c){return ot.upsertOne({workspaceId:c.gitConnection.workspaceId,callState:me.InProgress},s)}),(0,p.on)(Oe,function(s,c){return ot.upsertOne({workspaceId:c.gitCheckoutBranchState.workspaceId,callState:me.InProgress},s)}),(0,p.on)(H,xe,function(s,c){return ot.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitConnection),{callState:me.Completed}),s)}),(0,p.on)(Ae,function(s,c){var d,u=c.gitCheckoutBranchState,k=u.workspaceId,M=null===(d=s.entities[k])||void 0===d?void 0:d.gitConnectionDetails;return ot.updateOne({id:k,changes:{gitConnectionDetails:(0,C.__assign)((0,C.__assign)({},M),{branchName:u.request.branchName}),callState:me.Completed}},s)}),(0,p.on)(ke,function(s,c){var d,u=c.gitSwitchBranchState,k=u.workspaceId;return void 0!==(null===(d=u?.request)||void 0===d?void 0:d.targetBranchName)?function(s,c,d){var u,k=null===(u=s.entities[c])||void 0===u?void 0:u.gitConnectionDetails;return ot.updateOne({id:c,changes:{gitConnectionDetails:(0,C.__assign)((0,C.__assign)({},k),{branchName:d}),callState:me.Completed}},s)}(s,k,u.request.targetBranchName):s}),(0,p.on)(rt,function(s,c){var d,u=c.workspaceId,k=c.datasourceOID,M=null===(d=s.entities[u])||void 0===d?void 0:d.gitConnectionDetails;return ot.updateOne({id:u,changes:{gitConnectionDetails:(0,C.__assign)((0,C.__assign)({},M),{datasourceOID:k}),callState:me.Completed}},s)}),(0,p.on)(D,function(s,c){return ot.removeOne(c.workspaceId,s)}),(0,p.on)(_e,le,Ct,function(s,c){return ot.updateOne({id:c.workspaceId,changes:{callState:c.error}},s)}),(0,p.on)(it,function(s,c){return ot.updateOne({id:c.gitConnection.workspaceId,changes:{callState:c.error}},s)}),(0,p.on)(P,function(s,c){var d,u,k=c.gitInitializationStateWithResponse,M=k.workspaceId,A=null===(d=s.entities[M])||void 0===d?void 0:d.gitConnectionDetails;return ot.updateOne({id:M,changes:{gitConnectionDetails:(0,C.__assign)((0,C.__assign)({},A),{isInitialized:!0,head:null===(u=k.response)||void 0===u?void 0:u.head})}},s)}),(0,p.on)(It,function(s,c){var d,u,k,M,A,R,G=c.gitBranchOutState;if(void 0===(null===(d=G.response)||void 0===d?void 0:d.folder))return s;var L=null===(k=null===(u=G.response)||void 0===u?void 0:u.folder)||void 0===k?void 0:k.objectId,K=null===(M=s.entities[G.workspaceId])||void 0===M?void 0:M.gitConnectionDetails,ee=(0,C.__assign)((0,C.__assign)({},K),{head:null===(R=null===(A=G.response)||void 0===A?void 0:A.initializeConnectionStatus)||void 0===R?void 0:R.head,branchName:G.request.targetBranchName});return ot.upsertOne((0,C.__assign)((0,C.__assign)({},ee),{workspaceId:L,callState:me.Completed}),s)}),(0,p.on)(X,N,se,function(s,c){var d,u,k,M=c.gitStatus,A=M.workspaceId,R=null===(d=s.entities[A])||void 0===d?void 0:d.gitConnectionDetails;return M.head&&M.head!==(null===(k=null===(u=s.entities[M.workspaceId])||void 0===u?void 0:u.gitConnectionDetails)||void 0===k?void 0:k.head)?ot.updateOne({id:A,changes:{gitConnectionDetails:(0,C.__assign)((0,C.__assign)({},R),{head:M.head})}},s):s}),(0,p.on)(tt,function(s,c){var d,u,k=c.gitSyncState,M=k.workspaceId,A=null===(d=s.entities[M])||void 0===d?void 0:d.gitConnectionDetails;return k.gitOperationStatus!==E.wM.Successful?s:ot.updateOne({id:M,changes:{gitConnectionDetails:(0,C.__assign)((0,C.__assign)({},A),{lastSyncTime:null===(u=k.lastUpdatedTime)||void 0===u?void 0:u.toString()})}},s)})),xn=(0,p.PH)("[CommitToGit] Commit Changes To Git",(0,p.Ky)()),dn=(0,p.PH)("[CommitToGit] Commit Changes To Git inProgress",(0,p.Ky)()),Vi=(0,p.PH)("[CommitToGit] Commit Changes To Git success",(0,p.Ky)()),Un=(0,p.PH)("[CommitToGit] Commit Changes To Git failure server error ",(0,p.Ky)()),Vn=(0,p.PH)("[CommitToGit] Commit Changes To Git failure ",(0,p.Ky)()),Lt=(0,J.H)({selectId:function(c){return c.workspaceId}}),pn=(0,C.__assign)({},Lt.getInitialState()),ji=(0,p.Lq)(pn,(0,p.on)(xn,function(s,c){return Lt.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitCommitState),{callState:Ke.Committing}),s)}),(0,p.on)(dn,function(s,c){return Lt.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitCommitState),{callState:Ke.Committing}),s)}),(0,p.on)(Vi,function(s,c){return Lt.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitCommitStateWithResponse),{callState:Ke.Committed,notificationId:void 0}),s)}),(0,p.on)(Un,function(s,c){return Lt.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitCommitState),{callState:Ke.Committed,notificationId:void 0}),s)}),(0,p.on)(Vn,function(s,c){var u=c.error;return Lt.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitCommitState),{callState:u,notificationId:void 0}),s)}),(0,p.on)(S,function(s,c){return Lt.removeOne(c.workspaceId,s)})),un=(0,p.PH)("[UpdateFromGit] Update Changes From Git",(0,p.Ky)()),gn=(0,p.PH)("[UpdateFromGit] Update Changes From Git InProgress",(0,p.Ky)()),Nt=(0,p.PH)("[UpdateFromGit] Update Changes From Git success",(0,p.Ky)()),jn=(0,p.PH)("[UpdateFromGit] Update Changes From Git failure ",(0,p.Ky)()),Kn=(0,p.PH)("[UpdateFromGit] Update Changes From Git failure server error",(0,p.Ky)()),Rt=(0,J.H)({selectId:function(c){return c.workspaceId}}),_n=(0,C.__assign)({},Rt.getInitialState()),Ne=(0,p.Lq)(_n,(0,p.on)(un,function(s,c){return Rt.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitUpdateState),{callState:ze.Updating}),s)}),(0,p.on)(gn,function(s,c){return Rt.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitUpdateState),{callState:ze.Updating}),s)}),(0,p.on)(Nt,function(s,c){return Rt.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitUpdateStateWithResponse),{callState:ze.Updated,notificationId:void 0}),s)}),(0,p.on)(Kn,function(s,c){var u=c.error;return Rt.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitUpdateState),{callState:u,notificationId:void 0}),s)}),(0,p.on)(jn,function(s,c){var u=c.error;return Rt.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitUpdateState),{callState:u,notificationId:void 0}),s)}),(0,p.on)(S,function(s,c){return Rt.removeOne(c.workspaceId,s)})),Qt=(0,J.H)({selectId:function(c){return c.workspaceId}}),W=(0,C.__assign)({},Qt.getInitialState()),Wr=(0,p.Lq)(W,(0,p.on)(B,function(s,c){return Qt.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitInitializationState),{callState:me.InProgress}),s)}),(0,p.on)(P,function(s,c){return Qt.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitInitializationStateWithResponse),{callState:me.Completed}),s)}),(0,p.on)(w,function(s,c){var u=c.error;return Qt.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitInitializationState),{callState:u}),s)}),(0,p.on)(S,function(s,c){return Qt.removeOne(c.workspaceId,s)})),gt=(0,J.H)({selectId:function(c){return c.workspaceId}}),F=(0,C.__assign)({},gt.getInitialState()),ve=(0,p.Lq)(F,(0,p.on)(st,function(s,c){return gt.upsertOne({workspaceId:c.workspaceId,isValid:!0,isInitial:!!c.isInitial,callState:me.InProgress},s)}),(0,p.on)(tt,function(s,c){return gt.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitSyncState),{callState:me.Completed}),s)}),(0,p.on)(mt,function(s,c){return gt.updateOne({id:c.workspaceId,changes:{callState:c.error,isValid:!1}},s)}),(0,p.on)(Qe,function(s,c){return gt.removeOne(c.workspaceId,s)})),Mn=(0,p.PH)("[undoFromGit] Undo changes From Git",(0,p.Ky)()),Zt=(0,p.PH)("[undoFromGit] Undo changes From Git inProgress",(0,p.Ky)()),Xn=(0,p.PH)("[undoFromGit] Undo changes From Git success",(0,p.Ky)()),je=(0,p.PH)("[undoFromGit] Undo changes From Git failure server error ",(0,p.Ky)()),en=(0,p.PH)("[undoFromGit] Undo changes From Git failure ",(0,p.Ky)()),$t=(0,J.H)({selectId:function(c){return c.workspaceId}}),Yn=(0,C.__assign)({},$t.getInitialState()),Nr=(0,p.Lq)(Yn,(0,p.on)(Mn,function(s,c){return $t.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitUndoState),{callState:Z.Undoing}),s)}),(0,p.on)(Zt,function(s,c){return $t.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitUndoState),{callState:Z.Undoing}),s)}),(0,p.on)(Xn,function(s,c){return $t.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitUndoStateWithResponse),{callState:Z.Undone,notificationId:void 0}),s)}),(0,p.on)(je,function(s,c){var u=c.error;return $t.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitUndoState),{callState:u,notificationId:void 0}),s)}),(0,p.on)(en,function(s,c){var u=c.error;return $t.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitUndoState),{callState:u,notificationId:void 0}),s)}),(0,p.on)(S,function(s,c){return $t.removeOne(c.workspaceId,s)})),We=function(s){return s[s.None=0]="None",s[s.GitActionStart=1]="GitActionStart",s[s.GitActionInProgress=2]="GitActionInProgress",s[s.GitActionDone=3]="GitActionDone",s[s.GitSyncStart=4]="GitSyncStart",s[s.GitSyncInProgress=5]="GitSyncInProgress",s[s.GitSyncDone=6]="GitSyncDone",s}({}),yt=function(s){return s[s.None=0]="None",s[s.Commit=1]="Commit",s[s.Update=2]="Update",s[s.Undo=3]="Undo",s[s.CheckoutBranch=4]="CheckoutBranch",s[s.SwitchBranch=5]="SwitchBranch",s}({}),$e=(0,J.H)({selectId:function(c){return c.workspaceId}}),Qn=(0,C.__assign)({},$e.getInitialState()),Ur=(0,p.Lq)(Qn,(0,p.on)(xn,function(s,c){return $e.upsertOne({workspaceId:c.gitCommitState.workspaceId,activeFlowName:yt.Commit,progressState:We.GitActionStart,activeFlowState:c.isInitialSync?Ee.CommitInitialFlowInProgress:Ee.CommitFlowInProgress,isIntermidiateStep:!1},s)}),(0,p.on)(dn,function(s,c){var d=c.gitCommitState,u=s.entities[d.workspaceId];return u&&Pn(yt.Commit,u)?$e.upsertOne((0,C.__assign)((0,C.__assign)({},u),{progressState:We.GitActionInProgress}),s):$e.upsertOne({workspaceId:d.workspaceId,activeFlowName:yt.Commit,progressState:We.GitActionInProgress,activeFlowState:Ee.CommitFlowInProgress,isIntermidiateStep:!1},s)}),(0,p.on)(Vi,function(s,c){var u=s.entities[c.gitCommitStateWithResponse.workspaceId];return u?$e.upsertOne((0,C.__assign)((0,C.__assign)({},u),{progressState:We.GitActionDone}),s):s}),(0,p.on)(Vn,Un,function(s,c){var u=s.entities[c.gitCommitState.workspaceId];return u?$e.upsertOne((0,C.__assign)((0,C.__assign)({},u),{activeFlowState:Ee.None,progressState:We.None,isIntermidiateStep:!1}),s):s}),(0,p.on)(Mn,function(s,c){return $e.upsertOne({workspaceId:c.gitUndoState.workspaceId,activeFlowName:yt.Undo,activeFlowState:Ee.UndoFlowInProgress,isIntermidiateStep:!1,progressState:We.GitActionStart},s)}),(0,p.on)(Zt,function(s,c){var d=c.gitUndoState,u=s.entities[d.workspaceId];return u&&Pn(yt.Undo,u)?$e.upsertOne((0,C.__assign)((0,C.__assign)({},u),{progressState:We.GitActionInProgress}),s):$e.upsertOne({workspaceId:d.workspaceId,activeFlowName:yt.Undo,progressState:We.GitActionInProgress,activeFlowState:Ee.UndoFlowInProgress,isIntermidiateStep:!1},s)}),(0,p.on)(Xn,function(s,c){var u=s.entities[c.gitUndoStateWithResponse.workspaceId];return u?$e.upsertOne((0,C.__assign)((0,C.__assign)({},u),{progressState:We.GitActionDone}),s):s}),(0,p.on)(en,je,function(s,c){var u=s.entities[c.gitUndoState.workspaceId];return u?$e.upsertOne((0,C.__assign)((0,C.__assign)({},u),{activeFlowState:Ee.None,progressState:We.None,isIntermidiateStep:!1}),s):s}),(0,p.on)(ut,function(s,c){return $e.upsertOne({workspaceId:c.gitSwitchBranchState.workspaceId,activeFlowName:yt.SwitchBranch,activeFlowState:Ee.SwitchBranchFlowInProgress,isIntermidiateStep:!1,progressState:We.GitActionStart},s)}),(0,p.on)(ke,function(s,c){var d=c.gitSwitchBranchState,u=s.entities[d.workspaceId];return u&&Pn(yt.SwitchBranch,u)?$e.upsertOne((0,C.__assign)((0,C.__assign)({},u),{progressState:We.GitActionInProgress}),s):$e.upsertOne({workspaceId:d.workspaceId,activeFlowName:yt.SwitchBranch,progressState:We.GitActionInProgress,activeFlowState:Ee.SwitchBranchFlowInProgress,isIntermidiateStep:!1},s)}),(0,p.on)(vt,function(s,c){var u=s.entities[c.gitSwitchBranchState.workspaceId];return u?$e.upsertOne((0,C.__assign)((0,C.__assign)({},u),{progressState:We.GitActionDone}),s):s}),(0,p.on)(Ge,pe,function(s,c){var u=s.entities[c.gitSwitchBranchState.workspaceId];return u?$e.upsertOne((0,C.__assign)((0,C.__assign)({},u),{activeFlowState:Ee.None,progressState:We.None,isIntermidiateStep:!1}),s):s}),(0,p.on)(un,function(s,c){return $e.upsertOne({workspaceId:c.gitUpdateState.workspaceId,activeFlowName:yt.Update,activeFlowState:c.isInitialSync?Ee.UpdateInitialFlowInProgress:Ee.UpdateFlowInProgress,isIntermidiateStep:!1,progressState:We.GitActionStart},s)}),(0,p.on)(gn,function(s,c){var d=c.gitUpdateState,u=s.entities[d.workspaceId];return u&&Pn(yt.Update,u)?$e.upsertOne((0,C.__assign)((0,C.__assign)({},u),{progressState:We.GitActionInProgress}),s):$e.upsertOne({workspaceId:d.workspaceId,activeFlowName:yt.Update,progressState:We.GitActionInProgress,activeFlowState:Ee.UpdateFlowInProgress,isIntermidiateStep:!1},s)}),(0,p.on)(Nt,function(s,c){var u=s.entities[c.gitUpdateStateWithResponse.workspaceId];return u?$e.upsertOne((0,C.__assign)((0,C.__assign)({},u),{progressState:We.GitActionDone}),s):s}),(0,p.on)(jn,Kn,function(s,c){var u=s.entities[c.gitUpdateState.workspaceId];return u?$e.upsertOne((0,C.__assign)((0,C.__assign)({},u),{activeFlowState:Ee.None,progressState:We.None,isIntermidiateStep:!1}),s):s}),(0,p.on)(j,T,f,function(s,c){var k=s.entities[c.workspaceId];return c.isTriggeredByGitAction&&k?.progressState===We.GitActionDone?$e.upsertOne((0,C.__assign)((0,C.__assign)({},k),{isIntermidiateStep:!0,progressState:We.GitSyncStart}),s):s}),(0,p.on)(X,N,se,function(s,c){var u=s.entities[c.gitStatus.workspaceId];return u?.isIntermidiateStep&&u?.progressState===We.GitSyncStart?$e.upsertOne((0,C.__assign)((0,C.__assign)({},u),{activeFlowState:Ee.None,progressState:We.GitSyncDone,isIntermidiateStep:!1}),s):s}),(0,p.on)(e,x,we,function(s,c){var u=s.entities[c.workspaceId];return u?.isIntermidiateStep?$e.upsertOne((0,C.__assign)((0,C.__assign)({},u),{progressState:We.None,isIntermidiateStep:!1}),s):s}),(0,p.on)(Oe,function(s,c){return $e.upsertOne({workspaceId:c.gitCheckoutBranchState.workspaceId,activeFlowName:yt.CheckoutBranch,activeFlowState:Ee.CheckoutBranchFlowInProgress,isIntermidiateStep:!1,progressState:We.GitActionStart},s)}),(0,p.on)(Ae,function(s,c){var u=s.entities[c.gitCheckoutBranchState.workspaceId];return u?$e.upsertOne((0,C.__assign)((0,C.__assign)({},u),{progressState:We.GitActionDone}),s):s}),(0,p.on)(Ct,function(s,c){var u=s.entities[c.workspaceId];return u?$e.upsertOne((0,C.__assign)((0,C.__assign)({},u),{activeFlowState:Ee.None,progressState:We.None,isIntermidiateStep:!1}),s):s}));function Pn(s,c){return c.activeFlowName===s&&(c.progressState===We.GitActionStart||c.progressState===We.GitActionInProgress)}var Ut=(0,J.H)({selectId:function(c){return c.workspaceId}}),Zn=(0,C.__assign)({},Ut.getInitialState()),jr=(0,p.Lq)(Zn,(0,p.on)(ut,function(s,c){return Ut.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitSwitchBranchState),{response:void 0,callState:Be.InProgress}),s)}),(0,p.on)(ke,function(s,c){return Ut.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitSwitchBranchState),{callState:Be.InProgress}),s)}),(0,p.on)(vt,function(s,c){var d=c.gitSwitchBranchState;return Ut.upsertOne((0,C.__assign)((0,C.__assign)({},d),{callState:Be.Completed,response:d.response,notificationId:void 0}),s)}),(0,p.on)(pe,function(s,c){return Ut.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitSwitchBranchState),{callState:Be.Completed,notificationId:void 0}),s)}),(0,p.on)(Ge,function(s,c){var u=c.error;return Ut.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitSwitchBranchState),{callState:u,notificationId:void 0}),s)}),(0,p.on)(S,function(s,c){return Ut.removeOne(c.workspaceId,s)})),Jn=(0,p.PH)("[GitSessionStorage] select Git provider type",(0,p.Ky)()),be=(0,p.PH)("[GitSessionStorage] select datasource",(0,p.Ky)()),Ue=(0,p.PH)("[GitSessionStorage] select temp datasource",(0,p.Ky)()),bt=(0,p.PH)("[GitSessionStorage] set datasource url",(0,p.Ky)()),tn=(0,p.PH)("[GitSessionStorage] reset datasource url",(0,p.Ky)()),Tt=(0,p.PH)("[GitSessionStorage] select organization",(0,p.Ky)()),Vt=(0,p.PH)("[GitSessionStorage] select repository",(0,p.Ky)()),Ve=(0,p.PH)("[GitSessionStorage] select branch",(0,p.Ky)()),Re=(0,p.PH)("[GitSessionStorage] select directory",(0,p.Ky)()),qn=(0,p.PH)("[GitSessionStorage] select userAccount",(0,p.Ky)()),Bt=(0,p.PH)("[GitSessionStorage] configure credentials",(0,p.Ky)()),Hi=(0,p.PH)("[GitSessionStorage] delete credentials",(0,p.Ky)()),Xi=(0,p.PH)("[GitSessionStorage] select workspace capacity",(0,p.Ky)()),He=(0,J.H)({selectId:function(c){return c.workspaceId}}),ei=(0,C.__assign)({},He.getInitialState()),ti=(0,p.Lq)(ei,(0,p.on)(Jn,function(s,c){return He.upsertOne({workspaceId:c.workspaceId,selectedGitProviderType:c.gitProviderType},s)}),(0,p.on)(be,function(s,c){var d=c.workspaceId,u=c.datasourceOID,k=s.entities[d];return k&&k.selectedDatasourceOID===u?s:He.upsertOne({workspaceId:d,selectedDatasourceOID:u},s)}),(0,p.on)(Ue,function(s,c){return He.upsertOne({workspaceId:c.workspaceId,selectedTempDatasourceOID:c.datasourceOID},s)}),(0,p.on)(Tt,function(s,c){var u=c.organization;return He.upsertOne({workspaceId:c.workspaceId,selectedOrganization:u?{name:u,setByDatasource:!1}:void 0},s)}),(0,p.on)(Vt,function(s,c){var u=c.repository;return He.upsertOne({workspaceId:c.workspaceId,selectedRepository:u?{name:u,setByDatasource:!1}:void 0},s)}),(0,p.on)(Ve,function(s,c){return He.upsertOne({workspaceId:c.workspaceId,selectedBranch:c.branch},s)}),(0,p.on)(Re,function(s,c){return He.upsertOne({workspaceId:c.workspaceId,selectedDirectory:c.directory},s)}),(0,p.on)(bt,function(s,c){return He.upsertOne({workspaceId:c.workspaceId,selectedOrganization:{name:c.organization,setByDatasource:!0},selectedRepository:{name:c.repository,setByDatasource:!0}},s)}),(0,p.on)(tn,function(s,c){return He.upsertOne({workspaceId:c.workspaceId,selectedOrganization:void 0,selectedRepository:void 0},s)}),(0,p.on)(qn,function(s,c){return He.upsertOne({workspaceId:c.workspaceId,selectedUserAccount:c.userAccount},s)}),(0,p.on)(Bt,function(s,c){return He.upsertOne({workspaceId:c.workspaceId,isConfigured:!0},s)}),(0,p.on)(Hi,function(s,c){return He.updateOne({id:c.workspaceId,changes:{selectedUserAccount:void 0,isConfigured:!1}},s)}),(0,p.on)(H,function(s,c){var d,u,k,M=c.gitConnection;return He.upsertOne({workspaceId:M.workspaceId,selectedGitProviderType:null===(d=M.gitConnectionDetails)||void 0===d?void 0:d.gitProviderType,selectedDatasourceOID:null===(u=M.gitConnectionDetails)||void 0===u?void 0:u.datasourceOID,isConfigured:void 0!==(null===(k=M.gitConnectionDetails)||void 0===k?void 0:k.datasourceOID)},s)}),(0,p.on)(D,function(s,c){return He.updateOne({id:c.workspaceId,changes:{selectedBranch:void 0,selectedDatasourceOID:void 0,selectedTempDatasourceOID:void 0,selectedGitProviderType:void 0,selectedDirectory:void 0,selectedOrganization:void 0,selectedRepository:void 0,selectedUserAccount:void 0,isConfigured:void 0}},s)}),(0,p.on)(Xi,function(s,c){return He.upsertOne({workspaceId:c.workspaceId,isWorkspaceOnCapaity:c.isWorkspaceOnCapacity},s)})),Gt=(0,J.H)({selectId:function(c){return c.workspaceId}}),mn=(0,C.__assign)({},Gt.getInitialState()),Xr=(0,p.Lq)(mn,(0,p.on)(Je,function(s,c){return Gt.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitBranchOutState),{response:void 0,callState:Xe.InProgress}),s)}),(0,p.on)(It,function(s,c){var d=c.gitBranchOutState;return Gt.upsertOne((0,C.__assign)((0,C.__assign)({},d),{callState:Xe.InProgress,response:d.response}),s)}),(0,p.on)(ct,function(s,c){var d=c.gitBranchOutState;return Gt.upsertOne((0,C.__assign)((0,C.__assign)({},d),{callState:Xe.InProgress,response:d.response}),s)}),(0,p.on)(wn,function(s,c){var d=c.gitBranchOutState;return Gt.upsertOne((0,C.__assign)((0,C.__assign)({},d),{callState:Xe.Completed,response:d.response}),s)}),(0,p.on)(bn,function(s,c){var d=c.gitBranchOutState;return Gt.upsertOne((0,C.__assign)((0,C.__assign)({},d),{callState:Xe.Completed,response:d.response}),s)}),(0,p.on)(St,function(s,c){var u=c.error;return Gt.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitBranchOutState),{callState:u}),s)}),(0,p.on)(kn,function(s,c){return Gt.removeOne(c.gitBranchOutState.workspaceId,s)})),vn=(0,p.PH)("[GitDatasources] Load Datasources",(0,p.Ky)()),Yi=(0,p.PH)("[GitDatasources] Load Datasources Success",(0,p.Ky)()),et=(0,p.PH)("[GitDatasources] Load Datasources Failure",(0,p.Ky)()),xt=(0,p.PH)("[GitDatasources] Create Datasource",(0,p.Ky)()),Yr=(0,p.PH)("[GitDatasources] Create Datasource Success",(0,p.Ky)()),ii=(0,p.PH)("[GitDatasources] Create Datasource Failure",(0,p.Ky)()),nn=(0,J.H)({selectId:function(c){return c.workspaceId}}),ri=(0,C.__assign)({},nn.getInitialState()),Qr=(0,p.Lq)(ri,(0,p.on)(vn,function(s,c){return nn.upsertOne({workspaceId:c.gitDatasourceRequest.workspaceId,callState:qe.InProgress},s)}),(0,p.on)(Yi,function(s,c){return nn.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitDatasourcesState),{callState:qe.Completed}),s)}),(0,p.on)(et,ii,function(s,c){return nn.updateOne({id:c.workspaceId,changes:{callState:c.error}},s)}),(0,p.on)(xt,function(s,c){return nn.upsertOne({workspaceId:c.request.workspaceId,callState:qe.InProgress},s)})),ai=(0,p.PH)("[GitRepairItems] Repair Items in Git",(0,p.Ky)()),Qi=(0,p.PH)("[GitRepairItems] Repair Items in Git inProgress",(0,p.Ky)()),Zi=(0,p.PH)("[GitRepairItems] Repair Items in Git success",(0,p.Ky)()),Ji=(0,p.PH)("[GitRepairItems] Repair Items in Git failure ",(0,p.Ky)()),hn=(0,J.H)({selectId:function(c){return c.workspaceId}}),si=(0,C.__assign)({},hn.getInitialState()),Zr=(0,p.Lq)(si,(0,p.on)(ai,Qi,function(s,c){return hn.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitRepairState),{callState:Ze.InProgress}),s)}),(0,p.on)(Zi,function(s,c){var d=c.gitRepairStateWithResponse;return hn.upsertOne((0,C.__assign)((0,C.__assign)({},d),{response:d.response,callState:Ze.Completed}),s)}),(0,p.on)(Ji,function(s,c){var u=c.error;return hn.upsertOne((0,C.__assign)((0,C.__assign)({},c.gitRepairState),{callState:u,notificationId:void 0}),s)})),qr={gitStatus:function(s,c){return y(s,c)},gitConnection:function(s,c){return $i(s,c)},gitCommit:function(s,c){return ji(s,c)},gitUpdate:function(s,c){return Ne(s,c)},gitInitialization:function(s,c){return Wr(s,c)},gitSync:function(s,c){return ve(s,c)},gitUndo:function(s,c){return Nr(s,c)},gitProgressIndicator:function(s,c){return Ur(s,c)},gitSwitchBranch:function(s,c){return jr(s,c)},gitSessionStorage:function(s,c){return ti(s,c)},gitBranchOut:function(s,c){return Xr(s,c)},gitDatasources:function(s,c){return Qr(s,c)},gitRepair:function(s,c){return Zr(s,c)}},wt=(0,p.ZF)("git"),Le=v(11547),ue=v(14172),Me=v(81905),at=v(59822),rn=v(67758),Ot=v(65232),eo=v(12315),to=function(s){return s[s.SingleCall=0]="SingleCall",s[s.SeparateCalls=1]="SeparateCalls",s}({});function no(s){var c=eo.RG,d=c.includes(s);if(d)return s;if(!d){var u=c.findIndex(function(k){return s.toLowerCase()===k.toLowerCase()});if(u>=0)return c[u]}throw Error("Invalid ArtifactType: "+s)}function io(s,c){return{artifact:(0,C.__assign)((0,C.__assign)({},s.artifact),{artifactType:c.getFrontendArtifactType(s.artifact.artifactType)}),remoteChange:{displayName:s.artifact.displayName,changeType:s.gitChangeType},syncStatus:0}}function er(s,c){var d=c.getFrontendArtifactType(s.artifact.artifactType);return{artifact:(0,C.__assign)((0,C.__assign)({},s.artifact),{artifactType:no(d)}),workspaceChange:{displayName:s.artifact.displayName,changeType:s.gitChangeType},syncStatus:0}}function ci(s,c,d,u){return{workspaceId:s,head:c,gitChanges:d,incomingChangesCommitHash:u||void 0}}var I=v(50423),so=function(){function s(c,d,u,k){var M=this;this.actions$=c,this.gitStatusClient=d,this.gitErrorService=u,this.extensionManifestService=k,this.loadUncommittedChanges$=(0,g.GW)(function(){return M.actions$.pipe((0,g.l4)(T),(0,ue.U)(function(A){return A.workspaceId}),(0,Me.w)(function(A){return M.gitStatusClient.getUncommittedChanges(A).pipe((0,ue.U)(function(R){return M.updateGitStatusWithUncommittedChanges(A,R)}),(0,ue.U)(function(R){return X({gitStatus:R})}),(0,at.K)(function(R){var G=M.gitErrorService.makeGitErrorFromHttpResponse("Git_Status_Failed",R);return(0,Le.of)(e({workspaceId:A,error:G}))}))}))}),this.loadIncomingChanges$=(0,g.GW)(function(){return M.actions$.pipe((0,g.l4)(j),(0,ue.U)(function(A){return A.workspaceId}),(0,Me.w)(function(A){return M.gitStatusClient.getIncomingChanges(A).pipe((0,ue.U)(function(R){return M.updateGitStatusWithIncomingChanges(A,R)}),(0,ue.U)(function(R){return N({gitStatus:R})}),(0,at.K)(function(R){var G=M.gitErrorService.makeGitErrorFromHttpResponse("Git_Status_Failed",R);return(0,Le.of)(x({workspaceId:A,error:G}))}))}))}),this.loadGitStatus$=(0,g.GW)(function(){return M.actions$.pipe((0,g.l4)(f),(0,ue.U)(function(A){return A.workspaceId}),(0,Me.w)(function(A){return M.gitStatusClient.getGitStatus(A).pipe((0,ue.U)(function(R){return M.gitStatusContractToModel(A,R)}),(0,ue.U)(function(R){return se({gitStatus:R})}),(0,at.K)(function(R){var G=M.gitErrorService.makeGitErrorFromHttpResponse("Git_Status_Failed",R);return(0,Le.of)(we({workspaceId:A,error:G}))}))}))})}return s.prototype.updateGitStatusWithIncomingChanges=function(c,d){var u=function(s,c){for(var d=[],u=0,k=s.changes;u<k.length;u++)d.push(io(k[u],c));return d}(d,this.extensionManifestService);return ci(c,d.head,u,d.targetCommit.commitId)},s.prototype.updateGitStatusWithUncommittedChanges=function(c,d){var u=function(s,c){for(var d=[],u=0,k=s.changes;u<k.length;u++)d.push(er(k[u],c));return d}(d,this.extensionManifestService);return ci(c,d.head,u)},s.prototype.gitStatusContractToModel=function(c,d){var u,k=function(s,c){var d=[];if(null==s.changes)return d;for(var u=0,k=s.changes;u<k.length;u++){var M=k[u],A=M;A.artifact.artifactType=c.getFrontendArtifactType(M.artifact.artifactType),d.push(A)}return d}(d,this.extensionManifestService);return ci(c,d.head,k,null===(u=d.targetCommit)||void 0===u?void 0:u.commitId)},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(g.eX),I.\u0275\u0275inject(ce.mK),I.\u0275\u0275inject(Ot.jR),I.\u0275\u0275inject(rn.vC))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),tr=v(37272),Ft=v(12385),fn=v(94771),nr=(0,p.P1)(wt,function(s){return s?.gitConnection||In}),ir=ot.getSelectors(),co=ir.selectAll,lo=ir.selectEntities,or=((0,p.P1)(nr,function(s){return co(s)}),(0,p.P1)(nr,function(s){return lo(s)})),li=function(c){return(0,p.P1)(or,function(d){return d[c]})};function Cn(s,c,d){return d?[f({workspaceId:s,isTriggeredByGitAction:c})]:[j({workspaceId:s,isTriggeredByGitAction:c}),T({workspaceId:s,isTriggeredByGitAction:c})]}var po=function(){function s(c,d,u,k,M,A,R){var G=this;this.actions$=c,this.gitConnectionDetailsClient=d,this.gitErrorService=u,this.gitNotificationService=k,this.extensionManifestService=M,this.store=A,this.featureSwitchService=R,this.ensureGitConnection$=(0,g.GW)(function(){return G.actions$.pipe((0,g.l4)(Ce),(0,ue.U)(function(L){return L.workspaceId}),(0,g.IC)(function(L){return G.store.select(li(L))}),(0,Me.w)(function(L){var U=L[0],K=L[1];return K?.gitConnectionDetails&&K.callState===me.Completed||!K?.gitConnectionDetails&&(0,E.pb)(K?.callState)?tr.E:(0,Le.of)($({workspaceId:U}))}))}),this.loadGitConnection$=(0,g.GW)(function(){return G.actions$.pipe((0,g.l4)($),(0,ue.U)(function(L){return L.workspaceId}),(0,Me.w)(function(L){return G.gitConnectionDetailsClient.getGitConnectionDetails(L).pipe((0,ue.U)(function(U){return G.gitConnectionContractToModel(L,U)}),(0,ue.U)(function(U){return H({gitConnection:U})}),(0,at.K)(function(U){var K=G.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",U);return(0,Le.of)(_e({workspaceId:L,error:K}))}))}))}),this.saveGitConnection$=(0,g.GW)(function(){return G.actions$.pipe((0,g.l4)(Ie),(0,ue.U)(function(L){return L.gitConnection}),(0,Me.w)(function(L){if(!L.gitConnectionDetails){var U=G.gitErrorService.makeClientSideGitError("Git_Invalid_Connection_Details");return G.gitNotificationService.showErrorNotification(U,"Trident_Git_Error_Git_Invalid_Connection_Details_Title"),(0,Le.of)(it({gitConnection:L,error:U}))}var K=G.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Connect_Loading");return G.gitConnectionDetailsClient.setGitConnectionDetails(L.workspaceId,L.gitConnectionDetails).pipe((0,ue.U)(function(){return G.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Connect_Success",K),xe({gitConnection:L})}),(0,at.K)(function(ee){var fe=G.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",ee);return(0,E.yG)(fe)?G.gitNotificationService.hideCurrentNotification():G.gitNotificationService.showErrorNotification(fe,"Trident_Git_Error_Git_Invalid_Connection_Details_Title",K),(0,Le.of)(it({gitConnection:L,error:fe}))}))}))}),this.gitCheckoutBranch$=(0,g.GW)(function(){return G.actions$.pipe((0,g.l4)(Oe),(0,ue.U)(function(L){return L.gitCheckoutBranchState}),(0,Me.w)(function(L){return G.gitConnectionDetailsClient.checkoutBranch(L.workspaceId,L.request).pipe((0,Me.w)(function(){var U;return G.gitNotificationService.showSuccessNotification("Trident_Git_Toast_CheckoutBranch_Success"),(0,C.__spreadArray)([Ae({gitCheckoutBranchState:L}),st({workspaceId:L.workspaceId})],Cn(L.workspaceId,!0,null!==(U=G.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==U&&U),!0)}),(0,at.K)(function(U){var K=G.gitErrorService.makeGitErrorFromHttpResponse("Git_Checkout_Branch_Failed",U);return(0,E.xT)(K,"Git_BranchNameAlreadyExists")||G.gitNotificationService.showErrorNotification(K,"Trident_Git_Error_Git_Checkout_Branch_Failed_Title"),(0,Le.of)(Ct({workspaceId:L.workspaceId,error:K}))}))}))}),this.deleteGitConnection$=(0,g.GW)(function(){return G.actions$.pipe((0,g.l4)(ft),(0,ue.U)(function(L){return L.workspaceId}),(0,Me.w)(function(L){var U=G.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Disconnect_Loading_Title","Trident_Git_Toast_Disconnect_Loading_Message");return G.gitConnectionDetailsClient.deleteGitConnectionDetails(L).pipe((0,Me.w)(function(){return G.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Disconnect_Success",U),[D({workspaceId:L}),S({workspaceId:L}),Qe({workspaceId:L}),V({workspaceId:L})]}),(0,at.K)(function(K){var ee=G.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",K);return G.gitNotificationService.showErrorNotification(ee,"Trident_Git_Error_Git_Disconnect_Failed_Title",U),(0,Le.of)(le({workspaceId:L,error:ee}))}))}))})}return s.prototype.gitConnectionContractToModel=function(c,d){var fe=d.datasourceOID;return{workspaceId:c,gitConnectionDetails:{gitProviderType:d.gitProviderType,organizationName:d.organizationName,projectName:d.projectName,repositoryName:d.repositoryName,branchName:d.branchName,rootDirectory:d.rootDirectory,head:d.head,isInitialized:!!d.isInitialized,lastSyncTime:d.lastSyncTime,supportedArtifactTypeNames:this.ConvertArtifactNamesBackendToFrontEnd(d.supportedArtifactTypeNames),datasourceOID:fe}}},s.prototype.ConvertArtifactNamesBackendToFrontEnd=function(c){var d=this;if(c)return c.map(function(u){return d.extensionManifestService.getFrontendArtifactType(u)})},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(g.eX),I.\u0275\u0275inject(ce.i),I.\u0275\u0275inject(Ot.jR),I.\u0275\u0275inject(Ft.mn),I.\u0275\u0275inject(rn.vC),I.\u0275\u0275inject(p.yh),I.\u0275\u0275inject(fn.V$))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),uo=v(59017),on=v(59973),lt=v(48787),he=(0,p.P1)(wt,function(s){return s?.gitStatus||ge}),Sn=Te.getSelectors(),re=Sn.selectAll,ar=Sn.selectEntities,_t=((0,p.P1)(he,function(s){return re(s)}),(0,p.P1)(he,function(s){return ar(s)})),kt=function(c){return(0,p.P1)(_t,function(d){return d[c]})},jt=function(){function s(c){this.store=c}return s.prototype.getGitStatus=function(c){return this.store.select(kt(c))},s.prototype.loadGitStatus=function(c){return this.store.dispatch(f({workspaceId:c})),this.getGitStatus(c)},s.prototype.getStatusLoadingState=function(c){return this.store.select(kt(c)).pipe((0,ue.U)(function(d){var u;return null!==(u=d?.statusCallState)&&void 0!==u?u:Se.Initial}))},s.prototype.getAllChanges=function(c){return this.getGitStatus(c).pipe((0,ue.U)(function(d){var u;return null!==(u=d?.gitChanges)&&void 0!==u?u:[]}))},s.prototype.getUncommittedChanges=function(c){return this.getGitStatus(c).pipe((0,ue.U)(function(d){var u,k;return null!==(k=null===(u=d?.gitChanges)||void 0===u?void 0:u.filter(function(M){return M.workspaceChange}))&&void 0!==k?k:[]}))},s.prototype.loadUncommittedChanges=function(c){return this.store.dispatch(T({workspaceId:c})),this.getUncommittedChanges(c)},s.prototype.getUncommittedChangesLoadingState=function(c){return this.store.select(kt(c)).pipe((0,ue.U)(function(d){return d&&d.uncommittedChangesCallState||Se.Initial}))},s.prototype.getUncommittedArtifactsSelectionState=function(c){return this.store.select(kt(c)).pipe((0,ue.U)(function(d){return d&&d.uncommittedChangesArtifactSelectionState||{selectedArtifacts:[]}}))},s.prototype.setChangesArtifactSelection=function(c,d,u,k){this.store.dispatch(de({workspaceId:c,artifactId:d,logicalId:u,isChecked:k}))},s.prototype.clearChangesArtifactSelection=function(c){this.store.dispatch(ae({workspaceId:c}))},s.prototype.getIncomingChanges=function(c){return this.getGitStatus(c).pipe((0,ue.U)(function(d){var u,k;return null!==(k=null===(u=d?.gitChanges)||void 0===u?void 0:u.filter(function(M){return M.remoteChange}))&&void 0!==k?k:[]}))},s.prototype.loadIncomingChanges=function(c){return this.store.dispatch(j({workspaceId:c})),this.getIncomingChanges(c)},s.prototype.getIncomingChangesLoadingState=function(c){return this.store.select(kt(c)).pipe((0,ue.U)(function(d){return d&&d.incomingChangesCallState||Se.Initial}))},s.prototype.getIncomingChangesCommitId=function(c){return this.store.select(kt(c)).pipe((0,ue.U)(function(d){return d?.incomingChangesCommitHash}))},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(p.yh))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}(),qt=(0,p.P1)(wt,function(s){return s?.gitCommit||pn}),sr=Lt.getSelectors(),go=sr.selectAll,_o=sr.selectEntities,mo=((0,p.P1)(qt,function(s){return go(s)}),(0,p.P1)(qt,function(s){return _o(s)})),ho=function(){function s(c,d,u,k,M,A,R,G){var L=this;this.actions$=c,this.gitCommitClient=d,this.gitErrorService=u,this.gitNotificationService=k,this.extensionManifestService=M,this.gitStatusFacade=A,this.store=R,this.featureSwitchService=G,this.commitToGit$=(0,g.GW)(function(){return L.actions$.pipe((0,g.l4)(xn),(0,ue.U)(function(U){var K=U.gitCommitState,ee=U.isInitialSync,fe=L.gitNotificationService.showLoadingNotification(ee?"Trident_Git_Toast_Initial_Commit_Loading":"Trident_Git_Toast_Commit_Loading_Title",ee?void 0:"Trident_Git_Toast_Commit_Loading_Message");return(0,C.__assign)((0,C.__assign)({},K),{isInitialSync:ee,notificationId:fe})}),(0,Me.w)(function(U){return(0,uo.aj)([L.gitCommitClient.commitArtifacts(U.workspaceId,L.fromGitCommitContractToGitCommitRequest(U.request))]).pipe((0,Me.w)(function(K){var ee=K[0],fe=(0,C.__assign)((0,C.__assign)({},U),{response:{almAction:ee.almOperation,responseDate:ee.responseDate}});return[dn({gitCommitState:fe})]}),(0,at.K)(function(K){var ee=L.gitErrorService.makeGitErrorFromHttpResponse(" Git_Commit_Invalid_Request",K);return U?.notificationId&&(L.gitNotificationService.showErrorNotification(ee,"Trident_Git_Error_Unable_To_Commit_Title",U.notificationId),L.gitErrorService.showErrorHandlingDialog(ee)),(0,Le.of)(Vn({gitCommitState:U,error:ee}))}))}))}),this.getLatestGitAlmOperationSuccess$=(0,g.GW)(function(){return L.actions$.pipe((0,g.l4)(tt),(0,ue.U)(function(U){return U.gitSyncState}),(0,on.h)(function(U){return L.isLatestOpValid(U)}),(0,Me.w)(function(U){return L.store.select(function(c){return(0,p.P1)(mo,function(d){return d[c]})}(U.workspaceId)).pipe((0,lt.q)(1),(0,Me.w)(function(K){return L.getActions(U,K)}))}))})}return s.prototype.isLatestOpValid=function(c){return!!c?.isValid&&c.gitOperationType===E.u9.Commit},s.prototype.getActions=function(c,d){var u,k=d&&d.workspaceId===c.workspaceId?{workspaceId:d.workspaceId,request:d.request,response:d?.response,isInitialSync:d?.isInitialSync,notificationId:d?.notificationId}:{workspaceId:c.workspaceId,request:void 0};switch(c.gitOperationStatus){case E.wM.Successful:return d?.notificationId&&this.gitNotificationService.showSuccessNotification(d?.isInitialSync?"Trident_Git_Toast_Initial_Action_Success":"Trident_Git_Toast_Commit_Success",d.notificationId),this.gitStatusFacade.clearChangesArtifactSelection(k.workspaceId),(0,C.__spreadArray)((0,C.__spreadArray)([Vi({gitCommitStateWithResponse:k})],Cn(k.workspaceId,!0,null!==(u=this.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==u&&u),!0),[Qe({workspaceId:k.workspaceId})],!1);case E.wM.InProgress:return[dn({gitCommitState:k})];case E.wM.Failed:var M=this.gitErrorService.handleAlmGitError("AlmOperationFailed_CommitToGit",c);return d?.notificationId&&(this.gitNotificationService.showErrorNotification(M,"Trident_Git_Error_Unable_To_Commit_Title",d.notificationId),this.gitErrorService.showErrorHandlingDialog(M)),[Un({gitCommitState:k}),Qe({workspaceId:k.workspaceId})]}return[dn({gitCommitState:k})]},s.prototype.fromGitCommitContractToGitCommitRequest=function(c){var d=this;return{artifacts:c.artifacts.map(function(k){return d.fromGitArtifactChangeToArtifactSelector(k)}),workspaceHead:c.workspaceHead,comment:c.comment}},s.prototype.fromGitArtifactChangeToArtifactSelector=function(c){var d=c.artifact;return{artifactType:this.extensionManifestService.getBackendArtifactType(d.artifactType),etag:d.etag,objectId:d.objectId,logicalId:d.logicalId,changeType:c.workspaceChange.changeType}},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(g.eX),I.\u0275\u0275inject(ce.ce),I.\u0275\u0275inject(Ot.jR),I.\u0275\u0275inject(Ft.mn),I.\u0275\u0275inject(rn.vC),I.\u0275\u0275inject(jt),I.\u0275\u0275inject(p.yh),I.\u0275\u0275inject(fn.V$))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),fo=v(32980),cr=(v(17177),v(94228),v(14977),v(95228),v(209)),So=v(41838),an=function(s){return s[s.CommitToGit=100]="CommitToGit",s[s.UpdateFromGit=101]="UpdateFromGit",s[s.InitializeWorkspaceGitConnection=102]="InitializeWorkspaceGitConnection",s[s.Undo=103]="Undo",s[s.CheckoutBranch=104]="CheckoutBranch",s[s.SwitchBranch=105]="SwitchBranch",s}({}),di=function(s){return s[s.NonFinalBase=0]="NonFinalBase",s[s.FinalBase=1001]="FinalBase",s[s.FinalSuccessBase=1001]="FinalSuccessBase",s[s.FinalErrorBase=2001]="FinalErrorBase",s[s.Created=0]="Created",s[s.Approval_Pending=10]="Approval_Pending",s[s.Execution_Pending=20]="Execution_Pending",s[s.Executing_Running=30]="Executing_Running",s[s.Succeeded=1001]="Succeeded",s[s.SucceededWithWarning_RefreshSkipped=1011]="SucceededWithWarning_RefreshSkipped",s[s.SucceededWithWarning_MissingCredentials=1012]="SucceededWithWarning_MissingCredentials",s[s.Failed_GenericError=2001]="Failed_GenericError",s[s.Failed_GenericDryRunError=2006]="Failed_GenericDryRunError",s[s.Approval_Abandoned=2011]="Approval_Abandoned",s[s.Approval_Rejected=2012]="Approval_Rejected",s[s.Execution_Cancelled=2021]="Execution_Cancelled",s[s.Execution_UnsupportedOperationType=2031]="Execution_UnsupportedOperationType",s[s.Execution_UnsupportedStepType=2032]="Execution_UnsupportedStepType",s[s.Execution_NoSteps=2033]="Execution_NoSteps",s}({}),yo=function(s){return s[s.SingleOption=0]="SingleOption",s[s.None=1]="None",s}({}),On=v(77476),bo=v(95825),wo=v(74913),ko=v(64266),Io=v(94243),xo=v(10965),Mo=v(37350),Po=v(89330),To=v(55334);function Oo(s,c){1&s&&I.\u0275\u0275element(0,"tri-svg-icon",16)}function Eo(s,c){if(1&s&&(I.\u0275\u0275elementStart(0,"tri-pivot-item",11)(1,"span",12),I.\u0275\u0275template(2,Oo,1,0,"tri-svg-icon",13),I.\u0275\u0275elementEnd(),I.\u0275\u0275element(3,"tri-svg-icon",14),I.\u0275\u0275elementStart(4,"span",15),I.\u0275\u0275text(5),I.\u0275\u0275elementEnd()()),2&s){var k,M,d=c.$implicit,u=I.\u0275\u0275nextContext();I.\u0275\u0275property("value",d),I.\u0275\u0275advance(2),I.\u0275\u0275property("ngIf",u.isArtifactOptionSelected(d)),I.\u0275\u0275advance(1),I.\u0275\u0275property("sprite",null==(k=u.localGetArtifactIconFromDict(u.getArtifactType(d)))?null:k.sprite)("name",null==(M=u.localGetArtifactIconFromDict(u.getArtifactType(d)))?null:M.name),I.\u0275\u0275advance(1),I.\u0275\u0275attribute("aria-label",null==d.failedArtifactMetadata?null:d.failedArtifactMetadata.artifactDisplayName),I.\u0275\u0275advance(1),I.\u0275\u0275textInterpolate1(" ",null==d.failedArtifactMetadata?null:d.failedArtifactMetadata.artifactDisplayName," ")}}function Do(s,c){if(1&s){var d=I.\u0275\u0275getCurrentView();I.\u0275\u0275elementContainerStart(0,19),I.\u0275\u0275elementStart(1,"tri-checkbox",20),I.\u0275\u0275listener("onChange",function(){I.\u0275\u0275restoreView(d);var M=I.\u0275\u0275nextContext(2);return I.\u0275\u0275resetView(M.checkBoxSelectionChanged(M.getSingleOption(M.displayError)))}),I.\u0275\u0275text(2),I.\u0275\u0275pipe(3,"localize"),I.\u0275\u0275elementEnd(),I.\u0275\u0275elementContainerEnd()}if(2&s){var u=I.\u0275\u0275nextContext(2);I.\u0275\u0275advance(1),I.\u0275\u0275property("checked",u.isArtifactOptionSelected(u.displayError)),I.\u0275\u0275advance(1),I.\u0275\u0275textInterpolate1(" ",I.\u0275\u0275pipeBind1(3,2,u.getSingleOptionMessageKey(u.displayError))," ")}}function Bo(s,c){if(1&s){var d=I.\u0275\u0275getCurrentView();I.\u0275\u0275elementStart(0,"tri-radio-button",22),I.\u0275\u0275listener("change",function(){var R=I.\u0275\u0275restoreView(d).$implicit,G=I.\u0275\u0275nextContext(3);return I.\u0275\u0275resetView(G.radioButtonSelectionChanged(R))}),I.\u0275\u0275text(1),I.\u0275\u0275pipe(2,"localize"),I.\u0275\u0275elementEnd()}if(2&s){var u=c.$implicit,k=I.\u0275\u0275nextContext(3);I.\u0275\u0275property("value",u.OptionKey)("checked",k.isArtifactOptionSelected(k.displayError,u)),I.\u0275\u0275attribute("role","radio"),I.\u0275\u0275advance(1),I.\u0275\u0275textInterpolate1(" ",I.\u0275\u0275pipeBind1(2,4,u.OptionMessageKey)," ")}}function Go(s,c){if(1&s&&(I.\u0275\u0275elementStart(0,"tri-radio-group"),I.\u0275\u0275template(1,Bo,3,6,"tri-radio-button",21),I.\u0275\u0275elementEnd()),2&s){var d=I.\u0275\u0275nextContext(2);I.\u0275\u0275advance(1),I.\u0275\u0275property("ngForOf",null==d.displayError.interactiveOperationInfo?null:d.displayError.interactiveOperationInfo.options)}}function zo(s,c){if(1&s&&(I.\u0275\u0275elementContainerStart(0),I.\u0275\u0275template(1,Do,4,4,"ng-container",17),I.\u0275\u0275template(2,Go,2,1,"ng-template",null,18,I.\u0275\u0275templateRefExtractor),I.\u0275\u0275elementContainerEnd()),2&s){var d=I.\u0275\u0275reference(3),u=I.\u0275\u0275nextContext();I.\u0275\u0275advance(1),I.\u0275\u0275property("ngIf",1===u.displayErrorOptionsListSize)("ngIfElse",d)}}var Ao=function(){function s(c,d,u){var k,M;this.extensionManifestService=c,this.dialogRef=d,this.data=u,this.localGetArtifactIconFromDict=So.zp,this.enabledOptions=new Map,this.displayError=(0,E.lz)(this.data.errors),this.displayErrorOptionsListSize=null!==(M=null===(k=this.displayError.interactiveOperationInfo)||void 0===k?void 0:k.options.length)&&void 0!==M?M:0,this.InteractionType=yo}return s.prototype.buttonClicked=function(c){if(c===this.data.buttons[0].name)return this.dialogRef.close(this.getInteractiveOperationsOptions(this.enabledOptions));this.dialogRef.close()},s.prototype.getInteractiveOperationsOptions=function(c){var d=[];return c.forEach(function(u,k){d.push({artifactLogicalId:k,optionName:u})}),{optionPerArtifactList:d}},s.prototype.convertDialogData=function(c){return{title:c.title,buttons:c.buttons}},s.prototype.onArtifactSelectionChange=function(c){var d,u;this.displayError=c,this.displayErrorOptionsListSize=null!==(u=null===(d=this.displayError.interactiveOperationInfo)||void 0===d?void 0:d.options.length)&&void 0!==u?u:0},s.prototype.radioButtonSelectionChanged=function(c){var d;this.enabledOptions.set(null===(d=this.displayError.failedArtifactMetadata)||void 0===d?void 0:d.artifactLogicalId,c.OptionKey),this.data.buttons[0].disabled=this.enabledOptions.size!==this.data.errors.errorsDetails.length},s.prototype.checkBoxSelectionChanged=function(c){var d,u,k;this.enabledOptions.has(null===(d=this.displayError.failedArtifactMetadata)||void 0===d?void 0:d.artifactLogicalId)?this.enabledOptions.delete(null===(u=this.displayError.failedArtifactMetadata)||void 0===u?void 0:u.artifactLogicalId):this.enabledOptions.set(null===(k=this.displayError.failedArtifactMetadata)||void 0===k?void 0:k.artifactLogicalId,c.OptionKey),this.data.buttons[0].disabled=this.enabledOptions.size!==this.data.errors.errorsDetails.length},s.prototype.getOptionsListSize=function(c){var d,u;return null!==(u=null===(d=c.interactiveOperationInfo)||void 0===d?void 0:d.options.length)&&void 0!==u?u:0},s.prototype.getSingleOption=function(c){var d;return null===(d=c.interactiveOperationInfo)||void 0===d?void 0:d.options[0]},s.prototype.getSingleOptionMessageKey=function(c){var d;return null===(d=c.interactiveOperationInfo)||void 0===d?void 0:d.options[0].OptionMessageKey},s.prototype.isArtifactOptionSelected=function(c,d){var u,k=null===(u=c.failedArtifactMetadata)||void 0===u?void 0:u.artifactLogicalId;return d?this.enabledOptions.has(k)&&this.enabledOptions.get(k)===d.OptionKey:this.enabledOptions.has(k)},s.prototype.getArtifactType=function(c){var d;return this.extensionManifestService.getFrontendArtifactType(null===(d=c.failedArtifactMetadata)||void 0===d?void 0:d.artifactType)},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275directiveInject(rn.vC),I.\u0275\u0275directiveInject(cr.so),I.\u0275\u0275directiveInject(cr.WI))},s.\u0275cmp=I.\u0275\u0275defineComponent({type:s,selectors:[["interactive-operations-dialog"]],decls:14,vars:11,consts:[[3,"dialogData","closeButtonLabel","buttonClickEvent"],[1,"subtitle"],[1,"content"],[1,"artifacts"],["linkFormat","tab","direction","vertical",3,"selectedValue","selectedValueChange"],["class","artifact-details",3,"value",4,"ngFor","ngForOf"],[1,"divider"],[1,"options"],["tabindex","0",1,"message"],[1,"options-list-container",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"artifact-details",3,"value"],[1,"check-mark-icon"],["sprite","fluentui-icons","name","checkmark_12_filled",4,"ngIf"],["tri-svg-icon-22","",1,"artifact-icon",3,"sprite","name"],[1,"trimmedTextWithEllipsis"],["sprite","fluentui-icons","name","checkmark_12_filled"],["class","single-option",4,"ngIf","ngIfElse"],["multiOptions",""],[1,"single-option"],["ng-non-bindable","",3,"checked","onChange"],["ng-non-bindable","",3,"value","checked","change",4,"ngFor","ngForOf"],["ng-non-bindable","",3,"value","checked","change"]],template:function(d,u){1&d&&(I.\u0275\u0275elementStart(0,"trident-dialog",0),I.\u0275\u0275listener("buttonClickEvent",function(M){return u.buttonClicked(M)}),I.\u0275\u0275pipe(1,"localize"),I.\u0275\u0275elementStart(2,"div",1),I.\u0275\u0275text(3),I.\u0275\u0275elementEnd(),I.\u0275\u0275elementStart(4,"div",2)(5,"div",3)(6,"tri-pivot",4),I.\u0275\u0275listener("selectedValueChange",function(M){return u.onArtifactSelectionChange(M)}),I.\u0275\u0275template(7,Eo,6,6,"tri-pivot-item",5),I.\u0275\u0275elementEnd()(),I.\u0275\u0275element(8,"hr",6),I.\u0275\u0275elementStart(9,"div",7)(10,"div",8),I.\u0275\u0275text(11),I.\u0275\u0275elementEnd(),I.\u0275\u0275elementStart(12,"div",9),I.\u0275\u0275template(13,zo,4,2,"ng-container",10),I.\u0275\u0275elementEnd()()()()),2&d&&(I.\u0275\u0275property("dialogData",u.convertDialogData(u.data))("closeButtonLabel",I.\u0275\u0275pipeBind1(1,9,"Cancel_ButtonText")),I.\u0275\u0275advance(3),I.\u0275\u0275textInterpolate1(" ",u.data.subTitle," "),I.\u0275\u0275advance(3),I.\u0275\u0275property("selectedValue",u.displayError),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngForOf",u.data.errors.errorsDetails),I.\u0275\u0275advance(3),I.\u0275\u0275attribute("aria-label",null==u.displayError.interactiveOperationInfo?null:u.displayError.interactiveOperationInfo.dialogMessage),I.\u0275\u0275advance(1),I.\u0275\u0275textInterpolate1(" ",null==u.displayError.interactiveOperationInfo?null:u.displayError.interactiveOperationInfo.dialogMessage," "),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitch",null==u.displayError.interactiveOperationInfo?null:u.displayError.interactiveOperationInfo.interactionType),I.\u0275\u0275advance(1),I.\u0275\u0275property("ngSwitchCase",u.InteractionType.SingleOption))},dependencies:[On.NgForOf,On.NgIf,On.NgSwitch,On.NgSwitchCase,bo.v,wo.M,ko.E,Io.B,xo.r,Mo.Y,Po.Z,To.Y],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px}.subtitle[_ngcontent-%COMP%]{padding:0 0 16px}.artifacts[_ngcontent-%COMP%]   tri-pivot-item[_ngcontent-%COMP%]{width:220px;padding-bottom:10px;margin-inline-end:10px}.artifacts[_ngcontent-%COMP%]   .tri-pivot-item-tab[_ngcontent-%COMP%]{display:flex;gap:4px}.artifacts[_ngcontent-%COMP%]   .check-mark-icon[_ngcontent-%COMP%]{width:20px}hr.divider[_ngcontent-%COMP%]{border:1px solid var(--colorNeutralStroke1);height:inherit;margin:0}[_nghost-%COMP%]     .tri-pivot-item-tab{display:flex;gap:4px}.message[_ngcontent-%COMP%]{font-size:16px;font-weight:600;padding:0 0 10px}.options-list-container[_ngcontent-%COMP%]{max-height:100px;overflow-y:scroll}"],changeDetection:0}),s}(),ne=v(7452),Wt=function(){function s(c,d){this.dialogService=c,this.localizationService=d}return s.prototype.isOptionNotEnabled=function(c){return(0,E.lz)(c).workloadErrorCategory===E.QJ},s.prototype.showInteractiveOperationsDialog=function(c,d,u){var k=function(s,c,d){var u=s.get("Cancel_ButtonText"),k=s.get("ModalDialogButtonText_Continue"),M=s.get("Trident_Git_Interactive_Operations_Dialog_Message"),A={title:s.get(d),buttons:[{name:k,label:k,buttonType:"primary",disabled:!0},{name:u,label:u,buttonType:null}],subTitle:M,errors:c};return{componentRef:Ao,config:{width:"864px",panelClass:"dialog-style",data:A}}}(this.localizationService,c,d);this.dialogService.open(k.componentRef,k.config).afterClosed().pipe((0,lt.q)(1),(0,on.h)(function(M){return M})).subscribe(function(M){u(c,M)})},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(fo.uQ),I.\u0275\u0275inject(ne.z))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}(),pr=(0,p.P1)(wt,function(s){return s?.gitUpdate||_n}),ur=Rt.getSelectors(),Fo=ur.selectAll,Wo=ur.selectEntities,Lo=((0,p.P1)(pr,function(s){return Fo(s)}),(0,p.P1)(pr,function(s){return Wo(s)})),pi=function(c){return(0,p.P1)(Lo,function(d){return d[c]})},ui=function(){function s(c){this.store=c}return s.prototype.getGitConnection=function(c){return this.store.select(li(c))},s.prototype.ensureGitConnection=function(c){return this.store.dispatch(Ce({workspaceId:c})),this.getGitConnection(c)},s.prototype.loadGitConnection=function(c){return this.store.dispatch($({workspaceId:c})),this.getGitConnection(c)},s.prototype.saveGitConnection=function(c){return this.store.dispatch(Ie({gitConnection:c})),(0,Le.of)(void 0)},s.prototype.deleteGitConnection=function(c){return this.store.dispatch(ft({workspaceId:c})),(0,Le.of)(void 0)},s.prototype.checkoutBranch=function(c){return this.store.dispatch(Oe({gitCheckoutBranchState:c})),(0,Le.of)(void 0)},s.prototype.getGitConnectionOperationState=function(c){return this.store.select(li(c)).pipe((0,ue.U)(function(d){return d&&d.callState||me.Initial}))},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(p.yh))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}(),gr=function(){function s(c){this.store=c}return s.prototype.updateFromGit=function(c){return this.store.dispatch(un({gitUpdateState:c})),this.store.select(pi(c.workspaceId))},s.prototype.getUpdatingState=function(c){return this.store.select(pi(c)).pipe((0,ue.U)(function(d){return d&&d.callState||ze.Initial}))},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(p.yh))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}(),No=function(){function s(c,d,u,k,M,A,R,G,L,U){var K=this;this.actions$=c,this.gitUpdateClient=d,this.gitErrorService=u,this.gitNotificationService=k,this.interactiveOperationsService=M,this.store=A,this.extensionManifestService=R,this.gitConnectionFacade=G,this.gitUpdateFacade=L,this.featureSwitchService=U,this.updateFromGit$=(0,g.GW)(function(){return K.actions$.pipe((0,g.l4)(un),(0,ue.U)(function(ee){var fe=ee.gitUpdateState,Fe=ee.isInitialSync,zi=K.gitNotificationService.showLoadingNotification(Fe?"Trident_Git_Toast_Initial_Update_Loading":"Trident_Git_Toast_Update_Loading_Title",Fe?void 0:"Trident_Git_Toast_Update_Loading_Message");return(0,C.__assign)((0,C.__assign)({},fe),{isInitialSync:Fe,notificationId:zi})}),(0,Me.w)(function(ee){return K.gitUpdateClient.UpdateArtifactsFromGit(ee.workspaceId,K.updateFromGitModelToContract(ee.request)).pipe((0,Me.w)(function(fe){var Fe=(0,C.__assign)((0,C.__assign)({},ee),{response:{almAction:fe.almOperation}});return[gn({gitUpdateState:Fe})]}),(0,at.K)(function(fe){var Fe=K.gitErrorService.makeGitErrorFromHttpResponse("Git_Update_Invalid_Request",fe);return ee?.notificationId&&(K.gitNotificationService.showErrorNotification(Fe,"Trident_Git_Error_Unable_To_Update_Title",ee.notificationId),K.gitErrorService.showErrorHandlingDialog(Fe)),(0,Le.of)(jn({gitUpdateState:ee,error:Fe}))}))}))}),this.getLatestGitAlmOperationSuccess$=(0,g.GW)(function(){return K.actions$.pipe((0,g.l4)(tt),(0,ue.U)(function(ee){return ee.gitSyncState}),(0,on.h)(function(ee){return K.isLatestOpValid(ee)}),(0,Me.w)(function(ee){return K.store.select(pi(ee.workspaceId)).pipe((0,lt.q)(1),(0,Me.w)(function(fe){return K.getActions(ee,fe)}))}))})}return s.prototype.isLatestOpValid=function(c){return!!c?.isValid&&c.gitOperationType===E.u9.Update},s.prototype.getActions=function(c,d){var k,u=this,M=d&&d.workspaceId===c.workspaceId?{workspaceId:d.workspaceId,request:d.request,response:d?.response,isInitialSync:d?.isInitialSync,notificationId:d?.notificationId}:{workspaceId:c.workspaceId,request:void 0};switch(c.gitOperationStatus){case E.wM.Successful:return d?.notificationId&&this.gitNotificationService.showSuccessNotification(d?.notificationId?"Trident_Git_Toast_Initial_Action_Success":"Trident_Git_Toast_Update_Success",d.notificationId),(0,C.__spreadArray)((0,C.__spreadArray)([Nt({gitUpdateStateWithResponse:M})],Cn(M.workspaceId,!0,null!==(k=this.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==k&&k),!0),[Qe({workspaceId:M.workspaceId})],!1);case E.wM.InProgress:return[gn({gitUpdateState:M})];case E.wM.Failed:var A=this.gitErrorService.handleAlmGitError("AlmOperationFailed_UpdateFromGit",c);return d?.notificationId&&(this.featureSwitchService.featureSwitches.interactiveOperationUI&&this.interactiveOperationsService.isOptionNotEnabled(A)?(this.interactiveOperationsService.showInteractiveOperationsDialog(A,"Trident_Git_Updates_Fail_Message_Bar",function(R,G){return u.doUpdateFlowWithInteractiveOptions(R,G,c.workspaceId)}),this.gitNotificationService.hideCurrentNotification()):(this.gitNotificationService.showErrorNotification(A,"Trident_Git_Error_Unable_To_Update_Title",d.notificationId),this.gitErrorService.showErrorHandlingDialog(A))),[Kn({gitUpdateState:M,error:A}),Qe({workspaceId:M.workspaceId})]}return[gn({gitUpdateState:M})]},s.prototype.updateFromGitModelToContract=function(c){var d,u=this.ConvertArtifactTypesInTree(c.artifactMergePolicyInfoTreeList,this.extensionManifestService);return{targetCommit:c.targetCommit,workspaceHead:null!==(d=c.workspaceHead)&&void 0!==d?d:null,ArtifactMergePolicyInfoTreeList:u,retryOperationId:c.retryOperationId,interactiveUpdateOptions:c.interactiveUpdateOptions}},s.prototype.ConvertArtifactTypesInTree=function(c,d){return c&&c.map(function(u){var k=(0,C.__assign)({},u);return"artifact"in k.root&&(k.root=(0,C.__assign)((0,C.__assign)({},k.root),{artifact:(0,C.__assign)((0,C.__assign)({},k.root.artifact),{artifactType:d.getBackendArtifactType(k.root.artifact.artifactType)})})),k})},s.prototype.doUpdateFlowWithInteractiveOptions=function(c,d,u){var k=this;this.gitConnectionFacade.getGitConnection(u).pipe((0,lt.q)(1)).subscribe(function(M){var A,R,G=null===(A=M?.gitConnectionDetails)||void 0===A?void 0:A.head;k.gitUpdateFacade.updateFromGit({workspaceId:u,request:{workspaceHead:G,targetCommit:void 0,artifactMergePolicyInfoTreeList:void 0,retryOperationId:null===(R=c.errorInfo)||void 0===R?void 0:R.retryOperationId,interactiveUpdateOptions:d}})})},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(g.eX),I.\u0275\u0275inject(ce.Jv),I.\u0275\u0275inject(Ot.jR),I.\u0275\u0275inject(Ft.mn),I.\u0275\u0275inject(Wt),I.\u0275\u0275inject(p.yh),I.\u0275\u0275inject(rn.vC),I.\u0275\u0275inject(ui),I.\u0275\u0275inject(gr),I.\u0275\u0275inject(fn.V$))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}();function $o(s,c){return"Committing ".concat(s.toString()," ").concat(1===s?"item":"items"," from workspace ").concat(c)}var Uo=v(54323),Vo=function(){function s(c,d,u,k,M,A,R){var G=this;this.actions$=c,this.gitInitializationClient=d,this.gitErrorService=u,this.gitNotificationService=k,this.interactiveOperationsService=M,this.telemetryService=A,this.extensionManifestService=R,this.initializeGitConnection$=(0,g.GW)(function(){return G.actions$.pipe((0,g.l4)(B),(0,ue.U)(function(L){return L.gitInitializationState}),(0,Me.w)(function(L){return G.gitInitializationClient.initializeGitConnection(L.workspaceId,G.gitInitializationRequestFromState(L)).pipe((0,Me.w)(function(U){var K=(0,C.__assign)((0,C.__assign)({},L),{response:U});return G.mapInitializationStateToActions(K)}),(0,at.K)(function(U){var K=G.gitErrorService.makeGitErrorFromHttpResponse("Git_Initialization_Failed",U);return(0,E.E6)(K)||G.interactiveOperationsService.isOptionNotEnabled(K)||G.gitNotificationService.showErrorNotification(K,"Trident_Git_Toast_Initialize_Fail"),(0,Le.of)(w({gitInitializationState:L,error:K}))}))}))})}return s.prototype.gitInitializationRequestFromState=function(c){return{mergePolicy:c.request.mergePolicy}},s.prototype.mapInitializationStateToActions=function(c){var d;switch(null===(d=c.response)||void 0===d?void 0:d.result){case ce.xU.Completed:if(c.response.incomingChanges&&c.response.incomingChanges.length>0||c.response.uncommittedChanges&&c.response.uncommittedChanges.length>0||!c.response.head){var u=this.gitErrorService.makeClientSideGitError("Git_Initialization_Invalid_Request");return this.gitNotificationService.showErrorNotification(u,"Trident_Git_Toast_Initialize_Fail"),[w({gitInitializationState:c,error:u})]}return[P({gitInitializationStateWithResponse:c}),st({workspaceId:c.workspaceId})];case ce.xU.UpdateFromGitRequired:if(!c.response.incomingChanges||!c.response.partialSyncBaseCommit)return u=this.gitErrorService.makeClientSideGitError("Git_Initialization_Invalid_Request"),this.gitNotificationService.showErrorNotification(u,"Trident_Git_Toast_Initialize_Fail"),[w({gitInitializationState:c,error:u})];var k=this.createUpdateRequestFromState(c);return this.telemetryService.logEvent({name:"Automatic update after initialization",properties:{workspaceId:c.workspaceId,targetCommit:k.request.targetCommit}}),[P({gitInitializationStateWithResponse:c}),un({gitUpdateState:k,isInitialSync:!0})];case ce.xU.CommitToGitRequired:var M=this.createCommitRequestFromState(c);return null!=M?(this.telemetryService.logEvent({name:"Automatic commit after initialization",properties:{workspaceId:c.workspaceId,workspaceHead:M.request.workspaceHead}}),[P({gitInitializationStateWithResponse:c}),xn({gitCommitState:M,isInitialSync:!0})]):(u=this.gitErrorService.makeClientSideGitError("Git_Initialization_Invalid_Request"),this.gitNotificationService.showErrorNotification(u,"Trident_Git_Toast_Initialize_Fail"),[w({gitInitializationState:c,error:u})]);default:return u=this.gitErrorService.makeClientSideGitError("Git_Initialization_Invalid_Request"),this.gitNotificationService.showErrorNotification(u,"Trident_Git_Toast_Initialize_Fail"),[w({gitInitializationState:c,error:u})]}},s.prototype.createUpdateRequestFromState=function(c){var d,u=c.response;return{workspaceId:c.workspaceId,request:{targetCommit:u?.partialSyncBaseCommit,workspaceHead:null!==(d=u?.head)&&void 0!==d?d:null}}},s.prototype.createCommitRequestFromState=function(c){var u,k,d=this,M=null===(u=c?.response)||void 0===u?void 0:u.head,A=null===(k=c?.response)||void 0===k?void 0:k.uncommittedChanges;if(!A||!M)return this.gitErrorService.handleClientSideGitError(" Git_Commit_Invalid_Request"),null;var R=A.map(function(G){return er(G,d.extensionManifestService)});return{workspaceId:c.workspaceId,request:{workspaceHead:M,artifacts:R,comment:$o(A.length,c.workspaceId)}}},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(g.eX),I.\u0275\u0275inject(ce.Zt),I.\u0275\u0275inject(Ot.jR),I.\u0275\u0275inject(Ft.mn),I.\u0275\u0275inject(Wt),I.\u0275\u0275inject(Uo.t),I.\u0275\u0275inject(rn.vC))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),jo=function(){function s(c,d,u){var k=this;this.actions$=c,this.gitSyncClient=d,this.gitErrorService=u,this.getLatestGitAlmOperation$=(0,g.GW)(function(){return k.actions$.pipe((0,g.l4)(st),(0,Me.w)(function(M){var A=M.workspaceId,R=M.isInitial;return k.gitSyncClient.getlatestGitOperation(A).pipe((0,ue.U)(function(G){return k.almOperationToSyncModel(G,A,R)}),(0,ue.U)(function(G){return tt({gitSyncState:G})}),(0,at.K)(function(){var G=k.gitErrorService.makeClientSideGitError("Git_Sync_Failed");return(0,Le.of)(mt({workspaceId:A,error:G}))}))}))})}return s.prototype.almOperationToSyncModel=function(c,d,u){var k=this.getGitOperationType(c.operationType),M="0"!==c.objectId&&void 0!==k,A=this.getGitOperationStatus(c.status);return{isValid:M,isInitial:!!u,workspaceId:d,gitOperationId:c.operationId,gitOperationType:k,gitOperationStatus:A,lastUpdatedTime:new Date(c.lastUpdatedTime),gitNonInteractiveOperationErrorDetails:this.getNonInteractiveErrorDetails(c.gitOperationErrorDetailsList),gitInteractiveOperationErrorDetailsList:this.getInteractiveErrorDetails(c.gitOperationErrorDetailsList)}},s.prototype.getInteractiveErrorDetails=function(c){if(!c||!c.some(function(d){var u;return(null===(u=d.artifactErrorDetails)||void 0===u?void 0:u.ErrorCategory)!==E.QJ}))return c},s.prototype.getNonInteractiveErrorDetails=function(c){if(c)return c.find(function(d){var u;return(null===(u=d.artifactErrorDetails)||void 0===u?void 0:u.ErrorCategory)!==E.QJ})},s.prototype.getGitOperationType=function(c){switch(c){case an.CommitToGit:return E.u9.Commit;case an.UpdateFromGit:return E.u9.Update;case an.InitializeWorkspaceGitConnection:return E.u9.Initialize;case an.Undo:return E.u9.Undo;case an.CheckoutBranch:return E.u9.CheckoutBranch;case an.SwitchBranch:return E.u9.SwitchBranch;default:return}},s.prototype.getGitOperationStatus=function(c){return c<di.FinalBase?E.wM.InProgress:c>=di.FinalSuccessBase&&c<di.FinalErrorBase?E.wM.Successful:E.wM.Failed},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(g.eX),I.\u0275\u0275inject(ce.WV),I.\u0275\u0275inject(Ot.jR))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),_r=(0,p.P1)(wt,function(s){return s?.gitUndo||Yn}),mr=$t.getSelectors(),Ko=mr.selectAll,Ho=mr.selectEntities,Xo=((0,p.P1)(_r,function(s){return Ko(s)}),(0,p.P1)(_r,function(s){return Ho(s)})),gi=function(c){return(0,p.P1)(Xo,function(d){return d[c]})},Yo=function(){function s(c){this.store=c}return s.prototype.UndoFromGit=function(c){return this.store.dispatch(Mn({gitUndoState:c})),this.store.select(gi(c.workspaceId))},s.prototype.getUndoState=function(c){return this.store.select(gi(c)).pipe((0,ue.U)(function(d){return d&&d.callState||Z.Initial}))},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(p.yh))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}(),Qo=function(){function s(c,d,u,k,M,A,R,G,L,U){var K=this;this.actions$=c,this.gitUndoClient=d,this.gitErrorService=u,this.gitNotificationService=k,this.interactiveOperationsService=M,this.gitUndoFacade=A,this.gitStatusFacade=R,this.gitConnectionFacade=G,this.store=L,this.featureSwitchService=U,this.undoFromGit$=(0,g.GW)(function(){return K.actions$.pipe((0,g.l4)(Mn),(0,ue.U)(function(ee){var fe=ee.gitUndoState,Fe=K.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Undo_Loading_Title","Trident_Git_Toast_Undo_Loading_Message");return(0,C.__assign)((0,C.__assign)({},fe),{notificationId:Fe})}),(0,Me.w)(function(ee){return K.gitUndoClient.undoCommitArtifacts(ee.workspaceId,K.fromGitUndoContractToGitUndoRequest(ee.request)).pipe((0,Me.w)(function(fe){var Fe=(0,C.__assign)((0,C.__assign)({},ee),{response:{almAciton:fe.almOperation}});return[Zt({gitUndoState:Fe})]}),(0,at.K)(function(fe){var Fe=K.gitErrorService.makeGitErrorFromHttpResponse("Git_InvalidUndoRequest",fe);return ee?.notificationId&&(K.gitNotificationService.showErrorNotification(Fe,"Trident_Git_Error_Unable_To_Undo_Title",ee.notificationId),K.gitErrorService.showErrorHandlingDialog(Fe)),(0,Le.of)(en({gitUndoState:ee,error:Fe}))}))}))}),this.getLatestGitAlmOperationSuccess$=(0,g.GW)(function(){return K.actions$.pipe((0,g.l4)(tt),(0,ue.U)(function(ee){return ee.gitSyncState}),(0,on.h)(function(ee){return K.isLatestOpValid(ee)}),(0,Me.w)(function(ee){return K.store.select(gi(ee.workspaceId)).pipe((0,lt.q)(1),(0,Me.w)(function(fe){return K.getUndoActions(ee,fe)}))}))})}return s.prototype.isLatestOpValid=function(c){return!!c?.isValid&&c.gitOperationType===E.u9.Undo},s.prototype.getUndoActions=function(c,d){var k,u=this,M=d&&d.workspaceId===c.workspaceId?{workspaceId:d.workspaceId,request:d.request,response:d?.response,notificationId:d?.notificationId}:{workspaceId:c.workspaceId,request:void 0};switch(c.gitOperationStatus){case E.wM.Successful:return M?.notificationId&&this.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Undo_Success",M.notificationId),this.gitStatusFacade.clearChangesArtifactSelection(M.workspaceId),(0,C.__spreadArray)((0,C.__spreadArray)([Xn({gitUndoStateWithResponse:M})],Cn(M.workspaceId,!0,null!==(k=this.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==k&&k),!0),[Qe({workspaceId:M.workspaceId})],!1);case E.wM.InProgress:return[Zt({gitUndoState:M})];case E.wM.Failed:var A=this.gitErrorService.handleAlmGitError("AlmOperationFailed_UndoFromGit",c);return M?.notificationId&&(this.featureSwitchService.featureSwitches.interactiveOperationUI&&this.interactiveOperationsService.isOptionNotEnabled(A)?(this.interactiveOperationsService.showInteractiveOperationsDialog(A,"Trident_Git_Error_Undo_Title",function(R,G){return u.undoWithInteractiveOptions(R,G,c.workspaceId)}),this.gitNotificationService.hideCurrentNotification()):(this.gitNotificationService.showErrorNotification(A,"Trident_Git_Error_Unable_To_Undo_Title",M.notificationId),this.gitErrorService.showErrorHandlingDialog(A))),[je({gitUndoState:M,error:A}),Qe({workspaceId:M.workspaceId})]}return[Zt({gitUndoState:M})]},s.prototype.fromGitArtifactToArtifactSelector=function(c){var d,u,k,M=c.artifact;return{artifactType:M.artifactType,etag:M.etag,objectId:M.objectId,logicalId:M.logicalId,changeType:null!==(u=null===(d=c.remoteChange)||void 0===d?void 0:d.changeType)&&void 0!==u?u:null===(k=c?.workspaceChange)||void 0===k?void 0:k.changeType}},s.prototype.fromGitUndoContractToGitUndoRequest=function(c){var u,d=this;return{artifacts:null===(u=c.artifacts)||void 0===u?void 0:u.map(function(M){return d.fromGitArtifactToArtifactSelector(M)}),workspaceHead:c.workspaceHead,retryOperationId:c.retryOperationId,interactiveUpdateOptions:c.interactiveUpdateOptions}},s.prototype.undoWithInteractiveOptions=function(c,d,u){var k=this;this.gitConnectionFacade.getGitConnection(u).pipe((0,lt.q)(1)).subscribe(function(M){var A,R;k.gitUndoFacade.UndoFromGit({workspaceId:u,request:{workspaceHead:null===(A=M?.gitConnectionDetails)||void 0===A?void 0:A.head,artifacts:void 0,retryOperationId:null===(R=c.errorInfo)||void 0===R?void 0:R.retryOperationId,interactiveUpdateOptions:d}})})},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(g.eX),I.\u0275\u0275inject(ce.nD),I.\u0275\u0275inject(Ot.jR),I.\u0275\u0275inject(Ft.mn),I.\u0275\u0275inject(Wt),I.\u0275\u0275inject(Yo),I.\u0275\u0275inject(jt),I.\u0275\u0275inject(ui),I.\u0275\u0275inject(p.yh),I.\u0275\u0275inject(fn.V$))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),vr=(0,p.P1)(wt,function(s){return s?.gitSwitchBranch||Zn}),hr=Ut.getSelectors(),Zo=hr.selectAll,Jo=hr.selectEntities,qo=((0,p.P1)(vr,function(s){return Zo(s)}),(0,p.P1)(vr,function(s){return Jo(s)})),_i=function(c){return(0,p.P1)(qo,function(d){return d[c]})},ea=function(){function s(c,d,u,k,M,A){var R=this;this.actions$=c,this.gitSwitchBranchClient=d,this.gitErrorService=u,this.gitNotificationService=k,this.store=M,this.featureSwitchService=A,this.gitSwitchBranch$=(0,g.GW)(function(){return R.actions$.pipe((0,g.l4)(ut),(0,ue.U)(function(G){var L=G.gitSwitchBranchState,U=R.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Switch_Branch_Switching_In_Progress_Message");return(0,C.__assign)((0,C.__assign)({},L),{notificationId:U})}),(0,Me.w)(function(G){return R.gitSwitchBranchClient.switchBranch(G.workspaceId,G.request).pipe((0,Me.w)(function(L){var U=(0,C.__assign)((0,C.__assign)({},G),{response:{almOperation:L.almOperation}});return R.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Switch_Branch_Success_Message",G.notificationId),[ke({gitSwitchBranchState:U})]}),(0,at.K)(function(L){var U=R.gitErrorService.makeGitErrorFromHttpResponse("Git_Switch_Branch_Failed",L),K=R.convertToSwitchBranchSpecficError(U),ee=R.gitErrorService.handleSyncGitError(K,L);return G?.notificationId&&R.gitNotificationService.showErrorNotification(ee,"Trident_Git_Error_Unable_To_Switch_Branch_Title",G.notificationId),(0,Le.of)(Ge({gitSwitchBranchState:G,error:ee}))}))}))}),this.getLatestGitAlmOperationSuccess$=(0,g.GW)(function(){return R.actions$.pipe((0,g.l4)(tt),(0,ue.U)(function(G){return G.gitSyncState}),(0,on.h)(function(G){return R.isLatestOpValid(G)}),(0,Me.w)(function(G){return R.store.select(_i(G.workspaceId)).pipe((0,lt.q)(1),(0,Me.w)(function(L){return R.getSwitchBranchActions(G,L)}))}))})}return s.prototype.getSwitchBranchActions=function(c,d){var u,k=d&&d.workspaceId===c.workspaceId?(0,C.__assign)({},d):{workspaceId:c.workspaceId,request:void 0};if(c)switch(c.gitOperationStatus){case E.wM.Successful:return k?.notificationId&&this.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Switch_Branch_Syncing_Completed_Message",k.notificationId),(0,C.__spreadArray)((0,C.__spreadArray)([vt({gitSwitchBranchState:k})],Cn(k.workspaceId,!0,null!==(u=this.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==u&&u),!0),[Qe({workspaceId:k.workspaceId})],!1);case E.wM.InProgress:return this.setInProgress(k);default:var M=this.gitErrorService.handleAlmGitError("AlmOperationFailed_SwitchGitBranch",c);return k?.notificationId&&this.gitNotificationService.showErrorNotification(M,"Trident_Git_Error_Unable_To_Switch_Branch_Title",k.notificationId),[pe({gitSwitchBranchState:k}),Qe({workspaceId:k.workspaceId})]}return[ke({gitSwitchBranchState:k})]},s.prototype.setInProgress=function(c){var d=this.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Switch_Branch_Syncing_In_Progress_Message");return[ke({gitSwitchBranchState:(0,C.__assign)((0,C.__assign)({},c),{notificationId:d})})]},s.prototype.isLatestOpValid=function(c){return!!c?.isValid&&c.gitOperationType===E.u9.SwitchBranch},s.prototype.convertToSwitchBranchSpecficError=function(c){if(void 0===c)return"Git_Switch_Branch_Invalid_Request";if((0,E.yG)(c))return"Git_Switch_Branch_Item_Not_Found";switch((0,E.lz)(c).errorType){case"Git_MissingDependencies":return"Git_MissingDependenciesSwitchBranch";case"Git_CyclicDependencyDetected":return"Git_CyclicDependencyDetectedSwitchBranch";default:return"Git_Switch_Branch_Invalid_Request"}},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(g.eX),I.\u0275\u0275inject(ce.ZH),I.\u0275\u0275inject(Ot.jR),I.\u0275\u0275inject(Ft.mn),I.\u0275\u0275inject(p.yh),I.\u0275\u0275inject(fn.V$))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),ta=v(17653),ia=v(57035),mi=function(){function s(c,d,u,k,M){var A=this;this.actions$=c,this.router=d,this.gitBranchOutClient=u,this.gitErrorService=k,this.gitNotificationService=M,this.gitBranchOut$=(0,g.GW)(function(){return A.actions$.pipe((0,g.l4)(Je),(0,ue.U)(function(R){var G=R.gitBranchOutState,L=A.gitNotificationService.showLoadingNotification("Trident_Git_Branch_Out","Trident_Git_Toast_Branch_Out_In_Progress_Message");return(0,C.__assign)((0,C.__assign)({},G),{notificationId:L})}),(0,Me.w)(function(R){return A.gitBranchOutClient.branchOut(R.workspaceId,R.request).pipe((0,Me.w)(function(G){var L=(0,C.__assign)((0,C.__assign)({},R),{response:G});return[It({gitBranchOutState:L})]}),(0,at.K)(function(G){var L=A.gitErrorService.makeGitErrorFromHttpResponse("Git_Branch_Out_Failed",G),U="Git_Branch_Out_Failed"!==(0,E.lz)(L).errorType&&function(s,c){var d,u,k,M,A,R=null===(A=null===(M=null===(k=null===(u=null===(d=s.error)||void 0===d?void 0:d["pbi.error"])||void 0===u?void 0:u.details)||void 0===k?void 0:k[0])||void 0===M?void 0:M.detail)||void 0===A?void 0:A.value;if(R)try{var G=JSON.parse(R);if(G?.errorSpecificData){var L=JSON.parse(G.errorSpecificData);if(L)return(0,C.__assign)((0,C.__assign)({},c),{response:{folder:L}})}}catch{return null}return null}(G,R)||R;return R?.notificationId&&A.gitNotificationService.showErrorNotification(L,"Trident_Git_Error_Unable_To_Branch_Out_Git_Branch_Fail_Title",R.notificationId),(0,Le.of)(St({gitBranchOutState:U,error:L}))}))}))}),this.gitBranchOutSuccess$=(0,g.GW)(function(){return A.actions$.pipe((0,g.l4)(It),(0,Me.w)(function(R){var G,L,U,K=R.gitBranchOutState;if(null!==(G=K?.response)&&void 0!==G&&G.initializeConnectionStatus){var fe=K.response.initializeConnectionStatus.incomingChanges&&(null===(U=null===(L=K.response)||void 0===L?void 0:L.initializeConnectionStatus)||void 0===U?void 0:U.incomingChanges.length)>0?A.createUpdateRequestFromState(K):void 0;return(0,Le.of)(ct({gitBranchOutState:K,gitUpdateState:fe}))}var Fe=A.gitErrorService.makeClientSideGitError("Git_Invalid_Connection_Details");return A.gitNotificationService.showErrorNotification(Fe,"Trident_Git_Error_Git_Invalid_Connection_Details_Title"),(0,Le.of)(St({gitBranchOutState:K,error:Fe}))}))}),this.gitBranchOutCompleted$=(0,g.GW)(function(){return A.actions$.pipe((0,g.l4)(bn),(0,ta.b)(function(R){var G,L,U;A.navigateToNewWorkspace(null===(G=R.gitBranchOutState.response)||void 0===G?void 0:G.folder.objectId),null!==(L=R.gitBranchOutState)&&void 0!==L&&L.notificationId&&A.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Branch_Out_Success_Message",null===(U=R.gitBranchOutState)||void 0===U?void 0:U.notificationId)}))},{dispatch:!1})}return s.prototype.createUpdateRequestFromState=function(c){var d,u,k,M=null===(d=c.response)||void 0===d?void 0:d.initializeConnectionStatus,A=null===(u=c.response)||void 0===u?void 0:u.folder.objectId;if(M&&A)return{workspaceId:A,request:{targetCommit:M.partialSyncBaseCommit,workspaceHead:null!==(k=M.head)&&void 0!==k?k:null}}},s.prototype.navigateToNewWorkspace=function(c){this.router.navigate(["/groups/".concat(c,"/")],{queryParamsHandling:"preserve"})},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(g.eX),I.\u0275\u0275inject(ia.F0),I.\u0275\u0275inject(ce.su),I.\u0275\u0275inject(Ot.jR),I.\u0275\u0275inject(Ft.mn))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}();function Dn(s){var c=JSON.parse(s.connectionDetails);return(0,ce.h_)(c)&&"GitHubSourceControl"===c.extensionDataSourceKind}function Ci(s){var c=JSON.parse(s.connectionDetails);return{id:s.id,datasourceName:s.datasourceName,url:(0,ce.h_)(c)?c.extensionDataSourcePath:"https://github.com"}}function Si(s){return(0,C.__assign)((0,C.__assign)({},E.I),{datasourceName:s.displayName,datasourceType:E.LO,connectionDetails:JSON.stringify(s?.repositoryUrl?{url:s?.repositoryUrl}:{}),mashupTestConnectionDetails:{functionName:"GitHubSourceControl.Contents",parameters:[(0,C.__assign)((0,C.__assign)({},E.cW),{value:s?.repositoryUrl})]},credentialDetails:(0,C.__assign)((0,C.__assign)({},E.f7),{credentials:JSON.stringify({credentialData:[{name:"key",value:s.personalAccessToken}]})})})}var bi=function(){function s(c,d,u,k){var M=this;this.actions$=c,this.gitDatasourceClient=d,this.gitErrorService=u,this.gitNotificationService=k,this.loadDatasources$=(0,g.GW)(function(){return M.actions$.pipe((0,g.l4)(vn),(0,Me.w)(function(A){var R,G,L=A.gitDatasourceRequest,U=null===(R=M.gitDatasourcesConfigRecord[L.gitProviderType])||void 0===R?void 0:R.convertDatasourceContractToModel,K=null===(G=M.gitDatasourcesConfigRecord[L.gitProviderType])||void 0===G?void 0:G.filterDatasource;if(!U||!K){var ee=M.gitErrorService.makeClientSideGitError("Git_UnsupportedGitProvider");return(0,Le.of)(et({workspaceId:L.workspaceId,error:ee}))}return M.gitDatasourceClient.discoverDatasources().pipe((0,lt.q)(1),(0,ue.U)(function(fe){return fe.value.filter(K)}),(0,ue.U)(function(fe){return fe.map(U)}),(0,Me.w)(function(fe){var Fe,zi={workspaceId:L.workspaceId,datasourcesRecord:(Fe={},Fe[L.gitProviderType]=fe,Fe)};return(0,Le.of)(Yi({gitDatasourcesState:zi}))}),(0,at.K)(function(fe){var Fe=M.gitErrorService.makeGitErrorFromHttpResponse("Git_Load_Datasources_Failed",fe);return(0,Le.of)(et({workspaceId:L.workspaceId,error:Fe}))}))}))}),this.createDatasource$=(0,g.GW)(function(){return M.actions$.pipe((0,g.l4)(xt),(0,Me.w)(function(A){var R,G=A.request,L=M.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Add_Account_In_Progress_Title","Trident_Git_Toast_Add_Account_In_Progress_Message"),U=null===(R=M.gitDatasourcesConfigRecord[G.gitProviderType])||void 0===R?void 0:R.convertCreateDatasourceRequestModelToContract;if(!U){var K=M.gitErrorService.makeClientSideGitError("Git_UnsupportedGitProvider");return M.gitNotificationService.showErrorNotification(K,"Trident_Git_Toast_Add_Account_Fail_Title",L),(0,Le.of)(ii({workspaceId:G.workspaceId,error:K}))}var ee={workspaceId:G.workspaceId,gitProviderType:G.gitProviderType};return M.gitDatasourceClient.createDatasource(U(G)).pipe((0,Me.w)(function(fe){return M.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Add_Account_Success",L),[Yr({workspaceId:G.workspaceId,datasourceResponse:fe}),vn({gitDatasourceRequest:ee})]}),(0,at.K)(function(fe){var Fe=M.gitErrorService.makeGitErrorFromHttpResponse("Git_Create_Datasource_Failed",fe);return M.gitNotificationService.showErrorNotification(Fe,"Trident_Git_Toast_Add_Account_Fail_Title",L),(0,Le.of)(ii({workspaceId:G.workspaceId,error:Fe}))}))}))}),this.gitDatasourcesConfigRecord=function(){var s;return(s={})[E.IS.AzureDevOps]={},s[E.IS.GitHub]={filterDatasource:Dn,convertDatasourceContractToModel:Ci,convertCreateDatasourceRequestModelToContract:Si},s}()}return s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(g.eX),I.\u0275\u0275inject(ce.aw),I.\u0275\u0275inject(Ot.jR),I.\u0275\u0275inject(Ft.mn))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),wi=function(){function s(c,d,u,k){var M=this;this.actions$=c,this.gitNotificationService=d,this.gitErrorService=u,this.gitRepairClient=k,this.gitRepairItems$=(0,g.GW)(function(){return M.actions$.pipe((0,g.l4)(ai),(0,ue.U)(function(A){var R=A.gitRepairState,G=M.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Repair_Loading_Message");return(0,C.__assign)((0,C.__assign)({},R),{notificationId:G})}),(0,Me.w)(function(A){return M.gitRepairClient.gitRepairItems(A.workspaceId,A.request).pipe((0,Me.w)(function(R){var G=(0,C.__assign)((0,C.__assign)({},A),{response:R});return(0,Le.of)(Zi({gitRepairStateWithResponse:G}))}),(0,at.K)(function(R){var G=M.gitErrorService.makeGitErrorFromHttpResponse("Git_Repair_Items_Failed",R);return A?.notificationId&&(M.gitNotificationService.showErrorNotification(G,"Trident_Git_Error_Unable_To_Repair_Items_Title",A.notificationId),M.gitErrorService.showErrorHandlingDialog(G)),(0,Le.of)(Ji({gitRepairState:A,error:G}))}))}))})}return s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(g.eX),I.\u0275\u0275inject(Ft.mn),I.\u0275\u0275inject(Ot.jR),I.\u0275\u0275inject(ce.P9))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),ki=function(){function s(){}return s.\u0275fac=function(d){return new(d||s)},s.\u0275mod=I.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=I.\u0275\u0275defineInjector({imports:[p.Aw.forFeature("git",qr),g.sQ.forFeature([so]),g.sQ.forFeature([po]),g.sQ.forFeature([ho]),g.sQ.forFeature([No]),g.sQ.forFeature([Vo]),g.sQ.forFeature([jo]),g.sQ.forFeature([Qo]),g.sQ.forFeature([ea]),g.sQ.forFeature([mi]),g.sQ.forFeature([bi]),g.sQ.forFeature([wi]),ce.Ug]}),s}(),Bn=(0,p.P1)(wt,function(s){return s?.gitInitialization||W}),Gn=Qt.getSelectors(),Ii=Gn.selectAll,Kt=Gn.selectEntities,xi=((0,p.P1)(Bn,function(s){return Ii(s)}),(0,p.P1)(Bn,function(s){return Kt(s)})),Pi=function(){function s(c){this.store=c}return s.prototype.getGitInitializationState=function(c){return this.store.select(function(c){return(0,p.P1)(xi,function(d){return d[c]})}(c))},s.prototype.initializeGitConnection=function(c){return this.store.dispatch(B({gitInitializationState:c})),this.getGitInitializationState(c.workspaceId)},s.prototype.invalidateGitConnectionInitialization=function(c){return this.store.dispatch(S({workspaceId:c})),(0,Le.of)(void 0)},s.prototype.getGitInitializationCallState=function(c){return this.getGitInitializationState(c).pipe((0,ue.U)(function(d){return d&&d.callState||me.Initial}))},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(p.yh))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}(),An=(0,p.P1)(wt,function(s){return s?.gitSync||F}),zt=gt.getSelectors(),Pt=zt.selectAll,sn=zt.selectEntities,Ti=((0,p.P1)(An,function(s){return Pt(s)}),(0,p.P1)(An,function(s){return sn(s)}),(0,p.P1)(wt,function(s){return s?.gitProgressIndicator||Qn})),Oi=$e.getSelectors(),Sr=Oi.selectAll,yr=Oi.selectEntities,wr=((0,p.P1)(Ti,function(s){return Sr(s)}),(0,p.P1)(Ti,function(s){return yr(s)}),function(){function s(c){this.store=c}return s.prototype.switchBranch=function(c){return this.store.dispatch(ut({gitSwitchBranchState:c})),this.store.select(_i(c.workspaceId))},s.prototype.getSwitchBranchState=function(c){return this.store.select(_i(c)).pipe((0,ue.U)(function(d){return d&&d.callState||Be.Initial}))},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(p.yh))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}()),Ei=(0,p.P1)(wt,function(s){return s?.gitSessionStorage||ei}),Di=He.getSelectors(),kr=Di.selectAll,Ir=Di.selectEntities,xr=((0,p.P1)(Ei,function(s){return kr(s)}),(0,p.P1)(Ei,function(s){return Ir(s)})),Pr=function(){function s(c){this.store=c}return s.prototype.selectGitProviderType=function(c,d){this.store.dispatch(Jn({workspaceId:c,gitProviderType:d}))},s.prototype.selectDatasource=function(c,d){this.store.dispatch(be({workspaceId:c,datasourceOID:d}))},s.prototype.selectTempDatasource=function(c,d){this.store.dispatch(Ue({workspaceId:c,datasourceOID:d}))},s.prototype.selectOrganization=function(c,d){this.store.dispatch(Tt({workspaceId:c,organization:d}))},s.prototype.selectRepository=function(c,d){this.store.dispatch(Vt({workspaceId:c,repository:d}))},s.prototype.selectBranch=function(c,d){this.store.dispatch(Ve({workspaceId:c,branch:d}))},s.prototype.selectRootDirectory=function(c,d){this.store.dispatch(Re({workspaceId:c,directory:d}))},s.prototype.selectUserAccount=function(c,d){this.store.dispatch(qn({workspaceId:c,userAccount:d}))},s.prototype.setDatasourceUrl=function(c,d,u){this.store.dispatch(bt({workspaceId:c,organization:d,repository:u}))},s.prototype.selectWorkspaceCapacity=function(c,d){this.store.dispatch(Xi({workspaceId:c,isWorkspaceOnCapacity:d}))},s.prototype.resetDatasourceUrl=function(c){this.store.dispatch(tn({workspaceId:c}))},s.prototype.loadGitSessionStorage=function(c){return this.store.select(function(c){return(0,p.P1)(xr,function(d){return d[c]})}(c)).pipe((0,ue.U)(function(d){return d??{workspaceId:c}}))},s.prototype.configureCredentials=function(c){this.store.dispatch(Bt({workspaceId:c}))},s.prototype.deleteCredentials=function(c){this.store.dispatch(Hi({workspaceId:c}))},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(p.yh))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}(),Tr=(0,p.P1)(wt,function(s){return s?.gitBranchOut||mn}),Or=Gt.getSelectors(),pa=Or.selectAll,Bi=Or.selectEntities,Gi=((0,p.P1)(Tr,function(s){return pa(s)}),(0,p.P1)(Tr,function(s){return Bi(s)}),(0,p.P1)(wt,function(s){return s?.gitDatasources||ri})),Dr=nn.getSelectors(),Rn=Dr.selectAll,Et=Dr.selectEntities,ga=((0,p.P1)(Gi,function(s){return Rn(s)}),(0,p.P1)(Gi,function(s){return Et(s)})),Br=function(c){return(0,p.P1)(ga,function(d){return d[c]})},_a=function(){function s(c){this.store=c}return s.prototype.getDatasources=function(c){return this.store.select(Br(c.workspaceId)).pipe((0,ue.U)(function(d){return{workspaceId:c.workspaceId,datasourcesRecord:d?.datasourcesRecord,callState:d?.callState||qe.Initial}}))},s.prototype.loadDatasources=function(c){return this.store.dispatch(vn({gitDatasourceRequest:c})),this.getDatasources(c)},s.prototype.createDatasource=function(c){return this.store.dispatch(xt({request:c})),(0,Le.of)(void 0)},s.prototype.getDataSourcesCallState=function(c){return this.store.select(Br(c)).pipe((0,ue.U)(function(d){return d?.callState||qe.Initial}))},s.\u0275fac=function(d){return new(d||s)(I.\u0275\u0275inject(p.yh))},s.\u0275prov=I.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}(),Gr=(0,p.P1)(wt,function(s){return s?.gitRepair||si}),zr=hn.getSelectors(),ma=zr.selectAll,va=zr.selectEntities;(0,p.P1)(Gr,function(s){return ma(s)}),(0,p.P1)(Gr,function(s){return va(s)})},10510:function(pt,De,v){v.d(De,{Gg:function(){return N.Gg},eL:function(){return N.eL},rC:function(){return N.rC},AC:function(){return N.AC},a6:function(){return P},FF:function(){return vt},Mv:function(){return N.Mv},rl:function(){return S.rl},EI:function(){return S.EI}}),v(81544);var p=v(209),ce=v(35510),C=v(11547),J=v(48787),T=v(17653),X=v(59822),e=v(18016),j=v(65232),N=v(40773),x=v(50423),de=v(7452),ae=v(54323),V=v(77476),f=v(17174),se=v(95825),we=v(65e3),Se=v(74913),Pe=v(55490),me=v(20551),Ke=v(64716),Z=v(85721),ze=v(89237),Ee=v(55334);function Be(ke,pe){if(1&ke&&(x.\u0275\u0275elementContainerStart(0),x.\u0275\u0275elementStart(1,"div",14),x.\u0275\u0275element(2,"tri-svg-icon",15),x.\u0275\u0275elementStart(3,"span"),x.\u0275\u0275text(4),x.\u0275\u0275elementEnd()(),x.\u0275\u0275elementContainerEnd()),2&ke){var Ge=x.\u0275\u0275nextContext();x.\u0275\u0275advance(1),x.\u0275\u0275attribute("data-testid","tri-git-connection-details-settings-v2-directory-error"),x.\u0275\u0275advance(1),x.\u0275\u0275property("name","error_circle_12_filled"),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate1(" ",Ge.branchNameInputError$.value," ")}}function Xe(ke,pe){if(1&ke&&(x.\u0275\u0275elementStart(0,"tri-dropdown-item",16)(1,"p"),x.\u0275\u0275text(2),x.\u0275\u0275elementEnd()()),2&ke){var Ge=pe.$implicit;x.\u0275\u0275property("value",Ge),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate(Ge.text)}}var qe=function(pe){return{error:pe}},Ze="cancelButton",B="createButton",P=function(){function ke(pe,Ge,Je,It,St,ct,bn){this.data=pe,this.cdr=Ge,this.dr=Je,this.gitConnectionDiscoveryService=It,this.localizationService=St,this.telemetryService=ct,this.gitErrorService=bn,this._isCreateButtonEnabled=!1,this._isCreateButtonLoading=!1,this.branchNameInputError$=new ce.X(void 0),this.unfiliteredBranchesList=this.data.branchesList.map(function(wn){return{key:wn,text:wn}}),this.filteredBranchesList=this.unfiliteredBranchesList,this.dialogData={title:this.localizationService.get("Trident_Git_Create_New_Branch"),buttons:[{name:B,label:this.localizationService.get("Create_ButtonText"),buttonType:"primary",disabled:!this.isCreateButtonEnabled,isLoading:this.isCreateButtonLoading},{name:Ze,label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]}}return ke.prototype.onBranchNameChange=function(pe){this.branchName=pe,this.branchNameInputError$.next(this.validateBranchName(pe)),this.calculateCreateButtonState()},ke.prototype.onParentBranchNameChange=function(pe){this.parentBranch=pe?.text,this.calculateCreateButtonState()},ke.prototype.onBranchesSearch=function(pe){this.filteredBranchesList=this.unfiliteredBranchesList.filter(function(Ge){return!pe||Ge.text.toLowerCase().includes(pe.toLowerCase())})},ke.prototype.clickButton=function(pe){pe===B?this.handleCreateBranchRequest():pe===Ze&&this.dr.close()},ke.prototype.handleCreateBranchRequest=function(){var Ge,pe=this;if(this.isCreateButtonLoading=!0,this.branchNameInputError$.next(void 0),!this.branchName)return this.isCreateButtonLoading=!1,void this.branchNameInputError$.next(this.localizationService.get("Trident_Git_Error_Git_InvalidBranchName_Message"));if(!this.parentBranch)return this.isCreateButtonLoading=!1,void this.branchNameInputError$.next(this.localizationService.get("Trident_Git_Error_Git_Create_Branch_Origin_Branch_Not_Found_Message"));if(void 0===this.data.details.gitProviderType||!this.data.details.organizationName||!this.data.details.repositoryName)return this.isCreateButtonLoading=!1,void this.branchNameInputError$.next(this.localizationService.get("Trident_Git_Error_Git_Create_Branch_Failed_Message"));var Je={branchName:this.branchName,parentBranchName:this.parentBranch,organizationName:this.data.details.organizationName,providerType:this.data.details.gitProviderType,repositoryId:this.data.details.repositoryName,projectName:this.data.details.projectName,datasourceOID:null===(Ge=this.data.details)||void 0===Ge?void 0:Ge.datasourceOID,workspaceId:this.data.workspaceId};this.gitConnectionDiscoveryService.createBranch(Je).pipe((0,J.q)(1),(0,T.b)(function(){pe.isCreateButtonLoading=!1,pe.telemetryService.logEvent({name:"Create branch request",properties:{isWorkspaceConnected:pe.data.isWorkspaceConnected}}),pe.dr.close(pe.branchName)}),(0,X.K)(function(It){var St,ct=null===(St=pe.gitErrorService.makeGitErrorFromHttpResponse("Git_Create_Branch_Failed",It))||void 0===St?void 0:St.errorsDetails[0];return ct&&pe.gitErrorService.isDedicatedErrorMessageAvailable(ct.errorType)?pe.branchNameInputError$.next(ct.message):pe.branchNameInputError$.next(pe.localizationService.get("Trident_Git_Error_Git_Create_Branch_Failed_Message")),pe.isCreateButtonLoading=!1,(0,C.of)()})).subscribe()},ke.prototype.validateBranchName=function(pe){return(0,e.tI)(pe,this.localizationService)},ke.prototype.calculateCreateButtonState=function(){this.isCreateButtonEnabled=void 0!==this.branchName&&""!==this.branchName&&void 0!==this.parentBranch&&void 0===this.branchNameInputError$.value},ke.prototype.getDropDownOptions=function(){return{showFullContent:!1,dropdownHeight:this.filteredBranchesList.length>1?200:76,dropdownWidth:304}},ke.prototype.getDropdownOverlayOptions=function(pe){return{dropdownHeight:30*Math.max(Math.min(pe,12),1)+34}},Object.defineProperty(ke.prototype,"isCreateButtonEnabled",{get:function(){return this._isCreateButtonEnabled},set:function(Ge){this._isCreateButtonEnabled=Ge,this.dialogData.buttons[0].disabled=!Ge},enumerable:!1,configurable:!0}),Object.defineProperty(ke.prototype,"isCreateButtonLoading",{get:function(){return this._isCreateButtonLoading},set:function(Ge){this._isCreateButtonLoading=Ge,this.dialogData.buttons[0].isLoading=Ge,this.dialogData.buttons[0].label=this.localizationService.get(Ge?"CapacityProvisioning_SpinnerText":"Create_ButtonText"),this.cdr.detectChanges()},enumerable:!1,configurable:!0}),ke.\u0275fac=function(Ge){return new(Ge||ke)(x.\u0275\u0275directiveInject(p.WI),x.\u0275\u0275directiveInject(x.ChangeDetectorRef),x.\u0275\u0275directiveInject(p.so),x.\u0275\u0275directiveInject(N.eL),x.\u0275\u0275directiveInject(de.z),x.\u0275\u0275directiveInject(ae.t),x.\u0275\u0275directiveInject(j.jR))},ke.\u0275cmp=x.\u0275\u0275defineComponent({type:ke,selectors:[["tri-git-create-branch"]],decls:33,vars:37,consts:[[3,"dialogData","buttonClickEvent"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2235132","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon"],[1,"accordion-area"],[1,"branch-name-input"],[1,"mandatory"],["type","text",3,"ngClass","ngModel","placeholder","ngModelChange"],[4,"ngIf"],[1,"parent-branch-selection"],[1,"header-and-tooltip"],["id","select-origin-branch-dropdown-label-v2"],["tri-svg-icon-16","",3,"name","triTooltip"],["aria-labelledby","select-origin-branch-dropdown-label-V2",3,"ngModel","isDisabled","options","valueChange"],[1,"dropdown-search",3,"value"],[3,"value",4,"ngFor","ngForOf"],["tri-textfield-error","",1,"error-message"],["tri-svg-icon-12","",3,"name"],[3,"value"]],template:function(Ge,Je){var It;(1&Ge&&(x.\u0275\u0275elementStart(0,"trident-dialog",0),x.\u0275\u0275listener("buttonClickEvent",function(ct){return Je.clickButton(ct)}),x.\u0275\u0275elementStart(1,"div"),x.\u0275\u0275text(2),x.\u0275\u0275pipe(3,"localize"),x.\u0275\u0275elementStart(4,"tri-link",1),x.\u0275\u0275text(5),x.\u0275\u0275pipe(6,"localize"),x.\u0275\u0275elementEnd()(),x.\u0275\u0275elementStart(7,"div",2)(8,"div",3)(9,"h4"),x.\u0275\u0275text(10),x.\u0275\u0275pipe(11,"localize"),x.\u0275\u0275elementStart(12,"span",4),x.\u0275\u0275text(13," *"),x.\u0275\u0275elementEnd()(),x.\u0275\u0275elementStart(14,"input",5),x.\u0275\u0275listener("ngModelChange",function(ct){return Je.onBranchNameChange(ct)}),x.\u0275\u0275pipe(15,"localize"),x.\u0275\u0275elementEnd(),x.\u0275\u0275template(16,Be,5,3,"ng-container",6),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(17,"div",7)(18,"div",8)(19,"h4",9),x.\u0275\u0275text(20),x.\u0275\u0275pipe(21,"localize"),x.\u0275\u0275elementStart(22,"span",4),x.\u0275\u0275text(23," *"),x.\u0275\u0275elementEnd()(),x.\u0275\u0275element(24,"tri-svg-icon",10),x.\u0275\u0275pipe(25,"localize"),x.\u0275\u0275pipe(26,"localize"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(27,"tri-dropdown",11),x.\u0275\u0275listener("valueChange",function(ct){return Je.onParentBranchNameChange(ct)}),x.\u0275\u0275elementStart(28,"tri-dropdown-trigger"),x.\u0275\u0275text(29),x.\u0275\u0275pipe(30,"localize"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(31,"tri-search-box",12),x.\u0275\u0275listener("value",function(ct){return Je.onBranchesSearch(ct)}),x.\u0275\u0275elementEnd(),x.\u0275\u0275template(32,Xe,3,2,"tri-dropdown-item",13),x.\u0275\u0275elementEnd()()()()),2&Ge)&&(x.\u0275\u0275property("dialogData",Je.dialogData),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate1(" ",x.\u0275\u0275pipeBind1(3,19,"Trident_Git_Create_New_Branch_Info")," "),x.\u0275\u0275advance(3),x.\u0275\u0275textInterpolate1(" ",x.\u0275\u0275pipeBind1(6,21,"LearnMore")," "),x.\u0275\u0275advance(5),x.\u0275\u0275textInterpolate1(" ",x.\u0275\u0275pipeBind1(11,23,"Trident_Git_Branch_Name")," "),x.\u0275\u0275advance(4),x.\u0275\u0275property("ngClass",x.\u0275\u0275pureFunction1(35,qe,void 0!==Je.branchNameInputError$.value))("ngModel",Je.branchName)("placeholder",x.\u0275\u0275pipeBind1(15,25,"Trident_Git_Branch_Name")),x.\u0275\u0275attribute("data-testid","branch-name-text-input"),x.\u0275\u0275advance(2),x.\u0275\u0275property("ngIf",void 0!==Je.branchNameInputError$.value),x.\u0275\u0275advance(4),x.\u0275\u0275textInterpolate1(" ",x.\u0275\u0275pipeBind1(21,27,"Trident_Git_Create_New_Branch_Create_From")," "),x.\u0275\u0275advance(4),x.\u0275\u0275property("name","info_16_regular")("triTooltip",x.\u0275\u0275pipeBind1(25,29,"Trident_Git_Create_New_Branch_Tooltip")),x.\u0275\u0275attribute("aria-label",x.\u0275\u0275pipeBind1(26,31,"Trident_Git_Create_New_Branch_Tooltip")),x.\u0275\u0275advance(3),x.\u0275\u0275property("ngModel",Je.parentBranch)("isDisabled",0===Je.data.branchesList.length)("options",Je.getDropDownOptions()),x.\u0275\u0275attribute("data-testid","parent-branch-dropdown"),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate1(" ",null!==(It=Je.parentBranch)&&void 0!==It?It:x.\u0275\u0275pipeBind1(30,33,"Trident_Git_Create_New_Branch_Choose_Parent_Branch")," "),x.\u0275\u0275advance(3),x.\u0275\u0275property("ngForOf",Je.filteredBranchesList))},dependencies:[V.NgClass,V.NgForOf,V.NgIf,f.Fj,f.JJ,f.On,se.v,we.v,Se.M,Pe.Z,me.M3,Ke.l,Z.q,me.ii,ze.U,Ee.Y],styles:["[_nghost-%COMP%]     mat-dialog-content{display:flex;flex-direction:column;font-size:var(--fontSizeBase300)}[_nghost-%COMP%]     .mat-mdc-dialog-content.dialog-body{display:flex;flex-direction:column;gap:16px;max-height:none}.accordion-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;padding:24px;border:1px solid var(--globalColorGrey82);border-radius:8px;gap:24px;height:100%}.accordion-area[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold);margin:0 0 4px}.accordion-area[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span.mandatory[_ngcontent-%COMP%]{color:var(--globalColorRedShade10)}.accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid var(--globalColorGrey38);border:1px solid var(--globalColorGrey82);border-radius:4px;padding:6px 10px 6px 12px;box-sizing:border-box}.accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid var(--globalColorBrand80)}.accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   .input-error[_ngcontent-%COMP%]{border-color:var(--colorPaletteRedForeground1)}.accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]{margin-bottom:12px;display:flex;flex-direction:column;gap:4px}.accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-and-tooltip[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:20px}.accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-and-tooltip[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38)}tri-dropdown[_ngcontent-%COMP%]{width:100%;overflow-x:hidden;text-overflow:ellipsis;color:var(--colorNeutralForeground4);box-sizing:border-box}tri-dropdown.error[_ngcontent-%COMP%]{border:1px solid var(--globalColorCranberryPrimary)}.dropdown-search[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;margin-bottom:2px}.error-message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:4px;color:var(--globalColorCranberryPrimary);fill:var(--globalColorCranberryPrimary)}.error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200)}.error-message[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{min-width:12px;min-height:12px}"],changeDetection:0}),ke}(),S=(v(71707),v(31572)),$=v(32980),H=v(6814),_e=v(78035),Ce=v(95228),Ie=v(16149),xe=v(17177),it=v(75476),ft=v(57156),D=v(13281),le=v(8816),Oe=v(2552),Ae=v(12385),Ct=v(44913),rt=v(46303),st=v(94757),tt=v(84515),mt=v(42178),Qe=v(81339),ut=v(15468),vt=function(){function ke(){}return ke.\u0275fac=function(Ge){return new(Ge||ke)},ke.\u0275mod=x.\u0275\u0275defineNgModule({type:ke}),ke.\u0275inj=x.\u0275\u0275defineInjector({providers:[st.G,tt.e,mt.r,ut.A,H.Ns.withLazyService(Qe.A,mt.r)],imports:[V.CommonModule,f.u5,$.sp,Ie.m,_e.Y,xe.T6,le.w,D.fe,ft.F,it.OT,Ce.W,Oe.Ug,Ae.K3,Ct.lK,rt.b]}),ke}()},81544:function(pt,De,v){v.d(De,{b:function(){return Te}});var g=v(209),p=v(30794),ce=v(35510),C=v(11547),J=v(59017),T=v(48787),X=v(14172),e=v(81905),j=v(83317),N=v(59973),x=v(70628),de=v(18016),ae=v(31572),V=v(40773),f=v(50423),se=v(7452),we=v(77476),Se=v(17174),Pe=v(95825),me=v(74913),Ke=v(55490),Z=v(55334);function ze(ge,y){1&ge&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"tri-svg-icon",8),f.\u0275\u0275elementStart(3,"span"),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"localize"),f.\u0275\u0275elementEnd()(),f.\u0275\u0275elementContainerEnd()),2&ge&&(f.\u0275\u0275advance(1),f.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-name-error"),f.\u0275\u0275advance(1),f.\u0275\u0275property("name","error_circle_12_filled"),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,3,"Pipelines_CreatePipelineDialog_NameAlreadyExistsError")," "))}function Ee(ge,y){1&ge&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"tri-svg-icon",8),f.\u0275\u0275elementStart(3,"span"),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"localize"),f.\u0275\u0275elementEnd()(),f.\u0275\u0275elementContainerEnd()),2&ge&&(f.\u0275\u0275advance(1),f.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-pat-error"),f.\u0275\u0275advance(1),f.\u0275\u0275property("name","error_circle_12_filled"),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,3,"Trident_Git_Auth_Dialog_Param_PAT_Error")," "))}function Be(ge,y){1&ge&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"tri-svg-icon",8),f.\u0275\u0275elementStart(3,"span"),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"localize"),f.\u0275\u0275elementEnd()(),f.\u0275\u0275elementContainerEnd()),2&ge&&(f.\u0275\u0275advance(1),f.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-url-error"),f.\u0275\u0275advance(1),f.\u0275\u0275property("name","error_circle_12_filled"),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,3,"Trident_Git_Auth_Dialog_Param_RepoUrl_Error")," "))}var Xe=function(y){return{error:y}};function qe(ge,y){if(1&ge){var O=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275elementStart(1,"trident-dialog",1),f.\u0275\u0275listener("buttonClickEvent",function(w){f.\u0275\u0275restoreView(O);var S=f.\u0275\u0275nextContext();return f.\u0275\u0275resetView(S.clickButton(w))}),f.\u0275\u0275pipe(2,"localize"),f.\u0275\u0275elementStart(3,"div")(4,"h4"),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"localize"),f.\u0275\u0275elementStart(7,"span",2),f.\u0275\u0275text(8," *"),f.\u0275\u0275elementEnd()(),f.\u0275\u0275elementStart(9,"div",3)(10,"input",4),f.\u0275\u0275listener("ngModelChange",function(w){f.\u0275\u0275restoreView(O);var S=f.\u0275\u0275nextContext();return f.\u0275\u0275resetView(S.displayName=w)})("ngModelChange",function(w){f.\u0275\u0275restoreView(O);var S=f.\u0275\u0275nextContext();return f.\u0275\u0275resetView(S.displayNameChanged(w))}),f.\u0275\u0275pipe(11,"async"),f.\u0275\u0275pipe(12,"localize"),f.\u0275\u0275pipe(13,"localize"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(14,ze,6,5,"ng-container",0),f.\u0275\u0275pipe(15,"async"),f.\u0275\u0275elementEnd()(),f.\u0275\u0275elementStart(16,"div")(17,"h4"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"localize"),f.\u0275\u0275elementStart(20,"span",2),f.\u0275\u0275text(21," *"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(22,"tri-svg-icon",5),f.\u0275\u0275pipe(23,"localize"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"div",3)(25,"input",6),f.\u0275\u0275listener("ngModelChange",function(w){f.\u0275\u0275restoreView(O);var S=f.\u0275\u0275nextContext();return f.\u0275\u0275resetView(S.personalAccessToken=w)})("ngModelChange",function(w){f.\u0275\u0275restoreView(O);var S=f.\u0275\u0275nextContext();return f.\u0275\u0275resetView(S.personalAccessTokenChanged(w))}),f.\u0275\u0275pipe(26,"async"),f.\u0275\u0275pipe(27,"localize"),f.\u0275\u0275pipe(28,"localize"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(29,Ee,6,5,"ng-container",0),f.\u0275\u0275pipe(30,"async"),f.\u0275\u0275elementEnd()(),f.\u0275\u0275elementStart(31,"div")(32,"h4"),f.\u0275\u0275text(33),f.\u0275\u0275pipe(34,"localize"),f.\u0275\u0275element(35,"tri-svg-icon",5),f.\u0275\u0275pipe(36,"localize"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"div",3)(38,"input",4),f.\u0275\u0275listener("ngModelChange",function(w){f.\u0275\u0275restoreView(O);var S=f.\u0275\u0275nextContext();return f.\u0275\u0275resetView(S.repositoryUrl=w)})("ngModelChange",function(w){f.\u0275\u0275restoreView(O);var S=f.\u0275\u0275nextContext();return f.\u0275\u0275resetView(S.repositoryUrlChanged(w))}),f.\u0275\u0275pipe(39,"async"),f.\u0275\u0275pipe(40,"localize"),f.\u0275\u0275pipe(41,"localize"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(42,Be,6,5,"ng-container",0),f.\u0275\u0275pipe(43,"async"),f.\u0275\u0275elementEnd()()(),f.\u0275\u0275elementContainerEnd()}if(2&ge){var E=y.ngIf,B=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("dialogData",B.dialogData)("closeButtonLabel",f.\u0275\u0275pipeBind1(2,27,"Cancel_ButtonText")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(6,29,"Trident_Git_Auth_Dialog_Param_DisplayName")," "),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(63,Xe,f.\u0275\u0275pipeBind1(11,31,B.isDisplayNameInvalid$)))("ngModel",B.displayName)("placeholder",f.\u0275\u0275pipeBind1(12,33,E.localizationKeysList[1])),f.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-display-name-input")("aria-label",f.\u0275\u0275pipeBind1(13,35,"Trident_Git_Auth_Dialog_Param_DisplayName")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngIf",f.\u0275\u0275pipeBind1(15,37,B.isDisplayNameInvalid$)),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(19,39,"Trident_Git_Auth_Dialog_Param_PAT")," "),f.\u0275\u0275advance(4),f.\u0275\u0275property("name","info_16_regular")("triTooltip",f.\u0275\u0275pipeBind1(23,41,E.localizationKeysList[2])),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(65,Xe,f.\u0275\u0275pipeBind1(26,43,B.isPersonalAccessTokenInvalid$)))("ngModel",B.personalAccessToken)("placeholder",f.\u0275\u0275pipeBind1(27,45,E.localizationKeysList[3])),f.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-pat-input")("aria-label",f.\u0275\u0275pipeBind1(28,47,"Trident_Git_Auth_Dialog_Param_PAT")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngIf",f.\u0275\u0275pipeBind1(30,49,B.isPersonalAccessTokenInvalid$)),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(34,51,"Trident_Git_Auth_Dialog_Param_RepoUrl")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("name","info_16_regular")("triTooltip",f.\u0275\u0275pipeBind1(36,53,E.localizationKeysList[4])),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(67,Xe,f.\u0275\u0275pipeBind1(39,55,B.isRepositoryUrlInvalid$)))("ngModel",B.repositoryUrl)("placeholder",f.\u0275\u0275pipeBind1(40,57,E.localizationKeysList[5])),f.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-url-input")("aria-label",f.\u0275\u0275pipeBind1(41,59,"Trident_Git_Auth_Dialog_Param_RepoUrl")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngIf",f.\u0275\u0275pipeBind1(43,61,B.isRepositoryUrlInvalid$))}}var Te=function(){function ge(y,O,E,B,P,w){this.cdr=y,this.dr=O,this.gitDatasourceService=E,this.gitSessionStorageService=B,this.localizationService=P,this.data=w,this._isAddButtonEnabled=!1,this._isAddButtonLoading=!1,this.destroy$=new p.xQ,this.isDisplayNameInvalid$=new ce.X(void 0),this.isPersonalAccessTokenInvalid$=new ce.X(void 0),this.validatePersonalAccessToken=function(){return!1},this.isRepositoryUrlInvalid$=new ce.X(!1),this.validateRepositoryUrl=function(){return!0},this.workspaceId=this.data,this.selectedGitProviderType$=(0,C.of)(),this.componentAssets$=(0,C.of)(),this.existingDatasourcesNames=[],this.dialogData={title:"",buttons:[{name:"Add",label:this.localizationService.get("ItemAction_Add"),buttonType:"primary",disabled:!this.isAddButtonEnabled,isLoading:this.isAddButtonLoading},{name:"Cancel",label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]},this.displayName="",this.personalAccessToken="",this.repositoryUrl=""}return ge.prototype.ngOnInit=function(){var y=this,O=(0,ae.fA)();this.selectedGitProviderType$=this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId).pipe((0,T.q)(1),(0,X.U)(function(E){return E?.selectedGitProviderType})),this.componentAssets$=this.selectedGitProviderType$.pipe((0,T.q)(1),(0,X.U)(function(E){if(E){var B=O[E];if(B)return y.dialogData.title=y.localizationService.get(B.localizationKeysList[0]),y.validatePersonalAccessToken=B.validationFunctionsList[0],y.validateRepositoryUrl=B.validationFunctionsList[1],B}})),this.selectedGitProviderType$.pipe((0,T.q)(1),(0,e.w)(function(E){return void 0!==E?y.gitDatasourceService.getDatasources({workspaceId:y.workspaceId,gitProviderType:E}).pipe((0,X.U)(function(B){return{gitProviderType:E,datasources:B}})):(0,C.of)({gitProviderType:void 0,datasources:void 0})})).subscribe(function(E){var B,P=E.gitProviderType,w=E.datasources;void 0!==w?.datasourcesRecord&&void 0!==P&&(y.existingDatasourcesNames=null!==(B=w.datasourcesRecord[P].map(function($){return $.datasourceName.toLowerCase()}))&&void 0!==B?B:[])})},ge.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},ge.prototype.clickButton=function(y){"Add"===y?this.handleCreateDatasourceRequest():"Cancel"===y&&this.dr.close()},ge.prototype.displayNameChanged=function(y){this.isDisplayNameInvalid$.next(this.existingDatasourcesNames.includes(y.toLowerCase())),this.calculateAddButtonState()},ge.prototype.personalAccessTokenChanged=function(y){this.isPersonalAccessTokenInvalid$.next(!(""===this.personalAccessToken||this.validatePersonalAccessToken(y))),this.calculateAddButtonState()},ge.prototype.repositoryUrlChanged=function(y){this.isRepositoryUrlInvalid$.next(""!==y&&!this.validateRepositoryUrl(y)),this.calculateAddButtonState()},ge.prototype.handleCreateDatasourceRequest=function(){var y=this,O={workspaceId:this.workspaceId,gitProviderType:de.IS.GitHub,displayName:this.displayName,personalAccessToken:this.personalAccessToken,repositoryUrl:this.repositoryUrl};this.isAddButtonLoading=!0,(0,J.aj)([this.gitDatasourceService.getDatasourceCallState(this.workspaceId),this.gitDatasourceService.createDatasource(O)]).pipe((0,j.R)(this.destroy$),(0,N.h)(function(E){var B=E[0];return B===x.j3q.Completed||(0,de.pb)(B)}),(0,T.q)(1)).subscribe(function(E){var B=E[0];B===x.j3q.Completed?y.dr.close():(y.isAddButtonLoading=!1,(!(0,de.pb)(B)||!y.isRecoverableError(B))&&y.dr.close())})},ge.prototype.calculateAddButtonState=function(){this.isAddButtonEnabled=!(""===this.displayName||this.isDisplayNameInvalid$.value||""===this.personalAccessToken||this.isPersonalAccessTokenInvalid$.value||""!==this.repositoryUrl&&this.isRepositoryUrlInvalid$.value)},ge.prototype.isRecoverableError=function(y){return!1},Object.defineProperty(ge.prototype,"isAddButtonEnabled",{get:function(){return this._isAddButtonEnabled},set:function(O){this._isAddButtonEnabled=O,this.dialogData.buttons[0].disabled=!O},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"isAddButtonLoading",{get:function(){return this._isAddButtonLoading},set:function(O){this._isAddButtonLoading=O,this.dialogData.buttons[0].isLoading=O,this.dialogData.buttons[0].label=this.localizationService.get(O?"Adding":"ItemAction_Add"),this.cdr.detectChanges()},enumerable:!1,configurable:!0}),ge.\u0275fac=function(O){return new(O||ge)(f.\u0275\u0275directiveInject(f.ChangeDetectorRef),f.\u0275\u0275directiveInject(g.so),f.\u0275\u0275directiveInject(V.Ae),f.\u0275\u0275directiveInject(x.gCl),f.\u0275\u0275directiveInject(se.z),f.\u0275\u0275directiveInject(g.WI))},ge.\u0275cmp=f.\u0275\u0275defineComponent({type:ge,selectors:[["tri-git-auth-dialog"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"dialogData","closeButtonLabel","buttonClickEvent"],[1,"mandatory"],["tri-textfield","",1,"input-container"],["type","text",3,"ngClass","ngModel","placeholder","ngModelChange"],["tri-svg-icon-16","",3,"name","triTooltip"],["type","password",3,"ngClass","ngModel","placeholder","ngModelChange"],["tri-textfield-error","",1,"error-message"],["tri-svg-icon-12","",3,"name"]],template:function(O,E){1&O&&(f.\u0275\u0275template(0,qe,44,69,"ng-container",0),f.\u0275\u0275pipe(1,"async")),2&O&&f.\u0275\u0275property("ngIf",f.\u0275\u0275pipeBind1(1,1,E.componentAssets$))},dependencies:[we.NgClass,we.NgIf,Se.Fj,Se.JJ,Se.On,Pe.v,me.M,Ke.Z,we.AsyncPipe,Z.Y],styles:["[_nghost-%COMP%]     mat-dialog-content{display:flex;flex-direction:column;gap:8px;font-size:var(--fontSizeBase300)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container){display:flex;flex-direction:column;gap:4px}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) h4{display:flex;flex-direction:row;align-items:center;gap:4px;margin:0;font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) h4 span.mandatory{color:var(--globalColorRedShade10)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) h4 tri-svg-icon{fill:var(--globalColorGrey38)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) input{width:100%;border-bottom:1px solid var(--globalColorGrey38)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) input.error{border:1px solid var(--globalColorCranberryPrimary)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) input:focus{border-bottom:2px solid var(--globalColorBrand80)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) .error-message{display:flex;flex-direction:row}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) .error-message span{font-size:var(--fontSizeBase200)}[_nghost-%COMP%]     mat-dialog-actions .button-container{gap:8px;margin:16px 0 0}[_nghost-%COMP%]     .mat-mdc-dialog-content.dialog-body{max-height:none}"],changeDetection:0}),ge}()},71707:function(pt,De,v){v.d(De,{A:function(){return we}});var g=v(48787),p=v(81905),ce=v(17653),C=v(59822),J=v(209),T=v(11547),X=v(65232),e=v(70628),j=v(12385),N=v(40773),x=v(50423),de=v(7452),ae=v(95825),V=v(55334),f="cancelButton",se="logoutButton",we=function(){function Se(Pe,me,Ke,Z,ze,Ee,Be,Xe){this.data=Pe,this.dr=me,this.localizationService=Ke,this.gitConfigureCredentialsService=Z,this.gitSessionStorageService=ze,this.gitNotificationService=Ee,this.gitConnectionService=Be,this.gitErrorService=Xe,this.dialogData={title:this.localizationService.get("Trident_Git_Log_Out_Dialog_Title"),buttons:[{name:se,label:this.localizationService.get("Trident_Git_Log_Out"),buttonType:"primary"},{name:f,label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]}}return Se.prototype.clickButton=function(Pe){Pe===se?this.handleLogOutRequest():Pe===f&&this.dr.close(Pe)},Se.prototype.handleLogOutRequest=function(){var Pe=this;this.gitConnectionService.getGitConnection(this.data.workspaceId).pipe((0,g.q)(1),(0,p.w)(function(me){return me?.gitConnectionDetails?Pe.gitConfigureCredentialsService.deleteConfiguredCredentials(Pe.data.workspaceId):(0,T.of)(void 0)}),(0,g.q)(1),(0,ce.b)(function(){Pe.gitSessionStorageService.deleteCredentials(Pe.data.workspaceId),Pe.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Logout_Success"),Pe.dr.close(se)}),(0,C.K)(function(me){var Ke=Pe.gitErrorService.makeGitErrorFromHttpResponse("Git_Delete_Credentials_Failed",me);return Pe.gitNotificationService.showErrorNotification(Ke,"Trident_Git_Toast_Logout_Fail"),[]})).subscribe()},Se.\u0275fac=function(me){return new(me||Se)(x.\u0275\u0275directiveInject(J.WI),x.\u0275\u0275directiveInject(J.so),x.\u0275\u0275directiveInject(de.z),x.\u0275\u0275directiveInject(N.id),x.\u0275\u0275directiveInject(e.gCl),x.\u0275\u0275directiveInject(j.mn),x.\u0275\u0275directiveInject(N.rC),x.\u0275\u0275directiveInject(X.jR))},Se.\u0275cmp=x.\u0275\u0275defineComponent({type:Se,selectors:[["tri-git-logout-dialog"]],decls:4,vars:4,consts:[[3,"dialogData","buttonClickEvent"]],template:function(me,Ke){1&me&&(x.\u0275\u0275elementStart(0,"trident-dialog",0),x.\u0275\u0275listener("buttonClickEvent",function(ze){return Ke.clickButton(ze)}),x.\u0275\u0275elementStart(1,"p"),x.\u0275\u0275text(2),x.\u0275\u0275pipe(3,"localize"),x.\u0275\u0275elementEnd()()),2&me&&(x.\u0275\u0275property("dialogData",Ke.dialogData),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate1(" ",x.\u0275\u0275pipeBind1(3,2,"Trident_Git_Log_Out_Dialog_Message")," "))},dependencies:[ae.v,V.Y],encapsulation:2,changeDetection:0}),Se}()},31572:function(pt,De,v){v.d(De,{NJ:function(){return Te},P0:function(){return ge},rl:function(){return Ze},fA:function(){return y},ge:function(){return B},_k:function(){return P},Tr:function(){return E},EI:function(){return O},yp:function(){return w}});var g=v(11547),p=v(18016),ce=v(48787),C=v(14172);function J(S){if(!S?.project)throw"Git_AzureDevOpsMissingProjectName";if(S?.datasourceOID)throw"Git_AzureDevOpsInvalidParameters"}function T(S){if(!S?.projectName)throw"Git_AzureDevOpsMissingProjectName"}function X(S){if(!S?.projectName)throw"Git_AzureDevOpsMissingProjectName"}function e(S){return void 0!==S?.selectedUserAccount}function j(S){if(!S?.projectName)throw"Git_AzureDevOpsMissingProjectName"}function N(S,$){return $.getGitConnection(S).pipe((0,ce.q)(1),(0,C.U)(function(H){return void 0===H?.gitConnectionDetails}))}var x=v(59017),de="https://github.com";function f(S){return{datasourceOID:S.id}}function se(S){var $;return null!==($=S.isConfigured)&&void 0!==$&&$}function we(S,$,H){return(0,x.aj)([H.loadGitSessionStorage(S),$.getGitConnection(S)]).pipe((0,C.U)(function(_e){var Ie=_e[1];return void 0!==Ie?.gitConnectionDetails}))}function Se(S,$,H){if($&&$!==de){if(!Z($))throw new Error("Git_Invalid_Github_Repository_Url");var _e=$.split("/");S.setDatasourceUrl(H,_e[3],_e[4])}else S.resetDatasourceUrl(H)}var Pe=["Trident_Git_Auth_Dialog_Title_GitHub","Trident_Git_Auth_Dialog_Param_DisplayName_Placeholder","Trident_Git_Auth_Dialog_Param_PAT_Tooltip_GitHub","Trident_Git_Auth_Dialog_Param_PAT_Placeholder_GitHub","Trident_Git_Auth_Dialog_Param_RepoUrl_Tooltip_GitHub","Trident_Git_Auth_Dialog_Param_RepoUrl_Placeholder"],me=[function(S){return S.toLowerCase().startsWith("ghp_")||S.startsWith("github_pat_")},Z];function Z(S){var $=S.replace(/\/$|\.git$/g,"");return/^https:\/\/github\.com\/[^/]+\/[^/]+$/.test($)}function ze(S){if(!S?.datasourceOID)throw"Git_GitHubMissingDatasourceOID"}function Ee(S){if(S?.projectName)throw"Git_GitHubInvalidParameters";if(!S?.datasourceOID)throw"Git_GitHubMissingDatasourceOID"}function Be(S){if(S?.projectName)throw"Git_GitHubInvalidParameters";if(!S?.datasourceOID)throw"Git_GitHubMissingDatasourceOID"}function Xe(S){if(S?.projectName)throw"Git_GitHubInvalidParameters";if(!S?.datasourceOID)throw"Git_GitHubMissingDatasourceOID"}function qe(S,$){return S?.filter(function(H){return H.url===$||H.url===de})}function Ze(S){return"".concat(de,"/").concat(S.organizationName,"/").concat(S.repositoryName)}var Te=function(S){return S[S.ShowADOAccountsList=0]="ShowADOAccountsList",S[S.ShowGitHubDataSourcesList=1]="ShowGitHubDataSourcesList",S}({}),ge=function(S){return S.UserAccountDetails="UserAccountDetails",S.DatasourceDetails="DatasourceDetails",S}({});function y(){var S;return(S={})[p.IS.AzureDevOps]=void 0,S[p.IS.GitHub]={localizationKeysList:Pe,validationFunctionsList:me},S}function O(){var S;return(S={})[p.IS.AzureDevOps]={displayMode:Te.ShowADOAccountsList,connectedProviderDetailsType:ge.UserAccountDetails,doesGitProviderNeedsDatasource:!1,canTheUserLogOut:N,shouldShowSwitchAccount:function(){return(0,g.of)(!1)},isWorkspaceConnectedToGitProvider:e},S[p.IS.GitHub]={displayMode:Te.ShowGitHubDataSourcesList,connectedProviderDetailsType:ge.DatasourceDetails,doesGitProviderNeedsDatasource:!0,canTheUserLogOut:function(){return(0,g.of)(!0)},shouldShowSwitchAccount:we,isWorkspaceConnectedToGitProvider:se,selectDatasourceSideEffect:Se,filterDatasources:qe,getFilteringValue:Ze},S}function E(){var S;return(S={})[p.IS.AzureDevOps]={},S[p.IS.GitHub]={createConfigureCredentialsRequestFromDatasource:f},S}function B(){var S;return(S={})[p.IS.AzureDevOps]={getBranchesValidator:J,createBranchRequestValidator:T,createDirectoryRequestValidator:X},S[p.IS.GitHub]={getBranchesValidator:ze,createBranchRequestValidator:Ee,createDirectoryRequestValidator:Be},S}function P(){var S;return(S={})[p.IS.AzureDevOps]={gitConnectionDetailsContractValidator:j},S[p.IS.GitHub]={gitConnectionDetailsContractValidator:Xe},S}function w(S){var $=new Map;return $.set(p.IS.GitHub,function(S){var $,H;return null===(H=null===($=S.featureSwitches)||void 0===$?void 0:$.gitHubTenantSettingsEnabled)||void 0===H||H}(S)),$.set(p.IS.AzureDevOps,!0),$}},94757:function(pt,De,v){v.d(De,{G:function(){return X}});var g=v(33554),p=v(58417),ce=v(48787),C=v(14172),J=v(94771),T=v(50423),X=function(){function e(j){this.featureSwitchService=j,this.featureSwitchStatusSubjects={}}return e.prototype.isTenantAdminEnabled=function(j){return this.featureSwitchStatusSubjects[j]||(this.featureSwitchStatusSubjects[j]=new g.t(1),this.fetchFeatureSwitchStatus(j).subscribe(this.featureSwitchStatusSubjects[j])),this.featureSwitchStatusSubjects[j].asObservable()},e.prototype.fetchFeatureSwitchStatus=function(j){var N=this;return!0!==this.featureSwitchService.featureSwitches.tridentGitSwitchesDelegation?new p.y(function(x){x.next(!!N.featureSwitchService.featureSwitches.gitIntegrationTenantSwitchEnabled),x.complete()}):this.featureSwitchService.getWorkspaceDelegatedSetting({name:"GitIntegrationTenantSwitchEnabled",workspaceObjectId:j}).pipe((0,ce.q)(1),(0,C.U)(function(x){return x.isEnabled||!1}))},e.\u0275fac=function(N){return new(N||e)(T.\u0275\u0275inject(J.V$))},e.\u0275prov=T.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},84515:function(pt,De,v){v.d(De,{e:function(){return J}});var g=v(14172),p=v(2552),ce=v(31572),C=v(50423),J=function(){function T(X){this.gitConnectionDiscoveryClient=X,this.serviceConfig=(0,ce.ge)()}return T.prototype.getOrganizations=function(X,e){return this.gitConnectionDiscoveryClient.getOrganizations(X,e)},T.prototype.getProjects=function(X,e,j){return this.gitConnectionDiscoveryClient.getProjects(X,e,j)},T.prototype.getRepositories=function(X,e,j,N){return this.gitConnectionDiscoveryClient.getRepositories(X,e,j,N)},T.prototype.getBranches=function(X){var e,j=null===(e=this.serviceConfig[X.gitProviderType])||void 0===e?void 0:e.getBranchesValidator;return j&&j(X),this.gitConnectionDiscoveryClient.getBranches(X.workspaceId,X.gitProviderType,X.organization,X.repository,X?.project,X?.datasourceOID)},T.prototype.createBranch=function(X){var e,j=null===(e=this.serviceConfig[X.providerType])||void 0===e?void 0:e.createBranchRequestValidator;return j&&j(X),this.gitConnectionDiscoveryClient.createBranch(X)},T.prototype.createDirectory=function(X){var e,j=null===(e=this.serviceConfig[X.providerType])||void 0===e?void 0:e.createDirectoryRequestValidator;return j&&j(X),this.gitConnectionDiscoveryClient.createDirectory(X)},T.prototype.getRelatedWorkspaces=function(X){return this.gitConnectionDiscoveryClient.getRelatedWorkspaces(X).pipe((0,g.U)(function(e){return e.relatedWorkspaces}))},T.\u0275fac=function(e){return new(e||T)(C.\u0275\u0275inject(p.bE))},T.\u0275prov=C.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"}),T}()},81339:function(pt,De,v){v.d(De,{A:function(){return p}});var p=new(v(50423).InjectionToken)("GitConnectionService")},42178:function(pt,De,v){v.d(De,{r:function(){return x}});var g=v(11547),p=v(48787),ce=v(81905),C=v(17653),J=v(59822),T=v(70628),X=v(94757),e=v(31572),j=v(50423),N=v(85732),x=function(){function de(ae,V,f){this.gitConnectionFacade=ae,this.gitAdminSwitchesService=V,this.store=f,this.serviceConfig=(0,e._k)()}return de.prototype.loadGitConnection=function(ae){var V=this;return this.gitAdminSwitchesService.isTenantAdminEnabled(ae).pipe((0,p.q)(1),(0,ce.w)(function(f){return f?V.gitConnectionFacade.loadGitConnection(ae):(0,g.of)(void 0)}),(0,p.q)(1),(0,C.b)(function(f){var se;if(f?.gitConnectionDetails){var we=null===(se=V.serviceConfig[f.gitConnectionDetails.gitProviderType])||void 0===se?void 0:se.gitConnectionDetailsContractValidator;we&&we(f.gitConnectionDetails)}}),(0,J.K)(function(){return(0,g.of)(void 0)}))},de.prototype.ensureGitConnection=function(ae,V){var f=this;return void 0===V&&(V=!1),V?this.gitConnectionFacade.ensureGitConnection(ae):this.gitAdminSwitchesService.isTenantAdminEnabled(ae).pipe((0,p.q)(1),(0,ce.w)(function(se){return se?f.gitConnectionFacade.ensureGitConnection(ae):(0,g.of)(void 0)}))},de.prototype.getGitConnection=function(ae){var V=this;return this.gitAdminSwitchesService.isTenantAdminEnabled(ae).pipe((0,p.q)(1),(0,ce.w)(function(f){return f?V.gitConnectionFacade.getGitConnection(ae):(0,g.of)(void 0)}))},de.prototype.updateDatasourceInGitConnection=function(ae,V){this.store.dispatch((0,T.V_q)({workspaceId:ae,datasourceOID:V}))},de.prototype.saveGitConnection=function(ae){var V;if(ae?.gitConnectionDetails){var f=null===(V=this.serviceConfig[ae.gitConnectionDetails.gitProviderType])||void 0===V?void 0:V.gitConnectionDetailsContractValidator;f&&f(ae.gitConnectionDetails)}return this.gitConnectionFacade.saveGitConnection(ae)},de.prototype.deleteGitConnection=function(ae){return this.gitConnectionFacade.deleteGitConnection(ae)},de.prototype.getGitConnectionOperationState=function(ae){var V=this;return this.gitAdminSwitchesService.isTenantAdminEnabled(ae).pipe((0,p.q)(1),(0,ce.w)(function(f){return f?V.gitConnectionFacade.getGitConnectionOperationState(ae):(0,g.of)(T.Gui.Initial)}))},de.prototype.checkoutBranch=function(ae){return this.gitConnectionFacade.checkoutBranch(ae)},de.\u0275fac=function(V){return new(V||de)(j.\u0275\u0275inject(T.f$Z),j.\u0275\u0275inject(X.G),j.\u0275\u0275inject(N.yh))},de.\u0275prov=j.\u0275\u0275defineInjectable({token:de,factory:de.\u0275fac,providedIn:"root"}),de}()},15468:function(pt,De,v){v.d(De,{A:function(){return ce}});var g=v(70628),p=v(50423),ce=function(){function C(J){this.gitDatasourcesFacade=J}return C.prototype.createDatasource=function(J){return this.gitDatasourcesFacade.createDatasource(J)},C.prototype.discoverDatasources=function(J){return this.gitDatasourcesFacade.loadDatasources(J)},C.prototype.getDatasources=function(J){return this.gitDatasourcesFacade.getDatasources(J)},C.prototype.getDatasourceCallState=function(J){return this.gitDatasourcesFacade.getDataSourcesCallState(J)},C.\u0275fac=function(T){return new(T||C)(p.\u0275\u0275inject(g.iAv))},C.\u0275prov=p.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"}),C}()},40773:function(pt,De,v){v.d(De,{Gg:function(){return g.G},id:function(){return de},eL:function(){return C.e},rC:function(){return T.r},AC:function(){return J.A},Ae:function(){return X.A},Mv:function(){return ae}});var g=v(94757),p=v(70628),C=v(84515),J=v(81339),T=v(42178),X=v(15468),e=v(60225),j=v(2552),N=v(31572),x=v(50423),de=function(){function V(f){this.gitDatasourceClient=f,this.datasourceServiceConfigRecord=(0,N.Tr)()}return V.prototype.configureCredentials=function(f,se,we){var Se,Pe=null===(Se=this.datasourceServiceConfigRecord[f])||void 0===Se?void 0:Se.createConfigureCredentialsRequestFromDatasource;return Pe?this.gitDatasourceClient.postConfigureCredentials(se,Pe(we)):(0,e._)("Git_UnsupportedGitProvider")},V.prototype.deleteConfiguredCredentials=function(f){return this.gitDatasourceClient.deleteConfiguredCredentials(f)},Object.defineProperty(V.prototype,"getDatasourceServiceConfig",{get:function(){return this.datasourceServiceConfigRecord},enumerable:!1,configurable:!0}),V.\u0275fac=function(se){return new(se||V)(x.\u0275\u0275inject(j.Kl))},V.\u0275prov=x.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V}(),ae=function(){function V(f){this.gitSwitchBranchFacade=f}return V.prototype.switchBranch=function(f){return this.gitSwitchBranchFacade.switchBranch(f)},V.prototype.getSwitchBranchState=function(f){return this.gitSwitchBranchFacade.getSwitchBranchState(f)},V.\u0275fac=function(se){return new(se||V)(x.\u0275\u0275inject(p.CCT))},V.\u0275prov=x.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V}()},65232:function(pt,De,v){v.d(De,{jR:function(){return ge},Nn:function(){return X}});var g=v(77476),p=v(209),ce=v(78035),C=v(32980),J=v(17177),T=v(50423),X=function(){function B(){}return B.\u0275fac=function(w){return new(w||B)},B.\u0275mod=T.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=T.\u0275\u0275defineInjector({imports:[g.CommonModule,p.Is,ce.Y,C.sp,J.T6]}),B}(),e=v(81337),j=v(18016),N=v(67758),x=v(41838),de=v(12315),ae=v(95825),V=v(74913);function f(B,P){if(1&B&&(T.\u0275\u0275elementStart(0,"div",1),T.\u0275\u0275element(1,"tri-svg-icon",2),T.\u0275\u0275elementStart(2,"span",3),T.\u0275\u0275text(3),T.\u0275\u0275elementEnd()()),2&B){var w=P.$implicit;T.\u0275\u0275advance(1),T.\u0275\u0275property("sprite",w.sprite)("name",w.iconName),T.\u0275\u0275advance(1),T.\u0275\u0275attribute("aria-label",w.name),T.\u0275\u0275advance(1),T.\u0275\u0275textInterpolate(w.name)}}var se=function(){function B(){this.artifactList=[]}return B.\u0275fac=function(w){return new(w||B)},B.\u0275cmp=T.\u0275\u0275defineComponent({type:B,selectors:[["tri-git-items-list"]],inputs:{artifactList:"artifactList"},decls:1,vars:1,consts:[["class","artifacts-list",4,"ngFor","ngForOf"],[1,"artifacts-list"],["tri-svg-icon-22","",1,"artifact-icon",3,"sprite","name"],["tabIndex","0",1,"artifact-name","trimmedTextWithEllipsis"]],template:function(w,S){1&w&&T.\u0275\u0275template(0,f,4,4,"div",0),2&w&&T.\u0275\u0275property("ngForOf",S.artifactList)},dependencies:[g.NgForOf,V.M],styles:[".artifacts-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;min-height:40px;flex-grow:1;gap:8px}.artifacts-list[_ngcontent-%COMP%]   .artifact-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey26)}.artifacts-list[_ngcontent-%COMP%]   .artifact-name[_ngcontent-%COMP%]{font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);color:var(--colorNeutralForeground1)}"]}),B}(),we=v(55334);function Se(B,P){if(1&B&&T.\u0275\u0275element(0,"tri-git-items-list",5),2&B){var w=T.\u0275\u0275nextContext();T.\u0275\u0275property("artifactList",w.failedArtifacts)}}function Pe(B,P){if(1&B&&(T.\u0275\u0275elementStart(0,"div",8)(1,"span"),T.\u0275\u0275element(2,"tri-svg-icon",9),T.\u0275\u0275elementEnd(),T.\u0275\u0275elementStart(3,"span",10),T.\u0275\u0275text(4),T.\u0275\u0275elementEnd()()),2&B){var w=P.$implicit;T.\u0275\u0275advance(2),T.\u0275\u0275property("sprite","git-icons")("name","bullet_dot_8"),T.\u0275\u0275advance(1),T.\u0275\u0275attribute("aria-label",w),T.\u0275\u0275advance(1),T.\u0275\u0275textInterpolate(w)}}function me(B,P){if(1&B&&(T.\u0275\u0275elementStart(0,"div",6),T.\u0275\u0275template(1,Pe,5,4,"div",7),T.\u0275\u0275elementEnd()),2&B){var w=T.\u0275\u0275nextContext();T.\u0275\u0275advance(1),T.\u0275\u0275property("ngForOf",w.data.moreInfo)}}function Ke(B,P){if(1&B){var w=T.\u0275\u0275getCurrentView();T.\u0275\u0275elementStart(0,"div",11),T.\u0275\u0275listener("click",function(){T.\u0275\u0275restoreView(w);var H=T.\u0275\u0275nextContext();return T.\u0275\u0275resetView(H.collapseExpand())}),T.\u0275\u0275pipe(1,"localizeFormat"),T.\u0275\u0275elementStart(2,"span"),T.\u0275\u0275text(3),T.\u0275\u0275pipe(4,"localize"),T.\u0275\u0275pipe(5,"localize"),T.\u0275\u0275elementEnd(),T.\u0275\u0275element(6,"tri-svg-icon",12),T.\u0275\u0275elementEnd()}if(2&B){var S=T.\u0275\u0275nextContext();T.\u0275\u0275attribute("aria-expanded",!S.showDetailsToggle)("aria-label",T.\u0275\u0275pipeBind2(1,4,S.showDetailsToggle?"ClickToExpandFormat":"ClickToCollapseFormat","errorDetails")),T.\u0275\u0275advance(3),T.\u0275\u0275textInterpolate(S.showDetailsToggle?T.\u0275\u0275pipeBind1(4,7,"Generic_HideDetails"):T.\u0275\u0275pipeBind1(5,9,"Generic_ShowDetails")),T.\u0275\u0275advance(3),T.\u0275\u0275property("name",S.showDetailsToggle?"chevron_up_16_regular":"chevron_down_16_regular")}}function Z(B,P){if(1&B&&(T.\u0275\u0275elementStart(0,"p")(1,"b"),T.\u0275\u0275text(2),T.\u0275\u0275pipe(3,"localize"),T.\u0275\u0275elementEnd(),T.\u0275\u0275text(4),T.\u0275\u0275elementEnd()),2&B){var w=P.$implicit;T.\u0275\u0275advance(2),T.\u0275\u0275textInterpolate1("",w.shouldLocalize?T.\u0275\u0275pipeBind1(3,2,w.name):w.name," "),T.\u0275\u0275advance(2),T.\u0275\u0275textInterpolate1("",w.content," ")}}function ze(B,P){if(1&B&&(T.\u0275\u0275elementContainerStart(0),T.\u0275\u0275elementStart(1,"div",13),T.\u0275\u0275template(2,Z,5,4,"p",14),T.\u0275\u0275elementEnd(),T.\u0275\u0275elementContainerEnd()),2&B){var w=T.\u0275\u0275nextContext();T.\u0275\u0275advance(2),T.\u0275\u0275property("ngForOf",w.details)}}var Ee=function(){function B(P,w,S){var $,H,_e,Ce;this.dialogRef=P,this.extensionManifestService=w,this.data=S,this.showDetailsToggle=!1,this.errorDetails=this.data.errorDetails,this.requestInfo=this.data.requestInfo,this.details=[],this.artifactType=null===(H=null===($=this.errorDetails)||void 0===$?void 0:$.failedArtifactMetadata)||void 0===H?void 0:H.artifactType,this.artifactName=null===(Ce=null===(_e=this.errorDetails)||void 0===_e?void 0:_e.failedArtifactMetadata)||void 0===Ce?void 0:Ce.artifactDisplayName,this.failedArtifacts=[],this.failedArtifactsSize=0,this.createGitErrorDetailsFromGitError()}return B.prototype.convertDialogData=function(P){return{title:P.title,buttons:P.buttons}},B.prototype.close=function(){return this.dialogRef.close()},B.prototype.collapseExpand=function(){this.showDetailsToggle=!this.showDetailsToggle},B.prototype.getErrorMoreInfoSize=function(){var P,w;return null!==(w=null===(P=this.data.moreInfo)||void 0===P?void 0:P.length)&&void 0!==w?w:0},B.prototype.createGitErrorDetailsFromGitError=function(){var P,w,S,$,H,_e;if(null!=this&&this.errorDetails){if(this.requestInfo.clusterUri&&this.details.push(this.createGitErrorDetail("ServerError_ClusterUriText",this.requestInfo.clusterUri)),this.requestInfo.activityId&&this.details.push(this.createGitErrorDetail("ServerError_ActivityIdText",this.requestInfo.activityId)),this.requestInfo.requestId&&this.details.push(this.createGitErrorDetail("AdditionalErrorInfo_RequestIdText",this.requestInfo.requestId)),!(null===(P=this.errorDetails)||void 0===P)&&P.workloadErrorCode&&this.details.push(this.createGitErrorDetail("Workload_Error_Code",this.errorDetails.workloadErrorCode)),this.getFailedArtifactsDetails(),null!==(w=this.errorDetails)&&void 0!==w&&w.workloadErrorMessage){var Ce=this.errorDetails.workloadErrorMessage,Ie=(Ce.match(/{(\d+)}/g)||[]).length;if(null!==(S=this.errorDetails)&&void 0!==S&&S.workloadErrorParameters){var xe=this.errorDetails.workloadErrorParameters,it=xe.length;if(Ie===it){for(var ft=Ce,D=0;D<it;D++)ft=ft.replace("{".concat(D,"}"),xe[D]);this.details.push(this.createGitErrorDetail("Workload_Error_Message",ft))}}else 0===Ie&&this.details.push(this.createGitErrorDetail("Workload_Error_Message",Ce))}if(null!==($=this.errorDetails)&&void 0!==$&&$.errorParameters)for(var le in this.errorDetails.errorParameters)this.details.push(this.createGitErrorDetail(le,this.errorDetails.errorParameters[le],!1));this.details.push(this.createGitErrorDetail("ServerError_TimestampText",null!==(_e=null===(H=null==this?void 0:this.errorDetails)||void 0===H?void 0:H.time)&&void 0!==_e?_e:(new Date).toString()))}},B.prototype.createGitErrorDetail=function(P,w,S){return void 0===S&&(S=!0),{name:P,content:w,shouldLocalize:S}},B.prototype.getFailedArtifactsDetails=function(){var P,w,S;if(this.artifactType&&this.artifactName){var $=this.extensionManifestService.getFrontendArtifactType(this.artifactType),H=(0,x.zp)($);this.failedArtifacts.push({name:this.artifactName,iconName:H?.name,sprite:H?.sprite})}else if(null!==(P=this.errorDetails)&&void 0!==P&&P.errorParameters)for(var _e=null===(S=null===(w=this.errorDetails)||void 0===w?void 0:w.errorParameters.Artifacts)||void 0===S?void 0:S.slice(1,-1),Ce=/Display Name: '([^']+)' Type: '([^']+)'/g,Ie=void 0;null!==(Ie=Ce.exec(_e));)$=this.extensionManifestService.getFrontendArtifactType(Ie[2]),de.RG.includes($)&&(H=(0,x.zp)($),this.failedArtifacts.push({name:Ie[1],iconName:H?.name,sprite:H?.sprite}));this.failedArtifactsSize=this.failedArtifacts.length},B.\u0275fac=function(w){return new(w||B)(T.\u0275\u0275directiveInject(p.so),T.\u0275\u0275directiveInject(N.vC),T.\u0275\u0275directiveInject(p.WI))},B.\u0275cmp=T.\u0275\u0275defineComponent({type:B,selectors:[["tri-git-error-dialog"]],decls:7,vars:9,consts:[[3,"dialogData","closeButtonLabel","buttonClickEvent"],["class","git-artifact-list",3,"artifactList",4,"ngIf"],["class","git-info-list",4,"ngIf"],["class","details-selector",3,"click",4,"ngIf"],[4,"ngIf"],[1,"git-artifact-list",3,"artifactList"],[1,"git-info-list"],["class","info-list-item",4,"ngFor","ngForOf"],[1,"info-list-item"],["calss","info-icon","tri-svg-icon-8","",3,"sprite","name"],[1,"list-item"],[1,"details-selector",3,"click"],["tri-svg-icon-16","",3,"name"],[1,"error-details-container"],[4,"ngFor","ngForOf"]],template:function(w,S){1&w&&(T.\u0275\u0275elementStart(0,"trident-dialog",0),T.\u0275\u0275listener("buttonClickEvent",function(){return S.close()}),T.\u0275\u0275pipe(1,"localize"),T.\u0275\u0275text(2),T.\u0275\u0275template(3,Se,1,1,"tri-git-items-list",1),T.\u0275\u0275template(4,me,2,1,"div",2),T.\u0275\u0275template(5,Ke,7,11,"div",3),T.\u0275\u0275template(6,ze,3,1,"ng-container",4),T.\u0275\u0275elementEnd()),2&w&&(T.\u0275\u0275property("dialogData",S.convertDialogData(S.data))("closeButtonLabel",T.\u0275\u0275pipeBind1(1,7,"Close")),T.\u0275\u0275advance(2),T.\u0275\u0275textInterpolate1(" ",S.data.content," "),T.\u0275\u0275advance(1),T.\u0275\u0275property("ngIf",S.failedArtifactsSize>0),T.\u0275\u0275advance(1),T.\u0275\u0275property("ngIf",S.getErrorMoreInfoSize()>0),T.\u0275\u0275advance(1),T.\u0275\u0275property("ngIf",S.details.length>0),T.\u0275\u0275advance(1),T.\u0275\u0275property("ngIf",S.showDetailsToggle))},dependencies:[g.NgForOf,g.NgIf,ae.v,V.M,se,we.Y,we.A],styles:[".mat-mdc-dialog-content{display:flex;flex-direction:column;margin-top:4px;margin-bottom:16px;gap:12px}.details-selector[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:6px;font-weight:600}.error-details-container[_ngcontent-%COMP%]{font-size:12px;display:flex;flex-direction:column;align-items:flex-start;padding:12px;max-height:228px;overflow-y:scroll;background:var(--globalColorGrey96);border-radius:4px}.error-details-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.git-artifact-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:auto;min-height:40px;max-height:200px}.git-info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.info-list-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;gap:8px}"],changeDetection:0}),B}(),Be=v(7452),Xe=v(54323),ge=function(){function B(P,w,S){this.dialogService=P,this.localizationService=w,this.telemetryService=S,this.dialogWidth="564px",this.defaultDialogClass="dialog-style"}return B.prototype.getErrorContent=function(P){var w,S,$=null===(w=j.A6[P])||void 0===w?void 0:w.messageKey,H=null===(S=j.A6[P])||void 0===S?void 0:S.titleKey;return(!$||!H)&&(P.startsWith("Git_")||P.startsWith("Alm"))&&this.telemetryService.logEvent({name:"Git error which is not mapped to content occurred",properties:{errorType:P}}),{message:this.localizationService.get($??"ErrorDialogHelperText_TechnicalDetails"),title:this.localizationService.get(H??"ErrorMessage_DefaultTitle")}},B.prototype.getErrorMoreInfo=function(P){var w,S;return null!==(S=null===(w=j.jZ[P])||void 0===w?void 0:w.moreInfoKeys)&&void 0!==S?S:[]},B.prototype.handleSyncGitError=function(P,w){var S=this.makeGitErrorFromHttpResponse(P,w);return this.showErrorHandlingDialog(S),S},B.prototype.handleAlmGitError=function(P,w){return this.isGitAlmError(P,w)?this.makeGitErrorFromAlmResponse(P,w):this.makeClientSideGitError(P)},B.prototype.handleClientSideGitError=function(P,w){this.logValidationError(P);var S=this.makeClientSideGitError(P,w);return this.showErrorHandlingDialog(S),S},B.prototype.logValidationError=function(P){this.telemetryService.logEvent({name:"Validation error occurred",properties:{errorType:P}})},B.prototype.showErrorHandlingDialog=function(P){var w=this.createGitErrorDialogModel(P);return this.dialogService.open(w.componentRef,w.config)},B.prototype.createGitErrorDialogModel=function(P){var S,$,H,w=this,_e=this.localizationService.get("Close"),Ce=(0,j.lz)(P),Ie=this.getErrorMoreInfo(Ce?.errorType).map(function(it){return w.localizationService.get(it)}),xe={title:Ce.title,buttons:[{name:_e,label:_e,buttonType:null}],content:Ce.message,moreInfo:Ie,errorDetails:Ce,requestInfo:{clusterUri:null===(S=P.errorInfo)||void 0===S?void 0:S.clusterUri,activityId:null===($=P.errorInfo)||void 0===$?void 0:$.activityId,requestId:null===(H=P.errorInfo)||void 0===H?void 0:H.requestId}};return{componentRef:Ee,config:{width:this.dialogWidth,panelClass:this.defaultDialogClass,data:xe}}},B.prototype.makeClientSideGitError=function(P,w){var S=this.getErrorContent(P);return(0,j.iX)([{errorType:P,title:S.title,message:S.message,errorParameters:w}])},B.prototype.makeGitErrorFromHttpResponse=function(P,w){var H,S=this.parseHttpWorkloadError(w),$=this.parseHttpError(w);H=(0,j.KJ)(w)?"Git_AdoConditionalAccessNotSupported":"Git_Switch_Branch_Item_Not_Found"===P?"Git_Switch_Branch_Item_Not_Found":"Git_Branch_Out_Failed"===P?this.getBranchOutError(w):$?.code?$.code:P;var _e=this.getErrorContent(H),Ce=(0,e.__assign)((0,e.__assign)((0,e.__assign)({},S),$),{errorType:H,time:(new Date).toString(),title:_e.title,message:_e.message}),Ie={requestId:w?.requestId,clusterUri:window.clusterUri,activityId:w?.activityId,statusCode:w?.status};return(0,j.iX)([Ce],Ie)},B.prototype.makeGitErrorFromAlmResponse=function(P,w){var $,H,_e,Ce,Ie,S=this,xe=[];if(w.gitInteractiveOperationErrorDetailsList)null===($=w.gitInteractiveOperationErrorDetailsList)||void 0===$||$.forEach(function(Ae){var Ct,rt,st,tt,mt,Qe,ut;Ie=S.parseAlmWorkloadError(Ae);var vt=S.getErrorContent(Ie.workloadErrorCode),ke={dialogMessage:vt.message,interactionType:null!==(st=null===(rt=null===(Ct=Ae?.artifactErrorDetails)||void 0===Ct?void 0:Ct.UserInteractionRequest)||void 0===rt?void 0:rt.InteractionType)&&void 0!==st?st:j.s_.None,options:null!==(Qe=null===(mt=null===(tt=Ae?.artifactErrorDetails)||void 0===tt?void 0:tt.UserInteractionRequest)||void 0===mt?void 0:mt.Options)&&void 0!==Qe?Qe:[]},pe=(0,e.__assign)((0,e.__assign)({},Ie),{errorType:P,time:null===(ut=w.lastUpdatedTime)||void 0===ut?void 0:ut.toString(),title:vt.title,message:vt.message,interactiveOperationInfo:ke});xe.push(pe)});else if(w.gitNonInteractiveOperationErrorDetails){Ie=this.parseAlmWorkloadError(w.gitNonInteractiveOperationErrorDetails);var it=null!==(H=Ie?.workloadErrorCode)&&void 0!==H?H:P,ft=this.getErrorContent(it),D=(0,e.__assign)((0,e.__assign)({},Ie),{errorType:it,time:null===(_e=w.lastUpdatedTime)||void 0===_e?void 0:_e.toString(),title:ft.title,message:ft.message});if((0,j.VQ)(P,w)){var le=this.getErrorContent("Git_GitProviderCommitRejectedByPolicy");D.errorType="Git_GitProviderCommitRejectedByPolicy",D.title=le.title,D.message=le.message}else(0,j.Ss)(P,w)&&(le=this.getErrorContent("Git_GitProviderCommitMaxSizeExceeded"),D.errorType="Git_GitProviderCommitMaxSizeExceeded",D.title=le.title,D.message=le.message);xe.push(D)}var Oe={requestId:null===(Ce=w.gitNonInteractiveOperationErrorDetails)||void 0===Ce?void 0:Ce.requestId,clusterUri:window.clusterUri,retryOperationId:w.gitOperationId};return(0,j.iX)(xe,Oe)},B.prototype.isDedicatedErrorMessageAvailable=function(P){return P in j.A6},B.prototype.parseHttpError=function(P){var w,S,$;return{code:null===(w=P?.error)||void 0===w?void 0:w.code,errorParameters:null===($=null===(S=P?.error)||void 0===S?void 0:S["pbi.error"])||void 0===$?void 0:$.parameters}},B.prototype.parseHttpWorkloadError=function(P){var w,S,$,H,_e,Ce,Ie,xe,it=null===($=null===(S=null===(w=P?.error)||void 0===w?void 0:w["pbi.error"])||void 0===S?void 0:S.parameters)||void 0===$?void 0:$.GitErrorDetails;return it&&(xe=JSON.parse(it)),xe?{failedArtifactMetadata:xe?.artifactType&&xe?.artifactDisplayName?{artifactType:xe.artifactType,artifactDisplayName:xe.artifactDisplayName,artifactLogicalId:xe.artifactLogicalId}:void 0,workloadErrorCode:null!==(_e=null===(H=xe?.errorDetails)||void 0===H?void 0:H.ErrorCode)&&void 0!==_e?_e:xe?.errorCode,workloadErrorMessage:null===(Ce=xe?.errorDetails)||void 0===Ce?void 0:Ce.ErrorMessage,workloadErrorParameters:null===(Ie=xe?.errorDetails)||void 0===Ie?void 0:Ie.ErrorParameters}:{failedArtifactMetadata:void 0,workloadErrorCode:void 0,workloadErrorMessage:void 0,workloadErrorParameters:void 0}},B.prototype.parseAlmWorkloadError=function(P){var w,S,$,H,_e;return{failedArtifactMetadata:{artifactDisplayName:P.artifactDisplayName,artifactType:P.artifactType,artifactLogicalId:P.artifactLogicalId},workloadErrorCode:null!==(S=null===(w=P.artifactErrorDetails)||void 0===w?void 0:w.ErrorCode)&&void 0!==S?S:P.errorCode,workloadErrorMessage:null===($=P.artifactErrorDetails)||void 0===$?void 0:$.ErrorMessage,workloadErrorCategory:null===(H=P.artifactErrorDetails)||void 0===H?void 0:H.ErrorCategory,workloadErrorParameters:null===(_e=P?.artifactErrorDetails)||void 0===_e?void 0:_e.ErrorParameters}},B.prototype.isGitAlmError=function(P,w){return w.gitOperationStatus===j.wM.Failed&&(!!w.gitNonInteractiveOperationErrorDetails||!!w.gitInteractiveOperationErrorDetailsList)&&(0,j.ve)(P)},B.prototype.getBranchOutError=function(P){var w,S,$,H,_e,Ce=null===(w=P.error)||void 0===w?void 0:w.code;if("Alm_InvalidBranchOutRequest_OperationFailureAfterFolderCreation"===Ce){var Ie=null===(_e=null===(H=null===($=null===(S=P.error)||void 0===S?void 0:S["pbi.error"])||void 0===$?void 0:$.details)||void 0===H?void 0:H[0])||void 0===_e?void 0:_e.code;if(Ie)return Ie}else if(Ce)return Ce;return"Git_Branch_Out_Failed"},B.\u0275fac=function(w){return new(w||B)(T.\u0275\u0275inject(C.uQ),T.\u0275\u0275inject(Be.z),T.\u0275\u0275inject(Xe.t))},B.\u0275prov=T.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B}();(0,e.__assign)({errorType:"Git_MergePolicyNotSpecified"},{title:"MockTitle",message:"MockMessage"})},12385:function(pt,De,v){v.d(De,{mn:function(){return ae},K3:function(){return C}});var g=v(77476),p=v(65232),ce=v(50423),C=function(){function V(){}return V.\u0275fac=function(se){return new(se||V)},V.\u0275mod=ce.\u0275\u0275defineNgModule({type:V}),V.\u0275inj=ce.\u0275\u0275defineInjector({imports:[g.CommonModule,p.Nn]}),V}(),J=v(81337),T=v(42888),X=v(73471),e={style:"Trident"},j=(0,J.__assign)((0,J.__assign)({},e),{notificationType:X.k$.Loading}),N=(0,J.__assign)((0,J.__assign)({},e),{notificationType:X.k$.Success}),x=(0,J.__assign)((0,J.__assign)({},e),{notificationType:X.k$.Error}),de=v(7452),ae=function(){function V(f,se){this.localizationService=f,this.notificationService=se}return V.prototype.hideNotification=function(f){return this.notificationService.hide(f)},V.prototype.hideCurrentNotification=function(){this.notificationService.hideCurrentNotification()},V.prototype.showLoadingNotification=function(f,se){var we=(0,J.__assign)((0,J.__assign)({},j),{title:this.localizationService.get(f),message:se?this.localizationService.get(se):void 0});return this.notificationService.notify(we)},V.prototype.showSuccessNotification=function(f,se){var we=(0,J.__assign)((0,J.__assign)({},N),{id:se,title:this.localizationService.get(f)});return this.notificationService.notify(we)},V.prototype.showErrorNotification=function(f,se,we){var Se={action:"open.git.error.dialog",data:f},Pe={displayText:this.localizationService.get("View_Details"),action:Se};return this.notificationService.notify((0,J.__assign)((0,J.__assign)({},x),{id:we,duration:T.S.Long,title:this.localizationService.get(se),message:this.localizationService.get("View_Details_Learn_More"),actionButtons:[Pe]}))},V.\u0275fac=function(se){return new(se||V)(ce.\u0275\u0275inject(de.z),ce.\u0275\u0275inject(T.g))},V.\u0275prov=ce.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V}()},18016:function(pt,De,v){v.d(De,{wM:function(){return Xe},u9:function(){return Be},IS:function(){return Z},s_:function(){return me},Z_:function(){return qe},I:function(){return $},f7:function(){return S},LO:function(){return H},Rv:function(){return ge},cW:function(){return _e},tI:function(){return ft},lz:function(){return X},n:function(){return xe},A6:function(){return C},jZ:function(){return J},xT:function(){return e},L4:function(){return it},KJ:function(){return j},VQ:function(){return ae},Ss:function(){return f},ve:function(){return Se},pb:function(){return T},Fc:function(){return N},yG:function(){return Pe},E6:function(){return de},iX:function(){return se},QJ:function(){return Ee}});var g,p,ce=function(D){return D.AdalMultiFactorAuthEnrollRequiredErrorCode="AdalMultiFactorAuthEnrollRequiredErrorCode",D.AdalMultiFactorAuthRequiredErrorCode="AdalMultiFactorAuthRequiredErrorCode",D.AdalDeviceObjectNotFoundInTenantErrorCode="AdalDeviceObjectNotFoundInTenantErrorCode",D}({}),C=((g={}).Git_MissingRequiredParam={messageKey:"Trident_Git_Error_Git_Provider_API_Message",titleKey:"Trident_Git_Error_Git_Provider_API_Title"},g.Git_DirectoryHasInvalidSystemFiles={messageKey:"Trident_Git_Error_Git_DirectoryHasInvalidSystemFiles_Message",titleKey:"Trident_Git_Error_Git_DirectoryHasInvalidSystemFiles_Title"},g.Git_SelectedArtifactsDoNotBelongToWorkspace={messageKey:"Trident_Git_Error_Git_Undo_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},g.Git_AzureDevOpsMissingProjectName={messageKey:"Trident_Git_Error_Git_Connect_Failed_Message",titleKey:"Trident_Git_Error_Git_Connect_Failed_Title"},g.Git_UndoDuplicateArtifacts={messageKey:"Trident_Git_Error_Git_Undo_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},g.Git_CommitInvalidArtifacts={messageKey:"Trident_Git_Error_Git_InvalidCommitRequest_Message",titleKey:"Trident_Git_Error_Unable_To_Commit_Title"},g.Git_GitProviderApiFailed={messageKey:"Trident_Git_Error_Git_Provider_API_Message",titleKey:"Trident_Git_Error_Git_Provider_API_Title"},g.Git_GitProviderDeserialization={messageKey:"Trident_Git_Error_Git_Provider_API_Message",titleKey:"Trident_Git_Error_Git_Provider_API_Title"},g.Git_GitProviderResourceNotExistOrUnauthorized={messageKey:"Trident_Git_Error_Git_No_Permissions_ADO_Message",titleKey:"Trident_Git_Error_Git_No_Permissions_ADO_Title"},g.Git_WorkspaceAlreadyConnectedToGit={messageKey:"Trident_Git_Error_Git_Workspace_Already_Connected_To_Git_Message",titleKey:"Trident_Git_Error_Git_Workspace_Already_Connected_To_Git_Title"},g.Git_WorkspaceNotConnectedToGit={messageKey:"Trident_Git_Error_Git_Workspace_Not_Connected_To_Git_Message",titleKey:"Trident_Git_Error_Git_Workspace_Not_Connected_To_Git_Title"},g.Git_WorkspaceHasNoCapacity={messageKey:"Trident_Git_Error_Git_Workspace_Has_No_Capacity_Message",titleKey:"Pipelines_Error_FoldersHasNoCapacity_Title"},g.Git_InvalidPath={messageKey:"Trident_Git_Error_Git_Connection_Details_Message",titleKey:"Trident_Git_Error_Git_Connection_Details_Title"},g.Alm_InvalidRequest_PurgeRequired={messageKey:"Trident_Git_Error_Dataset_PurgeData_Message",titleKey:"Trident_Git_Error_AlmOperation_Update_Title"},g.Git_PotentialCrossGeo={messageKey:"Trident_Git_Error_Git_PotentialCrossGeo_Message",titleKey:"Trident_Git_Error_Git_PotentialCrossGeo_Title"},g.Git_DuplicateDisplayNameAndType={messageKey:"Trident_Git_Error_Git_DuplicateDisplayNameAndType_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},g.Git_CommitDuplicateArtifacts={messageKey:"Trident_Git_Error_Git_CommitDuplicateArtifacts_Message",titleKey:"Trident_Git_Error_Git_CommitDuplicateArtifacts_Title"},g.Git_HeadNotSynced={messageKey:"Trident_Git_Error_Git_HeadNotSynced_Message",titleKey:"Trident_Git_Error_Git_HeadNotSynced_Title"},g.Git_IdentifierExceededMaxLength={messageKey:"Trident_Git_Error_Git_IdentifierExceededMaxLength_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},g.Git_InvalidCommitRequest={messageKey:"Trident_Git_Error_Git_InvalidCommitRequest_Message",titleKey:"Trident_Git_Error_Unable_To_Commit_Title"},g.Git_InvalidUndoRequest={messageKey:"Trident_Git_Error_Git_Undo_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},g.Git_InvalidBranchName={messageKey:"Trident_Git_Error_Git_InvalidBranchName_Message",titleKey:"Trident_Git_Error_Git_InvalidBranchName_Title"},g.Git_InvalidDirectoryName={messageKey:"Trident_Git_Error_Git_InvalidDirectoryName_Message",titleKey:"Trident_Git_Error_Git_InvalidDirectoryName_Title"},g.Git_InvalidRequestNoFilesToCommit={messageKey:"Trident_Git_Error_Git_InvalidRequestNoFilesToCommit_Message",titleKey:"Trident_Git_Error_Git_InvalidRequestNoFilesToCommit_Title"},g.Git_PotentialMergeConflict={messageKey:"Trident_Git_Error_Git_PotentialMergeConflict_Message",titleKey:"Trident_Git_Error_Git_PotentialMergeConflict_Title"},g.Git_GitConnectionAlreadyInitialized={messageKey:"Trident_Git_Error_Git_GitConnectionAlreadyInitialized_Message",titleKey:"Trident_Git_Error_Git_GitConnectionAlreadyInitialized_Title"},g.Git_UnexpectedResponseFromGitProvider={messageKey:"Trident_Git_Error_Git_Provider_API_Message",titleKey:"Trident_Git_Error_Git_Provider_API_Title"},g.Git_DependenciesDeletionFailed={messageKey:"Trident_Git_Error_Git_DependenciesDeletionFailed_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},g.Git_MissingDependencies={messageKey:"Trident_Git_Error_Git_MissingDependencies_Message",titleKey:"Trident_Git_Error_Unable_To_Update_Title"},g.Git_MissingDependenciesSwitchBranch={messageKey:"Trident_Git_Error_Git_Switch_Branch_MissingDependencies_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_CyclicDependencyDetectedSwitchBranch={messageKey:"Trident_Git_Error_Git_Switch_Branch_MissingDependencies_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_CyclicDependencyDetected={messageKey:"Trident_Git_Error_Git_MissingDependencies_Message",titleKey:"Trident_Git_Error_Unable_To_Update_Title"},g.Git_ItemNotFound={titleKey:"Trident_Git_Error_Git_ItemNotFound_Title",messageKey:"Trident_Git_Error_Git_ItemNotFound_Message"},g.Git_PathTooLong={titleKey:"Trident_Git_Error_Git_PathTooLong_Title",messageKey:"Trident_Git_Error_Git_PathTooLong_Message"},g.Git_GitOperationWithSensitivityLabelsNotSupported={messageKey:"Trident_Git_Error_Git_GitOperationWithSensitivityLabelsNotSupported_Message",titleKey:"Trident_Git_Error_Git_GitOperationWithSensitivityLabelsNotSupported_Title"},g.Git_BranchDeleted={messageKey:"Trident_Git_Error_Git_BranchDeleted_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},g.Git_GitProviderCommitRejectedByPolicy={messageKey:"Trident_Git_Error_GitProviderCommitRejectedByPolicy_Message",titleKey:"Trident_Git_Error_GitProviderCommitRejectedByPolicy_Title"},g.Git_DirectoryNameDiffersByCase={messageKey:"Trident_Git_Error_Git_ItemNotFound_Message",titleKey:"Trident_Git_Error_Git_ItemNotFound_Title"},g.Git_GitIntegrationTenantAdminSwitchDisabled={messageKey:"Trident_Git_TenantAdminSwitchDisabled_Message",titleKey:"Trident_Git_TenantAdminSwitchDisabled_Title"},g.Git_GitProviderCommitMaxSizeExceeded={messageKey:"Trident_Git_Error_GitProviderCommitMaxSizeExceeded_Message",titleKey:"Trident_Git_Error_GitProviderCommitMaxSizeExceeded_Title"},g.Git_ExportDefinitionFailed={messageKey:"Trident_Git_Error_ExportDefinitionFailed_Message",titleKey:"Trident_Git_Error_ExportDefinitionFailed_Title"},g.Git_DiscoverDependenciesFailed={messageKey:"Trident_Git_Error_DiscoverDependenciesFailed_Message",titleKey:"Trident_Git_Error_DiscoverDependenciesFailed_Title"},g.Git_GitProviderUnauthorizedGuestUser={messageKey:"Trident_Git_Error_GitProviderUnauthorizedGuestUser_Message",titleKey:"Trident_Git_Error_GitProviderUnauthorizedGuestUser_Title"},g.Git_GitProviderCommitObjectRejected={messageKey:"Trident_Git_Error_GitProviderCommitObjectRejected_Message",titleKey:"Trident_Git_Error_GitProviderCommitRejectedByPolicy_Title"},g.Git_BranchNameAlreadyExists={messageKey:"Trident_Git_Error_Git_Branch_Name_Already_Exists_Message",titleKey:"Trident_Git_Error_Git_InvalidBranchName_Title"},g.Git_GitProviderAadUserStateError={messageKey:"Trident_Git_Error_GitProviderAadUserStateError_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},g.Git_Disconnect_No_Connection={messageKey:"Trident_Git_Error_Git_Disconnect_No_Connection_Message",titleKey:"Trident_Git_Error_Git_Disconnect_Failed_Title"},g.Git_Invalid_Connection_Details={messageKey:"Trident_Git_Error_Git_Invalid_Connection_Details_Message",titleKey:"Trident_Git_Error_Git_Invalid_Connection_Details_Title"},g.Git_ConnectionDetailsNotFound={messageKey:"Trident_Git_Error_Git_Connection_Details_Not_Found_Message",titleKey:"ErrorMessage_DefaultTitle"},g.Git_Workspace_Not_Initialized={messageKey:"Trident_Git_Error_Git_Workspace_Not_Initialized_Message",titleKey:"Trident_Git_Error_Git_Workspace_Not_Initialized_Title"},g.Git_Create_Branch_Origin_Branch_Not_Found={messageKey:"Trident_Git_Error_Git_Create_Branch_Origin_Branch_Not_Found_Message",titleKey:"Trident_Git_Error_Git_Create_Branch_Origin_Branch_Not_Found_Title"},g.Git_GitSwitchBranchWithUncommittedChanges={messageKey:"Trident_Git_Error_Git_Switch_Branch_Uncommited_Changes_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.GitGitInvalidSwitchBranchRequest={messageKey:"Trident_Git_Error_Git_Switch_Branch_Invalid_Request_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.GitSwitchBranchIdenticalBranchName={messageKey:"Trident_Git_Error_Git_Switch_Branch_Identical_Branch_Name_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_Switch_Branch_Item_Not_Found={messageKey:"Trident_Git_Error_Git_Switch_Branch_Item_Not_Found_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_Switch_Branch_Head_Not_Synced={messageKey:"Trident_Git_Error_Git_Switch_Branch_Head_Not_Synced_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_GitProviderCredentialsNotAuthorizedError={messageKey:"Trident_Git_Error_Git_CredentialsNotAuthorized_Message",titleKey:"Trident_Git_Error_Git_CredentialsNotAuthorized_Title"},g.Git_DuplicateArtifactsWithSameLogicalId={messageKey:"Trident_Git_Duplicate_LogicalId_Message",titleKey:"Trident_Git_Duplicate_LogicalId_Title"},g.Git_PotentialDuplicateDisplayNameAndType={messageKey:"Trident_Git_Error_Git_Potential_Duplicate_Diaplay_Name_And_Type_Message",titleKey:"Trident_Git_Error_AlmOperation_Update_Title"},g.Git_DisplayNameIsInvalid={messageKey:"Trident_Git_Error_Git_Display_Name_Is_Invalid_Message",titleKey:"Trident_Git_Error_AlmOperation_Update_Title"},g.Git_GitIntegrationBlockedByDataLossPrevention={messageKey:"Trident_Git_Blocked_DataLoss_Prevention_Message",titleKey:"Trident_Git_Blocked_DataLoss_Prevention_Title"},g.Git_Connect_Invalid_Request={messageKey:"Trident_Git_Error_Git_Connect_Failed_Message",titleKey:"Trident_Git_Error_Git_Connect_Failed_Title"},g.Git_Disconnect_Invalid_Request={messageKey:"Trident_Git_Error_Git_Disconnect_Failed_Message",titleKey:"Trident_Git_Error_Git_Disconnect_Failed_Title"},g.Git_Initialization_Invalid_Request={messageKey:"Trident_Git_Error_Git_Invalid_Initialization_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Initialize_Title"},g.Git_Undo_Invalid_Request={messageKey:"Trident_Git_Error_Undo_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},g[" Git_Commit_Invalid_Request"]={messageKey:"Trident_Git_Error_Git_InvalidCommitRequest_Message",titleKey:"Trident_Git_Error_Unable_To_Commit_Title"},g.Git_Update_Invalid_Request={messageKey:"Trident_Git_Error_Git_Update_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Update_Title"},g.Git_Create_Branch_Invalid_Request={messageKey:"Trident_Git_Error_Git_Create_Branch_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Create_Branch_Title"},g.Git_Create_Directory_Invalid_Request={messageKey:"Trident_Git_Error_Git_Create_Folder_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Create_Folder_Title"},g.Git_Switch_Branch_Invalid_Request={messageKey:"Trident_Git_Error_Git_Switch_Branch_Invalid_Request_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_Connect_Failed={messageKey:"Trident_Git_Error_Git_Connect_Failed_Message",titleKey:"Trident_Git_Error_Git_Connect_Failed_Title"},g.Git_Status_Failed={messageKey:"Trident_Git_Error_Git_Status_Failed_Message",titleKey:"Trident_Git_Error_Git_Status_Failed_Title"},g.Git_Create_Branch_Failed={messageKey:"Trident_Git_Error_Git_Create_Branch_Failed_Message",titleKey:"Trident_Git_Error_Git_Create_Branch_Failed_Title"},g.Git_Sync_Failed={messageKey:"Trident_Git_Error_Git_Sync_Failed_Message",titleKey:"Trident_Git_Error_Git_Sync_Failed_Title"},g.Git_Disconnect_Failed={messageKey:"Trident_Git_Error_Git_Disconnect_Failed_Message",titleKey:"Trident_Git_Error_Git_Disconnect_Failed_Title"},g.Git_Initialization_Failed={messageKey:"Trident_Git_Error_Git_Initialization_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Initialize_Title"},g.Git_Undo_Failed={messageKey:"Trident_Git_Error_Git_Undo_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},g.Git_Commit_Failed={messageKey:"Trident_Git_Error_Git_InvalidCommitRequest_Message",titleKey:"Trident_Git_Error_Unable_To_Commit_Title"},g.Git_Update_Failed={messageKey:"Trident_Git_Error_Git_Update_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Update_Title"},g.Git_Create_Folder_Failed={messageKey:"Trident_Git_Error_Git_Create_Folder_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Create_Folder_Title"},g.Git_Checkout_Branch_Failed={messageKey:"Trident_Git_Error_Git_Checkout_Branch_Failed_Message",titleKey:"Trident_Git_Error_Git_Checkout_Branch_Failed_Title"},g.Git_Switch_Branch_Failed={messageKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_Get_Branches_Failed={messageKey:"Trident_Git_Error_Git_Get_Branches_Failed_Message",titleKey:"Trident_Git_Error_Git_Connection_Details_Title"},g.Git_Branch_Out_Failed={messageKey:"Trident_Git_Error_Git_Branch_Out_Failed_Message",titleKey:"Trident_Git_Error_Git_Branch_Out_Failed_Title"},g.Git_BranchOutIdenticalBranchNames={messageKey:"Trident_Git_Error_Git_Branch_Name_Already_Exists_Message",titleKey:"Trident_Git_Error_Git_InvalidBranchName_Title"},g.GitProviderRepositoryNotFoundException={messageKey:"Trident_Git_Provider_Repository_Not_Found_Error_Message",titleKey:"Trident_Git_Provider_Repository_Not_Found_Error_Title"},g.GitTreeSizeExceeded={messageKey:"Trident_Git_Tree_Size_Exceeded_Message",titleKey:"Trident_Git_Tree_Size_Exceeded_Title"},g.GitIntegrationGitHubTenantAdminSwitchDisabled={messageKey:"Trident_Git_GitHub_Tenant_Admin_Switch_Disabled_Message",titleKey:"Trident_Git_GitHub_Tenant_Admin_Switch_Disabled_Title"},g.GitTokenExpiredOrDeprecatedException={messageKey:"Trident_Git_Token_Expired_Or_Deprecated_Exception_Message",titleKey:"Trident_Git_Token_Expired_Or_Deprecated_Exception_Title"},g.Git_GitTokenProviderCredentialsKindMismatchError={messageKey:"Trident_Git_Git_Token_Provider_Credentials_Kind_Mismatch_Error_Message",titleKey:"Trident_Git_Git_Token_Provider_Credentials_Kind_Mismatch_Error_Title"},g.Git_GitTokenProviderCredentialsConnectionMismatchError={messageKey:"Trident_Git_Git_Token_Provider_Credentials_Connection_Mismatch_Error_Message",titleKey:"Trident_Git_Git_Token_Provider_Credentials_Connection_Mismatch_Error_Title"},g.Git_GitTokenProviderCredentialsInternalError={messageKey:"Trident_Git_Provider_Bad_Credentials_Message",titleKey:"Trident_Git_Provider_Bad_Credentials_Title"},g.Git_InvalidConfigureCredentialsRequest={messageKey:"Trident_Git_Invalid_Configure_Credentials_Request_Message",titleKey:"Trident_Git_Invalid_Configure_Credentials_Request_Title"},g.GitCommitInvalidOperationResult={messageKey:"Trident_Git_Commit_Invalid_Operation_Result_Message",titleKey:"Trident_Git_Commit_Invalid_Operation_Result_Title"},g.Git_GitProviderRateLimitExceeded={messageKey:"Trident_Git_Git_Provider_Rate_Limit_Exceeded_Message",titleKey:"Trident_Git_Git_Provider_Rate_Limit_Exceeded_Title"},g.Git_GitProviderBadCredentials={messageKey:"Trident_Git_Provider_Bad_Credentials_Message",titleKey:"Trident_Git_Provider_Bad_Credentials_Title"},g.Git_Create_Datasource_Failed={messageKey:"Trident_Git_Create_Datasource_Failed_Message",titleKey:"Trident_Git_Create_Datasource_Failed_Title"},g.Git_Load_Datasources_Failed={messageKey:"Trident_Git_Load_Datasources_Failed_Message",titleKey:"Trident_Git_Load_Datasources_Failed_Title"},g.Git_SQLDatabaseDisplayNameCannotBeChanged={messageKey:"Trident_Git_SQL_Database_Display_Name_Cannot_Be_Changed_Message",titleKey:"Trident_Git_SQL_Database_Display_Name_Cannot_Be_Changed_Title"},g.Git_GitHttpClientTimeout={messageKey:"Trident_Git_Error_Git_GitHttpClientTimeout_Message",titleKey:"MultiSelect_Shortcut_Failed"},g.Alm_InvalidBranchOutRequest_OperationFailureAfterFolderCreation={messageKey:"Trident_Git_Branch_Out_Error_Branch_Error_Message",titleKey:"Trident_Git_Branch_Out_Error_Branch_Error_Title"},g.AlmOperationFailed_CommitToGit={messageKey:"ErrorDialogHelperText_TechnicalDetails",titleKey:"Trident_Git_Error_AlmOperation_Commit_Title"},g.AlmOperationFailed_UndoFromGit={messageKey:"ErrorDialogHelperText_TechnicalDetails",titleKey:"Trident_Git_Error_AlmOperation_Undo_Title"},g.AlmOperationFailed_UpdateFromGit={messageKey:"ErrorDialogHelperText_TechnicalDetails",titleKey:"Trident_Git_Error_AlmOperation_Update_Title"},g.AlmOperationFailed_SwitchGitBranch={messageKey:"ErrorDialogHelperText_TechnicalDetails",titleKey:"Trident_Git_Error_AlmOperation_Switch_Branch_Title"},g.DMTS_DuplicateDataSourceNameError={messageKey:"Trident_Git_Data_Source_Name_Already_Exists_Message",titleKey:"Trident_Git_Data_Source_Name_Already_Exists_Title"},g.DM_GWPipeline_Gateway_MashupDataAccessError={messageKey:"Trident_Git_Provider_Bad_Credentials_Message",titleKey:"Trident_Git_Provider_Bad_Credentials_Title"},g),J=((p={}).Git_PotentialDuplicateDisplayNameAndType={moreInfoKeys:["Trident_Git_Error_Git_Potential_Duplicate_Diaplay_Name_And_Type_MoreInfo1","Trident_Git_Error_Git_Potential_Duplicate_Diaplay_Name_And_Type_MoreInfo2"]},p);function T(D){return D&&"GitError"===D.__tag}function X(D){return D?.errorsDetails[0]}function e(D,le){return D?.errorsDetails.some(function(Oe){return Oe.errorType===le})}function j(D){var le,Oe=ce[null===(le=D?.error)||void 0===le?void 0:le.code];return 400===D?.status&&!!Oe}function N(D){var le;return"Git_InvalidDirectoryName"===(null===(le=D.error["pbi.error"])||void 0===le?void 0:le.code)}function de(D){return e(D,"Git_MergePolicyNotSpecified")}function ae(D,le){var Oe;return"AlmOperationFailed_CommitToGit"===D&&"Git_GitProviderCommitRejectedByPolicy"===(null===(Oe=le?.gitNonInteractiveOperationErrorDetails)||void 0===Oe?void 0:Oe.errorCode)}function f(D,le){var Oe;return"AlmOperationFailed_CommitToGit"===D&&"Git_GitProviderCommitMaxSizeExceeded"===(null===(Oe=le?.gitNonInteractiveOperationErrorDetails)||void 0===Oe?void 0:Oe.errorCode)}function se(D,le){return{__tag:"GitError",errorInfo:le,errorsDetails:D}}function Se(D){return!!Ke.find(function(le){return le===D})}function Pe(D){return e(D,"Git_ItemNotFound")||e(D,"Git_DirectoryNameDiffersByCase")}var ye,me=function(D){return D[D.SingleOption=0]="SingleOption",D[D.None=1]="None",D}({}),Ke=["AlmOperationFailed_CommitToGit","AlmOperationFailed_UndoFromGit","AlmOperationFailed_UpdateFromGit"],Z=function(D){return D[D.AzureDevOps=0]="AzureDevOps",D[D.GitHub=1]="GitHub",D}({}),Ee="optionNotEnabled",Be=function(D){return D[D.Commit=0]="Commit",D[D.Update=1]="Update",D[D.Initialize=2]="Initialize",D[D.Undo=3]="Undo",D[D.CheckoutBranch=4]="CheckoutBranch",D[D.SwitchBranch=5]="SwitchBranch",D}({}),Xe=function(D){return D[D.InProgress=0]="InProgress",D[D.Successful=1]="Successful",D[D.Failed=2]="Failed",D}({}),qe=function(D){return D[D.None=0]="None",D[D.KeepYours=1]="KeepYours",D[D.TakeTheirs=2]="TakeTheirs",D}({}),Te=function(D){return D.AzureDevOps="Azure DevOps",D.GitHub="GitHub",D}({}),ge=((ye={})[Z.AzureDevOps]={type:Z.AzureDevOps,name:Te.AzureDevOps,iconName:"azuredevops_logo_16_regular"},ye[Z.GitHub]={type:Z.GitHub,name:Te.GitHub,iconName:"github_logo"},ye);function y(D){var le,Oe=null===(le=E(D))||void 0===le?void 0:le.repositoryLink;if(Oe)return{branchName:D.branchName,branchLink:Oe+"?version=GB".concat(D.branchName)}}function O(D){var le,Oe=null===(le=E(D))||void 0===le?void 0:le.repositoryLink;if(Oe&&D?.head)return{commitId:D.head,commitLink:Oe+"/commit/".concat(D.head,"/?refName=refs/heads/").concat(D.branchName)}}function E(D){if(D?.projectName)return{repositoryName:D.repositoryName,repositoryLink:"https://".concat(D.organizationName,".visualstudio.com/").concat(D.projectName,"/_git/").concat(D.repositoryName)}}function B(D){return{branchName:D.branchName,branchLink:w(D).repositoryLink+"/tree/".concat(D.branchName)}}function P(D){if(D?.head)return{commitId:D.head,commitLink:w(D).repositoryLink+"/commit/".concat(D.head)}}function w(D){return{repositoryName:D.repositoryName,repositoryLink:"https://github.com/".concat(D.organizationName,"/").concat(D.repositoryName)}}var S={credentialType:"Key",encryptedConnection:"Any",privacyLevel:"Private",skipTestConnection:!1,encryptionAlgorithm:"NONE"},$={singleSignOnType:"None",allowDatasourceThroughGateway:!1},H="Extension",_e={name:"url",type:"nullable text",isRequired:!1},Ce=["\\","?","*",":","|",'"',"<",">"],Ie=["."," "];function xe(D,le,Oe){if(void 0===Oe&&(Oe="Trident_Git_Last_Synced_At"),le){var Ae=D.currentLanguageLocale,Ct=new Date(le),rt=D.format("Trident_Git_Last_Synced_At",[Ct.toLocaleDateString(Ae,{day:"numeric",month:"numeric",year:"numeric"}),Ct.toLocaleTimeString(Ae,{hour:"numeric",minute:"numeric"})]);return"Trident_Git_Last_Synced_At"===Oe?rt:D.get(Oe)+rt}}function it(){var D;return(D={})[Z.AzureDevOps]={getBranchReference:y,getHeadReference:O,getIconName:function(){return"azuredevops_logo_16_regular"},getRepositoryReference:E},D[Z.GitHub]={getBranchReference:B,getHeadReference:P,getIconName:function(){return"github_logo"},getRepositoryReference:w},D}function ft(D,le){return Ce.some(function(Oe){return D.includes(Oe)})?le.get("Trident_Git_Error_Git_InvalidBranchName_Message"):Ie.some(function(Oe){return D.endsWith(Oe)})?le.get("Trident_Git_Error_Git_InvalidBranchNameSuffix_Message"):void 0}},57156:function(pt,De,v){v.d(De,{F:function(){return T}});var g=v(77476),p=v(78035),ce=v(17177),C=v(16622),J=v(50423),T=function(){function X(){}return X.\u0275fac=function(j){return new(j||X)},X.\u0275mod=J.\u0275\u0275defineNgModule({type:X}),X.\u0275inj=J.\u0275\u0275defineInjector({imports:[g.CommonModule,p.Y,ce.T6,C.u]}),X}()},89330:function(pt,De,v){v.d(De,{Z:function(){return e}});var g=v(4437),p=v(50423),ce=v(17174),C=v(30794),J=v(83317),T=v(15485),X=["*"],e=function(){function j(N,x){this.changeDetector=N,this.triRadioService=x,this._disabled=!1,this._isCompact=!1,this.value=null,this.destroy$=new C.xQ,this.onChange=function(){},this.onTouched=function(){}}return Object.defineProperty(j.prototype,"disabled",{get:function(){return this._disabled},set:function(x){this._disabled=(0,g.Ig)(x)},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"isCompact",{get:function(){return this._isCompact},set:function(x){this._isCompact=(0,g.Ig)(x)},enumerable:!1,configurable:!0}),j.prototype.ngOnInit=function(){var N=this;this.triRadioService.selected$.pipe((0,J.R)(this.destroy$)).subscribe(function(x){N.value!==x&&(N.value=x,N.onChange(N.value))}),this.triRadioService.touched$.pipe((0,J.R)(this.destroy$)).subscribe(function(){N.onTouched()})},j.prototype.ngOnChanges=function(N){var de=N.isCompact,ae=N.name;N.disabled&&this.triRadioService.setDisabled(this.disabled),de&&this.triRadioService.setIsCompact(this.isCompact),ae&&this.triRadioService.setName(this.name)},j.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},j.prototype.writeValue=function(N){this.value=N,this.triRadioService.select(N),this.changeDetector.markForCheck()},j.prototype.registerOnChange=function(N){this.onChange=N},j.prototype.registerOnTouched=function(N){this.onTouched=N},j.prototype.setDisabledState=function(N){this.disabled=N,this.triRadioService.setDisabled(N),this.changeDetector.markForCheck()},j.prototype.setIsCompactState=function(N){this.isCompact=N,this.triRadioService.setIsCompact(N),this.changeDetector.markForCheck()},j.\u0275fac=function(x){return new(x||j)(p.\u0275\u0275directiveInject(p.ChangeDetectorRef),p.\u0275\u0275directiveInject(T.x))},j.\u0275cmp=p.\u0275\u0275defineComponent({type:j,selectors:[["tri-radio-group"]],hostAttrs:["role","radiogroup",1,"tri-radio-group"],inputs:{disabled:"disabled",isCompact:"isCompact",name:"name"},exportAs:["triRadioGroup"],features:[p.\u0275\u0275ProvidersFeature([T.x,{provide:ce.JU,useExisting:(0,p.forwardRef)(function(){return j}),multi:!0}]),p.\u0275\u0275NgOnChangesFeature],ngContentSelectors:X,decls:1,vars:0,template:function(x,de){1&x&&(p.\u0275\u0275projectionDef(),p.\u0275\u0275projection(0))},encapsulation:2,changeDetection:0}),j}()},43059:function(pt,De,v){v.r(De),v.d(De,{AutoSaveFieldsActivityName:function(){return Na},AzureConnectionResourceType:function(){return lt},CacheTypes:function(){return Nn},ConfigurationContentType:function(){return _t},DatasourceBindingSecurityMode:function(){return Rn},EditConfigurationType:function(){return kt},LicenseMode:function(){return ne},OperationState:function(){return Ld},OperationType:function(){return Nd},PrivateEndpointConnectionStateStatus:function(){return zt},PrivateEndpointProvisioningState:function(){return Pt},PrivateEndpointsColumn:function(){return sn},StorageFormat:function(){return Wt},WorkspaceIdentityProvisionState:function(){return Ye},WorkspaceIdentityRole:function(){return Wi},WorkspaceIdentityUsersColumn:function(){return Li},WorkspaceSettingsModule:function(){return Dr},WorkspaceShellSettingsViewComponent:function(){return Mg},datasourceGroup_CognitiveServices:function(){return ra},datasourceGroup_Databricks:function(){return xr},datasourceGroup_DocumentDb:function(){return Ti},datasourceGroup_EventHub:function(){return Pr},datasourceGroup_IOTHub:function(){return Mr},datasourceGroup_Insights:function(){return Oi},datasourceGroup_KeyVault:function(){return Sr},datasourceGroup_Kusto:function(){return yr},datasourceGroup_MachineLearningService:function(){return sa},datasourceGroup_MariaDB:function(){return Cr},datasourceGroup_MySQL:function(){return oa},datasourceGroup_Network_ApplicationGateway:function(){return br},datasourceGroup_Network_PrivateLinkService:function(){return ca},datasourceGroup_PostgreSQL:function(){return aa},datasourceGroup_Purview:function(){return la},datasourceGroup_Search:function(){return wr},datasourceGroup_Sql:function(){return Ei},datasourceGroup_SqlManagedInstance:function(){return Di},datasourceGroup_Storage:function(){return kr},datasourceGroup_Synapse:function(){return Ir},datasourceGroup_Web:function(){return da},getDatasourceConfigs:function(){return Tr},getErrorCodeLearnMore:function(){return Er},isPrivateEndpointsErrorMessage:function(){return pa},isVNetErrorMessage:function(){return Bi},resourceIdRegex:function(){return Or}});var g=v(77476),p=v(17174),ce=v(87650),C=v(77274),J=v(57746),T=v(78035),X=v(65152),e=v(50423),j=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule]}),i}(),N=v(5915),x=v(44913),de=v(47768),ae=v(46303),V=v(17177),f=v(8816),se=v(16149),we=v(95228),Se=v(14977),Pe=v(57156),me=v(30651),Ke=v(44408),Z=v(70628),ze=v(10510),Ee=v(65232),Be=v(32980),Xe=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule,Se.B,Be.sp,se.m,T.Y,we.W,V.T6]}),i}(),qe=function(){function i(r){this.gitInitializeFacade=r}return i.prototype.initializeGitConnection=function(r){return this.gitInitializeFacade.initializeGitConnection(r)},i.prototype.getGitInitializationState=function(r){return this.gitInitializeFacade.getGitInitializationState(r)},i.prototype.getGitInitializationCallState=function(r){return this.gitInitializeFacade.getGitInitializationCallState(r)},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275inject(Z.REK))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i}(),Ze=function(i){return i[i.None=0]="None",i[i.KeepYours=1]="KeepYours",i[i.TakeTheirs=2]="TakeTheirs",i}({}),ye=v(7452),Te=v(209),ge=v(10965),y=v(95825),O=v(65e3),E=v(37350),B=v(89330),P=v(74913),w=v(55334);function S(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"tri-checkbox",10),e.\u0275\u0275listener("onChange",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onCheckboxClick(o))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,1,"Trident_Git_Override_Checkbox_Information")," "))}var tt,mt,Qe,ut,vt,$="cancelButton",H="syncButtonName",_e=function(){function i(r,n){this.localizationService=r,this.dialogRef=n,this._isSyncButtonDisabled=!0,this._selectedMergePolicy=null,this._isOverrideCheckboxChecked=!1,this.MergePolicy=Ze,this.dialogData={title:this.localizationService.get("Trident_Git_Sync_Title"),buttons:[{name:H,label:this.localizationService.get("Sync"),buttonType:"primary",disabled:this.isSyncButtonDisabled},{name:$,label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]}}return i.prototype.onMergePolicyChange=function(r,n){r&&(this._isOverrideCheckboxChecked=!1,this._selectedMergePolicy=n),this.calculateSyncButtonState()},i.prototype.onCheckboxClick=function(r){this._isOverrideCheckboxChecked=r,this.calculateSyncButtonState()},i.prototype.onButtonClick=function(r){r===$?this.dialogRef.close(null):r===H&&this.dialogRef.close(this._selectedMergePolicy)},i.prototype.calculateSyncButtonState=function(){this.isSyncButtonDisabled=null===this._selectedMergePolicy||this._selectedMergePolicy===Ze.TakeTheirs&&!this._isOverrideCheckboxChecked},Object.defineProperty(i.prototype,"isSyncButtonDisabled",{get:function(){return this._isSyncButtonDisabled},set:function(n){this._isSyncButtonDisabled=n,this.dialogData.buttons[0].disabled=n},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selectedMergePolicy",{get:function(){return this._selectedMergePolicy},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isOverrideCheckboxChecked",{get:function(){return this._isOverrideCheckboxChecked},enumerable:!1,configurable:!0}),i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(Te.so))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-git-merge-policy-selection"]],decls:24,vars:21,consts:[[3,"dialogData","buttonClickEvent"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2235445&clcid=0x409","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon"],[1,"radio-button-container"],[1,"keep-yours",3,"value","checked","change"],[1,"radio-button-text"],[1,"take-theirs",3,"value","checked","change"],[1,"message-bar"],["tri-svg-icon-20","","name","important_20_filled"],["class","checkbox",4,"ngIf"],[1,"checkbox"],[3,"onChange"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"trident-dialog",0),e.\u0275\u0275listener("buttonClickEvent",function(a){return t.onButtonClick(a)}),e.\u0275\u0275elementStart(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"tri-link",1),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"tri-radio-group")(8,"div",2)(9,"tri-radio-button",3),e.\u0275\u0275listener("change",function(a){return t.onMergePolicyChange(a,t.MergePolicy.KeepYours)}),e.\u0275\u0275elementStart(10,"span",4),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"div",2)(14,"tri-radio-button",5),e.\u0275\u0275listener("change",function(a){return t.onMergePolicyChange(a,t.MergePolicy.TakeTheirs)}),e.\u0275\u0275elementStart(15,"span",4),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",6),e.\u0275\u0275element(19,"tri-svg-icon",7),e.\u0275\u0275elementStart(20,"span"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(23,S,5,3,"div",8),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("dialogData",t.dialogData),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,11,"Trident_Git_Sync_Details")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,13,"LearnMore")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("value",t.MergePolicy.KeepYours)("checked",t.selectedMergePolicy===t.MergePolicy.KeepYours),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,15,"Trident_Git_Sync_From_Workspace_To_Git")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",t.MergePolicy.TakeTheirs)("checked",t.selectedMergePolicy===t.MergePolicy.TakeTheirs),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,17,"Trident_Git_Sync_From_Git_To_Workspace")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(22,19,"Trident_Git_Override_Warning")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.selectedMergePolicy===t.MergePolicy.TakeTheirs))},dependencies:[g.NgIf,ge.r,y.v,O.v,E.Y,B.Z,P.M,w.Y],styles:["[_nghost-%COMP%]     .mat-mdc-dialog-content.dialog-body{display:flex;flex-direction:column;gap:16px;max-height:none}p[_ngcontent-%COMP%]{margin-bottom:0}tri-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}tri-radio-group[_ngcontent-%COMP%]   .radio-button-container[_ngcontent-%COMP%]{border:1px solid var(--globalColorGrey82);border-radius:8px;padding:16px}tri-radio-group[_ngcontent-%COMP%]   .radio-button-container[_ngcontent-%COMP%]   tri-radio-button[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:center;gap:8px}tri-radio-group[_ngcontent-%COMP%]   .radio-button-container[_ngcontent-%COMP%]   tri-radio-button[_ngcontent-%COMP%]   .radio-button-text[_ngcontent-%COMP%]{color:var(--globalColorGrey14);font-size:14px}.message-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px;padding:6px 8px;margin-top:8px;background:var(--globalColorDarkOrangeTint60);border-bottom:1px solid var(--globalColorDarkOrangeTint40)}.message-bar[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorDarkOrangeShade10)}.message-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--globalColorDarkOrangeShade10);font-size:12px}.checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}"],changeDetection:0}),i}(),Ce=v(12385),Ie=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule,Z.DAQ,p.u5,ze.FF,Ee.Nn,Xe,Ce.K3,Ke.Ps,Pe.F,Be.sp,x.lK,se.m,T.Y,de.I,ae.b,N.d,V.T6,f.w]}),i}(),D=v(90341),le=v(37419),Oe=v(94130),Ae=v(4437),Ct=v(10519),rt=v(48138),st=v(30794),ke=["knob"],pe=["valueIndicatorContainer"];function Ge(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",4,5)(2,"div",6)(3,"span",7),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(n.valueIndicatorText)}}var Je=["trackActive"];function It(i,r){if(1&i&&e.\u0275\u0275element(0,"div"),2&i){var n=r.$implicit,t=r.index,o=e.\u0275\u0275nextContext(3);e.\u0275\u0275classMap(0===n?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),e.\u0275\u0275styleProp("transform",o._calcTickMarkTransform(t))}}function St(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,It,1,4,"div",11),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n._tickMarks)}}function ct(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",8,9),e.\u0275\u0275template(2,St,2,1,"ng-container",10),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n._cachedWidth)}}function bn(i,r){if(1&i&&e.\u0275\u0275element(0,"mat-slider-visual-thumb",7),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("discrete",n.discrete)("thumbPosition",1)("valueIndicatorText",n.startValueIndicatorText)}}var kn=new e.InjectionToken("_MatSlider"),ot=new e.InjectionToken("_MatSliderThumb"),In=new e.InjectionToken("_MatSliderRangeThumb"),$i=new e.InjectionToken("_MatSliderVisualThumb"),Ui=function(){function i(n,t,o,a){var l=this;this._cdr=n,this._ngZone=t,this._slider=a,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=function(m){if(!l._sliderInput._isFocused){var h=l._hostElement.getBoundingClientRect(),b=l._slider._isCursorOnSliderThumb(m,h);l._isHovered=b,b?l._showHoverRipple():l._hideRipple(l._hoverRippleRef)}},this._onMouseLeave=function(){l._isHovered=!1,l._hideRipple(l._hoverRippleRef)},this._onFocus=function(){l._hideRipple(l._hoverRippleRef),l._showFocusRipple(),l._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=function(){l._isActive||l._hideRipple(l._focusRippleRef),l._isHovered&&l._showHoverRipple(),l._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=function(m){0===m.button&&(l._isActive=!0,l._showActiveRipple())},this._onDragEnd=function(){l._isActive=!1,l._hideRipple(l._activeRippleRef),l._sliderInput._isFocused||l._hideRipple(l._focusRippleRef)},this._hostElement=o.nativeElement}var r=i.prototype;return r.ngAfterViewInit=function(){var t=this;this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;var o=this._sliderInputEl;this._ngZone.runOutsideAngular(function(){o.addEventListener("pointermove",t._onPointerMove),o.addEventListener("pointerdown",t._onDragStart),o.addEventListener("pointerup",t._onDragEnd),o.addEventListener("pointerleave",t._onMouseLeave),o.addEventListener("focus",t._onFocus),o.addEventListener("blur",t._onBlur)})},r.ngOnDestroy=function(){var t=this._sliderInputEl;t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)},r._showHoverRipple=function(){var t;this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),null==(t=this._hoverRippleRef)||t.element.classList.add("mat-mdc-slider-hover-ripple"))},r._showFocusRipple=function(){var t;this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),null==(t=this._focusRippleRef)||t.element.classList.add("mat-mdc-slider-focus-ripple"))},r._showActiveRipple=function(){var t;this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),null==(t=this._activeRippleRef)||t.element.classList.add("mat-mdc-slider-active-ripple"))},r._isShowingRipple=function(t){return 0===t?.state||1===t?.state},r._showRipple=function(t,o){var a;if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),null==(a=this._slider._globalRippleOptions)||!a.disabled||o))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})},r._hideRipple=function(t){if(t?.fadeOut(),!this._isShowingAnyRipple()){this._slider._isRange||this._hideValueIndicator();var o=this._getSibling();o._isShowingAnyRipple()||(this._hideValueIndicator(),o._hideValueIndicator())}},r._showValueIndicator=function(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")},r._hideValueIndicator=function(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")},r._getSibling=function(){return this._slider._getThumb(1===this.thumbPosition?2:1)},r._getValueIndicatorContainer=function(){var t;return null==(t=this._valueIndicatorContainer)?void 0:t.nativeElement},r._getKnob=function(){return this._knob.nativeElement},r._isShowingAnyRipple=function(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)},i}();(tt=Ui).\u0275fac=function(r){return new(r||tt)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(kn))},tt.\u0275cmp=e.\u0275\u0275defineComponent({type:tt,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(r,n){var t;1&r&&(e.\u0275\u0275viewQuery(rt.wG,5),e.\u0275\u0275viewQuery(ke,5),e.\u0275\u0275viewQuery(pe,5)),2&r&&(e.\u0275\u0275queryRefresh(t=e.\u0275\u0275loadQuery())&&(n._ripple=t.first),e.\u0275\u0275queryRefresh(t=e.\u0275\u0275loadQuery())&&(n._knob=t.first),e.\u0275\u0275queryRefresh(t=e.\u0275\u0275loadQuery())&&(n._valueIndicatorContainer=t.first))},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[e.\u0275\u0275ProvidersFeature([{provide:$i,useExisting:tt}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(r,n){1&r&&(e.\u0275\u0275template(0,Ge,5,1,"div",0),e.\u0275\u0275element(1,"div",1,2)(3,"div",3)),2&r&&(e.\u0275\u0275property("ngIf",n.discrete),e.\u0275\u0275advance(3),e.\u0275\u0275property("matRippleDisabled",!0))},dependencies:[g.NgIf,rt.wG],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0});var xn=(0,rt.pj)((0,rt.Kr)(function(){return function(r){this._elementRef=r}}()),"primary");(mt=function(i){(0,le.Z)(n,i);var r=n.prototype;function n(t,o,a,l,m,h){var b;return(b=i.call(this,a)||this)._ngZone=t,b._cdr=o,b._dir=l,b._globalRippleOptions=m,b._disabled=!1,b._discrete=!1,b._showTickMarks=!1,b._min=0,b._max=100,b._step=1,b.displayWith=function(z){return""+z},b._rippleRadius=24,b.startValueIndicatorText="",b.endValueIndicatorText="",b._isRange=!1,b._isRtl=!1,b._hasViewInitialized=!1,b._tickMarkTrackWidth=0,b._hasAnimation=!1,b._resizeTimer=null,b._platform=(0,e.inject)(Ct.t4),b._knobRadius=8,b._thumbsOverlap=!1,b._noopAnimations="NoopAnimations"===h,b._dirChangeSubscription=b._dir.change.subscribe(function(){return b._onDirChange()}),b._isRtl="rtl"===b._dir.value,b}return r._updateMin=function(o){var a=this._min;this._min=o,this._isRange?this._updateMinRange({old:a,new:o}):this._updateMinNonRange(o),this._onMinMaxOrStepChange()},r._updateMinRange=function(o){var a=this._getInput(2),l=this._getInput(1),m=a.value,h=l.value;l.min=o.new,a.min=Math.max(o.new,l.value),l.max=Math.min(a.max,a.value),l._updateWidthInactive(),a._updateWidthInactive(),o.new<o.old?this._onTranslateXChangeBySideEffect(a,l):this._onTranslateXChangeBySideEffect(l,a),m!==a.value&&this._onValueChange(a),h!==l.value&&this._onValueChange(l)},r._updateMinNonRange=function(o){var a=this._getInput(2);if(a){var l=a.value;a.min=o,a._updateThumbUIByValue(),this._updateTrackUI(a),l!==a.value&&this._onValueChange(a)}},r._updateMax=function(o){var a=this._max;this._max=o,this._isRange?this._updateMaxRange({old:a,new:o}):this._updateMaxNonRange(o),this._onMinMaxOrStepChange()},r._updateMaxRange=function(o){var a=this._getInput(2),l=this._getInput(1),m=a.value,h=l.value;a.max=o.new,l.max=Math.min(o.new,a.value),a.min=l.value,a._updateWidthInactive(),l._updateWidthInactive(),o.new>o.old?this._onTranslateXChangeBySideEffect(l,a):this._onTranslateXChangeBySideEffect(a,l),m!==a.value&&this._onValueChange(a),h!==l.value&&this._onValueChange(l)},r._updateMaxNonRange=function(o){var a=this._getInput(2);if(a){var l=a.value;a.max=o,a._updateThumbUIByValue(),this._updateTrackUI(a),l!==a.value&&this._onValueChange(a)}},r._updateStep=function(o){this._step=o,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()},r._updateStepRange=function(){var o=this._getInput(2),a=this._getInput(1),l=o.value,m=a.value,h=a.value;o.min=this._min,a.max=this._max,o.step=this._step,a.step=this._step,this._platform.SAFARI&&(o.value=o.value,a.value=a.value),o.min=Math.max(this._min,a.value),a.max=Math.min(this._max,o.value),a._updateWidthInactive(),o._updateWidthInactive(),o.value<h?this._onTranslateXChangeBySideEffect(a,o):this._onTranslateXChangeBySideEffect(o,a),l!==o.value&&this._onValueChange(o),m!==a.value&&this._onValueChange(a)},r._updateStepNonRange=function(){var o=this._getInput(2);if(o){var a=o.value;o.step=this._step,this._platform.SAFARI&&(o.value=o.value),o._updateThumbUIByValue(),a!==o.value&&this._onValueChange(o)}},r.ngAfterViewInit=function(){this._platform.isBrowser&&this._updateDimensions();var o=this._getInput(2),a=this._getInput(1);this._isRange=!!o&&!!a,this._cdr.detectChanges();var l=this._getThumb(2);this._rippleRadius=l._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(o,a):this._initUINonRange(o),this._updateTrackUI(o),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()},r._initUINonRange=function(o){o.initProps(),o.initUI(),this._updateValueIndicatorUI(o),this._hasViewInitialized=!0,o._updateThumbUIByValue()},r._initUIRange=function(o,a){o.initProps(),o.initUI(),a.initProps(),a.initUI(),o._updateMinMax(),a._updateMinMax(),o._updateStaticStyles(),a._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,o._updateThumbUIByValue(),a._updateThumbUIByValue()},r.ngOnDestroy=function(){var o;this._dirChangeSubscription.unsubscribe(),null==(o=this._resizeObserver)||o.disconnect(),this._resizeObserver=null},r._onDirChange=function(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()},r._onDirChangeRange=function(){var o=this._getInput(2),a=this._getInput(1);o._setIsLeftThumb(),a._setIsLeftThumb(),o.translateX=o._calcTranslateXByValue(),a.translateX=a._calcTranslateXByValue(),o._updateStaticStyles(),a._updateStaticStyles(),o._updateWidthInactive(),a._updateWidthInactive(),o._updateThumbUIByValue(),a._updateThumbUIByValue()},r._onDirChangeNonRange=function(){this._getInput(2)._updateThumbUIByValue()},r._observeHostResize=function(){var o=this;typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(function(){o._resizeObserver=new ResizeObserver(function(){o._isActive()||(o._resizeTimer&&clearTimeout(o._resizeTimer),o._onResize())}),o._resizeObserver.observe(o._elementRef.nativeElement)})},r._isActive=function(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive},r._getValue=function(o){void 0===o&&(o=2);var a=this._getInput(o);return a?a.value:this.min},r._skipUpdate=function(){var o,a;return!!(null!=(o=this._getInput(1))&&o._skipUIUpdate||null!=(a=this._getInput(2))&&a._skipUIUpdate)},r._updateDimensions=function(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left},r._setTrackActiveStyles=function(o){var a=this._trackActive.nativeElement.style;a.left=o.left,a.right=o.right,a.transformOrigin=o.transformOrigin,a.transform=o.transform},r._calcTickMarkTransform=function(o){return"translateX("+o*(this._tickMarkTrackWidth/(this._tickMarks.length-1))+"px"},r._onTranslateXChange=function(o){this._hasViewInitialized&&(this._updateThumbUI(o),this._updateTrackUI(o),this._updateOverlappingThumbUI(o))},r._onTranslateXChangeBySideEffect=function(o,a){this._hasViewInitialized&&(o._updateThumbUIByValue(),a._updateThumbUIByValue())},r._onValueChange=function(o){this._hasViewInitialized&&(this._updateValueIndicatorUI(o),this._updateTickMarkUI(),this._cdr.detectChanges())},r._onMinMaxOrStepChange=function(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())},r._onResize=function(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){var o=this._getInput(2),a=this._getInput(1);o._updateThumbUIByValue(),a._updateThumbUIByValue(),o._updateStaticStyles(),a._updateStaticStyles(),o._updateMinMax(),a._updateMinMax(),o._updateWidthInactive(),a._updateWidthInactive()}else{var l=this._getInput(2);l&&l._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}},r._areThumbsOverlapping=function(){var o=this._getInput(1),a=this._getInput(2);return!(!o||!a)&&a.translateX-o.translateX<20},r._updateOverlappingThumbClassNames=function(o){var a=o.getSibling(),l=this._getThumb(o.thumbPosition);this._getThumb(a.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),l._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)},r._updateOverlappingThumbUI=function(o){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(o))},r._updateThumbUI=function(o){this._skipUpdate()||(this._getThumb(2===o.thumbPosition?2:1)._hostElement.style.transform="translateX("+o.translateX+"px)")},r._updateValueIndicatorUI=function(o){if(!this._skipUpdate()){var a=this.displayWith(o.value);if(this._hasViewInitialized?o._valuetext=a:o._hostElement.setAttribute("aria-valuetext",a),this.discrete){1===o.thumbPosition?this.startValueIndicatorText=a:this.endValueIndicatorText=a;var l=this._getThumb(o.thumbPosition);a.length<3?l._hostElement.classList.add("mdc-slider__thumb--short-value"):l._hostElement.classList.remove("mdc-slider__thumb--short-value")}}},r._updateValueIndicatorUIs=function(){var o=this._getInput(2),a=this._getInput(1);o&&this._updateValueIndicatorUI(o),a&&this._updateValueIndicatorUI(a)},r._updateTickMarkTrackUI=function(){if(this.showTickMarks&&!this._skipUpdate()){var o=this._step&&this._step>0?this._step:1,a=Math.floor(this.max/o)*o;this._tickMarkTrackWidth=this._cachedWidth*((a-this.min)/(this.max-this.min))-6}},r._updateTrackUI=function(o){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(o):this._updateTrackUINonRange(o))},r._updateTrackUIRange=function(o){var a=o.getSibling();if(a&&this._cachedWidth){var l=Math.abs(a.translateX-o.translateX)/this._cachedWidth;this._setTrackActiveStyles(o._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-a.translateX+"px",transformOrigin:"right",transform:"scaleX("+l+")"}:{left:a.translateX+"px",right:"auto",transformOrigin:"left",transform:"scaleX("+l+")"})}},r._updateTrackUINonRange=function(o){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:"scaleX("+(1-o.fillPercentage)+")"}:{left:"0px",right:"auto",transformOrigin:"left",transform:"scaleX("+o.fillPercentage+")"})},r._updateTickMarkUI=function(){if(this.showTickMarks&&void 0!==this.step&&void 0!==this.min&&void 0!==this.max){var o=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(o):this._updateTickMarkUINonRange(o),this._isRtl&&this._tickMarks.reverse()}},r._updateTickMarkUINonRange=function(o){var a=this._getValue(),l=Math.max(Math.round((a-this.min)/o),0),m=Math.max(Math.round((this.max-a)/o),0);this._isRtl?l++:m++,this._tickMarks=Array(l).fill(0).concat(Array(m).fill(1))},r._updateTickMarkUIRange=function(o){var a=this._getValue(),l=this._getValue(1),m=Math.max(Math.floor((l-this.min)/o),0),h=Math.max(Math.floor((a-l)/o)+1,0),b=Math.max(Math.floor((this.max-a)/o),0);this._tickMarks=Array(m).fill(1).concat(Array(h).fill(0),Array(b).fill(1))},r._getInput=function(o){var a;return 2===o&&this._input?this._input:null!=(a=this._inputs)&&a.length?1===o?this._inputs.first:this._inputs.last:void 0},r._getThumb=function(o){var a,l;return 2===o?null==(a=this._thumbs)?void 0:a.last:null==(l=this._thumbs)?void 0:l.first},r._setTransition=function(o){this._hasAnimation=!this._platform.IOS&&o&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)},r._isCursorOnSliderThumb=function(o,a){var l=a.width/2,z=o.clientY-(a.y+l);return Math.pow(o.clientX-(a.x+l),2)+Math.pow(z,2)<Math.pow(l,2)},(0,D.Z)(n,[{key:"disabled",get:function(){return this._disabled},set:function(o){this._disabled=(0,Ae.Ig)(o);var a=this._getInput(2),l=this._getInput(1);a&&(a.disabled=this._disabled),l&&(l.disabled=this._disabled)}},{key:"discrete",get:function(){return this._discrete},set:function(o){this._discrete=(0,Ae.Ig)(o),this._updateValueIndicatorUIs()}},{key:"showTickMarks",get:function(){return this._showTickMarks},set:function(o){this._showTickMarks=(0,Ae.Ig)(o)}},{key:"min",get:function(){return this._min},set:function(o){var a=(0,Ae.su)(o,this._min);this._min!==a&&this._updateMin(a)}},{key:"max",get:function(){return this._max},set:function(o){var a=(0,Ae.su)(o,this._max);this._max!==a&&this._updateMax(a)}},{key:"step",get:function(){return this._step},set:function(o){var a=(0,Ae.su)(o,this._step);this._step!==a&&this._updateStep(a)}}]),n}(xn)).\u0275fac=function(r){return new(r||mt)(e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(Oe.Is,8),e.\u0275\u0275directiveInject(rt.Y2,8),e.\u0275\u0275directiveInject(e.ANIMATION_MODULE_TYPE,8))},mt.\u0275cmp=e.\u0275\u0275defineComponent({type:mt,selectors:[["mat-slider"]],contentQueries:function(r,n,t){var o;1&r&&(e.\u0275\u0275contentQuery(t,ot,5),e.\u0275\u0275contentQuery(t,In,4)),2&r&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n._input=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n._inputs=o))},viewQuery:function(r,n){var t;1&r&&(e.\u0275\u0275viewQuery(Je,5),e.\u0275\u0275viewQuery($i,5)),2&r&&(e.\u0275\u0275queryRefresh(t=e.\u0275\u0275loadQuery())&&(n._trackActive=t.first),e.\u0275\u0275queryRefresh(t=e.\u0275\u0275loadQuery())&&(n._thumbs=t))},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(r,n){2&r&&e.\u0275\u0275classProp("mdc-slider--range",n._isRange)("mdc-slider--disabled",n.disabled)("mdc-slider--discrete",n.discrete)("mdc-slider--tick-marks",n.showTickMarks)("_mat-animation-noopable",n._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[e.\u0275\u0275ProvidersFeature([{provide:kn,useExisting:mt}]),e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:["*"],decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(r,n){1&r&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275projection(0),e.\u0275\u0275elementStart(1,"div",0),e.\u0275\u0275element(2,"div",1),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275element(4,"div",3,4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,ct,3,1,"div",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,bn,1,3,"mat-slider-visual-thumb",6),e.\u0275\u0275element(8,"mat-slider-visual-thumb",7)),2&r&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",n.showTickMarks),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n._isRange),e.\u0275\u0275advance(1),e.\u0275\u0275property("discrete",n.discrete)("thumbPosition",2)("valueIndicatorText",n.endValueIndicatorText))},dependencies:[g.NgForOf,g.NgIf,Ui],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__value-indicator{word-break:normal}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});var Vn={provide:p.JU,useExisting:(0,e.forwardRef)(function(){return pn}),multi:!0},Lt={provide:p.JU,useExisting:(0,e.forwardRef)(function(){return ji}),multi:!0},pn=function(){var i=r.prototype;function r(n,t,o,a){var l=this;this._ngZone=n,this._elementRef=t,this._cdr=o,this._slider=a,this.valueChange=new e.EventEmitter,this.dragStart=new e.EventEmitter,this.dragEnd=new e.EventEmitter,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new st.xQ,this._skipUIUpdate=!1,this._onTouchedFn=function(){},this._isControlInitialized=!1,this._platform=(0,e.inject)(Ct.t4),this._hostElement=t.nativeElement,this._ngZone.runOutsideAngular(function(){l._hostElement.addEventListener("pointerdown",l._onPointerDown.bind(l)),l._hostElement.addEventListener("pointermove",l._onPointerMove.bind(l)),l._hostElement.addEventListener("pointerup",l._onPointerUp.bind(l))})}return i._setIsFocused=function(t){this._isFocused=t},i.ngOnDestroy=function(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()},i.initProps=function(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()},i.initUI=function(){this._updateThumbUIByValue()},i._initValue=function(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())},i._getDefaultValue=function(){return this.min},i._onBlur=function(){this._setIsFocused(!1),this._onTouchedFn()},i._onFocus=function(){this._setIsFocused(!0)},i._onChange=function(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})},i._onInput=function(){var t;null==(t=this._onChangeFn)||t.call(this,this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)},i._onNgControlValueChange=function(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled},i._onPointerDown=function(t){if(!this.disabled&&0===t.button){if(this._platform.IOS){var o=this._slider._isCursorOnSliderThumb(t,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=o,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}},i._handleValueCorrection=function(t){var o=this;this._skipUIUpdate=!0,setTimeout(function(){o._skipUIUpdate=!1,o._fixValue(t)},0)},i._fixValue=function(t){var o,a=t.clientX-this._slider._cachedLeft,l=this._slider._cachedWidth,m=0===this._slider.step?1:this._slider.step,h=Math.floor((this._slider.max-this._slider.min)/m),z=Math.round((this._slider._isRtl?1-a/l:a/l)*h)/h,ie=Math.round((z*(this._slider.max-this._slider.min)+this._slider.min)/m)*m;if(ie===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=ie,this.valueChange.emit(this.value),null==(o=this._onChangeFn)||o.call(this,this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})},i._onPointerMove=function(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)},i._onPointerUp=function(){var t=this;this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(function(){return t._updateWidthInactive()},this._platform.IOS?10:0))},i._clamp=function(t){return Math.max(Math.min(t,this._slider._cachedWidth),0)},i._calcTranslateXByValue=function(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth},i._calcTranslateXByPointerEvent=function(t){return t.clientX-this._slider._cachedLeft},i._updateWidthActive=function(){this._hostElement.style.padding="0 "+this._slider._inputPadding+"px",this._hostElement.style.width="calc(100% + "+this._slider._inputPadding+"px)"},i._updateWidthInactive=function(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"},i._updateThumbUIByValue=function(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)},i._updateThumbUIByPointerEvent=function(t,o){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(o)},i._updateThumbUI=function(t){this._slider._setTransition(!(null==t||!t.withAnimation)),this._slider._onTranslateXChange(this)},i.writeValue=function(t){(this._isControlInitialized||null!==t)&&(this.value=t)},i.registerOnChange=function(t){this._onChangeFn=t,this._isControlInitialized=!0},i.registerOnTouched=function(t){this._onTouchedFn=t},i.setDisabledState=function(t){this.disabled=t},i.focus=function(){this._hostElement.focus()},i.blur=function(){this._hostElement.blur()},(0,D.Z)(r,[{key:"value",get:function(){return(0,Ae.su)(this._hostElement.value)},set:function(t){var o=(0,Ae.su)(t).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=o,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()):this._initialValue=o}},{key:"translateX",get:function(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)},set:function(t){this._translateX=t}},{key:"min",get:function(){return(0,Ae.su)(this._hostElement.min)},set:function(t){this._hostElement.min=(0,Ae.su)(t).toString(),this._cdr.detectChanges()}},{key:"max",get:function(){return(0,Ae.su)(this._hostElement.max)},set:function(t){this._hostElement.max=(0,Ae.su)(t).toString(),this._cdr.detectChanges()}},{key:"step",get:function(){return(0,Ae.su)(this._hostElement.step)},set:function(t){this._hostElement.step=(0,Ae.su)(t).toString(),this._cdr.detectChanges()}},{key:"disabled",get:function(){return(0,Ae.Ig)(this._hostElement.disabled)},set:function(t){this._hostElement.disabled=(0,Ae.Ig)(t),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}},{key:"percentage",get:function(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}},{key:"fillPercentage",get:function(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}}]),r}();(Qe=pn).\u0275fac=function(r){return new(r||Qe)(e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(kn))},Qe.\u0275dir=e.\u0275\u0275defineDirective({type:Qe,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(r,n){1&r&&e.\u0275\u0275listener("change",function(){return n._onChange()})("input",function(){return n._onInput()})("blur",function(){return n._onBlur()})("focus",function(){return n._onFocus()}),2&r&&e.\u0275\u0275attribute("aria-valuetext",n._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[e.\u0275\u0275ProvidersFeature([Vn,{provide:ot,useExisting:Qe}])]});var ji=function(i){(0,le.Z)(n,i);var r=n.prototype;function n(t,o,a,l){var m;return(m=i.call(this,t,a,l,o)||this)._cdr=l,m._isEndThumb=m._hostElement.hasAttribute("matSliderEndThumb"),m._setIsLeftThumb(),m.thumbPosition=m._isEndThumb?2:1,m}return r.getSibling=function(){return this._sibling||(this._sibling=this._slider._getInput(this._isEndThumb?1:2)),this._sibling},r.getMinPos=function(){var o=this.getSibling();return!this._isLeftThumb&&o?o.translateX:0},r.getMaxPos=function(){var o=this.getSibling();return this._isLeftThumb&&o?o.translateX:this._slider._cachedWidth},r._setIsLeftThumb=function(){this._isLeftThumb=this._isEndThumb&&this._slider._isRtl||!this._isEndThumb&&!this._slider._isRtl},r._getDefaultValue=function(){return this._isEndThumb&&this._slider._isRange?this.max:this.min},r._onInput=function(){i.prototype._onInput.call(this),this._updateSibling(),this._isActive||this._updateWidthInactive()},r._onNgControlValueChange=function(){var o;i.prototype._onNgControlValueChange.call(this),null==(o=this.getSibling())||o._updateMinMax()},r._onPointerDown=function(o){this.disabled||0!==o.button||(this._sibling&&(this._sibling._updateWidthActive(),this._sibling._hostElement.classList.add("mat-mdc-slider-input-no-pointer-events")),i.prototype._onPointerDown.call(this,o))},r._onPointerUp=function(){var o=this;i.prototype._onPointerUp.call(this),this._sibling&&setTimeout(function(){o._sibling._updateWidthInactive(),o._sibling._hostElement.classList.remove("mat-mdc-slider-input-no-pointer-events")})},r._onPointerMove=function(o){i.prototype._onPointerMove.call(this,o),!this._slider.step&&this._isActive&&this._updateSibling()},r._fixValue=function(o){var a;i.prototype._fixValue.call(this,o),null==(a=this._sibling)||a._updateMinMax()},r._clamp=function(o){return Math.max(Math.min(o,this.getMaxPos()),this.getMinPos())},r._updateMinMax=function(){var o=this.getSibling();o&&(this._isEndThumb?(this.min=Math.max(this._slider.min,o.value),this.max=this._slider.max):(this.min=this._slider.min,this.max=Math.min(this._slider.max,o.value)))},r._updateWidthActive=function(){var o=2*this._slider._rippleRadius-2*this._slider._inputPadding;this._hostElement.style.width=(this._slider._cachedWidth+this._slider._inputPadding-o)*(this._slider.min<this._slider.max?(this.max-this.min)/(this._slider.max-this._slider.min):1)+o+"px",this._hostElement.style.padding="0 "+this._slider._inputPadding+"px"},r._updateWidthInactive=function(){var o=this.getSibling();if(o){var l=this._isEndThumb?this.value-(this.value-o.value)/2:this.value+(o.value-this.value)/2,h=this._slider.min<this._slider.max?this._isEndThumb?(this.max-l)/(this._slider.max-this._slider.min):(l-this.min)/(this._slider.max-this._slider.min):1,b=this._slider._rippleRadius;1===h?b=48:0===h&&(b=0),this._hostElement.style.width=this._slider._cachedWidth*h+b+"px",this._hostElement.style.padding="0px",this._isLeftThumb?(this._hostElement.style.left="-24px",this._hostElement.style.right="auto"):(this._hostElement.style.left="auto",this._hostElement.style.right="-24px")}},r._updateStaticStyles=function(){this._hostElement.classList.toggle("mat-slider__right-input",!this._isLeftThumb)},r._updateSibling=function(){var o=this.getSibling();o&&(o._updateMinMax(),this._isActive?o._updateWidthActive():o._updateWidthInactive())},r.writeValue=function(o){(this._isControlInitialized||null!==o)&&(this.value=o,this._updateWidthInactive(),this._updateSibling())},n}(pn);(ut=ji).\u0275fac=function(r){return new(r||ut)(e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(kn),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},ut.\u0275dir=e.\u0275\u0275defineDirective({type:ut,selectors:[["input","matSliderStartThumb",""],["input","matSliderEndThumb",""]],exportAs:["matSliderRangeThumb"],features:[e.\u0275\u0275ProvidersFeature([Lt,{provide:In,useExisting:ut}]),e.\u0275\u0275InheritDefinitionFeature]});var Ki=function(){};(vt=Ki).\u0275fac=function(r){return new(r||vt)},vt.\u0275mod=e.\u0275\u0275defineNgModule({type:vt}),vt.\u0275inj=e.\u0275\u0275defineInjector({imports:[rt.BQ,g.CommonModule,rt.si]});var un=v(60733),gn=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule,Ki,p.u5,un.lN]}),i}(),Nt=function(i){return i[i.Information=0]="Information",i[i.Error=1]="Error",i[i.Warning=2]="Warning",i[i.Success=3]="Success",i}({});function jn(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.message," ")}}var Kn=["*"],Rt=function(){function i(){}return i.prototype.ngOnInit=function(){this.setStatusIndicatorClass()},i.prototype.ngOnChanges=function(){this.setStatusIndicatorClass()},i.prototype.setStatusIndicatorClass=function(){switch(this.statusIndicatorType){case Nt.Error:this.statusIndicatorClass="status-indicator-error",this.statusIndicatorIconName="error_circle_12_filled";break;case Nt.Warning:this.statusIndicatorClass="status-indicator-warning",this.statusIndicatorIconName="warning_12_filled";break;case Nt.Success:this.statusIndicatorClass="status-indicator-success",this.statusIndicatorIconName="checkmark_circle_12_filled";break;default:this.statusIndicatorClass="status-indicator-info",this.statusIndicatorIconName="info_12_filled"}},i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-status-indicator"]],inputs:{statusIndicatorType:"statusIndicatorType",message:"message"},features:[e.\u0275\u0275NgOnChangesFeature],ngContentSelectors:Kn,decls:6,vars:4,consts:[[1,"status-indicator",3,"ngClass"],[1,"status-indicator-icon"],["tri-svg-icon-12","",3,"name"],[1,"status-indicator-text-container"],["class","status-indicator-text",4,"ngIf"],[1,"status-indicator-text"]],template:function(n,t){1&n&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"tri-svg-icon",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275template(4,jn,2,1,"div",4),e.\u0275\u0275projection(5),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275property("ngClass",t.statusIndicatorClass),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.statusIndicatorIconName),e.\u0275\u0275attribute("aria-hidden",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!!t.message))},dependencies:[g.NgClass,g.NgIf,P.M],styles:[".status-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;box-sizing:border-box}.status-indicator[_ngcontent-%COMP%]   .status-indicator-text-container[_ngcontent-%COMP%]{color:var(--colorNeutralForeground3);font-family:var(--caption-font-family);font-size:var(--caption-font-size);font-weight:var(--caption-font-weight);line-height:var(--caption-font-lineheight);margin-left:4px}.status-indicator.status-indicator-info[_ngcontent-%COMP%]   .status-indicator-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground3)}.status-indicator.status-indicator-error[_ngcontent-%COMP%]   .status-indicator-icon[_ngcontent-%COMP%]{fill:var(--colorPaletteRedForeground1)}.status-indicator.status-indicator-error[_ngcontent-%COMP%]   .status-indicator-text-container[_ngcontent-%COMP%]{color:var(--colorPaletteRedForeground1)}.status-indicator.status-indicator-warning[_ngcontent-%COMP%]   .status-indicator-icon[_ngcontent-%COMP%]{fill:var(--globalColorYellowShade30)}.status-indicator.status-indicator-success[_ngcontent-%COMP%]   .status-indicator-icon[_ngcontent-%COMP%]{fill:var(--globalColorGreenShade10)}.status-indicator-icon[_ngcontent-%COMP%]{display:flex}"],changeDetection:0}),i}(),_n=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule,T.Y,V.T6]}),i}(),Ne=v(98131),Fr=v(75476),Qt=v(42353),W=v(81337),Wr=v(68698),Hn=v(56186),gt=v(94771),F=v(35510),ve=v(48787),Lr=function(){function i(r){this.dialog=r,this.deleteButtonClicked=!1}return i.prototype.onDeleteButtonClicked=function(){this.deleteButtonClicked=!0,this.dialog.close(this.deleteButtonClicked)},i.prototype.onCancelButtonClick=function(){this.dialog.close()},i.prototype.onDismissButtonClick=function(){this.dialog.close()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Te.so))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-platform-monitoring-delete-button"]],decls:18,vars:12,consts:[[1,"dialog"],[1,"dialog-header"],[1,"dialog-title"],["aria-label","close",1,"dismiss-button",3,"click"],["name","dismiss_20_regular"],[1,"dialog-content"],[1,"subtitle"],[1,"dialog-footer"],["tri-button","","appearance","primary",1,"sync-button",3,"click"],["tri-button","","appearance","tri-middle",1,"delete-button",3,"click"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h4",2),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",3),e.\u0275\u0275listener("click",function(){return t.onDismissButtonClick()}),e.\u0275\u0275element(6,"tri-svg-icon",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",5)(8,"div",6),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",7)(12,"button",8),e.\u0275\u0275listener("click",function(){return t.onDeleteButtonClicked()}),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",9),e.\u0275\u0275listener("click",function(){return t.onCancelButtonClick()}),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,4,"Platform_Monitoring_Delete")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,6,"Platform_Monitoring_Delete_Message")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,8,"Delete")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,10,"Cancel_ButtonText")," "))},dependencies:[P.M,w.Y],styles:[".dialog[_ngcontent-%COMP%]{display:flex;width:250px;flex-direction:column;justify-content:left;background:var(--globalColorWhite);padding:15px}.dialog-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-weight:600;font-size:20px;margin:0}.dialog-header[_ngcontent-%COMP%]   .dismiss-button[_ngcontent-%COMP%]{border:none;background:transparent;padding:0;fill:var(--globalColorGrey38)}.dialog-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin-top:18px;font-size:14px;line-height:20px}.dialog-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:right;margin-top:24px;gap:8px}.dialog-footer[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], .dialog-footer[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{width:fit-content}"],changeDetection:0}),i}(),Mn=v(25082),Zt=v(12315),Xn=v(57035),je=v(54729),en=v(13414);function $t(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275element(1,"tri-svg-icon",23),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Platform_Monitoring_Disabled_By_Admin_Created")))}function Yn(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25),e.\u0275\u0275element(1,"tri-svg-icon",26),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",27),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.dismissModal())}),e.\u0275\u0275element(6,"tri-svg-icon",28),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Platform_Monitoring_CreateDatabase_Success")))}function Nr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25),e.\u0275\u0275element(1,"tri-svg-icon",26),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",27),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.dismissModalOfToggle())}),e.\u0275\u0275element(6,"tri-svg-icon",28),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,t.actionOfTogglingInjestionString))}}function $r(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",29),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.promptDeletePlatformMonitoring())}),e.\u0275\u0275element(1,"tri-svg-icon",30),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Platform_Monitoring_DeleteDatabase")," "))}function We(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"tri-spinner",32),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"AnalysisServer_Loading")," "))}var yt=function(){return{standalone:!0}};function $e(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section"),e.\u0275\u0275template(1,$t,5,3,"div",3),e.\u0275\u0275template(2,Yn,7,3,"div",4),e.\u0275\u0275template(3,Nr,7,3,"div",4),e.\u0275\u0275elementStart(4,"section",5),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"section",6),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"section",7)(11,"span",8),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementStart(14,"tri-switch",9),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.allowPlatformMonitoring=a)})("ngModelChange",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.savePlatformMonitoringStatus())}),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementStart(16,"div",10),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(19,"span",11),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"section",7)(23,"div")(24,"label",12),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(27,"label",6),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"section",13)(31,"tri-link",14),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"section",15)(35,"div",16),e.\u0275\u0275element(36,"mat-divider"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"span",17),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"div",18),e.\u0275\u0275element(41,"mat-divider"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(42,"section",19),e.\u0275\u0275text(43),e.\u0275\u0275pipe(44,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"section",6),e.\u0275\u0275text(46),e.\u0275\u0275pipe(47,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(48,$r,4,3,"button",20),e.\u0275\u0275pipe(49,"async"),e.\u0275\u0275template(50,We,4,3,"div",21),e.\u0275\u0275pipe(51,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.toggleEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.actionOfDatabaseCreation),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.actionOfTogglingInjestion),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,22,"Monitoring")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,24,"Platform_Monitoring_CreateDatabase_Description")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,26,"Platform_Monitoring_Ingestion_Metrics")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.allowPlatformMonitoring)("ngModelOptions",e.\u0275\u0275pureFunction0(50,yt))("aria-label",e.\u0275\u0275pipeBind1(15,28,t.allowPlatformMonitoringToggleString))("disabled",!t.toggleEnabled),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,30,t.allowPlatformMonitoringToggleString)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(21,32,"Platform_Monitoring_Description")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(26,34,"Platform_Monitoring_ConnectionString")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(29,36,"Platform_Monitoring_ConnectionString_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("external",!0)("href",t.databaseString),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(33,38,"Platform_Monitoring_Database_Link")," "),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(39,40,"Manage_Tooltip")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(44,42,"Platform_Monitoring_DeleteDatabase_Title")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(47,44,"Platform_Monitoring_DeleteDatabase_Description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(49,46,t.databaseDeletedSubjectObservable)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(51,48,t.databaseDeletedSubjectObservable))}}function Qn(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275element(1,"tri-svg-icon",23),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Platform_Monitoring_Disabled_By_Admin")))}function Ur(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",36),e.\u0275\u0275element(1,"tri-svg-icon",37),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",38),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.dismissModalOfFailure())}),e.\u0275\u0275element(6,"tri-svg-icon",28),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Platform_Monitoring_CreateDatabase_Failure")))}function Vr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25),e.\u0275\u0275element(1,"tri-svg-icon",26),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",27),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.dismissModalOfDeletion())}),e.\u0275\u0275element(6,"tri-svg-icon",28),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Platform_Monitoring_DeleteDatabase_Success")))}function Pn(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",39),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.createDatabase())}),e.\u0275\u0275element(1,"tri-svg-icon",40),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",!t.toggleEnabled||t.buttonDisabledForCreation),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"SettingsDataSource_SettingsAuthenticationMethodDatabase")," ")}}function Ut(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"tri-spinner",32),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"DataLoaderSpinner_LoadingMessage3")," "))}function Zn(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section"),e.\u0275\u0275template(1,Qn,5,3,"div",3),e.\u0275\u0275template(2,Ur,7,3,"div",33),e.\u0275\u0275template(3,Vr,7,3,"div",4),e.\u0275\u0275elementStart(4,"section",5),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"section",6),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"section",34),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"section",6),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,Pn,4,4,"button",35),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275template(18,Ut,4,3,"div",21),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.toggleEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.databaseCreationSuccess),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.actionOfDatabaseDeletion),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,9,"Monitoring")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,11,"Platform_Monitoring_CreateDatabase_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(12,13,"Platform_Monitoring_CreateDatabase")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(15,15,"Platform_Monitoring_CreateDatabase_Button_Description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(17,17,n.databaseCreatedSubjectObservable)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(19,19,n.databaseCreatedSubjectObservable))}}function jr(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,$e,52,51,"section",2),e.\u0275\u0275template(2,Zn,20,21,"section",2),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.databaseCreated),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.databaseCreated)}}function Kr(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}var Jn=function(){function i(r,n,t,o,a,l,m,h,b){this.httpService=r,this.workspaceSettingsService=n,this.errorService=t,this.featureSwitchService=o,this.changeDetectorRef=a,this.localizationService=l,this.dialogService=m,this.activatedRoute=h,this.artifactFacade=b,this.closeSettings=new e.EventEmitter,this.allowPlatformMonitoring=!0,this.platformMonitoringUi="/metadata/platformMonitoring/workspace",this.groupsUi="/groups",this.databases="databases",this.dataLoaded=new F.X(!1),this.dataLoadedObservable=this.dataLoaded.asObservable(),this.databaseCreatedSubject=new F.X(!0),this.databaseCreatedSubjectObservable=this.databaseCreatedSubject.asObservable(),this.databaseDeletedSubject=new F.X(!0),this.databaseDeletedSubjectObservable=this.databaseDeletedSubject.asObservable(),this.delegationSettingEnabled=!1,this.artifactMetadata=null,this.toggleEnabled=!1,this.databaseCreated=!1,this.actionOfDatabaseCreation=!1,this.actionOfDatabaseDeletion=!1,this.databaseCreationSuccess=!0,this.buttonDisabledForCreation=!1,this.actionOfTogglingInjestion=!1,this.actionOfTogglingInjestionString="",this.allowPlatformMonitoringToggleString="",this.databaseString=""}return i.prototype.ngOnInit=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(r){return this.getPlatformMonitoringTenantSwitch(),[2]})})},i.prototype.getPlatformMonitoringTenantSwitch=function(){var r=this;this.featureSwitchService.getWorkspaceDelegatedSetting({name:"platformMonitoringTenantSettingEnabled",workspaceObjectId:this.workspaceSettingsService.workspaceObjectId}).pipe((0,ve.q)(1)).subscribe(function(t){r.delegationSettingEnabled=void 0!==t.isEnabled&&t.isEnabled,r.getPlatformMonitoringStatus()})},i.prototype.getPlatformMonitoringStatus=function(){var r=this,n=this.httpService.powerbiRequestOptions(void 0,"GetPlatformMonitoringValue"),t=this.workspaceSettingsService.workspaceObjectId,o="".concat(this.platformMonitoringUi,"/").concat(t);this.httpService.get(o,n).subscribe(function(a){var l=a.data;if(l){r.artifactMetadata=l.artifact,r.allowPlatformMonitoring="Enabled"===l.ingestionState,r.allowPlatformMonitoringToggleString=r.allowPlatformMonitoring?"ToggleSwitchOn":"ToggleSwitchOff";var m=r.activatedRoute.snapshot.queryParams,h="";l.artifact.artifactType===Zt.RG[33]&&l.artifact.artifactRelations&&l.artifact.artifactRelations[0]?h="".concat(r.groupsUi,"/").concat(t,"/").concat(r.databases,"/").concat(l.artifact.artifactRelations[0].dependentArtifactObjectId):l.artifact.artifactType===Zt.RG[32]&&(h="".concat(r.groupsUi,"/").concat(t,"/").concat(r.databases,"/").concat(l.artifact.objectId)),r.databaseString=r.buildConnectionStringWithQueryParams(h,m),r.databaseCreated=!0}else r.databaseCreated=!1;r.toggleEnabled=r.delegationSettingEnabled,r.dataLoaded.next(!0)},function(a){r.errorService.error(r.localizationService.get("GetPlatformMonitoringValue_Error_FailedToGet"),"GetPlatformMonitoringValue_Error_FailedToGet",{requestId:a.requestId})})},i.prototype.buildConnectionStringWithQueryParams=function(r,n){return 0!==Object.keys(n).length&&(r+=(-1===r.indexOf("?")?"?":"&")+Object.keys(n).reduce(function(t,o){return"searchQuery"===o?t:t.concat(encodeURIComponent(o)+"="+encodeURIComponent(n[o]))},[]).join("&")),r},i.prototype.createDatabase=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var r,n,t,o,a=this;return(0,W.__generator)(this,function(l){switch(l.label){case 0:return r=this.httpService.powerbiRequestOptions(void 0,"CreatePlatformMonitoringDatabase"),this.databaseCreatedSubject.next(!1),this.changeDetectorRef.markForCheck(),n={artifactType:"KustoDatabase",workloadPayload:"{}"},t=this.workspaceSettingsService.workspaceObjectId,o="".concat(this.platformMonitoringUi,"/").concat(t),[4,this.httpService.post(o,JSON.stringify(n),r).subscribe(function(){a.enablePlatformMonitoringInjestion(!0)},function(m){a.actionOfDatabaseDeletion=!1,a.databaseCreatedSubject.next(!0),a.databaseCreationSuccess=!1,a.buttonDisabledForCreation=!0,a.errorService.error(a.localizationService.get("GetPlatformMonitoringValue_Error_FailedToCreate"),"GetPlatformMonitoringValue_Error_FailedToCreate",{requestId:m.requestId,statusCode:String(m.status)}),a.changeDetectorRef.markForCheck()})];case 1:return l.sent(),[2]}})})},i.prototype.promptDeletePlatformMonitoring=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,W.__generator)(this,function(t){switch(t.label){case 0:return[4,this.dialogService.open(Lr).afterClosed().subscribe(function(o){return(0,W.__awaiter)(n,void 0,void 0,function(){return(0,W.__generator)(this,function(a){switch(a.label){case 0:return o?[4,this.deleteDatabase()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})})];case 1:return t.sent(),[2]}})})},i.prototype.deleteDatabase=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var r,n,t,o=this;return(0,W.__generator)(this,function(a){return this.databaseDeletedSubject.next(!1),this.changeDetectorRef.markForCheck(),r=this.httpService.powerbiRequestOptions(void 0,"GetPlatformMonitoringValue"),n=this.workspaceSettingsService.workspaceObjectId,t="".concat(this.platformMonitoringUi,"/").concat(n),this.httpService.delete(t,r).subscribe(function(){if(o.actionOfDatabaseDeletion=!0,o.databaseCreated=!1,o.databaseDeletedSubject.next(!0),o.artifactMetadata&&o.artifactMetadata.objectId)if("KustoEventHouse"===o.artifactMetadata.artifactType&&o.artifactMetadata.artifactRelations&&o.artifactMetadata.artifactRelations[0]&&o.artifactMetadata.artifactRelations[0].dependentArtifactObjectId){var l=[];l=(l=l.concat(o.artifactMetadata.artifactRelations[0].dependentArtifactObjectId)).concat(o.artifactMetadata.objectId),o.artifactFacade.deleteArtifactsFromFEStore(l)}else"KustoDatabase"===o.artifactMetadata.artifactType&&o.artifactFacade.deleteArtifactFromFEStore(o.artifactMetadata.objectId);o.changeDetectorRef.markForCheck()},function(l){o.errorService.error(o.localizationService.get("GetPlatformMonitoringValue_Error_FailedToDelete"),"GetPlatformMonitoringValue_Error_FailedToDelete",{requestId:l.requestId})}),[2]})})},i.prototype.savePlatformMonitoringStatus=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var r,n,t,o,a=this;return(0,W.__generator)(this,function(l){switch(l.label){case 0:return r=this.httpService.powerbiRequestOptions(void 0,"UpdatePlatformMonitoringValue"),n=this.workspaceSettingsService.workspaceObjectId,t="".concat(this.platformMonitoringUi,"/").concat(n),o={ingestionState:this.allowPlatformMonitoring?"Enabled":"Disabled"},this.allowPlatformMonitoring?(this.allowPlatformMonitoringToggleString="ToggleSwitchOn",this.actionOfTogglingInjestion=!1):(this.allowPlatformMonitoringToggleString="ToggleSwitchOff",this.actionOfTogglingInjestion=!0,this.actionOfTogglingInjestionString="Platform_Monitoring_Injestion_Turned_Off"),this.changeDetectorRef.markForCheck(),[4,this.httpService.patch(t,JSON.stringify(o),r).subscribe(function(){},function(m){a.errorService.error(a.localizationService.get("GetPlatformMonitoringValue_Error_FailedToUpdate"),"GetPlatformMonitoringValue_Error_FailedToUpdate",{requestId:m.requestId})})];case 1:return l.sent(),[2]}})})},i.prototype.dismissModal=function(){this.actionOfDatabaseCreation=!1,this.changeDetectorRef.markForCheck()},i.prototype.dismissModalOfFailure=function(){this.databaseCreationSuccess=!0,this.changeDetectorRef.markForCheck()},i.prototype.dismissModalOfDeletion=function(){this.actionOfDatabaseDeletion=!1,this.changeDetectorRef.markForCheck()},i.prototype.dismissModalOfToggle=function(){this.actionOfTogglingInjestion=!1,this.changeDetectorRef.markForCheck()},i.prototype.enablePlatformMonitoringInjestion=function(r){return(0,W.__awaiter)(this,void 0,void 0,function(){var n,t,o,l=this;return(0,W.__generator)(this,function(m){switch(m.label){case 0:return n=this.httpService.powerbiRequestOptions(void 0,"UpdatePlatformMonitoringValue"),t=this.workspaceSettingsService.workspaceObjectId,o="".concat(this.platformMonitoringUi,"/").concat(t),[4,this.httpService.patch(o,JSON.stringify({ingestionState:"Enabled"}),n).subscribe(function(h){r&&(l.actionOfDatabaseCreation=!0,l.databaseCreated=!0,l.databaseCreatedSubject.next(!0));var b=h.data;if(b){l.allowPlatformMonitoring="Enabled"===b.ingestionState,l.allowPlatformMonitoringToggleString=l.allowPlatformMonitoring?"ToggleSwitchOn":"ToggleSwitchOff";var z=l.activatedRoute.snapshot.queryParams,Q="".concat(l.groupsUi,"/").concat(t,"/").concat(l.databases,"/").concat(b.artifact.objectId);if(l.databaseString=l.buildConnectionStringWithQueryParams(Q,z),r){l.artifactMetadata=b.artifact;var ie=(0,Zt.WN)(b.artifact);l.artifactFacade.addArtifact(ie)}}l.changeDetectorRef.markForCheck()},function(h){l.errorService.error(l.localizationService.get("GetPlatformMonitoringValue_Error_FailedToUpdate"),"GetPlatformMonitoringValue_Error_FailedToUpdate",{requestId:h.requestId})})];case 1:return m.sent(),[2]}})})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Wr.s),e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(Hn.g),e.\u0275\u0275directiveInject(gt.V$),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(Be.uQ),e.\u0275\u0275directiveInject(Xn.gz),e.\u0275\u0275directiveInject(Mn.f5))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-platform-monitoring"]],outputs:{closeSettings:"closeSettings"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"],["class","delete-workspace-message tri-flex",4,"ngIf"],["class","create-database-message tri-flex",4,"ngIf"],[1,"platformMonitoringSettingsTitle"],[1,"platformMonitoringCaption"],[1,"allowConfigurationPadding"],[1,"platformMonitoringSettingsSubTitleWithSmallPadding"],["ngDefaultControl","",1,"toggle",3,"ngModel","ngModelOptions","aria-label","disabled","ngModelChange"],["tri-switch-text","",1,"toggleString"],[1,"checkbox-label"],["id","workspace-connection-setting-label",1,"platformMonitoringSettingsSubTitle"],[1,"link"],["target","_blank",3,"external","href"],[1,"divider"],[1,"divider-left-line"],[1,"divider-text"],[1,"divider-right-line"],[1,"platformMonitoringSettingsSubTitle"],["tri-button","","appearance","tri-middle","class","buttonGeneral",3,"click",4,"ngIf"],["class","spinnerDiv",4,"ngIf"],[1,"delete-workspace-message","tri-flex"],["name","info_20_filled",1,"banner-icon","tri-shrink-0"],[1,"banner-text"],[1,"create-database-message","tri-flex"],["name","checkmark_circle_20_filled",1,"banner-icon","tri-shrink-0"],["aria-label","close",1,"dismissButton",3,"click"],["name","dismiss_20_regular",1,"smallIcon"],["tri-button","","appearance","tri-middle",1,"buttonGeneral",3,"click"],["name","delete_20_regular"],[1,"spinnerDiv"],[1,"spinnerSvg"],["class","schema-failure-message tri-flex",4,"ngIf"],[1,"platformMonitoringSettingsSubTitleWithPadding"],["tri-button","","appearance","primary","class","buttonGeneral",3,"disabled","click",4,"ngIf"],[1,"schema-failure-message","tri-flex"],["name","dismiss_circle_20_filled",1,"banner-icon","tri-shrink-0"],["aria-label","close",1,"dismissButtonFailure",3,"click"],["tri-button","","appearance","primary",1,"buttonGeneral",3,"disabled","click"],["name","add_20_regular"]],template:function(n,t){if(1&n&&(e.\u0275\u0275template(0,jr,3,2,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,Kr,1,0,"ng-template",null,1,e.\u0275\u0275templateRefExtractor)),2&n){var o=e.\u0275\u0275reference(3);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,2,t.dataLoadedObservable))("ngIfElse",o)}},dependencies:[g.CommonModule,g.NgIf,g.AsyncPipe,V.T6,P.M,J.t,J.d,T.Y,w.Y,N.d,je.D,me.Jy,en.t,p.u5,p.Fj,p.JJ,p.On,se.m,O.v],styles:[".delete-workspace-message[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200);background-color:var(--globalColorGrey94);padding:6px 10px;box-sizing:border-box;margin-bottom:16px;border-radius:4px;border:solid 1px;border-color:var(--globalColorGrey88)}.delete-workspace-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-inline-end:8px;fill:var(--globalColorGrey38)}.delete-workspace-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}.create-database-message[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200);background-color:var(--globalColorGreenTint60);padding:6px 10px;box-sizing:border-box;margin-bottom:16px;border-radius:4px;border:solid 1px;border-color:var(--globalColorGreenTint40)}.create-database-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-inline-end:8px;fill:var(--globalColorGreenShade10)}.create-database-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}.spinnerDiv[_ngcontent-%COMP%]{margin-top:24px;font-size:14px;display:inline-flex}.spinnerDiv[_ngcontent-%COMP%]   .spinnerSvg[_ngcontent-%COMP%]{margin-right:10px}.schema-failure-message[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200);background-color:var(--globalColorCranberryTint60);padding:6px 10px;box-sizing:border-box;margin-bottom:16px;border-radius:4px;margin-top:10px;border:solid 1px;border-color:var(--globalColorCranberryTint40)}.schema-failure-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-inline-end:8px;fill:var(--globalColorCranberryShade10)}.schema-failure-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}.platformMonitoringSettingsTitle[_ngcontent-%COMP%]{font-size:24px;font-weight:var(--subheadline-font-weight);line-height:20px;margin-bottom:10px;color:var(--globalColorGrey14)}.platformMonitoringSettingsSubTitle[_ngcontent-%COMP%]{font-size:16px;font-weight:var(--subheadline-font-weight);line-height:20px;margin-bottom:10px;color:var(--globalColorGrey14)}.platformMonitoringSettingsSubTitleWithPadding[_ngcontent-%COMP%]{font-size:16px;font-weight:var(--subheadline-font-weight);line-height:20px;margin-bottom:8px;color:var(--globalColorGrey14);margin-top:24px}.platformMonitoringSettingsSubTitleWithSmallPadding[_ngcontent-%COMP%]{font-size:16px;font-weight:var(--subheadline-font-weight);line-height:20px;margin-bottom:8px;color:var(--globalColorGrey14);margin-top:16px}.platformMonitoringCaption[_ngcontent-%COMP%]{font-size:14px}.toggle[_ngcontent-%COMP%]{float:right;display:inline-flex;margin-top:-8px}.toggleString[_ngcontent-%COMP%]{font-weight:400;font-size:14px}.checkbox-label[_ngcontent-%COMP%]{font-size:14px}.iconForDb[_ngcontent-%COMP%]{padding-right:6px}.buttonGeneral[_ngcontent-%COMP%]{margin-top:16px}.divider[_ngcontent-%COMP%]{width:100%;height:20px;display:flex;flex-direction:row;justify-content:center;align-items:center;margin-bottom:24px}.divider[_ngcontent-%COMP%]   .divider-left-line[_ngcontent-%COMP%]{width:8px}.divider[_ngcontent-%COMP%]   .divider-right-line[_ngcontent-%COMP%]{flex:1}.divider[_ngcontent-%COMP%]   .divider-text[_ngcontent-%COMP%]{padding:0 var(--spacingVerticalM);font-weight:var(--fontWeightRegular);font-size:var(--fontSizeBase200);line-height:var(--lineHeightBase200)}.allowConfigurationPadding[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]     .link{margin-top:16px;margin-bottom:26px;font-size:14px}[_nghost-%COMP%]     .link tri-link a{display:inline-flex}.dismissButton[_ngcontent-%COMP%]{float:right;display:block;margin-left:auto;margin-right:0;background-color:var(--globalColorGreenTint60);border-color:var(--globalColorGreenTint60);padding-top:0;padding-bottom:0;border-top-width:0px;width:20px;height:20px}.dismissButton[_ngcontent-%COMP%]   .smallIcon[_ngcontent-%COMP%]{height:16px;width:16px}.dismissButtonFailure[_ngcontent-%COMP%]{float:right;display:block;margin-left:auto;margin-right:0;background-color:var(--globalColorCranberryTint60);border-color:var(--globalColorCranberryTint60);padding-top:0;padding-bottom:0;border-top-width:0px;width:20px;height:20px}.dismissButtonFailure[_ngcontent-%COMP%]   .smallIcon[_ngcontent-%COMP%]{height:16px;width:16px}"],changeDetection:0}),i}(),be=v(59973),Ue=v(17653),bt=function(i){return i.UpdateOneDrive="Update OneDrive",i.UpdateContracts="Update workspace contacts",i.UpdateImage="Update workspace image",i.UpdateDescription="Update description",i.UpdateName="Workspace rename",i.DetailSettings="Detail settings",i.DeleteWorkspace="delete workspace",i}({}),tn=v(63271),Tt=v(54323),Vt=function(){function i(r){this.telemetryService=r}return i.prototype.logEvent=function(r,n,t,o,a){var l={originatingService:"DataCloudUX",activityName:r,featureName:"Fabric Workspace Settings",activityAttributes:n?(0,W.__assign)({},n):void 0,activityStatus:t,operationEndTime:o,correlationId:a};this.telemetryService.logStandardFeatureEvent(l)},i.prototype.logDomainEvent=function(r,n,t,o){var a={originatingService:"DataCloudUX",activityName:"Update domain association",featureName:"".concat("Domains",",").concat("Domains Direct MAU",",").concat("Domains WS Management"),activityAttributes:r?(0,W.__assign)({},r):void 0,activityStatus:n,operationEndTime:t,correlationId:o};this.telemetryService.logStandardFeatureEvent(a)},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275inject(Tt.t))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i}(),Ve=v(59017),Re=v(83317),qn=v(35402),Bt=v(30133);function Hi(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",3),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.domainsTooltipData.data.description)}}var Xi=function(){function i(r){this.domainsTooltipData=r}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(f.WF))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["trident-domain-info-tooltip"]],decls:4,vars:2,consts:[[1,"tooltip-container"],[1,"tooltip-title"],["class","tooltip-content",4,"ngIf"],[1,"tooltip-content"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,Hi,2,1,"div",2),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.domainsTooltipData.data.displayName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.domainsTooltipData.data.description))},dependencies:[g.NgIf],styles:[".tooltip-container[_ngcontent-%COMP%]{display:contents}"],changeDetection:0}),i}(),He=v(8255),ei=function(r,n){return[r,n]},ti=function(){return function(r){this.domainObjectId=r}}(),Hr=function(){function i(r,n,t){this.domainsCoreService=r,this.changeDetectorRef=n,this.domainImageComponentData=t,this.domainObjectId="",this.domainRoundedImageId=(0,He.u2)(He.CG),this.isColorBackground=!1}return i.prototype.ngOnInit=function(){var r,n;null!==(r=this.domainImageComponentData)&&void 0!==r&&r.domainObjectId&&!this.domainObjectId&&(this.domainObjectId=null===(n=this.domainImageComponentData)||void 0===n?void 0:n.domainObjectId,this.initBrandingData())},i.prototype.ngOnChanges=function(){this.initBrandingData()},i.prototype.ngOnDestroy=function(){var r;null===(r=this.getDomainBrandingSubscription)||void 0===r||r.unsubscribe()},i.prototype.initBrandingData=function(){var n,r=this;if(!this.domainObjectId)return this.domainRoundedImageId=(0,He.u2)(He.CG),void(this.isColorBackground=!1);this.domainsCoreService.loadDomainBranding(this.domainObjectId),null===(n=this.getDomainBrandingSubscription)||void 0===n||n.unsubscribe(),this.getDomainBrandingSubscription=this.domainsCoreService.getDomain(this.domainObjectId).pipe((0,be.h)(function(t){return!!t})).subscribe(function(t){var o,a,l=(null===(o=t.branding)||void 0===o?void 0:o.backgroundId)||He.CG;r.isColorBackground=(0,He.e7)(l),r.domainRoundedImageId=(0,He.u2)(l),null===(a=r.changeDetectorRef)||void 0===a||a.markForCheck()})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(qn.wB),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(ti,8))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["trident-domain-rounded-image"]],inputs:{domainObjectId:"domainObjectId"},features:[e.\u0275\u0275NgOnChangesFeature],decls:1,vars:4,consts:[[1,"image",3,"ngClass"]],template:function(n,t){1&n&&e.\u0275\u0275element(0,"div",0),2&n&&e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(1,ei,t.domainRoundedImageId,t.isColorBackground?"color":""))},dependencies:[g.NgClass],styles:[".image-domain-background-1[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background1.png)}.image-domain-background-2[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background2.png)}.image-domain-background-3[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background3.png)}.image-domain-background-4[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background4.png)}.image-domain-background-5[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background5.png)}.image-domain-background-6[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background6.png)}.image-domain-background-7[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background7.png)}.image-domain-background-8[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background8.png)}.image-domain-background-9[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background9.png)}.image-domain-background-10[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background10.png)}.image-domain-background-11[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background11.png)}.image-domain-background-12[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background12.png)}.image-domain-background-13[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background13.png)}.image-domain-background-14[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background14.png)}.image-domain-background-15[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background15.png)}.image-domain-background-16[_ngcontent-%COMP%]{background:#FFDAC6}.image-domain-background-17[_ngcontent-%COMP%]{background:#F0F4DD}.image-domain-background-18[_ngcontent-%COMP%]{background:#E8E8FF}.image-domain-background-19[_ngcontent-%COMP%]{background:#D7ECFF}.image-domain-background-20[_ngcontent-%COMP%]{background:#E3F7EF}.image-domain-background-1-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background1Thumbnail.png)}.image-domain-background-2-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background2Thumbnail.png)}.image-domain-background-3-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background3Thumbnail.png)}.image-domain-background-4-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background4Thumbnail.png)}.image-domain-background-5-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background5Thumbnail.png)}.image-domain-background-6-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background6Thumbnail.png)}.image-domain-background-7-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background7Thumbnail.png)}.image-domain-background-8-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background8Thumbnail.png)}.image-domain-background-9-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background9Thumbnail.png)}.image-domain-background-10-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background10Thumbnail.png)}.image-domain-background-11-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background11Thumbnail.png)}.image-domain-background-12-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background12Thumbnail.png)}.image-domain-background-13-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background13Thumbnail.png)}.image-domain-background-14-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background14Thumbnail.png)}.image-domain-background-15-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/background15Thumbnail.png)}.image-domain-background-1-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background1Rounded.png)}.image-domain-background-2-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background2Rounded.png)}.image-domain-background-3-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background3Rounded.png)}.image-domain-background-4-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background4Rounded.png)}.image-domain-background-5-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background5Rounded.png)}.image-domain-background-6-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background6Rounded.png)}.image-domain-background-7-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background7Rounded.png)}.image-domain-background-8-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background8Rounded.png)}.image-domain-background-9-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background9Rounded.png)}.image-domain-background-10-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background10Rounded.png)}.image-domain-background-11-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background11Rounded.png)}.image-domain-background-12-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background12Rounded.png)}.image-domain-background-13-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background13Rounded.png)}.image-domain-background-14-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background14Rounded.png)}.image-domain-background-15-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/Background15Rounded.png)}.image-domain-background-default-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Modeling/DefaultBackgroundRounded.png)}.image[_ngcontent-%COMP%]{width:24px;height:24px;background-position:left;background-repeat:no-repeat;background-size:contain}.color[_ngcontent-%COMP%]{border-radius:var(--borderRadiusCircular)}"],changeDetection:0}),i}(),Gt=function(r,n){return r.text.localeCompare(n.text)},mn={border:"none"};function ni(i,r,n,t,o,a,l){return(0,W.__assign)((0,W.__assign)((0,W.__assign)({type:r,id:i.objectId,text:o||i.displayName,styles:mn,data:{domainDisplayName:i.displayName,parentObjectId:n},checkable:!0,checked:t},l?{imageComponent:{imageComponent:Hr,injector:e.Injector.create({providers:[{provide:ti,useValue:new ti(i.objectId)}]})}}:{}),r===Bt.fz.Button?{tooltip:Xi,tooltipComponentData:{data:{displayName:i.displayName,description:i.description}},ariaLabel:o||i.displayName}:{}),r===Bt.fz.SubMenu?{menu:a}:{})}function vn(i,r,n){var t,o=null===(t=r.data)||void 0===t?void 0:t.parentObjectId;if(o){var a=n.find(function(l){return l.id===o});a&&(a.checked=i)}}var et=v(45769),xt=v(55490),Yr=v(76688),ii=["menuButton"];function nn(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",11)}function ri(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",12),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.domainsMessageBarModel)}}var Qr=function(r){return{"placeholder-text":r}},oi="noneDomain",Qi=function(){function i(r,n){this.triLocalizationService=r,this.domainsCoreService=n,this.selectedDomainObjectId="",this.shouldBeDisabled=!1,this.supportDomainChangeMessage=!0,this.autoSetToPrimaryDefaultDomain=!1,this.showSpinner=!1,this.domainSelected=new e.EventEmitter,this.shouldShowDomainsMessageBar=!1,this.domainsMessageBarModel={bannerType:1},this.selectedDomainText="",this.isPlaceholderText=!0,this.menu={items:[]},this.allDomainMenuButtons=[],this.allDomainMenuSubmenus=[],this.destroy$=new st.xQ,this.menuStyles={}}return i.prototype.ngOnInit=function(){var r=this;this.domainsMessageBarModel={bannerType:0,iconName:"info_20_filled",message:this.triLocalizationService.get("Domains_Switch_Domain")},this.selectedDomainText=this.triLocalizationService.get("Domain_Combobox_Placeholder"),(0,Ve.aj)([this.domainsCoreService.getDomain(this.selectedDomainObjectId),this.domainsCoreService.getDomainsWithAccessPermission()]).pipe((0,Re.R)(this.destroy$)).subscribe(function(n){var t=n[0],o=n[1];t&&(r.selectedDomainText=t.displayName,r.isPlaceholderText=!1),!r.shouldBeDisabled&&r.initDomainsMenu(o)})},i.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},i.prototype.ngAfterViewInit=function(){if(this.menuButton){var r=this.menuButton.nativeElement.clientWidth;this.menuStyles.width="".concat(r,"px"),this.menuStyles["max-width"]="".concat(r,"px")}},i.prototype.onMenuDomainSelected=function(r){var n,t,o,a,l,m,h,b;if(r&&"0"!==r.id){this.selectDomainMenuButton(null===(n=r.id)||void 0===n?void 0:n.toString());var z=(null===(t=this.selectedDomainMenuButton)||void 0===t?void 0:t.id)===oi||null===(a=null===(o=this.selectedDomainMenuButton)||void 0===o?void 0:o.id)||void 0===a?void 0:a.toString();this.shouldShowDomainsMessageBar=this.supportDomainChangeMessage&&!!this.selectedDomainObjectId&&this.selectedDomainObjectId!==z;var Q=null===(m=null===(l=this.selectedDomainMenuButton)||void 0===l?void 0:l.data)||void 0===m?void 0:m.parentObjectId;this.setSelectedDomain((null===(b=null===(h=this.selectedDomainMenuButton)||void 0===h?void 0:h.data)||void 0===b?void 0:b.domainDisplayName)||"",z,!(Q&&z&&Q===z))}},i.prototype.setSelectedDomain=function(r,n,t){this.selectedDomainText=r,this.isPlaceholderText=!1,this.domainSelected.emit({domainObjectId:n,isSubDomain:t})},i.prototype.initDomainsMenu=function(r){var n=function(i,r,n,t){var o=[],a=new Map,l=[],m=[];return i.forEach(function(h){if(h.parentObjectId){var b=ni(h,Bt.fz.Button,h.parentObjectId,h.objectId===n,void 0,void 0,!1),z=a.get(h.parentObjectId)||[];z.push(b),a.set(h.parentObjectId,z),l.push(b)}}),i.forEach(function(h){if(!h.parentObjectId){var b=a.get(h.objectId),z=ni(h,Bt.fz.Button,h.objectId,h.objectId===n,b?"".concat(r.get("All")," ")+h.displayName:void 0,void 0,t&&!b);if(l.push(z),!b)return void o.push(z);var Q=ni(h,Bt.fz.SubMenu,void 0,b?function(i){return _.some(i,function(r){return r.checked})}(b)||z.checked:void 0,void 0,{items:(0,W.__spreadArray)([z,{type:Bt.fz.Divider}],b.sort(Gt),!0)},t);m.push(Q),o.push(Q)}}),{menu:{items:o.sort(Gt)},menuButtons:l,submenus:m}}(r,this.triLocalizationService,this.selectedDomainObjectId,!1);if(0===n.menu.items.length&&!this.selectedDomainObjectId)return this.allDomainMenuButtons=[{type:Bt.fz.Button,id:"0",text:this.triLocalizationService.get("Domain_Combobox_No_Domains"),styles:mn}],void(this.menu={items:this.allDomainMenuButtons,styles:this.menuStyles});var t=this.triLocalizationService.get("None"),o={type:Bt.fz.Button,id:oi,text:t,data:{domainDisplayName:t,parentObjectId:void 0},styles:mn,checkable:!0};this.allDomainMenuButtons=(0,W.__spreadArray)([o],n.menuButtons,!0),this.allDomainMenuSubmenus=n.submenus,this.menu={items:(0,W.__spreadArray)([o,{type:Bt.fz.Divider}],n.menu.items,!0),styles:this.menuStyles},this.selectDomainMenuButton(this.selectedDomainObjectId||oi),this.setDefaultDomain(r)},i.prototype.setDefaultDomain=function(r){if(this.autoSetToPrimaryDefaultDomain&&!this.selectedDomainObjectId){var n=r.find(function(o){return o.isPrimaryDefaultDataDomainForUser});if(n){var t=!!this.selectedDomainMenuButton;this.selectDomainMenuButton(n?.objectId),t&&this.setSelectedDomain(n.displayName,n.objectId,!!n.parentObjectId)}}},i.prototype.selectDomainMenuButton=function(r){r&&(this.selectedDomainMenuButton&&(this.selectedDomainMenuButton.checked=!1,vn(!1,this.selectedDomainMenuButton,this.allDomainMenuSubmenus)),this.selectedDomainMenuButton=this.allDomainMenuButtons.find(function(n){return n.id===r}),this.selectedDomainMenuButton&&(this.selectedDomainMenuButton.checked=!0,vn(!0,this.selectedDomainMenuButton,this.allDomainMenuSubmenus)))},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(qn.wB))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["trident-domains-dropdown"]],viewQuery:function(n,t){var o;(1&n&&e.\u0275\u0275viewQuery(ii,5),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(t.menuButton=o.first))},inputs:{selectedDomainObjectId:"selectedDomainObjectId",shouldBeDisabled:"shouldBeDisabled",supportDomainChangeMessage:"supportDomainChangeMessage",autoSetToPrimaryDefaultDomain:"autoSetToPrimaryDefaultDomain",showSpinner:"showSpinner"},outputs:{domainSelected:"domainSelected"},decls:15,vars:14,consts:[[1,"about-input-container","tri-flex","tri-flex-col","tri-relative"],[1,"domains-header","tri-flex","tri-flex-row","tri-relative"],["data-testid","domains-dropdown-label","id","domain-label",1,"picker-label"],["tri-svg-icon-12","","name","info_20_regular","tabindex","0",3,"triTooltip"],[1,"menu-with-spinner"],["tri-button","","data-testid","domains-dropdown-button","appearance","default",1,"domain-menu-button",3,"triMenu","triMenuButtonClick"],["menuButton",""],[1,"menu-button-text",3,"ngClass"],["name","chevron_down_20_regular",1,"chevron-down-icon"],["size","extra-small",4,"ngIf"],["data-testid","domains-dropdown-message-banner","class","domains-message-banner",3,"viewModel",4,"ngIf"],["size","extra-small"],["data-testid","domains-dropdown-message-banner",1,"domains-message-banner",3,"viewModel"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"label",2),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"tri-svg-icon",3),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4)(8,"button",5,6),e.\u0275\u0275listener("triMenuButtonClick",function(a){return t.onMenuDomainSelected(a)}),e.\u0275\u0275elementStart(10,"span",7),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"tri-svg-icon",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,nn,1,0,"tri-spinner",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,ri,1,1,"tri-message-bar",10),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,8,"Domain")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(6,10,"Domains_Tip")),e.\u0275\u0275advance(3),e.\u0275\u0275property("triMenu",t.menu),e.\u0275\u0275attribute("disabled",!(0!==t.allDomainMenuButtons.length&&!t.shouldBeDisabled)||null),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(12,Qr,t.isPlaceholderText)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.selectedDomainText),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.showSpinner),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.shouldShowDomainsMessageBar))},dependencies:[g.NgClass,g.NgIf,P.M,et.h,xt.Z,Yr.rX,je.D,w.Y],styles:["[_nghost-%COMP%]{display:block;font-size:14px}[_nghost-%COMP%]   .domains-header[_ngcontent-%COMP%]{margin-bottom:4px}[_nghost-%COMP%]   .domains-header[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size)}[_nghost-%COMP%]   .domains-header[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{margin-top:4px;margin-left:4px}[_nghost-%COMP%]   .menu-with-spinner[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .menu-with-spinner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .menu-with-spinner[_ngcontent-%COMP%]   tri-spinner[_ngcontent-%COMP%]{margin-inline-start:8px}[_nghost-%COMP%]   .domains-message-banner[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .domain-menu-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .domain-menu-button[_ngcontent-%COMP%]   .menu-button-text[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .domain-menu-button[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{color:var(--globalColorGrey44)}[_nghost-%COMP%]   .domain-menu-button[_ngcontent-%COMP%]   .chevron-down-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38)}"],changeDetection:0}),i}(),Zi=["imageFileInput"];function Ji(i,r){if(1&i&&(e.\u0275\u0275element(0,"img",26),e.\u0275\u0275pipe(1,"async")),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("src",e.\u0275\u0275pipeBind1(1,2,n.image$),e.\u0275\u0275sanitizeUrl),e.\u0275\u0275attribute("data-testid","workspace-settings-general-logo-img")}}function hn(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",27),2&i&&e.\u0275\u0275attribute("data-testid","workspace-settings-general-logo-default")}function si(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner"),e.\u0275\u0275elementStart(2,"span",28),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Uploading")))}function Zr(i,r){1&i&&(e.\u0275\u0275element(0,"tri-svg-icon",29),e.\u0275\u0275elementStart(1,"span",28),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"Upload")))}function Jr(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner"),e.\u0275\u0275elementStart(2,"span",28),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Deleting")))}function qi(i,r){1&i&&(e.\u0275\u0275element(0,"tri-svg-icon",30),e.\u0275\u0275elementStart(1,"span",28),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"Delete")))}function Ma(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-status-indicator",31),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&i){var t,n=e.\u0275\u0275nextContext();e.\u0275\u0275property("statusIndicatorType",n.StatusIndicatorType.Error),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null!==(t=e.\u0275\u0275pipeBind1(2,2,n.imgError$))&&void 0!==t?t:"","")}}function qr(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",32)}function wt(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-status-indicator",33),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("statusIndicatorType",n.StatusIndicatorType.Error),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,"NotAvailable_PleaseEdit_Text"))}}function Le(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-status-indicator",33),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("statusIndicatorType",n.StatusIndicatorType.Error),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,"Validation_Empty"))}}function ue(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",32)}function Me(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"trident-domains-dropdown",34),e.\u0275\u0275listener("domainSelected",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.selectDomain(a))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("selectedDomainObjectId",t.domain)("shouldBeDisabled",e.\u0275\u0275pipeBind1(1,3,t.autoSaveDomainInProgress$)||!t.isWorkspaceAdmin)("showSpinner",!!e.\u0275\u0275pipeBind1(2,5,t.autoSaveDomainInProgress$))}}var at=function(r){return{"no-image-container":r}},eo=function(){function i(r,n,t,o){this.localizationService=r,this.telemetryService=n,this.isTrident=t,this.workspaceSettingsService=o,this.imageFileInput=null,this.StatusIndicatorType=Nt,this.image$=new F.X(""),this.name="",this.description="",this.domain="",this.isWorkspaceAdmin=!1,this.imgError$=new F.X(""),this.isDomainsEnabled=!1,this.clickUpload$=new F.X(!1),this.clickDelete$=new F.X(!1),this.image$.next(this.workspaceSettingsService.imageSrc),this.name=this.workspaceSettingsService.workspaceName,this.description=this.workspaceSettingsService.description,this.domain=this.workspaceSettingsService.domainObjectId,this.autoSaveImageInProgress$=this.workspaceSettingsService.autoSaveInProgress.Image,this.autoSaveNameInProgress$=this.workspaceSettingsService.autoSaveInProgress.Name,this.autoSaveDescriptionInProgress$=this.workspaceSettingsService.autoSaveInProgress.Description,this.autoSaveDomainInProgress$=this.workspaceSettingsService.autoSaveInProgress.DomainObjectId,this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.isNameExist$=this.workspaceSettingsService.nameExists$,this.isDomainsEnabled=!!this.isTrident}return i.prototype.uploadImage=function(){var r,n;null===(n=null===(r=this.imageFileInput)||void 0===r?void 0:r.nativeElement)||void 0===n||n.click(),this.clickUpload$.next(!0),this.clickDelete$.next(!1)},i.prototype.deleteImage=function(){var r;!(null===(r=this.imageFileInput)||void 0===r)&&r.nativeElement&&(this.imageFileInput.nativeElement.value=""),this.image$.next(""),this.workspaceSettingsService.imageSrc="",this.clickUpload$.next(!1),this.clickDelete$.next(!0)},i.prototype.imageFileHandler=function(){var n,t,r=this;this.imgError$.next("");var o=null===(t=null===(n=this.imageFileInput)||void 0===n?void 0:n.nativeElement)||void 0===t?void 0:t.files;if(o&&1===o.length){var a=o[0];if(a.size>46080)this.imgError$.next(this.localizationService.format("Publish_ImageSizeValidationError",this.localizationService.get("File_Size_KB_45")));else{var l=a.name.split(".").reverse()[0];if(["jpeg","jpg","png"].some(function(h){return l.toLowerCase()===h}))try{var m=new FileReader;m.addEventListener("load",function(h){var b,z,Q=null===(b=h.target)||void 0===b?void 0:b.result;Q&&(r.image$.next(Q.toString()),r.workspaceSettingsService.imageSrc=Q.toString(),!(null===(z=r.imageFileInput)||void 0===z)&&z.nativeElement&&(r.imageFileInput.nativeElement.value=""),r.telemetryService.logEvent(bt.UpdateImage))}),m.readAsDataURL(a)}catch(h){this.imgError$.next(this.localizationService.get("Trident_Workspace_Settings_File_Read_Error"))}else this.imgError$.next(this.localizationService.get("Trident_Workspace_Settings_Image_File_Extension_Error"))}}else this.imgError$.next(this.localizationService.get("Trident_Workspace_Settings_One_Image_File_Only"))},i.prototype.updateName=function(r){this.name=r.target.value,this.workspaceSettingsService.workspaceName=this.name,this.telemetryService.logEvent(bt.UpdateName)},i.prototype.validateName=function(r){var n=this,t=r.target.value;this.validateNameTimeoutId&&clearTimeout(this.validateNameTimeoutId),this.validateNameTimeoutId=setTimeout(function(){n.workspaceSettingsService.validateFolderName(t)},600)},i.prototype.updateDescription=function(r){this.description=r.target.value,this.workspaceSettingsService.description=this.description,this.telemetryService.logEvent(bt.UpdateDescription)},i.prototype.selectDomain=function(r){this.workspaceSettingsService.domainObjectId=r?.domainObjectId,this.telemetryService.logDomainEvent({source:"WS settings",isSubDomain:!!r?.isSubDomain})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(Vt),e.\u0275\u0275directiveInject(tn.Y),e.\u0275\u0275directiveInject(Ne.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-general-about"]],viewQuery:function(n,t){var o;(1&n&&e.\u0275\u0275viewQuery(Zi,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(t.imageFileInput=o.first))},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:71,vars:91,consts:[[1,"section-container","tri-flex","tri-flex-col"],[1,"section-title","tri-subtitle2"],[1,"image-container","tri-flex"],[1,"image","tri-flex","tri-justify-center","tri-items-center","tri-relative",3,"ngClass"],["class","valid-image","alt","Workspace image",3,"src",4,"ngIf"],["tri-svg-icon-32","","class","no-image","name","image_32_regular",4,"ngIf"],[1,"image-buttons","tri-flex","tri-flex-col"],["tri-button","","appearance","subtle","size","small",1,"image-button",3,"disabled","click"],[4,"ngIf","ngIfElse"],["uploadImageBtn",""],["deleteImageBtn",""],["role","alert",3,"statusIndicatorType",4,"ngIf"],["id","workspace-settings-general-name-label",1,"section-title","tri-subtitle2"],[1,"required-star"],[1,"tri-flex"],["aria-labelledby","workspace-settings-general-name-label",1,"general-settings-input","tri-flex-grow",3,"disabled","value","blur","keyup"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],[3,"statusIndicatorType",4,"ngIf"],["id","workspace-settings-general-description-label",1,"section-title","tri-subtitle2"],["aria-labelledby","workspace-settings-general-description-label","maxlength","4000","rows","3",1,"general-settings-textarea","tri-flex-grow",3,"value","disabled","placeholder","blur"],[1,"section-title"],[1,"tri-subtitle2"],[1,"tri-body1"],[3,"selectedDomainObjectId","shouldBeDisabled","showSpinner","domainSelected",4,"ngIf"],["type","file","accept",".jpeg,.jpg,.png",1,"tri-hidden",3,"change"],["imageFileInput",""],["alt","Workspace image",1,"valid-image",3,"src"],["tri-svg-icon-32","","name","image_32_regular",1,"no-image"],[1,"tri-body1-strong"],["name","arrow_upload_20_regular"],["name","delete_20_regular"],["role","alert",3,"statusIndicatorType"],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],[3,"statusIndicatorType"],[3,"selectedDomainObjectId","shouldBeDisabled","showSpinner","domainSelected"]],template:function(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"div",1),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",2)(6,"div",3),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,Ji,2,4,"img",4),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275template(10,hn,1,1,"tri-svg-icon",5),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",6)(13,"button",7),e.\u0275\u0275listener("click",function(){return t.uploadImage()}),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275template(16,si,5,3,"ng-container",8),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275template(19,Zr,4,3,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"button",7),e.\u0275\u0275listener("click",function(){return t.deleteImage()}),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275pipe(25,"async"),e.\u0275\u0275template(26,Jr,5,3,"ng-container",8),e.\u0275\u0275pipe(27,"async"),e.\u0275\u0275pipe(28,"async"),e.\u0275\u0275template(29,qi,4,3,"ng-template",null,10,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(31,Ma,3,4,"tri-status-indicator",11),e.\u0275\u0275pipe(32,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(33,"div")(34,"div",12)(35,"div"),e.\u0275\u0275text(36),e.\u0275\u0275pipe(37,"localize"),e.\u0275\u0275elementStart(38,"span",13),e.\u0275\u0275text(39," *"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(40,"div",14)(41,"input",15),e.\u0275\u0275listener("blur",function(Q){return t.updateName(Q)})("keyup",function(Q){return t.validateName(Q)}),e.\u0275\u0275pipe(42,"async"),e.\u0275\u0275pipe(43,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(44,qr,1,0,"tri-spinner",16),e.\u0275\u0275pipe(45,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(46,wt,3,4,"tri-status-indicator",17),e.\u0275\u0275pipe(47,"async"),e.\u0275\u0275template(48,Le,3,4,"tri-status-indicator",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"div")(50,"div",18),e.\u0275\u0275text(51),e.\u0275\u0275pipe(52,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"div",14)(54,"textarea",19),e.\u0275\u0275listener("blur",function(Q){return t.updateDescription(Q)}),e.\u0275\u0275pipe(55,"async"),e.\u0275\u0275pipe(56,"localize"),e.\u0275\u0275pipe(57,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(58,ue,1,0,"tri-spinner",16),e.\u0275\u0275pipe(59,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(60,"div")(61,"div",20)(62,"div",21),e.\u0275\u0275text(63),e.\u0275\u0275pipe(64,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(65,"div",22),e.\u0275\u0275text(66),e.\u0275\u0275pipe(67,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(68,Me,3,7,"trident-domains-dropdown",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(69,"input",24,25),e.\u0275\u0275listener("change",function(){return t.imageFileHandler()}),e.\u0275\u0275elementEnd()),2&n){var l,m,h,b,o=e.\u0275\u0275reference(20),a=e.\u0275\u0275reference(30);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,35,"WorkspaceImage")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(89,at,!(null!=(l=e.\u0275\u0275pipeBind1(7,37,t.image$))&&l.length))),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(9,39,t.image$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(null!=(m=e.\u0275\u0275pipeBind1(11,41,t.image$))&&m.length)),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("is-disabled",e.\u0275\u0275pipeBind1(14,43,t.autoSaveImageInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(15,45,t.autoSaveImageInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275attribute("data-testid","workspace-settings-general-upload-btn"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(17,47,t.autoSaveImageInProgress$)&&e.\u0275\u0275pipeBind1(18,49,t.clickUpload$))("ngIfElse",o),e.\u0275\u0275advance(5),e.\u0275\u0275classProp("is-disabled",!(null!=(h=e.\u0275\u0275pipeBind1(22,51,t.image$))&&h.length)||e.\u0275\u0275pipeBind1(23,53,t.autoSaveImageInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",!(null!=(b=e.\u0275\u0275pipeBind1(24,55,t.image$))&&b.length)||e.\u0275\u0275pipeBind1(25,57,t.autoSaveImageInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275attribute("data-testid","workspace-settings-general-reset-btn"),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(27,59,t.autoSaveImageInProgress$)&&e.\u0275\u0275pipeBind1(28,61,t.clickDelete$))("ngIfElse",a),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(32,63,t.imgError$)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(37,65,"Name")),e.\u0275\u0275advance(5),e.\u0275\u0275classProp("has-error",e.\u0275\u0275pipeBind1(42,67,t.isNameExist$)||!t.name),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(43,69,t.autoSaveNameInProgress$)||!t.isWorkspaceAdmin)("value",t.name),e.\u0275\u0275attribute("data-testid","workspace-settings-general-name-input"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(45,71,t.autoSaveNameInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(47,73,t.isNameExist$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(52,75,"Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",t.description)("disabled",e.\u0275\u0275pipeBind1(55,77,t.autoSaveDescriptionInProgress$)||!t.isWorkspaceAdmin)("placeholder",e.\u0275\u0275pipeBind1(56,79,"DescribeThisWorkspace")+" "+e.\u0275\u0275pipeBind1(57,81,"Optional_Parenthesis")),e.\u0275\u0275attribute("data-testid","workspace-settings-general-description-input"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(59,83,t.autoSaveDescriptionInProgress$)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(64,85,"Domain")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(67,87,"Domains_Tip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isDomainsEnabled)}},dependencies:[g.NgClass,g.NgIf,g.AsyncPipe,V.T6,P.M,T.Y,w.Y,X.l,N.d,je.D,_n,Rt,Qt.AP,Qi,f.w],styles:["[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{gap:8px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{height:72px;width:72px;max-width:72px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .valid-image[_ngcontent-%COMP%]{height:72px;width:72px;border-radius:50%}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image.no-image-container[_ngcontent-%COMP%]{background-color:var(--colorNeutralBackground6);color:var(--colorNeutralForeground3);fill:var(--colorNeutralForeground3);border-radius:50%}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground3)}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-buttons[_ngcontent-%COMP%]{gap:4px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-buttons[_ngcontent-%COMP%]   .image-button[_ngcontent-%COMP%]{height:32px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-error-message[_ngcontent-%COMP%]{color:var(--colorPaletteRedForeground1)}[_nghost-%COMP%]   tri-status-indicator[_ngcontent-%COMP%]     .status-indicator{margin-top:4px}[_nghost-%COMP%]   trident-domains-dropdown[_ngcontent-%COMP%]     .domains-header{display:none}[_nghost-%COMP%]   trident-domains-dropdown[_ngcontent-%COMP%]     .domain-menu-button[disabled] .menu-button-text{color:var(--colorNeutralForegroundDisabled)}"],changeDetection:0}),i}();function to(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",7),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.deleteWorkspaceErrorMessage$))&&void 0!==o?o:""))}}function Pa(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275element(1,"tri-svg-icon",9),e.\u0275\u0275elementStart(2,"div",10),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Trident_Workspace_Settings_Delete_Workspace_Banner")))}function no(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.getDeleteWorkspaceRetentionPolicyText()," ")}}function io(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}var er=function(){function i(r,n,t){this.workspaceSettingsService=r,this.triLocalizationService=n,this.telemetryService=t,this.closeSettings=new e.EventEmitter,this.showDeleteWorkspaceError$=new F.X(!1)}return i.prototype.ngOnInit=function(){var r=this;this.workspaceRecoveryEnabled=this.workspaceSettingsService.workspaceRecoveryEnabled,this.deleteWorkspaceInProgress$=this.workspaceSettingsService.deleteWorkspaceInProgress$,this.deleteWorkspaceErrorMessage$=this.workspaceSettingsService.deleteWorkspaceErrorMessage$.pipe((0,be.h)(function(n){return!!n}),(0,Ue.b)(function(){return r.showDeleteWorkspaceError$.next(!0)}))},i.prototype.deleteWorkspace=function(){var r=this;this.telemetryService.logEvent(bt.DeleteWorkspace),this.workspaceSettingsService.deleteWorkspace().then(function(n){var t;n&&(null===(t=r.closeSettings)||void 0===t||t.emit())})},i.prototype.getDeleteWorkspaceRetentionPolicyText=function(){return this.triLocalizationService.format("Trident_Workspace_Settings_Delete_Workspace_Configurable",this.workspaceSettingsService.retentionPeriodDays)},i.prototype.dismissError=function(){this.showDeleteWorkspaceError$.next(!1)},i.prototype.getErrorMessageBarViewModel=function(r){return{bannerType:1,allowDismiss:!0,isRoundedCorners:!0,message:r}},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(Vt))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-general-manage"]],outputs:{closeSettings:"closeSettings"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:19,vars:23,consts:[[1,"section-title","tri-subtitle2"],[3,"viewModel","hideMessageBar",4,"ngIf"],["class","delete-workspace-message tri-flex",4,"ngIf"],["class","delete-workspace-new-message tri-body1",4,"ngIf"],["tri-button","","appearance","primary","data-testid","delete-workspace-btn",3,"disabled","click"],[4,"ngIf"],["name","delete_20_regular"],[3,"viewModel","hideMessageBar"],[1,"delete-workspace-message","tri-flex"],["name","info_20_regular",1,"banner-icon","tri-shrink-0"],[1,"banner-text"],[1,"delete-workspace-new-message","tri-body1"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275template(5,to,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,Pa,5,3,"div",2),e.\u0275\u0275template(9,no,2,1,"div",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div")(11,"button",4),e.\u0275\u0275listener("click",function(){return t.deleteWorkspace()}),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275template(14,io,1,0,"tri-spinner",5),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275element(16,"tri-svg-icon",6),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,9,"GroupEditor_DeleteGroup_Text")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,11,t.deleteWorkspaceErrorMessage$)&&e.\u0275\u0275pipeBind1(7,13,t.showDeleteWorkspaceError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!t.workspaceRecoveryEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.workspaceRecoveryEnabled),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("is-disabled",e.\u0275\u0275pipeBind1(12,15,t.deleteWorkspaceInProgress$)),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(13,17,t.deleteWorkspaceInProgress$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(15,19,t.deleteWorkspaceInProgress$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(18,21,"Trident_Workspace_Settings_Delete_This_Workspace")," "))},dependencies:[g.NgIf,g.AsyncPipe,V.T6,P.M,T.Y,w.Y,X.l,N.d,je.D,de.I,et.h],styles:["[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]{font-size:12px;background-color:var(--colorNeutralBackground4);padding:6px 10px;box-sizing:border-box}[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-inline-end:8px}[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}[_nghost-%COMP%]   .delete-workspace-new-message[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),i}();function ro(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function oo(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",7)}var ao=function(){return[]};function ci(i,r){if(1&i&&e.\u0275\u0275element(0,"input",8),2&i){var t,n=r.$implicit;e.\u0275\u0275property("placeholder",null==n?null:n.inputPlaceholder)("value",(null!==(t=null==n?null:n.identities)&&void 0!==t?t:e.\u0275\u0275pureFunction0(2,ao)).join(";"))}}var I=function(r){return{$implicit:r}},so=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.triLocalizationService=n,this.telemetryService=t,this.contactListContext=void 0,this.isWorkspaceAdmin=!1,this.onContactListUpdated=function(a){o.contactListContext&&(o.contactListContext=(0,W.__assign)((0,W.__assign)({},o.contactListContext),{identities:(0,W.__spreadArray)([],a,!0)}),o.workspaceSettingsService.contactList=o.contactListContext.identities,o.telemetryService.logEvent(bt.UpdateContracts))},this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.contactListContext={identities:this.workspaceSettingsService.contactList,onIdentitiesUpdated:this.onContactListUpdated,allowEmailEnabledSecurityGroups:!0,allowObjectIds:!0,allowDistributionLists:!0,allowUnifiedGroups:!0,checkValidOrgUser:!0,includeGuests:!0,showRelevantUsers:!1,inputPlaceholder:this.workspaceSettingsService.contactList.length>0?"":this.triLocalizationService.get("EmailsList_UsersAndGroupsPlaceholder"),inputAriaLabelledBy:"workspace-settings-general-contact-list-label",disabled:!this.isWorkspaceAdmin},this.autoSaveContactListInProgress$=this.workspaceSettingsService.autoSaveInProgress.ContactList}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(Vt))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-general-notifications"]],inputs:{userPicker:"userPicker"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:13,vars:13,consts:[[1,"section-title"],["id","workspace-settings-general-contact-list-label",1,"tri-subtitle2"],[1,"tri-body1"],[1,"email-list-input-container","tri-flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],["inputUserPicker",""],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],["aria-labelledby","workspace-settings-general-contact-list-label",1,"tri-flex-grow","contact-list",3,"placeholder","value"]],template:function(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",2),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",3),e.\u0275\u0275template(8,ro,1,0,"ng-container",4),e.\u0275\u0275template(9,oo,1,0,"tri-spinner",5),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,ci,1,3,"ng-template",null,6,e.\u0275\u0275templateRefExtractor)),2&n){var o=e.\u0275\u0275reference(12);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,5,"Workspace_Contact")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,7,"Workspace_Contact_List_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",t.userPicker||o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(11,I,t.contactListContext)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(10,9,t.autoSaveContactListInProgress$))}},dependencies:[g.NgIf,g.NgTemplateOutlet,g.AsyncPipe,T.Y,w.Y,X.l,N.d,je.D,p.u5],encapsulation:2,changeDetection:0}),i}();function tr(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function Ft(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",5)}var fn=function(){return[]};function nr(i,r){if(1&i&&e.\u0275\u0275element(0,"input",6),2&i){var t,n=r.$implicit;e.\u0275\u0275property("placeholder",null==n?null:n.inputPlaceholder)("value",(null!==(t=null==n?null:n.identities)&&void 0!==t?t:e.\u0275\u0275pureFunction0(2,fn)).join(";"))}}var ir=function(r){return{$implicit:r}},co=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.triLocalizationService=n,this.telemetryService=t,this.oneDriveContext=void 0,this.isWorkspaceAdmin=!1,this.onOneDriveUpdated=function(a){o.oneDriveContext&&(o.oneDriveContext=(0,W.__assign)((0,W.__assign)({},o.oneDriveContext),{identities:(0,W.__spreadArray)([],a,!0)}),o.workspaceSettingsService.workspaceOneDrive=o.oneDriveContext.identities[0],o.telemetryService.logEvent(bt.UpdateOneDrive))},this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.oneDriveContext={identities:this.workspaceSettingsService.workspaceOneDrive?[this.workspaceSettingsService.workspaceOneDrive]:[],onIdentitiesUpdated:this.onOneDriveUpdated,allowSecurityGroups:!1,allowObjectIds:!0,allowDistributionLists:!1,allowUnifiedGroups:!0,blockUsers:!0,checkValidOrgUser:!0,maxSelectableUsers:1,showRelevantUsers:!1,inputPlaceholder:this.workspaceSettingsService.workspaceOneDrive?"":this.triLocalizationService.get("EmailsList_GroupsPlaceholder"),inputAriaLabelledBy:"workspace-settings-general-oneDrive-list-label",disabled:!this.isWorkspaceAdmin},this.autoSaveOneDriveInProgress=this.workspaceSettingsService.autoSaveInProgress.OneDrive}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(Vt))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-general-one-drive"]],inputs:{userPicker:"userPicker"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:9,vars:10,consts:[["id","workspace-settings-general-oneDrive-list-label",1,"section-title","tri-subtitle2"],[1,"email-list-input-container","tri-flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],["inputUserPicker",""],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],["aria-labelledby","workspace-settings-general-oneDrive-list-label",1,"tri-flex-grow","contact-list",3,"placeholder","value"]],template:function(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",1),e.\u0275\u0275template(4,tr,1,0,"ng-container",2),e.\u0275\u0275template(5,Ft,1,0,"tri-spinner",3),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,nr,1,3,"ng-template",null,4,e.\u0275\u0275templateRefExtractor)),2&n){var o=e.\u0275\u0275reference(8);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,4,"WorkspaceSharePoint")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",t.userPicker||o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(8,ir,t.oneDriveContext)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,6,t.autoSaveOneDriveInProgress))}},dependencies:[g.NgIf,g.AsyncPipe,g.NgTemplateOutlet,T.Y,w.Y,X.l,N.d,je.D,p.u5],encapsulation:2,changeDetection:0}),i}(),lo=["*"],rr=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-section-divider"]],inputs:{sectionNameLocKey:"sectionNameLocKey"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],ngContentSelectors:lo,decls:10,vars:3,consts:[[1,"section"],[1,"divider","tri-flex","tri-flex-row","tri-justify-content","tri-items-center"],[1,"divider-left-line"],[1,"divider-text","tri-caption1"],[1,"tri-flex-auto"]],template:function(n,t){1&n&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),e.\u0275\u0275element(3,"mat-divider"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",3),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4),e.\u0275\u0275element(8,"mat-divider"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275projection(9),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(t.sectionNameLocKey?e.\u0275\u0275pipeBind1(6,1,t.sectionNameLocKey):""))},dependencies:[T.Y,w.Y,J.t,J.d],styles:["[_nghost-%COMP%]   .section[_ngcontent-%COMP%]{margin-bottom:48px}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{width:100%;height:20px;margin-bottom:16px}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]   .divider-left-line[_ngcontent-%COMP%]{width:8px}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]   .divider-text[_ngcontent-%COMP%]{padding:0 var(--spacingVerticalM)}"],changeDetection:0}),i}();function or(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",2),e.\u0275\u0275elementContainerEnd())}function li(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissWorkspaceInitializationError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.workspaceInitializationError$))&&void 0!==o?o:""))}}function Ta(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissNameValidationError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.nameValidationError$))&&void 0!==o?o:""))}}function Cn(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissAutoSaveError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.autoSaveError$))&&void 0!==o?o:""))}}function po(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-section-divider",10)(1,"tri-workspace-settings-general-manage",11),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()()}}function uo(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",4),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"tri-workspace-settings-section-divider",5),e.\u0275\u0275element(5,"tri-workspace-settings-general-about"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"tri-workspace-settings-section-divider",6),e.\u0275\u0275element(7,"tri-workspace-settings-general-notifications",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"tri-workspace-settings-section-divider",8),e.\u0275\u0275element(9,"tri-workspace-settings-general-one-drive",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,po,2,0,"tri-workspace-settings-section-divider",9),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"SettingsGroupsNames_General")),e.\u0275\u0275advance(5),e.\u0275\u0275property("userPicker",n.userPicker),e.\u0275\u0275advance(2),e.\u0275\u0275property("userPicker",n.userPicker),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!n.isWorkspaceAdmin)}}var on=function(){function i(r,n){this.workspaceSettingsService=r,this.telemetryService=n,this.closeSettings=new e.EventEmitter,this.showWorkspaceInitializationError$=new F.X(!1),this.showNameValidationError$=new F.X(!1),this.showAutoSaveError$=new F.X(!1)}return i.prototype.ngOnInit=function(){var r=this;this.initialized$=this.workspaceSettingsService.folderSettingsInitialized$,this.initialized$.subscribe(function(n){n&&(r.isWorkspaceAdmin=r.workspaceSettingsService.isWorkspaceAdmin,r.telemetryService.logEvent(bt.DetailSettings,{name:"Load Workspace settings - end"}),r.workspaceInitializationError$=r.workspaceSettingsService.workspaceInitializationErrorMessage$.pipe((0,be.h)(function(t){return!!t}),(0,Ue.b)(function(){return r.showWorkspaceInitializationError$.next(!0)})),r.nameValidationError$=r.workspaceSettingsService.nameValidationErrorMessage$.pipe((0,be.h)(function(t){return!!t}),(0,Ue.b)(function(){return r.showNameValidationError$.next(!0)})),r.autoSaveError$=r.workspaceSettingsService.autoSaveErrorMessage$.pipe((0,be.h)(function(t){return!!t}),(0,Ue.b)(function(){return r.showAutoSaveError$.next(!0)})))})},i.prototype.dismissWorkspaceInitializationError=function(){this.showWorkspaceInitializationError$.next(!1)},i.prototype.dismissNameValidationError=function(){this.showNameValidationError$.next(!1)},i.prototype.dismissAutoSaveError=function(){this.showAutoSaveError$.next(!1)},i.prototype.getErrorMessageBarViewModel=function(r){return{bannerType:1,allowDismiss:!0,isRoundedCorners:!0,message:r}},i.prototype.onCloseSettings=function(){this.closeSettings.emit()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(Vt))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-general"]],inputs:{userPicker:"userPicker"},outputs:{closeSettings:"closeSettings"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:13,vars:21,consts:[[4,"ngIf"],[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar"],[1,"tab-title","tri-title3"],["sectionNameLocKey","About"],["sectionNameLocKey","UsersNotifications_BadgeTooltip"],[3,"userPicker"],["sectionNameLocKey","OneDrive"],["sectionNameLocKey","Manage_Tooltip",4,"ngIf"],["sectionNameLocKey","Manage_Tooltip"],[3,"closeSettings"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,or,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,li,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,Ta,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,Cn,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275template(11,uo,11,6,"ng-container",0),e.\u0275\u0275pipe(12,"async")),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,5,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!!e.\u0275\u0275pipeBind1(3,7,t.workspaceInitializationError$)&&e.\u0275\u0275pipeBind1(4,9,t.showWorkspaceInitializationError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!!e.\u0275\u0275pipeBind1(6,11,t.nameValidationError$)&&e.\u0275\u0275pipeBind1(7,13,t.showNameValidationError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!!e.\u0275\u0275pipeBind1(9,15,t.autoSaveError$)&&e.\u0275\u0275pipeBind1(10,17,t.showAutoSaveError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(12,19,t.initialized$)))},dependencies:[eo,er,so,co,rr,g.NgIf,de.I,et.h,T.Y,w.Y,X.l,N.d,je.D,g.AsyncPipe],styles:["[_nghost-%COMP%]     .general-settings-input, [_nghost-%COMP%]     .general-settings-textarea{resize:none;font-size:14px;font-family:var(--fontFamilyBase);line-height:20px;padding:5px 12px;box-sizing:border-box;border-radius:4px;outline:none;border:1px solid var(--colorNeutralStroke1)}[_nghost-%COMP%]     .general-settings-input:not([disabled]), [_nghost-%COMP%]     .general-settings-textarea:not([disabled]){border-bottom:1px solid var(--globalColorGrey38)}[_nghost-%COMP%]     .general-settings-input:not([disabled]):focus-visible, [_nghost-%COMP%]     .general-settings-textarea:not([disabled]):focus-visible{border-bottom:2px solid var(--globalColorBrand80)}[_nghost-%COMP%]     .general-settings-input[disabled], [_nghost-%COMP%]     .general-settings-textarea[disabled]{border:1px solid var(--colorNeutralStroke2);background-color:var(--colorNeutralBackgroundDisabled);color:var(--colorNeutralForegroundDisabled)}[_nghost-%COMP%]     .general-settings-input[disabled]::placeholder, [_nghost-%COMP%]     .general-settings-textarea[disabled]::placeholder{color:var(--colorNeutralForegroundDisabled, #bdbdbd)}[_nghost-%COMP%]     .general-settings-input.has-error, [_nghost-%COMP%]     .general-settings-textarea.has-error{border:1px solid var(--colorPaletteRedForeground1)}[_nghost-%COMP%]     .email-list-input-container emails-list-modern{flex-grow:1}[_nghost-%COMP%]     .email-list-input-container .mat-form-field.emails-list{border-radius:4px;outline:none;border:1px solid var(--colorNeutralStroke1);border-bottom:1px solid var(--globalColorGrey38)}[_nghost-%COMP%]     .email-list-input-container .mat-form-field.emails-list:hover{border:1px solid var(--colorNeutralStroke1);border-bottom:1px solid var(--globalColorGrey38)}[_nghost-%COMP%]     .email-list-input-container .mat-form-field.emails-list:focus-visible, [_nghost-%COMP%]     .email-list-input-container .mat-form-field.emails-list:focus-within, [_nghost-%COMP%]     .email-list-input-container .mat-form-field.emails-list:focus{border:1px solid var(--colorNeutralStroke1);border-bottom:2px solid var(--globalColorBrand80)}[_nghost-%COMP%]     .email-list-input-container emails-list-modern.invalid .emails-list{border:1px solid var(--colorPaletteRedForeground1)}[_nghost-%COMP%]     .email-list-input-container emails-list-modern.disabled .emails-list{border:1px solid var(--colorNeutralStroke2);background-color:var(--colorNeutralBackgroundDisabled)}[_nghost-%COMP%]     .email-list-input-container emails-list-modern.disabled .emails-list:hover{border:1px solid var(--colorNeutralStroke2)}[_nghost-%COMP%]     .email-list-input-container emails-list-modern.disabled .emails-list input::placeholder{color:var(--colorNeutralForegroundDisabled, #bdbdbd)}[_nghost-%COMP%]     .email-list-input-container input, [_nghost-%COMP%]     .email-list-input-container .chip-list{padding:6px 10px}[_nghost-%COMP%]     .email-list-input-container message-banner{margin-bottom:0}[_nghost-%COMP%]     .email-list-input-container message-banner .message-banner.message-banner-error{color:var(--colorPaletteRedForeground1);padding:4px 0 0;background-color:unset;align-items:center}[_nghost-%COMP%]     .email-list-input-container message-banner .message-banner-icon{margin-right:4px!important;background:var(--colorPaletteRedForeground1);color:#fff;display:flex;align-items:center;justify-content:center;height:11px;width:11px;border-radius:100%}"],changeDetection:0}),i}(),lt=function(i){return i[i.AdlsStorage=0]="AdlsStorage",i[i.LogAnalytics=1]="LogAnalytics",i}({}),he=v(11547),Sn=v(63057),re=v(14172),ar=v(22318),Jt=v(79078),_t=function(i){return i.NotConfigured="not-configured",i.EditConfiguration="edit-configuration",i.ShowConfiguration="show-configuration",i}({}),kt=function(i){return i.Default="default",i.Custom="custom",i}({}),Tn=v(89237),Mt=v(20551),jt=v(64716),qt=v(85721);function sr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",8),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.dismissServerMessageBar())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getServerMessageBarViewModel(e.\u0275\u0275pipeBind1(1,1,t.serverMessageBarModel$)))}}function go(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"div",10),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",11)(5,"div")(6,"div",12),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",13),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"div",14)(13,"button",15),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.editConfiguration())}),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,t.resourceConnector.collapsibeSectionHeader)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,6,"Status"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,8,"Not_Configured")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(15,10,"Configure")," ")}}function _o(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function Oa(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function mo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",20),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.connectResource())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Oa,1,0,"tri-spinner",21),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("disabled",!((t.selectedSubscription&&t.selectedResourceGroup&&t.selectedResource||e.\u0275\u0275pipeBind1(1,3,t.editConfigurationType$)===t.EditConfigurationType.Default)&&!0!==e.\u0275\u0275pipeBind1(2,5,t.saveInProgress$)&&t.isWorkspaceAdmin)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(4,7,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,9,"PBI_Button_Label_Save")," ")}}function vo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",22),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.cancelConnect())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("disabled",!0===e.\u0275\u0275pipeBind1(1,2,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Cancel_ButtonText")," ")}}function ho(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",9)(1,"div",16),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",11),e.\u0275\u0275template(5,_o,1,0,"ng-container",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",14),e.\u0275\u0275template(7,mo,7,11,"button",18),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275template(9,vo,4,6,"button",19),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(),t=e.\u0275\u0275reference(13);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,n.resourceConnector.collapsibeSectionHeader)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",t),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",void 0===e.\u0275\u0275pipeBind1(8,6,n.connectedResource$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",void 0===e.\u0275\u0275pipeBind1(10,8,n.connectedResource$))}}function fo(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function Ea(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}var Co=function(r){return{$implicit:r}};function Da(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"div",10),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",11),e.\u0275\u0275template(5,fo,1,0,"ng-container",23),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",14)(8,"button",20),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.disconnectResource())}),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275template(11,Ea,1,0,"tri-spinner",21),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(11);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,8,"Storage_Configuration")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(20,Co,e.\u0275\u0275pipeBind1(6,10,t.connectedResource$))),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("is-disabled",!0===e.\u0275\u0275pipeBind1(9,12,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",!0===e.\u0275\u0275pipeBind1(10,14,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(12,16,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,18,"BYOResources_Disconnect_Button_Workspace")," ")}}function Ba(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div")(2,"div",12),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",13),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div")(8,"div",12),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",13),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"div")(14,"div",12),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",13),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd()()()),2&i){var n=r.$implicit,t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,6,"Subscription"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",(null==n?null:n.subscriptionId)||"\u2014",""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,8,"BYOResources_Connect_ResourceGroup"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",(null==n?null:n.resourceGroup)||"\u2014",""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(16,10,t.resourceConnector.resourceLabel),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",(null==n?null:n.resourceName)||"\u2014","")}}function cr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-group")(1,"tri-radio-button",26),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.selectEditConfigurationType(a,l.EditConfigurationType.Default))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementStart(4,"label",27),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"tri-radio-button",28),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.selectEditConfigurationType(a,l.EditConfigurationType.Custom))}),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275elementStart(9,"label",29),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!t.canChooseDefault||!0===e.\u0275\u0275pipeBind1(2,7,t.saveInProgress$))("value",t.EditConfigurationType.Default)("checked",e.\u0275\u0275pipeBind1(3,9,t.editConfigurationType$)===t.EditConfigurationType.Default),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,11,"BYOResources_Connect_Default"),""),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",e.\u0275\u0275pipeBind1(8,13,t.editConfigurationType$)===t.EditConfigurationType.Custom)("value",t.EditConfigurationType.Custom),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,15,"BYOResources_Connect_Custom"),"")}}function So(i,r){if(1&i&&(e.\u0275\u0275element(0,"tri-message-bar",30),e.\u0275\u0275pipe(1,"localize")),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("viewModel",n.getErrorMessageBarViewModel(e.\u0275\u0275pipeBind1(1,1,n.resourceConnector.notAllowedWarningMessage)))}}function Ga(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function an(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Ga,1,0,"ng-container",23),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(3),t=e.\u0275\u0275reference(11);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,Co,n.tenantResource))}}function di(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",8),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(l.dismissFetchError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("viewModel",null!==(o=e.\u0275\u0275pipeBind1(1,1,t.fetchErrorMessageBarModel$))&&void 0!==o?o:void 0)}}function yo(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",43),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("",n.text," (",n.key,") ")}}function za(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",44)}function On(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-status-indicator",45)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"tri-link",46),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("statusIndicatorType",n.StatusIndicatorType.Error),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,5,n.resourceConnector.noSubscriptionsMessage)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0)("href",n.resourceConnector.noSubscriptionLearnMoreLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,7,"LearnMore")," ")}}function bo(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",43),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.text," ")}}function wo(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",44)}function ko(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-status-indicator",45)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"tri-link",46),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("statusIndicatorType",n.StatusIndicatorType.Error),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,5,n.resourceConnector.noResourceGroupMessage)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0)("href",n.resourceConnector.noResourceGroupLearnMoreLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,7,"LearnMore")," ")}}function Io(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",43),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.text," ")}}function xo(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",44)}function Mo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",33),e.\u0275\u0275template(1,di,2,3,"tri-message-bar",0),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"div")(4,"div",34),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementStart(7,"span",35),e.\u0275\u0275text(8," *"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",36)(10,"tri-dropdown",37),e.\u0275\u0275listener("ngModelChange",function(ie){e.\u0275\u0275restoreView(n);var Y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(Y.selectedSubscriptionDropdownOption=ie)})("valueChange",function(ie){e.\u0275\u0275restoreView(n);var Y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(Y.onSubscriptionChange(ie))}),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementStart(13,"tri-dropdown-trigger")(14,"div",38),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"tri-search-box",39),e.\u0275\u0275listener("value",function(ie){e.\u0275\u0275restoreView(n);var Y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(Y.onSubscriptionsSearched(ie))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,yo,2,3,"tri-dropdown-item",40),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,za,1,0,"tri-spinner",41),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(22,On,7,9,"tri-status-indicator",42),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div")(26,"div",34),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"localize"),e.\u0275\u0275elementStart(29,"span",35),e.\u0275\u0275text(30," *"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(31,"div",36)(32,"tri-dropdown",37),e.\u0275\u0275listener("ngModelChange",function(ie){e.\u0275\u0275restoreView(n);var Y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(Y.selectedResourceGroupDropdownOption=ie)})("valueChange",function(ie){e.\u0275\u0275restoreView(n);var Y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(Y.onResourceGroupChange(ie))}),e.\u0275\u0275pipe(33,"async"),e.\u0275\u0275pipe(34,"async"),e.\u0275\u0275elementStart(35,"tri-dropdown-trigger")(36,"div",38),e.\u0275\u0275pipe(37,"localize"),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(40,"tri-search-box",39),e.\u0275\u0275listener("value",function(ie){e.\u0275\u0275restoreView(n);var Y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(Y.onResourceGroupsSearched(ie))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(41,bo,2,2,"tri-dropdown-item",40),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(42,wo,1,0,"tri-spinner",41),e.\u0275\u0275pipe(43,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(44,ko,7,9,"tri-status-indicator",42),e.\u0275\u0275pipe(45,"async"),e.\u0275\u0275pipe(46,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"div")(48,"div",34),e.\u0275\u0275text(49),e.\u0275\u0275pipe(50,"localize"),e.\u0275\u0275elementStart(51,"span",35),e.\u0275\u0275text(52," *"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(53,"div",36)(54,"tri-dropdown",37),e.\u0275\u0275listener("ngModelChange",function(ie){e.\u0275\u0275restoreView(n);var Y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(Y.selectedResourceDropdownOption=ie)})("valueChange",function(ie){e.\u0275\u0275restoreView(n);var Y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(Y.onResourceChange(ie))}),e.\u0275\u0275pipe(55,"async"),e.\u0275\u0275pipe(56,"async"),e.\u0275\u0275elementStart(57,"tri-dropdown-trigger")(58,"div",38),e.\u0275\u0275pipe(59,"localize"),e.\u0275\u0275text(60),e.\u0275\u0275pipe(61,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(62,"tri-search-box",39),e.\u0275\u0275listener("value",function(ie){e.\u0275\u0275restoreView(n);var Y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(Y.onResourcesSearched(ie))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(63,Io,2,2,"tri-dropdown-item",40),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(64,xo,1,0,"tri-spinner",41),e.\u0275\u0275pipe(65,"async"),e.\u0275\u0275elementEnd()()()}if(2&i){var o,a,l,m,h,b,z,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,27,t.fetchErrorMessageBarModel$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,29,"Subscription"),""),e.\u0275\u0275advance(5),e.\u0275\u0275property("options",t.getDropdownOverlayOptions(null!==(o=null==t.allSubscriptionDropdownOptions?null:t.allSubscriptionDropdownOptions.length)&&void 0!==o?o:0))("ngModel",t.selectedSubscriptionDropdownOption)("disabled",!0===e.\u0275\u0275pipeBind1(11,31,t.saveInProgress$)||!0===e.\u0275\u0275pipeBind1(12,33,null==t.fetchResourceStatus||null==t.fetchResourceStatus.subscription?null:t.fetchResourceStatus.subscription.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",t.selectedSubscriptionDropdownOption?t.selectedSubscriptionDropdownOption.text+" ("+(null==t.selectedSubscriptionDropdownOption?null:t.selectedSubscriptionDropdownOption.key)+")":e.\u0275\u0275pipeBind1(15,35,"Trident_Workspace_Settings_Select_Subscription")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.selectedSubscriptionDropdownOption?t.selectedSubscriptionDropdownOption.text+" ("+(null==t.selectedSubscriptionDropdownOption?null:t.selectedSubscriptionDropdownOption.key)+")":e.\u0275\u0275pipeBind1(17,37,"Trident_Workspace_Settings_Select_Subscription")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allSubscriptionDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(21,39,null==t.fetchResourceStatus||null==t.fetchResourceStatus.subscription?null:t.fetchResourceStatus.subscription.inProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",void 0===e.\u0275\u0275pipeBind1(23,41,t.connectedResource$)&&0===t.allSubscriptions.length&&!0!==e.\u0275\u0275pipeBind1(24,43,null==t.fetchResourceStatus||null==t.fetchResourceStatus.subscription?null:t.fetchResourceStatus.subscription.inProgress$)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(28,45,"BYOResources_Connect_ResourceGroup"),""),e.\u0275\u0275advance(5),e.\u0275\u0275property("options",t.getDropdownOverlayOptions(null!==(a=null==t.allResourceGroupsDropdownOptions?null:t.allResourceGroupsDropdownOptions.length)&&void 0!==a?a:0))("ngModel",t.selectedResourceGroupDropdownOption)("disabled",!t.selectedSubscription||!0===e.\u0275\u0275pipeBind1(33,47,t.saveInProgress$)||!0===e.\u0275\u0275pipeBind1(34,49,null==t.fetchResourceStatus||null==t.fetchResourceStatus.resourceGroup?null:t.fetchResourceStatus.resourceGroup.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",null!==(l=null==t.selectedResourceGroupDropdownOption?null:t.selectedResourceGroupDropdownOption.text)&&void 0!==l?l:e.\u0275\u0275pipeBind1(37,51,"Trident_Workspace_Settings_Select_Resource_Group")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(m=null==t.selectedResourceGroupDropdownOption?null:t.selectedResourceGroupDropdownOption.text)&&void 0!==m?m:e.\u0275\u0275pipeBind1(39,53,"Trident_Workspace_Settings_Select_Resource_Group")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allResourceGroupsDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(43,55,null==t.fetchResourceStatus||null==t.fetchResourceStatus.resourceGroup?null:t.fetchResourceStatus.resourceGroup.inProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",void 0===e.\u0275\u0275pipeBind1(45,57,t.connectedResource$)&&t.selectedSubscription&&0===t.allResourceGroups.length&&!0!==e.\u0275\u0275pipeBind1(46,59,null==t.fetchResourceStatus||null==t.fetchResourceStatus.resourceGroup?null:t.fetchResourceStatus.resourceGroup.inProgress$)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(50,61,t.resourceConnector.resourceLabel),""),e.\u0275\u0275advance(5),e.\u0275\u0275property("options",t.getDropdownOverlayOptions(null!==(h=null==t.allResourcesDropdownOptions?null:t.allResourcesDropdownOptions.length)&&void 0!==h?h:0))("ngModel",t.selectedResourceDropdownOption)("disabled",!t.selectedSubscription||!t.selectedResourceGroup||!0===e.\u0275\u0275pipeBind1(55,63,t.saveInProgress$)||!0===e.\u0275\u0275pipeBind1(56,65,null==t.fetchResourceStatus||null==t.fetchResourceStatus.resource?null:t.fetchResourceStatus.resource.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",null!==(b=null==t.selectedResourceDropdownOption?null:t.selectedResourceDropdownOption.text)&&void 0!==b?b:e.\u0275\u0275pipeBind1(59,67,t.resourceConnector.resourcePickerPlaceholder)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(z=null==t.selectedResourceDropdownOption?null:t.selectedResourceDropdownOption.text)&&void 0!==z?z:e.\u0275\u0275pipeBind1(61,69,t.resourceConnector.resourcePickerPlaceholder)," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allResourcesDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(65,71,null==t.fetchResourceStatus||null==t.fetchResourceStatus.resource?null:t.fetchResourceStatus.resource.inProgress$))}}function Po(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0,4),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,an,2,4,"div",31),e.\u0275\u0275template(3,Mo,66,73,"div",32),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngSwitch",e.\u0275\u0275pipeBind1(1,3,n.editConfigurationType$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitchCase",n.EditConfigurationType.Default),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",n.EditConfigurationType.Custom)}}function To(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,cr,12,17,"tri-radio-group",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,So,2,3,"tri-message-bar",24),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,Po,4,5,"ng-container",25),e.\u0275\u0275pipe(5,"async")),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isShowRadioGroup),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,3,n.editConfigurationType$)===n.EditConfigurationType.Custom&&!n.canChooseCustom),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.canChooseCustom||e.\u0275\u0275pipeBind1(5,5,n.editConfigurationType$)===n.EditConfigurationType.Default)}}var Bo=function(){function i(r,n,t){this.workspaceSettingsService=r,this.telemetryService=n,this.triLocalizationService=t,this.resourceConnector={},this.isWorkspaceAdmin=!1,this.connectedResource$=new F.X(void 0),this.configurationContent$=new F.X(_t.EditConfiguration),this.ConfigurationContentType=_t,this.editConfigurationType$=new F.X(kt.Custom),this.EditConfigurationType=kt,this.allSubscriptions=[],this.allResourceGroups=[],this.allResources=[],this.allSubscriptionDropdownOptions=[],this.allResourceGroupsDropdownOptions=[],this.allResourcesDropdownOptions=[],this.subscriptionDropdownSearchText="",this.resourceGroupDropdownSearchText="",this.resourceDropdownSearchText="",this.saveInProgress$=(0,he.of)(!1),this.updateResMsg$=(0,he.of)(""),this.serverMessageBarModel$=new F.X(void 0),this.fetchErrorMessageBarModel$=new F.X(void 0),this.StatusIndicatorType=Nt,this.destroy$=new st.xQ}return i.prototype.ngOnInit=function(){var n,t,o,r=this;this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.tenantResource=this.workspaceSettingsService.getTenantResource(this.resourceConnector.resourceType),this.saveInProgress$=this.workspaceSettingsService.azureResourceApiInProgress[this.resourceConnector.resourceType],this.fetchResourceStatus=this.workspaceSettingsService.azureResourcesFetchStatus[this.resourceConnector.resourceType],(0,Sn.T)(null===(n=this.fetchResourceStatus)||void 0===n?void 0:n.subscription.errorMessage$,null===(t=this.fetchResourceStatus)||void 0===t?void 0:t.resourceGroup.errorMessage$,null===(o=this.fetchResourceStatus)||void 0===o?void 0:o.resource.errorMessage$).pipe((0,Ue.b)(function(a){r.fetchErrorMessageBarModel$.next({bannerType:1,allowDismiss:!0,isRoundedCorners:!0,message:a})})),this.isShowRadioGroup=this.resourceConnector.canSelectTenantResource,this.canChooseDefault=!!this.tenantResource&&this.isWorkspaceAdmin,this.canChooseCustom=!!this.resourceConnector&&this.workspaceSettingsService.getFeatureSwitchState(this.resourceConnector.featureFlagToAllowResource),this.updateResMsg$=(0,Sn.T)(this.workspaceSettingsService.azureConnectionsServiceErrorMessages[this.resourceConnector.resourceType].pipe((0,be.h)(function(a){return!!a})),this.workspaceSettingsService.azureConnectionUpdateSuccess[this.resourceConnector.resourceType].pipe((0,be.h)(function(a){return!!a}),(0,re.U)(function(){return""}))),(0,Ve.aj)([this.updateResMsg$,this.saveInProgress$]).pipe((0,Re.R)(this.destroy$),(0,be.h)(function(a){return!a[1]}),(0,re.U)(function(a){var l=a[0];return l?{id:(0,Jt.Z)(),bannerType:1,message:l}:{id:(0,Jt.Z)(),bannerType:3,message:r.triLocalizationService.get("Sharing_EditDashboardUsersSuccess")}})).subscribe(function(a){r.serverMessageBarModel$.next(a)}),(0,Ve.aj)([this.saveInProgress$,this.updateResMsg$.pipe((0,ar.O)(""))]).pipe((0,Re.R)(this.destroy$)).subscribe(function(a){var l=a[0],m=a[1],h=r.workspaceSettingsService.getLinkedResource(r.resourceConnector.resourceType),b=!!h?.resourceName||!!h?.resourceGroup||!!h?.subscriptionId;r.connectedResource$.next(b?h:void 0),l?b?r.configurationContent$.next(_t.ShowConfiguration):r.editConfiguration(r.workspaceSettingsService.azureConnectionEditConfigurationType[r.resourceConnector.resourceType]):(r.clearCurrentResource(),m?r.editConfiguration():r.configurationContent$.next(b?_t.ShowConfiguration:_t.NotConfigured))})},i.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},i.prototype.connectResource=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){switch(n.label){case 0:return[4,this.editConfigurationType$.pipe((0,ve.q)(1)).toPromise()];case 1:return n.sent()===kt.Default?this.workspaceSettingsService.connectTenantResource(this.resourceConnector.resourceType):this.workspaceSettingsService.connectAzureResource(this.resourceConnector.resourceType),this.telemetryService.logEvent("Connect ".concat(this.resourceConnector.resourceType)),[2]}})})},i.prototype.cancelConnect=function(){this.clearCurrentResource(),this.configurationContent$.next(_t.NotConfigured)},i.prototype.disconnectResource=function(){this.workspaceSettingsService.disconnectAzureResource(this.resourceConnector.resourceType,this.resourceConnector.disconnectionPromptMessage)},i.prototype.editConfiguration=function(r){this.initializePickerOptions(),this.configurationContent$.next(_t.EditConfiguration),r?this.editConfigurationType$.next(r):this.isShowRadioGroup&&this.canChooseDefault?(this.editConfigurationType$.next(kt.Default),this.workspaceSettingsService.updateAzureConnectionEditConfigurationType(this.resourceConnector.resourceType,kt.Default)):(this.editConfigurationType$.next(kt.Custom),this.workspaceSettingsService.updateAzureConnectionEditConfigurationType(this.resourceConnector.resourceType,kt.Custom))},i.prototype.selectEditConfigurationType=function(r,n){r&&(this.workspaceSettingsService.updateAzureConnectionEditConfigurationType(this.resourceConnector.resourceType,n),this.editConfigurationType$.next(n))},i.prototype.getErrorMessageBarViewModel=function(r){return{bannerType:1,allowDismiss:!1,isRoundedCorners:!0,message:r}},i.prototype.getServerMessageBarViewModel=function(r){if(r)return{id:r.id,bannerType:r.bannerType,allowDismiss:!0,isRoundedCorners:!0,message:r.message}},i.prototype.dismissServerMessageBar=function(){this.serverMessageBarModel$.next(void 0)},i.prototype.dismissFetchError=function(){this.fetchErrorMessageBarModel$.next(void 0)},i.prototype.getDropdownOverlayOptions=function(r){return{dropdownHeight:30*Math.max(Math.min(r,12),1)+34}},i.prototype.onSubscriptionChange=function(r){var t,o,a,n=this;this.selectedSubscription=this.allSubscriptions.find(function(l){return l.subscriptionId===r?.key}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.azureTenantObjectId,subscriptionId:null===(o=this.selectedSubscription)||void 0===o?void 0:o.subscriptionId}),this.selectedResourceGroup=void 0,this.selectedResource=void 0,this.selectedResourceGroupDropdownOption=void 0,this.selectedResourceDropdownOption=void 0,this.selectedSubscription&&this.workspaceSettingsService.getResourceGroupsWithResourceTypeForAzureSubscription(this.resourceConnector.resourceType,(null===(a=this.selectedSubscription)||void 0===a?void 0:a.subscriptionId)||"",!0).then(function(l){n.allResourceGroups=l,n.createResourceGroupDropdownOptions()})},i.prototype.onResourceGroupChange=function(r){var t,o,a,l,m,n=this;this.selectedResourceGroup=this.allResourceGroups.find(function(h){return h.name===r?.text}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.azureTenantObjectId,subscriptionId:null===(o=this.selectedSubscription)||void 0===o?void 0:o.subscriptionId,resourceGroup:null===(a=this.selectedResourceGroup)||void 0===a?void 0:a.name}),this.selectedResource=void 0,this.selectedResourceDropdownOption=void 0,this.selectedSubscription&&this.selectedResourceGroup&&this.workspaceSettingsService.getAzureResources(this.resourceConnector.resourceType,(null===(l=this.selectedSubscription)||void 0===l?void 0:l.subscriptionId)||"",(null===(m=this.selectedResourceGroup)||void 0===m?void 0:m.name)||"").then(function(h){n.allResources=h,n.createResourcesDropdownOptions()})},i.prototype.onResourceChange=function(r){var n,t,o,a;this.selectedResource=this.allResources.find(function(l){return l.name===r?.text}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(n=this.selectedSubscription)||void 0===n?void 0:n.azureTenantObjectId,subscriptionId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.subscriptionId,resourceGroup:null===(o=this.selectedResourceGroup)||void 0===o?void 0:o.name,resourceName:null===(a=this.selectedResource)||void 0===a?void 0:a.name})},i.prototype.onSubscriptionsSearched=function(r){this.subscriptionDropdownSearchText=r,this.createSubscriptionDropdownOptions()},i.prototype.onResourceGroupsSearched=function(r){this.resourceGroupDropdownSearchText=r,this.createResourceGroupDropdownOptions()},i.prototype.onResourcesSearched=function(r){this.resourceDropdownSearchText=r,this.createResourcesDropdownOptions()},i.prototype.initializePickerOptions=function(){var r=this,n=this.workspaceSettingsService.getCurrentResource(this.resourceConnector.resourceType);this.workspaceSettingsService.getAzureSubscriptions().then(function(t){if(r.allSubscriptions=(0,W.__spreadArray)([],t,!0),r.createSubscriptionDropdownOptions(),n?.subscriptionId){var o=r.allSubscriptions.findIndex(function(l){return l.subscriptionId===n.subscriptionId});if(o>=0){var a=r.allSubscriptions[o];r.selectedSubscriptionDropdownOption=r.allSubscriptionDropdownOptions[o],r.selectedSubscription=a,n.resourceGroup&&(r.selectedResourceGroup={name:n.resourceGroup,subscriptionId:a.subscriptionId}),n.resourceName&&(r.selectedResource={id:n.resourceName,name:n.resourceName,subscriptionId:a.subscriptionId,resourceGroup:n.resourceGroup})}}}),n?.subscriptionId&&(this.workspaceSettingsService.getResourceGroupsWithResourceTypeForAzureSubscription(this.resourceConnector.resourceType,n.subscriptionId).then(function(t){var o;r.allResourceGroups=(0,W.__spreadArray)([],t,!0),r.createResourceGroupDropdownOptions(),n.resourceGroup&&(r.selectedResourceGroupDropdownOption=null===(o=r.allResourceGroupsDropdownOptions)||void 0===o?void 0:o.find(function(a){return a.text===n.resourceGroup}))}),n.resourceGroup&&this.workspaceSettingsService.getAzureResources(this.resourceConnector.resourceType,n.subscriptionId,n.resourceGroup).then(function(t){var o;r.allResources=(0,W.__spreadArray)([],t,!0),r.createResourcesDropdownOptions(),n.resourceName&&(r.selectedResourceDropdownOption=null===(o=r.allResourcesDropdownOptions)||void 0===o?void 0:o.find(function(a){return a.text===n.resourceName}))}))},i.prototype.createSubscriptionDropdownOptions=function(){var r=this;this.allSubscriptionDropdownOptions=this.allSubscriptions.map(function(n){return{key:n.subscriptionId,text:n.name}}).filter(function(n){var t,o,a,l;return!r.subscriptionDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.subscriptionDropdownSearchText.toLowerCase()))>=0||(null===(l=null===(a=n.key)||void 0===a?void 0:a.toLowerCase())||void 0===l?void 0:l.indexOf(r.subscriptionDropdownSearchText.toLowerCase()))>=0})},i.prototype.createResourceGroupDropdownOptions=function(){var r=this;this.allResourceGroupsDropdownOptions=this.allResourceGroups.map(function(n){return{key:n.name,text:n.name}}).filter(function(n){var t,o;return!r.resourceGroupDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.resourceGroupDropdownSearchText.toLowerCase()))>=0})},i.prototype.createResourcesDropdownOptions=function(){var r=this;this.allResourcesDropdownOptions=this.allResources.map(function(n){return{key:n.name,text:n.name}}).filter(function(n){var t,o;return!r.resourceDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.resourceDropdownSearchText.toLowerCase()))>=0})},i.prototype.clearCurrentResource=function(){this.workspaceSettingsService.clearCurrentResource(this.resourceConnector.resourceType),this.selectedSubscription=void 0,this.selectedSubscriptionDropdownOption=void 0,this.subscriptionDropdownSearchText="",this.selectedResourceGroup=void 0,this.selectedResourceGroupDropdownOption=void 0,this.resourceGroupDropdownSearchText="",this.selectedResource=void 0,this.selectedResourceDropdownOption=void 0,this.resourceDropdownSearchText=""},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(Vt),e.\u0275\u0275directiveInject(ye.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-azure-connections-configuration"]],inputs:{resourceConnector:"resourceConnector"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:14,vars:9,consts:[[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"configuration-container","tri-flex","tri-flex-row"],[1,"anchor-icon"],["name","storage_20_regular"],[3,"ngSwitch"],["class","container-right-part tri-flex-auto",4,"ngSwitchCase"],["configurationSummary",""],["editConfigurationContent",""],[3,"viewModel","hideMessageBar"],[1,"container-right-part","tri-flex-auto"],[1,"title","tri-body1"],[1,"content"],[1,"tri-caption2"],[1,"tri-body1-strong"],[1,"footer"],["tri-button","",3,"click"],[1,"title","tri-body1-strong"],[4,"ngTemplateOutlet"],["tri-button","","appearance","primary",3,"disabled","click",4,"ngIf"],["tri-button","",3,"disabled","click",4,"ngIf"],["tri-button","","appearance","primary",3,"disabled","click"],[4,"ngIf"],["tri-button","",3,"disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"viewModel",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],["aria-labelledby","'default-connection-radio-button-' + resourceConnector.resourceType",3,"disabled","value","checked","change"],["id","'default-connection-radio-button-' + resourceConnector.resourceType"],["aria-labelledby","'custom-connection-radio-button-' + resourceConnector.resourceType",3,"checked","value","change"],["id","'custom-connection-radio-button-' + resourceConnector.resourceType"],[3,"viewModel"],[4,"ngSwitchCase"],["class","resource-pickers-container tri-flex tri-flex-col",4,"ngSwitchCase"],[1,"resource-pickers-container","tri-flex","tri-flex-col"],[1,"picker-label","tri-body1-strong"],[1,"required-star"],[1,"tri-flex"],[3,"options","ngModel","disabled","ngModelChange","valueChange"],[1,"tri-body1",3,"triTooltip"],[1,"azure-connection-configuration-dropdown-search-box",3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],[3,"statusIndicatorType",4,"ngIf"],[3,"value"],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],[3,"statusIndicatorType"],["target","_blank","rel","noopener noreferrer",3,"external","href"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,sr,2,3,"tri-message-bar",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"div",1)(3,"div",2),e.\u0275\u0275element(4,"tri-svg-icon",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerStart(5,4),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275template(7,go,16,12,"div",5),e.\u0275\u0275template(8,ho,11,10,"div",5),e.\u0275\u0275template(9,Da,15,22,"div",5),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,Ba,19,12,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(12,To,6,7,"ng-template",null,7,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,t.serverMessageBarModel$)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngSwitch",e.\u0275\u0275pipeBind1(6,7,t.configurationContent$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitchCase",t.ConfigurationContentType.NotConfigured),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ConfigurationContentType.EditConfiguration),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ConfigurationContentType.ShowConfiguration))},dependencies:[g.NgIf,g.NgFor,g.NgTemplateOutlet,g.NgSwitch,g.NgSwitchCase,g.AsyncPipe,p.u5,p.JJ,p.On,T.Y,w.Y,N.d,je.D,de.I,et.h,we.W,E.Y,B.Z,V.T6,P.M,ae.b,Tn.U,x.lK,Mt.M3,jt.l,qt.q,Mt.ii,f.w,xt.Z,_n,Rt,se.m,O.v],styles:["[_nghost-%COMP%]   .configuration-container[_ngcontent-%COMP%]{padding:8px;border-radius:4px;border:1px solid var(--colorNeutralStroke2)}[_nghost-%COMP%]   .configuration-container[_ngcontent-%COMP%]   .anchor-icon[_ngcontent-%COMP%]{display:flex;margin-right:8px;fill:var(--tridentColor80)}[_nghost-%COMP%]   .configuration-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:8px 8px 8px 0;display:flex;flex-direction:column;gap:16px}[_nghost-%COMP%]   .configuration-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding:8px 0;margin-top:10px}[_nghost-%COMP%]   .resource-pickers-container[_ngcontent-%COMP%]{gap:8px}[_nghost-%COMP%]   .resource-pickers-container[_ngcontent-%COMP%]   .picker-label[_ngcontent-%COMP%]{margin-bottom:4px}[_nghost-%COMP%]   .resource-pickers-container[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .resource-pickers-container[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     .popout-button[disabled] .tri-dropdown-trigger-container{color:var(--colorNeutralForegroundDisabled)}[_nghost-%COMP%]     tri-status-indicator .status-indicator{align-items:baseline;margin-top:4px}  .azure-connection-configuration-dropdown-search-box{width:100%}"],changeDetection:0}),i}();function Go(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",1),e.\u0275\u0275elementContainerEnd())}function zo(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div")(2,"div",7)(3,"div",8),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementStart(9,"tri-link",9),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(12,"tri-workspace-settings-azure-connections-configuration",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=r.$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,6,n.headerText)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(8,8,n.headerSubText)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("href",n.learnMoreLink)("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,10,n.headerLearnMoreText)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("resourceConnector",n)}}function Ao(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",2)(2,"div",3),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",5),e.\u0275\u0275template(9,zo,13,12,"ng-container",6),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,3,"Azure_Connections")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,5,"Azure_Connections_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(10,7,n.resourceConnectorArray$))}}var lr=function(){function i(r){var n,t=this;this.workspaceSettingsService=r,this.resourceConnectors=((n={})[lt.AdlsStorage]={resourceType:lt.AdlsStorage,headerSubText:"BYOResources_Workspace_AdlsStorage_Description",headerText:"Trident_Workspace_Settings_ADLS_header",headerLearnMoreText:"Trident_Workspace_Settings_Learn_More_ADLS",resourceLabel:"Trident_Workspace_Settings_Storage_Account",resourcePickerPlaceholder:"Trident_Workspace_Settings_Select_Storage",collapsibeSectionHeader:"AdminPortal_BYOTenantStorage_Description",icon:{name:"plug_connected_20_regular"},forPremiumOnly:!1,canSelectTenantResource:!0,learnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128745",featureFlagToAllowResource:"storageAccountAttachForWorkspaceAdminsEnabled",notAllowedWarningMessage:"Warning_BYOSA_Workspace_Not_Enabled",notAllowedLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128134",noSubscriptionsMessage:"Error_No_Azure_Subscriptions_Access",noSubscriptionLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128263",noResourceGroupMessage:"Error_No_Storage_Account_Access",noResourceGroupLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128132",disconnectionPromptMessage:"AdminPortal_DatapoolSettings_DialogWarningNote1"},n[lt.LogAnalytics]={resourceType:lt.LogAnalytics,headerSubText:"BYOResources_Workspace_LogAnalytics_Description",headerText:"Trident_Workspace_Settings_Log_Analytics_Header",headerLearnMoreText:"Trident_Workspace_Settings_Learn_More_Log_Analytics",resourceLabel:"BYOResources_Connect_LogAnalytics",resourcePickerPlaceholder:"Trident_Workspace_Settings_Select_Log_Analytics",collapsibeSectionHeader:"Trident_Workspace_Settings_Configure_Log_Analytics",icon:{name:"plug_connected_20_regular"},learnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128746",forPremiumOnly:!0,canSelectTenantResource:!1,featureFlagToAllowResource:"logAnalyticsAttachForWorkspaceAdminsEnabled",notAllowedWarningMessage:"Warning_BYOLA_Workspace_Not_Enabled",notAllowedLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128744",noSubscriptionsMessage:"Error_No_Azure_Subscriptions_Access",noSubscriptionLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128742",noResourceGroupMessage:"Error_No_Log_Analytics_Workspace_Access",noResourceGroupLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128743",disconnectionPromptMessage:"BYOResources_Workspace_Disconnect_LogAnalytics_Description"},n),this.resourceConnectorArray$=new F.X([]),this.initialized$=this.workspaceSettingsService.azureConnectionsInitialized$,this.initialized$.subscribe(function(o){if(o){var a=t.workspaceSettingsService.isPremium;t.resourceConnectorArray$.next(Object.values(t.resourceConnectors).filter(function(l){return!l.forPremiumOnly||a}))}})}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-azure-connections-v2"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:4,vars:6,consts:[[4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center"],[1,"tab-title"],[1,"tri-title3"],[1,"tri-body1"],[1,"section-container"],[4,"ngFor","ngForOf"],[1,"section-title"],[1,"tri-subtitle2"],["target","_blank","rel","noopener noreferrer",3,"href","external"],[3,"resourceConnector"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,Go,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,Ao,11,9,"ng-container",0),e.\u0275\u0275pipe(3,"async")),2&n&&(e.\u0275\u0275property("ngIf",!0!==e.\u0275\u0275pipeBind1(1,2,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,4,t.initialized$)))},dependencies:[g.NgIf,g.NgFor,g.AsyncPipe,T.Y,w.Y,N.d,je.D,se.m,O.v,Bo],encapsulation:2,changeDetection:0}),i}(),dr=v(70032),Ro=new e.InjectionToken("ClipboardWriteFunc"),ne=function(i){return i.PowerBIPro="PowerBIPro",i.TridentPremiumPerUser="TridentPremiumPerUser",i.TridentPremiumPerCapacity="TridentPremiumPerCapacity",i.Embedded="Embedded",i.DataCapacity="DataCapacity",i.DataCapacityTrial="DataCapacityTrial",i.Unknown="Unknown",i}({}),Wt=function(i){return i.None="None",i.SmallDataset="SmallDataset",i.LargeDataset="LargeDataset",i}({});function En(i){switch(i){case 1:return ne.TridentPremiumPerCapacity;case 4:return ne.TridentPremiumPerUser;case 3:case 2:return ne.Embedded;case 8:case 9:return ne.DataCapacity;case 7:return ne.DataCapacityTrial;default:return ne.PowerBIPro}}function pr(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function ur(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",17),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,pr,1,0,"ng-container",19),e.\u0275\u0275elementEnd()),2&i){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(17);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"Trident_Workspace_Settings_License_Capacity")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",n)}}function Fo(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",17),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",18),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"GroupEditor_StorageFormat"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",n.defaultStorageFormat===n.StorageFormat.SmallDataset?e.\u0275\u0275pipeBind1(6,4,"GroupEditor_StorageFormat_Small"):e.\u0275\u0275pipeBind1(7,6,"GroupEditor_StorageFormat_Large")," ")}}function Wo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",12)(1,"div",13)(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.editConfiguration())}),e.\u0275\u0275element(6,"tri-svg-icon",15),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",16)(10,"div")(11,"div",17),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",18),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(16,ur,5,4,"div",5),e.\u0275\u0275template(17,Fo,8,8,"div",5),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,6,"License_Configuration"),""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,8,"Edit")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,10,"Current_License"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.getLicenseModeLocString(t.licenseMode)," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==t.selectedCapacity?null:t.selectedCapacity.name)||(null==t.selectedCapacity?null:t.selectedCapacity.sku)||(null==t.selectedCapacity?null:t.selectedCapacity.region)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isMyWorkspace&&!!t.selectedCapacity)}}function Aa(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function Lo(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function pi(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Applying")))}function ui(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Select_License")))}var gr=function(r){return{"is-disabled":r}};function No(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",12)(1,"div",20),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",16),e.\u0275\u0275template(5,Aa,1,0,"ng-container",19),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",21)(7,"button",22),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.clickSelectLicense())}),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275template(12,Lo,1,0,"tri-spinner",5),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275template(14,pi,3,3,"ng-container",5),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275template(16,ui,3,3,"ng-container",5),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"button",23),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.clickCancel())}),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275pipe(20,"async"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(9);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,10,"License_Configuration")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",o),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!0!==e.\u0275\u0275pipeBind1(8,12,t.canSaveCapacity$)||e.\u0275\u0275pipeBind1(9,14,t.saveInProgress$))("ngClass",e.\u0275\u0275pureFunction1(32,gr,!0!==e.\u0275\u0275pipeBind1(10,16,t.canSaveCapacity$)||e.\u0275\u0275pipeBind1(11,18,t.saveInProgress$))),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(13,20,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(15,22,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0!==e.\u0275\u0275pipeBind1(17,24,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(19,26,t.saveInProgress$))("ngClass",e.\u0275\u0275pureFunction1(34,gr,e.\u0275\u0275pipeBind1(20,28,t.saveInProgress$))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(22,30,"Cancel_ButtonText"))}}function $o(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",33)(1,"span",34),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"Trident_Workspace_Settings_Copied_Connection")))}function Uo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",24)(2,"div",25)(3,"div",26),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",27),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",28)(10,"div",29),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.copyConnectionLink())})("mouseover",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.mouseOverCopy())})("mouseout",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.mouseOutCopy())}),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275element(14,"tri-svg-icon",31),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(15,$o,4,3,"div",32),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,7,"Connection_Link")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,9,"Connection_Link_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("triTooltip",t.connectionLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.connectionLink),e.\u0275\u0275advance(1),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(13,11,"Copy_Connection_Link_Label")),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.connectLinkCopyIconName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(16,13,t.isShowConnectLinkCopied$))}}function Vo(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",47),2&i){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(11);e.\u0275\u0275property("triTooltip",n)}}function jo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",53),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.selectLicenseMode(a,l.LicenseMode.TridentPremiumPerUser))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"span",54),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",36)(5,"span"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementStart(8,"tri-link",55),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.TridentPremiumPerUser)("value",t.LicenseMode.TridentPremiumPerUser)("disabled",!t.licenseModeEnabled(t.LicenseMode.TridentPremiumPerUser)||e.\u0275\u0275pipeBind1(1,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.TridentPremiumPerUser)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,9,"Workspace_LicenseMode_PPU_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,11,"LearnMore")," ")}}function _r(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",56),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.selectLicenseMode(a,l.LicenseMode.DataCapacity))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"span",57),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",36)(5,"span"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementStart(8,"tri-link",58),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.DataCapacity)("value",t.LicenseMode.DataCapacity)("disabled",!t.licenseModeEnabled(t.LicenseMode.DataCapacity)||e.\u0275\u0275pipeBind1(1,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.DataCapacity)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,9,"CapacityHeader_FabricCapacity_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,11,"LearnMore")," ")}}function mr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",59),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.selectLicenseMode(a,l.LicenseMode.DataCapacityTrial))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"span",60),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",36)(5,"span"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementStart(8,"tri-link",61),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.DataCapacityTrial)("value",t.LicenseMode.DataCapacityTrial)("disabled",!t.licenseModeEnabled(t.LicenseMode.DataCapacityTrial)||e.\u0275\u0275pipeBind1(1,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.DataCapacityTrial)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,9,"Workspace_LicenseMode_Trial_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,11,"LearnMore")," ")}}function Ko(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",67),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.text," ")}}function Ho(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",68),e.\u0275\u0275element(1,"tri-svg-icon",69),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Workspace_LicenseMode_Select")," "))}var Ra=function(r,n,t){return{data:r,key:n,text:t}};function Xo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",62)(1,"div",25)(2,"div",18),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",36),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div")(9,"tri-dropdown",63),e.\u0275\u0275listener("valueChange",function(h){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(b.selectCapacity(h))}),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementStart(11,"tri-dropdown-trigger")(12,"div",64),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(15,Ko,2,2,"tri-dropdown-item",65),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,Ho,4,3,"div",66),e.\u0275\u0275elementEnd()()}if(2&i){var a,l,t=e.\u0275\u0275nextContext(2),o=e.\u0275\u0275reference(15);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,9,"Trident_Workspace_Settings_License_Capacity")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,11,"Trident_Workspace_Settings_License_Capacity_Description")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",e.\u0275\u0275pureFunction3(19,Ra,t.selectedCapacity,null!==(a=null==t.selectedCapacity?null:t.selectedCapacity.id)&&void 0!==a?a:"",(null==t.selectedCapacity?null:t.selectedCapacity.name)+" - "+(null==t.selectedCapacity?null:t.selectedCapacity.region)))("isDisabled",!t.isWorkspaceAdmin||null!==(l=e.\u0275\u0275pipeBind1(10,13,t.saveInProgress$))&&void 0!==l&&l),e.\u0275\u0275advance(3),e.\u0275\u0275property("triTooltip",o)("triTooltipDisabled",!t.selectedCapacity),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedCapacity?t.selectedCapacity.name+" - "+t.selectedCapacity.region:e.\u0275\u0275pipeBind1(14,15,"Workspace_LicenseMode_Select")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(16,17,t.currentCapacitiesDropdownOptions$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.selectedCapacity)}}function gi(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",70),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("viewModel",n.getNoPermissionsToCapacityMessageBarViewModel())}}function Yo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",72)(1,"div",25)(2,"div",18),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",36),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementStart(8,"tri-link",73),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(11,"tri-radio-group")(12,"tri-radio-button",74),e.\u0275\u0275listener("change",function(m){e.\u0275\u0275restoreView(n);var h=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(h.selectDefaultStorageFormat(m,h.StorageFormat.SmallDataset))}),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementStart(14,"span",75),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"tri-radio-button",76),e.\u0275\u0275listener("change",function(m){e.\u0275\u0275restoreView(n);var h=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(h.selectDefaultStorageFormat(m,h.StorageFormat.LargeDataset))}),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275elementStart(20,"span",77),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var o,a,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,12,"GroupEditor_StorageFormat")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,14,"Workspace_LicenseMode_Edit_StorageFormat_Prompt")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,16,"LearnMore")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("checked",t.defaultStorageFormat===t.StorageFormat.SmallDataset)("value",t.StorageFormat.SmallDataset)("disabled",!t.isWorkspaceAdmin||null!==(o=e.\u0275\u0275pipeBind1(13,18,t.saveInProgress$))&&void 0!==o&&o),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(16,20,"GroupEditor_StorageFormat_Small")),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.defaultStorageFormat===t.StorageFormat.LargeDataset)("value",t.StorageFormat.LargeDataset)("disabled",!t.isWorkspaceAdmin||!0!==e.\u0275\u0275pipeBind1(18,22,t.allowLargeDataset$)||null!==(a=e.\u0275\u0275pipeBind1(19,24,t.saveInProgress$))&&void 0!==a&&a),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(22,26,"GroupEditor_StorageFormat_Large"))}}function Qo(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Yo,23,28,"div",71),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!n.selectedCapacity&&void 0!==e.\u0275\u0275pipeBind1(2,1,n.allowLargeDataset$))}}function vr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",35)(1,"div",25)(2,"div",18),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",36),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"tri-radio-group")(9,"tri-radio-button",37),e.\u0275\u0275listener("change",function(h){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(b.selectLicenseMode(h,b.LicenseMode.PowerBIPro))}),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementStart(11,"span",38),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,Vo,1,1,"tri-svg-icon",39),e.\u0275\u0275elementStart(14,"div",36)(15,"span"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementStart(18,"tri-link",40),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(21,jo,11,13,"tri-radio-button",41),e.\u0275\u0275elementStart(22,"tri-radio-button",42),e.\u0275\u0275listener("change",function(h){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(b.selectLicenseMode(h,b.LicenseMode.TridentPremiumPerCapacity))}),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275elementStart(24,"span",43),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",36)(27,"span"),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementStart(30,"tri-link",44),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(33,"tri-radio-button",45),e.\u0275\u0275listener("change",function(h){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(b.selectLicenseMode(h,b.LicenseMode.Embedded))}),e.\u0275\u0275pipe(34,"async"),e.\u0275\u0275elementStart(35,"span",46),e.\u0275\u0275text(36),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(37,"tri-svg-icon",47),e.\u0275\u0275elementStart(38,"div",36)(39,"span"),e.\u0275\u0275text(40),e.\u0275\u0275pipe(41,"localize"),e.\u0275\u0275elementStart(42,"tri-link",48),e.\u0275\u0275text(43),e.\u0275\u0275pipe(44,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(45,_r,11,13,"tri-radio-button",49),e.\u0275\u0275template(46,mr,11,13,"tri-radio-button",50),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(47,Xo,18,23,"div",51),e.\u0275\u0275pipe(48,"async"),e.\u0275\u0275template(49,gi,1,1,"tri-message-bar",52),e.\u0275\u0275template(50,Qo,3,3,"ng-container",5)}if(2&i){var l,t=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(13),a=e.\u0275\u0275reference(19);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,32,"Workspace_LicenseMode")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,34,"Workspace_LicenseMode_Select_Prompt")),e.\u0275\u0275advance(3),e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.PowerBIPro)("value",t.LicenseMode.PowerBIPro)("disabled",e.\u0275\u0275pipeBind1(10,36,t.saveInProgress$)||!t.isWorkspaceAdmin||t.isMyWorkspace&&t.restrictMyFolderCapacityEnabled),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.PowerBIPro)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isMyWorkspace),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(17,38,"Workspace_LicenseMode_Pro_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(20,40,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(t.flagTridentUIHidePPU||t.isMyWorkspace&&!t.isShowPPUForMyWorkspace)),e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.TridentPremiumPerCapacity)("value",t.LicenseMode.TridentPremiumPerCapacity)("disabled",!t.licenseModeEnabled(t.LicenseMode.TridentPremiumPerCapacity)||e.\u0275\u0275pipeBind1(23,42,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.TridentPremiumPerCapacity)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(29,44,"Workspace_LicenseMode_PPC_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(32,46,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.Embedded)("value",t.LicenseMode.Embedded)("disabled",!t.licenseModeEnabled(t.LicenseMode.Embedded)||e.\u0275\u0275pipeBind1(34,48,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.Embedded)),e.\u0275\u0275advance(1),e.\u0275\u0275property("triTooltip",o),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(41,50,"Workspace_LicenseMode_Embedded_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(44,52,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isShowDataCapacityLicense||t.licenseMode===t.LicenseMode.DataCapacity),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isShowDataCapacityTrialLicense||t.licenseMode===t.LicenseMode.DataCapacityTrial),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.licenseMode!==t.LicenseMode.TridentPremiumPerUser&&t.licenseMode!==t.LicenseMode.DataCapacityTrial&&null!==(l=null==(l=e.\u0275\u0275pipeBind1(48,54,t.currentCapacities$))?null:l.length)&&void 0!==l&&l)("ngIfElse",a),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==t.selectedCapacity?null:t.selectedCapacity.unavailableToUser),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isMyWorkspace)}}function hr(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",78),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"tri-link",79),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"Workspace_LicenseMode_Pro_Information")," \xa0 "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,5,"Generic_LearnMore")," "))}function Zo(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",78),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"tri-link",80),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"Workspace_LicenseMode_Embedded_Information")," \xa0 "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,5,"Generic_LearnMore")," "))}function Jo(i,r){if(1&i&&e.\u0275\u0275text(0),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1(" ",(null==n.selectedCapacity?null:n.selectedCapacity.name)+" - "+(null==n.selectedCapacity?null:n.selectedCapacity.region),"\n")}}function Fa(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",83),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==n.selectedCapacity?null:n.selectedCapacity.name)}}function qo(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",84),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.getCapacityRegionString(),"")}}function _i(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Fa,2,1,"div",81),e.\u0275\u0275template(2,qo,2,1,"div",82),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==n.selectedCapacity?null:n.selectedCapacity.name),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==n.selectedCapacity?null:n.selectedCapacity.sku)||(null==n.selectedCapacity?null:n.selectedCapacity.region))}}function ea(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function ta(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",86)(1,"div",18),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,ea,1,0,"ng-container",19),e.\u0275\u0275elementEnd()),2&i){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(17);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Workspace_Settings_License_Capacity")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",n)}}function na(i,r){if(1&i&&e.\u0275\u0275template(0,ta,5,4,"div",85),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",(null==n.selectedCapacity?null:n.selectedCapacity.name)||(null==n.selectedCapacity?null:n.selectedCapacity.sku)||(null==n.selectedCapacity?null:n.selectedCapacity.region))}}var mi,vi,hi,fi,Dn,Ci,Si,yi,bi,wi,ki,fr,Bn,Gn,Ii,Kt,zn,xi,Mi,Pi,An,ia=function(){function i(r,n,t,o,a,l){this.workspaceSettingsService=r,this.isTrident=n,this.clipboardWriteFunc=t,this.triLocalizationService=o,this.telemetryService=a,this.changeDetectorRef=l,this.updateResMsg$=(0,he.of)(""),this.licenseMode=ne.PowerBIPro,this.previousLicenseMode="",this.currentCapacities$=new F.X([]),this.defaultStorageFormat=Wt.SmallDataset,this.capacitiesMapByLicenseMode={},this.allowLargeDataset$=new F.X(void 0),this.configurationContent$=new F.X(_t.EditConfiguration),this.flagTridentUIHidePPU=!1,this.isShowPPUForMyWorkspace=this.workspaceSettingsService.showPPUForMyWorkspace,this.isShowDataCapacityLicense=this.workspaceSettingsService.showDCCapacityOptions()&&!!this.isTrident,this.isShowDataCapacityTrialLicense=this.workspaceSettingsService.getShowDataCapacityTrialEnabled()&&!!this.isTrident,this.restrictMyFolderCapacityEnabled=!1,this.LicenseMode=ne,this.StorageFormat=Wt,this.ConfigurationContentType=_t,this.connectionLink="",this.isShowConnectLinkCopied$=new F.X(!1),this.connectLinkCopyIconName="copy_20_regular",this.destroy$=new st.xQ}return Object.defineProperty(i.prototype,"isShowConnectionLink",{get:function(){return!this.isMyWorkspace&&this.licenseMode!==ne.PowerBIPro},enumerable:!1,configurable:!0}),i.prototype.ngOnInit=function(){var r=this;this.capacitiesMapByLicenseMode=this.createCapacitiesMapByLicenseMode(),this.setInitialLicenseMode(),this.currentCapacitiesDropdownOptions$=this.currentCapacities$.pipe((0,re.U)(function(n){return n.map(function(t){return{data:t,key:t.id,text:t.name+" - "+t.region}})})),this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.isMyWorkspace=this.workspaceSettingsService.isMyWorkspace,this.saveInProgress$=this.workspaceSettingsService.capacitySaveInProgress$,this.canSaveCapacity$=this.workspaceSettingsService.canSaveCapacitySelection$,this.restrictMyFolderCapacityEnabled=this.workspaceSettingsService.getFeatureSwitchState("restrictMyFolderCapacityEnabled"),this.connectionLink=this.workspaceSettingsService.workspaceConnectionString,(0,Ve.aj)([this.updateResMsg$.pipe((0,ar.O)("")),this.saveInProgress$]).pipe((0,Re.R)(this.destroy$)).subscribe(function(n){n[1]||(n[0]?(r.resetConfiguration(),r.configurationContent$.next(_t.EditConfiguration)):r.configurationContent$.next(_t.ShowConfiguration))}),this.isShowConnectLinkCopied$.pipe((0,be.h)(function(n){return!!n}),(0,dr.g)(6e3)).subscribe(function(){return r.isShowConnectLinkCopied$.next(!1)})},i.prototype.ngOnDestroy=function(){var n,r=this;this.workspaceSettingsService.clearAllErrorMessages(),null===(n=this.saveInProgress$)||void 0===n||n.pipe((0,ve.q)(1)).subscribe(function(t){t||r.workspaceSettingsService.resetCapacitySelection()}),this.destroy$.next(),this.destroy$.complete()},i.prototype.editConfiguration=function(){this.configurationContent$.next(_t.EditConfiguration)},i.prototype.selectLicenseMode=function(r,n){r&&(this.previousLicenseMode=this.licenseMode,this.licenseMode=n,this.currentCapacities$.next(this.capacitiesMapByLicenseMode[this.licenseMode]),this.licenseMode===ne.TridentPremiumPerUser||this.licenseMode===ne.DataCapacityTrial?(this.selectedCapacity=this.capacitiesMapByLicenseMode[this.licenseMode][0],this.updateWithPremiumFilesAvailablity()):(this.selectedCapacity=void 0,void 0===this.workspaceSettingsService.selectedCapacity&&this.workspaceSettingsService.disableCanSaveCapacitySelection()),this.workspaceSettingsService.selectedCapacity=this.selectedCapacity,this.licenseMode===ne.PowerBIPro&&(this.defaultStorageFormat=Wt.SmallDataset,this.workspaceSettingsService.defaultStorageFormat=this.defaultStorageFormat))},i.prototype.selectCapacity=function(r){this.selectedCapacity=r.data,this.updateWithPremiumFilesAvailablity(),this.workspaceSettingsService.selectedCapacity=this.selectedCapacity},i.prototype.selectDefaultStorageFormat=function(r,n){r&&(this.defaultStorageFormat=n,this.workspaceSettingsService.defaultStorageFormat=this.defaultStorageFormat)},i.prototype.clickSelectLicense=function(){var r="";(this.previousLicenseMode===ne.PowerBIPro&&(this.licenseMode===ne.TridentPremiumPerUser||this.licenseMode===ne.TridentPremiumPerCapacity)||this.previousLicenseMode===ne.TridentPremiumPerUser&&this.licenseMode===ne.TridentPremiumPerCapacity)&&(r="".concat((0,Jt.Z)(),".").concat((0,Jt.Z)()),this.telemetryService.logEvent("Upgrade license mode from ".concat(this.previousLicenseMode," to ").concat(this.licenseMode),{fromLicenseMode:this.previousLicenseMode,toLicenseMode:this.licenseMode},"Pending",(new Date).toISOString(),r)),this.workspaceSettingsService.saveCapacitySelection(r)},i.prototype.clickCancel=function(){this.resetConfiguration(),this.configurationContent$.next(_t.ShowConfiguration)},i.prototype.licenseModeEnabled=function(r){return r===ne.PowerBIPro||!(r===ne.TridentPremiumPerUser&&!this.workspaceSettingsService.isPPUTierAvialbleToUser())&&this.capacitiesMapByLicenseMode[r].length>0},i.prototype.getLicenseModeLocString=function(r){switch(r){case ne.PowerBIPro:return this.triLocalizationService.get("Trident_Workspace_Settings_License_Pro");case ne.TridentPremiumPerUser:return this.triLocalizationService.get("Workspace_LicenseMode_PPU");case ne.TridentPremiumPerCapacity:return this.triLocalizationService.get("Capacity_PremiumCapacity");case ne.Embedded:return this.triLocalizationService.get("Workspace_LicenseMode_Embedded");case ne.DataCapacity:return this.triLocalizationService.get("CapacityHeader_FabricCapacity");case ne.DataCapacityTrial:return this.triLocalizationService.get("CapacityHeader_TrialCapacity");case ne.Unknown:return this.triLocalizationService.get("Unknown")}},i.prototype.getCapacityRegionString=function(){var r,n,t,o;return null!==(r=this.selectedCapacity)&&void 0!==r&&r.sku&&null!==(n=this.selectedCapacity)&&void 0!==n&&n.region?this.triLocalizationService.format("CapacitySetting_SKU_And_Region",this.selectedCapacity.sku,this.selectedCapacity.region):null!==(t=this.selectedCapacity)&&void 0!==t&&t.sku?this.triLocalizationService.format("CapacitySetting_SKU",this.selectedCapacity.sku):null!==(o=this.selectedCapacity)&&void 0!==o&&o.region?this.triLocalizationService.format("CapacitySetting_Region",this.selectedCapacity.region):""},i.prototype.getNoPermissionsToCapacityMessageBarViewModel=function(){return{bannerType:0,isRoundedCorners:!0,allowDismiss:!1,message:this.triLocalizationService.get("Trident_Workspace_Settings_Capacity_No_Access")}},i.prototype.resetConfiguration=function(){this.workspaceSettingsService.resetCapacitySelection(),this.setInitialLicenseMode()},i.prototype.setInitialLicenseMode=function(){var n,r=this;this.selectedCapacity=this.workspaceSettingsService.selectedCapacity,this.selectedCapacity?this.selectedCapacity.unavailableToUser?this.licenseMode=null!=this.selectedCapacity.capacitySkuTier?En(this.selectedCapacity.capacitySkuTier):ne.Unknown:(this.licenseMode=En(this.selectedCapacity.capacitySkuTier),this.selectedCapacity=null===(n=this.capacitiesMapByLicenseMode[this.licenseMode])||void 0===n?void 0:n.find(function(t){var o;return t.id===(null===(o=r.selectedCapacity)||void 0===o?void 0:o.id)})):this.licenseMode=ne.PowerBIPro,this.currentCapacities$.next(this.capacitiesMapByLicenseMode[this.licenseMode]),this.updateWithPremiumFilesAvailablity()},i.prototype.createCapacitiesMapByLicenseMode=function(){var r,n=((r={})[ne.Unknown]=[],r[ne.PowerBIPro]=[],r[ne.TridentPremiumPerUser]=[],r[ne.TridentPremiumPerCapacity]=[],r[ne.Embedded]=[],r[ne.DataCapacity]=[],r[ne.DataCapacityTrial]=[],r);return this.workspaceSettingsService.allCapacities.forEach(function(t){var o=En(t.capacitySkuTier);o!==ne.PowerBIPro&&n[o].push(t)}),n},i.prototype.updateWithPremiumFilesAvailablity=function(){var r=this;this.selectedCapacity&&!this.selectedCapacity.unavailableToUser?this.workspaceSettingsService.checkPremiumFilesEnabled(this.selectedCapacity.id).then(function(n){r.allowLargeDataset$.next(n),r.defaultStorageFormat=r.workspaceSettingsService.defaultStorageFormat,r.changeDetectorRef.markForCheck()}):(this.defaultStorageFormat=this.workspaceSettingsService.defaultStorageFormat,this.allowLargeDataset$.next(!1),this.changeDetectorRef.markForCheck())},i.prototype.copyConnectionLink=function(){this.clipboardWriteFunc(this.connectionLink),this.isShowConnectLinkCopied$.next(!0)},i.prototype.mouseOverCopy=function(){this.connectLinkCopyIconName="copy_20_filled"},i.prototype.mouseOutCopy=function(){this.connectLinkCopyIconName="copy_20_regular"},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(tn.Y),e.\u0275\u0275directiveInject(Ro),e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(Vt),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-premium-configuration"]],inputs:{updateResMsg$:"updateResMsg$"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:20,vars:6,consts:[[1,"configuration-container","tri-flex","tri-flex-row"],[1,"anchor-icon"],["name","premium_20_regular"],[3,"ngSwitch"],["class","container-right-part tri-flex-auto",4,"ngSwitchCase"],[4,"ngIf"],["editConfigurationContent",""],["myWorkspaceProInfoTip",""],["embeddedInfoTip",""],["selectedCapacityString",""],["staticLicenseCapacityContent",""],["staticLicenseCapacity",""],[1,"container-right-part","tri-flex-auto"],[1,"summary-title","title","tri-body1"],["tri-button","","appearance","subtle","size","small",3,"click"],["name","edit_20_regular"],[1,"content"],[1,"grey-text","tri-caption2"],[1,"tri-body1-strong"],[4,"ngTemplateOutlet"],[1,"title","tri-body1-strong"],[1,"footer"],["tri-button","","appearance","primary",3,"disabled","ngClass","click"],["tri-button","",3,"disabled","ngClass","click"],[1,"tri-relative","connection-link"],[1,"section-title"],[1,"tri-subtitle2"],[1,"tri-body1"],[1,"connection-container","tri-flex"],["disabled","",1,"connection-string","tri-body1","tri-flex-grow",3,"triTooltip"],["tri-button","","appearance","subtle",1,"copy-connection-button",3,"click","mouseover","mouseout"],[1,"copy-connection-icon",3,"name"],["class","link-copied-tip","role","alert",4,"ngIf"],["role","alert",1,"link-copied-tip"],[1,"connection-copied-message"],[1,"license-radio-group"],[1,"tri-caption1"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-pro",3,"checked","value","disabled","change"],["id","workspace-license-mode-pro",1,"tri-body1-strong"],["name","info_20_regular","class","tooltip-info-button","tabindex","-1",3,"triTooltip",4,"ngIf"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227278","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-premium-per-user",3,"checked","value","disabled","change",4,"ngIf"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-premium-per-capacity",3,"checked","value","disabled","change"],["id","workspace-license-mode-premium-per-capacity",1,"tri-body1-strong"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227277","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-embedded",3,"checked","value","disabled","change"],["id","workspace-license-mode-embedded",1,"tri-body1-strong"],["name","info_20_regular","tabindex","-1",1,"tooltip-info-button",3,"triTooltip"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227525","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity",3,"checked","value","disabled","change",4,"ngIf"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity-trial",3,"checked","value","disabled","change",4,"ngIf"],["class","license-capacity-group",4,"ngIf","ngIfElse"],[3,"viewModel",4,"ngIf"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-premium-per-user",3,"checked","value","disabled","change"],["id","workspace-license-mode-premium-per-user",1,"tri-body1-strong"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227449","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity",3,"checked","value","disabled","change"],["id","workspace-license-mode-data-capacity",1,"tri-body1-strong"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227397","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity-trial",3,"checked","value","disabled","change"],["id","workspace-license-mode-data-capacity-trial",1,"tri-body1-strong"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227617","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],[1,"license-capacity-group"],[3,"value","isDisabled","valueChange"],[1,"tri-body1",3,"triTooltip","triTooltipDisabled"],[3,"value",4,"ngFor","ngForOf"],["class","tri-flex error-message-container",4,"ngIf"],[3,"value"],[1,"tri-flex","error-message-container"],["name","error_circle_12_filled",1,"error-message-icon"],[3,"viewModel"],["class","default-storage-format",4,"ngIf"],[1,"default-storage-format"],["target","_blank","href","https://docs.microsoft.com/en-us/power-bi/enterprise/service-premium-large-models#enable-large-models","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","defaultStorageFormat","type","radio","aria-labelledby","workspace-default-storage-small-dataset",3,"checked","value","disabled","change"],["id","workspace-default-storage-small-dataset",1,"tri-body1"],["name","defaultStorageFormat","type","radio","aria-labelledby","workspace-default-storage-large-dataset",3,"checked","value","disabled","change"],["id","workspace-default-storage-large-dataset",1,"tri-body1"],[1,"info-tip-content"],["href","https://go.microsoft.com/fwlink/?linkid=2218869","target","_blank","rel","noopener noreferrer",3,"external"],["href","https://go.microsoft.com/fwlink/?linkid=2159726","target","_blank","rel","noopener noreferrer",3,"external"],["class","tri-caption1-strong",4,"ngIf"],["class","tri-caption1 grey-text",4,"ngIf"],[1,"tri-caption1-strong"],[1,"tri-caption1","grey-text"],["class","section-title  no-margin-section-title",4,"ngIf"],[1,"section-title","no-margin-section-title"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"tri-svg-icon",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerStart(3,3),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,Wo,18,12,"div",4),e.\u0275\u0275template(6,No,23,36,"div",4),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,Uo,17,15,"ng-container",5),e.\u0275\u0275template(8,vr,51,56,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(10,hr,6,7,"ng-template",null,7,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(12,Zo,6,7,"ng-template",null,8,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(14,Jo,1,1,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(16,_i,3,2,"ng-template",null,10,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(18,na,1,1,"ng-template",null,11,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("ngSwitch",e.\u0275\u0275pipeBind1(4,4,t.configurationContent$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitchCase",t.ConfigurationContentType.ShowConfiguration),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ConfigurationContentType.EditConfiguration),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isShowConnectionLink))},dependencies:[g.NgIf,g.NgFor,g.NgClass,g.NgSwitch,g.NgSwitchCase,g.NgTemplateOutlet,g.AsyncPipe,T.Y,w.Y,N.d,je.D,de.I,et.h,x.lK,Mt.M3,jt.l,qt.q,Mt.ii,we.W,E.Y,B.Z,V.T6,P.M,f.w,xt.Z,se.m,O.v],styles:["[_nghost-%COMP%]   .license-radio-group[_ngcontent-%COMP%]     .tri-radio-button-internal section{align-items:start}[_nghost-%COMP%]   .license-radio-group[_ngcontent-%COMP%]     .tri-radio-button-internal section tri-link>a{display:inline-flex}[_nghost-%COMP%]   .license-radio-group[_ngcontent-%COMP%]     .tri-radio-button-internal section tri-link>a tri-svg-icon{width:16px}[_nghost-%COMP%]   .license-radio-group[_ngcontent-%COMP%]     .tri-radio-button-internal section .tooltip-info-button{height:12px;width:12px;fill:var(--colorNeutralForeground3);margin-left:8px;margin-bottom:4px}[_nghost-%COMP%]   .no-margin-section-title[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   .default-storage-format[_ngcontent-%COMP%]     .tri-radio-button-internal section{padding:6px,8px}[_nghost-%COMP%]   tri-dropdown[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .license-edit-prompt[_ngcontent-%COMP%]{margin-top:4px}[_nghost-%COMP%]   .grey-text[_ngcontent-%COMP%]{color:var(--colorNeutralForeground4)}[_nghost-%COMP%]   .connection-link[_ngcontent-%COMP%]{margin-top:32px}[_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]{border:1px solid var(--colorNeutralStroke1);box-sizing:border-box;border-radius:4px;height:32px;align-items:center;padding:0 12px}[_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]   .connection-string[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:hover   .copy-connection-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:focus   .copy-connection-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:active   .copy-connection-icon[_ngcontent-%COMP%]{fill:var(--colorBrandForeground1)}[_nghost-%COMP%]   .link-copied-tip[_ngcontent-%COMP%]{position:absolute;right:0;box-shadow:0 4px 8px 0 var(--globalColorBlackAlpha10);padding:6px 12px}[_nghost-%COMP%]   .link-copied-tip[_ngcontent-%COMP%]   .connection-copied-message[_ngcontent-%COMP%]{white-space:pre-wrap}"],changeDetection:0}),i}(),zt=function(i){return i.Pending="Pending",i.Approved="Approved",i.Rejected="Rejected",i.Disconnected="Disconnected",i}({}),Pt=function(i){return i.Provisioning="Provisioning",i.Updating="Updating",i.Succeeded="Succeeded",i.Deleting="Deleting",i.Failed="Failed",i}({}),sn=function(i){return i.Name="Name",i.ProvisioningState="ProvisioningState",i.ApprovalState="ApprovalState",i}({}),ra=((mi={}).AzureDatasource_CognitiveServices="account",mi),Cr=((vi={}).AzureDatasource_AzureDatabaseForMariaDB="mariadbServer",vi),oa=((hi={}).AzureDatasource_AzureDatabaseForMySQL="mysqlServer",hi),aa=((fi={}).AzureDatasource_AzureDatabaseForPostgreSQL="postgresqlServer",fi),Ti=((Dn={}).AzureDatasource_AzureCosmosDBForMongoDB="MongoDB",Dn.AzureDatasource_AzureCosmosDBForNoSQL="Sql",Dn),Oi=((Ci={}).AzureDatasource_AzureMonitorPrivateLinkScopes="azuremonitor",Ci),Sr=((Si={}).AzureDatasource_AzureKeyVault="vault",Si),yr=((yi={}).AzureDatasource_AzureDataExplorer_Kusto="kusto",yi),sa=((bi={}).AzureDatasource_AzureMachineLearning="amlworkspace",bi),br=((wi={}).AzureDatasource_ApplicationGateway="appGwPublicFrontendIpIPv4",wi),ca=((ki={}).AzureDatasource_PrivateLinkService="privateLinkServices",ki),la=((fr={}).AzureDatasource_MicrosoftPurview="account",fr),wr=((Bn={}).AzureDatasource_AzureSearch="searchService",Bn),Ei=((Gn={}).SqlAzureDbContentProvider_Title="sqlServer",Gn),Di=((Ii={}).AzureDatasource_AzureSqlDatabase_ManagedInstance="managedInstance",Ii),kr=((Kt={}).SettingsDataSource_SettingsDataSourceType_AzureBlob="blob",Kt.SettingsDataSource_SettingsDataSourceType_AzureDataLakeStorage="dfs",Kt.AzureDatasource_AzureFileStorage="file",Kt.AzureDatasource_AzureQueueStorage="queue",Kt.SettingsDataSource_SettingsDataSourceType_AzureTable="table",Kt.AzureDatasource_StaticWebsite="web",Kt),Ir=((zn={}).AzureDatasource_AzureSynapseAnalytics_SQL="sql",zn.AzureDatasource_AzureSynapseAnalytics_Dev="dev",zn.AzureDatasource_AzureSynapseAnalytics_SqlOnDemand="sqlOnDemand",zn),da=((xi={}).AzureDatasource_AzureFunction="sites",xi),xr=((Mi={}).AzureDatasource_AzureDatabricks="databricks_ui_api",Mi),Mr=((Pi={}).TridentStreaming_IoTHub="iotHub",Pi),Pr=((An={}).AzureDatasource_EventHub="namespace",An);function Tr(i,r){switch(i.toLowerCase()){case"Microsoft.CognitiveServices".toLowerCase():return ra;case"Microsoft.Databricks".toLowerCase():return xr;case"Microsoft.DBforMariaDB".toLowerCase():return Cr;case"Microsoft.DBforMySQL".toLowerCase():return oa;case"Microsoft.DBforPostgreSQL".toLowerCase():return aa;case"Microsoft.DocumentDB".toLowerCase():return Ti;case"Microsoft.Insights".toLowerCase():return Oi;case"Microsoft.KeyVault".toLowerCase():return Sr;case"Microsoft.Kusto".toLowerCase():return yr;case"Microsoft.MachineLearningServices".toLowerCase():return sa;case"Microsoft.Network".toLowerCase():if(r.toLowerCase()==="applicationGateways".toLowerCase())return br;if(r.toLowerCase()==="privateLinkServices".toLowerCase())return ca;break;case"Microsoft.Purview".toLowerCase():return la;case"Microsoft.Search".toLowerCase():return wr;case"Microsoft.Sql".toLowerCase():if(r.toLowerCase()==="managedInstances".toLowerCase())return Di;if(r.toLowerCase()==="servers".toLowerCase())return Ei;break;case"Microsoft.Storage".toLowerCase():return kr;case"Microsoft.Synapse".toLowerCase():return Ir;case"Microsoft.Web".toLowerCase():return da;case"Microsoft.EventHub".toLowerCase():return Pr;case"Microsoft.Devices".toLowerCase():return Mr;default:return null}return null}var Or=new RegExp("/subscriptions/(?<subscriptionId>[^/]+)/resourceGroups/(?<resourceGroupName>[^/]+)/providers/(?<provider>[^/]+)/(?<resourceType>[^/]+)/(?<resourceName>[^/]+)","i");function pa(i){switch(i){case"ManagedVNet_PrivateEndpointNotFound":case"ManagedVNet_InvalidPrivateEndpointName":case"ManagedVNet_InvalidPrivateEndpointResourceID":case"ManagedVNet_DuplicatePrivateEndpointName":case"ManagedVNet_DuplicatePrivateEndpointResourceID":case"ManagedVNet_WorkspaceOperationAlreadyInProgress":case"ManagedVNet_UnsupportedRegion":case"ManagedVNet_UnsupportedSku":case"ManagedVNet_WorkspaceLockInternalError":case"ManagedVNet_InvalidRequestMessage":case"ManagedVNet_NonCompliant":case"ManagedVNet_IncorrectType":return!0;default:return!1}}function Bi(i){return"PowerBICapacityFoldersMigrationVNetMigrationNotAllowedException"===i}function Er(i){return"PowerBICapacityFoldersMigrationVNetMigrationNotAllowedException"===i?"https://go.microsoft.com/fwlink/?linkid=2257669":""}function ua(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",2),e.\u0275\u0275elementContainerEnd())}function Wa(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.dismissMessageBar())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getMessageBarViewModel(e.\u0275\u0275pipeBind1(1,1,t.messageBarModel$)))}}function La(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",4)(2,"div",5),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",6),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div"),e.\u0275\u0275element(9,"tri-workspace-settings-premium-configuration",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,3,"License_Info")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,5,"Premium_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("updateResMsg$",n.updateResMsg$)}}var Et,Gi=function(){function i(r,n){this.workspaceSettingsService=r,this.triLocalizationService=n,this.updateResMsg$=(0,he.of)(""),this.messageBarModel$=new F.X(void 0),this.destroy$=new st.xQ}return i.prototype.ngOnInit=function(){var r=this;this.initialized$=this.workspaceSettingsService.capacitiesInitialized$,this.updateResMsg$=(0,Sn.T)(this.workspaceSettingsService.capacityUpdateErrorMessage$.pipe((0,be.h)(function(n){return!!n})),this.workspaceSettingsService.capacityUpdateSuccess$.pipe((0,be.h)(function(n){return!!n}),(0,re.U)(function(){return""}))),(0,Ve.aj)([this.updateResMsg$,this.workspaceSettingsService.capacitySaveInProgress$]).pipe((0,Re.R)(this.destroy$),(0,be.h)(function(n){return!n[1]}),(0,re.U)(function(n){var t=n[0];return t?{id:(0,Jt.Z)(),bannerType:1,message:t}:{id:(0,Jt.Z)(),bannerType:3,message:r.triLocalizationService.get("Sharing_EditDashboardUsersSuccess")}})).subscribe(function(n){r.messageBarModel$.next(n)})},i.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},i.prototype.dismissMessageBar=function(){this.messageBarModel$.next(void 0)},i.prototype.getMessageBarViewModel=function(r){if(r){var o=r.message,a={id:r.id,bannerType:r.bannerType,allowDismiss:!0,isRoundedCorners:!0,message:o};if(o&&Bi(o)){var l=Er(o),m=this.triLocalizationService.get("Workspace_PrivateEndpointsErrorMessage_".concat(o));l&&(a.link=l,a.linkDisplayName=this.triLocalizationService.get("LearnMore")),a.message=m}return a}},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(ye.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-premium-v2"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:6,vars:9,consts:[[4,"ngIf"],[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar"],[1,"tab-title"],[1,"tri-title3"],[1,"tri-body1"],[3,"updateResMsg$"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,ua,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,Wa,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,La,10,7,"ng-container",0),e.\u0275\u0275pipe(5,"async")),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,3,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,5,t.messageBarModel$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,7,t.initialized$)))},dependencies:[ia,T.Y,w.Y,N.d,je.D,de.I,et.h,se.m,g.NgIf,g.AsyncPipe],encapsulation:2,changeDetection:0}),i}(),Dr=function(){function i(){}return i.forRoot=function(r){return{ngModule:i,providers:[{provide:Ne.X,useExisting:r.workspaceSettingsService}]}},i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule,Qt.AP,p.u5.withConfig({callSetDisabledState:"whenDisabledForLegacyCode"}),V.T6,T.Y,X.l,ce.wp,C.uw,N.d,de.I,we.W,Se.B,me.Jy,f.w,x.lK,ae.b,Pe.F,Fr.OT,Ie,j,se.m,gn,J.t,_n,rr,on,lr,Gi,Jn]}),i}(),Rn=function(i){return i.Origin="Origin",i.Strict="Strict",i}({}),Na=((Et={}).Image=bt.UpdateImage,Et.Name=bt.UpdateName,Et.Description=bt.UpdateDescription,Et.ContactList=bt.UpdateContracts,Et.OneDrive=bt.UpdateOneDrive,Et.AllowContributorApp="",Et.AllowWebModeling="",Et.DomainObjectId="",Et.DatasourceBindingSecurityMode="",Et),ga=v(41198),Br=["imageFileInput"];function _a(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",5),e.\u0275\u0275elementContainerEnd())}function Gr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",7),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var h=e.\u0275\u0275nextContext().index,b=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(b.dismissError(h))}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(),o=t.$implicit,a=t.index,l=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",l.getErrorMessageBarViewModel(o,a))}}function zr(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Gr,1,1,"tri-message-bar",6),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var a,n=r.$implicit,t=r.index,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1===(null==(a=e.\u0275\u0275pipeBind1(2,1,o.apiErrorsDismissedIndices$))?null:a[t])&&n)}}function ma(i,r){if(1&i&&(e.\u0275\u0275element(0,"img",31),e.\u0275\u0275pipe(1,"async")),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("src",e.\u0275\u0275pipeBind1(1,2,n.workspaceImgSrc$),e.\u0275\u0275sanitizeUrl),e.\u0275\u0275attribute("data-testid","workspace-settings-about-logo-img")}}function va(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",32),2&i&&e.\u0275\u0275attribute("data-testid","workspace-settings-about-logo-default")}function ha(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",33),e.\u0275\u0275element(2,"tri-spinner"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275attribute("data-testid","workspace-settings-about-logo-img-loading"))}function $a(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",34),e.\u0275\u0275element(1,"tri-svg-icon",35),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,n.imageFileError$)," ")}}function Ua(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",36)}function Va(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",37),e.\u0275\u0275element(1,"tri-svg-icon",35),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"NotAvailable_PleaseEdit_Text")," "))}function s(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",37),e.\u0275\u0275element(1,"tri-svg-icon",35),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Validation_Empty")," "))}function c(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",36)}function d(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"trident-domains-dropdown",38),e.\u0275\u0275listener("domainSelected",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onDomainSelected(a))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("selectedDomainObjectId",t.getSelectedDomain())("shouldBeDisabled",e.\u0275\u0275pipeBind1(1,3,t.autoSaveInProgress.DomainObjectId)||!t.isWorkspaceAdmin)("showSpinner",!!e.\u0275\u0275pipeBind1(2,5,t.autoSaveInProgress.DomainObjectId))}}function u(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function k(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",36)}function M(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function A(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",36)}var R=function(r){return{"no-image":r}},G=function(r){return{$implicit:r}};function L(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"label",8),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",9)(5,"div",10),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275template(7,ma,2,4,"img",11),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275template(9,va,1,1,"tri-svg-icon",12),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275template(11,ha,3,1,"ng-container",0),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",13)(14,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onUploadClick())}),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275element(17,"tri-svg-icon",15),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onResetImage())}),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275element(25,"tri-svg-icon",16),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(28,$a,4,3,"div",17),e.\u0275\u0275pipe(29,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"div",18)(31,"label",19),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"div",20)(35,"input",21),e.\u0275\u0275listener("blur",function(z){e.\u0275\u0275restoreView(n);var Q=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(Q.onNameUpdated(z))})("keyup",function(z){e.\u0275\u0275restoreView(n);var Q=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(Q.validateName(z))}),e.\u0275\u0275pipe(36,"async"),e.\u0275\u0275pipe(37,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(38,Ua,1,0,"tri-spinner",22),e.\u0275\u0275pipe(39,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(40,Va,4,3,"div",23),e.\u0275\u0275pipe(41,"async"),e.\u0275\u0275template(42,s,4,3,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"div",18)(44,"label",24),e.\u0275\u0275text(45),e.\u0275\u0275pipe(46,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"div",20)(48,"textarea",25),e.\u0275\u0275listener("blur",function(z){e.\u0275\u0275restoreView(n);var Q=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(Q.onDescriptionUpdated(z))}),e.\u0275\u0275pipe(49,"async"),e.\u0275\u0275pipe(50,"localize"),e.\u0275\u0275pipe(51,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(52,c,1,0,"tri-spinner",22),e.\u0275\u0275pipe(53,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(54,d,3,7,"trident-domains-dropdown",26),e.\u0275\u0275elementStart(55,"div",27)(56,"label",28),e.\u0275\u0275text(57),e.\u0275\u0275pipe(58,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(59,"div",20),e.\u0275\u0275template(60,u,1,0,"ng-container",29),e.\u0275\u0275template(61,k,1,0,"tri-spinner",22),e.\u0275\u0275pipe(62,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(63,"div",27)(64,"label",30),e.\u0275\u0275text(65),e.\u0275\u0275pipe(66,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(67,"div",20),e.\u0275\u0275template(68,M,1,0,"ng-container",29),e.\u0275\u0275template(69,A,1,0,"tri-spinner",22),e.\u0275\u0275pipe(70,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var a,l,m,h,t=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(9);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,40,"WorkspaceImage")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(96,R,!(null!=(a=e.\u0275\u0275pipeBind1(6,42,t.workspaceImgSrc$))&&a.length))),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(8,44,t.workspaceImgSrc$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(null!=(l=e.\u0275\u0275pipeBind1(10,46,t.workspaceImgSrc$))&&l.length)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(12,48,t.autoSaveInProgress.Image)),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("is-disabled",e.\u0275\u0275pipeBind1(15,50,t.autoSaveInProgress.Image)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(16,52,t.autoSaveInProgress.Image)||!t.isWorkspaceAdmin),e.\u0275\u0275attribute("data-testid","workspace-settings-about-upload-btn"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(19,54,"Upload")," "),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("is-disabled",!(null!=(m=e.\u0275\u0275pipeBind1(21,56,t.workspaceImgSrc$))&&m.length)||e.\u0275\u0275pipeBind1(22,58,t.autoSaveInProgress.Image)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",!(null!=(h=e.\u0275\u0275pipeBind1(23,60,t.workspaceImgSrc$))&&h.length)||e.\u0275\u0275pipeBind1(24,62,t.autoSaveInProgress.Image)||!t.isWorkspaceAdmin),e.\u0275\u0275attribute("data-testid","workspace-settings-about-reset-btn"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(27,64,"Reset")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(29,66,t.imageFileError$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(33,68,"Name")),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("has-error",e.\u0275\u0275pipeBind1(36,70,t.nameExists$)||!t.workspaceName),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(37,72,t.autoSaveInProgress.Name)||!t.isWorkspaceAdmin)("value",t.workspaceName),e.\u0275\u0275attribute("data-testid","workspace-settings-about-name-input"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(39,74,t.autoSaveInProgress.Name)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(41,76,t.nameExists$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.workspaceName),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(46,78,"Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",t.description)("disabled",e.\u0275\u0275pipeBind1(49,80,t.autoSaveInProgress.Description)||!t.isWorkspaceAdmin)("placeholder",e.\u0275\u0275pipeBind1(50,82,"DescribeThisWorkspace")+" "+e.\u0275\u0275pipeBind1(51,84,"Optional_Parenthesis")),e.\u0275\u0275attribute("data-testid","workspace-settings-about-description-input"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(53,86,t.autoSaveInProgress.Description)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isDomainsEnabled),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(58,88,"ContactList")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",t.userPicker||o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(98,G,t.contactListContext)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(62,90,t.autoSaveInProgress.ContactList)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(66,92,"WorkspaceSharePoint")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",t.userPicker||o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(100,G,t.oneDriveContext)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(70,94,t.autoSaveInProgress.OneDrive))}}var U=function(){return[]};function K(i,r){if(1&i&&e.\u0275\u0275element(0,"input",39),2&i){var t,n=r.$implicit;e.\u0275\u0275property("placeholder",null==n?null:n.inputPlaceholder)("value",(null!==(t=null==n?null:n.identities)&&void 0!==t?t:e.\u0275\u0275pureFunction0(2,U)).join(";"))}}var Fe=function(){function i(r,n,t,o){var a=this;this.workspaceSettingsService=r,this.triLocalizationService=n,this.telemetryService=t,this.isTrident=o,this.destroy$=new st.xQ,this.initialized$=this.workspaceSettingsService.folderSettingsInitialized$,this.workspaceImgSrc$=new F.X(""),this.workspaceName="",this.description="",this.contactListContext=void 0,this.oneDriveContext=void 0,this.imageFileError$=new F.X(""),this.autoSaveInProgress=this.workspaceSettingsService.autoSaveInProgress,this.isWorkspaceAdmin=!1,this.isDomainsEnabled=!1,this.nameExists$=this.workspaceSettingsService.nameExists$,this.apiErrors$=(0,Ve.aj)([this.workspaceSettingsService.workspaceInitializationErrorMessage$,this.workspaceSettingsService.nameValidationErrorMessage$,this.workspaceSettingsService.autoSaveErrorMessage$]).pipe((0,re.U)(function(l){var h=l[1],b=l[2],z=[];return z.push(l[0]||""),z.push(h||""),z.push(b||""),z.length?z:void 0})),this.apiErrorsDismissedIndices$=new F.X([!1,!1,!1]),this.subscriptionsToDispose=[],this.imageFileInput=null,this.onContactListUpdated=function(l){a.contactListContext&&(a.contactListContext=(0,W.__assign)((0,W.__assign)({},a.contactListContext),{identities:(0,W.__spreadArray)([],l,!0)}),a.workspaceSettingsService.contactList=a.contactListContext.identities,a.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Update workspace contacts",featureName:"Fabric Workspace Settings"}),a.logTelemetryEvent("Update workspace contacts"))},this.onOneDriveUpdated=function(l){a.oneDriveContext&&(a.oneDriveContext=(0,W.__assign)((0,W.__assign)({},a.oneDriveContext),{identities:(0,W.__spreadArray)([],l,!0)}),a.workspaceSettingsService.workspaceOneDrive=a.oneDriveContext.identities[0],a.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Update OneDrive",featureName:"Fabric Workspace Settings"}),a.logTelemetryEvent("Update OneDrive"))},this.initialized$.subscribe(function(l){l&&(a.workspaceImgSrc$.next(a.workspaceSettingsService.imageSrc),a.workspaceName=a.workspaceSettingsService.workspaceName,a.description=a.workspaceSettingsService.description,a.isWorkspaceAdmin=a.workspaceSettingsService.isWorkspaceAdmin,a.contactListContext={identities:a.workspaceSettingsService.contactList,onIdentitiesUpdated:a.onContactListUpdated,allowEmailEnabledSecurityGroups:!0,allowObjectIds:!0,allowDistributionLists:!0,allowUnifiedGroups:!0,checkValidOrgUser:!0,includeGuests:!0,showRelevantUsers:!1,inputPlaceholder:a.workspaceSettingsService.contactList.length>0?"":a.triLocalizationService.get("EmailsList_UsersAndGroupsPlaceholder"),inputAriaLabelledBy:"workspace-contact-list-setting-label",disabled:!a.isWorkspaceAdmin},a.oneDriveContext={identities:a.workspaceSettingsService.workspaceOneDrive?[a.workspaceSettingsService.workspaceOneDrive]:[],onIdentitiesUpdated:a.onOneDriveUpdated,allowSecurityGroups:!1,allowObjectIds:!0,allowDistributionLists:!1,allowUnifiedGroups:!0,blockUsers:!0,checkValidOrgUser:!0,maxSelectableUsers:1,showRelevantUsers:!1,inputPlaceholder:a.workspaceSettingsService.workspaceOneDrive?"":a.triLocalizationService.get("Optional_Parenthesis"),inputAriaLabelledBy:"workspace-onedrive-setting-label",disabled:!a.isWorkspaceAdmin},a.subscriptionsToDispose.push(a.autoSaveInProgress.ContactList.subscribe(function(h){a.contactListContext.disabled=!!h||!a.isWorkspaceAdmin})),a.subscriptionsToDispose.push(a.autoSaveInProgress.OneDrive.subscribe(function(h){a.oneDriveContext.disabled=!!h||!a.isWorkspaceAdmin})),a.isDomainsEnabled=!!a.isTrident,a.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Detail settings",featureName:"Fabric Workspace Settings",activityAttributes:{name:"Load Workspace settings - end"}}))})}return i.prototype.onUploadClick=function(){var r,n;null===(n=null===(r=this.imageFileInput)||void 0===r?void 0:r.nativeElement)||void 0===n||n.click()},i.prototype.onResetImage=function(){var r;!(null===(r=this.imageFileInput)||void 0===r)&&r.nativeElement&&(this.imageFileInput.nativeElement.value=""),this.workspaceImgSrc$.next(""),this.workspaceSettingsService.imageSrc=""},i.prototype.onNameUpdated=function(r){this.workspaceName=r.target.value,this.workspaceSettingsService.workspaceName=this.workspaceName,this.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Workspace rename",featureName:"Fabric Workspace Settings"}),this.logTelemetryEvent("Workspace rename")},i.prototype.validateName=function(r){var n=this,t=r.target.value;this.validateNameTimeoutId&&clearTimeout(this.validateNameTimeoutId),this.validateNameTimeoutId=setTimeout(function(){n.workspaceSettingsService.validateFolderName(t)},600)},i.prototype.onDescriptionUpdated=function(r){this.description=r.target.value,this.workspaceSettingsService.description=this.description,this.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Update description",featureName:"Fabric Workspace Settings"}),this.logTelemetryEvent("Update description")},i.prototype.onDomainSelected=function(r){this.workspaceSettingsService.domainObjectId=r?.domainObjectId;var n="".concat("Domains",",").concat("Domains Direct MAU",",").concat("Domains WS Management");this.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Update domain association",featureName:n,activityAttributes:{source:"WS settings",isSubDomain:!!r?.isSubDomain}}),this.logTelemetryEvent("Update domain association")},i.prototype.getSelectedDomain=function(){return this.workspaceSettingsService.domainObjectId},i.prototype.onImageUploaded=function(){var n,t,r=this;this.imageFileError$.next("");var o=null===(t=null===(n=this.imageFileInput)||void 0===n?void 0:n.nativeElement)||void 0===t?void 0:t.files;if(o&&1===o.length){var a=o[0];if(a.size>46080)this.imageFileError$.next(this.triLocalizationService.format("Publish_ImageSizeValidationError",this.triLocalizationService.get("File_Size_KB_45")));else{var l=a.name.split(".").reverse()[0];if(["jpeg","jpg","png"].some(function(h){return l.toLowerCase()===h}))try{var m=new FileReader;m.addEventListener("load",function(h){var b,z,Q=null===(b=h.target)||void 0===b?void 0:b.result;Q&&(r.workspaceImgSrc$.next(Q.toString()),r.workspaceSettingsService.imageSrc=Q.toString(),null!==(z=r.imageFileInput)&&void 0!==z&&z.nativeElement&&(r.imageFileInput.nativeElement.value=""),r.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Update workspace image",featureName:"Fabric Workspace Settings"}),r.logTelemetryEvent("Update workspace image"))}),m.readAsDataURL(a)}catch(h){this.imageFileError$.next(this.triLocalizationService.get("Trident_Workspace_Settings_File_Read_Error"))}else this.imageFileError$.next(this.triLocalizationService.get("Trident_Workspace_Settings_Image_File_Extension_Error"))}}else this.imageFileError$.next(this.triLocalizationService.get("Trident_Workspace_Settings_One_Image_File_Only"))},i.prototype.dismissError=function(r){var n=(0,W.__spreadArray)([],this.apiErrorsDismissedIndices$.value,!0);n[r]=!0,this.apiErrorsDismissedIndices$.next(n)},i.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},i.prototype.getErrorMessageBarViewModel=function(r,n){var t=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return t.dismissError(n)},message:r}},i.prototype.logTelemetryEvent=function(r){this.telemetryService.logEvent({name:"Updating workspace settings - auto save",properties:{activityName:r,featureName:"Fabric Workspace Settings",workspaceObjectId:this.workspaceSettingsService.workspaceObjectId}})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(Tt.t),e.\u0275\u0275directiveInject(tn.Y))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-about"]],viewQuery:function(n,t){var o;(1&n&&e.\u0275\u0275viewQuery(Br,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(t.imageFileInput=o.first))},inputs:{userPicker:"userPicker"},decls:10,vars:9,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["hidden","","type","file","accept",".jpeg,.jpg,.png",1,"tri-hidden",3,"change"],["imageFileInput",""],["inputUserPicker",""],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar",4,"ngIf"],[3,"viewModel","hideMessageBar"],["id","workspace-image-label"],[1,"workspace-image-setting-container","tri-flex"],[1,"workspace-image","tri-flex","tri-justify-center","tri-items-center","tri-relative",3,"ngClass"],["class","valid-workspace-image","alt","Workspace image",3,"src",4,"ngIf"],["tri-svg-icon-32","","class","no-workspace-image","name","image_32_regular",4,"ngIf"],[1,"workspace-image-buttons","tri-flex","tri-flex-col"],["tri-button","","appearance","subtle","size","small",3,"disabled","click"],["name","arrow_upload_20_regular"],["name","arrow_undo_20_regular"],["class","image-error-message error-message-container tri-flex","role","alert",4,"ngIf"],[1,"about-input-container","tri-flex","tri-flex-col"],["id","workspace-name-setting-label"],[1,"tri-flex"],["aria-labelledby","workspace-name-setting-label","data-testid","workspace-name-setting-input",1,"about-settings-input","tri-flex-grow",3,"disabled","value","blur","keyup"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],["class","tri-flex error-message-container",4,"ngIf"],["id","workspace-description-setting-label"],["aria-labelledby","workspace-description-setting-label","data-testid","workspace-description-setting-input","maxlength","4000","rows","3",1,"about-settings-textarea","tri-flex-grow",3,"value","disabled","placeholder","blur"],[3,"selectedDomainObjectId","shouldBeDisabled","showSpinner","domainSelected",4,"ngIf"],[1,"about-input-container","tri-flex","tri-flex-col","tri-relative"],["id","workspace-contact-list-setting-label"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","workspace-onedrive-setting-label"],["alt","Workspace image",1,"valid-workspace-image",3,"src"],["tri-svg-icon-32","","name","image_32_regular",1,"no-workspace-image"],[1,"image-autosave-spinner","tri-flex"],["role","alert",1,"image-error-message","error-message-container","tri-flex"],["name","error_circle_12_filled",1,"error-message-icon"],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],[1,"tri-flex","error-message-container"],[3,"selectedDomainObjectId","shouldBeDisabled","showSpinner","domainSelected"],["aria-labelledby","workspace-contact-list-setting-label",1,"tri-flex-grow","contact-list",3,"placeholder","value"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,_a,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,zr,3,3,"ng-container",1),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,L,71,102,"ng-container",0),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementStart(6,"input",2,3),e.\u0275\u0275listener("change",function(){return t.onImageUploaded()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,K,1,3,"ng-template",null,4,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,3,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(3,5,t.apiErrors$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,7,t.initialized$)))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,g.NgTemplateOutlet,Qi,P.M,je.D,et.h,g.AsyncPipe,w.Y],styles:["[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:14px;line-height:20px}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size);line-height:18px;margin-bottom:4px}[_nghost-%COMP%]   label#workspace-image-label[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   .error-message-banner-container[_ngcontent-%COMP%]{margin-bottom:16px}[_nghost-%COMP%]   trident-domains-dropdown[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image[_ngcontent-%COMP%]{height:56px;width:56px;max-width:56px}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image.no-image[_ngcontent-%COMP%]{background-color:var(--colorNeutralBackground6);color:var(--colorNeutralForeground3);fill:var(--colorNeutralForeground3);border-radius:50%}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image[_ngcontent-%COMP%]   .valid-workspace-image[_ngcontent-%COMP%]{height:56px;width:56px;border-radius:50%}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image[_ngcontent-%COMP%]   .no-workspace-image[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground3)}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image-buttons[_ngcontent-%COMP%]{margin-left:8px;justify-content:center;gap:4px}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image-buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .image-error-message[_ngcontent-%COMP%]{color:var(--colorPaletteRedForeground1)}[_nghost-%COMP%]   .settings-seperator[_ngcontent-%COMP%]{margin-top:26px;border-top:1px solid var(--colorNeutralStroke1);margin-bottom:10px}[_nghost-%COMP%]   .about-input-container[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .about-input-container[_ngcontent-%COMP%]     .mat-form-field.emails-list{border-radius:4px;outline:none;border:1px solid var(--colorNeutralStroke1)}[_nghost-%COMP%]   .about-input-container[_ngcontent-%COMP%]     emails-list-modern{flex-grow:1}[_nghost-%COMP%]   .about-input-container[_ngcontent-%COMP%]     input, [_nghost-%COMP%]   .about-input-container[_ngcontent-%COMP%]     .chip-list{padding:6px 10px}[_nghost-%COMP%]   .about-settings-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .about-settings-textarea[_ngcontent-%COMP%]{resize:none;font-size:14px;font-family:var(--fontFamilyBase);line-height:20px;padding:5px 12px;box-sizing:border-box;border-radius:4px;outline:none;border:1px solid var(--colorNeutralStroke1)}[_nghost-%COMP%]   .about-settings-input[_ngcontent-%COMP%]:not([disabled]), [_nghost-%COMP%]   .about-settings-textarea[_ngcontent-%COMP%]:not([disabled]){border-bottom:1px solid var(--globalColorGrey38)}[_nghost-%COMP%]   .about-settings-input[_ngcontent-%COMP%]:not([disabled]):focus-visible, [_nghost-%COMP%]   .about-settings-textarea[_ngcontent-%COMP%]:not([disabled]):focus-visible{border-bottom:2px solid var(--globalColorBrand80)}[_nghost-%COMP%]   .about-settings-input[disabled][_ngcontent-%COMP%], [_nghost-%COMP%]   .about-settings-textarea[disabled][_ngcontent-%COMP%]{border:1px solid var(--colorNeutralStroke2)}[_nghost-%COMP%]   .about-settings-input.has-error[_ngcontent-%COMP%], [_nghost-%COMP%]   .about-settings-textarea.has-error[_ngcontent-%COMP%]{border:1px solid var(--colorPaletteRedForeground1)}[_nghost-%COMP%]   .inline-autosave-spinner[_ngcontent-%COMP%]{margin-left:16px}[_nghost-%COMP%]   .image-autosave-spinner[_ngcontent-%COMP%]{background-color:var(--globalColorWhiteAlpha80);height:100%;width:100%;border-radius:50%;position:absolute}[_nghost-%COMP%]   .image-autosave-spinner[_ngcontent-%COMP%]   tri-spinner[_ngcontent-%COMP%]{margin:auto}[_nghost-%COMP%]   .disabled-field-overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}"],changeDetection:0}),i}(),zi=v(33846);function cs(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275projection(1),e.\u0275\u0275elementContainerEnd())}function ls(i,r){1&i&&e.\u0275\u0275projection(0,1)}var ds=[[["tri-collapsible-collapsed-content"]],"*"],ja=function(r){return{disabled:r}},ps=["tri-collapsible-collapsed-content","*"],Ar=function(){function i(){this.headerText="",this.collapsed=!1,this.iconName="",this.iconSprite="",this.disabled=!1,this.collapseContainer=new e.EventEmitter}return i.prototype.onCollapseToggle=function(){this.collapsed=!this.collapsed,this.collapseContainer.emit(this.collapsed)},i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-collapsed-container"]],inputs:{headerText:"headerText",collapsed:"collapsed",iconName:"iconName",iconSprite:"iconSprite",disabled:"disabled"},outputs:{collapseContainer:"collapseContainer"},ngContentSelectors:ps,decls:11,vars:22,consts:[[1,"collapsible-picker-box",3,"ngClass"],[1,"box-header","tri-flex",3,"click"],[1,"box-icon",3,"ngClass","name","sprite"],[1,"header-text"],["tri-icon-button","","appearance","subtle",1,"expand-collapse-button",3,"disabled"],[3,"name"],[4,"ngIf","ngIfElse"],["notCollapsed",""]],template:function(n,t){if(1&n&&(e.\u0275\u0275projectionDef(ds),e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275listener("click",function(){return t.onCollapseToggle()}),e.\u0275\u0275element(2,"tri-svg-icon",2),e.\u0275\u0275elementStart(3,"span",3),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",4),e.\u0275\u0275pipe(6,"localizeFormat"),e.\u0275\u0275element(7,"tri-svg-icon",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(8,cs,2,0,"ng-container",6),e.\u0275\u0275template(9,ls,1,0,"ng-template",null,7,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(10);e.\u0275\u0275styleProp("pointer-events",t.disabled?"none":"initial"),e.\u0275\u0275classProp("is-collapsed",!!t.collapsed),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(18,ja,t.disabled)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(20,ja,t.disabled))("name",t.iconName)("sprite",t.iconSprite),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.headerText,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",t.disabled),e.\u0275\u0275attribute("aria-expanded",!t.collapsed)("aria-label",e.\u0275\u0275pipeBind2(6,15,t.collapsed?"ClickToExpandFormat":"ClickToCollapseFormat",t.headerText)),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.collapsed?"chevron_down_20_regular":"chevron_up_20_regular"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.collapsed)("ngIfElse",o)}},dependencies:[g.NgClass,g.NgIf,P.M,w.A],styles:[".collapsible-picker-box[_ngcontent-%COMP%]{padding:12px;border:1px solid var(--globalColorGrey82);border-radius:8px}.collapsible-picker-box.disabled[_ngcontent-%COMP%]{border-color:var(--colorNeutralStrokeDisabled);color:var(--colorNeutralForegroundDisabled);cursor:not-allowed}.collapsible-picker-box.disabled[_ngcontent-%COMP%]:focus, .collapsible-picker-box.disabled[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:active, .collapsible-picker-box.disabled[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:var(--colorNeutralForegroundDisabled)}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]{height:20px;display:flex;justify-content:space-between}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .box-icon.disabled[_ngcontent-%COMP%]{fill:var(--colorNeutralForegroundDisabled)}html:not([dir=rtl])[_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], html:not([dir=rtl])   [_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{margin-left:8px;margin-right:8px}html[dir=rtl][_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{margin-left:8px;margin-right:8px}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{display:flex}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:disabled{background:transparent!important}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:disabled   tri-svg-icon[_ngcontent-%COMP%]{background-color:var(--globalColorWhiteAlpha40)!important;fill:var(--colorNeutralForegroundDisabled)!important}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .expand-collapse-button[_ngcontent-%COMP%]{height:20px;width:20px}html:not([dir=rtl])[_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .expand-collapse-button[_ngcontent-%COMP%], html:not([dir=rtl])   [_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .expand-collapse-button[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}html[dir=rtl][_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .expand-collapse-button[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .expand-collapse-button[_ngcontent-%COMP%]{margin-left:0;margin-right:auto}"],changeDetection:0}),i}();function us(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",5),e.\u0275\u0275elementContainerEnd())}function gs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",6),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.apiError$))&&void 0!==o?o:""))}}function _s(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",6),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.dismissSuccess())}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getSuccessMessageBarViewModel())}}function ms(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",10),2&i){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(13);e.\u0275\u0275property("triTooltip",n)}}function vs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-radio-button",31),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onLicenseModeSelected(a,l.LicenseMode.TridentPremiumPerUser))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"span",32),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",14)(7,"span"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementStart(10,"tri-link",33),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.TridentPremiumPerUser)("value",t.LicenseMode.TridentPremiumPerUser)("disabled",!t.licenseModeEnabled(t.LicenseMode.TridentPremiumPerUser)||e.\u0275\u0275pipeBind1(2,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,9,"Workspace_LicenseMode_PPU")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(9,11,"Workspace_LicenseMode_PPU_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,13,"LearnMore")," ")}}function hs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",34),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onLicenseModeSelected(a,l.LicenseMode.DataCapacity))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"span",35),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",14)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementStart(9,"tri-link",36),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.DataCapacity)("value",t.LicenseMode.DataCapacity)("disabled",!t.licenseModeEnabled(t.LicenseMode.DataCapacity)||e.\u0275\u0275pipeBind1(1,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,9,"CapacityHeader_FabricCapacity")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(8,11,"CapacityHeader_FabricCapacity_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,13,"LearnMore")," ")}}function fs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",37),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onLicenseModeSelected(a,l.LicenseMode.DataCapacityTrial))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"span",38),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",14)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementStart(9,"tri-link",39),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.DataCapacityTrial)("value",t.LicenseMode.DataCapacityTrial)("disabled",!t.licenseModeEnabled(t.LicenseMode.DataCapacityTrial)||e.\u0275\u0275pipeBind1(1,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,9,"CapacityHeader_TrialCapacity")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(8,11,"Workspace_LicenseMode_Trial_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,13,"LearnMore")," ")}}function Cs(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"mat-option",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" ",n.name," - ",n.region," ")}}function Ss(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",46),e.\u0275\u0275element(1,"tri-svg-icon",47),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Workspace_LicenseMode_Select")," "))}function ys(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"label",40),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerStart(4),e.\u0275\u0275elementStart(5,"mat-form-field",41)(6,"mat-select",42),e.\u0275\u0275listener("ngModelChange",function(l){e.\u0275\u0275restoreView(n);var m=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(m.selectedCapacity=l)})("selectionChange",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onSelectedCapacityChange())}),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,Cs,2,3,"mat-option",43),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275template(10,Ss,4,3,"div",44),e.\u0275\u0275elementContainerEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,7,"Trident_Workspace_Settings_License_Capacity")),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("has-error",!t.selectedCapacity),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",t.selectedCapacity)("disabled",!t.isWorkspaceAdmin||null!==(o=e.\u0275\u0275pipeBind1(7,9,t.saveInProgress$))&&void 0!==o&&o),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(9,11,t.currentCapacities$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.selectedCapacity)}}function bs(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",50),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.selectedCapacity.name)}}function ws(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",51),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.capacityRegionString)}}function ks(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"label",40),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,bs,2,1,"div",48),e.\u0275\u0275template(5,ws,2,1,"div",49),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"Trident_Workspace_Settings_License_Capacity")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.selectedCapacity.name),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.capacityRegionString)}}function Is(i,r){if(1&i&&(e.\u0275\u0275template(0,ks,6,5,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngIf",n.selectedCapacity&&e.\u0275\u0275pipeBind1(1,1,n.showWorkspaceSettingsV2$))}}function xs(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",52),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("viewModel",n.getNoPermissionsToCapacityMessageBarViewModel())}}function Ms(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-group")(1,"label",53),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"tri-radio-button",54),e.\u0275\u0275listener("change",function(m){e.\u0275\u0275restoreView(n);var h=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(h.onDefaultStorageFormatSelected(m,h.StorageFormat.SmallDataset))}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementStart(6,"label",55),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"tri-radio-button",56),e.\u0275\u0275listener("change",function(m){e.\u0275\u0275restoreView(n);var h=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(h.onDefaultStorageFormatSelected(m,h.StorageFormat.LargeDataset))}),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275elementStart(12,"label",57),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"tri-link",58),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()()}if(2&i){var o,a,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,11,"GroupEditor_StorageFormat")),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.defaultStorageFormat===t.StorageFormat.SmallDataset)("value",t.StorageFormat.SmallDataset)("disabled",!t.isWorkspaceAdmin||null!==(o=e.\u0275\u0275pipeBind1(5,13,t.saveInProgress$))&&void 0!==o&&o),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,15,"GroupEditor_StorageFormat_Small")),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.defaultStorageFormat===t.StorageFormat.LargeDataset)("value",t.StorageFormat.LargeDataset)("disabled",!t.isWorkspaceAdmin||!0!==e.\u0275\u0275pipeBind1(10,17,t.allowLargeDataset$)||null!==(a=e.\u0275\u0275pipeBind1(11,19,t.saveInProgress$))&&void 0!==a&&a),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,21,"GroupEditor_StorageFormat_Large")),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(17,23,"GroupEditor_StorageFormat_LearnMore")," ")}}function Ps(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",8),e.\u0275\u0275template(2,Ms,18,25,"tri-radio-group",0),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!!n.selectedCapacity&&void 0!==e.\u0275\u0275pipeBind1(3,1,n.allowLargeDataset$))}}function Ts(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function Os(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Applying")))}function Es(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Apply")))}function Ds(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",65)(2,"span",66),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Trident_Workspace_Settings_Copied_Connection")))}function Bs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",59)(2,"label",60),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",61)(6,"div",62),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",63),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.copyConnectionToClipboard())})("mouseover",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.mouseOverCopy())})("mouseout",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.mouseOutCopy())}),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275element(10,"tri-svg-icon",64),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,Ds,5,3,"div",0),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,6,"WorkspaceConnection")),e.\u0275\u0275advance(3),e.\u0275\u0275property("triTooltip",t.workspaceConnectionString),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.workspaceConnectionString),e.\u0275\u0275advance(1),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(9,8,"CopyVisualImage_Copy")),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.copyIconName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(12,10,t.showCopied$))}}var Ka=function(r){return{"is-disabled":r}};function Gs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-collapsed-container",7),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"div",8)(4,"tri-radio-group")(5,"label",9),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"tri-svg-icon",10),e.\u0275\u0275elementStart(9,"tri-radio-button",11),e.\u0275\u0275listener("change",function(b){e.\u0275\u0275restoreView(n);var z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onLicenseModeSelected(b,z.LicenseMode.PowerBIPro))}),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementStart(11,"span",12),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,ms,1,1,"tri-svg-icon",13),e.\u0275\u0275elementStart(15,"div",14)(16,"span"),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementStart(19,"tri-link",15),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(22,vs,13,15,"ng-container",0),e.\u0275\u0275elementStart(23,"tri-radio-button",16),e.\u0275\u0275listener("change",function(b){e.\u0275\u0275restoreView(n);var z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onLicenseModeSelected(b,z.LicenseMode.TridentPremiumPerCapacity))}),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275elementStart(25,"span",17),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",14)(29,"span"),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"localize"),e.\u0275\u0275elementStart(32,"tri-link",18),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(35,"tri-radio-button",19),e.\u0275\u0275listener("change",function(b){e.\u0275\u0275restoreView(n);var z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onLicenseModeSelected(b,z.LicenseMode.Embedded))}),e.\u0275\u0275pipe(36,"async"),e.\u0275\u0275elementStart(37,"span",20),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(40,"tri-svg-icon",10),e.\u0275\u0275elementStart(41,"div",14)(42,"span"),e.\u0275\u0275text(43),e.\u0275\u0275pipe(44,"localize"),e.\u0275\u0275elementStart(45,"tri-link",21),e.\u0275\u0275text(46),e.\u0275\u0275pipe(47,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(48,hs,12,15,"tri-radio-button",22),e.\u0275\u0275template(49,fs,12,15,"tri-radio-button",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(50,"div",24),e.\u0275\u0275template(51,ys,11,13,"ng-container",25),e.\u0275\u0275pipe(52,"async"),e.\u0275\u0275template(53,Is,2,3,"ng-template",null,26,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(55,xs,1,1,"tri-message-bar",27),e.\u0275\u0275template(56,Ps,4,3,"ng-container",0),e.\u0275\u0275elementStart(57,"div",28)(58,"button",29),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(b.applyCapacity())}),e.\u0275\u0275pipe(59,"async"),e.\u0275\u0275pipe(60,"async"),e.\u0275\u0275pipe(61,"async"),e.\u0275\u0275pipe(62,"async"),e.\u0275\u0275template(63,Ts,1,0,"tri-spinner",0),e.\u0275\u0275pipe(64,"async"),e.\u0275\u0275template(65,Os,3,3,"ng-container",0),e.\u0275\u0275pipe(66,"async"),e.\u0275\u0275template(67,Es,3,3,"ng-container",0),e.\u0275\u0275pipe(68,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(69,"button",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(b.resetCapacity())}),e.\u0275\u0275pipe(70,"async"),e.\u0275\u0275pipe(71,"async"),e.\u0275\u0275pipe(72,"async"),e.\u0275\u0275text(73),e.\u0275\u0275pipe(74,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(75,Bs,13,12,"ng-container",0),e.\u0275\u0275elementContainerEnd()}if(2&i){var m,t=e.\u0275\u0275reference(54),o=e.\u0275\u0275nextContext(),a=e.\u0275\u0275reference(11),l=e.\u0275\u0275reference(15);e.\u0275\u0275advance(1),e.\u0275\u0275property("headerText",e.\u0275\u0275pipeBind1(2,42,"Trident_Workspace_Settings_Choose_License")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,44,"Workspace_LicenseMode")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",a),e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",o.licenseMode===o.LicenseMode.PowerBIPro)("value",o.LicenseMode.PowerBIPro)("disabled",e.\u0275\u0275pipeBind1(10,46,o.saveInProgress$)||!o.isWorkspaceAdmin||o.isMyWorkspace&&o.restrictMyFolderCapacityEnabled),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,48,"Trident_Workspace_Settings_License_Pro")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.isMyWorkspace),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(18,50,"Workspace_LicenseMode_Pro_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(21,52,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(o.flagTridentUIHidePPU||o.isMyWorkspace&&!o.showPPUForMyWorkspace)),e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",o.licenseMode===o.LicenseMode.TridentPremiumPerCapacity)("value",o.LicenseMode.TridentPremiumPerCapacity)("disabled",!o.licenseModeEnabled(o.LicenseMode.TridentPremiumPerCapacity)||e.\u0275\u0275pipeBind1(24,54,o.saveInProgress$)||!o.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(27,56,"Capacity_PremiumCapacity")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(31,58,"Workspace_LicenseMode_PPC_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(34,60,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",o.licenseMode===o.LicenseMode.Embedded)("value",o.LicenseMode.Embedded)("disabled",!o.licenseModeEnabled(o.LicenseMode.Embedded)||e.\u0275\u0275pipeBind1(36,62,o.saveInProgress$)||!o.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(39,64,"Workspace_LicenseMode_Embedded")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",l),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(44,66,"Workspace_LicenseMode_Embedded_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(47,68,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.showDCCapacityOptions()||o.licenseMode===o.LicenseMode.DataCapacity),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.getShowDataCapacityTrialEnabled()||o.licenseMode===o.LicenseMode.DataCapacityTrial),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.licenseMode!==o.LicenseMode.TridentPremiumPerUser&&o.licenseMode!==o.LicenseMode.DataCapacityTrial&&null!==(m=null==(m=e.\u0275\u0275pipeBind1(52,70,o.currentCapacities$))?null:m.length)&&void 0!==m&&m)("ngIfElse",t),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",null==o.selectedCapacity?null:o.selectedCapacity.unavailableToUser),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.isMyWorkspace),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!0!==e.\u0275\u0275pipeBind1(59,72,o.canSaveCapacity$)||e.\u0275\u0275pipeBind1(60,74,o.saveInProgress$))("ngClass",e.\u0275\u0275pureFunction1(94,Ka,!0!==e.\u0275\u0275pipeBind1(61,76,o.canSaveCapacity$)||e.\u0275\u0275pipeBind1(62,78,o.saveInProgress$))),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(64,80,o.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(66,82,o.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0!==e.\u0275\u0275pipeBind1(68,84,o.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!0!==e.\u0275\u0275pipeBind1(70,86,o.canSaveCapacity$)||e.\u0275\u0275pipeBind1(71,88,o.saveInProgress$))("ngClass",e.\u0275\u0275pureFunction1(96,Ka,!0!==e.\u0275\u0275pipeBind1(72,90,o.canSaveCapacity$))),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(74,92,"Cancel_ButtonText")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!o.isMyWorkspace&&o.licenseMode!==o.LicenseMode.PowerBIPro)}}function zs(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",67),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"tri-link",68),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"Workspace_LicenseMode_Tooltip")," \xa0 "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,5,"Workspace_LicenseMode_Tooltip_Link")," "))}function As(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",67),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"tri-link",69),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"Workspace_LicenseMode_Pro_Information")," \xa0 "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,5,"Generic_LearnMore")," "))}function Rs(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",67),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"tri-link",70),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"Workspace_LicenseMode_Embedded_Information")," \xa0 "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,5,"Generic_LearnMore")," "))}var Fs=function(){function i(r,n,t,o,a){var l=this;this.workspaceSettingsService=r,this.isTrident=n,this.featureSwitchService=t,this.triLocalizationService=o,this.telemetryService=a,this.initialized$=this.workspaceSettingsService.capacitiesInitialized$,this.licenseMode=ne.PowerBIPro,this.defaultStorageFormat=Wt.SmallDataset,this.selectedCapacity=void 0,this.isMyWorkspace=this.workspaceSettingsService.isMyWorkspace,this.showPPUForMyWorkspace=this.workspaceSettingsService.showPPUForMyWorkspace,this.restrictMyFolderCapacityEnabled=!1,this.previousLicenseMode="",this.currentCapacities$=new F.X([]),this.canSaveCapacity$=this.workspaceSettingsService.canSaveCapacitySelection$,this.apiError$=this.workspaceSettingsService.capacityUpdateErrorMessage$.pipe((0,re.U)(function(m){return l.errorDismissed$.next(!1),m})),this.apiSuccess$=this.workspaceSettingsService.capacityUpdateSuccess$.pipe((0,re.U)(function(m){return l.successDismissed$.next(!1),m})),this.errorDismissed$=new F.X(!1),this.successDismissed$=new F.X(!1),this.saveInProgress$=this.workspaceSettingsService.capacitySaveInProgress$,this.workspaceConnectionString="",this.showCopied$=new F.X(!1),this.allowLargeDataset$=new F.X(void 0),this.copyIconName="copy_20_regular",this.flagTridentUIHidePPU=!1,this.isWorkspaceAdmin=!1,this.LicenseMode=ne,this.StorageFormat=Wt,this.capacitiesMapByLicenseMode={},this.workspaceSettingsService.clearAllErrorMessages(),this.workspaceSettingsService.capacitiesInitialized$.subscribe(function(m){m&&(l.capacitiesMapByLicenseMode=l.createCapacitiesMapByLicenseMode(),l.setInitialLicenseMode(),l.workspaceConnectionString=l.workspaceSettingsService.workspaceConnectionString,l.isWorkspaceAdmin=l.workspaceSettingsService.isWorkspaceAdmin,l.restrictMyFolderCapacityEnabled=l.workspaceSettingsService.getFeatureSwitchState("restrictMyFolderCapacityEnabled"))}),this.workspaceSettingsService.selectedCapacity&&!this.workspaceSettingsService.selectedCapacity.unavailableToUser&&this.workspaceSettingsService.checkPremiumFilesEnabled(this.workspaceSettingsService.selectedCapacity.id).then(function(m){return l.allowLargeDataset$.next(m)}),this.apiError$.subscribe(function(m){l.errorDismissed$.next(!1),l.resetCapacity()}),this.apiSuccess$.subscribe(function(){l.successDismissed$.next(!1)}),this.showCopied$.pipe((0,be.h)(function(m){return!!m}),(0,dr.g)(6e3)).subscribe(function(){return l.showCopied$.next(!1)}),this.showWorkspaceSettingsV2$=this.featureSwitchService.featureSwitches$.pipe((0,be.h)(function(m){return!!m}),(0,ve.q)(1),(0,re.U)(function(m){return l.isTrident&&!!m.showWorkspaceSettingsV2}))}return Object.defineProperty(i.prototype,"capacityRegionString",{get:function(){var n,t,o;return null!==(n=this.selectedCapacity)&&void 0!==n&&n.sku&&this.selectedCapacity.region?this.triLocalizationService.format("CapacitySetting_SKU_And_Region",this.selectedCapacity.sku,this.selectedCapacity.region):null!==(t=this.selectedCapacity)&&void 0!==t&&t.sku?this.triLocalizationService.format("CapacitySetting_SKU",this.selectedCapacity.sku):null!==(o=this.selectedCapacity)&&void 0!==o&&o.region?this.triLocalizationService.format("CapacitySetting_Region",this.selectedCapacity.region):""},enumerable:!1,configurable:!0}),i.prototype.onLicenseModeSelected=function(r,n){r&&(this.previousLicenseMode=this.licenseMode,this.licenseMode=n,this.currentCapacities$.next(this.capacitiesMapByLicenseMode[this.licenseMode]),this.licenseMode===ne.TridentPremiumPerUser||this.licenseMode===ne.DataCapacityTrial?(this.selectedCapacity=this.capacitiesMapByLicenseMode[this.licenseMode][0],this.updateWithPremiumFilesAvailablity()):this.selectedCapacity=void 0,this.workspaceSettingsService.selectedCapacity=this.selectedCapacity,this.licenseMode===ne.PowerBIPro&&(this.defaultStorageFormat=Wt.SmallDataset,this.workspaceSettingsService.defaultStorageFormat=this.defaultStorageFormat))},i.prototype.applyCapacity=function(){var r="";if(this.previousLicenseMode===ne.PowerBIPro&&(this.licenseMode===ne.TridentPremiumPerUser||this.licenseMode===ne.TridentPremiumPerCapacity)||this.previousLicenseMode===ne.TridentPremiumPerUser&&this.licenseMode===ne.TridentPremiumPerCapacity){r="".concat((0,Jt.Z)(),".").concat((0,Jt.Z)());var n={originatingService:"DataCloudUX",activityName:"Upgrade license mode from ".concat(this.previousLicenseMode," to ").concat(this.licenseMode),featureName:"Fabric Workspace Settings",activityStatus:"Pending",activityAttributes:{fromLicenseMode:this.previousLicenseMode,toLicenseMode:this.licenseMode},operationEndTime:(new Date).toISOString(),correlationId:r};this.telemetryService.logStandardFeatureEvent(n)}this.workspaceSettingsService.saveCapacitySelection(r)},i.prototype.resetCapacity=function(){this.workspaceSettingsService.resetCapacitySelection(),this.setInitialLicenseMode()},i.prototype.onDefaultStorageFormatSelected=function(r,n){r&&(this.defaultStorageFormat=n,this.workspaceSettingsService.defaultStorageFormat=this.defaultStorageFormat)},i.prototype.copyConnectionToClipboard=function(){navigator.clipboard.writeText(this.workspaceConnectionString),this.showCopied$.next(!0)},i.prototype.licenseModeEnabled=function(r){return r===ne.PowerBIPro||!(r===ne.TridentPremiumPerUser&&!this.workspaceSettingsService.isPPUTierAvialbleToUser())&&this.capacitiesMapByLicenseMode[r].length>0},i.prototype.onSelectedCapacityChange=function(){this.updateWithPremiumFilesAvailablity(),this.workspaceSettingsService.selectedCapacity=this.selectedCapacity},i.prototype.mouseOverCopy=function(){this.copyIconName="copy_20_filled"},i.prototype.mouseOutCopy=function(){this.copyIconName="copy_20_regular"},i.prototype.dismissError=function(){this.errorDismissed$.next(!0)},i.prototype.dismissSuccess=function(){this.successDismissed$.next(!0)},i.prototype.getErrorMessageBarViewModel=function(r){var n=this,t={bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return n.dismissError()},message:r};if(Bi(r)){var o=Er(r),a=this.triLocalizationService.get("Workspace_PrivateEndpointsErrorMessage_".concat(r));o&&(t.link=o,t.linkDisplayName=this.triLocalizationService.get("LearnMore")),t.message=a}return t},i.prototype.getNoPermissionsToCapacityMessageBarViewModel=function(){return{bannerType:0,allowDismiss:!1,iconName:"info_20_regular",message:this.triLocalizationService.get("Trident_Workspace_Settings_Capacity_No_Access")}},i.prototype.getSuccessMessageBarViewModel=function(){return{bannerType:3,allowDismiss:!0,iconName:"info_20_regular",message:this.triLocalizationService.get("Sharing_EditDashboardUsersSuccess")}},i.prototype.setInitialLicenseMode=function(){var r=this;this.selectedCapacity=this.workspaceSettingsService.selectedCapacity,this.selectedCapacity?this.selectedCapacity.unavailableToUser?this.licenseMode=null!=this.selectedCapacity.capacitySkuTier?En(this.selectedCapacity.capacitySkuTier):ne.Unknown:(this.licenseMode=En(this.selectedCapacity.capacitySkuTier),this.selectedCapacity=this.capacitiesMapByLicenseMode[this.licenseMode].find(function(n){var t;return n.id===(null===(t=r.selectedCapacity)||void 0===t?void 0:t.id)})):this.licenseMode=ne.PowerBIPro,this.currentCapacities$.next(this.capacitiesMapByLicenseMode[this.licenseMode]),this.updateWithPremiumFilesAvailablity()},i.prototype.showDCCapacityOptions=function(){return this.workspaceSettingsService.showDCCapacityOptions()&&!!this.isTrident},i.prototype.getShowDataCapacityTrialEnabled=function(){return this.workspaceSettingsService.getShowDataCapacityTrialEnabled()&&!!this.isTrident},i.prototype.createCapacitiesMapByLicenseMode=function(){var r,n=((r={})[ne.Unknown]=[],r[ne.PowerBIPro]=[],r[ne.TridentPremiumPerUser]=[],r[ne.TridentPremiumPerCapacity]=[],r[ne.Embedded]=[],r[ne.DataCapacity]=[],r[ne.DataCapacityTrial]=[],r);return this.workspaceSettingsService.allCapacities.forEach(function(t){1===t.capacitySkuTier?n[ne.TridentPremiumPerCapacity].push(t):4===t.capacitySkuTier?n[ne.TridentPremiumPerUser].push(t):2===t.capacitySkuTier||3===t.capacitySkuTier?n[ne.Embedded].push(t):8===t.capacitySkuTier||9===t.capacitySkuTier?n[ne.DataCapacity].push(t):7===t.capacitySkuTier&&n[ne.DataCapacityTrial].push(t)}),n},i.prototype.updateWithPremiumFilesAvailablity=function(){var r=this;this.selectedCapacity&&!this.selectedCapacity.unavailableToUser?this.workspaceSettingsService.checkPremiumFilesEnabled(this.selectedCapacity.id).then(function(n){r.allowLargeDataset$.next(n),r.defaultStorageFormat=r.workspaceSettingsService.defaultStorageFormat}):(this.defaultStorageFormat=this.workspaceSettingsService.defaultStorageFormat,this.allowLargeDataset$.next(!1))},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(tn.Y),e.\u0275\u0275directiveInject(gt.V$),e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(Tt.t))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-premium"]],decls:16,vars:16,consts:[[4,"ngIf"],[3,"viewModel","hideMessageBar",4,"ngIf"],["licenseModeInfoTip",""],["myWorkspaceProInfoTip",""],["embeddedInfoTip",""],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar"],["iconName","premium_20_regular",3,"headerText"],[1,"premium-input-container"],["id","workspace-license-mode-setting-label"],["name","info_20_regular","tabindex","-1",1,"premium-info-tip-button",3,"triTooltip"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-pro",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-pro",1,"radio-label"],["name","info_20_regular","class","premium-info-tip-button","tabindex","-1",3,"triTooltip",4,"ngIf"],[1,"licensemode-description-info"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227278","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-premium-per-capacity",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-premium-per-capacity",1,"radio-label"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227277","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-embedded",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-embedded",1,"radio-label"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227525","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],["name","licenseMode","type","radio","class","radio-button-input","aria-labelledby","workspace-license-mode-data-capacity",3,"checked","value","disabled","change",4,"ngIf"],["name","licenseMode","type","radio","class","radio-button-input","aria-labelledby","workspace-license-mode-data-capacity-trial",3,"checked","value","disabled","change",4,"ngIf"],[1,"capacity-container"],[4,"ngIf","ngIfElse"],["staticLicenseCapacity",""],[3,"viewModel",4,"ngIf"],[1,"premium-footer-buttons","tri-flex"],["tri-button","","appearance","primary",1,"footer-button",3,"disabled","ngClass","click"],["tri-button","",1,"footer-button",3,"disabled","ngClass","click"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-premium-per-user",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-premium-per-user",1,"radio-label"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227449","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-data-capacity",1,"radio-label"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227397","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity-trial",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-data-capacity-trial",1,"radio-label"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227617","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],[1,"capacity-label"],[1,"capacity-select-field"],["disableRipple","","disableOptionCentering","",1,"capacity-select",3,"ngModel","disabled","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","tri-flex error-message-container",4,"ngIf"],[3,"value"],[1,"tri-flex","error-message-container"],["name","error_circle_12_filled",1,"error-message-icon"],["class","license-capacity-name tri-caption1Strong",4,"ngIf"],["class","license-capacity-region tri-caption1",4,"ngIf"],[1,"license-capacity-name","tri-caption1Strong"],[1,"license-capacity-region","tri-caption1"],[3,"viewModel"],["id","workspace-default-storage-format-label"],["name","defaultStorageFormat","type","radio","aria-labelledby","workspace-default-storage-small-dataset",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-default-storage-small-dataset",1,"radio-label"],["name","defaultStorageFormat","type","radio","aria-labelledby","workspace-default-storage-large-dataset",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-default-storage-large-dataset",1,"radio-label"],["target","_blank","rel","noopener noreferrer","href","https://docs.microsoft.com/en-us/power-bi/enterprise/service-premium-large-models#enable-large-models",3,"external"],[1,"premium-input-container","tri-flex","tri-flex-col","tri-relative"],["id","workspace-connection-setting-label"],[1,"workspace-connection-container","tri-flex"],["disabled","",1,"tri-flex-grow","connection-string",3,"triTooltip"],["tri-button","","appearance","subtle",1,"copy-connection-button",3,"click","mouseover","mouseout"],[1,"copy-connection-icon",3,"name"],["role","alert",1,"link-copied-tip"],[1,"workspace-connection-copied-message"],[1,"info-tip-content"],["href","https://go.microsoft.com/fwlink/?linkid=2159767","target","_blank","rel","noopener noreferrer",3,"external"],["href","https://go.microsoft.com/fwlink/?linkid=2218869","target","_blank","rel","noopener noreferrer",3,"external"],["href","https://go.microsoft.com/fwlink/?linkid=2159726","target","_blank","rel","noopener noreferrer",3,"external"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,us,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,gs,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,_s,1,1,"tri-message-bar",1),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,Gs,76,98,"ng-container",0),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275template(10,zs,6,7,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(12,As,6,7,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(14,Rs,6,7,"ng-template",null,4,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,4,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(3,6,t.errorDismissed$)&&e.\u0275\u0275pipeBind1(4,8,t.apiError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(6,10,t.successDismissed$)&&e.\u0275\u0275pipeBind1(7,12,t.apiSuccess$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(9,14,t.initialized$)))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,p.JJ,p.On,P.M,ce.v_,C.x8,zi.CK,je.D,et.h,E.Y,B.Z,xt.Z,Ar,O.v,g.AsyncPipe,w.Y],styles:["[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:14px;line-height:20px}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .radio-button-container[_ngcontent-%COMP%]{height:32px;box-sizing:border-box;padding:6px 0}[_nghost-%COMP%]   .radio-button-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]{height:20px;width:20px;margin-top:0}[_nghost-%COMP%]   .radio-button-container[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]{font-weight:400;margin-bottom:0;margin-left:9px;-webkit-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]     .tri-radio-button-internal section{align-items:start}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]     .tri-radio-button-internal section .tri-radio-button-text .radio-label{font-weight:600}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]     .tri-radio-button-internal section .tri-radio-button-text .licensemode-description-info{font-size:12px}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]     .tri-radio-button-internal section .tri-radio-button-text .licensemode-description-info tri-link>a{display:inline-flex}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]     .tri-radio-button-internal section .tri-radio-button-text .licensemode-description-info tri-link>a tri-svg-icon{width:16px}[_nghost-%COMP%]   .premium-footer-buttons[_ngcontent-%COMP%]{margin-top:28px}[_nghost-%COMP%]   .premium-footer-buttons[_ngcontent-%COMP%]   .footer-button[_ngcontent-%COMP%]{margin-right:8px}[_nghost-%COMP%]   .premium-info-tip-button[_ngcontent-%COMP%]{height:12px;width:12px;fill:var(--colorNeutralForeground3);margin-left:8px;margin-bottom:4px}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]{margin-top:24px}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:var(--fontFamilyBase);width:100%}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]   .capacity-select[_ngcontent-%COMP%]{font-family:var(--fontFamilyBase)}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]  .mat-form-field-underline{display:none}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]  .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]  .mat-form-field-infix{height:32px;border:1px solid var(--colorNeutralStroke1);border-radius:4px;box-sizing:border-box;padding:6px 12px}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]  .mat-form-field-infix .mat-form-field-label-wrapper{left:12px;width:calc(100% - 24px)}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field.has-error[_ngcontent-%COMP%]  .mat-form-field-infix{border:1px solid var(--globalColorBurgundyTint10)}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .license-capacity-name[_ngcontent-%COMP%]{color:var(--colorNeutralForeground1);margin-top:var(--spacingVerticalXS)}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .license-capacity-region[_ngcontent-%COMP%]{color:var(--colorNeutralForeground4)}[_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]{border:1px solid var(--colorNeutralStroke1);box-sizing:border-box;border-radius:4px;height:32px;align-items:center;padding:0 12px;background-color:var(--colorNeutralBackground4);color:var(--colorNeutralForeground1)}[_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{height:16px;width:16px}[_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]{padding:0;height:20px}[_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:hover   .copy-connection-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:focus   .copy-connection-icon[_ngcontent-%COMP%]{fill:var(--colorBrandForeground1)}[_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:active   .copy-connection-icon[_ngcontent-%COMP%]{fill:var(--colorBrandForeground1)}[_nghost-%COMP%]   .link-copied-tip[_ngcontent-%COMP%]{position:absolute;right:0;top:65px;box-shadow:0 4px 8px 0 var(--globalColorBlackAlpha10);padding:6px 12px}[_nghost-%COMP%]   .link-copied-tip[_ngcontent-%COMP%]   .workspace-connection-copied-message[_ngcontent-%COMP%]{white-space:pre-wrap}[_nghost-%COMP%]   .connection-string[_ngcontent-%COMP%]{height:24px;background-color:var(--colorNeutralBackground4);line-height:24px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   #workspace-license-mode-setting-label[_ngcontent-%COMP%], [_nghost-%COMP%]   #workspace-default-storage-format-label[_ngcontent-%COMP%], [_nghost-%COMP%]   #workspace-connection-setting-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .capacity-label[_ngcontent-%COMP%]{font-weight:600}"],changeDetection:0}),i}(),Ws=v(23558),Ls=v(24692),Ns=["storageTable"];function $s(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",25),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.deleteArtifactErrorMessage$))&&void 0!==o?o:""))}}function Us(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275element(1,"div",26),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind1(3,2,n.storageSizeUsedByOthersWithUnit$)," ",e.\u0275\u0275pipeBind1(4,4,"Trident_Workspace_Settings_Storage_Owned_By_Others")," ")}}function Vs(i,r){1&i&&e.\u0275\u0275element(0,"th",27)}function js(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",36),e.\u0275\u0275elementContainerEnd())}function Ks(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",37),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var h=e.\u0275\u0275nextContext(2).$implicit,b=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(b.deleteArtifact(h))})("keydown",function(h){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.onDeleteButtonKeyDown(h))}),e.\u0275\u0275pipe(1,"localizeFormat"),e.\u0275\u0275element(2,"tri-svg-icon",38),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2),o=t.index,a=t.$implicit,l=e.\u0275\u0275nextContext();e.\u0275\u0275property("tabIndex",l.focussedDeleteButtonIndex===o?0:-1),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(1,2,"Hierarchy_Format_Level_Delete",a.name))}}function Hs(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"td"),e.\u0275\u0275template(1,js,2,0,"ng-container",34),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Ks,3,5,"ng-template",null,35,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){var a,n=e.\u0275\u0275reference(4),t=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=e.\u0275\u0275pipeBind1(2,2,o.artifactDeleteInProgress$))?null:a[t.modelId])("ngIfElse",n)}}function Xs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tr",28),e.\u0275\u0275listener("keydown",function(m){e.\u0275\u0275restoreView(n);var h=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(h.onRowKeyDown(m))}),e.\u0275\u0275elementStart(2,"td",29),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td",30),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td",31),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"td",32),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,Hs,5,4,"td",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=r.$implicit,o=r.index,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("tabindex",a.focussedRowIndex===o?0:-1),e.\u0275\u0275advance(1),e.\u0275\u0275property("triTooltip",t.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.name," "),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("triTooltip","",t.sizeInMBs," MB"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.sizeInMBs," MB"),e.\u0275\u0275advance(1),e.\u0275\u0275property("triTooltip",t.typeText),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.typeText),e.\u0275\u0275advance(1),e.\u0275\u0275property("triTooltip",a.getRelatedObjects(t)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",a.getRelatedObjects(t),""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isWorkspaceAdmin)}}var Ha=function(r){return{width:r}},Ys=function(){function i(r,n,t,o){var a=this;this.workspaceSettingsService=r,this.datasetStore=n,this.localizationService=t,this.telemetryService=o,this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.focussedRowIndex=0,this.focussedDeleteButtonIndex=-1,this.totalStorageQuotaInMB$=new F.X(0),this.storageUsageArtifacts$=new F.X([]),this.storageUsedByIdentityInMB$=this.storageUsageArtifacts$.pipe((0,re.U)(function(l){return a.workspaceSettingsService.isPremium?0:l.reduce(function(m,h){return m+h.sizeInMBs},0)})),this.storageUsedByOthersInMB$=new F.X(0),this.totalStorageUsedInMB$=(0,Ve.aj)([this.storageUsedByIdentityInMB$,this.storageUsedByOthersInMB$]).pipe((0,re.U)(function(l){return a.workspaceSettingsService.isPremium?0:l[0]+l[1]})),this.totalStorageAvailableWithUnit$=(0,Ve.aj)([this.totalStorageQuotaInMB$,this.totalStorageUsedInMB$]).pipe((0,re.U)(function(l){return Rr(l[0]-l[1],a.localizationService)})),this.storageSizeUsedByIdentityWithUnit$=this.storageUsedByIdentityInMB$.pipe((0,re.U)(function(l){return Rr(l,a.localizationService)})),this.storageSizeUsedByOthersWithUnit$=this.storageUsedByOthersInMB$.pipe((0,re.U)(function(l){return Rr(l,a.localizationService)})),this.totalStorageQuoutaWithUnit$=this.totalStorageQuotaInMB$.pipe((0,re.U)(function(l){return Rr(l,a.localizationService)})),this.deleteArtifactErrorMessage$=this.workspaceSettingsService.deleteArtifactErrorMessage$.pipe((0,re.U)(function(l){return l?.message})),this.artifactDeleteInProgress$=this.workspaceSettingsService.artifactsBeingDeleted$.pipe((0,Ws.M)(this.storageUsageArtifacts$),(0,re.U)(function(l){var m=l[0],b={};return l[1].forEach(function(z){b[z.modelId]=!1}),m.forEach(function(z){b[z]=!0}),b})),this.errorDismissed$=new F.X(!1),this.zoneClicksRemoved=!1,this.datasetsSubscription=this.datasetStore.datasets.subscribe(function(){a.updateStorageInfo()})}return i.prototype.ngOnInit=function(){this.updateStorageInfo(),this.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Open system storage",featureName:"Fabric Workspace Settings"})},i.prototype.ngAfterViewChecked=function(){!this.zoneClicksRemoved&&this.storageUsageArtifacts$.value.length&&(this.removeZoneClickFromTableCells(),this.zoneClicksRemoved=!0)},i.prototype.ngOnDestroy=function(){var r;null===(r=this.datasetsSubscription)||void 0===r||r.unsubscribe()},i.prototype.getRelatedObjects=function(r){return(0,W.__spreadArray)((0,W.__spreadArray)([],r.reportsFromModel,!0),r.dashboardsFromModel,!0).map(function(n){return n.displayName}).join(", ")},i.prototype.deleteArtifact=function(r){var n=this;this.workspaceSettingsService.deleteArtifact(r.modelId,r.packageId,r.storageType).then(function(t){t&&(n.storageUsageArtifacts$.pipe((0,ve.q)(1)).subscribe(function(a){var l=a.findIndex(function(m){return m.modelId===r.modelId});l>=0&&n.storageUsageArtifacts$.next((0,W.__spreadArray)((0,W.__spreadArray)([],a.slice(0,l),!0),a.slice(l+1),!0))}),n.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Delete artifact",featureName:"Fabric Workspace Settings"}))})},i.prototype.dismissError=function(){this.errorDismissed$.next(!0)},i.prototype.getErrorMessageBarViewModel=function(r){var n=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return n.dismissError()},message:r}},i.prototype.onRowKeyDown=function(r){var n=-1,t=-1;switch(r.key){case"ArrowUp":-1==(n=this.focussedRowIndex-1)&&(n=this.storageUsageArtifacts$.value.length-1);break;case"ArrowDown":(n=this.focussedRowIndex+1)===this.storageUsageArtifacts$.value.length&&(n=0);break;case"ArrowLeft":case"ArrowRight":if(!this.isWorkspaceAdmin)return;t=this.focussedRowIndex,n=-1;break;default:return}this.focusOnNextItem(n,t)},i.prototype.onDeleteButtonKeyDown=function(r){var n=-1,t=-1;switch(r.key){case"ArrowUp":-1==(t=this.focussedDeleteButtonIndex-1)&&(t=this.storageUsageArtifacts$.value.length-1);break;case"ArrowDown":(t=this.focussedDeleteButtonIndex+1)===this.storageUsageArtifacts$.value.length&&(t=0);break;case"ArrowLeft":case"ArrowRight":n=this.focussedDeleteButtonIndex,t=-1;break;default:return}r.preventDefault(),r.stopImmediatePropagation(),this.focusOnNextItem(n,t)},i.prototype.focusOnNextItem=function(r,n){var t,o,a;if(this.focussedRowIndex=r,this.focussedDeleteButtonIndex=n,null!==(t=this.storageTable)&&void 0!==t&&t.nativeElement)if(-1!==r){var l=null===(o=this.storageTable.nativeElement.getElementsByClassName("storage-systems-artifact-row"))||void 0===o?void 0:o.item(r);l?.focus(),l?.scrollIntoView()}else if(-1!==n){var m=null===(a=this.storageTable.nativeElement.getElementsByClassName("storage-row-delete-button"))||void 0===a?void 0:a.item(n);m?.focus(),m?.scrollIntoView()}},i.prototype.removeZoneClickFromTableCells=function(){var r,n,t;if(null!==(r=this.storageTable)&&void 0!==r&&r.nativeElement)for(var a=0,l=Array.from(this.storageTable.nativeElement.getElementsByTagName("td"));a<l.length;a++)null===(t=(n=l[a]).removeAllListeners)||void 0===t||t.call(n,"click")},i.prototype.updateStorageInfo=function(){this.storageUsageArtifacts$.next(this.workspaceSettingsService.getStorageArtifacts()),this.totalStorageQuotaInMB$.next(this.workspaceSettingsService.getUserUsageQuotaInMB())},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(Ls.h),e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(Tt.t))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-storage-systems"]],viewQuery:function(n,t){var o;(1&n&&e.\u0275\u0275viewQuery(Ns,5),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(t.storageTable=o.first))},decls:58,vars:64,consts:[[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"storage-usage-container","tri-flex","tri-flex-col"],[1,"storage-usage-full","tri-flex"],[1,"total-storage-percentage"],[1,"total-quota-legend","tri-flex"],[1,"storage-usage-legend","storage-unused"],[1,"storage-usage-bar","tri-flex"],[1,"storage-bar","storage-used-by-me",3,"ngStyle"],[1,"storage-bar","storage-used-by-others",3,"ngStyle"],[1,"storage-bar","storage-unused","tri-flex-grow"],[1,"storage-usage-legends"],[1,"tri-flex"],[1,"storage-usage-legend","storage-used-by-me"],["class","tri-flex",4,"ngIf"],[1,"scroller"],[1,"storage-artifacts-table",2,"width","100%"],["storageTable",""],[1,"storage-artifacts-table-header",2,"width","200px"],[1,"storage-artifacts-table-header",2,"width","60px"],[1,"storage-artifacts-table-header",2,"width","145px"],[1,"storage-artifacts-table-header",2,"width","160px"],["class","storage-artifacts-table-header","style","width:40px",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"fogofscroll"],[1,"fog"],[3,"viewModel","hideMessageBar"],[1,"storage-usage-legend","storage-used-by-others"],[1,"storage-artifacts-table-header",2,"width","40px"],[1,"storage-systems-artifact-row",3,"tabindex","keydown"],[1,"storage-system-cell",2,"max-width","200px",3,"triTooltip"],[1,"storage-system-cell",2,"max-width","60px",3,"triTooltip"],[1,"storage-system-cell",2,"max-width","145px",3,"triTooltip"],[1,"storage-system-cell",2,"max-width","160px",3,"triTooltip"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["deleteButton",""],[1,"delete-artifact-spinner"],["tri-button","","appearance","subtle",1,"storage-row-delete-button",3,"tabIndex","click","keydown"],["name","delete_20_regular"]],template:function(n,t){if(1&n&&(e.\u0275\u0275template(0,$s,2,3,"tri-message-bar",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"div",1)(4,"div",2)(5,"span"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localizeFormat"),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"span",3),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",4),e.\u0275\u0275element(15,"div",5),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localizeFormat"),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"div",6),e.\u0275\u0275element(20,"div",7),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275element(23,"div",8),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275pipe(25,"async"),e.\u0275\u0275element(26,"div",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",10)(28,"div",11),e.\u0275\u0275element(29,"div",12),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"async"),e.\u0275\u0275pipe(32,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(33,Us,5,6,"div",13),e.\u0275\u0275pipe(34,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(35,"div",14)(36,"table",15,16)(38,"thead")(39,"tr")(40,"th",17),e.\u0275\u0275text(41),e.\u0275\u0275pipe(42,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"th",18),e.\u0275\u0275text(44),e.\u0275\u0275pipe(45,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"th",19),e.\u0275\u0275text(47),e.\u0275\u0275pipe(48,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"th",20),e.\u0275\u0275text(50),e.\u0275\u0275pipe(51,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(52,Vs,1,0,"th",21),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(53,"tbody"),e.\u0275\u0275template(54,Xs,11,10,"ng-container",22),e.\u0275\u0275pipe(55,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(56,"div",23),e.\u0275\u0275element(57,"div",24),e.\u0275\u0275elementEnd()()),2&n){var m,o=void 0,a=void 0,l=void 0;e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,15,t.errorDismissed$)&&e.\u0275\u0275pipeBind1(2,17,t.deleteArtifactErrorMessage$)),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind3(7,19,"Trident_Workspace_Settings_Storage_Used_Of_Format",e.\u0275\u0275pipeBind1(8,23,t.storageSizeUsedByIdentityWithUnit$),e.\u0275\u0275pipeBind1(9,25,t.totalStorageQuoutaWithUnit$)),"\xa0 "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("(",(100*(null!==(o=e.\u0275\u0275pipeBind1(12,27,t.totalStorageUsedInMB$))&&void 0!==o?o:0)/(null!==(o=e.\u0275\u0275pipeBind1(13,29,t.totalStorageQuotaInMB$))&&void 0!==o?o:1)).toFixed(2),"%)"),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(17,31,"Trident_Workspace_Settings_Storage_Available_Format",e.\u0275\u0275pipeBind1(18,34,t.totalStorageAvailableWithUnit$))," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(60,Ha,(100*(null!==(a=e.\u0275\u0275pipeBind1(21,36,t.storageUsedByIdentityInMB$))&&void 0!==a?a:0)/(null!==(a=e.\u0275\u0275pipeBind1(22,38,t.totalStorageQuotaInMB$))&&void 0!==a?a:1)).toFixed(2)+"%")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(62,Ha,(100*(null!==(l=e.\u0275\u0275pipeBind1(24,40,t.storageUsedByOthersInMB$))&&void 0!==l?l:0)/(null!==(l=e.\u0275\u0275pipeBind1(25,42,t.totalStorageQuotaInMB$))&&void 0!==l?l:1)).toFixed(2)+"%")),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind1(31,44,t.storageSizeUsedByIdentityWithUnit$)," ",e.\u0275\u0275pipeBind1(32,46,"QuotaManagement_OwnedByMe")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",null!==(m=e.\u0275\u0275pipeBind1(34,48,t.storageUsedByOthersInMB$))&&void 0!==m&&m),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(42,50,"Name")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(45,52,"QuotaManagement_ModelSize")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(48,54,"Type")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(51,56,"Trident_Workspace_Settings_Storage_Related_Objects_Header"),""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isWorkspaceAdmin),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(55,58,t.storageUsageArtifacts$))}},dependencies:[g.NgForOf,g.NgIf,g.NgStyle,P.M,je.D,et.h,xt.Z,g.AsyncPipe,w.Y,w.A],styles:["[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:14px;line-height:20px}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .total-storage-percentage[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .total-quota-legend[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .storage-used-by-me[_ngcontent-%COMP%]{background-color:#0078d4}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .storage-used-by-others[_ngcontent-%COMP%]{background-color:#917edb}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .storage-unused[_ngcontent-%COMP%]{background-color:#edebe9}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .storage-usage-legend[_ngcontent-%COMP%]{height:10px;width:10px;margin-right:4px;display:flex;align-self:center}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .storage-usage-bar[_ngcontent-%COMP%]{height:24px;margin:4px 0}[_nghost-%COMP%]   .storage-artifacts-table[_ngcontent-%COMP%]{width:100%;margin-top:24px}[_nghost-%COMP%]   .storage-artifacts-table[_ngcontent-%COMP%]   .storage-artifacts-table-header[_ngcontent-%COMP%]{height:40px;text-align:left}[_nghost-%COMP%]   .storage-artifacts-table[_ngcontent-%COMP%]   .delete-artifact-spinner[_ngcontent-%COMP%]{padding:0 12px}[_nghost-%COMP%]   .storage-artifacts-table[_ngcontent-%COMP%]   .storage-system-cell[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .scroller[_ngcontent-%COMP%]{width:100%;overflow-x:auto;padding-right:32px}[_nghost-%COMP%]   .fogofscroll[_ngcontent-%COMP%]{position:absolute;width:48px;height:100%;top:0;right:0;pointer-events:none;padding-bottom:24px;z-index:500}[_nghost-%COMP%]   .fogofscroll[_ngcontent-%COMP%]   .fog[_ngcontent-%COMP%]{height:100%;width:100%;background:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgb(255,255,255) 79%,rgb(255,255,255) 100%)}"],changeDetection:0}),i}();function Rr(i,r){return i>1024?r.format("QuotaUsage_SizeInGB",Math.floor(i/1024)):r.format("QuotaUsage_SizeInMB",i)}var Ai,Ri,Qs=v(37272),Ht=v(77526),Dt=v(59822),ht=v(81905),Xa=v(88255),fa=v(24874),cn=v(8697),Ya=v(35030),oe=v(18016),ln=v(12587),Ca=v(92363),Qa=function(){function i(r,n,t){this.gitStatusFacade=r,this.gitConnectionService=n,this.featureSwitchService=t,this.gitStatusMode=this.featureSwitchService.featureSwitches.tridentGitStatusAPI?Z.pPx.SingleCall:Z.pPx.SeparateCalls}return i.prototype.getGitStatus=function(r){return this.gitStatusFacade.getGitStatus(r)},i.prototype.loadGitStatus=function(r){return this.gitStatusMode===Z.pPx.SeparateCalls?(this.loadIncomingChanges(r),this.loadUncommittedChanges(r)):this.gitStatusFacade.loadGitStatus(r),this.getGitStatus(r)},i.prototype.isStatusLoaded=function(r){switch(this.gitStatusMode){case Z.pPx.SeparateCalls:return(0,Ve.aj)([this.getIncomingChangesLoadingState(r),this.getUncommittedChangesLoadingState(r)]).pipe((0,re.U)(function(n){return n[0]===Z.Gui.Loaded&&n[1]===Z.Gui.Loaded}));case Z.pPx.SingleCall:return this.getStatusLoadingState(r).pipe((0,re.U)(function(n){return n===Z.Gui.Loaded}))}},i.prototype.isStatusError=function(r){switch(this.gitStatusMode){case Z.pPx.SeparateCalls:return(0,Ve.aj)([this.getIncomingChangesLoadingState(r),this.getUncommittedChangesLoadingState(r)]).pipe((0,re.U)(function(n){var o=n[1];return(0,oe.pb)(n[0])||(0,oe.pb)(o)}));case Z.pPx.SingleCall:return this.getStatusLoadingState(r).pipe((0,re.U)(function(n){return(0,oe.pb)(n)}))}},i.prototype.getStatusLoadingState=function(r){return this.gitStatusFacade.getStatusLoadingState(r)},i.prototype.getAllChanges=function(r){return this.gitStatusFacade.getAllChanges(r)},i.prototype.getIncomingChanges=function(r){return this.gitStatusFacade.getIncomingChanges(r)},i.prototype.getUncommittedChanges=function(r){return this.gitStatusFacade.getUncommittedChanges(r)},i.prototype.loadUncommittedChanges=function(r){return this.gitStatusFacade.loadUncommittedChanges(r)},i.prototype.getUncommittedChangesCount=function(r){return this.gitStatusFacade.getUncommittedChanges(r).pipe((0,re.U)(function(n){return n.length}))},i.prototype.getUncommittedChangesLoadingState=function(r){return this.gitStatusFacade.getUncommittedChangesLoadingState(r)},i.prototype.getUncommittedArtifactsSelectionState=function(r){return this.gitStatusFacade.getUncommittedArtifactsSelectionState(r)},i.prototype.setChangesArtifactSelection=function(r,n,t,o){this.gitStatusFacade.setChangesArtifactSelection(r,n,t,o)},i.prototype.clearChangesArtifactSelection=function(r){this.gitStatusFacade.clearChangesArtifactSelection(r)},i.prototype.loadIncomingChanges=function(r){return this.gitStatusFacade.loadIncomingChanges(r)},i.prototype.getIncomingChangesCount=function(r){return this.gitStatusFacade.getIncomingChanges(r).pipe((0,re.U)(function(n){return n.length}))},i.prototype.getIncomingChangesLoadingState=function(r){return this.gitStatusFacade.getIncomingChangesLoadingState(r)},i.prototype.getIncomingChangesCommitId=function(r){return this.gitStatusFacade.getIncomingChangesCommitId(r)},i.prototype.refreshUncommittedChanges=function(r){return this.gitConnectionService.loadGitConnection(r).pipe((0,ve.q)(1),(0,be.h)(function(n){var t;return void 0!==(null===(t=n?.gitConnectionDetails)||void 0===t?void 0:t.isInitialized)}),(0,re.U)(function(){return(0,Z.x6e)({workspaceId:r})}))},i.prototype.hasConflictChange=function(r){return this.gitStatusFacade.getIncomingChanges(r).pipe((0,re.U)(function(n){return n.some(function(t){return 1===t.syncStatus})}))},i.prototype.getGitStatusLoadingState=function(r){var n=this;return this.getGitStatus(r).pipe((0,re.U)(function(t){var o;switch(n.gitStatusMode){case Z.pPx.SeparateCalls:return t?.incomingChangesCallState===Z.Gui.Loaded&&t?.uncommittedChangesCallState===Z.Gui.Loaded?Z.Gui.Loaded:t?.incomingChangesCallState===Z.Gui.Loading||t?.uncommittedChangesCallState===Z.Gui.Loading?Z.Gui.Loading:Z.Gui.Initial;case Z.pPx.SingleCall:return null!==(o=t?.statusCallState)&&void 0!==o?o:Z.Gui.Initial}}))},i.prototype.getGitStatusError=function(r){switch(this.gitStatusMode){case Z.pPx.SeparateCalls:return(0,Ve.aj)([this.getIncomingChangesLoadingState(r),this.getUncommittedChangesLoadingState(r)]).pipe((0,re.U)(function(n){var t=n[0],o=n[1];return(0,oe.pb)(t)?t:(0,oe.pb)(o)?o:void 0}));case Z.pPx.SingleCall:return this.getStatusLoadingState(r).pipe((0,re.U)(function(n){return(0,oe.pb)(n)?n:void 0}))}},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275inject(Z.F8e),e.\u0275\u0275inject(ze.rC),e.\u0275\u0275inject(gt.V$))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i}(),At=((Ai={})[0]={icon:"added",stringId:"Added"},Ai[1]={icon:"modified",stringId:"Modified"},Ai[2]={icon:"deleted",stringId:"Deleted"},(Ri={})[1]={icon:"conflict",stringId:"Conflict"},Ri[2]={icon:"same_changes",stringId:"Trident_Git_Same_Changes_Tooltip"},Ri[0]={icon:"",stringId:""},function(i){return i[i.None=0]="None",i[i.GitProviderType=1]="GitProviderType",i[i.Organization=2]="Organization",i[i.Project=3]="Project",i[i.Repository=4]="Repository",i[i.Branch=5]="Branch",i[i.IteratorLast=6]="IteratorLast",i}({}));function Za(i){return{panelClass:"dialog-style",width:Be.PW.Medium+"px",data:{title:i.get("Trident_Git_Switch_Branch_Confirmation_Title"),buttons:[{name:i.get("Trident_Git_Switch_Branch_Button_Text"),label:i.get("Trident_Git_Switch_Branch_Button_Text"),buttonType:"primary"},{name:i.get("Cancel_ButtonText"),label:i.get("Cancel_ButtonText"),buttonType:null}],content:i.get("Trident_Git_Switch_Branch_Confirmation_Content")}}}function Ja(i){return{bannerType:0,message:i.get("Trident_Git_No_Branches_In_Repo_Message")}}var qa=function(){function i(r,n){this.dialogRef=r,this.data=n}return i.prototype.ChangeToCreateFolderData=function(r){return{title:r.title,buttons:r.buttons}},i.prototype.clickButton=function(r){"Cancel"===r?this.dialogRef.close():this.dialogRef.close(!0)},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Te.so),e.\u0275\u0275directiveInject(Te.WI))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-git-connection-create-folder"]],decls:3,vars:6,consts:[[3,"dialogData","closeButtonLabel","buttonClickEvent"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"trident-dialog",0),e.\u0275\u0275listener("buttonClickEvent",function(a){return t.clickButton(a)}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("dialogData",t.ChangeToCreateFolderData(t.data))("closeButtonLabel",e.\u0275\u0275pipeBind1(1,4,"Cancel_ButtonText")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" ",t.data.folderName,"",t.data.content,"\n"))},dependencies:[y.v,w.Y],encapsulation:2,changeDetection:0}),i}(),es="disconnectButton",oc=function(){function i(r,n){this.data=r,this.localizationService=n,this.dialogData={title:this.localizationService.format("Trident_Git_Disconnect_Dialog_Title",[this.data.workspaceName]),buttons:[{name:es,label:this.localizationService.get("BYOResources_Disconnect_Button_Workspace"),buttonType:"primary"},{name:"cancelButton",label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]}}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Te.WI),e.\u0275\u0275directiveInject(ye.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-git-disconnect-dialog"]],decls:4,vars:5,consts:[[3,"dialogData","passthroughButtonClickEvent"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"trident-dialog",0)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275property("dialogData",t.dialogData)("passthroughButtonClickEvent",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,3,"Trident_Git_Disconnect_Dialog_Content")," "))},dependencies:[y.v,w.Y],styles:["[_nghost-%COMP%]     .mat-dialog-content.dialog-body{padding:20px 0}"],changeDetection:0}),i}(),ts=function(){function i(r,n){this.dialogRef=r,this.data=n}return i.prototype.PopulateDialog=function(r){return{title:r.title,buttons:r.buttons}},i.prototype.clickButton=function(r){"Cancel"===r?this.dialogRef.close():this.dialogRef.close(!0)},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Te.so),e.\u0275\u0275directiveInject(Te.WI))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-git-switch-branch-dialog"]],decls:6,vars:9,consts:[[3,"dialogData","closeButtonLabel","buttonClickEvent"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2241304","localize","LearnMore","localize-tooltip","LearnMore"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"trident-dialog",0),e.\u0275\u0275listener("buttonClickEvent",function(a){return t.clickButton(a)}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275text(2),e.\u0275\u0275elementStart(3,"tri-link",1),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275property("dialogData",t.PopulateDialog(t.data))("closeButtonLabel",e.\u0275\u0275pipeBind1(1,5,"Cancel_ButtonText")),e.\u0275\u0275attribute("data-testid","switch-branch-dialog"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.data.content," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,7,"LearnMore")," "))},dependencies:[y.v,O.v,w.Y],encapsulation:2,changeDetection:0}),i}(),Sa=v(86668),Fn=v(40773),Wn=v(31572),ac=v(71707),ya=v(4511);function sc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",3),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",6),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_AAD")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.userAccount)}}function cc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",3),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",6),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&i){var n=r.ngIf;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.datasourceName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.url)}}function lc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,cc,5,2,"div",0),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,n.selectedDatasource$))}}function dc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div")(2,"div",3),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4),e.\u0275\u0275template(8,sc,6,4,"div",5),e.\u0275\u0275template(9,lc,3,3,"div",5),e.\u0275\u0275elementEnd()()),2&i){var n=r.ngIf,t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,5,"SettingsDataSource_SettingsLabel_Provider")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,7,t.selectedGitProviderDisplayName$)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitch",n.connectedProviderDetailsType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ConnectedProviderDetailsType.UserAccountDetails),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ConnectedProviderDetailsType.DatasourceDetails)}}function pc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,dc,10,9,"div",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,n.gitProviderConfig$))}}var uc=function(i){function r(n,t,o){var a=i.call(this)||this;return a.gitSessionStorageService=n,a.gitDatasourceService=t,a.userInfoTridentService=o,a.ConnectedProviderDetailsType=Wn.P0,a.gitProviderInfo=oe.Rv,a.workspaceId="",a.componentConfigMap=(0,Wn.EI)(),a.selectedGitProvider$=new F.X(void 0),a.selectedDatasourceOID$=new F.X(void 0),a.selectedDatasource$=new F.X(void 0),a.selectedGitProviderDisplayName$=new F.X(void 0),a.gitProviderConfig$=new F.X(void 0),a.showDetails$=(0,he.of)(!1),a.userAccount="",a}return(0,W.__extends)(r,i),r.prototype.ngOnInit=function(){var n=this;this.userAccount=this.userInfoTridentService.name,this.showDetails$=this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId).pipe((0,Re.R)(this.onDestroy$),(0,Ue.b)(function(t){n.updateSessionStorageInfo(t)}),(0,ht.w)(function(){return n.gitDatasourceService.getDatasources({gitProviderType:n.selectedGitProvider$.value,workspaceId:n.workspaceId})}),(0,re.U)(function(t){if(void 0!==n.selectedGitProvider$.value&&void 0!==n.selectedDatasourceOID$.value){var o=t?.datasourcesRecord?t.datasourcesRecord[n.selectedGitProvider$.value]:[];n.selectedDatasource$.next(o?.find(function(a){return a.id===n.selectedDatasourceOID$.value}))}return!0}))},r.prototype.updateSessionStorageInfo=function(n){void 0!==n.selectedGitProviderType&&(this.gitProviderConfig$.next(this.componentConfigMap[n?.selectedGitProviderType]),this.selectedGitProvider$.next(n?.selectedGitProviderType),this.selectedGitProviderDisplayName$.next(this.gitProviderInfo[n?.selectedGitProviderType].name)),this.selectedDatasourceOID$.next(n?.selectedDatasourceOID)},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Z.gCl),e.\u0275\u0275directiveInject(Fn.Ae),e.\u0275\u0275directiveInject(Ca.NQ))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-connected-provider-details"]],inputs:{workspaceId:"workspaceId"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[4,"ngIf"],["class","connected-provider-info",4,"ngIf"],[1,"connected-provider-info"],[1,"title"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"trimmedTextWithEllipsis"]],template:function(t,o){1&t&&(e.\u0275\u0275template(0,pc,3,3,"div",0),e.\u0275\u0275pipe(1,"async")),2&t&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,o.showDetails$))},dependencies:[g.NgIf,g.NgSwitch,g.NgSwitchCase,g.AsyncPipe,w.Y],styles:[".connected-provider-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:8px;gap:4px}.title[_ngcontent-%COMP%]{font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300);line-height:20px}"]}),r}(ln.w),_c=v(81544),ns=v(92710);function vc(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Trident_Git_Accounts")))}function hc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",11),e.\u0275\u0275listener("change",function(){var m=e.\u0275\u0275restoreView(n).$implicit,h=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(h.selectedUserAccountChanged(m))}),e.\u0275\u0275elementStart(1,"div",12)(2,"span",13),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",14),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()()}if(2&i){var t=r.$implicit,o=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("value",t.id)("checked",o.isDataSourceChecked(t)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.datasourceName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.url)}}function fc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,vc,3,3,"div",4),e.\u0275\u0275elementStart(2,"div")(3,"tri-radio-group",5),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,hc,6,4,"tri-radio-button",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",7)(7,"button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.authorizeNewAccount())}),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275element(9,"tri-svg-icon",9),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext().ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.isPartOfCollapsible),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(4,8,o.doesWorkspaceNeedCapacity$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(8,10,o.doesWorkspaceNeedCapacity$)),e.\u0275\u0275attribute("data-testid","authorize-new-user-button"),e.\u0275\u0275advance(2),e.\u0275\u0275property("name","add_16_regular")("sprite","fluentui-icons"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,12,"Trident_Git_Authorize_New_User")," ")}}function Cc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,fc,12,14,"div",3),e.\u0275\u0275elementEnd()),2&i){var n=r.ngIf;e.\u0275\u0275nextContext();var t=e.\u0275\u0275reference(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==n.length)("ngIfElse",t)}}function Sc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-empty-state",15),e.\u0275\u0275listener("buttonClicked",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.authorizeNewAccount())}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getEmptyStateModel())}}var bc=function(i){function r(n,t,o,a,l){var m=i.call(this)||this;return m.gitDatasourceService=n,m.gitSessionStorageService=t,m.localizationService=o,m.gitConnectionService=a,m.dialogService=l,m.workspaceId="",m.isPartOfCollapsible=!1,m.componentConfigMap=(0,Wn.EI)(),m.selectedDatasourceOID$=new F.X(void 0),m.doesWorkspaceNeedCapacity$=new F.X(!0),m.selectedDatasource$=new F.X(void 0),m.datasourceList$=new F.X(void 0),m}return(0,W.__extends)(r,i),r.prototype.ngOnInit=function(){var n=this;this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId).pipe((0,Re.R)(this.onDestroy$),(0,Ue.b)(function(t){n.selectedDatasourceOID$.next(t.selectedTempDatasourceOID),n.doesWorkspaceNeedCapacity$.next(!t.isWorkspaceOnCapaity)}),(0,re.U)(function(t){return t.selectedGitProviderType}),(0,ht.w)(function(t){return n.selectedGitProvider=t,(0,Ve.aj)([n.gitConnectionService.getGitConnection(n.workspaceId),n.gitDatasourceService.getDatasources({workspaceId:n.workspaceId,gitProviderType:t})])}),(0,be.h)(function(t){var a=t[1];return void 0!==a&&a.callState===Z.j3q.Completed}),(0,Ue.b)(function(t){var o,a,l,m,h,b,z=t[0],Q=t[1],ie=Q.datasourcesRecord?Q.datasourcesRecord[n.selectedGitProvider]:void 0,Y=ie;if(z?.gitConnectionDetails){var te=null===(a=null===(o=n.componentConfigMap[n.selectedGitProvider])||void 0===o?void 0:o.getFilteringValue)||void 0===a?void 0:a.call(o,z.gitConnectionDetails);void 0!==te&&(Y=null!==(h=null===(m=(l=n.componentConfigMap[n.selectedGitProvider]).filterDatasources)||void 0===m?void 0:m.call(l,ie,te))&&void 0!==h?h:ie)}var $n=null===(b=z?.gitConnectionDetails)||void 0===b?void 0:b.datasourceOID;Y&&$n&&(Y=Y?.filter(function(Ni){return Ni.id!==$n})),n.datasourceList$.next(Y),n.updateSelectedDatasource(Y)})).subscribe()},r.prototype.isDataSourceChecked=function(n){var t;return(null===(t=this.selectedDatasource$.value)||void 0===t?void 0:t.id)===n.id},r.prototype.selectedUserAccountChanged=function(n){this.selectedDatasource$.next(n),void 0!==this.selectedDatasource$.value&&this.gitSessionStorageService.selectTempDatasource(this.workspaceId,this.selectedDatasource$.value.id)},r.prototype.authorizeNewAccount=function(){var n=function(i){return{componentRef:_c.b,config:{panelClass:"dialog-style",width:"".concat(Be.PW.Medium,"px"),data:i}}}(this.workspaceId);this.dialogService.open(n.componentRef,n.config).afterClosed().pipe((0,ve.q)(1)).subscribe()},r.prototype.dataSourcesListLength=function(){var n,t;return null!==(t=null===(n=this.datasourceList$.value)||void 0===n?void 0:n.length)&&void 0!==t?t:0},r.prototype.getEmptyStateModel=function(){return function(i,r){return{emptyStateType:9,iconType:3,title:i.get("Trident_Git_Empty_State_No_Authorized_Users_Title"),message:i.get("Trident_Git_Empty_State_No_Authorized_Users_Message"),buttonText:i.get("Trident_Git_Authorize_New_User"),isButtonDiabled:r}}(this.localizationService,this.doesWorkspaceNeedCapacity$)},r.prototype.updateSelectedDatasource=function(n){var o,a,t=this;if(n){if(this.selectedDatasource$.next(n?.find(function(m){return m.id===t.selectedDatasourceOID$.value})),1===n.length&&this.selectedDatasourceOID$.value!==(null===(o=n[0])||void 0===o?void 0:o.id)){var l=null===(a=n[0])||void 0===a?void 0:a.id;this.gitSessionStorageService.selectTempDatasource(this.workspaceId,l),this.selectedDatasourceOID$.next(l),this.selectedDatasource$.next(n[0])}}else this.selectedDatasource$.next(void 0)},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Fn.Ae),e.\u0275\u0275directiveInject(Z.gCl),e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(Fn.rC),e.\u0275\u0275directiveInject(Sa.j))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-datasources-list"]],inputs:{workspaceId:"workspaceId",isPartOfCollapsible:"isPartOfCollapsible"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:3,consts:[[1,"data-sources-list"],[4,"ngIf"],["emptyState",""],[4,"ngIf","ngIfElse"],["class","accounts",4,"ngIf"],[3,"disabled"],["data-testid","dataSource.datasourceName","tabindex","0",3,"value","checked","change",4,"ngFor","ngForOf"],[1,"authorize-new-user"],["tri-button","","appearance","subtle",3,"disabled","click"],[3,"name","sprite"],[1,"accounts"],["data-testid","dataSource.datasourceName","tabindex","0",3,"value","checked","change"],[1,"data-source-info"],[1,"data-source-display-name"],[1,"data-source-url"],["data-testid","datasources-list-empty-state",1,"empty-state-container",3,"viewModel","buttonClicked"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Cc,2,2,"div",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Sc,1,1,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,o.datasourceList$)))},dependencies:[g.NgForOf,g.NgIf,P.M,ns.v,E.Y,B.Z,g.AsyncPipe,w.Y],styles:[".data-sources-list[_ngcontent-%COMP%]{padding-top:16px;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.accounts[_ngcontent-%COMP%]{font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300)}.data-source-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.title[_ngcontent-%COMP%], .git-provider[_ngcontent-%COMP%], .data-source-display-name[_ngcontent-%COMP%]{font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300);line-height:20px}.data-source-url[_ngcontent-%COMP%]{font-weight:var(--fontWeightMedium);font-size:var(--fontSizeBase200);line-height:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.authorize-new-user[_ngcontent-%COMP%]{border-top:1px solid var(--globalColorGrey82);padding-top:12px;margin-top:16px}"],changeDetection:0}),r}(ln.w),wc=function(r,n){return{"disabled-card":r,"card-selected":n}};function kc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"tri-card",7),e.\u0275\u0275listener("click",function(){var m=e.\u0275\u0275restoreView(n).$implicit,h=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(h.onGitProviderTypeChange(m.value.type))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275element(3,"tri-svg-icon",8),e.\u0275\u0275elementStart(4,"tri-card-header")(5,"div",9),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=r.$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(8,wc,!t.value.isEnabled,e.\u0275\u0275pipeBind1(2,6,o.selectedGitProvider$)===t.key)),e.\u0275\u0275attribute("title",o.getCardTooltip(t.value))("data-testid",t.value.name),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.value.iconName)("sprite","git-icons"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.value.name," ")}}function Ic(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",10)(1,"button",11),e.\u0275\u0275listener("click",function(){var a=e.\u0275\u0275restoreView(n).$implicit,l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onGitProviderTypeChange(a.value.type))}),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275attribute("data-testid","select-git-provider-sr-only"))}function xc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275template(5,kc,7,11,"div",5),e.\u0275\u0275pipe(6,"keyvalue"),e.\u0275\u0275template(7,Ic,2,1,"div",6),e.\u0275\u0275pipe(8,"keyvalue"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"Trident_Git_Provider")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(6,5,n.gitProviderInfo)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(8,7,n.gitProviderInfo))}}function Mc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",17)(1,"tri-collapsed-container",18),e.\u0275\u0275listener("collapseContainer",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onShowConnentionsChange(a))}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275element(3,"tri-git-datasources-list",19),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("headerText",e.\u0275\u0275pipeBind1(2,6,"Trident_Git_ShowMoreUsers"))("iconName","connected")("collapsed",!0),e.\u0275\u0275attribute("data-testid","datasource-list-switch-account-provider-accounts"),e.\u0275\u0275advance(2),e.\u0275\u0275property("workspaceId",t.workspaceId)("isPartOfCollapsible",!0)}}function Pc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.SwitchAccount())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("disabled",!0===e.\u0275\u0275pipeBind1(1,3,t.isShowMoreUsersCollapsed$)||!1===e.\u0275\u0275pipeBind1(2,5,t.isDatasourceSelected())||!1===e.\u0275\u0275pipeBind1(3,7,t.isWorkspaceOnCapacity$)),e.\u0275\u0275attribute("data-testid","switch-account-Github-button"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,9,"Storytelling_Switch")," ")}}function Tc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",25),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(o.LogOutFromDatasource())}),e.\u0275\u0275element(1,"tri-svg-icon",26),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275attribute("data-testid","logout-Github-button"),e.\u0275\u0275advance(1),e.\u0275\u0275property("name","log_out_16_regular")("sprite","git-icons"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Trident_Git_Log_Out")," "))}function Oc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",20)(1,"div"),e.\u0275\u0275template(2,Pc,6,11,"button",21),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,Tc,4,6,"button",22),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"tri-link",23),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,6,n.showSwitchAccountButton())),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(5,8,n.isConfiguredCredentials$)),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("href","groups/",n.workspaceId,"/gateways"),e.\u0275\u0275property("block",!0)("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,10,"Trident_Git_Manage_All_Users")," ")}}function Ec(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"tri-git-connected-provider-details",14),e.\u0275\u0275template(2,Mc,4,8,"div",15),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,Oc,9,12,"div",16),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("workspaceId",n.workspaceId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,3,n.showSwitchAccountButton())),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,5,n.showLogOutButton()))}}function Dc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"tri-git-datasources-list",14),e.\u0275\u0275elementStart(2,"div",20)(3,"button",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.connectWorkspaceToDatasource())}),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"tri-link",23),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("workspaceId",t.workspaceId),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!1===e.\u0275\u0275pipeBind1(4,8,t.isDatasourceSelected())||!1===e.\u0275\u0275pipeBind1(5,10,t.isWorkspaceOnCapacity$)),e.\u0275\u0275attribute("data-testid","connect-Github-button"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,12,"UploadExcel_Connect")," "),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("href","groups/",t.workspaceId,"/gateways"),e.\u0275\u0275property("block",!0)("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,14,"Trident_Git_Manage_All_Users")," ")}}function Bc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275template(1,Dc,11,16,"span",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,n.datasourceList$))}}function Gc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",29)(1,"div",31),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"tri-radio-group")(5,"tri-radio-button",32),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementStart(7,"div",33)(8,"span",34),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"span",35),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(13,"div",36)(14,"button",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.connectWorkspaceToUserAccount())}),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,8,"Trident_Git_Accounts")),e.\u0275\u0275advance(3),e.\u0275\u0275property("checked",!0)("disabled",!1===e.\u0275\u0275pipeBind1(6,10,t.isWorkspaceOnCapacity$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,12,"Trident_Git_AAD")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.userAccount),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.isUserAccountSelected()||!1===e.\u0275\u0275pipeBind1(15,14,t.isWorkspaceOnCapacity$)),e.\u0275\u0275attribute("data-testid","connect-ADO-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,16,"UploadExcel_Connect")," ")}}function zc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",27),e.\u0275\u0275template(1,Bc,3,3,"div",28),e.\u0275\u0275template(2,Gc,18,18,"div",28),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext().ngIf,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",null==n?null:n.displayMode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.AccountsListDisplayMode.ShowGitHubDataSourcesList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.AccountsListDisplayMode.ShowADOAccountsList)}}function Ac(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Ec,6,7,"div",12),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,zc,3,3,"ng-template",null,13,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275reference(4),t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(2,2,t.isConfiguredCredentials$))("ngIfElse",n)}}var Fc=function(i){function r(n,t,o,a,l,m,h,b,z,Q,ie){var Y=i.call(this)||this;return Y.gitNotificationService=n,Y.gitErrorService=t,Y.gitDatasourceService=o,Y.gitSessionStorageService=a,Y.gitConnectionService=l,Y.gitConfigureCredentialsService=m,Y.tridentDialogService=h,Y.localizationService=b,Y.dialogService=z,Y.userInfoTridentService=Q,Y.featureSwitchService=ie,Y.GitProviderType=oe.IS,Y.AccountsListDisplayMode=Wn.NJ,Y.gitProviderInfo=new Map,Y.workspaceId="",Y.componentConfigMap=(0,Wn.EI)(),Y.isConnected$=new F.X(void 0),Y.selectedGitProvider$=new F.X(void 0),Y.gitProviderConfig$=new F.X(void 0),Y.isConfiguredCredentials$=new F.X(!1),Y.isShowMoreUsersCollapsed$=new F.X(!0),Y.isWorkspaceOnCapacity$=new F.X(!1),Y.datasourceList$=new F.X(void 0),Y.selectedDatasource$=new F.X(void 0),Y.configureCredentialsInProgress$=new F.X(!1),Y.userAccount="",Y}return(0,W.__extends)(r,i),r.prototype.ngOnInit=function(){var n=this;this.userAccount=this.userInfoTridentService.name,this.selectedGitProvider$.pipe((0,Re.R)(this.onDestroy$),(0,be.h)(function(t){return void 0!==t}),(0,be.h)(function(t){return!0===n.componentConfigMap[t].doesGitProviderNeedsDatasource}),(0,ve.q)(1)).subscribe(function(t){return n.updateDiscoveredDatasources(t)}),this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId).pipe((0,Re.R)(this.onDestroy$),(0,Ue.b)(function(t){n.updateSelectedGitProviderInfo(t),n.updateSelectedDatasource(t),n.isConfiguredCredentials$.next(void 0!==n.selectedGitProvider$.value&&n.componentConfigMap[n.selectedGitProvider$.value].isWorkspaceConnectedToGitProvider(t)),n.isWorkspaceOnCapacity$.next(!!t.isWorkspaceOnCapaity)})).subscribe(),this.gitConnectionService.getGitConnection(this.workspaceId).pipe((0,Re.R)(this.onDestroy$),(0,Ht.x)()).subscribe(function(t){t&&t.gitConnectionDetails?(n.isConnected$.next(!0),void 0!==n.selectedGitProvider$.value&&n.updateDiscoveredDatasources(n.selectedGitProvider$.value)):n.isConnected$.next(!1)}),this.populateGitProviderInfo()},r.prototype.onGitProviderTypeChange=function(n){this.gitSessionStorageService.selectGitProviderType(this.workspaceId,n)},r.prototype.SwitchAccount=function(){!1!==this.isConnected$.value&&this.sendConfigureCredentialsRequest()},r.prototype.connectWorkspaceToDatasource=function(){!1===this.isConnected$.value?(this.gitSessionStorageService.configureCredentials(this.workspaceId),this.updateSelectedFromTemp(!1)):this.sendConfigureCredentialsRequest()},r.prototype.onShowConnentionsChange=function(n){this.isShowMoreUsersCollapsed$.next(n)},r.prototype.connectWorkspaceToUserAccount=function(){this.userAccount&&(this.gitSessionStorageService.selectUserAccount(this.workspaceId,this.userAccount),this.gitSessionStorageService.configureCredentials(this.workspaceId))},r.prototype.isDatasourceSelected=function(){return this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId).pipe((0,ve.q)(1),(0,re.U)(function(n){return void 0!==n.selectedTempDatasourceOID}))},r.prototype.isUserAccountSelected=function(){return void 0!==this.userAccount},r.prototype.LogOutFromDatasource=function(){var n=this;this.tridentDialogService.open(ac.A,{panelClass:"dialog-style",width:Be.PW.Medium+"px",data:{workspaceId:this.workspaceId}}).afterClosed().pipe((0,ve.q)(1),(0,Ue.b)(function(){n.updateDiscoveredDatasources(n.selectedGitProvider$.value),n.isConfiguredCredentials$.next(!1),n.gitSessionStorageService.selectDatasource(n.workspaceId,void 0),n.isConnected$.value&&n.gitConnectionService.updateDatasourceInGitConnection(n.workspaceId,void 0)})).subscribe()},r.prototype.showLogOutButton=function(){return this.componentConfigMap[this.selectedGitProvider$.value].canTheUserLogOut(this.workspaceId,this.gitConnectionService)},r.prototype.getCardTooltip=function(n){return n.isEnabled?n.name:n.disabledTooltip},r.prototype.updateDiscoveredDatasources=function(n){var t=this;this.gitDatasourceService.discoverDatasources({workspaceId:this.workspaceId,gitProviderType:n}).pipe((0,be.h)(function(o){return void 0!==o&&o.callState===Z.j3q.Completed}),(0,Ue.b)(function(o){t.datasourceList$.next(o.datasourcesRecord?o.datasourcesRecord[n]:void 0)})).subscribe()},r.prototype.populateGitProviderInfo=function(){var n=this,t=(0,Wn.yp)(this.featureSwitchService),o=this.localizationService.get("Trident_Git_Git_Provider_Card_Disabled_Tooltip");Object.entries(oe.Rv).forEach(function(a){var m=a[1],h=Number(a[0]);n.gitProviderInfo.set(h,(0,W.__assign)((0,W.__assign)({},m),{isEnabled:t.get(h)||!1,disabledTooltip:o}))})},r.prototype.showSwitchAccountButton=function(){return this.componentConfigMap[this.selectedGitProvider$.value].shouldShowSwitchAccount(this.workspaceId,this.gitConnectionService,this.gitSessionStorageService)},r.prototype.sendConfigureCredentialsRequest=function(){var n=this;this.configureCredentialsInProgress$.getValue()||(this.configureCredentialsInProgress$.next(!0),this.gitConfigureCredentialsService.configureCredentials(this.selectedGitProvider$.value,this.workspaceId,this.selectedDatasource$.value).pipe((0,Ue.b)(function(){n.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Configure_Credentials_Success"),n.gitSessionStorageService.configureCredentials(n.workspaceId),n.updateSelectedFromTemp(),n.configureCredentialsInProgress$.next(!1)}),(0,ve.q)(1),(0,Dt.K)(function(t){n.configureCredentialsInProgress$.next(!1);var o=n.gitErrorService.makeGitErrorFromHttpResponse("Git_Configure_Credentials_Failed",t);return n.gitNotificationService.showErrorNotification(o,"Trident_Git_Toast_Configure_Credentials_Fail"),[]})).subscribe())},r.prototype.updateSelectedFromTemp=function(n){var t,o,a;void 0===n&&(n=!0);var l=null===(t=this.selectedDatasource$)||void 0===t?void 0:t.value;this.gitSessionStorageService.selectDatasource(this.workspaceId,l?.id),null===(a=(o=this.componentConfigMap[this.selectedGitProvider$.value]).selectDatasourceSideEffect)||void 0===a||a.call(o,this.gitSessionStorageService,l?.url,this.workspaceId),n&&this.gitConnectionService.updateDatasourceInGitConnection(this.workspaceId,l?.id),this.gitSessionStorageService.selectTempDatasource(this.workspaceId,void 0)},r.prototype.updateSelectedDatasource=function(n){var t=this;this.datasourceList$.pipe((0,Re.R)(this.onDestroy$)).subscribe(function(o){if(o){if(void 0!==n.selectedTempDatasourceOID)return void t.selectedDatasource$.next(o.find(function(a){return a.id===n.selectedTempDatasourceOID}));if(1===o.length)return void t.selectedDatasource$.next(o[0])}t.selectedDatasource$.next(void 0)})},r.prototype.updateSelectedGitProviderInfo=function(n){this.selectedGitProvider$.next(n?.selectedGitProviderType),this.gitProviderConfig$.next(void 0!==n?.selectedGitProviderType?this.componentConfigMap[n?.selectedGitProviderType]:void 0)},Object.defineProperty(r.prototype,"getComponentConfigMap",{get:function(){return this.componentConfigMap},enumerable:!1,configurable:!0}),r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Ce.mn),e.\u0275\u0275directiveInject(Ee.jR),e.\u0275\u0275directiveInject(Fn.Ae),e.\u0275\u0275directiveInject(Z.gCl),e.\u0275\u0275directiveInject(Fn.rC),e.\u0275\u0275directiveInject(Fn.id),e.\u0275\u0275directiveInject(Be.uQ),e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(Sa.j),e.\u0275\u0275directiveInject(Ca.NQ),e.\u0275\u0275directiveInject(gt.V$))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-provider-accounts"]],inputs:{workspaceId:"workspaceId"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:8,consts:[["class","git-provider-selection",4,"ngIf"],[4,"ngIf"],[1,"git-provider-selection"],[1,"git-provider"],[1,"git-providers"],[4,"ngFor","ngForOf"],["class","sr-only",4,"ngFor","ngForOf"],["orientation","horizontal",1,"git-provider-card",3,"ngClass","click"],[3,"name","sprite"],["tri-card-title","","triCardTitle",""],[1,"sr-only"],["tri-button","",3,"click"],[4,"ngIf","ngIfElse"],["workspaceNotConnectedToGitProvider",""],[3,"workspaceId"],["class","divider",4,"ngIf"],["class","github-footer",4,"ngIf"],[1,"divider"],[1,"switch-container",3,"headerText","iconName","collapsed","collapseContainer"],[3,"workspaceId","isPartOfCollapsible"],[1,"github-footer"],["tri-button","","class","switch-account-button","appearance","primary",3,"disabled","click",4,"ngIf"],["tri-button","","class","logout-button",3,"click",4,"ngIf"],["data-testid","manage-all-users-link",3,"block","href","external"],["tri-button","","appearance","primary",1,"switch-account-button",3,"disabled","click"],["tri-button","",1,"logout-button",3,"click"],["tri-svg-icon-16","",3,"name","sprite"],[3,"ngSwitch"],["class","git-provider-accounts",4,"ngSwitchCase"],[1,"git-provider-accounts"],["tri-button","","appearance","primary",1,"connect-button",3,"disabled","click"],[1,"accounts"],["data-testid","userAccount",3,"checked","disabled"],[1,"data-source-info"],[1,"data-source-display-name"],[1,"data-source-url"],[1,"footer"]],template:function(t,o){1&t&&(e.\u0275\u0275template(0,xc,9,9,"div",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Ac,5,4,"div",1),e.\u0275\u0275pipe(4,"async")),2&t&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,2,o.isConfiguredCredentials$)&&!0!==e.\u0275\u0275pipeBind1(2,4,o.isConnected$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,6,o.gitProviderConfig$)))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,g.NgSwitch,g.NgSwitchCase,O.v,P.M,ya.LB,ya.Pw,ya.Ab,Ar,E.Y,B.Z,uc,bc,g.AsyncPipe,g.KeyValuePipe,w.Y],styles:[".git-provider-selection[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding-top:16px}.git-provider-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:128px;height:128px}.accounts[_ngcontent-%COMP%]{font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300);padding-top:16px}.logout-button[_ngcontent-%COMP%]{margin:0 8px}.switch-container[_ngcontent-%COMP%]     .collapsible-picker-box{border:none;padding:0}.git-provider[_ngcontent-%COMP%]{font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300);line-height:20px}.git-provider-accounts[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.data-source-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.data-source-url[_ngcontent-%COMP%]{font-weight:var(--fontWeightMedium);font-size:var(--fontSizeBase200);line-height:16px}.git-providers[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px}.footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:16px}.divider[_ngcontent-%COMP%]{margin:24px 0;border-top:1px solid var(--globalColorGrey82);padding-top:24px}.github-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:16px;margin-top:16px;border-top:1px solid var(--globalColorGrey82)}.sr-only[_ngcontent-%COMP%]{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}.disabled-card[_ngcontent-%COMP%]{background:var(--globalColorGrey94);color:var(--globalColorGrey74);fill:var(--globalColorGrey74);box-shadow:None;cursor:not-allowed}.card-selected[_ngcontent-%COMP%]{background-color:var(--globalColorGrey92);border:1px solid var(--globalColorGrey82)}.disabled-card[_ngcontent-%COMP%]:active{pointer-events:none}"],changeDetection:0}),r}(ln.w);function Wc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",24),e.\u0275\u0275element(1,"tri-svg-icon",25),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,n.createBranchFailedMessage$)," ")}}function Lc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",26),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onBranchesSearch(o))}),e.\u0275\u0275elementEnd()}}function Nc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",27)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function $c(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",28),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Creating_ButtonText")," "))}function Uc(i,r){1&i&&(e.\u0275\u0275text(0),e.\u0275\u0275pipe(1,"localize")),2&i&&e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(1,1,"Create_ButtonText")," ")}var Vc=function(r){return{showFullContent:!1,dropdownHeight:r,dropdownWidth:304}},Hc=function(){function i(r,n,t){var o=this;this.telemetryService=n,this.dialog=t,this.branchesListFromInput=[],this.filteredBranchesList=[],this.firstBranch="",this.createButtonEnabled=!1,this.selectedBranchName="",this.selectedParentBranchName=null,this.loadingRequest$=new F.X(!1),this.createBranchFailedMessage$=new F.X(null),this.isWorkspaceConnected=void 0,this.destroy$=new st.xQ,this.firstBranch=r.defaultRepoBranch,this.selectedParentBranchName={name:this.firstBranch},this.branchesListFromInput=r.branchesList,this.filteredBranchesList=r.branchesList,this.isWorkspaceConnected=r.isWorkspaceConnected,this.createNewBranchChange=r.createNewBranchChange,r.newBranchState$.pipe((0,be.h)(function(a){return!!a}),(0,Re.R)(this.destroy$)).subscribe(function(a){if(o.loadingRequest$.next(!1),(0,oe.pb)(a)){var l=(0,oe.lz)(a);o.createBranchFailedMessage$.next(l.message)}else o.telemetryService.logEvent({name:"Create branch request",properties:{isWorkspaceConnected:o.isWorkspaceConnected}}),o.dialog.close()})}return i.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},i.prototype.onBranchNameChange=function(r){this.selectedBranchName=r,this.toggleCreateBranchButton()},i.prototype.onParentBranchNameChange=function(r){this.selectedParentBranchName={name:r.text},this.toggleCreateBranchButton()},i.prototype.onCreateButtonClick=function(){this.createBranchFailedMessage$.next(null),this.loadingRequest$.next(!0);var r={name:this.selectedBranchName,parentBranch:this.selectedParentBranchName};this.telemetryService.logEvent({name:"Create branch request",properties:{isWorkspaceConnected:this.isWorkspaceConnected}}),this.createNewBranchChange.emit(r)},i.prototype.onCancelButtonClick=function(){this.dialog.close()},i.prototype.onDismissButtonClick=function(){this.dialog.close()},i.prototype.calcDropdownHeight=function(r){return r>1?104:76},i.prototype.toggleCreateBranchButton=function(){this.createButtonEnabled=!!this.selectedBranchName&&!!this.selectedParentBranchName&&!!this.selectedParentBranchName.name},i.prototype.onBranchesSearch=function(r){this.filteredBranchesList=this.branchesListFromInput.filter(function(n){return n.text.toLowerCase().includes(r.toLowerCase())})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Te.WI),e.\u0275\u0275directiveInject(Tt.t),e.\u0275\u0275directiveInject(Te.so))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-git-connection-create-branch"]],decls:51,vars:56,consts:[[1,"dialog-header"],[1,"dialog-title"],[1,"dismiss-button",3,"click"],["name","dismiss_16_regular"],[1,"dialog-content"],[1,"info"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2235132","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon"],[1,"accordion-area"],[1,"branch-name-input"],[1,"star"],[3,"ngModel","placeholder","ngModelChange"],["class","tri-flex error-message-container",4,"ngIf"],[1,"parent-branch-selection"],[1,"header-branch-selection"],["id","select-origin-branch-dropdown-label"],["tabindex","0",3,"name","triTooltip","triTooltipMaxWidth"],["aria-labelledby","select-origin-branch-dropdown-label",3,"ngModel","isDisabled","options","valueChange"],["class","dropdown-search",3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"dialog-footer"],["tri-button","","appearance","primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["activeCreate",""],["tri-button","","appearance","tri-middle",3,"click"],[1,"tri-flex","error-message-container"],["name","error_circle_12_filled",1,"error-message-icon"],[1,"dropdown-search",3,"value"],[3,"value"],["size","tiny","labelPosition","after"]],template:function(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return t.onDismissButtonClick()}),e.\u0275\u0275element(5,"tri-svg-icon",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",4)(7,"div",5),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementStart(10,"tri-link",6),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"div",7)(14,"div",8)(15,"h4"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementStart(18,"span",9),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"input",10),e.\u0275\u0275listener("ngModelChange",function(h){return t.onBranchNameChange(h)}),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(23,Wc,4,3,"div",11),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",12)(26,"div",13)(27,"h4",14),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementStart(30,"span",9),e.\u0275\u0275text(31),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(32,"tri-svg-icon",15),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275pipe(34,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"tri-dropdown",16),e.\u0275\u0275listener("valueChange",function(h){return t.onParentBranchNameChange(h)}),e.\u0275\u0275elementStart(36,"tri-dropdown-trigger"),e.\u0275\u0275text(37),e.\u0275\u0275pipe(38,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(39,Lc,1,0,"tri-search-box",17),e.\u0275\u0275template(40,Nc,3,2,"tri-dropdown-item",18),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(41,"div",19)(42,"button",20),e.\u0275\u0275listener("click",function(){return t.onCreateButtonClick()}),e.\u0275\u0275pipe(43,"async"),e.\u0275\u0275template(44,$c,4,3,"ng-container",21),e.\u0275\u0275pipe(45,"async"),e.\u0275\u0275template(46,Uc,2,3,"ng-template",null,22,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"button",23),e.\u0275\u0275listener("click",function(){return t.onCancelButtonClick()}),e.\u0275\u0275text(49),e.\u0275\u0275pipe(50,"localize"),e.\u0275\u0275elementEnd()()),2&n){var a,l,o=e.\u0275\u0275reference(47);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,26,"Trident_Git_Create_New_Branch")," "),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,28,"Trident_Git_Create_New_Branch_Info")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,30,"LearnMore")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(17,32,"Trident_Git_Branch_Name")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate("*"),e.\u0275\u0275advance(1),e.\u0275\u0275classMap(null!==e.\u0275\u0275pipeBind1(21,34,t.createBranchFailedMessage$)?"input-error":""),e.\u0275\u0275property("ngModel",t.selectedBranchName)("placeholder",e.\u0275\u0275pipeBind1(22,36,"Trident_Git_Branch_Name")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",null!==e.\u0275\u0275pipeBind1(24,38,t.createBranchFailedMessage$)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(29,40,"Trident_Git_Create_New_Branch_Create_From")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate("*"),e.\u0275\u0275advance(1),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(33,42,"Trident_Git_Create_New_Branch_Tooltip"))("triTooltipMaxWidth",240),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(34,44,"Trident_Git_Create_New_Branch_Tooltip")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",t.selectedParentBranchName)("isDisabled",0===t.branchesListFromInput.length)("options",e.\u0275\u0275pureFunction1(54,Vc,t.calcDropdownHeight(t.filteredBranchesList.length))),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(a=null==t.selectedParentBranchName?null:t.selectedParentBranchName.name)&&void 0!==a?a:e.\u0275\u0275pipeBind1(38,46,"Trident_Git_Create_New_Branch_Choose_Parent_Branch")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(l=null==t.branchesListFromInput?null:t.branchesListFromInput.length)&&void 0!==l?l:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.filteredBranchesList),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.createButtonEnabled||e.\u0275\u0275pipeBind1(43,48,t.loadingRequest$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(45,50,t.loadingRequest$))("ngIfElse",o),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(50,52,"Cancel_ButtonText")," ")}},dependencies:[g.NgForOf,g.NgIf,p.Fj,p.JJ,p.On,Mt.M3,jt.l,qt.q,Mt.ii,O.v,Tn.U,je.D,P.M,xt.Z,g.AsyncPipe,w.Y],styles:[".cdk-overlay-pane.pbi-dialog{border-radius:8px}tri-git-connection-create-branch[_nghost-%COMP%]{display:flex;flex-direction:column;width:352px;font-size:14px}.dialog-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-weight:600;font-size:20px}.dialog-header[_ngcontent-%COMP%]   .dismiss-button[_ngcontent-%COMP%]{padding:0;background-color:var(--globalColorWhite);border:none}.dialog-header[_ngcontent-%COMP%]   .dismiss-button[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38);height:20px;width:20px}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dialog-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:16px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:304px;padding:24px;border:1px solid var(--globalColorGrey82);border-radius:8px;gap:24px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:0 0 4px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:30px;width:278px;border:1px solid var(--globalColorGrey82);border-radius:4px;padding:0 12px;border-bottom:1px solid var(--globalColorGrey38)}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid var(--globalColorBrand80)}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   .input-error[_ngcontent-%COMP%]{border-color:var(--colorPaletteRedForeground1)}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{color:var(--globalColorRedShade10);font-weight:400;margin-left:2px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]{margin-bottom:12px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-branch-selection[_ngcontent-%COMP%]{display:flex;flex-direction:row}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-branch-selection[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-branch-selection[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38);height:16px;width:16px;margin-bottom:6px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]{width:304px;border-radius:4px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     button{padding:6px 8px 6px 12px;border-radius:var(--button-base-corner-radius);border-bottom:1px solid var(--globalColorGrey38)}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     .tri-dropdown-trigger-container{margin-left:0;padding-left:0}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     .dropdown-icon{fill:var(--globalColorGrey38)}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     tri-dropdown-trigger{color:var(--globalColorGrey44)}.dialog-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;gap:8px;margin-top:16px}.dialog-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:96px}.dropdown-search[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),i}(),is={workspaceId:"workspaceId",selectedGitProviderType:oe.IS.GitHub,selectedOrganization:{name:"repoOwner2",setByDatasource:!0},selectedRepository:{name:"repoName2",setByDatasource:!0},selectedDatasourceOID:"dataSourceOID2"},Yc=(0,W.__assign)((0,W.__assign)({},is),{selectedBranch:"branchName2"});function el(i){return{dropdownHeight:30*Math.max(Math.min(i,12),1)+34}}(0,W.__assign)((0,W.__assign)({},is),{selectedBranch:"branchToSwitchTo"}),(0,W.__assign)((0,W.__assign)({},Yc),{selectedDirectory:"dirName2"});var tl=v(41756);function nl(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",6),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("name",n.icon)}}function il(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",7),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("name",n.icon),e.\u0275\u0275propertyInterpolate("sprite",n.sprite)}}var os=function(i){function r(n){var t=i.call(this)||this;return t.triDropdownService=n,t.text=null,t.icon=null,t.sprite=null,t.actionClicked=new e.EventEmitter,t.triDropdownService.actionItems+=1,t}return(0,W.__extends)(r,i),r.prototype.actionEmit=function(){this.triDropdownService.toggleOpenState(),this.actionClicked.emit()},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(tl._))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-dropdown-action"]],inputs:{text:"text",icon:"icon",sprite:"sprite"},outputs:{actionClicked:"actionClicked"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:3,consts:[[1,"action"],["tri-button","",3,"click"],[3,"ngSwitch"],["class","icon",3,"name",4,"ngSwitchCase"],["class","icon",3,"name","sprite",4,"ngSwitchDefault"],[1,"text"],[1,"icon",3,"name"],[1,"icon",3,"name","sprite"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"button",1),e.\u0275\u0275listener("click",function(){return o.actionEmit()}),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275template(3,nl,1,1,"tri-svg-icon",3),e.\u0275\u0275template(4,il,1,2,"tri-svg-icon",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitch",o.sprite),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",null),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",o.text," "))},dependencies:[g.NgSwitch,g.NgSwitchCase,g.NgSwitchDefault,P.M],styles:[".action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;border:none;width:100%}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:var(--global-font-size-300);margin-left:9px;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0}),r}(ln.w);function rl(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",5),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.getNoBranchesInRepoMessagBarViewModel())}}function ol(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"tri-spinner",6),e.\u0275\u0275elementEnd())}function al(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",18),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.onBranchesSearch(o))}),e.\u0275\u0275elementEnd()}}function sl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",19)(1,"tri-dropdown-action",20),e.\u0275\u0275listener("actionClicked",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.onCreateBranchButtonClick())}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"hr"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("text",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_New_Branch")))}function cl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",21)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function ll(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",22)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Branches_Dropdown")))}function dl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"h4",10),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"span",11),e.\u0275\u0275text(5," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"tri-svg-icon",12),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"tri-dropdown",13),e.\u0275\u0275listener("ngModelChange",function(m){e.\u0275\u0275restoreView(n);var h=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(h.selectedBranch=m)})("valueChange",function(m){e.\u0275\u0275restoreView(n);var h=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(h.onBranchChange(m))}),e.\u0275\u0275elementStart(9,"tri-dropdown-trigger"),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,al,1,0,"tri-search-box",14),e.\u0275\u0275template(13,sl,4,3,"span",15),e.\u0275\u0275template(14,cl,3,3,"tri-dropdown-item",16),e.\u0275\u0275template(15,ll,4,4,"tri-dropdown-item",17),e.\u0275\u0275elementEnd()()}if(2&i){var o,a,t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,15,"Trident_Git_Branch")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(7,17,"Trident_Git_Branch_Tooltip"))("triTooltipMaxWidth",240),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.selectedBranch)("disabled",!t.selectedRepository||!t.branchesList||null!==t.branchesError)("isLoading",!!t.selectedRepository&&!t.branchesList)("options",t.getDropdownOverlayOptions((null==t.filteredBranchesList?null:t.filteredBranchesList.length)||0,5,2)),e.\u0275\u0275attribute("data-testid","switch-branch-dropdown")("data-isLoading",t.selectedRepository&&!t.branchesList?"true":"false"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(o=null==t.selectedBranch?null:t.selectedBranch.name)&&void 0!==o?o:e.\u0275\u0275pipeBind1(11,19,"Trident_Git_Branch")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(a=null==t.branchesList?null:t.branchesList.length)&&void 0!==a?a:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==(null==t.branchesList?null:t.branchesList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.filteredBranchesList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.branchesList?null:t.branchesList.length))}}function pl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h4"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(3)),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,"Trident_Git_Branch")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null==n.selectedBranch?null:n.selectedBranch.name," ")}}function ul(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",7),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"h4"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",7),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"h4"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",7),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"h4"),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",7),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,dl,16,21,"div",8),e.\u0275\u0275template(22,pl,4,4,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275reference(23),t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,18,"Organization")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",null==t.selectedOrganization?null:t.selectedOrganization.name),e.\u0275\u0275attribute("data-testid",null==t.selectedOrganization?null:t.selectedOrganization.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==t.selectedOrganization?null:t.selectedOrganization.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,20,"Trident_Git_Project")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",null==t.selectedProject?null:t.selectedProject.name),e.\u0275\u0275attribute("data-testid",null==t.selectedProject?null:t.selectedProject.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==t.selectedProject?null:t.selectedProject.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,22,"Trident_Git_Repository")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",null==t.selectedRepository?null:t.selectedRepository.name),e.\u0275\u0275attribute("data-testid",null==t.selectedRepository?null:t.selectedRepository.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==t.selectedRepository?null:t.selectedRepository.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,24,"Trident_Git_Folder")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",t.selectedFolderName),e.\u0275\u0275attribute("data-testid",t.selectedFolderName),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.selectedFolderName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isSwitchBranchEnabled)("ngIfElse",n)}}function gl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",38),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onOrganizationsSearch(o))}),e.\u0275\u0275elementEnd()}}function _l(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",21)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function ml(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",22)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Organizations_Dropdown")))}function vl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275element(1,"tri-svg-icon",40),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.organizationsError.message," ")}}function hl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",38),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onProjectsSearch(o))}),e.\u0275\u0275elementEnd()}}function fl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",21)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function Cl(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",22)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Projects_Dropdown")))}function Sl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275element(1,"tri-svg-icon",40),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.projectsError.message," ")}}function yl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",38),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onReposSearch(o))}),e.\u0275\u0275elementEnd()}}function bl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",21)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function wl(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",22)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Repositories_Dropdown")))}function kl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275element(1,"tri-svg-icon",40),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.repositoriesError.message," ")}}function Il(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",18),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onBranchesSearch(o))}),e.\u0275\u0275elementEnd()}}function xl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",19)(1,"tri-dropdown-action",20),e.\u0275\u0275listener("actionClicked",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.onCreateBranchButtonClick())}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"hr"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("text",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_New_Branch")))}function Ml(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",21)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function Pl(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",22)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Branches_Dropdown")))}function Tl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275element(1,"tri-svg-icon",40),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.branchesError.message," ")}}var Ol=function(r){return{"connection-loading":r}};function El(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",23)(1,"h4",24),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"span",11),e.\u0275\u0275text(5," *"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"tri-dropdown",25),e.\u0275\u0275listener("ngModelChange",function(Y){e.\u0275\u0275restoreView(n);var te=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(te.selectedOrganization=Y)})("valueChange",function(Y){e.\u0275\u0275restoreView(n);var te=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(te.onOrganizationChange(Y))}),e.\u0275\u0275elementStart(7,"tri-dropdown-trigger"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,gl,1,0,"tri-search-box",26),e.\u0275\u0275template(11,_l,3,3,"tri-dropdown-item",16),e.\u0275\u0275template(12,ml,4,4,"tri-dropdown-item",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,vl,3,1,"div",27),e.\u0275\u0275elementStart(14,"h4",28),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementStart(17,"span",11),e.\u0275\u0275text(18," *"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"tri-dropdown",29),e.\u0275\u0275listener("ngModelChange",function(Y){e.\u0275\u0275restoreView(n);var te=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(te.selectedProject=Y)})("valueChange",function(Y){e.\u0275\u0275restoreView(n);var te=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(te.onProjectChange(Y))}),e.\u0275\u0275elementStart(20,"tri-dropdown-trigger"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(23,hl,1,0,"tri-search-box",26),e.\u0275\u0275template(24,fl,3,3,"tri-dropdown-item",16),e.\u0275\u0275template(25,Cl,4,4,"tri-dropdown-item",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(26,Sl,3,1,"div",27),e.\u0275\u0275elementStart(27,"h4",30),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementStart(30,"span",11),e.\u0275\u0275text(31," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(32,"tri-svg-icon",12),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"tri-dropdown",31),e.\u0275\u0275listener("ngModelChange",function(Y){e.\u0275\u0275restoreView(n);var te=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(te.selectedRepository=Y)})("valueChange",function(Y){e.\u0275\u0275restoreView(n);var te=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(te.onRepositoryChange(Y))}),e.\u0275\u0275elementStart(35,"tri-dropdown-trigger"),e.\u0275\u0275text(36),e.\u0275\u0275pipe(37,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(38,yl,1,0,"tri-search-box",26),e.\u0275\u0275elementStart(39,"div",32),e.\u0275\u0275template(40,bl,3,3,"tri-dropdown-item",16),e.\u0275\u0275template(41,wl,4,4,"tri-dropdown-item",17),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(42,kl,3,1,"div",27),e.\u0275\u0275elementStart(43,"h4",33),e.\u0275\u0275text(44),e.\u0275\u0275pipe(45,"localize"),e.\u0275\u0275elementStart(46,"span",11),e.\u0275\u0275text(47," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(48,"tri-svg-icon",12),e.\u0275\u0275pipe(49,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"tri-dropdown",34),e.\u0275\u0275listener("ngModelChange",function(Y){e.\u0275\u0275restoreView(n);var te=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(te.selectedBranch=Y)})("valueChange",function(Y){e.\u0275\u0275restoreView(n);var te=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(te.onBranchChange(Y))}),e.\u0275\u0275elementStart(51,"tri-dropdown-trigger"),e.\u0275\u0275text(52),e.\u0275\u0275pipe(53,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(54,Il,1,0,"tri-search-box",14),e.\u0275\u0275template(55,xl,4,3,"span",15),e.\u0275\u0275elementStart(56,"div",32),e.\u0275\u0275template(57,Ml,3,3,"tri-dropdown-item",16),e.\u0275\u0275template(58,Pl,4,4,"tri-dropdown-item",17),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(59,Tl,3,1,"div",27),e.\u0275\u0275elementStart(60,"h4",35),e.\u0275\u0275text(61),e.\u0275\u0275pipe(62,"localize"),e.\u0275\u0275element(63,"tri-svg-icon",12),e.\u0275\u0275pipe(64,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(65,"div",36)(66,"input",37),e.\u0275\u0275listener("ngModelChange",function(Y){e.\u0275\u0275restoreView(n);var te=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(te.onFolderNameChange(Y))}),e.\u0275\u0275pipe(67,"async"),e.\u0275\u0275pipe(68,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var o,a,l,m,h,b,z,Q,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(91,Ol,t.connectionRequestInProgress)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,63,"Organization")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",t.selectedOrganization)("options",t.getDropdownOverlayOptions((null==t.filteredOrganizationsList?null:t.filteredOrganizationsList.length)||0,5,1))("disabled",!t.organizationsList||null!==t.organizationsError)("isLoading",!t.organizationsList),e.\u0275\u0275attribute("data-testid","organization-dropdown")("data-isLoading",t.organizationsList?"false":"true"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(o=null==t.selectedOrganization?null:t.selectedOrganization.name)&&void 0!==o?o:e.\u0275\u0275pipeBind1(9,65,"Organization")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(a=null==t.organizationsList?null:t.organizationsList.length)&&void 0!==a?a:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.filteredOrganizationsList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.organizationsList?null:t.organizationsList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!==t.organizationsError&&null!==t.organizationsError.message),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(16,67,"Trident_Git_Project")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",t.selectedProject)("disabled",!t.selectedOrganization||!t.projectsList||null!==t.projectsError)("isLoading",!!t.selectedOrganization&&!t.projectsList)("options",t.getDropdownOverlayOptions((null==t.filteredProjectsList?null:t.filteredProjectsList.length)||0,5,1)),e.\u0275\u0275attribute("data-testid","project-dropdown")("data-isLoading",t.selectedOrganization&&!t.projectsList?"true":"false"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(l=null==t.selectedProject?null:t.selectedProject.name)&&void 0!==l?l:e.\u0275\u0275pipeBind1(22,69,"Trident_Git_Project")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(m=null==t.projectsList?null:t.projectsList.length)&&void 0!==m?m:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.filteredProjectsList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.projectsList?null:t.projectsList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!==t.projectsError&&null!==t.projectsError.message),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(29,71,"Trident_Git_Repository")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(33,73,"Trident_Git_Repository_Tooltip"))("triTooltipMaxWidth",240),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.selectedRepository)("disabled",!t.selectedProject||!t.repositoriesList||null!==t.repositoriesError)("isLoading",!!t.selectedProject&&!t.repositoriesList)("options",t.getDropdownOverlayOptions((null==t.filteredRepositoriesList?null:t.filteredRepositoriesList.length)||0,5,1)),e.\u0275\u0275attribute("data-testid","repository-dropdown")("data-isLoading",t.selectedProject&&!t.repositoriesList?"true":"false"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(h=null==t.selectedRepository?null:t.selectedRepository.name)&&void 0!==h?h:e.\u0275\u0275pipeBind1(37,75,"Trident_Git_Repository")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(b=null==t.repositoriesList?null:t.repositoriesList.length)&&void 0!==b?b:0)>0),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.filteredRepositoriesList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.repositoriesList?null:t.repositoriesList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!==t.repositoriesError&&null!==t.repositoriesError.message),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(45,77,"Trident_Git_Branch")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(49,79,"Trident_Git_Branch_Tooltip"))("triTooltipMaxWidth",240),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.selectedBranch)("disabled",!t.selectedRepository||!t.branchesList||null!==t.branchesError)("isLoading",!!t.selectedRepository&&!t.branchesList)("options",t.getDropdownOverlayOptions((null==t.filteredBranchesList?null:t.filteredBranchesList.length)||0,5,2)),e.\u0275\u0275attribute("data-testid","branch-dropdown")("data-isLoading",t.selectedRepository&&!t.branchesList?"true":"false"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(z=null==t.selectedBranch?null:t.selectedBranch.name)&&void 0!==z?z:e.\u0275\u0275pipeBind1(53,81,"Trident_Git_Branch")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(Q=null==t.branchesList?null:t.branchesList.length)&&void 0!==Q?Q:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==(null==t.filteredBranchesList?null:t.filteredBranchesList.length)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.filteredBranchesList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.branchesList?null:t.branchesList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!==t.branchesError&&null!==t.branchesError.message),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(62,83,"Trident_Git_Folder")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(64,85,"Trident_Git_Folder_Tooltip"))("triTooltipMaxWidth",240),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(67,87,t.folderInputDisabled$))("ngModel",t.selectedFolderName)("placeholder",e.\u0275\u0275pipeBind1(68,89,"Trident_Git_Select_Folder"))}}function Dl(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",41),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"Trident_Git_Connect_Permission")))}function Bl(i,r){1&i&&(e.\u0275\u0275elementStart(0,"button",48),e.\u0275\u0275element(1,"tri-spinner",49),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Trident_Git_Switch_Branch_Button_In_Progress")," "))}function Gl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",50),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.onSwitchBranchButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(1,3,t.switchButtonDisabled$)),e.\u0275\u0275attribute("data-testid","switch-branch-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,5,"Trident_Git_Switch_Branch_Button_Text")," ")}}function zl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",42),e.\u0275\u0275template(1,Bl,4,3,"button",45),e.\u0275\u0275template(2,Gl,4,7,"ng-template",null,46,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(4,"button",47),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onCancelSwitchButtonClick())}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275reference(3),o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.switchBranchRequestInProgress)("ngIfElse",t),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(5,5,o.cancelSwitchButtonDisabled$)),e.\u0275\u0275attribute("data-testid","cancel-switch-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,7,"Cancel_ButtonText")," ")}}function Al(i,r){1&i&&(e.\u0275\u0275elementStart(0,"button",48),e.\u0275\u0275element(1,"tri-spinner",49),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"UploadExcel_OneDriveProConnecting")," "))}function Rl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",50),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.onConnectButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",47),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.onCancelButtonClick())}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(1,6,t.connectButtonDisabled$)),e.\u0275\u0275attribute("data-testid","connect-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,8,"Trident_Git_Connect_And_Sync")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(5,10,t.cancelButtonDisabled$)),e.\u0275\u0275attribute("data-testid","cancel-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,12,"Cancel_ButtonText")," ")}}function Fl(i,r){if(1&i&&(e.\u0275\u0275template(0,Al,4,3,"button",45),e.\u0275\u0275template(1,Rl,8,14,"ng-template",null,51,e.\u0275\u0275templateRefExtractor)),2&i){var n=e.\u0275\u0275reference(2),t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngIf",t.connectionRequestInProgress||t.switchBranchRequestInProgress)("ngIfElse",n)}}function Wl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",42),e.\u0275\u0275template(1,zl,8,9,"div",43),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Fl,3,2,"ng-template",null,44,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275reference(4),t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,2,t.showSwitchButton$))("ngIfElse",n)}}var yn=function(i){return i[i.Loading=0]="Loading",i[i.Connected=1]="Connected",i[i.NotConnected=2]="NotConnected",i[i.NotConnectedAdmin=3]="NotConnectedAdmin",i}({}),Ll=function(i){function r(n,t,o,a){var l=i.call(this)||this;return l.telemetryService=n,l.localizationService=t,l.dialogService=o,l.featureSwitchService=a,l.isOnCapacity=!1,l.connectionRequestInProgress=!1,l.switchBranchRequestInProgress=null,l.workspaceMemberRole=null,l.organizationsList=null,l.organizationsError=null,l.selectedOrganization=null,l.organizationChange=new e.EventEmitter,l.projectsList=null,l.projectsError=null,l.selectedProject=null,l.projectChange=new e.EventEmitter,l.repositoriesList=null,l.repositoriesError=null,l.selectedRepository=null,l.repositoryChange=new e.EventEmitter,l.branchesList=null,l.branchesError=null,l.selectedBranch=null,l.branchChange=new e.EventEmitter,l.selectedFolderName=null,l.folderNameChange=new e.EventEmitter,l.newBranchState=null,l.createNewBranchChange=new e.EventEmitter,l.connectButtonClick=new e.EventEmitter,l.switchBranchButtonClick=new e.EventEmitter,l.cancelButtonClick=new e.EventEmitter,l.cancelSwitchButtonClick=new e.EventEmitter,l.workspaceAdminPermissions$=(0,he.of)(!1),l.showSwitchButton$=(0,he.of)(!1),l.FolderMememberRole=cn.R7,l.DisplayMode=yn,l.displayMode$=(0,he.of)(yn.Loading),l.folderInputDisabled$=new F.X(!0),l.isDifferentBranchSelected$=new F.X(!1),l.connectButtonDisabled$=new F.X(!0),l.cancelButtonDisabled$=new F.X(!0),l.switchButtonDisabled$=new F.X(!0),l.cancelSwitchButtonDisabled$=new F.X(!0),l.branchStateNotification$=new F.X(null),l.isSwitchBranchEnabled=!1,l.connectedBranch=null,l.organizationSearchInput="",l.filteredOrganizationsList=null,l.projectSearchInput="",l.filteredProjectsList=null,l.branchSearchInput="",l.filteredBranchesList=null,l.repoSearchInput="",l.filteredRepositoriesList=null,l}return(0,W.__extends)(r,i),Object.defineProperty(r.prototype,"isConnected",{get:function(){return!!this._isConnected},set:function(t){this._isConnected=t},enumerable:!1,configurable:!0}),r.prototype.ngOnInit=function(){var n=this;this.changes$("isConnected").pipe((0,be.h)(function(t){return!t}),(0,Re.R)(this.onDestroy$)).subscribe(function(){n.setOnDisconnectTriggers()}),this.changes$("newBranchState").pipe((0,be.h)(function(t){return!!t}),(0,Re.R)(this.onDestroy$)).subscribe(function(t){n.branchStateNotification$.next(t),(0,oe.pb)(t)||(n.setConnectButtonAndFolderSelection(!1),n.isSwitchBranchEnabled&&n.setSwitchBranchButtonsState(!1))}),this.changes$("switchBranchRequestInProgress").pipe((0,Re.R)(this.onDestroy$)).subscribe(function(t){null!==t&&n.cancelSwitchButtonDisabled$.next(t)}),this.displayMode$=(0,Ve.aj)([this.changes$("isConnected"),this.changes$("workspaceMemberRole")]).pipe((0,Ue.b)(function(t){n.isSwitchBranchEnabled=(0,cn.GJ)(t[1])&&n.isOnCapacity&&!!n.featureSwitchService.featureSwitches.tridentGitSwitchBranch}),(0,re.U)(function(t){return n.determineDisplayMode(t[0],t[1])})),this.workspaceAdminPermissions$=this.changes$("workspaceMemberRole").pipe((0,be.h)(function(t){return null!=t}),(0,ve.q)(1),(0,re.U)(function(t){return(0,cn.GJ)(t)})),this.connectedBranch=this.selectedBranch,this.showSwitchButton$=this.displayMode$.pipe((0,re.U)(function(t){return n.isSwitchBranchEnabled&&t===yn.Connected})),this.changes$("organizationsList").pipe((0,Re.R)(this.onDestroy$)).subscribe(function(t){n.organizationsList=t,n.filteredOrganizationsList=t}),this.changes$("projectsList").pipe((0,Re.R)(this.onDestroy$)).subscribe(function(t){n.projectsList=t,n.filteredProjectsList=t}),this.changes$("branchesList").pipe((0,Re.R)(this.onDestroy$)).subscribe(function(t){n.branchesList=t,n.filteredBranchesList=t}),this.changes$("repositoriesList").pipe((0,Re.R)(this.onDestroy$)).subscribe(function(t){n.repositoriesList=t,n.filteredRepositoriesList=t})},r.prototype.onOrganizationChange=function(n){this.selectedOrganization={name:n.text},this.organizationChange.emit(this.selectedOrganization),this.setConnectButtonAndFolderSelection(!0),this.cancelButtonDisabled$.next(!1)},r.prototype.onProjectChange=function(n){this.selectedProject={name:n.text},this.projectChange.emit(this.selectedProject),this.setConnectButtonAndFolderSelection(!0)},r.prototype.onRepositoryChange=function(n){this.selectedRepository={name:n.text},this.repositoryChange.emit(this.selectedRepository),this.setConnectButtonAndFolderSelection(!0)},r.prototype.onBranchChange=function(n){var t,o=null!=this.connectedBranch;if(this.isDifferentBranchSelected$.next(o),this.selectedBranch={name:n.text},o){var a=(null===(t=this.connectedBranch)||void 0===t?void 0:t.name)===this.selectedBranch.name;this.setSwitchBranchButtonsState(a)}this.branchChange.emit(this.selectedBranch),this.setConnectButtonAndFolderSelection(o)},r.prototype.onFolderNameChange=function(n){this.selectedFolderName=n,this.folderNameChange.emit(n)},r.prototype.onConnectButtonClick=function(){this.connectButtonClick.emit()},r.prototype.onSwitchBranchButtonClick=function(){this.switchBranchButtonClick.emit()},r.prototype.onCancelButtonClick=function(){this.setConnectButtonAndFolderSelection(!0),this.cancelButtonDisabled$.next(!0),this.cancelButtonClick.emit()},r.prototype.onCancelSwitchButtonClick=function(){this.selectedBranch=this.connectedBranch,this.isDifferentBranchSelected$.next(!1),this.setSwitchBranchButtonsState(!0),this.cancelSwitchButtonClick.emit()},r.prototype.onCreateBranchButtonClick=function(){this.branchStateNotification$.next(null);var n={data:{branchesList:this.branchesList,newBranchState$:this.branchStateNotification$.asObservable(),isWorkspaceConnected:this.isConnected,createNewBranchChange:this.createNewBranchChange}};this.telemetryService.logEvent({name:"Open create branch dialog",properties:{isWorkspaceConnected:this.isConnected}}),this.dialogService.open(Hc,n).afterClosed().pipe((0,ve.q)(1)).subscribe()},r.prototype.getDropdownOverlayOptions=function(n,t,o){return void 0===t&&(t=5),void 0===o&&(o=0),{dropdownHeight:this.calcDropdownHeight(0===n?0:n+o,t),dropdownMaxWidth:360,showFullContent:!1}},r.prototype.setSwitchBranchButtonsState=function(n){this.switchButtonDisabled$.next(n),this.cancelSwitchButtonDisabled$.next(n)},r.prototype.setConnectButtonAndFolderSelection=function(n){this.folderInputDisabled$.next(n),this.connectButtonDisabled$.next(n)},r.prototype.setSwitchBranchButtonVisibility=function(n){this.isDifferentBranchSelected$.next(n)},r.prototype.calcDropdownHeight=function(n,t){return function(i){return 0===i||1===i?46:i>0?i<=10?36*i+2*(i-1)+10:388:10}(n>t?t:n)},r.prototype.determineDisplayMode=function(n,t){return null===t?yn.Loading:n?yn.Connected:t===cn.R7.Admin?yn.NotConnectedAdmin:yn.NotConnected},r.prototype.setOnDisconnectTriggers=function(){this.setConnectButtonAndFolderSelection(!0),this.setSwitchBranchButtonVisibility(!1),this.connectedBranch=null},r.prototype.onOrganizationsSearch=function(n){var t;this.filteredOrganizationsList=this.filterListAndSearch(null!==(t=this.organizationsList)&&void 0!==t?t:[],n)},r.prototype.onProjectsSearch=function(n){var t;this.filteredProjectsList=this.filterListAndSearch(null!==(t=this.projectsList)&&void 0!==t?t:[],n)},r.prototype.onBranchesSearch=function(n){var t;this.filteredBranchesList=this.filterListAndSearch(null!==(t=this.branchesList)&&void 0!==t?t:[],n)},r.prototype.onReposSearch=function(n){var t;this.filteredRepositoriesList=this.filterListAndSearch(null!==(t=this.repositoriesList)&&void 0!==t?t:[],n)},r.prototype.getNoBranchesInRepoMessagBarViewModel=function(){return Ja(this.localizationService)},r.prototype.filterListAndSearch=function(n,t){return n.filter(function(o){var a,l;return!t||(null===(l=null===(a=o.text)||void 0===a?void 0:a.toLowerCase())||void 0===l?void 0:l.includes(t.toLowerCase()))})},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Tt.t),e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(Sa.j),e.\u0275\u0275directiveInject(gt.V$))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-connection-details-settings"]],inputs:{isConnected:"isConnected",isOnCapacity:"isOnCapacity",connectionRequestInProgress:"connectionRequestInProgress",switchBranchRequestInProgress:"switchBranchRequestInProgress",workspaceMemberRole:"workspaceMemberRole",organizationsList:"organizationsList",organizationsError:"organizationsError",selectedOrganization:"selectedOrganization",projectsList:"projectsList",projectsError:"projectsError",selectedProject:"selectedProject",repositoriesList:"repositoriesList",repositoriesError:"repositoriesError",selectedRepository:"selectedRepository",branchesList:"branchesList",branchesError:"branchesError",selectedBranch:"selectedBranch",selectedFolderName:"selectedFolderName",newBranchState:"newBranchState"},outputs:{organizationChange:"organizationChange",projectChange:"projectChange",repositoryChange:"repositoryChange",branchChange:"branchChange",folderNameChange:"folderNameChange",createNewBranchChange:"createNewBranchChange",connectButtonClick:"connectButtonClick",switchBranchButtonClick:"switchBranchButtonClick",cancelButtonClick:"cancelButtonClick",cancelSwitchButtonClick:"cancelSwitchButtonClick"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:9,vars:11,consts:[[1,"container",3,"ngSwitch"],["class","no_branches_in_repo_message_bar",3,"viewModel",4,"ngIf"],[4,"ngSwitchCase"],[3,"ngClass",4,"ngSwitchCase"],["class","footer",4,"ngIf"],[1,"no_branches_in_repo_message_bar",3,"viewModel"],["delay","0"],[1,"field",3,"triTooltip"],[4,"ngIf","ngIfElse"],["switchBranchDisabled",""],["id","switch-branch-dropdown-label",1,"with-tooltip"],[1,"star"],["tabindex","0",3,"name","triTooltip","triTooltipMaxWidth"],["aria-labelledby","switch-branch-dropdown-label",1,"field",3,"ngModel","disabled","isLoading","options","ngModelChange","valueChange"],["class","dropdown-search-with-divider",3,"value",4,"ngIf"],["class","action-and-divider",4,"ngIf"],[3,"title","value",4,"ngFor","ngForOf"],["class","empty-dropdown-message",3,"disabled",4,"ngIf"],[1,"dropdown-search-with-divider",3,"value"],[1,"action-and-divider"],["icon","add_16_regular",3,"text","actionClicked"],[3,"title","value"],[1,"empty-dropdown-message",3,"disabled"],[3,"ngClass"],["id","select-organization-dropdown"],["aria-labelledby","select-organization-dropdown",1,"field",3,"ngModel","options","disabled","isLoading","ngModelChange","valueChange"],["class","dropdown-search",3,"value",4,"ngIf"],["class","tri-flex error-message-container",4,"ngIf"],["id","select-project-dropdown"],["aria-labelledby","select-project-dropdown",1,"field",3,"ngModel","disabled","isLoading","options","ngModelChange","valueChange"],["id","select-repository-dropdown",1,"with-tooltip"],["aria-labelledby","select-repository-dropdown",1,"field",3,"ngModel","disabled","isLoading","options","ngModelChange","valueChange"],["tabindex","0"],["id","select-branch-dropdown",1,"with-tooltip"],["aria-labelledby","select-branch-dropdown",1,"field",3,"ngModel","disabled","isLoading","options","ngModelChange","valueChange"],["id","select-folder-input",1,"with-tooltip"],[1,"field","folder"],["aria-labelledby","select-folder-input",3,"disabled","ngModel","placeholder","ngModelChange"],[1,"dropdown-search",3,"value"],[1,"tri-flex","error-message-container"],["name","error_circle_12_filled",1,"error-message-icon"],[1,"subtitle"],[1,"footer"],["class","footer",4,"ngIf","ngIfElse"],["connectButton",""],["tri-button","","appearance","primary","class","connect-and-sync-button in-progress",4,"ngIf","ngIfElse"],["switchActive",""],["tri-button","",1,"cancel-button",3,"disabled","click"],["tri-button","","appearance","primary",1,"connect-and-sync-button","in-progress"],["size","tiny","labelPosition","after"],["tri-button","","appearance","primary",1,"connect-and-sync-button",3,"disabled","click"],["connectActive",""]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,rl,1,1,"tri-message-bar",1),e.\u0275\u0275template(3,ol,2,0,"div",2),e.\u0275\u0275template(4,ul,24,26,"div",2),e.\u0275\u0275template(5,El,69,93,"div",3),e.\u0275\u0275template(6,Dl,4,3,"div",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,Wl,5,4,"div",4),e.\u0275\u0275pipe(8,"async")),2&t&&(e.\u0275\u0275property("ngSwitch",e.\u0275\u0275pipeBind1(1,7,o.displayMode$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0===(null==o.branchesList?null:o.branchesList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.DisplayMode.Loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.DisplayMode.Connected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.DisplayMode.NotConnectedAdmin),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.DisplayMode.NotConnected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(8,9,o.workspaceAdminPermissions$)))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,g.NgSwitch,g.NgSwitchCase,p.Fj,p.JJ,p.On,Mt.M3,jt.l,os,qt.q,Mt.ii,et.h,Tn.U,je.D,P.M,xt.Z,g.AsyncPipe,w.Y],styles:["tri-collapsed-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:center;margin-bottom:16px}tri-dropdown-item[_ngcontent-%COMP%]{font-size:14px}tri-dropdown-item.empty-dropdown-message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:32px}tri-dropdown-item.empty-dropdown-message[_ngcontent-%COMP%]   .span[_ngcontent-%COMP%]{margin-left:4px}.no_branches_in_repo_message_bar[_ngcontent-%COMP%]{padding-top:12px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;font-size:14px;margin-bottom:16px}.container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-bottom:6px}.container[_ngcontent-%COMP%]   h4.with-tooltip[_ngcontent-%COMP%]{margin-bottom:2px}.container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span.star[_ngcontent-%COMP%]{color:var(--globalColorRedShade10)}.container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38);height:16px;width:16px;margin-left:6px;margin-bottom:6px}.container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%;max-width:360px;overflow-x:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin-top:14px}.container[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]{color:var(--colorNeutralForeground4);box-sizing:border-box}.container[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     button{padding:6px 6px 6px 3px;border-bottom:1px solid var(--globalColorGrey38);border-radius:var(--button-base-corner-radius)}.container[_ngcontent-%COMP%]   .folder[_ngcontent-%COMP%]{margin-bottom:16px}input[_ngcontent-%COMP%]{height:18px;width:inherit;padding:6px 8px;max-width:340px;border-radius:4px;border:1px solid var(--globalColorGrey82)}input[_ngcontent-%COMP%]:not(:disabled){border-bottom:1px solid var(--globalColorGrey38)}input[_ngcontent-%COMP%]:not(:disabled):focus{outline:none;border-bottom:2px solid var(--globalColorBrand80)}input[_ngcontent-%COMP%]:disabled{opacity:.4}.dropdown-search[_ngcontent-%COMP%]{width:100%}.dropdown-search-with-divider[_ngcontent-%COMP%]{width:100%;margin-bottom:2px}.action-and-divider[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-top:1px solid var(--globalColorGrey88);width:100%;margin-top:3px;margin-bottom:4px}.footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:8px}.footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border-radius:4px}.footer[_ngcontent-%COMP%]   .connect-and-sync-button[_ngcontent-%COMP%]{min-width:136px}.footer[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{min-width:66px}div.connection-loading[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}"],changeDetection:0}),r}(ln.w),nt=function(i){return i[i.NotConnected=0]="NotConnected",i[i.Connected=1]="Connected",i[i.NonAdmin=2]="NonAdmin",i[i.Admin=4]="Admin",i[i.FixedRepository=8]="FixedRepository",i[i.NotOnCapacity=16]="NotOnCapacity",i[i.NotConfigured=32]="NotConfigured",i}({}),Ln=function(i){return i[i.Hidden=0]="Hidden",i[i.ConnectAndSync=1]="ConnectAndSync",i[i.SwitchBranch=2]="SwitchBranch",i}({}),dt=function(i){return i[i.Hidden=0]="Hidden",i[i.Fixed=1]="Fixed",i[i.Textbox=2]="Textbox",i[i.Dropdown=3]="Dropdown",i}({}),$l={repository:dt.Hidden,branch:dt.Hidden,directory:dt.Hidden,button:Ln.Hidden},ka={repository:dt.Fixed,branch:dt.Fixed,directory:dt.Fixed,button:Ln.Hidden},Vl=['"',":","<",">","\\","*","?","|"],jl=[" ","."],Kl=[" "],Hl={getComponentConfig:function(i){var n;switch(i&~(nt.FixedRepository|nt.NotOnCapacity)){case nt.NotConnected|nt.Admin:n={repository:dt.Textbox,branch:dt.Dropdown,directory:dt.Textbox,button:Ln.ConnectAndSync};break;case nt.NotConnected|nt.NonAdmin:n={repository:dt.Hidden,branch:dt.Hidden,directory:dt.Hidden,button:Ln.Hidden};break;case nt.Connected|nt.Admin:n={repository:dt.Fixed,branch:dt.Dropdown,directory:dt.Fixed,button:Ln.SwitchBranch};break;case nt.Connected|nt.NonAdmin:n=ka;break;default:n=$l}return n=(0,W.__assign)((0,W.__assign)({},n),{state:i}),i&nt.FixedRepository&&(n.repository=dt.Fixed),i&nt.NotConfigured&&(n=(0,W.__assign)((0,W.__assign)({},ka),{state:i})),i&nt.NotOnCapacity&&(n=(0,W.__assign)((0,W.__assign)({},ka),{state:i})),n},onRepositoryChangeFunc:function(i,r,n){if(as(i)){var o=i.replace(/\/$|\.git$/g,""),l=new URL(o).pathname.split("/").filter(function(b){return b});if(2===l.length){var h=l[1];n.selectOrganization(r,l[0]),n.selectRepository(r,h)}}else n.selectOrganization(r,void 0),n.selectRepository(r,i)},getRepositoryFunc:function(i,r){return i?.gitConnectionDetails?(0,ze.rl)(i.gitConnectionDetails):r?.selectedOrganization&&r?.selectedRepository?"".concat("https://github.com","/").concat(r.selectedOrganization.name,"/").concat(r.selectedRepository.name):void 0},validateRepositoryUrl:as,validateDirectoryNameFunc:function(i){return!(i.length>256||Vl.some(function(r){return i.includes(r)})||Kl.some(function(r){return i.startsWith(r)})||jl.some(function(r){return i.endsWith(r)}))}};function as(i){var r=i.replace(/\/$|\.git$/g,"");return/^https:\/\/github\.com\/[^/]+\/[^/]+$/.test(r)}function ql(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",10),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("viewModel",n.getNoBranchesInRepoMessagBarViewModel())}}function ed(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",12),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Trident_Git_Auth_Dialog_Param_RepoUrl")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(5,6,n.repository$)),e.\u0275\u0275attribute("data-testid","repository-fixed"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,8,n.repository$)," ")}}function td(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",17),e.\u0275\u0275element(2,"tri-svg-icon",18),e.\u0275\u0275elementStart(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275attribute("data-testid","tri-git-connection-details-settings-v2-repository-error"),e.\u0275\u0275advance(1),e.\u0275\u0275property("name","error_circle_12_filled"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,3,"Trident_Git_Auth_Dialog_Param_RepoUrl_Error")," "))}var Ia=function(r){return{error:r}};function nd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",13)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"span",14),e.\u0275\u0275text(5," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"tri-svg-icon",15),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"input",16),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onRepositoryChange(a))}),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,td,6,5,"ng-container",0),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,8,"Trident_Git_Auth_Dialog_Param_RepoUrl")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(7,10,"Trident_Git_Auth_Dialog_Param_RepoUrl_Tooltip_GitHub")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(20,Ia,e.\u0275\u0275pipeBind1(9,12,t.repositoryInputError$)))("ngModel",e.\u0275\u0275pipeBind1(10,14,t.repositoryTextInput$))("placeholder",e.\u0275\u0275pipeBind1(11,16,"Trident_Git_Auth_Dialog_Param_RepoUrl_Placeholder")),e.\u0275\u0275attribute("data-testid","repository-text-input"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(13,18,t.repositoryInputError$))}}function id(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",12),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Trident_Git_Folder")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(5,6,n.directory$)),e.\u0275\u0275attribute("data-testid","directory-fixed"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,8,n.directory$)," ")}}function rd(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",12),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Trident_Git_Branch")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(5,6,n.branch$)),e.\u0275\u0275attribute("data-testid","branch-fixed"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,8,n.branch$)," ")}}function od(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",25),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.onBranchesSearch(o))}),e.\u0275\u0275elementEnd()}}function ad(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",26)(1,"tri-dropdown-action",27),e.\u0275\u0275listener("actionClicked",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(o.onCreateBranchButtonClick())}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"hr"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("text",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_New_Branch")))}function sd(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",28)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function cd(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",29)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Branches_Dropdown")))}function ld(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",17),e.\u0275\u0275element(2,"tri-svg-icon",18),e.\u0275\u0275elementStart(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275attribute("data-testid","tri-git-connection-details-settings-v2-branch-error"),e.\u0275\u0275advance(1),e.\u0275\u0275property("name","error_circle_12_filled"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,3,n.branchDropdownError$)," ")}}function dd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",19)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"span",14),e.\u0275\u0275text(5," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"tri-svg-icon",15),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"tri-dropdown",20),e.\u0275\u0275listener("ngModelChange",function(h){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.branchDropdownSelectedOption=h)})("valueChange",function(h){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.onBranchChange(h))}),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementStart(14,"tri-dropdown-trigger"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,od,1,0,"tri-search-box",21),e.\u0275\u0275template(18,ad,4,3,"span",22),e.\u0275\u0275template(19,sd,3,3,"tri-dropdown-item",23),e.\u0275\u0275template(20,cd,4,4,"tri-dropdown-item",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,ld,6,5,"ng-container",0),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,a,l,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,15,"Trident_Git_Branch")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(7,17,"Trident_Git_Branch_Tooltip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.branchDropdownSelectedOption)("ngClass",e.\u0275\u0275pureFunction1(33,Ia,e.\u0275\u0275pipeBind1(9,19,t.branchDropdownError$)))("options",t.getDropdownOverlayOptions(null!==(o=null==t.branchDropdownOptionsList?null:t.branchDropdownOptionsList.length)&&void 0!==o?o:0))("disabled",void 0===e.\u0275\u0275pipeBind1(10,21,t.repository$)||void 0===t.branchDropdownOptionsList||void 0!==e.\u0275\u0275pipeBind1(11,23,t.branchDropdownError$))("isLoading",void 0!==e.\u0275\u0275pipeBind1(12,25,t.repository$)&&void 0===t.branchDropdownOptionsList&&void 0===e.\u0275\u0275pipeBind1(13,27,t.branchDropdownError$)),e.\u0275\u0275attribute("data-testid","branch-dropdown"),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1(" ",null!==(a=null==t.branchDropdownSelectedOption?null:t.branchDropdownSelectedOption.text)&&void 0!==a?a:e.\u0275\u0275pipeBind1(16,29,"Trident_Git_Branch")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(l=null==t.branchDropdownOptionsList?null:t.branchDropdownOptionsList.length)&&void 0!==l?l:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==(null==t.branchDropdownOptionsList?null:t.branchDropdownOptionsList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.branchDropdownOptionsListFiltered),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.branchDropdownOptionsList?null:t.branchDropdownOptionsList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",void 0!==e.\u0275\u0275pipeBind1(22,31,t.branchDropdownError$))}}function pd(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",17),e.\u0275\u0275element(2,"tri-svg-icon",18),e.\u0275\u0275elementStart(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275attribute("data-testid","tri-git-connection-details-settings-v2-directory-error"),e.\u0275\u0275advance(1),e.\u0275\u0275property("name","error_circle_12_filled"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,3,"Trident_Git_Error_Git_InvalidDirectoryName_Title")," "))}function ud(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",13)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275element(4,"tri-svg-icon",15),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"input",30),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onDirectoryChange(a))}),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,pd,6,5,"ng-container",0),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,9,"Trident_Git_Folder")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(5,11,"Trident_Git_Folder_Tooltip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(23,Ia,e.\u0275\u0275pipeBind1(7,13,t.directoryInputError$)))("ngModel",e.\u0275\u0275pipeBind1(8,15,t.directory$))("disabled",void 0===e.\u0275\u0275pipeBind1(9,17,t.branch$))("placeholder",e.\u0275\u0275pipeBind1(10,19,"Trident_Git_Select_Folder")),e.\u0275\u0275attribute("data-testid","directory-text-input"),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(12,21,t.directoryInputError$))}}function gd(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_Connect_And_Sync")," "))}function _d(i,r){1&i&&(e.\u0275\u0275element(0,"tri-spinner",34),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize")),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"UploadExcel_OneDriveProConnecting")," "))}function md(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",31),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onConnectButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,gd,3,3,"ng-container",32),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,_d,3,3,"ng-template",null,33,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275reference(5),o=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(1,4,o.connectButtonDisabled$)),e.\u0275\u0275attribute("data-testid","connect-button"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(3,6,o.actionButtonInProgress$))("ngIfElse",t)}}function vd(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_Switch_Branch_Button_Text")," "))}function hd(i,r){1&i&&(e.\u0275\u0275element(0,"tri-spinner",34),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize")),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_Switch_Branch_Button_In_Progress")," "))}function fd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",31),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onSwitchBranchButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,vd,3,3,"ng-container",32),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,hd,3,3,"ng-template",null,33,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275reference(5),o=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(1,4,o.switchBranchButtonDisabled$)),e.\u0275\u0275attribute("data-testid","switch-branch-button"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(3,6,o.actionButtonInProgress$))("ngIfElse",t)}}function Cd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",35),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.onCancelButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(1,3,t.cancelButtonDisabled$)),e.\u0275\u0275attribute("data-testid","cancel-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,5,"Cancel_ButtonText")," ")}}function Sd(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ql,1,1,"tri-message-bar",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementContainerStart(3,3),e.\u0275\u0275template(4,ed,8,10,"div",4),e.\u0275\u0275template(5,nd,14,22,"div",5),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(6,3),e.\u0275\u0275template(7,id,8,10,"div",4),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(8,3),e.\u0275\u0275template(9,rd,8,10,"div",4),e.\u0275\u0275template(10,dd,23,35,"div",6),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(11,3),e.\u0275\u0275template(12,ud,13,25,"div",5),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",7),e.\u0275\u0275elementContainerStart(14,3),e.\u0275\u0275template(15,md,6,8,"button",8),e.\u0275\u0275template(16,fd,6,8,"button",8),e.\u0275\u0275template(17,Cd,4,7,"button",9),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=r.ngIf,t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.branchDropdownOptionsList?null:t.branchDropdownOptionsList.length)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitch",n.repository),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Fixed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Textbox),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",n.directory),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Fixed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",n.branch),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Fixed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Dropdown),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",n.directory),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Textbox),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitch",n.button),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ButtonDisplayMode.ConnectAndSync),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ButtonDisplayMode.SwitchBranch),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.button!==t.ButtonDisplayMode.Hidden)}}function yd(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Sd,18,15,"ng-container",0),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,n.componentConfig$))}}var wd=function(i){function r(n,t,o,a,l,m,h,b,z,Q,ie,Y){var te=i.call(this)||this;return te.gitSessionStorageService=n,te.gitConnectionService=t,te.gitConnectionDiscoveryService=o,te.gitErrorService=a,te.gitInitializationService=l,te.gitStatusService=m,te.gitSwitchBranchService=h,te.dialogService=b,te.localizationService=z,te.cdr=Q,te.featureSwitchService=ie,te.workspaceContextService=Y,te.closeWorkspaceSettings=new e.EventEmitter,te.loadComponentUtilitiesRecord$=(0,he.of)(),te.componentUtilitiesRecord$=new F.X(void 0),te.componentConfig$=(0,he.of)(),te.loadGitConnection$=(0,he.of)(),te.gitConnection$=new F.X(void 0),te.loadGitSessionStorageState$=(0,he.of)(),te.sessionStorageState$=new F.X(void 0),te.getDropdownOverlayOptions=el,te.ButtonDisplayMode=Ln,te.FieldDisplayMode=dt,te.organization$=(0,he.of)(),te.repository$=(0,he.of)(),te.repositoryTextInput$=new F.X(void 0),te.repositoryInputError$=new F.X(!1),te.repositoryDisplayValue$=new F.X(void 0),te.branch$=(0,he.of)(),te._branchDropdownOptionsList=void 0,te.branchDropdownOptionsListFiltered=void 0,te.branchDropdownError$=new F.X(void 0),te.directory$=(0,he.of)(),te.directoryInputError$=new F.X(!1),te.connectButtonDisabled$=(0,he.of)(!0),te.switchBranchButtonDisabled$=(0,he.of)(!0),te.actionButtonInProgress$=new F.X(!1),te.cancelButtonDisabled$=new F.X(!0),te.componentUtilities=function(){var i;return(i={})[oe.IS.AzureDevOps]=void 0,i[oe.IS.GitHub]=Hl,i}(),te}return(0,W.__extends)(r,i),r.prototype.ngOnInit=function(){var n=this,t=this.changes$("workspaceId").pipe((0,Ht.x)(),(0,be.h)(function(m){return!!m}),(0,ve.q)(1)),o=this.workspaceContextService.selectedWorkspacePermission$.pipe((0,re.U)(function(m){return(0,cn.GJ)((0,cn.lC)(m))})),a=this.workspaceContextService.selectedWorkspaceCapacitySkuTier$.pipe((0,re.U)(function(m){return m&&6!==m||n.featureSwitchService.featureSwitches.tridentGitOnShared})),l=(0,Ve.aj)([o.pipe((0,ve.q)(1)),a.pipe((0,ve.q)(1))]).pipe((0,re.U)(function(m){return{isAdmin:m[0],isWorkspaceOnCapacity:!!m[1]}}));this.loadGitConnection$=t.pipe((0,ht.w)(function(m){return n.gitConnectionService.ensureGitConnection(m)}),(0,Ht.x)(),(0,Ue.b)(function(m){return n.gitConnection$.next(m)})),this.loadGitSessionStorageState$=t.pipe((0,ht.w)(function(m){return n.gitSessionStorageService.loadGitSessionStorage(m)}),(0,Ht.x)(),(0,Ue.b)(function(m){return n.sessionStorageState$.next(m)})),this.loadComponentUtilitiesRecord$=this.sessionStorageState$.pipe((0,be.h)(function(m){return void 0!==m?.selectedGitProviderType}),(0,re.U)(function(m){return n.componentUtilities[m?.selectedGitProviderType]}),(0,Ht.x)(),(0,Ue.b)(function(m){return n.componentUtilitiesRecord$.next(m)})),this.componentConfig$=(0,Ve.aj)([l,this.gitConnection$,this.sessionStorageState$,this.componentUtilitiesRecord$]).pipe((0,Ht.x)(),(0,re.U)(function(m){var h=m[0],b=m[1],z=m[2],Q=m[3];if(h&&b&&z&&Q)return n.applyStateToConfigMap(h,b,z,Q)}),(0,Ue.b)(function(m){m?.branch!==dt.Fixed&&n.setBranchDropdownOptionsList()})),this.organization$=this.sessionStorageState$.pipe((0,re.U)(function(m){var h;return null===(h=m?.selectedOrganization)||void 0===h?void 0:h.name}),(0,Ht.x)()),this.repository$=(0,Ve.aj)([this.componentUtilitiesRecord$,this.gitConnection$,this.sessionStorageState$]).pipe((0,re.U)(function(m){var h=m[0],b=m[1],z=m[2];if(h?.getRepositoryFunc)return h.getRepositoryFunc(b,z)})),this.branch$=(0,Ve.aj)([this.gitConnection$,this.sessionStorageState$]).pipe((0,re.U)(function(m){var h=m[0],b=m[1];return b?.selectedBranch?(n.branchDropdownSelectedOption={key:b.selectedBranch,text:b.selectedBranch},b?.selectedBranch):h?.gitConnectionDetails?(n.branchDropdownSelectedOption={key:h.gitConnectionDetails.branchName,text:h.gitConnectionDetails.branchName},h.gitConnectionDetails.branchName):void 0}),(0,Ht.x)()),this.directory$=(0,Ve.aj)([this.gitConnection$,this.sessionStorageState$]).pipe((0,re.U)(function(m){var h=m[0],b=m[1];return h?.gitConnectionDetails?h.gitConnectionDetails.rootDirectory:b?.selectedDirectory}),(0,Ht.x)()),this.connectButtonDisabled$=(0,Ve.aj)([this.gitConnection$,this.sessionStorageState$,this.directoryInputError$]).pipe((0,re.U)(function(m){var h=m[0],b=m[1],z=m[2];return!(!h?.gitConnectionDetails&&b?.selectedBranch&&!1===z)})),this.switchBranchButtonDisabled$=(0,Ve.aj)([this.gitConnection$,this.sessionStorageState$,a]).pipe((0,re.U)(function(m){var h=m[0],b=m[1];return!(m[2]&&h?.gitConnectionDetails&&b?.selectedBranch)||h.gitConnectionDetails.branchName===b.selectedBranch}))},r.prototype.ngOnDestroy=function(){return this.unsetUserSelections(),i.prototype.ngOnDestroy.call(this)},r.prototype.onRepositoryChange=function(n){var t=this;this.repoTimeoutId&&clearTimeout(this.repoTimeoutId),this.repoTimeoutId=setTimeout(function(){var o,a,l;null===(o=t.componentUtilitiesRecord$.value)||void 0===o||o.onRepositoryChangeFunc(n,t.workspaceId,t.gitSessionStorageService),t.repositoryTextInput$.next(n);var m=null===(l=null===(a=t.componentUtilitiesRecord$.value)||void 0===a?void 0:a.validateRepositoryUrl(n))||void 0===l||l;t.repositoryInputError$.next(""!==n&&!m),m&&t.getBranches(),t.cancelButtonDisabled$.next(""===n)},300)},r.prototype.onBranchChange=function(n){this.gitSessionStorageService.selectBranch(this.workspaceId,n?.text),this.cancelButtonDisabled$.next(!1)},r.prototype.onBranchesSearch=function(n){var t;this.branchDropdownOptionsListFiltered=null===(t=this.branchDropdownOptionsList)||void 0===t?void 0:t.filter(function(o){return!n||o.text.toLowerCase().includes(n.toLowerCase())})},r.prototype.onDirectoryChange=function(n){var t,o;this.gitSessionStorageService.selectRootDirectory(this.workspaceId,n),this.directoryInputError$.next(null!==(o=!(null!==(t=this.componentUtilitiesRecord$.value)&&void 0!==t&&t.validateDirectoryNameFunc(n)))&&void 0!==o&&o)},r.prototype.onCreateBranchButtonClick=function(){var t,n=this,o=function(i,r,n){var t,o,a;return{panelClass:"dialog-style",width:(Be.PW.Medium+Be.PW.Small)/2+"px",data:{branchesList:null!==(t=i?.map(function(l){return l.text}))&&void 0!==t?t:[],details:{gitProviderType:r?.selectedGitProviderType,organizationName:n?.gitConnectionDetails?n.gitConnectionDetails.organizationName:null===(o=r?.selectedOrganization)||void 0===o?void 0:o.name,repositoryName:n?.gitConnectionDetails?n.gitConnectionDetails.repositoryName:null===(a=r?.selectedRepository)||void 0===a?void 0:a.name,datasourceOID:r?.selectedDatasourceOID},isWorkspaceConnected:n?.gitConnectionDetails,workspaceId:n?.workspaceId}}}(null!==(t=this.branchDropdownOptionsList)&&void 0!==t?t:[],this.sessionStorageState$.value,this.gitConnection$.value);this.dialogService.open(ze.a6,o).afterClosed().pipe((0,ve.q)(1),(0,Ue.b)(function(a){var l,m;if(a){var h=null!==(m=null===(l=n.branchDropdownOptionsList)||void 0===l?void 0:l.map(function(z){return z.text}))&&void 0!==m?m:[],b=(0,W.__spreadArray)((0,W.__spreadArray)([],h,!0),[a],!1);n.mapBranchesListToDropdown(b),n.gitSessionStorageService.selectBranch(n.workspaceId,a),n.cancelButtonDisabled$.next(!1)}})).subscribe()},r.prototype.onConnectButtonClick=function(){var n=this;if(!this.actionButtonInProgress$.getValue()){this.actionButtonInProgress$.next(!0);var t=this.createSaveConnectionRequest();t&&this.gitConnectionService.saveGitConnection(t).pipe((0,fa.b)(function(){return n.gitConnectionService.getGitConnectionOperationState(n.workspaceId).pipe((0,Re.R)(n.onDestroy$),(0,be.h)(function(o){return o===Z.CmZ.Completed||(0,oe.pb)(o)}),(0,ve.q)(1),(0,ht.w)(function(o){return n.actionButtonInProgress$.next(!1),(0,oe.pb)(o)&&(0,oe.yG)(o)?n.createNewDirectory():o===Z.CmZ.Completed?n.gitConnectionService.loadGitConnection(n.workspaceId).pipe((0,Re.R)(n.onDestroy$),(0,be.h)(function(a){return!!a}),(0,Ue.b)(function(a){n.gitConnection$.next(a),n.cancelButtonDisabled$.next(!0)}),(0,ht.w)(function(a){var l;return null!==(l=a?.gitConnectionDetails)&&void 0!==l&&l.isInitialized?(0,he.of)(void 0):n.initializeConnection()})):(n.actionButtonInProgress$.next(!1),(0,he.of)(void 0))}))}),(0,Dt.K)(function(o){return n.actionButtonInProgress$.next(!1),(0,he.of)(void 0)})).subscribe()}},r.prototype.onSwitchBranchButtonClick=function(){var t,n=this;this.actionButtonInProgress$.next(!0);var o=null===(t=this.gitConnection$.value)||void 0===t?void 0:t.gitConnectionDetails;return!1===o?.isInitialized?(this.actionButtonInProgress$.next(!1),void this.gitErrorService.handleClientSideGitError("Git_Workspace_Not_Initialized")):void 0===o?.head?(this.actionButtonInProgress$.next(!1),void this.gitErrorService.handleClientSideGitError("Git_HeadNotSynced")):void this.gitStatusService.getUncommittedChangesCount(this.workspaceId).pipe((0,ve.q)(1),(0,Ue.b)(function(a){a>0&&(n.actionButtonInProgress$.next(!1),n.gitErrorService.handleClientSideGitError("Git_GitSwitchBranchWithUncommittedChanges"))}),(0,be.h)(function(a){return 0===a}),(0,ht.w)(function(){return n.dialogService.open(ts,Za(n.localizationService)).afterClosed().pipe((0,ve.q)(1),(0,Ue.b)(function(a){a||n.actionButtonInProgress$.next(!1)}),(0,be.h)(function(a){return!!a}),(0,ht.w)(function(){var a=n.createSwitchBranchRequest();return a?n.gitSwitchBranchService.switchBranch(a).pipe((0,Dt.K)(function(l){return n.actionButtonInProgress$.next(!1),(0,he.of)(void 0)})):(0,he.of)(void 0)}),(0,ve.q)(1),(0,ht.w)(function(){return n.gitSwitchBranchService.getSwitchBranchState(n.workspaceId)}),(0,be.h)(function(a){return a===Z.ND3.Completed||(0,oe.pb)(a)}),(0,ht.w)(function(a){return n.actionButtonInProgress$.next(!1),a===Z.ND3.Completed?(n.closeWorkspaceSettings.emit(),n.gitConnectionService.loadGitConnection(n.workspaceId)):(0,he.of)(void 0)}))}),(0,Re.R)(this.onDestroy$)).subscribe()},r.prototype.onCancelButtonClick=function(){this.returnToInitialState()},r.prototype.getNoBranchesInRepoMessagBarViewModel=function(){return Ja(this.localizationService)},r.prototype.getBranches=function(){var n=this;this.branchDropdownError$.next(void 0);var t=this.createGetBranchesRequest();t&&this.gitConnectionDiscoveryService.getBranches(t).pipe((0,ve.q)(1),(0,Ue.b)(function(o){var a=o.map(function(l){return l.name});n.mapBranchesListToDropdown(a)}),(0,Dt.K)(function(o){var a=n.getBranchDropdownError(o);return n.branchDropdownError$.next(a),(0,he.of)(void 0)})).subscribe()},r.prototype.getBranchDropdownError=function(n){var t,o=null===(t=n?.error)||void 0===t?void 0:t.code;return"Git_ItemNotFound"===o||"Git_GitProviderBadCredentials"===o?this.localizationService.get("Trident_Git_Item_Not_Found_On_Get_branches"):this.gitErrorService.getErrorContent("Git_Get_Branches_Failed").message},r.prototype.mapBranchesListToDropdown=function(n){var t=n.sort(function(o,a){return o.toLocaleLowerCase()>a.toLocaleLowerCase()?1:-1});this.branchDropdownOptionsList=t.map(function(o){return{key:o,text:o}}),this.cdr.detectChanges()},r.prototype.returnToInitialState=function(){this.unsetUIstate(),this.unsetUserSelections(),this.setBranchDropdownOptionsList()},r.prototype.unsetUIstate=function(){this.actionButtonInProgress$.next(!1),this.cancelButtonDisabled$.next(!0),this.repositoryTextInput$.next(void 0),this.repositoryInputError$.next(!1),this.branchDropdownError$.next(void 0),this.directoryInputError$.next(!1)},r.prototype.unsetUserSelections=function(){var n,t,o=this.sessionStorageState$.value;!(null===(n=o?.selectedOrganization)||void 0===n)&&n.setByDatasource||this.gitSessionStorageService.selectOrganization(this.workspaceId,void 0),!(null===(t=o?.selectedRepository)||void 0===t)&&t.setByDatasource||this.gitSessionStorageService.selectRepository(this.workspaceId,void 0),this.gitSessionStorageService.selectBranch(this.workspaceId,void 0),this.gitSessionStorageService.selectRootDirectory(this.workspaceId,void 0)},r.prototype.applyStateToConfigMap=function(n,t,o,a){var l,m,h;return h=n.isAdmin?nt.Admin:nt.NonAdmin,n.isWorkspaceOnCapacity||(h|=nt.NotOnCapacity),h|=t?.gitConnectionDetails?nt.Connected:nt.NotConnected,!(null===(l=o?.selectedRepository)||void 0===l)&&l.setByDatasource&&!(null===(m=o?.selectedOrganization)||void 0===m)&&m.setByDatasource&&(h|=nt.FixedRepository),o?.isConfigured||(h|=nt.NotConfigured),a.getComponentConfig(h)},r.prototype.setBranchDropdownOptionsList=function(){var n,t,o,a,l,m,h,b,z,Q;(null!==(n=this.gitConnection$.value)&&void 0!==n&&n.gitConnectionDetails&&void 0===this.branchDropdownOptionsList||null!==(o=null===(t=this.sessionStorageState$.value)||void 0===t?void 0:t.selectedOrganization)&&void 0!==o&&o.setByDatasource&&null!==(l=null===(a=this.sessionStorageState$.value)||void 0===a?void 0:a.selectedRepository)&&void 0!==l&&l.setByDatasource&&void 0===this.branchDropdownOptionsList)&&this.getBranches();var ie=null!==(h=null===(m=this.sessionStorageState$.value)||void 0===m?void 0:m.selectedBranch)&&void 0!==h?h:null!==(Q=null===(z=null===(b=this.gitConnection$.value)||void 0===b?void 0:b.gitConnectionDetails)||void 0===z?void 0:z.branchName)&&void 0!==Q?Q:void 0;this.branchDropdownSelectedOption=ie?{key:ie,text:ie}:void 0},r.prototype.createGetBranchesRequest=function(){var n,t,o=this.gitConnection$.value,a=this.sessionStorageState$.value;return this.workspaceId&&o?.gitConnectionDetails?{workspaceId:this.workspaceId,gitProviderType:o.gitConnectionDetails.gitProviderType,organization:o.gitConnectionDetails.organizationName,repository:o.gitConnectionDetails.repositoryName,project:void 0,datasourceOID:null!==(t=null===(n=o.gitConnectionDetails)||void 0===n?void 0:n.datasourceOID)&&void 0!==t?t:a?.selectedDatasourceOID}:this.workspaceId&&a?.selectedGitProviderType&&a?.selectedOrganization&&a?.selectedRepository&&a?.selectedDatasourceOID?{workspaceId:this.workspaceId,gitProviderType:a.selectedGitProviderType,organization:a.selectedOrganization.name,repository:a.selectedRepository.name,project:void 0,datasourceOID:a.selectedDatasourceOID}:void 0},r.prototype.createNewDirectoryRequest=function(){var n,t=this.sessionStorageState$.value;if(this.workspaceId&&t?.selectedGitProviderType&&t?.selectedOrganization&&t?.selectedRepository&&t?.selectedBranch&&t?.selectedDatasourceOID)return{workspaceId:this.workspaceId,providerType:t.selectedGitProviderType,organizationName:t.selectedOrganization.name,repositoryId:t.selectedRepository.name,branchName:t.selectedBranch,datasourceOID:t?.selectedDatasourceOID,newDirectoryName:null!==(n=t?.selectedDirectory)&&void 0!==n?n:""}},r.prototype.createNewDirectory=function(){var t,o,n=this;return this.dialogService.open(qa,function(i,r){return{panelWidth:"400px",panelClass:"dialog-style",data:{title:r.get("Trident_Git_Add_New_Folder_Title"),buttons:[{name:r.get("Trident_Git_Create_And_Sync"),label:r.get("Trident_Git_Create_And_Sync"),buttonType:"primary"},{name:r.get("Cancel_ButtonText"),label:r.get("Cancel_ButtonText"),buttonType:null}],folderName:i,content:r.get("Trident_Git_Create_New_Folder_Content")}}}(null!==(o=null===(t=this.sessionStorageState$.value)||void 0===t?void 0:t.selectedDirectory)&&void 0!==o?o:"",this.localizationService)).afterClosed().pipe((0,ve.q)(1),(0,be.h)(function(a){return a}),(0,ht.w)(function(){var a=n.createNewDirectoryRequest();return a?n.gitConnectionDiscoveryService.createDirectory(a).pipe((0,Ue.b)(function(){return n.onConnectButtonClick()}),(0,Dt.K)(function(l){return(0,oe.Fc)(l)?n.gitErrorService.handleSyncGitError("Git_InvalidDirectoryName",l):n.gitErrorService.handleSyncGitError("Git_Create_Folder_Failed",l),(0,he.of)(void 0)})):(0,he.of)(void 0)}),(0,ve.q)(1))},r.prototype.createSaveConnectionRequest=function(){var n,t=this.sessionStorageState$.value;if(this.workspaceId&&t?.selectedGitProviderType&&t?.selectedOrganization&&t?.selectedRepository&&t?.selectedBranch)return{workspaceId:this.workspaceId,gitConnectionDetails:{gitProviderType:t.selectedGitProviderType,organizationName:t.selectedOrganization.name,projectName:void 0,repositoryName:t.selectedRepository.name,branchName:t.selectedBranch,rootDirectory:null!==(n=t?.selectedDirectory)&&void 0!==n?n:"/",datasourceOID:t?.selectedDatasourceOID}}},r.prototype.createSwitchBranchRequest=function(){var n,t,o,a,l;if(null!==(t=null===(n=this.gitConnection$.value)||void 0===n?void 0:n.gitConnectionDetails)&&void 0!==t&&t.head&&null!==(o=this.sessionStorageState$.value)&&void 0!==o&&o.selectedBranch&&this.sessionStorageState$.value.selectedBranch!==(null===(l=null===(a=this.gitConnection$.value)||void 0===a?void 0:a.gitConnectionDetails)||void 0===l?void 0:l.branchName))return{workspaceId:this.workspaceId,request:{workspaceHead:this.gitConnection$.value.gitConnectionDetails.head,targetBranchName:this.sessionStorageState$.value.selectedBranch}}},r.prototype.createInitializeRequest=function(n){return{workspaceId:this.workspaceId,request:{mergePolicy:n}}},r.prototype.initializeConnection=function(){var n=this,t=this.createInitializeRequest(Ze.None);return this.gitInitializationService.initializeGitConnection(t).pipe((0,fa.b)(function(){return n.gitInitializationService.getGitInitializationCallState(n.workspaceId).pipe((0,Re.R)(n.onDestroy$),(0,Ue.b)(function(o){o===Z.CmZ.Completed&&n.closeWorkspaceSettings.emit()}),(0,be.h)(function(o){return(0,oe.pb)(o)&&(0,oe.E6)(o)}),(0,ve.q)(1),(0,ht.w)(function(){return n.closeWorkspaceSettings.emit(),n.dialogService.open(_e,{panelClass:"dialog-style",width:Be.PW.Medium+"px"}).afterClosed().pipe((0,ve.q)(1),(0,Ue.b)(function(o){(o===Ze.KeepYours||o===Ze.TakeTheirs)&&(t=n.createInitializeRequest(o),n.gitInitializationService.initializeGitConnection(t))}))}))}))},Object.defineProperty(r.prototype,"branchDropdownOptionsList",{get:function(){return this._branchDropdownOptionsList},set:function(t){this._branchDropdownOptionsList=t,this.branchDropdownOptionsListFiltered=t},enumerable:!1,configurable:!0}),r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Z.gCl),e.\u0275\u0275directiveInject(ze.rC),e.\u0275\u0275directiveInject(ze.eL),e.\u0275\u0275directiveInject(Ee.jR),e.\u0275\u0275directiveInject(qe),e.\u0275\u0275directiveInject(Qa),e.\u0275\u0275directiveInject(ze.Mv),e.\u0275\u0275directiveInject(Be.uQ),e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(gt.V$),e.\u0275\u0275directiveInject(Ya._))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-connection-details-settings-v2"]],inputs:{workspaceId:"workspaceId"},outputs:{closeWorkspaceSettings:"closeWorkspaceSettings"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:7,consts:[[4,"ngIf"],["class","no_branches_in_repo_message_bar",3,"viewModel",4,"ngIf"],[1,"git-connection-details-settings"],[3,"ngSwitch"],["class","fixed-style",4,"ngSwitchCase"],["class","textbox-style",4,"ngSwitchCase"],["class","dropdown-style",4,"ngSwitchCase"],[1,"buttons"],["tri-button","","appearance","primary",3,"disabled","click",4,"ngSwitchCase"],["tri-button","",3,"disabled","click",4,"ngIf"],[1,"no_branches_in_repo_message_bar",3,"viewModel"],[1,"fixed-style"],[3,"triTooltip"],[1,"textbox-style"],[1,"mandatory"],[3,"name","triTooltip"],["type","text",3,"ngClass","ngModel","placeholder","ngModelChange"],["tri-textfield-error","",1,"error-message"],["tri-svg-icon-12","",3,"name"],[1,"dropdown-style"],[3,"ngModel","ngClass","options","disabled","isLoading","ngModelChange","valueChange"],["class","dropdown-search-with-divider",3,"value",4,"ngIf"],["class","action-and-divider",4,"ngIf"],[3,"title","value",4,"ngFor","ngForOf"],["class","empty-dropdown-message",3,"disabled",4,"ngIf"],[1,"dropdown-search-with-divider",3,"value"],[1,"action-and-divider"],["icon","add_16_regular",3,"text","actionClicked"],[3,"title","value"],[1,"empty-dropdown-message",3,"disabled"],["type","text",3,"ngClass","ngModel","disabled","placeholder","ngModelChange"],["tri-button","","appearance","primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["loading",""],["size","tiny","labelPosition","after"],["tri-button","",3,"disabled","click"]],template:function(t,o){1&t&&(e.\u0275\u0275template(0,yd,3,3,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async")),2&t&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,o.loadGitConnection$)&&e.\u0275\u0275pipeBind1(2,3,o.loadGitSessionStorageState$)&&e.\u0275\u0275pipeBind1(3,5,o.loadComponentUtilitiesRecord$))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,g.NgSwitch,g.NgSwitchCase,p.Fj,p.JJ,p.On,Mt.M3,jt.l,os,qt.q,Mt.ii,et.h,Tn.U,je.D,P.M,xt.Z,g.AsyncPipe,w.Y],styles:[".no_branches_in_repo_message_bar[_ngcontent-%COMP%]{padding-top:12px}.git-connection-details-settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:20px;gap:24px}.git-connection-details-settings[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.git-connection-details-settings[_ngcontent-%COMP%]   .fixed-style[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px;margin-top:28px}h4[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:4px;margin:0;font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold)}h4[_ngcontent-%COMP%]   span.mandatory[_ngcontent-%COMP%]{color:var(--globalColorRedShade10)}h4[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38)}.textbox-style[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.textbox-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid var(--globalColorGrey82);border-radius:4px;padding:6px 10px 6px 12px;box-sizing:border-box;width:360px}.textbox-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{opacity:.4}.textbox-style[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border:1px solid var(--globalColorCranberryPrimary)}.textbox-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:disabled):not(.error){border-bottom:1px solid var(--globalColorGrey38)}.textbox-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:disabled):focus{outline:none}.textbox-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:disabled):focus:not(.error){border-bottom:2px solid var(--globalColorBrand80)}.dropdown-style[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.dropdown-style[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]{width:100%;max-width:360px;overflow-x:hidden;text-overflow:ellipsis;color:var(--colorNeutralForeground4);box-sizing:border-box}.dropdown-style[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     button{border:1px solid var(--globalColorGrey82);border-radius:4px;padding:6px 10px 6px 12px;box-sizing:border-box;width:360px}.dropdown-style[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     button:disabled{opacity:.4}.dropdown-style[_ngcontent-%COMP%]   .action-and-divider[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-top:1px solid var(--globalColorGrey88);width:100%;margin-top:3px;margin-bottom:4px}.dropdown-style.error[_ngcontent-%COMP%]{border:1px solid var(--globalColorCranberryPrimary)}.dropdown-search-with-divider[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;margin-bottom:2px}.error-message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:4px;color:var(--globalColorCranberryPrimary);fill:var(--globalColorCranberryPrimary)}.error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200)}"],changeDetection:0}),r}(ln.w);function kd(i,r){1&i&&(e.\u0275\u0275elementStart(0,"h4",3),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Trident_Git_AAD")))}function Id(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"h4",3),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerStart(6,5),e.\u0275\u0275template(7,kd,3,3,"h4",6),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementStart(8,"div",4),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,5,"Trident_Git_Provider")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.gitProviderTypeDisplayName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",n.selectedGitProviderType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",n.GitProviderTypeSwitch.AzureDevOps),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.userAccount)}}function xd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",4),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"a",7)(4,"button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onClickAdoSignup())}),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"Trident_Git_ADO_Signup")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,4,"Trident_Git_ADO_Signup_Button")," "))}var Md=function(i){function r(n){var t=i.call(this)||this;return t.telemetryService=n,t.selectedGitProviderType=oe.IS.AzureDevOps,t.userAccount=null,t.gitProviderTypeChange=new e.EventEmitter,t.GitProviderTypeSwitch=oe.IS,t.gitProviderTypesList=[oe.IS.AzureDevOps],t.gitProviderTypeDisplayName=t.gitProviderTypeEnumToString(oe.IS.AzureDevOps),t}return(0,W.__extends)(r,i),r.prototype.onGitProviderTypeChange=function(n){this.selectedGitProviderType=n,this.gitProviderTypeDisplayName=this.gitProviderTypeEnumToString(n),this.gitProviderTypeChange.emit(n)},r.prototype.onClickAdoSignup=function(){this.telemetryService.logEvent({name:"Navigate to Git provider signup from connection settings",properties:{gitProvider:oe.IS.AzureDevOps}})},r.prototype.gitProviderTypeEnumToString=function(n){return oe.IS[n]},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Tt.t))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-provider-settings"]],inputs:{selectedGitProviderType:"selectedGitProviderType",userAccount:"userAccount"},outputs:{gitProviderTypeChange:"gitProviderTypeChange"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:2,consts:[[1,"container"],[4,"ngIf","ngIfElse"],["noAccount",""],[1,"title"],[1,"content"],[3,"ngSwitch"],["class","title",4,"ngSwitchCase"],["href","https://azure.microsoft.com/en-us/products/devops/","target","_blank","rel","noopener noreferrer"],["tri-button","",1,"signup-button",3,"click"]],template:function(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Id,10,7,"ng-container",1),e.\u0275\u0275template(2,xd,7,6,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t){var a=e.\u0275\u0275reference(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.userAccount)("ngIfElse",a)}},dependencies:[g.NgIf,g.NgSwitch,g.NgSwitchCase,w.Y],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;margin-top:6px;height:100%;font-size:14px}.title[_ngcontent-%COMP%]{margin-top:8px}h4[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:14px}.content[_ngcontent-%COMP%]{margin-top:4px}.signup-button[_ngcontent-%COMP%]{margin-top:16px}"],changeDetection:0}),r}(ln.w);function Pd(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",11),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.getWorkspaceNotOnPremiumWarningContainer())}}function Td(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",11),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.getTenantAdminFSDisabledWarningContainer())}}function Od(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",11),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.getTemplateAppNotSupportedWarningContainer())}}function Ed(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",11),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.getAdoMFAErrorContainer())}}function Dd(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-git-provider-accounts",12),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("workspaceId",n.workspaceId)}}function Bd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-git-provider-settings",13),e.\u0275\u0275listener("gitProviderTypeChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.onGitProviderTypeChange(a))}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("userAccount",t.userAccount)}}function Gd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-git-connection-details-settings-v2",14),e.\u0275\u0275listener("closeWorkspaceSettings",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.closeWorkspaceSettings())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("workspaceId",t.workspaceId)}}function zd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-git-connection-details-settings",16),e.\u0275\u0275listener("organizationChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onOrganizationChange(a))})("projectChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onProjectChange(a))})("repositoryChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onRepositoryChange(a,!1))})("branchChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onBranchChange(a))})("folderNameChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onFolderNameChange(a))})("createNewBranchChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onCreateNewBranch(a))})("connectButtonClick",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onConnectButtonClick())})("switchBranchButtonClick",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onSwitchBranchButtonClick())})("cancelButtonClick",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onCancelButtonClick())})("cancelSwitchButtonClick",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onSwitchCancelButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("isOnCapacity",e.\u0275\u0275pipeBind1(1,19,t.isWorkspaceOnCapacity$))("isConnected",e.\u0275\u0275pipeBind1(2,21,t.isConnected$))("connectionRequestInProgress",e.\u0275\u0275pipeBind1(3,23,t.connectionRequestInProgress$))("switchBranchRequestInProgress",e.\u0275\u0275pipeBind1(4,25,t.switchBranchRequestInProgress$))("workspaceMemberRole",e.\u0275\u0275pipeBind1(5,27,t.workspaceMemberRole$))("organizationsList",e.\u0275\u0275pipeBind1(6,29,t.organizationsList$))("organizationsError",t.organizationsError)("selectedOrganization",e.\u0275\u0275pipeBind1(7,31,t.selectedOrganization$))("projectsList",e.\u0275\u0275pipeBind1(8,33,t.projectsList$))("projectsError",t.projectsError)("selectedProject",e.\u0275\u0275pipeBind1(9,35,t.selectedProject$))("repositoriesList",e.\u0275\u0275pipeBind1(10,37,t.repositoriesList$))("repositoriesError",t.repositoriesError)("selectedRepository",e.\u0275\u0275pipeBind1(11,39,t.selectedRepository$))("branchesList",e.\u0275\u0275pipeBind1(12,41,t.branchesList$))("branchesError",t.branchesError)("selectedBranch",e.\u0275\u0275pipeBind1(13,43,t.selectedBranch$))("newBranchState",e.\u0275\u0275pipeBind1(14,45,t.newBranchState$))("selectedFolderName",e.\u0275\u0275pipeBind1(15,47,t.selectedFolderName$))}}function Ad(i,r){if(1&i&&(e.\u0275\u0275template(0,zd,16,49,"tri-git-connection-details-settings",15),e.\u0275\u0275pipe(1,"async")),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,n.showConnectionDetails))}}function Rd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",17)(1,"button",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onDisconnectButtonClick())}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Trident_Git_Disconnect_Workspace")," "))}var Fd=function(i){function r(n,t,o,a,l,m,h,b,z,Q,ie,Y,te,$n,Ni){var Yt,q=i.call(this)||this;return q.tridentDialogService=n,q.localizationService=t,q.gitAdminSwitchesService=o,q.gitConnectionService=a,q.gitConnectionDiscoveryService=l,q.gitInitializationService=m,q.gitErrorService=h,q.gitNotificationService=b,q.gitSwitchBranchService=z,q.gitStatusService=Q,q.telemetryService=ie,q.gitSessionStorageService=Y,q.workspaceContextService=te,q.userInfoTridentService=$n,q.featureSwitchService=Ni,q.workspaceId="",q.workspaceName="",q.closeWorkspaceSettingsFromTab=new e.EventEmitter,q.Title="",q.LoadingState=Z.Gui,q.loadingState$=(0,he.of)(Z.Gui.Initial),q.connectionRequestInProgress$=new F.X(!1),q.switchBranchRequestInProgress$=new F.X(null),q.isConnected$=new F.X(!1),q.workspaceMemberRole$=(0,he.of)(null),q.isServiceAppWorkspace$=(0,he.of)(!1),q.isAdoMFANeeded$=new F.X(!1),q.isWorkspaceOnCapacity$=new F.X(!1),q.showConnectionDetails=new F.X(!1),q.isAdminFeatureSwitchEnabled$=(0,he.of)(!1),q.FolderMemberRole=cn.R7,q.currentSelection$=new F.X(At.None),q.selectedGitProviderType$=new F.X(oe.IS.AzureDevOps),q.gitProviderTypesList=[oe.IS.AzureDevOps],q.selectedOrganization$=new F.X(null),q.organizationsList$=new F.X(null),q.organizationsError=null,q.selectedProject$=new F.X(null),q.projectsList$=new F.X(null),q.projectsError=null,q.selectedRepository$=new F.X(null),q.repositoriesList$=new F.X(null),q.repositoriesError=null,q.selectedBranch$=new F.X(null),q.newBranchState$=new F.X(null),q.branchesList$=new F.X(null),q.branchesError=null,q.componentConfigMap=(0,ze.EI)(),q.showGenericUI=q.featureSwitchService.featureSwitches.tridentGitGitHubApis,q.showConnectionDetailsV2$=(0,he.of)(),q.disableAndCollapseConnectionDetails$=(0,he.of)(!0),q.selectedFolderName$=new F.X(null),q.isFolderExists$=new F.X(!0),q.selectionMetadata=((Yt={})[At.Organization]={selected$:q.selectedOrganization$,list$:q.organizationsList$},Yt[At.Project]={selected$:q.selectedProject$,list$:q.projectsList$},Yt[At.Repository]={selected$:q.selectedRepository$,list$:q.repositoriesList$},Yt[At.Branch]={selected$:q.selectedBranch$,list$:q.branchesList$},Yt),q.userAccount=q.userInfoTridentService.name,q}return(0,W.__extends)(r,i),r.prototype.ngOnInit=function(){var n=this;this.isAdminFeatureSwitchEnabled$=this.gitAdminSwitchesService.isTenantAdminEnabled(this.workspaceId),this.workspaceContextService.selectedWorkspaceCapacitySkuTier$.pipe((0,Re.R)(this.onDestroy$)).subscribe(function(a){n.isWorkspaceOnCapacity$.next(!!(a&&6!==a||n.featureSwitchService.featureSwitches.tridentGitOnShared)),n.gitSessionStorageService.selectWorkspaceCapacity(n.workspaceId,n.isWorkspaceOnCapacity$.value)}),this.isServiceAppWorkspace$=this.workspaceContextService.selectedWorkspaceIsServiceApp$;var t=this.localizationService.get("Trident_Git_Git_Integration"),o=this.localizationService.get("Preview");this.Title="".concat(t," (").concat(o,")"),(0,Ve.aj)([this.isServiceAppWorkspace$,this.isAdoMFANeeded$,this.isWorkspaceOnCapacity$,this.isConnected$,this.isAdminFeatureSwitchEnabled$]).pipe((0,Re.R)(this.onDestroy$)).subscribe(function(a){n.showConnectionDetails.next(null!==n.userAccount&&!a[0]&&!a[1]&&a[4]&&(a[3]||a[2]))}),(0,Ve.aj)([this.gitConnectionService.ensureGitConnection(this.workspaceId,!0).pipe((0,be.h)(function(a){return a?.callState!==Z.CmZ.Initial&&a?.callState!==Z.CmZ.InProgress}),(0,ve.q)(1)),this.showConnectionDetails.pipe((0,Ht.x)())]).pipe((0,Re.R)(this.onDestroy$)).subscribe(function(a){var l=a[0],m=a[1];l&&l?.gitConnectionDetails&&!(0,oe.pb)(l?.callState)?l?.gitConnectionDetails&&(n.setExistingConnection(l.gitConnectionDetails),n.userAccount&&n.gitSessionStorageService.selectUserAccount(n.workspaceId,n.userAccount)):m&&n.returnToDefaultState()}),this.loadingState$=this.gitConnectionService.getGitConnectionOperationState(this.workspaceId),this.workspaceContextService.selectedWorkspacePermission$.pipe((0,ve.q)(1),(0,re.U)(function(a){return n.workspaceMemberRole$=(0,he.of)((0,cn.lC)(a))})).subscribe(),this.initializeUISettings(),this.logOpenGitIntegrationTabEvent()},r.prototype.getWorkspaceNotOnPremiumWarningContainer=function(){return function(i){return{bannerType:2,message:i.get("Trident_Git_Premium_License"),linkDisplayName:i.get("LearnMore"),link:"https://go.microsoft.com/fwlink/?linkid=2235445&clcid=0x409"}}(this.localizationService)},r.prototype.getTemplateAppNotSupportedWarningContainer=function(){return function(i){return{bannerType:2,message:i.get("Trident_Git_ServiceApp_NotSupported_Warning")}}(this.localizationService)},r.prototype.getAdoMFAErrorContainer=function(){return function(i){return{bannerType:1,message:i.get("Trident_Git_ADO_MFANotSupported_Error")}}(this.localizationService)},r.prototype.getTenantAdminFSDisabledWarningContainer=function(){return function(i){return{bannerType:2,message:i.get("Trident_Git_TenantAdminSwitchDisabled_Message")}}(this.localizationService)},r.prototype.getSelectionValue=function(n){var t=this.selectionMetadata[n];return t?t.selected$:void 0},r.prototype.getSelectionList=function(n){var t=this.selectionMetadata[n];return t?t.list$:void 0},r.prototype.resetList=function(n){n?.next(null)},r.prototype.updateState=function(n){this.currentSelection$.next(n),this.resetPriorSelections(n)},r.prototype.resetPriorSelections=function(n){for(var t=++n;t<At.IteratorLast;t++){var o=this.getSelectionList(t);this.resetList(o);var a=this.getSelectionValue(t);a?.next(null)}this.organizationsError=null,this.projectsError=null,this.repositoriesError=null,this.branchesError=null},r.prototype.onGitProviderTypeChange=function(n){var t=this;this.updateState(At.GitProviderType),this.selectedGitProviderType$.next(n),this.organizationsError=null,this.gitConnectionDiscoveryService.getOrganizations(n,this.workspaceId).pipe((0,re.U)(function(o){var a=t.sortArray(o.map(function(l){return{key:l.name,text:l.name}}));t.organizationsList$.next(a)}),(0,Dt.K)(function(o){var a=t.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",o);return(0,oe.xT)(a,"Git_GitProviderResourceNotExistOrUnauthorized")&&(t.userAccount=null),(0,oe.xT)(a,"Git_AdoConditionalAccessNotSupported")&&t.isAdoMFANeeded$.next(!0),t.organizationsList$.next([]),t.organizationsError=(0,oe.lz)(a),(0,he.of)([])})).subscribe()},r.prototype.onOrganizationChange=function(n){var t=this;this.logGitSelection("Git organization selected",this.organizationsList$),this.updateState(At.Organization),this.selectedOrganization$.next(n),this.projectsError=null,this.gitConnectionDiscoveryService.getProjects(this.selectedGitProviderType$.value,n.name,this.workspaceId).pipe((0,re.U)(function(o){var a=t.sortArray(o.map(function(l){return{key:l.name,text:l.name}}));t.projectsList$.next(a)}),(0,Dt.K)(function(o){var a=t.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",o);return t.projectsList$.next([]),t.projectsError=(0,oe.lz)(a),(0,he.of)([])})).subscribe()},r.prototype.onProjectChange=function(n){var o,t=this;this.logGitSelection("Git project selected",this.projectsList$),this.updateState(At.Project),this.selectedProject$.next(n),this.repositoriesError=null,this.gitConnectionDiscoveryService.getRepositories(this.selectedGitProviderType$.value,null===(o=this.selectedOrganization$.value)||void 0===o?void 0:o.name,n.name,this.workspaceId).pipe((0,re.U)(function(a){var l=t.sortArray(a.map(function(m){return{key:m.name,text:m.name}}));t.repositoriesList$.next(l)}),(0,Dt.K)(function(a){var l=t.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",a);return t.repositoriesList$.next([]),t.repositoriesError=(0,oe.lz)(l),(0,he.of)([])})).subscribe()},r.prototype.onRepositoryChange=function(n,t){var a,l,o=this;t||this.logGitSelection("Git repository selected",this.repositoriesList$),this.updateState(At.Repository),this.selectedRepository$.next(n),this.branchesError=null;var m={workspaceId:this.workspaceId,gitProviderType:this.selectedGitProviderType$.value,organization:null===(a=this.selectedOrganization$.value)||void 0===a?void 0:a.name,repository:n.name,project:null===(l=this.selectedProject$.value)||void 0===l?void 0:l.name,datasourceOID:void 0};this.gitConnectionDiscoveryService.getBranches(m).pipe((0,ve.q)(1),(0,Dt.K)(function(h){var b=o.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",h);return o.branchesList$.next([]),o.branchesError=(0,oe.lz)(b),(0,he.of)([])})).subscribe(function(h){var b=o.filterBranchsByPrefix(h),z=o.sortArray(b.map(function(Q){return{key:Q.name,text:Q.name}}));o.telemetryService.logEvent({name:"Git branches fetched",properties:{fetchContext:t?"Connection management":"Connection creation"}}),o.branchesList$.next(z)})},r.prototype.onBranchChange=function(n){this.logGitSelection("Git branch selected",this.branchesList$),this.updateState(At.Branch),this.selectedBranch$.next(n)},r.prototype.onFolderNameChange=function(n){(!n||""!==n)&&this.selectedFolderName$.next(n)},r.prototype.onCreateNewBranch=function(n){var o,a,l,m,t=this;if(null!==(o=n.parentBranch)&&void 0!==o&&o.name&&null!==(a=this.selectedOrganization$.value)&&void 0!==a&&a.name&&null!==(l=this.selectedProject$.value)&&void 0!==l&&l.name&&null!==(m=this.selectedRepository$.value)&&void 0!==m&&m.name)this.gitConnectionDiscoveryService.createBranch({branchName:n.name,parentBranchName:n.parentBranch.name,organizationName:this.selectedOrganization$.value.name,projectName:this.selectedProject$.value.name,providerType:this.selectedGitProviderType$.value,repositoryId:this.selectedRepository$.value.name,workspaceId:this.workspaceId}).pipe((0,Ue.b)(function(){var z=n.name;if(t.selectedBranch$.next({name:z}),t.newBranchState$.next({name:z}),t.branchesList$.value){t.branchesList$.value.push({key:z,text:z});var Q=t.sortArray(t.branchesList$.value.map(function(ie){return{key:ie.key,text:ie.text}}));t.branchesList$.next(Q)}}),(0,Dt.K)(function(z){var Q,ie;switch(null===(Q=z.error["pbi.error"])||void 0===Q?void 0:Q.code){case"Git_InvalidBranchName":ie=t.gitErrorService.makeGitErrorFromHttpResponse("Git_InvalidBranchName",z);break;case"Git_BranchNameAlreadyExists":ie=t.gitErrorService.makeGitErrorFromHttpResponse("Git_BranchNameAlreadyExists",z);break;default:ie=t.gitErrorService.makeGitErrorFromHttpResponse("Git_Create_Branch_Failed",z)}return t.newBranchState$.next(ie),(0,he.of)()})).subscribe();else{var h=this.gitErrorService.makeClientSideGitError("Git_Create_Branch_Origin_Branch_Not_Found");this.newBranchState$.next(h)}},r.prototype.createFolderForNewConnection=function(){var n=this,a={title:this.localizationService.get("Trident_Git_Add_New_Folder_Title"),buttons:[{name:this.localizationService.get("Trident_Git_Create_And_Sync"),label:this.localizationService.get("Trident_Git_Create_And_Sync"),buttonType:"primary"},{name:this.localizationService.get("Cancel_ButtonText"),label:this.localizationService.get("Cancel_ButtonText"),buttonType:null}],folderName:this.selectedFolderName$.value,content:this.localizationService.get("Trident_Git_Create_New_Folder_Content")};this.tridentDialogService.open(qa,{width:"400px",panelClass:"dialog-style",data:a}).afterClosed().subscribe(function(l){var m,h,b,z,Q,ie,Y,te;if(l){if(!(null!==(m=n.selectedOrganization$.value)&&void 0!==m&&m.name&&null!==(h=n.selectedProject$.value)&&void 0!==h&&h.name&&null!==(b=n.selectedRepository$.value)&&void 0!==b&&b.name&&null!==(z=n.selectedBranch$.value)&&void 0!==z&&z.name&&n.selectedFolderName$.value)){var $n=n.gitErrorService.makeClientSideGitError("Git_Create_Directory_Invalid_Request");return void n.gitNotificationService.showErrorNotification($n,"Trident_Git_Toast_Create_Folder_Fail")}var Ni={providerType:n.selectedGitProviderType$.value,organizationName:n.selectedOrganization$.value.name,projectName:null===(Q=n.selectedProject$.value)||void 0===Q?void 0:Q.name,repositoryId:null===(ie=n.selectedRepository$.value)||void 0===ie?void 0:ie.name,branchName:null===(Y=n.selectedBranch$.value)||void 0===Y?void 0:Y.name,newDirectoryName:n.selectedFolderName$.value,workspaceId:n.workspaceId};n.gitConnectionDiscoveryService.createDirectory(Ni).pipe((0,ve.q)(1),(0,Ue.b)(function(){n.isFolderExists$.next(!0),n.onConnectButtonClick()}),(0,Dt.K)(function(Yt){var q;return"Git_InvalidDirectoryName"===(null===(q=Yt.error["pbi.error"])||void 0===q?void 0:q.code)?n.gitErrorService.handleSyncGitError("Git_InvalidDirectoryName",Yt):n.gitErrorService.handleSyncGitError("Git_Create_Folder_Failed",Yt),(0,he.of)()})).subscribe()}else n.onBranchChange(null===(te=n.selectedBranch$)||void 0===te?void 0:te.value),n.connectionRequestInProgress$.next(!1)})},r.prototype.onSwitchBranchButtonClick=function(){var n=this;(0,Ve.aj)([this.gitConnectionService.getGitConnection(this.workspaceId),this.gitStatusService.getUncommittedChangesCount(this.workspaceId)]).pipe((0,ve.q)(1)).subscribe(function(t){var o,a,l=t[0],m=t[1];!1===(null===(o=l?.gitConnectionDetails)||void 0===o?void 0:o.isInitialized)?n.gitErrorService.handleClientSideGitError("Git_Workspace_Not_Initialized"):void 0===(null===(a=l?.gitConnectionDetails)||void 0===a?void 0:a.head)?n.gitErrorService.handleClientSideGitError("Git_HeadNotSynced"):0!==m?n.gitErrorService.handleClientSideGitError("Git_GitSwitchBranchWithUncommittedChanges"):(n.openSwitchBranchConfirmationDialog(),n.switchBranchRequestInProgress$.next(!1))})},r.prototype.onConnectButtonClick=function(){var n=this,t=this.getSelectedConnectionDetails();this.gitConnectionService.saveGitConnection({workspaceId:this.workspaceId,gitConnectionDetails:t}),this.gitConnectionService.getGitConnectionOperationState(this.workspaceId).pipe((0,Re.R)(this.onDestroy$),(0,be.h)(function(l){return(0,oe.pb)(l)&&(0,oe.yG)(l)}),(0,ve.q)(1)).subscribe(function(){n.connectionRequestInProgress$.next(!1),n.createFolderForNewConnection()});var a=this.gitConnectionService.getGitConnectionOperationState(this.workspaceId).pipe((0,Re.R)(this.onDestroy$),(0,re.U)(function(l){return(0,oe.pb)(l)&&(0,oe.yG)(l)?(n.isFolderExists$.next(!1),Z.CmZ.Initial):(n.connectionRequestInProgress$.next(l===Z.CmZ.InProgress),l)}));(0,Ve.aj)([a,this.isFolderExists$]).pipe((0,Re.R)(this.onDestroy$),(0,be.h)(function(l){return l[0]===Z.CmZ.Completed||!l[1]}),(0,ve.q)(1),(0,ht.w)(function(l){return l[1]?n.gitConnectionService.loadGitConnection(n.workspaceId):(0,he.of)(void 0)}),(0,ve.q)(1)).subscribe(function(l){var m,h;!1===(null===(m=l?.gitConnectionDetails)||void 0===m?void 0:m.isInitialized)&&((0,oe.pb)(l?.callState)?n.onBranchChange(null===(h=n.selectedBranch$)||void 0===h?void 0:h.value):l?.callState===Z.CmZ.Completed&&(n.isConnected$.next(!0),n.initializeGitConnection(),n.closeWorkspaceSettingsFromTab.emit()))})},r.prototype.initializeGitConnection=function(){var n=this;this.isConnected$.value?(this.gitInitializationService.initializeGitConnection({workspaceId:this.workspaceId,request:{mergePolicy:oe.Z_.None}}),this.gitInitializationService.getGitInitializationCallState(this.workspaceId).pipe((0,be.h)(function(a){return(0,oe.pb)(a)&&(0,oe.E6)(a)}),(0,ve.q)(1),(0,ht.w)(function(){return n.tridentDialogService.open(_e,{panelClass:"dialog-style",width:Be.PW.Medium+"px"}).afterClosed()})).subscribe(function(a){(a===oe.Z_.KeepYours||a===oe.Z_.TakeTheirs)&&n.gitInitializationService.initializeGitConnection({workspaceId:n.workspaceId,request:{mergePolicy:a}})})):this.gitErrorService.handleClientSideGitError("Git_WorkspaceNotConnectedToGit")},r.prototype.getSelectedConnectionDetails=function(){var n,t,o,a,l,m=this.selectedGitProviderType$.value,h=null===(n=this.selectedOrganization$.value)||void 0===n?void 0:n.name,b=null===(t=this.selectedProject$.value)||void 0===t?void 0:t.name,z=null===(o=this.selectedRepository$.value)||void 0===o?void 0:o.name,Q=null===(a=this.selectedBranch$.value)||void 0===a?void 0:a.name,ie=null!==(l=this.selectedFolderName$.value)&&void 0!==l?l:"/";if(m===oe.IS.AzureDevOps&&h&&b&&z&&Q)return{gitProviderType:m,organizationName:h,projectName:b,repositoryName:z,branchName:Q,rootDirectory:ie,isInitialized:!1};this.gitErrorService.handleClientSideGitError("Git_Invalid_Connection_Details")},r.prototype.onCancelButtonClick=function(){this.returnToDefaultState()},r.prototype.onSwitchCancelButtonClick=function(){var n=this;this.gitConnectionService.getGitConnection(this.workspaceId).pipe((0,Re.R)(this.onDestroy$),(0,ve.q)(1),(0,re.U)(function(t){var o;return null!==(o=t?.gitConnectionDetails)&&void 0!==o&&o.branchName&&n.onBranchChange({name:t.gitConnectionDetails.branchName}),null}))},r.prototype.onDisconnectButtonClick=function(){var n=this;this.tridentDialogService.open(oc,{panelClass:"dialog-style",width:Be.PW.Medium+"px",data:{workspaceName:this.workspaceName}}).afterClosed().pipe((0,Xa.P)(),(0,be.h)(function(t){return t===es}),(0,ht.w)(function(){return n.gitConnectionService.deleteGitConnection(n.workspaceId).pipe((0,ve.q)(1),(0,Dt.K)(function(t){return n.gitErrorService.handleSyncGitError("Git_Disconnect_Failed",t),(0,he.of)()}))})).subscribe(function(){n.connectionRequestInProgress$.next(!1),n.isConnected$.next(!1),n.returnToDefaultState()})},r.prototype.closeWorkspaceSettings=function(){this.closeWorkspaceSettingsFromTab.emit()},r.prototype.returnToDefaultState=function(){this.selectedFolderName$.next(null),this.resetPriorSelections(At.GitProviderType),this.onGitProviderTypeChange(oe.IS.AzureDevOps)},r.prototype.setExistingConnection=function(n){this.isConnected$.value||(this.isConnected$.next(!0),n?.gitProviderType!==oe.IS.GitHub&&(this.selectedOrganization$.next({name:n.organizationName}),this.selectedProject$.next({name:n.projectName}),this.selectedRepository$.next({name:n.repositoryName}),this.onRepositoryChange({name:n.repositoryName},!0),this.selectedBranch$.next({name:n.branchName}),this.selectedFolderName$.next(n.rootDirectory)))},r.prototype.sortArray=function(n){return n.sort(function(t,o){return t.text.toLocaleLowerCase()>o.text.toLocaleLowerCase()?1:-1})},r.prototype.filterBranchsByPrefix=function(n){if(0===n.length)return[];var t=["refs/tags/"];return n.filter(function(o){return!t.some(function(a){return o.name.toLowerCase().startsWith(a.toLowerCase())})})},r.prototype.openSwitchBranchConfirmationDialog=function(){var n=this;this.tridentDialogService.open(ts,Za(this.localizationService)).afterClosed().pipe((0,be.h)(function(t){return!!t}),(0,ve.q)(1),(0,ht.w)(function(){return n.switchBranchRequestInProgress$.next(!0),n.doSwitchBranchFlow()})).subscribe(function(){return n.switchBranchRequestInProgress$.next(!1)})},r.prototype.doSwitchBranchFlow=function(){var n=this;return this.switchBranchRequestInProgress$.next(!0),this.gitConnectionService.getGitConnection(this.workspaceId).pipe((0,ve.q)(1),(0,fa.b)(function(t){var o,a;if(null!==(o=t?.gitConnectionDetails)&&void 0!==o&&o.head&&null!==(a=n.selectedBranch$)&&void 0!==a&&a.value)return(0,Ve.aj)([n.gitSwitchBranchService.switchBranch({workspaceId:n.workspaceId,request:{workspaceHead:t.gitConnectionDetails.head,targetBranchName:n.selectedBranch$.value.name}}),n.gitSwitchBranchService.getSwitchBranchState(n.workspaceId)]);throw"Git_Switch_Branch_Invalid_Request"}),(0,be.h)(function(t){var o=t[0],a=t[1];return(0,oe.pb)(a)||a===Z.ND3.Completed||void 0!==o?.response}),(0,ve.q)(1),(0,re.U)(function(t){var o;return(0,oe.pb)(t[1])?void n.onBranchChange(null===(o=n.selectedBranch$)||void 0===o?void 0:o.value):(n.gitConnectionService.loadGitConnection(n.workspaceId),void n.closeWorkspaceSettings())}),(0,Dt.K)(function(t){return n.switchBranchRequestInProgress$.next(!1),n.gitErrorService.handleClientSideGitError(t),Qs.E}))},r.prototype.logOpenGitIntegrationTabEvent=function(){var n=this;this.gitAdminSwitchesService.isTenantAdminEnabled(this.workspaceId).pipe((0,ve.q)(1)).subscribe(function(t){n.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",featureName:"Git Integration",activityName:"Open Git workspace settings tab",activityAttributes:{isConnected:n.isConnected$.value,restrictedByCapacity:!n.isWorkspaceOnCapacity$.value,restrictedByTenantAdminFS:!t}})})},r.prototype.logGitSelection=function(n,t){var o=this;t.pipe((0,ve.q)(1),(0,re.U)(function(a){return a?.length})).subscribe(function(a){o.telemetryService.logEvent({name:n,properties:{selectionContext:"Git connection settings",selectionCount:a}})})},r.prototype.initializeUISettings=function(){var n=this;this.showConnectionDetailsV2$=(0,Ve.aj)([this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId),this.gitConnectionService.getGitConnection(this.workspaceId)]).pipe((0,re.U)(function(t){var o=t[0],a=t[1];return n.showGenericUI&&o?.selectedGitProviderType===oe.IS.GitHub&&(o?.isConfigured||void 0!==a?.gitConnectionDetails)})),this.disableAndCollapseConnectionDetails$=(0,Ve.aj)([this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId),this.gitConnectionService.getGitConnection(this.workspaceId)]).pipe((0,re.U)(function(t){var o,a=t[0],l=t[1];return!(!n.showGenericUI||void 0!==l?.gitConnectionDetails||a.isWorkspaceOnCapaity&&void 0!==a.selectedGitProviderType&&null!==(o=n.componentConfigMap[a?.selectedGitProviderType])&&void 0!==o&&o.isWorkspaceConnectedToGitProvider(a))}))},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Be.uQ),e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(ze.Gg),e.\u0275\u0275directiveInject(ze.rC),e.\u0275\u0275directiveInject(ze.eL),e.\u0275\u0275directiveInject(qe),e.\u0275\u0275directiveInject(Ee.jR),e.\u0275\u0275directiveInject(Ce.mn),e.\u0275\u0275directiveInject(ze.Mv),e.\u0275\u0275directiveInject(Qa),e.\u0275\u0275directiveInject(Tt.t),e.\u0275\u0275directiveInject(Z.gCl),e.\u0275\u0275directiveInject(Ya._),e.\u0275\u0275directiveInject(Ca.NQ),e.\u0275\u0275directiveInject(gt.V$))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-connection-settings"]],inputs:{workspaceId:"workspaceId",workspaceName:"workspaceName"},outputs:{closeWorkspaceSettingsFromTab:"closeWorkspaceSettingsFromTab"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:33,vars:45,consts:[[1,"title"],[1,"subtitle"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2235346&clcid=0x409","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon"],[3,"viewModel",4,"ngIf"],[3,"headerText","iconName"],[4,"ngIf","ngIfElse"],["showAzureDevopsUI",""],[1,"divider"],[3,"headerText","iconName","collapsed","disabled"],["showConnectionDetailsV1",""],["class","footer",4,"ngIf"],[3,"viewModel"],[3,"workspaceId"],[3,"userAccount","gitProviderTypeChange"],[3,"workspaceId","closeWorkspaceSettings"],[3,"isOnCapacity","isConnected","connectionRequestInProgress","switchBranchRequestInProgress","workspaceMemberRole","organizationsList","organizationsError","selectedOrganization","projectsList","projectsError","selectedProject","repositoriesList","repositoriesError","selectedRepository","branchesList","branchesError","selectedBranch","newBranchState","selectedFolderName","organizationChange","projectChange","repositoryChange","branchChange","folderNameChange","createNewBranchChange","connectButtonClick","switchBranchButtonClick","cancelButtonClick","cancelSwitchButtonClick",4,"ngIf"],[3,"isOnCapacity","isConnected","connectionRequestInProgress","switchBranchRequestInProgress","workspaceMemberRole","organizationsList","organizationsError","selectedOrganization","projectsList","projectsError","selectedProject","repositoriesList","repositoriesError","selectedRepository","branchesList","branchesError","selectedBranch","newBranchState","selectedFolderName","organizationChange","projectChange","repositoryChange","branchChange","folderNameChange","createNewBranchChange","connectButtonClick","switchBranchButtonClick","cancelButtonClick","cancelSwitchButtonClick"],[1,"footer"],["tri-button","",1,"disconnect-button",3,"click"]],template:function(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"h4",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"div",1),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementStart(5,"tri-link",2),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(8,Pd,1,1,"tri-message-bar",3),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275template(10,Td,1,1,"tri-message-bar",3),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275template(12,Od,1,1,"tri-message-bar",3),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275template(14,Ed,1,1,"tri-message-bar",3),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275elementStart(16,"tri-collapsed-container",4),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275template(18,Dd,2,1,"ng-container",5),e.\u0275\u0275template(19,Bd,1,1,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"div",7),e.\u0275\u0275elementStart(22,"tri-collapsed-container",8),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275pipe(25,"async"),e.\u0275\u0275template(26,Gd,2,1,"ng-container",5),e.\u0275\u0275pipe(27,"async"),e.\u0275\u0275template(28,Ad,2,3,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(30,Rd,4,3,"div",10),e.\u0275\u0275pipe(31,"async"),e.\u0275\u0275pipe(32,"async")),2&t){var m,h,a=e.\u0275\u0275reference(20),l=e.\u0275\u0275reference(29);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(o.Title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(4,19,"Trident_Git_Git_Integration_Info")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,21,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(9,23,o.isWorkspaceOnCapacity$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(11,25,o.isAdminFeatureSwitchEnabled$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(13,27,o.isServiceAppWorkspace$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(15,29,o.isAdoMFANeeded$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("headerText",e.\u0275\u0275pipeBind1(17,31,"Trident_Git_Provider_Title"))("iconName","plug_connected_20_regular"),e.\u0275\u0275attribute("data-testid","git-provider-accounts-connection-settings"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.showGenericUI)("ngIfElse",a),e.\u0275\u0275advance(4),e.\u0275\u0275property("headerText",e.\u0275\u0275pipeBind1(23,33,"Trident_Git_Repository_And_Branch"))("iconName","archive_20_regular")("collapsed",null===(m=e.\u0275\u0275pipeBind1(24,35,o.disableAndCollapseConnectionDetails$))||void 0===m||m)("disabled",null===(h=e.\u0275\u0275pipeBind1(25,37,o.disableAndCollapseConnectionDetails$))||void 0===h||h),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(27,39,o.showConnectionDetailsV2$))("ngIfElse",l),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(31,41,o.isConnected$)&&e.\u0275\u0275pipeBind1(32,43,o.workspaceMemberRole$)===o.FolderMemberRole.Admin)}},dependencies:[g.NgIf,Fc,Ar,O.v,et.h,Ll,wd,Md,g.AsyncPipe,w.Y],styles:["[_nghost-%COMP%]{font-size:14px}.title[_ngcontent-%COMP%]{margin:0 0 6px;font-weight:600}.subtitle[_ngcontent-%COMP%]{margin-bottom:20px}tri-message-bar[_ngcontent-%COMP%]{margin-bottom:16px}.divider[_ngcontent-%COMP%]{height:16px}.footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;padding:0 0 16px 12px;gap:8px;border-radius:2px;margin-top:16px}.footer[_ngcontent-%COMP%]   .disconnect-button[_ngcontent-%COMP%]{padding:0 12px;gap:4px;min-width:166px;height:32px;background:var(--globalColorWhite);border-radius:4px}"],changeDetection:0}),r}(ln.w),Wd=function(){function i(r){this.workspaceSettingsService=r,this.workspaceObjectId=this.workspaceSettingsService.workspaceObjectId,this.workspaceName=this.workspaceSettingsService.workspaceName,this.closeWorkspaceSettingsFromTab=new e.EventEmitter}return i.prototype.onCloseWorkspaceSettingsFromTab=function(){this.closeWorkspaceSettingsFromTab.emit()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-git-integration"]],outputs:{closeWorkspaceSettingsFromTab:"closeWorkspaceSettingsFromTab"},decls:1,vars:2,consts:[[3,"workspaceId","workspaceName","closeWorkspaceSettingsFromTab"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"tri-git-connection-settings",0),e.\u0275\u0275listener("closeWorkspaceSettingsFromTab",function(){return t.onCloseWorkspaceSettingsFromTab()}),e.\u0275\u0275elementEnd()),2&n&&e.\u0275\u0275property("workspaceId",t.workspaceObjectId)("workspaceName",t.workspaceName)},dependencies:[Fd],changeDetection:0}),i}(),Nn=function(i){return i.S3="S3",i.GCP="GCP",i.ExternalADLS="ExternalADLS",i.S3Compatible="S3Compatible",i.OnPrem="OnPrem",i.InternalCrossRegion="InternalCrossRegion",i.OneLakeDatashare="OneLakeDatashare",i}({}),Ld=function(i){return i.Started="STARTED",i.InProgress="INPROGRESS",i.Completed="COMPLETED",i}({}),Nd=function(i){return i.CacheReset="CACHERESET",i.CacheDisable="CACHEDISABLE",i.RetentionPeriodUpDate="RETENTIONPERIODUPDATE",i}({});function $d(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",1),e.\u0275\u0275elementContainerEnd())}function Ud(i,r){1&i&&(e.\u0275\u0275elementStart(0,"section",10),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Trident_Unsaved_Changes_OneLake_Settings")," "))}function Vd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-switch",20),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.isSwitchToggled=a)})("ngModelChange",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.toggleCacheSettings())}),e.\u0275\u0275elementStart(1,"div",21),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngModel",t.isSwitchToggled)("disabled",!t.isWorkspaceAdmin)("aria-label",t.isSwitchToggled?t.toggleSwitchOn:t.toggleSwitchOff),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.isSwitchToggled?t.toggleSwitchOn:t.toggleSwitchOff)}}function jd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-workspace-settings-section-divider",11)(2,"h3",8),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",12)(6,"section",13)(7,"h3",8),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",2),e.\u0275\u0275template(11,Vd,3,4,"tri-switch",14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",2)(13,"section",5),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275element(16,"br"),e.\u0275\u0275elementStart(17,"tri-link",15),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div")(21,"section",16),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275elementStart(24,"span"),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(28,"div",17)(29,"button",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.saveCacheSettings())}),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.discardChanges())}),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,13,"Trident_Workspace_Settings_OneLake_S3ShortcutCachePreview")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,15,"Trident_Workspace_Settings_OneLake_S3ShortcutCacheDuration")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!t.isSaveInProgress),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,17,"Trident_Workspace_Settings_OneLake_S3ShortcutCacheDuration_Description")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(19,19,"Trident_Workspace_Settings_OneLake_S3ShortcutCacheDuration_Description_LearnMoreText")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(23,21,"Trident_Workspace_Settings_OneLake_S3ShortcutCacheDuration_RetentionPeriod")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.selectedCacheDuration," "),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(27,23,t.selectedCacheDuration>0?"TimeUnit_Day":"TimeUnit_Days")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!t.isWorkspaceAdmin||t.isButtonDisabled),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(31,25,"PBI_Button_Label_Save")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.isWorkspaceAdmin||t.isButtonDisabled),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(34,27,"Settings_DiscardButtonText")," ")}}function Kd(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",2),e.\u0275\u0275template(2,Ud,3,3,"section",3),e.\u0275\u0275elementStart(3,"h2",4),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"section",5),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275element(9,"br"),e.\u0275\u0275elementStart(10,"tri-link",6),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"tri-workspace-settings-section-divider",7)(14,"div",2)(15,"h3",8),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"section",5),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275element(21,"br"),e.\u0275\u0275elementStart(22,"tri-link",9),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(25,jd,35,29,"ng-container",0),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.isSaveInProgress),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,10,"Trident_Workspace_Settings_OneLake_Settings")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,12,"Trident_Workspace_Settings_OneLake_S3ShortcutManageSetting")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,14,"Trident_Workspace_Settings_OneLake_Settings_Description_LearnMoreText")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,16,"Trident_Workspace_Settings_OneLake_DownloadOneLakeAppLink")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(20,18,"Trident_Workspace_Settings_OneLake_DownloadOneLakeAppLink_Description")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(24,20,"Trident_Workspace_Settings_OneLake_DownloadOneLakeAppLink_Description_DownloadOneLakeText")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.enableOneLakeUXS3Cache)}}var Hd=function(){function i(r,n,t,o){var l,a=this;this.workspaceSettingsService=r,this.featureSwitchService=n,this.localizationService=t,this.changeDetectorRef=o,this.closeSettings=new e.EventEmitter,this.isWorkspaceAdmin=!1,this.initialized$=this.workspaceSettingsService.initialized$,this.enableOneLakeUXS3Cache=!0,this.toggleSwitchOn="",this.toggleSwitchOff="",this.isSaveInProgress=!1,this.initialized$.subscribe(function(m){m&&(a.isWorkspaceAdmin=a.workspaceSettingsService.isWorkspaceAdmin)}),this.selectedCacheDuration=0,this.isSwitchToggled=this.isCacheEnabled=!1,this.enableOneLakeUXS3Cache=!(null===(l=this.featureSwitchService.featureSwitches)||void 0===l||!l.OneLakeUXS3Cache),this.isButtonDisabled=!0,this.fileReadCountForCaching=1,this.maxCacheSizeInGB=1,this.maxCacheStalenessPeriodInHours=1}return i.prototype.ngOnInit=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var r;return(0,W.__generator)(this,function(n){switch(n.label){case 0:return this.toggleSwitchOn=this.localizationService.get("ToggleSwitchOn"),this.toggleSwitchOff=this.localizationService.get("ToggleSwitchOff"),[4,this.workspaceSettingsService.retrieveCacheSettings(Nn.S3)];case 1:return r=n.sent(),this.selectedCacheDuration=r?.cacheRetentionPeriodInDays,this.isSwitchToggled=this.isCacheEnabled=r?.isCacheEnabled||!1,this.fileReadCountForCaching=r?.fileReadCountForCaching||1,this.maxCacheSizeInGB=r?.maxCacheSizeInGB||1,this.maxCacheStalenessPeriodInHours=r?.maxCacheStalenessPeriodInHours||1,r?.isCacheEnabled||(this.selectedCacheDuration=0),this.changeDetectorRef.detectChanges(),[2]}})})},i.prototype.handleSliderChange=function(r){this.selectedCacheDuration=r},i.prototype.saveCacheSettings=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var n;return(0,W.__generator)(this,function(t){switch(t.label){case 0:return this.isSwitchToggled?(this.workspaceSettingsService.saveCacheSettings(Nn.S3,{isCacheEnabled:this.isSwitchToggled,cacheRetentionPeriodInDays:1,fileReadCountForCaching:1,maxCacheSizeInGB:1,maxCacheStalenessPeriodInHours:1}),[4,this.workspaceSettingsService.retrieveCacheSettings(Nn.S3)]):[3,2];case 1:return n=t.sent(),this.isCacheEnabled=n?.isCacheEnabled,this.isButtonDisabled=!0,this.selectedCacheDuration=n?.cacheRetentionPeriodInDays||0,this.changeDetectorRef.detectChanges(),[3,4];case 2:return this.workspaceSettingsService.disableCacheSettings(Nn.S3),this.workspaceSettingsService.isCacheDeleted$?(this.isButtonDisabled=!0,[4,this.workspaceSettingsService.retrieveCacheSettings(Nn.S3)]):[3,4];case 3:n=t.sent(),this.isCacheEnabled=n?.isCacheEnabled,this.setRetentionPeriod(),this.changeDetectorRef.detectChanges(),t.label=4;case 4:return[2]}})})},i.prototype.toggleCacheSettings=function(){this.setRetentionPeriod(),this.isButtonDisabled=!(!this.isSwitchToggled&&this.isCacheEnabled||this.isSwitchToggled&&!this.isCacheEnabled)},i.prototype.discardChanges=function(){this.isSwitchToggled=!this.isSwitchToggled,(this.isSwitchToggled&&this.isCacheEnabled||!this.isSwitchToggled&&!this.isCacheEnabled)&&(this.isButtonDisabled=!0),this.setRetentionPeriod()},i.prototype.setRetentionPeriod=function(){(!this.isSwitchToggled&&this.isCacheEnabled||!this.isSwitchToggled&&!this.isCacheEnabled)&&(this.selectedCacheDuration=0),(this.isSwitchToggled&&!this.isCacheEnabled||this.isSwitchToggled&&this.isCacheEnabled)&&(this.selectedCacheDuration=1)},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(gt.V$),e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-onelake"]],outputs:{closeSettings:"closeSettings"},decls:4,vars:6,consts:[[4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[1,"onelake-settings-container","tri-flex","tri-flex-col"],["class","onelake-settings-description-banner",4,"ngIf"],[1,"onelake-settings-header",2,"margin-top","0"],[1,"onelake-settings-description"],["localize","Trident_Workspace_Settings_OneLake_Settings_Description_LearnMoreText","href","https://go.microsoft.com/fwlink/?linkid=2246518&clcid=0x409","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"external"],["sectionNameLocKey","Trident_Workspace_Settings_OneLake_DownloadOneLakeAppLink"],[1,"onelake-settings-subheader"],["localize","Trident_Workspace_Settings_OneLake_DownloadOneLakeAppLink_Description_DownloadOneLakeText","href","https://go.microsoft.com/fwlink/?linkid=2235671","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"external"],[1,"onelake-settings-description-banner"],["sectionNameLocKey","Trident_Workspace_Settings_OneLake_S3ShortcutSettings"],[1,"preview-cache-box"],[2,"display","flex","justify-content","space-between","align-items","center"],["class","switcher",3,"ngModel","disabled","aria-label","ngModelChange",4,"ngIf"],["localize","Trident_Workspace_Settings_OneLake_S3ShortcutCacheDuration_Description_LearnMoreText","href","https://go.microsoft.com/fwlink/?linkid=2234198","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"external"],[1,"onelake-settings-description","retention-period",2,"font-weight","var(--font-weight-semi-bold)"],[1,"premium-footer-buttons","tri-flex"],["tri-button","","appearance","primary",1,"footer-button",2,"margin-right","5px",3,"disabled","click"],["tri-button","",1,"footer-button",3,"disabled","click"],[1,"switcher",3,"ngModel","disabled","aria-label","ngModelChange"],["tri-switch-text",""]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,$d,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,Kd,26,22,"ng-container",0),e.\u0275\u0275pipe(3,"async")),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,2,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(3,4,t.initialized$)))},dependencies:[g.NgIf,p.JJ,p.On,je.D,en.t,O.v,rr,g.AsyncPipe,w.Y],styles:["[_nghost-%COMP%]   .onelake-settings-header[_ngcontent-%COMP%]{font-size:var(--fontSizeBase600);line-height:var(--lineHeightBase600);font-weight:var(--fontWeightSemibold)}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container[_ngcontent-%COMP%]{align-items:flex-start;height:20px}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container[_ngcontent-%COMP%]   .section-header-line[_ngcontent-%COMP%]{border-bottom:1px solid var(--colorNeutralStroke2);height:50%}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container.prefix-line[_ngcontent-%COMP%]{width:8px}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container.postfix-line[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-text[_ngcontent-%COMP%]{margin:0 12px;font-size:12px;font-weight:400;line-height:20px;color:var(--colorNeutralForeground2)}[_nghost-%COMP%]   .onelake-settings-subheader[_ngcontent-%COMP%]{font-size:var(--fontSizeBase400);line-height:var(--lineHeightBase400);font-weight:var(--fontWeightSemibold);margin-top:0!important}[_nghost-%COMP%]   .onelake-settings-description[_ngcontent-%COMP%]{font-weight:var(--fontWeightRegular);font-size:var(--fontSizeBase300);line-height:var(--lineHeightBase300);color:var(--colorNeutralForeground3);margin-bottom:10px}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;display:block;margin-block-start:1.33em;margin-block-end:1.33em;margin-inline-start:0px;margin-inline-end:0px;font-weight:700;margin:10px 0}[_nghost-%COMP%]   .learn-more-link[_ngcontent-%COMP%]{text-decoration:none;margin-bottom:5px;margin-top:5px}[_nghost-%COMP%]   .preview-cache-box[_ngcontent-%COMP%]{padding:12px;border:1px solid var(--globalColorGrey82);border-radius:8px}[_nghost-%COMP%]     .section{margin-bottom:6px!important}[_nghost-%COMP%]   .switcher[_ngcontent-%COMP%]     .tri-switch-internal{padding:0 0 8px!important}"],changeDetection:0}),i}(),Ye=function(i){return i[i.InProgress=0]="InProgress",i[i.Active=1]="Active",i[i.Inactive=2]="Inactive",i[i.Deleting=3]="Deleting",i[i.Unusable=4]="Unusable",i[i.Failed=5]="Failed",i[i.DeleteFailed=6]="DeleteFailed",i}({}),Wi=function(i){return i[i.Administrator=15]="Administrator",i[i.Member=13]="Member",i[i.Contributor=9]="Contributor",i[i.Viewer=1]="Viewer",i[i.None=0]="None",i}({}),Li=function(i){return i.Name="Name",i.Permissions="Permissions",i}({});function Xd(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",2),e.\u0275\u0275elementContainerEnd())}function Yd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.apiError$))&&void 0!==o?o:""))}}function Qd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.dismissFabricWarning())}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getFabricWarningMessageBarViewModel())}}function Zd(i,r){1&i&&(e.\u0275\u0275elementStart(0,"section",10),e.\u0275\u0275element(1,"tri-spinner")(2,"label",11),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(3,1,"AnalysisServer_Loading")))}function Jd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",16),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.createWorkspaceIdentity())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275element(2,"tri-svg-icon",17),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(1,2,t.disableCreateIdentity$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,4,"Trident_Workspace_Settings_Workspace_Identity")," ")}}function qd(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275element(1,"tri-spinner"),e.\u0275\u0275elementStart(2,"span",11),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(3,2,"CapacityProvisioning_SpinnerText")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,4,"CapacityProvisioning_SpinnerText")))}function ep(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section",4)(1,"h4",12),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",13),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,Jd,5,6,"button",14),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275template(9,qd,6,6,"div",15),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Trident_Workspace_Settings_Workspace_Identity_Create")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,6,"Trident_Workspace_Settings_Workspace_Identity_Create_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(8,8,n.isCreating$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(10,10,n.isCreating$))}}function tp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section",34)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"tri-switch",35),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.workspaceIdentity.allowUsersToUseWorkspaceIdentity=a)})("ngModelChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onToggleAllowUsersToUseWorkspaceIdentity(a))}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementStart(7,"div",36),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,5,"Trident_Workspace_Settings_Workspace_Identity_UsersCanUseIdentity")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(5,7,t.disableUseIdentity$))("aria-label",e.\u0275\u0275pipeBind1(6,9,"Trident_Workspace_Settings_Workspace_Identity_UsersCanUseIdentity"))("ngModel",t.workspaceIdentity.allowUsersToUseWorkspaceIdentity),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.workspaceIdentity.allowUsersToUseWorkspaceIdentity?e.\u0275\u0275pipeBind1(9,11,"ToggleSwitchOn"):e.\u0275\u0275pipeBind1(10,13,"ToggleSwitchOff"))}}function np(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",37)}function ip(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",38),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.getStateDescription()," ")}}function rp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",50)(1,"button",51),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.addAuthorizedUsers())}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275element(3,"tri-svg-icon",17),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"button",51),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.deleteAuthorizedUsers())}),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275element(8,"tri-svg-icon",52),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(2,4,t.disableIdentity$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,6,"Add_User_Or_Group")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(7,8,t.disableIdentity$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,10,"Remove")," ")}}function op(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"th",53)(1,"tri-checkbox",54),e.\u0275\u0275listener("onChange",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.selectAllUsers())}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",t.isAllUsersSelected)("disabled",!!e.\u0275\u0275pipeBind1(2,2,t.disableIdentity$))}}function ap(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",55)}function sp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",56)}function cp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",55)}function lp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",56)}function dp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"td",62)(1,"tri-checkbox",63),e.\u0275\u0275listener("onChange",function(h){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext().$implicit,z=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(z.onUserSelected(h,b))})("ngModelChange",function(h){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275resetView(b.selected=h)}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(),o=t.index,a=t.$implicit,l=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("name","workspaceIdentityUser_"+o)("disabled",!!e.\u0275\u0275pipeBind1(2,3,l.disableIdentity$))("ngModel",a.selected)}}function pp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",64)}function up(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",65)}function gp(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275template(1,dp,3,5,"td",57),e.\u0275\u0275elementStart(2,"td",58),e.\u0275\u0275template(3,pp,1,0,"tri-svg-icon",59),e.\u0275\u0275template(4,up,1,0,"tri-svg-icon",60),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td",61),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit,t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showAddRemoveButtons),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.getUserDisplayName(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.groupId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.userId),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.getUserDisplayName(n)," "),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.getUserPermissions(n)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.getUserPermissions(n)," ")}}function _p(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section",39)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,rp,11,12,"div",40),e.\u0275\u0275elementStart(5,"div",41)(6,"table")(7,"thead")(8,"tr",42),e.\u0275\u0275template(9,op,3,4,"th",43),e.\u0275\u0275elementStart(10,"th",44)(11,"button",45),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.sortWorkspaceIdentityUsers(a.workspaceIdentityUsersColumn.Name))}),e.\u0275\u0275pipe(12,"localizeFormat"),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275template(16,ap,1,0,"tri-svg-icon",46),e.\u0275\u0275template(17,sp,1,0,"tri-svg-icon",47),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"th",48)(19,"button",45),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.sortWorkspaceIdentityUsers(a.workspaceIdentityUsersColumn.Permissions))}),e.\u0275\u0275pipe(20,"localizeFormat"),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275template(24,cp,1,0,"tri-svg-icon",46),e.\u0275\u0275template(25,lp,1,0,"tri-svg-icon",47),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(26,"tbody"),e.\u0275\u0275template(27,gp,8,7,"tr",49),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,12,"AuthorizedUsers")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.showAddRemoveButtons),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.showAddRemoveButtons),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(12,14,t.sortColumnAscending?"DataGrid_ColumnSortedAscending":"DataGrid_ColumnSortedDescending",e.\u0275\u0275pipeBind1(13,17,"Name"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,19,"Name")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Name"===t.sortColumn&&t.sortColumnAscending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Name"===t.sortColumn&&!t.sortColumnAscending),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(20,21,t.sortColumnAscending?"DataGrid_ColumnSortedAscending":"DataGrid_ColumnSortedDescending",e.\u0275\u0275pipeBind1(21,24,"Permissions"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(23,26,"Permissions")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Permissions"===t.sortColumn&&t.sortColumnAscending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Permissions"===t.sortColumn&&!t.sortColumnAscending),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.workspaceIdentity.users)}}function mp(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}var vp=function(r){return{"unusable-state":r}};function hp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section",4),e.\u0275\u0275template(1,tp,11,15,"section",19),e.\u0275\u0275elementStart(2,"section",20)(3,"h4"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"table",21)(7,"tbody")(8,"tr")(9,"td",22),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"td",23),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"tr")(15,"td",22),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"td",23),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"tr")(21,"td",22),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"td",23),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(26,"tr")(27,"td",22),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"td",23)(31,"div",24),e.\u0275\u0275template(32,np,1,0,"tri-svg-icon",25),e.\u0275\u0275elementStart(33,"span",26),e.\u0275\u0275text(34),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(35,ip,2,1,"div",27),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(36,_p,28,28,"section",28),e.\u0275\u0275elementStart(37,"section",29)(38,"h4"),e.\u0275\u0275text(39),e.\u0275\u0275pipe(40,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"div",30),e.\u0275\u0275text(42),e.\u0275\u0275pipe(43,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"div",31)(45,"button",32),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onDeleteClick())}),e.\u0275\u0275pipe(46,"async"),e.\u0275\u0275element(47,"tri-svg-icon",33),e.\u0275\u0275text(48),e.\u0275\u0275pipe(49,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(50,mp,1,0,"tri-spinner",0),e.\u0275\u0275pipe(51,"async"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showUseWorkspaceIdentityToggle),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,19,"Trident_Workspace_Settings_Workspace_Identity_Details")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,21,"Name")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.workspaceIdentity.name||"-"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,23,"Id")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.workspaceIdentity.servicePrincipalId||"-"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(23,25,"Role")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLocalizedWorkspaceIdentityRole()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(29,27,"State")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.isUnusableState()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(39,vp,t.isUnusableState())),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getLocalizedWorkspaceIdentityState()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.getStateDescription().length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.workspaceIdentity.users&&t.workspaceIdentity.users.length>0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(40,29,"Trident_Workspace_Settings_Workspace_Identity_Delete")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(43,31,"Trident_Workspace_Settings_Workspace_Identity_Delete_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(46,33,t.disableDeleteIdentity$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(49,35,"Delete")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(51,37,t.isDeleting$))}}function fp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",4)(2,"h2",5),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"section",6)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"tri-link",7),e.\u0275\u0275pipe(10,"localizeFormat"),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(14,Zd,4,3,"section",8),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275template(17,ep,11,12,"section",9),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275template(20,hp,52,41,"section",9),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,8,"Trident_Workspace_Settings_Workspace_Identities")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,10,"Trident_Workspace_Settings_Workspace_Identity_Description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("aria-label",e.\u0275\u0275pipeBind2(10,12,"LearnMore_About",e.\u0275\u0275pipeBind1(11,15,"Trident_Workspace_Settings_Workspace_Identities")))("external",!0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,17,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.workspaceIdentity&&!1===e.\u0275\u0275pipeBind1(15,19,n.isCreating$)&&!0===e.\u0275\u0275pipeBind1(16,21,n.isLoadingIdentity$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!n.workspaceIdentity&&(!0===e.\u0275\u0275pipeBind1(18,23,n.isCreating$)||!1===e.\u0275\u0275pipeBind1(19,25,n.isLoadingIdentity$))),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.workspaceIdentity)}}var Cp=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.changeDetectorRef=n,this.localizationService=t,this.closeSettings=new e.EventEmitter,this.isWorkspaceAdmin=!1,this.initialized$=this.workspaceSettingsService.initialized$,this.capacitiesInitialized$=this.workspaceSettingsService.capacitiesInitialized$,this.isAllUsersSelected=!1,this.sortColumn=Li.Name,this.sortColumnAscending=!0,this.isCreating$=new F.X(!1),this.isDeleting$=new F.X(!1),this.isLoadingIdentity$=new F.X(!1),this.disableIdentity$=new F.X(!1),this.disableUseIdentity$=new F.X(!1),this.disableDeleteIdentity$=new F.X(!1),this.disableCreateIdentity$=new F.X(!1),this.showUseWorkspaceIdentityToggle=!1,this.workspaceIdentityUsersColumn=Li,this.errorDismissed$=new F.X(!1),this.fabricWarningDismissed$=new F.X(!0),this.showAddRemoveButtons=!1,this.workspaceIdentityDisableCapacityCheck=!1,this.isFolderInFsku=!1,this.apiError$=this.workspaceSettingsService.workspaceIdentityErrorMessage$.pipe((0,re.U)(function(a){return o.errorDismissed$.next(!1),a})),this.initialized$.subscribe(function(a){a&&(o.isWorkspaceAdmin=o.workspaceSettingsService.isWorkspaceAdmin,o.showUseWorkspaceIdentityToggle=o.workspaceSettingsService.getFeatureSwitchState("workspaceIdentityToggleUsage"),o.workspaceIdentityDisableCapacityCheck=o.workspaceSettingsService.getFeatureSwitchState("workspaceIdentityDisableCapacityCheck"),o.showAddRemoveButtons=o.workspaceSettingsService.getFeatureSwitchState("FabricIdentitySharing"),o.isWorkspaceAdmin||(o.disableIdentity$.next(!0),o.disableUseIdentity$.next(!0),o.disableDeleteIdentity$.next(!0),o.disableCreateIdentity$.next(!0)),o.changeDetectorRef.markForCheck())}),this.capacitiesInitialized$.subscribe(function(a){var l;a&&(o.capacitySkuTier=null===(l=o.workspaceSettingsService.selectedCapacity)||void 0===l?void 0:l.capacitySkuTier,o.isFolderInFsku=8===o.capacitySkuTier,!o.workspaceIdentityDisableCapacityCheck&&!o.isFolderInFsku&&(o.disableCreateIdentity$.next(!0),o.fabricWarningDismissed$.next(!1)),o.changeDetectorRef.markForCheck())}),this.apiError$.subscribe(function(a){o.errorDismissed$.next(!1)})}return i.prototype.ngOnInit=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(r){switch(r.label){case 0:return[4,this.getWorkspaceIdentity()];case 1:return r.sent(),[2]}})})},i.prototype.createWorkspaceIdentity=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,,4,5]),this.isCreating$.next(!0),[4,this.workspaceSettingsService.createWorkspaceIdentity()];case 1:return r.sent(),[4,this.delay(5e3)];case 2:return r.sent(),[4,this.getWorkspaceIdentity()];case 3:return r.sent(),[3,5];case 4:return this.isCreating$.next(!1),[7];case 5:return[2]}})})},i.prototype.getWorkspaceIdentity=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var r;return(0,W.__generator)(this,function(t){switch(t.label){case 0:this.isLoadingIdentity$.next(!0),t.label=1;case 1:if(this.workspaceIdentity&&this.workspaceIdentity.provisionState!==Ye.InProgress&&this.workspaceIdentity.provisionState!==Ye.Deleting)return[3,8];r=void 0,t.label=2;case 2:return t.trys.push([2,4,5,6]),[4,this.workspaceSettingsService.getWorkspaceIdentity()];case 3:return(r=t.sent())?[3,6]:(this.disableIdentity$.next(!1),this.disableUseIdentity$.next(!1),this.disableCreateIdentity$.next(!this.workspaceIdentityDisableCapacityCheck&&!this.isFolderInFsku),this.isDeleting$.next(!1),this.workspaceIdentity=r,[2,Promise.resolve()]);case 4:return t.sent(),this.disableIdentity$.next(!1),this.disableUseIdentity$.next(!1),this.disableCreateIdentity$.next(!this.workspaceIdentityDisableCapacityCheck&&!this.isFolderInFsku),this.isDeleting$.next(!1),this.workspaceIdentity=void 0,[2,Promise.resolve()];case 5:return this.isLoadingIdentity$.next(!1),[7];case 6:return r.provisionState!==Ye.InProgress&&r.provisionState!==Ye.Deleting?(this.workspaceIdentity=r,this.isCreating$.next(!1),this.workspaceIdentity.provisionState!==Ye.Active&&(this.disableIdentity$.next(!0),this.workspaceIdentity.provisionState===Ye.Unusable&&this.disableUseIdentity$.next(!0)),this.changeDetectorRef.markForCheck(),[3,8]):(r.provisionState===Ye.InProgress?this.isCreating$.next(!0):r.provisionState===Ye.Deleting&&(this.workspaceIdentity=r,this.disableIdentity$.next(!0),this.disableUseIdentity$.next(!0),this.disableDeleteIdentity$.next(!0),this.disableCreateIdentity$.next(!0),this.isDeleting$.next(!0)),[4,this.delay(1e4)]);case 7:return t.sent(),[3,1];case 8:return[2]}})})},i.prototype.onToggleAllowUsersToUseWorkspaceIdentity=function(r){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){if(!this.workspaceIdentity)return[2];try{this.workspaceIdentity.provisionState=r?Ye.Active:Ye.Inactive,this.disableIdentity$.next(!r)}catch{this.workspaceIdentity.allowUsersToUseWorkspaceIdentity=!r,this.workspaceIdentity.provisionState=r?Ye.Inactive:Ye.Active,this.disableIdentity$.next(!this.workspaceIdentity.allowUsersToUseWorkspaceIdentity)}return[2]})})},i.prototype.getStateDescription=function(){if(!this.workspaceIdentity)return"";switch(this.workspaceIdentity.provisionState){case Ye.Inactive:return this.localizationService.get("Trident_Workspace_Settings_Workspace_Identity_State_Inactive_Description");case Ye.Unusable:return this.localizationService.get("Trident_Workspace_Settings_Workspace_Identity_State_Unusable_Description");default:return""}},i.prototype.dismissError=function(){this.errorDismissed$.next(!0)},i.prototype.dismissFabricWarning=function(){this.fabricWarningDismissed$.next(!0)},i.prototype.getErrorMessageBarViewModel=function(r){var n=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return n.dismissError()},message:r}},i.prototype.getFabricWarningMessageBarViewModel=function(){var r=this;return{bannerType:2,allowDismiss:!0,closeBarCallback:function(){return r.dismissFabricWarning()},message:this.localizationService.get("Trident_Workspace_Settings_Workspace_Identity_FabricWarning"),link:"https://go.microsoft.com/fwlink/?linkid=2259103",linkDisplayName:this.localizationService.get("LearnMore")}},i.prototype.isUnusableState=function(){return!!this.workspaceIdentity&&this.workspaceIdentity.provisionState===Ye.Unusable},i.prototype.onUserSelected=function(r,n){n.selected=r,this.isAllUsersSelected=this.allSelected()},i.prototype.selectAllUsers=function(){var r,n;this.allSelected()?(_.forEach(null===(r=this.workspaceIdentity)||void 0===r?void 0:r.users,function(t){return t.selected=!1,!0}),this.isAllUsersSelected=!1):(_.forEach(null===(n=this.workspaceIdentity)||void 0===n?void 0:n.users,function(t){return t.selected=!0,!0}),this.isAllUsersSelected=!0)},i.prototype.getUserDisplayName=function(r){return this.localizationService.format("Capacity_User_DisplayName",r.givenName,r.familyName)},i.prototype.getUserPermissions=function(r){return this.localizationService.get(2&~r.permissions?"Trident_Workspace_Settings_Workspace_Identity_CanUseIdentity":"Trident_Workspace_Settings_Workspace_Identity_CanEditMembers")},i.prototype.delay=function(r){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){return[2,new Promise(function(t){return setTimeout(t,r)})]})})},i.prototype.allSelected=function(){var r;return _.every(null===(r=this.workspaceIdentity)||void 0===r?void 0:r.users,function(n){return n.selected})},i.prototype.getLocalizedWorkspaceIdentityRole=function(){var r,n=null===(r=this.workspaceIdentity)||void 0===r?void 0:r.role;if(!n)return"-";switch(n){case Wi.Administrator:return this.localizationService.get("WorkspaceAdmin");case Wi.Member:return this.localizationService.get("WorkspaceMember");case Wi.Contributor:return this.localizationService.get("WorkspaceContributor");case Wi.Viewer:return this.localizationService.get("WorkspaceViewer");default:return"-"}},i.prototype.getLocalizedWorkspaceIdentityState=function(){var r,n=null===(r=this.workspaceIdentity)||void 0===r?void 0:r.provisionState;if(null==n)return"-";switch(n){case Ye.InProgress:return this.localizationService.get("InProgress");case Ye.Active:return this.localizationService.get("Active");case Ye.Inactive:return this.localizationService.get("Inactive");case Ye.Deleting:return this.localizationService.get("Deleting");case Ye.Unusable:return this.localizationService.get("Unusable");case Ye.Failed:return this.localizationService.get("Failed");case Ye.DeleteFailed:return this.localizationService.get("Failed_To_Delete");default:return"-"}},i.prototype.sortWorkspaceIdentityUsers=function(r){var n=this;this.workspaceIdentity&&(this.sortColumn===r?this.sortColumnAscending=!this.sortColumnAscending:(this.sortColumn=r,this.sortColumnAscending=!0),this.workspaceIdentity.users=_.sortBy(this.workspaceIdentity.users,function(t){switch(r){case Li.Name:return n.getUserDisplayName(t);case Li.Permissions:return n.getUserPermissions(t)}}),this.sortColumnAscending||(this.workspaceIdentity.users=_.reverse(this.workspaceIdentity.users)))},i.prototype.addAuthorizedUsers=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var r;return(0,W.__generator)(this,function(n){switch(n.label){case 0:return r=this,[4,this.workspaceSettingsService.addWorkspaceIdentityUsers()];case 1:return r.workspaceIdentity=n.sent(),this.changeDetectorRef.markForCheck(),[2]}})})},i.prototype.deleteAuthorizedUsers=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var r;return(0,W.__generator)(this,function(n){switch(n.label){case 0:return this.workspaceIdentity?(r=this,[4,this.workspaceSettingsService.removeWorkspaceIdentityUsers(_.filter(this.workspaceIdentity.users,function(t){return t.selected}))]):[2];case 1:return r.workspaceIdentity=n.sent(),this.changeDetectorRef.markForCheck(),[2]}})})},i.prototype.onDeleteClick=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(r){switch(r.label){case 0:return this.workspaceIdentity?(this.workspaceSettingsService.deleteWorkspaceIdentity(),this.disableIdentity$.next(!0),this.disableUseIdentity$.next(!0),this.disableCreateIdentity$.next(!0),this.disableDeleteIdentity$.next(!0),this.isDeleting$.next(!0),this.workspaceIdentity.provisionState=Ye.Deleting,[4,this.delay(5e3)]):[2];case 1:return r.sent(),[4,this.getWorkspaceIdentity()];case 2:return r.sent(),[2]}})})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(ye.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-workspace-identity"]],outputs:{closeSettings:"closeSettings"},decls:11,vars:18,consts:[[4,"ngIf"],[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar"],[1,"workspace-identity-settings-container","tri-flex","tri-flex-col"],[1,"workspace-identity-settings-header"],[1,"workspace-identity-settings-description"],["href","https://go.microsoft.com/fwlink/?linkid=2247909","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"aria-label","external"],["class","workspace-identity-loading-container",4,"ngIf"],["class","workspace-identity-settings-container tri-flex tri-flex-col",4,"ngIf"],[1,"workspace-identity-loading-container"],["role","alert"],[1,"create-identity-header"],[1,"create-identity-description"],["class","create-identity-button","tri-button","","appearance","primary",3,"disabled","click",4,"ngIf"],["class","create-workspace-identity-spinner",4,"ngIf"],["tri-button","","appearance","primary",1,"create-identity-button",3,"disabled","click"],["name","add_16_regular"],[1,"create-workspace-identity-spinner"],["class","use-workspace-identity tri-flex",4,"ngIf"],[1,"identity-details"],[1,"identity-details-item"],[1,"identity-details-item-title"],[1,"identity-details-item-value"],[1,"identity-details-item-value-state"],["class","unusable-state","name","error_circle_12_filled",4,"ngIf"],[3,"ngClass"],["class","identity-details-item-value-descrption",4,"ngIf"],["class","authorized-users",4,"ngIf"],[1,"delete-workspace-identity"],[1,"delete-workspace-identity-description"],[1,"delete-workspace-identity-button-container"],["tri-button","","appearance","primary","data-testid","delete-workspace-identity-btn",1,"delete-workspace-identity-button",3,"disabled","click"],["name","delete_20_regular"],[1,"use-workspace-identity","tri-flex"],["id","use-workspace-identity-toggle-switch",3,"disabled","aria-label","ngModel","ngModelChange"],["tri-switch-text",""],["name","error_circle_12_filled",1,"unusable-state"],[1,"identity-details-item-value-descrption"],[1,"authorized-users"],["class","authorized-users-buttons-container",4,"ngIf"],[1,"authorized-users-table"],["role","row"],["class","authorized-users-checkbox-column-header","role","columnheader",4,"ngIf"],["role","columnheader",1,"authorized-users-name-column-header"],[1,"authorized-users-sort-button",3,"click"],["name","arrow_down_20_regular",4,"ngIf"],["name","arrow_up_20_regular",4,"ngIf"],["role","columnheader",1,"authorized-users-permissions-column-header"],[4,"ngFor","ngForOf"],[1,"authorized-users-buttons-container"],["tri-button","","appearance","subtle","data-testid","delete-workspace-identity-btn",1,"delete-workspace-identity-button",3,"disabled","click"],["name","dismiss_16_regular"],["role","columnheader",1,"authorized-users-checkbox-column-header"],[3,"checked","disabled","onChange"],["name","arrow_down_20_regular"],["name","arrow_up_20_regular"],["role","cell",4,"ngIf"],["role","cell",1,"authorized-users-name-cell",3,"title"],["name","people_team_16_regular",4,"ngIf"],["name","person_16_regular",4,"ngIf"],["role","cell",1,"authorized-users-permissions-cell",3,"title"],["role","cell"],[3,"name","disabled","ngModel","onChange","ngModelChange"],["name","people_team_16_regular"],["name","person_16_regular"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,Xd,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Yd,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275template(6,Qd,1,1,"tri-message-bar",1),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,fp,21,27,"ng-container",0),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async")),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,4,t.initialized$)||!t.workspaceIdentityDisableCapacityCheck&&!1===e.\u0275\u0275pipeBind1(2,6,t.capacitiesInitialized$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(4,8,t.errorDismissed$)&&e.\u0275\u0275pipeBind1(5,10,t.apiError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(7,12,t.fabricWarningDismissed$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(9,14,t.initialized$)&&(t.workspaceIdentityDisableCapacityCheck||!0===e.\u0275\u0275pipeBind1(10,16,t.capacitiesInitialized$))))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,p.JJ,p.On,P.M,je.D,et.h,ge.r,en.t,O.v,g.AsyncPipe,w.Y,w.A],styles:["[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:14px;line-height:20px}[_nghost-%COMP%]   .workspace-identity-loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:50px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .workspace-identity-settings-header[_ngcontent-%COMP%]{font-size:var(--fontSizeBase600);line-height:var(--lineHeightBase600);font-weight:var(--fontWeightBold);margin-bottom:10px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .create-identity-description[_ngcontent-%COMP%]{margin-bottom:20px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .create-workspace-identity-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .create-workspace-identity-spinner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-start:5px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .create-identity-button[_ngcontent-%COMP%]{width:fit-content}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .identity-details[_ngcontent-%COMP%]   .identity-details-item[_ngcontent-%COMP%]   .identity-details-item-title[_ngcontent-%COMP%]{width:120px;display:flex}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .identity-details[_ngcontent-%COMP%]   .identity-details-item[_ngcontent-%COMP%]   .identity-details-item-value[_ngcontent-%COMP%]{font-weight:600}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .identity-details[_ngcontent-%COMP%]   .identity-details-item[_ngcontent-%COMP%]   .identity-details-item-value[_ngcontent-%COMP%]   .identity-details-item-value-state[_ngcontent-%COMP%]{display:flex;gap:5px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .identity-details[_ngcontent-%COMP%]   .identity-details-item[_ngcontent-%COMP%]   .identity-details-item-value[_ngcontent-%COMP%]   .identity-details-item-value-state[_ngcontent-%COMP%]   .unusable-state[_ngcontent-%COMP%]{color:var(--globalColorRedShade10);fill:var(--globalColorRedShade10)}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .identity-details[_ngcontent-%COMP%]   .identity-details-item[_ngcontent-%COMP%]   .identity-details-item-value[_ngcontent-%COMP%]   .identity-details-item-value-descrption[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]{margin-bottom:20px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-checkbox-column-header[_ngcontent-%COMP%]{width:5%}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-name-column-header[_ngcontent-%COMP%]{width:40%}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-sort-button[_ngcontent-%COMP%]{padding-inline-start:0;border:0;background:transparent;display:flex;gap:10px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-sort-button[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{width:14px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-name-cell[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;max-width:300px;text-overflow:ellipsis}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-permissions-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-permissions-column-header[_ngcontent-%COMP%]{padding-inline-start:25px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--colorNeutralStroke2)}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .delete-workspace-identity[_ngcontent-%COMP%]   .delete-workspace-identity-description[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .delete-workspace-identity[_ngcontent-%COMP%]   .delete-workspace-identity-button-container[_ngcontent-%COMP%]{display:flex;gap:10px}"],changeDetection:0}),i}();function Sp(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",2),e.\u0275\u0275elementContainerEnd())}function yp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.apiError$))&&void 0!==o?o:""))}}function bp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.dismissFabricWarning())}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getFabricWarningMessageBarViewModel())}}function wp(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",2)}function kp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-empty-state",18),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("viewModel",n.emptyStateModel)}}function Ip(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",29)}function xp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",30)}function Mp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",29)}function Pp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",30)}function Tp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",29)}function Op(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",30)}function Ep(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",39),2&i){var n=e.\u0275\u0275nextContext().$implicit,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275propertyInterpolate("triTooltip",t.getIconTooltipText(n))}}function Dp(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",40),2&i){var n=e.\u0275\u0275nextContext().$implicit,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275propertyInterpolate("name",t.getEndpointIcon(n.groupId)),e.\u0275\u0275propertyInterpolate("triTooltip",t.getIconTooltipText(n)),e.\u0275\u0275property("sprite","artifact-colored-icons")}}function Bp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",31)(2,"tri-checkbox",32),e.\u0275\u0275listener("onChange",function(m){var b=e.\u0275\u0275restoreView(n).$implicit,z=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(z.onEndpointSelected(m,b))})("ngModelChange",function(m){var h=e.\u0275\u0275restoreView(n);return e.\u0275\u0275resetView(h.$implicit.selected=m)}),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"td",33),e.\u0275\u0275template(6,Ep,1,1,"tri-svg-icon",34),e.\u0275\u0275template(7,Dp,1,3,"tri-svg-icon",35),e.\u0275\u0275elementStart(8,"span",36),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"td",37),e.\u0275\u0275element(11,"tri-svg-icon",38),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"td",37),e.\u0275\u0275element(14,"tri-svg-icon",38),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd()()}if(2&i){var t=r.$implicit,o=r.index,a=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("name","privateEndpoint_"+o)("ariaLabel",e.\u0275\u0275pipeBind1(3,14,"Select"))("disabled",!!e.\u0275\u0275pipeBind1(4,16,a.disablePrivateEndpoints$))("ngModel",t.selected),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.isSystemResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isSystemResource),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.name),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",a.getLocalizedProvisionState(t.provisioningState)),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("name",a.getProvisioningStateIcon(t.provisioningState)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",a.getLocalizedProvisionState(t.provisioningState)," "),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",null==t.connectionState?null:t.connectionState.status),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("name",a.getConnectionStateIcon(null==t.connectionState?null:t.connectionState.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",a.getLocalizedConnectionStateStatus(null==t.connectionState?null:t.connectionState.status)," ")}}function Gp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",19)(1,"table")(2,"thead")(3,"tr",20)(4,"th",21)(5,"tri-checkbox",22),e.\u0275\u0275listener("onChange",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.selectAllPrivateEndpoints())}),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"th",23)(9,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.sortPrivateEndpoints(a.privateEndpointsColumn.Name))}),e.\u0275\u0275pipe(10,"localizeFormat"),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275template(14,Ip,1,0,"tri-svg-icon",25),e.\u0275\u0275template(15,xp,1,0,"tri-svg-icon",26),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"th",27)(17,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.sortPrivateEndpoints(a.privateEndpointsColumn.ProvisioningState))}),e.\u0275\u0275pipe(18,"localizeFormat"),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275template(22,Mp,1,0,"tri-svg-icon",25),e.\u0275\u0275template(23,Pp,1,0,"tri-svg-icon",26),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"th",27)(25,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.sortPrivateEndpoints(a.privateEndpointsColumn.ApprovalState))}),e.\u0275\u0275pipe(26,"localizeFormat"),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275template(30,Tp,1,0,"tri-svg-icon",25),e.\u0275\u0275template(31,Op,1,0,"tri-svg-icon",26),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(32,"tbody"),e.\u0275\u0275template(33,Bp,16,18,"tr",28),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275property("checked",t.isAllPrivateEndpointsSelected)("ariaLabel",e.\u0275\u0275pipeBind1(6,16,"SelectAllRows"))("disabled",!!e.\u0275\u0275pipeBind1(7,18,t.disablePrivateEndpoints$)),e.\u0275\u0275advance(4),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(10,20,t.sortColumnAscending?"DataGrid_ColumnSortedAscending":"DataGrid_ColumnSortedDescending",e.\u0275\u0275pipeBind1(11,23,"Name"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,25,"Name")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Name"===t.sortColumn&&t.sortColumnAscending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Name"===t.sortColumn&&!t.sortColumnAscending),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(18,27,t.sortColumnAscending?"DataGrid_ColumnSortedAscending":"DataGrid_ColumnSortedDescending",e.\u0275\u0275pipeBind1(19,30,"Activation"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(21,32,"Activation")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","ProvisioningState"===t.sortColumn&&t.sortColumnAscending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ProvisioningState"===t.sortColumn&&!t.sortColumnAscending),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(26,34,t.sortColumnAscending?"DataGrid_ColumnSortedAscending":"DataGrid_ColumnSortedDescending",e.\u0275\u0275pipeBind1(27,37,"Approval"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(29,39,"Approval")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","ApprovalState"===t.sortColumn&&t.sortColumnAscending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ApprovalState"===t.sortColumn&&!t.sortColumnAscending),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.privateEndpoints)}}function zp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",4)(2,"h2",5),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"section",6)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"tri-link",7),e.\u0275\u0275pipe(10,"localizeFormat"),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"section",6)(15,"h4"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"span"),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"tri-link",8),e.\u0275\u0275pipe(22,"localizeFormat"),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(26,"section",4)(27,"section",9)(28,"div",10)(29,"button",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.addPrivateEndpoint())}),e.\u0275\u0275pipe(30,"async"),e.\u0275\u0275element(31,"tri-svg-icon",12),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.getPrivateEndpoints())}),e.\u0275\u0275pipe(35,"async"),e.\u0275\u0275pipe(36,"async"),e.\u0275\u0275element(37,"tri-svg-icon",14),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.deletePrivateEndpoints())}),e.\u0275\u0275pipe(41,"async"),e.\u0275\u0275element(42,"tri-svg-icon",15),e.\u0275\u0275text(43),e.\u0275\u0275pipe(44,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(45,wp,1,0,"tri-spinner",16),e.\u0275\u0275pipe(46,"async"),e.\u0275\u0275template(47,kp,2,1,"ng-container",0),e.\u0275\u0275pipe(48,"async"),e.\u0275\u0275template(49,Gp,34,41,"div",17),e.\u0275\u0275pipe(50,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,19,"NetworkSecurity")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,21,"Trident_Workspace_Settings_Network_Description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("aria-label",e.\u0275\u0275pipeBind2(10,23,"LearnMore_About",e.\u0275\u0275pipeBind1(11,26,"NetworkSecurity")))("external",!0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,28,"LearnMore")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,30,"PrivateEndpoints")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(20,32,"PrivateEndpoints_Description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("aria-label",e.\u0275\u0275pipeBind2(22,34,"LearnMore_About",e.\u0275\u0275pipeBind1(23,37,"PrivateEndpoints")))("external",!0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(25,39,"LearnMore")," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(30,41,t.disablePrivateEndpoints$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(33,43,"Create_ButtonText")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(35,45,t.disablePrivateEndpoints$)||!0===e.\u0275\u0275pipeBind1(36,47,t.isLoadingEndpoints$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(39,49,"Refresh")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(41,51,t.disablePrivateEndpoints$)||t.isRemoveButtonDisabled()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(44,53,"Delete")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(46,55,t.isLoadingEndpoints$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(48,57,t.isLoadingEndpoints$)&&(!t.privateEndpoints||0===t.privateEndpoints.length)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(50,59,t.isLoadingEndpoints$)&&t.privateEndpoints&&t.privateEndpoints.length>0)}}var Ap=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.changeDetectorRef=n,this.localizationService=t,this.closeSettings=new e.EventEmitter,this.isWorkspaceAdmin=!1,this.initialized$=this.workspaceSettingsService.initialized$,this.capacitiesInitialized$=this.workspaceSettingsService.capacitiesInitialized$,this.privateEndpoints=[],this.isAllPrivateEndpointsSelected=!1,this.sortColumn=sn.Name,this.sortColumnAscending=!0,this.disablePrivateEndpoints$=new F.X(!0),this.isLoadingEndpoints$=new F.X(!1),this.privateEndpointsColumn=sn,this.errorDismissed$=new F.X(!1),this.demoMode=!1,this.isFolderInF64orFTsku=!1,this.fabricWarningDismissed$=new F.X(!0),this.RestrictOutBoundPEFromF64=!0,this.apiError$=this.workspaceSettingsService.privateEndpointsErrorMessage$.pipe((0,re.U)(function(a){return o.errorDismissed$.next(!1),a})),this.initialized$.subscribe(function(a){a&&(o.isWorkspaceAdmin=o.workspaceSettingsService.isWorkspaceAdmin,o.demoMode=o.workspaceSettingsService.getFeatureSwitchState("privateEndpointsDemoMode"),o.isWorkspaceAdmin&&o.disablePrivateEndpoints$.next(!1))}),this.capacitiesInitialized$.subscribe(function(a){var l;a&&(o.capacitySkuTier=null===(l=o.workspaceSettingsService.selectedCapacity)||void 0===l?void 0:l.capacitySkuTier,o.RestrictOutBoundPEFromF64=!!o.workspaceSettingsService.getFeatureSwitchState("RestrictOutBoundPEFromF64"),o.isFolderInF64orFTsku=8===o.capacitySkuTier||7===o.capacitySkuTier,o.RestrictOutBoundPEFromF64||8!==o.capacitySkuTier&&9!==o.capacitySkuTier&&7!==o.capacitySkuTier?(o.disablePrivateEndpoints$.next(!o.isFolderInF64orFTsku),o.fabricWarningDismissed$.next(o.isFolderInF64orFTsku)):(o.disablePrivateEndpoints$.next(!1),o.fabricWarningDismissed$.next(!0)),o.changeDetectorRef.markForCheck())}),this.apiError$.subscribe(),this.emptyStateModel={emptyStateType:1,iconType:1,title:this.isFolderInF64orFTsku?"":this.localizationService.get("PrivateEndpoints_Empty"),message:""}}return i.prototype.ngOnInit=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(r){switch(r.label){case 0:return[4,this.getPrivateEndpoints()];case 1:return r.sent(),[2]}})})},i.prototype.getPrivateEndpoints=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var r;return(0,W.__generator)(this,function(t){switch(t.label){case 0:return this.isLoadingEndpoints$.next(!0),this.demoMode?[4,this.delay(5e3)]:[3,2];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,4,5,6]),r=this,[4,this.workspaceSettingsService.getPrivateEndpoints()];case 3:return r.privateEndpoints=t.sent(),this.sortPrivateEndpoints(this.sortColumn,!1),[3,6];case 4:return t.sent(),this.privateEndpoints=[],[2,Promise.resolve()];case 5:return this.isLoadingEndpoints$.next(!1),[7];case 6:return[2]}})})},i.prototype.dismissError=function(){this.errorDismissed$.next(!0)},i.prototype.getErrorMessageBarViewModel=function(r){var n=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return n.dismissError()},message:r}},i.prototype.dismissFabricWarning=function(){this.fabricWarningDismissed$.next(!0)},i.prototype.getFabricWarningMessageBarViewModel=function(){var r=this;return{bannerType:1,allowDismiss:!0,closeBarCallback:function(){return r.dismissFabricWarning()},message:this.localizationService.get("PrivateEndpoints_FabricMessage"),link:"https://go.microsoft.com/fwlink/?linkid=2259645",linkDisplayName:this.localizationService.get("LearnMore")}},i.prototype.getIconTooltipText=function(r){return this.localizationService.format("PrivateEndpoints_Tooltip",[r.privateLinkResourceId,r.groupId])},i.prototype.getLocalizedProvisionState=function(r){switch(r){case Pt.Provisioning:return this.localizationService.get("Provisioning");case Pt.Updating:return this.localizationService.get("Updating");case Pt.Failed:return this.localizationService.get("Failed");case Pt.Succeeded:return this.localizationService.get("Succeeded");case Pt.Deleting:return this.localizationService.get("Deleting");default:return"-"}},i.prototype.getLocalizedConnectionStateStatus=function(r){switch(r){case zt.Approved:return this.localizationService.get("Approved");case zt.Disconnected:return this.localizationService.get("Disconnected");case zt.Pending:return this.localizationService.get("Pending");case zt.Rejected:return this.localizationService.get("Rejected");default:return"-"}},i.prototype.onEndpointSelected=function(r,n){n.selected=r,this.isAllPrivateEndpointsSelected=this.allSelected()},i.prototype.selectAllPrivateEndpoints=function(){this.allSelected()?(this.privateEndpoints.forEach(function(r){return r.selected=!1,!0}),this.isAllPrivateEndpointsSelected=!1):(this.privateEndpoints.forEach(function(r){return r.selected=!0,!0}),this.isAllPrivateEndpointsSelected=!0)},i.prototype.allSelected=function(){return _.every(this.privateEndpoints,function(r){return r.selected})},i.prototype.sortPrivateEndpoints=function(r,n){void 0===n&&(n=!0),this.privateEndpoints&&0!==this.privateEndpoints.length&&(n&&this.sortColumn===r?this.sortColumnAscending=!this.sortColumnAscending:(this.sortColumn=r,this.sortColumnAscending=!0),this.privateEndpoints=_.sortBy(this.privateEndpoints,function(t){var o;switch(r){case sn.Name:return t.name;case sn.ProvisioningState:return t.provisioningState;case sn.ApprovalState:return null===(o=t.connectionState)||void 0===o?void 0:o.status}}),this.sortColumnAscending||(this.privateEndpoints=_.reverse(this.privateEndpoints)))},i.prototype.addPrivateEndpoint=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var r;return(0,W.__generator)(this,function(n){switch(n.label){case 0:return this.dismissError(),r=this,[4,this.workspaceSettingsService.addPrivateEndpoint()];case 1:return r.privateEndpoints=n.sent(),this.sortPrivateEndpoints(this.sortColumn,!1),this.changeDetectorRef.markForCheck(),[2]}})})},i.prototype.deletePrivateEndpoints=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var r;return(0,W.__generator)(this,function(n){switch(n.label){case 0:return this.dismissError(),r=this,[4,this.workspaceSettingsService.removePrivateEndpoints(_(this.privateEndpoints).filter(function(t){return t.selected}).map(function(t){return t.name}).value())];case 1:return r.privateEndpoints=n.sent(),this.sortPrivateEndpoints(this.sortColumn,!1),this.changeDetectorRef.markForCheck(),[2]}})})},i.prototype.getProvisioningStateIcon=function(r){switch(r){case Pt.Provisioning:case Pt.Updating:case Pt.Deleting:return"inprogress_20_filled";case Pt.Failed:return"failed_20_filled";case Pt.Succeeded:return"completed_20_filled";default:return"nostatus_20_filled"}},i.prototype.getConnectionStateIcon=function(r){switch(r){case zt.Approved:return"completed_20_filled";case zt.Pending:return"inprogress_20_filled";case zt.Disconnected:case zt.Rejected:return"failed_20_filled";default:return"nostatus_20_filled"}},i.prototype.isRemoveButtonDisabled=function(){var r=_.filter(this.privateEndpoints,function(n){return n.selected});return!r||0===r.length||!_.every(r,function(n){return!1===n.isSystemResource&&n.provisioningState!==Pt.Provisioning})},i.prototype.getEndpointIcon=function(r){switch(r){case"MongoDB":case"Sql":return"c_azure_cosmos_database_mounted_20";case"postgresql":return"c_azure_postgresql_db_mounted_20";case"mysql":case"sqlServer":case"sqlManagedInstance":case"sql":case"dev":case"sqlOnDemand":return"c_azure_sql_database_mounted_20";case"blob":case"queue":case"table":return"c_data_warehouse_20";case"dfs":return"c_lakehouse_20";case"file":return"c_folder_20";case"kusto":return"c_kql_database_20";default:return"c_generic_database_mounted_20"}},i.prototype.delay=function(r){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){return[2,new Promise(function(t){return setTimeout(t,r)})]})})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(ye.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-network"]],outputs:{closeSettings:"closeSettings"},decls:11,vars:18,consts:[[4,"ngIf"],[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar"],[1,"network-settings-container","tri-flex","tri-flex-col"],[1,"network-settings-header"],[1,"network-settings-description"],["href","https://go.microsoft.com/fwlink/?linkid=2252791","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"aria-label","external"],["href","https://go.microsoft.com/fwlink/?linkid=2258953","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"aria-label","external"],[1,"private-endpoints"],[1,"private-endpoints-buttons-container"],["tri-button","","appearance","subtle","data-testid","delete-network-btn",1,"add-private-endpoint-button",3,"disabled","click"],["name","add_16_regular"],["tri-button","","appearance","subtle","data-testid","delete-network-btn",1,"delete-private-endpoint-button",3,"disabled","click"],["name","arrow_sync_20_regular"],["name","delete_20_regular"],["class","tri-flex tri-items-center tri-justify-center tri-h-full",4,"ngIf"],["class","private-endpoints-table",4,"ngIf"],[1,"private-endpoints-table-empty-state",3,"viewModel"],[1,"private-endpoints-table"],["role","row"],["role","columnheader",1,"private-endpoints-checkbox-column-header"],[3,"checked","ariaLabel","disabled","onChange"],["role","columnheader",1,"private-endpoints-name-column-header"],[1,"private-endpoints-sort-button",3,"click"],["name","arrow_down_20_regular",4,"ngIf"],["name","arrow_up_20_regular",4,"ngIf"],["role","columnheader",1,"private-endpoints-state-column-header"],[4,"ngFor","ngForOf"],["name","arrow_down_20_regular"],["name","arrow_up_20_regular"],["role","cell"],[3,"name","ariaLabel","disabled","ngModel","onChange","ngModelChange"],["role","cell",1,"private-endpoints-name-cell"],["name","lock_closed_20_filled",3,"triTooltip",4,"ngIf"],[3,"sprite","name","triTooltip",4,"ngIf"],[3,"title"],["role","cell",1,"private-endpoints-other-cell",3,"title"],["sprite","status-color-icons",3,"name"],["name","lock_closed_20_filled",3,"triTooltip"],[3,"sprite","name","triTooltip"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,Sp,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,yp,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275template(6,bp,1,1,"tri-message-bar",1),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,zp,51,61,"ng-container",0),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async")),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,4,t.initialized$)||!1===e.\u0275\u0275pipeBind1(2,6,t.capacitiesInitialized$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(4,8,t.errorDismissed$)&&e.\u0275\u0275pipeBind1(5,10,t.apiError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(7,12,t.fabricWarningDismissed$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(9,14,t.initialized$)&&!0===e.\u0275\u0275pipeBind1(10,16,t.capacitiesInitialized$)))},dependencies:[g.NgForOf,g.NgIf,p.JJ,p.On,P.M,je.D,et.h,ge.r,xt.Z,ns.v,O.v,g.AsyncPipe,w.Y,w.A],styles:["[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:14px;line-height:20px}[_nghost-%COMP%]   .network-loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:50px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .network-settings-header[_ngcontent-%COMP%]{font-size:var(--fontSizeBase600);line-height:var(--lineHeightBase600);font-weight:var(--fontWeightBold);margin-bottom:10px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .network-settings-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-inline-end:5px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:20px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-buttons-container[_ngcontent-%COMP%]{margin-bottom:5px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table-empty-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:30px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-checkbox-column-header[_ngcontent-%COMP%]{width:5%}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-name-column-header[_ngcontent-%COMP%]{width:40%}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-sort-button[_ngcontent-%COMP%]{padding-inline-start:0;border:0;background:transparent;display:flex;gap:10px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-sort-button[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{width:14px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-name-cell[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;max-width:300px;text-overflow:ellipsis}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-name-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-start:5px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-other-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-state-column-header[_ngcontent-%COMP%]{padding-inline-start:25px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px;white-space:nowrap}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--colorNeutralStroke2)}"],changeDetection:0}),i}();function Rp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",6),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissServerError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.serverError$))&&void 0!==o?o:"","server"))}}function Fp(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",7),e.\u0275\u0275elementContainerEnd())}function Wp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"tri-checkbox",10),e.\u0275\u0275listener("onChange",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.selectTenantResource())}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"label",11),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275classProp("is-disabled",!t.tenantResource||!t.isWorkspaceAdmin),e.\u0275\u0275advance(1),e.\u0275\u0275property("id","default-connection-checkbox-"+t.resourceConnector.resourceType)("disabled",!t.tenantResource||!0===e.\u0275\u0275pipeBind1(2,7,t.serverOperationInProgress$)||!t.isWorkspaceAdmin)("label",e.\u0275\u0275pipeBind1(3,9,"BYOResources_Connect_Default"))("checked",t.tenantResourceSelected),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"BYOResources_Connect_Default"))}}function Lp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",12)(2,"div",13),e.\u0275\u0275element(3,"tri-svg-icon",14),e.\u0275\u0275elementStart(4,"span",15),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",16)(8,"tri-link",17),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,4,n.resourceConnector.notAllowedWarningMessage)),e.\u0275\u0275advance(3),e.\u0275\u0275property("external",!0)("href",n.resourceConnector.notAllowedLearnMoreLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,6,"LearnMore")," ")}}function Np(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",6),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.dismissFetchError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.fetchErrors$))&&void 0!==o?o:"","fetch"))}}function $p(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("",n.text," (",n.key,") ")}}function Up(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function Vp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div")(2,"tri-dropdown",26),e.\u0275\u0275listener("ngModelChange",function(l){e.\u0275\u0275restoreView(n);var m=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(m.selectedSubscriptionDropdownOption=l)})("valueChange",function(l){e.\u0275\u0275restoreView(n);var m=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(m.onSubscriptionChange(l))}),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementStart(5,"tri-dropdown-trigger")(6,"div",27),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"tri-search-box",28),e.\u0275\u0275listener("value",function(l){e.\u0275\u0275restoreView(n);var m=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(m.onSubscriptionsSeached(l))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,$p,2,3,"tri-dropdown-item",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,Up,1,0,"tri-spinner",5),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("compact",!0)("options",t.getDropdownOverlayOptions(null!==(o=null==t.allSubscriptionDropdownOptions?null:t.allSubscriptionDropdownOptions.length)&&void 0!==o?o:0))("ngModel",t.selectedSubscriptionDropdownOption)("disabled",!0===e.\u0275\u0275pipeBind1(3,8,t.serverOperationInProgress$)||!0===e.\u0275\u0275pipeBind1(4,10,t.fetchResourceStatus.subscription.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",t.selectedSubscriptionDropdownOption?t.selectedSubscriptionDropdownOption.text+" ("+(null==t.selectedSubscriptionDropdownOption?null:t.selectedSubscriptionDropdownOption.key)+")":e.\u0275\u0275pipeBind1(7,12,"Trident_Workspace_Settings_Select_Subscription")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.selectedSubscriptionDropdownOption?t.selectedSubscriptionDropdownOption.text+" ("+(null==t.selectedSubscriptionDropdownOption?null:t.selectedSubscriptionDropdownOption.key)+")":e.\u0275\u0275pipeBind1(9,14,"Trident_Workspace_Settings_Select_Subscription")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allSubscriptionDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(13,16,t.fetchResourceStatus.subscription.inProgress$))}}function jp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.connectedResource.subscriptionId)}}function Kp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n.tenantResource?null:n.tenantResource.subscriptionId)}}function Hp(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"tri-svg-icon",32),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementStart(5,"tri-link",17),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(4,4,n.resourceConnector.noSubscriptionsMessage)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0)("href",n.resourceConnector.noSubscriptionLearnMoreLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,6,"LearnMore")," ")}}function Xp(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.text," ")}}function Yp(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",34)}function Qp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div")(2,"tri-dropdown",26),e.\u0275\u0275listener("ngModelChange",function(h){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.selectedResourceGroupDropdownOption=h)})("valueChange",function(h){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.onResourceGroupChange(h))}),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementStart(5,"tri-dropdown-trigger")(6,"div",27),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"tri-search-box",28),e.\u0275\u0275listener("value",function(h){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.onResourceGroupsSeached(h))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,Xp,2,2,"tri-dropdown-item",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,Yp,1,0,"tri-spinner",33),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var o,a,l,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("compact",!0)("options",t.getDropdownOverlayOptions(null!==(o=null==t.allResourceGroupsDropdownOptions?null:t.allResourceGroupsDropdownOptions.length)&&void 0!==o?o:0))("ngModel",t.selectedResourceGroupDropdownOption)("disabled",!t.selectedSubscription||!0===e.\u0275\u0275pipeBind1(3,8,t.serverOperationInProgress$)||!0===e.\u0275\u0275pipeBind1(4,10,t.fetchResourceStatus.resourceGroup.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(7,12,null!==(a=null==t.selectedResourceGroupDropdownOption?null:t.selectedResourceGroupDropdownOption.text)&&void 0!==a?a:"Trident_Workspace_Settings_Select_Resource_Group")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,14,null!==(l=null==t.selectedResourceGroupDropdownOption?null:t.selectedResourceGroupDropdownOption.text)&&void 0!==l?l:"Trident_Workspace_Settings_Select_Resource_Group")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allResourceGroupsDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(13,16,t.fetchResourceStatus.resourceGroup.inProgress$))}}function Zp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.connectedResource.resourceGroup)}}function Jp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n.tenantResource?null:n.tenantResource.resourceGroup)}}function qp(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"tri-svg-icon",32),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementStart(5,"tri-link",17),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(4,4,n.resourceConnector.noResourceGroupMessage)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0)("href",n.resourceConnector.noResourceGroupLearnMoreLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,6,"LearnMore")," ")}}function eu(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.text," ")}}function tu(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function nu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div")(2,"tri-dropdown",26),e.\u0275\u0275listener("ngModelChange",function(h){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.selectedResourceDropdownOption=h)})("valueChange",function(h){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.onResourceChange(h))}),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementStart(5,"tri-dropdown-trigger")(6,"div",27),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"tri-search-box",28),e.\u0275\u0275listener("value",function(h){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.onResourcesSeached(h))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,eu,2,2,"tri-dropdown-item",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,tu,1,0,"tri-spinner",5),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var o,a,l,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("compact",!0)("options",t.getDropdownOverlayOptions(null!==(o=null==t.allResourcesDropdownOptions?null:t.allResourcesDropdownOptions.length)&&void 0!==o?o:0))("ngModel",t.selectedResourceDropdownOption)("disabled",!t.selectedSubscription||!t.selectedResourceGroup||!0===e.\u0275\u0275pipeBind1(3,8,t.serverOperationInProgress$)||!0===e.\u0275\u0275pipeBind1(4,10,t.fetchResourceStatus.resource.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(7,12,null!==(a=null==t.selectedResourceDropdownOption?null:t.selectedResourceDropdownOption.text)&&void 0!==a?a:t.resourceConnector.resourcePickerPlaceholder)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,14,null!==(l=null==t.selectedResourceDropdownOption?null:t.selectedResourceDropdownOption.text)&&void 0!==l?l:t.resourceConnector.resourcePickerPlaceholder)," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allResourcesDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(13,16,t.fetchResourceStatus.resource.inProgress$))}}function iu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.connectedResource.resourceName)}}function ru(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n.tenantResource?null:n.tenantResource.resourceName)}}function ou(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function au(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",35),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.connectResource())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,ou,1,0,"tri-spinner",5),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("is-disabled",!((t.selectedSubscription&&t.selectedResourceGroup&&t.selectedResource||t.tenantResourceSelected)&&!0!==e.\u0275\u0275pipeBind1(1,5,t.serverOperationInProgress$)&&t.isWorkspaceAdmin)),e.\u0275\u0275property("disabled",!((t.selectedSubscription&&t.selectedResourceGroup&&t.selectedResource||t.tenantResourceSelected)&&!0!==e.\u0275\u0275pipeBind1(2,7,t.serverOperationInProgress$)&&t.isWorkspaceAdmin)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(4,9,t.serverOperationInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,11,"BYOResources_Connect")," ")}}function su(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",36),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.cancelConnect())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("is-disabled",!(t.selectedSubscription&&t.selectedResourceGroup&&t.selectedResource&&!0!==e.\u0275\u0275pipeBind1(1,4,t.serverOperationInProgress$)&&t.isWorkspaceAdmin)),e.\u0275\u0275property("disabled",!(t.selectedSubscription&&t.selectedResourceGroup&&t.selectedResource&&!0!==e.\u0275\u0275pipeBind1(2,6,t.serverOperationInProgress$)&&t.isWorkspaceAdmin)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,8,"Cancel_ButtonText")," ")}}function cu(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function lu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",35),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.disconnectResource())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,cu,1,0,"tri-spinner",5),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("is-disabled",!0===e.\u0275\u0275pipeBind1(1,5,t.serverOperationInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",!0===e.\u0275\u0275pipeBind1(2,7,t.serverOperationInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(4,9,t.serverOperationInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,11,"BYOResources_Disconnect_Button_Workspace")," ")}}function du(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-collapsed-container",18),e.\u0275\u0275listener("collapseContainer",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onCollapseToggle())}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"div",19),e.\u0275\u0275template(4,Np,2,3,"tri-message-bar",2),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementStart(7,"label",20),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,Vp,14,18,"ng-container",5),e.\u0275\u0275template(11,jp,3,1,"ng-container",5),e.\u0275\u0275template(12,Kp,3,1,"ng-container",5),e.\u0275\u0275template(13,Hp,8,8,"div",21),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",22)(16,"label",20),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,Qp,14,18,"ng-container",5),e.\u0275\u0275template(20,Zp,3,1,"ng-container",5),e.\u0275\u0275template(21,Jp,3,1,"ng-container",5),e.\u0275\u0275template(22,qp,8,8,"div",21),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",22)(25,"label",20),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(28,nu,14,18,"ng-container",5),e.\u0275\u0275template(29,iu,3,1,"ng-container",5),e.\u0275\u0275template(30,ru,3,1,"ng-container",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",23),e.\u0275\u0275template(32,au,7,13,"button",24),e.\u0275\u0275template(33,su,5,10,"button",25),e.\u0275\u0275template(34,lu,7,13,"button",24),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("headerText",e.\u0275\u0275pipeBind1(2,22,t.resourceConnector.collapsibeSectionHeader))("iconName",t.resourceConnector.icon.name)("iconSprite",t.resourceConnector.icon.sprite)("collapsed",null!==(o=t.resourceConnector.collapsed)&&void 0!==o?o:!!t.connectedResource),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(5,24,t.fetchErrorDismissed$)&&e.\u0275\u0275pipeBind1(6,26,t.fetchErrors$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,28,"Subscription")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.connectedResource&&!t.tenantResourceSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.connectedResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.tenantResourceSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.connectedResource&&0===t.allSubscriptions.length&&!0!==e.\u0275\u0275pipeBind1(14,30,t.fetchResourceStatus.subscription.inProgress$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,32,"BYOResources_Connect_ResourceGroup")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.connectedResource&&!t.tenantResourceSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.connectedResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.tenantResourceSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.connectedResource&&t.selectedSubscription&&0===t.allResourceGroups.length&&!0!==e.\u0275\u0275pipeBind1(23,34,t.fetchResourceStatus.resourceGroup.inProgress$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(27,36,t.resourceConnector.resourceLabel)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.connectedResource&&!t.tenantResourceSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.connectedResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.tenantResourceSelected),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.connectedResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.connectedResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.connectedResource)}}function pu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Wp,7,13,"div",8),e.\u0275\u0275template(2,Lp,11,8,"ng-container",5),e.\u0275\u0275template(3,du,35,38,"ng-container",5),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.connectedResource&&n.resourceConnector.canSelectTenantResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isWorkspaceLevelConfigurationAllowed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isWorkspaceLevelConfigurationAllowed&&!n.connectedResourceFetchFailed)}}var mu=function(){function i(r,n){this.workspaceSettingsService=r,this.telemetryService=n,this.resourceConnector={},this.allSubscriptions=[],this.allResourceGroups=[],this.allResources=[],this.allSubscriptionDropdownOptions=[],this.allResourceGroupsDropdownOptions=[],this.allResourcesDropdownOptions=[],this.subscriptionDropdownSearchText="",this.resourceGroupDropdownSearchText="",this.resourceDropdownSearchText="",this.selectedSubscription=void 0,this.selectedResourceGroup=void 0,this.selectedResource=void 0,this.selectedSubscriptionDropdownOption=void 0,this.selectedResourceGroupDropdownOption=void 0,this.selectedResourceDropdownOption=void 0,this.connectedResource=void 0,this.tenantResource=void 0,this.connectedResourceFetchFailed=!1,this.isWorkspaceLevelConfigurationAllowed=!1,this.isInitialized$=this.workspaceSettingsService.azureConnectionsInitialized$,this.isWorkspaceAdmin=!1,this.initializationSubscription=void 0,this.serverError$=new F.X(""),this.serverErrorDismissed$=new F.X(!1),this.serverOperationInProgress$=new F.X(!1),this.fetchResourceStatus={},this.fetchErrors$=new F.X(""),this.fetchErrorDismissed$=new F.X(!1),this.tenantResourceSelected=!1}return i.prototype.ngOnInit=function(){var r=this;this.initializationSubscription=this.isInitialized$.subscribe(function(n){r.isWorkspaceAdmin=r.workspaceSettingsService.isWorkspaceAdmin,r.serverError$=r.workspaceSettingsService.azureConnectionsServiceErrorMessages[r.resourceConnector.resourceType],r.serverOperationInProgress$=r.workspaceSettingsService.azureResourceApiInProgress[r.resourceConnector.resourceType],r.fetchResourceStatus=r.workspaceSettingsService.azureResourcesFetchStatus[r.resourceConnector.resourceType],r.fetchErrors$=(0,Sn.T)(r.fetchResourceStatus.subscription.errorMessage$,r.fetchResourceStatus.resourceGroup.errorMessage$,r.fetchResourceStatus.resource.errorMessage$),r.fetchErrors$.subscribe(function(){return r.fetchErrorDismissed$.next(!1)}),n&&(r.connectedResource=r.workspaceSettingsService.getLinkedResource(r.resourceConnector.resourceType),r.connectedResourceFetchFailed=!!r.connectedResource&&!r.connectedResource.resourceName,r.tenantResource=r.workspaceSettingsService.getTenantResource(r.resourceConnector.resourceType),r.connectedResource||r.initializePickerOptions(),r.resourceConnector.collapsed=!r.connectedResource,r.isWorkspaceLevelConfigurationAllowed=!!r.resourceConnector&&r.workspaceSettingsService.getFeatureSwitchState(r.resourceConnector.featureFlagToAllowResource))})},i.prototype.ngOnDestroy=function(){var r;null===(r=this.initializationSubscription)||void 0===r||r.unsubscribe()},i.prototype.onCollapseToggle=function(){var r;this.resourceConnector&&(this.resourceConnector.collapsed=!(null!==(r=this.resourceConnector)&&void 0!==r&&r.collapsed))},i.prototype.onSubscriptionChange=function(r){var t,o,a,n=this;this.selectedSubscription=this.allSubscriptions.find(function(l){return l.subscriptionId===r?.key}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.azureTenantObjectId,subscriptionId:null===(o=this.selectedSubscription)||void 0===o?void 0:o.subscriptionId}),this.selectedResourceGroup=void 0,this.selectedResource=void 0,this.selectedResourceGroupDropdownOption=void 0,this.selectedResourceDropdownOption=void 0,this.selectedSubscription&&this.workspaceSettingsService.getResourceGroupsWithResourceTypeForAzureSubscription(this.resourceConnector.resourceType,(null===(a=this.selectedSubscription)||void 0===a?void 0:a.subscriptionId)||"",!0).then(function(l){n.allResourceGroups=l,n.createResourceGroupDropdownOptions()})},i.prototype.onResourceGroupChange=function(r){var t,o,a,l,m,n=this;this.selectedResourceGroup=this.allResourceGroups.find(function(h){return h.name===r?.text}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.azureTenantObjectId,subscriptionId:null===(o=this.selectedSubscription)||void 0===o?void 0:o.subscriptionId,resourceGroup:null===(a=this.selectedResourceGroup)||void 0===a?void 0:a.name}),this.selectedResource=void 0,this.selectedResourceDropdownOption=void 0,this.selectedSubscription&&this.selectedResourceGroup&&this.workspaceSettingsService.getAzureResources(this.resourceConnector.resourceType,(null===(l=this.selectedSubscription)||void 0===l?void 0:l.subscriptionId)||"",(null===(m=this.selectedResourceGroup)||void 0===m?void 0:m.name)||"").then(function(h){n.allResources=h,n.createResourcesDropdownOptions()})},i.prototype.onResourceChange=function(r){var n,t,o,a;this.selectedResource=this.allResources.find(function(l){return l.name===r?.text}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(n=this.selectedSubscription)||void 0===n?void 0:n.azureTenantObjectId,subscriptionId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.subscriptionId,resourceGroup:null===(o=this.selectedResourceGroup)||void 0===o?void 0:o.name,resourceName:null===(a=this.selectedResource)||void 0===a?void 0:a.name})},i.prototype.connectResource=function(){var r=this;this.tenantResourceSelected?this.workspaceSettingsService.connectTenantResource(this.resourceConnector.resourceType).then(function(){r.connectedResource=r.workspaceSettingsService.getLinkedResource(r.resourceConnector.resourceType),r.tenantResourceSelected=!1}):this.workspaceSettingsService.connectAzureResource(this.resourceConnector.resourceType).then(function(){r.connectedResource=r.workspaceSettingsService.getLinkedResource(r.resourceConnector.resourceType)});var n={originatingService:"DataCloudUX",activityName:"Connect ".concat(this.resourceConnector.resourceType),featureName:"Fabric Workspace Settings"};this.telemetryService.logStandardFeatureEvent(n)},i.prototype.cancelConnect=function(){this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{}),this.selectedSubscription=void 0,this.selectedSubscriptionDropdownOption=void 0,this.selectedResourceGroup=void 0,this.selectedResourceGroupDropdownOption=void 0,this.selectedResource=void 0,this.selectedResourceDropdownOption=void 0,this.resourceConnector.collapsed=!0},i.prototype.disconnectResource=function(){var r=this;this.workspaceSettingsService.disconnectAzureResource(this.resourceConnector.resourceType,this.resourceConnector.disconnectionPromptMessage).then(function(n){n&&(r.connectedResource=void 0,r.initializePickerOptions())})},i.prototype.selectTenantResource=function(){this.tenantResourceSelected=!this.tenantResourceSelected},i.prototype.dismissServerError=function(){this.serverErrorDismissed$.next(!0)},i.prototype.dismissFetchError=function(){this.fetchErrorDismissed$.next(!0)},i.prototype.onSubscriptionsSeached=function(r){this.subscriptionDropdownSearchText=r,this.createSubscriptionDropdownOptions()},i.prototype.onResourceGroupsSeached=function(r){this.resourceGroupDropdownSearchText=r,this.createResourceGroupDropdownOptions()},i.prototype.onResourcesSeached=function(r){this.resourceDropdownSearchText=r,this.createResourcesDropdownOptions()},i.prototype.getDropdownOverlayOptions=function(r){return{dropdownHeight:30*Math.max(Math.min(r,12),1)+34}},i.prototype.getErrorMessageBarViewModel=function(r,n){var t=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return"server"===n?t.dismissServerError():t.dismissFetchError()},message:r}},i.prototype.initializePickerOptions=function(){var r=this,n=this.workspaceSettingsService.getCurrentResource(this.resourceConnector.resourceType);this.workspaceSettingsService.getAzureSubscriptions().then(function(t){if(r.allSubscriptions=(0,W.__spreadArray)([],t,!0),r.createSubscriptionDropdownOptions(),n?.subscriptionId){var o=r.allSubscriptions.findIndex(function(l){return l.subscriptionId===n.subscriptionId});if(o>=0){var a=r.allSubscriptions[o];r.selectedSubscriptionDropdownOption=r.allSubscriptionDropdownOptions[o],r.selectedSubscription=a,n.resourceGroup&&(r.selectedResourceGroup={name:n.resourceGroup,subscriptionId:a.subscriptionId}),n.resourceName&&(r.selectedResource={id:n.resourceName,name:n.resourceName,subscriptionId:a.subscriptionId,resourceGroup:n.resourceGroup})}}}),n?.subscriptionId&&(this.workspaceSettingsService.getResourceGroupsWithResourceTypeForAzureSubscription(this.resourceConnector.resourceType,n.subscriptionId).then(function(t){var o;r.allResourceGroups=(0,W.__spreadArray)([],t,!0),r.createResourceGroupDropdownOptions(),n.resourceGroup&&(r.selectedResourceGroupDropdownOption=null===(o=r.allResourceGroupsDropdownOptions)||void 0===o?void 0:o.find(function(a){return a.text===n.resourceGroup}))}),n.resourceGroup&&this.workspaceSettingsService.getAzureResources(this.resourceConnector.resourceType,n.subscriptionId,n.resourceGroup).then(function(t){var o;r.allResources=(0,W.__spreadArray)([],t,!0),r.createResourcesDropdownOptions(),n.resourceName&&(r.selectedResourceDropdownOption=null===(o=r.allResourcesDropdownOptions)||void 0===o?void 0:o.find(function(a){return a.text===n.resourceName}))}))},i.prototype.createSubscriptionDropdownOptions=function(){var r=this;this.allSubscriptionDropdownOptions=this.allSubscriptions.map(function(n){return{key:n.subscriptionId,text:n.name}}).filter(function(n){var t,o,a,l;return!r.subscriptionDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.subscriptionDropdownSearchText.toLowerCase()))>=0||(null===(l=null===(a=n.key)||void 0===a?void 0:a.toLowerCase())||void 0===l?void 0:l.indexOf(r.subscriptionDropdownSearchText.toLowerCase()))>=0})},i.prototype.createResourceGroupDropdownOptions=function(){var r=this;this.allResourceGroupsDropdownOptions=this.allResourceGroups.map(function(n){return{key:n.name,text:n.name}}).filter(function(n){var t,o;return!r.resourceGroupDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.resourceGroupDropdownSearchText.toLowerCase()))>=0})},i.prototype.createResourcesDropdownOptions=function(){var r=this;this.allResourcesDropdownOptions=this.allResources.map(function(n){return{key:n.name,text:n.name}}).filter(function(n){var t,o;return!r.resourceDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.resourceDropdownSearchText.toLowerCase()))>=0})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(Tt.t))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-azure-resource-connector"]],inputs:{resourceConnector:"resourceConnector"},decls:17,vars:22,consts:[[1,"azure-resource-connect-container","tri-flex","tri-flex-col"],[1,"resource-header"],[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"resource-description"],["target","_blank","rel","noopener noreferrer",3,"href","external"],[4,"ngIf"],[3,"viewModel","hideMessageBar"],[1,"tri-flex","tri-items-center","tri-justify-center"],["class","tri-flex tri-flex-row default-connection",3,"is-disabled",4,"ngIf"],[1,"tri-flex","tri-flex-row","default-connection"],[1,"default-connection-checkbox",3,"id","disabled","label","checked","onChange"],["for","'default-connection-checkbox-' + resourceConnector.resourceType"],[1,"config-not-allowed"],[1,"tri-flex"],["name","error_circle_12_filled",1,"config-not-allowed-icon"],[1,"config-not-allowed-message"],[1,"config-not-allowed-link"],["target","_blank","rel","noopener noreferrer",3,"external","href"],[3,"headerText","iconName","iconSprite","collapsed","collapseContainer"],[1,"resource-picker-field","sub-picker","tri-flex","tri-flex-col"],[1,"picker-label"],["class","tri-flex error-message-container",4,"ngIf"],[1,"resource-picker-field","tri-flex","tri-flex-col"],[1,"azure-resource-footer-buttons","tri-flex"],["tri-button","","appearance","primary",3,"is-disabled","disabled","click",4,"ngIf"],["tri-button","",3,"is-disabled","disabled","click",4,"ngIf"],[1,"azure-resource-dropdown",3,"compact","options","ngModel","disabled","ngModelChange","valueChange"],[1,"dropdown-content",3,"triTooltip"],[1,"resource-setting-dropdown-search",3,"value"],["class","resource-setting-dropdown-item",3,"value",4,"ngFor","ngForOf"],[1,"resource-setting-dropdown-item",3,"value"],[1,"tri-flex","error-message-container"],["name","error_circle_12_filled",1,"error-message-icon"],["class","fetch-progress-spinner",4,"ngIf"],[1,"fetch-progress-spinner"],["tri-button","","appearance","primary",3,"disabled","click"],["tri-button","",3,"disabled","click"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h3",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Rp,2,3,"tri-message-bar",2),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementStart(7,"div",3),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementStart(10,"tri-link",4),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(13,Fp,2,0,"ng-container",5),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275template(15,pu,4,3,"ng-container",5),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,8,t.resourceConnector.headerText)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(5,10,t.serverErrorDismissed$)&&e.\u0275\u0275pipeBind1(6,12,t.serverError$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,14,t.resourceConnector.headerSubText)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("href",t.resourceConnector.learnMoreLink)("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,16,t.resourceConnector.headerLearnMoreText)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0!==e.\u0275\u0275pipeBind1(14,18,t.isInitialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(16,20,t.isInitialized$)))},dependencies:[g.NgForOf,g.NgIf,p.JJ,p.On,P.M,je.D,et.h,ge.r,xt.Z,Mt.M3,jt.l,qt.q,Mt.ii,Tn.U,Ar,O.v,g.AsyncPipe,w.Y],styles:['[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:13px;line-height:18px}[_nghost-%COMP%]   .picker-label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px}[_nghost-%COMP%]   .config-not-allowed[_ngcontent-%COMP%]{margin-top:24px}[_nghost-%COMP%]   .config-not-allowed[_ngcontent-%COMP%]   .config-not-allowed-icon[_ngcontent-%COMP%]{margin-right:10px;fill:var(--globalColorBurgundyTint10)}[_nghost-%COMP%]   .config-not-allowed[_ngcontent-%COMP%]   .config-not-allowed-link[_ngcontent-%COMP%]{margin-top:7px;margin-left:30px}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .resource-header[_ngcontent-%COMP%]{font-size:var(--fontSizeBase300);line-height:var(--lineHeightBase300);font-weight:var(--fontWeightSemibold)}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .resource-description[_ngcontent-%COMP%], [_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .default-connection[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .default-connection.is-disabled[_ngcontent-%COMP%]{color:var(--globalColorBlackAlpha50)}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .default-connection[_ngcontent-%COMP%]   .default-connection-checkbox[_ngcontent-%COMP%]{margin:0 0 0 -3px}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .resource-picker-field[_ngcontent-%COMP%]{margin-bottom:24px}[_nghost-%COMP%]   .azure-resource-dropdown[_ngcontent-%COMP%]{min-width:180px;max-width:360px}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:var(--fontFamilyBase)}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-underline{display:none}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-infix{height:32px;width:360px;border:1px solid #d1d1d1;border-radius:4px;box-sizing:border-box;padding:6px 12px}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-infix .mat-form-field-label-wrapper{left:12px;width:calc(100% - 24px)}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-infix .mat-form-field-label-wrapper .mat-form-field-label{color:var(--colorNeutralForeground1)}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-infix .mat-select-arrow{border:none;height:24px;width:8px}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-infix .mat-select-arrow:before{font-family:TriFabricMDL2Icons;content:"\\e70d"}[_nghost-%COMP%]   .azure-resource-select-field.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]  .mat-form-field-label{display:none}[_nghost-%COMP%]   .azure-resource-select-field.mat-form-field-disabled[_ngcontent-%COMP%]  .mat-form-field-infix{background-color:var(--colorNeutralBackground4)}[_nghost-%COMP%]   .azure-resource-select-field.mat-form-field-disabled[_ngcontent-%COMP%]  .mat-form-field-infix .mat-form-field-label-wrapper .mat-form-field-label{color:var(--colorNeutralForegroundDisabled)}[_nghost-%COMP%]   .fetch-progress-spinner[_ngcontent-%COMP%]{flex-grow:1;margin-left:16px}[_nghost-%COMP%]   .azure-resource-footer-buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-right:8px}  .resource-setting-dropdown-search,   .resource-setting-dropdown-item{font-family:var(--fontFamilyBase);font-size:13px;line-height:18px;width:100%}  .dropdown-content{text-overflow:ellipsis;overflow:hidden}  .resource-setting-dropdown-search{margin:5px 8px;width:calc(100% - 16px);height:24px}  .resource-setting-dropdown-search   tri-svg-icon{margin:2px 6px!important}  .tri-dropdown-trigger-container>span,   .popout-button{width:100%}  .resource-picker-field   .popout-button{width:100%}  .box-header{height:unset!important;padding-bottom:12px;min-height:20px!important}  .is-collapsed .box-header{padding-bottom:0}'],changeDetection:0}),i}();function vu(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"div",3),e.\u0275\u0275elementContainerEnd())}function hu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,vu,2,0,"ng-container",1),e.\u0275\u0275element(2,"tri-workspace-settings-azure-resource-connector",2),e.\u0275\u0275elementContainerEnd()),2&i){var n=r.$implicit,t=r.index;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("resourceConnector",n)}}var fu=function(){function i(r){var n,t=this;this.workspaceSettingsService=r,this.resourceConnectors=((n={})[lt.AdlsStorage]={resourceType:lt.AdlsStorage,headerSubText:"BYOResources_Workspace_AdlsStorage_Description",headerText:"Trident_Workspace_Settings_ADLS_header",headerLearnMoreText:"Trident_Workspace_Settings_Learn_More_ADLS",resourceLabel:"Trident_Workspace_Settings_Storage_Account",resourcePickerPlaceholder:"Trident_Workspace_Settings_Select_Storage",collapsibeSectionHeader:"AdminPortal_BYOTenantStorage_Description",icon:{name:"plug_connected_20_regular"},forPremiumOnly:!1,canSelectTenantResource:!0,learnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128745",featureFlagToAllowResource:"storageAccountAttachForWorkspaceAdminsEnabled",notAllowedWarningMessage:"Warning_BYOSA_Workspace_Not_Enabled",notAllowedLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128134",noSubscriptionsMessage:"Error_No_Azure_Subscriptions_Access",noSubscriptionLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128263",noResourceGroupMessage:"Error_No_Storage_Account_Access",noResourceGroupLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128132",disconnectionPromptMessage:"AdminPortal_DatapoolSettings_DialogWarningNote1"},n[lt.LogAnalytics]={resourceType:lt.LogAnalytics,headerSubText:"BYOResources_Workspace_LogAnalytics_Description",headerText:"Trident_Workspace_Settings_Log_Analytics_Header",headerLearnMoreText:"Trident_Workspace_Settings_Learn_More_Log_Analytics",resourceLabel:"BYOResources_Connect_LogAnalytics",resourcePickerPlaceholder:"Trident_Workspace_Settings_Select_Log_Analytics",collapsibeSectionHeader:"Trident_Workspace_Settings_Configure_Log_Analytics",icon:{name:"plug_connected_20_regular"},learnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128746",forPremiumOnly:!0,canSelectTenantResource:!1,featureFlagToAllowResource:"logAnalyticsAttachForWorkspaceAdminsEnabled",notAllowedWarningMessage:"Warning_BYOLA_Workspace_Not_Enabled",notAllowedLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128744",noSubscriptionsMessage:"Error_No_Azure_Subscriptions_Access",noSubscriptionLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128742",noResourceGroupMessage:"Error_No_Log_Analytics_Workspace_Access",noResourceGroupLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128743",disconnectionPromptMessage:"BYOResources_Workspace_Disconnect_LogAnalytics_Description"},n),this.resourceConnectorArray$=new F.X([]),this.initializedSubscription=void 0,this.initializedSubscription=this.workspaceSettingsService.azureConnectionsInitialized$.subscribe(function(o){if(o){var a=t.workspaceSettingsService.isPremium;t.resourceConnectorArray$.next(Object.values(t.resourceConnectors).filter(function(l){return!l.forPremiumOnly||a}))}})}return i.prototype.ngOnDestroy=function(){var r;null===(r=this.initializedSubscription)||void 0===r||r.unsubscribe()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-azure-connections"]],decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"resourceConnector"],[1,"resource-picker-section-seperator"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,hu,3,2,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(1,1,t.resourceConnectorArray$))},dependencies:[g.NgForOf,g.NgIf,mu,g.AsyncPipe],styles:["[_nghost-%COMP%]   .resource-picker-section-seperator[_ngcontent-%COMP%]{margin-top:16px;border-top:1px solid #edebe9}"],changeDetection:0}),i}();function Cu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",6),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.deleteWorkspaceErrorMessage$))&&void 0!==o?o:""))}}function Su(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275element(1,"tri-svg-icon",8),e.\u0275\u0275elementStart(2,"div",9),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Trident_Workspace_Settings_Delete_Workspace_Banner")))}function yu(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",10)(1,"div",11),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",12),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Workspace_Settings_Delete_Workspace_Title")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",n.getDeleteWorkspaceRetentionPolicyText()," ")}}function bu(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}var wu=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.triLocalizationService=n,this.telemetryService=t,this.disableDelete=!0,this.deleteWorkspaceInProgress$=this.workspaceSettingsService.deleteWorkspaceInProgress$,this.deleteWorkspaceErrorMessage$=this.workspaceSettingsService.deleteWorkspaceErrorMessage$,this.errorDismissed$=new F.X(!1),this.closeSettings=new e.EventEmitter,this.workspaceSettingsService.initialized$.subscribe(function(a){a&&(o.disableDelete=!o.workspaceSettingsService.canDeleteWorkspace)})}return i.prototype.onDeleteClick=function(){var r=this;this.workspaceSettingsService.deleteWorkspace().then(function(o){var a;o&&(null===(a=r.closeSettings)||void 0===a||a.emit())}),this.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"delete workspace",featureName:"Fabric Workspace Settings",activityAttributes:{selectedTab:"Other"}}),this.telemetryService.logEvent({name:"Delete workspace",workspaceObjectId:this.workspaceSettingsService.workspaceObjectId,properties:{featureName:"Fabric Workspace Settings"}})},i.prototype.dismissError=function(){this.errorDismissed$.next(!0)},Object.defineProperty(i.prototype,"workspaceRecoveryEnabled",{get:function(){return this.workspaceSettingsService.workspaceRecoveryEnabled},enumerable:!1,configurable:!0}),i.prototype.getDeleteWorkspaceRetentionPolicyText=function(){return this.triLocalizationService.format("Trident_Workspace_Settings_Delete_Workspace_Configurable",this.workspaceSettingsService.retentionPeriodDays)},i.prototype.getErrorMessageBarViewModel=function(r){var n=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return n.dismissError()},message:r}},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(ye.z),e.\u0275\u0275directiveInject(Tt.t))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-other"]],outputs:{closeSettings:"closeSettings"},decls:13,vars:20,consts:[[3,"viewModel","hideMessageBar",4,"ngIf"],["class","delete-workspace-message tri-flex",4,"ngIf"],["class","delete-workspace-message-new",4,"ngIf"],["tri-button","","appearance","primary","data-testid","delete-workspace-btn",1,"delete-workspace-button",3,"disabled","click"],[4,"ngIf"],["name","delete_20_regular"],[3,"viewModel","hideMessageBar"],[1,"delete-workspace-message","tri-flex"],["name","info_20_regular",1,"banner-icon","tri-shrink-0"],[1,"banner-text"],[1,"delete-workspace-message-new"],[1,"delete-workspace-new-header"],[1,"delete-workspace-new-body"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,Cu,2,3,"tri-message-bar",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Su,5,3,"div",1),e.\u0275\u0275template(4,yu,6,4,"div",2),e.\u0275\u0275elementStart(5,"button",3),e.\u0275\u0275listener("click",function(){return t.onDeleteClick()}),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,bu,1,0,"tri-spinner",4),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275element(10,"tri-svg-icon",5),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,8,t.errorDismissed$)&&e.\u0275\u0275pipeBind1(2,10,t.deleteWorkspaceErrorMessage$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!t.workspaceRecoveryEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.workspaceRecoveryEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("is-disabled",e.\u0275\u0275pipeBind1(6,12,t.deleteWorkspaceInProgress$)),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(7,14,t.deleteWorkspaceInProgress$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(9,16,t.deleteWorkspaceInProgress$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,18,"Trident_Workspace_Settings_Delete_This_Workspace"),"\n"))},dependencies:[g.NgIf,P.M,je.D,et.h,g.AsyncPipe,w.Y],styles:["[_nghost-%COMP%]   .delete-workspace-button[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]{font-size:12px;background-color:var(--colorNeutralBackground4);padding:6px 10px;box-sizing:border-box}[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-inline-end:8px}[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}[_nghost-%COMP%]   .delete-workspace-message-new[_ngcontent-%COMP%]   .delete-workspace-new-header[_ngcontent-%COMP%]{font-weight:600;margin-bottom:10px;font-size:16px}[_nghost-%COMP%]   .delete-workspace-message-new[_ngcontent-%COMP%]   .delete-workspace-new-body[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),i}();function ku(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-general",7),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onCloseSettings())}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("userPicker",t.userPicker),e.\u0275\u0275attribute("data-testid","workspace-settings-general")}}function Iu(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-about",8),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("userPicker",n.userPicker),e.\u0275\u0275attribute("data-testid","workspace-settings-about")}}function xu(i,r){1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-premium-v2",10)}function Mu(i,r){1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-premium",10)}function Pu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,xu,1,0,"tri-workspace-settings-premium-v2",9),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Mu,1,0,"tri-workspace-settings-premium",9),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,2,n.workspaceSettingsV3$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(4,4,n.workspaceSettingsV3$))}}function Tu(i,r){1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-azure-connections-v2",10)}function Ou(i,r){1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-azure-connections",10)}function Eu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Tu,1,0,"tri-workspace-settings-azure-connections-v2",11),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Ou,1,0,"ng-template",null,12,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275reference(4),t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,2,t.workspaceSettingsV3$))("ngIfElse",n)}}function Du(i,r){1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-storage-systems",10)}function Bu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-git-integration",13),e.\u0275\u0275listener("closeWorkspaceSettingsFromTab",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}function Gu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-onelake",14),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}function zu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-workspace-identity",14),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}function Au(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-network",14),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}function Ru(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-platform-monitoring",14),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}function Fu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-other",14),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}var Wu=function(){function i(r,n){var t=this;this.isTrident=r,this.featureSwitchService=n,this.selectedGroup="about",this.closeSettings=new e.EventEmitter,this.workspaceSettingsV3$=this.featureSwitchService.featureSwitches$.pipe((0,ga.n)(function(o){return!o}),(0,ve.q)(1),(0,re.U)(function(o){return t.isTrident&&!!o.workspaceSettingsV3}))}return i.prototype.onCloseSettings=function(){this.closeSettings.emit()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(tn.Y),e.\u0275\u0275directiveInject(gt.V$))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-universal-workspace-settings"]],inputs:{userPicker:"userPicker",selectedGroup:"selectedGroup"},outputs:{closeSettings:"closeSettings"},decls:12,vars:12,consts:[[3,"ngSwitch"],[3,"userPicker","closeSettings",4,"ngSwitchCase"],["class","full-setting universal-settings-page",3,"userPicker",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","full-setting universal-settings-page",4,"ngSwitchCase"],["class","full-setting universal-settings-page",3,"closeWorkspaceSettingsFromTab",4,"ngSwitchCase"],["class","full-setting universal-settings-page",3,"closeSettings",4,"ngSwitchCase"],[3,"userPicker","closeSettings"],[1,"full-setting","universal-settings-page",3,"userPicker"],["class","full-setting universal-settings-page",4,"ngIf"],[1,"full-setting","universal-settings-page"],["class","full-setting universal-settings-page",4,"ngIf","ngIfElse"],["oldAzureConnections",""],[1,"full-setting","universal-settings-page",3,"closeWorkspaceSettingsFromTab"],[1,"full-setting","universal-settings-page",3,"closeSettings"]],template:function(n,t){1&n&&(e.\u0275\u0275elementContainerStart(0,0),e.\u0275\u0275template(1,ku,1,2,"tri-workspace-settings-general",1),e.\u0275\u0275template(2,Iu,1,2,"tri-workspace-settings-about",2),e.\u0275\u0275template(3,Pu,5,6,"ng-container",3),e.\u0275\u0275template(4,Eu,5,4,"ng-container",3),e.\u0275\u0275template(5,Du,1,0,"tri-workspace-settings-storage-systems",4),e.\u0275\u0275template(6,Bu,1,0,"tri-workspace-settings-git-integration",5),e.\u0275\u0275template(7,Gu,1,0,"tri-workspace-settings-onelake",6),e.\u0275\u0275template(8,zu,1,0,"tri-workspace-settings-workspace-identity",6),e.\u0275\u0275template(9,Au,1,0,"tri-workspace-settings-network",6),e.\u0275\u0275template(10,Ru,1,0,"tri-workspace-settings-platform-monitoring",6),e.\u0275\u0275template(11,Fu,1,0,"tri-workspace-settings-other",6),e.\u0275\u0275elementContainerEnd()),2&n&&(e.\u0275\u0275property("ngSwitch",t.selectedGroup),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","general"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","about"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","premium"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","azureConnections"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","storageSystems"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","gitIntegration"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","oneLake"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","workspaceIdentity"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","network"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","platformMonitoring"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","other"))},dependencies:[g.NgIf,g.NgSwitch,g.NgSwitchCase,on,lr,Gi,Jn,Fe,Fs,Ys,Wd,Hd,Cp,Ap,fu,wu,g.AsyncPipe],styles:['[_nghost-%COMP%]{width:100%;max-width:580px}  a{color:var(--colorBrandForegroundLink)}  a:hover,   a:focus{text-decoration:underline}  a:active{color:var(--colorBrandForegroundLinkPressed)}  .workspace-settings-popup-dialog-container{background-color:var(--colorNeutralBackgroundOverlay)}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog{width:560px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogContent{min-height:48px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogCloseIcon{display:none!important}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions{margin-top:21px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button]{background-color:var(--colorNeutralBackground1);border-radius:var(--borderRadiusMedium);border:1px solid var(--colorNeutralStroke1);color:var(--colorNeutralForeground1);fill:var(--colorNeutralForeground1);font-weight:var(--fontWeightSemibold);gap:6px;height:32px;padding:0 12px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button]:active{background-color:var(--colorNeutralBackground1Pressed);border-color:var(--colorNeutralStroke1Pressed)}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button]:hover{background-color:var(--colorNeutralBackground1Hover);border-color:var(--colorNeutralStroke1Hover)}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button].primary{background-color:var(--colorBrandBackground);border:none;color:var(--colorNeutralBackground1);fill:var(--colorNeutralBackground1);position:relative}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button].primary:focus:after{border-radius:var(--borderRadiusSmall);border:1px solid var(--colorNeutralStrokeOnBrand);content:"";display:block;height:calc(100% - 6px);position:absolute;width:calc(100% - 6px)}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button].primary:active{background-color:var(--colorBrandBackgroundSelected)}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button].primary:active:focus:after{border:none}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button].primary:hover{background-color:var(--colorBrandBackgroundHover)}@media screen and (max-width: 544px){  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog{width:250px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions{margin-top:10px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-modalContainer .infonav-dialogTitle{margin-right:0}}  .error-message-container{color:var(--colorPaletteRedForeground1);font-size:12px}  .error-message-container .error-message-icon{fill:var(--colorPaletteRedForeground1);height:12px;width:12px;margin-top:4px;margin-right:5px;flex-shrink:0}  .error-message-banner-container{padding:8px 12px;box-sizing:border-box;font-size:12px;background-color:var(--colorPaletteRedTintBackground1);color:var(--colorPaletteRedForeground1)}  .error-message-banner-container .error-message-banner-icon{margin-right:8px;fill:var(--colorPaletteRedForeground1);height:16px;width:16px}  .error-message-banner-container>div{line-height:16px}  .error-message-banner-container .error-message-banner-dismiss{height:16px;width:16px;display:flex}  .error-message-banner-container .error-message-banner-dismiss tri-svg-icon{height:16px;width:16px}  .universal-settings-page [tri-button]:focus-visible{border:2px solid var(--colorNeutralStrokeFocus2);outline:none;padding:0 11px}  .universal-settings-page [tri-button]:focus-visible[appearance=primary]{padding:0 10px}  .universal-settings-page [tri-button][appearance=subtle].is-disabled :hover{background-color:var(--colorTransparentStrokeDisabled)}  .universal-settings-page [tri-button][appearance=subtle][size=small]:hover{background-color:var(--colorSubtleBackgroundHover)}  .universal-settings-page [tri-button][appearance=subtle][size=small]:active{background-color:var(--colorSubtleBackgroundPressed)}  .universal-settings-page [tri-button].is-disabled{border:none}  .universal-settings-page [tri-button].is-disabled:hover{color:var(--colorNeutralForegroundDisabled)}']}),i}();function Lu(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",18)}function Nu(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",18)}function $u(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",22),e.\u0275\u0275element(2,"tri-svg-icon",23),e.\u0275\u0275elementStart(3,"span",24),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementStart(6,"tri-link",19),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(5,3,"Settings_DataModelEditing_InfoMessage")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,5,"LearnMore")," "))}function Uu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",0)(2,"div",1),e.\u0275\u0275element(3,"div",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"h2",3),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4),e.\u0275\u0275element(8,"div",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"h3",5),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",12),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementStart(15,"tri-link",19),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",7)(19,"input",20),e.\u0275\u0275listener("change",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onAllowWebModelingChanged())}),e.\u0275\u0275pipe(20,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"label",21),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(24,Nu,1,0,"tri-spinner",10),e.\u0275\u0275pipe(25,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(26,$u,9,7,"ng-container",17),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,10,"DataModelSettingsHeader")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,12,"DataModelSettingsHeader")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(14,14,"AllowWebModelingDescription")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,16,"LearnMore")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(20,18,t.autoSaveInProgress.AllowWebModeling)||!t.isWorkspaceAdmin||!t.isPremiumOrSharedOnPremium)("checked",t.allowWebModeling),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(23,20,"AllowWebModelingLabel")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(25,22,t.autoSaveInProgress.AllowWebModeling)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.isWebModelingTenantSwitchEnabled)}}var Vu=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.featureSwitchService=n,this.changeDetection=t,this.contributorsAllowed=this.workspaceSettingsService.allowContributorUpdateApp,this.autoSaveInProgress=this.workspaceSettingsService.autoSaveInProgress,this.initializedSubscription=void 0,this.isWorkspaceAdmin=!1,this.isServiceAppsBuilderWorkspace=!1,this.allowWebModeling=this.workspaceSettingsService.allowWebModeling,this.isPremiumOrSharedOnPremium=!1,this.isWebModelingAdminSettingsEnabled=void 0,this.isWebModelingTenantSwitchEnabled=void 0,this.initializedSubscription=this.workspaceSettingsService.initialized$.subscribe(function(a){a&&(o.isWorkspaceAdmin=o.workspaceSettingsService.isWorkspaceAdmin,o.isPremiumOrSharedOnPremium=o.workspaceSettingsService.isPremium||o.workspaceSettingsService.isSharedOnPremium,o.isWebModelingAdminSettingsEnabled=o.featureSwitchService.featureSwitches.WebModelingAdminSettings,o.isWebModelingTenantSwitchEnabled=o.featureSwitchService.featureSwitches.webModelingTenantSwitchEnabled,o.changeDetection.markForCheck())}),this.workspaceSettingsService.isServiceAppsBuilderWorkspace().pipe((0,Xa.P)()).subscribe(function(a){o.isServiceAppsBuilderWorkspace=a})}return i.prototype.ngOnDestroy=function(){var r;null===(r=this.initializedSubscription)||void 0===r||r.unsubscribe()},i.prototype.onContributorsAllowedChanged=function(){this.contributorsAllowed=!this.contributorsAllowed,this.workspaceSettingsService.allowContributorUpdateApp=this.contributorsAllowed},i.prototype.onAllowWebModelingChanged=function(){this.allowWebModeling=!this.allowWebModeling,this.workspaceSettingsService.allowWebModeling=this.allowWebModeling},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(gt.V$),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-powerbi-workspace-settings-general"]],decls:45,vars:38,consts:[[1,"header-with-line-decor","tri-flex"],[1,"section-header-line-container","prefix-line"],[1,"section-header-line"],[1,"section-header-text"],[1,"section-header-line-container","postfix-line"],[1,"organization-apps-sub-header"],[1,"allow-contributor-description"],[1,"tri-flex","allow-contributor"],["type","checkbox","id","allow-contributor-checkbox","data-testid","allow-contributor-checkbox",1,"allow-contributor-checkbox",3,"disabled","checked","change"],["for","allow-contributor-checkbox",1,"allow-contributor-label"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],[1,"header-with-line-decor","tri-flex","service-apps-workspace-header"],[1,"service-apps-workspace-description"],["href","http://aka.ms/powerbiapps","target","_blank","rel","noopener noreferrer",1,"learn-more-link",3,"external"],[1,"tri-flex","service-apps-workspace"],["type","checkbox","id","is-service-apps-workspace-checkbox",1,"is-service-apps-workspace-checkbox",3,"disabled","checked"],["for","is-service-apps-workspace-checkbox",1,"service-apps-workspace-label"],[4,"ngIf"],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],["href","https://go.microsoft.com/fwlink/?linkid=2227332","target","_blank","rel","noopener noreferrer",1,"learn-more-link",3,"external"],["type","checkbox","id","allow-web-modeling",1,"allow-contributor-checkbox",3,"disabled","checked","change"],["for","allow-web-modeling",1,"allow-contributor-label"],[1,"web-modeling-tenant-setting-disabled-message","tri-flex"],["name","info_20_regular",1,"banner-icon","tri-shrink-0"],[1,"banner-text"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"div",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"h2",3),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4),e.\u0275\u0275element(7,"div",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"h3",5),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",6),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",7)(15,"input",8),e.\u0275\u0275listener("change",function(){return t.onContributorsAllowedChanged()}),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"label",9),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,Lu,1,0,"tri-spinner",10),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",11)(23,"div",1),e.\u0275\u0275element(24,"div",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"h2",3),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",4),e.\u0275\u0275element(29,"div",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"h3",5),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"div",12),e.\u0275\u0275text(34),e.\u0275\u0275pipe(35,"localize"),e.\u0275\u0275elementStart(36,"tri-link",13),e.\u0275\u0275text(37),e.\u0275\u0275pipe(38,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(39,"div",14),e.\u0275\u0275element(40,"input",15),e.\u0275\u0275elementStart(41,"label",16),e.\u0275\u0275text(42),e.\u0275\u0275pipe(43,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(44,Uu,27,24,"ng-container",17)),2&n&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,16,"Trident_Workspace_Settings_Organization_Apps_Header")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,18,"Trident_Workspace_Settings_Secure_Update_Header")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,20,"AllowContributorsUpdateAppForWorkspace")),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(16,22,t.autoSaveInProgress.AllowContributorApp)||!t.isWorkspaceAdmin)("checked",t.contributorsAllowed),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(19,24,"Trident_Workspace_Settings_Allow_Contributor_Label")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(21,26,t.autoSaveInProgress.AllowContributorApp)),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(27,28,"TemplateApps")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(32,30,"TemplateApps")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(35,32,"GroupEditor_ServiceAppCreateInfo")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(38,34,"Trident_GroupEditor_TemplateApps")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!0)("checked",t.isServiceAppsBuilderWorkspace),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(43,36,"Trident_GroupEditor_ServiceAppCheckbox")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isWebModelingAdminSettingsEnabled))},dependencies:[g.NgIf,P.M,je.D,O.v,g.AsyncPipe,w.Y],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container[_ngcontent-%COMP%]{align-items:flex-start;height:20px}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container[_ngcontent-%COMP%]   .section-header-line[_ngcontent-%COMP%]{border-bottom:1px solid var(--colorNeutralStroke2);height:50%}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container.prefix-line[_ngcontent-%COMP%]{width:8px}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container.postfix-line[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-text[_ngcontent-%COMP%]{margin:0 12px;font-size:12px;font-weight:400;line-height:20px;color:var(--colorNeutralForeground2)}[_nghost-%COMP%]   .organization-apps-sub-header[_ngcontent-%COMP%]{margin:10px 0 0;font-size:14px;line-height:20px}[_nghost-%COMP%]   .allow-contributor-description[_ngcontent-%COMP%]{margin-top:8px;font-size:13px;line-height:18px}[_nghost-%COMP%]   .allow-contributor[_ngcontent-%COMP%]{margin:14px 0}[_nghost-%COMP%]   .allow-contributor[_ngcontent-%COMP%]   .allow-contributor-checkbox[_ngcontent-%COMP%]{height:18px;width:18px;margin:0 8px 0 0}[_nghost-%COMP%]   .allow-contributor[_ngcontent-%COMP%]   .allow-contributor-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px}[_nghost-%COMP%]   .service-apps-workspace-description[_ngcontent-%COMP%]{margin-top:8px;font-size:13px;line-height:18px}[_nghost-%COMP%]   .service-apps-workspace[_ngcontent-%COMP%]{margin:14px 0}[_nghost-%COMP%]   .service-apps-workspace[_ngcontent-%COMP%]   .is-service-apps-workspace-checkbox[_ngcontent-%COMP%]{height:18px;width:18px;margin:0 8px 0 0}[_nghost-%COMP%]   .service-apps-workspace[_ngcontent-%COMP%]   .service-apps-workspace-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:var(--fluent-theme-neutral-tertia-color)}[_nghost-%COMP%]   .inline-autosave-spinner[_ngcontent-%COMP%]{margin-left:16px}[_nghost-%COMP%]   .web-modeling-tenant-setting-disabled-message[_ngcontent-%COMP%]{font-size:12px;background-color:var(--globalColorYellowTint50);padding:6px 10px;box-sizing:border-box}[_nghost-%COMP%]   .web-modeling-tenant-setting-disabled-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-right:8px}[_nghost-%COMP%]   .web-modeling-tenant-setting-disabled-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}"],changeDetection:0}),i}();function ju(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",8),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.securityModeOverriddenByHigherLevelMessageBannerModel)}}function Ku(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",9)}var Hu=function(r){return{disabledContainer:r}},Xu=function(){function i(r,n){var t=this;this.workspaceSettingsService=r,this.localizationService=n,this.initialized$=this.workspaceSettingsService.initialized$,this.datasourceBindingSecurityMode=this.workspaceSettingsService.datasourceBindingSecurityMode,this.securityModeOverriddenByHigherLevel=this.workspaceSettingsService.securityModeOverriddenByHigherLevel,this.autoSaveInProgress=this.workspaceSettingsService.autoSaveInProgress,this.initializedSubscription=void 0,this.isWorkspaceAdmin=!1,this.DatasourceBindingSecurityMode=Rn,this.initializedSubscription=this.workspaceSettingsService.initialized$.subscribe(function(o){o&&(t.isWorkspaceAdmin=t.workspaceSettingsService.isWorkspaceAdmin,t.datasourceBindingSecurityMode=t.workspaceSettingsService.datasourceBindingSecurityMode,t.securityModeOverriddenByHigherLevel=t.workspaceSettingsService.securityModeOverriddenByHigherLevel)}),this.securityModeOverriddenByHigherLevelMessageBannerModel={bannerType:2,allowDismiss:!1,iconName:"info_20_regular",message:this.localizationService.get("SettingsDataset_DataConnection_SecurityModeOverriddenByTenantLevel_BannerMessage")}}return i.prototype.ngOnDestroy=function(){var r;null===(r=this.initializedSubscription)||void 0===r||r.unsubscribe()},i.prototype.onSecurityModeChanged=function(r){this.datasourceBindingSecurityMode=r.target.checked?Rn.Strict:Rn.Origin,this.workspaceSettingsService.datasourceBindingSecurityMode=this.datasourceBindingSecurityMode},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(ye.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-powerbi-workspace-settings-dataconnection"]],decls:16,vars:21,consts:[[1,"data-connection-sub-header"],[1,"data-connection-sub-context"],[3,"viewModel",4,"ngIf"],[1,"tri-flex","enable-securitymode",3,"ngClass"],["type","checkbox","id","enable-securitymode-checkbox",1,"enable-securitymode-checkbox",3,"disabled","checked","change"],["for","enable-securitymode-checkbox",1,"enable-securitymode-label"],["href","https://go.microsoft.com/fwlink/?linkid=2277635","rel","noopener noreferrer","target","_blank",3,"external"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],[3,"viewModel"],[1,"inline-autosave-spinner","tri-flex","tri-items-center"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"h3",0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",1),e.\u0275\u0275template(4,ju,1,1,"tri-message-bar",2),e.\u0275\u0275elementStart(5,"div",3)(6,"input",4),e.\u0275\u0275listener("change",function(a){return t.onSecurityModeChanged(a)}),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"label",5),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementStart(11,"tri-link",6),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(14,Ku,1,0,"tri-spinner",7),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,9,"Trident_Workspace_Settings_Data_Connection_Security_Mode_Header")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.securityModeOverriddenByHigherLevel),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(19,Hu,!t.isWorkspaceAdmin||t.securityModeOverriddenByHigherLevel)),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(7,11,t.autoSaveInProgress.DatasourceBindingSecurityMode)||!t.isWorkspaceAdmin||t.securityModeOverriddenByHigherLevel)("checked",t.datasourceBindingSecurityMode===t.DatasourceBindingSecurityMode.Strict||t.securityModeOverriddenByHigherLevel),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(10,13,"Trident_Workspace_Settings_Data_Connection_Enable_Security_Mode_Label")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,15,"Generic_LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(15,17,t.autoSaveInProgress.DatasourceBindingSecurityMode)))},dependencies:[g.NgClass,g.NgIf,je.D,et.h,O.v,g.AsyncPipe,w.Y],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .disabledContainer[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}[_nghost-%COMP%]   .enable-securitymode[_ngcontent-%COMP%]{margin:14px 0}[_nghost-%COMP%]   .enable-securitymode[_ngcontent-%COMP%]   .enable-securitymode-checkbox[_ngcontent-%COMP%]{height:18px;width:18px;margin:0 8px 0 0}[_nghost-%COMP%]   .enable-securitymode[_ngcontent-%COMP%]   .enable-securitymode-label[_ngcontent-%COMP%]{width:90%;font-size:14px;line-height:20px}[_nghost-%COMP%]   .inline-autosave-spinner[_ngcontent-%COMP%]{margin-inline-start:16px}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .data-connection-sub-header[_ngcontent-%COMP%]{margin:10px 0 0;font-size:14px;line-height:20px}"],changeDetection:0}),i}();function Yu(i,r){1&i&&e.\u0275\u0275element(0,"tri-powerbi-workspace-settings-general")}function Qu(i,r){1&i&&e.\u0275\u0275element(0,"tri-powerbi-workspace-settings-dataconnection")}function Zu(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function Ju(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Zu,1,0,"ng-container",4),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"settingsComponentPipe"),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngComponentOutlet",e.\u0275\u0275pipeBind1(2,1,e.\u0275\u0275pipeBind1(3,3,n.component)))}}function qu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Ju,4,5,"ng-container",2),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.component)}}function eg(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,qu,2,1,"ng-container",1),e.\u0275\u0275elementContainerEnd()),2&i){var n=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",n.name)}}function tg(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,eg,2,1,"ng-container",3),e.\u0275\u0275elementContainerEnd()),2&i){var n=r.ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n)}}var ng=function(){function i(){}return i.prototype.transform=function(r){return r()},i.\u0275fac=function(n){return new(n||i)},i.\u0275pipe=e.\u0275\u0275definePipe({name:"settingsComponentPipe",type:i,pure:!0}),i}(),ig=function(){function i(r){this.workspaceSettingsService=r,this.tabs$=this.workspaceSettingsService.pbiTabs$,this.selectedTab=""}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-powerbi-workspace-settings"]],inputs:{selectedTab:"selectedTab"},decls:5,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngComponentOutlet"]],template:function(n,t){1&n&&(e.\u0275\u0275elementContainerStart(0,0),e.\u0275\u0275template(1,Yu,1,0,"tri-powerbi-workspace-settings-general",1),e.\u0275\u0275template(2,Qu,1,0,"tri-powerbi-workspace-settings-dataconnection",1),e.\u0275\u0275template(3,tg,2,1,"ng-container",2),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementContainerEnd()),2&n&&(e.\u0275\u0275property("ngSwitch",t.selectedTab),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","pbi-general"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","pbi-dataconnection"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,4,t.tabs$)))},dependencies:[g.NgComponentOutlet,g.NgForOf,g.NgIf,g.NgSwitch,g.NgSwitchCase,Vu,Xu,g.AsyncPipe,ng],styles:["[_nghost-%COMP%]{width:100%;max-width:580px;position:relative;flex-grow:1}"],changeDetection:0}),i}();function rg(i,r){1&i&&(e.\u0275\u0275elementStart(0,"label",10),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("> ",e.\u0275\u0275pipeBind1(2,1,"WorkspaceDelegatedSettings_ScopeEnabledForAllUsers")," "))}function og(i,r){1&i&&(e.\u0275\u0275elementStart(0,"label",10),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("> ",e.\u0275\u0275pipeBind1(2,1,"WorkspaceDelegatedSettings_ScopeEnabledForSpecificUsers")," "))}function ag(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section"),e.\u0275\u0275template(1,rg,3,3,"label",9),e.\u0275\u0275template(2,og,3,3,"label",9),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isSettingEnabledForAllUsers()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isSettingEnabledForAllUsers())}}function sg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section",11)(1,"button",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onEditScope())}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",void 0===(null==t.setting?null:t.setting.enableDelegationControls)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"WorkspaceDelegatedSettings_ScopeEdit")," ")}}function cg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.revertToOriginalConfig())}),e.\u0275\u0275element(1,"tri-svg-icon",14),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",void 0===(null==t.setting?null:t.setting.enableDelegationControls)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"ColorPicker_RevertToDefault")," ")}}function lg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",15),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.revertToOriginalConfig())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"WorkspaceDelegatedSettings_ConfigurationDefault")," "))}var dg=function(){function i(r,n,t){this.workspaceSettingsService=r,this.errorService=n,this.triLocalizationService=t,this.editSettingEmitter=new e.EventEmitter,this.isSettingEnabled=!1,this.isSettingOverridden$=new F.X(!1),this.textPlaceholderRegex=/\{[0-9]\}/}return i.prototype.ngOnInit=function(){void 0!==this.setting&&(this.isSettingEnabled=null!==this.setting.isOverridden&&this.setting.isOverridden?this.setting.isEnabled:this.setting.upperLevelSelection.isEnabled,this.isSettingOverridden$.next(void 0!==this.setting.isOverridden&&this.setting.isOverridden))},i.prototype.onEditScope=function(){this.editSettingEmitter.emit(this.setting)},i.prototype.revertToOriginalConfig=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){return(0,W.__generator)(this,function(n){switch(n.label){case 0:return void 0===this.setting?[3,2]:[4,this.workspaceSettingsService.revertDelegatedSettingToOriginalConfig(this.setting.switchName)];case 1:n.sent()?(this.setting.isOverridden=!1,this.setting.isEnabled=this.setting.upperLevelSelection.isEnabled,this.isSettingEnabled=this.setting.isEnabled,this.isSettingOverridden$.next(this.setting.isOverridden)):this.errorService.error(this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave"),this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave")),n.label=2;case 2:return[2]}})})},i.prototype.onToggle=function(){return(0,W.__awaiter)(this,void 0,void 0,function(){var r;return(0,W.__generator)(this,function(t){switch(t.label){case 0:return void 0===this.setting?[3,3]:this.isSettingEnabled?(this.onEditScope(),[3,3]):[3,1];case 1:return r=this.createUpdateContract(this.setting),[4,this.workspaceSettingsService.updateDelegatedSetting(r)];case 2:t.sent()?(this.setting.isOverridden=!0,this.setting.isEnabled=!1,this.isSettingOverridden$.next(this.setting.isOverridden)):this.errorService.error(this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave"),this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave")),t.label=3;case 3:return[2]}})})},i.prototype.createUpdateContract=function(r){return{featureSwitches:[{switchId:-1,switchName:r.switchName,isEnabled:!1,isGranular:r.isGranular,allowedSecurityGroups:[],deniedSecurityGroups:[]}],properties:[]}},i.prototype.getMultiParagraphDescription=function(r){var n="";if(void 0!==r)for(var t=0;t<r.length;t++){var o=r[t],a=o.content,l=0,m=a.match(this.textPlaceholderRegex);if(null!==m)for(;m.length>0&&null!=o.hyperLinkList[l];)a=a.replace(this.textPlaceholderRegex,'&nbsp;<a href="'+o.hyperLinkList[l].url+'" target="_blank">'+o.hyperLinkList[l].displayText+"</a>"),l++;if(l<o.hyperLinkList.length)for(var Q=l;Q<o.hyperLinkList.length;Q++)a=a.concat('&nbsp;<a href="'+o.hyperLinkList[Q].url+'" target="_blank">'+o.hyperLinkList[Q].displayText+"</a>");n=0===t?a:n+"<br><br>"+a}return"<span>"+n+"</span>"},i.prototype.hasSettingScope=function(){return void 0!==this.setting&&(void 0!==this.setting.isOverridden&&this.setting.isOverridden?this.setting.isEnabled:this.setting.upperLevelSelection.isEnabled)},i.prototype.isSettingEnabledForAllUsers=function(){return!(void 0===this.setting||(void 0!==this.setting.isOverridden&&this.setting.isOverridden?this.setting.allowedSecurityGroups.length>0||this.setting.deniedSecurityGroups.length>0:this.setting.upperLevelSelection.allowedSecurityGroups.length>0||this.setting.upperLevelSelection.deniedSecurityGroups.length>0))},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(Hn.g),e.\u0275\u0275directiveInject(ye.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-delegated-workspace-settings"]],inputs:{setting:"setting"},outputs:{editSettingEmitter:"editSettingEmitter"},decls:19,vars:19,consts:[[1,"settingToggle"],[1,"settingTitle",3,"for"],[3,"disabled","id","ngModel","ngModelChange"],["tri-switch-text",""],[1,"settingDescription",3,"innerHtml"],[4,"ngIf"],["class","editScope",4,"ngIf"],["class","revertSettingConf","tri-button","","appearance","subtle","size","small",3,"disabled","click",4,"ngIf"],["class","defaultSettingConf","tri-button","","appearance","subtle","size","small",3,"disabled","click",4,"ngIf"],["class","settingScope",4,"ngIf"],[1,"settingScope"],[1,"editScope"],["tri-button","","appearance","primary",3,"disabled","click"],["tri-button","","appearance","subtle","size","small",1,"revertSettingConf",3,"disabled","click"],["name","arrow_undo_20_regular"],["tri-button","","appearance","subtle","size","small",1,"defaultSettingConf",3,"disabled","click"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"section")(1,"div",0)(2,"label",1),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"tri-switch",2),e.\u0275\u0275listener("ngModelChange",function(a){return t.isSettingEnabled=a})("ngModelChange",function(){return t.onToggle()}),e.\u0275\u0275elementStart(5,"div",3),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(9,"section")(10,"div"),e.\u0275\u0275element(11,"div",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(12,ag,3,2,"section",5),e.\u0275\u0275template(13,sg,4,4,"section",6),e.\u0275\u0275elementStart(14,"section"),e.\u0275\u0275template(15,cg,4,4,"button",7),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275template(17,lg,3,4,"button",8),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("for","settingToggle_",null==t.setting?null:t.setting.switchName,""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==t.setting?null:t.setting.title),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("id","settingToggle_",null==t.setting?null:t.setting.switchName,""),e.\u0275\u0275property("disabled",void 0===(null==t.setting?null:t.setting.enableDelegationControls))("ngModel",t.isSettingEnabled),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.isSettingEnabled?e.\u0275\u0275pipeBind1(7,11,"ToggleSwitchOn"):e.\u0275\u0275pipeBind1(8,13,"ToggleSwitchOff")),e.\u0275\u0275advance(5),e.\u0275\u0275property("innerHtml",t.getMultiParagraphDescription(null==t.setting?null:t.setting.description),e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasSettingScope()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasSettingScope()&&(null==t.setting?null:t.setting.isGranular)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(16,15,t.isSettingOverridden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(18,17,t.isSettingOverridden$)))},dependencies:[g.NgIf,p.JJ,p.On,P.M,en.t,g.AsyncPipe,w.Y],styles:["[_nghost-%COMP%]{width:100%;max-width:580px;position:relative;flex-grow:1}[_nghost-%COMP%]   .settingTitle[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size);line-height:40px}[_nghost-%COMP%]   .settingDescription[_ngcontent-%COMP%]{font-family:var(--fontFamilyBase);font-size:13px;line-height:18px;margin-top:8px;margin-bottom:8px}[_nghost-%COMP%]   .settingScope[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px;font-family:var(--fontFamilyBase);font-size:13px;line-height:18px}[_nghost-%COMP%]   .editScope[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .settingToggle[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .revertSettingConf[_ngcontent-%COMP%]{margin-top:16px;padding:0}[_nghost-%COMP%]   .defaultSettingConf[_ngcontent-%COMP%]{margin-top:16px;padding:0}"],changeDetection:0}),i}();function pg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",4),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.onApplyToSpecificSG(a))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("checked",t.isGranular),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"WorkspaceDelegatedSettings_ApplyToSpecificSecurityGroups")," ")}}function ug(i,r){1&i&&e.\u0275\u0275elementContainer(0)}var ss=function(r){return{$implicit:r}};function gg(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section")(1,"div",11)(2,"label",12),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",13),e.\u0275\u0275template(6,ug,1,0,"ng-container",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"label"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(),t=e.\u0275\u0275reference(26);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,7,"VisualContainer_ContextMenu_Include")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",n.userPicker||t)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(11,ss,n.allowedSecurityGroupsContext)),e.\u0275\u0275advance(1),e.\u0275\u0275classMap(n.duplicatedGroupInAllowedSG?"emailList-footer-error":"emailList-footer"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,9,n.duplicatedGroupInAllowedSG?"WorkspaceDelegatedSettings_EmailList_DuplicatedSecurityGroups":"WorkspaceDelegatedSettings_EmailList_AllowedSecurityGroups")," ")}}function _g(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function mg(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section")(1,"div",11)(2,"label",15),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",13),e.\u0275\u0275template(6,_g,1,0,"ng-container",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"label"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(),t=e.\u0275\u0275reference(26);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,7,"VisualContainer_ContextMenu_Exclude")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",n.userPicker||t)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(11,ss,n.deniedSecurityGroupsContext)),e.\u0275\u0275advance(1),e.\u0275\u0275classMap(n.duplicatedGroupInDeniedSG?"emailList-footer-error":"emailList-footer"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,9,n.duplicatedGroupInDeniedSG?"WorkspaceDelegatedSettings_EmailList_DuplicatedSecurityGroups":"WorkspaceDelegatedSettings_EmailList_DeniedSecurityGroups")," ")}}var vg=function(){return[]};function hg(i,r){if(1&i&&e.\u0275\u0275element(0,"input",16),2&i){var t,n=r.$implicit;e.\u0275\u0275property("placeholder",null==n?null:n.inputPlaceholder)("value",(null!==(t=null==n?null:n.identities)&&void 0!==t?t:e.\u0275\u0275pureFunction0(2,vg)).join(";"))}}var fg=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.errorService=n,this.triLocalizationService=t,this.closeScopeEditEmitter=new e.EventEmitter,this.isGranular=!1,this.duplicatedGroupInAllowedSG=!1,this.duplicatedGroupInDeniedSG=!1,this.allowedSecurityGroupsContext=void 0,this.deniedSecurityGroupsContext=void 0,this.onAllowedSecurityGroupsUpdated=function(a){var l;o.duplicatedGroupInAllowedSG=o.verifyDuplicatedGroups(a,null===(l=o.deniedSecurityGroupsContext)||void 0===l?void 0:l.identities)},this.onDeniedSecurityGroupsUpdated=function(a){var l;o.duplicatedGroupInDeniedSG=o.verifyDuplicatedGroups(null===(l=o.allowedSecurityGroupsContext)||void 0===l?void 0:l.identities,a)}}return i.prototype.ngOnInit=function(){var r,n,t,o,a,l,m=null!==(null===(r=this.setting)||void 0===r?void 0:r.isOverridden)&&null!==(n=this.setting)&&void 0!==n&&n.isOverridden?this.setting.allowedSecurityGroups:null===(t=this.setting)||void 0===t?void 0:t.upperLevelSelection.allowedSecurityGroups;this.allowedSecurityGroupsContext={identities:this.parseSecurityGroupsToUserMetadata(m),onIdentitiesUpdated:this.onAllowedSecurityGroupsUpdated,allowSecurityGroups:!0,allowObjectIds:!0,blockUsers:!0,allowDistributionLists:!1,inputPlaceholder:void 0!==m&&m.length>0?"":this.triLocalizationService.get("SecurityGroupsListPlaceholder")};var h=null!==(null===(o=this.setting)||void 0===o?void 0:o.isOverridden)&&null!==(a=this.setting)&&void 0!==a&&a.isOverridden?this.setting.deniedSecurityGroups:null===(l=this.setting)||void 0===l?void 0:l.upperLevelSelection.deniedSecurityGroups;this.deniedSecurityGroupsContext={identities:this.parseSecurityGroupsToUserMetadata(h),onIdentitiesUpdated:this.onDeniedSecurityGroupsUpdated,allowSecurityGroups:!0,allowObjectIds:!0,blockUsers:!0,allowDistributionLists:!1,inputPlaceholder:void 0!==h&&h.length>0?"":this.triLocalizationService.get("SecurityGroupsListPlaceholder")},this.setting&&this.setting.isGranular&&(this.isGranular=null!==this.setting.isOverridden&&this.setting.isOverridden?this.hasAllowedSecurityGroups(this.setting.allowedSecurityGroups)||this.hasDeniedSecurityGroups(this.setting.deniedSecurityGroups):this.hasAllowedSecurityGroups(this.setting.upperLevelSelection.allowedSecurityGroups)||this.hasDeniedSecurityGroups(this.setting.upperLevelSelection.deniedSecurityGroups))},i.prototype.confirmScope=function(){var r,n;return(0,W.__awaiter)(this,void 0,void 0,function(){var t;return(0,W.__generator)(this,function(a){switch(a.label){case 0:return void 0===this.setting?[3,2]:(t=this.createUpdateContract(this.setting),[4,this.workspaceSettingsService.updateDelegatedSetting(t)]);case 1:a.sent()?(this.setting.isOverridden=!0,this.setting.isEnabled=!0,this.isGranular?(this.setting.allowedSecurityGroups=this.parseSecurityGroupsToTSSecurityGroup(null===(r=this.allowedSecurityGroupsContext)||void 0===r?void 0:r.identities),this.setting.deniedSecurityGroups=this.parseSecurityGroupsToTSSecurityGroup(null===(n=this.deniedSecurityGroupsContext)||void 0===n?void 0:n.identities)):(this.setting.allowedSecurityGroups=[],this.setting.deniedSecurityGroups=[]),this.closeScopeEditEmitter.emit(!1)):this.errorService.error(this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave"),this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave")),a.label=2;case 2:return[2]}})})},i.prototype.onApplyToAll=function(r){r&&(this.isGranular=!1)},i.prototype.onApplyToSpecificSG=function(r){r&&(this.isGranular=!0)},i.prototype.cancelScope=function(){void 0!==this.setting&&this.closeScopeEditEmitter.emit(!0)},i.prototype.verifyDuplicatedGroups=function(r,n){if(void 0!==r&&void 0!==n&&r.length>0&&n.length>0)for(var t=0,o=r;t<o.length;t++)for(var a=o[t],l=0,m=n;l<m.length;l++){var h=m[l];if(a.displayName===h.displayName&&a.objectId===h.objectId)return!0}return!1},i.prototype.createUpdateContract=function(r){var n,t;return this.isGranular?{featureSwitches:[{switchId:-1,switchName:r.switchName,isEnabled:!0,isGranular:r.isGranular,allowedSecurityGroups:this.parseSecurityGroupsToTSSecurityGroup(null===(n=this.allowedSecurityGroupsContext)||void 0===n?void 0:n.identities),deniedSecurityGroups:this.parseSecurityGroupsToTSSecurityGroup(null===(t=this.deniedSecurityGroupsContext)||void 0===t?void 0:t.identities)}],properties:[]}:{featureSwitches:[{switchId:-1,switchName:r.switchName,isEnabled:!0,isGranular:r.isGranular,allowedSecurityGroups:[],deniedSecurityGroups:[]}],properties:[]}},i.prototype.parseSecurityGroupsToUserMetadata=function(r){var n=[];if(void 0!==r&&r.length>0)for(var t=0,o=r;t<o.length;t++){var a=o[t];n.push({displayName:a.name,objectId:a.id,userPrincipalName:"",isSecurityGroup:!0,objectType:2})}return n},i.prototype.parseSecurityGroupsToTSSecurityGroup=function(r){var n=[];if(void 0!==r&&r.length>0)for(var t=0,o=r;t<o.length;t++){var a=o[t];a.objectId&&n.push(a.emailAddress||a.userPrincipalName?{id:a.objectId,name:a.displayName,emailAddress:a.emailAddress?a.emailAddress:a.userPrincipalName,isEmailEnabled:!0}:{id:a.objectId,name:a.displayName,isEmailEnabled:!1})}return n},i.prototype.hasAllowedSecurityGroups=function(r){return!!r&&r.length>0},i.prototype.hasDeniedSecurityGroups=function(r){return!!r&&r.length>0},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(Hn.g),e.\u0275\u0275directiveInject(ye.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-delegated-workspace-settings-scope"]],inputs:{setting:"setting",userPicker:"userPicker"},outputs:{closeScopeEditEmitter:"closeScopeEditEmitter"},decls:27,vars:23,consts:[[1,"settingTitle"],[1,"scopeDescription"],[1,"applyToScope",3,"for"],[3,"id"],["type","radio",1,"radio-button-input",3,"checked","change"],["type","radio","class","radio-button-input",3,"checked","change",4,"ngIf"],[4,"ngIf"],[1,"footer-button-container"],["tri-button","","appearance","primary",1,"footer-button",3,"disabled","click"],["tri-button","",1,"footer-button",3,"click"],["inputUserPicker",""],[1,"delegated-scope-input-container","tri-flex","tri-flex-col","tri-relative"],["id","allowed-security-group-list-label",1,"emailList"],[1,"tri-flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","denied-security-group-list-setting-label",1,"emailList"],["aria-labelledby","workspace-contact-list-setting-label",1,"tri-flex-grow","contact-list",3,"placeholder","value"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"section")(1,"label",0),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",1),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"section")(7,"label",2),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"tri-radio-group",3)(11,"tri-radio-button",4),e.\u0275\u0275listener("change",function(a){return t.onApplyToAll(a)}),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,pg,3,4,"tri-radio-button",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(15,gg,10,13,"section",6),e.\u0275\u0275template(16,mg,10,13,"section",6),e.\u0275\u0275elementStart(17,"section")(18,"div",7)(19,"button",8),e.\u0275\u0275listener("click",function(){return t.confirmScope()}),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"button",9),e.\u0275\u0275listener("click",function(){return t.cancelScope()}),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(25,hg,1,3,"ng-template",null,10,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t.setting?null:t.setting.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,13,"WorkspaceDelegatedSettings_ScopeDescription")),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate1("for","applyTo_",null==t.setting?null:t.setting.switchName,""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,15,"ConditionalFormattingDialog_TotalMatching_Label")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("id","applyTo_",null==t.setting?null:t.setting.switchName,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",!t.isGranular),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,17,"WorkspaceDelegatedSettings_ApplyToEntireWorkspace")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==t.setting?null:t.setting.isGranular),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isGranular),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isGranular),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",t.duplicatedGroupInAllowedSG||t.duplicatedGroupInDeniedSG),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(21,19,"Confirm")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(24,21,"Cancel_ButtonText")))},dependencies:[g.NgIf,g.NgTemplateOutlet,E.Y,B.Z,w.Y],styles:["[_nghost-%COMP%]{width:100%;max-width:580px;position:relative;flex-grow:1}[_nghost-%COMP%]   .delegated-scope-input-container[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .delegated-scope-input-container[_ngcontent-%COMP%]     .mat-form-field.emails-list{border-radius:4px;outline:none;border:1px solid var(--colorNeutralStroke1)}[_nghost-%COMP%]   .delegated-scope-input-container[_ngcontent-%COMP%]     emails-list-modern{flex-grow:1}[_nghost-%COMP%]   .delegated-scope-input-container[_ngcontent-%COMP%]     input, [_nghost-%COMP%]   .delegated-scope-input-container[_ngcontent-%COMP%]     .chip-list{padding:6px 10px}[_nghost-%COMP%]   .settingTitle[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size);line-height:18px}[_nghost-%COMP%]   .scopeDescription[_ngcontent-%COMP%]{font-family:var(--fontFamilyBase);font-size:13px;line-height:18px;margin-top:8px;margin-bottom:8px}[_nghost-%COMP%]   .applyToScope[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size);line-height:26px}[_nghost-%COMP%]   .radio-button-input[_ngcontent-%COMP%]{height:20px;width:20px;margin-top:0}[_nghost-%COMP%]   .radio-label[_ngcontent-%COMP%]{font-weight:400;margin-bottom:0;margin-inline-start:9px;-webkit-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .emailList[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size);line-height:26px}[_nghost-%COMP%]   .emailList-footer[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]   .emailList-footer-error[_ngcontent-%COMP%]{font-size:12px;color:var(--fluent-theme-error-dark-color)}[_nghost-%COMP%]   .footer-button-container[_ngcontent-%COMP%]{float:right;margin-top:30px}[_nghost-%COMP%]   .footer-button[_ngcontent-%COMP%]{margin-inline-end:8px}"],changeDetection:0}),i}();function Cg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-delegated-workspace-settings",2),e.\u0275\u0275listener("editSettingEmitter",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onEditSetting(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("setting",t)}}function Sg(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section"),e.\u0275\u0275template(1,Cg,2,1,"ng-container",1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.selectedGroup.settings)}}function yg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section")(1,"tri-delegated-workspace-settings-scope",3),e.\u0275\u0275listener("closeScopeEditEmitter",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onCloseScope(a))}),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("userPicker",t.userPicker)("setting",t.selectedSetting)}}function bg(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"h3"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Sg,2,1,"section",0),e.\u0275\u0275template(5,yg,2,2,"section",0),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.inEditSettingScope?e.\u0275\u0275pipeBind1(3,3,"WorkspaceDelegatedSettings_ScopeConfirm"):n.selectedGroup.title),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.inEditSettingScope),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.inEditSettingScope)}}var wg=function(){function i(r){this.workspaceSettingsService=r,this.delegatedSettingsSubscription=void 0,this.delegatedSettings$=this.workspaceSettingsService.delegatedSettings$,this.selectedGroup=void 0,this.selectedSetting=void 0,this.inEditSettingScope=!1}return i.prototype.ngOnChanges=function(){var r=this;this.delegatedSettingsSubscription=this.delegatedSettings$.subscribe(function(n){var t;null===(t=n?.groups)||void 0===t||t.forEach(function(o){o.name===r.selectedTab&&(r.selectedGroup=o,r.inEditSettingScope=!1,r.selectedSetting=void 0)})})},i.prototype.ngOnDestroy=function(){var r;null===(r=this.delegatedSettingsSubscription)||void 0===r||r.unsubscribe()},i.prototype.onEditSetting=function(r){this.selectedSetting=r,this.inEditSettingScope=!0},i.prototype.onCloseScope=function(r){r&&(this.selectedSetting=void 0),this.inEditSettingScope=!1},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-delegated-workspace-settings-group"]],inputs:{selectedTab:"selectedTab",userPicker:"userPicker"},features:[e.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"setting","editSettingEmitter"],[3,"userPicker","setting","closeScopeEditEmitter"]],template:function(n,t){1&n&&e.\u0275\u0275template(0,bg,6,5,"div",0),2&n&&e.\u0275\u0275property("ngIf",!!t.selectedGroup)},dependencies:[g.NgForOf,g.NgIf,dg,fg,w.Y],styles:["[_nghost-%COMP%]{width:100%;max-width:580px;position:relative;flex-grow:1}"],changeDetection:0}),i}();function kg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-universal-workspace-settings",1),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onCloseSettings())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("selectedGroup",t.selectedUniversalSettingKey)("userPicker",t.userPicker)}}function Ig(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-powerbi-workspace-settings",2),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("selectedTab",n.selectedPBISettingKey)}}function xg(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-delegated-workspace-settings-group",3),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("selectedTab",n.selectedDelegatedSettingKey)("userPicker",n.userPicker)}}var Mg=function(){function i(r,n){this.workspaceSettingsService=r,this.changeDetectorRef=n,this.selectedUniversalSettingKey=void 0,this.selectedPBISettingKey=void 0,this.selectedDelegatedSettingKey=void 0,this.workspaceObjectId="",this.closeSettings=new e.EventEmitter}return i.prototype.ngOnChanges=function(r){var n,t;!(null===(n=r?.workspaceObjectId)||void 0===n)&&n.currentValue&&(null===(t=r.workspaceObjectId)||void 0===t?void 0:t.previousValue)!==r.workspaceObjectId.currentValue&&this.workspaceSettingsService.initializeWorkspace(r.workspaceObjectId.currentValue),this.changeDetectorRef.detectChanges()},i.prototype.onCloseSettings=function(){this.closeSettings.emit()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ne.X),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-shell-settings-view"]],inputs:{selectedUniversalSettingKey:"selectedUniversalSettingKey",selectedPBISettingKey:"selectedPBISettingKey",selectedDelegatedSettingKey:"selectedDelegatedSettingKey",workspaceObjectId:"workspaceObjectId",userPicker:"userPicker"},outputs:{closeSettings:"closeSettings"},features:[e.\u0275\u0275NgOnChangesFeature],decls:3,vars:3,consts:[[4,"ngIf"],[3,"selectedGroup","userPicker","closeSettings"],[3,"selectedTab"],[3,"selectedTab","userPicker"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,kg,2,2,"ng-container",0),e.\u0275\u0275template(1,Ig,2,1,"ng-container",0),e.\u0275\u0275template(2,xg,2,2,"ng-container",0)),2&n&&(e.\u0275\u0275property("ngIf",!!t.selectedUniversalSettingKey),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!t.selectedPBISettingKey),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!t.selectedDelegatedSettingKey))},dependencies:[g.NgIf,Wu,ig,wg],styles:["[_nghost-%COMP%]{display:flex;width:100%}  .scroller{width:100%;overflow-x:auto;padding-right:32px}  .manageEmbedTrident{overflow:inherit;min-width:700px!important}@media screen and (max-width: 950px){  .manageEmbedTrident{min-width:calc(100% - 20px)!important}}  .fogofscroll{position:absolute;width:48px;height:100%;top:0;right:0;pointer-events:none;padding-bottom:24px;z-index:500}  .fogofscroll .fog{height:100%;width:100%;background:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgb(255,255,255) 79%,rgb(255,255,255) 100%)}[_nghost-%COMP%]     .tab-title{margin-bottom:24px;display:flex;flex-direction:column;gap:4px}[_nghost-%COMP%]     .section-container{display:flex;flex-direction:column;gap:32px}[_nghost-%COMP%]     .section-title{margin-bottom:16px;display:flex;flex-direction:column;gap:4px}[_nghost-%COMP%]     .required-star{color:var(--globalColorRedShade10)}[_nghost-%COMP%]     .inline-autosave-spinner{margin-left:16px}[_nghost-%COMP%]     .configuration-container{padding:8px;border-radius:4px;border:1px solid var(--colorNeutralStroke2)}[_nghost-%COMP%]     .configuration-container .anchor-icon{display:flex;margin-right:8px;fill:var(--tridentColor80)}[_nghost-%COMP%]     .configuration-container .container-right-part{overflow:hidden}[_nghost-%COMP%]     .configuration-container .title{margin-bottom:3px}[_nghost-%COMP%]     .configuration-container .summary-title{display:flex;justify-content:space-between}[_nghost-%COMP%]     .configuration-container .content{margin:8px 8px 8px 0;display:flex;flex-direction:column;gap:16px}[_nghost-%COMP%]     .configuration-container .footer{padding:8px 0;margin-top:10px;gap:8px;display:flex}"],changeDetection:0}),i}()}}]);