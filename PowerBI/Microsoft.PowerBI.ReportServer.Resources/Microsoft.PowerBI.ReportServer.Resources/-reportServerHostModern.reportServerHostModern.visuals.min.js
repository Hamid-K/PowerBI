"use strict";(self.webpackChunkreportServerHostModern=self.webpackChunkreportServerHostModern||[]).push([[5],{58698:function(Pe,Z,f){f.d(Z,{c:function(){return A}});var s=f(30237),A=function(){function B(){}return B.prototype.bindEvents=function(P,p,x,c){this.labelItems=P.labelItems,c?(0,s.FO)(this.labelItems):(0,s.YG)(this.labelItems,p)},B.prototype.renderSelection=function(P){this.labelItems.styles(P?{opacity:function(x){return x.selected?B.DefaultLabelOpacity:B.DimmedLabelOpacity}}:{opacity:B.DefaultLabelOpacity})},B.DefaultLabelOpacity=1,B.DimmedLabelOpacity=.6,B}()},3087:function(Pe,Z,f){f.d(Z,{t:function(){return s}});var s={show:{objectName:"zoom",propertyName:"show"},showOnValueAxis:{objectName:"zoom",propertyName:"showOnValueAxis"},valueMin:{objectName:"zoom",propertyName:"valueMin"},valueMax:{objectName:"zoom",propertyName:"valueMax"},valueSize:{objectName:"zoom",propertyName:"valueSize"},showOnCategoryAxis:{objectName:"zoom",propertyName:"showOnCategoryAxis"},categoryMin:{objectName:"zoom",propertyName:"categoryMin"},categoryMax:{objectName:"zoom",propertyName:"categoryMax"},categorySize:{objectName:"zoom",propertyName:"categorySize"},showOnValueSecAxis:{objectName:"zoom",propertyName:"showOnValueSecAxis"},valueSecMin:{objectName:"zoom",propertyName:"valueSecMin"},valueSecMax:{objectName:"zoom",propertyName:"valueSecMax"},valueSecSize:{objectName:"zoom",propertyName:"valueSecSize"},showLabels:{objectName:"zoom",propertyName:"showLabels"},showTooltip:{objectName:"zoom",propertyName:"showTooltip"}}},67918:function(Pe,Z,f){f.d(Z,{HL:function(){return d}});var s=f(81337),A=f(62458),B=f(32379),P=f(38958),p=f(6714),x=f(66123),c=f(6058),i=f(2241),S=f(80822),O=f(51490);function d(o,v,M,E,h,l,r,n){var t;if(_.isEmpty(v.forecastLines))if(v.hasDynamicSeries){var e=o.getLocalizedString("Role_DisplayName_Legend");t=o.getLocalizedString("Visual_AnomalyDetection_WarningMessage_RoleNotAllowed",e)}else if((0,P.aJ)(v.valuesMetadata,p.R.Y2))e=o.getLocalizedString("Role_DisplayName_Y2"),t=o.getLocalizedString("Visual_AnomalyDetection_WarningMessage_RoleNotAllowed",e);else if(1!==v.series.length)e=o.getLocalizedString("Role_DisplayName_Values"),t=o.getLocalizedString("Visual_AnomalyDetection_WarningMessage_WrongDataSeries",e);else if(function(o){var v,M,E;A.fF.assertValue(o,"anomalyDetectionVisualPlugin hasDatetime dataView");var h=null===(v=o.categorical)||void 0===v?void 0:v.categories;if(A.fF.assert(function(){return _.size(h)>0},"should exist at least one category"),!h||0===_.size(h))return!1;var l=null===(M=_.first(h).source)||void 0===M?void 0:M.type;return!!l&&(!!l.dateTime||!(null===(E=l.temporal)||void 0===E||!E.year)||!!l.temporal&&_.some(o.metadata.columns,function(r){var n;return null===(n=r.type.temporal)||void 0===n?void 0:n.year}))}(M))if(r){if(function(o){var v;A.fF.assertValue(o,"anomalyDetectionVisualPlugin hasReferenceLine dataView");var M=null===(v=o.categorical)||void 0===v?void 0:v.values;return A.fF.assert(function(){return _.size(M)>0},"should exist at least one categorical value"),!(!M||0===_.size(M))&&_.some(M,function(E){return!!E.source.objects&&!!E.source.objects[S.Si]})}(M)){var T=o.getLocalizedString("Visual_Trend_Line"),F=o.getLocalizedString("Visual_Reference_Line");t=o.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoWithReferenceLine",T,F)}}else{var w=o.getLocalizedString("Type"),b=o.getLocalizedString("Visual_XAxis"),L=o.getLocalizedString("Visual_Axis_Scalar");t=o.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoContinousCategory",w,b,L)}else e=o.getLocalizedString("Role_DisplayName_Axis"),t=o.getLocalizedString("Visual_AnomalyDetection_WarningMessage_CategoryNotDateTime",e);else t=o.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoWithForecast");!function(o,v,M,E,h){var l;A.fF.assertValue(o,"enumeration"),A.fF.assertValue(M,"visualStyle"),A.fF.assertAnyValue(E,"disabledReason"),A.fF.assertAnyValue(h,"selectors");var r=function(T){var F,V;return(0,s.pi)((0,s.pi)(((F={})[S.MA.show]=T.show,F[S.MA.displayName]=T.displayName,F),function(o,v,M){var E={};return x.Wz.forEach(function(h){v[h]&&(E[v[h]]="color"===h?(0,c.Q)(o?.color):o?.[h])}),Object.assign(E,(0,i.HM)(o.stroke,v)),E}(T.marker,x.m6)),((V={})[S.MA.confidenceBandShow]=T.band.show,V[S.MA.confidenceBandStyle]=T.band.style,V[S.MA.transparency]=T.band.transparency,V[S.MA.confidenceBandColor]={solid:{color:T.band.color}},V))},n=_.first(v);if(n){if(o.pushInstance({selector:n.selector,properties:r(n),objectName:S.xn}),h)for(var t=(0,B.GT)((0,B.tV)(h)),e=0,w=n.anomalies;e<w.length;e++){var b=w[e];b.isAnomaly&&(t||(0,B.Ic)(b.identity.getSelectorsByColumn(),h))&&o.pushInstance({objectName:S.r3,selector:(0,B.tV)(b.identity.getSelectorsByColumn()),properties:(l={},l[S.K1.CategoryValue]=b.categoryValue,l[S.K1.Value]=b.value,l[S.K1.ExpectedValue]=b.expectedValue,l[S.K1.ExpectedLow]=b.lowerBound,l[S.K1.ExpectedHigh]=b.upperBound,l[S.K1.BatchStart]=b.batchStart,l[S.K1.BatchEnd]=b.batchEnd,l[S.K1.FormattedCategoryValue]=b.formattedCategoryValue,l[S.K1.ValueFormatString]=b.valueFormatString,l)})}}else o.pushInstance({selector:{id:"0"},properties:r((0,O.EL)(M)),objectName:S.xn,disabledReason:E})}(E,h,l,t,n)}},42589:function(Pe,Z,f){f.d(Z,{WI:function(){return h},bj:function(){return e},ec:function(){return O},rr:function(){return r},v8:function(){return t}});var E,s=f(64067),A=f(79154),B=f(62458),P=f(65195),p=f(51995),x=f(47998),c=f(80822),i=(0,A.CH)("anomaly-confidence-interval"),m=(0,A.CH)("anomaly-lower-layer"),S=(0,A.CH)("anomaly-higher-layer"),O=(0,A.CH)("anomaly-point"),C=.5,d=1,u="".concat(P.oe).concat(O.selector),a="".concat(P.$u).concat(O.selector),o="".concat(P.NN).concat(O.selector),v=1.4,M=2;function h(w,b,L,T,F,V,U){B.fF.assertValue(b&&L&&T&&V?.onSelecting,"renderAnomalies parameters");var G=b.select(m.selector);G.empty()&&(G=b.insert("g",":first-child").classed(m.class,!0));var ae=b.select(S.selector);ae.empty()&&(ae=b.append("g").classed(S.class,!0)),function(w,b,L,T,F){var V=d3.line().x(function(U){return L(U.x)}).y(function(U){return T(U.y)});b.selectAll(i.selector).data(w||[],function(U){return U.selector.id}).join(function(U){return U.insert("path",":first-child").classed(i.class,!0)}).call(function(U){return(F?U.transition().ease(d3.easeLinear).duration(F):U).attr("d",function(G){for(var ae=[],de=0,ge=G.anomalies.slice().reverse();de<ge.length;de++)ae.push({x:(j=ge[de]).categoryValue,y:j.lowerBound});for(var R=0,y=G.anomalies;R<y.length;R++){var j;ae.push({x:(j=y[R]).categoryValue,y:j.upperBound})}return V(ae)}).styles(function(G){var ae=(0,s.TD)(G.band.transparency);return{"fill-opacity":ae,"stroke-opacity":ae,stroke:G.band.show&&G.band.style===x.X$.line?G.band.color:"transparent",fill:G.band.show&&G.band.style===x.X$.fill?G.band.color:"transparent"}})})}(w,G,L,T,F),function(w,b,L,T,F,V,U){var G=_.first(w),ae=[];G&&(ae=_.filter(G.anomalies,function(j){return j.isAnomaly}));var de=b.selectAll(O.selector).data(ae,function(j){return j.categoryValue.toString()}),ge=de.enter().append("path").classed(O.class,!0).merge(de);(F?ge.transition().ease(d3.easeLinear).duration(F):ge).attr("d",function(){return(0,p.jM)(G.marker.shape,1)}),ge.attr("transform",function(j){var R=L(j.categoryValue),y=T(j.value),g=T.range()[0]>T.range()[1],D=j.value>j.expectedValue&&g?-M*G.marker.size:M*G.marker.size,H=j.value>j.expectedValue&&g?0:180;return"translate(".concat(R,",").concat(y+D,") rotate(").concat(H,") scale(").concat(G.marker.size,")")}),ge.each(function(){d3.select(this).style("fill",G.marker.color).style("stroke",G.marker.color).attr("vector-effect","non-scaling-stroke").style("stroke-width",1.5).style("stroke-opacity",1).style("fill-opacity",function(R){return this===E||R.isHighlighted?d:C}).on(o,function(R){U&&r(this,R,V)}).on(a,function(){U&&d3.select(this).style("fill-opacity",d)}).on(u,function(){U&&this!==E&&d3.select(this).style("fill-opacity",C)})}),de.exit().remove()}(w,ae,L,T,F,V.onSelecting,U)}function r(w,b,L){E?E===w?(d3.select(w).style("fill-opacity",C),E=void 0):(d3.select(E).style("fill-opacity",C),E=w,d3.select(E).style("fill-opacity",d)):(E=w,d3.select(E).style("fill-opacity",d)),E&&L({type:0,visualObjects:[{objectName:c.r3,selectorsByColumn:b.identity.getSelectorsByColumn()}]}),d3.event.stopPropagation()}function t(w,b,L){var T=w.value>w.expectedValue?-M*L:M*L;return b(w.value)+T}function e(w){return w*v}},40006:function(Pe,Z,f){f.d(Z,{B:function(){return B}});var s=f(62458),A=f(72902),B=function(){function P(){}return P.prototype.update=function(p,x,c,i,m){this.anomalies=p,this.scrolledData=x,this.focusedDatum=c,this.updateFocusElement=i},P.prototype.getFirstElement=function(p,x){if(void 0===x&&(x=!1),null!=p){var i;if((i=(x?_.findLast:_.find)(this.anomalies,function(S){return S.categoryIndex>=p&&S.isAnomaly}))&&this.scrolledData&&-1===this.scrolledData.categories.indexOf(i.categoryValue))return{element:null};if(i)return this.focusedDatum=i,{element:this.updateFocusElement(i).node()}}},P.prototype.getNextDataPoint=function(p,x,c){var i=this.focusedDatum;switch(c){case A.x0.NextCategory:case A.x0.PreviousCategory:var m=_.findIndex(this.anomalies,function(O){return O&&O.categoryIndex===p});i=this.pickNextAvailableIndex(this.anomalies,m,c);break;case A.x0.NextSeries:case A.x0.PreviousSeries:break;default:s.fF.assertNever(c)}if(i)return this.scrolledData&&-1===this.scrolledData.categories.indexOf(i.categoryValue)?{element:null,targetCategoryIndex:i.categoryIndex}:(this.focusedDatum=i,{element:this.updateFocusElement(i).node(),targetCategoryIndex:i.categoryIndex})},P.prototype.pickNextAvailableIndex=function(p,x,c){s.fF.assert(function(){return c===A.x0.NextCategory||c===A.x0.PreviousCategory},"pickNextAvailableIndex direction");var i=c===A.x0.NextCategory?1:-1,m=x;do{if((m+=i)>=p.length?m=0:m<0&&(m=p.length-1),m===x)break}while(!p[m]||!p[m].isAnomaly);return p[m]},P}()},37274:function(Pe,Z,f){f.d(Z,{DR:function(){return s},LO:function(){return A},_F:function(){return B}});var s=function(){function P(){}return P.prototype.willCollide=function(p){return!1},P.prototype.addItem=function(p){},P.prototype.skipItem=function(p){},P}(),A=function(){function P(p,x,c){this.fontOffsetLeft=x,this.fontOffsetRight=c,this.previousLabelRightEdge=p}return P.prototype.willCollide=function(p){return p-this.fontOffsetLeft<=this.previousLabelRightEdge},P.prototype.addItem=function(p){this.previousLabelRightEdge=p+this.fontOffsetRight},P.prototype.skipItem=function(p){},P}(),B=function(){function P(p,x,c,i,m,S,O){this.fontOffsetLeft=x,this.fontOffsetRight=c,this.currentNode=i,this.scale=m,this.halfCategoryThickness=S,this.rotationPadding=O,this.previousLabelRightEdge=p,this.index=0;var C=P.getLastChildIndex(i,0);this.groupEndPosition=m(C)+S-O}return P.prototype.willCollide=function(p){return P.isLastChild(this.currentNode)?p-this.fontOffsetLeft<=this.previousLabelRightEdge:p+this.fontOffsetRight>this.groupEndPosition},P.prototype.addItem=function(p){this.moveToNextNode(p)},P.prototype.skipItem=function(p){this.moveToNextNode(p)},P.prototype.moveToNextNode=function(p){var x=this.currentNode,c=this.currentNode=this.currentNode.next;if(this.index++,P.isLastChild(x)){this.previousLabelRightEdge=this.groupEndPosition+2*this.rotationPadding;var i=P.getLastChildIndex(c,this.index);this.groupEndPosition=this.scale(i)+this.halfCategoryThickness-this.rotationPadding}else this.previousLabelRightEdge=p+this.fontOffsetRight},P.isLastChild=function(p){return null==p.next||p.parent!==p.next.parent},P.getLastChildIndex=function(p,x){for(var c=p,i=x;!P.isLastChild(c);)i++,c=c.next;return i},P}()},11856:function(Pe,Z,f){f.d(Z,{D:function(){return B}});var s=f(38265),B={card:{maxFontSize:200},label:{textSize:12,fontFamily:f(56707).Pq,colorName:"foregroundNeutralTertiary",paddingTop:8},value:{textSize:27,colorName:"foreground",fontFamily:s.Wn.regularSecondary.css}}},32554:function(Pe,Z,f){f.d(Z,{jN:function(){return O},k2:function(){return S},xr:function(){return C},y0:function(){return d}});var s=f(81337),A=f(62458),B=f(56578),P=f(32379),p=f(82755),x=f(91059),c=f(96915),i={objectName:"dataPoint",propertyName:"showAllDataPoints"};function S(a,o,v){if(a.dataView){var M={fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},E=new B.CQ(new B.lg("colors"),"Visual_Colors",M,function(h){return v.getLocalizedString(h)});return E.addGroup("colors",function(h){O({colorProps:M,featureSwitches:o,groupBuilder:h,hostService:v,options:a})}),E.build()}}function O(a){var e,o=a.groupBuilder,v=a.colorProps,M=a.featureSwitches,E=a.options,h=E.categories,l=E.dataView.metadata&&E.dataView.metadata.objects,r=(0,p.NA)(l,i,!!E.showAllDataPoints),n=function(a,o){return(0,p.W7)(a,{objectName:"dataPoint",propertyName:"fill"})||(0,p.W7)(a,{objectName:"dataPoint",propertyName:"defaultColor"})||o.colorPalette.dataColors.getColorByIndex(0).value}(l,E.style),t=E.fillInstanceKind;if(null==t&&(t=3),1&t&&(e=null),v.fill){var w=(0,s.pi)((0,s.pi)({},v.fill),{selector:{data:[(0,c.Ue)(1)]},altConstantValueSelector:e,instanceKind:t});E.noDefaultFillColor?E.hideShowAllToggle&&o.addSimpleSlice("defaultColor",new B.tL({descriptor:w,value:void 0}).build(),function(L){return L.withCustomDisplayName("PropertyPane_ConditionalFormatting_DialogLauncherSliceTitle")}):o.addSimpleSlice("defaultColor",new B.BT({descriptor:w,value:{value:n}}).build(),function(L){return L.withCustomDisplayName("Default")})}v.showAllDataPoints&&!E.hideShowAllToggle&&o.addSimpleSlice(E.disableShowAllToggle?"showAllDisabled":"showAll",new B.bd({descriptor:(0,s.pi)((0,s.pi)({},i),{selector:{data:[(0,c.Ue)(1)]},altConstantValueSelector:e}),value:(0,p.NA)(l,i,!!E.showAllDataPoints)}).build(),function(L){return L.withDisabled(E.disableShowAllToggle)});var b=function(T){for(var F=function(ae,de){var ge=h[ae],j=(0,P.fd)(ge.identity.getSelector());E.multipleRole&&(j=(0,P.d9)(j),A.fF.assert(function(){return!!j.data},"expect categories to have some data identity"),j.data.unshift((0,x.Yp)([E.multipleRole])));var R=M.onObjectFormatPaneUid?"datapoint":ge.displayName;R=E.disableShowAllToggle?"".concat(R,"Disabled"):R,o.addSimpleSlice(R,new B.BT({descriptor:(0,s.pi)((0,s.pi)({},v.fill),{selector:j,instanceKind:1}),value:{value:ge.color||n}}).build(),function(y){return T?y.withCustomDisplayName(ge.displayName,!1).withDisabled(E.disableShowAllToggle).withHidden(!r):y.withCustomDisplayName(ge.displayName,!1).withDisabled(E.disableShowAllToggle)})},V=0,U=h.length;V<U;V++)F(V)};M.onObject?b(M.onObject):r&&b()}function C(a,o,v){var M={fill:{objectName:"dataPoint",propertyName:"fill"}},E=function(r){return o.getLocalizedString(r)},h=new B.CQ(new B.lg("colors"),"Visual_Colors",M,E);return h.addGroup(void 0,function(l){d({groupBuilder:l,dataPoints:a,seriesColorProps:M,localize:E,featureSwitches:v})}),h.build()}function d(a,o){for(var v=a.groupBuilder,M=a.dataPoints,E=a.seriesColorProps,h=a.localize,l=a.featureSwitches,r=function(w,b){var L=M[w],T=L.displayName||h("DataPointColorTitle"),F=(0,P.fd)(L.identity.getSelector()),V=void 0;l.onObjectFormatPaneUid?(V="datapoint",o&&(V="".concat(V,"-").concat(w))):V=T,v.addSimpleSlice(V,new B.BT({descriptor:(0,s.pi)((0,s.pi)({},E.fill),{selector:F,instanceKind:1}),value:{value:L.color}}).build(),function(U){return U.withCustomDisplayName(T,!1).withDisabled(o&&!(0,P.fS)(o,F))})},n=0,t=M?.length;n<t;n++)r(n)}},29324:function(Pe,Z,f){f.d(Z,{Z:function(){return P}});var s=f(81337),A=f(56578),B=f(40812);function P(x,c,i,m,S){var O=(0,B.sd)(x,i);if(!_.isEmpty(O)){var C=[],d=_.groupBy(O,function(a){return a.containerName}),u=new A.CQ(new A.lg("conditionalFormatting"),m,C,c);return u.withDescription(S).withAliasName("FieldWell_ConditionalFormatting"),u.addGroup("options",function(a){a.withDisplayName("Apply_Settings_To").withCollapsible(!1).addContainer("series",function(o){o.withDisplayName("Series"),Object.keys(d).forEach(function(v){var M=d[v];o.addContainerItem(v.replace(" ",""),v,function(E){return function(x,c,i,m){c.addGroup("cellElements",function(S){for(var O=0,C=x;O<C.length;O++){var d=C[O];S.addSimpleSlice(d.propertyId.propertyName,new A.M$({descriptor:(0,s.pi)((0,s.pi)({},d.propertyId),{selector:d.selector}),displayName:i,value:d}).build()),_.some(m,d.propertyId)||m.push(d.propertyId)}})}(M,E,v,C)})})})}),u.build()}}},45028:function(Pe,Z,f){f.d(Z,{_I:function(){return S},_u:function(){return O},qQ:function(){return m},w9:function(){return i}});var s=f(81337),A=f(32041),B=f(63892),P=f(20624),p=f(382),x=f(56707),c=f(18664),i=200;function m(r,n,t){var e=function(r,n,t){var e=l(r,n,"width"),w=l(r,n,"height"),b=t.parentShape;return{width:e,height:w,top:b?.rect?b.rect.top:0,left:b?.rect?b.rect.left:0}}(r,n,t),w=Math.floor(function(r,n,t){var e=n.parentShape,w=r.optimizeLabelDisplay?r.labelContainerMaxWidth:i;if(r.position===p.h.auto&&!function(r){return[p.h.insideBase,p.h.insideCenter,p.h.insideEnd].includes(r.position)}(r))return w;var b=function(r){if(!r?.rect)return r;var n={horizontalBuffer:2*x.Bo,verticalBuffer:2*x.d1},t=n.horizontalBuffer,e=n.verticalBuffer,w=(0,s.pi)((0,s.pi)({},r.rect),{width:r.rect.width-t,height:r.rect.height-e});return(0,s.pi)((0,s.pi)({},r),{rect:w})}(e),L=function(r,n,t){if(!n?.rect)return!1;var e=t.width,w=t.height,b=n.rect,L=b.width,T=b.height;switch(r.labelOrientation){case P.B.Horizontal:return e<=L&&w<=T;case P.B.Vertical:return e<=T&&w<=L;default:return!0}}(r,b,t);return L||!e?.orientation?w:r.labelOverflow?r.labelOverflow&&!r.optimizeLabelDisplay?i:w:Math.min(w,r.labelOrientation===P.B.Horizontal?b.rect.width:b.rect.height)}(n,t,e));(function(r,n,t){switch(r.position){case p.h.insideEnd:case p.h.insideBase:case p.h.insideCenter:return r.labelOverflow&&r.optimizeLabelDisplay||n.width>=t;case p.h.above:case p.h.outsideEnd:case p.h.under:return r.optimizeLabelDisplay&&n.width>=t;case p.h.auto:return r.optimizeLabelDisplay;default:return!1}})(n,e,w)&&O(r,w,n.labelContentLayout)}function S(r,n){var t=(0,c.qk)(r,n);return{width:A.b.measureSvgTextWidth(t),height:A.b.estimateSvgTextHeight(t,!0)}}function O(r,n,t,e){void 0===e&&(e=0);for(var w=r.length,b=n,L=0,T=0,F=r;T<F.length;T++){var V=F[T],U=Math.floor(b/w);if(V.textSize.width>=U){var G=(0,c.qk)(V.fontProperties,V.text);V.text=A.b.getTailoredTextOrDefault(G,U),G.text=V.text;var ae=V.textSize.width;V.textSize={width:A.b.measureSvgTextWidth(G),height:A.b.estimateSvgTextHeight(G,!0)},L+=ae-V.textSize.width}w--}if((b-=L)<0)!function(r,n){if(!(r>=0)){var t=n.every(function(w){return A.b.isFullyTruncated(w.text)});if(t)for(;r<0&&n.length>1;)r+=n.pop().textSize.width}}(b,r);else{var de=function(r,n){return n===B.v.SingleLine?r.reduce(function(t,e){return t+e.textSize.width},0):Math.max.apply(Math,r.map(function(t){return t.textSize.width}))}(r,t);de>n&&e<5&&O(r,n,t,e+1)}}function l(r,n,t){for(var e=0,w=0,b=r;w<b.length;w++){var T=b[w].textSize[t];n?.labelContentLayout===B.v.SingleLine?e+=T+x.uM:e=Math.max(e,T)}return e}},34519:function(Pe,Z,f){f.d(Z,{U:function(){return O}});var s=f(81337),A=f(93907),B=f(63892),P=f(71793),p=f(56707),x=f(45028),c=f(46769),i=f(20624),m=f(92374),S=f(5381);function O(o){var v,M,E=o.cartesianDataPoint,h=o.labelDataPoint,l=o.enableValueDataLabel,r=o.valueDataLabelSettings,n=o.valueShowBlankAs,t=[];if(!_.isEmpty(E.appendedLabelContents))for(var e=0,w=E.appendedLabelContents;e<w.length;e++){var L=C(w[e],o);L&&t.push(L)}if(l&&(h.text||n)){var T=(0,x._I)(h.fontProperties,h.text);t.push({text:null!==(v=h.text)&&void 0!==v?v:n,outsideFill:h.outsideFill,insideFill:h.insideFill,fontProperties:h.fontProperties,textSize:T,transparency:h.transparency,role:"Value"})}var F=1===t.length?B.v.SingleLine:r?.labelContentLayout,V=null!==(M=r?.horizontalAlignment)&&void 0!==M?M:r?.labelOrientation===i.B.Vertical?m.D.left:m.D.center,U=(0,s.pi)((0,s.pi)({},h),{labelDataPointContents:t,contentLayout:F,alignment:V});return(0,x.qQ)(t,r,h),U}function C(o,v){var E=function(o,v,M){var E,h,l,r,n="",t=o?.fontProperties,e=0;switch(v.role){case"Detail":n=function(o,v){var E=v.percentOfTotal,h=v.formattersCache,l=v.currentSeries,r=v.currentAxisProperties,n=o.labelSettings,t=n??{},w=t.detailLabelPrecision,b=t.detailLabelDisplayUnits,L=t.detailShowBlankAs,T="";if(v.isStacked100&&t.detailContentType===A.W.Percent)T=h.getOrCreate(p.L0,n,void 0,w).format(E);else{var V=(0,s.pi)((0,s.pi)({},n),{precision:b===p.In?void 0:w,displayUnits:b}),U=(0,S.d6)(r,V);T=(0,c.nU)(o.dynamicLabel,h,V,U,l,o.role)}return T??L??""}(v,M),t=null===(E=v?.labelSettings)||void 0===E?void 0:E.detailFontProperties,e=null!==(h=o?.detailTransparency)&&void 0!==h?h:0;break;case"Title":n=function(o,v){var M=v.formattersCache,E=v.currentSeries,h=v.currentAxisProperties,l=v.seriesName,r=o.labelSettings,n=r??{},e=n.titleLabelPrecision,w=n.titleLabelDisplayUnits,b=n.titleShowBlankAs;if(n.titleContentType===P.A.Custom){var L=(0,s.pi)((0,s.pi)({},r),{precision:w===p.In?void 0:e,displayUnits:w}),T=(0,S.d6)(h,L);return(0,c.nU)(o.dynamicLabel,M,L,T,E,o.role)??b??""}return l}(v,M),e=null!==(l=o?.titleTransparency)&&void 0!==l?l:0,t=null===(r=v.labelSettings)||void 0===r?void 0:r.titleFontProperties}return{text:n,fontProperties:t,transparency:e}}(o.labelSettings,o,v),h=E.text,l=E.fontProperties,r=E.transparency;if(h){var n=(0,x._I)(l,h);return{text:h,outsideFill:v.getOutsideLabelFill(o),insideFill:v.getInsideLabelFill(o),fontProperties:l,transparency:r,textSize:n,role:o.role}}}},19744:function(Pe,Z,f){function s(B){return B.some(function(P){return A(P)})}function A(B){return B&&typeof B.labelDataPointContents<"u"}f.d(Z,{r:function(){return A},t:function(){return s}})},5381:function(Pe,Z,f){f.d(Z,{$J:function(){return se},AE:function(){return ee},Bf:function(){return be},Bw:function(){return _e},R1:function(){return He},SS:function(){return ze},Sw:function(){return z},W1:function(){return ke},Xc:function(){return ve},d6:function(){return we},fI:function(){return Y},gm:function(){return ue},in:function(){return me},n8:function(){return xe},ng:function(){return Ee},x5:function(){return Te},z8:function(){return Se}});var h,l,r,t,e,w,s=f(79154),A=f(62458),B=f(79476),P=f(80758),p=f(32041),x=f(64329),c=f(66001),i=f(28326),m=f(20624),S=f(38168),O=f(53197),C=f(41368),d=f(56707),u=f(19744),a=f(18664),o=f(60066),v=f(2241),M=f(52287),E=f(95519),b=(h=(0,s.CH)("label")).class,L=h.selector,T=(l=(0,s.CH)("label-container")).class,F=l.selector,V=(r=(0,s.CH)("label-tspan")).class,U=r.selector,G=(0,s.CH)("label-background").class,de=(t=(0,s.CH)("seriesLabel")).class,ge=t.selector,j=(e=(0,s.CH)("label-second-line")).class,R=e.selector,y=(w=(0,s.CH)("label-container-background")).class,g=w.selector,D="-0.25em",H=5,I=(0,s.CH)("leader-lines"),K=(0,s.CH)("line-label"),k=4;function Y(){return new C.R}function ee(N){var fe,q=N.labelContainers,te=N.onObject,ye={transform:function(Oe){var Ge="translate(".concat(function(N){return N.boundingBox.left+N.boundingBox.width/2}(Oe),",").concat(function(N){var q=N.labelOrientation===m.B.Vertical?N.boundingBox.height:N.boundingBox.height/2;return N.wordBreak&&(q=N.boundingBox.height/2),N.boundingBox.top+q}(Oe),")");return Oe.labelOrientation===m.B.Vertical?"".concat(Ge,"rotate(-90)"):Ge},dy:D},re=N.labelGroupContext.selectAll(F).data(q,oe),Ce=q.some(function(Me){return!_.isEmpty(Me.labelContents)}),ie=q.some(function(Me){return Me.hasBackground});return Ce&&(fe=re.enter().append("g").merge(re).classed(T,!0).attrs(ye),ie&&function(N,Q){var q=N.selectAll(g).data(function(re){return[re]}),te=q.enter().insert("rect","text").classed(y,!0).merge(q),ye=new Map;te.interrupt().filter(function(re){return re.hasBackground}).each(function(re){var Ce=0,ie=0,fe=re.labelOrientation===m.B.Vertical,Le=rt(re.labelContents,fe,!0),Me=2*d.d1+Le,Oe=2*d.Bo;"MultiLine"===re.contentLayout?(Ce=fe?re.boundingBox.width+Me:re.boundingBox.width+Oe,ie=fe?re.boundingBox.height+Oe:re.boundingBox.height+Me):(Ce=fe?re.boundingBox.height+Oe:re.boundingBox.width+Oe,ie=fe?re.boundingBox.width+Me:re.boundingBox.height+Me),ye.set(re.identity.getKey(),{calculatedWidth:Ce,calculatedHeight:ie})}).attr("rx",k).attr("ry",k).attr("width",function(re){return ye.get(re.identity.getKey()).calculatedWidth}).attr("height",function(re){return ye.get(re.identity.getKey()).calculatedHeight}).attr("x",function(re){return re.labelOrientation===m.B.Vertical?0:ye.get(re.identity.getKey()).calculatedWidth/-2}).attr("y",function(re){return ye.get(re.identity.getKey()).calculatedHeight/-2}).style("fill",function(re){return re.backgroundColor}).style("fill-opacity",function(re){return 1-re.backgroundTransparency}),Q&&De(te,function(re){return re.hasBackground}),q.exit().remove(),te.exit().remove()}(fe,N.onObject),function(N){var Q=N.selectAll(L).data(function(ie){return[ie]}),ye=Q.enter().append("text").merge(Q).attr("x",function(ie){return function(fe){return fe.labelOrientation===m.B.Vertical?d.Bo:fe.boundingBox.width/-2}(ie)}).attr("y",function(ie){return function(fe){var Le="MultiLine"===fe.contentLayout,Ge=rt(fe.labelContents,fe.labelOrientation===m.B.Vertical,fe.hasBackground);return Le?(fe.boundingBox.height+Ge)/-2:-((fe.hasBackground?fe.labelOrientation===m.B.Vertical?d.d1:d.Bo:0)+Ge)}(ie)}).style("text-anchor",function(ie){return ie.textAnchor}).classed(b,!0);ye.selectAll("tspan").remove();var re=ye.interrupt().selectAll(U).data(function(ie){return function(N){var Q=N.labelContents.sort(function(Me,Oe){return et[Me.role]-et[Oe.role]}),q=1===Q.length,te="MultiLine"===N.contentLayout,re=N.hasBackground?N.labelOrientation===m.B.Vertical?d.d1:d.Bo:0,Ce=N.alignment,ie=N.boundingBox.width,fe=function(Oe){return Oe.textSize.height+d.i1},Le=function(Oe){if(N.labelOrientation===m.B.Vertical)switch(Ce){case"center":return(ie-Oe.textSize.width)/2;case"left":default:return re;case"right":return ie-re-Oe.textSize.width}else switch(Ce){case"center":default:return-Oe.textSize.width/2;case"left":return-(ie-2*re)/2;case"right":return(ie-2*re)/2-Oe.textSize.width}};return Q.map(function(Me,Oe){return te&&!q?{x:Le(Me),y:null,label:Me,dx:null,dy:fe(Me),id:Oe}:{x:null,y:0,label:Me,dx:Oe>0?d.uM:re,dy:".35em",id:Oe}})}(ie)},function(ie){return ie.label.role}),Ce=re.enter().append("tspan").merge(re);Ce.interrupt().attr("x",function(ie){return ie.x}).attr("y",function(ie){return ie.y}).attr("dx",function(ie){return ie.dx}).attr("dy",function(ie){return ie.dy}).text(function(ie){return ie.label.text}).styles(function(ie){return(0,a.E_)(ie.label.fontProperties)}).style("fill-opacity",function(ie){var fe;return null!==(fe=1-ie.label.transparency)&&void 0!==fe?fe:0}).classed(V,!0),Q.exit().remove(),re.exit().remove(),Ce.exit().remove()}(fe),fe.style("pointer-events",function(Me){return Oe=Me,N.onObject?N.formatMode&&Oe.hasBackground||!N.formatMode&&(!N.hasTooltip||null==Oe.tooltip)?"none":"all":N.hasTooltip&&null!=Oe.tooltip?"all":"none";var Oe})),fe&&((!ie||!Ce)&&fe.selectAll(g).remove(),fe.filter(function(Me){return!Me.hasBackground}).selectAll(g).remove()),te&&De(fe,function(Me){return!Me.hasBackground}),re.exit().remove(),fe}function se(N){var Q;null===(Q=N.selectAll(F))||void 0===Q||Q.remove()}function me(N){var Q;null===(Q=N.selectAll(g))||void 0===Q||Q.remove()}function ue(N){var Q=Te(N);return Ee({context:N.backgroundContext,dataLabels:N.dataLabels,onObject:N.onObject}),Q}function be(N){var Q=ve(N.labelContext,N.dataLabels,N.duration,N.numeric,N.easeType,N.onObject);return function(N,Q,q,te,ye){var re=_.filter(Q,function(fe){return fe.hasBackground}),Ce=N.selectAll("rect").data(re,oe);Ce.enter().append("rect").style("fill-opacity",0).merge(Ce).transition().ease(ye).duration(q).attrs({x:function(Le){return Le.boundingBox.left-d.Bo},y:function(Le){return Le.boundingBox.top-d.d1},rx:k,ry:k,width:function(Le){return Le.boundingBox.width+2*d.Bo},height:function(Le){return void 0===Le.text&&void 0===Le.secondRowText?0:Le.boundingBox.height+2*d.d1}}).style("fill",function(fe){return fe.backgroundColor}).style("fill-opacity",function(fe){return 1-fe.backgroundTransparency}),Ce.exit().transition().duration(q).style("fill-opacity",0).remove()}(N.backgroundContext,N.dataLabels,N.duration,0,N.easeType),Q}function ve(N,Q,q,te,ye,re){void 0===te&&(te=!1),void 0===ye&&(ye=d3.easeCubicInOut);var Ce={transform:function(Me){var Oe="translate(".concat(he(Me),",").concat(pe(Me),")");return Me.labelOrientation===m.B.Vertical?"".concat(Oe,"rotate(-90)"):Oe},dy:D};te&&(Ce.dy=void 0);var ie=N.selectAll(L).data(Q,oe),fe=ie.enter().append("text").classed(b,!0).style("opacity",0).attrs(Ce).merge(ie);return re&&fe.classed(M.cy,!0).attr(M.Ez,function(Le){return Le.isCategory?"category-labels":"data-labels"}).attr(M.CK,"Visual_DataPointsLabels").attr(M.QZ,1),fe.text(function(Le){return Le.text}).style("text-anchor",function(Le){return Le.textAnchor}).styles(function(Le){return(0,a.E_)(Le.fontProperties)}).transition().ease(ye).duration(q).attrs(Ce).style("opacity",1),ie.exit().transition().duration(q).style("opacity",0).remove(),fe}function xe(N){return 11===N?{maximumOffset:o.rA,startingOffset:o.vD,offsetIterationDelta:o.YD,allowLeaderLines:!0,attemptToMoveLabelsIntoViewport:!0}:{maximumOffset:d.wh,startingOffset:d.ki,attemptToMoveLabelsIntoViewport:!0}}function Se(N,Q,q){(function(N){N.select(I.selector).empty()&&N.append("g").classed(I.class,!0)})(N),N.select(I.selector).selectAll("polyline").data(Q,q).join(function(te){return te.append("polyline").classed(K.class,!0)}).attr("points",function(te){return te.leaderLinePoints}).styles(function(te){return(0,v.bc)(te.leaderLine)})}function we(N,Q){return new Ne(N,Q)}function _e(N,Q,q){return q?q.format(N):i.dx.formatValue(N,Q)}function Te(N){var Q=N.dataLabels,q=N.formatMode,te=N.hasTooltip,ye=N.labelContext,re=N.numeric,Ce=N.onObject,ie=N.twoRows,fe={transform:function(Ae){var Xe="translate(".concat(he(Ae),",").concat(pe(Ae),")");return Ae.labelOrientation===m.B.Vertical?"".concat(Xe,"rotate(-90)"):Xe},dy:D};re&&(fe.dy=void 0);var Le=ye.selectAll(L).data(Q,oe),Me=Le.enter().append("text").classed(b,!0).merge(Le);Ce&&De(Me,function(Ie){return!Ie.hasBackground}),Me.interrupt().text(function(Ie){return Ie.text}).attrs(fe).style("text-anchor",function(Ie){return Ie.textAnchor}).styles(function(Ie){return(0,a.E_)(Ie.fontProperties)}),Le.exit().remove(),fe={transform:function(Ae){return"translate(".concat(function(N){return N.boundingBox.left+N.boundingBox.width/2}(Ae),",").concat(function(N){return N.boundingBox.top+(void 0!==N.text?N.boundingBox.height/2:N.boundingBox.height)}(Ae),")")},dy:D},re&&(fe.dy=void 0);var Oe=_.filter(ie?Q:[],function(Ie){return!_.isEmpty(Ie.secondRowText)}),Ge=ye.selectAll(R).data(Oe,function(Ie,Ae){return Ie.identity?Ie.identity.getKeyWithoutHighlight():Ae.toString()}),tt=Ge.enter().append("text").classed(j,!0).merge(Ge);Ce&&De(tt,function(Ie){return!Ie.hasBackground}),tt.interrupt().text(function(Ie){return Ie.secondRowText}).attrs(fe).style("text-anchor",function(Ie){return Ie.textAnchor}).styles(function(Ie){return(0,a.E_)(Ie.fontProperties)}),te&&(Me.append("title").text(function(Ie){return Ie.tooltip}),tt.append("title").text(function(Ie){return Ie.tooltip}));var ct=function(Ae){return Ce?q&&Ae.hasBackground||!q&&(!te||null==Ae.tooltip)?"none":"all":te&&null!=Ae.tooltip?"all":"none"};return Me.style("pointer-events",function(Ie){return ct(Ie)}),tt.style("pointer-events",function(Ie){return ct(Ie)}),Ge.exit().remove(),Me}function Ee(N){var Q=N.context,te=N.onObject,ye=_.filter(N.dataLabels,function(ie){return ie.hasBackground}),re=Q.selectAll("rect"),Ce=(re=re.data(ye,oe)).enter().append("rect").merge(re);return Ce.classed(G,!0).attr("x",function(ie){return ie.boundingBox.left-d.Bo}).attr("y",function(ie){return ie.boundingBox.top-d.d1}).attr("rx",k).attr("ry",k).attr("width",function(ie){return ie.boundingBox.width+2*d.Bo}).attr("height",function(ie){return void 0===ie.text&&void 0===ie.secondRowText?0:ie.boundingBox.height+2*d.d1}).style("fill",function(ie){return ie.backgroundColor}).style("fill-opacity",function(ie){return 1-ie.backgroundTransparency}),te&&De(Ce,function(ie){return ie.hasBackground}),re.exit().remove(),Ce}function ze(N,Q,q,te){if(null==Q||0===Q)return q;var ye=Q/100,re=Math.ceil(N/te);return 1===ye?re:q+Math.floor(ye*(re-q))}function He(N){return(0,u.t)(N)?function(N){var Q=new Set,q=new Set;return N.filter(function(te){var ye=te.labelDataPointContents.map(function(Ce){return Ce.text}).join("|"),re=1===te.parentType;return!(Q.has(ye)&&it(te,Array.from(q),re)||(Q.add(ye),q.add(te.parentShape),0))})}(N):function(N){for(var Q=[],q={},te=0,ye=N;te<ye.length;te++){var re=ye[te];if(A.fF.assertValue(re,"dataPoint"),null!=re){var Ce=re,fe=q[Ce.text];fe?it(Ce,fe,1===Ce.parentType)||(Q.push(Ce),fe.push(Ce.parentShape)):(Q.push(Ce),q[Ce.text]=[Ce.parentShape])}}return Q}(N)}function ke(N,Q,q,te,ye,re,Ce){void 0===ye&&(ye=0),void 0===re&&(re=!1),void 0===Ce&&(Ce=!1);var ie=p.b.estimateSvgTextHeight(Q)+ye,fe=Math.max(1,Math.floor(te/ie));return(0,c.ql)(N,Q,p.b.measureSvgTextWidth,q,fe,null,!1,re,Ce)}function rt(N,Q,q){return N.length>1&&!Q?(N.length-1)*d.i1-(q?d.d1:0):0}var it=function(Q,q,te){return q.some(function(ye){return te?(0,P.fS)(Q.parentShape.rect,ye.rect):(0,B.fS)(Q.parentShape.point,ye.point)})},et={Title:1,Value:2,Detail:3};function X(N){A.fF.assertValue(N,"textElement");var Q=p.b.getSvgMeasurementProperties(N);return p.b.measureSvgTextWidth(Q,N.textContent)}function J(N,Q,q,te){for(var ye=d3.select(N),re=p.b.estimateSvgTextHeight(q),Ce=Math.min(Q.length,2),ie=0,fe=0;fe<Ce;fe++){q.text=Q[fe],Q.length>2&&fe&&(q.text=Q[fe].concat("..."));var Le=p.b.getTailoredTextOrDefault(q,te);ye.append("tspan").attr("id","wordWrap".concat(Q[fe])).attrs({x:0,dy:fe?re:D}).text(Le);var Me=p.b.measureSvgTextWidth(q,Le);ie=Me>ie?Me:ie}return ie}function z(N){var Q,q=N.dataLabels,te=N.seriesLabelsSettings,ye=N.plotArea,re=N.onObject,Ce=te.position===S.M.right,ie=(0,E.lr)(te,N.availableChartWidth),fe={transform:function(qe){var st=Ce?H:-H,wt=function(N){return N.boundingBox.left+(N.hasBackground?d.Bo:0)}(qe)+st,xt="translate(".concat(wt,",").concat(pe(qe),")");return qe.labelOrientation===m.B.Vertical?"".concat(xt,"rotate(-90)"):xt},dy:D},Le=N.labelContext.selectAll(ge).data(q,oe),Me=Le.enter().append("text").classed(de,!0).merge(Le);re&&Me.classed(M.cy,!0).attr(M.Ez,"series-labels").attr(M.CK,"Visual_SeriesLabels").attr(M.QZ,1);var Oe=[],Ge=0;Me.interrupt().text(function($e){var qe,st;return te?.wordWrap?$e.text:function(N,Q,q,te){var ye=d.bN,re={text:N,fontFamily:q||ye.fontFamily,fontSize:x.FP.fromPoint(Q),fontWeight:ye.fontWeight};return p.b.getTailoredTextOrDefault(re,te)}($e.text,null!==(qe=$e.fontProperties)&&void 0!==qe&&qe.size?$e.fontProperties.size.pt:void 0,null===(st=$e.fontProperties)||void 0===st?void 0:st.family,ie)}).attrs(fe).styles(function($e){return(0,a.E_)($e.fontProperties)}).styles({"text-anchor":Ce?"start":"end","white-space":"pre"});var tt=Me.nodes();if(te?.wordWrap)for(var ct=p.b.estimateSvgTextHeight(d.bN),Ie=null!==(Q=te?.fontProperties.size.px)&&void 0!==Q?Q:0,Xe=Ie+ct+(ye.height-ct-Ie)/2,Qe=0,Ue=tt;Qe<Ue.length;Qe++){A.fF.assertValue(Ye=Ue[Qe],"textElement");var ht=Ye.textContent,bt=p.b.getSvgMeasurementProperties(Ye);Ye.textContent=null;var pt=J(Ye,ke(ht,bt,ie,ye.height-Xe,void 0,!0,!0),bt,ie);q[Ge].hasBackground&&Oe.push(pt),Ge++}else for(var yt=0,lt=tt;yt<lt.length;yt++){var Ye=lt[yt];q[Ge].hasBackground&&Oe.push(X(Ye)),Ge++}Le.exit().remove();var nt=_.filter(q,function($e){return $e.hasBackground}),ut=N.backgroundContext.selectAll("rect");return(ut=ut.data(nt,oe)).enter().append("rect").merge(ut).attr("transform",function($e,qe){var st=$e.boundingBox.left;return Ce||(st-=Oe[qe]),"translate(".concat(st+=H*(Ce?1:-1),",").concat(function(N){var Q=0;return N.wordBreak||(Q=(N.boundingBox.height+2*d.d1)/4),N.boundingBox.top-Q}($e),")")}).attr("rx",k).attr("ry",k).attr("width",function($e,qe){return Oe[qe]+2*d.Bo}).attr("height",function($e){return void 0===$e.text&&void 0===$e.secondRowText?0:$e.boundingBox.height+2*d.d1}).style("fill",function($e){return $e.backgroundColor}).style("fill-opacity",function($e){return 1-$e.backgroundTransparency}),ut.exit().remove(),Me}function he(N){var Q=N.labelOrientation===m.B.Vertical;return N.boundingBox.left+(Q?N.boundingBox.width:N.boundingBox.width/2)-(N.hasBackground&&Q?d.Bo:0)}function pe(N){var Q=N.labelOrientation===m.B.Vertical,q=Q?N.boundingBox.height/2:N.boundingBox.height,te=N.hasBackground&&!Q?d.d1:0;return N.wordBreak&&(q=N.boundingBox.height/2,te=-d.d1),N.boundingBox.top+q-te}function oe(N,Q){return N.key?N.key:N.identity?N.identity.getKeyWithoutHighlight():String(Q)}function De(N,Q){N.classed(M.cy,function(q){return Q(q)}).attr(M.Ez,function(q){return Q(q)?q.isCategory?"category-labels":q.isTotal?"total-labels":"data-labels":null}).attr(M.CK,function(q){return Q(q)?q.isTotal?"Visual_DataTotalLabels":"Visual_DataPointsLabels":null}).attr(M.QZ,function(q){return Q(q)?1:null})}var Ne=function(){function N(Q,q){if(this.noPrecision=!0,0===q.displayUnits){var te=Q.formatter;if(this.units=te&&te.displayUnit&&te.displayUnit.value,null==q.precision){this.noPrecision=!1;var ye=te&&te.options;if(ye&&ye.precision)this.precisionForAxis=Q.formatter.options.precision+1;else{var re=Q.d3Axis.tickValues();re&&re.length&&(this.precisionForAxis=(0,O.Gv)(re[0],re.length>1?re[1]:void 0,10*(this.units||1),ye&&ye.format))}}}}return N.prototype.getPrecision=function(Q,q){if(!this.noPrecision){if(this.units)return this.precisionForAxis;if(!Q)return q&&q.integer?0:this.precisionForAxis}},N}()},3665:function(Pe,Z,f){f.d(Z,{v:function(){return P}});var s=f(81337),A=f(32379),P=function(p){function x(c,i,m,S){void 0===S&&(S=[]);var O=p.call(this,c,i,m,!0)||this;return O.relatedSeriesLevelToggleValues=S,O}return(0,s.ZT)(x,p),x.create=function(c,i,m){return void 0===m&&(m=[]),new x(c.objectName,c.propertyName,i,m)},x.prototype.getSeriesValueCount=function(c){return this.relatedSeriesLevelToggleValues.filter(function(i){return i.value===c}).length},x.prototype.isSelectorForSeries=function(c){return!!this.relatedSeriesLevelToggleValues.find(function(i){return(0,A.fS)(c,i.selector)})},x.prototype.shouldApplyChanges=function(c,i){var m=this.getSeriesValueCount(!0);return 0===m||1===m&&2===i&&this.isSelectorForSeries(c.selector)},x.prototype.getChanges=function(c){if(this.isMatchingVisualObjectChange(c)){var i=this.getToggleBehaviorType(c);if(0!==i&&this.shouldApplyChanges(c,i))return this.updateBehaviorChanges(i,c),this.getBehaviorChanges(i)}return[]},x}(f(70903).F)},17591:function(Pe,Z,f){function s(B,P){return null==B&&null==P||null!=B&&null!=P&&B.getTime()===P.getTime()}function A(B,P){var S=Math.abs(B.valueOf()-P.valueOf());return Math.floor(S/864e5)}f.d(Z,{I:function(){return A},X:function(){return s}})},70574:function(Pe,Z,f){function s(A){try{for(var B=A.objects[Object.keys(A.objects)[0]].geometries,P=!1,p={},x=0,c=B;x<c.length;x++){var i=c[x];if(P=P||null!=i.id,i.properties)for(var m=Object.keys(i.properties),S=0,O=m;S<O.length;S++)p[O[S]]=!0}var d=Object.keys(p).sort();_.pull(d,"id");for(var u=[],a=0,o=B;a<o.length;a++){i=o[a];var v=[];if(P&&v.push(i.id),i.properties)for(var M=0,E=d;M<E.length;M++)v.push(i.properties[E[M]]);u.push(v)}if(d=(P?["id"]:[]).concat(d),!_.isEmpty(d)&&!_.isEmpty(u))return{names:d,values:u}}catch{}}f.d(Z,{J:function(){return s}})},33948:function(Pe,Z,f){f.d(Z,{j:function(){return B}});var s=f(90120),A=f(56707);function B(P,p,x,c){return P||s.v.getThemeColor(c,p&&!x?A.pl:A.uQ)}},32476:function(Pe,Z,f){f.d(Z,{Me:function(){return e},ji:function(){return r}});var s=f(81337),A=f(1521),B=f(48966),P=f(64067),p=f(79154),x=f(62458),c=f(32041),i=f(48066),m=f(38078),S=f(66001),O=f(49511),d=f(18664),u=f(63194),a=f(39071),o=f(97121),v=function(){function R(y){var g=this;this.options=y,this.pageIndex=0,this.pageIndexLast=0,this.rowIndexStart=0,this.rowIndexEnd=0,this.navButtonPrev=y.viewContainer.append("button").classed("powervisuals-glyph",!0).style("background","transparent").style("flex","0 0 ".concat(20,"px")).on("click",function(){return g.renderPrevPage()}).lower(),this.navButtonNext=y.viewContainer.append("button").classed("powervisuals-glyph",!0).style("background","transparent").style("flex","0 0 ".concat(20,"px")).on("click",function(){return g.renderNextPage()})}return R.prototype.render=function(){var y=this;if(this.dataSettings){var g=this.dataSettings.rowDataStore.slice(this.rowIndexStart,this.rowIndexEnd+1),D=this.options.contentContainer.selectAll(".row").data(g,this.dataSettings.getRowDataKey);D.enter().append("div").classed("row",!0).attr("role","none").call(function(H){return y.options.enter(H)}).merge(D).call(function(H){return y.options.update(H)}).order(),D.exit().remove(),this.navButtonPrev.style("visibility",this.hasPrevPage()?null:"hidden"),this.navButtonNext.style("visibility",this.hasNextPage()?null:"hidden")}},R.prototype.data=function(y){return(!this.dataSettings||this.dataSettings.isHorizontal!==y.isHorizontal)&&this.setOrientation(y.isHorizontal),this.dataSettings=y,this.updateIndexes(y.resetPosition?0:this.pageIndex),this},R.prototype.getScrollPosition=function(){return{startIndex:this.rowIndexStart,endIndex:this.rowIndexEnd}},R.prototype.setOrientation=function(y){y?(this.options.viewContainer.style("flex-direction","row"),this.navButtonPrev.classed("chevron-up",!1).classed("left-nav-arrow",!0),this.navButtonNext.classed("chevron-down",!1).classed("right-nav-arrow",!0)):(this.options.viewContainer.style("flex-direction","column"),this.navButtonPrev.classed("chevron-up",!0).classed("left-nav-arrow",!1),this.navButtonNext.classed("chevron-down",!0).classed("right-nav-arrow",!1))},R.prototype.updateIndexes=function(y){this.pageIndexLast=Math.ceil(this.dataSettings.totalCellCount/(this.dataSettings.rowCount*this.dataSettings.columnCount))-1,this.pageIndex=Math.min(Math.max(y,0),this.pageIndexLast),this.rowIndexStart=this.pageIndex*this.dataSettings.rowCount,this.rowIndexEnd=Math.min(this.rowIndexStart+this.dataSettings.rowCount-1,this.dataSettings.rowDataStore.length-1),this.pageIndex>=this.pageIndexLast-2&&this.options.loadMoreData()},R.prototype.renderNextPage=function(){this.hasNextPage()&&(this.updateIndexes(this.pageIndex+1),this.render())},R.prototype.renderPrevPage=function(){this.hasPrevPage()&&(this.updateIndexes(this.pageIndex-1),this.render())},R.prototype.hasNextPage=function(){return this.options.scrollEnabled&&this.pageIndex<this.pageIndexLast},R.prototype.hasPrevPage=function(){return this.options.scrollEnabled&&this.pageIndex>0},R}(),M=f(52287),E=f(2241),h=f(95519),r=3;function n(R,y){var g=0===y?a.yD.selector:a.yT.selector;return R.find("".concat(a.qN.selector).concat(g))}var t=[a.yD,a.bL,a.yT],e=function(){function R(y,g,D,H,I,K,k){this.$container=y,this.loadMoreHandler=g,this.scrollEnabled=D,this.interactivityService=H,this.eventManager=I,this.boundDataKey=K,this.featureSwitches=k}return R.prototype.update=function(y){this.ensureRenderer(y);var I,K,g=y.gridLineSettings,D=y.cellPadding,H=g&&g.strokeWidth;x.fF.assert(function(){return!D.right},"Expected only left padding to be set"),x.fF.assert(function(){return!D.bottom},"Expected only top padding to be set"),I=H&&R.hasVerticalGridLines(g)?2*D.left+g.strokeWidth:2*D.left,K=H&&R.hasHorizontalGridLines(g)?2*D.top+g.strokeWidth:2*D.top,D=(0,s.pi)((0,s.pi)({},D),{left:I,top:K});var k=this.getUpdatedHeaderMargins(y.headerMargins),Y=(0,s.pi)((0,s.pi)({},y.viewport),{width:Math.floor(y.viewport.width),height:Math.floor(y.viewport.height)}),ee=Math.ceil(y.subheaderHeight);this.settings=(0,s.pi)((0,s.pi)({},y),{cellPadding:D,headerMargins:k,subheaderHeight:ee,viewport:Y})},R.prototype.ensureRenderer=function(y){y.isPaginated&&this.renderer instanceof ae||!y.isPaginated&&this.renderer instanceof G||(this.renderer&&this.destroy(),this.renderer=y.isPaginated?new ae(this.$container,this.loadMoreHandler,this.scrollEnabled,this.interactivityService,this.eventManager,this.featureSwitches,this.boundDataKey):new G(this.$container,this.loadMoreHandler,this.scrollEnabled,this.interactivityService,this.eventManager,this.featureSwitches,this.boundDataKey))},R.prototype.updateHeaderMargins=function(y){var g=this.settings;x.fF.assertValue(g,"Settings should be initialized when updating header margins.");var D=this.getUpdatedHeaderMargins(y);this.settings=(0,s.pi)((0,s.pi)({},g),{headerMargins:D})},R.prototype.getScrollPosition=function(){return this.renderer.getScrollPosition()},R.prototype.render=function(y){return(0,s.mG)(this,void 0,void 0,function(){var g;return(0,s.Jh)(this,function(D){return g=this.calculateGridRenderSettings(y.calculatedCellDimensions),[2,this.renderer.render(g,this.settings.shouldResetScrollPosition,y)]})})},R.prototype.scrollTo=function(y){var g=this;x.fF.assert(function(){return g.renderer instanceof G},"scrollTo is only valid for scrollable grid renderer"),this.renderer instanceof G&&this.renderer.scrollTo(y)},R.prototype.getRowHeight=function(y){return this.renderer.getRowHeight(y)},R.prototype.getUpdatedHeaderMargins=function(y){return(0,s.pi)((0,s.pi)({},y),{left:Math.ceil(y.left),right:Math.ceil(y.right),bottom:Math.ceil(y.bottom),top:Math.ceil(y.top)})},R.prototype.calculateGridRenderSettings=function(y){var g=y.axesOverflow,D=y.plotAreaViewport,H=y.seriesLabelsWidth,I=y.scrollableViewport,K={height:D.height+g.bottom+g.top,width:D.width+g.left+g.right+(isNaN(H)?0:H??0)},k=this.settings,se=k.cellCount,me=k.cellPadding,ue=k.columnCount,be=k.getAllCells,ve=k.gridLineSettings,Se=k.outerPadding,Te=k.renderHeader,Ee=k.rowCount,Ke=k.viewport,Ze=k.manageTabIndexOnRowHeaderFooter,je=k.boldedSubheaders,rt=k.isHorizontal,it=k.borderSettings,et=k.background,ot=k.headerMargins,ft={subheaderHeight:k.subheaderHeight,subheaderLineHeight:k.subheaderLineHeight,subheaderPosition:k.subheaderPosition,subheaderShow:k.subheaderShow,headerWidth:ot.left,footerWidth:ot.right,cell:{width:K.width,getCellBackgroundColor:k.getCellBackgroundColor,backgroundTransparency:k.backgroundTransparency,renderCell:k.renderCell,renderCellSubheader:k.renderCellSubheader},height:K.height,scale:this.settings.viewport.scale,rowCount:Ee,columnCount:ue,cellPadding:me,outerPadding:Se,scrollPadding:k.scrollPadding,gridLineSettings:ve,isPaginated:this.settings.isPaginated,isHorizontal:this.settings.isHorizontal},gt=this.calculateVerticalGridLines(ve,ot,me,Se,K,ue,Ee);return{viewport:Ke,scrollableViewPort:(0,s.pi)((0,s.pi)({},I),{scale:Ke.scale}),footerHeight:ot.bottom,rowCount:Ee,columnCount:ue,row:ft,totalCellCount:se,renderHeader:Te,verticalGridLines:gt,gridLineSettings:ve,getAllCells:be,manageTabIndexOnRowHeaderFooter:Ze,boldedSubheaders:je,isHorizontal:rt,borderSettings:it,background:et}},R.prototype.destroy=function(){var y;null===(y=this.renderer)||void 0===y||y.destroy()},R.prototype.clearRenderingTimeout=function(){this.renderer instanceof G&&this.renderer.clearRenderingTimeout()},R.typeHasVerticalGridLines=function(y){return y===O.o.all||y===O.o.inner||y===O.o.innerVertical},R.hasVerticalGridLines=function(y){return null!=y&&R.typeHasVerticalGridLines(y.region)},R.typeHasHorizontalGridLines=function(y){return y===O.o.all||y===O.o.inner||y===O.o.innerHorizontal},R.hasHorizontalGridLines=function(y){return null!=y&&R.typeHasHorizontalGridLines(y.region)},R.typeHasOuterGridLines=function(y){return y===O.o.all},R.hasOuterGridLines=function(y){return null!=y&&R.typeHasOuterGridLines(y.region)},R.getOuterBorderWidth=function(y,g){var D=0,H=0;return this.hasOuterGridLines(y)&&(D=y.strokeWidth),g&&(H=g.strokeWidth),Math.max(D,H,0)},R.prototype.calculateCellDimensions=function(y,g,D){var H,I,_e,K=this.hasScroll(),k=this.settings,Y=k.viewport,ee=k.headerMargins,se=k.cellPadding,me=k.columnCount,ue=k.rowCount,be=k.outerPadding,ve=k.scrollPadding,xe=k.subheaderHeight,Se=k.subheaderShow,we=this.settings.isHorizontal&&!this.settings.isPaginated;x.fF.assert(function(){return _.isInteger(ee.left)&&_.isInteger(ee.right)&&_.isInteger(ee.top)&&_.isInteger(ee.bottom)}),x.fF.assert(function(){return _.isInteger(Y.width)&&_.isInteger(Y.height)}),H=2*R.getOuterBorderWidth(I=this.settings.gridLineSettings,this.settings.borderSettings),_e=this.settings.noExtraPadding?0:be.left+be.right;var Ee,Te=Y.width-ee.left-ee.right;if(this.settings.noExtraPadding)Ee=0;else if(!we&&K){var ze=b.getBottomInnerPadding(!0,se.top,I);Ee=be.top+ze+H/2}else Ee=be.top+be.bottom+H;var He=Y.height-ee.top-ee.bottom;He=this.renderer.adjustHeight(He,K,ve,this.settings.isHorizontal);var ke=(Te=this.renderer.adjustWidth(Te,K,ve,this.settings.isHorizontal))-H-se.left*(me-1)-_e,Be=He-se.top*(ue-1)-Ee,Ve=Math.floor(ke/me),Ke=Math.floor(Be/ue);Te-=ke%me,He-=Be%ue;var je,Ze=g?.titleWrap;if(Se){je=xe;var rt=g?.subheaders;if(Ze&&rt){for(var it=(0,d.qk)(g.subheaderFontProperties),et=1,at=0,ot=rt;at<ot.length;at++){var gt=(0,S.ql)(ot[at],it,c.b.measureSvgTextWidth,Ve,r,null,!0);if((et=Math.max(et,gt.length))===r)break}je=Math.ceil(et*g.subheaderLineHeight+g.subheaderMargin.top+g.subheaderMargin.bottom)}Ke-=je}Ke-=y.top+y.bottom,Ve-=y.left+y.right,x.fF.assert(function(){return _.isInteger(Ve)}),x.fF.assert(function(){return _.isInteger(Ke)});var W=D?.showSeriesLabels?Math.ceil((0,h.lr)(D.seriesLabelSettings,Ve)):0;return Ve-=W,{plotAreaViewport:{width:Math.max(Ve,0),height:Math.max(Ke,0)},scrollableViewport:{width:Te,height:He},headerMargins:ee,axesOverflow:y,seriesLabelsWidth:W,maxSubheaderHeight:Ze?je:void 0}},R.prototype.calculateVerticalGridLines=function(y,g,D,H,I,K,k){if(!R.hasVerticalGridLines(y))return[];var Y=y.strokeColor;null!=y.strokeTransparency&&(Y=(0,A.Et)(Y,(0,P.TD)(y.strokeTransparency)));var ee=this.settings.isHorizontal&&!this.settings.isPaginated,se=R.hasVerticalGridLines(y),me=R.hasOuterGridLines(y),ue="".concat(y.strokeWidth,"px ").concat(y.strokePattern," ").concat(Y),be=y.strokeWidth/2,ve=me?0:void 0,xe=[];if(me&&xe.push(ee?{key:"outer-vertical-".concat(ve++),position:{top:"".concat(g.top,"px")},size:{},style:{horizontal:ue}}:{key:"outer-vertical-".concat(ve++),position:{left:"".concat(g.left,"px")},size:{},style:{vertical:ue}}),se){var we=ue?(ee?k:K)-1:void 0;if(we){var _e=ee?D.top:D.left,Te=ee?I.height:I.width,Ee=ee?H.top:H.left,ze=ee?D.top+D.bottom:D.left+D.right,He=ee?g.top:g.left;x.fF.assert(function(){return!D.right},"Unexpected right cell padding");for(var Ve=He+Ee+(Te+_e/2-be)+R.getOuterBorderWidth(y,this.settings.borderSettings),Ke=ze+Te,Ze=0;Ze<we;Ze++)xe.push(ee?{key:"inner-vertical-".concat(Ze),position:{top:"".concat(Ve,"px")},size:{},style:{horizontal:ue}}:{key:"inner-vertical-".concat(Ze),position:{left:"".concat(Ve,"px")},size:{},style:{vertical:ue}}),Ve+=Ke}}if(me)if(ee){var je=g.top+I.height*k+D.top*(k-1)+y.strokeWidth+H.top+H.bottom;xe.push({key:"outer-vertical-".concat(ve++),position:{top:"".concat(je,"px")},size:{},style:{horizontal:ue}})}else je=g.left+I.width*K+D.left*(K-1)+y.strokeWidth+H.left+H.right,xe.push({key:"outer-vertical-".concat(ve++),position:{left:"".concat(je,"px")},size:{},style:{vertical:ue}});return xe},R.prototype.hasScroll=function(){return!this.settings.isPaginated&&this.settings.cellCount/(this.settings.isHorizontal?this.settings.rowCount:this.settings.columnCount)>(this.settings.isHorizontal?this.settings.columnCount:this.settings.rowCount)},R}(),w="GridRenderingContext",b=function(){function R(y,g,D,H,I,K,k){var Y=this;if(this.$container=y,this.loadMoreHandler=g,this.scrollEnabled=D,this.interactivityService=H,this.eventManager=I,this.featureSwitches=K,this.isInitialized=!1,H){var ee=new u.wA(k,function(){return Y.settings.getAllCells()});this.behavior=ee.create()}}return R.prototype.render=function(y,g,D){return(0,s.mG)(this,void 0,void 0,function(){var H,I;return(0,s.Jh)(this,function(K){switch(K.label){case 0:return this.settings=y,this.dataToBind=D.dataToBind,this.pointSourceKey=D.pointSourceKey,this.formatMode=D.formatMode,this.subSelectionHelper=D.subSelectionHelper,this.isInitialized||this.initialize(D.visualInstanceId),this.renderingContext={},this.$gridWrapper.css(((I={})[p.kP]=(H=y.viewport).width,I[p.ei]=H.height,I)),this.updateFooter(),[4,this.updateRows(g)];case 1:return K.sent(),this.updateGridlines(),this.updateBorder(),this.updateBackground(),[2]}})})},R.prototype.showFooter=function(y){this.$gridFooter.css("display",y?"":"none")},R.prototype.updateBorder=function(){var y,g=this.settings.borderSettings,D=this.settings.scrollableViewPort.width,H=this.settings.scrollableViewPort.height,I={};if(!g)return(y={}).width="",y.height="",y["border-radius"]="",I=y,this.$gridBorder.css("display","none"),void this.updateViewportElement(I);this.isPaginated||(this.settings.isHorizontal?(I.height="".concat(H,"px"),this.$gridWrapper.css("width","".concat(D,"px"))):(I.width="".concat(D,"px"),this.$gridWrapper.css("height","".concat(H,"px")))),I["border-radius"]=j(g.radius),this.updateViewportElement(I),this.$gridBorder.css("display",""),this.$gridBorder.css(p.ei,"".concat(H,"px")),this.$gridBorder.css(p.kP,"".concat(D,"px")),this.$gridBorder.css(p.mA,(0,E.YE)(g)),this.$gridBorder.css(p.wu,I[p.wu])},R.prototype.updateBackground=function(){var y=this.settings.background;if(!y)return this.$gridBackground.css("display","none"),void this.$gridBackgroundColor.css("display","none");var g=this.getBackgroundStyles();if(_.isEmpty(y.color))this.$gridBackgroundColor.css("display","none");else{var D=y.color;y.colorTransparency&&(D=(0,A.Et)(D,(0,P.TD)(y.colorTransparency))),this.$gridBackgroundColor.css("background-color",D||""),this.$gridBackgroundColor.css(g)}!function(R){return R&&((0,i.gU)(R.url)||(0,i.pU)(R.url))}(y.image)?this.$gridBackground.css("display","none"):(this.$gridBackground.css("background-image","url(".concat(m.b$.encodeUriForImageDataSvg(y.image.url),")")),this.$gridBackground.css("background-size",function(R){switch(R.image.scaling){case B.C.fit:return"100% 100%";case B.C.fill:return"cover";default:return"contain"}}(y)),this.$gridBackground.css("opacity",(0,P.TD)(y.imageTransparency)),this.$gridBackground.css(g))},R.prototype.getBackgroundStyles=function(){var y=this.settings.borderSettings,g={},D=this.settings.scrollableViewPort.height,H=this.settings.scrollableViewPort.width,I=0,K=0,k={topLeft:0,topRight:0,bottomLeft:0,bottomRight:0};return y&&(y.strokeWidth>0&&(I=y.strokeWidth,K=y.strokeWidth,D-=2*y.strokeWidth,H-=2*y.strokeWidth),y.radius&&(k={topLeft:y.radius.topLeft-y.strokeWidth,topRight:y.radius.topRight-y.strokeWidth,bottomLeft:y.radius.bottomLeft-y.strokeWidth,bottomRight:y.radius.bottomRight-y.strokeWidth})),g.height="".concat(D,"px"),g.width="".concat(H,"px"),g.left="".concat(K,"px"),g.top="".concat(I,"px"),g.display="",g["border-radius"]=j(k),g},R.prototype.updateFooter=function(){var y=this,g=this.settings.footerHeight;if(!g)return this.showFooter(!1),this.$gridFooter.css("display","none"),void this.$gridFooter.empty();this.showFooter(!0);var D=this.settings.row;this.$gridFooter.css(p.ei,g),this.$gridFooter.css(p.kP,this.adjustWidth(this.settings.viewport.width,this.hasScroll(),D.scrollPadding,this.settings.isHorizontal));var H={rowCount:D.rowCount,columnCount:D.columnCount,footerWidth:D.footerWidth,headerWidth:D.headerWidth,subheaderHeight:0,subheaderLineHeight:0,subheaderPosition:D.subheaderPosition,subheaderShow:!1,height:g,scale:this.settings.viewport.scale,cellPadding:{top:0,bottom:0,left:D.cellPadding.left,right:D.cellPadding.right},outerPadding:{top:0,bottom:0,left:D.outerPadding.left,right:D.outerPadding.right},scrollPadding:D.scrollPadding,cell:{width:D.cell.width,getCellBackgroundColor:function(k){},renderCell:function(k){var Y=k;Y.position=2,y.settings.renderHeader(Y)},renderCellSubheader:_.noop},gridLineSettings:void 0,isPaginated:!1,isHorizontal:!1},I=this.$gridFooter.find(a.YR.selector);0===I.length&&(I=this.buildElement(this.$gridFooter,a.YR.class)),this.renderRow(I,H,0,function(){},D.columnCount,{startIndex:0,endIndex:D.columnCount})},R.prototype.updateGridlines=function(){this.updateGridLines(d3.select(this.$gridBody[0]),this.settings.verticalGridLines,a.MB)},R.prototype.getTotalOccupiedRowCount=function(){return Math.ceil(this.settings.totalCellCount/this.virtualColumnCount)},R.prototype.hasScroll=function(){return this.scrollEnabled&&(!this.settings||this.getTotalOccupiedRowCount()>this.virtualRowCount)},R.getTotalScrollWidth=function(y,g){return y?8+g:0},R.getBottomInnerPadding=function(y,g,D){if(y){var H=g,I=0;return e.hasHorizontalGridLines(D)&&(I=D.strokeWidth),Math.round((H-=I)/2)}return 0},R.getRightInnerPadding=function(y,g){return y?Math.round(g/2):0},R.prototype.getTotalOuterPixels=function(){var y=this.settings.row;return y.outerPadding.top+e.getOuterBorderWidth(y.gridLineSettings,this.settings.borderSettings)},R.prototype.getRowHeightWithoutPadding=function(y){var g=y;return 1===this.getTotalRowCount()&&(g+=y),this.getRowHeight(0)-g},R.prototype.getRowWidthWithoutPadding=function(y){var g=y;return 1===this.getTotalColumnCount()&&(g+=y),V(this.settings.row,this.settings.gridLineSettings,this.settings.borderSettings,0)-g},R.prototype.updateGridLines=function(y,g,D){var H=y.selectAll("".concat(a.F6.selector,".").concat(D.class)).data(g,function(K){return K.key}),I=H.enter().append("div").classed(a.F6.class,!0).classed(D.class,!0);I.merge(H).style("top",function(K){return K.position.top}).style("right",function(K){return K.position.right}).style("bottom",function(K){return K.position.bottom}).style("left",function(K){return K.position.left}).style("width",function(K){return K.size.width}).style("border-left",function(K){return K.style.vertical}).style("border-top",function(K){return K.style.horizontal}).classed(a.IA.class,!this.isPaginated&&this.settings.isHorizontal),this.featureSwitches&&this.featureSwitches.onObject&&I.classed(M.cy,!0).attr(M.Ez,"small-multiples-gridlines").attr(M.CK,"Small_Multiples_Border").attr(M.QZ,3),H.exit().remove()},R.prototype.buildRow=function(y,g,D,H,I){var K=function(R,y,g,D,H){var I=R.subheaderShow&&1!==R.subheaderPosition,K=L(D,H,R,g),k=K.height,Y=K.topPadding,ee=K.bottomPadding,se=k-Y-ee,me={},ue=R.isHorizontal&&!R.isPaginated,be={},ve={},xe={},Se={},we={},_e={},Te={},Ee=V(R,y,g,D),ze=Ee,He=Y,ke=Ee;if(ue){ke=0;var Be=e.getOuterBorderWidth(y,g);y&&(ke=y.strokeWidth,He+=K.height-Be),me["flex-direction"]="row"}else me["flex-direction"]="column";return me.width="".concat(Ee,"px"),be.width="".concat(ze,"px"),ve.width="".concat(ke,"px"),ve.height="".concat(He,"px"),me.height="".concat(k,"px"),be.height="".concat(se,"px"),xe.height="".concat(ee,"px"),Se["flex-direction"]=I?"column-reverse":"column",we.width="".concat(R.cell.width,"px"),R.subheaderShow?(_e["line-height"]="".concat(R.subheaderLineHeight,"px"),_e.height="".concat(R.subheaderHeight,"px"),_e.width="".concat(R.cell.width,"px"),Te["padding-top"]="".concat(I?R.subheaderHeight:0,"px")):Te["padding-top"]="0px",Te.height="".concat(se,"px"),be["flex-direction"]=R.isHorizontal&&!R.isPaginated?"column":"",{rowWrapperStyling:me,rowStyling:be,gridLineWrapperStyling:ve,gridLineWrapperBottomStyling:xe,cellStyling:Se,cellContentStyling:we,subheaderStyling:_e,rowHeaderCellStyling:Te}}(g,this.settings.gridLineSettings,this.settings.borderSettings,I,this.getTotalRowCount()),Y=K.rowStyling,ee=K.gridLineWrapperStyling,se=K.gridLineWrapperBottomStyling,me=K.cellStyling,ue=K.cellContentStyling,be=K.subheaderStyling,ve=K.rowHeaderCellStyling;y.css(K.rowWrapperStyling);var xe=y.find(a.oE.selector);0===xe.length&&(xe=this.buildElement(y,a.oE.class)),xe.css(ee);var Se=y.find(a.X2.selector);0===Se.length&&(Se=this.buildElement(y,a.X2.class)),Se.css(Y),Se.attr("role","row"),Se.attr("aria-rowindex",I+1);var we=y.find(a.MR.selector);0===we.length&&(we=this.buildElement(y,a.MR.class)),we.css(se),this.renderTopGridline(I,g,d3.select(xe[0])),this.renderRowInnerGridline(I,g,d3.select(xe[0])),this.buildHeaderCell(Se,0,ve,g),this.buildCells(Se,g,D,H,me,ue,be,I),this.buildHeaderCell(Se,1,ve,g),this.renderBottomGridline(I,g,d3.select(we[0])),this.orderRowContent(d3.select(Se[0]))},R.prototype.buildCells=function(y,g,D,H,I,K,k,Y){for(var ee=y.find(a.bL.selector),se=0;se<this.virtualColumnCount;se++){var me=D+se,ue=ee.eq(se);0===ue.length&&(ue=this.buildElement(y,a.bL.class)),I=(0,s.pi)((0,s.pi)({},I),{"padding-top":"","padding-left":"","padding-right":"","margin-left":"","margin-right":"","background-color":"","margin-top":"","margin-bottom":""}),ue.attr("role","gridcell"),ue.attr("aria-colindex",se+1);var be=0===se,ve=se===this.virtualColumnCount-1,xe=e.getOuterBorderWidth(this.settings.gridLineSettings,this.settings.borderSettings),Se=e.hasHorizontalGridLines(this.settings.gridLineSettings)?this.settings.gridLineSettings.strokeWidth:0;g.isHorizontal&&!g.isPaginated?(I["padding-left"]=T(Y,g)?"".concat(xe,"px"):"".concat(g.cellPadding.left-Se,"px"),be||(I["padding-top"]="".concat(g.cellPadding.top,"px")),be&&(I["margin-top"]="".concat(xe,"px")),ve&&(I["margin-bottom"]="".concat(xe,"px"))):(I["padding-left"]="".concat(be?g.outerPadding.left:g.cellPadding.left,"px"),ve&&(I["padding-right"]="".concat(g.outerPadding.right,"px")),be&&(I["margin-left"]="".concat(xe,"px")),ve&&(I["margin-right"]="".concat(xe,"px")));var we=ue.find(a.J5.selector),_e=ue.find(a.bU.selector);if(me>=H)we.remove(),_e.remove(),I["background-color"]="";else{0===we.length&&(we=this.buildElement(ue,a.J5.class)),we.css(K);var Te=g.cell.getCellBackgroundColor(me);if(Te){var Ee=(0,P.WV)(Te),ze=(0,P.b9)(Ee,(100-g.cell.backgroundTransparency)/100);I["background-color"]=(0,P.U8)(ze)}else I["background-color"]="";g.subheaderShow?(0===_e.length&&(_e=this.buildElement(ue,a.bU.class),this.featureSwitches&&this.featureSwitches.onObject&&d3.select(_e.get(0)).classed(M.cy,!0).attr(M.Ez,"grid-cell-subheader").attr(M.CK,"Small_Multiples_Title").attr(M.QZ,1)),_e.css(k)):_e.remove()}ue.css(I)}ee.slice(this.virtualColumnCount).remove()},R.prototype.buildHeaderCell=function(y,g,D,H){var I,K;x.fF.assert(function(){return 0===g||1===g},"buildHeaderCell expects header position to be left or right."),0===g?(I=H.headerWidth,K=a.yD.class):(I=H.footerWidth,K=a.yT.class);var k=n(y,g);I<=0?k.remove():(0===k.length&&(k=this.buildElement(y,a.qN.class)).addClass(K),k.css(D),k.css("width","".concat(I,"px")))},R.prototype.orderRowContent=function(y){var g=y.selectAll(_.map(t,function(D){return D.selector}).join(", ")).nodes();g.sort(function(D,H){for(var I=0,K=0;K<t.length;K++)I+=Number(d3.select(D).classed(t[K].class))*K,I-=Number(d3.select(H).classed(t[K].class))*K;return I}),d3.selectAll(g).order()},R.prototype.renderRowGridline=function(y,g,D,H,I,K){var k=[];if(y){var Y=this.settings.isHorizontal&&!this.isPaginated,se=(0,E.YE)(I.gridLineSettings),me=e.getOuterBorderWidth(I.gridLineSettings,this.settings.borderSettings),ue={top:"".concat(Y?me:g,"px"),left:"".concat(I.headerWidth+(Y?g:me),"px")};if(Y)k.push({key:D,position:ue,size:be={width:"0px"},style:{vertical:se}});else{var be={width:"".concat(I.cell.width*I.columnCount+I.cellPadding.left*(I.columnCount-1)+I.outerPadding.left+I.outerPadding.right,"px")};k.push({key:D,position:ue,size:be,style:{horizontal:se}})}}this.updateGridLines(K,k,H)},R.prototype.renderRowInnerGridline=function(y,g,D){var H=g.gridLineSettings,I=y>0&&e.hasHorizontalGridLines(H),K=I?Math.floor((g.cellPadding.top-H.strokeWidth)/2):0,k="inner-horizontal-".concat(y-1);this.renderRowGridline(I,K,k,a.SM,g,D)},R.prototype.renderTopGridline=function(y,g,D){var I=0===y&&e.hasOuterGridLines(g.gridLineSettings);this.renderRowGridline(I,0,"outer-horizontal-0",a.J3,g,D)},R.prototype.renderBottomGridline=function(y,g,D){var H=g.gridLineSettings,I=y===this.getTotalRowCount()-1&&e.hasOuterGridLines(H);this.renderRowGridline(I,g.outerPadding.bottom,"outer-horizontal-1",a.J3,g,D)},R.prototype.renderRow=function(y,g,D,H,I,K){var k=Math.floor(D/this.virtualColumnCount);this.buildRow(y,g,D,I,k);var Y={width:g.cell.width,height:g.height,scale:g.scale};g.headerWidth>0&&this.renderHeaderCell(n(y,0),k,0,Y.height,g.headerWidth,g.scale,H);for(var ee=y.find(a.bL.selector),se=0;se<this.virtualColumnCount;se++){var me=D+se;if(!(me>=I)){var ue=ee.eq(se),ve={element:ue.find(a.J5.selector),index:me,viewport:Y,scrollPosition:K};if(this.behavior&&(ve.bindDataToGridCell=u.p$.bindDataToGridCell),g.cell.renderCell(ve),g.subheaderShow){var Se={element:ue.find(a.bU.selector),index:me,viewport:{width:g.cell.width,height:g.subheaderHeight,scale:g.scale},scrollPosition:K};this.behavior&&(Se.styleSubheader=u.p$.styleSubheader),g.cell.renderCellSubheader(Se)}}}g.footerWidth>0&&this.renderHeaderCell(n(y,1),k,1,Y.height,g.footerWidth,g.scale,H)},R.prototype.renderHeaderCell=function(y,g,D,H,I,K,k){k({index:g,viewport:{width:I,height:H,scale:K},position:D,element:y,scrollPosition:this.getScrollPosition()})},R.prototype.renderListViewRow=function(y){y.each(function(g,D){$(this).addClass(a.YR.class)})},R.prototype.updateListViewRow=function(y){var g=this,D=this.renderingContext;y.each(function(H,I){var K=$(this);K.data(w)!==D&&(K.data(w,D),g.renderRow($(this),g.settings.row,H.cellIndex,g.settings.renderHeader,g.settings.totalCellCount,g.getScrollPosition()))})},R.prototype.getRowHeight=function(y,g){return void 0===g&&(g=this.settings.row),L(y,this.getTotalRowCount(),g,this.settings.borderSettings).height},R.prototype.buildListViewData=function(){for(var y=0,g=[],D=this.getTotalRowCount(),H=0;H<D;H++)g.push({index:H,cellIndex:y,columnCount:this.virtualColumnCount}),y+=this.virtualColumnCount;return g},R.prototype.buildElement=function(y,g){return $(document.createElement("div")).addClass(g).appendTo(y)},R.prototype.buildGridBody=function(){var y=this.buildElement(this.$grid,a.uT.class);return y.attr("role","grid"),this.featureSwitches&&this.featureSwitches.onObject&&y.attr(M.oy,1),y},R.prototype.getRowsFromBodyOrFooter=function(y){return this.$container.find("".concat(y?a.uT.selector:a.$_.selector," ").concat(a.X2.selector))},R}();function L(R,y,g,D){var H=0,I=0,K=0;return g.isHorizontal&&!g.isPaginated?(K=g.height*g.rowCount+g.cellPadding.top*(g.rowCount-1),K+=e.getOuterBorderWidth(g.gridLineSettings,D)):(T(R,g)&&(I+=g.outerPadding.top,I+=e.getOuterBorderWidth(g.gridLineSettings,D)),function(R,y,g){return y.isPaginated?R%y.rowCount==y.rowCount-1:R===g-1}(R,g,y)&&(H+=g.outerPadding.bottom,H+=e.getOuterBorderWidth(g.gridLineSettings,D)),(g.isPaginated&&R%g.rowCount!=0||!g.isPaginated&&R>0)&&(I+=g.cellPadding.top),K=g.height+(g.subheaderShow?g.subheaderHeight:0)+H+I),{height:K,topPadding:I,bottomPadding:H}}function T(R,y){return y.isPaginated?R%y.rowCount==0:0===R}function V(R,y,g,D){var ue,H=R.cell,I=R.columnCount,K=R.cellPadding,k=R.outerPadding,Y=R.headerWidth,ee=void 0===Y?0:Y,se=R.footerWidth,me=void 0===se?0:se;return R.isHorizontal&&!R.isPaginated?(ue=H.width,D>0&&(ue+=R.cellPadding.left),0===D&&(ue+=e.getOuterBorderWidth(y,g))):(ue=H.width*I+K.left*(I-1)+k.left+k.right+ee+me,ue+=2*e.getOuterBorderWidth(y,g)),ue}var G=function(R){function y(){return null!==R&&R.apply(this,arguments)||this}return(0,s.ZT)(y,R),y.prototype.getScrollPosition=function(){var g;return null===(g=this.listView)||void 0===g?void 0:g.getCurrentPosition()},y.prototype.scrollTo=function(g){var D;null===(D=this.listView)||void 0===D||D.scrollTo(g)},y.prototype.clearRenderingTimeout=function(){var g;null===(g=this.listView)||void 0===g||g.clearRenderingTimeout()},y.prototype.destroy=function(){this.isInitialized&&(this.listView.destroy(),this.$gridWrapper.empty(),this.$gridWrapper.remove(),this.isInitialized=!1)},Object.defineProperty(y.prototype,"virtualRowCount",{get:function(){return this.settings.isHorizontal?this.settings.columnCount:this.settings.rowCount},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"virtualColumnCount",{get:function(){return this.settings.isHorizontal?this.settings.rowCount:this.settings.columnCount},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isPaginated",{get:function(){return!1},enumerable:!1,configurable:!0}),y.prototype.initialize=function(g){this.isInitialized=!0,this.$gridWrapper=this.buildElement(this.$container,a.zc.class),this.$grid=this.buildElement(this.$gridWrapper,a.rj.class),this.$gridBody=this.buildGridBody(),this.$gridBorder=this.buildElement(this.$grid,a.OC.class),this.$gridBackground=this.buildElement(this.$grid,a.Aq.class),this.$gridBackgroundColor=this.buildElement(this.$grid,a.lP.class),this.$gridFooter=this.buildElement(this.$grid,a.$_.class),this.$gridFooter.attr("role","grid");var D=this.buildListViewOptions(g);this.listView=(0,o.P)(D)},y.prototype.updateViewportElement=function(g){var D;null===(D=this.listView)||void 0===D||D.updateScrollingViewport(g)},y.prototype.updateRows=function(g){var D=this;x.fF.assert(function(){return D.isInitialized},"grid renderer not initialized");var H=this.buildListViewData(),I=this.getTotalOuterPixels(),K=this.settings.isHorizontal?this.getRowWidthWithoutPadding(I):this.getRowHeightWithoutPadding(I);if(this.listView.viewport(null).rowHeight(K).paddingBetween(this.settings.row.cellPadding.top).paddingOuter(I).orientation(this.settings.isHorizontal).data(H,function(Y){return JSON.stringify(Y)},g),this.settings.isHorizontal)this.$gridBody.css("flex-grow","1"),this.$gridBody.css("flex-basis",null);else{var k=this.getVerticalContainerHeight();this.$gridBody.css("flex-grow",null),this.$gridBody.css("flex-basis",k)}return this.$gridBody.attr("aria-rowcount",this.getTotalRowCount()),this.$gridBody.attr("aria-colcount",this.settings.row.columnCount),this.listView.render()},y.prototype.buildListViewOptions=function(g){var D=this;return{loadMoreData:function(){return D.loadMoreHandler()},customLoadMoreCheck:function(){return D.checkLoadMore()},viewport:this.settings.viewport,baseContainer:d3.select(this.$gridBody.get(0)),scrollEnabled:this.scrollEnabled,isReadMode:function(){return!0},enter:function(I){D.renderListViewRow(I)},update:function(I){D.updateListViewRow(I)},rowHeight:this.settings.isHorizontal?V(this.settings.row,this.settings.gridLineSettings,this.settings.borderSettings,0):this.getRowHeightWithoutPadding(this.getTotalOuterPixels()),paddingBetween:this.settings.row.cellPadding.top,paddingOuter:this.getTotalOuterPixels(),doNotRenderToCalculateRowHeight:!0,getContainerHeight:function(){return D.settings.isHorizontal?D.getHorizontalContainerWidth():D.getVerticalContainerHeight()},onScroll:function(){return D.onScroll()},afterScroll:this.behavior?function(){return D.bindInteractivity(g)}:void 0}},y.prototype.onScroll=function(){var g;this.formatMode&&(null===(g=this.subSelectionHelper)||void 0===g||g.onVisualScroll())},y.prototype.getVerticalContainerHeight=function(){var g=this.settings;if(0===g.rowCount)return 0;for(var D=0,H=0;H<g.rowCount;H++)D+=L(H,this.getTotalRowCount(),g.row,g.borderSettings).height;var I=this.hasScroll();return D+b.getBottomInnerPadding(I,this.settings.row.cellPadding.top,this.settings.gridLineSettings)},y.prototype.getHorizontalContainerWidth=function(){var g=this.settings;if(0===g.columnCount)return 0;for(var D=0,H=0;H<g.columnCount;H++)D+=V(g.row,g.gridLineSettings,g.borderSettings,H);var I=this.hasScroll();return D+b.getRightInnerPadding(I,this.settings.row.cellPadding.left)},y.prototype.getTotalRowCount=function(){var g=Math.ceil(this.settings.totalCellCount/this.virtualColumnCount);return Math.max(g,this.virtualRowCount)},y.prototype.getTotalColumnCount=function(){var g=Math.ceil(this.settings.totalCellCount/this.virtualRowCount);return Math.max(g,this.virtualColumnCount)},y.prototype.checkLoadMore=function(){var g;return null===(g=this.listView)||void 0===g?void 0:g.reachedLastRowContent()},y.prototype.bindInteractivity=function(g){var D={gridContainer:d3.select(this.$container.get(0)),cells:this.$container.find("".concat(a.uT.selector," ").concat(a.bL.selector)),columnCount:this.settings.row.columnCount,viewportRowCount:this.settings.rowCount,cellCount:this.settings.totalCellCount,listView:this.listView,visualInstanceId:g,$rows:this.getRowsFromBodyOrFooter(this.settings.manageTabIndexOnRowHeaderFooter),manageTabIndexOnRowHeaderFooter:this.settings.manageTabIndexOnRowHeaderFooter,eventManager:this.eventManager,boldedSubheaders:this.settings.boldedSubheaders};this.interactivityService.bind(this.dataToBind,this.behavior,D,{pointSourceKey:this.pointSourceKey,useSelectableDataPointForHasSelection:!0})},y.prototype.adjustHeight=function(g,D,H,I){return I?g-b.getTotalScrollWidth(D,H):g},y.prototype.adjustWidth=function(g,D,H,I){return I?g:g-b.getTotalScrollWidth(D,H)},y}(b),ae=function(R){function y(){return null!==R&&R.apply(this,arguments)||this}return(0,s.ZT)(y,R),y.prototype.initialize=function(){var g=this;this.isInitialized=!0,this.$gridWrapper=this.buildElement(this.$container,a.zc.class),this.$gridWrapper.css("display","flex"),this.$grid=this.buildElement(this.$gridWrapper,a.rj.class),this.$gridBody=this.buildGridBody(),this.$gridBorder=this.buildElement(this.$grid,a.OC.class),this.$gridBackground=this.buildElement(this.$grid,a.Aq.class),this.$gridBackgroundColor=this.buildElement(this.$grid,a.lP.class),this.$gridFooter=this.buildElement(this.$grid,a.$_.class),this.$gridFooter.attr("role","grid"),this.paginatedView=new v({viewContainer:d3.select(this.$gridWrapper.get(0)),contentContainer:d3.select(this.$gridBody.get(0)),enter:function(H){return g.renderListViewRow(H)},update:function(H){return g.updateListViewRow(H)},loadMoreData:this.loadMoreHandler,scrollEnabled:this.scrollEnabled})},y.prototype.destroy=function(){this.isInitialized&&(this.$gridWrapper.empty(),this.$gridWrapper.remove(),this.isInitialized=!1)},Object.defineProperty(y.prototype,"virtualRowCount",{get:function(){return this.settings.rowCount},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"virtualColumnCount",{get:function(){return this.settings.columnCount},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isPaginated",{get:function(){return!0},enumerable:!1,configurable:!0}),y.prototype.updateViewportElement=function(g){this.$gridBody.css(g),this.$gridBody.css("min-height","".concat(this.settings.scrollableViewPort.height,"px")),this.$gridBody.css("width","".concat(this.settings.scrollableViewPort.width,"px")),this.$gridBody.css("overflow","hidden")},y.prototype.updateRows=function(g){var D=this;x.fF.assert(function(){return D.isInitialized},"grid renderer not initialized");var H=this.buildListViewData();this.$gridBody.attr("aria-rowcount",this.settings.rowCount),this.$gridBody.attr("aria-colcount",this.settings.columnCount),this.paginatedView.data({rowDataStore:H,getRowDataKey:function(k){return JSON.stringify(k)},rowCount:this.settings.rowCount,columnCount:this.settings.columnCount,totalCellCount:this.settings.totalCellCount,isHorizontal:this.settings.isHorizontal,resetPosition:g}).render()},y.prototype.getTotalRowCount=function(){var g=Math.ceil(this.settings.totalCellCount/(this.settings.rowCount*this.settings.columnCount));return 0===g?this.settings.rowCount:g*this.settings.rowCount},y.prototype.getTotalColumnCount=function(){var g=Math.ceil(this.settings.totalCellCount/(this.settings.rowCount*this.settings.columnCount));return 0===g?this.settings.columnCount:g*this.settings.columnCount},y.prototype.getScrollPosition=function(){var g;return null===(g=this.paginatedView)||void 0===g?void 0:g.getScrollPosition()},y.prototype.adjustHeight=function(g,D,H,I){return I?g:g-40},y.prototype.adjustWidth=function(g,D,H,I){return I?g-40:g},y}(b);function j(R){return R?"".concat(R.topLeft,"px  ").concat(R?.topRight,"px ").concat(R?.bottomRight,"px ").concat(R.bottomLeft,"px"):""}},63194:function(Pe,Z,f){f.d(Z,{p$:function(){return u},rG:function(){return S},wA:function(){return d}});var s=f(81337),A=f(79154),B=f(65195),P=f(88987),p=f(59107),x=f(26543),c=f(60066),i=f(39071),m=f(30237),S=(0,A.CH)("managed-tab-index-element"),C=[34,33,36,35,32],d=function(){function a(o,v){this.boundDataKey=o,this.getAllCells=v}return a.prototype.create=function(){return new u(this.boundDataKey,this.getAllCells)},a}(),u=function(){function a(o,v){this.boundDataKey=o,this.getAllCells=v,this.pendingFocusCall=!1,this.factory=(0,P.p)()}return a.prototype.bindEvents=function(o,v,M){this.$cells=o.cells,this.columnCount=o.columnCount,this.viewportRowCount=o.viewportRowCount,this.cellCount=o.cellCount,this.listView=o.listView,this.cellCount=o.cellCount,this.visualInstanceId=o.visualInstanceId,this.$rows=o.$rows,this.manageTabIndexOnRowHeaderFooter=o.manageTabIndexOnRowHeaderFooter,this.eventManager=o.eventManager,this.boldedSubheaders=o.boldedSubheaders;var E=this,h=this.boundDataKey,l=!1,r=-1;this.$cells.each(function(){var t=$(this),e=t.data(h);if(e){l||(l=E.checkUpdateEntryMappingImmediate(t,e,E));var w=e.getIndex();l||r<0&&(r=w);var b=e.getDataPoint();E.bindKeyNavigation(this,w,b,v),E.bindSubheaderSelection(this,b,v),E.bindClickEvents(this,w)}}),l||this.checkUpdateEntryMappingDelayed(r>=0,r),o.gridContainer.on("click.selection",function(){(0,m.XM)(v,a.isValidClickTarget)})},a.prototype.renderSelection=function(o){var v=this.boundDataKey,M=this.boldedSubheaders;this.$cells.each(function(){var E=$(this),h=E.data(v);h&&a.styleSubheader(E,h,M)})},a.bindDataToGridCell=function(o,v,M){v&&o.data(M,v)},a.styleSubheader=function(o,v,M){M||d3.select(o.get(0)).select(i.bU.selector).style("font-weight",v.isSelected()?"".concat(700):"normal")},a.isValidClickTarget=function(o){var v=o.target;return!_.some(["scroll-bar","scroll-element_outer","scroll-element_track",i.bU.class],function(M){return v.classList.contains(M)})},a.prototype.bindSubheaderSelection=function(o,v,M){var E=d3.select(o).select(i.bU.selector).node();E&&this.eventManager.on(E,"click",function(){return(0,m.c8)(v,M)})},a.prototype.bindKeyNavigation=function(o,v,M,E){var h=this,l=d3.select(o).select(S.selector).node();l&&this.eventManager.on(l,"keydown",function(){var r=d3.event,n=d3.select(r.target),t=r.keyCode;if(n.classed(S.class)){var e=function(T){r.preventDefault(),r.stopPropagation(),T()};switch(t){case 39:v!==h.getLastCellIndexInRow(v)?e(r.shiftKey?function(){return(0,s.mG)(h,void 0,void 0,function(){return(0,s.Jh)(this,function(L){return[2,this.triggerFocusAndSelection(v+1,M,E)]})})}:function(){return(0,s.mG)(h,void 0,void 0,function(){return(0,s.Jh)(this,function(L){return[2,this.focusCellAtIndex(v+1,!1)]})})}):e(function(){});break;case 37:v!==h.getFirstCellIndexInRow(v)?e(r.shiftKey?function(){return(0,s.mG)(h,void 0,void 0,function(){return(0,s.Jh)(this,function(L){return[2,this.triggerFocusAndSelection(v-1,M,E)]})})}:function(){return(0,s.mG)(h,void 0,void 0,function(){return(0,s.Jh)(this,function(L){return[2,this.focusCellAtIndex(v-1,!1)]})})}):e(function(){});break;case 40:var w=v+h.columnCount;e(w<h.cellCount?r.shiftKey?function(){return(0,s.mG)(h,void 0,void 0,function(){return(0,s.Jh)(this,function(L){return[2,this.triggerFocusAndSelection(w,M,E)]})})}:function(){return(0,s.mG)(h,void 0,void 0,function(){return(0,s.Jh)(this,function(L){return[2,this.focusCellAtIndex(w,!1)]})})}:function(){});break;case 38:var b=v-h.columnCount;e(b>=0?r.shiftKey?function(){return(0,s.mG)(h,void 0,void 0,function(){return(0,s.Jh)(this,function(L){return[2,this.triggerFocusAndSelection(b,M,E)]})})}:function(){return(0,s.mG)(h,void 0,void 0,function(){return(0,s.Jh)(this,function(L){return[2,this.focusCellAtIndex(b,!1)]})})}:function(){});break;case 36:p.M.isCtrlOrMeta(r)?e(function(){return(0,s.mG)(h,void 0,void 0,function(){return(0,s.Jh)(this,function(L){return[2,this.focusCellAtIndex(0,!1)]})})}):e(function(){return(0,s.mG)(h,void 0,void 0,function(){return(0,s.Jh)(this,function(L){return[2,this.focusCellAtIndex(this.getFirstCellIndexInRow(v),!1)]})})});break;case 35:p.M.isCtrlOrMeta(r)?e(function(){return(0,s.mG)(h,void 0,void 0,function(){return(0,s.Jh)(this,function(L){return[2,this.focusCellAtIndex(this.cellCount-1,!1)]})})}):e(function(){return(0,s.mG)(h,void 0,void 0,function(){return(0,s.Jh)(this,function(L){return[2,this.focusCellAtIndex(this.getLastCellIndexInRow(v),!1)]})})});break;case 32:e(function(){return h.handleCellSelection(M,E)});break;case 65:p.M.isCtrlOrMeta(r)&&(E.handleClearSelection(),e(function(){return h.handleSelectAll(E)}));break;case 33:e(function(){return(0,s.mG)(h,void 0,void 0,function(){return(0,s.Jh)(this,function(L){return[2,this.focusCellAtIndex(Math.max(v-this.getCellsPerPage(),0),!1)]})})});break;case 34:e(function(){return(0,s.mG)(h,void 0,void 0,function(){return(0,s.Jh)(this,function(L){return[2,this.focusCellAtIndex(v+this.getCellsPerPage(),!0)]})})})}}else _.indexOf(C,t)>=0&&(r.preventDefault(),r.stopPropagation())})},a.prototype.checkUpdateEntryMappingImmediate=function(o,v,M){var E=v.getDataPoint().identity,h=M.entryCellKeyMapping,l=void 0===h,r=h&&x.l0.isEqual(E,M.entryCellKeyMapping.key);if(l||r){var n={cell:o,index:v.getIndex(),key:E,selectableDataPoint:v.getDataPoint()};return M.setEntryCellKeyMapping(n),!0}return!1},a.prototype.checkUpdateEntryMappingDelayed=function(o,v){this.setEntryCellKeyMapping(o?this.getCellKeyMapping(v):void 0)},a.prototype.focusCellAtIndex=function(o,v){var M=this,E=this.factory.defer(),h=this.getRowIndexFromCellIndex(o),l=v;return this.pendingFocusCall?E.resolve(1):(this.pendingFocusCall=!0,this.focusCallback=function(){var r=l?Math.min(o,M.cellCount-1):o,n=M.getCellKeyMapping(r);n&&(M.setEntryCellKeyMapping(n),M.pendingFocusCall=!1,p.M.focus(M.getManagedElementFromCell(n.cell).get(0),{preventScroll:!0})),M.pendingFocusCall=!1,E.resolve(0)},this.listView.scrollRowIntoView(h,this.focusCallback)),E.promise},a.prototype.setEntryCellKeyMapping=function(o){var v=this.entryCellKeyMapping;if(v&&v.cell){var M=this.getManagedElementFromCell(v.cell);M.removeAttr("tabindex"),M.removeAttr("focusable"),M.attr(B.Rh,"true")}if(o){var E=this.getManagedElementFromCell(o.cell);E.attr("tabindex",0),E.attr("focusable","true"),E.attr("aria-labelledby","".concat(this.visualInstanceId,"-").concat(o.index)),E.removeAttr(B.Rh),this.updateFocusAttributesForRowHeaders(o.index)}this.entryCellKeyMapping=o},a.prototype.getCellKeyMapping=function(o){var M,v=this.boundDataKey;return this.$cells.each(function(){var E=$(this),h=E.data(v);if(h){var l=h.getIndex();if(l===o)return M={cell:E,key:h.getDataPoint().identity,index:l,selectableDataPoint:h.getDataPoint()},!1}}),M},a.prototype.getRowIndexFromCellIndex=function(o){return Math.floor(o/this.columnCount)},a.prototype.getColumnIndexFromCellIndex=function(o){return o%this.columnCount},a.prototype.getCellsPerPage=function(){return this.columnCount*this.viewportRowCount},a.prototype.getFirstCellIndexInRow=function(o){return this.getRowIndexFromCellIndex(o)*this.columnCount},a.prototype.getLastCellIndexInRow=function(o){return Math.min(this.cellCount-1,this.getFirstCellIndexInRow(o)+this.columnCount-1)},a.prototype.getManagedElementFromCell=function(o){return o.find(S.selector).first()},a.prototype.getManagedElementFromRows=function(o,v){return o.find("".concat(v," ").concat(S.selector))},a.prototype.handleCellSelection=function(o,v){(0,m.c8)(o,v)},a.prototype.handleSelectAll=function(o){var v=this.getAllCells();_.isEmpty(v)||o.handleMultipleSelection(v.map(function(M){return M.getDataPoint()}),1)},a.prototype.appendCellToSelection=function(o,v){v.handleMultipleSelection([o],1)},a.prototype.triggerFocusAndSelection=function(o,v,M){return(0,s.mG)(this,void 0,void 0,function(){var h,l;return(0,s.Jh)(this,function(r){switch(r.label){case 0:return[4,this.focusCellAtIndex(o,!1)];case 1:return 1!==r.sent()&&(h=this.getCellKeyMapping(o),l=h?h.selectableDataPoint:void 0,v.selected&&l&&this.appendCellToSelection(l,M)),[2]}})})},a.prototype.updateFocusAttributesForRowHeaders=function(o){var M,v=this;this.manageTabIndexOnRowHeaderFooter?(M=this.getRowIndexFromCellIndex(o),this.$rows.each(function(){var h=$(this),l=v.getManagedElementFromRows(h,i.qN.selector);h.attr("aria-rowindex")===(M+1).toString()?l.attr("tabindex",0).attr("focusable","true").addClass(c.Pg).removeAttr(B.Rh):l.removeAttr("tabindex").removeAttr("focusable").removeClass(c.Pg).attr(B.Rh,"true")})):(M=this.getColumnIndexFromCellIndex(o),v.getManagedElementFromRows(this.$rows,"").each(function(h){var l=$(this);h===M?l.attr("tabindex",0).attr("focusable","true").addClass(c.Pg).removeAttr(B.Rh):l.removeAttr("tabindex").removeAttr("focusable").removeClass(c.Pg).attr(B.Rh,"true")}))},a.prototype.bindClickEvents=function(o,v){var M=this,E=d3.select(o).select(i.J5.selector).node();this.eventManager.on(E,"click",function(){var h=M.getCellKeyMapping(v);h&&M.setEntryCellKeyMapping(h)})},a}()},39071:function(Pe,Z,f){f.d(Z,{$_:function(){return C},Aq:function(){return p},F6:function(){return u},IA:function(){return l},J3:function(){return E},J5:function(){return i},MB:function(){return a},MR:function(){return M},OC:function(){return P},SM:function(){return o},X2:function(){return O},YR:function(){return h},bL:function(){return c},bU:function(){return m},lP:function(){return x},oE:function(){return v},qN:function(){return S},rj:function(){return B},uT:function(){return d},yD:function(){return r},yT:function(){return n},zc:function(){return A}});var s=f(79154),A=(0,s.CH)("small-multiples-grid-wrapper"),B=(0,s.CH)("small-multiples-grid"),P=(0,s.CH)("small-multiples-grid-border"),p=(0,s.CH)("small-multiples-grid-background"),x=(0,s.CH)("small-multiples-grid-background-color"),c=(0,s.CH)("small-multiples-grid-cell"),i=(0,s.CH)("small-multiples-grid-cell-content"),m=(0,s.CH)("small-multiples-grid-cell-subheader"),S=(0,s.CH)("small-multiples-grid-header-cell"),O=(0,s.CH)("small-multiples-grid-row"),C=(0,s.CH)("small-multiples-grid-footer"),d=(0,s.CH)("small-multiples-grid-body"),u=(0,s.CH)("small-multiples-grid-line"),a=(0,s.CH)("vertical"),o=(0,s.CH)("horizontal"),v=(0,s.CH)("horizontal-wrapper"),M=(0,s.CH)("horizontal-wrapper-bottom"),E=(0,s.CH)("horizontal-outer"),h=(0,s.CH)("small-multiples-grid-row-wrapper"),l=(0,s.CH)("grid-line-rotated"),r=(0,s.CH)("row-header"),n=(0,s.CH)("row-footer")},39407:function(Pe,Z,f){f.d(Z,{J_:function(){return a},y$:function(){return i}});var s=f(62458),A=f(78843),B=f(26743),P=function(h){return h[h.Leaf=0]="Leaf",h[h.NonLeaf=1]="NonLeaf",h}({});function x(h){return c(h,P.NonLeaf)}function c(h,l){return h&&h.kind===l}function i(h,l,r){if(s.fF.assert(function(){return r>=0},"depth must be greater than or equal to 0"),0===r)return h;s.fF.assert(function(){return x(h)},"rootNode must be non-leaf if depth > 0");for(var n=h,t=function(b){var L=n.children;s.fF.assert(function(){return!_.isEmpty(L)},"currentNode has no children");var T=_.head(L);n=m(T,l)},e=1;e<=r;e++)t();return n}function m(h,l){s.fF.assertValue(h,"node must not be null or undefined"),s.fF.assert(function(){return!function(h){return!!h.visited}(h)},"Detected loop in previous/next references. node has already been visited.");var r=d(h);if(r===l)return h;if(r<l){var n=h.next;s.fF.assertValue(n,"categoryIndex is greater than the greatest maxCategoryIndex"),S(h);var t=m(n,l);return O(h),t}var e=h.previous;return e&&d(e)>=l?(S(h),t=m(e,l),O(h),t):h}function S(h){h.visited=!0}function O(h){delete h.visited}function d(h){return function(h){return c(h,P.Leaf)}(h)?h.categoryIndex:x(h)?h.maxCategoryIndex:void s.fF.assertFail("Unhandled hierarchical node type")}function u(h){if(h.parent){var l=h.parent;if(!_.isEmpty(l.children))return _.last(l.children);var r=u(l);return r&&_.last(r.children)}}function a(h){for(var l=_.head(h).values.length,r={categorySpan:l,children:[],kind:P.NonLeaf,maxCategoryIndex:l,parent:null},n=0;n<l;)n+=o(r,h,0,n);return r}function o(h,l,r,n,t){t||(t=[]);var b,e=l[r],w=t[r];if(!w){s.fF.assertValue(e.source.identityExprs,"levelCategory.source.identityExprs");var L=e.source.identityExprs;(w=t[r]=r>0?t[r-1].slice():[]).push.apply(w,L||[])}var T=function(h,l,r){for(var e,n=0,t=h.values.length,w=l;w<t;w++){var b=E(h,w,r);if(e&&!(0,A.fS)(e,b))break;e||(e=b),n++}return n}(e,n,w),F={categorySpan:T,children:[],kind:P.NonLeaf,maxCategoryIndex:null,parent:h};void 0===b&&(b=u(F)),b&&(F.previous=b,b.next=F);var V=r+1;if(V>=l.length-1)!function(h,l,r,n){for(var t,e=r,w=r+n;e<w;e++){var b={categoryIndex:e,kind:P.Leaf,parent:h,previous:t};void 0===t&&(t=u(b)),t&&(t.next=b,b.previous=t),t=b,h.children.push(b)}}(F,0,n,T);else for(var U=0;U<T;)U+=o(F,l,V,U+n,t);var ae=_.last(F.children);switch(ae.kind){case P.Leaf:F.maxCategoryIndex=ae.categoryIndex;break;case P.NonLeaf:F.maxCategoryIndex=ae.maxCategoryIndex;break;default:s.fF.assertFail("Unhandled HierarchyNodeType")}return h.children.push(F),T}function E(h,l,r){var n=h.identity;s.fF.assertNonEmpty(n,"columnIdentities");var t=n[l];s.fF.assertValue(t,"identity");var e=(0,B.J2)(t.expr,r);return(0,A.TZ)(e)}},57952:function(Pe,Z,f){f.d(Z,{r:function(){return s}});var s=function(){function A(B,P,p,x,c){void 0===P&&(P=!0),void 0===p&&(p=250),void 0===x&&(x=1700),void 0===c&&(c=100),this.callback=B,this.enabled=P,this.distanceFactor=p,this.timeFactor=x,this.sampleTime=c,this.points=[]}return A.prototype.addPoint=function(B,P){for(var p=this.points,x=Date.now();!(_.isEmpty(p)||x-p[0].timestamp<this.sampleTime);)p.shift();p.push({x:B,y:P,timestamp:x})},A.prototype.hasStarted=function(){return this.started},A.prototype.start=function(){var B=this;if(this.enabled&&!(this.points.length<=1)){this.started&&this.stop();var P=d3.easeCubicOut,p=_.last(this.points),x=_.head(this.points),m=p.timestamp-x.timestamp,S=(p.x-x.x)/m,O=(p.y-x.y)/m,C=window.distanceFactor||this.distanceFactor,d=S*C,u=O*C,a=Math.sqrt(Math.pow(S,2)+Math.pow(O,2))*window.timeFactor||this.timeFactor,o=0,v=0;this.started=!0;var M=d3.timer(function(E){if(B.stopRequested)B.clearState(),M.stop();else{var h=Math.min(1,1*E/a),l=P(h),r=l*d-o,n=l*u-v;o+=r,v+=n,B.callback&&(Math.abs(r)>0||Math.abs(n)>0)&&B.callback(r,n),E>a&&(B.clearState(),M.stop())}})}},A.prototype.stop=function(){this.started&&(this.stopRequested=!0)},A.prototype.clearState=function(){this.started=!1,this.stopRequested=!1},A}()},33777:function(Pe,Z,f){f.d(Z,{b:function(){return P}});var s=f(62458),A=f(82386),B=f(45296);function P(x,c,i,m,S,O){return new p(c,i,m,O,S).getWarningMessages(x)}var p=function(){function x(c,i,m,S,O){this.supportsNaN=c,this.supportsNegativeInfinity=i,this.supportsPositiveInfinity=m,this.preferMatrixDV=S,this.ignoreRoles=O}return x.prototype.getWarningMessages=function(c){this.loadWarningStatus(c);var i=[];return this.hasNaN&&!this.supportsNaN&&i.push(new B.EN),(this.hasNegativeInfinity&&!this.supportsNegativeInfinity||this.hasPositiveInfinity&&!this.supportsPositiveInfinity)&&i.push(new B.s2),this.hasOutOfRange&&i.push(new B.TH),i},x.prototype.loadWarningStatus=function(c){this.hasNaN=!1,this.hasNegativeInfinity=!1,this.hasOutOfRange=!1,this.hasPositiveInfinity=!1;for(var i=0,m=c;i<m.length;i++){var S=m[i];s.fF.assertValue(S,"dataView"),this.preferMatrixDV&&S.matrix?this.readMatrix(S):this.readCategorical(S)}},x.prototype.readCategorical=function(c){var i=c&&c.categorical&&c.categorical.values?c.categorical.values:null;if(i)for(var m=this.valueIndicesToIgnore(_.map(i,function(o){return o.source})),S=0,O=i.length;S<O;S++)if(!_.includes(m,S)){var C=i[S];if(C.values)for(var d=0,u=C.values;d<u.length;d++)this.checkValue(u[d])}},x.prototype.valueIndicesToIgnore=function(c){var i=this,m=[];if(!_.isEmpty(this.ignoreRoles))for(var S=0;S<c.length;S++){var O=c[S],C=O&&O.roles&&Object.keys(O.roles);!_.isEmpty(C)&&_.every(C,function(d){return _.includes(i.ignoreRoles,d)})&&m.push(S)}return m},x.prototype.readMatrix=function(c){var i=this;s.fF.assertValue(c.matrix,"dataView.matrix");var m=this.valueIndicesToIgnore(c.matrix.valueSources);(0,A.w1)(c.matrix.rows.root,function(S,O){if((0,A.N9)(S)){if(!S.values)return 1;for(var d=0,u=Object.keys(S.values);d<u.length;d++){var o=S.values[u[d]];_.includes(m,o.valueSourceIndex)||i.checkValue(o&&o.value)}return 1}return i.hasNaN&&i.hasPositiveInfinity&&i.hasNegativeInfinity&&i.hasOutOfRange?0:1})},x.prototype.checkValue=function(c){isNaN(c)?this.hasNaN=!0:c===Number.POSITIVE_INFINITY?this.hasPositiveInfinity=!0:c===Number.NEGATIVE_INFINITY?this.hasNegativeInfinity=!0:(c<-1e300||c>1e300)&&(this.hasOutOfRange=!0)},x}()},12198:function(Pe,Z,f){f.d(Z,{v:function(){return P}});var s=f(81337),A=f(62458),B=function(p){return p[p.Minimum=0]="Minimum",p[p.Maximum=1]="Maximum",p[p.Neither=2]="Neither",p}({}),P=function(){function p(x,c,i,m,S){var O=this;this.unsortedLabelDataPointGroups=x,this.series=c,this.viewport=i,this.yScale=m,this.y2Scale=S,this.sortDataPointGroup=function(C,d){if(!_.isEmpty(C.labelDataPoints)){var u=C.labelDataPoints,a=O.series[d],o=p.maxNumberToSortFactor*C.maxNumberOfLabels,v=_.some(a.data,function(t){return t?.highlight})?function(t){return null!=t?.value&&t.highlight}:function(t){return null!=t?.value},M=_.filter(a.data,v);A.fF.assert(function(){return M.length===u.length},"expecting lengths dataPoints and labelDataPoints to match");var E=p.getMinMaxInRange(0,M.length-1,M),h=[],l=function(){return(0,s.pi)((0,s.pi)({},C),{labelDataPoints:h})};if((o-=O.addFirstLastMaxMin(u,h,E.maxIndex,E.minIndex))<=0)return l();var n=O.calculateWeights(u,M,E,a.isY2?O.y2Scale:O.yScale);return(o-=O.addLocalMinMaxes(n,h,E.maxIndex,E.minIndex,o))<=0||O.addNonMinMaxes(n,h,o),l()}}}return p.prototype.getSortedDataLabels=function(){return this.unsortedLabelDataPointGroups.map(this.sortDataPointGroup).filter(function(x){return x})},p.prototype.calculateWeights=function(x,c,i,m){for(var S,O,C=c.length,d=this.findMinMaxesBasedOnSmoothedValues(x,c),u=Math.abs(m(i.maxValue)-m(i.minValue)),a=0,o=d.length;a<o;a++){O=d[a];var v=void 0;if(S&&(v=(Math.abs((m(S.value)-m(O.value))/u)+Math.abs(S.index-O.index)/(C-1))/2),null!=v&&S){var h=x[S.index];h.weight=null!=h.weight?(h.weight+v)/2:v,x[O.index].weight=v}S=O}for(var l=0,r=x;l<r.length;l++){var n=r[l];n.weight<p.minimumWeightToConsiderMinMax&&(n.weight=void 0)}return x},p.prototype.findMinMaxesBasedOnSmoothedValues=function(x,c){for(var i=[],m=this.getWindowSize(c),S=m>>1,O=this.calculateSmoothedValues(c,m),C=0,d=x.length;C<d;C++){var u=this.getMinMaxType(C,O);u!==B.Neither&&i.push({index:C,type:u,value:c[C].value})}for(var o,v,M,E=0,h=i.length;E<h;E++)if(v=i[E],M=i[E+1],(o=i[E-1])&&M){var r,l=p.getMinMaxInRange(Math.max(o.index,v.index-S),Math.min(M.index,v.index+S),c);v.type===B.Maximum?(v.index=r=l.maxIndex,v.value=c[r].value):(v.index=r=l.minIndex,v.value=c[r].value)}return i},p.getMinMaxInRange=function(x,c,i){for(var m,S,O,C,d=x,u=i.length;d<=c&&d<u;d++){var a=i[d].value;null!=a&&((void 0===m||a<m)&&(m=a,O=d),(void 0===S||a>S)&&(S=a,C=d))}return{minIndex:O,minValue:m,maxIndex:C,maxValue:S}},p.prototype.getWindowSize=function(x){return 1|x.length/this.viewport.width*p.estimatedLabelWidth},p.prototype.calculateSmoothedValues=function(x,c){for(var i=p.getGaussianDistribution(c),m=[],S=0,O=x.length;S<O;S++)if(1===c)m.push(x[S].value);else{var C=this.getSmoothedValue(x,S,c,i);m.push(C)}return m},p.getGaussianDistribution=function(x){A.fF.assert(function(){return x/2!=x>>1},"window size should be a whole odd number");for(var c=[],i=x>>1,S=i,O=i/2,C=0;C<i;C++){var d=1*Math.pow(Math.E,(C-S)*(C-S)*-1/(2*O*O));c.push(d)}for(c.push(1),C=i-1;C>=0;C--)c.push(c[C]);return c},p.prototype.getSmoothedValue=function(x,c,i,m){if(null==x[c].value)return x[c].value;for(var S=i>>1,C=c+S,d=0,u=0,a=x.length-1,o=c-S,v=0;o<=C;o++,v++){var E=x[Math.max(0,Math.min(o,a))].value;null!=E&&(d+=E*m[v],u++)}return d/u},p.prototype.addFirstLastMaxMin=function(x,c,i,m){var S=0;if(_.isEmpty(x))return S;c.push(x[0]),S++;var O=x.length-1;return 0!==O&&(c.push(x[O]),S++),0!==i&&i!==O&&(c.push(x[i]),S++),0!==m&&m!==O&&(c.push(x[m]),S++),S},p.prototype.addLocalMinMaxes=function(x,c,i,m,S){for(var O=x.length-1,C=_.filter(x,function(v,M){return 0!==M&&M!==O&&M!==i&&M!==m&&null!=v.weight}),d=_.sortBy(C,function(v){return-v.weight}),u=0,a=0,o=Math.min(d.length,S);a<o;a++)c.push(d[a]),u++;return u},p.prototype.addNonMinMaxes=function(x,c,i){for(var S,m=[],O=0,C=x.length;O<C;O++)null==x[O].weight?S?S.count++:S={startingIndex:O,count:1}:S&&S.count>0&&(m.push(S),S=null);for(var d=0;m.length>0&&d<i;){for(var u=0,a=0,o=0,v=m.length;o<v;o++){var M=m[o].count;M>u&&(u=M,a=o)}var E=m.splice(a,1)[0];if(1===E.count)c.push(x[E.startingIndex]);else{var h=(E.count>>1)+E.startingIndex;c.push(x[h]);var l=h-E.startingIndex;l>0&&m.push({startingIndex:E.startingIndex,count:l});var r=E.startingIndex+E.count-h-1;r>0&&m.push({startingIndex:h+1,count:r})}d++}},p.prototype.getMinMaxType=function(x,c){var i=c[x];if(null==c[x]||c.length<2)return B.Neither;if(null==c[x-1])return c[x+1]>i?B.Minimum:B.Maximum;if(null==c[x+1])return c[x-1]>i?B.Minimum:B.Maximum;var m=c[x-1],S=c[x+1];return null==m&&null==S?B.Neither:null==m?S>i?B.Minimum:B.Maximum:null==S?m>i?B.Minimum:B.Maximum:m>i&&i<S?B.Minimum:m<i&&i>S?B.Maximum:B.Neither},p.estimatedLabelWidth=40,p.minimumWeightToConsiderMinMax=.015,p.maxNumberToSortFactor=2,p}()},86727:function(Pe,Z,f){f.d(Z,{Gh:function(){return i},ZF:function(){return x},aJ:function(){return c},l3:function(){return O},tV:function(){return m},tY:function(){return S}});var s=f(81337),A=f(56578),B=f(69871),P=f(80065),p={show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"},fontSize:{objectName:"legend",propertyName:"fontSize"},fontFamily:{objectName:"legend",propertyName:"fontFamily"},showGradientLegend:{objectName:"legend",propertyName:"showGradientLegend"},bold:{objectName:"legend",propertyName:"bold"},italic:{objectName:"legend",propertyName:"italic"},underline:{objectName:"legend",propertyName:"underline"}};function x(C,d,u,a,o){void 0===a&&(a=!1),null==o&&(o=u.onObject?"Visual_LegendCard_DisabledReasonNew":"Visual_LegendCard_DisabledReason");var v=C.legendData,M=[p.show,p.showGradientLegend,p.position,p.showTitle,p.titleText,p.labelColor,p.fontFamily,p.fontSize,B.zK.legend.legendMarkerRendering,B.zK.legend.matchLineColor,p.bold,p.italic,p.underline],E=new A.CQ(new A.lg("legend"),"Role_DisplayName_Legend",M,function(r){return d.getLocalizedString(r)});if(E.addTopLevelToggle("show",function(){return new A.bd({descriptor:p.show,value:!a&&v.show}).build()}),a)return E.withDisabled(!0,o),E.build();var l=(new A.UN).withFontFamily({descriptor:p.fontFamily,value:v.fontProperties.family}).withFontSizeProperties({descriptor:p.fontSize,value:v.fontProperties.size.pt}).withBold({descriptor:p.bold,value:v.bold}).withItalic({descriptor:p.italic,value:v.italic}).withUnderline({descriptor:p.underline,value:v.underline}).build();return E.withDescription("Visual_LegendDescription").addGroup("options",function(r){r.withDisplayName("Desktop_FileMenu_Options"),r.addSimpleSlice("position",new A.uY({descriptor:p.position,value:v.position}).build()),null!=C.legendMarkerRendering&&r.addSimpleSlice("markerRendering",new A.uY({descriptor:B.zK.legend.legendMarkerRendering,value:C.legendMarkerRendering}).build()),null!=C.matchLineColor&&r.addSimpleSlice("matchLineColor",new A.bd({descriptor:B.zK.legend.matchLineColor,value:C.matchLineColor}).build())}),E.addGroup("text",function(r){r.withDisplayName("Text").addCompositeSlice("fontselector","Font",l).addSimpleSlice("color",new A.BT({descriptor:(0,s.pi)((0,s.pi)({},p.labelColor),{instanceKind:3}),value:{value:v.fontProperties.color}}).build())}).addGroup("title",function(r){r.withDisplayName("Title").addTopLevelToggle("showTitle",function(){return new A.bd({descriptor:p.showTitle,value:v.showTitle}).build()}).addSimpleSlice("titleText",new A.fq({descriptor:p.titleText,value:v.title,placeholder:""}).build(),function(n){return n.withCustomDisplayName("Visual_Title_Text")})}),E.build()}function c(){}function i(C){return(0,P.un)(C,{fontFamilyReference:p.fontFamily,fontSizeReference:p.fontSize,boldReference:p.bold,italicReference:p.italic,underlineReference:p.underline,fontColorReference:p.labelColor})}function m(C){return[(0,s.pi)((0,s.pi)({type:2},p.showTitle),{disabledLabel:C.getLocalizedString("Delete"),keyboardShortcuts:[{key:"Delete",nextValue:!1}]}),{type:0,excludedResetFormattingIds:[p.showTitle]},{type:1,destinationInfo:{cardUid:"".concat("Visual","-").concat("legend"),groupUid:"".concat("legend","-").concat("title")},label:C.getLocalizedString("Format_Legend_Title")}]}function S(C){var d=C.hostServices,u=C.showSort,a=[(0,s.pi)((0,s.pi)({type:2},p.show),{disabledLabel:d.getLocalizedString("Delete"),keyboardShortcuts:[{key:"Delete",nextValue:!1}]}),{type:0,excludedResetFormattingIds:[p.show,p.showTitle]},(0,s.pi)((0,s.pi)({type:2},p.showTitle),{enabledLabel:d.getLocalizedString("Format_AddLegendTitle")})];return u&&a.push({type:4,sortableField:{queryName:"",sortDirection:1},label:d.getLocalizedString("Format_SortLegend"),key:"Legend"}),(0,s.ev)((0,s.ev)([],a,!0),[{type:1,destinationInfo:{cardUid:"".concat("Visual","-").concat("legend"),groupUid:"".concat("legend","-").concat("options")},label:d.getLocalizedString("Format_Legend")}],!1)}function O(C){return _.map(C.dataPoints,function(d){return{color:d.marker.color,displayName:d.label,identity:d.identity}})}},65741:function(Pe,Z,f){f.d(Z,{vs:function(){return ot},hD:function(){return at},OG:function(){return it}});var s=f(81337),A=f(62458),B=f(39681),P=f(48708),p=f(38078),x=f(10389),c=f(44977),i=f(32105),u=f(70700),a=f(79811),o=f(32041),v=f(59107),M=f(64329),E=f(66001),h=f(72489),l=f(18664),r=f(51995),n=f(66123),t=f(52287),e=f(77686),w=f(14599),b=f(72902),L=f(30237),T=function(){function W(){}return W.prototype.bindEvents=function(X,J,le,z){var ce;this.legendIcons=X.legendIcons,this.legendLines=X.legendLines,this.visualStyle=X.visualStyle;var ne=X.legendRoot;this.legendItems=X.legendItems,z?this.unbindEventsFormatMode():((0,L.lt)(ne,J),ne.on("keydown",function(){var he=d3.event;if(v.M.noModifierPressed(he)&&27===he.keyCode&&he.target.classList.contains(e.rL.class)){var pe=ne.node();v.M.focus(pe),he.preventDefault(),he.stopPropagation()}return!1}),this.legendItems.on("click",function(he){return(0,L.c8)(he.dataPoint,J)}).on("keydown",function(he){var pe=d3.event.keyCode;(32===pe||13===pe)&&(0,L.c8)(he.dataPoint,J)}),null===(ce=X.clearCatcher)||void 0===ce||ce.on("click",function(){v.M.isCtrlOrMeta(d3.event)||J.handleClearSelection()}))},W.prototype.unbindEventsFormatMode=function(){this.legendItems.on("click",null).on("keydown",null)},W.prototype.renderSelection=function(X){this.legendItems.attr("aria-selected",function(J){return X&&J.dataPoint.selected}),(0,e.t9)(this.legendLines,this.legendIcons,X,this.visualStyle.isHighContrast)},W}(),F=f(23174),V=f(2241);function U(W){var X,J,le,z=W.data,ce=W.parentViewport,ne=W.interactivityService,he=W.orientation,pe=W.legendDataStartIndex,oe=W.hostServices,We=W.showTitlePlaceholder,De=z.fontProperties,Re=(0,e.XZ)(De),Ne=(0,e.fy)(z),N=function(W){var X,J,le=W.data;if(!(0,e.fy)(le))return{height:0,width:0};switch(W.orientation){case u.tV.Top:case u.tV.Bottom:case u.tV.TopCenter:case u.tV.BottomCenter:case u.tV.TopRight:case u.tV.BottomRight:return{height:xe+(null!==(J=null===(X=le?.fontProperties)||void 0===X?void 0:X.size.px)&&void 0!==J?J:M.FP.fromPointToPixel(e.OS.pt))-e.OS.pt,width:0};case u.tV.Right:case u.tV.Left:case u.tV.RightCenter:case u.tV.LeftCenter:return{height:0,width:W.lastCalculatedWidth||W.parentViewport.width*ve};default:A.fF.assertFail("Unexpected legend position - calculateViewport")}}(W),Q=null!==(J=null===(X=z?.fontProperties)||void 0===X?void 0:X.size.px)&&void 0!==J?J:M.FP.fromPointToPixel(e.OS.pt),q=Q-Se,te=z.showTitle&&!z.isGradientLegend?Ve((0,s.pi)((0,s.pi)({},W),{legendFontSizeMarginDifference:q,legendFontSizeMarginValue:Q,legendViewport:N})):null,ye=o.b.estimateSvgTextHeight((0,l.qk)(De))/ee;(Q<=Se||ye<Y)&&(ye=Y);var re=q/ee,Ce=2*(ye+re),ie=F.yI+2*re,fe=_e+re,Le=ne&&(0,b.G6)(z.dataPoints),Me=(0,e.s0)(he)?N.height:20+q,Oe=(0,e.s0)(he)?function(W,X,J,le){var pe,z=J.height/2-ke/2,ce=(0,x.AD)(Be,ke,180),ne=(0,x.AD)(Be,ke,0),he=0;if(le.useLargeArrowHitArea){var oe=ze.Horizontal;he=oe.arrowsOffset,pe=oe.hitAreaWidthPx}return{previous:{show:!1,x:W?W.x+W.width:0,y:z,path:ce.path,rotateTransform:ce.transform,type:1,arrowOffset:he||0,hitAreaWidth:pe||He},next:{show:!1,x:X.width-Be,y:z,path:ne.path,rotateTransform:ne.transform,type:0,arrowOffset:he||0,hitAreaWidth:pe||He}}}(te,ce,N,z):function(W,X,J,le){var oe,z=J.height/2+ke/2,ce=(0,x.AD)(Be,ke,270),ne=(0,x.AD)(Be,ke,90),pe=0;if(le.useLargeArrowHitArea){var We=ze.Vertical;pe=We.arrowsOffset,oe=We.hitAreaWidthPx}return{previous:{show:!1,x:z,y:Be+(W?W.height:0),path:ce.path,rotateTransform:ce.transform,type:1,arrowOffset:pe,hitAreaWidth:oe},next:{show:!1,x:z,y:X.height-ke,path:ne.path,rotateTransform:ne.transform,type:0,arrowOffset:pe,hitAreaWidth:oe}}}(te,ce,N,z);W.isScrollable&&W.legendDataStartIndex>0&&(Oe.previous.show=!0);var Ge,tt,ct,Ie=W.arrowPosWindow,Ae=function(){var Je=function(W){var X=W.fontProperties,J=W.titleLayout,le=W.navigationArrows,z=W.iconWidth,ce=W.iconAndLineWidth,ne=W.options,he=ne.parentViewport,pe=ne.data.dataPoints,oe=ne.legendDataStartIndex,We=ne.autoWidth;if((0,e.s0)(W.options.orientation)){var De=he.width-(J?J.width:0)-(le.previous.show&&le.previous.hitAreaWidth||0)-(le.next.show&&le.next.hitAreaWidth||0);return{legendItems:H(pe,De,oe,X,z,ce,W.totalTextPadding),horizontalLegendWidth:De}}var Re=_.some(pe,function(Q){return Q.line}),N=function(W){for(var X=W.dataPoints,J=W.maxHorizontalSpaceAvailable,le=W.fontProperties,z=W.legendDataStartIndex,ce=[],ne=Math.min(Math.floor(W.legendItemContainerHeight/W.legendItemHeight),X.length),he=W.titleWidth||0,pe=0,oe=X.length;pe<oe;pe++){var We=X[pe],De=(0,l.qk)(le,We.label),Re=o.b.measureSvgTextWidth(De);if(Re>he&&(he=Math.min(Re,J)),pe>=z&&pe<z+ne){var Ne=Re;Ne>J&&(De.text=o.b.getTailoredTextOrDefault(De,J),Re=o.b.measureSvgTextWidth(De)),ce.push({dataPoint:We,desiredOverMaxWidth:Re>J,textProperties:De,desiredWidth:Ne,width:Re})}}return{legendItems:ce,horizontalWidthUsed:he}}({dataPoints:pe,legendItemContainerHeight:he.height-(J?J.height:0)-(le.previous.show?ke:0)-(le.next.show?ke:0),maxHorizontalSpaceAvailable:(We?W.options.parentViewport.width*ve:W.options.lastCalculatedWidth)-(Re?ce:z)-be,legendDataStartIndex:oe,fontProperties:X,titleWidth:J?J.width:void 0,legendItemHeight:W.svgHeight});return{legendItems:N.legendItems,verticalLegendWidth:We?Math.ceil(N.horizontalWidthUsed+(Re?ce:z)+be):W.options.lastCalculatedWidth}}({fontProperties:De,options:W,navigationArrows:Oe,titleLayout:te,iconWidth:Ce,iconAndLineWidth:ie,svgHeight:Me,totalTextPadding:fe});if(Ge=Je.legendItems,tt=Je.verticalLegendWidth,ct=Je.horizontalLegendWidth,W.isScrollable){var dt=Ge.length;Oe.next.show=dt!==z.dataPoints.length-pe,Ie=Oe.next.show?dt:Ie}};Ae(),Oe.next.show&&(Ae(),A.fF.assert(function(){return Oe.next.show},"We must still have next-show set to true")),null!=tt&&(N.width=tt),te&&tt&&tt>te.width&&(te=z.showTitle?Ve((0,s.pi)((0,s.pi)({},W),{legendFontSizeMarginDifference:q,legendFontSizeMarginValue:Q,legendViewport:N})):null);var Xe=(0,e.s0)(he),Qe=!Xe,Ue=W.element.select(e.wT.selector),Ye=oe?oe.getLocalizedString("Visual_Legend"):null;Ne?(Ue.empty()&&(Ue=W.element.append("div").classed(e.wT.class,!0).styles({position:"absolute"}),ne&&Ue.attrs({tabindex:0,role:"region","focus-nav-mode":"HierarchicalTabOrder","aria-label":Ye?.concat(z.showTitle&&z.title?" ".concat(z.title):"")}).attr("data-testid","legend")),Ue.classed("flex-row",Xe).classed("flex-column",Qe).classed("flex-justify-content-center",(0,e.EH)(he)).classed("flex-justify-content-start",(0,e.F3)(he)).classed("flex-justify-content-end",(0,e.Ok)(he)).classed("flex-align-items-center",Xe&&!z.isGradientLegend).classed("flex-align-items-start",Qe||z.isGradientLegend).styles({"padding-top":z.isGradientLegend?"3px":"null"}),ne&&Ue.attrs({"aria-label":Ye?.concat(z.showTitle&&z.title?" ".concat(z.title):"")})):Ue.remove();var ht=Ue.select(e.NT.selector).empty();(z.isGradientLegend?ht:!ht)&&Ue.selectAll("*").remove();var vt=Ue.select(".clearCatcher");if(vt.empty()&&(vt=(0,b.EX)(Ue,"div")),vt.style("position","absolute").style("width","100%").style("height","100%"),W.formatMode?(0,b.kA)(Ue,"div"):(0,b.ku)(Ue,"div"),rt(N,W.orientation,Ue,Ne,ce),!Ne)return{width:0,height:0};var pt=Ue.select(e.OF.selector);if(pt.empty()&&(pt=Ue.append("div").classed(e.OF.class,!0).classed("flex-align-items-center",!0).classed("flex-order-third",!0).classed("flex-justify-context-start",!0).style("position","relative")),pt.classed("flex-grow",Oe.next.show||Oe.previous.show).classed("flex-row",Xe).classed("flex-column",Qe).classed("flex-align-items-center",Xe).classed("flex-align-items-start",Qe).classed(e.NT.class,z.isGradientLegend).attr("width",ct).attr("role","listbox").attr("aria-label",function(){return W.hostServices&&te&&te.text?te.text:W.hostServices?Ye:null}),W.onObject&&pt.classed(t.cy,!0).attr(t.Ez,"legend-items").attr(t.CK,"Visual_Legend").attr(t.QZ,1),W.data.isGradientLegend)!function(W,X,J,le,z,ce){var ne,he,Q,ye,re,pe=W.data.gradientRule.options.linearGradient2?W.data.gradientRule.options.linearGradient2:W.data.gradientRule.options.linearGradient3,oe=W.data.fontProperties,We=oe.size.px,Re=0,Ne=(0,h.Ue)({value:pe.min.value,value2:pe.max.value,format:(0,h.EO)(W.data.gradientRule.source,w.e0.formatString)}),N=(0,l.qk)(oe),q=Ne.format(pe.min.value),te={width:o.b.measureSvgTextWidth(N,q),height:o.b.measureSvgTextHeight(N,q)};Q="".concat(W.hostServices.getLocalizedString("ConditionalFormattingDialog_LowestValue")," ").concat(q,", "),y(pe)&&(ye=Ne.format(pe.mid.value),re={width:o.b.measureSvgTextWidth(N,ye),height:o.b.measureSvgTextHeight(N,ye)},Q+="".concat(W.hostServices.getLocalizedString("ConditionalFormattingDialog_MiddleValue")," ").concat(ye,", "));var Ce=Ne.format(pe.max.value),ie={width:o.b.measureSvgTextWidth(N,Ce),height:o.b.measureSvgTextHeight(N,Ce)};Q+="".concat(W.hostServices.getLocalizedString("ConditionalFormattingDialog_HighestValue")," ").concat(Ce);var Qe,Ye,ht,bt,vt,Ie=.5*W.parentViewport.width,Ae=.25*We,Xe=1.5*We,Ue=Xe,pt=[];if(X){Ye=te.width+Ae+(Qe=6*We)+Ae+ie.width,ht=Xe+Ae,Re=lt=Xe/2,vt=[{text:q,text_anchor:"start",x:0,y:lt,width:te.width,height:Ue},{text:Ce,text_anchor:"start",x:yt=te.width+Ae+Qe+Ae,y:lt,width:ie.width,height:Ue}];var nt=te.width+Ae;if(bt=[{fill:"url(#legendGradient-".concat(W.hostServices.instanceId,")"),fill_opacity:"1",x:nt,y:0,width:Qe,height:Xe}],y(pe)){ht+=1.25*We;var ut=g(pe);vt.splice(1,0,{text:ye,text_anchor:"middle",x:nt+ut*Qe,y:Xe+Ae+We/2,width:re.width,height:Ue}),pt=[{x1:nt+ut*Qe,x2:nt+ut*Qe,y1:0,y2:Xe+Ae,stroke:null!==(ne=oe.color)&&void 0!==ne?ne:W.visualStyle.colorPalette.foregroundNeutralDark.value,stroke_width:"1"}]}}else{if(Qe=y(pe)?6*We:10*We,(Ye=y(pe)?te.width+Ae+Qe+Ae+ie.width:Qe+Ae)>Ie){ht=Ie;var qe=function(W,X,J,le,z,ce,ne,he){var pe,oe;return ne?(pe=.6*(oe=W-2*he),ce.text=J,J=o.b.getTailoredTextOrDefault(ce,.2*oe),X.width=o.b.measureSvgTextWidth(ce,J),ce.text=z,z=o.b.getTailoredTextOrDefault(ce,.2*oe),le.width=o.b.measureSvgTextWidth(ce,z)):(pe=oe=W-he,ce.text=J,J=o.b.getTailoredTextOrDefault(ce,pe/2),X.width=o.b.measureSvgTextWidth(ce,J),ce.text=z,z=o.b.getTailoredTextOrDefault(ce,pe/2),le.width=o.b.measureSvgTextWidth(ce,z)),{gradientWidth:pe,minValueString:J,minValueWidth:X.width,maxValueString:z,maxValueWidth:le.width}}(Ie,te,q,ie,Ce,N,y(pe),Ae);Qe=qe.gradientWidth,q=qe.minValueString,te.width=qe.minValueWidth,Ce=qe.maxValueString,ie.width=qe.maxValueWidth}if(y(pe)){Ye=te.width+Ae+Qe+Ae+ie.width,ht=8+3*We;var lt=8+Xe/2,yt=te.width+Ae+Qe+Ae;ut=g(pe),vt=[{text:q,text_anchor:"start",x:0,y:lt,width:te.width,height:Ue},{text:ye,text_anchor:"middle",x:(nt=te.width+Ae)+ut*Qe,y:8+Xe+Ae+We/2,width:re.width,height:Ue},{text:Ce,text_anchor:"start",x:yt,y:lt,width:ie.width,height:Ue}],pt=[{x1:nt+ut*Qe,x2:nt+ut*Qe,y1:8,y2:8+Xe+Ae,stroke:null!==(he=oe.color)&&void 0!==he?he:W.visualStyle.colorPalette.foregroundNeutralDark.value,stroke_width:"1"}],bt=[{fill:"url(#legendGradient-".concat(W.hostServices.instanceId,")"),fill_opacity:"1",x:nt,y:8,width:Qe,height:Xe}]}else ht=16+3*We,vt=[{text:q,text_anchor:"start",x:0,y:lt=16+2*We,width:(Ye=Qe+Ae)/2,height:Ue},{text:Ce,text_anchor:"start",x:Ye-Ae-ie.width,y:lt,width:Ye/2,height:Ue}],bt=[{fill:"url(#legendGradient-".concat(W.hostServices.instanceId,")"),fill_opacity:"1",x:0,y:8,width:Qe,height:Xe}]}J.height=X?Math.max(J.height,ht):J.height,J.width=X?J.width:Math.max(J.width,Ye)+be,rt(J,W.orientation,z,ce,W.parentViewport,!0),function(W,X,J,le,z,ce,ne){var oe,We,he=(0,l.qk)((0,e.XZ)(W.data.fontProperties),W.data.title),pe=[];if(X)pe=[{dy:"0.35em",word:(oe=[o.b.getTailoredTextOrDefault(he,W.parentViewport.width-J.width-ue/2-2*be)])[0]}],We={height:J.height,width:o.b.measureSvgTextWidth(he,oe[0])};else{var Re=o.b.measureSvgTextHeight(he,W.data.title),N=Math.min(3,Math.floor((W.parentViewport.height-J.height-8-2*be)/Re));oe=(0,E.ql)(W.data.title,he,o.b.measureSvgTextWidth,J.width,N,o.b.getTailoredTextOrDefault,!0);for(var Q=0;Q<oe.length;Q++)pe.push({dy:String(Re),word:oe[Q]});We={height:(oe.length+.5)*Re,width:J.width}}var q=W.data.showTitle&&!_.isEmpty(W.data.title)?[0]:[],te=le.selectAll(e.fD.selector).data(q),ye=te.enter().append("svg").classed(e.fD.class,!0).merge(te);ye.attr("height",We.height).attr("width",We.width).styles({"padding-right":"".concat(ue/2,"px")});var re=ye.selectAll("text").data([0]),Ce=re.enter().append("text").merge(re);Ce.classed("flex-order-first",!0).styles((0,l.wB)((0,e.XZ)(W.data.fontProperties))).styles({"text-overflow":"ellipsis","white-space":"pre"}).attr("fill",W.data.fontProperties.color).attr("title",W.data.title).attr("x",0).attr("y",ce).text(null);var ie=Ce.selectAll("tspan").data(pe);ie.enter().append("tspan").merge(ie).attr("dy",function(Le){return Le.dy}).attr("x",0).text(function(Le){return Le.word}),ie.exit().remove(),re.exit().remove(),te.exit().remove()}(W,X,{height:ht,width:Ye},z,0,Re);var st=function(W,X,J,le,z){var ce=X.selectAll("svg").data([W]).join("svg").attr("width",function(he){return he.width}).attr("height",function(he){return he.height}).attrs({tabindex:0,"aria-label":z}),ne=ce.selectAll("defs").data([0]).join("defs");return ne.append("linearGradient").attr("id",le),ne.select("linearGradient").selectAll("stop").data((0,s.ev)((0,s.ev)([{stop:0,color:J.min.color}],y(J)?[{stop:g(J),color:J.mid.color}]:[],!0),[{stop:1,color:J.max.color}],!1),function(he){return he.stop.toString()}).join("stop").attr("stop-color",function(he){return he.color}).attr("offset",function(he){return he.stop}),ce}({width:Ye,height:ht},le,pe,"legendGradient-".concat(W.hostServices.instanceId),Q);(function(W,X,J){X.selectAll("g.rect").data([0]).join(function(le){return le.append("g").classed("rect",!0)}).call(function(le){le.selectAll("rect").data(W).join("rect").attr("fill",function(z){return z.fill}).attr("fill-opacity",function(z){return z.fill_opacity}).attr("x",function(z){return z.x}).attr("y",function(z){return z.y}).attr("width",function(z){return z.width}).attr("height",function(z){return z.height}),le.selectAll("line").data(J).join("line").attr("x1",function(z){return z.x1}).attr("x2",function(z){return z.x2}).attr("y1",function(z){return z.y1}).attr("y2",function(z){return z.y2}).styles({stroke:function(ce){return ce.stroke}}).styles({"stroke-width":function(ce){return ce.stroke_width}})})})(bt,st,pt),function(W,X,J){var le=X.selectAll("g.text").data([0]),ce=le.enter().append("g").classed("text",!0).merge(le).selectAll("text").data(W).join("text").text(function(ne){return ne.text}).attr("text-anchor",function(ne){return ne.text_anchor}).attr("x",function(ne){return ne.x}).attr("y",function(ne){return ne.y}).attr("width",function(ne){return ne.width}).attr("dy","0.35em").attr("height",function(ne){return ne.height}).styles((0,l.E_)(J));ce.selectAll("title").data(function(ne){return[ne.text]}).join("title").text(function(ne){return ne})}(vt,st,oe)}(W,Xe,N,pt,Ue,Ne);else{Ue.selectAll(e.fD.selector).data(te?[te]:[]).join(function(Fe){return Fe.insert("text",".clearCatcher")}).classed(e.fD.class,!0).classed("flex-order-first",!0).attr("title",z.title).styles((0,l.wB)(Re)).styles({"text-overflow":"ellipsis","white-space":"pre","padding-right":"".concat(ue/2,"px"),position:"relative"}).text(function(Fe){return Fe.text}).filter(function(){return W.onObject}).classed(t.cy,!0).classed(t.Qh.class,te?.isPlaceholder).attr(t.Ez,"legend-title").attr(t.CK,"MiniToolbar_LegendTitle").attr(t.QZ,0).filter(function(){return W.formatMode||We}).attr(t.kv,JSON.stringify({reference:w.N_.legend.titleText,style:3}));var yt=function(Je){return Je.dataPoint.identity.getKey()+(null!=Je.dataPoint.layerNumber?Je.dataPoint.layerNumber:"")},lt=pt.selectAll(e.rL.selector).data(_.uniqBy(Ge,yt),yt),nt=lt.enter().append("div").classed(e.rL.class,!0).classed("flex-justify-content-center",!0).classed("flex-align-items-center",!0).attr("role","option");ne&&nt.attr("tabindex",0).attr("data-testid","legend-item");var ut=null!==(le=oe?.getLocalizedString("NullValue"))&&void 0!==le?le:null,mt=nt.merge(lt);mt.attr("aria-label",function(Fe){return W.hostServices?Fe.dataPoint.label?Fe.dataPoint.label:ut:null}).attr("aria-selected",function(Fe){return Le&&Fe.dataPoint.selected}).attr("aria-posinset",function(Fe){return Fe.dataPoint.index+1}).attr("aria-setsize",z.dataPoints.length),mt.sort(function(Fe,Je){var dt=Fe.dataPoint,Ct=Je.dataPoint;if(null!=dt.layerNumber){A.fF.assertValue(Ct.layerNumber,"Both datapoints should have a layerNumber");var St=dt.layerNumber-Ct.layerNumber;if(0!==St)return St}return dt.index-Ct.index}),lt.exit().remove();var $e=nt.append("svg").classed(e.PR.class,!0).style("overflow","visible");$e.append("path").classed(e.az.class,!0).append("title"),$e.append("path").classed(e.x4.class,!0).append("title"),nt.append("text").classed(e.dy.class,!0).styles({"text-overflow":"ellipsis","white-space":"pre"}),mt.select(e.PR.selector).attrs({height:Me,width:function(Je){return Je.dataPoint.line?ie:Ce}});var st=mt.select(e.az.selector);st.attrs({transform:(0,x.Iu)(F.yI/2,Me*we),d:function(Je){return Je.dataPoint.line?"M -".concat(F.yI/2," 0 L ").concat(F.yI/2," 0"):null},fill:"none"}).styles(function(Fe){return(0,V.bc)(Fe.dataPoint.line)});var wt=mt.select(e.x4.selector);wt.attrs({transform:function(Je){return(0,x.aI)((Je.dataPoint.line?ie:Ce)/2,Me*we,ye/n.$V)},d:function(Je){return(0,r.Ar)(Je.dataPoint.marker.shape)}}).styles(function(Fe){return(0,V.bc)(Fe.dataPoint.marker.stroke)}).styles({display:function(Je){return Je.dataPoint.marker.show?"block":"none"},fill:function(Je){return Je.dataPoint.marker.color},stroke:function(Je){var dt,Ct;return null!==(Ct=null===(dt=Je.dataPoint.marker.stroke)||void 0===dt?void 0:dt.strokeColor)&&void 0!==Ct?Ct:Je.dataPoint.marker.color},"stroke-width":function(Je){var dt;return(0,r.F)(Je.dataPoint.marker.shape)||(null!==(dt=Je.dataPoint.marker.stroke)&&void 0!==dt&&dt.strokeShow?2:0)}}),(0,e.t9)(st,wt,Le),nt.selectAll("path > title").text(function(Fe){return Fe.dataPoint.label}),mt.select(e.dy.selector).text(function(Fe){return Fe.textProperties.text}).styles((0,s.pi)((0,s.pi)({},De&&(0,l.wB)(De)),{"padding-left":"".concat(Te,"px"),"padding-right":"".concat(fe-Te,"px")})).attr("title",function(Fe){return Fe.dataPoint.label});var xt={arrowPosWindow:Ie,legend:Ue,legendDataStartIndex:pe,rerenderCallback:W.rerenderCallback,useLargeArrowHitArea:z.useLargeArrowHitArea,verticalLegendWidth:(0,e.s0)(he)?void 0:N.width,isTabbable:!!ne,hostServices:W.hostServices};k((0,s.pi)((0,s.pi)({},xt),{arrow:Oe.previous,arrowClassAndSelector:e.Rw})),k((0,s.pi)((0,s.pi)({},xt),{arrow:Oe.next,arrowClassAndSelector:e.EF})),ne?.bind(z.dataPoints,new T,{legendRoot:Ue,legendItems:mt,legendIcons:wt,legendLines:st,clearCatcher:vt,visualStyle:W.visualStyle},{isLegend:!0,pointSourceKey:"legend",isHierarchicalAxis:W.isHierarchicalAxis,formatMode:W.formatMode})}return N}function y(W){return void 0!==W.mid}function g(W){return W.min.value===W.max.value?.5:(W.mid.value-W.min.value)/(W.max.value-W.min.value)}function H(W,X,J,le,z,ce,ne){for(var he=X,pe=[],oe=J,We=W.length;oe<We;oe++){var De=W[oe],Re=I(pe,De,le,De.line?ce:z,he,ne);if(he=Re.newRemainingWidth,!Re.fit)break}for(var Ne=_.filter(pe,function(Le){return Le.desiredOverMaxWidth}),N=he;he>0&&Ne.length>0;){for(oe=0;oe<Ne.length;){var q=Ne[oe],te=q.width,ye=te+he/Ne.length;if(ye>q.desiredWidth)q.textProperties.text=q.dataPoint.label,q.width=q.desiredWidth,q.desiredOverMaxWidth=!1,Ne.splice(oe,1),he-=q.width-te;else{var re=Ne[oe].textProperties,Ce=re.text;re.text=q.dataPoint.label;var ie=o.b.getTailoredTextOrDefault(re,ye);if(Ce===ie)re.text=Ce;else{re.text=ie;var fe=o.b.measureSvgTextWidth(re,ie);q.width=fe,he-=q.width-te}oe++}}if(N===he)break;N=he}return pe}function I(W,X,J,le,z,ce){var ne=(0,l.qk)(J,X.label),he=o.b.measureSvgTextWidth(ne),pe=he,oe=!1;if(pe>se){oe=!0;var We=o.b.getTailoredTextOrDefault(ne,se);ne=(0,l.qk)(J,We),pe=o.b.measureSvgTextWidth(ne)}var De=z-(pe+le+ce);return De<0?{newRemainingWidth:z,fit:!1}:(W.push({dataPoint:X,textProperties:ne,width:pe,desiredWidth:he,desiredOverMaxWidth:oe}),{newRemainingWidth:De,fit:!0})}function k(W){var X=W.legendDataStartIndex,J=W.arrowPosWindow,le=W.useLargeArrowHitArea,z=W.verticalLegendWidth,ce=W.isTabbable,ne=W.arrow,he=W.arrowClassAndSelector;A.fF.assert(function(){return!!ne},"arrow must be set");var We=z?z+Ee:le?ne.show?ne.hitAreaWidth:Be:Be+Ee;W.legend.selectAll(he.selector).data(ne.show?[ne]:[]).join(function(De){return De.append("svg").classed(he.class,!0).style("position","relative")}).classed("flex-order-second",1===ne.type).classed("flex-order-fourth",0===ne.type).attrs({width:We,height:ke,role:"button","aria-label":function(){return W.hostServices?W.arrowClassAndSelector.class===e.EF.class?W.hostServices.getLocalizedString("Next_ButtonText"):W.arrowClassAndSelector.class===e.Rw.class?W.hostServices.getLocalizedString("Previous_ButtonText"):"":null}}).on("click",function(){W.rerenderCallback(ne.type,X,J)}).call(function(De){ce&&De.attrs({tabindex:0,focusable:!0}).on("keydown",function(){var Re=d3.event,Ne=Re.keyCode;if(32===Ne||13===Ne){Re.stopPropagation(),W.rerenderCallback(ne.type,X,J);var Q=W.legend.selectAll(e.rL.selector+(1===ne.type?":last-child":":first-child")).node();Q&&v.M.focus(Q)}})}).selectAll(".navArrow").data(function(De){var Re=De;if(Re.isHitArea=!1,Re.index=Math.abs(Re.arrowOffset),!le)return[Re];var Ne=Object.create(Re);return Ne.isHitArea=!0,Ne.index++,[Ne,Re]},function(De){return De.index.toString()}).join(function(De){return De.append("path").classed("navArrow",!0)}).attrs({d:function(Re){return Re.path},transform:function(Re){return"".concat((0,x.Iu)(We/2-Be/2,0)," ").concat(Re.rotateTransform)},"stroke-width":function(Re){return Re.isHitArea?"".concat(Re.hitAreaWidth,"px"):void 0},"fill-opacity":function(Re){return Re.isHitArea?"0":void 0},"stroke-opacity":function(Re){return Re.isHitArea?"0":void 0}})}var Y=5,ee=5,se=60,me=5,ue=15,be=10,ve=.3,xe=24,Se=e.OS.pt,we=.52,_e=5,Te=1,Ee=2,ze={Horizontal:{arrowSize:30,hitAreaWidthPx:28,arrowsOffset:-10},Vertical:{arrowSize:12,hitAreaWidthPx:18,arrowsOffset:-3}},He=10,ke=15,Be=7.5;function Ve(W){var ce,X=W.data.title,J=0,le=!_.isEmpty(X),z=!le&&W.showTitlePlaceholder;if(z&&(X=W.hostServices.getLocalizedString("Format_AddLegendTitle")),!le&&!z)return null;ce=(0,e.s0)(W.orientation)?W.parentViewport.width*ve-(Y+(W.legendFontSizeMarginValue>Se?me+W.legendFontSizeMarginDifference:me)+(me+Y))-be+ue/2:W.legendViewport.width-be;var oe=(0,l.qk)(W.data.fontProperties,X),We=X;return(J=o.b.measureSvgTextWidth(oe))>ce&&(We=o.b.getTailoredTextOrDefault(oe,ce),oe.text=We,J=o.b.measureSvgTextWidth(oe)),(0,e.s0)(W.orientation)?J+=ue/2:We=o.b.getTailoredTextOrDefault(oe,W.legendViewport.width),{x:0,y:0,text:We,width:J,height:o.b.estimateSvgTextHeight(oe),isPlaceholder:z}}function rt(W,X,J,le,z,ce){var ne=ce?be:0;J.styles({height:"".concat(W.height||(le?z.height:0),"px"),width:"".concat(W.width||(le?z.width:0),"px"),"margin-left":(0,e.tO)(X)?"".concat(z.width-W.width+ne,"px"):null,"margin-top":(0,e.Kx)(X)?"".concat(z.height-W.height,"px"):null,"margin-right":(0,e.nM)(X)&&ce?"".concat(ne,"px"):null})}function it(W,X,J,le,z,ce,ne){return void 0===le&&(le=!1),void 0===z&&(z=a.Xv),void 0===ce&&(ce=(0,P.Ue)()),X?new gt(W):new ft(W,z,ce,J,ne,le)}var at=7,ot=8,ft=function(){function W(X,J,le,z,ce,ne){this.style=le,this.interactivityService=z,this.hostServices=ce,this.isScrollable=ne,this.legendDataStartIndex=0,this.arrowPosWindow=1,this.lastCalculatedWidth=0,this.element=d3.select(X.get(0)),this.setPosition(J),this.viewport={height:0,width:0}}return W.prototype.getMargins=function(){return this.viewport},W.prototype.isVisible=function(){return(0,e.fy)(this.data)},W.prototype.setPosition=function(X){this.orientation=X??a.Xv},W.prototype.getPosition=function(){return this.orientation},W.prototype.drawLegend=function(X){var J,le=X.data,z=(0,B.ED)(le);_.defaults(z,{fontProperties:(0,a.en)(this.style)});for(var ce=[],ne=0,he=le.dataPoints;ne<he.length;ne++)ce.push((0,B.ED)(he[ne]));z.dataPoints=ce,W.setTooltipToLegendItems(z),(z.fontSize||z.labelColor)&&(z.fontProperties={color:z.labelColor||"#666666",size:z.fontSize?i.B.createFromPt(z.fontSize):e.OS,family:e.cp}),null!==(J=z.fontProperties)&&void 0!==J||(z.fontProperties=(0,a.en)(this.style)),z.isGradientLegend||(0===z.dataPoints.length&&(z.show=!1),z.show||(z.dataPoints=[])),this.interactivityService&&(this.interactivityService.applySelectionStateToData(le.dataPoints),this.interactivityService.applySelectionStateToData(z.dataPoints)),this.render((0,s.pi)((0,s.pi)({},X),{data:z}))},W.prototype.updateLegendDataStartIndex=function(X,J){this.legendDataStartIndex=p.b$.clampValue(X,0,Math.max(J.data.dataPoints.length-1,0))},W.prototype.render=function(X){var J=this;this.updateLegendDataStartIndex(this.legendDataStartIndex,X),this.viewport=U(function z(){return(0,s.pi)((0,s.pi)({},X),{autoWidth:!0,element:J.element,lastCalculatedWidth:J.lastCalculatedWidth,orientation:J.orientation,isScrollable:J.isScrollable,arrowPosWindow:J.arrowPosWindow,legendDataStartIndex:J.legendDataStartIndex,interactivityService:J.interactivityService,rerenderCallback:function(ne,he,pe){J.updateLegendDataStartIndex(he+pe*(0===ne?1:-1),X),J.viewport=U((0,s.pi)((0,s.pi)({},z()),{arrowPosWindow:pe}))},visualStyle:J.style,hostServices:J.hostServices})}())},W.prototype.reset=function(){},W.setTooltipToLegendItems=function(X){for(var J=0,le=X.dataPoints;J<le.length;J++){var z=le[J];z.tooltip=z.label}},W}(),gt=function(){function W(X){this.legendContainerParent=d3.select(X.get(0))}return W.prototype.getMargins=function(){return{height:W.LegendHeight,width:0}},W.prototype.drawLegend=function(X){var J=X.data;A.fF.assertValue(J,"legendData");var le=J.dataPoints;if(A.fF.assertValue(le,"dataPoints"),!(le.length<1)){var z=this.legendContainerParent.select(W.LegendContainerSelector);if(z.empty()){if(!le.length)return;var ce=$("<div></div>").height(this.getMargins().height).addClass(W.LegendContainerClass);$(this.legendContainerParent.node()).prepend(ce),z=d3.select(ce.get(0))}this.legendContainerDiv=z,this.drawTitle(le),this.drawLegendItems(le)}},W.prototype.reset=function(){this.legendContainerDiv&&(this.legendContainerDiv.remove(),this.legendContainerDiv=null)},W.prototype.isVisible=function(){return!0},W.prototype.setPosition=function(X){},W.prototype.getPosition=function(){return u.tV.Top},W.prototype.drawTitle=function(X){A.fF.assert(function(){return X&&X.length>0},"data is null or empty");var le=this.legendContainerDiv.selectAll("div.".concat(W.LegendTitleClass)).data([X[0]]),z=le.enter().append("div").attr("class",W.LegendTitleClass);z.filter(function(ne){return ne.iconOnlyOnLabel}).append("span").attr("class",W.legendIconClass).html(W.legendPlaceSelector),z.append("span");var ce=z.merge(le);ce.filter(function(ne){return ne.iconOnlyOnLabel}).select("span.".concat(W.legendIconClass)).style(W.legendColorCss,function(ne){return ne.marker.color}),ce.select("span:last-child").text(function(ne){return ne.category})},W.prototype.drawLegendItems=function(X){this.ensureLegendTableCreated();var J=[X],le=this.legendContainerDiv.select("tbody").selectAll("tr").data(J),z=le.enter().append("tr"),ne=z.selectAll("td").data(function(oe){return oe},function(oe){return oe.label}).enter().append("td").attr("class",W.LegendItem).append("span");ne.filter(function(oe){return!oe.iconOnlyOnLabel}).append("span").html(W.legendPlaceSelector).attr("class",W.legendIconClass).attr("white-space","nowrap").styles({"font-size":"20px","margin-bottom":"7px"}),ne.append("span").attr("class",W.legendItemNameClass),ne.append("span").attr("class",W.legendItemMeasureClass);var pe=z.merge(le).selectAll("td").data(function(oe){return oe},function(oe){return oe.label});pe.select("span.".concat(W.legendItemNameClass)).html(function(oe){return(0,c.nU)(oe.label)}),pe.select("span.".concat(W.legendItemMeasureClass)).html(function(oe){return"&nbsp;".concat(oe.measure)}),pe.select("span.".concat(W.legendIconClass)).style("color",function(oe){return oe.marker.color}),pe.exit().remove()},W.prototype.ensureLegendTableCreated=function(){if(this.legendContainerDiv.select("div table").empty()){var X=this.legendContainerDiv.append("div").append("table");X.style("table-layout","fixed").append("tbody"),this.setPanGestureOnLegend(X)}},W.prototype.setPanGestureOnLegend=function(X){var J=$(this.legendContainerParent.node()).width(),le=d3.zoom().on("zoom",function(){if($(X.node()).width()>J){var z=d3.event.transform.x;z=Math.min(z,0),z=Math.max(z,J-$(X.node()).width()),X.style("-ms-transform",(0,x.y4)(z)),X.style("-webkit-transform",(0,x.y4)(z)),X.style("transform",(0,x.y4)(z))}});this.legendContainerDiv?this.legendContainerDiv.call(le):X.call(le)},W.LegendHeight=70,W.LegendContainerClass="interactive-legend",W.LegendContainerSelector=".interactive-legend",W.LegendTitleClass="title",W.LegendItem="item",W.legendPlaceSelector="\u25cf",W.legendIconClass="icon",W.legendColorCss="color",W.legendItemNameClass="itemName",W.legendItemMeasureClass="itemMeasure",W}()},97121:function(Pe,Z,f){f.d(Z,{P:function(){return i}});var s=f(81337),A=f(62458),B=f(88987),P=f(12913),p=f(60810),x=f(98094),c=f(10389);function i(d){return new O(d)}var O=function(){function d(u){var o,a=this;this._data=[],this.scrollTop=0,this.scrollLeft=0,this.prevWheelTime=0,this.factory=(0,B.p)(),u=this.options=$.extend(!0,{},u),A.fF.assert(function(){return!a.options.paddingBetween&&!a.options.paddingOuter||a.options.doNotRenderToCalculateRowHeight}),this.scrollbarInner=u.baseContainer.append("div").classed("scrollbar-inner",!0).attr("role","none").on("scroll",function(){return a.onScroll()}),this.scrollContainer=this.scrollbarInner.append("div").classed("scrollRegion",!0).attr("role","none").on("touchstart",function(){return a.stopTouchPropagation()}).on("touchmove",function(){return a.stopTouchPropagation()}).style("overflow","hidden"),this.visibleGroupContainer=this.scrollContainer.append("div").classed("visibleGroup",!0).attr("role","none"),this.scrollInner=$(this.scrollbarInner.node()),null!==(o=this.scrollInner)&&void 0!==o&&o.scrollbar&&this.scrollInner.scrollbar({ignoreOverlay:!1,ignoreMobile:!1,onDestroy:function(){return a.scrollbarInner.on("scroll",null)}});var v=$(u.baseContainer.node()),M=v.find(".scroll-element");M.attr("drag-resize-disabled","true"),u.scrollEnabled&&M.css("pointer-events","auto"),v.find(".scroll-wrapper").attr("role","none"),this.scrollToFrame=this.options.scrollToFrame||this.defaultScrollToFrame,d.setDefaultOptions(u)}return d.prototype.orientation=function(u){var a=this;return this.isHorizontal=u,u?(this.visibleGroupContainer.style("display","flex"),this.visibleGroupContainer.style("flex-direction","row"),this.scrollbarInner.on("wheel",function(){var o;performance.now()-a.prevWheelTime>100&&(a.propagateWheel=void 0);var v=d3.event,M=Math.abs(v.deltaX)>=Math.abs(v.deltaY);if(a.propagateWheel||M)a.prevWheelTime=performance.now();else{var E=a.scrollbarInner.node().scrollLeft;a.scrollbarInner.node().scrollBy({left:v.deltaY});var h=a.scrollbarInner.node().scrollLeft;null!==(o=a.propagateWheel)&&void 0!==o||(a.propagateWheel=h===E),a.propagateWheel||(v.stopPropagation(),v.preventDefault()),a.prevWheelTime=performance.now()}})):(this.visibleGroupContainer.style("display",null),this.visibleGroupContainer.style("flex-direction",null),this.scrollbarInner.on("wheel",null)),this},d.prototype.scrollTo=function(u){this.scrollInner.scrollTop(u)},d.prototype.scrollRowIntoView=function(u,a){var o=this,v=this.options,M=v.rowHeight,E=v.paddingBetween,h=v.paddingOuter,l=Math.min(Math.max(u,0),this._totalRows-1),r=this.scrollTop,n=this.getContainerHeight(),t=this.getRowStartPosition(l,M,E,h),e=this.getTotalRowHeight(l,M,E,h),w=this.getNeededScrollChange(t,e,r,n);this.setFocusCallback=a,0!==w?(this.scrollTo(r+w),this.pendingFocusCallback=function(b){b?o.pendingScrollCallback=function(){return o.scrollRowIntoView(u,a)}:o.setFocusCallback&&o.setFocusCallback()}):this.setFocusCallback&&this.setFocusCallback()},d.prototype.getTotalRowHeight=function(u,a,o,v){var M=a;return 0===u&&(M+=v),u===this._totalRows&&(M+=v),u>0&&(M+=o),M},d.prototype.getNeededScrollChange=function(u,a,o,v){if(u<o)return Math.floor(u-o);var M=u+a,E=o+v;return M>E?Math.floor(M-E):0},d.prototype.onScroll=function(){var a,o,u=this;null===(o=(a=this.options).onScroll)||void 0===o||o.call(a),this.scrollTop=this.scrollbarInner.node().scrollTop,this.scrollLeft=this.scrollbarInner.node().scrollLeft,void 0===this.scrollTimeoutId&&(this.scrollTimeoutId=window.requestAnimationFrame(function(){var v=u.renderImpl(u.options.rowHeight,u.options.paddingBetween,u.options.paddingOuter);u.scrollTimeoutId=void 0,u.pendingFocusCallback&&(u.pendingFocusCallback(v.loadedMore),u.pendingFocusCallback=void 0)}))},d.prototype.resetCallBacks=function(){this.pendingFocusCallback=void 0,this.pendingScrollCallback=void 0,this.setFocusCallback=void 0},d.prototype.destroy=function(){this.scrollInner&&this.scrollInner.scrollbar("destroy"),this.resetCallBacks(),this.clearRenderingTimeout()},d.prototype.getContainerHeight=function(){if(this.options.getContainerHeight){var u=this.options.getContainerHeight();if(null!=u)return u}var a=$(this.options.baseContainer.node());return this.isHorizontal?a.outerWidth():a.outerHeight()},d.setDefaultOptions=function(u){u.rowHeight=d.valueOrDefault(u.rowHeight,d.defaultRowHeight),u.paddingBetween=d.valueOrDefault(u.paddingBetween,d.defaultPaddingBetween),u.paddingOuter=d.valueOrDefault(u.paddingOuter,d.defaultPaddingOuter)},d.valueOrDefault=function(u,a){return u||0===u?u:a},d.prototype.getRowHeight=function(){return this.options.rowHeight},d.prototype.rowHeight=function(u){return this.options.rowHeight=u,this},d.prototype.paddingBetween=function(u){return this.options.paddingBetween=u,this},d.prototype.paddingOuter=function(u){return this.options.paddingOuter=u,this},d.prototype.data=function(u,a,o,v){return void 0===o&&(o=!1),this._data=u,this.getDatumIndex=a,this.setTotalRows(),o&&($(this.scrollbarInner.node()).scrollTop(0),this.resetCallBacks()),this.render(v).catch(function(M){return P.f.error(M)}),this},d.prototype.viewport=function(u){return this.render().catch(function(a){return P.f.error(a)}),this},d.prototype.empty=function(){this._data=[],this.resetCallBacks(),this.render().catch(function(u){return P.f.error(u)})},d.prototype.clearRenderingTimeout=function(){void 0!==this.renderDelay&&(this.renderDelay.cancel(),this.renderDelay=void 0),void 0!==this.scrollTimeoutId&&(window.cancelAnimationFrame(this.scrollTimeoutId),this.scrollTimeoutId=void 0)},d.prototype.render=function(u){return(0,s.mG)(this,void 0,void 0,function(){var a;return(0,s.Jh)(this,function(o){switch(o.label){case 0:return this.clearRenderingTimeout(),[4,this.delay()];case 1:return o.sent()?[2]:(this.renderDelay=void 0,[4,this.getRowHeightInternal()]);case 2:return a=o.sent(),this.renderImpl(a.rowHeight,a.paddingBetween,a.paddingOuter),u&&u(),this.pendingScrollCallback&&(this.pendingScrollCallback(),this.pendingScrollCallback=void 0),[2]}})})},d.prototype.delay=function(){return this.renderDelay=new C,this.renderDelay.promise},d.prototype.canScrollTop=function(){return 0!==this.scrollTop},d.prototype.getScroll=function(){return new(function(){function u(a){this.self=a}return Object.defineProperty(u.prototype,"scrollHeight",{get:function(){return this.self.getTotalHeight(this.self.options.rowHeight,this.self.options.paddingBetween,this.self.options.paddingOuter)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"visibleHeight",{get:function(){return this.self.getContainerHeight()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scrollTop",{get:function(){return this.self.scrollTop},enumerable:!1,configurable:!0}),u}())(this)},d.prototype.updateScrollingViewport=function(u){u.width?this.scrollInner.get(0).style.setProperty("width",u.width,"important"):this.scrollInner.get(0).style.removeProperty("width"),u.height?this.scrollInner.get(0).style.setProperty("flex-basis",u.height,"important"):this.scrollInner.get(0).style.removeProperty("flex-basis"),u["border-radius"]?this.scrollInner.get(0).style.borderRadius=u["border-radius"]:this.scrollInner.get(0).style.removeProperty("border-radius")},d.prototype.getTotalHeight=function(u,a,o){var v=d.valueOrDefault(a,d.defaultPaddingBetween),M=d.valueOrDefault(o,d.defaultPaddingOuter);return this.options.scrollEnabled?Math.max(0,this._totalRows*u+(this._totalRows-1)*v+2*M):this.getContainerHeight()},d.prototype.renderImpl=function(u,a,o){var v=this.getTotalHeight(u,a,o);return this.scrollContainer.style("width",this.isHorizontal?"".concat(v,"px"):null).style("height",this.isHorizontal?null:"".concat(v,"px")),this.scrollToFrame({listView:this,loadMoreData:!0,rowHeight:this.options.rowHeight||d.defaultRowHeight,paddingBetween:this.options.paddingBetween||d.defaultPaddingBetween,paddingOuter:this.options.paddingOuter||d.defaultPaddingOuter,scrollTop:this.scrollTop,scrollLeft:this.scrollLeft,totalRows:this._totalRows,visibleGroupContainer:this.visibleGroupContainer,baseContainer:this.options.baseContainer})},d.prototype.stopTouchPropagation=function(){var u=d3.event;this.options.isReadMode()&&("touchstart"===u.type&&u.touches&&1===u.touches.length&&u.stopPropagation(),"touchmove"===u.type&&u.stopPropagation())},d.prototype.defaultScrollToFrame=function(u){var r,n,t,a=u.loadMoreData,o=u.rowHeight,v=u.paddingBetween,M=u.paddingOuter,E=this.isHorizontal?u.scrollLeft:u.scrollTop,h=u.totalRows,l=u.visibleGroupContainer;if(v||M)!this._totalRows||!this.options.rowHeight||o<1?(n=0,t=(0,c.O7)(0,0),r=1):(n=this.getRowIndex(E,o,v,M,!1),e=E>0?this.getRowStartPosition(n,o,v,M):0,t=(0,c.O7)(this.isHorizontal?e:0,this.isHorizontal?0:e),r=this.getRowIndex(E+this.getContainerHeight(),o,v,M,!0)-n+1);else{r=this.getVisibleRowsWithoutPadding();var e=(n=Math.max(0,Math.min(Math.floor(E/o),h-r+1)))*o;t=(0,c.O7)(this.isHorizontal?e:0,this.isHorizontal?0:e)}l.styles({transform:function(V){return t},"-webkit-transform":t});var T=n+r;return this.currentScrollPosition={startIndex:n,endIndex:T},this.performScrollToFrame(n,T,h,r,a)},d.prototype.getFirstVisibleRow=function(){if(!_.isEmpty(this.visibleData))return this.visibleData[0]},d.prototype.reachedLastRowContent=function(){if(this._totalRows>0){var u=this.options,o=u.paddingBetween,v=u.paddingOuter,M=this.isHorizontal?this.scrollLeft:this.scrollTop,E=this._totalRows-1;return this.getRowStartPosition(E,u.rowHeight,o,v)+(0===E?v:o)<M+this.getContainerHeight()}return!1},d.prototype.performScrollToFrame=function(u,a,o,v,M){var E=this.options,h=this.visibleGroupContainer;this.visibleData=this._data.slice(u,Math.min(a,o));var l=!1,r=h.selectAll(".row").data(this.visibleData,this.getDatumIndex);if(r.exit().remove(),r.enter().append("div").classed("row",!0).attr("role","none").call(function(w){return E.enter(w)}).merge(r).order(),h.selectAll(".row:not(.transitioning)").call(function(w){return E.update(w)}),M){var e=E.customLoadMoreCheck?E.customLoadMoreCheck():function(d,u,a){return a!==u&&d>=.8*u}(a,o,v);e&&(l=E.loadMoreData()===p.G.TriggeredLoadMore)}return E.afterScroll&&E.afterScroll(),this.setFocusCallback&&this.setFocusCallback(),{loadedMore:l}},d.prototype.getCurrentPosition=function(){return this.currentScrollPosition},d.prototype.setTotalRows=function(){var u=this._data;this._totalRows=u?u.length:0},d.prototype.getVisibleRowsWithoutPadding=function(){var a=this.options,o=a.rowHeight,v=a.scrollEnabled,M=this.getContainerHeight();if(!o||o<1)return 1;var E=M/o;return v?Math.min(Math.ceil(E)+1,this._totalRows)||1:Math.min(Math.floor(E),this._totalRows)||1},d.prototype.getRowIndex=function(u,a,o,v,M){var E=Math.min(u<a+v?0:Math.floor((u-a-v)/(a+o))+1,this._totalRows-1);return this.getRowStartPosition(E,a,o,v)===u&&(E=M?Math.max(E-1,0):E),E},d.prototype.getRowStartPosition=function(u,a,o,v){return u*a+Math.max(0,u-1)*o+(u>0?v:0)},d.prototype.getRowHeightInternal=function(){var u=this,a=this.factory.defer(),o=this,v=o.options;if(this.cancelMeasurePass&&this.cancelMeasurePass(),!(this._data&&this._data.length&&v))return o.rowHeight(d.defaultRowHeight),o.paddingBetween(d.defaultPaddingBetween),o.paddingOuter(d.defaultPaddingOuter),a.resolve({rowHeight:v.rowHeight,paddingBetween:v.paddingBetween,paddingOuter:v.paddingOuter}),a.promise;if(v&&v.doNotRenderToCalculateRowHeight)return a.resolve({rowHeight:v.rowHeight,paddingBetween:v.paddingBetween,paddingOuter:v.paddingOuter}),a.promise;var M={listView:this,loadMoreData:!1,rowHeight:this.options.rowHeight||d.defaultRowHeight,paddingBetween:d.defaultPaddingBetween,paddingOuter:d.defaultPaddingOuter,scrollTop:this.scrollbarInner.node().scrollTop,scrollLeft:this.scrollbarInner.node().scrollLeft,totalRows:this._totalRows,visibleGroupContainer:this.visibleGroupContainer,baseContainer:this.options.baseContainer};this.scrollToFrame(M);var E=window.requestAnimationFrame(function(){var h=o.visibleGroupContainer.selectAll(".row").filter(function(){return""!==this.textContent||null!==this.querySelector("img")});if(h.empty()&&(h=o.visibleGroupContainer.select(".row")),!h.empty()){var l=h.nodes(),r=u.calculateRowHeight(l);o.rowHeight(r),a.resolve({rowHeight:r,paddingBetween:d.defaultPaddingBetween,paddingOuter:d.defaultPaddingOuter})}o.cancelMeasurePass=void 0});return this.cancelMeasurePass=function(){window.cancelAnimationFrame(E),a.reject({code:"cancelMeasurePass",ignorable:!0})},a.promise},d.prototype.calculateRowHeight=function(u){for(var o=2>u.length?u.length:2,v=0,M=0;M<o;M++)v=Math.max(v,this.measureElementHeight(u[M]));return v},d.prototype.measureElementHeight=function(u){var a=$(u);return Math.ceil(Math.max(a.outerHeight(!0),a.children().first().outerHeight(!0)))},d.defaultRowHeight=1,d.defaultPaddingBetween=0,d.defaultPaddingOuter=0,d}(),C=function(){function d(){var u=this;this.promise=new x.J(function(a){u.resolve=a}),this.timeoutId=setTimeout(this.complete.bind(this))}return d.prototype.complete=function(){this.resolve(!1)},d.prototype.cancel=function(){window.clearTimeout(this.timeoutId),this.resolve(!0)},d}()},49203:function(Pe,Z,f){f.d(Z,{R:function(){return A}});var s=f(72902);function A(B,P,p,x,c){var i,O,C,d,m=P,S=p;switch(c){case s.x0.PreviousCategory:case s.x0.NextCategory:if(x===s.jN.SeriesOnly)break;C=c===s.x0.PreviousCategory?-1:1,O=_.filter(B,function(u){return u.seriesIndex===p}),(d=C+_.findIndex(O,function(u){return u.categoryIndex===P}))>=O.length&&(d=0),d<0&&(d=O.length-1),m=O[d].categoryIndex;break;case s.x0.NextSeries:case s.x0.PreviousSeries:if(x===s.jN.CategoryOnly)break;(d=(C=c===s.x0.PreviousSeries?-1:1)+_.findIndex(B,function(u){return u.categoryIndex===P&&u.seriesIndex===p}))>=B.length&&(d=0),d<0&&(d=B.length-1),m=(i=[B[d].categoryIndex,B[d].seriesIndex])[0],S=i[1]}return{categoryIndex:m,seriesIndex:S}}},28579:function(Pe,Z,f){f.d(Z,{G:function(){return B}});var s=f(62458),A=f(32379),B=function(){function P(){}return P.prototype.pushInstance=function(p,x){void 0===x&&(x=!0),s.fF.assertValue(p,"instance");var c=this.instances;c||(c=this.instances=[]);var i=this.containerIdx;if(null!=i&&(p.containerIdx=i),x)for(var m=0,S=c;m<S.length;m++){var O=S[m];if(this.canMerge(O,p))return this.extend(O,p,"properties"),this.extend(O,p,"validValues"),this}return c.push(p),this},P.prototype.pushContainer=function(p){s.fF.assertValue(p,"container");var x=this.containers;x||(x=this.containers=[]);var c=x.push(p);return this.containerIdx=c-1,this},P.prototype.popContainer=function(){return this.containerIdx=void 0,this},P.prototype.complete=function(){if(this.instances){var p={instances:this.instances},x=this.containers;return x&&(p.containers=x),p}},P.prototype.canMerge=function(p,x){return s.fF.assertValue(p,"x"),s.fF.assertValue(x,"y"),p.objectName===x.objectName&&p.containerIdx===x.containerIdx&&(0,A.fS)(p.selector,x.selector)},P.prototype.extend=function(p,x,c){s.fF.assertValue(p,"target"),s.fF.assertValue(x,"source"),s.fF.assertValue(c,"propertyName");var i=x[c];if(i){var m=p[c];for(var S in m||(m=p[c]={}),i)m[S]||(m[S]=i[S])}},P.merge=function(p,x){var c=P.normalize(p),i=P.normalize(x);if(!c||!i)return c||i;s.fF.assertValue(c,"xNormalized"),s.fF.assertValue(i,"yNormalized");for(var m=c.containers?c.containers.length:0,S=0,O=i.instances;S<O.length;S++){var C=O[S];c.instances.push(C),null!=C.containerIdx&&(C.containerIdx+=m)}var d=i.containers;return _.isEmpty(d)||(c.containers?Array.prototype.push.apply(c.containers,d):c.containers=d),c},P.normalize=function(p){return s.fF.assertAnyValue(p,"x"),_.isArray(p)?{instances:p}:p},P.getContainerForInstance=function(p,x){return s.fF.assertValue(p,"enumeration"),s.fF.assertValue(x,"instance"),s.fF.assertValue(p.containers,"containers"),s.fF.assert(function(){return p.containers.length>x.containerIdx},"no container found in containers collection"),p.containers[x.containerIdx]},P}()},80065:function(Pe,Z,f){f.d(Z,{Jf:function(){return c},Mw:function(){return d},RM:function(){return m},dF:function(){return O},s4:function(){return C},un:function(){return P},w3:function(){return x},xs:function(){return p}});var s=f(81337),A=f(62458),B=f(46769),P=function(a,o,v){return(0,s.pi)({type:1},m(a,o,v))},p=function(a,o,v){var M=o.precisionReference,E=o.displayUnitsReference,h=(0,s._T)(o,["precisionReference","displayUnitsReference"]);return(0,s.pi)((0,s.pi)({type:2},m(a,h,v)),{precision:(0,s.pi)((0,s.pi)({},v?.precision),{reference:M,label:a.getLocalizedString("Visual_Precision")}),displayUnits:{reference:E,label:a.getLocalizedString("Visual_DisplayUnits")}})},x=function(a,o,v,M){void 0===o&&(o=null),void 0===v&&(v=null),void 0===M&&(M=null);var E={type:3};return o&&(E.stroke={reference:o,label:M||a.getLocalizedString("Visual_Shape_Line")}),v&&(E.fill={reference:v,label:a.getLocalizedString("Visual_Fill")}),E},c=function(a,o){var v=a.hostServices,M=a.omitSelectorForSingleSeries,E=a.individualSelector,h=a.repetitionSelector,l=a.subSelectionStylesOptions,r=o.fontColorReference;return r&&(o=(0,s.pi)((0,s.pi)({},o),{fontColorReference:(0,s.pi)((0,s.pi)({},r),{selector:(0,B.hm)(E,M?void 0:r.selector,h)})})),void 0!==o.precisionReference?p(v,o,l):P(v,o,l)},m=function(a,o,v){var M=o.fontFamilyReference,E=o.fontSizeReference,h=o.boldReference,l=o.italicReference,r=o.underlineReference,t=o.backgroundReference,e=o.wordWrapReference,w=o.horizontalAlignmentReference,b={fontColor:{reference:o.fontColorReference,label:a.getLocalizedString("Visual_FontColor")},fontFamily:{reference:M,label:a.getLocalizedString("Visual_FontFamily")},bold:{reference:h,label:a.getLocalizedString("Bold")},italic:{reference:l,label:a.getLocalizedString("Italic")},underline:{reference:r,label:a.getLocalizedString("Underline")}};return E&&(b.fontSize={reference:E,label:a.getLocalizedString("FontSize")}),t&&(b.background={reference:t,label:a.getLocalizedString("Background_Color")}),e&&(b.wordWrap={reference:e,label:a.getLocalizedString("Visual_WordWrap")}),w&&(b.horizontalAlignment={reference:w,label:a.getLocalizedString("Visual_Alignment_Horizontal")}),v&&(v.grid&&(b.grid=v.grid),v.border&&(b.border=v.border)),b},O=function(a){var v=_.first(a).visualObjects;A.fF.assert(function(){return 1===v.length},"Expected 1 visual");var M=v[0];return A.fF.assert(function(){return 1===a.length||a.every(function(E){return _.isEqual(E.visualObjects,[M])},"Expected 1 sub-selection or matching objects")}),M},C=function(a,o){if(a)return{reference:a,style:2,displayValue:o}},d=function(a,o){if(a)return{reference:a,style:1,displayValue:o||""}}},47006:function(Pe,Z,f){f.d(Z,{Dk:function(){return b},Dr:function(){return U},Lp:function(){return K},TY:function(){return I},UL:function(){return H},XC:function(){return w},xs:function(){return L},xw:function(){return R}});var s=f(81337),A=f(79154),B=f(62458),P=f(39681),p=f(32041),x=f(6444),c=f(59694),i=f(76045),m=f(72489),S=f(39680),O=f(28326),C=f(54743),d=f(47316),u=f(36578),a=f(21408),o=f(68277),v=f(57521),M=f(90120),E=f(46769),h=f(21181),l=f(18664),r=f(2529),n=f(2241),t=f(14599),e=f(64067),w="xAxisReferenceLine",b="y1AxisReferenceLine",L={strokeShow:!1,strokeColor:void 0,strokeTransparency:50,strokeWidth:3,strokePattern:d.Dv.dashed,strokeDashArray:d.YU,strokeDashCap:d.xm,strokeAutoScale:!1,shadeRegionProperties:{shadeRegion:v.YP,shadeColor:void 0,shadeTransparency:40},dataLabelProperties:{show:!1,color:void 0,text:C.S3,horizontalPosition:a.t$,verticalPosition:o.aE,decimalPoints:void 0,displayUnits:0},position:u.W$},T=(0,A.CH)("reference-line-front"),F=(0,A.CH)("reference-line-back"),V=(0,A.CH)("shade-region-ref-line");function U(k,Y,ee,se,me,ue){if(B.fF.assertValue(k,"enumeration"),!me){var be=G(Y,ue);if(_.isEmpty(be))return ge(se,ve={selector:{id:"0"},properties:(0,s.pi)((0,s.pi)({},(0,n.HM)(L,t.vi,ee)),{position:L.position,dataLabelShow:L.dataLabelProperties.show}),objectName:se,propertyTypes:{}},ue),void k.pushInstance(ve);for(var xe=0,Se=be;xe<Se.length;xe++){var ve,we=Se[xe],_e=we.dataLabelProperties&&we.dataLabelProperties.show;(ve={selector:we.selector,properties:(0,s.pi)((0,s.pi)({},(0,n.HM)(we,t.vi)),{displayName:we.displayName,value:we.value,position:we.position}),objectName:we.type,propertyTypes:{},propertyInstanceKind:{}}).propertyInstanceKind[r.S3]=3;var Te=we.shadeRegionProperties;if(ve.properties[r.rS]=Te.shadeRegion,we.shadeRegionProperties.shadeRegion!==v.YP&&(ve.properties[r.HO]=Te.shadeColor,ve.properties[r.af]=Te.shadeTransparency),ve.properties[r.yl]=_e,_e){var Ee=we.dataLabelProperties;ve.properties[r.UD]=Ee.color,ve.properties[r.Zs]=Ee.text,ve.properties[r.nR]=Ee.horizontalPosition,ve.properties[r.G5]=Ee.verticalPosition,ve.properties[r.XI]=Ee.displayUnits,ve.properties[r.pw]=Ee.decimalPoints}se===w&&ge(se,ve,ue),k.pushInstance(ve)}}}function G(k,Y){return _.filter(k,function(ee){var se=ee.value;return 0!==ee.axis||_.isUndefined(se)||!Y||Y.dateTime===se instanceof Date||Y.numeric===_.isNumber(se)})}function ae(k,Y,ee,se){var me=G(k,function(k){return k.x.isCategoryAxis?k.x:k.y1}(Y).valueType),ue=function(k,Y,ee){return _.filter(k,function(se){var me;if(j(se,Y)){var ve=(se.isY2&&(null===(me=Y.y2)||void 0===me?void 0:me.scale)||Y.y1.scale)(se.value);return ve>=0&&ve<=ee.height}var xe=Y.x.scale(se.value);return xe>=0&&xe<=ee.width})}(me,Y,ee);return ue=_.filter(ue,function(be){var ve=Y.x.isCategoryAxis?be.isY2?Y.y2:Y.y1:Y.x;return!ve?.isIrregular}),se?function(k){return _.filter(k,function(Y){return Y.shadeRegionProperties.shadeRegion!==v.YP})}(me):function(k){return _.filter(k,function(Y){return Y.strokeShow&&(_.isNumber(Y.value)||Y.value instanceof Date)})}(ue)}function ge(k,Y,ee){k===w&&ee&&(ee.dateTime?Y.propertyTypes[r.S3]={dateTime:!0}:ee.numeric&&(Y.propertyTypes[r.S3]={numeric:!0}))}function j(k,Y){return 0!==k.axis&&!Y.y1.isCategoryAxis}function R(k){var Y=k.axes.x.scale,ee=k.axes.y1.scale,se=k.axes.y2&&k.axes.y2.scale;function me(Be){if(Be.strokeShow&&!_.isUndefined(Be.value)){var Ve=Be.isY2?se:ee,Ke=j(Be,k.axes),Ze=k.viewport,je=Be.value;d3.select(this).attrs({x1:Ke?0:Y(je),y1:Ke?Ve(je):0,x2:Ke?Ze.width:Y(je),y2:Ke?Ve(je):Ze.height}).styles((0,n.bc)(Be))}}var be=ae(k.referenceLines,k.axes,k.viewport,!1),ve=k.graphicContext,xe=_.filter(be,function(Be){return Be.position===u.W$}),Se=ve.selectAll(T.selector).data(xe);Se.enter().append("line").classed(T.class,!0).merge(Se).each(me),Se.exit().remove();var _e=_.filter(be,function(Be){return Be.position!==u.W$}),Te=ve.selectAll(F.selector).data(_e);Te.enter().insert("line",":first-child").classed(F.class,!0).merge(Te).each(me),Te.exit().remove();var ze=ae(k.referenceLines,k.axes,k.viewport,!0),He=ve.selectAll(V.selector).data(ze);He.enter().append("rect").classed(V.class,!0).merge(He).each(function(Be){var Ve=Be.shadeRegionProperties;if(Ve.shadeRegion!==v.YP&&Be.strokeShow&&!_.isUndefined(Be.value)){var Ke=k.viewport,Ze=Be.value,je=d3.select(this),rt=Be.isY2?se:ee,it=j(Be,k.axes),et=Math.max(Y(Ze),0),at=Math.min(rt(Ze),Ke.height),ot=Ve.shadeRegion===v.bb?0:et,ft=Ve.shadeRegion===v.bb?at:0,gt=(0,e.TD)(Ve.shadeTransparency),X=Ve.shadeRegion===v.bb?et:Ke.width-et;je.attr("height",it?Ve.shadeRegion===v.bb?Ke.height-at:at:Ke.height),je.attr("width",it?Ke.width:X),je.attr("fill",Ve.shadeColor.solid.color),je.attr("fill-opacity",gt),je.attr(it?"y":"x",it?ft:ot),je.style("pointer-events","none")}}),He.exit().remove()}function H(k,Y,ee,se,me,ue,be){if(!k)return[];var ve=[],xe=M.v.create(me);for(var Se in k){var we=k[Se],_e=void 0;if(ee===w&&11!==ue)_e=(0,i.N)(we,r.S3);else if(_e=(0,i.N)(we,r.S3,0),_.isNull(_e))continue;(0,x.M4)(_e)&&(_e=O.y3.fromTimeValue(_e.epochTimeStamp));var Ee=(0,i.N)(we,r.pw,void 0);ve.push((0,s.pi)((0,s.pi)({type:ee,selector:{id:Se,metadata:be&&be.queryName},displayName:(0,i.N)(we,r.ss,void 0),value:_e},(0,n.AF)(we,t.vi,L,xe.getColorForPropertyNameWithDefaultColor(we,r.tZ,Y))),{position:(0,i.N)(we,r.FK,u.W$),shadeRegionProperties:{shadeRegion:(0,i.N)(we,r.rS,v.YP),shadeColor:{solid:{color:xe.getColorForPropertyNameWithDefaultColor(we,r.HO,Y)}},shadeTransparency:(0,i.N)(we,r.af,40)},dataLabelProperties:{show:(0,i.N)(we,r.yl,!1),color:{solid:{color:xe.getColorForPropertyNameWithDefaultColor(we,r.UD,Y)}},text:(0,i.N)(we,r.Zs,C.S3),horizontalPosition:(0,i.N)(we,r.nR,a.t$),verticalPosition:(0,i.N)(we,r.G5,o.aE),decimalPoints:Ee<0?void 0:Ee,displayUnits:(0,i.N)(we,r.XI,0)},axis:se,isY2:be&&be.roles&&be.roles.Y2}))}return ve}function I(k){if(_.isEmpty(k.referenceLines))return[];for(var Y=[],se=k.axes,me=k.viewport,ue=se.x.scale,be=se.y1.scale,ve=se.y2&&se.y2.scale,Se=0,we=ae(k.referenceLines,k.axes,k.viewport,!1);Se<we.length;Se++){var _e=we[Se];if(_e.strokeShow&&_e.dataLabelProperties.show&&!_.isUndefined(_e.value)){var Te=_e.dataLabelProperties,Ee=j(_e,se),ze=void 0,He=_e.value;if(He instanceof Date)ze=(0,m.E3)(S.eF,!0);else{var ke=Ee?se.y1.formatter:se.x.formatter;ze=ke;var Be=null!=ke.options?(0,P.ED)(ke.options):{};Be.precision=Te.decimalPoints,Be.value=Te.displayUnits,ze=(0,m.Ue)(Be)}var Ve="";switch(Te.text){case C.u2:Ve=_e.displayName;break;case C.u6:Ve=(0,c.W)(k.hostServices.getLocalizedString("NamePattern_Colon"),_e.displayName,(0,E.Bw)(ze.format(He)));break;default:Ve=(0,E.Bw)(ze.format(He))}var Ke=(0,h.bT)({style:k.style,textClassName:"smallDataLabel"}).fontProperties,Ze=(0,l.qk)(Ke,Ve),je=p.b.measureSvgTextWidth(Ze),rt=p.b.estimateSvgTextHeight(Ze),it=void 0,et=void 0,at=_e.isY2?ve:be,ot=Ee?0:ue(He),ft=Ee?at(He):0,gt=Ee?me.width:ue(He),W=Ee?at(He):me.height,X=[1];Ee?(it=Te.horizontalPosition===a.t$?ot+5:gt-je/2-5,et=ft,X=Te.verticalPosition===o.aE?[1]:[2]):(it=ot,et=Te.verticalPosition===o.aE?ft+rt/2+5:W-rt/2-5,X=Te.horizontalPosition===a.t$?[4]:[8]);var J=p.b.measureSvgTextWidth(Ze),le=p.b.estimateSvgTextHeight(Ze,!0);Y.push({isPreferred:!0,text:Ve,textSize:{width:J,height:le},outsideFill:Te.color.solid.color,insideFill:null,parentShape:{point:{x:it,y:et},radius:0,validPositions:X},parentType:0,fontProperties:Ke,identity:null,secondRowText:null,key:JSON.stringify({type:_e.type,id:_e.selector.id})})}}return Y}function K(k,Y,ee,se,me){var ue=G(k,me);if(!_.isEmpty(ue))for(var be=0,ve=ue;be<ve.length;be++){var xe=ve[be];if(xe.strokeShow){var Se=xe.value;_.isUndefined(Se)||0===xe.axis&&me&&me.dateTime!==Se instanceof Date&&me.numeric!==_.isNumber(Se)||(0===xe.axis?Y.push(Se):xe.isY2?se.push(Se):ee.push(Se))}}}},2529:function(Pe,Z,f){f.d(Z,{$Z:function(){return s},FK:function(){return c},G5:function(){return o},HO:function(){return m},KZ:function(){return B},S3:function(){return p},UD:function(){return C},XI:function(){return v},Zs:function(){return d},af:function(){return S},nR:function(){return a},oB:function(){return x},pw:function(){return u},rS:function(){return i},ss:function(){return P},tZ:function(){return A},yl:function(){return O}});var s="show",A="lineColor",B="transparency",P="displayName",p="value",x="style",c="position",i="shadeRegion",m="shadeColor",S="shadeTransparency",O="dataLabelShow",C="dataLabelColor",d="dataLabelText",u="dataLabelDecimalPoints",a="dataLabelHorizontalPosition",o="dataLabelVerticalPosition",v="dataLabelDisplayUnits"},10034:function(Pe,Z,f){f.d(Z,{q:function(){return B}});var s=f(38308),A=f(62458);function B(){var P=function(){function p(x,c){this.visualElement=x,this.iconClassName=c,this.isVisualVisible=!0}return p.prototype.updateVisibility=function(x){x.showIcon?(this.hideVisual(),A.fF.assertValue(x.viewport,"viewport"),this.renderResponsiveIcon(x.viewport)):(this.removeResponsiveIcon(),this.showVisual())},p.prototype.renderResponsiveIcon=function(x){this.responsiveIcon||(this.responsiveIcon=(0,s.hi)().addClass(this.iconClassName).appendTo(this.visualElement)),this.responsiveIcon.css({width:x.width,height:x.height})},p.prototype.removeResponsiveIcon=function(){this.responsiveIcon&&(this.responsiveIcon.remove(),this.responsiveIcon=void 0)},p.prototype.hideVisual=function(){this.isVisualVisible&&(this.visualElement.children().hide(),this.isVisualVisible=!1)},p.prototype.showVisual=function(){this.isVisualVisible||(this.visualElement.children().show(),this.isVisualVisible=!0)},p}();return{visibilityHelper:function(x,c){return new P(x,c)}}}},5342:function(Pe,Z,f){f.d(Z,{BN:function(){return x},C0:function(){return P},mD:function(){return p}});var s=f(62458),A=f(6444),B=f(17591),P=function(){function c(i,m,S,O){s.fF.assert(function(){return m>=i},"Requires max date to be bigger than min date."),s.fF.assert(function(){return(!S||S>=i)&&(!O||O<=m)},"Specified date is out of boundaries"),this.rangeMaxValue=(0,B.I)(m,i),this.scale=d3.scaleTime().domain([i,m]).range([0,this.rangeMaxValue]),this.value={min:S||i,max:O||m},this.setValue(this.value)}return c.prototype.getScaledValue=function(){return this.scaledValue},c.prototype.setValue=function(i){s.fF.assert(function(){return null!=i},"Value can't be null"),s.fF.assert(function(){return null!=i.min},"Min can't be null"),s.fF.assert(function(){return null!=i.max},"Max can't be null"),this.value=i,this.scaledValue={min:this.scale(i.min),max:this.scale(i.max)}},c.prototype.getValue=function(){return this.value},c.prototype.setScaledValue=function(i){var m=this;s.fF.assert(function(){return i.min<=m.rangeMaxValue&&i.min>=0&&i.max>=0&&i.max<=m.rangeMaxValue&&i.max>=i.min},"Value is out of range"),this.scaledValue=i,this.value={min:(0,A.Fg)(this.scale.invert(i.min)),max:(0,A.Fg)(this.scale.invert(i.max))}},c}(),p=function(){function c(i,m,S,O){s.fF.assert(function(){return m>=i},"Requires max to be bigger than or equal to min."),s.fF.assert(function(){return(!S||S>=i)&&(!O||O<=m)},"Specified value is out of boundaries"),this.rangeMaxValue=m,this.scale=d3.scaleLinear().domain([i,m]).range([i,this.rangeMaxValue]),this.value={min:void 0===S?i:S,max:void 0===O?m:O},this.setValue(this.value)}return c.prototype.getScaledValue=function(){return this.scaledValue},c.prototype.setValue=function(i){s.fF.assertValue(i,"Value can't be null"),s.fF.assertValue(i.min,"Min can't be null"),s.fF.assertValue(i.max,"Max can't be null"),this.value=i,this.scaledValue={min:this.scale(i.min),max:this.scale(i.max)}},c.prototype.getValue=function(){return this.value},c.prototype.setScaledValue=function(i){var m=this;s.fF.assert(function(){return i.min<=m.rangeMaxValue&&i.min>=0&&i.max>=0&&i.max<=m.rangeMaxValue&&i.max>=i.min},"Value is out of range"),this.scaledValue=i,this.value={min:this.scale.invert(i.min),max:this.scale.invert(i.max)}},c}(),x=function(){function c(i,m,S,O){s.fF.assert(function(){return m>=i},"Requires max to be bigger than or equal to min."),s.fF.assert(function(){return(!S||S>=i)&&(!O||O<=m)},"Specified value is out of boundaries"),this.value={min:void 0===S?i:S,max:void 0===O?m:O}}return c.prototype.getScaledValue=function(){return this.value},c.prototype.setValue=function(i){s.fF.assertValue(i,"Value can't be null"),s.fF.assertValue(i.min,"Min can't be null"),s.fF.assertValue(i.max,"Max can't be null"),this.value=i},c.prototype.getValue=function(){return this.value},c.prototype.setScaledValue=function(i){this.setValue(i)},c}()},95519:function(Pe,Z,f){f.d(Z,{eR:function(){return d},lr:function(){return i}});var s=f(81337),A=f(62458),B=f(56578),P=f(90120),p=f(56707),x=f(60066),c=f(48708);function i(u,a){if(!u?.show)return 0;var o=u.maxWidthPercentage;return null!=u.defaultSeriesWidth&&(o=Math.min(Math.max(1,100*u.defaultSeriesWidth/a),50)),a*((o||0)/100)}function d(u,a){var o=u.seriesOptions,v=u.seriesLabelsProps;A.fF.assertValue(o,"seriesOptions");var M=o.seriesLabelsSettings;M&&(v.seriesPosition&&function(u,a,o){void 0===o&&(o="Desktop_FileMenu_Options");var M=u.seriesLabelsProps,E=u.omitGroupDisplayNames,l=u.selector,r=u.seriesOptions.seriesLabelsSettings,n=u.cardBuilder;a&&(n=a,a.addSimpleSlice("showSeries",new B.bd({descriptor:(0,s.pi)((0,s.pi)({},M.show),{selector:l}),value:r.show}).build(),function(t){return t.withDisabled(a&&!l)})),n.addGroup("options",function(t){E||t.withDisplayName(o),a||t.addSimpleSlice("showSeries",new B.bd({descriptor:(0,s.pi)((0,s.pi)({},M.show),{selector:l}),value:r.show}).build(),function(e){return e.withDisabled(a&&!l)}),t.addSimpleSlice("seriesMaximumWidth",new B.mu({descriptor:(0,s.pi)((0,s.pi)({},M.seriesMaximumWidth),{selector:l}),value:r.defaultSeriesWidth?null:r.maxWidthPercentage,options:{minValue:{type:0,value:p._i},maxValue:{type:1,value:p.NL}}}).build(),function(e){return e.withDisabled(!!l)}),t.addSimpleSlice("position",new B.uY({descriptor:(0,s.pi)((0,s.pi)({},M.seriesPosition),{selector:l}),value:r.position}).build(),function(e){return e.withDisabled(!!l)})})}(u,a),function(u,a,o){void 0===o&&(o="Role_DisplayName_Values");var v=u.seriesOptions,M=u.seriesLabelsProps,E=u.cardBuilder,h=u.omitGroupDisplayNames,l=u.selector,r=v.seriesLabelsSettings,n=v.style?v.style:(0,c.Ue)(),t=E;a&&(t=a),t.addGroup("values",function(e){h||e.withDisplayName(o),(M.seriesFontFamily||M.seriesFontSize)&&e.addCompositeSlice("font","Font",function(){return(new B.UN).withFontFamily({descriptor:(0,s.pi)((0,s.pi)({},M.seriesFontFamily),{selector:l}),value:r.fontProperties.family||x.rk}).withFontSizeProperties({descriptor:(0,s.pi)((0,s.pi)({},M.textSize),{selector:l}),value:r.fontProperties.size.pt,options:{minValue:{type:0,value:r.minFontSize},maxValue:{type:1,value:r.maxFontSize}}}).withBold({descriptor:(0,s.pi)((0,s.pi)({},M.bold),{selector:l}),value:r.bold}).withItalic({descriptor:(0,s.pi)((0,s.pi)({},M.italic),{selector:l}),value:r.italic}).withUnderline({descriptor:(0,s.pi)((0,s.pi)({},M.underline),{selector:l}),value:r.underline}).build()}),M.seriesColor&&e.addSimpleSlice("seriesColor",new B.BT({descriptor:(0,s.pi)((0,s.pi)({},M.seriesColor),{selector:l}),value:{value:r.seriesColor||P.v.getThemeColor(n,p.uQ)}}).build()),e.addSimpleSlice("seriesWordWrap",new B.bd({descriptor:(0,s.pi)((0,s.pi)({},M.seriesWordWrap),{selector:l}),value:r.wordWrap}).build())})}(u,a),null!=M.enableBackground&&v.enableBackground&&function(u,a){var v=u.hostServices,M=u.seriesLabelsProps,h=u.selector,l=u.seriesOptions.seriesLabelsSettings;(a||u.cardBuilder).addGroup("background",function(r){r.withDisplayName("Visual_Background").addTopLevelToggle("enableBackground",function(){return new B.bd({descriptor:(0,s.pi)((0,s.pi)({},M.enableBackground),{selector:h}),value:l.enableBackground}).build()}).addSimpleSlice("backgroundColor",new B.BT({descriptor:(0,s.pi)((0,s.pi)({},M.backgroundColor),{selector:h}),value:{value:l.backgroundColor}}).build()).addSimpleSlice("backgroundTransparency",B.JN.getTransparencySliderBuilder({descriptor:(0,s.pi)((0,s.pi)({},M.backgroundTransparency),{selector:h}),value:Math.round(100*l.backgroundTransparency),localize:function(t){return v.getLocalizedString(t)}}).build())})}(u,a))}},86108:function(Pe,Z,f){f.d(Z,{Ad:function(){return A},HN:function(){return B},Kf:function(){return s},yn:function(){return P}});var s={min:1,max:3},A={min:-30,max:100};function B(p){return s.min+(p??0)/100*s.max}function P(p){return Math.round((p-s.min)/s.max*100)}},45875:function(Pe,Z,f){f.d(Z,{$O:function(){return A},Cd:function(){return P},Ck:function(){return B}});var s=f(64329),A={rangeSlicer:{iconBreakpoints:[{height:1/0,width:75},{height:28,width:1/0},{height:63,width:162}],hideHeaderHeightNoSlider:48,hideHeaderHeightSlider:88},horizontalSlicer:{iconBreakpoints:[{height:1/0,width:75},{height:15,width:1/0}],hideHeaderHeight:48,fontSize:[{breakpoint:360,applyWidth:!0,applyHeight:!1,maxFontSizePt:9},{breakpoint:540,applyWidth:!0,applyHeight:!1,maxFontSizePt:16}]},slicerHeader:{fontSize:[{breakpoint:140,applyWidth:!0,applyHeight:!0,maxFontSizePt:9},{breakpoint:220,applyWidth:!0,applyHeight:!0,maxFontSizePt:16},{breakpoint:320,applyWidth:!0,applyHeight:!1,maxFontSizePt:24},{breakpoint:460,applyWidth:!0,applyHeight:!1,maxFontSizePt:32}]}},B=function(){function p(){}return p.fixWidgetPosition=function(x,c,i,m,S){if(void 0===i&&(i=null),void 0===m&&(m=!1),void 0===S&&(S=null),x&&c){var O="",C="",d="",u="",a="",o=p.getScale(c),v=c.get(0),M=x.offsetParent(),E=p.getScale(M);m&&x.css({transform:"scale(".concat(o,")")});var h=v.getBoundingClientRect();if(null==S&&(S=p.getWidgetPosition(h)),1&~S?(d=(window.innerHeight-h.top)/E,O="auto",a="bottom"):(O=(h.top+h.height)/E,a="top"),2&~S){var t=window.innerWidth-h.left-h.width;u="auto",p.isWidgetPositionExceedsBoundaries(x,o,C=t/E)&&(C=window.innerWidth-x.innerWidth()*o),a="right ".concat(a)}else p.isWidgetPositionExceedsBoundaries(x,o,u=h.left/E)&&(u=window.innerWidth-x.innerWidth()*o),a="left ".concat(a);var e={left:u,top:O,right:C,bottom:d,"transform-origin":a};i&&("auto"!==e.top?e.top+=i.top*o:e.bottom+=i.top*o,"auto"!==e.left?e.left+=i.left*o:e.right+=i.left*o),x.css(e)}},p.getScale=function(x){if(!x)return 1;var c=x.outerWidth();return 0===c?1:x.get(0).getBoundingClientRect().width/c},p.isWidgetPositionExceedsBoundaries=function(x,c,i){return x.innerWidth()*c+i>window.innerWidth},p.getWidgetPosition=function(x){var c=3,i=window.innerHeight,m=window.innerWidth;return i-x.top<i/2&&(c&=-2,c|=0),m-x.left<m/2&&(c&=-3,c|=4),c},p}();function P(p,x){for(var c=s.PR,i=0,m=x;i<m.length;i++){var S=m[i];if(p.width<S.breakpoint&&S.applyWidth||p.height<S.breakpoint&&S.applyHeight){c=S.maxFontSizePt;break}}return c}},48645:function(Pe,Z,f){f.d(Z,{y:function(){return A}});var s=f(81337),A=function(){function B(P,p){void 0===p&&(p=2),this.renderer=P,this.tolerance=p}return B.prototype.updateRegionOutlines=function(P){for(var p=[],x=0,c=P;x<c.length;x++){var i=c[x],m=this.traverse(i.outline);p.push((0,s.pi)((0,s.pi)({},i),{outline:m}))}this.renderer.updateRegionOutlines(p)},B.prototype.traverse=function(P){var p=this;if(0===P.type){var x=P.outlines.map(function(i){return p.traverse(i)}),c=this.mergeOverlappingOutlines(x);return(0,s.pi)((0,s.pi)({},P),{type:0,outlines:c})}return P},B.prototype.isOverlapping=function(P,p){var x,c,i,S,O,C;return P.x<=p.x?(x=P.x,c=p.x,i=P.width):(x=p.x,c=P.x,i=p.width),P.y<=p.y?(S=P.y,O=p.y,C=P.height):(S=p.y,O=P.y,C=p.height),S+C+this.tolerance>=O-this.tolerance&&x+i+this.tolerance>=c-this.tolerance},B.prototype.mergeOverlappingOutlines=function(P){for(var p=0;p<P.length;p++)for(var x=p+1;x<P.length;x++){var c=P[p],i=P[x];1===c.type&&1===i.type&&this.isOverlapping(c,i)&&(P[p]=this.merge(c,i),P.splice(x,1),x--)}return P},B.prototype.merge=function(P,p){var x=Math.min(P.x,p.x),c=Math.min(P.y,p.y);return{type:1,x,y:c,width:Math.max(P.x+P.width,p.x+p.width)-x,height:Math.max(P.y+P.height,p.y+p.height)-c}},B}()},86900:function(Pe,Z,f){f.d(Z,{D:function(){return E}});var s=f(79154),A=f(62458),B=function(){function h(l){this.clipPaths=l}return h.createRendererGroupClipPath=function(l){return new h(l)},h.prototype.createPathString=function(l,r){return void 0===r&&(r=0),this.clipPaths.map(function(n){return n.createPathString(l,r)}).join(" ")},h}(),P=f(92379),p=function(){function h(l){this.points=l}return h.createRendererPolygonClipPath=function(l,r,n){return void 0===r&&(r=0),void 0===n&&(n=0),new h(l.points.map(function(e){return{x:e.x-r,y:e.y-n}}))},h.prototype.createPathString=function(l,r){void 0===r&&(r=0);var n=this.points.map(function(T){return{x:T.x-l.x,y:T.y-l.y}});if(0!==r){var t=P.m.fromPolygonPoints(n);n=P.m.resize(t,r).polygonPoints}for(var w=d3.path(),b=0;b<n.length;b++){var L=n[b];0===b?w.moveTo(L.x,L.y):w.lineTo(L.x,L.y)}return w.closePath(),w.toString()},h}(),x=function(){function h(l){this.bounds=l}return h.createRendererRectangleClipPath=function(l,r,n){return void 0===r&&(r=0),void 0===n&&(n=0),new h({x:l.x-r,y:l.y-n,width:l.width,height:l.height})},h.prototype.createPathString=function(l,r){void 0===r&&(r=0);var n=d3.path();return n.rect(this.bounds.x-l.x,this.bounds.y-l.y,this.bounds.width+2*r,this.bounds.height+2*r),n.toString()},h}(),c=f(81337),i=function(){function h(l,r,n,t,e,w){void 0===w&&(w=void 0),this.id=l,this.qualifiedName=r,this.bounds=n,this.points=t,this.clipPath=e,this.extendedProperties=w}return h.prototype.cleanup=function(l){return l},h.prototype.renderHandles=function(l,r){this.applyClipPath(l,r);var n=l.selectAll(h.OutlineHandleSelector.selector).data(this.points);return n.enter().append("circle").classed(h.OutlineHandleSelector.class,!0).merge(n).attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("r",r),n.exit().remove(),l},h.prototype.tag=function(){return document.createElementNS("http://www.w3.org/2000/svg",this.qualifiedName)},h.prototype.shouldRenderHandles=function(){var l;return null!=(null===(l=this.extendedProperties)||void 0===l?void 0:l.showHandles)?this.extendedProperties.showHandles:2===this.visibility},h.prototype.applyClipPath=function(l,r){if(void 0===r&&(r=0),this.clipPath){var n=this.clipPath.createPathString(this.bounds,r);l.attr("clip-path","path('".concat(n,"')"))}return l},h.OutlineHandleSelector=(0,s.CH)("outline-handle"),h}();function S(h,l,r){return{x:h.x+r*Math.sin(l),y:h.y-r*Math.cos(l)}}var O=function(h){function l(r,n,t,e,w){var b=this,L=t,T=(0,c.pi)((0,c.pi)({},L),{innerRadius:Math.max(0,L.innerRadius-4),outerRadius:L.outerRadius+4}),F=T.center,V=T.innerRadius,U=T.outerRadius,de=F.x-U,ge=F.y-U,j=2*U,R=j,y=j,D=T.startAngle+0,H=T.endAngle+0,I=[S(F,D,V),S(F,D,U),S(F,H,U)];return V&&I.push(S(F,H,V)),(b=h.call(this,r,"path",{x:de,y:ge,width:R,height:y},I,e,w)||this).visibility=n,b.outline=T,b}return(0,c.ZT)(l,h),l.create=function(r,n,t,e,w,b,L){var T;void 0===w&&(w=0),void 0===b&&(b=0),void 0===L&&(L=void 0);var F=(T=t.center).x,V=T.y;return new l(r,n,t=(0,c.pi)((0,c.pi)({},t),{center:{x:F-w,y:V-b}}),e,L)},l.prototype.initialize=function(r){return r.classed(l.OutlineSelector.class,!0),r},l.prototype.update=function(r){var n,t=(n=this.outline).innerRadius,e=n.outerRadius,w=n.center,b=d3.arc().innerRadius(t).outerRadius(e);return this.applyClipPath(r).style("transform","translate(".concat(w.x,"px, ").concat(w.y,"px)")).attr("d",b(this.outline)).style("pointer-events","none").style("stroke",function(L){var T;return null===(T=L.extendedProperties)||void 0===T?void 0:T.color}).style("stroke-width",function(L){var T;return(null===(T=L.extendedProperties)||void 0===T?void 0:T.thickness)>=1?L.extendedProperties.thickness:null})},l.OutlineSelector=(0,s.CH)("outline-arc"),l}(i),C=function(h){function l(r,n,t,e,w,b){var L=h.call(this,r,"g",e,[],w,b)||this;return L.visibility=n,L.outlines=t,L}return(0,c.ZT)(l,h),l.createRendererGroupOutline=function(r,n,t,e,w){void 0===w&&(w=void 0);var b=Math.min.apply(Math,t.map(function(U){return U.bounds.x})),L=Math.min.apply(Math,t.map(function(U){return U.bounds.y})),T=Math.max.apply(Math,t.map(function(U){return U.bounds.x+U.bounds.width})),F=Math.max.apply(Math,t.map(function(U){return U.bounds.y+U.bounds.height}));return new l(r,n,t,{x:b,y:L,width:T-b,height:F-L},e,w)},l.prototype.shouldRenderHandles=function(){var r=this;return this.outlines.some(function(n){var t,e,w=_.cloneDeep(n);return w.extendedProperties=(0,c.pi)((0,c.pi)({},null!==(t=r.extendedProperties)&&void 0!==t?t:{}),null!==(e=n.extendedProperties)&&void 0!==e?e:{}),w.shouldRenderHandles()})},l.prototype.renderHandles=function(r,n){this.applyClipPath(r,n);for(var t=[],e=0,w=this.outlines;e<w.length;e++){var b=w[e];b.shouldRenderHandles()&&t.push(b)}var L=r.selectAll(l.OutlineHandlesGroupItem.selector).filter(function(){return this.parentNode===r.node()}).data(t,function(F){return"".concat(F.id)}),T=L.enter().append("g").classed(l.OutlineHandlesGroupItem.class,!0).merge(L);return T.each(function(F){F.renderHandles(d3.select(this),n)}),L.exit().remove(),T},l.prototype.initialize=function(r){return this.renderGroupOutline(r)},l.prototype.update=function(r){return this.renderGroupOutline(r)},l.prototype.renderGroupOutline=function(r){this.applyClipPath(r);var n=r.selectAll(l.OutlineGroupItem.selector).filter(function(){return this.parentNode===r.node()}).data(this.outlines,function(e){return"".concat(e.id)}),t=n.enter().append(function(e){return e.tag()}).each(function(e){e.initialize(d3.select(this))}).classed(l.OutlineGroupItem.class,!0).style("stroke",function(e){var w;return null===(w=e.extendedProperties)||void 0===w?void 0:w.color}).style("stroke-width",function(e){var w;return(null===(w=e.extendedProperties)||void 0===w?void 0:w.thickness)>=1?e.extendedProperties.thickness:null}).merge(n);return t.each(function(e){e.update(d3.select(this))}),n.exit().each(function(e){e.cleanup(d3.select(this)),r.remove()}),t},l.OutlineGroupItem=(0,s.CH)("outline-group-item"),l.OutlineHandlesGroupItem=(0,s.CH)("outline-handles-group-item"),l}(i),d=function(h){function l(r,n,t,e,w,b){var L=h.call(this,r,"line",e,t,w,b)||this;return L.visibility=n,L}return(0,c.ZT)(l,h),l.createRendererLineOutline=function(r,n,t,e,w,b,L){void 0===w&&(w=0),void 0===b&&(b=0),void 0===L&&(L=void 0);var T=t.map(function(G){return{x:G.x-w,y:G.y-b}}),V=P.m.fromPolygonPoints(T).absoluteBoundingRect();return new l(r,n,T,{x:V.left,y:V.top,width:V.width,height:V.height},e,L)},l.prototype.shouldRenderHandles=function(){return!0},l.prototype.initialize=function(r){return r.classed(l.OutlineSelector.class,!0)},l.prototype.update=function(r){return this.applyClipPath(r).style("stroke",function(n){var t;return null===(t=n.extendedProperties)||void 0===t?void 0:t.color}).style("stroke-width",function(n){var t;return(null===(t=n.extendedProperties)||void 0===t?void 0:t.thickness)>=1?n.extendedProperties.thickness:null})},l.OutlineSelector=(0,s.CH)("outline-line"),l}(i),u=function(h){function l(r,n,t,e,w,b){var L=h.call(this,r,"polygon",e,t,w,b)||this;return L.visibility=n,L}return(0,c.ZT)(l,h),l.createRendererPolygonOutline=function(r,n,t,e,w,b,L){void 0===w&&(w=0),void 0===b&&(b=0),void 0===L&&(L=void 0);var T=t.map(function(G){return{x:G.x-w,y:G.y-b}}),V=P.m.fromPolygonPoints(T).absoluteBoundingRect();return new l(r,n,T,{x:V.left,y:V.top,width:V.width,height:V.height},e,L)},l.prototype.initialize=function(r){return r.classed(l.OutlineSelector.class,!0)},l.prototype.update=function(r){return this.applyClipPath(r).attr("points",this.points.map(function(n){return[n.x,n.y].join(",")}).join(" ")).style("stroke",function(n){var t;return null===(t=n.extendedProperties)||void 0===t?void 0:t.color}).style("stroke-width",function(n){var t;return(null===(t=n.extendedProperties)||void 0===t?void 0:t.thickness)>=1?n.extendedProperties.thickness:null})},l.OutlineSelector=(0,s.CH)("outline-polygon"),l}(i),a=function(h){function l(r,n,t,e,w,b){var L=h.call(this,r,"rect",t,[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],e,b)||this;return L.visibility=n,L.subSelection=t,L.directEditCallbacks=w,L.eventListeners={},L.directEditCallbacks&&t.directEdit&&(L.eventListeners=L.populateEventListeners()),L}return(0,c.ZT)(l,h),l.createRendererRectangleOutline=function(r,n,t,e,w,b,L,T){return void 0===b&&(b=0),void 0===L&&(L=0),void 0===T&&(T=void 0),t.x=t.x-b,t.y=t.y-L,new l(r,n,t,e,w,T)},l.prototype.initialize=function(r){return this.attachEventHandlers(r),r.classed(l.OutlineSelector.class,!0),r},l.prototype.update=function(r){return this.applyClipPath(r).attr("x",this.subSelection.x).attr("y",this.subSelection.y).attr("width",this.subSelection.width).attr("height",this.subSelection.height).style("pointer-events",this.isInteractive()?"fill":"none").style("cursor",this.isInteractive()?"text":void 0).style("stroke",function(n){var t;return null===(t=n.extendedProperties)||void 0===t?void 0:t.color}).style("stroke-width",function(n){var t;return(null===(t=n.extendedProperties)||void 0===t?void 0:t.thickness)>=1?n.extendedProperties.thickness:null})},l.prototype.isInteractive=function(){return this.directEditCallbacks&&this.subSelection.directEdit&&2===this.visibility},l.prototype.populateEventListeners=function(){var r=this;return{"pointerdown.directEditEvent":function(t){0===t.button&&(t.stopImmediatePropagation(),t.preventDefault(),r.directEditCallbacks.startEdit(r.subSelection))},"contextmenu.directEditEvent":function(t){var e=t;2===e.button&&(t.stopImmediatePropagation(),t.preventDefault(),r.directEditCallbacks.showUI(r.subSelection,e))}}},l.prototype.attachEventHandlers=function(r){for(var n=this.eventListeners,e=function(F){var V=n[F];r.on(F,function(){V(d3.event,this)})},w=0,b=Object.keys(n);w<b.length;w++)e(b[w])},l.OutlineSelector=(0,s.CH)("outline-rect"),l}(i),E=function(){function h(l,r){this.directEditCallbacks=r,this.outlineHost=d3.select(l),this.visibleOutlines=[]}return h.create=function(l,r){return new h(l,r)},h.createWithDefaultHost=function(){var l=d3.select("body").append("div").style("position","absolute").style("top",0).style("left",0).style("width","100%").style("height","100%").style("z-index",1).style("pointer-events","none").node();return h.create(l)},h.prototype.updateRegionOutlines=function(l,r){this.clearRenderOutlineDelay();var n=this.convertRegionOutlinesToOutlines(l,r);this.renderOutlines(n)},h.prototype.convertRegionOutlinesToOutlines=function(l,r){var n=this,t=_.cloneDeep(l);return _.flatMap(t,function(w){return n.convertSubSelectionToOutline(w.id,w.visibility,w.outline,r?.x,r?.y)})},h.prototype.convertSubSelectionToOutline=function(l,r,n,t,e,w){var b=this;void 0===t&&(t=0),void 0===e&&(e=0);var L=_.isUndefined(w)?l:"".concat(l,"-").concat(w),T=n.clipPath?this.convertClipPathToRendererClipPath(n.clipPath,t,e):void 0;switch(n.type){case 0:var F=n.outlines.map(function(V,U){return b.convertSubSelectionToOutline(L,r,V,t,e,U)});return C.createRendererGroupOutline(L,r,F,T,n.extendedProperties);case 2:return d.createRendererLineOutline(L,r,n.points,T,t,e,n.extendedProperties);case 3:return u.createRendererPolygonOutline(L,r,n.points,T,t,e,n.extendedProperties);case 1:return a.createRendererRectangleOutline(L,r,n,T,this.directEditCallbacks,t,e,n.extendedProperties);case 4:return O.create(L,r,n,T,t,e,n.extendedProperties);default:A.fF.assertNever(n)}},h.prototype.convertClipPathToRendererClipPath=function(l,r,n){var t=this;switch(void 0===r&&(r=0),void 0===n&&(n=0),l.type){case 0:var e=l.clipPaths.map(function(w){return t.convertClipPathToRendererClipPath(w,r,n)});return B.createRendererGroupClipPath(e);case 3:return p.createRendererPolygonClipPath(l,r,n);case 1:return x.createRendererRectangleClipPath(l,r,n);default:A.fF.assertNever(l)}},h.prototype.renderOutlines=function(l){var r=this,n=[],t=[],e=[];if(l)for(var w=0,b=l;w<b.length;w++){var L=b[w];2===L.visibility?(n.push(L),e.push(L)):1===L.visibility&&(t.push(L),e.push(L))}this.visibleOutlines=_.intersectionBy(e,this.visibleOutlines,"id"),this.visibleOutlines=_.unionBy(n,this.visibleOutlines,"id"),this.renderVisibleOutlines(this.visibleOutlines),this.visibleOutlines=_.unionBy(t,this.visibleOutlines,"id"),this.setRenderOutlineDelay(function(){r.renderVisibleOutlines(r.visibleOutlines)})},h.prototype.renderVisibleOutlines=function(l){var r=this.renderSVGContainer(h.OutlineShapesSVGSelector);h.renderOutlineShapes(r,l);var n=this.renderSVGContainer(h.OutlineHandlesSVGSelector);h.renderOutlineHandles(n,l)},h.prototype.renderSVGContainer=function(l){return this.outlineHost.selectAll(l.selector).data([null]).join("svg").classed(l.class,!0)},h.renderOutlineShapes=function(l,r){var n=l.selectAll(h.OutlineShapeSelector.selector).data(r,function(e){return"".concat(e.id)});n.enter().append(function(e){return e.tag()}).each(function(e){e.initialize(d3.select(this))}).classed(h.OutlineShapeSelector.class,!0).merge(n).attr("data-sub-selection-outline-id",function(e){return"".concat(e.id)}).classed(h.OutlineActiveSelector.class,function(e){return 2===e.visibility}).classed(h.OutlineHoverSelector.class,function(e){return 1===e.visibility}).style("stroke",function(e){var w;return null===(w=e.extendedProperties)||void 0===w?void 0:w.color}).style("stroke-width",function(e){var w;return(null===(w=e.extendedProperties)||void 0===w?void 0:w.thickness)>=1?e.extendedProperties.thickness:null}).each(function(e){e.update(d3.select(this))}),n.exit().each(function(e){var w=d3.select(this);e.cleanup(w),w.remove()})},h.renderOutlineHandles=function(l,r){for(var n=[],t=0,e=r;t<e.length;t++){var w=e[t];w.shouldRenderHandles()&&n.push(w)}var b=l.selectAll(h.OutlineShapeHandlesSelector.selector).data(n,function(T){return"".concat(T.id)});b.enter().append("g").classed(h.OutlineShapeHandlesSelector.class,!0).merge(b).each(function(T){T.renderHandles(d3.select(this),4)}),b.exit().remove()},h.prototype.setRenderOutlineDelay=function(l){this.clearRenderOutlineDelay(),this.outlineDelayTimer=setTimeout(l,100)},h.prototype.clearRenderOutlineDelay=function(){this.outlineDelayTimer&&(clearTimeout(this.outlineDelayTimer),this.outlineDelayTimer=void 0)},h.OutlineShapesSVGSelector=(0,s.CH)("outline-svg-shapes"),h.OutlineHandlesSVGSelector=(0,s.CH)("outline-svg-handles"),h.OutlineShapeSelector=(0,s.CH)("outline-shape"),h.OutlineShapeHandlesSelector=(0,s.CH)("outline-shape-handles"),h.OutlineHoverSelector=(0,s.CH)("outline-hover"),h.OutlineActiveSelector=(0,s.CH)("outline-active"),h}()},44977:function(Pe,Z,f){f.d(Z,{PC:function(){return x},lM:function(){return i},mC:function(){return p},nU:function(){return P},zI:function(){return c}});var s=f(62458),A=f(32041),B=f(66001);function P(m){return m.toString().replace(new RegExp(" ","g"),"&nbsp")}function p(m){return m.replace(/\u2026/g,"")}function x(m){if(null!=m)return m.replace(/ /g,"\xa0")}function c(m){if(null!=m)return m.replace(/\n| /g,"\xa0")}function i(m,S,O,C,d,u){void 0===C&&(C=0),void 0===d&&(d=!1),void 0===u&&(u=!1),s.fF.assertValue(m,"textElement");var a=A.b.getSvgMeasurementProperties(m),o=A.b.estimateSvgTextHeight(a)+C,v=Math.max(1,Math.floor(O/o)),M=d3.select(m),E=m.textContent;m.textContent="";for(var h=(0,B.ql)(E,a,A.b.measureSvgTextWidth,S,v,null,!1,d,u),l=0,r=h.length;l<r;l++)a.text=h[l],M.append("tspan").attr("x",0).attr("dy",0===l?0:o).text(A.b.getTailoredTextOrDefault(a,S))}},67064:function(Pe,Z,f){f.d(Z,{mR:function(){return A}});var s=!0;function A(){return s}},70249:function(Pe,Z,f){f.d(Z,{$s:function(){return m},Sh:function(){return B},Vi:function(){return S},_M:function(){return p},eR:function(){return c},oN:function(){return P},rI:function(){return i}});var s=f(79154),A=f(52287),B={node:"treemapNode",highlight:"treemapNodeHighlight",major:"majorLabel",minor:"minorLabel"},P="foregroundLight";function p(O,C){return O.depth>1&&!O.data.identity.hasIdentity()&&!C||x(O)?s.zu:O.data.color}function x(O){var C=O.children;if(!C)return!1;var d=C.length;if(0===d)return!1;for(var u=d-1;u>=0;u--)if(C[u].data.identity.hasIdentity())return!0;return!1}function c(O,C,d,u){return d?C&&u?O.data.selected?null:(0).toString():u?null:.4.toString():!C||O.data.selected||O.depth>1&&O.parent.data.selected||x(O)?null:.4.toString()}function i(O,C,d){return O.filter(function(u){return 1===u.depth}).classed(A.cy,!0).attr(A.Ez,"category").attr(A.QZ,3).style("pointer-events","bounding-box").each(function(u){var a=d3.select(this).node();A.O5.setDataForElement(a,{getDisplayName:function(){return C.getLocalizedString("MiniToolbar_Categories",d.majorLabelFullText(u))}})})}function m(O,C){return O.classed(A.cy,!0).attr(A.Ez,C).attr(A.QZ,1).attr(A.CK,"category-labels"===C?"Visual_CategoryLabels":"Visual_DataPointsLabels").style("pointer-events","bounding-box")}function S(O){return O.classed(A.cy,!1).attr(A.Ez,null).attr(A.QZ,null).attr(A.CK,null).style("pointer-events",null).each(function(){var C=d3.select(this).node();A.O5.setDataForElement(C,void 0)})}},92783:function(Pe,Z,f){f.d(Z,{$B:function(){return l},Kx:function(){return h},Qp:function(){return T},VP:function(){return F},Zb:function(){return ae},md:function(){return L},s4:function(){return r}});var s=f(81337),A=f(64067),B=f(79154),P=f(62458),p=f(38958),x=f(82755),c=f(76045),i=f(69871),m=f(47316),S=f(53197),O=f(90120),C=f(52287),d=f(2241),u=f(14599),o="displayName",v="lineColor",h="combineSeries",l="useHighlightValues",r="trend",n="foregroundDark";function t(j){return{strokeShow:!1,strokeColor:U(j),strokeTransparency:0,strokeWidth:2,strokePattern:m.Dv.dashed,strokeDashArray:m.YU,strokeDashCap:m.xm,strokeAutoScale:!1,combineSeries:!0,useHighlightValues:!0}}var e=(0,B.CH)("trend-line"),w=(0,B.CH)("interactivity-trend-line"),b=(0,B.CH)("trend-line-layer");function L(j,R,y){if(P.fF.assertValue(j,"enumeration"),_.isEmpty(R)){var g=t(y);j.pushInstance({selector:null,properties:(0,s.pi)((0,s.pi)({},(0,d.HM)(g,u.vi)),{combineSeries:g.combineSeries}),objectName:r})}else{var D=R[0];j.pushInstance({selector:null,properties:(0,s.pi)((0,s.pi)({displayName:D.displayName},(0,d.HM)(D,u.vi,D.combineSeries?D.strokeColor:void 0)),{combineSeries:D.combineSeries,useHighlightValues:D.useHighlightValues}),objectName:r})}}function T(j){return(0,p.c5)(j,"regression.X")}function F(j,R,y,g){return j&&j.matrix?function(y,g,D,H){return function(R,y,g,D){if(R&&R.matrix){var H=R.matrix,I=H.rows&&H.rows.root&&H.rows.root.children;if(!_.isEmpty(I)){for(var K=y.metadata.objects,k=V(R.metadata.objects,K,I[0].children[0].objects,g,D),Y=k.trendLineProperties,ee=k.colorHelper,se=k.defaultColor,me=y.matrix&&y.matrix.rows&&y.matrix.rows.root.children,ue=[],be=0;be<I.length;be++){for(var xe=[],Se=0,we=I[be].children;Se<we.length;Se++){var _e=we[Se],Te=(0,S.eT)(_e.value),Ee=(0,S.eT)(_e.values[0].value);null!=Te&&null!=Ee&&xe.push({x:Te,y:Ee})}var ze=void 0;if(Y.combineSeries)ze=Y.strokeColor||U(D);else if(2===y.matrix.rows.levels.length){var He=me[be],ke=ee.getColorForSeriesValue(He.objects,He.childIdentityFields,He.value,n);ze=ke=G(ke)}else{var Be=(0,x.W7)(K,{objectName:"dataPoint",propertyName:"defaultCategoryColor"});ze=G(O.v.create(D,{objectName:"dataPoint",propertyName:"fill"},se||Be).getColorForMeasure(null,"",n))}ue.push((0,s.pi)((0,s.pi)({},Y),{points:xe,strokeColor:ze,y2Axis:g}))}return ue}}}(y,g,D,H)}(j,R,y,g):function(y,g,D,H){return function(R,y,g,D){if(R&&R.categorical){var H=R.categorical;if(!_.isEmpty(H.categories)&&!_.isEmpty(H.values)){var I=H.categories[0].values,K=H.values.grouped();if(I&&K){for(var k=V(R.metadata.objects,y.metadata.objects,H.values[0].source.objects,g,D),Y=k.trendLineProperties,ee=k.colorHelper,se=[],me=0;me<K.length;me++){for(var ue=K[me],be=[],ve=0;ve<I.length;ve++){var xe=(0,S.eT)(I[ve]),Se=ue.values[0],_e=(0,S.eT)((Y.useHighlightValues&&Se.highlights?Se.highlights:Se.values)[ve]);null!=xe&&null!=_e&&be.push({x:xe,y:_e})}var Te=void 0;if(Y.combineSeries)Te=Y.strokeColor||U(D);else{var Ee=void 0;if(y.categorical.values.source){var ze=y.categorical.values.grouped();Ee=ee.getColorForSeriesValue(ze[me].objects,y.categorical.values.identityFields,ue.name,n)}else Ee=ee.getColorForMeasure(y.categorical.values[me].source.objects,ue.name,n);Te=Ee=G(Ee)}se.push((0,s.pi)((0,s.pi)({},Y),{points:be,strokeColor:Te,y2Axis:g}))}return se}}}}(y,g,D,H)}(j,R,y,g)}function V(j,R,y,g,D){var H=(0,x.RK)(j,r,{}),I=O.v.create(D),K=t(D),k=(0,s.pi)((0,s.pi)({},(0,d.AF)(H,u.vi,K,I.getColorForPropertyName(H,v,n))),{displayName:(0,c.N)(H,o),combineSeries:(0,c.N)(H,h,K.combineSeries),useHighlightValues:(0,c.N)(H,l,K.useHighlightValues)}),Y=(0,x.NA)(y,i.zK.lineStyles.strokeColor);Y&&(k.strokeColor=Y.solid.color);var ee=(0,x.W7)(R,{objectName:"dataPoint",propertyName:"defaultColor"});return g||(ee=ee||(0,x.W7)(R,{objectName:"dataPoint",propertyName:"fill"})),{trendLineProperties:k,colorHelper:I=O.v.create(D,{objectName:"dataPoint",propertyName:"fill"},ee),defaultColor:ee}}function U(j){return O.v.getThemeColor(j,n)}function G(j){var R=(0,A.WV)(j);return R=(0,A._j)(R,20),(0,A.U8)(R)}function ae(j,R,y,g,D){var H=R.select(b.selector);H.empty()&&(H=R.append("svg").classed(b.class,!0)),H.attrs({height:g.height,width:g.width}),H.selectAll(e.selector).data(j||[]).join(function(I){return I.append("path").classed(e.class,!0)}).attr("d",function(I){var K=y.x.scale,k=I.y2Axis&&y.y2?y.y2.scale:y.y1.scale;return d3.line().x(function(ee){return K(ee.x)}).y(function(ee){return k(ee.y)})(_.filter(I.points,function(ee){return null!=ee.x&&null!=ee.y}))}).styles(function(I){return(0,d.bc)(I)}),D&&H.selectAll(w.selector).data(j||[]).join(function(I){return I.append("path").classed(w.class,!0).classed(C.cy,!0).attr(C.Ez,"lines").attr(C.CK,"Visual_Trend_Line").attr(C.QZ,3).style("stroke-dasharray","none")}).attr("d",function(I){var K=y.x.scale,k=I.y2Axis&&y.y2?y.y2.scale:y.y1.scale;return d3.line().x(function(ee){return K(ee.x)}).y(function(ee){return k(ee.y)})(_.filter(I.points,function(ee){return null!=ee.x&&null!=ee.y}))}).each(function(){var I=this;C.O5.setDataForElement(I,{getRegionOutlines:function(){var k=R.node(),Y=k.getBoundingClientRect(),ee=Y.left,se=Y.top,me=k.getBBox(),ue=me.x,be=me.y,ve=d3.select(I).datum(),xe=y.x.scale,Se=ve.y2Axis&&y.y2?y.y2.scale:y.y1.scale,we=10*g.scale;return[{id:"Visual_Trend_Line",outline:{type:0,outlines:ve.points.map(function(Ee){return{x:(xe(Ee.x)-ue)*g.scale+ee-we/2,y:(Se(Ee.y)-be)*g.scale+se-we/2,width:we,height:we,type:1}})}}]}})})}},7176:function(Pe,Z,f){f.d(Z,{PT:function(){return u},nC:function(){return d}});var s=f(81337),A=f(62458),B=f(82755),P=f(76045),p=f(47998),x=f(77558),c=f(47316),i=f(61193),m=f(53197),S=f(90120),O=f(21181),C={DefaultWidth:1,DefaultBarMatchSeriesColor:!1,DefaultTransparency:80,DefaultBandStyle:p.X$.fill,DefaultMarkerShape:i.ZO.longDash,DefaultMarkerSize:5,DefaultLabelBackgroundTransparency:90,DefaultLabelFormat:x.K.absolute,DefaultTooltipFormat:x.K.absolute,MarkerKeyBase:"uncertainty"};function d(v,M,E,h,l,r){var V,n=(0,s.pi)((0,s.pi)({},(0,B.RK)(r.staticObjects,"error")),(0,B.RK)(v,"error")),t=S.v.create(M),e=(0,P.N)(n,"barShow",!0),w=(0,P.N)(n,"barMatchSeriesColor",C.DefaultBarMatchSeriesColor),b=(0,P.N)(n,"barWidth",C.DefaultWidth),L=t.getColorForPropertyNameWithDefaultColor(n,"barBorderColor",M.colorPalette.background.value),T=(0,P.N)(n,"barBorderSize",C.DefaultWidth),F=E;w||(F=t.getColorForPropertyNameWithDefaultColor(n,"barColor",M.colorPalette.foregroundNeutralSecondary.value)),r.hideBand||(V={show:(0,P.N)(n,"shadeShow",!1),bandStyle:(0,P.N)(n,"shadeBandStyle",C.DefaultBandStyle),matchSeriesColor:(0,P.N)(n,"shadeMatchSeriesColor",!0),transparency:(0,P.N)(n,"shadeTransparency",C.DefaultTransparency),color:E}).matchSeriesColor||(V.color=t.getColorForPropertyNameWithDefaultColor(n,"shadeColor",M.colorPalette.foregroundNeutralSecondary.value));var U=(0,P.N)(n,"markerShape",e?C.DefaultMarkerShape:void 0),G=(0,P.N)(n,"markerShow",void 0);"none"===U&&(U=G?C.DefaultMarkerShape:void 0);var ae={color:e?F:V?.color,key:C.MarkerKeyBase+h,rotation:r.valueAxisHorizontal?90:0,show:!!U&&!1!==G&&(e||V?.show||G),shape:U??C.DefaultMarkerShape,showMarkerByDefault:(0,P.N)(n,"showMarkerByDefault",!0),size:(0,P.N)(n,"markerSize",C.DefaultMarkerSize),stroke:{strokeShow:!0,strokeColor:e?L:void 0,strokePattern:c.Dv.solid,strokeWidth:T,strokeTransparency:void 0},lineRadius:e?b/2:void 0},de={show:(0,P.N)(n,"labelShow"),fontFamily:(0,P.N)(n,"labelFontFamily"),fontSize:(0,P.N)(n,"labelFontSize"),bold:(0,P.N)(n,"labelBold"),italic:(0,P.N)(n,"labelItalic"),underline:(0,P.N)(n,"labelUnderline"),color:(0,P.N)(n,"labelColor"),enableBackground:(0,P.N)(n,"labelBackground"),backgroundColor:(0,P.N)(n,"labelBackgroundColor"),backgroundTransparency:(0,P.N)(n,"labelBackgroundTransparency",C.DefaultLabelBackgroundTransparency),labelDisplayUnits:void 0,labelPosition:void 0},ge=(0,P.N)(n,"labelMatchSeriesColor",!1);ge&&(de.color={solid:{color:E}}),(0,O.ww)(de,l,!1,M,r.isCombo);var j=(0,P.N)(n,"enabled",!1);return{hasUncertainty:j,bar:{show:e,borderColor:L,borderWidth:T,matchSeriesColor:w,color:F,width:b,isHorizontal:r.valueAxisHorizontal},markers:ae,tooltips:{format:(0,P.N)(n,"tooltipFormat",C.DefaultTooltipFormat),show:(0,P.N)(n,"tooltipShow",!0)},labels:(0,s.pi)((0,s.pi)({},l),{matchSeriesColor:ge,errorFormat:(0,P.N)(n,"labelFormat",C.DefaultLabelFormat)}),renderUncertainty:j&&(e||ae.show||V?.show),band:V,markersFlipped:(0,s.pi)((0,s.pi)({},ae),{key:"".concat(ae.key,"-flip"),rotation:r.valueAxisHorizontal?270:180})}}function u(v,M,E,h,l){return function(v,M){if(null!=v){if(v.explicit){var E=v.explicit;return o(E.lowerBound,E.upperBound,E.isRelative?M:0)}if(v.symmetricalExplicit){var h=v.symmetricalExplicit.delta;return o(Math.min(-h,h),Math.max(-h,h),M)}if(v.standardDeviation){var n=v.standardDeviation,t=n.value,e=n.multiplier;return A.fF.assert(function(){return null!=t&&!isNaN(t)&&t>=0},"convertUncertaintyDataPoint - stddev is undefined or negative"),o(-t*e,t*e,M)}if(v.percentage){var w=v.percentage,b=w.lowerBoundDelta,L=w.upperBoundDelta,T=Math.abs(M);return o(M-b*T,M+L*T)}if(v.percentile){var F=v.percentile;return o(F.lowerBound,F.upperBound)}A.fF.assertFail("convertUncertaintyDataPoint - unknown ErrorRange definition supplied; expected at least one property to be populated")}}(v.getErrorValues(M,E,l),h)}function o(v,M,E){var h=E??0,l={},r=(0,m.eT)(v);null!=r&&(l.lower=r+h);var n=(0,m.eT)(M);return null!=n&&(l.upper=n+h),l}},16122:function(Pe,Z,f){f.d(Z,{f:function(){return m}});var s=f(81337),A=f(62458),B=f(56578),P=f(14599),p=f(21181),x=f(57416),c=f(33024),i=f(61193);function m(S,O){var C=S.uncertainty,d=S.measureSelector,u=S.uncertaintyOptions,a=S.localize;O.addGroup("options",function(E){return E.withDisplayName("Desktop_FileMenu_Options").addSimpleSlice("errorRangeEnabled",new B.bd({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.enabled),{selector:d}),value:C.hasUncertainty}).build()).addSimpleSlice("errorRange",new B.LB({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.errorRange),{selector:S.dataPointSelector,instanceKind:2}),validators:{field:{kind:1,type:{numeric:!0}}},targetMeasure:S.targetMeasure,value:void 0}).build(),function(h){return h.withSuppressDisplayName(!0)})}).addGroup("bar",function(E){return E.withDisplayName("Visual_Bar").withDisabled(!C.hasUncertainty).addTopLevelToggle("barShow",function(){return new B.bd({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.barShow),{selector:d}),value:C.bar.show}).build()}).addSimpleSlice("barMatchSeriesColor",new B.bd({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.barMatchSeriesColor),{selector:d}),value:C.bar.matchSeriesColor}).build()).addSimpleSlice("barColor",new B.BT({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.barColor),{selector:d}),value:{value:C.bar.color}}).build(),function(h){return h.withDisabled(C.bar.matchSeriesColor)}).addSimpleSlice("barWidth",new B.mu({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.barWidth),{selector:d}),value:C.bar.width,options:{minValue:{type:0,value:1},maxValue:{type:1,value:10}}}).build()).addSimpleSlice("barBorderColor",new B.BT({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.barBorderColor),{selector:d}),value:{value:C.bar.borderColor}}).build()).addSimpleSlice("barBorderSize",new B.mu({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.barBorderSize),{selector:d}),value:C.bar.borderWidth,options:{minValue:{type:0,value:0},maxValue:{type:1,value:2},unitSymbol:c.e_}}).build())}).addGroup("markers",function(E){return E.withDisplayName("Visual_Markers").withDisabled(!C.hasUncertainty).addTopLevelToggle("markerShow",function(){return new B.bd({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.markerShow),{selector:d}),value:C.markers.show}).build()}).addSimpleSlice("markerShape",new B.uY({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.markerShape),{selector:d}),value:C.markers.shape,filterValues:i.Dt.map(function(h){return h.value})}).build()).addSimpleSlice("markerSize",new B.mu({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.markerSize),{selector:d}),value:C.markers.size,options:{minValue:{type:0,value:1},maxValue:{type:1,value:10},unitSymbol:c.e_}}).build())}),u?.hideBand||(A.fF.assertValue(C.band,"getUncertaintyFormattingContainer() - viewModel.band is not defined but is enumerated anyway"),O.addGroup("band",function(E){return E.withDisplayName("Visual_Error_Band").withDisabled(!C.hasUncertainty).addTopLevelToggle("shadeShow",function(){return new B.bd({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.shadeShow),{selector:d}),value:C.band.show}).build()}).addSimpleSlice("shadeBandStyle",new B.uY({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.shadeBandStyle),{selector:d}),value:C.band.bandStyle}).build()).addSimpleSlice("shadeMatchSeriesColor",new B.bd({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.shadeMatchSeriesColor),{selector:d}),value:C.band.matchSeriesColor}).build()).addSimpleSlice("shadeColor",new B.BT({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.shadeColor),{selector:d}),value:{value:C.band.color}}).build(),function(h){return h.withDisabled(C.band.matchSeriesColor)}).addSimpleSlice("shadeTransparency",B.JN.getTransparencySliderBuilder({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.shadeTransparency),{selector:d}),value:C.band.transparency,localize:a}).build())}));var v=C.labels,M={featureSwitches:{},hostServices:{getLocalizedString:a},options:{dataLabelsSettings:v,show:v.show,fontFamily:!0,fontSize:!0,bold:!0,italic:!0,underline:!0,matchSeriesColor:v.matchSeriesColor,enableBackground:v.enableBackground,backgroundColor:v.backgroundColor,backgroundTransparency:v.backgroundTransparency},omitGroupDisplayNames:!0,cardBuilder:void 0,selector:d,dataLabelsProps:{fontFamily:P.Qx.labelFontFamily,fontSize:P.Qx.labelFontSize,bold:P.Qx.labelBold,italic:P.Qx.labelItalic,underline:P.Qx.labelUnderline,matchSeriesColor:P.Qx.labelMatchSeriesColor,color:P.Qx.labelColor,enableBackground:P.Qx.labelBackground,backgroundColor:P.Qx.labelBackgroundColor,backgroundTransparency:P.Qx.labelBackgroundTransparency}};O.addGroup("labels",function(E){E.withDisplayName("Visual_Error_Labels").withDisabled(!C.hasUncertainty).addTopLevelToggle("labelShow",function(){return new B.bd({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.labelShow),{selector:d}),value:v.show}).build()}),(0,x.lJ)(E,M),E.addSimpleSlice("labelFormat",function(){return new B.uY({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.labelFormat),{selector:d}),value:v.errorFormat}).build()}),(0,p.td)(E,M,!0)}),O.addGroup("tooltip",function(E){return E.withDisplayName("Tooltip").withDisabled(!C.hasUncertainty).addTopLevelToggle("tooltipShow",function(){return new B.bd({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.tooltipShow),{selector:d}),value:C.tooltips.show}).build()}).addSimpleSlice("tooltipFormat",new B.uY({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.tooltipFormat),{selector:d}),value:C.tooltips.format}).build())})}},58691:function(Pe,Z,f){f.d(Z,{B9:function(){return v},DI:function(){return b},E6:function(){return u},EC:function(){return l},FZ:function(){return E},OY:function(){return M},Ok:function(){return a},YU:function(){return d},di:function(){return h},f:function(){return n},fM:function(){return r},iD:function(){return e},jx:function(){return x},xl:function(){return t}});var s=f(47998),A=f(79154),B=f(34644),P=f(60066),p=f(62458),x=(0,A.CH)("uncertainty"),c=(0,A.CH)("uncertainty-areas"),i=(0,A.CH)("uncertainty-area"),m=(0,A.CH)("uncertainty-lines"),S=(0,A.CH)("uncertainty-line"),O=(0,A.CH)("uncertainty-bars"),C=(0,A.CH)("uncertainty-bar"),d=(0,A.CH)("uncertainty-markers"),u=(0,A.CH)("uncertainty-marker"),a=(0,A.CH)("uncertainty-defs"),o=(0,A.CH)("uncertainty-marker-active");function v(T){return T.selectAll(x.selector).data([1]).join("g").attr("class",x.class)}function M(T){T.selectAll(x.selector).remove()}function E(T,F,V,U,G,ae,de){void 0===ae&&(ae=!1),void 0===de&&(de=!1);var ge=_.filter(F,function(y){return y.uncertainty.bar.show}),j=function(g){return(0,P.eR)(g.selected,g.highlight,de,ae)},R=T.selectAll(O.selector).data(ge,function(y){return y.identity.getKey()}).join("g").attr("class",O.class).style("fill",function(y){return y.uncertainty.bar.color}).style("stroke",function(y){return y.uncertainty.bar.borderColor}).style("stroke-width",function(y){return y.uncertainty.bar.borderWidth}).order();return R.each(function(y){if(null!=y&&!_.isEmpty(y.data)){var g=_.filter(y.data,function(D){var H,I;return!!D&&(!ae||D.highlight)&&((null===(H=D.uncertainty)||void 0===H?void 0:H.lower)||(null===(I=D.uncertainty)||void 0===I?void 0:I.upper))});d3.select(this).selectAll(C.selector).data(g,function(D){return D.identity.getKey()}).join("path").attr("class",C.class).attr("transform",U).style("fill-opacity",function(D){return de?j(D):null}).style("stroke-opacity",function(D){return de?j(D):null}).attr("d",function(D){return d3.symbol().type(function(T,F,V){return{draw:function(G,ae){var de,ge;if(null!=T.uncertainty){var j=null!=T.uncertainty.upper,R=null!=T.uncertainty.lower;if(j||R){var y=V(T.uncertainty.upper)-V(T.value),g=V(T.uncertainty.lower)-V(T.value),D=.5*(F.width+F.borderWidth),H=!!F.isHorizontal,I=V.range()[0]<V.range()[1];(H&&!I||!H&&I)&&(g=(de=[y,g])[0],y=de[1],R=(ge=[j,R])[0],j=ge[1]),H?(j?(G.moveTo(y,D),G.lineTo(y,-D)):(G.moveTo(0,D),G.lineTo(0,-D)),R?(G.lineTo(g,-D),G.lineTo(g,D)):(G.lineTo(0,-D),G.lineTo(0,D))):(j?(G.moveTo(D,y),G.lineTo(-D,y)):(G.moveTo(D,0),G.lineTo(-D,0)),R?(G.lineTo(-D,g),G.lineTo(D,g)):(G.lineTo(-D,0),G.lineTo(D,0))),G.closePath()}}}}}(D,y.uncertainty.bar,V(D))).size(G)()})}}),R}function h(T,F,V,U,G,ae,de,ge){void 0===de&&(de=!1),void 0===ge&&(ge=!1);var j=_.filter(F,function(g){return g.uncertainty.markers.show}),R=T.selectAll(d.selector).data(j,function(g){return g.identity.getKey()}).join("g").attr("class",d.class).style("stroke-opacity",0).style("stroke-width",2).order();return w(R.selectAll(u.selector).data(function(g){return _.map(["upper","lower"],function(D){return{seriesData:g,type:D}})}).join("path").attr("class",u.class).style("stroke-width","inherit").style("opacity",de?(0,P.eR)(!1,!0,de,ge):null).attr("d",function(g){return"upper"===g.type&&!G||"lower"===g.type&&G?V(g.seriesData.data):U(g.seriesData.data)}),ae),R}function l(T,F,V,U,G,ae){var de=_.filter(F,function(ge){return ge.uncertainty.band.show});T.selectAll(c.selector).data(de,function(ge){return ge.identity.getKey()}).join("g").attr("class",c.class).order().each(function(ge){if(null!=ge&&!_.isEmpty(ge.data)){var j=ge.uncertainty.band,R=d3.select(this),y=_.filter(ge.data,function(I){return!!I}),g=j.bandStyle!==s.X$.line?["0"]:[];R.selectAll(i.selector).data(g,function(I){return I}).join("path").attr("class",i.class).style("fill",j.color).style("fill-opacity",ae(ge,j.transparency)).attr("d",G(y));var D=j.bandStyle!==s.X$.fill?["0"]:[];R.selectAll(m.selector).data(D,function(I){return I}).join("g").attr("class",m.class).style("stroke",j.color).style("stroke-opacity",ae(ge,j.transparency)).style("stroke-width",2).selectAll(S.selector).data(["upper","lower"],function(I){return I}).join("path").attr("class",S.class).attr("d",function(I){return"upper"===I?V(y):U(y)})}})}function r(T,F){T.selectAll(c.selector).each(function(V){var U=V.uncertainty.band.transparency,G=d3.select(this);G.selectAll(i.selector).style("fill-opacity",F(V,U)),G.selectAll(m.selector).style("stroke-opacity",F(V,U))}),T.selectAll(O.selector).style("fill-opacity",function(V){return F(V)}).style("stroke-opacity",function(V){return F(V)}),T.selectAll(u.selector).style("opacity",function(V){return F(V.seriesData)})}function n(T,F,V){var U,G,ae;T&&(null===(U=T.bars)||void 0===U||U.each(function(){d3.select(this).selectAll(C.selector).style("fill-opacity",function(de){return F?(0,P.eR)(de.selected,de.highlight,F,V):null}).style("stroke-opacity",function(de){return F?(0,P.eR)(de.selected,de.highlight,F,V):null})}),null===(G=T.markerPaths)||void 0===G||G.style("opacity",F?(0,P.eR)(!1,!0,F,V):null),null===(ae=T.updateActiveHighlightMarkers)||void 0===ae||ae.call(T,F,V))}function t(T,F,V,U,G,ae,de){ae?w(T.selectAll(o.selector).data(function(j){return _.map(["upper","lower"],function(R){return{seriesData:{uncertainty:j.uncertainty,identity:j.identity,data:_.filter(j.data,function(y){return y.selected&&y.uncertainty&&(y.highlight||!de)})},type:R}})}).join("path").attr("class",o.class).style("stroke-width","inherit").attr("d",function(j){return"upper"===j.type&&!U||"lower"===j.type&&U?F(j.seriesData.data):V(j.seriesData.data)}),G):T.selectAll(o.selector).remove()}function e(T,F){for(var V=0,U=T;V<U.length;V++){var G=U[V];F.push(G.uncertainty.markers),G.uncertainty.markersFlipped&&F.push(G.uncertainty.markersFlipped)}}function w(T,F){function V(U){var G=U.seriesData.uncertainty.markers;switch(U.type){case"upper":return F.getMarkerKey(G);case"lower":return F.getMarkerKey(U.seriesData.uncertainty.markersFlipped||G);default:p.fF.assertNever(U.type)}}T.attr("marker-start",V).attr("marker-mid",V).attr("marker-end",V)}function b(T){(0,B.LL)(T,[c,O,d])}},44196:function(Pe,Z,f){f.d(Z,{$w:function(){return p},O2:function(){return i},Ww:function(){return c},kS:function(){return x}});var s=f(62458),A=f(72489),B=f(77558),P=f(61193);function p(m,S,O,C,d,u){if(null!=S&&null!=m&&null!=d&&O.tooltips.show){var a=null!=m.lower,o=null!=m.upper,v=x(m,S,O,C,d,u);s.fF.assert(function(){return O.tooltips.format===B.K.range?1===v.length:a&&o?2===v.length:a||o?1===v.length:0===v.length},"setUncertaintyTooltipItems - wrong number of tooltip items added"),O.tooltips.format===B.K.range?m.rangeTooltip=v.shift():(a&&(m.lowerTooltip=v.shift()),o&&(m.upperTooltip=v.shift()))}}function x(m,S,O,C,d,u){if(void 0===u&&(u={}),null!=S&&null!=m&&null!=d&&O.tooltips.show){var a=O.tooltips.format,o=c(S,m,a),v=o.lower,M=o.upper,E=u.hideMarker,h=u.overrideDisplayName,l=function(b){return a===B.K.relativePercentage?i(b,d):C(b)},r=[];switch(a){case B.K.range:var n=l(S),t=null!=v?l(v):"",e=null!=M?l(M):"";r.push({displayName:h||d.getLocalizedString("Value"),value:d.getLocalizedString("Visual_Error_Tooltip_Range",n,t,e)});break;case B.K.absolute:case B.K.relativeNumeric:case B.K.relativePercentage:null!=v&&r.push({displayName:h||d.getLocalizedString("Visual_Error_Tooltip_Lower"),value:l(v),marker:E?void 0:{show:!0,shape:P.ZO.lowerErrorBar,color:O.bar.color}}),null!=M&&r.push({displayName:h||d.getLocalizedString("Visual_Error_Tooltip_Upper"),value:l(M),marker:E?void 0:{show:!0,shape:P.ZO.upperErrorBar,color:O.bar.color}});break;default:s.fF.assertNever(a)}return r}}function c(m,S,O){var C=S.lower,d=S.upper;switch(O){case B.K.relativeNumeric:null!=C&&(C-=m),null!=d&&(d-=m);break;case B.K.relativePercentage:null!=C&&(C=(C-m)/m),null!=d&&(d=(d-m)/m);break;case B.K.absolute:case B.K.range:break;default:s.fF.assertNever(O)}return{lower:C,upper:d}}function i(m,S){return m===-1/0||m===1/0?S.getLocalizedString("ManageDatasets_NextRefresh_NA"):(0,A.WU)(m,S.getLocalizedString("Percentage"))}},30053:function(Pe,Z,f){f.d(Z,{a:function(){return B}});var s=f(39681),A=f(82755),B=function(){function P(){}return P.getResponsiveVisualProperties=function(p,x){var c={responsive:!1,responsiveLegacy:!1};if(!p||!p.metadata)return c;var i=p.metadata.objects;return i&&(c.responsive=(0,A.NA)(i,x.general.responsive,c.responsive),x.general.responsiveLegacy&&(c.responsiveLegacy=(0,A.NA)(i,x.general.responsiveLegacy,c.responsiveLegacy))),c},P.cloneData=function(p){var x=_.cloneDeep(p);return(0,s.Zx)(p,x),x},P.shouldApplyResponsiveChanges=function(p,x){return P.getResponsiveVisualProperties(p,x).responsive},P}()},70450:function(Pe,Z,f){f.d(Z,{x:function(){return x}});var s=f(79154),A=f(62458),B=f(10389),P=function(c){return c[c.None=0]="None",c[c.DraggingThumb=1]="DraggingThumb",c[c.BackgroundClicked=2]="BackgroundClicked",c[c.InitialPagingDelay=3]="InitialPagingDelay",c[c.Paging=4]="Paging",c}({}),p=function(c){return c[c.none=0]="none",c[c.active=1]="active",c}({}),x=function(){function c(i){this.brushType=p.none,this.scrollingMode=P.None,this.brushWidth=i.scrollbarWidth,this.brushContextAdditionalClass=i.scrollbarClass,this.onExtentUpdate=i.onExtentUpdate,this.updateBrushRadius(i.scrollbarRadius)}return c.prototype.updateBrushRadius=function(i){A.fF.assertAnyValue(i,"radius can be null"),this.brushRadius=i??c.defaultBrushRadius},c.prototype.updateScrollbarOptions=function(i){this.brushWidth=i.scrollbarWidth,this.updateBrushRadius(i.scrollbarRadius);var m=i.scrollbarClass,S=this.brushContextAdditionalClass;this.brushContextAdditionalClass=m,this.brushGraphicsContext&&S!==m&&this.brushGraphicsContext.classed(S,!1).classed(m,!!m)},c.prototype.init=function(i){this.element=i},c.prototype.remove=function(){this.isInitialized=!1,this.element.selectAll(c.Brush.selector).remove(),this.brush&&(this.brush.on(c.events.start,null).on(c.events.brush,null).on(c.events.end,null),this.brush=void 0,this.brushType=p.none),this.brushGraphicsContext=void 0,this.clearRenderingTimeout()},c.prototype.getExtent=function(){return this.extent?{start:this.extent[0],end:this.extent[1]}:{start:0,end:0}},c.prototype.setExtent=function(i){var S,O,C,m=this;if(A.fF.assert(function(){return null!=i.start||null!=i.end},"At least the start or end value for the extent must be given."),null==i.start||null==i.end?(C=this.getExtentLength(),null==i.start?i.start=i.end-C:i.end=i.start+C):C=i.end-i.start,C>this.scrollBarLength)A.fF.assert(function(){return m.scrollBarLength>=C},"extentLength should not be greater than scrollBarLength.");else{var d=this.getExtent().start;i=c.clampExtent(i,this.scrollBarLength,C),this.scrollingMode!==P.None&&(this.offset=i.start-d,this.previousBrushExtent=i),this.extent=[i.start,i.end],this.brushType===p.active&&null!==(O=null===(S=this.brushGraphicsContext)||void 0===S?void 0:S.node().__brush)&&void 0!==O&&O.selection&&(this.brushGraphicsContext.node().__brush.selection=this.isHorizontal?[[i.start,0],[i.end,this.brushWidth]]:[[0,i.start],[this.brushWidth,i.end]])}},c.prototype.getExtentLength=function(){var i=this.getExtent();return i.end-i.start},c.prototype.setExtentLength=function(i){A.fF.assert(function(){return i>=0},"extentLength must be 0 or greater");var m=this.getExtent();m.end=m.start+i,this.setExtent(m)},c.prototype.setScale=function(i,m){if(this.brushType=m?p.none:p.active,this.brushType===p.active){var S=i.range();this.isHorizontal?(this.brush=d3.brushX(),this.brush.extent([[S[0],0],[S[1],this.brushWidth]])):(this.brush=d3.brushY(),this.brush.extent([[0,S[0]],[this.brushWidth,S[1]]]))}},c.prototype.setOrientation=function(i){this.isHorizontal=i},c.prototype.render=function(i,m,S,O,C){var d=this;this.brushGraphicsContext||(this.brushGraphicsContext=this.element.append("g").classed(c.Brush.class,!0).classed(this.brushContextAdditionalClass,!!this.brushContextAdditionalClass)),this.onRefreshVisualCallback=S;var u=this.brushGraphicsContext.attrs({transform:(0,B.Iu)(i,m),"drag-resize-disabled":"true"});this.brushType!==p.none&&(u=u.call(this.brush)),this.brushType===p.active&&!this.isInitialized&&(this.isInitialized=!0,this.brushGraphicsContext.call(this.brush.move,this.extent)),this.brushType!==p.none&&this.brush.on("start",function(){d.previousBrushExtent=d.getExtent(),d.extent=d3.event.selection,d.handleDrag()}).on("brush",function(){d.extent=d3.event.selection,O&&C?.onVisualScroll(),d.handleDrag()}).on("end",function(){d.setExtent(d.previousBrushExtent),d.refreshExtent(),d.previousBrushExtent=null,d.startBrushExtent=null,d.pointerPosition=null,d.scrollingMode=P.None,d.offset=null,null!=d.timeoutId&&(window.clearTimeout(d.timeoutId),d.timeoutId=null)}),u.selectAll(".handle").remove();var a={rx:this.brushRadius,ry:this.brushRadius};this.isHorizontal?a.height=this.brushWidth:a.width=this.brushWidth,u.selectAll("rect").attrs(a)},c.prototype.handleDrag=function(){var i=this.previousBrushExtent?this.previousBrushExtent.end-this.previousBrushExtent.start:0,m=this.getExtent(),S=!1;this.scrollingMode===P.None&&(m.start<0&&0===m.end?m.start=0:m.start===this.scrollBarLength&&m.end>this.scrollBarLength&&(m.end=this.scrollBarLength),this.scrollingMode=c.isBackgroundClickExtent(m)?P.BackgroundClicked:P.DraggingThumb,this.startBrushExtent=m),null!=this.offset&&(m.start+=this.offset,m.end+=this.offset);var O=this.getExtentLength();switch(m=c.clampExtent(m,this.scrollBarLength,O),this.pointerPosition=this.getPointerPosition(),this.scrollingMode){case P.DraggingThumb:i>0&&i!==m.end-m.start&&(m.end=m.start+i),S=!0;break;case P.BackgroundClicked:if(c.CenterOnBackgroundClick){var d=O/2;m.start=this.pointerPosition-d,m.end=this.pointerPosition+d}else{var C=m.start>this.previousBrushExtent.start;m=c.stepExtent(this.previousBrushExtent,C),this.scrollingMode=P.InitialPagingDelay,this.setStepTimeout(C,m)}S=!0;break;case P.InitialPagingDelay:case P.Paging:m=this.previousBrushExtent}this.onExtentUpdate?this.onExtentUpdate(m):(S&&this.refreshVisual(),this.setExtent(m),this.refreshExtent(),this.previousBrushExtent=m)},c.prototype.shouldContinueStepping=function(i,m){return 0!==m.start&&m.end!==i&&!(this.pointerPosition>=m.start&&this.pointerPosition<=m.end)},c.prototype.getPointerPosition=function(){var i=this.getExtent();return c.isBackgroundClickExtent(this.startBrushExtent)?i.start<this.startBrushExtent.start?i.start:i.end:(i.end-i.start)/2},c.prototype.refreshExtent=function(){var i=this.getExtent(),m=this.getExtentLength();this.brushGraphicsContext.select(".selection").attrs(this.isHorizontal?{width:m,x:i.start}:{height:m,y:i.start})},c.prototype.refreshVisual=function(){var i=this;this.onRefreshVisualCallback&&(this.clearRenderingTimeout(),this.renderTimeoutHandle=window.requestAnimationFrame(function(){i.renderTimeoutHandle=void 0,i.onRefreshVisualCallback()}))},c.prototype.clearRenderingTimeout=function(){this.renderTimeoutHandle&&(window.cancelAnimationFrame(this.renderTimeoutHandle),this.renderTimeoutHandle=void 0),null!=this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)},c.prototype.refreshExtentAndVisual=function(){this.refreshExtent(),this.refreshVisual()},c.prototype.setStepTimeout=function(i,m){var S=this;this.shouldContinueStepping(this.scrollBarLength,m)&&(this.timeoutId=_.delay(function(){S.onPagingTimeoutExpired(i)},this.scrollingMode===P.InitialPagingDelay?c.InitialPagingDelayMS:c.PagingDelayMS))},c.isBackgroundClickExtent=function(i){return i.start===i.end},c.stepExtent=function(i,m){var S=i.end-i.start;return i.start=m?i.start+S:i.start-S,i.end=m?i.end+S:i.end-S,i},c.prototype.onPagingTimeoutExpired=function(i){this.scrollingMode!==P.Paging&&(this.scrollingMode=P.Paging);var m=this.getExtent(),S=c.stepExtent(m,i);this.setExtent(S),this.refreshExtentAndVisual(),this.previousBrushExtent=m,this.setStepTimeout(i,S)},c.clampExtent=function(i,m,S){return A.fF.assert(function(){return m>=S},"extentLength should not be greater than scrollBarLength"),i.end>m?{start:m-S,end:m}:i.start<0?{start:0,end:S}:i},c.InitialPagingDelayMS=500,c.PagingDelayMS=50,c.defaultBrushRadius=0,c.CenterOnBackgroundClick=!1,c.events={start:"start",brush:"brush",end:"end"},c.Brush=(0,s.CH)("brush"),c}()},68983:function(Pe,Z,f){f.d(Z,{S:function(){return i}});var s=f(38308),A=f(62458),B=f(45875),c=function(){function m(S){this.$select=S}return m.prototype.execute=function(S){if(this.$select.selectmenu("instance"))return this.$select.selectmenu(S)},m}(),i=function(){function m(S){this.isOpened=!1,A.fF.assertValue(S.container,"container"),this.settings=S,this.init(),this.applyStyles(),this.setValue(this.settings.selectedValue)}return m.prototype.destroy=function(){this.selectMenu.execute("destroy")},m.prototype.update=function(S){_.extend(this.settings,S),m.populateOptions(this.$select,this.settings.options),null!=this.settings.selectedValue&&this.setValue(this.settings.selectedValue),this.refresh(),this.applyStyles(),this.applyState()},m.prototype.disableOption=function(S){for(var O=this.$select.find("option"),C=0;C<O.length;C++){var d=O[C];d.getAttribute("value")===S&&d.setAttribute("disabled","true")}this.refresh()},m.prototype.enableOption=function(S){for(var O=this.$select.find("option"),C=0;C<O.length;C++){var d=O[C];d.getAttribute("value")===S&&d.setAttribute("disabled","false")}this.refresh()},m.prototype.close=function(){this.selectMenu.execute("close")},m.prototype.setValue=function(S){this.$select.val(S)},m.prototype.init=function(){var O,C,S=this;this.$select=(0,s.Ys)(),this.$select.attr("drag-resize-disabled","true").appendTo(this.settings.container),m.populateOptions(this.$select,this.settings.options),this.$select.selectmenu({open:function(){S.isOpened=!0,B.Ck.fixWidgetPosition(S.menuWidget,S.widget,{left:-0,top:0},!0)},select:function(u){u.stopPropagation()},width:"auto",close:function(u){S.isOpened=!1,27===u.keyCode&&(u.stopPropagation(),u.preventDefault())}}),this.selectMenu=new c(this.$select),this.settings.onChange&&this.$select.on("selectmenuchange",function(d,u){S.settings.onChange(u.item.value)}),this.applyState(),this.widget=this.selectMenu.execute("widget"),this.settings.title&&this.widget.attr("aria-label",this.settings.title),this.widget.attr("role","combobox").removeAttr("aria-autocomplete"),this.widget.on("keydown",function(d){(40===d.keyCode||38===d.keyCode||37===d.keyCode||39===d.keyCode)&&(S.isOpened||S.selectMenu.execute("open"),d.stopPropagation()),d.preventDefault()}),this.menuWidget=null===(O=this.selectMenu.execute("menuWidget"))||void 0===O?void 0:O.parent(),null===(C=this.menuWidget)||void 0===C||C.addClass(this.settings.className+" themeableElement highContrastBorder")},m.prototype.applyState=function(){this.selectMenu.execute(this.settings.disabled?"disable":"enable")},m.prototype.applyStyles=function(){this.settings.css&&this.widget.css(this.settings.css)},m.prototype.refresh=function(){this.selectMenu.execute("refresh"),this.updateAria()},m.prototype.updateAria=function(){var S=this;setTimeout(function(){if(S.settings.title)S.widget.removeAttr("aria-labelledby");else{var O=S.widget.attr("id"),C=S.widget.attr("aria-labelledby").replace(O,"").trim();S.widget.attr("aria-labelledby",C+" "+O)}var d=S.widget.attr("aria-owns");null!=d&&(S.widget.attr("aria-controls",d),S.widget.removeAttr("aria-owns")),S.widget.attr("aria-haspopup")&&S.widget.attr("aria-haspopup","listbox"),S.widget.removeAttr("title"),S.widget.find(".ui-selectmenu-icon").attr("aria-hidden","true"),S.updateMenuItemAria()})},m.prototype.updateMenuItemAria=function(){var S=this;this.menuWidget.find(".ui-menu-item").each(function(C,d){var u=$(d);u.attr("role","none");var a=u.find(".ui-menu-item-wrapper");u.hasClass("ui-state-disabled")&&(a.attr("aria-disabled","true"),u.removeAttr("aria-disabled"));var o=S.menuWidget.find(".ui-menu").attr("aria-activedescendant");a.attr("aria-selected",function(){return a.attr("id")===o?"true":"false"})})},m.populateOptions=function(S,O){S.find("option").remove();for(var C=0,d=O;C<d.length;C++){var u=d[C];$("<option ></option>").attr("value",u.value).text(u.text).appendTo(S)}},m}()},72494:function(Pe,Z,f){f.d(Z,{Q:function(){return m}});var s=f(62458),A=f(56707),B=f(63972),P=f(86745),m=function(){function O(){}return O.prototype.layout=function(C,d,u,a){var o=_.map(C,function(U){return{labelDataPoint:U}});if(a||void 0===this.labels){for(var v={labelDataPoints:o,maxNumberOfLabels:o.length},M=0,E=o;M<E.length;M++){var h=E[M];h.labelSize={width:(l=h.labelDataPoint).textSize.width+2*A.Bo,height:l.textSize.height+2*A.d1}}for(var r=new B.qC([v],d),n=[],t=[],e=0,w=C;e<w.length;e++){var b=(l=w[e]).parentShape.polygon;t.push(b),b.pixelBoundingRect=u.applyToRect(b.absoluteBoundingRect())}for(var L=new S(t,d),T=0,F=C;T<F.length;T++){var l,V=this.getLabelByPolygonPositions(l=F[T],u,r,L);null!=V&&n.push(V)}this.labels=n}else this.updateLabelOffsets(u);return _.filter(this.labels,function(U){return U.isVisible})},O.prototype.getLabelPolygon=function(C,d,u,a){return this.getLabelBoundingBox({width:C.textSize.width,height:C.textSize.height},d,u,a)},O.prototype.getLabelBoundingBox=function(C,d,u,a){switch(d){case 1:return(0,P.aE)(C,u,a);case 2:return(0,P.B2)(C,u,a);case 4:return(0,P.t$)(C,u,a);case 8:return(0,P.F2)(C,u,a);case 128:return(0,P.Q$)(C,u,a);case 64:return(0,P.kx)(C,u,a);case 32:return(0,P.I6)(C,u,a);case 16:return(0,P.W7)(C,u,a);case 256:return(0,P.be)(C,u);default:s.fF.assertFail("Unsupported label position")}return null},O.prototype.getLabelByPolygonPositions=function(C,d,u,a){for(var o=0,v=d.getInverse(),M=0;M<2;M++){1===M&&(o=5);for(var E=0,h=C.parentShape.validPositions;E<h.length;E++){var r=this.tryPositionForPolygonPosition(l=h[E],C,d,o,v);if((256!==l||0===M)&&r){var n=d.applyToRect(r);return{text:C.text,secondRowText:C.secondRowText,boundingBox:n,isVisible:!0,fontProperties:{color:C.insideFill},identity:null,selected:!1,hasBackground:!0,textAnchor:"middle",originalPixelOffset:o,isPlacedInsidePolygon:!0,absoluteBoundingBoxCenter:{x:r.left+r.width/2,y:r.top+r.height/2}}}}}for(var e=6;e<=60;){for(var w=0,b=C.parentShape.validPositions;w<b.length;w++){var l;if(256!==(l=b[w])){var L=C.parentShape.polygon,T=d.applyToPoint(L.absoluteCentroid()),F=this.tryPlaceLabelOutsidePolygon(u,l,C,e,T,a,v);if(F){n=d.applyToRect(F);var t={text:C.text,secondRowText:C.secondRowText,boundingBox:n,isVisible:!0,fontProperties:{color:C.insideFill},identity:null,selected:!1,hasBackground:!0,isPlacedInsidePolygon:!1,textAnchor:"middle",originalPixelOffset:e,originalPosition:l,originalAbsoluteCentroid:L.absoluteCentroid(),absoluteBoundingBoxCenter:{x:F.left+F.width/2,y:F.top+F.height/2}},V=this.calculateStemSource(d,v,L,n,l,T);return t.leaderLinePoints=this.setLeaderLinePoints(V,this.calculateStemDestination(n,l)),t.absoluteStemSource=v.applyToPoint(V),u.add(n),t}}}e+=10}return null},O.prototype.setLeaderLinePoints=function(C,d){return[[C.x,C.y],[d.x,d.y]]},O.prototype.calculateStemSource=function(C,d,u,a,o,v){var M=u.lineIntersectionPoint(u.absoluteCentroid(),d.applyToPoint({x:a.left+a.width/2,y:a.top+a.height/2}));if(null==M)return v;var E=C.applyToPoint(M);switch(o){case 1:E.y+=5;break;case 2:E.y-=5;break;case 4:E.x+=5;break;case 8:E.x-=5;break;case 128:E.x+=5/P.nK,E.y+=5/P.fB;break;case 64:E.x-=5/P.nK,E.y+=5/P.fB;break;case 32:E.x+=5/P.nK,E.y-=5/P.fB;break;case 16:E.x-=5/P.nK,E.y-=5/P.fB;break;case 256:break;default:s.fF.assertFail("Unsupported label position")}return E},O.prototype.calculateStemDestination=function(C,d){var u,a;switch(d){case 1:u=C.left+C.width/2,a=C.top+C.height;break;case 2:u=C.left+C.width/2,a=C.top;break;case 4:u=C.left+C.width,a=C.top+C.height/2;break;case 8:u=C.left,a=C.top+C.height/2;break;case 128:u=C.left+C.width,a=C.top+C.height;break;case 64:u=C.left,a=C.top+C.height;break;case 32:u=C.left+C.width,a=C.top;break;case 16:u=C.left,a=C.top;break;case 256:break;default:s.fF.assertFail("Unsupported label position")}return{x:u,y:a}},O.prototype.tryPositionForPolygonPosition=function(C,d,u,a,o){var v=d.parentShape.polygon,M=u.applyToPoint(v.absoluteCentroid()),E=this.getLabelPolygon(d,C,M,a),h=this.getAbsoluteRectangle(o,E);return v.contains(h)?h:null},O.prototype.tryPlaceLabelOutsidePolygon=function(C,d,u,a,o,v,M){var h=this.getLabelPolygon(u,d,o,a);if(!C.hasConflict(h)){var r=this.getAbsoluteRectangle(M,h);if(!v.hasConflict(r,h))return r}return null},O.prototype.updateLabelOffsets=function(C){for(var d=0,u=this.labels;d<u.length;d++){var a=u[d];if(a.isVisible)if(a.isPlacedInsidePolygon){var o=C.applyToPoint(a.absoluteBoundingBoxCenter),v=a.boundingBox.left+a.boundingBox.width/2-o.x;a.boundingBox.top-=a.boundingBox.top+a.boundingBox.height/2-o.y,a.boundingBox.left-=v}else{var E=C.applyToPoint(a.absoluteStemSource),h=C.applyToPoint(a.originalAbsoluteCentroid);a.boundingBox=this.getLabelBoundingBox({width:a.boundingBox.width,height:a.boundingBox.height},a.originalPosition,h,a.originalPixelOffset),void 0!==a.leaderLinePoints&&(a.leaderLinePoints=this.setLeaderLinePoints(E,this.calculateStemDestination(a.boundingBox,a.originalPosition)))}}},O.prototype.getAbsoluteRectangle=function(C,d){return C.applyToRect(d)},O}(),S=function(){function O(C,d){for(var u=0,a=0,o=0,v=C;o<v.length;o++){var E=v[o].pixelBoundingRect;E.width>u&&(u=E.width),E.height>a&&(a=E.height)}0===u&&(u=d.width),0===a&&(a=d.height);var h=this.cellSize={width:u*O.cellSizeMultiplier,height:a*O.cellSizeMultiplier};this.columnCount=O.getCellCount(h.width,d.width,1,100),this.rowCount=O.getCellCount(h.height,d.height,1,100);for(var l=[],r=0,n=this.columnCount;r<n;r++){l[r]=[];for(var t=0,e=this.rowCount;t<e;t++)l[r][t]=[]}this.grid=l;for(var w=0,b=C;w<b.length;w++)this.add(b[w])}return O.prototype.hasConflict=function(C,d){for(var u=this.getContainingGridSubsection(d),a=this.grid,o=u.xMin;o<u.xMax;o++)for(var v=u.yMin;v<u.yMax;v++)for(var M=0,E=a[o][v];M<E.length;M++)if(E[M].conflicts(C))return!0;return!1},O.prototype.add=function(C){for(var d=this.getContainingGridSubsection(C.pixelBoundingRect),u=d.xMin;u<d.xMax;u++)for(var a=d.yMin;a<d.yMax;a++)this.grid[u][a].push(C)},O.prototype.getContainingGridSubsection=function(C){return{xMin:O.bound(Math.floor(C.left/this.cellSize.width),0,this.columnCount),xMax:O.bound(Math.ceil((C.left+C.width)/this.cellSize.width),0,this.columnCount),yMin:O.bound(Math.floor(C.top/this.cellSize.height),0,this.rowCount),yMax:O.bound(Math.ceil((C.top+C.height)/this.cellSize.height),0,this.rowCount)}},O.getCellCount=function(C,d,u,a){return O.bound(Math.ceil(d/C),u,a)},O.bound=function(C,d,u){return Math.max(Math.min(C,u),d)},O.cellSizeMultiplier=2,O}()},43906:function(Pe,Z,f){f.d(Z,{F:function(){return A},S:function(){return B}});var s=f(54522);function A(P){return function(p,x,c){return(0,s.xq)(p,x,P,!0,c)}}function B(P){return function(p,x,c){return(0,s.xq)(p,x,P,!1,c)}}},63972:function(Pe,Z,f){f.d(Z,{qC:function(){return o},nu:function(){return v}});var s=f(81337),A=f(62458),B=f(41640),P=f(80758),p=f(56707),x=f(18664),c=f(20624),i=f(86745);function m(t,e,w){var L=t.labelDataPoint.parentShape;if(null!=L)switch(e){case 1:case 32:switch(L.orientation){case 1:case 2:return(0,i.Vq)(t.labelSize,L.rect,w);case 3:case 4:return(0,i.um)(t.labelSize,L.rect,w)}case 2:case 64:switch(L.orientation){case 1:return(0,i.jb)(t.labelSize,L.rect,w);case 2:return(0,i.ug)(t.labelSize,L.rect,w);case 3:return(0,i.e6)(t.labelSize,L.rect,w);case 4:return(0,i.QS)(t.labelSize,L.rect,w)}case 4:case 128:switch(L.orientation){case 1:return(0,i.ug)(t.labelSize,L.rect,w);case 2:return(0,i.jb)(t.labelSize,L.rect,w);case 3:return(0,i.QS)(t.labelSize,L.rect,w);case 4:return(0,i.e6)(t.labelSize,L.rect,w)}case 8:switch(L.orientation){case 1:return(0,i.O5)(t.labelSize,L.rect,w);case 2:return(0,i.ZN)(t.labelSize,L.rect,w);case 3:return(0,i._f)(t.labelSize,L.rect,w);case 4:return(0,i.cx)(t.labelSize,L.rect,w)}case 16:switch(L.orientation){case 1:return(0,i.ZN)(t.labelSize,L.rect,w);case 2:return(0,i.O5)(t.labelSize,L.rect,w);case 3:return(0,i.cx)(t.labelSize,L.rect,w);case 4:return(0,i._f)(t.labelSize,L.rect,w)}default:A.fF.assertFail("Unsupported label position")}return null}var O=f(54086),C=f(46769),d=f(19744),u=f(45028),a=f(63892),o=function(){function t(e,w){this.viewport=w;for(var b=0,L=0,T=0,F=e;T<F.length;T++)for(var U=0,G=F[T].labelDataPoints;U<G.length;U++){var de=G[U].labelSize;de.width>b&&(b=de.width),de.height>L&&(L=de.height)}0===b&&(b=w.width),0===L&&(L=w.height);var ge=this.cellSize={width:b*t.cellSizeMultiplier,height:L*t.cellSizeMultiplier};this.columnCount=t.getCellCount(ge.width,w.width,1,100),this.rowCount=t.getCellCount(ge.height,w.height,1,100);for(var j=[],R=0,y=this.columnCount;R<y;R++){j[R]=[];for(var g=0,D=this.rowCount;g<D;g++)j[R][g]=[]}this.grid=j}return t.prototype.add=function(e){var w=this;A.fF.assert(function(){return(0,B.bA)(e.left,0)&&(0,B.bl)(e.left+e.width,w.viewport.width)&&(0,B.bA)(e.top,0)&&(0,B.bl)(e.top+e.height,w.viewport.height)},"LabelArrangeGrid.add received a rectangle outside the grid");for(var b=this.getContainingGridSubsection(e),L=b.xMin;L<b.xMax;L++)for(var T=b.yMin;T<b.yMax;T++)this.grid[L][T].push(e)},t.prototype.addCheckSeries=function(e){for(var w=this.getContainingGridSubsection(e),b=w.xMin;b<w.xMax;b++)for(var L=w.yMin;L<w.yMax;L++)this.grid[b][L].push(e)},t.prototype.hasConflict=function(e){return!this.isWithinGridViewport(e)||this.hasCollision(e)},t.prototype.tryPositionInViewport=function(e){if(this.isCloseToGridViewport(e)&&(this.isWithinGridViewport(e)||(e=this.tryMoveInsideViewport(e)),e&&!this.hasCollision(e)))return e},t.prototype.trySeriesLabelPositionInViewport=function(e){if(this.isCloseToGridViewport(e)&&(this.isWithinGridViewport(e)||(e=this.trySeriesLabelMoveInsideViewport(e)),e&&!this.hasCollision(e)))return e},t.prototype.hasCollision=function(e){for(var w=this.getContainingGridSubsection(e),b=this.grid,L=P.HL,T=w.xMin;T<w.xMax;T++)for(var F=w.yMin;F<w.yMax;F++)for(var V=0,U=b[T][F];V<U.length;V++)if(L(U[V],e))return!0;return!1},t.prototype.isWithinGridViewport=function(e){return e.left>=0&&e.top>=0&&e.left+e.width<=this.viewport.width&&e.top+e.height<=this.viewport.height},t.prototype.isCloseToGridViewport=function(e){return e.left+e.width>=0-e.width&&e.top+e.height>=-e.height&&e.left<=this.viewport.width+e.width&&e.top<=this.viewport.height+e.height},t.prototype.tryMoveInsideViewport=function(e){var w=(0,P.d9)(e),b=this.viewport;if(!(e.width>b.width||e.height>b.height))return e.left<0?w.left=0:e.left+e.width>b.width&&(w.left-=e.left+e.width-b.width),e.top<0?w.top=0:e.top+e.height>b.height&&(w.top-=e.top+e.height-b.height),w},t.prototype.trySeriesLabelMoveInsideViewport=function(e){var w=(0,P.d9)(e),b=this.viewport;if(!(e.height>b.height))return e.left<0&&(w.left=0),e.top<0?w.top=0:e.top+e.height>b.height&&(w.top-=e.top+e.height-b.height),w},t.prototype.getContainingGridSubsection=function(e){return{xMin:t.bound(Math.floor(e.left/this.cellSize.width),0,this.columnCount),xMax:t.bound(Math.ceil((e.left+e.width)/this.cellSize.width),0,this.columnCount),yMin:t.bound(Math.floor(e.top/this.cellSize.height),0,this.rowCount),yMax:t.bound(Math.ceil((e.top+e.height)/this.cellSize.height),0,this.rowCount)}},t.getCellCount=function(e,w,b,L){return t.bound(Math.ceil(w/e),b,L)},t.bound=function(e,w,b){return Math.max(Math.min(e,b),w)},t.cellSizeMultiplier=2,t}(),v=function(){function t(e){this.startingOffset=e.startingOffset,this.maximumOffset=e.maximumOffset,null!=e.offsetIterationDelta?(A.fF.assert(function(){return e.offsetIterationDelta>0},"label offset delta must be greater than 0"),this.offsetIterationDelta=e.offsetIterationDelta):this.offsetIterationDelta=t.defaultOffsetIterationDelta,this.horizontalPadding=null!=e.horizontalPadding?e.horizontalPadding:t.defaultHorizontalPadding,this.verticalPadding=null!=e.verticalPadding?e.verticalPadding:t.defaultVerticalPadding,this.shrinkLeaderLinesForBestFit=!!e.shrinkLeaderLinesForBestFit,this.drawLeaderLinesIgnoreOffset=!!e.drawLeaderLinesIgnoreOffset,this.allowLeaderLines=!!e.allowLeaderLines,this.attemptToMoveLabelsIntoViewport=!!e.attemptToMoveLabelsIntoViewport}return t.prototype.computeLabelSize=function(e,w){var b,L=function(y){var g={width:0,height:0},D=y.textSize,H=D.width,I=D.height;return w===c.B.Vertical?(g.width=I,g.height=H):(g.width=H,g.height=I),e.wordBreak&&(g.height+=y.fontProperties.size.px),g},T={width:0,height:0};if((0,d.r)(e))for(var F=e.labelDataPointContents.length,V=0;V<F;V++){var G=e.contentLayout,ae=(b=L(e.labelDataPointContents[V])).width,de=b.height,ge=w===c.B.Vertical;if("MultiLine"===G)if(ge){var j=0!==V?p.i1:0;T.width=Math.max(T.width,de),T.height+=ae+j}else j=0!==V?p.i1:0,T.width=Math.max(T.width,ae),T.height+=de+j;else"SingleLine"===G&&(ge?(j=0!==V?p.uM:0,T.width=Math.max(T.width,ae),T.height+=de+j):(T.width+=ae+(j=0!==V?p.uM:0),T.height=Math.max(T.height,de)))}else T=L(e);return e.hasBackground?w===c.B.Vertical?{width:T.width+2*p.d1,height:T.height+2*p.Bo}:{width:T.width+2*p.Bo,height:T.height+2*p.d1}:T},t.prototype.layout=function(e,w){for(var L=[],T=0,F=e;T<F.length;T++){for(var V=F[T],U=_.map(V.labelDataPoints,function(ue){return{labelDataPoint:ue}}),G=V.labelOrientation,ae=0,de=U;ae<de.length;ae++){var ge=de[ae];ge.hasBeenRendered=!1,ge.labelSize=this.computeLabelSize(ge.labelDataPoint,G)}L.push({labelDataPoints:U,maxNumberOfLabels:V.maxNumberOfLabels,labelOrientation:V.labelOrientation,offset:V.offset})}for(var j=[],R=new o(L,w),y=L.length>1,g=0,D=L;g<D.length;g++){for(var H=D[g],I=H.maxNumberOfLabels,K=(U=_.clone(H.labelDataPoints),[]),k=(G=H.labelOrientation,U.length-1),Y=I;k>=0&&Y>0;k--)U[k].labelDataPoint.isPreferred&&(K.unshift(U.splice(k,1)[0]),Y--);if(K.length>0&&(I-=(se=this.positionDataLabels(K,w,R,I,G,y,H.offset)).length,j=j.concat(se)),U.length>0){var se=this.positionDataLabels(U,w,R,I,G,y,H.offset);j=j.concat(se)}}return this.filterLabelInstancesByVisibility(j)},t.prototype.filterLabelInstancesByVisibility=function(e){return _.filter(e,function(b){return(0,C.CC)(L=b)?L.labelContents.some(function(T){return T.isVisible}):L.isVisible;var L})},t.prototype.drawLeaderLinesOnIteration=function(e,w){var b;if(!this.allowLeaderLines)return!1;var L=w.labelDataPoint;return!((0,d.r)(L)?L.labelDataPointContents.every(function(F){return _.isEmpty(F.text)}):_.isEmpty(L.text))&&(!(!this.drawLeaderLinesIgnoreOffset||null===(b=L.leaderLine)||void 0===b||!b.strokeShow)||e>this.startingOffset)},t.prototype.determineMaximumOffset=function(e,w){var b,L=null!==(b=w?.max)&&void 0!==b?b:this.maximumOffset;return e>=L?e:L},t.prototype.positionDataLabels=function(e,w,b,L,T,F,V){for(var U,G=[],ae=this.offsetIterationDelta,de=0,ge=0,j=null!==(U=V?.min)&&void 0!==U?U:this.startingOffset,R=this.determineMaximumOffset(j,V),y=j;y<=R&&ge<L;){for(var g=0,D=e;g<D.length;g++){var H=D[g];if(!H.hasBeenRendered){var K=void 0;if(1===H.labelDataPoint.parentType)K=this.tryPositionForRectPositions(H,b,y,de,T,F);else{var k=this.drawLeaderLinesOnIteration(y,H);K=this.tryPositionForPointPositions(H,b,y,k,T)}if(K&&(G.push(K),ge++),!(ge<L))break}}y+=ae,de+=ae}return G},t.prototype.tryPositionForRectPositions=function(e,w,b,L,T,F){var V=this,U=e.labelDataPoint,de=function(D,H,I){void 0===I&&(I=0),function(D){var H,I,K,k;if(D>0&&(0,d.r)(U)){var Y=T===c.B.Vertical?null!==(I=null===(H=e.labelSize)||void 0===H?void 0:H.height)&&void 0!==I?I:0:null!==(k=null===(K=e.labelSize)||void 0===K?void 0:K.width)&&void 0!==k?k:0;(0,u._u)(U.labelDataPointContents,Y*(1-D),"SingleLine"===U.contentLayout?a.v.SingleLine:a.v.MultiLine),e.labelSize=V.computeLabelSize(U,T)}}(I);var K=t.tryPositionRect(w,D,e,b,L,H);return K&&function(D,H){var K=!!(224&D);return!(7&D&&!function(t,e,w,b){var L=e.parentShape.rect,T=(0,P.rr)(t,{left:w,right:w,top:b,bottom:b});return(0,P.BD)(L,{x:T.left,y:T.top})&&(0,P.BD)(L,{x:T.left+T.width,y:T.top+T.height})}(H,U,V.horizontalPadding,V.verticalPadding)||K&&!function(t,e,w){var b=e.parentShape.rect;if(!(0,P.HL)(t,b))return!1;var L=(0,P.wf)(t,b),T=M,F=(0,B.GG)(L.top,t.top,T)&&(0,B.GG)(L.height,t.height,T),V=(0,B.GG)(L.left,t.left,T)&&(0,B.GG)(L.width,t.width,T),U=_.includes([1,2],e.parentShape.orientation);if(!V&&!F||w&&(U&&!F||!U&&!V))return!1;if(V&&F)return!0;var G=function(t,e){var w=e.width*e.height,b=t.width*t.height,L=Math.max(w,b);if(0===L)return 0;var T=Math.min(w,b),F=0!==T?T:L,V=(0,P.wf)(e,t);return V.width*V.height/F}(t,b)>=E,ae=!1;return F?ae=0===b.width||b.width/t.width>O.w:V&&(ae=0===b.height||b.height/t.height>O.w),G&&ae}(H,U,F))}(D,K)?(w.add(K),e.hasBeenRendered=!0,V.createLabelInstanceForRectPosition(U,T,K,D)):null},ge=U.parentShape.validPositions,j=function g(D,H,I){void 0===H&&(H=!1),void 0===I&&(I=0);for(var Y=H?.03*(I+1):0,ee=0,se=ge;ee<se.length;ee++){var ue=de(se[ee],D,Y);if(ue)return ue}return!H||I>=1/.03?null:g(D,H,I+1)},R=j(!1);if(R)return R;if(this.attemptToMoveLabelsIntoViewport){var y=j(!0);if(y)return y}},t.prototype.createLabelInstanceForRectPosition=function(e,w,b,L){var T=!!(231&L),F={boundingBox:b,tooltip:e.tooltip,isVisible:!0,identity:e.identity,key:e.key,hasBackground:e.hasBackground,labelOrientation:w,backgroundColor:e.backgroundColor,backgroundTransparency:e.backgroundTransparency};if((0,d.r)(e)){var U=e.labelDataPointContents.map(function(ae){return{text:ae.text,role:ae.role,transparency:ae.transparency,fontProperties:(0,x.ED)(ae.fontProperties,{color:(de=ae,T?de.insideFill:de.outsideFill)}),isVisible:!0,textSize:ae.textSize};var de});return(0,s.pi)((0,s.pi)({},F),{labelContents:U,wordBreak:e.wordBreak,contentLayout:e.contentLayout,textAnchor:"unset",alignment:e.alignment})}var G=T?e.insideFill:e.outsideFill;return(0,s.pi)((0,s.pi)({},F),{text:e.text,fontProperties:(0,x.ED)(e.fontProperties,{color:G}),selected:!1,isTotal:e.isTotal,isCategory:e.isCategory})},t.tryPositionRect=function(e,w,b,L,T,F){var V=[1,32].includes(w),U=V?T:L,G=m(b,w,U);return V&&0===b.labelDataPoint.parentShape.orientation?this.checkLabelPosition(e,G,F)||this.checkLabelPosition(e,m(b,w,-U),F):this.checkLabelPosition(e,G,F)},t.checkLabelPosition=function(e,w,b){return e.hasConflict(w)?b?e.tryPositionInViewport(w):null:w},t.prototype.getShrinkAmountPixels=function(e,w){var b=e.labelDataPoint.hasBackground,L=!!(0,d.r)(e.labelDataPoint)&&"MultiLine"===e.labelDataPoint.contentLayout,F=w.height+(b?2*p.Bo:p.Cr);return L?F/4:F/2},t.prototype.calculateNewEndPoint=function(e,w,b){var L,T,F=(L=(0,s.ev)((0,s.ev)([],e,!0),w,!0))[0],V=L[1],ae=(T=[L[2]-F,L[3]-V])[0],de=T[1],ge=Math.sqrt(Math.pow(ae,2)+Math.pow(de,2)),j=(ge-b/2)/ge;return[F+ae*j,V+de*j]},t.prototype.getLeaderLinePoints=function(e,w,b,L){var T=function(t,e,w){var b=t.left,L=t.top;switch(e){case 1:b+=t.width/2,L+=t.height;break;case 2:b+=t.width/2;break;case 4:b+=t.width,L+=2*t.height/3;break;case 8:L+=2*t.height/3;break;case 32:b+=t.width,L+=t.height/2;break;case 16:L+=t.height/2;break;case 128:b+=t.width,L+=t.height;break;case 64:L+=t.height}return[[w.point.x,w.point.y],[b,L]]}(e,w,b);if(!this.shrinkLeaderLinesForBestFit)return T;var F=this.getShrinkAmountPixels(L,e),V=T[0];return[V,this.calculateNewEndPoint(V,T[1],F)]},t.prototype.tryPositionForPointPositions=function(e,w,b,L,T){for(var F=this,V=e.labelDataPoint,U=function(g,D,H){var I=t.tryPositionPoint(w,g,e,b,H);if(I){512===g?w.addCheckSeries(I):w.add(I),e.hasBeenRendered=!0;var K=L?F.getLeaderLinePoints(I,g,D,e):null;return(0,d.r)(V)?{boundingBox:I,labelContents:V.labelDataPointContents.map(function(Y,ee){return{text:Y.text,role:Y.role,transparency:Y.transparency,fontProperties:(0,x.ED)(Y.fontProperties,{color:256===g?Y.insideFill:Y.outsideFill}),isVisible:!0,textSize:Y.textSize}}),tooltip:V.tooltip,hasBackground:!!V.hasBackground,labelOrientation:T,key:V.key,identity:V.identity,leaderLinePoints:K,backgroundColor:V.backgroundColor,backgroundTransparency:V.backgroundTransparency,wordBreak:V.wordBreak,contentLayout:V.contentLayout,alignment:V.alignment,selected:!1,textAnchor:"unset",leaderLine:V.leaderLine}:{boundingBox:I,text:V.text,tooltip:V.tooltip,isVisible:!0,isInsideParent:256===g,identity:V.identity,key:V.key,fontProperties:(0,x.ED)(V.fontProperties,{color:256===g?V.insideFill:V.outsideFill}),selected:!1,leaderLinePoints:K,leaderLine:V.leaderLine,hasBackground:!!V.hasBackground,labelOrientation:T,backgroundColor:V.backgroundColor,backgroundTransparency:V.backgroundTransparency,wordBreak:V.wordBreak,isTotal:V.isTotal,isCategory:V.isCategory}}},G=V.parentShape,ae=G.validPositions,de=0,ge=ae;de<ge.length;de++)if(R=U(ge[de],G,!1))return R;var R;return this.attemptToMoveLabelsIntoViewport&&!_.isEmpty(ae)&&(R=U(ae[0],G,!0))?R:null},t.tryPositionPoint=function(e,w,b,L,T){var F=(0,O.c)(b.labelSize,b.labelDataPoint.parentShape,w,L);return e.hasConflict(F)?T?512===w?e.trySeriesLabelPositionInViewport(F):e.tryPositionInViewport(F):null:F},t.defaultOffsetIterationDelta=2,t.defaultHorizontalPadding=2,t.defaultVerticalPadding=2,t}(),M=.09,E=.2},54086:function(Pe,Z,f){f.d(Z,{c:function(){return P},w:function(){return B}});var s=f(62458),A=f(86745),B=.02;function P(p,x,c,i){switch(c){case 1:return(0,A.aE)(p,x.point,x.radius+i);case 2:return(0,A.B2)(p,x.point,x.radius+i);case 4:return(0,A.t$)(p,x.point,x.radius+i);case 8:return(0,A.F2)(p,x.point,x.radius+i);case 32:return(0,A.I6)(p,x.point,x.radius+i);case 16:return(0,A.W7)(p,x.point,x.radius+i);case 128:return(0,A.Q$)(p,x.point,x.radius+i);case 64:return(0,A.kx)(p,x.point,x.radius+i);case 256:return(0,A.be)(p,x.point);case 512:return(0,A.BV)(p,x.point);default:s.fF.assertFail("Unsupported label position")}return null}},86745:function(Pe,Z,f){f.d(Z,{B2:function(){return P},BV:function(){return C},F2:function(){return x},I6:function(){return c},O5:function(){return M},Q$:function(){return m},QS:function(){return a},Vq:function(){return r},W7:function(){return i},ZN:function(){return v},_f:function(){return h},aE:function(){return B},be:function(){return O},cx:function(){return E},e6:function(){return o},fB:function(){return A},jb:function(){return u},kx:function(){return S},nK:function(){return s},t$:function(){return p},ug:function(){return d},um:function(){return l}});var s=Math.cos(45),A=Math.sin(45);function B(n,t,e){return{left:t.x-n.width/2,top:t.y-e-n.height,width:n.width,height:n.height}}function P(n,t,e){return{left:t.x-n.width/2,top:t.y+e,width:n.width,height:n.height}}function p(n,t,e){return{left:t.x-e-n.width,top:t.y-n.height/2,width:n.width,height:n.height}}function x(n,t,e){return{left:t.x+e,top:t.y-n.height/2,width:n.width,height:n.height}}function c(n,t,e){return{left:t.x-A*e-n.width,top:t.y+s*e,width:n.width,height:n.height}}function i(n,t,e){return{left:t.x+A*e,top:t.y+s*e,width:n.width,height:n.height}}function m(n,t,e){return{left:t.x-A*e-n.width,top:t.y-s*e-n.height,width:n.width,height:n.height}}function S(n,t,e){return{left:t.x+A*e,top:t.y-s*e-n.height,width:n.width,height:n.height}}function O(n,t){return{left:t.x-n.width/2,top:t.y-n.height/2,width:n.width,height:n.height}}function C(n,t){return{left:t.x,top:t.y-n.height/2,width:n.width,height:n.height}}function d(n,t,e){return{left:t.left+t.width/2-n.width/2,top:t.top+e,width:n.width,height:n.height}}function u(n,t,e){return{left:t.left+t.width/2-n.width/2,top:t.top+t.height-e-n.height,width:n.width,height:n.height}}function a(n,t,e){return{left:t.left+t.width-n.width-e,top:t.top+t.height/2-n.height/2,width:n.width,height:n.height}}function o(n,t,e){return{left:t.left+e,top:t.top+t.height/2-n.height/2,width:n.width,height:n.height}}function v(n,t,e){return{left:t.left+t.width/2-n.width/2,top:t.top-n.height-e,width:n.width,height:n.height}}function M(n,t,e){return{left:t.left+t.width/2-n.width/2,top:t.top+t.height+e,width:n.width,height:n.height}}function E(n,t,e){return{left:t.left+t.width+e,top:t.top+t.height/2-n.height/2,width:n.width,height:n.height}}function h(n,t,e){return{left:t.left-n.width-e,top:t.top+t.height/2-n.height/2,width:n.width,height:n.height}}function l(n,t,e){return{left:t.left+t.width/2-n.width/2+e,top:t.top+t.height/2-n.height/2,width:n.width,height:n.height}}function r(n,t,e){return{left:t.left+t.width/2-n.width/2,top:t.top+t.height/2-n.height/2+e,width:n.width,height:n.height}}},40739:function(Pe,Z,f){f.d(Z,{r:function(){return p}});var s=f(62458),A=f(81337),B=f(59107);function p(i){var m=i.tooltips();return s.fF.assertValue(m,"visualHostTooltipService"),new c(m)}var c=function(){function i(m,S){void 0===S&&(S=1e3),this.visualHostTooltipService=m,this.tooltipEventsRegistrator=function(){var i=".tooltip",m="mouseout"+i,S="pointercancel"+i,O="pointerdown"+i,C="pointermove"+i,d="pointerup"+i,u="pointerover"+i,a="pointerleave"+i,o="keydown"+i,v="moveToolTipWithKeyboardAction",M=function(){function h(l,r){var n=this;this.handleTouchDelay=r,this.handleTouchTooltipHideDelay=2e3,this.preventContextMenuHandler=function(t){t.preventDefault(),t.stopPropagation(),n.visualElement&&n.visualElement.removeEventListener("contextmenu",n.preventContextMenuHandler,!0)},this.ignoreMouseoutEvent=!1,this.forceRefreshData=!1,this.visualHostTooltipService=l,this.rootNode=this.visualHostTooltipService.container()}return h.prototype.showTooltip=function(l,r,n,t,e,w,b,L,T,F){if(this.canDisplayTooltip(l,w)){this.visualElement&&this.visualElement.removeEventListener("contextmenu",this.preventContextMenuHandler,!0);var V=d3.event;this.visualElement=$(V.target).parent().get(0),l&&this.visualElement&&this.visualHostTooltipService.isTouchScreenOptimizedEnabled()&&(this.ignoreMouseEventsTimeoutId&&clearTimeout(this.ignoreMouseEventsTimeoutId),this.visualElement.addEventListener("contextmenu",this.preventContextMenuHandler,!0)),this.touchOriginTooltipShowing=l;var U=this.makeTooltipEventArgs(l);if(U){var G;if((t||l||this.forceRefreshData)&&(this.forceRefreshData=!1,null==(G=r(U))))return void(e&&this.visualHostTooltipService.hide({isTouchEvent:l,immediately:!1,isKeyboardEvent:T}));var ae=n(U),de=ae&&ae.map(function(R){return(0,A.pi)((0,A.pi)({},R.getSelectorsByColumn()),{exclude:R.exclude})}),ge=ae&&ae.map(function(R){return R?.role}),j=d3.event;"touch"===j.pointerType&&(j.tooltip=!0),this.visualHostTooltipService.show({coordinates:U.coordinates,isTouchEvent:l,dataItems:G,identities:de,roles:ge,suppressAnnouncements:b,showByDefaultOverride:L,isKeyboardEvent:T,focusTooltip:F}),l&&!this.visualHostTooltipService.isTouchScreenOptimizedEnabled()&&this.startTouchHideTooltipTimeout()}}},h.prototype.hideTooltip=function(l,r){"pointerleave"===r&&l||"mouseout"===r&&this.ignoreMouseoutEvent||(this.touchOriginTooltipShowing=!1,clearTimeout(this.handleTouchTooltipHideId),this.visualHostTooltipService.hide({isTouchEvent:l,immediately:"pointerdown"===r,isKeyboardEvent:!1}))},h.prototype.getCoordinates=function(l){for(var t,n=d3.event;t=n.sourceEvent;)n=t;var e=l.getBoundingClientRect(),w=n.clientX,b=n.clientY;if(null==w||null==b){var L=d3.event;s.fF.assert(function(){return"keydown"===L.type||"moveToolTipWithKeyboardAction"===L.type},"only non-mouse/touch events (e.g., 'keydown') should get here");var F=L.target.getBoundingClientRect();w=F.left+F.width/2,b=F.top+F.height/2}return[w-e.left-l.clientLeft,b-e.top-l.clientTop]},h.prototype.makeTooltipEventArgs=function(l){var r=this.getCoordinates(this.rootNode),n=l?document.elementFromPoint(r[0],r[1]):d3.event.target;return{data:d3.select(n).datum(),coordinates:r,elementCoordinates:this.getCoordinates(n),context:n,isTouchEvent:l}},h.prototype.startTouchHideTooltipTimeout=function(){var l=this;this.handleTouchTooltipHideId&&clearTimeout(this.handleTouchTooltipHideId),this.handleTouchTooltipHideId=setTimeout(function(){l.hideTooltip(!0,"timeout")},this.handleTouchTooltipHideDelay)},h.prototype.startIgnoreMouseEventsTimeout=function(){var l=this;this.ignoreMouseEventsTimeoutId&&clearTimeout(this.ignoreMouseEventsTimeoutId),this.ignoreMouseEventsTimeoutId=setTimeout(function(){l.visualElement&&l.visualElement.removeEventListener("contextmenu",l.preventContextMenuHandler,!0),l.ignoreMouseEventsTimeoutId=void 0,l.forceRefreshData=!0},this.handleTouchDelay)},h.prototype.canDisplayTooltip=function(l,r){return!(!l&&("pointerdown"===r||this.touchOriginTooltipShowing||void 0!==this.ignoreMouseEventsTimeoutId))},h}(),E=function(){function h(l,r){this.tooltipServiceDelegate=l,this.visualHostTooltipService=r,this.moveThreshold=10,this.focusTooltip=!0}return h.prototype.unregisterEvents=function(l){l.on(i,null),l.on(v,null)},h.prototype.registerEvents=function(l,r,n,t,e,w){this.registerTooltipEvents(l,r,n,t,e,w)},h.prototype.hasPointerTypeTouch=function(l){return"touch"===l.pointerType},h.prototype.onPointerEnd=function(){if(this.tooltipServiceDelegate.startIgnoreMouseEventsTimeout(),this.visualHostTooltipService.visible()&&this.visualHostTooltipService.isTouchScreenOptimizedEnabled())this.tooltipServiceDelegate.ignoreMouseoutEvent=!0;else{var l=d3.event;this.tooltipServiceDelegate.hideTooltip(this.hasPointerTypeTouch(l),l.type)}},h.prototype.moveThresholdReached=function(l,r){var n=l-this.initialX,t=r-this.initialY;return Math.sqrt(n*n+t*t)>this.moveThreshold},h.prototype.registerTooltipEvents=function(l,r,n,t,e,w){var L,b=this;l.on(u,function(){b.focusTooltip=!0;var T=d3.event;b.hasPointerTypeTouch(T)||b.tooltipServiceDelegate.showTooltip(b.hasPointerTypeTouch(T),r,n,!0,!1,T.type,e,w,!1,b.focusTooltip)}),l.on(v,function(){var T=d3.event;!1===b.focusTooltip&&(b.visualHostTooltipService.visible()?b.tooltipServiceDelegate.showTooltip(b.hasPointerTypeTouch(T),r,n,!0,!1,T.type,e,w,!0,b.focusTooltip):(b.tooltipServiceDelegate.hideTooltip(!1,T.type),b.focusTooltip=!0),L=T.target)}),l.on(o,function(){var T=d3.event;B.M.isCtrlOrMeta(T)&&72===T.keyCode&&T.shiftKey?(b.focusTooltip=!1,T.target===L&&b.visualHostTooltipService.visible()?(b.tooltipServiceDelegate.hideTooltip(!1,T.type),b.focusTooltip=!0):b.tooltipServiceDelegate.showTooltip(b.hasPointerTypeTouch(T),r,n,!0,!1,T.type,e,w,!0,b.focusTooltip),L=T.target,T.preventDefault()):B.M.isCtrlOrMeta(T)&&72===T.keyCode?(b.focusTooltip=!0,T.target===L&&b.visualHostTooltipService.visible()?b.tooltipServiceDelegate.hideTooltip(!1,T.type):b.tooltipServiceDelegate.showTooltip(b.hasPointerTypeTouch(T),r,n,!0,!1,T.type,e,w,!0,b.focusTooltip),L=T.target,T.preventDefault()):27===T.keyCode&&(b.focusTooltip=!0,(T.target===L||b.visualHostTooltipService.visible())&&(b.tooltipServiceDelegate.hideTooltip(!1,T.type),T.preventDefault()))}),l.on(a,function(){b.focusTooltip=!0;var T=d3.event;b.tooltipServiceDelegate.hideTooltip(b.visualHostTooltipService.isTouchScreenOptimizedEnabled()&&b.hasPointerTypeTouch(T),T.type)}),l.on(m,function(){b.focusTooltip=!0;var T=d3.event;b.tooltipServiceDelegate.hideTooltip(b.visualHostTooltipService.isTouchScreenOptimizedEnabled()&&b.hasPointerTypeTouch(T),T.type)}),l.on(C,function(){b.focusTooltip=!0;var T=d3.event;b.tooltipServiceDelegate.ignoreMouseoutEvent=!1,b.visualHostTooltipService.visible()||!b.hasPointerTypeTouch(T)?b.tooltipServiceDelegate.showTooltip(b.hasPointerTypeTouch(T),r,n,t,!0,T.type,e,w,!1,!0):b.moveThresholdReached(T.screenX,T.screenY)&&b.tooltipServiceDelegate.hideTooltip(b.hasPointerTypeTouch(T),T.type)}),l.on(O,function(){b.focusTooltip=!1;var T=d3.event;b.initialX=T.screenX,b.initialY=T.screenY,b.tooltipServiceDelegate.showTooltip(b.hasPointerTypeTouch(T),r,n,!0,!b.visualHostTooltipService.isTouchScreenOptimizedEnabled(),T.type,e,w,!1,!0)}),l.on(d,function(){return b.onPointerEnd()}),l.on(S,function(){return b.onPointerEnd()})},h}();return{create:function(l){var r=new M(l.visualHostTooltipService,l.handleTouchDelay);return new E(r,l.visualHostTooltipService)}}}().create({visualHostTooltipService:this.visualHostTooltipService,handleTouchDelay:S})}return i.prototype.addTooltip=function(m,S,O,C,d,u){m&&(u||this.visualHostTooltipService.enabled())&&this.tooltipEventsRegistrator.registerEvents(m,S,O,C,d,u)},i.prototype.removeTooltips=function(m){m&&this.tooltipEventsRegistrator.unregisterEvents(m)},i.prototype.hide=function(){this.visualHostTooltipService.hide({immediately:!0,isTouchEvent:!1,isKeyboardEvent:!1})},i.prototype.visible=function(){return this.visualHostTooltipService&&this.visualHostTooltipService.visible()},i.prototype.isTouchScreenOptimizedEnabled=function(){return this.visualHostTooltipService.isTouchScreenOptimizedEnabled()},i}()},20114:function(Pe,Z,f){f.d(Z,{dt:function(){return i},s$:function(){return B}});var s=f(28488),B="95%",i=(0,s.i)([{value:"99%",displayName:function(){return"99%"}},{value:B,displayName:function(){return"95%"}},{value:"90%",displayName:function(){return"90%"}},{value:"85%",displayName:function(){return"85%"}},{value:"80%",displayName:function(){return"80%"}},{value:"75%",displayName:function(){return"75%"}}])},40253:function(Pe,Z,f){f.d(Z,{dt:function(){return S},xm:function(){return m}});var s=f(28488),m="point",S=(0,s.i)([{value:"year",displayName:function(C){return C.get("TimeUnit_Years")}},{value:"quarter",displayName:function(C){return C.get("TimeUnit_Quarters")}},{value:"month",displayName:function(C){return C.get("TimeUnit_Months")}},{value:"day",displayName:function(C){return C.get("TimeUnit_Days")}},{value:"hour",displayName:function(C){return C.get("TimeUnit_Hours")}},{value:"minute",displayName:function(C){return C.get("TimeUnit_Minutes")}},{value:"second",displayName:function(C){return C.get("TimeUnit_Seconds")}},{value:m,displayName:function(C){return C.get("Visual_Forecast_Units_Point")}}])}}]);