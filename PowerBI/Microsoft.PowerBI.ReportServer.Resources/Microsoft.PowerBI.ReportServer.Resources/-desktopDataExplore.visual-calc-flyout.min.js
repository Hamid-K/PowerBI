"use strict";(self.webpackChunkdesktopDataExplore=self.webpackChunkdesktopDataExplore||[]).push([["visual-calc-flyout"],{56137:function(q,u,t){t.r(u),t.d(u,{VisualCalcFlyoutModule:function(){return Q}});var s=t(77476),h=t(82156),b=t(79061),O=t(6015),M=t(63654),P=t(16095),x=t(17177),S=t(81337),F=t(59017),v=t(14172),g=t(83317),w=t(75096),T=t(65534),V=t(66014),f=t(78963),I=t(23983),m=t(72525),C=t(86286),N=t(73221),z=t(21728),e=t(50423),E=t(65181),B=t(88409),D=t(72262),A=t(9380),j=t(48145),R=t(59968),U=t(50057),y=t(76492),_=t(42189),$=t(9529),W=t(65005),L=t(36858),H=t(74913),Z=t(85102);function X(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"pbi-dropdown-item",21)(1,"div",22),e.\u0275\u0275element(2,"tri-svg-icon",23),e.\u0275\u0275elementStart(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()()),2&n){var o=l.$implicit;e.\u0275\u0275property("value",o),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",o.icon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(o.label)}}function k(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"section",8)(1,"div",9)(2,"div",10),e.\u0275\u0275element(3,"h2",11),e.\u0275\u0275elementStart(4,"pbi-dropdown",12)(5,"pbi-dropdown-trigger",13)(6,"div",14),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(9,"pbi-field-list",15),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",10),e.\u0275\u0275element(11,"h2",16),e.\u0275\u0275elementStart(12,"pbi-dropdown",12)(13,"pbi-dropdown-trigger",13)(14,"div",14),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(17,"pbi-field-list",15),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",10),e.\u0275\u0275element(19,"h2",17),e.\u0275\u0275elementStart(20,"pbi-dropdown",12)(21,"pbi-dropdown-trigger")(22,"div",14),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(25,X,5,3,"pbi-dropdown-item",18),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(26,"div",10),e.\u0275\u0275element(27,"h2",19)(28,"input",20),e.\u0275\u0275elementEnd()()()),2&n){var o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,4,"Custom")," "),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(16,6,"Select_A_Field")," "),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate1(" ",o.selectedAxis?o.selectedAxis.label:e.\u0275\u0275pipeBind1(24,8,"VisualCalcTemplate_AxisField_Placeholder")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",o.axes)}}function K(n,l){if(1&n){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(o);var i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.applyCalculation())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()}2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Apply")," "))}var J=[{type:function(n){function l(o,r,i,a,p,d,Y){var c=n.call(this)||this;return c.overlayData=o,c.localizationService=r,c.visualCalcEagerService=i,c.overlayRef=a,c.selectionService=p,c.featureSwitchService=d,c.explorationCapabilitiesService=Y,c.axes=[{name:"ROWS",label:"Rows",icon:"arrow_down_double_20_regular"},{name:"COLUMNS",label:"Columns",icon:"arrow_right_double_20_regular"},{name:"ROWS COLUMNS",label:"RowsColumns",icon:"arrow_down_double_wrap_20_regular"},{name:"COLUMNS ROWS",label:"ColumnsRows",icon:"arrow_right_double_wrap_20_regular"}],c}return(0,S.__extends)(l,n),l.prototype.ngOnInit=function(){var o=this,r=this.overlayData.queryName;this.editCalculationLabel=this.localizationService.get("FieldWell_EditVisualCalculation"),this.editCalculationButtonTooltip$=this.explorationCapabilitiesService.capabilities$.pipe((0,v.U)(function(a){return a?.disableVisualCalcAuthoring?o.localizationService.get("FieldWell_EditVisualCalculation_Disabled_From_Explore"):o.editCalculationLabel}),(0,g.R)(this.onDestroy$));var i=z.UP.getSelectedVisual(this.selectionService);this.editCalculationDisabled$=(0,F.aj)([this.visualCalcEagerService.shouldDisableEditing$(r,i),this.explorationCapabilitiesService.capabilities$]).pipe((0,v.U)(function(a){var d=a[1];return a[0]||d?.disableVisualCalcAuthoring}),(0,g.R)(this.onDestroy$))},l.prototype.closeOverlay=function(){this.overlayRef.close()},l.prototype.editVisualCalcAndCloseOverlay=function(){this.overlayRef.close({queryName:this.overlayData.queryName,action:1})},l.prototype.applyCalculation=function(){},l.\u0275fac=function(r){return new(r||l)(e.\u0275\u0275directiveInject(C.M),e.\u0275\u0275directiveInject(E.o),e.\u0275\u0275directiveInject(B.w),e.\u0275\u0275directiveInject(C.w),e.\u0275\u0275directiveInject(D.z),e.\u0275\u0275directiveInject(A.vZ),e.\u0275\u0275directiveInject(j.U))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["visual-calc-flyout"]],features:[e.\u0275\u0275ProvidersFeature([w.p,I.AA,m.wt,m.VI,T.n,V.Z,{provide:f.W,useClass:f.w}]),e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:13,consts:[["role","dialog","aria-labelledby","flyoutContainerTitle",1,"flyout-container"],[1,"header"],["id","flyoutContainerTitle","localize","DaxTemplateDialog_CalculationTitle",1,"fluentTheme-lg-semiBold"],["localizeTooltip","Close",1,"glyphicon","glyph-mini","pbi-glyph-close","pbi-icon-button","pbi-focus-outline","close-button",3,"click"],["class","field-list-container",4,"ngIf"],[1,"visual-calc-actions-container"],["class","pbi-fluent-button primary",3,"click",4,"ngIf"],[1,"pbi-fluent-button","default",3,"pbiTooltip","disabled","click"],[1,"field-list-container"],[1,"field-list-content"],[1,"field-picker"],["localize","VisualCalcTemplate_TemplateField",1,"fluentTheme-sm-reg"],[1,"field-list-field"],["pbiTooltip","selectedItemTooltip"],[1,"field-list-trigger","dropdown-trigger"],[1,"field-list-field-dropdown"],["localize","Field",1,"fluentTheme-sm-reg"],["localize","VisualCalcTemplate_AxisField",1,"fluentTheme-sm-reg"],[3,"value",4,"ngFor","ngForOf"],["localize","VisualCalcTemplate_WindowSizeField",1,"fluentTheme-sm-reg"],["type","number"],[3,"value"],[1,"dropdown-item-wrapper"],["sprite","trident-icons",3,"name"],[1,"pbi-fluent-button","primary",3,"click"]],template:function(r,i){1&r&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"h1",2),e.\u0275\u0275elementStart(3,"button",3),e.\u0275\u0275listener("click",function(){return i.closeOverlay()}),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(5,k,29,10,"section",4),e.\u0275\u0275elementStart(6,"section",5),e.\u0275\u0275template(7,K,3,3,"button",6),e.\u0275\u0275elementStart(8,"button",7),e.\u0275\u0275listener("click",function(){return i.editVisualCalcAndCloseOverlay()}),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd()()()),2&r&&(e.\u0275\u0275advance(3),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(4,7,"Close")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.featureSwitchService.featureSwitches.onObjectTemplateFlyout),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.featureSwitchService.featureSwitches.onObjectTemplateFlyout),e.\u0275\u0275advance(1),e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(9,9,i.editCalculationButtonTooltip$))("disabled",e.\u0275\u0275pipeBind1(10,11,i.editCalculationDisabled$)),e.\u0275\u0275attribute("aria-label",i.editCalculationLabel),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",i.editCalculationLabel," "))},dependencies:[s.NgForOf,s.NgIf,R.X,U.r,y.H,_.r,$._,y.T,W.l,L.V,H.M,s.AsyncPipe,Z.F],styles:['.pbi-overlay-caret-small.pbi-overlay-caret[_nghost-%COMP%]:after{background:var(--colorNeutralBackground3);border-color:var(--colorNeutralBackground3Pressed)}.dropdown-item-wrapper[_ngcontent-%COMP%]{display:flex;align-items:end;width:100%;gap:4px}.dropdown-item-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.flyout-container[_ngcontent-%COMP%]{--flyout-container-color: var(--gray-180);background-color:var(--colorNeutralBackground3);border:1px solid var(--colorNeutralStroke3);border-radius:2px;color:var(--flyout-container-color);padding:0;height:100%;width:100%;box-shadow:0 0 2px var(--colorNeutralShadowAmbient),0 4px 8px var(--colorNeutralShadowKey);display:flex;flex-direction:column}  [data-legacy-theming=false] .flyout-container{--flyout-container-color: var(--colorNeutralForeground1)}.flyout-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:8px 8px 4px}.flyout-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.flyout-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{width:24px;height:24px;color:var(--colorNeutralForeground1)}.flyout-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background-color:var(--colorNeutralBackground3Hover)}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]{margin:4px 8px 8px;height:100%}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 4px}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]   .field-list-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]   .field-list-content[_ngcontent-%COMP%]   .field-picker[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:8px}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]   .field-list-content[_ngcontent-%COMP%]   .field-picker[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%]{width:100%}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]   .field-list-content[_ngcontent-%COMP%]   .field-picker[_ngcontent-%COMP%]   .dropdown-trigger[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]   .field-list-content[_ngcontent-%COMP%]   .field-picker[_ngcontent-%COMP%]   h2.disabled[_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D)}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]   .field-list-content[_ngcontent-%COMP%]   .field-picker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid var(--inputBorderFocus)}.flyout-container[_ngcontent-%COMP%]   .field-list-container[_ngcontent-%COMP%]   .field-list-content[_ngcontent-%COMP%]   .field-picker[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);border:1px solid var(--colorNeutralStroke1)}.flyout-container[_ngcontent-%COMP%]   .visual-calc-actions-container[_ngcontent-%COMP%]{margin:8px;display:flex;gap:4px}.flyout-container[_ngcontent-%COMP%]   .visual-calc-actions-container[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{color:var(--colorNeutralForeground1);border:1px solid var(--colorNeutralStroke1)}'],changeDetection:0}),l}(N.w),componentId:"VisualCalcFlyoutComponentId"}],Q=function(){function n(){}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.CommonModule,h.N.withManifests(J),b.v,O.C,M.X,P.Z,x.T6]}),n}()}}]);