"use strict";(self.webpackChunkdesktopDataExplore=self.webpackChunkdesktopDataExplore||[]).push([["extension-host-subfolder"],{17299:function(X,P,t){t.r(P),t.d(P,{ExtensionHostSubfolderModule:function(){return W}});var g=t(77476),B=t(60756),H=t(81337),T=t(82762),N=t(60225),L=t(11547),U=t(81905),D=t(14172),z=t(59822),v=t(97558),C=t(60397),F=t(17899),V=t(37976),$=t(6814),s=t(50423),A=t(54323),R=function(){function n(l,a,m,f){var I=this;this.actions$=l,this.messageBroker=a,this.telemetryService=m,this.lazyProvider=f,this.onOpenSubfolderPickerDialogReceived$=(0,F.Av)(this.actions$,this.messageBroker,v.Vm.openSubfolderPickerDialog,function(i){return(0,T.D)(I.lazyProvider.get("@powerbi/SubfolderPicker/subfolder-picker.module#SubfolderPickerModule",V.cU)).pipe((0,U.w)(function(u){var c,p;if(null!==(c=i.messageBarModel)&&void 0!==c&&c.link){var w=I.validateLink(null===(p=i.messageBarModel)||void 0===p?void 0:p.link);if(w)return(0,N._)(w)}return(0,T.D)(u.openSubfolderPicker({initialSubfolderId:i.initialSubfolderId,title:i.title,confirmButtonText:i.confirmButtonText,allowSelectWorkspace:i.allowSelectWorkspace,semanticInputLabelText:i.semanticInputLabelText,semanticInputPlaceholder:i.semanticInputPlaceholder,messageBarModel:i.messageBarModel,allowSelectItemTypes:i.allowSelectItemTypes,allowMultiSelection:i.allowMultiSelection,hideNewButton:!i.showNewButton,preSelectedItems:i.preSelectedItems,visibleItemTypes:i.visibleItemTypes})).pipe((0,D.U)(function(r){var b,h,j,S,y,M,E,k;if(!r)return r;var x=(0,H.__assign)({},r);return r.selectedItems&&(x.selectedItems={subfolders:null===(b=r.selectedItems.subfolders)||void 0===b?void 0:b.map(function(e){return{id:e.id,objectId:e.objectId}}),artifacts:null===(h=r.selectedItems.artifacts)||void 0===h?void 0:h.map(function(e){return{id:e.id,objectId:e.objectId}}),dashboards:null===(j=r.selectedItems.dashboards)||void 0===j?void 0:j.map(function(e){return{id:e.id,objectId:e.objectId}}),reports:null===(S=r.selectedItems.reports)||void 0===S?void 0:S.map(function(e){return{id:e.id,objectId:e.objectId}}),datasets:null===(y=r.selectedItems.datasets)||void 0===y?void 0:y.map(function(e){return{id:e.id,objectId:e.objectId}}),datamarts:null===(M=r.selectedItems.datamarts)||void 0===M?void 0:M.map(function(e){return{id:e.id,objectId:e.objectId}}),workbooks:null===(E=r.selectedItems.workbooks)||void 0===E?void 0:E.map(function(e){return{id:e.id,packageId:e.packageId}}),cdsaModels:null===(k=r.selectedItems.cdsaModels)||void 0===k?void 0:k.map(function(e){return{id:e.id,objectId:e.objectId}})}),r.selectedItemsMetadata&&(x.selectedItemsMetadata=r.selectedItemsMetadata.map(function(e){return{id:e.id,objectId:e.objectId,displayName:e.displayName,type:e.type}})),x}),(0,D.U)(function(r){return v.Vm.openSubfolderPickerDialog.resolve({value:r})}))}),(0,z.K)(function(u){return I.telemetryService.logEvent({name:"SubfolderAPI.openSubfolderPickerDialog",properties:{error:u}}),(0,L.of)(v.Vm.openSubfolderPickerDialog.reject({error:u}))}))})}return n.prototype.validateLink=function(l){var a,m=(a=new URL(l)).protocol,f=a.hostname;return"https:"!==m?new Error('The link url must start with "https://".'):f===window.location.hostname?new Error("The link url must not contain fabric doamin."):void 0},n.\u0275fac=function(a){return new(a||n)(s.\u0275\u0275inject(B.eX),s.\u0275\u0275inject(C.u),s.\u0275\u0275inject(A.t),s.\u0275\u0275inject($.rn))},n.\u0275prov=s.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n}(),W=function(){function n(){}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=s.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=s.\u0275\u0275defineInjector({imports:[g.CommonModule,B.sQ.forFeature([R])]}),n}()}}]);