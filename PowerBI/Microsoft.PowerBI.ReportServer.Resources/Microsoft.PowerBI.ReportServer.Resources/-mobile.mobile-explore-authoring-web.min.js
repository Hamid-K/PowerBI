"use strict";(self.webpackChunkmobile=self.webpackChunkmobile||[]).push([["mobile-explore-authoring-web","mobile-explore-authoring"],{45221:function(he,w,i){i.d(w,{h:function(){return D}});var D=new(i(50423).InjectionToken)("FormattingObjectDefinitionsService")},32441:function(he,w,i){i.d(w,{u:function(){return K}});var g=i(50423),D=i(18460),N=function(f,C,e,U,F){return{formattingSources:f,indicatorEnabled:C,mobileFormatting:e,disabledCards:U,disabledSlices:F}},K=function(){function m(){var f=this;this.mobileFormatting=!1,this.propertyChanged=new g.EventEmitter,this.outputArgs={propertyChanged:function(e){return f.propertyChanged.emit(e)}},this.modulePath="@powerbi/ExploreUIAuthoring/lazy-modules/pane-formatting/pane-formatting.module#PaneFormattingModule",this.componentId="FormattingPaneComponentId"}return m.\u0275fac=function(C){return new(C||m)},m.\u0275cmp=g.\u0275\u0275defineComponent({type:m,selectors:[["formatting-pane-lazy"]],inputs:{formattingSources:"formattingSources",indicatorEnabled:"indicatorEnabled",mobileFormatting:"mobileFormatting",disabledCards:"disabledCards",disabledSlices:"disabledSlices"},outputs:{propertyChanged:"propertyChanged"},decls:1,vars:10,consts:[[3,"inputArgs","modulePath","outputArgs","componentId"]],template:function(C,e){1&C&&g.\u0275\u0275element(0,"pbi-lazy-load",0),2&C&&g.\u0275\u0275property("inputArgs",g.\u0275\u0275pureFunction5(4,N,e.formattingSources,e.indicatorEnabled,e.mobileFormatting,e.disabledCards,e.disabledSlices))("modulePath",e.modulePath)("outputArgs",e.outputArgs)("componentId",e.componentId)},dependencies:[D.R],encapsulation:2,changeDetection:0}),m}()},78633:function(he,w,i){i.d(w,{a:function(){return K}});var g=i(50423),D=i(18460),N=function(f){return{colors:f}},K=function(){function m(){this.modulePath="@powerbi/ExploreUIAuthoring/lazy-modules/pane-formatting/pane-formatting.module#PaneFormattingModule",this.componentId="GradientBarComponentId"}return m.\u0275fac=function(C){return new(C||m)},m.\u0275cmp=g.\u0275\u0275defineComponent({type:m,selectors:[["gradient-bar-lazy"]],inputs:{colors:"colors"},decls:1,vars:5,consts:[[3,"inputArgs","modulePath","componentId"]],template:function(C,e){1&C&&g.\u0275\u0275element(0,"pbi-lazy-load",0),2&C&&g.\u0275\u0275property("inputArgs",g.\u0275\u0275pureFunction1(3,N,e.colors))("modulePath",e.modulePath)("componentId",e.componentId)},dependencies:[D.R],encapsulation:2,changeDetection:0}),m}()},92278:function(he,w,i){i.d(w,{I:function(){return K}});var g=i(50423),D=i(18460),N=function(f,C,e,U,F){return{toggle:f,ariaLabelledby:C,ariaDescribedby:e,toggleLabel:U,isDisabled:F}},K=function(){function m(){var f=this;this.onToggleChange=new g.EventEmitter,this.modulePath="@powerbi/ExploreUIAuthoring/lazy-modules/pane-formatting/pane-formatting.module#PaneFormattingModule",this.componentId="ToggleSwitchModernComponentId",this.outputArgs={onToggleChange:function(e){return f.onToggleChange.emit(e)}}}return m.\u0275fac=function(C){return new(C||m)},m.\u0275cmp=g.\u0275\u0275defineComponent({type:m,selectors:[["toggle-switch-modern-lazy"]],inputs:{toggle:"toggle",ariaLabelledby:"ariaLabelledby",ariaDescribedby:"ariaDescribedby",toggleLabel:"toggleLabel",isDisabled:"isDisabled"},outputs:{onToggleChange:"onToggleChange"},decls:1,vars:10,consts:[[3,"inputArgs","modulePath","outputArgs","componentId"]],template:function(C,e){1&C&&g.\u0275\u0275element(0,"pbi-lazy-load",0),2&C&&g.\u0275\u0275property("inputArgs",g.\u0275\u0275pureFunction5(4,N,e.toggle,e.ariaLabelledby,e.ariaDescribedby,e.toggleLabel,e.isDisabled))("modulePath",e.modulePath)("outputArgs",e.outputArgs)("componentId",e.componentId)},dependencies:[D.R],encapsulation:2,changeDetection:0}),m}()},90094:function(he,w,i){i.d(w,{l:function(){return K}});var g=i(50423),D=i(18460),N=function(f){return{warningMessage:f}},K=function(){function m(){this.modulePath="@powerbi/ExploreUIAuthoring/lazy-modules/pane-formatting/pane-formatting.module#PaneFormattingModule",this.componentId="WarningComponentId"}return m.\u0275fac=function(C){return new(C||m)},m.\u0275cmp=g.\u0275\u0275defineComponent({type:m,selectors:[["warning-eager"]],inputs:{warningMessage:"warningMessage"},decls:1,vars:5,consts:[[3,"inputArgs","modulePath","componentId"]],template:function(C,e){1&C&&g.\u0275\u0275element(0,"pbi-lazy-load",0),2&C&&g.\u0275\u0275property("inputArgs",g.\u0275\u0275pureFunction1(3,N,e.warningMessage))("modulePath",e.modulePath)("componentId",e.componentId)},dependencies:[D.R],encapsulation:2,changeDetection:0}),m}()},42101:function(he,w,i){i.d(w,{p:function(){return q}});var g=i(9844),f=(i(32441),i(78633),i(92278),i(90094),i(77476)),C=i(9398),e=i(76072),U=i(77906),F=i(50423),L={loadChildren:function(){return Promise.all([i.e(5),i.e("pane-formatting")]).then(i.bind(i,53150)).then(function(re){return re.PaneFormattingModule})}};e.E.addLazyLoadForLegacyMapping("@powerbi/ExploreUIAuthoring/lazy-modules/pane-formatting/pane-formatting.module#PaneFormattingModule",L.loadChildren);var T=[{path:"dummy-pane-formatting-lazy",loadChildren:L.loadChildren}],q=function(){function j(){}return j.\u0275fac=function(fe){return new(fe||j)},j.\u0275mod=F.\u0275\u0275defineNgModule({type:j}),j.\u0275inj=F.\u0275\u0275defineInjector({imports:[f.CommonModule,g.j,U.N,C.Bz.forChild(T)]}),j}()},21302:function(he,w,i){i.d(w,{Ol:function(){return K},mF:function(){return N},sn:function(){return D}});var g=i(50423),D={type:3,name:"showFormatPane"},N={type:3,name:"showPageFormatPane"},K=new g.InjectionToken("PropertyChangeIndicatorService")},78432:function(he,w,i){i.d(w,{An:function(){return T},Aw:function(){return P},D1:function(){return ie},H8:function(){return B},Ky:function(){return Te},LF:function(){return q},N6:function(){return Be},UV:function(){return j},Wx:function(){return c},ce:function(){return De},hy:function(){return W},m7:function(){return ye},nB:function(){return L},nH:function(){return ee},so:function(){return Ee},um:function(){return fe},w7:function(){return re},wW:function(){return Q},zS:function(){return ce},zh:function(){return G}});var g=i(81337),D=i(9215),N=i(61617),K=i(50550),m=i(62458),f=i(32379),C=i(10746),e=i(5265),U=i(80981),F="___",L="container-object-name";function T(u,p){switch(u){case"VisualizationPane_Section_Analytics":return"VisualizationPane_Section_Analytics";case"Button":return"Button";case"Format_Label_General":return p.featureSwitches.onObject?"Properties":"Format_Label_General";case"Group":return"Group";case"Image":return"Image";case"Page":return"Page";case"BasicShape_ToolTip":return"BasicShape_ToolTip";case"Visual":return"Visual";default:m.fF.assertNever(u)}}function G(u){var p="".concat(F).concat(u.objectName).concat(F).concat(u.propertyName);return(0,N.$Q)(p,u.selector)}function q(u,p){return"".concat(p,"-").concat(u)}function j(u,p){return u.substring(p.length+1)}function re(u,p){var I=p[u.objectName],z=I?.properties[u.propertyName];return z}function fe(u,p){var I=null;if(u){if((0,D.q4)(u))return T("Group",p);I=u.config.singleVisual.visualType}switch(I){case"actionButton":return T("Button",p);case"image":return T("Image",p);case"shape":return T("BasicShape_ToolTip",p);default:return T("Visual",p)}}function ie(u){var p=u?.config.singleVisual;return!p||(0,U.xj)(p)}function P(u,p,I){void 0===I&&(I=!1);for(var z=0,X=p;z<X.length;z++){var x=X[z],te=u[x.objectName],ve=!0,Pe=x.selector;if(te){for(var _e=0,ue=te;_e<ue.length;_e++){var pe=ue[_e];(Pe&&((0,f.fS)(pe.selector,Pe)||_.has(x,"altConstantValueSelector")&&(0,f.fS)(pe.selector,x.altConstantValueSelector))||I&&pe.selector||!Pe&&!I)&&delete pe.properties[x.propertyName],ve=ve&&_.isEmpty(pe.properties)}ve&&delete u[x.objectName]}}}function c(u){var p={},I={};u.forEach(function(x){x.canvasItems.forEach(function(te){var ve=te.name;I[ve]=te,p[ve]||(p[ve]=[]),p[ve].push(x)})});var z=[];for(var X in p)z.push({canvasItem:I[X],descriptors:p[X].map(function(x){return(0,g.pi)((0,g.pi)({},x),{canvasItems:void 0})})});return z}function W(u,p,I,z){return u===p&&(0,f.fS)(I,z)}function Q(u,p,I,z){if(!u||!p)return!1;for(var X=function(ue){var pe=p[ue.objectName];if(pe)for(var Oe=0,ze=pe;Oe<ze.length;Oe++){var Se=ze[Oe];if(z){if(!Se.properties[ue.propertyName])continue;if(!ue.selector||(0,f.fS)(Se.selector,ue.selector)||(0,f.fS)(Se.selector,ue.altConstantValueSelector))return{value:!0}}else if(Se.properties[ue.propertyName])return{value:!0}}if(I&&_.find(I.changes,function(Ae){return Ae.objectName===ue.objectName&&Ae.propertySlice.name===ue.propertyName}))return{value:!0}},x=0,te=u;x<te.length;x++){var Pe=X(te[x]);if("object"==typeof Pe)return Pe.value}return!1}function B(u){return{objectName:u.objectName,propertyName:u.propertySlice.name,propertyValue:u.propertySlice.value,propertyType:u.propertySlice.type,altConstantValueSelector:u.propertySlice.altConstantValueSelector,selector:u.propertySlice.selector}}function ee(u,p){var z={objectName:p.objectName,propertySlice:{name:p.propertyName,value:p.propertyValue,type:p.propertyType,altConstantValueSelector:p.altConstantValueSelector,selector:p.selector},hasDynamicExpressionSupport:!1};return z.hasDynamicExpressionSupport=function(u,p){var I=u.config.singleVisual.query,X=(0,e.NA)(u.config.singleVisual.objects,{objectName:p.objectName,propertyName:p.propertySlice.name},p.propertySlice.selector);return!(!X||!(0,C.oA)(X,p.propertySlice.selector,I?I.defn.select():(0,K.bv)()).length)}(u,z),z}function ye(u,p,I,z){var X=z.visualPlugin&&z.visualPlugin.capabilities(I);if(X&&X.supportsSynchronizingFilterState){var x=X.objects[u];if(x){var te=x.properties[p];if(te&&te.filterState)return!0}}return!1}function ce(u,p){u&&u.syncFilterState(p)}function Be(u){return void 0!==u.reference}function Te(u){return u.isTopLevelToggle}function Ee(u){var p=u.visualObjects,I=_.some(p,function(z){return"visual-area"===z.objectName});return I&&p.length>1&&m.fF.assertFail("Visual area sub selectable should only have one visual object"),I}function De(u){var p=[],I=u.control.type;switch(I){case"MarginPadding":var z=u.control.properties,X=Ve(u);p=[be(z.top,X),be(z.bottom,X),be(z.left,X),be(z.right,X)];break;case"FontControl":var x=u.control.properties,te=Ve(u);x.fontSize&&p.push(be(x.fontSize,te)),x.fontFamily&&p.push(function(u,p){return(0,g.pi)((0,g.pi)({},p),{control:{type:"FontPicker",properties:u},uid:G(u.descriptor)})}(x.fontFamily,te)),x.bold&&p.push(xe(x.bold,te)),x.italic&&p.push(xe(x.italic,te)),x.underline&&p.push(xe(x.underline,te));break;default:m.fF.assertNever(I)}return p}function Ve(u){return{aliasNames:[],description:"",displayName:"",conditionalFormattingObjects:void 0,conditionalFormattingWarning:void 0,control:void 0,disabled:u.disabled,hidden:u.hidden,disabledReason:u.disabledReason,groupUid:u.groupUid,infoIconText:void 0,originSource:u.originSource,pivotSource:u.pivotSource,placeHolderText:void 0,saveCallback:void 0,showChangeIndicator:u.showChangeIndicator,suppressDisplayName:u.suppressDisplayName,uid:void 0,warningMessage:void 0}}function be(u,p){return(0,g.pi)((0,g.pi)({},p),{control:{type:"NumUpDown",properties:u},uid:G(u.descriptor)})}function xe(u,p){return(0,g.pi)((0,g.pi)({},p),{control:{type:"ToggleSwitch",properties:u},uid:G(u.descriptor)})}},89535:function(he,w,i){i.d(w,{Kj:function(){return K},YR:function(){return f},lD:function(){return N},r4:function(){return m},y5:function(){return C}});var g=i(19650),D=i(50423),N=function(){return function(L,T){this.value=L,this.equals=T}}(),K=new D.InjectionToken("SliceCustomizationService"),m=6,f=60,C={left:g.H.left,center:g.H.center,right:g.H.right,Auto:g.H.auto}},14029:function(he,w,i){i.r(w),i.d(w,{ExploreUIThumbnailModule:function(){return Ye}});var g=i(81337),D=i(33567),N=i(14463),K=i(8590),m=i(60661),f=i(71216),C=i(47245),e=i(18503),U=i(91615),F=i(47343),L=i(61036),T=i(39681),G=i(38078),q=i(5265),j=i(74082),re=i(30794),fe=i(59017),ie=i(14172),P=i(83317),c=i(50423),W=i(1368),H=i(29866),Q=i(17966),B=i(11494),ee=i(39503),ye=i(77200),ce=i(86843),Ce=i(67799),Be=i(9380),Te=i(40956),Ee=i(58991),De=i(65181),Ve=i(2330),be=i(67660),xe=i(98136),Fe=i(66977),u=i(80277),p=i(79281),I=i(1599),z=i(77476),X=i(98885),x=i(46101),te=i(91399);function ve(M,E){if(1&M&&c.\u0275\u0275element(0,"single-visual-host",6),2&M){var V=c.\u0275\u0275nextContext();c.\u0275\u0275property("visual",V.visual)("visualViewport",V.visualViewport)("themeCollection",V.themeCollection)("config",V.singleVisualHostConfig)}}function Pe(M,E){if(1&M&&c.\u0275\u0275element(0,"analysis-visual-host-lazy",7),2&M){var V=c.\u0275\u0275nextContext();c.\u0275\u0275property("visualDefinition",V.visualDefinition)("visualContainer",V.visual)}}function _e(M,E){if(1&M&&c.\u0275\u0275element(0,"qna-visual-host-lazy",7),2&M){var V=c.\u0275\u0275nextContext();c.\u0275\u0275property("visualDefinition",V.visualDefinition)("visualContainer",V.visual)}}function ue(M,E){if(1&M&&c.\u0275\u0275element(0,"canvas-visual-error-overlay",8),2&M){var V=c.\u0275\u0275nextContext();c.\u0275\u0275property("errorInfo",V.errorInfo)("viewMode",V.viewMode)("viewport",V.viewport)}}var Oe=function(){function M(E,V,J,Le,ke,qe,et,tt,nt,it,Ue,ot,at,We,rt,lt,we,je,st,He,ct){var S,Re,ge=this;this.authenticationService=E,this.bookmarkService=V,this.eventBridge=J,this.explorationNavigation=Le,this.featureSwitchService=ke,this.geocoder=qe,this.geolocationService=et,this.localizationService=tt,this.moduleLoader=nt,this.promiseFactory=it,this.themeService=Ue,this.viewModeState=ot,this.visualHostArtifactService=at,this.visualHostTooltipServiceFactory=We,this.visualHostTelemetryServiceFactory=rt,this.visualPlugin=lt,this.visualPluginOps=we,this.uiComponent=je,this.azureMapTokenCache=st,this.azureMapsEndpoint=He,this.geocoderIndexedDB=ct,this.destroy$=new re.xQ;var ut=(S=this.explorationNavigation).sections$,gt=(0,fe.aj)([ut,S.currentSection$]).pipe((0,ie.U)(function(Z){var me=Z[1];return Z[0].map(function(ae){return{name:ae.name,displayName:ae.displayName,isActive:ae.name===me?.name,isHidden:(0,f.aV)(ae),isTooltip:(0,f.H$)(ae)}})}),(0,P.R)(this.destroy$)),dt=(Re=this.bookmarkService).bookmarks$,mt=(0,fe.aj)([dt,Re.activeBookmark$]).pipe((0,ie.U)(function(Z){var me=Z[1];return Z[0].map(function(ae){var Me;return{name:ae.name,displayName:ae.displayName,isActive:ae.name===me?.name,parentName:null===(Me=ae.parentGroup)||void 0===Me?void 0:Me.name}})}),(0,P.R)(this.destroy$));this.singleVisualHostConfig={notifyStart:_.noop,notifyEnd:_.noop,clearQueryErrors:function(){return ge.clearErrorState()},handleQueryErrors:function(le){return ge.setErrorState(le.getDetails(ge.localizationService),le.code,le.source)},handleQueryWarnings:_.noop,queryVisualHostServices:{getFilters:function(le,me){var ae=ge.explorationNavigation;return le.calculateVisualContainerFilter(ae.getCurrentExploration(),ae.getCurrentSection(),ge.visual,me)},getDataSourceVariables:function(){var le=ge.explorationNavigation.getCurrentExploration();return le&&le.dataSourceVariables}},visualHostServices:(0,T.ED)((0,C.q)({geocoder:this.geocoder,geolocation:this.geolocationService,localizationService:this.localizationService,authenticationService:this.authenticationService,moduleLoader:this.moduleLoader,promiseFactory:this.promiseFactory,visualHostTooltipService:this.visualHostTooltipServiceFactory.create(),getAzureMapToken:function(){return ge.azureMapTokenCache.getAzureMapToken()},azureMapsEndpoint:this.azureMapsEndpoint,geocoderIndexedDB:this.geocoderIndexedDB}),function(Z){Z.getLocalizedString=function(le){for(var me,ae=[],Me=1;Me<arguments.length;Me++)ae[Me-1]=arguments[Me];return(me=ge.localizationService).format.apply(me,(0,g.ev)([le],ae||[],!1))},Z.getViewMode=function(){return ge.viewModeState.getMode()},Z.locale=function(){return(0,L.uD)()},Z.promiseFactory=function(){return ge.promiseFactory},Z.getSectionsMetadata$=function(){return gt},Z.getBookmarksMetadata$=function(){return mt},Z.getUIComponentFactory=function(){return ge.uiComponent.getUIComponentFactory(null)},Z.telemetry=function(){return ge.telemetryService},Z.artifactService=function(){return ge.visualHostArtifactService}}),interactivityOptions:{overflow:"hidden"},additionalObjectUpdates:void 0,disableQueryCacheUpdates:!1,noLoadMore:!0}}return M.prototype.ngOnInit=function(){var E=this;this.evaluateObjectDefinitions(),this.fetchThemeCollection(),this.setVisualViewport(),this.applyStyles(),this.visualDefinition=this.createVisualDefinition(),this.instanceId=G.b$.generateGuid(),this.telemetryService=this.visualHostTelemetryServiceFactory.create(this.visualDefinition.type,this.visual.name,this.instanceId),this.subscriptionManager=this.eventBridge.createChannelSubscriptionManager().subscribe(U.kx,function(){return E.fetchThemeCollection()}).subscribe(K.jCS,function(V,J){J&&E.visual&&J.affectContainer(E.visual)&&E.evaluateObjectDefinitions()})},M.prototype.ngOnDestroy=function(){this.subscriptionManager.unsubscribeAll(),this.destroy$.next(),this.destroy$.complete()},M.prototype.isAnalysisVisual=function(){return this.visualPluginOps.isAnalysisVisual(this.visual.config.singleVisual.visualType)},M.prototype.isQnaVisual=function(){return this.visualPluginOps.isQnaVisual(this.visual.config.singleVisual.visualType)},M.prototype.clearErrorState=function(){this.errorInfo=null},M.prototype.setErrorState=function(E,V,J){this.errorInfo={code:V,details:E,fixableError:0,hideSeeDetails:!0,overlayType:(0,e.fe)(V),source:J}},M.prototype.evaluateObjectDefinitions=function(){var E=this.explorationNavigation.getCurrentExploration(),V=(0,m.VH)(E&&E.themeCollection||{},this.themeService,this.visual,this.featureSwitchService.featureSwitches);this.objects=V.dataViewObjects},M.prototype.fetchThemeCollection=function(){var E=this.explorationNavigation.getCurrentExploration();this.themeCollection=E&&E.themeCollection},M.prototype.setVisualViewport=function(){this.visualViewport={width:2*this.viewport.width,height:2*this.viewport.height,scale:.5}},M.prototype.applyStyles=function(){this.style=new F.Y,this.visualStyle=new F.Y,this.style.viewport(this.viewport);var E=(0,m.Mo)(this.objects&&this.objects.background),V=(0,m._L)(this.visualViewport,.5);this.visualStyle.addAttributes(V);var J=(0,m.O$)(E);this.visualStyle.addAttributes(J),this.visualStyle.apply()},M.prototype.createVisualDefinition=function(){var E=this,V=this.visual.config.singleVisual.visualType,J=(0,q.NA)((0,m.Qg)(this.visual),{objectName:"stylePreset",propertyName:"name"},void 0);return{interactivityOptions:this.singleVisualHostConfig.interactivityOptions,type:V,visualName:this.visual.name+"-thumbnail",allowInvalidDataView:!0,themeCollection:this.themeCollection,viewport:this.visualViewport,dataTransforms:{objects:(0,m.GQ)(this.visual)},hostServices:this.singleVisualHostConfig.visualHostServices,visualAdapterHostServices:{startProgressBar:function(){return E.singleVisualHostConfig.notifyStart()},stopProgressBar:function(){return E.singleVisualHostConfig.notifyEnd()},getNextDataSegment:function(){return E.promiseFactory.reject()}},stylePresetName:J&&(0,j.VC)(J)&&J.value,additionalObjectUpdates:this.singleVisualHostConfig.additionalObjectUpdates,visualPlugin:this.visualPlugin}},M.\u0275fac=function(V){return new(V||M)(c.\u0275\u0275directiveInject(W.A),c.\u0275\u0275directiveInject(Q.F),c.\u0275\u0275directiveInject(B.J),c.\u0275\u0275directiveInject(ee.z),c.\u0275\u0275directiveInject(Be.vZ),c.\u0275\u0275directiveInject(Te.i),c.\u0275\u0275directiveInject(D._1),c.\u0275\u0275directiveInject(De.o),c.\u0275\u0275directiveInject(Ve.m),c.\u0275\u0275directiveInject(N.t),c.\u0275\u0275directiveInject(be.f),c.\u0275\u0275directiveInject(ye.kc),c.\u0275\u0275directiveInject(ce.k),c.\u0275\u0275directiveInject(xe.q),c.\u0275\u0275directiveInject(Ce.S),c.\u0275\u0275directiveInject(H.D),c.\u0275\u0275directiveInject(Fe.f),c.\u0275\u0275directiveInject(p.U),c.\u0275\u0275directiveInject(u.o),c.\u0275\u0275directiveInject(Ee.A),c.\u0275\u0275directiveInject(I.W))},M.\u0275cmp=c.\u0275\u0275defineComponent({type:M,selectors:[["visual-container-thumbnail"]],inputs:{viewport:"viewport",visual:"visual"},decls:7,vars:6,consts:[[3,"apply-style"],[1,"thumbnailContainer","disable-visual-interactivity","themableBackgroundColorSolid",3,"apply-style"],[1,"visualContainerScreen"],[3,"visual","visualViewport","themeCollection","config",4,"ngIf"],[3,"visualDefinition","visualContainer",4,"ngIf"],[3,"errorInfo","viewMode","viewport",4,"ngIf"],[3,"visual","visualViewport","themeCollection","config"],[3,"visualDefinition","visualContainer"],[3,"errorInfo","viewMode","viewport"]],template:function(V,J){1&V&&(c.\u0275\u0275elementStart(0,"div",0)(1,"div",1),c.\u0275\u0275element(2,"div",2),c.\u0275\u0275template(3,ve,1,4,"single-visual-host",3),c.\u0275\u0275template(4,Pe,1,2,"analysis-visual-host-lazy",4),c.\u0275\u0275template(5,_e,1,2,"qna-visual-host-lazy",4),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(6,ue,1,3,"canvas-visual-error-overlay",5),c.\u0275\u0275elementEnd()),2&V&&(c.\u0275\u0275property("apply-style",J.style),c.\u0275\u0275advance(1),c.\u0275\u0275property("apply-style",J.visualStyle),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",!J.isAnalysisVisual()),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",J.isAnalysisVisual()&&!J.errorInfo),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",J.isQnaVisual()&&!J.errorInfo),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",J.errorInfo))},dependencies:[z.NgIf,X.f,x.v,te.s],styles:[".draggable-root-dragging[_nghost-%COMP%]{opacity:0}.ui-draggable-dragging[_nghost-%COMP%]{border:2px solid var(--theme-primary-color, #F2C811)}[_nghost-%COMP%]   .thumbnailContainer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;transform-origin:0 0;overflow:hidden}"]}),M}(),Se={loadChildren:function(){return Promise.resolve().then(i.bind(i,14029)).then(function(E){return E.ExploreUIThumbnailModule})}};i(76072).E.addLazyLoadForLegacyMapping("@powerbi/ExploreUIThumbnail/module#ExploreUIThumbnailModule",Se.loadChildren);var Ae=[{path:"dummy-explore-ui-thumbnail",loadChildren:Se.loadChildren}],Ge=i(9398),Ke=i(32288),Qe=i(77906),Xe=i(95859),Je=i(52950),Ze=[{type:Oe,componentId:"VisualContainerThumbnailComponentId"}],Ye=function(){function M(){}return M.\u0275fac=function(V){return new(V||M)},M.\u0275mod=c.\u0275\u0275defineNgModule({type:M}),M.\u0275inj=c.\u0275\u0275defineInjector({imports:[z.CommonModule,Ke.J,Qe.N.withManifests(Ze),Xe.v,Ge.Bz.forChild(Ae),Je.g]}),M}()},71201:function(he,w,i){i.r(w),i.d(w,{MobileExploreAuthoringWebModule:function(){return ie}});var g=i(81337),D=i(52651),N=i(80532),K=i(9149),m=i(71901),f=i(84376),C=i(46544),e=i(56126),U=i(50423),L={provide:"mobileStateAuthoringService",useFactory:function(P,c,W,H){return new Promise(function(Q){Q(new T(P,c,W,H))})},deps:[C.y0,D.x,N.j,K.c]},T=function(){function P(c,W,H,Q){this.telemetryService=c,this.mobileStateHttpService=W,this.mobileStateCacheService=H,this.mobileStateSerializerService=Q}return P.prototype.reset=function(){this.mobileStateHasBeenCalled&&(this.mobileStateHasBeenCalled=!1)},P.prototype.load=function(c){return(0,g.mG)(this,void 0,void 0,function(){var W,H,Q,B,ee,ye;return(0,g.Jh)(this,function(ce){switch(ce.label){case 0:if(this.mobileStateHasBeenCalled)return[2];ce.label=1;case 1:return ce.trys.push([1,4,,5]),W=this.telemetryService.startEvent(f.oe),(Q=c.reportId)?[4,this.mobileStateHttpService.get(c.reportId,c.reportObjectsProperties,W)]:[3,3];case 2:Q=ce.sent(),ce.label=3;case 3:return H=Q,this.mobileStateHasBeenCalled=!0,this.mobileStateCacheService.hasChanges=!0,B=H?.bookmark,ee=H?.visualPositions,this.hasMobileState=!!B,(B||!_.isEmpty(ee))&&(0,m.zi)(c,B.explorationState,ee,this.telemetryService.startEvent(f.Y8)),[3,5];case 4:throw ye=ce.sent(),this.mobileStateHasBeenCalled=!1,ye;case 5:return[2]}})})},P.prototype.save=function(c,W){return(0,g.mG)(this,void 0,void 0,function(){var H,Q,B;return(0,g.Jh)(this,function(ee){switch(ee.label){case 0:return H=this.hasMobileState,W?(0,e.OF)(W)?(B=this.telemetryService.startEvent(f.IG),[4,this.mobileStateHttpService.create({mobileStateContent:JSON.stringify(W),explorationState:void 0},c,B)]):[3,2]:[3,7];case 1:return ee.sent(),[3,6];case 2:return Q=W,H?(B=this.telemetryService.startEvent(f.IG),[4,this.mobileStateHttpService.update(c,Q,B)]):[3,4];case 3:return ee.sent(),[3,6];case 4:return B=this.telemetryService.startEvent(f.gC),[4,this.mobileStateHttpService.create({mobileStateContent:void 0,explorationState:Q.explorationState},c,B)];case 5:ee.sent(),ee.label=6;case 6:return this.hasMobileState=!0,[3,9];case 7:return H?(B=this.telemetryService.startEvent(f.dX),[4,this.mobileStateHttpService.delete(c,B)]):[3,9];case 8:ee.sent(),this.hasMobileState=!1,ee.label=9;case 9:return[2]}})})},P.prototype.saveAs=function(c,W){var H;return(0,g.mG)(this,void 0,void 0,function(){var Q,B,ee,ye,ce;return(0,g.Jh)(this,function(Ce){switch(Ce.label){case 0:return Q=this.telemetryService.startEvent(f.oe),!this.mobileStateHasBeenCalled&&c.reportId?[4,this.mobileStateHttpService.get(c.reportId,c?.reportObjectsProperties,Q)]:[3,2];case 1:return ee=null===(H=Ce.sent().bookmark)||void 0===H?void 0:H.explorationState,[3,3];case 2:ee=(0,m.$g)(c,this.telemetryService.startEvent(f.Nv)),Ce.label=3;case 3:return(B=ee)?(ye=this.mobileStateSerializerService.serialize(B),ce=this.telemetryService.startEvent(f.Y_),[4,this.mobileStateHttpService.create({mobileStateContent:void 0,explorationState:ye.explorationState},W,ce)]):[3,5];case 4:Ce.sent(),this.mobileStateHasBeenCalled=!1,Ce.label=5;case 5:return[2]}})})},P.\u0275fac=function(W){return new(W||P)(U.\u0275\u0275inject(C.y0),U.\u0275\u0275inject(D.x),U.\u0275\u0275inject(N.j),U.\u0275\u0275inject(K.c))},P.\u0275prov=U.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P}(),G=i(33794),q="MobileAuthoringPropertyPaneChange",j=function(){function P(c){this.dataStore=c}return P.prototype.isFormattingChangeDialogShown=function(){return(0,g.mG)(this,void 0,void 0,function(){return(0,g.Jh)(this,function(c){switch(c.label){case 0:return[4,this.dataStore.isLoaded()];case 1:return c.sent(),[2,this.dataStore.hasKey(q)]}})})},P.prototype.markFormattingChangeDialogShown=function(){return(0,g.mG)(this,void 0,void 0,function(){return(0,g.Jh)(this,function(c){switch(c.label){case 0:return[4,this.dataStore.setKey(q,!0)];case 1:return c.sent(),[2]}})})},P.\u0275fac=function(W){return new(W||P)(U.\u0275\u0275inject(G.R))},P.\u0275prov=U.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P}(),re=i(43104),fe=i(55525),ie=function(){function P(){}return P.\u0275fac=function(W){return new(W||P)},P.\u0275mod=U.\u0275\u0275defineNgModule({type:P}),P.\u0275inj=U.\u0275\u0275defineInjector({providers:[L,{provide:fe.P,useClass:j}],imports:[re.MobileExploreAuthoringModule]}),P}()},55525:function(he,w,i){i.d(w,{P:function(){return D}});var D=new(i(50423).InjectionToken)("mobileVisualFormattingSettingsService")},43104:function(he,w,i){i.r(w),i.d(w,{MobileExploreAuthoringModule:function(){return En}});var g=i(81337),D=i(41114),N="MBI.MobileAutoGenerateLayout.LayoutGenerated",m=(D.cx[N]=(0,D.b1)(N),i(14172)),f=i(8590),C=i(46544),e=i(50423),U=i(58938),F=i(11494),L=i(84281),T=i(59142),G=i(63387),q=i(28894),j=i(65181),re=function(){function n(t,o,a,l,r,s,v,h,y){this.modernDialogService=t,this.eventBridge=o,this.explorationNavigationEXService=a,this.layoutAuthoring=l,this.lazyScoped=r,this.localizationService=s,this.telemetryService=v,this.undoRedo=h,this.certifiedEventsService=y}return n.prototype.generateAutoMobileLayout=function(t){return(0,g.mG)(this,void 0,void 0,function(){var o,a,l=this;return(0,g.Jh)(this,function(r){return o=this.explorationNavigationEXService.getCurrentExploration(),a=this.explorationNavigationEXService.getCurrentSection(),this.isMobileLayoutExists()?[2,this.modernDialogService.promptHostSimpleDialog("CreateAutoLayoutConfirmation",{title:this.localizationService.get("MobileAuthoring_AutoCreateAlert_Headline"),message:this.localizationService.get("MobileAuthoring_AutoCreateAlert_Message"),okButtonText:this.localizationService.get("Replace"),cancelButtonText:this.localizationService.get("Cancel_ButtonText")},{panelClass:["legacy-dialog"]}).then(function(s){1===s&&l.undoRedo.register("removeAndCreateAutoMobileLayout",function(){l.layoutAuthoring.removeLayoutFromSection(a,1,o,!0),l.createAndApplyLayout(t,!0)})})]:(this.undoRedo.register("removeAndCreateAutoMobileLayout",function(){l.createAndApplyLayout(t,!1)}),[2])})})},n.prototype.createAndApplyLayout=function(t,o){var a;return(0,g.mG)(this,void 0,void 0,function(){var l,r,s,v,h,y,b,O,A,R;return(0,g.Jh)(this,function(ne){switch(ne.label){case 0:return l=this.explorationNavigationEXService.getCurrentExploration(),r=this.explorationNavigationEXService.getCurrentSection(),s=this.explorationNavigationEXService.getCurrentExploreCanvas(),[4,this.lazyScoped.get("mobileAutoLayoutService")];case 1:for(v=ne.sent(),h=Date.now(),y=v.createAutoMobileLayout(r,{useStylableVisualContainerHeader:null===(a=l.settings)||void 0===a?void 0:a.useStylableVisualContainerHeader}),b=function(k){var se=_.find(r.visualContainers,function(de){return de.name===k.name});k.layouts[1]&&O.layoutAuthoring.addLayoutToVisualContainer(s,se,k.layouts[1].position,!0)},O=this,A=0,R=y;A<R.length;A++)b(R[A]);return this.eventBridge.publishToChannel(f.wAN),this.certifiedEventsService.logTimedStandardizedFeatureEvent({correlationId:this.telemetryService.root.id,activityName:N,activityAttributes:{caller:t,hadPreviousLayout:o,sectionId:r.objectId},resultCode:null,featureName:"".concat("Mobile report authoring",", ").concat("Mobile report layout was auto-created"),activityStatus:"Succeeded",operationStartTime:h,operationEndTime:Date.now()}),[2]}})})},Object.defineProperty(n.prototype,"autoLayoutActionDisabled$",{get:function(){return this.explorationNavigationEXService.currentSection$.pipe((0,m.U)(function(o){var a;return 0===(null===(a=o.visualContainers)||void 0===a?void 0:a.length)}))},enumerable:!1,configurable:!0}),n.prototype.isMobileLayoutExists=function(){return 0!==this.layoutAuthoring.visualsInLayout(this.explorationNavigationEXService.getCurrentSection(),1).length},n.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275inject(U.x),e.\u0275\u0275inject(F.J),e.\u0275\u0275inject(T.I),e.\u0275\u0275inject(G.U),e.\u0275\u0275inject(q.H),e.\u0275\u0275inject(j.o),e.\u0275\u0275inject(C.y0),e.\u0275\u0275inject(L.z),e.\u0275\u0275inject(C.ly))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n}(),fe=i(59968),ie=i(77476),P=i(85102),c=function(){function n(t){this.layoutGenerator=t}return n.prototype.generateAutoLayout=function(){this.layoutGenerator.generateAutoMobileLayout("mobileCanvasEmptyState")},Object.defineProperty(n.prototype,"autoLayoutActionDisabled$",{get:function(){return this.layoutGenerator.autoLayoutActionDisabled$},enumerable:!1,configurable:!0}),n.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(re))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["mobile-canvas-empty-state"]],features:[e.\u0275\u0275ProvidersFeature([re])],decls:9,vars:12,consts:[[1,"mobileEmptyState"],[1,"mobileEmptyStateSVG"],["localize","CreateMobileAuthoring_Button",1,"heading"],["localize","MobileAuthoring_EmptyState_Content",1,"subHeading"],["localize","MobileAuthoring_CreateAutoLayout",1,"pbi-fluent-button","primary","primaryBtn",3,"disabled","click"]],template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"div",1)(2,"h1",2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275element(4,"h2",3),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementStart(6,"button",4),e.\u0275\u0275listener("click",function(){return a.generateAutoLayout()}),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(3,4,"CreateMobileAuthoring_Button")),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(5,6,"MobileAuthoring_EmptyState_Content")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(8,10,a.autoLayoutActionDisabled$)),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(7,8,"MobileAuthoring_CreateAutoLayout")))},dependencies:[fe.X,ie.AsyncPipe,P.F],styles:['.heading[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--xlg-font-size, 20px);font-weight:var(--font-weight-semi-bold, 600);-webkit-user-select:none;-ms-user-select:none;user-select:none;cursor:default;color:#242424}.subHeading[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);margin-top:8px;margin-bottom:24px;-webkit-user-select:none;-ms-user-select:none;user-select:none;cursor:default;color:#323130;padding:0 10px}.mobileEmptyState[_ngcontent-%COMP%]{text-align:center;align-items:center;display:flex;flex-direction:column;position:absolute;z-index:1000;top:0;left:-10px;width:344px;height:100%;background:#FFF}.mobileEmptyState[_ngcontent-%COMP%]   .mobileEmptyStateSVG[_ngcontent-%COMP%]{background-image:url('+i.p+"../images/mobileEmptyState.svg);background-repeat:no-repeat;background-position:center;width:293px;height:251px;padding-top:55px}.mobileEmptyState[_ngcontent-%COMP%]   .primaryBtn[_ngcontent-%COMP%]:disabled{opacity:.2;color:var(--colorButtonPrimaryForeground);background-color:var(--colorButtonPrimaryBackground);border-color:var(--colorButtonPrimaryBorder)}"]}),n}(),W=i(93247),H=i(62458),Q=i(60661),B=i(64560),ee=i(30794),ye=i(35510),ce=i(59973),Ce=i(83317),Be=function(){function n(t,o){var a=this;this.menu=o,this.onDestroy$=new ee.xQ,this.items=new Set(t);var l=t.find(function(r){return r.checked});this.selected$=new ye.X(l),this.menu&&this.menu.pbiMenuButtonClick.pipe((0,ce.h)(function(r){return a.items.has(r)}),(0,Ce.R)(this.onDestroy$)).subscribe(function(r){return a.select(r)})}return n.prototype.destroy=function(){this.onDestroy$.next(),this.onDestroy$.unsubscribe()},n.prototype.select=function(t){this.selected$.value&&(this.selected$.value.checked=!1),t.checked=!0,this.selected$.next(t)},n}(),Te=i(80357),Ee=i(21023),De=i(39503),Ve=i(17328),be=i(21024),xe=i(5467),Fe=i(9380),u=i(66977),p=i(50057),I=i(50264),z=i(35756),X=i(80649),x=i(36858),te=i(74913),ve=i(3579),Pe=i(47343),_e=i(82762),ue=i(26898),pe=i(83008),Oe=i(13702),ze=i(29866),Se=i(91399),Ae=i(18460),Ge=i(53267),Ke=function(t){return{hiddenVisual:t}},Qe=function(){return{centerOffset:!0}},Xe=function(t,o){return{visual:t,viewport:o}},Je=function(){function n(t,o,a,l,r){this.localizationService=t,this.conceptualSchemaProxy=o,this.dataSources=a,this.displayNameService=l,this.visualPlugin=r,this.style=new Pe.Y,this.exploreUIThumbnailModulePath="@powerbi/ExploreUIThumbnail/module#ExploreUIThumbnailModule"}return n.prototype.ngOnInit=function(){this.applyVisualStyle(),this.generateTitle()},n.prototype.isVisualHidden=function(){return(0,Q.Pu)(this.visual)},n.prototype.getDragContext=function(){var t=this;return function(){return{source:t.visual}}},n.prototype.applyVisualStyle=function(){this.noBorderViewport={height:this.viewport.height,width:this.viewport.width-2},this.style.viewport(this.viewport)},n.prototype.generateTitle=function(){var t=this,o=this.dataSources.get();this.visualTitle$=(0,_e.D)(this.conceptualSchemaProxy.get(o)).pipe((0,m.U)(function(a){var l,r=(0,Q.PQ)(t.visual),s=t.visualPlugin.capabilities((0,ve.s)(t.visual));return null===(l=t.displayNameService.getVisualTitle(r,a,s,void 0,void 0,!0))||void 0===l?void 0:l.text}))},n.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(j.o),e.\u0275\u0275directiveInject(ue.i),e.\u0275\u0275directiveInject(pe.D),e.\u0275\u0275directiveInject(Oe.O),e.\u0275\u0275directiveInject(ze.D))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["mobile-visual-container-thumbnail-wrapper"]],inputs:{viewport:"viewport",visual:"visual"},decls:8,vars:19,consts:[[3,"apply-style","ngClass"],[1,"thumbnailHeader"],[1,"trimmedTextWithEllipsis"],[1,"glyphicon","visualVisibilityIcon",3,"ngClass"],["tabindex","0","focusElement","",1,"thumbnailContainerWrapper",3,"drag","dragConfig","getDragContext"],[3,"modulePath","componentId","inputArgs"]],template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"div",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4),e.\u0275\u0275element(7,"pbi-lazy-load",5),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275property("apply-style",a.style)("ngClass",e.\u0275\u0275pureFunction1(13,Ke,a.isVisualHidden())),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,11,a.visualTitle$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",a.isVisualHidden()?"pbi-glyph-hide3":"pbi-glyph-view"),e.\u0275\u0275attribute("title",a.isVisualHidden()?a.localizationService.get("ExplorationCanvasItemsPane_Hidden_Visual"):a.localizationService.get("ExplorationCanvasItemsPane_Shown_Visual")),e.\u0275\u0275advance(1),e.\u0275\u0275property("drag","visual-container-thumbnail")("dragConfig",e.\u0275\u0275pureFunction0(15,Qe))("getDragContext",a.getDragContext()),e.\u0275\u0275advance(1),e.\u0275\u0275property("modulePath",a.exploreUIThumbnailModulePath)("componentId","VisualContainerThumbnailComponentId")("inputArgs",e.\u0275\u0275pureFunction2(16,Xe,a.visual,a.noBorderViewport)))},dependencies:[ie.NgClass,Se.s,Ae.R,Ge.w,ie.AsyncPipe],styles:['.thumbnailContainerWrapper.ui-draggable-dragging{border:2px solid var(--colorBrandForeground1)}[_nghost-%COMP%]{height:132px;display:block}[_nghost-%COMP%]:focus{outline:none}[_nghost-%COMP%]   .thumbnailHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-bottom:2px;font-size:11px;cursor:default}[_nghost-%COMP%]   .thumbnailHeader[_ngcontent-%COMP%]   .visualVisibilityIcon[_ngcontent-%COMP%]{font-size:11px;margin:0 2px 0 5px;align-self:flex-end;color:var(--fluent-theme-neutral-dark-color, #201F1E)}[_nghost-%COMP%]   .hiddenVisual[_ngcontent-%COMP%]{opacity:.3}[_nghost-%COMP%]   .thumbnailContainerWrapper[_ngcontent-%COMP%]{background-color:transparent;box-sizing:content-box;overflow:hidden;-webkit-background-clip:content;background-clip:content "-box";position:relative;display:block;border:1px solid var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}[_nghost-%COMP%]   .thumbnailContainerWrapper.draggable-root-dragging[_ngcontent-%COMP%]{opacity:0}']}),n}();function Ct(n,t){if(1&n){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275listener("click",function(l){e.\u0275\u0275restoreView(o);var r=e.\u0275\u0275nextContext().ngIf,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onOptionsClick(l,r.optionsSetting))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}2&n&&e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,1,"Pane_Options"))}function Ze(n,t){1&n&&e.\u0275\u0275element(0,"div",27)}function Ye(n,t){1&n&&e.\u0275\u0275element(0,"tri-svg-icon",28)}function M(n,t){if(1&n){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",23),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(o);var r=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(r.applyAutoLayout())}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Ze,1,0,"div",24),e.\u0275\u0275template(4,Ye,1,0,"tri-svg-icon",25),e.\u0275\u0275element(5,"span",26),e.\u0275\u0275elementEnd()}if(2&n){var a=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(2,6,a.autoLayoutActionDisabled$)),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(1,4,"CreateMobileAuthoring_Button")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!a.isTridentEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isTridentEnabled)}}function E(n,t){1&n&&e.\u0275\u0275element(0,"div",29)}function V(n,t){1&n&&e.\u0275\u0275element(0,"tri-svg-icon",30)}function J(n,t){1&n&&e.\u0275\u0275element(0,"div",31)}function Le(n,t){1&n&&e.\u0275\u0275element(0,"tri-svg-icon",32)}var ke=function(t){return{hasAutoLayout:t}};function qe(n,t){if(1&n){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",14),e.\u0275\u0275template(1,M,6,8,"button",15),e.\u0275\u0275elementStart(2,"div",16)(3,"button",17),e.\u0275\u0275listener("pbiMenuButtonClick",function(r){e.\u0275\u0275restoreView(o);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.handleVisibilityFilterChange(r))}),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275template(5,E,1,0,"div",18),e.\u0275\u0275template(6,V,1,0,"tri-svg-icon",19),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"button",20),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(o);var r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.clearAllVisualsFromCanvasPressed())}),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275template(9,J,1,0,"div",21),e.\u0275\u0275template(10,Le,1,0,"tri-svg-icon",22),e.\u0275\u0275elementEnd()()()}if(2&n){var a=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(14,ke,a.featureSwitchService.featureSwitches.mobileAutoReportLayout)),e.\u0275\u0275advance(1),e.\u0275\u0275property("pbiFeatureSwitch","mobileAutoReportLayout"),e.\u0275\u0275advance(2),e.\u0275\u0275property("pbiMenu",a.filterByVisibilityMenu),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(4,10,"Filter_By_Appearance")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!a.isTridentEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isTridentEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",a.isRemoveAllVisualsDisabled()),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(8,12,"RemoveAllVisuals_Title")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!a.isTridentEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isTridentEnabled)}}function et(n,t){1&n&&e.\u0275\u0275element(0,"hr")}function tt(n,t){if(1&n){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li")(1,"mobile-visual-container-thumbnail-wrapper",37),e.\u0275\u0275listener("keydown",function(s){var h=e.\u0275\u0275restoreView(o).$implicit,y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(y.onKeydown(s,h))})("dblclick",function(){var v=e.\u0275\u0275restoreView(o).$implicit,h=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(h.addThumbnailToNextFreeSpot(v))}),e.\u0275\u0275elementEnd()()}if(2&n){var a=t.$implicit,l=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("visual",a)("viewport",l.viewport)}}var nt=function(){return{ignoreOverlay:!1,ignoreMobile:!1}};function it(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"div",33)(1,"div",34)(2,"div",35)(3,"ul"),e.\u0275\u0275elementContainerStart(4),e.\u0275\u0275template(5,tt,2,2,"li",36),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()()()()),2&n){var o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("pbiScrollbar",e.\u0275\u0275pureFunction0(2,nt)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",o.visuals)}}var Ue=function(t){return{isCollapsed:t}};function ot(n,t){if(1&n){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"article",1)(1,"div",2),e.\u0275\u0275elementContainerStart(2),e.\u0275\u0275elementStart(3,"button",3),e.\u0275\u0275listener("click",function(){var s=e.\u0275\u0275restoreView(o).ngIf,v=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(v.toggle(!s.isPaneExpanded))}),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275element(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275element(7,"div",6),e.\u0275\u0275template(8,Ct,2,3,"div",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",8),e.\u0275\u0275element(10,"span",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,qe,11,16,"div",10),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,et,1,0,"hr",11),e.\u0275\u0275template(13,it,6,3,"div",12),e.\u0275\u0275elementEnd()}if(2&n){var a=t.ngIf;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(13,Ue,!a.isPaneExpanded)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(15,Ue,!a.isPaneExpanded)),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(4,11,"PageVisualsPane_Title"))("aria-expanded",!!a.isPaneExpanded),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!a.isPaneExpanded),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",a.isPaneExpanded?"pbi-glyph-doublechevronright ":"pbi-glyph-doublechevrondown "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPaneExpanded&&(null==a.optionsSetting?null:a.optionsSetting.showOptions)),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",a.isPaneExpanded),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.isPaneExpanded),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPaneExpanded),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPaneExpanded)}}var at=window,rt=function(){function n(t,o,a,l,r,s,v,h,y,b,O){this.autoLayoutGenerator=t,this.eventBridge=o,this.explorationNavigation=a,this.formFactor=l,this.layoutAuthoring=r,this.localizationService=s,this.modernDialogService=v,this.panesVisibilityService=h,this.pbiMenuService=y,this.featureSwitchService=b,this.visualPluginOps=O,this.isTridentEnabled=at.isTrident,this.filterByVisibilityMenu={items:[{id:0,type:B.iB.Button,text:this.localizationService.get("All"),checkable:!0,checked:!0},{id:1,type:B.iB.Button,text:this.localizationService.get("Visible"),checkable:!0},{id:2,type:B.iB.Button,text:this.localizationService.get("Hidden_Upper_First"),checkable:!0}]},this.paneVisibility$=this.panesVisibilityService.getPanes$().pipe((0,m.U)(function(A){return A.pageVisuals})),this.visibilityFilterChosenItem=this.filterByVisibilityMenu.items[0]}return n.prototype.ngOnInit=function(){var t=this;this.scrollbarsConfig={ignoreOverlay:!1,ignoreMobile:!1},this.viewport={width:108,height:108},this.subscriptionManager=this.eventBridge.createChannelSubscriptionManager().subscribe(f.wAN,function(){return t.updateVisuals()}).subscribe(f.aco,function(){return t.updateVisuals()}),this.updateVisuals()},n.prototype.ngAfterViewInit=function(){this.selectionModel=new Be(this.filterByVisibilityMenu.items,this.menuTrigger)},n.prototype.ngOnDestroy=function(){this.subscriptionManager.unsubscribeAll(),this.selectionModel.destroy()},n.prototype.onOptionsClick=function(t,o){t.stopPropagation(),(0,Ee.cc)(t,o,this.pbiMenuService)},n.prototype.isRemoveAllVisualsDisabled=function(){return 0===this.layoutAuthoring.visualsInLayout(this.explorationNavigation.getCurrentSection(),1).length},n.prototype.clearAllVisualsFromCanvasPressed=function(){var t=this;return this.modernDialogService.promptHostSimpleDialog("ClearAllVisualsConfirmDialog",{title:this.localizationService.get("RemoveAllVisuals_Title"),message:this.localizationService.get("RemoveAllVisuals_MessageContent"),okButtonText:this.localizationService.get("RemoveAllVisuals_OKText"),cancelButtonText:this.localizationService.get("RemoveAllVisuals_CancelText")},{panelClass:["legacy-dialog"]}).then(function(o){if(1===o){var a=t.explorationNavigation.getCurrentSection(),l=t.explorationNavigation.getCurrentExploration();t.layoutAuthoring.removeLayoutFromSection(a,1,l)}})},n.prototype.onKeydown=function(t,o){(t.keyCode===W.K5||t.keyCode===W.L_)&&this.addThumbnailToNextFreeSpot(o)},n.prototype.addThumbnailToNextFreeSpot=function(t){this.eventBridge.publishToChannel(f.JAC,{visualContainer:t})},n.prototype.toggle=function(t){this.panesVisibilityService.getVisibilityFor("pageVisuals").setPaneExpansion(t)},n.prototype.handleVisibilityFilterChange=function(t){this.visibilityFilterChosenItem=t,this.updateVisuals()},n.prototype.applyAutoLayout=function(){return(0,g.mG)(this,void 0,void 0,function(){return(0,g.Jh)(this,function(t){return this.autoLayoutGenerator.generateAutoMobileLayout("mobilePageVisualsPane"),[2]})})},Object.defineProperty(n.prototype,"autoLayoutActionDisabled$",{get:function(){return this.autoLayoutGenerator.autoLayoutActionDisabled$},enumerable:!1,configurable:!0}),n.prototype.updateVisuals=function(){var t=this,o=this.explorationNavigation.getCurrentSection(),a=this.formFactor.getCurrentLayout();H.fF.assertValue(o,"currentSection"),H.fF.assertValue(a,"currentLayout"),this.visuals=o.visualContainers.filter(function(l){if(l.layouts.withId(a))return!1;var r=t.visibilityFilterChosenItem;if(0===r.id)return!0;var s=(0,Q.Pu)(l);return 2===r.id?s:!s})},n.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(re),e.\u0275\u0275directiveInject(F.J),e.\u0275\u0275directiveInject(De.z),e.\u0275\u0275directiveInject(Ve.F),e.\u0275\u0275directiveInject(G.U),e.\u0275\u0275directiveInject(j.o),e.\u0275\u0275directiveInject(U.x),e.\u0275\u0275directiveInject(be.r),e.\u0275\u0275directiveInject(xe.o),e.\u0275\u0275directiveInject(Fe.vZ),e.\u0275\u0275directiveInject(u.f))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["mobile-page-visuals-pane"]],viewQuery:function(o,a){var l;(1&o&&e.\u0275\u0275viewQuery(Te.l8,5),2&o)&&(e.\u0275\u0275queryRefresh(l=e.\u0275\u0275loadQuery())&&(a.menuTrigger=l.first))},features:[e.\u0275\u0275ProvidersFeature([re])],decls:2,vars:3,consts:[["class","sidePane rightSidePane visualizationPane smallFontSize","keyboard-shortcuts","ctrl-F6","focus-nav-mode","Group","focus-priority","6",3,"ngClass",4,"ngIf"],["keyboard-shortcuts","ctrl-F6","focus-nav-mode","Group","focus-priority","6",1,"sidePane","rightSidePane","visualizationPane","smallFontSize",3,"ngClass"],[1,"paneHeader"],["localizeTooltip","Pane_Toggle",1,"btn","toggleBtn",3,"ngClass","click"],["localize","PageVisualsPane_Title",1,"sidePaneHorizontalTitle","unselectable","sidePaneTitle","largeFontSize","trimmedTextWithEllipsis",3,"hidden"],[1,"collapse"],[1,"btnIcon","glyphicon","glyph-mini",3,"ngClass"],["class","btnIcon glyphicon glyph-small pbi-glyph-more",3,"pbiTooltip","click",4,"ngIf"],[1,"verticalTitle","verticalText",3,"hidden"],["localize","PageVisualsPane_Title",1,"collapsedVisualsTitle","largeFontSize"],["class","flex paneActions",3,"ngClass",4,"ngIf"],[4,"ngIf"],["class","paneContents flex",4,"ngIf"],[1,"btnIcon","glyphicon","glyph-small","pbi-glyph-more",3,"pbiTooltip","click"],[1,"flex","paneActions",3,"ngClass"],["class","paneActionButton autoLayoutAction","localizeTooltip","CreateMobileAuthoring_Button",3,"disabled","click",4,"pbiFeatureSwitch"],[1,"actionsWrapper"],["localizeTooltip","Filter_By_Appearance",1,"paneActionButton",3,"pbiMenu","pbiMenuButtonClick"],["class","glyphicon pbi-glyph-equalizer glyph-small",4,"ngIf"],["tri-svg-icon-16","","sprite","authoring-icons","name","options_16_regular","class","options-icon svgIcon","role","img","tabindex","0",4,"ngIf"],["localizeTooltip","RemoveAllVisuals_Title",1,"paneActionButton",3,"disabled","click"],["class","glyphicon pbi-glyph-eraser glyph-small",4,"ngIf"],["tri-svg-icon-16","","sprite","authoring-icons","name","eraser_16_regular","class","eraser-icon svgIcon","role","img","tabindex","0",4,"ngIf"],["localizeTooltip","CreateMobileAuthoring_Button",1,"paneActionButton","autoLayoutAction",3,"disabled","click"],["class","glyphicon glyph-small pbi-glyph-phone-optimized-report",4,"ngIf"],["tri-svg-icon-16","","sprite","authoring-icons","name","data_bar_vertical_phone_16_regular","class","autoLayoutIcon svgIcon","role","img","tabindex","0",4,"ngIf"],["localize","QuickCreate_CreateAutoGenerate",1,"autoLayoutText"],[1,"glyphicon","glyph-small","pbi-glyph-phone-optimized-report"],["tri-svg-icon-16","","sprite","authoring-icons","name","data_bar_vertical_phone_16_regular","role","img","tabindex","0",1,"autoLayoutIcon","svgIcon"],[1,"glyphicon","pbi-glyph-equalizer","glyph-small"],["tri-svg-icon-16","","sprite","authoring-icons","name","options_16_regular","role","img","tabindex","0",1,"options-icon","svgIcon"],[1,"glyphicon","pbi-glyph-eraser","glyph-small"],["tri-svg-icon-16","","sprite","authoring-icons","name","eraser_16_regular","role","img","tabindex","0",1,"eraser-icon","svgIcon"],[1,"paneContents","flex"],[1,"sectionHost","item-fill"],[3,"pbiScrollbar"],[4,"ngFor","ngForOf"],["tabindex","0","focusElement","",3,"visual","viewport","keydown","dblclick"]],template:function(o,a){1&o&&(e.\u0275\u0275template(0,ot,14,17,"article",0),e.\u0275\u0275pipe(1,"async")),2&o&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,a.paneVisibility$))},dependencies:[ie.NgClass,ie.NgForOf,ie.NgIf,fe.X,p.r,I.P,z.q,Te.l8,X.r,x.V,te.M,Je,ie.AsyncPipe,P.F],styles:['.paneHeader[_ngcontent-%COMP%]   .toggleBtn.legacyToggleBtn[_ngcontent-%COMP%]{position:relative;cursor:default;box-sizing:border-box}.paneHeader[_ngcontent-%COMP%]   .toggleBtn.legacyToggleBtn[_ngcontent-%COMP%]   .sidePaneHorizontalTitle[_ngcontent-%COMP%]{cursor:default;font-family:Segoe UI Semilight,wf_segoe-ui_semilight,helvetica,arial,sans-serif}.paneHeader[_ngcontent-%COMP%]{display:flex;flex-direction:column}.paneHeader[_ngcontent-%COMP%]   .toggleBtn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-bottom:0;height:42px}.paneHeader[_ngcontent-%COMP%]   .toggleBtn[_ngcontent-%COMP%]   .sidePaneHorizontalTitle[_ngcontent-%COMP%]{margin-top:0;line-height:normal}.paneHeader[_ngcontent-%COMP%]   .toggleBtn[_ngcontent-%COMP%]   .btnIcon[_ngcontent-%COMP%]{margin:0 8px 0 0}.paneHeader[_ngcontent-%COMP%]   .toggleBtn[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{margin:0 0 4px}.paneHeader[_ngcontent-%COMP%]   .toggleBtn.isCollapsed[_ngcontent-%COMP%]{flex-direction:column}.paneHeader[_ngcontent-%COMP%]   .toggleBtn.isCollapsed[_ngcontent-%COMP%]   .btnIcon[_ngcontent-%COMP%]{margin:16px 8px 0;padding:0}.paneHeader[_ngcontent-%COMP%]   .toggleBtn.isCollapsed[_ngcontent-%COMP%]   .verticalTitle[_ngcontent-%COMP%]{top:65px}.paneHeader[_ngcontent-%COMP%]   .paneActions[_ngcontent-%COMP%]{justify-content:flex-end}.paneHeader[_ngcontent-%COMP%]   .paneActions.hasAutoLayout[_ngcontent-%COMP%]{justify-content:space-between}.paneHeader[_ngcontent-%COMP%]   .actionsWrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]{overflow:hidden;cursor:pointer;margin:0 12px;display:flex;background-color:initial;border:none}.paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]:hover, .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]:active, .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]:active:hover, .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]:focus:hover{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD);color:inherit}.paneHeader[_ngcontent-%COMP%]   .paneActionButton[disabled][_ngcontent-%COMP%]{color:var(--fluent-theme-neutral-tertiary-color, #A19F9D);cursor:default;pointer-events:none}.paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%], .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .svgIcon[_ngcontent-%COMP%]{padding-top:2px}.paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .paneClearTitle[_ngcontent-%COMP%]{font-family:Segoe UI Semilight,wf_segoe-ui_semilight,helvetica,arial,sans-serif;margin-left:8px;overflow:hidden;text-overflow:ellipsis;text-transform:none;white-space:nowrap}.paneHeader[_ngcontent-%COMP%]   .autoLayoutAction[_ngcontent-%COMP%]{display:flex;margin:0 10px}.paneHeader[_ngcontent-%COMP%]   .autoLayoutText[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);margin:0 5px}.svgIcon[_ngcontent-%COMP%]{fill:var(--fluentThemeNeutralDarkColor)}.newPaneColors.explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]{width:378px;max-width:378px}.newPaneColors.explorationContainer[_nghost-%COMP%]   .visualizationPane.isCollapsed[_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   .visualizationPane.isCollapsed[_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   .visualizationPane.isCollapsed[_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   .visualizationPane.isCollapsed[_ngcontent-%COMP%]{width:32px}.newPaneColors.explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]{height:80px}.newPaneColors.explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]{padding:8px;margin:0 5px}.newPaneColors.explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[aria-expanded=true][_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[aria-expanded=true][_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[aria-expanded=true][_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[aria-expanded=true][_ngcontent-%COMP%]{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}.newPaneColors.explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%], .newPaneColors.explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .svgIcon[_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .svgIcon[_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .svgIcon[_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneHeader[_ngcontent-%COMP%]   .paneActionButton[_ngcontent-%COMP%]   .svgIcon[_ngcontent-%COMP%]{padding:0}.newPaneColors.explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneContents[_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneContents[_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneContents[_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   .visualizationPane[_ngcontent-%COMP%]   .paneContents[_ngcontent-%COMP%]{top:92px}.newPaneColors.explorationContainer[_nghost-%COMP%]   hr[_ngcontent-%COMP%], .newPaneColors.explorationContainer   [_nghost-%COMP%]   hr[_ngcontent-%COMP%], .explorationContainer[_nghost-%COMP%]   hr[_ngcontent-%COMP%], .explorationContainer   [_nghost-%COMP%]   hr[_ngcontent-%COMP%]{border:solid var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD);border-width:1px 0 0 0}.paneContents[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;list-style:none;padding:0;margin:6px 18px 0 12px}.paneContents[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;height:auto}']}),n}(),lt=i(55525),we=i(9215),je=function(){function n(){}return n.prototype.getObjectDefinitions=function(t){if(t&&(0,we.Vz)(t))return t.config.singleVisual.mobileObjects},n.prototype.getVcObjectDefinitions=function(t){if(t&&(0,we.Vz)(t))return t.config.singleVisual.mobileVcObjects},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac=function(o){return new(o||n)}}),n}(),st=i(17774),He=function(){function n(){}return n.prototype.shouldShowSliceChangeIndicator=function(t,o){return!!o&&!!(0,st.cH)(o,t.objectName,t.propertyName,void 0!==t.altConstantValueSelector?t.altConstantValueSelector:t.selector)},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac=function(o){return new(o||n)}}),n}(),ct=i(24408),S=i(20598),Re=new Map([[S.e4,[S.e4]],[S.bb,[S.bb]],[S.vX,[S.vX]],[S.j6,[S.j6,S.of,S.Ih]],[S.of,[S.j6,S.of,S.Ih]],[S.K8,[S.K8]],[S.GV,[S.GV]],[S.Zr,[S.Zr]],[S.Ih,[S.j6,S.of,S.Ih]]]),ge=function(){function n(){}return n.prototype.customizeSliceDropdownOptions=function(t,o,a){return"slicerSettings-options-style"===a?t.filter(function(l){var r;return null===(r=Re.get(o.value.toString()))||void 0===r?void 0:r.includes(l.value.toString())}):t},n.prototype.customizeSliceOptions=function(t){var o=this;_.forEach(t,function(a){if("Dropdown"===a.control.type&&ct.WN(a.control.properties)){var l=a.control.properties;l.items=o.customizeSliceDropdownOptions(l.items,l.value,a.uid)}})},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac=function(o){return new(o||n)}}),n}(),ut=i(21302),pt=i(89535),gt=i(45221),dt=i(22179),vt=i(21728),mt=i(84376),Z=i(64647),le=i(72262),me=i(56083),ae=i(32441),Me=function(){function n(t){this.highContrastCssGenerationService=t,this.initializeHighContrastRules()}return n.prototype.initializeHighContrastRules=function(){this.highContrastCssGenerationService.addRule(".themeableElement .empty-pane-svg .emptyFormatting","{ fill: @foregroundColor !important; opacity: 1 !important; }"),this.highContrastCssGenerationService.addRule(".themeableElement .empty-pane-svg .themeColor","{ fill: none !important; opacity: 1 !important; }")},n.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(Z.g))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["mobile-empty-formatting-pane-svg"]],decls:10,vars:0,consts:[["width","58","height","58","viewBox","0 0 58 58","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0)"],["d","M14.5039 40.4166V25.3715H23.5664V12.6804H34.4343V19.9375H43.4968V21.5128C43.2136 21.6426 42.9186 21.8019 42.6118 21.9907C42.305 22.1677 41.9982 22.3624 41.6914 22.5748V21.7429H34.4343V28.9823C34.1511 29.2891 33.862 29.5959 33.567 29.9027C33.2602 30.1977 32.9475 30.5045 32.6289 30.8231V14.5035H25.3718V36.3456C25.006 36.7704 24.6815 37.2129 24.3983 37.6731C24.1151 38.1333 23.8378 38.6112 23.5664 39.1068V27.1946H16.3093V40.5936L14.5039 40.4166Z",1,"themeableElement","emptyFormatting"],["d","M46.7897 23.9023C47.0139 24.1265 47.126 24.4392 47.126 24.8405C47.126 25.3715 46.9549 26.0146 46.6127 26.7698C46.2587 27.5132 45.8044 28.3038 45.2498 29.1416C44.6951 29.9794 44.0815 30.8349 43.4089 31.7081C42.7245 32.5813 42.0519 33.4014 41.3911 34.1685C40.7303 34.9355 40.1226 35.6258 39.568 36.2394C39.0016 36.8412 38.5591 37.3014 38.2405 37.62C37.9573 37.9032 37.6623 38.1982 37.3555 38.505C37.0369 38.8118 36.7183 39.1186 36.3997 39.4254C36.0811 39.7204 35.7684 40.0095 35.4615 40.2927C35.1547 40.5641 34.8715 40.8119 34.6119 41.0361C34.5647 40.3045 34.3936 39.6496 34.0986 39.0714C34.2874 38.8944 34.4998 38.6938 34.7358 38.4696C34.9718 38.2454 35.2196 38.0153 35.4792 37.7793C35.7389 37.5315 35.9985 37.2837 36.2581 37.0359C36.5059 36.7881 36.7419 36.5521 36.9661 36.3279C37.4971 35.7969 38.0517 35.2187 38.6299 34.5933C39.1963 33.9561 39.7627 33.3011 40.3291 32.6285C40.8955 31.9559 41.4442 31.2833 41.9752 30.6107C42.4944 29.9381 42.9723 29.295 43.4089 28.6814C43.8455 28.0678 44.2172 27.5014 44.524 26.9822C44.8309 26.4512 45.0492 26.0087 45.179 25.6547C44.8368 25.8317 44.3175 26.1916 43.6213 26.7344C42.9251 27.2654 42.0519 28.0147 41.0017 28.9823C39.9397 29.9381 38.7066 31.1181 37.3024 32.5223C35.8864 33.9266 34.2874 35.5845 32.5056 37.4961C31.9274 37.2011 31.2784 37.0359 30.5586 37.0005C30.7828 36.7409 31.0365 36.4577 31.3197 36.1509C31.5911 35.8323 31.8802 35.5137 32.187 35.1951C32.482 34.8765 32.7829 34.5579 33.0897 34.2393C33.3965 33.9207 33.6915 33.6198 33.9747 33.3365C34.2107 33.1005 34.5234 32.7819 34.9128 32.3807C35.3022 31.9795 35.7448 31.5311 36.2404 31.0355C36.7242 30.5281 37.2552 29.9971 37.8334 29.4425C38.3998 28.8761 38.9839 28.3215 39.5857 27.7787C40.1757 27.2241 40.7775 26.699 41.3911 26.2034C41.9929 25.696 42.5711 25.2535 43.1257 24.8759C43.6803 24.4865 44.2054 24.1796 44.701 23.9554C45.1849 23.7194 45.6097 23.6014 45.9755 23.6014C46.3177 23.6014 46.5891 23.7017 46.7897 23.9023Z",1,"themeableElement","emptyFormatting"],["d","M27.1761 46.2223C26.5153 46.1633 25.8309 46.0748 25.1229 45.9568C24.4149 45.827 23.7305 45.6677 23.0697 45.4789L20.3262 44.7178L22.9989 43.762C23.8013 43.4788 24.5034 43.1071 25.1052 42.6469C25.707 42.1866 26.2144 41.6497 26.6274 41.0361L26.8398 40.6644C27.123 40.157 27.3944 39.7086 27.6541 39.3192C27.9019 38.918 28.1674 38.5817 28.4506 38.3103C28.722 38.0389 29.0347 37.8324 29.3887 37.6908C29.7309 37.5374 30.1439 37.4607 30.6277 37.4607C31.7369 37.4607 32.5983 37.7675 33.2119 38.3811C33.8255 38.9947 34.1323 39.8561 34.1323 40.9653C34.1323 41.4137 34.0438 41.8503 33.8668 42.2751C33.6898 42.7 33.4479 43.1071 33.1411 43.4965C32.8225 43.8859 32.4508 44.2458 32.026 44.5762C31.5894 44.9066 31.1174 45.1957 30.61 45.4435C30.1026 45.6795 29.5657 45.8683 28.9993 46.0099C28.4329 46.1515 27.8547 46.2223 27.2646 46.2223H27.1761Z",1,"themeableElement","themeColor"],["d","M30.6292 36.558C31.3136 36.558 31.939 36.6583 32.5054 36.8589C33.0718 37.0595 33.5556 37.3486 33.9568 37.7262C34.3462 38.1038 34.653 38.5699 34.8772 39.1245C35.0896 39.6673 35.1958 40.2809 35.1958 40.9653C35.1958 41.8385 34.9657 42.6528 34.5055 43.408C34.0453 44.1514 33.4435 44.8004 32.7001 45.355C31.9449 45.9096 31.0894 46.3462 30.1335 46.6648C29.1777 46.9716 28.1983 47.125 27.1953 47.125C25.7793 46.9952 24.4636 46.7769 23.2482 46.4701C22.729 46.3403 22.2098 46.1869 21.6906 46.0099C21.1595 45.8211 20.6639 45.6087 20.2037 45.3727C19.7435 45.1249 19.3305 44.8476 18.9647 44.5408C18.5989 44.234 18.3216 43.8859 18.1328 43.4965C18.1918 43.5083 18.2626 43.5142 18.3452 43.5142C18.416 43.526 18.4986 43.5319 18.593 43.5319C18.6756 43.5319 18.7818 43.5319 18.9116 43.5319C19.3128 43.5319 19.8202 43.5024 20.4338 43.4434C21.0356 43.3726 21.6729 43.2251 22.3455 43.0009C23.0181 42.7649 23.6848 42.4285 24.3456 41.9919C24.9946 41.5553 25.5669 40.9594 26.0625 40.2042C26.3221 39.7322 26.5935 39.2779 26.8767 38.8413C27.1481 38.4047 27.4549 38.0212 27.7971 37.6908C28.1393 37.3486 28.5405 37.0772 29.0007 36.8766C29.4491 36.6642 29.9919 36.558 30.6292 36.558ZM27.2484 45.3196C28.0036 45.3078 28.7529 45.178 29.4963 44.9302C30.2279 44.6824 30.8829 44.3579 31.4611 43.9567C32.0393 43.5437 32.5054 43.0835 32.8594 42.576C33.2134 42.0568 33.3904 41.5199 33.3904 40.9653C33.3904 40.4815 33.3314 40.0744 33.2134 39.744C33.0836 39.4136 32.9066 39.1481 32.6824 38.9475C32.4582 38.7351 32.1927 38.5876 31.8859 38.505C31.5673 38.4106 31.2133 38.3634 30.8239 38.3634C30.4816 38.3634 30.1807 38.4106 29.9211 38.505C29.6497 38.5994 29.396 38.7587 29.16 38.9829C28.9122 39.1953 28.6703 39.4785 28.4343 39.8325C28.1865 40.1747 27.921 40.5995 27.6378 41.1069C27.3074 41.6143 26.9711 42.0568 26.6289 42.4344C26.2749 42.8121 25.915 43.1425 25.5492 43.4257C25.1834 43.6971 24.8117 43.9272 24.4341 44.116C24.0565 44.3048 23.6789 44.47 23.3013 44.6116C23.9621 44.8004 24.6347 44.9538 25.3191 45.0718C26.0035 45.178 26.6466 45.2606 27.2484 45.3196Z",1,"themeableElement","emptyFormatting"],["d","M25.375 14.5H32.625V30.8125L25.375 36.25V14.5Z",1,"themeableElement","themeColor"],["id","clip0"],["width","36.25","height","36.25","fill","white","transform","translate(10.875 10.875)"]],template:function(o,a){1&o&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(0,"svg",0)(1,"g",1),e.\u0275\u0275element(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5)(6,"path",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"defs")(8,"clipPath",7),e.\u0275\u0275element(9,"rect",8),e.\u0275\u0275elementEnd()()())},styles:[".themeColor[_ngcontent-%COMP%]{fill:var(--colorBrandForeground1)}.emptyFormatting[_ngcontent-%COMP%]{fill:var(--colorNeutralBackgroundInverted)}"]}),n}(),_t=function(){function n(){}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["mobile-empty-formatting-pane-legacy-svg"]],decls:4,vars:0,consts:[["width","45","height","45","viewBox","0 0 45 45","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M32.6 9.80005H40.2V15.4001C40.2 17.6092 38.4092 19.4 36.2 19.4H21.8V27.4","stroke","#252423","stroke-width","1.5"],["x","5.75","y","5.75","width","28.1","height","7.3","rx","1.25","fill","white","stroke","#252423","stroke-width","1.5"],["d","M19 24.15H24.6C25.2904 24.15 25.85 24.7097 25.85 25.4V40.25H17.75V25.4C17.75 24.7097 18.3096 24.15 19 24.15Z","fill","#B3B0AD","stroke","#252423","stroke-width","1.5"]],template:function(o,a){1&o&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(0,"svg",0),e.\u0275\u0275element(1,"path",1)(2,"rect",2)(3,"path",3),e.\u0275\u0275elementEnd())},encapsulation:2}),n}(),Ot=i(45916);function It(n,t){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",1)(2,"pbi-button-toggle",2),e.\u0275\u0275element(3,"pbi-svg-use-symbol",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"div",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",!0)("value",1)("localizeTooltip","Format"),e.\u0275\u0275advance(1),e.\u0275\u0275property("sheet","visualizationPaneIcons_paneColorRefresh")("symbolId","visualizationPaneFormat_paneColorRefresh"))}var Tt=function(){function n(){}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["mobile-formatting-tab"]],inputs:{useModernFormatPane:"useModernFormatPane"},decls:1,vars:1,consts:[[4,"ngIf"],["role","tablist",1,"sectionHeader","pivotNav","visualizationPane"],["role","tab",1,"section-tab-legacy",3,"checked","value","localizeTooltip"],[1,"normal-svg","section-svg",3,"sheet","symbolId"],[1,"navMarker","visualizationPane"]],template:function(o,a){1&o&&e.\u0275\u0275template(0,It,5,5,"ng-container",0),2&o&&e.\u0275\u0275property("ngIf",!a.useModernFormatPane)},dependencies:[ie.NgIf,p.r,Ot.R],styles:[".section-tab-legacy[_ngcontent-%COMP%]{padding:8px 10px;display:inline-block}.section-tab-legacy[_ngcontent-%COMP%]:hover, .section-tab-legacy[_ngcontent-%COMP%]:focus{background:var(--gray-30, #EDEBE9)}.section-tab-legacy[_ngcontent-%COMP%]   .section-svg[_ngcontent-%COMP%]{width:20px;height:20px;display:flex}"]}),n}(),Vt=function(n){function t(o,a){var l=n.call(this,"propertyPane",o,a)||this;return l.propertyChanged=new e.EventEmitter,l}return(0,g.ZT)(t,n),t.\u0275fac=function(a){return new(a||t)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.Injector))},t.\u0275dir=e.\u0275\u0275defineDirective({type:t,selectors:[["property-pane-legacy"]],inputs:{showChangeIndication:"showChangeIndication",excludeObjectRepetition:"excludeObjectRepetition",disabledSliceTypes:"disabledSliceTypes",excludeConditionalFormattingCard:"excludeConditionalFormattingCard"},outputs:{propertyChanged:"propertyChanged"},features:[e.\u0275\u0275InheritDefinitionFeature]}),t}(i(81789).iB);function Ft(n,t){if(1&n){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275listener("click",function(l){e.\u0275\u0275restoreView(o);var r=e.\u0275\u0275nextContext().ngIf,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onOptionsClick(l,r.optionsSetting))}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275elementEnd()}2&n&&e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,1,"Pane_Options"))}function zt(n,t){if(1&n&&e.\u0275\u0275element(0,"mobile-formatting-tab",17),2&n){var o=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("useModernFormatPane",o.useModernFormatPane)}}function At(n,t){if(1&n){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"property-pane-legacy",18),e.\u0275\u0275listener("propertyChanged",function(r){e.\u0275\u0275restoreView(o);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.onPropertyChanged(r))}),e.\u0275\u0275elementEnd()}if(2&n){var a=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("showChangeIndication",!0)("excludeObjectRepetition",a.excludeObjectRepetition)("excludeConditionalFormattingCard",!0)("disabledSliceTypes",a.disabledSliceTypes)}}var Lt=function(){return["Visual","Format_Label_General"]};function wt(n,t){if(1&n){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"formatting-pane-lazy",19),e.\u0275\u0275listener("propertyChanged",function(r){e.\u0275\u0275restoreView(o);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.onPropertyChanged(r))}),e.\u0275\u0275elementEnd()}if(2&n){var a=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("formattingSources",e.\u0275\u0275pureFunction0(6,Lt))("showPivot",!0)("indicatorEnabled",!0)("mobileFormatting",!0)("disabledCards",a.disabledCards)("disabledSlices",a.disabledSlices)}}function Bt(n,t){1&n&&e.\u0275\u0275element(0,"mobile-empty-formatting-pane-legacy-svg",23)}function Dt(n,t){1&n&&e.\u0275\u0275element(0,"mobile-empty-formatting-pane-svg",23)}function jt(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275template(1,Bt,1,0,"mobile-empty-formatting-pane-legacy-svg",21),e.\u0275\u0275template(2,Dt,1,0,"mobile-empty-formatting-pane-svg",21),e.\u0275\u0275element(3,"span",22),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.useModernFormatPane),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.useModernFormatPane)}}function Ht(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275template(1,zt,1,1,"mobile-formatting-tab",12),e.\u0275\u0275elementStart(2,"section",13),e.\u0275\u0275template(3,At,1,4,"property-pane-legacy",14),e.\u0275\u0275template(4,wt,1,7,"formatting-pane-lazy",15),e.\u0275\u0275template(5,jt,4,2,"div",16),e.\u0275\u0275elementEnd()()),2&n){var o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.useModernFormatPane),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!o.useModernFormatPane&&o.visualSelected()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.useModernFormatPane&&o.visualSelected()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.visualSelected())}}var Rt=function(t){return{isCollapsed:t}},Nt=function(t){return{isCollapsed:t}};function Ut(n,t){if(1&n){var o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"article",1)(1,"div",2)(2,"button",3),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(o);var r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.toggle())}),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275element(4,"div",4),e.\u0275\u0275template(5,Ft,2,3,"div",5),e.\u0275\u0275element(6,"div",6),e.\u0275\u0275elementStart(7,"div",7),e.\u0275\u0275element(8,"span",8),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(9,Ht,6,4,"div",9),e.\u0275\u0275elementEnd()}if(2&n){var a=t.ngIf;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(11,Rt,!a.isPaneExpanded)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(13,Nt,!a.isPaneExpanded)),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(3,9,"VisualizationPane_Title"))("aria-expanded",!!a.isPaneExpanded),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",a.isPaneExpanded?"pbi-glyph-doublechevronright ":"pbi-glyph-doublechevrondown "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isPaneExpanded&&(null==a.optionsSetting?null:a.optionsSetting.showOptions)),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!a.isPaneExpanded),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",a.isPaneExpanded),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.isPaneExpanded)}}var Wt=function(){function n(t,o,a,l,r,s,v,h,y,b){var O,A,R=this;this.featureSwitchService=t,this.highContrastCssGenerationService=o,this.telemetryService=a,this.selectionService=l,this.tutorialPopupService=r,this.localizationService=s,this.dialogService=v,this.panesVisibilityService=h,this.pbiMenuService=y,this.mobileVisualFormattingSettingsService=b,this.showTutorial=!1,this.excludeObjectRepetition=["visualHeader","visualHeaderTooltip"],this.disabledSliceTypes=["image","geoJson"],this.onDestroy$=new ee.xQ,this.paneVisibility$=this.panesVisibilityService.getPanes$().pipe((0,Ce.R)(this.onDestroy$),(0,m.U)(function(Y){return Y.format}));var oe=this.localizationService.get("MobileFormatting_Card_DisabledReason");this.disabledCards=((O={}).headerIcons={disabledReason:oe},O.visualLevelFieldsFormat={disabledReason:oe},O);var ne=this.localizationService.get("MobileFormatting_Slice_DisabledReason");this.disabledSlices=((A={}).ConditionalFormattingControl={disabledReason:ne},A.ImageUpload={disabledReason:ne},A.ShapeMapSelector={disabledReason:ne},A.ToggleSwitch={disabledReason:ne,filterUid:["slicerSettings-selection-strictSingleSelect","slicerSettings-selection-singleSelect","slicerSettings-selection-selectAllCheckboxEnabled"]},A),this.featureSwitchService.getFeatureSwitches().then(function(Y){if(R.useModernFormatPane=Y.useModernFormatPane,!R.featureSwitchService.featureSwitches.interactiveMobileCanvas){var k=R.disabledSlices.ToggleSwitch,se="columnHeaders-options-autoSizeColumnWidth";k?k.filterUid.push(se):k={disabledReason:ne,filterUid:[se]}}}),this.initializeHighContrastRules()}return n.prototype.ngOnDestroy=function(){this.onDestroy$.next(),this.onDestroy$.complete()},n.prototype.ngAfterContentInit=function(){this.showMobileAuthoringVisualizationsTutorialIfNeeded()},n.prototype.toggle=function(){this.panesVisibilityService.togglePaneExpansion("format")},n.prototype.onOptionsClick=function(t,o){t.stopPropagation(),(0,Ee.cc)(t,o,this.pbiMenuService)},n.prototype.visualSelected=function(){var t,o=vt.UP.getSelectedCanvasItem(this.selectionService);return!(null===(t=o?.layouts)||void 0===t||!t.withId(1))},n.prototype.onPropertyChanged=function(t){this.showModalOnPanePropertyChange(),this.telemetryService.logEvent(mt.wb,{visualType:t.visualType,cardName:t.cardName,sliceName:t.sliceName,visualUniqueName:t.visualUniqueName})},n.prototype.showMobileAuthoringVisualizationsTutorialIfNeeded=function(){this.showTutorial&&this.tutorialPopupService.startTutorial&&this.tutorialPopupService.startTutorial(this.createDiagramTutorialModel())},n.prototype.createDiagramTutorialModel=function(){var t="MobileAuthoringVisualizations",o=".paneHeader";return{itemKeys:[t],items:{MobileAuthoringVisualizations:{title:this.localizationService.get("MobileAuthoring_Visualizations_TutorialTitle"),text:this.localizationService.get("Mobile_Authoring_Formatting_NewFeature_Description"),buttonLabel:this.localizationService.get("TutorialPopup_GotIt"),canShow:function(){return!!$(o)},attachTo:function(){return $(o)},arrowOffset:{top:-8,left:0},showWhenUnclickable:!0,dataStoreKey:t,customClass:"tutorial-fluent-design-container"}}}},n.prototype.showModalOnPanePropertyChange=function(){return(0,g.mG)(this,void 0,void 0,function(){return(0,g.Jh)(this,function(a){switch(a.label){case 0:return[4,this.mobileVisualFormattingSettingsService.isFormattingChangeDialogShown()];case 1:return a.sent()?[3,4]:[4,this.dialogService.showSimpleInfoDialog({title:this.localizationService.get("MobileVisualFormattingEditDialog_Title"),message:this.localizationService.get("MobileVisualFormattingEditDialog_Body"),okButtonText:this.localizationService.get("ModalDialogButtonText_GotIt")},{width:"500px"}).afterClosed().toPromise()];case 2:return a.sent(),[4,this.mobileVisualFormattingSettingsService.markFormattingChangeDialogShown()];case 3:a.sent(),a.label=4;case 4:return[2]}})})},n.prototype.initializeHighContrastRules=function(){this.highContrastCssGenerationService.addRule(".themeableElement .change-indicator-icon svg","{ fill: @foregroundColor !important; }")},n.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(Fe.vZ),e.\u0275\u0275directiveInject(Z.g),e.\u0275\u0275directiveInject(C.y0),e.\u0275\u0275directiveInject(le.z),e.\u0275\u0275directiveInject(me.yU),e.\u0275\u0275directiveInject(j.o),e.\u0275\u0275directiveInject(U.x),e.\u0275\u0275directiveInject(be.r),e.\u0275\u0275directiveInject(xe.o),e.\u0275\u0275directiveInject(lt.P))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["mobile-visual-formatting-pane"]],inputs:{showTutorial:"showTutorial"},features:[e.\u0275\u0275ProvidersFeature((0,g.ev)([{provide:ut.Ol,useClass:He},{provide:gt.h,useClass:je},{provide:pt.Kj,useClass:ge}],dt.H,!0))],decls:2,vars:3,consts:[["keyboard-shortcuts","ctrl-F6","focus-nav-mode","Group","focus-priority","7",3,"ngClass",4,"ngIf"],["keyboard-shortcuts","ctrl-F6","focus-nav-mode","Group","focus-priority","7",3,"ngClass"],[1,"paneHeader"],["localizeTooltip","Pane_Toggle",1,"btn","toggleBtn",3,"ngClass","click"],[1,"btnIcon","glyphicon","glyph-mini",3,"ngClass"],["class","btnIcon glyphicon glyph-small pbi-glyph-more",3,"pbiTooltip","click",4,"ngIf"],["localize","VisualizationPane_Title",1,"sidePaneHorizontalTitle","unselectable","sidePaneTitle","largeFontSize","trimmedTextWithEllipsis",3,"hidden"],[1,"verticalTitle","verticalText",3,"hidden"],["localize","VisualizationPane_Title",1,"collapsedVisualsTitle","largeFontSize"],["class","paneContents flex",4,"ngIf"],[1,"btnIcon","glyphicon","glyph-small","pbi-glyph-more",3,"pbiTooltip","click"],[1,"paneContents","flex"],[3,"useModernFormatPane",4,"ngIf"],["focus-nav-mode","Browser",1,"lazy-load-wrapper","stretch","item-fill"],["role","application",3,"showChangeIndication","excludeObjectRepetition","excludeConditionalFormattingCard","disabledSliceTypes","propertyChanged",4,"ngIf"],[3,"formattingSources","showPivot","indicatorEnabled","mobileFormatting","disabledCards","disabledSlices","propertyChanged",4,"ngIf"],["class","empty-pane",4,"ngIf"],[3,"useModernFormatPane"],["role","application",3,"showChangeIndication","excludeObjectRepetition","excludeConditionalFormattingCard","disabledSliceTypes","propertyChanged"],[3,"formattingSources","showPivot","indicatorEnabled","mobileFormatting","disabledCards","disabledSlices","propertyChanged"],[1,"empty-pane"],["class","empty-pane-svg",4,"ngIf"],["localize","Mobile_Authoring_Formatting_Empty",1,"empty-pane-text"],[1,"empty-pane-svg"]],template:function(o,a){1&o&&(e.\u0275\u0275template(0,Ut,10,15,"article",0),e.\u0275\u0275pipe(1,"async")),2&o&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,a.paneVisibility$))},dependencies:[ie.NgClass,ie.NgIf,fe.X,p.r,ae.u,z.q,x.V,Me,_t,Tt,Vt,ie.AsyncPipe,P.F],styles:['.paneHeader[_ngcontent-%COMP%]   .sidePaneHorizontalTitle[_ngcontent-%COMP%]{margin:12px 0 0 12px}.paneHeader[_ngcontent-%COMP%]   .btnIcon[_ngcontent-%COMP%]{margin:10px 8px 0 0}.paneContents[_ngcontent-%COMP%]{justify-content:flex-start}.paneContents[_ngcontent-%COMP%]   mobile-formatting-tab[_ngcontent-%COMP%]{width:100%}.paneContents[_ngcontent-%COMP%]   formatting-pane-lazy[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-direction:column}.paneContents[_ngcontent-%COMP%]   .empty-pane[_ngcontent-%COMP%]{display:flex;flex-basis:100%;flex-wrap:wrap;align-items:center;padding:0 20px;text-align:center;align-content:center;justify-content:center;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400)}.paneContents[_ngcontent-%COMP%]   .empty-pane[_ngcontent-%COMP%]   .empty-pane-svg[_ngcontent-%COMP%]{margin-bottom:10px}.paneContents[_ngcontent-%COMP%]   .empty-pane[_ngcontent-%COMP%]   .empty-pane-text[_ngcontent-%COMP%]{flex-basis:100%;padding:5px 20px}.paneContents[_ngcontent-%COMP%]   .empty-pane[_ngcontent-%COMP%]   .empty-pane-text.empty-pane-text-bold[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-semi-bold, 600)}.paneContents[_ngcontent-%COMP%]   .lazy-load-wrapper[_ngcontent-%COMP%]{position:relative;flex-direction:column}']}),n}(),$t=i(78432),Gt=i(57869),Kt=i(73221),Qt=i(10861),Xt=i(44581),Jt=i(86663);function Zt(n,t){1&n&&(e.\u0275\u0275element(0,"span",7),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275pipe(3,"localize")),2&n&&(e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,3,"MobileFormatting_ChangeIndicator_SliceTooltip"))("aria-label",e.\u0275\u0275pipeBind1(2,5,"Mobile_Authoring_Formatting_Change_Indicator")),e.\u0275\u0275attribute("aria-description",e.\u0275\u0275pipeBind1(3,7,"MobileFormatting_ChangeIndicator_SliceTooltip")))}function Yt(n,t){1&n&&(e.\u0275\u0275element(0,"tri-svg-icon",8),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275pipe(3,"localize")),2&n&&(e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,3,"MobileFormatting_ChangeIndicator_SliceTooltip"))("aria-label",e.\u0275\u0275pipeBind1(2,5,"Mobile_Authoring_Formatting_Change_Indicator")),e.\u0275\u0275attribute("aria-description",e.\u0275\u0275pipeBind1(3,7,"MobileFormatting_ChangeIndicator_SliceTooltip")))}function kt(n,t){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Zt,4,9,"span",5),e.\u0275\u0275template(2,Yt,4,9,"tri-svg-icon",6),e.\u0275\u0275elementContainerEnd()),2&n){var o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.isTridentEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.isTridentEnabled)}}var qt=window,en=function(n){function t(o,a,l){var r=n.call(this)||this;return r.propertyChangeIndicatorService=o,r.formattingObjectDefinitionsService=a,r.visualAuthoring=l,r.isTridentEnabled=qt.isTrident,r.showChangeIndicator$=new ye.X(!1),r.textboxDescriptors=[],Object.values(Gt.RL).forEach(function(s){Object.values(s).forEach(function(v){return r.textboxDescriptors.push(v)})}),r}return(0,g.ZT)(t,n),t.prototype.ngOnInit=function(){var o=this;H.fF.assertValue(this.onSaveState$,"onSaveState$"),this.onSaveState$.pipe((0,Ce.R)(this.onDestroy$)).subscribe(function(){return o.showChangeIndicator()})},t.prototype.showChangeIndicator=function(){var o=this,a=this.formattingObjectDefinitionsService.getObjectDefinitions(this.visualContainer),l=a&&_.some(this.textboxDescriptors,function(r){return o.propertyChangeIndicatorService.shouldShowSliceChangeIndicator(r,a)});this.showChangeIndicator$.next(l)},t.prototype.revertToDefault=function(){var o=this.visualContainer.config.singleVisual.objects;o&&((0,$t.Aw)(o,this.textboxDescriptors),this.visualAuthoring.raiseVisualContainerChanged(this.visualContainer),this.showChangeIndicator())},t.\u0275fac=function(a){return new(a||t)(e.\u0275\u0275directiveInject(He),e.\u0275\u0275directiveInject(je),e.\u0275\u0275directiveInject(Qt.$8))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["textbox-formatting-settings"]],inputs:{onSaveState$:"onSaveState$",visualContainer:"visualContainer"},features:[e.\u0275\u0275ProvidersFeature([He,je]),e.\u0275\u0275InheritDefinitionFeature],decls:11,vars:20,consts:[["focus-nav-mode","Group",1,"textboxFormattingSettingsContainer"],[4,"ngIf"],[1,"reset-button",3,"tabindex","pbiTooltip","accessible-click"],["name","reset","size","mini",1,"reset-icon"],[3,"localize"],["class","change-indicator-icon glyphicon glyph-mini pbi-glyph-phone-optimized-report","role","img","tabindex","0",3,"pbiTooltip","aria-label",4,"ngIf"],["sprite","authoring-icons","name","data_bar_vertical_phone_16_regular","class","change-indicator-icon","role","img","tabindex","0",3,"pbiTooltip","aria-label",4,"ngIf"],["role","img","tabindex","0",1,"change-indicator-icon","glyphicon","glyph-mini","pbi-glyph-phone-optimized-report",3,"pbiTooltip","aria-label"],["sprite","authoring-icons","name","data_bar_vertical_phone_16_regular","role","img","tabindex","0",1,"change-indicator-icon",3,"pbiTooltip","aria-label"]],template:function(a,l){1&a&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,kt,3,2,"ng-container",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"button",2),e.\u0275\u0275listener("accessible-click",function(){return l.revertToDefault()}),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275element(9,"pbi-icon",3)(10,"span",4),e.\u0275\u0275elementEnd()()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,8,l.showChangeIndicator$)),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("disabled",!e.\u0275\u0275pipeBind1(4,10,l.showChangeIndicator$)),e.\u0275\u0275propertyInterpolate("tabindex",e.\u0275\u0275pipeBind1(6,14,l.showChangeIndicator$)?0:-1),e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(7,16,"Visual_RevertToDesktop_Tooltip")),e.\u0275\u0275attribute("aria-disabled",!e.\u0275\u0275pipeBind1(5,12,l.showChangeIndicator$))("aria-label",e.\u0275\u0275pipeBind1(8,18,"Visual_RevertToDesktop_Tooltip")),e.\u0275\u0275advance(7),e.\u0275\u0275property("localize","Reset_All_Settings_Mobile"))},dependencies:[ie.NgIf,fe.X,Xt.t,Jt._,x.V,te.M,ie.AsyncPipe,P.F],styles:['.textboxFormattingSettingsContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .change-indicator-icon[_ngcontent-%COMP%]{padding:8px 8px 8px 16px;fill:var(--gray-160, #323130)}.textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{cursor:pointer;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);align-items:center;background:inherit;display:flex;height:36px}html:not([dir="rtl"])[_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{margin-left:auto}html[dir="rtl"][_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{margin-right:auto}html:not([dir="rtl"])[_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{padding-right:8px}html[dir="rtl"][_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{padding-left:8px}html:not([dir="rtl"])[_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{padding-left:2px}html[dir="rtl"][_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{padding-right:2px}.textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{color:var(--fluent-theme-link-darker-color, #005A9E)}html:not([dir="rtl"])[_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir="rtl"][_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{margin-left:6px}.textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button.disabled[_ngcontent-%COMP%]{pointer-events:none;color:var(--gray-90, #A19F9D)}.textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button.disabled[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D)}html[data-focus-source="key"][_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:focus, html[data-focus-source="key"]   [_nghost-%COMP%]   .textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:hover{color:var(--fluent-theme-link-darker-color, #005A9E)}.textboxFormattingSettingsContainer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:active{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}']}),t}(Kt.w),tn=i(67659),nn=i(32288),on=i(20993),an=i(42101),rn=i(14029),ln=i(77906),sn=i(95859),cn=i(72359),un=i(52950),pn=i(23612),gn=i(93367),dn=i(94841),vn=i(79725),mn=i(16095),hn=i(17177),yt=i(36244),Ne=i(57871),ht=i(55133),d=i(47508),bt=i(9434),fn=i(15702),Cn=[d.L.actionButton.name,d.L.image.name,d.L.shape.name,d.L.basicShape.name],Mt=new Set([d.L.card.name,d.L.kpi.name,d.L.actionButton.name,d.L.gauge.name,d.L.multiRowCard.name,d.L.cardVisual.name,"dropdownSlicer"]),$e=new Set([d.L.image.name,d.L.actionButton.name,d.L.basicShape.name,d.L.shape.name]),yn=new Map([[fn.Jo,270],[d.L.azureMap.name,270],[d.L.decompositionTreeVisual.name,270],[d.L.filledMap.name,270],[d.L.keyDriversVisual.name,270],[d.L.map.name,270],[d.L.matrix.name,370],[d.L.pivotTable.name,370],[d.L.multiRowCard.name,100],[d.L.rdlVisual.name,270],[d.L.shapeMap.name,270],[d.L.table.name,370],[d.L.tableEx.name,370],[d.L.hundredPercentStackedBarChart.name,180],[d.L.hundredPercentStackedColumnChart.name,180],[d.L.areaChart.name,180],[d.L.clusteredBarChart.name,180],[d.L.clusteredColumnChart.name,180],[d.L.donutChart.name,180],[d.L.funnel.name,180],[d.L.lineClusteredColumnComboChart.name,180],[d.L.lineStackedColumnComboChart.name,180],[d.L.lineChart.name,180],[d.L.scorecard.name,180],[d.L.pieChart.name,180],[d.L.pythonVisual.name,180],[d.L.qnaVisual.name,180],[d.L.scriptVisual.name,180],[d.L.ribbonChart.name,180],[d.L.scatterChart.name,180],[d.L.stackedAreaChart.name,180],[d.L.hundredPercentStackedAreaChart.name,180],[d.L.barChart.name,180],[d.L.columnChart.name,180],[d.L.treemap.name,270],[d.L.waterfallChart.name,270],[d.L.actionButton.name,40],[d.L.textbox.name,40],[d.L.card.name,100],[d.L.cardVisual.name,100],[d.L.gauge.name,100],[d.L.kpi.name,100],[d.L.basicShape.name,40],[d.L.shape.name,40],[d.L.bookmarkNavigator.name,60],[d.L.pageNavigator.name,60],[d.L.bookmarkNavigator.name,50],[d.L.pageNavigator.name,50],[d.L.slicer.name,100],["listSlicer",180],["continuousSlicer",100],["singleSlicer",100],["relativeSlicer",80],["dropdownSlicer",60],["basic",100]]);function ft(n){var a,o=n.config.singleVisual.objects[bt.gO.data.mode.objectName];if(!_.isEmpty(o))for(var l=0,r=o;l<r.length;l++)a=r[l].properties[bt.gO.data.mode.propertyName];if(!a)return d.L.slicer.name;switch(a.value){case S.j6:return"dropdownSlicer";case S.K8:case S.GV:return"relativeSlicer";case S.bb:case S.e4:case S.vX:return"continuousSlicer";case S.of:case S.Ih:return"listSlicer";case S.Zr:return"singleSlicer";case S.RB:return"basic";default:return d.L.slicer.name}}var xt=.05*Ne.LU,Ie={x:0,y:0,width:ht.Co,height:ht.aW},On={provide:"mobileAutoLayoutService",useFactory:function(n){return new Promise(function(t){t(new In(n))})},deps:[yt.m]},In=function(){function n(t){this.layoutInsertionHelperService=t}return n.prototype.createAutoMobileLayout=function(t,o){var a=_.cloneDeep(t.visualContainerGroups),l=this.internalTraverseGroup(a),r=this.sortAndFilterVisualCandidates(l);this.findContainedVisuals(r);for(var s=_.filter(r,function(b){return!b.isContained}),v=0,h=s;v<h.length;v++){var y=h[v];y.containingRect=this.getContainingRectangle(y)}return this.applyCandidatesPosition(r,s,o,1),r},n.prototype.applyCandidatesPosition=function(t,o,a,l){for(var r=0,s=o;r<s.length;r++){var v=s[r],h=this.findAllAvailableSpaces(t);if(this.positionCandidate(v,h,a),v.layouts.length>1)for(var y=0,b=v.containedVisuals;y<b.length;y++)this.positionContainedVisual(b[y],v,a)}this.revisitLayout(t,o,l,a)},n.prototype.revisitLayout=function(t,o,a,l){for(var r=this,s=function(R){if(R.layouts.length<=1)return"continue";var oe=R.config.singleVisual.visualType,ne=v.getPositionRectangle(R,1);if(!$e.has(oe)&&0===R.containedVisuals.length&&Math.ceil(ne.width+ne.x)<Ie.width){var Y=_.filter(o,function(se){return se.name!==R.name&&se.layouts.length>1});if(0===_.filter(Y,function(se){var de=r.getPositionRectangle(se,1);return de?.y>=ne.y&&de?.y<=ne.y+ne.height&&de?.x>ne.x}).length&&v.stretchVisual(t,Y,R,l,a))return"break"}},v=this,h=0,y=o;h<y.length&&"break"!==s(y[h]);h++);},n.prototype.stretchVisual=function(t,o,a,l,r){var s=this.getPositionRectangle(a,1),v=this.getPositionRectangle(a,0),h=_.filter(o,function(R){var oe=R.layouts[1];return oe?.position.y>s.y+s.height}),y=(Ie.width-s.x)/s.width,b=a.layouts[1].position;if(b.width=s.width*y,s.width/s.height==v.width/v.height){if(b.height=s.height*y,this.removeMobileLayouts(h),r<=10)return this.applyCandidatesPosition(t,_.filter(h,function(R){return!R.isContained}),l,r+1),!0;H.fF.assertFail("applyCandidatesPosition calls exceeded threshold")}return!1},n.prototype.removeMobileLayouts=function(t){for(var o=0,a=t;o<a.length;o++){var l=a[o];l.layouts.splice(1,1),this.removeMobileLayouts(l.containedVisuals)}},n.prototype.positionContainedVisual=function(t,o,a){var l=a.useStylableVisualContainerHeader?0:20,r=this.getPositionRectangle(o,0),s=this.getPositionRectangle(o,1),v=this.getPositionRectangle(t,0),h=r.width?s.width/r.width:1,y=s.height?(s.height-l)/r.height:1;t.layouts.push({id:1,position:{x:s.x+(v.x-r.x)*h,y:s.y+(v.y-r.y)*y,z:t.layouts[0].position.z,width:v.width*h,height:v.height*y,tabOrder:t.layouts[0].position.tabOrder}});for(var O=0,A=t.containedVisuals;O<A.length;O++)this.positionContainedVisual(A[O],t,a)},n.prototype.positionCandidate=function(t,o,a){var l,r=this.getPositionRectangle(t,0),s=t.containingRect,v=1;this.shouldRescaleToCanvasWidth(t)&&(v=Ie.width/s.width),0===t.containedVisuals.length&&(v=null!==(l=this.verifyMaxWidth(t))&&void 0!==l?l:v);var h=a.useStylableVisualContainerHeader?0:20,y=this.validateMinMaxHeight(t,v),b=Math.max(y.minimumRatio,y.canvasThresholdRatio),O=Math.max(v,y.minimumRatio);O>b&&(O=b);for(var A=v*r.width,R=O*r.height+h,oe=0,ne=o;oe<ne.length;oe++){var Y=ne[oe];if(!(0===Y.y&&Y.x>.1*Ie.width&&r.y>xt)){var k=(r.x-s.x)*v,se=(r.y-s.y)*O,de={x:Y.x+k,y:Y.y+se,z:t.layouts[0].position.z,width:A,height:R,tabOrder:t.layouts[0].position.tabOrder};if(k+de.width-Y.width<.001&&se+de.height-Y.height<.001){t.layouts.push({id:1,position:de});break}}}},n.prototype.shouldRescaleToCanvasWidth=function(t){var o=t.containingRect,a=t.config.singleVisual.visualType;return a===d.L.slicer.name&&(a=ft(t)),o.width>Ie.width||t.containedVisuals.length>0&&(!$e.has(a)||t.containedVisuals.filter(function(l){return!$e.has(l.config.singleVisual.visualType)}).length>0)||!($e.has(a)||Mt.has(a)||a===d.L.textbox.name)},n.prototype.findAllAvailableSpaces=function(t){var o=this,a=_.map(_.filter(t,function(r){return r.layouts.length>1}),function(r){var s=o.getPositionRectangle(r,1);return{x:Math.round(s.x),y:Math.round(s.y),width:Math.min(Math.round(s.width)+8,Ie.width),height:Math.round(s.height)+8}}),l=this.layoutInsertionHelperService.getNonOverlapingRects(Ie,a=a.length>0?a:[{x:0,y:0,width:0,height:0}]);return _.sortBy(l,function(r){return r.y})},n.prototype.findContainedVisuals=function(t){for(var o=this,a=function(h){for(var y=[],b=h;b.parent;)y.push(b.parent),b=b.parent;for(var O=_.filter(_.filter(t,function(Y){return Y.name!==h.name&&!_.find(y,function(k){return Y.name===k.name})}),function(Y){return o.isRectContained(h,Y)||o.overlapPercentage(h,Y)>.8}),A=function(k){k.isContained=!0,k.parent&&(k.parent.containedVisuals=k.parent.containedVisuals.filter(function(se){return se!==k})),k.parent=h},R=0,oe=O;R<oe.length;R++)A(oe[R]);h.containedVisuals=O},l=0,r=t;l<r.length;l++)a(r[l])},n.prototype.sortAndFilterVisualCandidates=function(t){var o=this;t=_.filter(t,function(y){if(Cn.includes(y.config.singleVisual.visualType)){var O=o.getPositionRectangle(y,0);return O.width*O.height/(Ne.Z9*Ne.LU)<.6&&!(O.y<xt&&O.height<.15*Ne.LU&&O.width>.6*Ne.Z9)}return!0});for(var a=_.sortBy(t,function(y){return y.layouts[0].position.y}),l=[],r=function(b){if(_.includes(l,b))return"continue";var O=_.filter(a,function(A){return!_.includes(l,A)&&Math.abs(A.layouts[0].position.y-b.layouts[0].position.y)<=20});l.push.apply(l,_.sortBy(O,function(A){return A.layouts[0].position.x}))},s=0,v=a;s<v.length;s++)r(v[s]);return l},n.prototype.isRectContained=function(t,o){var a=this.getPositionRectangle(t,0),l=this.getPositionRectangle(o,0);return!(l.x<a.x||l.y<a.y||l.x+l.width>a.x+a.width||l.y+l.height>a.y+a.height)},n.prototype.internalTraverseGroup=function(t){for(var o=[],a=0,l=t;a<l.length;a++){var r=l[a];if((0,we.q4)(r)){for(var s=0,v=r.children;s<v.length;s++){var h=v[s];h.layouts[0].position.x+=r.layouts[0].position.x,h.layouts[0].position.y+=r.layouts[0].position.y,h.layouts[0].position.z+=r.layouts[0].position.z,h.layouts[0].position.tabOrder+=r.layouts[0].position.tabOrder}o=_.concat(o,this.internalTraverseGroup(r.children))}else(0,we.Vz)(r)&&o.push(r)}return o},n.prototype.overlapPercentage=function(t,o){var a=this.getPositionRectangle(t,0),l=this.getPositionRectangle(o,0),r=this.layoutInsertionHelperService.getIntersectingRectangle(a,l);if(!r)return 0;var s=r.width*r.height,v=Math.min(a.width*a.height,l.width*l.height);return 0===v?0:s/v},n.prototype.getPositionRectangle=function(t,o){var a=t.layouts[o?1:0].position;return H.fF.assert(function(){return!!a},"position requested by getPositionRectangle is undefined"),{x:a.x,y:a.y,width:a.width,height:a.height}},n.prototype.getContainingRectangle=function(t){for(var o=this.getPositionRectangle(t,0),a=o.x,l=o.y,r=o.x+o.width,s=o.y+o.height,v=0,h=t.containedVisuals||[];v<h.length;v++){var b=this.getContainingRectangle(h[v]);a=Math.min(a,b.x),l=Math.min(l,b.y),r=Math.max(r,b.x+b.width),s=Math.max(s,b.y+b.height)}return{x:a,y:l,width:r-a,height:s-l}},n.prototype.validateMinMaxHeight=function(t,o){var a,l=t.config.singleVisual.visualType;l===d.L.slicer.name&&(l=ft(t));for(var r=this.getPositionRectangle(t,0).height,s=Math.min(r,null!==(a=yn.get(l))&&void 0!==a?a:40),v=.8*ht.jk,h={minimumRatio:r?s/this.getPositionRectangle(t,0).height:1,canvasThresholdRatio:0===t.containedVisuals.length?v/(r||1):o},y=0,b=t.containedVisuals||[];y<b.length;y++){var A=this.validateMinMaxHeight(b[y],o);h.minimumRatio=Math.max(h.minimumRatio,A.minimumRatio),h.canvasThresholdRatio=Math.min(h.canvasThresholdRatio,A.canvasThresholdRatio)}return h},n.prototype.verifyMaxWidth=function(t){var o,a,l,r=t.config.singleVisual.visualType;if(r===d.L.slicer.name&&(r=ft(t)),Mt.has(r)&&t.layouts[0].position.width>158){if(r===d.L.cardVisual.name){var s=null===(l=null===(a=null===(o=t.config.singleVisual.query)||void 0===o?void 0:o.projections)||void 0===a?void 0:a.Data)||void 0===l?void 0:l.all().length;if(s&&s>1)return}return 158/t.layouts[0].position.width}},n.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275inject(yt.m))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n}(),Tn=[{type:rt,componentId:"MobilePageVisualsPaneComponentId"},{type:Wt,componentId:"MobileVisualFormattingPaneComponentId"},{type:en,componentId:"TextboxFormattingSettingsComponentId"},{type:c,componentId:"MobileCanvasEmptyStateComponentId"}],En=function(){function n(){}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({providers:[On],imports:[ie.CommonModule,on.T,nn.J,rn.ExploreUIThumbnailModule,ln.N.withManifests(Tn),sn.v,pn.N,an.p,tn._,gn.U,dn.b,cn.K,vn.j,mn.Z,hn.T6,un.g]}),n}()},17774:function(he,w,i){i.d(w,{cH:function(){return m},pI:function(){return U}});var g=i(9434),D=i(32379),N=i(5265),K=i(45413);function m(F,L,T,G){var q;return null===(q=F?.[L])||void 0===q?void 0:q.find(function(j){var re;return(null===(re=j?.properties)||void 0===re?void 0:re[T])&&(0,D.fS)(j?.selector,G)})}var C=g.gO.data.mode.propertyName,e=new Set([C]),U=function(){function F(L,T,G,q,j){this.state=L,this.cardName=T,this.defns=G,this.services=q,this.visualType=j}return F.prototype.setMobileObjectsValue=function(L,T,G,q){this.state.ignoreFilteringProps&&(!this.state.ignoreFilteringProps||this.propExistsInDefn(T)||this.slicerModePersistWithoutChange(T,G[L]))||((0,N.zx)(this.defns,this.cardName,q)[L]=T)},F.prototype.setMobileObjectsPropertiesValue=function(L,T,G){this.shouldSetFilteringProps(L)&&((0,N.zx)(this.defns,this.cardName,G).properties[L]=T)},F.prototype.shouldSetFilteringProps=function(L){return!this.state.ignoreFilteringProps||!this.services.visualFilterProperties.getProperties(this.visualType,e).has(L)},F.prototype.propExistsInDefn=function(L){return function(F,L){for(var T=F.values(),G=T.next();!G.done;){if(L.hasOwnProperty(G.value))return!0;G=T.next()}return!1}(this.services.visualFilterProperties.getProperties(this.visualType,e),L)},F.prototype.slicerModePersistWithoutChange=function(L,T){if(L.hasOwnProperty(C)&&(0,K.fS)(T?.[C],L[C]))return!0},F}()}}]);