"use strict";(self.webpackChunkdesktopDataExplore=self.webpackChunkdesktopDataExplore||[]).push([["extension-host-artifact-settings"],{67683:function(G,I,e){e.r(I),e.d(I,{createExtensionHostArtifactSettingsModule:function(){return C}});var p=e(77476),i=e(50423),v=e(60756),l=e(81337),m=e(11547),E=e(14172),y=e(17653),c=e(73471),x=e(60397),u=e(17899),o=e(21945),S=new i.InjectionToken("GetIFrameIds"),A=new i.InjectionToken("GetArtifactSettingsObjectId"),H=e(85732),F=e(54323),O=function(){function t(f,d,D,M,T,V){var a=this;this.actions$=f,this.messageBroker=d,this.store=D,this.telemetryService=M,this.getIFrameIds=T,this.getArtifactSettingsObjectId=V,this.onOpenArtifactSettingsReceived$=(0,u.Av)(this.actions$,this.messageBroker,c.Vm.openArtifactSettings,function(n){var s=n.artifact,r=n.selectedSettingId;return a.store.dispatch(o.zD({artifact:s,selectedSettingId:r})),a.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Detail settings",featureName:"Artifact settings",activityAttributes:{selectedTab:r||"About",artifactType:s.artifactType}}),(0,m.of)(c.Vm.openArtifactSettings.resolve({value:!0}))}),this.onResizeIframeHeightReceived$=(0,u.Av)(this.actions$,this.messageBroker,c.Vm.resizeIframeHeight,function(n){return a.store.dispatch(o.s0({iframeHeight:n.iframeHeight,artifactId:n.artifactId})),(0,m.of)(c.Vm.resizeIframeHeight.resolve({value:!0}))}),this.openArtifactSettings$=(0,v.GW)(function(){return a.actions$.pipe((0,u.UF)(o.zD),(0,E.U)(function(n){var s=n.artifact,r=n.selectedSettingId,g={name:"Load Artifact settings - start",properties:{operationEndTime:(new Date).toISOString(),artifactObjectId:s.objectId,featureName:"Artifact settings",originatingService:"DataCloudUX",selectedSettingId:r}};return a.telemetryService.logEvent(g),o.iJ({visible:!0})}))}),this.closeArtifactSettings$=(0,v.GW)(function(){return a.actions$.pipe((0,u.UF)(o.Eg),(0,y.b)(function(n){return(0,l.__awaiter)(a,void 0,void 0,function(){var s,r,g=this,j=(0,l.__rest)(n,["type"]);return(0,l.__generator)(this,function(h){switch(h.label){case 0:return this.store.dispatch(o.iJ({visible:j.visible})),[4,this.getIFrameIds()];case 1:return s=h.sent(),[4,this.getArtifactSettingsObjectId()];case 2:return r=h.sent(),s.forEach(function(b){g.messageBroker.send(c.Vm.onCloseArtifactSettings({isClosed:!j.visible,artifactObjectId:r})(b))}),[2]}})})}))},{dispatch:!1})}return t.\u0275fac=function(d){return new(d||t)(i.\u0275\u0275inject(v.eX),i.\u0275\u0275inject(x.u),i.\u0275\u0275inject(H.yh),i.\u0275\u0275inject(F.t),i.\u0275\u0275inject(S),i.\u0275\u0275inject(A))},t.\u0275prov=i.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}();function C(t,f){return(0,i.createNgModule)($,i.Injector.create({providers:[{provide:S,useValue:t.getIFrameIds},{provide:A,useValue:t.getArtifactSettingsObjectId}],parent:f}))}var $=function(){function t(){}return t.\u0275fac=function(d){return new(d||t)},t.\u0275mod=i.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=i.\u0275\u0275defineInjector({imports:[p.CommonModule,v.sQ.forFeature([O])]}),t}()}}]);