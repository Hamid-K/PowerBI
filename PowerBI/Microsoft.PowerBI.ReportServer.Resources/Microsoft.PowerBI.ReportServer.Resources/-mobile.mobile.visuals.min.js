"use strict";(self.webpackChunkmobile=self.webpackChunkmobile||[]).push([[5],{58698:function(be,q,y){y.d(q,{c:function(){return V}});var s=y(30237),V=function(){function B(){}return B.prototype.bindEvents=function(P,w,E,g){this.labelItems=P.labelItems,g?(0,s.FO)(this.labelItems):(0,s.YG)(this.labelItems,w)},B.prototype.renderSelection=function(P){this.labelItems.styles(P?{opacity:function(E){return E.selected?B.DefaultLabelOpacity:B.DimmedLabelOpacity}}:{opacity:B.DefaultLabelOpacity})},B.DefaultLabelOpacity=1,B.DimmedLabelOpacity=.6,B}()},3087:function(be,q,y){y.d(q,{t:function(){return s}});var s={show:{objectName:"zoom",propertyName:"show"},showOnValueAxis:{objectName:"zoom",propertyName:"showOnValueAxis"},valueMin:{objectName:"zoom",propertyName:"valueMin"},valueMax:{objectName:"zoom",propertyName:"valueMax"},valueSize:{objectName:"zoom",propertyName:"valueSize"},showOnCategoryAxis:{objectName:"zoom",propertyName:"showOnCategoryAxis"},categoryMin:{objectName:"zoom",propertyName:"categoryMin"},categoryMax:{objectName:"zoom",propertyName:"categoryMax"},categorySize:{objectName:"zoom",propertyName:"categorySize"},showOnValueSecAxis:{objectName:"zoom",propertyName:"showOnValueSecAxis"},valueSecMin:{objectName:"zoom",propertyName:"valueSecMin"},valueSecMax:{objectName:"zoom",propertyName:"valueSecMax"},valueSecSize:{objectName:"zoom",propertyName:"valueSecSize"},showLabels:{objectName:"zoom",propertyName:"showLabels"},showTooltip:{objectName:"zoom",propertyName:"showTooltip"}}},67918:function(be,q,y){y.d(q,{HL:function(){return c}});var s=y(81337),V=y(62458),B=y(32379),P=y(38958),w=y(6714),E=y(66123),g=y(6058),o=y(2241),x=y(80822),D=y(51490);function c(a,f,S,M,d,l,i,r){var t;if(_.isEmpty(f.forecastLines))if(f.hasDynamicSeries){var e=a.getLocalizedString("Role_DisplayName_Legend");t=a.getLocalizedString("Visual_AnomalyDetection_WarningMessage_RoleNotAllowed",e)}else if((0,P.aJ)(f.valuesMetadata,w.R.Y2))e=a.getLocalizedString("Role_DisplayName_Y2"),t=a.getLocalizedString("Visual_AnomalyDetection_WarningMessage_RoleNotAllowed",e);else if(1!==f.series.length)e=a.getLocalizedString("Role_DisplayName_Values"),t=a.getLocalizedString("Visual_AnomalyDetection_WarningMessage_WrongDataSeries",e);else if(function(a){var f,S,M;V.fF.assertValue(a,"anomalyDetectionVisualPlugin hasDatetime dataView");var d=null===(f=a.categorical)||void 0===f?void 0:f.categories;if(V.fF.assert(function(){return _.size(d)>0},"should exist at least one category"),!d||0===_.size(d))return!1;var l=null===(S=_.first(d).source)||void 0===S?void 0:S.type;return!!l&&(!!l.dateTime||!(null===(M=l.temporal)||void 0===M||!M.year)||!!l.temporal&&_.some(a.metadata.columns,function(i){var r;return null===(r=i.type.temporal)||void 0===r?void 0:r.year}))}(S))if(i){if(function(a){var f;V.fF.assertValue(a,"anomalyDetectionVisualPlugin hasReferenceLine dataView");var S=null===(f=a.categorical)||void 0===f?void 0:f.values;return V.fF.assert(function(){return _.size(S)>0},"should exist at least one categorical value"),!(!S||0===_.size(S))&&_.some(S,function(M){return!!M.source.objects&&!!M.source.objects[x.Si]})}(S)){var L=a.getLocalizedString("Visual_Trend_Line"),F=a.getLocalizedString("Visual_Reference_Line");t=a.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoWithReferenceLine",L,F)}}else{var m=a.getLocalizedString("Type"),p=a.getLocalizedString("Visual_XAxis"),T=a.getLocalizedString("Visual_Axis_Scalar");t=a.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoContinousCategory",m,p,T)}else e=a.getLocalizedString("Role_DisplayName_Axis"),t=a.getLocalizedString("Visual_AnomalyDetection_WarningMessage_CategoryNotDateTime",e);else t=a.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoWithForecast");!function(a,f,S,M,d){var l;V.fF.assertValue(a,"enumeration"),V.fF.assertValue(S,"visualStyle"),V.fF.assertAnyValue(M,"disabledReason"),V.fF.assertAnyValue(d,"selectors");var i=function(L){var F,A;return(0,s.pi)((0,s.pi)(((F={})[x.MA.show]=L.show,F[x.MA.displayName]=L.displayName,F),function(a,f,S){var M={};return E.Wz.forEach(function(d){f[d]&&(M[f[d]]="color"===d?(0,g.Q)(a?.color):a?.[d])}),Object.assign(M,(0,o.HM)(a.stroke,f)),M}(L.marker,E.m6)),((A={})[x.MA.confidenceBandShow]=L.band.show,A[x.MA.confidenceBandStyle]=L.band.style,A[x.MA.transparency]=L.band.transparency,A[x.MA.confidenceBandColor]={solid:{color:L.band.color}},A))},r=_.first(f);if(r){if(a.pushInstance({selector:r.selector,properties:i(r),objectName:x.xn}),d)for(var t=(0,B.GT)((0,B.tV)(d)),e=0,m=r.anomalies;e<m.length;e++){var p=m[e];p.isAnomaly&&(t||(0,B.Ic)(p.identity.getSelectorsByColumn(),d))&&a.pushInstance({objectName:x.r3,selector:(0,B.tV)(p.identity.getSelectorsByColumn()),properties:(l={},l[x.K1.CategoryValue]=p.categoryValue,l[x.K1.Value]=p.value,l[x.K1.ExpectedValue]=p.expectedValue,l[x.K1.ExpectedLow]=p.lowerBound,l[x.K1.ExpectedHigh]=p.upperBound,l[x.K1.BatchStart]=p.batchStart,l[x.K1.BatchEnd]=p.batchEnd,l[x.K1.FormattedCategoryValue]=p.formattedCategoryValue,l[x.K1.ValueFormatString]=p.valueFormatString,l)})}}else a.pushInstance({selector:{id:"0"},properties:i((0,D.EL)(S)),objectName:x.xn,disabledReason:M})}(M,d,l,t,r)}},42589:function(be,q,y){y.d(q,{WI:function(){return d},bj:function(){return e},ec:function(){return D},rr:function(){return i},v8:function(){return t}});var M,s=y(64067),V=y(79154),B=y(62458),P=y(65195),w=y(51995),E=y(47998),g=y(80822),o=(0,V.CH)("anomaly-confidence-interval"),C=(0,V.CH)("anomaly-lower-layer"),x=(0,V.CH)("anomaly-higher-layer"),D=(0,V.CH)("anomaly-point"),b=.5,c=1,u="".concat(P.oe).concat(D.selector),n="".concat(P.$u).concat(D.selector),a="".concat(P.NN).concat(D.selector),f=1.4,S=2;function d(m,p,T,L,F,A,N){B.fF.assertValue(p&&T&&L&&A?.onSelecting,"renderAnomalies parameters");var K=p.select(C.selector);K.empty()&&(K=p.insert("g",":first-child").classed(C.class,!0));var ie=p.select(x.selector);ie.empty()&&(ie=p.append("g").classed(x.class,!0)),function(m,p,T,L,F){var A=d3.line().x(function(N){return T(N.x)}).y(function(N){return L(N.y)});p.selectAll(o.selector).data(m||[],function(N){return N.selector.id}).join(function(N){return N.insert("path",":first-child").classed(o.class,!0)}).call(function(N){return(F?N.transition().ease(d3.easeLinear).duration(F):N).attr("d",function(K){for(var ie=[],de=0,fe=K.anomalies.slice().reverse();de<fe.length;de++)ie.push({x:(j=fe[de]).categoryValue,y:j.lowerBound});for(var R=0,v=K.anomalies;R<v.length;R++){var j;ie.push({x:(j=v[R]).categoryValue,y:j.upperBound})}return A(ie)}).styles(function(K){var ie=(0,s.TD)(K.band.transparency);return{"fill-opacity":ie,"stroke-opacity":ie,stroke:K.band.show&&K.band.style===E.X$.line?K.band.color:"transparent",fill:K.band.show&&K.band.style===E.X$.fill?K.band.color:"transparent"}})})}(m,K,T,L,F),function(m,p,T,L,F,A,N){var K=_.first(m),ie=[];K&&(ie=_.filter(K.anomalies,function(j){return j.isAnomaly}));var de=p.selectAll(D.selector).data(ie,function(j){return j.categoryValue.toString()}),fe=de.enter().append("path").classed(D.class,!0).merge(de);(F?fe.transition().ease(d3.easeLinear).duration(F):fe).attr("d",function(){return(0,w.jM)(K.marker.shape,1)}),fe.attr("transform",function(j){var R=T(j.categoryValue),v=L(j.value),h=L.range()[0]>L.range()[1],O=j.value>j.expectedValue&&h?-S*K.marker.size:S*K.marker.size,H=j.value>j.expectedValue&&h?0:180;return"translate(".concat(R,",").concat(v+O,") rotate(").concat(H,") scale(").concat(K.marker.size,")")}),fe.each(function(){d3.select(this).style("fill",K.marker.color).style("stroke",K.marker.color).attr("vector-effect","non-scaling-stroke").style("stroke-width",1.5).style("stroke-opacity",1).style("fill-opacity",function(R){return this===M||R.isHighlighted?c:b}).on(a,function(R){N&&i(this,R,A)}).on(n,function(){N&&d3.select(this).style("fill-opacity",c)}).on(u,function(){N&&this!==M&&d3.select(this).style("fill-opacity",b)})}),de.exit().remove()}(m,ie,T,L,F,A.onSelecting,N)}function i(m,p,T){M?M===m?(d3.select(m).style("fill-opacity",b),M=void 0):(d3.select(M).style("fill-opacity",b),M=m,d3.select(M).style("fill-opacity",c)):(M=m,d3.select(M).style("fill-opacity",c)),M&&T({type:0,visualObjects:[{objectName:g.r3,selectorsByColumn:p.identity.getSelectorsByColumn()}]}),d3.event.stopPropagation()}function t(m,p,T){var L=m.value>m.expectedValue?-S*T:S*T;return p(m.value)+L}function e(m){return m*f}},40006:function(be,q,y){y.d(q,{B:function(){return B}});var s=y(62458),V=y(72902),B=function(){function P(){}return P.prototype.update=function(w,E,g,o,C){this.anomalies=w,this.scrolledData=E,this.focusedDatum=g,this.updateFocusElement=o},P.prototype.getFirstElement=function(w,E){if(void 0===E&&(E=!1),null!=w){var o;if((o=(E?_.findLast:_.find)(this.anomalies,function(x){return x.categoryIndex>=w&&x.isAnomaly}))&&this.scrolledData&&-1===this.scrolledData.categories.indexOf(o.categoryValue))return{element:null};if(o)return this.focusedDatum=o,{element:this.updateFocusElement(o).node()}}},P.prototype.getNextDataPoint=function(w,E,g){var o=this.focusedDatum;switch(g){case V.x0.NextCategory:case V.x0.PreviousCategory:var C=_.findIndex(this.anomalies,function(D){return D&&D.categoryIndex===w});o=this.pickNextAvailableIndex(this.anomalies,C,g);break;case V.x0.NextSeries:case V.x0.PreviousSeries:break;default:s.fF.assertNever(g)}if(o)return this.scrolledData&&-1===this.scrolledData.categories.indexOf(o.categoryValue)?{element:null,targetCategoryIndex:o.categoryIndex}:(this.focusedDatum=o,{element:this.updateFocusElement(o).node(),targetCategoryIndex:o.categoryIndex})},P.prototype.pickNextAvailableIndex=function(w,E,g){s.fF.assert(function(){return g===V.x0.NextCategory||g===V.x0.PreviousCategory},"pickNextAvailableIndex direction");var o=g===V.x0.NextCategory?1:-1,C=E;do{if((C+=o)>=w.length?C=0:C<0&&(C=w.length-1),C===E)break}while(!w[C]||!w[C].isAnomaly);return w[C]},P}()},37274:function(be,q,y){y.d(q,{DR:function(){return s},LO:function(){return V},_F:function(){return B}});var s=function(){function P(){}return P.prototype.willCollide=function(w){return!1},P.prototype.addItem=function(w){},P.prototype.skipItem=function(w){},P}(),V=function(){function P(w,E,g){this.fontOffsetLeft=E,this.fontOffsetRight=g,this.previousLabelRightEdge=w}return P.prototype.willCollide=function(w){return w-this.fontOffsetLeft<=this.previousLabelRightEdge},P.prototype.addItem=function(w){this.previousLabelRightEdge=w+this.fontOffsetRight},P.prototype.skipItem=function(w){},P}(),B=function(){function P(w,E,g,o,C,x,D){this.fontOffsetLeft=E,this.fontOffsetRight=g,this.currentNode=o,this.scale=C,this.halfCategoryThickness=x,this.rotationPadding=D,this.previousLabelRightEdge=w,this.index=0;var b=P.getLastChildIndex(o,0);this.groupEndPosition=C(b)+x-D}return P.prototype.willCollide=function(w){return P.isLastChild(this.currentNode)?w-this.fontOffsetLeft<=this.previousLabelRightEdge:w+this.fontOffsetRight>this.groupEndPosition},P.prototype.addItem=function(w){this.moveToNextNode(w)},P.prototype.skipItem=function(w){this.moveToNextNode(w)},P.prototype.moveToNextNode=function(w){var E=this.currentNode,g=this.currentNode=this.currentNode.next;if(this.index++,P.isLastChild(E)){this.previousLabelRightEdge=this.groupEndPosition+2*this.rotationPadding;var o=P.getLastChildIndex(g,this.index);this.groupEndPosition=this.scale(o)+this.halfCategoryThickness-this.rotationPadding}else this.previousLabelRightEdge=w+this.fontOffsetRight},P.isLastChild=function(w){return null==w.next||w.parent!==w.next.parent},P.getLastChildIndex=function(w,E){for(var g=w,o=E;!P.isLastChild(g);)o++,g=g.next;return o},P}()},11856:function(be,q,y){y.d(q,{D:function(){return B}});var s=y(38265),B={card:{maxFontSize:200},label:{textSize:12,fontFamily:y(56707).Pq,colorName:"foregroundNeutralTertiary",paddingTop:8},value:{textSize:27,colorName:"foreground",fontFamily:s.Wn.regularSecondary.css}}},32554:function(be,q,y){y.d(q,{jN:function(){return D},k2:function(){return x},xr:function(){return b},y0:function(){return c}});var s=y(81337),V=y(62458),B=y(56578),P=y(32379),w=y(82755),E=y(91059),g=y(96915),o={objectName:"dataPoint",propertyName:"showAllDataPoints"};function x(n,a,f){if(n.dataView){var S={fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},M=new B.CQ(new B.lg("colors"),"Visual_Colors",S,function(d){return f.getLocalizedString(d)});return M.addGroup("colors",function(d){D({colorProps:S,featureSwitches:a,groupBuilder:d,hostService:f,options:n})}),M.build()}}function D(n){var e,a=n.groupBuilder,f=n.colorProps,S=n.featureSwitches,M=n.options,d=M.categories,l=M.dataView.metadata&&M.dataView.metadata.objects,i=(0,w.NA)(l,o,!!M.showAllDataPoints),r=function(n,a){return(0,w.W7)(n,{objectName:"dataPoint",propertyName:"fill"})||(0,w.W7)(n,{objectName:"dataPoint",propertyName:"defaultColor"})||a.colorPalette.dataColors.getColorByIndex(0).value}(l,M.style),t=M.fillInstanceKind;if(null==t&&(t=3),1&t&&(e=null),f.fill){var m=(0,s.pi)((0,s.pi)({},f.fill),{selector:{data:[(0,g.Ue)(1)]},altConstantValueSelector:e,instanceKind:t});M.noDefaultFillColor?M.hideShowAllToggle&&a.addSimpleSlice("defaultColor",new B.tL({descriptor:m,value:void 0}).build(),function(T){return T.withCustomDisplayName("PropertyPane_ConditionalFormatting_DialogLauncherSliceTitle")}):a.addSimpleSlice("defaultColor",new B.BT({descriptor:m,value:{value:r}}).build(),function(T){return T.withCustomDisplayName("Default")})}f.showAllDataPoints&&!M.hideShowAllToggle&&a.addSimpleSlice(M.disableShowAllToggle?"showAllDisabled":"showAll",new B.bd({descriptor:(0,s.pi)((0,s.pi)({},o),{selector:{data:[(0,g.Ue)(1)]},altConstantValueSelector:e}),value:(0,w.NA)(l,o,!!M.showAllDataPoints)}).build(),function(T){return T.withDisabled(M.disableShowAllToggle)});var p=function(L){for(var F=function(ie,de){var fe=d[ie],j=(0,P.fd)(fe.identity.getSelector());M.multipleRole&&(j=(0,P.d9)(j),V.fF.assert(function(){return!!j.data},"expect categories to have some data identity"),j.data.unshift((0,E.Yp)([M.multipleRole])));var R=S.onObjectFormatPaneUid?"datapoint":fe.displayName;R=M.disableShowAllToggle?"".concat(R,"Disabled"):R,a.addSimpleSlice(R,new B.BT({descriptor:(0,s.pi)((0,s.pi)({},f.fill),{selector:j,instanceKind:1}),value:{value:fe.color||r}}).build(),function(v){return L?v.withCustomDisplayName(fe.displayName,!1).withDisabled(M.disableShowAllToggle).withHidden(!i):v.withCustomDisplayName(fe.displayName,!1).withDisabled(M.disableShowAllToggle)})},A=0,N=d.length;A<N;A++)F(A)};S.onObject?p(S.onObject):i&&p()}function b(n,a,f){var S={fill:{objectName:"dataPoint",propertyName:"fill"}},M=function(i){return a.getLocalizedString(i)},d=new B.CQ(new B.lg("colors"),"Visual_Colors",S,M);return d.addGroup(void 0,function(l){c({groupBuilder:l,dataPoints:n,seriesColorProps:S,localize:M,featureSwitches:f})}),d.build()}function c(n,a){for(var f=n.groupBuilder,S=n.dataPoints,M=n.seriesColorProps,d=n.localize,l=n.featureSwitches,i=function(m,p){var T=S[m],L=T.displayName||d("DataPointColorTitle"),F=(0,P.fd)(T.identity.getSelector()),A=void 0;l.onObjectFormatPaneUid?(A="datapoint",a&&(A="".concat(A,"-").concat(m))):A=L,f.addSimpleSlice(A,new B.BT({descriptor:(0,s.pi)((0,s.pi)({},M.fill),{selector:F,instanceKind:1}),value:{value:T.color}}).build(),function(N){return N.withCustomDisplayName(L,!1).withDisabled(a&&!(0,P.fS)(a,F))})},r=0,t=S?.length;r<t;r++)i(r)}},45028:function(be,q,y){y.d(q,{_I:function(){return x},_u:function(){return D},qQ:function(){return C},w9:function(){return o}});var s=y(81337),V=y(32041),B=y(63892),P=y(20624),w=y(382),E=y(56707),g=y(18664),o=200;function C(i,r,t){var e=function(i,r,t){var e=l(i,r,"width"),m=l(i,r,"height"),p=t.parentShape;return{width:e,height:m,top:p?.rect?p.rect.top:0,left:p?.rect?p.rect.left:0}}(i,r,t),m=Math.floor(function(i,r,t){var e=r.parentShape,m=i.optimizeLabelDisplay?i.labelContainerMaxWidth:o;if(i.position===w.h.auto&&!function(i){return[w.h.insideBase,w.h.insideCenter,w.h.insideEnd].includes(i.position)}(i))return m;var p=function(i){if(!i?.rect)return i;var r={horizontalBuffer:2*E.Bo,verticalBuffer:2*E.d1},t=r.horizontalBuffer,e=r.verticalBuffer,m=(0,s.pi)((0,s.pi)({},i.rect),{width:i.rect.width-t,height:i.rect.height-e});return(0,s.pi)((0,s.pi)({},i),{rect:m})}(e),T=function(i,r,t){if(!r?.rect)return!1;var e=t.width,m=t.height,p=r.rect,T=p.width,L=p.height;switch(i.labelOrientation){case P.B.Horizontal:return e<=T&&m<=L;case P.B.Vertical:return e<=L&&m<=T;default:return!0}}(i,p,t);return T||!e?.orientation?m:i.labelOverflow?i.labelOverflow&&!i.optimizeLabelDisplay?o:m:Math.min(m,i.labelOrientation===P.B.Horizontal?p.rect.width:p.rect.height)}(r,t,e));(function(i,r,t){switch(i.position){case w.h.insideEnd:case w.h.insideBase:case w.h.insideCenter:return i.labelOverflow&&i.optimizeLabelDisplay||r.width>=t;case w.h.above:case w.h.outsideEnd:case w.h.under:return i.optimizeLabelDisplay&&r.width>=t;case w.h.auto:return i.optimizeLabelDisplay;default:return!1}})(r,e,m)&&D(i,m,r.labelContentLayout)}function x(i,r){var t=(0,g.qk)(i,r);return{width:V.b.measureSvgTextWidth(t),height:V.b.estimateSvgTextHeight(t,!0)}}function D(i,r,t,e){void 0===e&&(e=0);for(var m=i.length,p=r,T=0,L=0,F=i;L<F.length;L++){var A=F[L],N=Math.floor(p/m);if(A.textSize.width>=N){var K=(0,g.qk)(A.fontProperties,A.text);A.text=V.b.getTailoredTextOrDefault(K,N),K.text=A.text;var ie=A.textSize.width;A.textSize={width:V.b.measureSvgTextWidth(K),height:V.b.estimateSvgTextHeight(K,!0)},T+=ie-A.textSize.width}m--}if((p-=T)<0)!function(i,r){if(!(i>=0)){var t=r.every(function(m){return V.b.isFullyTruncated(m.text)});if(t)for(;i<0&&r.length>1;)i+=r.pop().textSize.width}}(p,i);else{var de=function(i,r){return r===B.v.SingleLine?i.reduce(function(t,e){return t+e.textSize.width},0):Math.max.apply(Math,i.map(function(t){return t.textSize.width}))}(i,t);de>r&&e<5&&D(i,r,t,e+1)}}function l(i,r,t){for(var e=0,m=0,p=i;m<p.length;m++){var L=p[m].textSize[t];r?.labelContentLayout===B.v.SingleLine?e+=L+E.uM:e=Math.max(e,L)}return e}},34519:function(be,q,y){y.d(q,{U:function(){return D}});var s=y(81337),V=y(93907),B=y(63892),P=y(71793),w=y(56707),E=y(45028),g=y(46769),o=y(20624),C=y(92374),x=y(5381);function D(a){var f,S,M=a.cartesianDataPoint,d=a.labelDataPoint,l=a.enableValueDataLabel,i=a.valueDataLabelSettings,r=a.valueShowBlankAs,t=[];if(!_.isEmpty(M.appendedLabelContents))for(var e=0,m=M.appendedLabelContents;e<m.length;e++){var T=b(m[e],a);T&&t.push(T)}if(l&&(d.text||r)){var L=(0,E._I)(d.fontProperties,d.text);t.push({text:null!==(f=d.text)&&void 0!==f?f:r,outsideFill:d.outsideFill,insideFill:d.insideFill,fontProperties:d.fontProperties,textSize:L,transparency:d.transparency,role:"Value"})}var F=1===t.length?B.v.SingleLine:i?.labelContentLayout,A=null!==(S=i?.horizontalAlignment)&&void 0!==S?S:i?.labelOrientation===o.B.Vertical?C.D.left:C.D.center,N=(0,s.pi)((0,s.pi)({},d),{labelDataPointContents:t,contentLayout:F,alignment:A});return(0,E.qQ)(t,i,d),N}function b(a,f){var M=function(a,f,S){var M,d,l,i,r="",t=a?.fontProperties,e=0;switch(f.role){case"Detail":r=function(a,f){var M=f.percentOfTotal,d=f.formattersCache,l=f.currentSeries,i=f.currentAxisProperties,r=a.labelSettings,t=r??{},m=t.detailLabelPrecision,p=t.detailLabelDisplayUnits,T=t.detailShowBlankAs,L="";if(f.isStacked100&&t.detailContentType===V.W.Percent)L=d.getOrCreate(w.L0,r,void 0,m).format(M);else{var A=(0,s.pi)((0,s.pi)({},r),{precision:p===w.In?void 0:m,displayUnits:p}),N=(0,x.d6)(i,A);L=(0,g.nU)(a.dynamicLabel,d,A,N,l,a.role)}return L??T??""}(f,S),t=null===(M=f?.labelSettings)||void 0===M?void 0:M.detailFontProperties,e=null!==(d=a?.detailTransparency)&&void 0!==d?d:0;break;case"Title":r=function(a,f){var S=f.formattersCache,M=f.currentSeries,d=f.currentAxisProperties,l=f.seriesName,i=a.labelSettings,r=i??{},e=r.titleLabelPrecision,m=r.titleLabelDisplayUnits,p=r.titleShowBlankAs;if(r.titleContentType===P.A.Custom){var T=(0,s.pi)((0,s.pi)({},i),{precision:m===w.In?void 0:e,displayUnits:m}),L=(0,x.d6)(d,T);return(0,g.nU)(a.dynamicLabel,S,T,L,M,a.role)??p??""}return l}(f,S),e=null!==(l=a?.titleTransparency)&&void 0!==l?l:0,t=null===(i=f.labelSettings)||void 0===i?void 0:i.titleFontProperties}return{text:r,fontProperties:t,transparency:e}}(a.labelSettings,a,f),d=M.text,l=M.fontProperties,i=M.transparency;if(d){var r=(0,E._I)(l,d);return{text:d,outsideFill:f.getOutsideLabelFill(a),insideFill:f.getInsideLabelFill(a),fontProperties:l,transparency:i,textSize:r,role:a.role}}}},19744:function(be,q,y){function s(B){return B.some(function(P){return V(P)})}function V(B){return B&&typeof B.labelDataPointContents<"u"}y.d(q,{r:function(){return V},t:function(){return s}})},5381:function(be,q,y){y.d(q,{$J:function(){return ye},AE:function(){return ue},Bf:function(){return Se},Bw:function(){return Ae},R1:function(){return Ge},SS:function(){return $e},Sw:function(){return z},W1:function(){return Ne},Xc:function(){return Le},d6:function(){return Re},fI:function(){return ce},gm:function(){return ge},in:function(){return Ce},n8:function(){return _e},ng:function(){return Be},x5:function(){return Ie},z8:function(){return Oe}});var d,l,i,t,e,m,s=y(79154),V=y(62458),B=y(79476),P=y(80758),w=y(32041),E=y(64329),g=y(66001),o=y(28326),C=y(20624),x=y(38168),D=y(53197),b=y(41368),c=y(56707),u=y(19744),n=y(18664),a=y(60066),f=y(2241),S=y(52287),M=y(95519),p=(d=(0,s.CH)("label")).class,T=d.selector,L=(l=(0,s.CH)("label-container")).class,F=l.selector,A=(i=(0,s.CH)("label-tspan")).class,N=i.selector,K=(0,s.CH)("label-background").class,de=(t=(0,s.CH)("seriesLabel")).class,fe=t.selector,j=(e=(0,s.CH)("label-second-line")).class,R=e.selector,v=(m=(0,s.CH)("label-container-background")).class,h=m.selector,O="-0.25em",H=5,I=(0,s.CH)("leader-lines"),U=(0,s.CH)("line-label"),G=4;function ce(){return new b.R}function ue(k){var se,Z=k.labelContainers,X=k.onObject,ve={transform:function(xe){var ke="translate(".concat(function(k){return k.boundingBox.left+k.boundingBox.width/2}(xe),",").concat(function(k){var Z=k.labelOrientation===C.B.Vertical?k.boundingBox.height:k.boundingBox.height/2;return k.wordBreak&&(Z=k.boundingBox.height/2),k.boundingBox.top+Z}(xe),")");return xe.labelOrientation===C.B.Vertical?"".concat(ke,"rotate(-90)"):ke},dy:O},ee=k.labelGroupContext.selectAll(F).data(Z,ne),pe=Z.some(function(me){return!_.isEmpty(me.labelContents)}),te=Z.some(function(me){return me.hasBackground});return pe&&(se=ee.enter().append("g").merge(ee).classed(L,!0).attrs(ve),te&&function(k,Q){var Z=k.selectAll(h).data(function(ee){return[ee]}),X=Z.enter().insert("rect","text").classed(v,!0).merge(Z),ve=new Map;X.interrupt().filter(function(ee){return ee.hasBackground}).each(function(ee){var pe=0,te=0,se=ee.labelOrientation===C.B.Vertical,we=ht(ee.labelContents,se,!0),me=2*c.d1+we,xe=2*c.Bo;"MultiLine"===ee.contentLayout?(pe=se?ee.boundingBox.width+me:ee.boundingBox.width+xe,te=se?ee.boundingBox.height+xe:ee.boundingBox.height+me):(pe=se?ee.boundingBox.height+xe:ee.boundingBox.width+xe,te=se?ee.boundingBox.width+me:ee.boundingBox.height+me),ve.set(ee.identity.getKey(),{calculatedWidth:pe,calculatedHeight:te})}).attr("rx",G).attr("ry",G).attr("width",function(ee){return ve.get(ee.identity.getKey()).calculatedWidth}).attr("height",function(ee){return ve.get(ee.identity.getKey()).calculatedHeight}).attr("x",function(ee){return ee.labelOrientation===C.B.Vertical?0:ve.get(ee.identity.getKey()).calculatedWidth/-2}).attr("y",function(ee){return ve.get(ee.identity.getKey()).calculatedHeight/-2}).style("fill",function(ee){return ee.backgroundColor}).style("fill-opacity",function(ee){return 1-ee.backgroundTransparency}),Q&&Pe(X,function(ee){return ee.hasBackground}),Z.exit().remove(),X.exit().remove()}(se,k.onObject),function(k){var Q=k.selectAll(T).data(function(te){return[te]}),ve=Q.enter().append("text").merge(Q).attr("x",function(te){return function(se){return se.labelOrientation===C.B.Vertical?c.Bo:se.boundingBox.width/-2}(te)}).attr("y",function(te){return function(se){var we="MultiLine"===se.contentLayout,ke=ht(se.labelContents,se.labelOrientation===C.B.Vertical,se.hasBackground);return we?(se.boundingBox.height+ke)/-2:-((se.hasBackground?se.labelOrientation===C.B.Vertical?c.d1:c.Bo:0)+ke)}(te)}).style("text-anchor",function(te){return te.textAnchor}).classed(p,!0);ve.selectAll("tspan").remove();var ee=ve.interrupt().selectAll(N).data(function(te){return function(k){var Q=k.labelContents.sort(function(me,xe){return ft[me.role]-ft[xe.role]}),Z=1===Q.length,X="MultiLine"===k.contentLayout,ee=k.hasBackground?k.labelOrientation===C.B.Vertical?c.d1:c.Bo:0,pe=k.alignment,te=k.boundingBox.width,se=function(xe){return xe.textSize.height+c.i1},we=function(xe){if(k.labelOrientation===C.B.Vertical)switch(pe){case"center":return(te-xe.textSize.width)/2;case"left":default:return ee;case"right":return te-ee-xe.textSize.width}else switch(pe){case"center":default:return-xe.textSize.width/2;case"left":return-(te-2*ee)/2;case"right":return(te-2*ee)/2-xe.textSize.width}};return Q.map(function(me,xe){return X&&!Z?{x:we(me),y:null,label:me,dx:null,dy:se(me),id:xe}:{x:null,y:0,label:me,dx:xe>0?c.uM:ee,dy:".35em",id:xe}})}(te)},function(te){return te.label.role}),pe=ee.enter().append("tspan").merge(ee);pe.interrupt().attr("x",function(te){return te.x}).attr("y",function(te){return te.y}).attr("dx",function(te){return te.dx}).attr("dy",function(te){return te.dy}).text(function(te){return te.label.text}).styles(function(te){return(0,n.E_)(te.label.fontProperties)}).style("fill-opacity",function(te){var se;return null!==(se=1-te.label.transparency)&&void 0!==se?se:0}).classed(A,!0),Q.exit().remove(),ee.exit().remove(),pe.exit().remove()}(se),se.style("pointer-events",function(me){return xe=me,k.onObject?k.formatMode&&xe.hasBackground||!k.formatMode&&(!k.hasTooltip||null==xe.tooltip)?"none":"all":k.hasTooltip&&null!=xe.tooltip?"all":"none";var xe})),se&&((!te||!pe)&&se.selectAll(h).remove(),se.filter(function(me){return!me.hasBackground}).selectAll(h).remove()),X&&Pe(se,function(me){return!me.hasBackground}),ee.exit().remove(),se}function ye(k){var Q;null===(Q=k.selectAll(F))||void 0===Q||Q.remove()}function Ce(k){var Q;null===(Q=k.selectAll(h))||void 0===Q||Q.remove()}function ge(k){var Q=Ie(k);return Be({context:k.backgroundContext,dataLabels:k.dataLabels,onObject:k.onObject}),Q}function Se(k){var Q=Le(k.labelContext,k.dataLabels,k.duration,k.numeric,k.easeType,k.onObject);return function(k,Q,Z,X,ve){var ee=_.filter(Q,function(se){return se.hasBackground}),pe=k.selectAll("rect").data(ee,ne);pe.enter().append("rect").style("fill-opacity",0).merge(pe).transition().ease(ve).duration(Z).attrs({x:function(we){return we.boundingBox.left-c.Bo},y:function(we){return we.boundingBox.top-c.d1},rx:G,ry:G,width:function(we){return we.boundingBox.width+2*c.Bo},height:function(we){return void 0===we.text&&void 0===we.secondRowText?0:we.boundingBox.height+2*c.d1}}).style("fill",function(se){return se.backgroundColor}).style("fill-opacity",function(se){return 1-se.backgroundTransparency}),pe.exit().transition().duration(Z).style("fill-opacity",0).remove()}(k.backgroundContext,k.dataLabels,k.duration,0,k.easeType),Q}function Le(k,Q,Z,X,ve,ee){void 0===X&&(X=!1),void 0===ve&&(ve=d3.easeCubicInOut);var pe={transform:function(me){var xe="translate(".concat(le(me),",").concat(he(me),")");return me.labelOrientation===C.B.Vertical?"".concat(xe,"rotate(-90)"):xe},dy:O};X&&(pe.dy=void 0);var te=k.selectAll(T).data(Q,ne),se=te.enter().append("text").classed(p,!0).style("opacity",0).attrs(pe).merge(te);return ee&&se.classed(S.cy,!0).attr(S.Ez,function(we){return we.isCategory?"category-labels":"data-labels"}).attr(S.CK,"Visual_DataPointsLabels").attr(S.QZ,1),se.text(function(we){return we.text}).style("text-anchor",function(we){return we.textAnchor}).styles(function(we){return(0,n.E_)(we.fontProperties)}).transition().ease(ve).duration(Z).attrs(pe).style("opacity",1),te.exit().transition().duration(Z).style("opacity",0).remove(),se}function _e(k){return 11===k?{maximumOffset:a.rA,startingOffset:a.vD,offsetIterationDelta:a.YD,allowLeaderLines:!0,attemptToMoveLabelsIntoViewport:!0}:{maximumOffset:c.wh,startingOffset:c.ki,attemptToMoveLabelsIntoViewport:!0}}function Oe(k,Q,Z){(function(k){k.select(I.selector).empty()&&k.append("g").classed(I.class,!0)})(k),k.select(I.selector).selectAll("polyline").data(Q,Z).join(function(X){return X.append("polyline").classed(U.class,!0)}).attr("points",function(X){return X.leaderLinePoints}).styles(function(X){return(0,f.bc)(X.leaderLine)})}function Re(k,Q){return new Ve(k,Q)}function Ae(k,Q,Z){return Z?Z.format(k):o.dx.formatValue(k,Q)}function Ie(k){var Q=k.dataLabels,Z=k.formatMode,X=k.hasTooltip,ve=k.labelContext,ee=k.numeric,pe=k.onObject,te=k.twoRows,se={transform:function(De){var je="translate(".concat(le(De),",").concat(he(De),")");return De.labelOrientation===C.B.Vertical?"".concat(je,"rotate(-90)"):je},dy:O};ee&&(se.dy=void 0);var we=ve.selectAll(T).data(Q,ne),me=we.enter().append("text").classed(p,!0).merge(we);pe&&Pe(me,function(Ee){return!Ee.hasBackground}),me.interrupt().text(function(Ee){return Ee.text}).attrs(se).style("text-anchor",function(Ee){return Ee.textAnchor}).styles(function(Ee){return(0,n.E_)(Ee.fontProperties)}),we.exit().remove(),se={transform:function(De){return"translate(".concat(function(k){return k.boundingBox.left+k.boundingBox.width/2}(De),",").concat(function(k){return k.boundingBox.top+(void 0!==k.text?k.boundingBox.height/2:k.boundingBox.height)}(De),")")},dy:O},ee&&(se.dy=void 0);var xe=_.filter(te?Q:[],function(Ee){return!_.isEmpty(Ee.secondRowText)}),ke=ve.selectAll(R).data(xe,function(Ee,De){return Ee.identity?Ee.identity.getKeyWithoutHighlight():De.toString()}),Ye=ke.enter().append("text").classed(j,!0).merge(ke);pe&&Pe(Ye,function(Ee){return!Ee.hasBackground}),Ye.interrupt().text(function(Ee){return Ee.secondRowText}).attrs(se).style("text-anchor",function(Ee){return Ee.textAnchor}).styles(function(Ee){return(0,n.E_)(Ee.fontProperties)}),X&&(me.append("title").text(function(Ee){return Ee.tooltip}),Ye.append("title").text(function(Ee){return Ee.tooltip}));var ot=function(De){return pe?Z&&De.hasBackground||!Z&&(!X||null==De.tooltip)?"none":"all":X&&null!=De.tooltip?"all":"none"};return me.style("pointer-events",function(Ee){return ot(Ee)}),Ye.style("pointer-events",function(Ee){return ot(Ee)}),ke.exit().remove(),me}function Be(k){var Q=k.context,X=k.onObject,ve=_.filter(k.dataLabels,function(te){return te.hasBackground}),ee=Q.selectAll("rect"),pe=(ee=ee.data(ve,ne)).enter().append("rect").merge(ee);return pe.classed(K,!0).attr("x",function(te){return te.boundingBox.left-c.Bo}).attr("y",function(te){return te.boundingBox.top-c.d1}).attr("rx",G).attr("ry",G).attr("width",function(te){return te.boundingBox.width+2*c.Bo}).attr("height",function(te){return void 0===te.text&&void 0===te.secondRowText?0:te.boundingBox.height+2*c.d1}).style("fill",function(te){return te.backgroundColor}).style("fill-opacity",function(te){return 1-te.backgroundTransparency}),X&&Pe(pe,function(te){return te.hasBackground}),ee.exit().remove(),pe}function $e(k,Q,Z,X){if(null==Q||0===Q)return Z;var ve=Q/100,ee=Math.ceil(k/X);return 1===ve?ee:Z+Math.floor(ve*(ee-Z))}function Ge(k){return(0,u.t)(k)?function(k){var Q=new Set,Z=new Set;return k.filter(function(X){var ve=X.labelDataPointContents.map(function(pe){return pe.text}).join("|"),ee=1===X.parentType;return!(Q.has(ve)&&yt(X,Array.from(Z),ee)||(Q.add(ve),Z.add(X.parentShape),0))})}(k):function(k){for(var Q=[],Z={},X=0,ve=k;X<ve.length;X++){var ee=ve[X];if(V.fF.assertValue(ee,"dataPoint"),null!=ee){var pe=ee,se=Z[pe.text];se?yt(pe,se,1===pe.parentType)||(Q.push(pe),se.push(pe.parentShape)):(Q.push(pe),Z[pe.text]=[pe.parentShape])}}return Q}(k)}function Ne(k,Q,Z,X,ve,ee,pe){void 0===ve&&(ve=0),void 0===ee&&(ee=!1),void 0===pe&&(pe=!1);var te=w.b.estimateSvgTextHeight(Q)+ve,se=Math.max(1,Math.floor(X/te));return(0,g.ql)(k,Q,w.b.measureSvgTextWidth,Z,se,null,!1,ee,pe)}function ht(k,Q,Z){return k.length>1&&!Q?(k.length-1)*c.i1-(Z?c.d1:0):0}var yt=function(Q,Z,X){return Z.some(function(ve){return X?(0,P.fS)(Q.parentShape.rect,ve.rect):(0,B.fS)(Q.parentShape.point,ve.point)})},ft={Title:1,Value:2,Detail:3};function Y(k){V.fF.assertValue(k,"textElement");var Q=w.b.getSvgMeasurementProperties(k);return w.b.measureSvgTextWidth(Q,k.textContent)}function J(k,Q,Z,X){for(var ve=d3.select(k),ee=w.b.estimateSvgTextHeight(Z),pe=Math.min(Q.length,2),te=0,se=0;se<pe;se++){Z.text=Q[se],Q.length>2&&se&&(Z.text=Q[se].concat("..."));var we=w.b.getTailoredTextOrDefault(Z,X);ve.append("tspan").attr("id","wordWrap".concat(Q[se])).attrs({x:0,dy:se?ee:O}).text(we);var me=w.b.measureSvgTextWidth(Z,we);te=me>te?me:te}return te}function z(k){var Q,Z=k.dataLabels,X=k.seriesLabelsSettings,ve=k.plotArea,ee=k.onObject,pe=X.position===x.M.right,te=(0,M.lr)(X,k.availableChartWidth),se={transform:function(Ze){var et=pe?H:-H,Ct=function(k){return k.boundingBox.left+(k.hasBackground?c.Bo:0)}(Ze)+et,xt="translate(".concat(Ct,",").concat(he(Ze),")");return Ze.labelOrientation===C.B.Vertical?"".concat(xt,"rotate(-90)"):xt},dy:O},we=k.labelContext.selectAll(fe).data(Z,ne),me=we.enter().append("text").classed(de,!0).merge(we);ee&&me.classed(S.cy,!0).attr(S.Ez,"series-labels").attr(S.CK,"Visual_SeriesLabels").attr(S.QZ,1);var xe=[],ke=0;me.interrupt().text(function(Fe){var Ze,et;return X?.wordWrap?Fe.text:function(k,Q,Z,X){var ve=c.bN,ee={text:k,fontFamily:Z||ve.fontFamily,fontSize:E.FP.fromPoint(Q),fontWeight:ve.fontWeight};return w.b.getTailoredTextOrDefault(ee,X)}(Fe.text,null!==(Ze=Fe.fontProperties)&&void 0!==Ze&&Ze.size?Fe.fontProperties.size.pt:void 0,null===(et=Fe.fontProperties)||void 0===et?void 0:et.family,te)}).attrs(se).styles(function(Fe){return(0,n.E_)(Fe.fontProperties)}).styles({"text-anchor":pe?"start":"end","white-space":"pre"});var Ye=me.nodes();if(X?.wordWrap)for(var ot=w.b.estimateSvgTextHeight(c.bN),Ee=null!==(Q=X?.fontProperties.size.px)&&void 0!==Q?Q:0,je=Ee+ot+(ve.height-ot-Ee)/2,ze=0,He=Ye;ze<He.length;ze++){V.fF.assertValue(Ue=He[ze],"textElement");var lt=Ue.textContent,gt=w.b.getSvgMeasurementProperties(Ue);Ue.textContent=null;var ut=J(Ue,Ne(lt,gt,te,ve.height-je,void 0,!0,!0),gt,te);Z[ke].hasBackground&&xe.push(ut),ke++}else for(var vt=0,qe=Ye;vt<qe.length;vt++){var Ue=qe[vt];Z[ke].hasBackground&&xe.push(Y(Ue)),ke++}we.exit().remove();var Xe=_.filter(Z,function(Fe){return Fe.hasBackground}),rt=k.backgroundContext.selectAll("rect");return(rt=rt.data(Xe,ne)).enter().append("rect").merge(rt).attr("transform",function(Fe,Ze){var et=Fe.boundingBox.left;return pe||(et-=xe[Ze]),"translate(".concat(et+=H*(pe?1:-1),",").concat(function(k){var Q=0;return k.wordBreak||(Q=(k.boundingBox.height+2*c.d1)/4),k.boundingBox.top-Q}(Fe),")")}).attr("rx",G).attr("ry",G).attr("width",function(Fe,Ze){return xe[Ze]+2*c.Bo}).attr("height",function(Fe){return void 0===Fe.text&&void 0===Fe.secondRowText?0:Fe.boundingBox.height+2*c.d1}).style("fill",function(Fe){return Fe.backgroundColor}).style("fill-opacity",function(Fe){return 1-Fe.backgroundTransparency}),rt.exit().remove(),me}function le(k){var Q=k.labelOrientation===C.B.Vertical;return k.boundingBox.left+(Q?k.boundingBox.width:k.boundingBox.width/2)-(k.hasBackground&&Q?c.Bo:0)}function he(k){var Q=k.labelOrientation===C.B.Vertical,Z=Q?k.boundingBox.height/2:k.boundingBox.height,X=k.hasBackground&&!Q?c.d1:0;return k.wordBreak&&(Z=k.boundingBox.height/2,X=-c.d1),k.boundingBox.top+Z-X}function ne(k,Q){return k.key?k.key:k.identity?k.identity.getKeyWithoutHighlight():String(Q)}function Pe(k,Q){k.classed(S.cy,function(Z){return Q(Z)}).attr(S.Ez,function(Z){return Q(Z)?Z.isCategory?"category-labels":Z.isTotal?"total-labels":"data-labels":null}).attr(S.CK,function(Z){return Q(Z)?Z.isTotal?"Visual_DataTotalLabels":"Visual_DataPointsLabels":null}).attr(S.QZ,function(Z){return Q(Z)?1:null})}var Ve=function(){function k(Q,Z){if(this.noPrecision=!0,0===Z.displayUnits){var X=Q.formatter;if(this.units=X&&X.displayUnit&&X.displayUnit.value,null==Z.precision){this.noPrecision=!1;var ve=X&&X.options;if(ve&&ve.precision)this.precisionForAxis=Q.formatter.options.precision+1;else{var ee=Q.d3Axis.tickValues();ee&&ee.length&&(this.precisionForAxis=(0,D.Gv)(ee[0],ee.length>1?ee[1]:void 0,10*(this.units||1),ve&&ve.format))}}}}return k.prototype.getPrecision=function(Q,Z){if(!this.noPrecision){if(this.units)return this.precisionForAxis;if(!Q)return Z&&Z.integer?0:this.precisionForAxis}},k}()},3665:function(be,q,y){y.d(q,{v:function(){return P}});var s=y(81337),V=y(32379),P=function(w){function E(g,o,C,x){void 0===x&&(x=[]);var D=w.call(this,g,o,C,!0)||this;return D.relatedSeriesLevelToggleValues=x,D}return(0,s.ZT)(E,w),E.create=function(g,o,C){return void 0===C&&(C=[]),new E(g.objectName,g.propertyName,o,C)},E.prototype.getSeriesValueCount=function(g){return this.relatedSeriesLevelToggleValues.filter(function(o){return o.value===g}).length},E.prototype.isSelectorForSeries=function(g){return!!this.relatedSeriesLevelToggleValues.find(function(o){return(0,V.fS)(g,o.selector)})},E.prototype.shouldApplyChanges=function(g,o){var C=this.getSeriesValueCount(!0);return 0===C||1===C&&2===o&&this.isSelectorForSeries(g.selector)},E.prototype.getChanges=function(g){if(this.isMatchingVisualObjectChange(g)){var o=this.getToggleBehaviorType(g);if(0!==o&&this.shouldApplyChanges(g,o))return this.updateBehaviorChanges(o,g),this.getBehaviorChanges(o)}return[]},E}(y(70903).F)},17591:function(be,q,y){function s(B,P){return null==B&&null==P||null!=B&&null!=P&&B.getTime()===P.getTime()}function V(B,P){var x=Math.abs(B.valueOf()-P.valueOf());return Math.floor(x/864e5)}y.d(q,{I:function(){return V},X:function(){return s}})},70574:function(be,q,y){function s(V){try{for(var B=V.objects[Object.keys(V.objects)[0]].geometries,P=!1,w={},E=0,g=B;E<g.length;E++){var o=g[E];if(P=P||null!=o.id,o.properties)for(var C=Object.keys(o.properties),x=0,D=C;x<D.length;x++)w[D[x]]=!0}var c=Object.keys(w).sort();_.pull(c,"id");for(var u=[],n=0,a=B;n<a.length;n++){o=a[n];var f=[];if(P&&f.push(o.id),o.properties)for(var S=0,M=c;S<M.length;S++)f.push(o.properties[M[S]]);u.push(f)}if(c=(P?["id"]:[]).concat(c),!_.isEmpty(c)&&!_.isEmpty(u))return{names:c,values:u}}catch{}}y.d(q,{J:function(){return s}})},33948:function(be,q,y){y.d(q,{j:function(){return B}});var s=y(90120),V=y(56707);function B(P,w,E,g){return P||s.v.getThemeColor(g,w&&!E?V.pl:V.uQ)}},32476:function(be,q,y){y.d(q,{Me:function(){return e},ji:function(){return i}});var s=y(81337),V=y(1521),B=y(48966),P=y(64067),w=y(79154),E=y(62458),g=y(32041),o=y(48066),C=y(38078),x=y(66001),D=y(49511),c=y(18664),u=y(63194),n=y(39071),a=y(97121),f=function(){function R(v){var h=this;this.options=v,this.pageIndex=0,this.pageIndexLast=0,this.rowIndexStart=0,this.rowIndexEnd=0,this.navButtonPrev=v.viewContainer.append("button").classed("powervisuals-glyph",!0).style("background","transparent").style("flex","0 0 ".concat(20,"px")).on("click",function(){return h.renderPrevPage()}).lower(),this.navButtonNext=v.viewContainer.append("button").classed("powervisuals-glyph",!0).style("background","transparent").style("flex","0 0 ".concat(20,"px")).on("click",function(){return h.renderNextPage()})}return R.prototype.render=function(){var v=this;if(this.dataSettings){var h=this.dataSettings.rowDataStore.slice(this.rowIndexStart,this.rowIndexEnd+1),O=this.options.contentContainer.selectAll(".row").data(h,this.dataSettings.getRowDataKey);O.enter().append("div").classed("row",!0).attr("role","none").call(function(H){return v.options.enter(H)}).merge(O).call(function(H){return v.options.update(H)}).order(),O.exit().remove(),this.navButtonPrev.style("visibility",this.hasPrevPage()?null:"hidden"),this.navButtonNext.style("visibility",this.hasNextPage()?null:"hidden")}},R.prototype.data=function(v){return(!this.dataSettings||this.dataSettings.isHorizontal!==v.isHorizontal)&&this.setOrientation(v.isHorizontal),this.dataSettings=v,this.updateIndexes(v.resetPosition?0:this.pageIndex),this},R.prototype.getScrollPosition=function(){return{startIndex:this.rowIndexStart,endIndex:this.rowIndexEnd}},R.prototype.setOrientation=function(v){v?(this.options.viewContainer.style("flex-direction","row"),this.navButtonPrev.classed("chevron-up",!1).classed("left-nav-arrow",!0),this.navButtonNext.classed("chevron-down",!1).classed("right-nav-arrow",!0)):(this.options.viewContainer.style("flex-direction","column"),this.navButtonPrev.classed("chevron-up",!0).classed("left-nav-arrow",!1),this.navButtonNext.classed("chevron-down",!0).classed("right-nav-arrow",!1))},R.prototype.updateIndexes=function(v){this.pageIndexLast=Math.ceil(this.dataSettings.totalCellCount/(this.dataSettings.rowCount*this.dataSettings.columnCount))-1,this.pageIndex=Math.min(Math.max(v,0),this.pageIndexLast),this.rowIndexStart=this.pageIndex*this.dataSettings.rowCount,this.rowIndexEnd=Math.min(this.rowIndexStart+this.dataSettings.rowCount-1,this.dataSettings.rowDataStore.length-1),this.pageIndex>=this.pageIndexLast-2&&this.options.loadMoreData()},R.prototype.renderNextPage=function(){this.hasNextPage()&&(this.updateIndexes(this.pageIndex+1),this.render())},R.prototype.renderPrevPage=function(){this.hasPrevPage()&&(this.updateIndexes(this.pageIndex-1),this.render())},R.prototype.hasNextPage=function(){return this.options.scrollEnabled&&this.pageIndex<this.pageIndexLast},R.prototype.hasPrevPage=function(){return this.options.scrollEnabled&&this.pageIndex>0},R}(),S=y(52287),M=y(2241),d=y(95519),i=3;function r(R,v){var h=0===v?n.yD.selector:n.yT.selector;return R.find("".concat(n.qN.selector).concat(h))}var t=[n.yD,n.bL,n.yT],e=function(){function R(v,h,O,H,I,U,G){this.$container=v,this.loadMoreHandler=h,this.scrollEnabled=O,this.interactivityService=H,this.eventManager=I,this.boundDataKey=U,this.featureSwitches=G}return R.prototype.update=function(v){this.ensureRenderer(v);var I,U,h=v.gridLineSettings,O=v.cellPadding,H=h&&h.strokeWidth;E.fF.assert(function(){return!O.right},"Expected only left padding to be set"),E.fF.assert(function(){return!O.bottom},"Expected only top padding to be set"),I=H&&R.hasVerticalGridLines(h)?2*O.left+h.strokeWidth:2*O.left,U=H&&R.hasHorizontalGridLines(h)?2*O.top+h.strokeWidth:2*O.top,O=(0,s.pi)((0,s.pi)({},O),{left:I,top:U});var G=this.getUpdatedHeaderMargins(v.headerMargins),ce=(0,s.pi)((0,s.pi)({},v.viewport),{width:Math.floor(v.viewport.width),height:Math.floor(v.viewport.height)}),ue=Math.ceil(v.subheaderHeight);this.settings=(0,s.pi)((0,s.pi)({},v),{cellPadding:O,headerMargins:G,subheaderHeight:ue,viewport:ce})},R.prototype.ensureRenderer=function(v){v.isPaginated&&this.renderer instanceof ie||!v.isPaginated&&this.renderer instanceof K||(this.renderer&&this.destroy(),this.renderer=v.isPaginated?new ie(this.$container,this.loadMoreHandler,this.scrollEnabled,this.interactivityService,this.eventManager,this.featureSwitches,this.boundDataKey):new K(this.$container,this.loadMoreHandler,this.scrollEnabled,this.interactivityService,this.eventManager,this.featureSwitches,this.boundDataKey))},R.prototype.updateHeaderMargins=function(v){var h=this.settings;E.fF.assertValue(h,"Settings should be initialized when updating header margins.");var O=this.getUpdatedHeaderMargins(v);this.settings=(0,s.pi)((0,s.pi)({},h),{headerMargins:O})},R.prototype.getScrollPosition=function(){return this.renderer.getScrollPosition()},R.prototype.render=function(v){return(0,s.mG)(this,void 0,void 0,function(){var h;return(0,s.Jh)(this,function(O){return h=this.calculateGridRenderSettings(v.calculatedCellDimensions),[2,this.renderer.render(h,this.settings.shouldResetScrollPosition,v)]})})},R.prototype.scrollTo=function(v){var h=this;E.fF.assert(function(){return h.renderer instanceof K},"scrollTo is only valid for scrollable grid renderer"),this.renderer instanceof K&&this.renderer.scrollTo(v)},R.prototype.getRowHeight=function(v){return this.renderer.getRowHeight(v)},R.prototype.getUpdatedHeaderMargins=function(v){return(0,s.pi)((0,s.pi)({},v),{left:Math.ceil(v.left),right:Math.ceil(v.right),bottom:Math.ceil(v.bottom),top:Math.ceil(v.top)})},R.prototype.calculateGridRenderSettings=function(v){var h=v.axesOverflow,O=v.plotAreaViewport,H=v.seriesLabelsWidth,I=v.scrollableViewport,U={height:O.height+h.bottom+h.top,width:O.width+h.left+h.right+(isNaN(H)?0:H??0)},G=this.settings,ye=G.cellCount,Ce=G.cellPadding,ge=G.columnCount,Se=G.getAllCells,Le=G.gridLineSettings,Oe=G.outerPadding,Ie=G.renderHeader,Be=G.rowCount,tt=G.viewport,at=G.manageTabIndexOnRowHeaderFooter,it=G.boldedSubheaders,ht=G.isHorizontal,yt=G.borderSettings,ft=G.background,dt=G.headerMargins,bt={subheaderHeight:G.subheaderHeight,subheaderLineHeight:G.subheaderLineHeight,subheaderPosition:G.subheaderPosition,subheaderShow:G.subheaderShow,headerWidth:dt.left,footerWidth:dt.right,cell:{width:U.width,getCellBackgroundColor:G.getCellBackgroundColor,backgroundTransparency:G.backgroundTransparency,renderCell:G.renderCell,renderCellSubheader:G.renderCellSubheader},height:U.height,scale:this.settings.viewport.scale,rowCount:Be,columnCount:ge,cellPadding:Ce,outerPadding:Oe,scrollPadding:G.scrollPadding,gridLineSettings:Le,isPaginated:this.settings.isPaginated,isHorizontal:this.settings.isHorizontal},wt=this.calculateVerticalGridLines(Le,dt,Ce,Oe,U,ge,Be);return{viewport:tt,scrollableViewPort:(0,s.pi)((0,s.pi)({},I),{scale:tt.scale}),footerHeight:dt.bottom,rowCount:Be,columnCount:ge,row:bt,totalCellCount:ye,renderHeader:Ie,verticalGridLines:wt,gridLineSettings:Le,getAllCells:Se,manageTabIndexOnRowHeaderFooter:at,boldedSubheaders:it,isHorizontal:ht,borderSettings:yt,background:ft}},R.prototype.destroy=function(){var v;null===(v=this.renderer)||void 0===v||v.destroy()},R.prototype.clearRenderingTimeout=function(){this.renderer instanceof K&&this.renderer.clearRenderingTimeout()},R.typeHasVerticalGridLines=function(v){return v===D.o.all||v===D.o.inner||v===D.o.innerVertical},R.hasVerticalGridLines=function(v){return null!=v&&R.typeHasVerticalGridLines(v.region)},R.typeHasHorizontalGridLines=function(v){return v===D.o.all||v===D.o.inner||v===D.o.innerHorizontal},R.hasHorizontalGridLines=function(v){return null!=v&&R.typeHasHorizontalGridLines(v.region)},R.typeHasOuterGridLines=function(v){return v===D.o.all},R.hasOuterGridLines=function(v){return null!=v&&R.typeHasOuterGridLines(v.region)},R.getOuterBorderWidth=function(v,h){var O=0,H=0;return this.hasOuterGridLines(v)&&(O=v.strokeWidth),h&&(H=h.strokeWidth),Math.max(O,H,0)},R.prototype.calculateCellDimensions=function(v,h,O){var H,I,Ae,U=this.hasScroll(),G=this.settings,ce=G.viewport,ue=G.headerMargins,ye=G.cellPadding,Ce=G.columnCount,ge=G.rowCount,Se=G.outerPadding,Le=G.scrollPadding,_e=G.subheaderHeight,Oe=G.subheaderShow,Re=this.settings.isHorizontal&&!this.settings.isPaginated;E.fF.assert(function(){return _.isInteger(ue.left)&&_.isInteger(ue.right)&&_.isInteger(ue.top)&&_.isInteger(ue.bottom)}),E.fF.assert(function(){return _.isInteger(ce.width)&&_.isInteger(ce.height)}),H=2*R.getOuterBorderWidth(I=this.settings.gridLineSettings,this.settings.borderSettings),Ae=this.settings.noExtraPadding?0:Se.left+Se.right;var Be,Ie=ce.width-ue.left-ue.right;if(this.settings.noExtraPadding)Be=0;else if(!Re&&U){var $e=p.getBottomInnerPadding(!0,ye.top,I);Be=Se.top+$e+H/2}else Be=Se.top+Se.bottom+H;var Ge=ce.height-ue.top-ue.bottom;Ge=this.renderer.adjustHeight(Ge,U,Le,this.settings.isHorizontal);var Ne=(Ie=this.renderer.adjustWidth(Ie,U,Le,this.settings.isHorizontal))-H-ye.left*(Ce-1)-Ae,Qe=Ge-ye.top*(ge-1)-Be,Je=Math.floor(Ne/Ce),tt=Math.floor(Qe/ge);Ie-=Ne%Ce,Ge-=Qe%ge;var it,at=h?.titleWrap;if(Oe){it=_e;var ht=h?.subheaders;if(at&&ht){for(var yt=(0,c.qk)(h.subheaderFontProperties),ft=1,pt=0,dt=ht;pt<dt.length;pt++){var wt=(0,x.ql)(dt[pt],yt,g.b.measureSvgTextWidth,Je,i,null,!0);if((ft=Math.max(ft,wt.length))===i)break}it=Math.ceil(ft*h.subheaderLineHeight+h.subheaderMargin.top+h.subheaderMargin.bottom)}tt-=it}tt-=v.top+v.bottom,Je-=v.left+v.right,E.fF.assert(function(){return _.isInteger(Je)}),E.fF.assert(function(){return _.isInteger(tt)});var W=O?.showSeriesLabels?Math.ceil((0,d.lr)(O.seriesLabelSettings,Je)):0;return Je-=W,{plotAreaViewport:{width:Math.max(Je,0),height:Math.max(tt,0)},scrollableViewport:{width:Ie,height:Ge},headerMargins:ue,axesOverflow:v,seriesLabelsWidth:W,maxSubheaderHeight:at?it:void 0}},R.prototype.calculateVerticalGridLines=function(v,h,O,H,I,U,G){if(!R.hasVerticalGridLines(v))return[];var ce=v.strokeColor;null!=v.strokeTransparency&&(ce=(0,V.Et)(ce,(0,P.TD)(v.strokeTransparency)));var ue=this.settings.isHorizontal&&!this.settings.isPaginated,ye=R.hasVerticalGridLines(v),Ce=R.hasOuterGridLines(v),ge="".concat(v.strokeWidth,"px ").concat(v.strokePattern," ").concat(ce),Se=v.strokeWidth/2,Le=Ce?0:void 0,_e=[];if(Ce&&_e.push(ue?{key:"outer-vertical-".concat(Le++),position:{top:"".concat(h.top,"px")},size:{},style:{horizontal:ge}}:{key:"outer-vertical-".concat(Le++),position:{left:"".concat(h.left,"px")},size:{},style:{vertical:ge}}),ye){var Re=ge?(ue?G:U)-1:void 0;if(Re){var Ae=ue?O.top:O.left,Ie=ue?I.height:I.width,Be=ue?H.top:H.left,$e=ue?O.top+O.bottom:O.left+O.right,Ge=ue?h.top:h.left;E.fF.assert(function(){return!O.right},"Unexpected right cell padding");for(var Je=Ge+Be+(Ie+Ae/2-Se)+R.getOuterBorderWidth(v,this.settings.borderSettings),tt=$e+Ie,at=0;at<Re;at++)_e.push(ue?{key:"inner-vertical-".concat(at),position:{top:"".concat(Je,"px")},size:{},style:{horizontal:ge}}:{key:"inner-vertical-".concat(at),position:{left:"".concat(Je,"px")},size:{},style:{vertical:ge}}),Je+=tt}}if(Ce)if(ue){var it=h.top+I.height*G+O.top*(G-1)+v.strokeWidth+H.top+H.bottom;_e.push({key:"outer-vertical-".concat(Le++),position:{top:"".concat(it,"px")},size:{},style:{horizontal:ge}})}else it=h.left+I.width*U+O.left*(U-1)+v.strokeWidth+H.left+H.right,_e.push({key:"outer-vertical-".concat(Le++),position:{left:"".concat(it,"px")},size:{},style:{vertical:ge}});return _e},R.prototype.hasScroll=function(){return!this.settings.isPaginated&&this.settings.cellCount/(this.settings.isHorizontal?this.settings.rowCount:this.settings.columnCount)>(this.settings.isHorizontal?this.settings.columnCount:this.settings.rowCount)},R}(),m="GridRenderingContext",p=function(){function R(v,h,O,H,I,U,G){var ce=this;if(this.$container=v,this.loadMoreHandler=h,this.scrollEnabled=O,this.interactivityService=H,this.eventManager=I,this.featureSwitches=U,this.isInitialized=!1,H){var ue=new u.wA(G,function(){return ce.settings.getAllCells()});this.behavior=ue.create()}}return R.prototype.render=function(v,h,O){return(0,s.mG)(this,void 0,void 0,function(){var H,I;return(0,s.Jh)(this,function(U){switch(U.label){case 0:return this.settings=v,this.dataToBind=O.dataToBind,this.pointSourceKey=O.pointSourceKey,this.formatMode=O.formatMode,this.subSelectionHelper=O.subSelectionHelper,this.isInitialized||this.initialize(O.visualInstanceId),this.renderingContext={},this.$gridWrapper.css(((I={})[w.kP]=(H=v.viewport).width,I[w.ei]=H.height,I)),this.updateFooter(),[4,this.updateRows(h)];case 1:return U.sent(),this.updateGridlines(),this.updateBorder(),this.updateBackground(),[2]}})})},R.prototype.showFooter=function(v){this.$gridFooter.css("display",v?"":"none")},R.prototype.updateBorder=function(){var v,h=this.settings.borderSettings,O=this.settings.scrollableViewPort.width,H=this.settings.scrollableViewPort.height,I={};if(!h)return(v={}).width="",v.height="",v["border-radius"]="",I=v,this.$gridBorder.css("display","none"),void this.updateViewportElement(I);this.isPaginated||(this.settings.isHorizontal?(I.height="".concat(H,"px"),this.$gridWrapper.css("width","".concat(O,"px"))):(I.width="".concat(O,"px"),this.$gridWrapper.css("height","".concat(H,"px")))),I["border-radius"]=j(h.radius),this.updateViewportElement(I),this.$gridBorder.css("display",""),this.$gridBorder.css(w.ei,"".concat(H,"px")),this.$gridBorder.css(w.kP,"".concat(O,"px")),this.$gridBorder.css(w.mA,(0,M.YE)(h)),this.$gridBorder.css(w.wu,I[w.wu])},R.prototype.updateBackground=function(){var v=this.settings.background;if(!v)return this.$gridBackground.css("display","none"),void this.$gridBackgroundColor.css("display","none");var h=this.getBackgroundStyles();if(_.isEmpty(v.color))this.$gridBackgroundColor.css("display","none");else{var O=v.color;v.colorTransparency&&(O=(0,V.Et)(O,(0,P.TD)(v.colorTransparency))),this.$gridBackgroundColor.css("background-color",O||""),this.$gridBackgroundColor.css(h)}!function(R){return R&&((0,o.gU)(R.url)||(0,o.pU)(R.url))}(v.image)?this.$gridBackground.css("display","none"):(this.$gridBackground.css("background-image","url(".concat(C.b$.encodeUriForImageDataSvg(v.image.url),")")),this.$gridBackground.css("background-size",function(R){switch(R.image.scaling){case B.C.fit:return"100% 100%";case B.C.fill:return"cover";default:return"contain"}}(v)),this.$gridBackground.css("opacity",(0,P.TD)(v.imageTransparency)),this.$gridBackground.css(h))},R.prototype.getBackgroundStyles=function(){var v=this.settings.borderSettings,h={},O=this.settings.scrollableViewPort.height,H=this.settings.scrollableViewPort.width,I=0,U=0,G={topLeft:0,topRight:0,bottomLeft:0,bottomRight:0};return v&&(v.strokeWidth>0&&(I=v.strokeWidth,U=v.strokeWidth,O-=2*v.strokeWidth,H-=2*v.strokeWidth),v.radius&&(G={topLeft:v.radius.topLeft-v.strokeWidth,topRight:v.radius.topRight-v.strokeWidth,bottomLeft:v.radius.bottomLeft-v.strokeWidth,bottomRight:v.radius.bottomRight-v.strokeWidth})),h.height="".concat(O,"px"),h.width="".concat(H,"px"),h.left="".concat(U,"px"),h.top="".concat(I,"px"),h.display="",h["border-radius"]=j(G),h},R.prototype.updateFooter=function(){var v=this,h=this.settings.footerHeight;if(!h)return this.showFooter(!1),this.$gridFooter.css("display","none"),void this.$gridFooter.empty();this.showFooter(!0);var O=this.settings.row;this.$gridFooter.css(w.ei,h),this.$gridFooter.css(w.kP,this.adjustWidth(this.settings.viewport.width,this.hasScroll(),O.scrollPadding,this.settings.isHorizontal));var H={rowCount:O.rowCount,columnCount:O.columnCount,footerWidth:O.footerWidth,headerWidth:O.headerWidth,subheaderHeight:0,subheaderLineHeight:0,subheaderPosition:O.subheaderPosition,subheaderShow:!1,height:h,scale:this.settings.viewport.scale,cellPadding:{top:0,bottom:0,left:O.cellPadding.left,right:O.cellPadding.right},outerPadding:{top:0,bottom:0,left:O.outerPadding.left,right:O.outerPadding.right},scrollPadding:O.scrollPadding,cell:{width:O.cell.width,getCellBackgroundColor:function(G){},renderCell:function(G){var ce=G;ce.position=2,v.settings.renderHeader(ce)},renderCellSubheader:_.noop},gridLineSettings:void 0,isPaginated:!1,isHorizontal:!1},I=this.$gridFooter.find(n.YR.selector);0===I.length&&(I=this.buildElement(this.$gridFooter,n.YR.class)),this.renderRow(I,H,0,function(){},O.columnCount,{startIndex:0,endIndex:O.columnCount})},R.prototype.updateGridlines=function(){this.updateGridLines(d3.select(this.$gridBody[0]),this.settings.verticalGridLines,n.MB)},R.prototype.getTotalOccupiedRowCount=function(){return Math.ceil(this.settings.totalCellCount/this.virtualColumnCount)},R.prototype.hasScroll=function(){return this.scrollEnabled&&(!this.settings||this.getTotalOccupiedRowCount()>this.virtualRowCount)},R.getTotalScrollWidth=function(v,h){return v?8+h:0},R.getBottomInnerPadding=function(v,h,O){if(v){var H=h,I=0;return e.hasHorizontalGridLines(O)&&(I=O.strokeWidth),Math.round((H-=I)/2)}return 0},R.getRightInnerPadding=function(v,h){return v?Math.round(h/2):0},R.prototype.getTotalOuterPixels=function(){var v=this.settings.row;return v.outerPadding.top+e.getOuterBorderWidth(v.gridLineSettings,this.settings.borderSettings)},R.prototype.getRowHeightWithoutPadding=function(v){var h=v;return 1===this.getTotalRowCount()&&(h+=v),this.getRowHeight(0)-h},R.prototype.getRowWidthWithoutPadding=function(v){var h=v;return 1===this.getTotalColumnCount()&&(h+=v),A(this.settings.row,this.settings.gridLineSettings,this.settings.borderSettings,0)-h},R.prototype.updateGridLines=function(v,h,O){var H=v.selectAll("".concat(n.F6.selector,".").concat(O.class)).data(h,function(U){return U.key}),I=H.enter().append("div").classed(n.F6.class,!0).classed(O.class,!0);I.merge(H).style("top",function(U){return U.position.top}).style("right",function(U){return U.position.right}).style("bottom",function(U){return U.position.bottom}).style("left",function(U){return U.position.left}).style("width",function(U){return U.size.width}).style("border-left",function(U){return U.style.vertical}).style("border-top",function(U){return U.style.horizontal}).classed(n.IA.class,!this.isPaginated&&this.settings.isHorizontal),this.featureSwitches&&this.featureSwitches.onObject&&I.classed(S.cy,!0).attr(S.Ez,"small-multiples-gridlines").attr(S.CK,"Small_Multiples_Border").attr(S.QZ,3),H.exit().remove()},R.prototype.buildRow=function(v,h,O,H,I){var U=function(R,v,h,O,H){var I=R.subheaderShow&&1!==R.subheaderPosition,U=T(O,H,R,h),G=U.height,ce=U.topPadding,ue=U.bottomPadding,ye=G-ce-ue,Ce={},ge=R.isHorizontal&&!R.isPaginated,Se={},Le={},_e={},Oe={},Re={},Ae={},Ie={},Be=A(R,v,h,O),$e=Be,Ge=ce,Ne=Be;if(ge){Ne=0;var Qe=e.getOuterBorderWidth(v,h);v&&(Ne=v.strokeWidth,Ge+=U.height-Qe),Ce["flex-direction"]="row"}else Ce["flex-direction"]="column";return Ce.width="".concat(Be,"px"),Se.width="".concat($e,"px"),Le.width="".concat(Ne,"px"),Le.height="".concat(Ge,"px"),Ce.height="".concat(G,"px"),Se.height="".concat(ye,"px"),_e.height="".concat(ue,"px"),Oe["flex-direction"]=I?"column-reverse":"column",Re.width="".concat(R.cell.width,"px"),R.subheaderShow?(Ae["line-height"]="".concat(R.subheaderLineHeight,"px"),Ae.height="".concat(R.subheaderHeight,"px"),Ae.width="".concat(R.cell.width,"px"),Ie["padding-top"]="".concat(I?R.subheaderHeight:0,"px")):Ie["padding-top"]="0px",Ie.height="".concat(ye,"px"),Se["flex-direction"]=R.isHorizontal&&!R.isPaginated?"column":"",{rowWrapperStyling:Ce,rowStyling:Se,gridLineWrapperStyling:Le,gridLineWrapperBottomStyling:_e,cellStyling:Oe,cellContentStyling:Re,subheaderStyling:Ae,rowHeaderCellStyling:Ie}}(h,this.settings.gridLineSettings,this.settings.borderSettings,I,this.getTotalRowCount()),ce=U.rowStyling,ue=U.gridLineWrapperStyling,ye=U.gridLineWrapperBottomStyling,Ce=U.cellStyling,ge=U.cellContentStyling,Se=U.subheaderStyling,Le=U.rowHeaderCellStyling;v.css(U.rowWrapperStyling);var _e=v.find(n.oE.selector);0===_e.length&&(_e=this.buildElement(v,n.oE.class)),_e.css(ue);var Oe=v.find(n.X2.selector);0===Oe.length&&(Oe=this.buildElement(v,n.X2.class)),Oe.css(ce),Oe.attr("role","row"),Oe.attr("aria-rowindex",I+1);var Re=v.find(n.MR.selector);0===Re.length&&(Re=this.buildElement(v,n.MR.class)),Re.css(ye),this.renderTopGridline(I,h,d3.select(_e[0])),this.renderRowInnerGridline(I,h,d3.select(_e[0])),this.buildHeaderCell(Oe,0,Le,h),this.buildCells(Oe,h,O,H,Ce,ge,Se,I),this.buildHeaderCell(Oe,1,Le,h),this.renderBottomGridline(I,h,d3.select(Re[0])),this.orderRowContent(d3.select(Oe[0]))},R.prototype.buildCells=function(v,h,O,H,I,U,G,ce){for(var ue=v.find(n.bL.selector),ye=0;ye<this.virtualColumnCount;ye++){var Ce=O+ye,ge=ue.eq(ye);0===ge.length&&(ge=this.buildElement(v,n.bL.class)),I=(0,s.pi)((0,s.pi)({},I),{"padding-top":"","padding-left":"","padding-right":"","margin-left":"","margin-right":"","background-color":"","margin-top":"","margin-bottom":""}),ge.attr("role","gridcell"),ge.attr("aria-colindex",ye+1);var Se=0===ye,Le=ye===this.virtualColumnCount-1,_e=e.getOuterBorderWidth(this.settings.gridLineSettings,this.settings.borderSettings),Oe=e.hasHorizontalGridLines(this.settings.gridLineSettings)?this.settings.gridLineSettings.strokeWidth:0;h.isHorizontal&&!h.isPaginated?(I["padding-left"]=L(ce,h)?"".concat(_e,"px"):"".concat(h.cellPadding.left-Oe,"px"),Se||(I["padding-top"]="".concat(h.cellPadding.top,"px")),Se&&(I["margin-top"]="".concat(_e,"px")),Le&&(I["margin-bottom"]="".concat(_e,"px"))):(I["padding-left"]="".concat(Se?h.outerPadding.left:h.cellPadding.left,"px"),Le&&(I["padding-right"]="".concat(h.outerPadding.right,"px")),Se&&(I["margin-left"]="".concat(_e,"px")),Le&&(I["margin-right"]="".concat(_e,"px")));var Re=ge.find(n.J5.selector),Ae=ge.find(n.bU.selector);if(Ce>=H)Re.remove(),Ae.remove(),I["background-color"]="";else{0===Re.length&&(Re=this.buildElement(ge,n.J5.class)),Re.css(U);var Ie=h.cell.getCellBackgroundColor(Ce);if(Ie){var Be=(0,P.WV)(Ie),$e=(0,P.b9)(Be,(100-h.cell.backgroundTransparency)/100);I["background-color"]=(0,P.U8)($e)}else I["background-color"]="";h.subheaderShow?(0===Ae.length&&(Ae=this.buildElement(ge,n.bU.class),this.featureSwitches&&this.featureSwitches.onObject&&d3.select(Ae.get(0)).classed(S.cy,!0).attr(S.Ez,"grid-cell-subheader").attr(S.CK,"Small_Multiples_Title").attr(S.QZ,1)),Ae.css(G)):Ae.remove()}ge.css(I)}ue.slice(this.virtualColumnCount).remove()},R.prototype.buildHeaderCell=function(v,h,O,H){var I,U;E.fF.assert(function(){return 0===h||1===h},"buildHeaderCell expects header position to be left or right."),0===h?(I=H.headerWidth,U=n.yD.class):(I=H.footerWidth,U=n.yT.class);var G=r(v,h);I<=0?G.remove():(0===G.length&&(G=this.buildElement(v,n.qN.class)).addClass(U),G.css(O),G.css("width","".concat(I,"px")))},R.prototype.orderRowContent=function(v){var h=v.selectAll(_.map(t,function(O){return O.selector}).join(", ")).nodes();h.sort(function(O,H){for(var I=0,U=0;U<t.length;U++)I+=Number(d3.select(O).classed(t[U].class))*U,I-=Number(d3.select(H).classed(t[U].class))*U;return I}),d3.selectAll(h).order()},R.prototype.renderRowGridline=function(v,h,O,H,I,U){var G=[];if(v){var ce=this.settings.isHorizontal&&!this.isPaginated,ye=(0,M.YE)(I.gridLineSettings),Ce=e.getOuterBorderWidth(I.gridLineSettings,this.settings.borderSettings),ge={top:"".concat(ce?Ce:h,"px"),left:"".concat(I.headerWidth+(ce?h:Ce),"px")};if(ce)G.push({key:O,position:ge,size:Se={width:"0px"},style:{vertical:ye}});else{var Se={width:"".concat(I.cell.width*I.columnCount+I.cellPadding.left*(I.columnCount-1)+I.outerPadding.left+I.outerPadding.right,"px")};G.push({key:O,position:ge,size:Se,style:{horizontal:ye}})}}this.updateGridLines(U,G,H)},R.prototype.renderRowInnerGridline=function(v,h,O){var H=h.gridLineSettings,I=v>0&&e.hasHorizontalGridLines(H),U=I?Math.floor((h.cellPadding.top-H.strokeWidth)/2):0,G="inner-horizontal-".concat(v-1);this.renderRowGridline(I,U,G,n.SM,h,O)},R.prototype.renderTopGridline=function(v,h,O){var I=0===v&&e.hasOuterGridLines(h.gridLineSettings);this.renderRowGridline(I,0,"outer-horizontal-0",n.J3,h,O)},R.prototype.renderBottomGridline=function(v,h,O){var H=h.gridLineSettings,I=v===this.getTotalRowCount()-1&&e.hasOuterGridLines(H);this.renderRowGridline(I,h.outerPadding.bottom,"outer-horizontal-1",n.J3,h,O)},R.prototype.renderRow=function(v,h,O,H,I,U){var G=Math.floor(O/this.virtualColumnCount);this.buildRow(v,h,O,I,G);var ce={width:h.cell.width,height:h.height,scale:h.scale};h.headerWidth>0&&this.renderHeaderCell(r(v,0),G,0,ce.height,h.headerWidth,h.scale,H);for(var ue=v.find(n.bL.selector),ye=0;ye<this.virtualColumnCount;ye++){var Ce=O+ye;if(!(Ce>=I)){var ge=ue.eq(ye),Le={element:ge.find(n.J5.selector),index:Ce,viewport:ce,scrollPosition:U};if(this.behavior&&(Le.bindDataToGridCell=u.p$.bindDataToGridCell),h.cell.renderCell(Le),h.subheaderShow){var Oe={element:ge.find(n.bU.selector),index:Ce,viewport:{width:h.cell.width,height:h.subheaderHeight,scale:h.scale},scrollPosition:U};this.behavior&&(Oe.styleSubheader=u.p$.styleSubheader),h.cell.renderCellSubheader(Oe)}}}h.footerWidth>0&&this.renderHeaderCell(r(v,1),G,1,ce.height,h.footerWidth,h.scale,H)},R.prototype.renderHeaderCell=function(v,h,O,H,I,U,G){G({index:h,viewport:{width:I,height:H,scale:U},position:O,element:v,scrollPosition:this.getScrollPosition()})},R.prototype.renderListViewRow=function(v){v.each(function(h,O){$(this).addClass(n.YR.class)})},R.prototype.updateListViewRow=function(v){var h=this,O=this.renderingContext;v.each(function(H,I){var U=$(this);U.data(m)!==O&&(U.data(m,O),h.renderRow($(this),h.settings.row,H.cellIndex,h.settings.renderHeader,h.settings.totalCellCount,h.getScrollPosition()))})},R.prototype.getRowHeight=function(v,h){return void 0===h&&(h=this.settings.row),T(v,this.getTotalRowCount(),h,this.settings.borderSettings).height},R.prototype.buildListViewData=function(){for(var v=0,h=[],O=this.getTotalRowCount(),H=0;H<O;H++)h.push({index:H,cellIndex:v,columnCount:this.virtualColumnCount}),v+=this.virtualColumnCount;return h},R.prototype.buildElement=function(v,h){return $(document.createElement("div")).addClass(h).appendTo(v)},R.prototype.buildGridBody=function(){var v=this.buildElement(this.$grid,n.uT.class);return v.attr("role","grid"),this.featureSwitches&&this.featureSwitches.onObject&&v.attr(S.oy,1),v},R.prototype.getRowsFromBodyOrFooter=function(v){return this.$container.find("".concat(v?n.uT.selector:n.$_.selector," ").concat(n.X2.selector))},R}();function T(R,v,h,O){var H=0,I=0,U=0;return h.isHorizontal&&!h.isPaginated?(U=h.height*h.rowCount+h.cellPadding.top*(h.rowCount-1),U+=e.getOuterBorderWidth(h.gridLineSettings,O)):(L(R,h)&&(I+=h.outerPadding.top,I+=e.getOuterBorderWidth(h.gridLineSettings,O)),function(R,v,h){return v.isPaginated?R%v.rowCount==v.rowCount-1:R===h-1}(R,h,v)&&(H+=h.outerPadding.bottom,H+=e.getOuterBorderWidth(h.gridLineSettings,O)),(h.isPaginated&&R%h.rowCount!=0||!h.isPaginated&&R>0)&&(I+=h.cellPadding.top),U=h.height+(h.subheaderShow?h.subheaderHeight:0)+H+I),{height:U,topPadding:I,bottomPadding:H}}function L(R,v){return v.isPaginated?R%v.rowCount==0:0===R}function A(R,v,h,O){var ge,H=R.cell,I=R.columnCount,U=R.cellPadding,G=R.outerPadding,ce=R.headerWidth,ue=void 0===ce?0:ce,ye=R.footerWidth,Ce=void 0===ye?0:ye;return R.isHorizontal&&!R.isPaginated?(ge=H.width,O>0&&(ge+=R.cellPadding.left),0===O&&(ge+=e.getOuterBorderWidth(v,h))):(ge=H.width*I+U.left*(I-1)+G.left+G.right+ue+Ce,ge+=2*e.getOuterBorderWidth(v,h)),ge}var K=function(R){function v(){return null!==R&&R.apply(this,arguments)||this}return(0,s.ZT)(v,R),v.prototype.getScrollPosition=function(){var h;return null===(h=this.listView)||void 0===h?void 0:h.getCurrentPosition()},v.prototype.scrollTo=function(h){var O;null===(O=this.listView)||void 0===O||O.scrollTo(h)},v.prototype.clearRenderingTimeout=function(){var h;null===(h=this.listView)||void 0===h||h.clearRenderingTimeout()},v.prototype.destroy=function(){this.isInitialized&&(this.listView.destroy(),this.$gridWrapper.empty(),this.$gridWrapper.remove(),this.isInitialized=!1)},Object.defineProperty(v.prototype,"virtualRowCount",{get:function(){return this.settings.isHorizontal?this.settings.columnCount:this.settings.rowCount},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"virtualColumnCount",{get:function(){return this.settings.isHorizontal?this.settings.rowCount:this.settings.columnCount},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isPaginated",{get:function(){return!1},enumerable:!1,configurable:!0}),v.prototype.initialize=function(h){this.isInitialized=!0,this.$gridWrapper=this.buildElement(this.$container,n.zc.class),this.$grid=this.buildElement(this.$gridWrapper,n.rj.class),this.$gridBody=this.buildGridBody(),this.$gridBorder=this.buildElement(this.$grid,n.OC.class),this.$gridBackground=this.buildElement(this.$grid,n.Aq.class),this.$gridBackgroundColor=this.buildElement(this.$grid,n.lP.class),this.$gridFooter=this.buildElement(this.$grid,n.$_.class),this.$gridFooter.attr("role","grid");var O=this.buildListViewOptions(h);this.listView=(0,a.P)(O)},v.prototype.updateViewportElement=function(h){var O;null===(O=this.listView)||void 0===O||O.updateScrollingViewport(h)},v.prototype.updateRows=function(h){var O=this;E.fF.assert(function(){return O.isInitialized},"grid renderer not initialized");var H=this.buildListViewData(),I=this.getTotalOuterPixels(),U=this.settings.isHorizontal?this.getRowWidthWithoutPadding(I):this.getRowHeightWithoutPadding(I);if(this.listView.viewport(null).rowHeight(U).paddingBetween(this.settings.row.cellPadding.top).paddingOuter(I).orientation(this.settings.isHorizontal).data(H,function(ce){return JSON.stringify(ce)},h),this.settings.isHorizontal)this.$gridBody.css("flex-grow","1"),this.$gridBody.css("flex-basis",null);else{var G=this.getVerticalContainerHeight();this.$gridBody.css("flex-grow",null),this.$gridBody.css("flex-basis",G)}return this.$gridBody.attr("aria-rowcount",this.getTotalRowCount()),this.$gridBody.attr("aria-colcount",this.settings.row.columnCount),this.listView.render()},v.prototype.buildListViewOptions=function(h){var O=this;return{loadMoreData:function(){return O.loadMoreHandler()},customLoadMoreCheck:function(){return O.checkLoadMore()},viewport:this.settings.viewport,baseContainer:d3.select(this.$gridBody.get(0)),scrollEnabled:this.scrollEnabled,isReadMode:function(){return!0},enter:function(I){O.renderListViewRow(I)},update:function(I){O.updateListViewRow(I)},rowHeight:this.settings.isHorizontal?A(this.settings.row,this.settings.gridLineSettings,this.settings.borderSettings,0):this.getRowHeightWithoutPadding(this.getTotalOuterPixels()),paddingBetween:this.settings.row.cellPadding.top,paddingOuter:this.getTotalOuterPixels(),doNotRenderToCalculateRowHeight:!0,getContainerHeight:function(){return O.settings.isHorizontal?O.getHorizontalContainerWidth():O.getVerticalContainerHeight()},onScroll:function(){return O.onScroll()},afterScroll:this.behavior?function(){return O.bindInteractivity(h)}:void 0}},v.prototype.onScroll=function(){var h;this.formatMode&&(null===(h=this.subSelectionHelper)||void 0===h||h.onVisualScroll())},v.prototype.getVerticalContainerHeight=function(){var h=this.settings;if(0===h.rowCount)return 0;for(var O=0,H=0;H<h.rowCount;H++)O+=T(H,this.getTotalRowCount(),h.row,h.borderSettings).height;var I=this.hasScroll();return O+p.getBottomInnerPadding(I,this.settings.row.cellPadding.top,this.settings.gridLineSettings)},v.prototype.getHorizontalContainerWidth=function(){var h=this.settings;if(0===h.columnCount)return 0;for(var O=0,H=0;H<h.columnCount;H++)O+=A(h.row,h.gridLineSettings,h.borderSettings,H);var I=this.hasScroll();return O+p.getRightInnerPadding(I,this.settings.row.cellPadding.left)},v.prototype.getTotalRowCount=function(){var h=Math.ceil(this.settings.totalCellCount/this.virtualColumnCount);return Math.max(h,this.virtualRowCount)},v.prototype.getTotalColumnCount=function(){var h=Math.ceil(this.settings.totalCellCount/this.virtualRowCount);return Math.max(h,this.virtualColumnCount)},v.prototype.checkLoadMore=function(){var h;return null===(h=this.listView)||void 0===h?void 0:h.reachedLastRowContent()},v.prototype.bindInteractivity=function(h){var O={gridContainer:d3.select(this.$container.get(0)),cells:this.$container.find("".concat(n.uT.selector," ").concat(n.bL.selector)),columnCount:this.settings.row.columnCount,viewportRowCount:this.settings.rowCount,cellCount:this.settings.totalCellCount,listView:this.listView,visualInstanceId:h,$rows:this.getRowsFromBodyOrFooter(this.settings.manageTabIndexOnRowHeaderFooter),manageTabIndexOnRowHeaderFooter:this.settings.manageTabIndexOnRowHeaderFooter,eventManager:this.eventManager,boldedSubheaders:this.settings.boldedSubheaders};this.interactivityService.bind(this.dataToBind,this.behavior,O,{pointSourceKey:this.pointSourceKey,useSelectableDataPointForHasSelection:!0})},v.prototype.adjustHeight=function(h,O,H,I){return I?h-p.getTotalScrollWidth(O,H):h},v.prototype.adjustWidth=function(h,O,H,I){return I?h:h-p.getTotalScrollWidth(O,H)},v}(p),ie=function(R){function v(){return null!==R&&R.apply(this,arguments)||this}return(0,s.ZT)(v,R),v.prototype.initialize=function(){var h=this;this.isInitialized=!0,this.$gridWrapper=this.buildElement(this.$container,n.zc.class),this.$gridWrapper.css("display","flex"),this.$grid=this.buildElement(this.$gridWrapper,n.rj.class),this.$gridBody=this.buildGridBody(),this.$gridBorder=this.buildElement(this.$grid,n.OC.class),this.$gridBackground=this.buildElement(this.$grid,n.Aq.class),this.$gridBackgroundColor=this.buildElement(this.$grid,n.lP.class),this.$gridFooter=this.buildElement(this.$grid,n.$_.class),this.$gridFooter.attr("role","grid"),this.paginatedView=new f({viewContainer:d3.select(this.$gridWrapper.get(0)),contentContainer:d3.select(this.$gridBody.get(0)),enter:function(H){return h.renderListViewRow(H)},update:function(H){return h.updateListViewRow(H)},loadMoreData:this.loadMoreHandler,scrollEnabled:this.scrollEnabled})},v.prototype.destroy=function(){this.isInitialized&&(this.$gridWrapper.empty(),this.$gridWrapper.remove(),this.isInitialized=!1)},Object.defineProperty(v.prototype,"virtualRowCount",{get:function(){return this.settings.rowCount},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"virtualColumnCount",{get:function(){return this.settings.columnCount},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isPaginated",{get:function(){return!0},enumerable:!1,configurable:!0}),v.prototype.updateViewportElement=function(h){this.$gridBody.css(h),this.$gridBody.css("min-height","".concat(this.settings.scrollableViewPort.height,"px")),this.$gridBody.css("width","".concat(this.settings.scrollableViewPort.width,"px")),this.$gridBody.css("overflow","hidden")},v.prototype.updateRows=function(h){var O=this;E.fF.assert(function(){return O.isInitialized},"grid renderer not initialized");var H=this.buildListViewData();this.$gridBody.attr("aria-rowcount",this.settings.rowCount),this.$gridBody.attr("aria-colcount",this.settings.columnCount),this.paginatedView.data({rowDataStore:H,getRowDataKey:function(G){return JSON.stringify(G)},rowCount:this.settings.rowCount,columnCount:this.settings.columnCount,totalCellCount:this.settings.totalCellCount,isHorizontal:this.settings.isHorizontal,resetPosition:h}).render()},v.prototype.getTotalRowCount=function(){var h=Math.ceil(this.settings.totalCellCount/(this.settings.rowCount*this.settings.columnCount));return 0===h?this.settings.rowCount:h*this.settings.rowCount},v.prototype.getTotalColumnCount=function(){var h=Math.ceil(this.settings.totalCellCount/(this.settings.rowCount*this.settings.columnCount));return 0===h?this.settings.columnCount:h*this.settings.columnCount},v.prototype.getScrollPosition=function(){var h;return null===(h=this.paginatedView)||void 0===h?void 0:h.getScrollPosition()},v.prototype.adjustHeight=function(h,O,H,I){return I?h:h-40},v.prototype.adjustWidth=function(h,O,H,I){return I?h-40:h},v}(p);function j(R){return R?"".concat(R.topLeft,"px  ").concat(R?.topRight,"px ").concat(R?.bottomRight,"px ").concat(R.bottomLeft,"px"):""}},63194:function(be,q,y){y.d(q,{p$:function(){return u},rG:function(){return x},wA:function(){return c}});var s=y(81337),V=y(79154),B=y(65195),P=y(88987),w=y(59107),E=y(26543),g=y(60066),o=y(39071),C=y(30237),x=(0,V.CH)("managed-tab-index-element"),b=[34,33,36,35,32],c=function(){function n(a,f){this.boundDataKey=a,this.getAllCells=f}return n.prototype.create=function(){return new u(this.boundDataKey,this.getAllCells)},n}(),u=function(){function n(a,f){this.boundDataKey=a,this.getAllCells=f,this.pendingFocusCall=!1,this.factory=(0,P.p)()}return n.prototype.bindEvents=function(a,f,S){this.$cells=a.cells,this.columnCount=a.columnCount,this.viewportRowCount=a.viewportRowCount,this.cellCount=a.cellCount,this.listView=a.listView,this.cellCount=a.cellCount,this.visualInstanceId=a.visualInstanceId,this.$rows=a.$rows,this.manageTabIndexOnRowHeaderFooter=a.manageTabIndexOnRowHeaderFooter,this.eventManager=a.eventManager,this.boldedSubheaders=a.boldedSubheaders;var M=this,d=this.boundDataKey,l=!1,i=-1;this.$cells.each(function(){var t=$(this),e=t.data(d);if(e){l||(l=M.checkUpdateEntryMappingImmediate(t,e,M));var m=e.getIndex();l||i<0&&(i=m);var p=e.getDataPoint();M.bindKeyNavigation(this,m,p,f),M.bindSubheaderSelection(this,p,f),M.bindClickEvents(this,m)}}),l||this.checkUpdateEntryMappingDelayed(i>=0,i),a.gridContainer.on("click.selection",function(){(0,C.XM)(f,n.isValidClickTarget)})},n.prototype.renderSelection=function(a){var f=this.boundDataKey,S=this.boldedSubheaders;this.$cells.each(function(){var M=$(this),d=M.data(f);d&&n.styleSubheader(M,d,S)})},n.bindDataToGridCell=function(a,f,S){f&&a.data(S,f)},n.styleSubheader=function(a,f,S){S||d3.select(a.get(0)).select(o.bU.selector).style("font-weight",f.isSelected()?"".concat(700):"normal")},n.isValidClickTarget=function(a){var f=a.target;return!_.some(["scroll-bar","scroll-element_outer","scroll-element_track",o.bU.class],function(S){return f.classList.contains(S)})},n.prototype.bindSubheaderSelection=function(a,f,S){var M=d3.select(a).select(o.bU.selector).node();M&&this.eventManager.on(M,"click",function(){return(0,C.c8)(f,S)})},n.prototype.bindKeyNavigation=function(a,f,S,M){var d=this,l=d3.select(a).select(x.selector).node();l&&this.eventManager.on(l,"keydown",function(){var i=d3.event,r=d3.select(i.target),t=i.keyCode;if(r.classed(x.class)){var e=function(L){i.preventDefault(),i.stopPropagation(),L()};switch(t){case 39:f!==d.getLastCellIndexInRow(f)?e(i.shiftKey?function(){return(0,s.mG)(d,void 0,void 0,function(){return(0,s.Jh)(this,function(T){return[2,this.triggerFocusAndSelection(f+1,S,M)]})})}:function(){return(0,s.mG)(d,void 0,void 0,function(){return(0,s.Jh)(this,function(T){return[2,this.focusCellAtIndex(f+1,!1)]})})}):e(function(){});break;case 37:f!==d.getFirstCellIndexInRow(f)?e(i.shiftKey?function(){return(0,s.mG)(d,void 0,void 0,function(){return(0,s.Jh)(this,function(T){return[2,this.triggerFocusAndSelection(f-1,S,M)]})})}:function(){return(0,s.mG)(d,void 0,void 0,function(){return(0,s.Jh)(this,function(T){return[2,this.focusCellAtIndex(f-1,!1)]})})}):e(function(){});break;case 40:var m=f+d.columnCount;e(m<d.cellCount?i.shiftKey?function(){return(0,s.mG)(d,void 0,void 0,function(){return(0,s.Jh)(this,function(T){return[2,this.triggerFocusAndSelection(m,S,M)]})})}:function(){return(0,s.mG)(d,void 0,void 0,function(){return(0,s.Jh)(this,function(T){return[2,this.focusCellAtIndex(m,!1)]})})}:function(){});break;case 38:var p=f-d.columnCount;e(p>=0?i.shiftKey?function(){return(0,s.mG)(d,void 0,void 0,function(){return(0,s.Jh)(this,function(T){return[2,this.triggerFocusAndSelection(p,S,M)]})})}:function(){return(0,s.mG)(d,void 0,void 0,function(){return(0,s.Jh)(this,function(T){return[2,this.focusCellAtIndex(p,!1)]})})}:function(){});break;case 36:w.M.isCtrlOrMeta(i)?e(function(){return(0,s.mG)(d,void 0,void 0,function(){return(0,s.Jh)(this,function(T){return[2,this.focusCellAtIndex(0,!1)]})})}):e(function(){return(0,s.mG)(d,void 0,void 0,function(){return(0,s.Jh)(this,function(T){return[2,this.focusCellAtIndex(this.getFirstCellIndexInRow(f),!1)]})})});break;case 35:w.M.isCtrlOrMeta(i)?e(function(){return(0,s.mG)(d,void 0,void 0,function(){return(0,s.Jh)(this,function(T){return[2,this.focusCellAtIndex(this.cellCount-1,!1)]})})}):e(function(){return(0,s.mG)(d,void 0,void 0,function(){return(0,s.Jh)(this,function(T){return[2,this.focusCellAtIndex(this.getLastCellIndexInRow(f),!1)]})})});break;case 32:e(function(){return d.handleCellSelection(S,M)});break;case 65:w.M.isCtrlOrMeta(i)&&(M.handleClearSelection(),e(function(){return d.handleSelectAll(M)}));break;case 33:e(function(){return(0,s.mG)(d,void 0,void 0,function(){return(0,s.Jh)(this,function(T){return[2,this.focusCellAtIndex(Math.max(f-this.getCellsPerPage(),0),!1)]})})});break;case 34:e(function(){return(0,s.mG)(d,void 0,void 0,function(){return(0,s.Jh)(this,function(T){return[2,this.focusCellAtIndex(f+this.getCellsPerPage(),!0)]})})})}}else _.indexOf(b,t)>=0&&(i.preventDefault(),i.stopPropagation())})},n.prototype.checkUpdateEntryMappingImmediate=function(a,f,S){var M=f.getDataPoint().identity,d=S.entryCellKeyMapping,l=void 0===d,i=d&&E.l0.isEqual(M,S.entryCellKeyMapping.key);if(l||i){var r={cell:a,index:f.getIndex(),key:M,selectableDataPoint:f.getDataPoint()};return S.setEntryCellKeyMapping(r),!0}return!1},n.prototype.checkUpdateEntryMappingDelayed=function(a,f){this.setEntryCellKeyMapping(a?this.getCellKeyMapping(f):void 0)},n.prototype.focusCellAtIndex=function(a,f){var S=this,M=this.factory.defer(),d=this.getRowIndexFromCellIndex(a),l=f;return this.pendingFocusCall?M.resolve(1):(this.pendingFocusCall=!0,this.focusCallback=function(){var i=l?Math.min(a,S.cellCount-1):a,r=S.getCellKeyMapping(i);r&&(S.setEntryCellKeyMapping(r),S.pendingFocusCall=!1,w.M.focus(S.getManagedElementFromCell(r.cell).get(0),{preventScroll:!0})),S.pendingFocusCall=!1,M.resolve(0)},this.listView.scrollRowIntoView(d,this.focusCallback)),M.promise},n.prototype.setEntryCellKeyMapping=function(a){var f=this.entryCellKeyMapping;if(f&&f.cell){var S=this.getManagedElementFromCell(f.cell);S.removeAttr("tabindex"),S.removeAttr("focusable"),S.attr(B.Rh,"true")}if(a){var M=this.getManagedElementFromCell(a.cell);M.attr("tabindex",0),M.attr("focusable","true"),M.attr("aria-labelledby","".concat(this.visualInstanceId,"-").concat(a.index)),M.removeAttr(B.Rh),this.updateFocusAttributesForRowHeaders(a.index)}this.entryCellKeyMapping=a},n.prototype.getCellKeyMapping=function(a){var S,f=this.boundDataKey;return this.$cells.each(function(){var M=$(this),d=M.data(f);if(d){var l=d.getIndex();if(l===a)return S={cell:M,key:d.getDataPoint().identity,index:l,selectableDataPoint:d.getDataPoint()},!1}}),S},n.prototype.getRowIndexFromCellIndex=function(a){return Math.floor(a/this.columnCount)},n.prototype.getColumnIndexFromCellIndex=function(a){return a%this.columnCount},n.prototype.getCellsPerPage=function(){return this.columnCount*this.viewportRowCount},n.prototype.getFirstCellIndexInRow=function(a){return this.getRowIndexFromCellIndex(a)*this.columnCount},n.prototype.getLastCellIndexInRow=function(a){return Math.min(this.cellCount-1,this.getFirstCellIndexInRow(a)+this.columnCount-1)},n.prototype.getManagedElementFromCell=function(a){return a.find(x.selector).first()},n.prototype.getManagedElementFromRows=function(a,f){return a.find("".concat(f," ").concat(x.selector))},n.prototype.handleCellSelection=function(a,f){(0,C.c8)(a,f)},n.prototype.handleSelectAll=function(a){var f=this.getAllCells();_.isEmpty(f)||a.handleMultipleSelection(f.map(function(S){return S.getDataPoint()}),1)},n.prototype.appendCellToSelection=function(a,f){f.handleMultipleSelection([a],1)},n.prototype.triggerFocusAndSelection=function(a,f,S){return(0,s.mG)(this,void 0,void 0,function(){var d,l;return(0,s.Jh)(this,function(i){switch(i.label){case 0:return[4,this.focusCellAtIndex(a,!1)];case 1:return 1!==i.sent()&&(d=this.getCellKeyMapping(a),l=d?d.selectableDataPoint:void 0,f.selected&&l&&this.appendCellToSelection(l,S)),[2]}})})},n.prototype.updateFocusAttributesForRowHeaders=function(a){var S,f=this;this.manageTabIndexOnRowHeaderFooter?(S=this.getRowIndexFromCellIndex(a),this.$rows.each(function(){var d=$(this),l=f.getManagedElementFromRows(d,o.qN.selector);d.attr("aria-rowindex")===(S+1).toString()?l.attr("tabindex",0).attr("focusable","true").addClass(g.Pg).removeAttr(B.Rh):l.removeAttr("tabindex").removeAttr("focusable").removeClass(g.Pg).attr(B.Rh,"true")})):(S=this.getColumnIndexFromCellIndex(a),f.getManagedElementFromRows(this.$rows,"").each(function(d){var l=$(this);d===S?l.attr("tabindex",0).attr("focusable","true").addClass(g.Pg).removeAttr(B.Rh):l.removeAttr("tabindex").removeAttr("focusable").removeClass(g.Pg).attr(B.Rh,"true")}))},n.prototype.bindClickEvents=function(a,f){var S=this,M=d3.select(a).select(o.J5.selector).node();this.eventManager.on(M,"click",function(){var d=S.getCellKeyMapping(f);d&&S.setEntryCellKeyMapping(d)})},n}()},39071:function(be,q,y){y.d(q,{$_:function(){return b},Aq:function(){return w},F6:function(){return u},IA:function(){return l},J3:function(){return M},J5:function(){return o},MB:function(){return n},MR:function(){return S},OC:function(){return P},SM:function(){return a},X2:function(){return D},YR:function(){return d},bL:function(){return g},bU:function(){return C},lP:function(){return E},oE:function(){return f},qN:function(){return x},rj:function(){return B},uT:function(){return c},yD:function(){return i},yT:function(){return r},zc:function(){return V}});var s=y(79154),V=(0,s.CH)("small-multiples-grid-wrapper"),B=(0,s.CH)("small-multiples-grid"),P=(0,s.CH)("small-multiples-grid-border"),w=(0,s.CH)("small-multiples-grid-background"),E=(0,s.CH)("small-multiples-grid-background-color"),g=(0,s.CH)("small-multiples-grid-cell"),o=(0,s.CH)("small-multiples-grid-cell-content"),C=(0,s.CH)("small-multiples-grid-cell-subheader"),x=(0,s.CH)("small-multiples-grid-header-cell"),D=(0,s.CH)("small-multiples-grid-row"),b=(0,s.CH)("small-multiples-grid-footer"),c=(0,s.CH)("small-multiples-grid-body"),u=(0,s.CH)("small-multiples-grid-line"),n=(0,s.CH)("vertical"),a=(0,s.CH)("horizontal"),f=(0,s.CH)("horizontal-wrapper"),S=(0,s.CH)("horizontal-wrapper-bottom"),M=(0,s.CH)("horizontal-outer"),d=(0,s.CH)("small-multiples-grid-row-wrapper"),l=(0,s.CH)("grid-line-rotated"),i=(0,s.CH)("row-header"),r=(0,s.CH)("row-footer")},39407:function(be,q,y){y.d(q,{J_:function(){return n},y$:function(){return o}});var s=y(62458),V=y(78843),B=y(26743),P=function(d){return d[d.Leaf=0]="Leaf",d[d.NonLeaf=1]="NonLeaf",d}({});function E(d){return g(d,P.NonLeaf)}function g(d,l){return d&&d.kind===l}function o(d,l,i){if(s.fF.assert(function(){return i>=0},"depth must be greater than or equal to 0"),0===i)return d;s.fF.assert(function(){return E(d)},"rootNode must be non-leaf if depth > 0");for(var r=d,t=function(p){var T=r.children;s.fF.assert(function(){return!_.isEmpty(T)},"currentNode has no children");var L=_.head(T);r=C(L,l)},e=1;e<=i;e++)t();return r}function C(d,l){s.fF.assertValue(d,"node must not be null or undefined"),s.fF.assert(function(){return!function(d){return!!d.visited}(d)},"Detected loop in previous/next references. node has already been visited.");var i=c(d);if(i===l)return d;if(i<l){var r=d.next;s.fF.assertValue(r,"categoryIndex is greater than the greatest maxCategoryIndex"),x(d);var t=C(r,l);return D(d),t}var e=d.previous;return e&&c(e)>=l?(x(d),t=C(e,l),D(d),t):d}function x(d){d.visited=!0}function D(d){delete d.visited}function c(d){return function(d){return g(d,P.Leaf)}(d)?d.categoryIndex:E(d)?d.maxCategoryIndex:void s.fF.assertFail("Unhandled hierarchical node type")}function u(d){if(d.parent){var l=d.parent;if(!_.isEmpty(l.children))return _.last(l.children);var i=u(l);return i&&_.last(i.children)}}function n(d){for(var l=_.head(d).values.length,i={categorySpan:l,children:[],kind:P.NonLeaf,maxCategoryIndex:l,parent:null},r=0;r<l;)r+=a(i,d,0,r);return i}function a(d,l,i,r,t){t||(t=[]);var p,e=l[i],m=t[i];if(!m){s.fF.assertValue(e.source.identityExprs,"levelCategory.source.identityExprs");var T=e.source.identityExprs;(m=t[i]=i>0?t[i-1].slice():[]).push.apply(m,T||[])}var L=function(d,l,i){for(var e,r=0,t=d.values.length,m=l;m<t;m++){var p=M(d,m,i);if(e&&!(0,V.fS)(e,p))break;e||(e=p),r++}return r}(e,r,m),F={categorySpan:L,children:[],kind:P.NonLeaf,maxCategoryIndex:null,parent:d};void 0===p&&(p=u(F)),p&&(F.previous=p,p.next=F);var A=i+1;if(A>=l.length-1)!function(d,l,i,r){for(var t,e=i,m=i+r;e<m;e++){var p={categoryIndex:e,kind:P.Leaf,parent:d,previous:t};void 0===t&&(t=u(p)),t&&(t.next=p,p.previous=t),t=p,d.children.push(p)}}(F,0,r,L);else for(var N=0;N<L;)N+=a(F,l,A,N+r,t);var ie=_.last(F.children);switch(ie.kind){case P.Leaf:F.maxCategoryIndex=ie.categoryIndex;break;case P.NonLeaf:F.maxCategoryIndex=ie.maxCategoryIndex;break;default:s.fF.assertFail("Unhandled HierarchyNodeType")}return d.children.push(F),L}function M(d,l,i){var r=d.identity;s.fF.assertNonEmpty(r,"columnIdentities");var t=r[l];s.fF.assertValue(t,"identity");var e=(0,B.J2)(t.expr,i);return(0,V.TZ)(e)}},57952:function(be,q,y){y.d(q,{r:function(){return s}});var s=function(){function V(B,P,w,E,g){void 0===P&&(P=!0),void 0===w&&(w=250),void 0===E&&(E=1700),void 0===g&&(g=100),this.callback=B,this.enabled=P,this.distanceFactor=w,this.timeFactor=E,this.sampleTime=g,this.points=[]}return V.prototype.addPoint=function(B,P){for(var w=this.points,E=Date.now();!(_.isEmpty(w)||E-w[0].timestamp<this.sampleTime);)w.shift();w.push({x:B,y:P,timestamp:E})},V.prototype.hasStarted=function(){return this.started},V.prototype.start=function(){var B=this;if(this.enabled&&!(this.points.length<=1)){this.started&&this.stop();var P=d3.easeCubicOut,w=_.last(this.points),E=_.head(this.points),C=w.timestamp-E.timestamp,x=(w.x-E.x)/C,D=(w.y-E.y)/C,b=window.distanceFactor||this.distanceFactor,c=x*b,u=D*b,n=Math.sqrt(Math.pow(x,2)+Math.pow(D,2))*window.timeFactor||this.timeFactor,a=0,f=0;this.started=!0;var S=d3.timer(function(M){if(B.stopRequested)B.clearState(),S.stop();else{var d=Math.min(1,1*M/n),l=P(d),i=l*c-a,r=l*u-f;a+=i,f+=r,B.callback&&(Math.abs(i)>0||Math.abs(r)>0)&&B.callback(i,r),M>n&&(B.clearState(),S.stop())}})}},V.prototype.stop=function(){this.started&&(this.stopRequested=!0)},V.prototype.clearState=function(){this.started=!1,this.stopRequested=!1},V}()},33777:function(be,q,y){y.d(q,{b:function(){return P}});var s=y(62458),V=y(82386),B=y(45296);function P(E,g,o,C,x,D){return new w(g,o,C,D,x).getWarningMessages(E)}var w=function(){function E(g,o,C,x,D){this.supportsNaN=g,this.supportsNegativeInfinity=o,this.supportsPositiveInfinity=C,this.preferMatrixDV=x,this.ignoreRoles=D}return E.prototype.getWarningMessages=function(g){this.loadWarningStatus(g);var o=[];return this.hasNaN&&!this.supportsNaN&&o.push(new B.EN),(this.hasNegativeInfinity&&!this.supportsNegativeInfinity||this.hasPositiveInfinity&&!this.supportsPositiveInfinity)&&o.push(new B.s2),this.hasOutOfRange&&o.push(new B.TH),o},E.prototype.loadWarningStatus=function(g){this.hasNaN=!1,this.hasNegativeInfinity=!1,this.hasOutOfRange=!1,this.hasPositiveInfinity=!1;for(var o=0,C=g;o<C.length;o++){var x=C[o];s.fF.assertValue(x,"dataView"),this.preferMatrixDV&&x.matrix?this.readMatrix(x):this.readCategorical(x)}},E.prototype.readCategorical=function(g){var o=g&&g.categorical&&g.categorical.values?g.categorical.values:null;if(o)for(var C=this.valueIndicesToIgnore(_.map(o,function(a){return a.source})),x=0,D=o.length;x<D;x++)if(!_.includes(C,x)){var b=o[x];if(b.values)for(var c=0,u=b.values;c<u.length;c++)this.checkValue(u[c])}},E.prototype.valueIndicesToIgnore=function(g){var o=this,C=[];if(!_.isEmpty(this.ignoreRoles))for(var x=0;x<g.length;x++){var D=g[x],b=D&&D.roles&&Object.keys(D.roles);!_.isEmpty(b)&&_.every(b,function(c){return _.includes(o.ignoreRoles,c)})&&C.push(x)}return C},E.prototype.readMatrix=function(g){var o=this;s.fF.assertValue(g.matrix,"dataView.matrix");var C=this.valueIndicesToIgnore(g.matrix.valueSources);(0,V.w1)(g.matrix.rows.root,function(x,D){if((0,V.N9)(x)){if(!x.values)return 1;for(var c=0,u=Object.keys(x.values);c<u.length;c++){var a=x.values[u[c]];_.includes(C,a.valueSourceIndex)||o.checkValue(a&&a.value)}return 1}return o.hasNaN&&o.hasPositiveInfinity&&o.hasNegativeInfinity&&o.hasOutOfRange?0:1})},E.prototype.checkValue=function(g){isNaN(g)?this.hasNaN=!0:g===Number.POSITIVE_INFINITY?this.hasPositiveInfinity=!0:g===Number.NEGATIVE_INFINITY?this.hasNegativeInfinity=!0:(g<-1e300||g>1e300)&&(this.hasOutOfRange=!0)},E}()},12198:function(be,q,y){y.d(q,{v:function(){return P}});var s=y(81337),V=y(62458),B=function(w){return w[w.Minimum=0]="Minimum",w[w.Maximum=1]="Maximum",w[w.Neither=2]="Neither",w}({}),P=function(){function w(E,g,o,C,x){var D=this;this.unsortedLabelDataPointGroups=E,this.series=g,this.viewport=o,this.yScale=C,this.y2Scale=x,this.sortDataPointGroup=function(b,c){if(!_.isEmpty(b.labelDataPoints)){var u=b.labelDataPoints,n=D.series[c],a=w.maxNumberToSortFactor*b.maxNumberOfLabels,f=_.some(n.data,function(t){return t?.highlight})?function(t){return null!=t?.value&&t.highlight}:function(t){return null!=t?.value},S=_.filter(n.data,f);V.fF.assert(function(){return S.length===u.length},"expecting lengths dataPoints and labelDataPoints to match");var M=w.getMinMaxInRange(0,S.length-1,S),d=[],l=function(){return(0,s.pi)((0,s.pi)({},b),{labelDataPoints:d})};if((a-=D.addFirstLastMaxMin(u,d,M.maxIndex,M.minIndex))<=0)return l();var r=D.calculateWeights(u,S,M,n.isY2?D.y2Scale:D.yScale);return(a-=D.addLocalMinMaxes(r,d,M.maxIndex,M.minIndex,a))<=0||D.addNonMinMaxes(r,d,a),l()}}}return w.prototype.getSortedDataLabels=function(){return this.unsortedLabelDataPointGroups.map(this.sortDataPointGroup).filter(function(E){return E})},w.prototype.calculateWeights=function(E,g,o,C){for(var x,D,b=g.length,c=this.findMinMaxesBasedOnSmoothedValues(E,g),u=Math.abs(C(o.maxValue)-C(o.minValue)),n=0,a=c.length;n<a;n++){D=c[n];var f=void 0;if(x&&(f=(Math.abs((C(x.value)-C(D.value))/u)+Math.abs(x.index-D.index)/(b-1))/2),null!=f&&x){var d=E[x.index];d.weight=null!=d.weight?(d.weight+f)/2:f,E[D.index].weight=f}x=D}for(var l=0,i=E;l<i.length;l++){var r=i[l];r.weight<w.minimumWeightToConsiderMinMax&&(r.weight=void 0)}return E},w.prototype.findMinMaxesBasedOnSmoothedValues=function(E,g){for(var o=[],C=this.getWindowSize(g),x=C>>1,D=this.calculateSmoothedValues(g,C),b=0,c=E.length;b<c;b++){var u=this.getMinMaxType(b,D);u!==B.Neither&&o.push({index:b,type:u,value:g[b].value})}for(var a,f,S,M=0,d=o.length;M<d;M++)if(f=o[M],S=o[M+1],(a=o[M-1])&&S){var i,l=w.getMinMaxInRange(Math.max(a.index,f.index-x),Math.min(S.index,f.index+x),g);f.type===B.Maximum?(f.index=i=l.maxIndex,f.value=g[i].value):(f.index=i=l.minIndex,f.value=g[i].value)}return o},w.getMinMaxInRange=function(E,g,o){for(var C,x,D,b,c=E,u=o.length;c<=g&&c<u;c++){var n=o[c].value;null!=n&&((void 0===C||n<C)&&(C=n,D=c),(void 0===x||n>x)&&(x=n,b=c))}return{minIndex:D,minValue:C,maxIndex:b,maxValue:x}},w.prototype.getWindowSize=function(E){return 1|E.length/this.viewport.width*w.estimatedLabelWidth},w.prototype.calculateSmoothedValues=function(E,g){for(var o=w.getGaussianDistribution(g),C=[],x=0,D=E.length;x<D;x++)if(1===g)C.push(E[x].value);else{var b=this.getSmoothedValue(E,x,g,o);C.push(b)}return C},w.getGaussianDistribution=function(E){V.fF.assert(function(){return E/2!=E>>1},"window size should be a whole odd number");for(var g=[],o=E>>1,x=o,D=o/2,b=0;b<o;b++){var c=1*Math.pow(Math.E,(b-x)*(b-x)*-1/(2*D*D));g.push(c)}for(g.push(1),b=o-1;b>=0;b--)g.push(g[b]);return g},w.prototype.getSmoothedValue=function(E,g,o,C){if(null==E[g].value)return E[g].value;for(var x=o>>1,b=g+x,c=0,u=0,n=E.length-1,a=g-x,f=0;a<=b;a++,f++){var M=E[Math.max(0,Math.min(a,n))].value;null!=M&&(c+=M*C[f],u++)}return c/u},w.prototype.addFirstLastMaxMin=function(E,g,o,C){var x=0;if(_.isEmpty(E))return x;g.push(E[0]),x++;var D=E.length-1;return 0!==D&&(g.push(E[D]),x++),0!==o&&o!==D&&(g.push(E[o]),x++),0!==C&&C!==D&&(g.push(E[C]),x++),x},w.prototype.addLocalMinMaxes=function(E,g,o,C,x){for(var D=E.length-1,b=_.filter(E,function(f,S){return 0!==S&&S!==D&&S!==o&&S!==C&&null!=f.weight}),c=_.sortBy(b,function(f){return-f.weight}),u=0,n=0,a=Math.min(c.length,x);n<a;n++)g.push(c[n]),u++;return u},w.prototype.addNonMinMaxes=function(E,g,o){for(var x,C=[],D=0,b=E.length;D<b;D++)null==E[D].weight?x?x.count++:x={startingIndex:D,count:1}:x&&x.count>0&&(C.push(x),x=null);for(var c=0;C.length>0&&c<o;){for(var u=0,n=0,a=0,f=C.length;a<f;a++){var S=C[a].count;S>u&&(u=S,n=a)}var M=C.splice(n,1)[0];if(1===M.count)g.push(E[M.startingIndex]);else{var d=(M.count>>1)+M.startingIndex;g.push(E[d]);var l=d-M.startingIndex;l>0&&C.push({startingIndex:M.startingIndex,count:l});var i=M.startingIndex+M.count-d-1;i>0&&C.push({startingIndex:d+1,count:i})}c++}},w.prototype.getMinMaxType=function(E,g){var o=g[E];if(null==g[E]||g.length<2)return B.Neither;if(null==g[E-1])return g[E+1]>o?B.Minimum:B.Maximum;if(null==g[E+1])return g[E-1]>o?B.Minimum:B.Maximum;var C=g[E-1],x=g[E+1];return null==C&&null==x?B.Neither:null==C?x>o?B.Minimum:B.Maximum:null==x?C>o?B.Minimum:B.Maximum:C>o&&o<x?B.Minimum:C<o&&o>x?B.Maximum:B.Neither},w.estimatedLabelWidth=40,w.minimumWeightToConsiderMinMax=.015,w.maxNumberToSortFactor=2,w}()},86727:function(be,q,y){y.d(q,{Gh:function(){return o},ZF:function(){return E},aJ:function(){return g},l3:function(){return D},tV:function(){return C},tY:function(){return x}});var s=y(81337),V=y(56578),B=y(69871),P=y(80065),w={show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"},fontSize:{objectName:"legend",propertyName:"fontSize"},fontFamily:{objectName:"legend",propertyName:"fontFamily"},showGradientLegend:{objectName:"legend",propertyName:"showGradientLegend"},bold:{objectName:"legend",propertyName:"bold"},italic:{objectName:"legend",propertyName:"italic"},underline:{objectName:"legend",propertyName:"underline"}};function E(b,c,u,n,a){void 0===n&&(n=!1),null==a&&(a=u.onObject?"Visual_LegendCard_DisabledReasonNew":"Visual_LegendCard_DisabledReason");var f=b.legendData,S=[w.show,w.showGradientLegend,w.position,w.showTitle,w.titleText,w.labelColor,w.fontFamily,w.fontSize,B.zK.legend.legendMarkerRendering,B.zK.legend.matchLineColor,w.bold,w.italic,w.underline],M=new V.CQ(new V.lg("legend"),"Role_DisplayName_Legend",S,function(i){return c.getLocalizedString(i)});if(M.addTopLevelToggle("show",function(){return new V.bd({descriptor:w.show,value:!n&&f.show}).build()}),n)return M.withDisabled(!0,a),M.build();var l=(new V.UN).withFontFamily({descriptor:w.fontFamily,value:f.fontProperties.family}).withFontSizeProperties({descriptor:w.fontSize,value:f.fontProperties.size.pt}).withBold({descriptor:w.bold,value:f.bold}).withItalic({descriptor:w.italic,value:f.italic}).withUnderline({descriptor:w.underline,value:f.underline}).build();return M.withDescription("Visual_LegendDescription").addGroup("options",function(i){i.withDisplayName("Desktop_FileMenu_Options"),i.addSimpleSlice("position",new V.uY({descriptor:w.position,value:f.position}).build()),null!=b.legendMarkerRendering&&i.addSimpleSlice("markerRendering",new V.uY({descriptor:B.zK.legend.legendMarkerRendering,value:b.legendMarkerRendering}).build()),null!=b.matchLineColor&&i.addSimpleSlice("matchLineColor",new V.bd({descriptor:B.zK.legend.matchLineColor,value:b.matchLineColor}).build())}),M.addGroup("text",function(i){i.withDisplayName("Text").addCompositeSlice("fontselector","Font",l).addSimpleSlice("color",new V.BT({descriptor:(0,s.pi)((0,s.pi)({},w.labelColor),{instanceKind:3}),value:{value:f.fontProperties.color}}).build())}).addGroup("title",function(i){i.withDisplayName("Title").addTopLevelToggle("showTitle",function(){return new V.bd({descriptor:w.showTitle,value:f.showTitle}).build()}).addSimpleSlice("titleText",new V.fq({descriptor:w.titleText,value:f.title,placeholder:""}).build(),function(r){return r.withCustomDisplayName("Visual_Title_Text")})}),M.build()}function g(){}function o(b){return(0,P.un)(b,{fontFamilyReference:w.fontFamily,fontSizeReference:w.fontSize,boldReference:w.bold,italicReference:w.italic,underlineReference:w.underline,fontColorReference:w.labelColor})}function C(b){return[(0,s.pi)((0,s.pi)({type:2},w.showTitle),{disabledLabel:b.getLocalizedString("Delete"),keyboardShortcuts:[{key:"Delete",nextValue:!1}]}),{type:0,excludedResetFormattingIds:[w.showTitle]},{type:1,destinationInfo:{cardUid:"".concat("Visual","-").concat("legend"),groupUid:"".concat("legend","-").concat("title")},label:b.getLocalizedString("Format_Legend_Title")}]}function x(b){var c=b.hostServices,u=b.showSort,n=[(0,s.pi)((0,s.pi)({type:2},w.show),{disabledLabel:c.getLocalizedString("Delete"),keyboardShortcuts:[{key:"Delete",nextValue:!1}]}),{type:0,excludedResetFormattingIds:[w.show,w.showTitle]},(0,s.pi)((0,s.pi)({type:2},w.showTitle),{enabledLabel:c.getLocalizedString("Format_AddLegendTitle")})];return u&&n.push({type:4,sortableField:{queryName:"",sortDirection:1},label:c.getLocalizedString("Format_SortLegend"),key:"Legend"}),(0,s.ev)((0,s.ev)([],n,!0),[{type:1,destinationInfo:{cardUid:"".concat("Visual","-").concat("legend"),groupUid:"".concat("legend","-").concat("options")},label:c.getLocalizedString("Format_Legend")}],!1)}function D(b){return _.map(b.dataPoints,function(c){return{color:c.marker.color,displayName:c.label,identity:c.identity}})}},65741:function(be,q,y){y.d(q,{vs:function(){return dt},hD:function(){return pt},OG:function(){return yt}});var s=y(81337),V=y(62458),B=y(39681),P=y(48708),w=y(38078),E=y(10389),g=y(44977),o=y(32105),u=y(70700),n=y(79811),a=y(32041),f=y(59107),S=y(64329),M=y(66001),d=y(72489),l=y(18664),i=y(51995),r=y(66123),t=y(52287),e=y(77686),m=y(14599),p=y(72902),T=y(30237),L=function(){function W(){}return W.prototype.bindEvents=function(Y,J,ae,z){var oe;this.legendIcons=Y.legendIcons,this.legendLines=Y.legendLines,this.visualStyle=Y.visualStyle;var re=Y.legendRoot;this.legendItems=Y.legendItems,z?this.unbindEventsFormatMode():((0,T.lt)(re,J),re.on("keydown",function(){var le=d3.event;if(f.M.noModifierPressed(le)&&27===le.keyCode&&le.target.classList.contains(e.rL.class)){var he=re.node();f.M.focus(he),le.preventDefault(),le.stopPropagation()}return!1}),this.legendItems.on("click",function(le){return(0,T.c8)(le.dataPoint,J)}).on("keydown",function(le){var he=d3.event.keyCode;(32===he||13===he)&&(0,T.c8)(le.dataPoint,J)}),null===(oe=Y.clearCatcher)||void 0===oe||oe.on("click",function(){f.M.isCtrlOrMeta(d3.event)||J.handleClearSelection()}))},W.prototype.unbindEventsFormatMode=function(){this.legendItems.on("click",null).on("keydown",null)},W.prototype.renderSelection=function(Y){this.legendItems.attr("aria-selected",function(J){return Y&&J.dataPoint.selected}),(0,e.t9)(this.legendLines,this.legendIcons,Y,this.visualStyle.isHighContrast)},W}(),F=y(23174),A=y(2241);function N(W){var Y,J,ae,z=W.data,oe=W.parentViewport,re=W.interactivityService,le=W.orientation,he=W.legendDataStartIndex,ne=W.hostServices,Te=W.showTitlePlaceholder,Pe=z.fontProperties,Me=(0,e.XZ)(Pe),Ve=(0,e.fy)(z),k=function(W){var Y,J,ae=W.data;if(!(0,e.fy)(ae))return{height:0,width:0};switch(W.orientation){case u.tV.Top:case u.tV.Bottom:case u.tV.TopCenter:case u.tV.BottomCenter:case u.tV.TopRight:case u.tV.BottomRight:return{height:_e+(null!==(J=null===(Y=ae?.fontProperties)||void 0===Y?void 0:Y.size.px)&&void 0!==J?J:S.FP.fromPointToPixel(e.OS.pt))-e.OS.pt,width:0};case u.tV.Right:case u.tV.Left:case u.tV.RightCenter:case u.tV.LeftCenter:return{height:0,width:W.lastCalculatedWidth||W.parentViewport.width*Le};default:V.fF.assertFail("Unexpected legend position - calculateViewport")}}(W),Q=null!==(J=null===(Y=z?.fontProperties)||void 0===Y?void 0:Y.size.px)&&void 0!==J?J:S.FP.fromPointToPixel(e.OS.pt),Z=Q-Oe,X=z.showTitle&&!z.isGradientLegend?Je((0,s.pi)((0,s.pi)({},W),{legendFontSizeMarginDifference:Z,legendFontSizeMarginValue:Q,legendViewport:k})):null,ve=a.b.estimateSvgTextHeight((0,l.qk)(Pe))/ue;(Q<=Oe||ve<ce)&&(ve=ce);var ee=Z/ue,pe=2*(ve+ee),te=F.yI+2*ee,se=Ae+ee,we=re&&(0,p.G6)(z.dataPoints),me=(0,e.s0)(le)?k.height:20+Z,xe=(0,e.s0)(le)?function(W,Y,J,ae){var he,z=J.height/2-Ne/2,oe=(0,E.AD)(Qe,Ne,180),re=(0,E.AD)(Qe,Ne,0),le=0;if(ae.useLargeArrowHitArea){var ne=$e.Horizontal;le=ne.arrowsOffset,he=ne.hitAreaWidthPx}return{previous:{show:!1,x:W?W.x+W.width:0,y:z,path:oe.path,rotateTransform:oe.transform,type:1,arrowOffset:le||0,hitAreaWidth:he||Ge},next:{show:!1,x:Y.width-Qe,y:z,path:re.path,rotateTransform:re.transform,type:0,arrowOffset:le||0,hitAreaWidth:he||Ge}}}(X,oe,k,z):function(W,Y,J,ae){var ne,z=J.height/2+Ne/2,oe=(0,E.AD)(Qe,Ne,270),re=(0,E.AD)(Qe,Ne,90),he=0;if(ae.useLargeArrowHitArea){var Te=$e.Vertical;he=Te.arrowsOffset,ne=Te.hitAreaWidthPx}return{previous:{show:!1,x:z,y:Qe+(W?W.height:0),path:oe.path,rotateTransform:oe.transform,type:1,arrowOffset:he,hitAreaWidth:ne},next:{show:!1,x:z,y:Y.height-Ne,path:re.path,rotateTransform:re.transform,type:0,arrowOffset:he,hitAreaWidth:ne}}}(X,oe,k,z);W.isScrollable&&W.legendDataStartIndex>0&&(xe.previous.show=!0);var ke,Ye,ot,Ee=W.arrowPosWindow,De=function(){var Ke=function(W){var Y=W.fontProperties,J=W.titleLayout,ae=W.navigationArrows,z=W.iconWidth,oe=W.iconAndLineWidth,re=W.options,le=re.parentViewport,he=re.data.dataPoints,ne=re.legendDataStartIndex,Te=re.autoWidth;if((0,e.s0)(W.options.orientation)){var Pe=le.width-(J?J.width:0)-(ae.previous.show&&ae.previous.hitAreaWidth||0)-(ae.next.show&&ae.next.hitAreaWidth||0);return{legendItems:H(he,Pe,ne,Y,z,oe,W.totalTextPadding),horizontalLegendWidth:Pe}}var Me=_.some(he,function(Q){return Q.line}),k=function(W){for(var Y=W.dataPoints,J=W.maxHorizontalSpaceAvailable,ae=W.fontProperties,z=W.legendDataStartIndex,oe=[],re=Math.min(Math.floor(W.legendItemContainerHeight/W.legendItemHeight),Y.length),le=W.titleWidth||0,he=0,ne=Y.length;he<ne;he++){var Te=Y[he],Pe=(0,l.qk)(ae,Te.label),Me=a.b.measureSvgTextWidth(Pe);if(Me>le&&(le=Math.min(Me,J)),he>=z&&he<z+re){var Ve=Me;Ve>J&&(Pe.text=a.b.getTailoredTextOrDefault(Pe,J),Me=a.b.measureSvgTextWidth(Pe)),oe.push({dataPoint:Te,desiredOverMaxWidth:Me>J,textProperties:Pe,desiredWidth:Ve,width:Me})}}return{legendItems:oe,horizontalWidthUsed:le}}({dataPoints:he,legendItemContainerHeight:le.height-(J?J.height:0)-(ae.previous.show?Ne:0)-(ae.next.show?Ne:0),maxHorizontalSpaceAvailable:(Te?W.options.parentViewport.width*Le:W.options.lastCalculatedWidth)-(Me?oe:z)-Se,legendDataStartIndex:ne,fontProperties:Y,titleWidth:J?J.width:void 0,legendItemHeight:W.svgHeight});return{legendItems:k.legendItems,verticalLegendWidth:Te?Math.ceil(k.horizontalWidthUsed+(Me?oe:z)+Se):W.options.lastCalculatedWidth}}({fontProperties:Pe,options:W,navigationArrows:xe,titleLayout:X,iconWidth:pe,iconAndLineWidth:te,svgHeight:me,totalTextPadding:se});if(ke=Ke.legendItems,Ye=Ke.verticalLegendWidth,ot=Ke.horizontalLegendWidth,W.isScrollable){var nt=ke.length;xe.next.show=nt!==z.dataPoints.length-he,Ee=xe.next.show?nt:Ee}};De(),xe.next.show&&(De(),V.fF.assert(function(){return xe.next.show},"We must still have next-show set to true")),null!=Ye&&(k.width=Ye),X&&Ye&&Ye>X.width&&(X=z.showTitle?Je((0,s.pi)((0,s.pi)({},W),{legendFontSizeMarginDifference:Z,legendFontSizeMarginValue:Q,legendViewport:k})):null);var je=(0,e.s0)(le),ze=!je,He=W.element.select(e.wT.selector),Ue=ne?ne.getLocalizedString("Visual_Legend"):null;Ve?(He.empty()&&(He=W.element.append("div").classed(e.wT.class,!0).styles({position:"absolute"}),re&&He.attrs({tabindex:0,role:"region","focus-nav-mode":"HierarchicalTabOrder","aria-label":Ue?.concat(z.showTitle&&z.title?" ".concat(z.title):"")}).attr("data-testid","legend")),He.classed("flex-row",je).classed("flex-column",ze).classed("flex-justify-content-center",(0,e.EH)(le)).classed("flex-justify-content-start",(0,e.F3)(le)).classed("flex-justify-content-end",(0,e.Ok)(le)).classed("flex-align-items-center",je&&!z.isGradientLegend).classed("flex-align-items-start",ze||z.isGradientLegend).styles({"padding-top":z.isGradientLegend?"3px":"null"}),re&&He.attrs({"aria-label":Ue?.concat(z.showTitle&&z.title?" ".concat(z.title):"")})):He.remove();var lt=He.select(e.NT.selector).empty();(z.isGradientLegend?lt:!lt)&&He.selectAll("*").remove();var st=He.select(".clearCatcher");if(st.empty()&&(st=(0,p.EX)(He,"div")),st.style("position","absolute").style("width","100%").style("height","100%"),W.formatMode?(0,p.kA)(He,"div"):(0,p.ku)(He,"div"),ht(k,W.orientation,He,Ve,oe),!Ve)return{width:0,height:0};var ut=He.select(e.OF.selector);if(ut.empty()&&(ut=He.append("div").classed(e.OF.class,!0).classed("flex-align-items-center",!0).classed("flex-order-third",!0).classed("flex-justify-context-start",!0).style("position","relative")),ut.classed("flex-grow",xe.next.show||xe.previous.show).classed("flex-row",je).classed("flex-column",ze).classed("flex-align-items-center",je).classed("flex-align-items-start",ze).classed(e.NT.class,z.isGradientLegend).attr("width",ot).attr("role","listbox").attr("aria-label",function(){return W.hostServices&&X&&X.text?X.text:W.hostServices?Ue:null}),W.onObject&&ut.classed(t.cy,!0).attr(t.Ez,"legend-items").attr(t.CK,"Visual_Legend").attr(t.QZ,1),W.data.isGradientLegend)!function(W,Y,J,ae,z,oe){var re,le,Q,ve,ee,he=W.data.gradientRule.options.linearGradient2?W.data.gradientRule.options.linearGradient2:W.data.gradientRule.options.linearGradient3,ne=W.data.fontProperties,Te=ne.size.px,Me=0,Ve=(0,d.Ue)({value:he.min.value,value2:he.max.value,format:(0,d.EO)(W.data.gradientRule.source,m.e0.formatString)}),k=(0,l.qk)(ne),Z=Ve.format(he.min.value),X={width:a.b.measureSvgTextWidth(k,Z),height:a.b.measureSvgTextHeight(k,Z)};Q="".concat(W.hostServices.getLocalizedString("ConditionalFormattingDialog_LowestValue")," ").concat(Z,", "),v(he)&&(ve=Ve.format(he.mid.value),ee={width:a.b.measureSvgTextWidth(k,ve),height:a.b.measureSvgTextHeight(k,ve)},Q+="".concat(W.hostServices.getLocalizedString("ConditionalFormattingDialog_MiddleValue")," ").concat(ve,", "));var pe=Ve.format(he.max.value),te={width:a.b.measureSvgTextWidth(k,pe),height:a.b.measureSvgTextHeight(k,pe)};Q+="".concat(W.hostServices.getLocalizedString("ConditionalFormattingDialog_HighestValue")," ").concat(pe);var ze,Ue,lt,gt,st,Ee=.5*W.parentViewport.width,De=.25*Te,je=1.5*Te,He=je,ut=[];if(Y){Ue=X.width+De+(ze=6*Te)+De+te.width,lt=je+De,Me=qe=je/2,st=[{text:Z,text_anchor:"start",x:0,y:qe,width:X.width,height:He},{text:pe,text_anchor:"start",x:vt=X.width+De+ze+De,y:qe,width:te.width,height:He}];var Xe=X.width+De;if(gt=[{fill:"url(#legendGradient-".concat(W.hostServices.instanceId,")"),fill_opacity:"1",x:Xe,y:0,width:ze,height:je}],v(he)){lt+=1.25*Te;var rt=h(he);st.splice(1,0,{text:ve,text_anchor:"middle",x:Xe+rt*ze,y:je+De+Te/2,width:ee.width,height:He}),ut=[{x1:Xe+rt*ze,x2:Xe+rt*ze,y1:0,y2:je+De,stroke:null!==(re=ne.color)&&void 0!==re?re:W.visualStyle.colorPalette.foregroundNeutralDark.value,stroke_width:"1"}]}}else{if(ze=v(he)?6*Te:10*Te,(Ue=v(he)?X.width+De+ze+De+te.width:ze+De)>Ee){lt=Ee;var Ze=function(W,Y,J,ae,z,oe,re,le){var he,ne;return re?(he=.6*(ne=W-2*le),oe.text=J,J=a.b.getTailoredTextOrDefault(oe,.2*ne),Y.width=a.b.measureSvgTextWidth(oe,J),oe.text=z,z=a.b.getTailoredTextOrDefault(oe,.2*ne),ae.width=a.b.measureSvgTextWidth(oe,z)):(he=ne=W-le,oe.text=J,J=a.b.getTailoredTextOrDefault(oe,he/2),Y.width=a.b.measureSvgTextWidth(oe,J),oe.text=z,z=a.b.getTailoredTextOrDefault(oe,he/2),ae.width=a.b.measureSvgTextWidth(oe,z)),{gradientWidth:he,minValueString:J,minValueWidth:Y.width,maxValueString:z,maxValueWidth:ae.width}}(Ee,X,Z,te,pe,k,v(he),De);ze=Ze.gradientWidth,Z=Ze.minValueString,X.width=Ze.minValueWidth,pe=Ze.maxValueString,te.width=Ze.maxValueWidth}if(v(he)){Ue=X.width+De+ze+De+te.width,lt=8+3*Te;var qe=8+je/2,vt=X.width+De+ze+De;rt=h(he),st=[{text:Z,text_anchor:"start",x:0,y:qe,width:X.width,height:He},{text:ve,text_anchor:"middle",x:(Xe=X.width+De)+rt*ze,y:8+je+De+Te/2,width:ee.width,height:He},{text:pe,text_anchor:"start",x:vt,y:qe,width:te.width,height:He}],ut=[{x1:Xe+rt*ze,x2:Xe+rt*ze,y1:8,y2:8+je+De,stroke:null!==(le=ne.color)&&void 0!==le?le:W.visualStyle.colorPalette.foregroundNeutralDark.value,stroke_width:"1"}],gt=[{fill:"url(#legendGradient-".concat(W.hostServices.instanceId,")"),fill_opacity:"1",x:Xe,y:8,width:ze,height:je}]}else lt=16+3*Te,st=[{text:Z,text_anchor:"start",x:0,y:qe=16+2*Te,width:(Ue=ze+De)/2,height:He},{text:pe,text_anchor:"start",x:Ue-De-te.width,y:qe,width:Ue/2,height:He}],gt=[{fill:"url(#legendGradient-".concat(W.hostServices.instanceId,")"),fill_opacity:"1",x:0,y:8,width:ze,height:je}]}J.height=Y?Math.max(J.height,lt):J.height,J.width=Y?J.width:Math.max(J.width,Ue)+Se,ht(J,W.orientation,z,oe,W.parentViewport,!0),function(W,Y,J,ae,z,oe,re){var ne,Te,le=(0,l.qk)((0,e.XZ)(W.data.fontProperties),W.data.title),he=[];if(Y)he=[{dy:"0.35em",word:(ne=[a.b.getTailoredTextOrDefault(le,W.parentViewport.width-J.width-ge/2-2*Se)])[0]}],Te={height:J.height,width:a.b.measureSvgTextWidth(le,ne[0])};else{var Me=a.b.measureSvgTextHeight(le,W.data.title),k=Math.min(3,Math.floor((W.parentViewport.height-J.height-8-2*Se)/Me));ne=(0,M.ql)(W.data.title,le,a.b.measureSvgTextWidth,J.width,k,a.b.getTailoredTextOrDefault,!0);for(var Q=0;Q<ne.length;Q++)he.push({dy:String(Me),word:ne[Q]});Te={height:(ne.length+.5)*Me,width:J.width}}var Z=W.data.showTitle&&!_.isEmpty(W.data.title)?[0]:[],X=ae.selectAll(e.fD.selector).data(Z),ve=X.enter().append("svg").classed(e.fD.class,!0).merge(X);ve.attr("height",Te.height).attr("width",Te.width).styles({"padding-right":"".concat(ge/2,"px")});var ee=ve.selectAll("text").data([0]),pe=ee.enter().append("text").merge(ee);pe.classed("flex-order-first",!0).styles((0,l.wB)((0,e.XZ)(W.data.fontProperties))).styles({"text-overflow":"ellipsis","white-space":"pre"}).attr("fill",W.data.fontProperties.color).attr("title",W.data.title).attr("x",0).attr("y",oe).text(null);var te=pe.selectAll("tspan").data(he);te.enter().append("tspan").merge(te).attr("dy",function(we){return we.dy}).attr("x",0).text(function(we){return we.word}),te.exit().remove(),ee.exit().remove(),X.exit().remove()}(W,Y,{height:lt,width:Ue},z,0,Me);var et=function(W,Y,J,ae,z){var oe=Y.selectAll("svg").data([W]).join("svg").attr("width",function(le){return le.width}).attr("height",function(le){return le.height}).attrs({tabindex:0,"aria-label":z}),re=oe.selectAll("defs").data([0]).join("defs");return re.append("linearGradient").attr("id",ae),re.select("linearGradient").selectAll("stop").data((0,s.ev)((0,s.ev)([{stop:0,color:J.min.color}],v(J)?[{stop:h(J),color:J.mid.color}]:[],!0),[{stop:1,color:J.max.color}],!1),function(le){return le.stop.toString()}).join("stop").attr("stop-color",function(le){return le.color}).attr("offset",function(le){return le.stop}),oe}({width:Ue,height:lt},ae,he,"legendGradient-".concat(W.hostServices.instanceId),Q);(function(W,Y,J){Y.selectAll("g.rect").data([0]).join(function(ae){return ae.append("g").classed("rect",!0)}).call(function(ae){ae.selectAll("rect").data(W).join("rect").attr("fill",function(z){return z.fill}).attr("fill-opacity",function(z){return z.fill_opacity}).attr("x",function(z){return z.x}).attr("y",function(z){return z.y}).attr("width",function(z){return z.width}).attr("height",function(z){return z.height}),ae.selectAll("line").data(J).join("line").attr("x1",function(z){return z.x1}).attr("x2",function(z){return z.x2}).attr("y1",function(z){return z.y1}).attr("y2",function(z){return z.y2}).styles({stroke:function(oe){return oe.stroke}}).styles({"stroke-width":function(oe){return oe.stroke_width}})})})(gt,et,ut),function(W,Y,J){var ae=Y.selectAll("g.text").data([0]),oe=ae.enter().append("g").classed("text",!0).merge(ae).selectAll("text").data(W).join("text").text(function(re){return re.text}).attr("text-anchor",function(re){return re.text_anchor}).attr("x",function(re){return re.x}).attr("y",function(re){return re.y}).attr("width",function(re){return re.width}).attr("dy","0.35em").attr("height",function(re){return re.height}).styles((0,l.E_)(J));oe.selectAll("title").data(function(re){return[re.text]}).join("title").text(function(re){return re})}(st,et,ne)}(W,je,k,ut,He,Ve);else{He.selectAll(e.fD.selector).data(X?[X]:[]).join(function(We){return We.insert("text",".clearCatcher")}).classed(e.fD.class,!0).classed("flex-order-first",!0).attr("title",z.title).styles((0,l.wB)(Me)).styles({"text-overflow":"ellipsis","white-space":"pre","padding-right":"".concat(ge/2,"px"),position:"relative"}).text(function(We){return We.text}).filter(function(){return W.onObject}).classed(t.cy,!0).classed(t.Qh.class,X?.isPlaceholder).attr(t.Ez,"legend-title").attr(t.CK,"MiniToolbar_LegendTitle").attr(t.QZ,0).filter(function(){return W.formatMode||Te}).attr(t.kv,JSON.stringify({reference:m.N_.legend.titleText,style:3}));var vt=function(Ke){return Ke.dataPoint.identity.getKey()+(null!=Ke.dataPoint.layerNumber?Ke.dataPoint.layerNumber:"")},qe=ut.selectAll(e.rL.selector).data(_.uniqBy(ke,vt),vt),Xe=qe.enter().append("div").classed(e.rL.class,!0).classed("flex-justify-content-center",!0).classed("flex-align-items-center",!0).attr("role","option");re&&Xe.attr("tabindex",0).attr("data-testid","legend-item");var rt=null!==(ae=ne?.getLocalizedString("NullValue"))&&void 0!==ae?ae:null,ct=Xe.merge(qe);ct.attr("aria-label",function(We){return W.hostServices?We.dataPoint.label?We.dataPoint.label:rt:null}).attr("aria-selected",function(We){return we&&We.dataPoint.selected}).attr("aria-posinset",function(We){return We.dataPoint.index+1}).attr("aria-setsize",z.dataPoints.length),ct.sort(function(We,Ke){var nt=We.dataPoint,mt=Ke.dataPoint;if(null!=nt.layerNumber){V.fF.assertValue(mt.layerNumber,"Both datapoints should have a layerNumber");var St=nt.layerNumber-mt.layerNumber;if(0!==St)return St}return nt.index-mt.index}),qe.exit().remove();var Fe=Xe.append("svg").classed(e.PR.class,!0).style("overflow","visible");Fe.append("path").classed(e.az.class,!0).append("title"),Fe.append("path").classed(e.x4.class,!0).append("title"),Xe.append("text").classed(e.dy.class,!0).styles({"text-overflow":"ellipsis","white-space":"pre"}),ct.select(e.PR.selector).attrs({height:me,width:function(Ke){return Ke.dataPoint.line?te:pe}});var et=ct.select(e.az.selector);et.attrs({transform:(0,E.Iu)(F.yI/2,me*Re),d:function(Ke){return Ke.dataPoint.line?"M -".concat(F.yI/2," 0 L ").concat(F.yI/2," 0"):null},fill:"none"}).styles(function(We){return(0,A.bc)(We.dataPoint.line)});var Ct=ct.select(e.x4.selector);Ct.attrs({transform:function(Ke){return(0,E.aI)((Ke.dataPoint.line?te:pe)/2,me*Re,ve/r.$V)},d:function(Ke){return(0,i.Ar)(Ke.dataPoint.marker.shape)}}).styles(function(We){return(0,A.bc)(We.dataPoint.marker.stroke)}).styles({display:function(Ke){return Ke.dataPoint.marker.show?"block":"none"},fill:function(Ke){return Ke.dataPoint.marker.color},stroke:function(Ke){var nt,mt;return null!==(mt=null===(nt=Ke.dataPoint.marker.stroke)||void 0===nt?void 0:nt.strokeColor)&&void 0!==mt?mt:Ke.dataPoint.marker.color},"stroke-width":function(Ke){var nt;return(0,i.F)(Ke.dataPoint.marker.shape)||(null!==(nt=Ke.dataPoint.marker.stroke)&&void 0!==nt&&nt.strokeShow?2:0)}}),(0,e.t9)(et,Ct,we),Xe.selectAll("path > title").text(function(We){return We.dataPoint.label}),ct.select(e.dy.selector).text(function(We){return We.textProperties.text}).styles((0,s.pi)((0,s.pi)({},Pe&&(0,l.wB)(Pe)),{"padding-left":"".concat(Ie,"px"),"padding-right":"".concat(se-Ie,"px")})).attr("title",function(We){return We.dataPoint.label});var xt={arrowPosWindow:Ee,legend:He,legendDataStartIndex:he,rerenderCallback:W.rerenderCallback,useLargeArrowHitArea:z.useLargeArrowHitArea,verticalLegendWidth:(0,e.s0)(le)?void 0:k.width,isTabbable:!!re,hostServices:W.hostServices};G((0,s.pi)((0,s.pi)({},xt),{arrow:xe.previous,arrowClassAndSelector:e.Rw})),G((0,s.pi)((0,s.pi)({},xt),{arrow:xe.next,arrowClassAndSelector:e.EF})),re?.bind(z.dataPoints,new L,{legendRoot:He,legendItems:ct,legendIcons:Ct,legendLines:et,clearCatcher:st,visualStyle:W.visualStyle},{isLegend:!0,pointSourceKey:"legend",isHierarchicalAxis:W.isHierarchicalAxis,formatMode:W.formatMode})}return k}function v(W){return void 0!==W.mid}function h(W){return W.min.value===W.max.value?.5:(W.mid.value-W.min.value)/(W.max.value-W.min.value)}function H(W,Y,J,ae,z,oe,re){for(var le=Y,he=[],ne=J,Te=W.length;ne<Te;ne++){var Pe=W[ne],Me=I(he,Pe,ae,Pe.line?oe:z,le,re);if(le=Me.newRemainingWidth,!Me.fit)break}for(var Ve=_.filter(he,function(we){return we.desiredOverMaxWidth}),k=le;le>0&&Ve.length>0;){for(ne=0;ne<Ve.length;){var Z=Ve[ne],X=Z.width,ve=X+le/Ve.length;if(ve>Z.desiredWidth)Z.textProperties.text=Z.dataPoint.label,Z.width=Z.desiredWidth,Z.desiredOverMaxWidth=!1,Ve.splice(ne,1),le-=Z.width-X;else{var ee=Ve[ne].textProperties,pe=ee.text;ee.text=Z.dataPoint.label;var te=a.b.getTailoredTextOrDefault(ee,ve);if(pe===te)ee.text=pe;else{ee.text=te;var se=a.b.measureSvgTextWidth(ee,te);Z.width=se,le-=Z.width-X}ne++}}if(k===le)break;k=le}return he}function I(W,Y,J,ae,z,oe){var re=(0,l.qk)(J,Y.label),le=a.b.measureSvgTextWidth(re),he=le,ne=!1;if(he>ye){ne=!0;var Te=a.b.getTailoredTextOrDefault(re,ye);re=(0,l.qk)(J,Te),he=a.b.measureSvgTextWidth(re)}var Pe=z-(he+ae+oe);return Pe<0?{newRemainingWidth:z,fit:!1}:(W.push({dataPoint:Y,textProperties:re,width:he,desiredWidth:le,desiredOverMaxWidth:ne}),{newRemainingWidth:Pe,fit:!0})}function G(W){var Y=W.legendDataStartIndex,J=W.arrowPosWindow,ae=W.useLargeArrowHitArea,z=W.verticalLegendWidth,oe=W.isTabbable,re=W.arrow,le=W.arrowClassAndSelector;V.fF.assert(function(){return!!re},"arrow must be set");var Te=z?z+Be:ae?re.show?re.hitAreaWidth:Qe:Qe+Be;W.legend.selectAll(le.selector).data(re.show?[re]:[]).join(function(Pe){return Pe.append("svg").classed(le.class,!0).style("position","relative")}).classed("flex-order-second",1===re.type).classed("flex-order-fourth",0===re.type).attrs({width:Te,height:Ne,role:"button","aria-label":function(){return W.hostServices?W.arrowClassAndSelector.class===e.EF.class?W.hostServices.getLocalizedString("Next_ButtonText"):W.arrowClassAndSelector.class===e.Rw.class?W.hostServices.getLocalizedString("Previous_ButtonText"):"":null}}).on("click",function(){W.rerenderCallback(re.type,Y,J)}).call(function(Pe){oe&&Pe.attrs({tabindex:0,focusable:!0}).on("keydown",function(){var Me=d3.event,Ve=Me.keyCode;if(32===Ve||13===Ve){Me.stopPropagation(),W.rerenderCallback(re.type,Y,J);var Q=W.legend.selectAll(e.rL.selector+(1===re.type?":last-child":":first-child")).node();Q&&f.M.focus(Q)}})}).selectAll(".navArrow").data(function(Pe){var Me=Pe;if(Me.isHitArea=!1,Me.index=Math.abs(Me.arrowOffset),!ae)return[Me];var Ve=Object.create(Me);return Ve.isHitArea=!0,Ve.index++,[Ve,Me]},function(Pe){return Pe.index.toString()}).join(function(Pe){return Pe.append("path").classed("navArrow",!0)}).attrs({d:function(Me){return Me.path},transform:function(Me){return"".concat((0,E.Iu)(Te/2-Qe/2,0)," ").concat(Me.rotateTransform)},"stroke-width":function(Me){return Me.isHitArea?"".concat(Me.hitAreaWidth,"px"):void 0},"fill-opacity":function(Me){return Me.isHitArea?"0":void 0},"stroke-opacity":function(Me){return Me.isHitArea?"0":void 0}})}var ce=5,ue=5,ye=60,Ce=5,ge=15,Se=10,Le=.3,_e=24,Oe=e.OS.pt,Re=.52,Ae=5,Ie=1,Be=2,$e={Horizontal:{arrowSize:30,hitAreaWidthPx:28,arrowsOffset:-10},Vertical:{arrowSize:12,hitAreaWidthPx:18,arrowsOffset:-3}},Ge=10,Ne=15,Qe=7.5;function Je(W){var oe,Y=W.data.title,J=0,ae=!_.isEmpty(Y),z=!ae&&W.showTitlePlaceholder;if(z&&(Y=W.hostServices.getLocalizedString("Format_AddLegendTitle")),!ae&&!z)return null;oe=(0,e.s0)(W.orientation)?W.parentViewport.width*Le-(ce+(W.legendFontSizeMarginValue>Oe?Ce+W.legendFontSizeMarginDifference:Ce)+(Ce+ce))-Se+ge/2:W.legendViewport.width-Se;var ne=(0,l.qk)(W.data.fontProperties,Y),Te=Y;return(J=a.b.measureSvgTextWidth(ne))>oe&&(Te=a.b.getTailoredTextOrDefault(ne,oe),ne.text=Te,J=a.b.measureSvgTextWidth(ne)),(0,e.s0)(W.orientation)?J+=ge/2:Te=a.b.getTailoredTextOrDefault(ne,W.legendViewport.width),{x:0,y:0,text:Te,width:J,height:a.b.estimateSvgTextHeight(ne),isPlaceholder:z}}function ht(W,Y,J,ae,z,oe){var re=oe?Se:0;J.styles({height:"".concat(W.height||(ae?z.height:0),"px"),width:"".concat(W.width||(ae?z.width:0),"px"),"margin-left":(0,e.tO)(Y)?"".concat(z.width-W.width+re,"px"):null,"margin-top":(0,e.Kx)(Y)?"".concat(z.height-W.height,"px"):null,"margin-right":(0,e.nM)(Y)&&oe?"".concat(re,"px"):null})}function yt(W,Y,J,ae,z,oe,re){return void 0===ae&&(ae=!1),void 0===z&&(z=n.Xv),void 0===oe&&(oe=(0,P.Ue)()),Y?new wt(W):new bt(W,z,oe,J,re,ae)}var pt=7,dt=8,bt=function(){function W(Y,J,ae,z,oe,re){this.style=ae,this.interactivityService=z,this.hostServices=oe,this.isScrollable=re,this.legendDataStartIndex=0,this.arrowPosWindow=1,this.lastCalculatedWidth=0,this.element=d3.select(Y.get(0)),this.setPosition(J),this.viewport={height:0,width:0}}return W.prototype.getMargins=function(){return this.viewport},W.prototype.isVisible=function(){return(0,e.fy)(this.data)},W.prototype.setPosition=function(Y){this.orientation=Y??n.Xv},W.prototype.getPosition=function(){return this.orientation},W.prototype.drawLegend=function(Y){var J,ae=Y.data,z=(0,B.ED)(ae);_.defaults(z,{fontProperties:(0,n.en)(this.style)});for(var oe=[],re=0,le=ae.dataPoints;re<le.length;re++)oe.push((0,B.ED)(le[re]));z.dataPoints=oe,W.setTooltipToLegendItems(z),(z.fontSize||z.labelColor)&&(z.fontProperties={color:z.labelColor||"#666666",size:z.fontSize?o.B.createFromPt(z.fontSize):e.OS,family:e.cp}),null!==(J=z.fontProperties)&&void 0!==J||(z.fontProperties=(0,n.en)(this.style)),z.isGradientLegend||(0===z.dataPoints.length&&(z.show=!1),z.show||(z.dataPoints=[])),this.interactivityService&&(this.interactivityService.applySelectionStateToData(ae.dataPoints),this.interactivityService.applySelectionStateToData(z.dataPoints)),this.render((0,s.pi)((0,s.pi)({},Y),{data:z}))},W.prototype.updateLegendDataStartIndex=function(Y,J){this.legendDataStartIndex=w.b$.clampValue(Y,0,Math.max(J.data.dataPoints.length-1,0))},W.prototype.render=function(Y){var J=this;this.updateLegendDataStartIndex(this.legendDataStartIndex,Y),this.viewport=N(function z(){return(0,s.pi)((0,s.pi)({},Y),{autoWidth:!0,element:J.element,lastCalculatedWidth:J.lastCalculatedWidth,orientation:J.orientation,isScrollable:J.isScrollable,arrowPosWindow:J.arrowPosWindow,legendDataStartIndex:J.legendDataStartIndex,interactivityService:J.interactivityService,rerenderCallback:function(re,le,he){J.updateLegendDataStartIndex(le+he*(0===re?1:-1),Y),J.viewport=N((0,s.pi)((0,s.pi)({},z()),{arrowPosWindow:he}))},visualStyle:J.style,hostServices:J.hostServices})}())},W.prototype.reset=function(){},W.setTooltipToLegendItems=function(Y){for(var J=0,ae=Y.dataPoints;J<ae.length;J++){var z=ae[J];z.tooltip=z.label}},W}(),wt=function(){function W(Y){this.legendContainerParent=d3.select(Y.get(0))}return W.prototype.getMargins=function(){return{height:W.LegendHeight,width:0}},W.prototype.drawLegend=function(Y){var J=Y.data;V.fF.assertValue(J,"legendData");var ae=J.dataPoints;if(V.fF.assertValue(ae,"dataPoints"),!(ae.length<1)){var z=this.legendContainerParent.select(W.LegendContainerSelector);if(z.empty()){if(!ae.length)return;var oe=$("<div></div>").height(this.getMargins().height).addClass(W.LegendContainerClass);$(this.legendContainerParent.node()).prepend(oe),z=d3.select(oe.get(0))}this.legendContainerDiv=z,this.drawTitle(ae),this.drawLegendItems(ae)}},W.prototype.reset=function(){this.legendContainerDiv&&(this.legendContainerDiv.remove(),this.legendContainerDiv=null)},W.prototype.isVisible=function(){return!0},W.prototype.setPosition=function(Y){},W.prototype.getPosition=function(){return u.tV.Top},W.prototype.drawTitle=function(Y){V.fF.assert(function(){return Y&&Y.length>0},"data is null or empty");var ae=this.legendContainerDiv.selectAll("div.".concat(W.LegendTitleClass)).data([Y[0]]),z=ae.enter().append("div").attr("class",W.LegendTitleClass);z.filter(function(re){return re.iconOnlyOnLabel}).append("span").attr("class",W.legendIconClass).html(W.legendPlaceSelector),z.append("span");var oe=z.merge(ae);oe.filter(function(re){return re.iconOnlyOnLabel}).select("span.".concat(W.legendIconClass)).style(W.legendColorCss,function(re){return re.marker.color}),oe.select("span:last-child").text(function(re){return re.category})},W.prototype.drawLegendItems=function(Y){this.ensureLegendTableCreated();var J=[Y],ae=this.legendContainerDiv.select("tbody").selectAll("tr").data(J),z=ae.enter().append("tr"),re=z.selectAll("td").data(function(ne){return ne},function(ne){return ne.label}).enter().append("td").attr("class",W.LegendItem).append("span");re.filter(function(ne){return!ne.iconOnlyOnLabel}).append("span").html(W.legendPlaceSelector).attr("class",W.legendIconClass).attr("white-space","nowrap").styles({"font-size":"20px","margin-bottom":"7px"}),re.append("span").attr("class",W.legendItemNameClass),re.append("span").attr("class",W.legendItemMeasureClass);var he=z.merge(ae).selectAll("td").data(function(ne){return ne},function(ne){return ne.label});he.select("span.".concat(W.legendItemNameClass)).html(function(ne){return(0,g.nU)(ne.label)}),he.select("span.".concat(W.legendItemMeasureClass)).html(function(ne){return"&nbsp;".concat(ne.measure)}),he.select("span.".concat(W.legendIconClass)).style("color",function(ne){return ne.marker.color}),he.exit().remove()},W.prototype.ensureLegendTableCreated=function(){if(this.legendContainerDiv.select("div table").empty()){var Y=this.legendContainerDiv.append("div").append("table");Y.style("table-layout","fixed").append("tbody"),this.setPanGestureOnLegend(Y)}},W.prototype.setPanGestureOnLegend=function(Y){var J=$(this.legendContainerParent.node()).width(),ae=d3.zoom().on("zoom",function(){if($(Y.node()).width()>J){var z=d3.event.transform.x;z=Math.min(z,0),z=Math.max(z,J-$(Y.node()).width()),Y.style("-ms-transform",(0,E.y4)(z)),Y.style("-webkit-transform",(0,E.y4)(z)),Y.style("transform",(0,E.y4)(z))}});this.legendContainerDiv?this.legendContainerDiv.call(ae):Y.call(ae)},W.LegendHeight=70,W.LegendContainerClass="interactive-legend",W.LegendContainerSelector=".interactive-legend",W.LegendTitleClass="title",W.LegendItem="item",W.legendPlaceSelector="\u25cf",W.legendIconClass="icon",W.legendColorCss="color",W.legendItemNameClass="itemName",W.legendItemMeasureClass="itemMeasure",W}()},97121:function(be,q,y){y.d(q,{P:function(){return o}});var s=y(81337),V=y(62458),B=y(88987),P=y(12913),w=y(60810),E=y(98094),g=y(10389);function o(c){return new D(c)}var D=function(){function c(u){var a,n=this;this._data=[],this.scrollTop=0,this.scrollLeft=0,this.prevWheelTime=0,this.factory=(0,B.p)(),u=this.options=$.extend(!0,{},u),V.fF.assert(function(){return!n.options.paddingBetween&&!n.options.paddingOuter||n.options.doNotRenderToCalculateRowHeight}),this.scrollbarInner=u.baseContainer.append("div").classed("scrollbar-inner",!0).attr("role","none").on("scroll",function(){return n.onScroll()}),this.scrollContainer=this.scrollbarInner.append("div").classed("scrollRegion",!0).attr("role","none").on("touchstart",function(){return n.stopTouchPropagation()}).on("touchmove",function(){return n.stopTouchPropagation()}).style("overflow","hidden"),this.visibleGroupContainer=this.scrollContainer.append("div").classed("visibleGroup",!0).attr("role","none"),this.scrollInner=$(this.scrollbarInner.node()),null!==(a=this.scrollInner)&&void 0!==a&&a.scrollbar&&this.scrollInner.scrollbar({ignoreOverlay:!1,ignoreMobile:!1,onDestroy:function(){return n.scrollbarInner.on("scroll",null)}});var f=$(u.baseContainer.node()),S=f.find(".scroll-element");S.attr("drag-resize-disabled","true"),u.scrollEnabled&&S.css("pointer-events","auto"),f.find(".scroll-wrapper").attr("role","none"),this.scrollToFrame=this.options.scrollToFrame||this.defaultScrollToFrame,c.setDefaultOptions(u)}return c.prototype.orientation=function(u){var n=this;return this.isHorizontal=u,u?(this.visibleGroupContainer.style("display","flex"),this.visibleGroupContainer.style("flex-direction","row"),this.scrollbarInner.on("wheel",function(){var a;performance.now()-n.prevWheelTime>100&&(n.propagateWheel=void 0);var f=d3.event,S=Math.abs(f.deltaX)>=Math.abs(f.deltaY);if(n.propagateWheel||S)n.prevWheelTime=performance.now();else{var M=n.scrollbarInner.node().scrollLeft;n.scrollbarInner.node().scrollBy({left:f.deltaY});var d=n.scrollbarInner.node().scrollLeft;null!==(a=n.propagateWheel)&&void 0!==a||(n.propagateWheel=d===M),n.propagateWheel||(f.stopPropagation(),f.preventDefault()),n.prevWheelTime=performance.now()}})):(this.visibleGroupContainer.style("display",null),this.visibleGroupContainer.style("flex-direction",null),this.scrollbarInner.on("wheel",null)),this},c.prototype.scrollTo=function(u){this.scrollInner.scrollTop(u)},c.prototype.scrollRowIntoView=function(u,n){var a=this,f=this.options,S=f.rowHeight,M=f.paddingBetween,d=f.paddingOuter,l=Math.min(Math.max(u,0),this._totalRows-1),i=this.scrollTop,r=this.getContainerHeight(),t=this.getRowStartPosition(l,S,M,d),e=this.getTotalRowHeight(l,S,M,d),m=this.getNeededScrollChange(t,e,i,r);this.setFocusCallback=n,0!==m?(this.scrollTo(i+m),this.pendingFocusCallback=function(p){p?a.pendingScrollCallback=function(){return a.scrollRowIntoView(u,n)}:a.setFocusCallback&&a.setFocusCallback()}):this.setFocusCallback&&this.setFocusCallback()},c.prototype.getTotalRowHeight=function(u,n,a,f){var S=n;return 0===u&&(S+=f),u===this._totalRows&&(S+=f),u>0&&(S+=a),S},c.prototype.getNeededScrollChange=function(u,n,a,f){if(u<a)return Math.floor(u-a);var S=u+n,M=a+f;return S>M?Math.floor(S-M):0},c.prototype.onScroll=function(){var n,a,u=this;null===(a=(n=this.options).onScroll)||void 0===a||a.call(n),this.scrollTop=this.scrollbarInner.node().scrollTop,this.scrollLeft=this.scrollbarInner.node().scrollLeft,void 0===this.scrollTimeoutId&&(this.scrollTimeoutId=window.requestAnimationFrame(function(){var f=u.renderImpl(u.options.rowHeight,u.options.paddingBetween,u.options.paddingOuter);u.scrollTimeoutId=void 0,u.pendingFocusCallback&&(u.pendingFocusCallback(f.loadedMore),u.pendingFocusCallback=void 0)}))},c.prototype.resetCallBacks=function(){this.pendingFocusCallback=void 0,this.pendingScrollCallback=void 0,this.setFocusCallback=void 0},c.prototype.destroy=function(){this.scrollInner&&this.scrollInner.scrollbar("destroy"),this.resetCallBacks(),this.clearRenderingTimeout()},c.prototype.getContainerHeight=function(){if(this.options.getContainerHeight){var u=this.options.getContainerHeight();if(null!=u)return u}var n=$(this.options.baseContainer.node());return this.isHorizontal?n.outerWidth():n.outerHeight()},c.setDefaultOptions=function(u){u.rowHeight=c.valueOrDefault(u.rowHeight,c.defaultRowHeight),u.paddingBetween=c.valueOrDefault(u.paddingBetween,c.defaultPaddingBetween),u.paddingOuter=c.valueOrDefault(u.paddingOuter,c.defaultPaddingOuter)},c.valueOrDefault=function(u,n){return u||0===u?u:n},c.prototype.getRowHeight=function(){return this.options.rowHeight},c.prototype.rowHeight=function(u){return this.options.rowHeight=u,this},c.prototype.paddingBetween=function(u){return this.options.paddingBetween=u,this},c.prototype.paddingOuter=function(u){return this.options.paddingOuter=u,this},c.prototype.data=function(u,n,a,f){return void 0===a&&(a=!1),this._data=u,this.getDatumIndex=n,this.setTotalRows(),a&&($(this.scrollbarInner.node()).scrollTop(0),this.resetCallBacks()),this.render(f).catch(function(S){return P.f.error(S)}),this},c.prototype.viewport=function(u){return this.render().catch(function(n){return P.f.error(n)}),this},c.prototype.empty=function(){this._data=[],this.resetCallBacks(),this.render().catch(function(u){return P.f.error(u)})},c.prototype.clearRenderingTimeout=function(){void 0!==this.renderDelay&&(this.renderDelay.cancel(),this.renderDelay=void 0),void 0!==this.scrollTimeoutId&&(window.cancelAnimationFrame(this.scrollTimeoutId),this.scrollTimeoutId=void 0)},c.prototype.render=function(u){return(0,s.mG)(this,void 0,void 0,function(){var n;return(0,s.Jh)(this,function(a){switch(a.label){case 0:return this.clearRenderingTimeout(),[4,this.delay()];case 1:return a.sent()?[2]:(this.renderDelay=void 0,[4,this.getRowHeightInternal()]);case 2:return n=a.sent(),this.renderImpl(n.rowHeight,n.paddingBetween,n.paddingOuter),u&&u(),this.pendingScrollCallback&&(this.pendingScrollCallback(),this.pendingScrollCallback=void 0),[2]}})})},c.prototype.delay=function(){return this.renderDelay=new b,this.renderDelay.promise},c.prototype.canScrollTop=function(){return 0!==this.scrollTop},c.prototype.getScroll=function(){return new(function(){function u(n){this.self=n}return Object.defineProperty(u.prototype,"scrollHeight",{get:function(){return this.self.getTotalHeight(this.self.options.rowHeight,this.self.options.paddingBetween,this.self.options.paddingOuter)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"visibleHeight",{get:function(){return this.self.getContainerHeight()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"scrollTop",{get:function(){return this.self.scrollTop},enumerable:!1,configurable:!0}),u}())(this)},c.prototype.updateScrollingViewport=function(u){u.width?this.scrollInner.get(0).style.setProperty("width",u.width,"important"):this.scrollInner.get(0).style.removeProperty("width"),u.height?this.scrollInner.get(0).style.setProperty("flex-basis",u.height,"important"):this.scrollInner.get(0).style.removeProperty("flex-basis"),u["border-radius"]?this.scrollInner.get(0).style.borderRadius=u["border-radius"]:this.scrollInner.get(0).style.removeProperty("border-radius")},c.prototype.getTotalHeight=function(u,n,a){var f=c.valueOrDefault(n,c.defaultPaddingBetween),S=c.valueOrDefault(a,c.defaultPaddingOuter);return this.options.scrollEnabled?Math.max(0,this._totalRows*u+(this._totalRows-1)*f+2*S):this.getContainerHeight()},c.prototype.renderImpl=function(u,n,a){var f=this.getTotalHeight(u,n,a);return this.scrollContainer.style("width",this.isHorizontal?"".concat(f,"px"):null).style("height",this.isHorizontal?null:"".concat(f,"px")),this.scrollToFrame({listView:this,loadMoreData:!0,rowHeight:this.options.rowHeight||c.defaultRowHeight,paddingBetween:this.options.paddingBetween||c.defaultPaddingBetween,paddingOuter:this.options.paddingOuter||c.defaultPaddingOuter,scrollTop:this.scrollTop,scrollLeft:this.scrollLeft,totalRows:this._totalRows,visibleGroupContainer:this.visibleGroupContainer,baseContainer:this.options.baseContainer})},c.prototype.stopTouchPropagation=function(){var u=d3.event;this.options.isReadMode()&&("touchstart"===u.type&&u.touches&&1===u.touches.length&&u.stopPropagation(),"touchmove"===u.type&&u.stopPropagation())},c.prototype.defaultScrollToFrame=function(u){var i,r,t,n=u.loadMoreData,a=u.rowHeight,f=u.paddingBetween,S=u.paddingOuter,M=this.isHorizontal?u.scrollLeft:u.scrollTop,d=u.totalRows,l=u.visibleGroupContainer;if(f||S)!this._totalRows||!this.options.rowHeight||a<1?(r=0,t=(0,g.O7)(0,0),i=1):(r=this.getRowIndex(M,a,f,S,!1),e=M>0?this.getRowStartPosition(r,a,f,S):0,t=(0,g.O7)(this.isHorizontal?e:0,this.isHorizontal?0:e),i=this.getRowIndex(M+this.getContainerHeight(),a,f,S,!0)-r+1);else{i=this.getVisibleRowsWithoutPadding();var e=(r=Math.max(0,Math.min(Math.floor(M/a),d-i+1)))*a;t=(0,g.O7)(this.isHorizontal?e:0,this.isHorizontal?0:e)}l.styles({transform:function(A){return t},"-webkit-transform":t});var L=r+i;return this.currentScrollPosition={startIndex:r,endIndex:L},this.performScrollToFrame(r,L,d,i,n)},c.prototype.getFirstVisibleRow=function(){if(!_.isEmpty(this.visibleData))return this.visibleData[0]},c.prototype.reachedLastRowContent=function(){if(this._totalRows>0){var u=this.options,a=u.paddingBetween,f=u.paddingOuter,S=this.isHorizontal?this.scrollLeft:this.scrollTop,M=this._totalRows-1;return this.getRowStartPosition(M,u.rowHeight,a,f)+(0===M?f:a)<S+this.getContainerHeight()}return!1},c.prototype.performScrollToFrame=function(u,n,a,f,S){var M=this.options,d=this.visibleGroupContainer;this.visibleData=this._data.slice(u,Math.min(n,a));var l=!1,i=d.selectAll(".row").data(this.visibleData,this.getDatumIndex);if(i.exit().remove(),i.enter().append("div").classed("row",!0).attr("role","none").call(function(m){return M.enter(m)}).merge(i).order(),d.selectAll(".row:not(.transitioning)").call(function(m){return M.update(m)}),S){var e=M.customLoadMoreCheck?M.customLoadMoreCheck():function(c,u,n){return n!==u&&c>=.8*u}(n,a,f);e&&(l=M.loadMoreData()===w.G.TriggeredLoadMore)}return M.afterScroll&&M.afterScroll(),this.setFocusCallback&&this.setFocusCallback(),{loadedMore:l}},c.prototype.getCurrentPosition=function(){return this.currentScrollPosition},c.prototype.setTotalRows=function(){var u=this._data;this._totalRows=u?u.length:0},c.prototype.getVisibleRowsWithoutPadding=function(){var n=this.options,a=n.rowHeight,f=n.scrollEnabled,S=this.getContainerHeight();if(!a||a<1)return 1;var M=S/a;return f?Math.min(Math.ceil(M)+1,this._totalRows)||1:Math.min(Math.floor(M),this._totalRows)||1},c.prototype.getRowIndex=function(u,n,a,f,S){var M=Math.min(u<n+f?0:Math.floor((u-n-f)/(n+a))+1,this._totalRows-1);return this.getRowStartPosition(M,n,a,f)===u&&(M=S?Math.max(M-1,0):M),M},c.prototype.getRowStartPosition=function(u,n,a,f){return u*n+Math.max(0,u-1)*a+(u>0?f:0)},c.prototype.getRowHeightInternal=function(){var u=this,n=this.factory.defer(),a=this,f=a.options;if(this.cancelMeasurePass&&this.cancelMeasurePass(),!(this._data&&this._data.length&&f))return a.rowHeight(c.defaultRowHeight),a.paddingBetween(c.defaultPaddingBetween),a.paddingOuter(c.defaultPaddingOuter),n.resolve({rowHeight:f.rowHeight,paddingBetween:f.paddingBetween,paddingOuter:f.paddingOuter}),n.promise;if(f&&f.doNotRenderToCalculateRowHeight)return n.resolve({rowHeight:f.rowHeight,paddingBetween:f.paddingBetween,paddingOuter:f.paddingOuter}),n.promise;var S={listView:this,loadMoreData:!1,rowHeight:this.options.rowHeight||c.defaultRowHeight,paddingBetween:c.defaultPaddingBetween,paddingOuter:c.defaultPaddingOuter,scrollTop:this.scrollbarInner.node().scrollTop,scrollLeft:this.scrollbarInner.node().scrollLeft,totalRows:this._totalRows,visibleGroupContainer:this.visibleGroupContainer,baseContainer:this.options.baseContainer};this.scrollToFrame(S);var M=window.requestAnimationFrame(function(){var d=a.visibleGroupContainer.selectAll(".row").filter(function(){return""!==this.textContent||null!==this.querySelector("img")});if(d.empty()&&(d=a.visibleGroupContainer.select(".row")),!d.empty()){var l=d.nodes(),i=u.calculateRowHeight(l);a.rowHeight(i),n.resolve({rowHeight:i,paddingBetween:c.defaultPaddingBetween,paddingOuter:c.defaultPaddingOuter})}a.cancelMeasurePass=void 0});return this.cancelMeasurePass=function(){window.cancelAnimationFrame(M),n.reject({code:"cancelMeasurePass",ignorable:!0})},n.promise},c.prototype.calculateRowHeight=function(u){for(var a=2>u.length?u.length:2,f=0,S=0;S<a;S++)f=Math.max(f,this.measureElementHeight(u[S]));return f},c.prototype.measureElementHeight=function(u){var n=$(u);return Math.ceil(Math.max(n.outerHeight(!0),n.children().first().outerHeight(!0)))},c.defaultRowHeight=1,c.defaultPaddingBetween=0,c.defaultPaddingOuter=0,c}(),b=function(){function c(){var u=this;this.promise=new E.J(function(n){u.resolve=n}),this.timeoutId=setTimeout(this.complete.bind(this))}return c.prototype.complete=function(){this.resolve(!1)},c.prototype.cancel=function(){window.clearTimeout(this.timeoutId),this.resolve(!0)},c}()},49203:function(be,q,y){y.d(q,{R:function(){return V}});var s=y(72902);function V(B,P,w,E,g){var o,D,b,c,C=P,x=w;switch(g){case s.x0.PreviousCategory:case s.x0.NextCategory:if(E===s.jN.SeriesOnly)break;b=g===s.x0.PreviousCategory?-1:1,D=_.filter(B,function(u){return u.seriesIndex===w}),(c=b+_.findIndex(D,function(u){return u.categoryIndex===P}))>=D.length&&(c=0),c<0&&(c=D.length-1),C=D[c].categoryIndex;break;case s.x0.NextSeries:case s.x0.PreviousSeries:if(E===s.jN.CategoryOnly)break;(c=(b=g===s.x0.PreviousSeries?-1:1)+_.findIndex(B,function(u){return u.categoryIndex===P&&u.seriesIndex===w}))>=B.length&&(c=0),c<0&&(c=B.length-1),C=(o=[B[c].categoryIndex,B[c].seriesIndex])[0],x=o[1]}return{categoryIndex:C,seriesIndex:x}}},80065:function(be,q,y){y.d(q,{Jf:function(){return g},Mw:function(){return c},RM:function(){return C},dF:function(){return D},s4:function(){return b},un:function(){return P},w3:function(){return E},xs:function(){return w}});var s=y(81337),V=y(62458),B=y(46769),P=function(n,a,f){return(0,s.pi)({type:1},C(n,a,f))},w=function(n,a,f){var S=a.precisionReference,M=a.displayUnitsReference,d=(0,s._T)(a,["precisionReference","displayUnitsReference"]);return(0,s.pi)((0,s.pi)({type:2},C(n,d,f)),{precision:(0,s.pi)((0,s.pi)({},f?.precision),{reference:S,label:n.getLocalizedString("Visual_Precision")}),displayUnits:{reference:M,label:n.getLocalizedString("Visual_DisplayUnits")}})},E=function(n,a,f,S){void 0===a&&(a=null),void 0===f&&(f=null),void 0===S&&(S=null);var M={type:3};return a&&(M.stroke={reference:a,label:S||n.getLocalizedString("Visual_Shape_Line")}),f&&(M.fill={reference:f,label:n.getLocalizedString("Visual_Fill")}),M},g=function(n,a){var f=n.hostServices,S=n.omitSelectorForSingleSeries,M=n.individualSelector,d=n.repetitionSelector,l=n.subSelectionStylesOptions,i=a.fontColorReference;return i&&(a=(0,s.pi)((0,s.pi)({},a),{fontColorReference:(0,s.pi)((0,s.pi)({},i),{selector:(0,B.hm)(M,S?void 0:i.selector,d)})})),void 0!==a.precisionReference?w(f,a,l):P(f,a,l)},C=function(n,a,f){var S=a.fontFamilyReference,M=a.fontSizeReference,d=a.boldReference,l=a.italicReference,i=a.underlineReference,t=a.backgroundReference,e=a.wordWrapReference,m=a.horizontalAlignmentReference,p={fontColor:{reference:a.fontColorReference,label:n.getLocalizedString("Visual_FontColor")},fontFamily:{reference:S,label:n.getLocalizedString("Visual_FontFamily")},bold:{reference:d,label:n.getLocalizedString("Bold")},italic:{reference:l,label:n.getLocalizedString("Italic")},underline:{reference:i,label:n.getLocalizedString("Underline")}};return M&&(p.fontSize={reference:M,label:n.getLocalizedString("FontSize")}),t&&(p.background={reference:t,label:n.getLocalizedString("Background_Color")}),e&&(p.wordWrap={reference:e,label:n.getLocalizedString("Visual_WordWrap")}),m&&(p.horizontalAlignment={reference:m,label:n.getLocalizedString("Visual_Alignment_Horizontal")}),f&&(f.grid&&(p.grid=f.grid),f.border&&(p.border=f.border)),p},D=function(n){var f=_.first(n).visualObjects;V.fF.assert(function(){return 1===f.length},"Expected 1 visual");var S=f[0];return V.fF.assert(function(){return 1===n.length||n.every(function(M){return _.isEqual(M.visualObjects,[S])},"Expected 1 sub-selection or matching objects")}),S},b=function(n,a){if(n)return{reference:n,style:2,displayValue:a}},c=function(n,a){if(n)return{reference:n,style:1,displayValue:a||""}}},10034:function(be,q,y){y.d(q,{q:function(){return B}});var s=y(38308),V=y(62458);function B(){var P=function(){function w(E,g){this.visualElement=E,this.iconClassName=g,this.isVisualVisible=!0}return w.prototype.updateVisibility=function(E){E.showIcon?(this.hideVisual(),V.fF.assertValue(E.viewport,"viewport"),this.renderResponsiveIcon(E.viewport)):(this.removeResponsiveIcon(),this.showVisual())},w.prototype.renderResponsiveIcon=function(E){this.responsiveIcon||(this.responsiveIcon=(0,s.hi)().addClass(this.iconClassName).appendTo(this.visualElement)),this.responsiveIcon.css({width:E.width,height:E.height})},w.prototype.removeResponsiveIcon=function(){this.responsiveIcon&&(this.responsiveIcon.remove(),this.responsiveIcon=void 0)},w.prototype.hideVisual=function(){this.isVisualVisible&&(this.visualElement.children().hide(),this.isVisualVisible=!1)},w.prototype.showVisual=function(){this.isVisualVisible||(this.visualElement.children().show(),this.isVisualVisible=!0)},w}();return{visibilityHelper:function(E,g){return new P(E,g)}}}},5342:function(be,q,y){y.d(q,{BN:function(){return E},C0:function(){return P},mD:function(){return w}});var s=y(62458),V=y(6444),B=y(17591),P=function(){function g(o,C,x,D){s.fF.assert(function(){return C>=o},"Requires max date to be bigger than min date."),s.fF.assert(function(){return(!x||x>=o)&&(!D||D<=C)},"Specified date is out of boundaries"),this.rangeMaxValue=(0,B.I)(C,o),this.scale=d3.scaleTime().domain([o,C]).range([0,this.rangeMaxValue]),this.value={min:x||o,max:D||C},this.setValue(this.value)}return g.prototype.getScaledValue=function(){return this.scaledValue},g.prototype.setValue=function(o){s.fF.assert(function(){return null!=o},"Value can't be null"),s.fF.assert(function(){return null!=o.min},"Min can't be null"),s.fF.assert(function(){return null!=o.max},"Max can't be null"),this.value=o,this.scaledValue={min:this.scale(o.min),max:this.scale(o.max)}},g.prototype.getValue=function(){return this.value},g.prototype.setScaledValue=function(o){var C=this;s.fF.assert(function(){return o.min<=C.rangeMaxValue&&o.min>=0&&o.max>=0&&o.max<=C.rangeMaxValue&&o.max>=o.min},"Value is out of range"),this.scaledValue=o,this.value={min:(0,V.Fg)(this.scale.invert(o.min)),max:(0,V.Fg)(this.scale.invert(o.max))}},g}(),w=function(){function g(o,C,x,D){s.fF.assert(function(){return C>=o},"Requires max to be bigger than or equal to min."),s.fF.assert(function(){return(!x||x>=o)&&(!D||D<=C)},"Specified value is out of boundaries"),this.rangeMaxValue=C,this.scale=d3.scaleLinear().domain([o,C]).range([o,this.rangeMaxValue]),this.value={min:void 0===x?o:x,max:void 0===D?C:D},this.setValue(this.value)}return g.prototype.getScaledValue=function(){return this.scaledValue},g.prototype.setValue=function(o){s.fF.assertValue(o,"Value can't be null"),s.fF.assertValue(o.min,"Min can't be null"),s.fF.assertValue(o.max,"Max can't be null"),this.value=o,this.scaledValue={min:this.scale(o.min),max:this.scale(o.max)}},g.prototype.getValue=function(){return this.value},g.prototype.setScaledValue=function(o){var C=this;s.fF.assert(function(){return o.min<=C.rangeMaxValue&&o.min>=0&&o.max>=0&&o.max<=C.rangeMaxValue&&o.max>=o.min},"Value is out of range"),this.scaledValue=o,this.value={min:this.scale.invert(o.min),max:this.scale.invert(o.max)}},g}(),E=function(){function g(o,C,x,D){s.fF.assert(function(){return C>=o},"Requires max to be bigger than or equal to min."),s.fF.assert(function(){return(!x||x>=o)&&(!D||D<=C)},"Specified value is out of boundaries"),this.value={min:void 0===x?o:x,max:void 0===D?C:D}}return g.prototype.getScaledValue=function(){return this.value},g.prototype.setValue=function(o){s.fF.assertValue(o,"Value can't be null"),s.fF.assertValue(o.min,"Min can't be null"),s.fF.assertValue(o.max,"Max can't be null"),this.value=o},g.prototype.getValue=function(){return this.value},g.prototype.setScaledValue=function(o){this.setValue(o)},g}()},95519:function(be,q,y){y.d(q,{eR:function(){return c},lr:function(){return o}});var s=y(81337),V=y(62458),B=y(56578),P=y(90120),w=y(56707),E=y(60066),g=y(48708);function o(u,n){if(!u?.show)return 0;var a=u.maxWidthPercentage;return null!=u.defaultSeriesWidth&&(a=Math.min(Math.max(1,100*u.defaultSeriesWidth/n),50)),n*((a||0)/100)}function c(u,n){var a=u.seriesOptions,f=u.seriesLabelsProps;V.fF.assertValue(a,"seriesOptions");var S=a.seriesLabelsSettings;S&&(f.seriesPosition&&function(u,n,a){void 0===a&&(a="Desktop_FileMenu_Options");var S=u.seriesLabelsProps,M=u.omitGroupDisplayNames,l=u.selector,i=u.seriesOptions.seriesLabelsSettings,r=u.cardBuilder;n&&(r=n,n.addSimpleSlice("showSeries",new B.bd({descriptor:(0,s.pi)((0,s.pi)({},S.show),{selector:l}),value:i.show}).build(),function(t){return t.withDisabled(n&&!l)})),r.addGroup("options",function(t){M||t.withDisplayName(a),n||t.addSimpleSlice("showSeries",new B.bd({descriptor:(0,s.pi)((0,s.pi)({},S.show),{selector:l}),value:i.show}).build(),function(e){return e.withDisabled(n&&!l)}),t.addSimpleSlice("seriesMaximumWidth",new B.mu({descriptor:(0,s.pi)((0,s.pi)({},S.seriesMaximumWidth),{selector:l}),value:i.defaultSeriesWidth?null:i.maxWidthPercentage,options:{minValue:{type:0,value:w._i},maxValue:{type:1,value:w.NL}}}).build(),function(e){return e.withDisabled(!!l)}),t.addSimpleSlice("position",new B.uY({descriptor:(0,s.pi)((0,s.pi)({},S.seriesPosition),{selector:l}),value:i.position}).build(),function(e){return e.withDisabled(!!l)})})}(u,n),function(u,n,a){void 0===a&&(a="Role_DisplayName_Values");var f=u.seriesOptions,S=u.seriesLabelsProps,M=u.cardBuilder,d=u.omitGroupDisplayNames,l=u.selector,i=f.seriesLabelsSettings,r=f.style?f.style:(0,g.Ue)(),t=M;n&&(t=n),t.addGroup("values",function(e){d||e.withDisplayName(a),(S.seriesFontFamily||S.seriesFontSize)&&e.addCompositeSlice("font","Font",function(){return(new B.UN).withFontFamily({descriptor:(0,s.pi)((0,s.pi)({},S.seriesFontFamily),{selector:l}),value:i.fontProperties.family||E.rk}).withFontSizeProperties({descriptor:(0,s.pi)((0,s.pi)({},S.textSize),{selector:l}),value:i.fontProperties.size.pt,options:{minValue:{type:0,value:i.minFontSize},maxValue:{type:1,value:i.maxFontSize}}}).withBold({descriptor:(0,s.pi)((0,s.pi)({},S.bold),{selector:l}),value:i.bold}).withItalic({descriptor:(0,s.pi)((0,s.pi)({},S.italic),{selector:l}),value:i.italic}).withUnderline({descriptor:(0,s.pi)((0,s.pi)({},S.underline),{selector:l}),value:i.underline}).build()}),S.seriesColor&&e.addSimpleSlice("seriesColor",new B.BT({descriptor:(0,s.pi)((0,s.pi)({},S.seriesColor),{selector:l}),value:{value:i.seriesColor||P.v.getThemeColor(r,w.uQ)}}).build()),e.addSimpleSlice("seriesWordWrap",new B.bd({descriptor:(0,s.pi)((0,s.pi)({},S.seriesWordWrap),{selector:l}),value:i.wordWrap}).build())})}(u,n),null!=S.enableBackground&&f.enableBackground&&function(u,n){var f=u.hostServices,S=u.seriesLabelsProps,d=u.selector,l=u.seriesOptions.seriesLabelsSettings;(n||u.cardBuilder).addGroup("background",function(i){i.withDisplayName("Visual_Background").addTopLevelToggle("enableBackground",function(){return new B.bd({descriptor:(0,s.pi)((0,s.pi)({},S.enableBackground),{selector:d}),value:l.enableBackground}).build()}).addSimpleSlice("backgroundColor",new B.BT({descriptor:(0,s.pi)((0,s.pi)({},S.backgroundColor),{selector:d}),value:{value:l.backgroundColor}}).build()).addSimpleSlice("backgroundTransparency",B.JN.getTransparencySliderBuilder({descriptor:(0,s.pi)((0,s.pi)({},S.backgroundTransparency),{selector:d}),value:Math.round(100*l.backgroundTransparency),localize:function(t){return f.getLocalizedString(t)}}).build())})}(u,n))}},86108:function(be,q,y){y.d(q,{Ad:function(){return V},HN:function(){return B},Kf:function(){return s},yn:function(){return P}});var s={min:1,max:3},V={min:-30,max:100};function B(w){return s.min+(w??0)/100*s.max}function P(w){return Math.round((w-s.min)/s.max*100)}},45875:function(be,q,y){y.d(q,{$O:function(){return V},Cd:function(){return P},Ck:function(){return B}});var s=y(64329),V={rangeSlicer:{iconBreakpoints:[{height:1/0,width:75},{height:28,width:1/0},{height:63,width:162}],hideHeaderHeightNoSlider:48,hideHeaderHeightSlider:88},horizontalSlicer:{iconBreakpoints:[{height:1/0,width:75},{height:15,width:1/0}],hideHeaderHeight:48,fontSize:[{breakpoint:360,applyWidth:!0,applyHeight:!1,maxFontSizePt:9},{breakpoint:540,applyWidth:!0,applyHeight:!1,maxFontSizePt:16}]},slicerHeader:{fontSize:[{breakpoint:140,applyWidth:!0,applyHeight:!0,maxFontSizePt:9},{breakpoint:220,applyWidth:!0,applyHeight:!0,maxFontSizePt:16},{breakpoint:320,applyWidth:!0,applyHeight:!1,maxFontSizePt:24},{breakpoint:460,applyWidth:!0,applyHeight:!1,maxFontSizePt:32}]}},B=function(){function w(){}return w.fixWidgetPosition=function(E,g,o,C,x){if(void 0===o&&(o=null),void 0===C&&(C=!1),void 0===x&&(x=null),E&&g){var D="",b="",c="",u="",n="",a=w.getScale(g),f=g.get(0),S=E.offsetParent(),M=w.getScale(S);C&&E.css({transform:"scale(".concat(a,")")});var d=f.getBoundingClientRect();if(null==x&&(x=w.getWidgetPosition(d)),1&~x?(c=(window.innerHeight-d.top)/M,D="auto",n="bottom"):(D=(d.top+d.height)/M,n="top"),2&~x){var t=window.innerWidth-d.left-d.width;u="auto",w.isWidgetPositionExceedsBoundaries(E,a,b=t/M)&&(b=window.innerWidth-E.innerWidth()*a),n="right ".concat(n)}else w.isWidgetPositionExceedsBoundaries(E,a,u=d.left/M)&&(u=window.innerWidth-E.innerWidth()*a),n="left ".concat(n);var e={left:u,top:D,right:b,bottom:c,"transform-origin":n};o&&("auto"!==e.top?e.top+=o.top*a:e.bottom+=o.top*a,"auto"!==e.left?e.left+=o.left*a:e.right+=o.left*a),E.css(e)}},w.getScale=function(E){if(!E)return 1;var g=E.outerWidth();return 0===g?1:E.get(0).getBoundingClientRect().width/g},w.isWidgetPositionExceedsBoundaries=function(E,g,o){return E.innerWidth()*g+o>window.innerWidth},w.getWidgetPosition=function(E){var g=3,o=window.innerHeight,C=window.innerWidth;return o-E.top<o/2&&(g&=-2,g|=0),C-E.left<C/2&&(g&=-3,g|=4),g},w}();function P(w,E){for(var g=s.PR,o=0,C=E;o<C.length;o++){var x=C[o];if(w.width<x.breakpoint&&x.applyWidth||w.height<x.breakpoint&&x.applyHeight){g=x.maxFontSizePt;break}}return g}},48645:function(be,q,y){y.d(q,{y:function(){return V}});var s=y(81337),V=function(){function B(P,w){void 0===w&&(w=2),this.renderer=P,this.tolerance=w}return B.prototype.updateRegionOutlines=function(P){for(var w=[],E=0,g=P;E<g.length;E++){var o=g[E],C=this.traverse(o.outline);w.push((0,s.pi)((0,s.pi)({},o),{outline:C}))}this.renderer.updateRegionOutlines(w)},B.prototype.traverse=function(P){var w=this;if(0===P.type){var E=P.outlines.map(function(o){return w.traverse(o)}),g=this.mergeOverlappingOutlines(E);return(0,s.pi)((0,s.pi)({},P),{type:0,outlines:g})}return P},B.prototype.isOverlapping=function(P,w){var E,g,o,x,D,b;return P.x<=w.x?(E=P.x,g=w.x,o=P.width):(E=w.x,g=P.x,o=w.width),P.y<=w.y?(x=P.y,D=w.y,b=P.height):(x=w.y,D=P.y,b=w.height),x+b+this.tolerance>=D-this.tolerance&&E+o+this.tolerance>=g-this.tolerance},B.prototype.mergeOverlappingOutlines=function(P){for(var w=0;w<P.length;w++)for(var E=w+1;E<P.length;E++){var g=P[w],o=P[E];1===g.type&&1===o.type&&this.isOverlapping(g,o)&&(P[w]=this.merge(g,o),P.splice(E,1),E--)}return P},B.prototype.merge=function(P,w){var E=Math.min(P.x,w.x),g=Math.min(P.y,w.y);return{type:1,x:E,y:g,width:Math.max(P.x+P.width,w.x+w.width)-E,height:Math.max(P.y+P.height,w.y+w.height)-g}},B}()},86900:function(be,q,y){y.d(q,{D:function(){return M}});var s=y(79154),V=y(62458),B=function(){function d(l){this.clipPaths=l}return d.createRendererGroupClipPath=function(l){return new d(l)},d.prototype.createPathString=function(l,i){return void 0===i&&(i=0),this.clipPaths.map(function(r){return r.createPathString(l,i)}).join(" ")},d}(),P=y(92379),w=function(){function d(l){this.points=l}return d.createRendererPolygonClipPath=function(l,i,r){return void 0===i&&(i=0),void 0===r&&(r=0),new d(l.points.map(function(e){return{x:e.x-i,y:e.y-r}}))},d.prototype.createPathString=function(l,i){void 0===i&&(i=0);var r=this.points.map(function(L){return{x:L.x-l.x,y:L.y-l.y}});if(0!==i){var t=P.m.fromPolygonPoints(r);r=P.m.resize(t,i).polygonPoints}for(var m=d3.path(),p=0;p<r.length;p++){var T=r[p];0===p?m.moveTo(T.x,T.y):m.lineTo(T.x,T.y)}return m.closePath(),m.toString()},d}(),E=function(){function d(l){this.bounds=l}return d.createRendererRectangleClipPath=function(l,i,r){return void 0===i&&(i=0),void 0===r&&(r=0),new d({x:l.x-i,y:l.y-r,width:l.width,height:l.height})},d.prototype.createPathString=function(l,i){void 0===i&&(i=0);var r=d3.path();return r.rect(this.bounds.x-l.x,this.bounds.y-l.y,this.bounds.width+2*i,this.bounds.height+2*i),r.toString()},d}(),g=y(81337),o=function(){function d(l,i,r,t,e,m){void 0===m&&(m=void 0),this.id=l,this.qualifiedName=i,this.bounds=r,this.points=t,this.clipPath=e,this.extendedProperties=m}return d.prototype.cleanup=function(l){return l},d.prototype.renderHandles=function(l,i){this.applyClipPath(l,i);var r=l.selectAll(d.OutlineHandleSelector.selector).data(this.points);return r.enter().append("circle").classed(d.OutlineHandleSelector.class,!0).merge(r).attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("r",i),r.exit().remove(),l},d.prototype.tag=function(){return document.createElementNS("http://www.w3.org/2000/svg",this.qualifiedName)},d.prototype.shouldRenderHandles=function(){var l;return null!=(null===(l=this.extendedProperties)||void 0===l?void 0:l.showHandles)?this.extendedProperties.showHandles:2===this.visibility},d.prototype.applyClipPath=function(l,i){if(void 0===i&&(i=0),this.clipPath){var r=this.clipPath.createPathString(this.bounds,i);l.attr("clip-path","path('".concat(r,"')"))}return l},d.OutlineHandleSelector=(0,s.CH)("outline-handle"),d}();function x(d,l,i){return{x:d.x+i*Math.sin(l),y:d.y-i*Math.cos(l)}}var D=function(d){function l(i,r,t,e,m){var p=this,T=t,L=(0,g.pi)((0,g.pi)({},T),{innerRadius:Math.max(0,T.innerRadius-4),outerRadius:T.outerRadius+4}),F=L.center,A=L.innerRadius,N=L.outerRadius,de=F.x-N,fe=F.y-N,j=2*N,R=j,v=j,O=L.startAngle+0,H=L.endAngle+0,I=[x(F,O,A),x(F,O,N),x(F,H,N)];return A&&I.push(x(F,H,A)),(p=d.call(this,i,"path",{x:de,y:fe,width:R,height:v},I,e,m)||this).visibility=r,p.outline=L,p}return(0,g.ZT)(l,d),l.create=function(i,r,t,e,m,p,T){var L;void 0===m&&(m=0),void 0===p&&(p=0),void 0===T&&(T=void 0);var F=(L=t.center).x,A=L.y;return new l(i,r,t=(0,g.pi)((0,g.pi)({},t),{center:{x:F-m,y:A-p}}),e,T)},l.prototype.initialize=function(i){return i.classed(l.OutlineSelector.class,!0),i},l.prototype.update=function(i){var r,t=(r=this.outline).innerRadius,e=r.outerRadius,m=r.center,p=d3.arc().innerRadius(t).outerRadius(e);return this.applyClipPath(i).style("transform","translate(".concat(m.x,"px, ").concat(m.y,"px)")).attr("d",p(this.outline)).style("pointer-events","none").style("stroke",function(T){var L;return null===(L=T.extendedProperties)||void 0===L?void 0:L.color}).style("stroke-width",function(T){var L;return(null===(L=T.extendedProperties)||void 0===L?void 0:L.thickness)>=1?T.extendedProperties.thickness:null})},l.OutlineSelector=(0,s.CH)("outline-arc"),l}(o),b=function(d){function l(i,r,t,e,m,p){var T=d.call(this,i,"g",e,[],m,p)||this;return T.visibility=r,T.outlines=t,T}return(0,g.ZT)(l,d),l.createRendererGroupOutline=function(i,r,t,e,m){void 0===m&&(m=void 0);var p=Math.min.apply(Math,t.map(function(N){return N.bounds.x})),T=Math.min.apply(Math,t.map(function(N){return N.bounds.y})),L=Math.max.apply(Math,t.map(function(N){return N.bounds.x+N.bounds.width})),F=Math.max.apply(Math,t.map(function(N){return N.bounds.y+N.bounds.height}));return new l(i,r,t,{x:p,y:T,width:L-p,height:F-T},e,m)},l.prototype.shouldRenderHandles=function(){var i=this;return this.outlines.some(function(r){var t,e,m=_.cloneDeep(r);return m.extendedProperties=(0,g.pi)((0,g.pi)({},null!==(t=i.extendedProperties)&&void 0!==t?t:{}),null!==(e=r.extendedProperties)&&void 0!==e?e:{}),m.shouldRenderHandles()})},l.prototype.renderHandles=function(i,r){this.applyClipPath(i,r);for(var t=[],e=0,m=this.outlines;e<m.length;e++){var p=m[e];p.shouldRenderHandles()&&t.push(p)}var T=i.selectAll(l.OutlineHandlesGroupItem.selector).filter(function(){return this.parentNode===i.node()}).data(t,function(F){return"".concat(F.id)}),L=T.enter().append("g").classed(l.OutlineHandlesGroupItem.class,!0).merge(T);return L.each(function(F){F.renderHandles(d3.select(this),r)}),T.exit().remove(),L},l.prototype.initialize=function(i){return this.renderGroupOutline(i)},l.prototype.update=function(i){return this.renderGroupOutline(i)},l.prototype.renderGroupOutline=function(i){this.applyClipPath(i);var r=i.selectAll(l.OutlineGroupItem.selector).filter(function(){return this.parentNode===i.node()}).data(this.outlines,function(e){return"".concat(e.id)}),t=r.enter().append(function(e){return e.tag()}).each(function(e){e.initialize(d3.select(this))}).classed(l.OutlineGroupItem.class,!0).style("stroke",function(e){var m;return null===(m=e.extendedProperties)||void 0===m?void 0:m.color}).style("stroke-width",function(e){var m;return(null===(m=e.extendedProperties)||void 0===m?void 0:m.thickness)>=1?e.extendedProperties.thickness:null}).merge(r);return t.each(function(e){e.update(d3.select(this))}),r.exit().each(function(e){e.cleanup(d3.select(this)),i.remove()}),t},l.OutlineGroupItem=(0,s.CH)("outline-group-item"),l.OutlineHandlesGroupItem=(0,s.CH)("outline-handles-group-item"),l}(o),c=function(d){function l(i,r,t,e,m,p){var T=d.call(this,i,"line",e,t,m,p)||this;return T.visibility=r,T}return(0,g.ZT)(l,d),l.createRendererLineOutline=function(i,r,t,e,m,p,T){void 0===m&&(m=0),void 0===p&&(p=0),void 0===T&&(T=void 0);var L=t.map(function(K){return{x:K.x-m,y:K.y-p}}),A=P.m.fromPolygonPoints(L).absoluteBoundingRect();return new l(i,r,L,{x:A.left,y:A.top,width:A.width,height:A.height},e,T)},l.prototype.shouldRenderHandles=function(){return!0},l.prototype.initialize=function(i){return i.classed(l.OutlineSelector.class,!0)},l.prototype.update=function(i){return this.applyClipPath(i).style("stroke",function(r){var t;return null===(t=r.extendedProperties)||void 0===t?void 0:t.color}).style("stroke-width",function(r){var t;return(null===(t=r.extendedProperties)||void 0===t?void 0:t.thickness)>=1?r.extendedProperties.thickness:null})},l.OutlineSelector=(0,s.CH)("outline-line"),l}(o),u=function(d){function l(i,r,t,e,m,p){var T=d.call(this,i,"polygon",e,t,m,p)||this;return T.visibility=r,T}return(0,g.ZT)(l,d),l.createRendererPolygonOutline=function(i,r,t,e,m,p,T){void 0===m&&(m=0),void 0===p&&(p=0),void 0===T&&(T=void 0);var L=t.map(function(K){return{x:K.x-m,y:K.y-p}}),A=P.m.fromPolygonPoints(L).absoluteBoundingRect();return new l(i,r,L,{x:A.left,y:A.top,width:A.width,height:A.height},e,T)},l.prototype.initialize=function(i){return i.classed(l.OutlineSelector.class,!0)},l.prototype.update=function(i){return this.applyClipPath(i).attr("points",this.points.map(function(r){return[r.x,r.y].join(",")}).join(" ")).style("stroke",function(r){var t;return null===(t=r.extendedProperties)||void 0===t?void 0:t.color}).style("stroke-width",function(r){var t;return(null===(t=r.extendedProperties)||void 0===t?void 0:t.thickness)>=1?r.extendedProperties.thickness:null})},l.OutlineSelector=(0,s.CH)("outline-polygon"),l}(o),n=function(d){function l(i,r,t,e,m,p){var T=d.call(this,i,"rect",t,[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],e,p)||this;return T.visibility=r,T.subSelection=t,T.directEditCallbacks=m,T.eventListeners={},T.directEditCallbacks&&t.directEdit&&(T.eventListeners=T.populateEventListeners()),T}return(0,g.ZT)(l,d),l.createRendererRectangleOutline=function(i,r,t,e,m,p,T,L){return void 0===p&&(p=0),void 0===T&&(T=0),void 0===L&&(L=void 0),t.x=t.x-p,t.y=t.y-T,new l(i,r,t,e,m,L)},l.prototype.initialize=function(i){return this.attachEventHandlers(i),i.classed(l.OutlineSelector.class,!0),i},l.prototype.update=function(i){return this.applyClipPath(i).attr("x",this.subSelection.x).attr("y",this.subSelection.y).attr("width",this.subSelection.width).attr("height",this.subSelection.height).style("pointer-events",this.isInteractive()?"fill":"none").style("cursor",this.isInteractive()?"text":void 0).style("stroke",function(r){var t;return null===(t=r.extendedProperties)||void 0===t?void 0:t.color}).style("stroke-width",function(r){var t;return(null===(t=r.extendedProperties)||void 0===t?void 0:t.thickness)>=1?r.extendedProperties.thickness:null})},l.prototype.isInteractive=function(){return this.directEditCallbacks&&this.subSelection.directEdit&&2===this.visibility},l.prototype.populateEventListeners=function(){var i=this;return{"pointerdown.directEditEvent":function(t){0===t.button&&(t.stopImmediatePropagation(),t.preventDefault(),i.directEditCallbacks.startEdit(i.subSelection))},"contextmenu.directEditEvent":function(t){var e=t;2===e.button&&(t.stopImmediatePropagation(),t.preventDefault(),i.directEditCallbacks.showUI(i.subSelection,e))}}},l.prototype.attachEventHandlers=function(i){for(var r=this.eventListeners,e=function(F){var A=r[F];i.on(F,function(){A(d3.event,this)})},m=0,p=Object.keys(r);m<p.length;m++)e(p[m])},l.OutlineSelector=(0,s.CH)("outline-rect"),l}(o),M=function(){function d(l,i){this.directEditCallbacks=i,this.outlineHost=d3.select(l),this.visibleOutlines=[]}return d.create=function(l,i){return new d(l,i)},d.createWithDefaultHost=function(){var l=d3.select("body").append("div").style("position","absolute").style("top",0).style("left",0).style("width","100%").style("height","100%").style("z-index",1).style("pointer-events","none").node();return d.create(l)},d.prototype.updateRegionOutlines=function(l,i){this.clearRenderOutlineDelay();var r=this.convertRegionOutlinesToOutlines(l,i);this.renderOutlines(r)},d.prototype.convertRegionOutlinesToOutlines=function(l,i){var r=this,t=_.cloneDeep(l);return _.flatMap(t,function(m){return r.convertSubSelectionToOutline(m.id,m.visibility,m.outline,i?.x,i?.y)})},d.prototype.convertSubSelectionToOutline=function(l,i,r,t,e,m){var p=this;void 0===t&&(t=0),void 0===e&&(e=0);var T=_.isUndefined(m)?l:"".concat(l,"-").concat(m),L=r.clipPath?this.convertClipPathToRendererClipPath(r.clipPath,t,e):void 0;switch(r.type){case 0:var F=r.outlines.map(function(A,N){return p.convertSubSelectionToOutline(T,i,A,t,e,N)});return b.createRendererGroupOutline(T,i,F,L,r.extendedProperties);case 2:return c.createRendererLineOutline(T,i,r.points,L,t,e,r.extendedProperties);case 3:return u.createRendererPolygonOutline(T,i,r.points,L,t,e,r.extendedProperties);case 1:return n.createRendererRectangleOutline(T,i,r,L,this.directEditCallbacks,t,e,r.extendedProperties);case 4:return D.create(T,i,r,L,t,e,r.extendedProperties);default:V.fF.assertNever(r)}},d.prototype.convertClipPathToRendererClipPath=function(l,i,r){var t=this;switch(void 0===i&&(i=0),void 0===r&&(r=0),l.type){case 0:var e=l.clipPaths.map(function(m){return t.convertClipPathToRendererClipPath(m,i,r)});return B.createRendererGroupClipPath(e);case 3:return w.createRendererPolygonClipPath(l,i,r);case 1:return E.createRendererRectangleClipPath(l,i,r);default:V.fF.assertNever(l)}},d.prototype.renderOutlines=function(l){var i=this,r=[],t=[],e=[];if(l)for(var m=0,p=l;m<p.length;m++){var T=p[m];2===T.visibility?(r.push(T),e.push(T)):1===T.visibility&&(t.push(T),e.push(T))}this.visibleOutlines=_.intersectionBy(e,this.visibleOutlines,"id"),this.visibleOutlines=_.unionBy(r,this.visibleOutlines,"id"),this.renderVisibleOutlines(this.visibleOutlines),this.visibleOutlines=_.unionBy(t,this.visibleOutlines,"id"),this.setRenderOutlineDelay(function(){i.renderVisibleOutlines(i.visibleOutlines)})},d.prototype.renderVisibleOutlines=function(l){var i=this.renderSVGContainer(d.OutlineShapesSVGSelector);d.renderOutlineShapes(i,l);var r=this.renderSVGContainer(d.OutlineHandlesSVGSelector);d.renderOutlineHandles(r,l)},d.prototype.renderSVGContainer=function(l){return this.outlineHost.selectAll(l.selector).data([null]).join("svg").classed(l.class,!0)},d.renderOutlineShapes=function(l,i){var r=l.selectAll(d.OutlineShapeSelector.selector).data(i,function(e){return"".concat(e.id)});r.enter().append(function(e){return e.tag()}).each(function(e){e.initialize(d3.select(this))}).classed(d.OutlineShapeSelector.class,!0).merge(r).attr("data-sub-selection-outline-id",function(e){return"".concat(e.id)}).classed(d.OutlineActiveSelector.class,function(e){return 2===e.visibility}).classed(d.OutlineHoverSelector.class,function(e){return 1===e.visibility}).style("stroke",function(e){var m;return null===(m=e.extendedProperties)||void 0===m?void 0:m.color}).style("stroke-width",function(e){var m;return(null===(m=e.extendedProperties)||void 0===m?void 0:m.thickness)>=1?e.extendedProperties.thickness:null}).each(function(e){e.update(d3.select(this))}),r.exit().each(function(e){var m=d3.select(this);e.cleanup(m),m.remove()})},d.renderOutlineHandles=function(l,i){for(var r=[],t=0,e=i;t<e.length;t++){var m=e[t];m.shouldRenderHandles()&&r.push(m)}var p=l.selectAll(d.OutlineShapeHandlesSelector.selector).data(r,function(L){return"".concat(L.id)});p.enter().append("g").classed(d.OutlineShapeHandlesSelector.class,!0).merge(p).each(function(L){L.renderHandles(d3.select(this),4)}),p.exit().remove()},d.prototype.setRenderOutlineDelay=function(l){this.clearRenderOutlineDelay(),this.outlineDelayTimer=setTimeout(l,100)},d.prototype.clearRenderOutlineDelay=function(){this.outlineDelayTimer&&(clearTimeout(this.outlineDelayTimer),this.outlineDelayTimer=void 0)},d.OutlineShapesSVGSelector=(0,s.CH)("outline-svg-shapes"),d.OutlineHandlesSVGSelector=(0,s.CH)("outline-svg-handles"),d.OutlineShapeSelector=(0,s.CH)("outline-shape"),d.OutlineShapeHandlesSelector=(0,s.CH)("outline-shape-handles"),d.OutlineHoverSelector=(0,s.CH)("outline-hover"),d.OutlineActiveSelector=(0,s.CH)("outline-active"),d}()},67064:function(be,q,y){y.d(q,{mR:function(){return V}});var s=!0;function V(){return s}},70249:function(be,q,y){y.d(q,{$s:function(){return C},Sh:function(){return B},Vi:function(){return x},_M:function(){return w},eR:function(){return g},oN:function(){return P},rI:function(){return o}});var s=y(79154),V=y(52287),B={node:"treemapNode",highlight:"treemapNodeHighlight",major:"majorLabel",minor:"minorLabel"},P="foregroundLight";function w(D,b){return D.depth>1&&!D.data.identity.hasIdentity()&&!b||E(D)?s.zu:D.data.color}function E(D){var b=D.children;if(!b)return!1;var c=b.length;if(0===c)return!1;for(var u=c-1;u>=0;u--)if(b[u].data.identity.hasIdentity())return!0;return!1}function g(D,b,c,u){return c?b&&u?D.data.selected?null:(0).toString():u?null:.4.toString():!b||D.data.selected||D.depth>1&&D.parent.data.selected||E(D)?null:.4.toString()}function o(D,b,c){return D.filter(function(u){return 1===u.depth}).classed(V.cy,!0).attr(V.Ez,"category").attr(V.QZ,3).style("pointer-events","bounding-box").each(function(u){var n=d3.select(this).node();V.O5.setDataForElement(n,{getDisplayName:function(){return b.getLocalizedString("MiniToolbar_Categories",c.majorLabelFullText(u))}})})}function C(D,b){return D.classed(V.cy,!0).attr(V.Ez,b).attr(V.QZ,1).attr(V.CK,"category-labels"===b?"Visual_CategoryLabels":"Visual_DataPointsLabels").style("pointer-events","bounding-box")}function x(D){return D.classed(V.cy,!1).attr(V.Ez,null).attr(V.QZ,null).attr(V.CK,null).style("pointer-events",null).each(function(){var b=d3.select(this).node();V.O5.setDataForElement(b,void 0)})}},92783:function(be,q,y){y.d(q,{$B:function(){return l},Kx:function(){return d},Qp:function(){return L},VP:function(){return F},Zb:function(){return ie},md:function(){return T},s4:function(){return i}});var s=y(81337),V=y(64067),B=y(79154),P=y(62458),w=y(38958),E=y(82755),g=y(76045),o=y(69871),C=y(47316),x=y(53197),D=y(90120),b=y(52287),c=y(2241),u=y(14599),a="displayName",f="lineColor",d="combineSeries",l="useHighlightValues",i="trend",r="foregroundDark";function t(j){return{strokeShow:!1,strokeColor:N(j),strokeTransparency:0,strokeWidth:2,strokePattern:C.Dv.dashed,strokeDashArray:C.YU,strokeDashCap:C.xm,strokeAutoScale:!1,combineSeries:!0,useHighlightValues:!0}}var e=(0,B.CH)("trend-line"),m=(0,B.CH)("interactivity-trend-line"),p=(0,B.CH)("trend-line-layer");function T(j,R,v){if(P.fF.assertValue(j,"enumeration"),_.isEmpty(R)){var h=t(v);j.pushInstance({selector:null,properties:(0,s.pi)((0,s.pi)({},(0,c.HM)(h,u.vi)),{combineSeries:h.combineSeries}),objectName:i})}else{var O=R[0];j.pushInstance({selector:null,properties:(0,s.pi)((0,s.pi)({displayName:O.displayName},(0,c.HM)(O,u.vi,O.combineSeries?O.strokeColor:void 0)),{combineSeries:O.combineSeries,useHighlightValues:O.useHighlightValues}),objectName:i})}}function L(j){return(0,w.c5)(j,"regression.X")}function F(j,R,v,h){return j&&j.matrix?function(v,h,O,H){return function(R,v,h,O){if(R&&R.matrix){var H=R.matrix,I=H.rows&&H.rows.root&&H.rows.root.children;if(!_.isEmpty(I)){for(var U=v.metadata.objects,G=A(R.metadata.objects,U,I[0].children[0].objects,h,O),ce=G.trendLineProperties,ue=G.colorHelper,ye=G.defaultColor,Ce=v.matrix&&v.matrix.rows&&v.matrix.rows.root.children,ge=[],Se=0;Se<I.length;Se++){for(var _e=[],Oe=0,Re=I[Se].children;Oe<Re.length;Oe++){var Ae=Re[Oe],Ie=(0,x.eT)(Ae.value),Be=(0,x.eT)(Ae.values[0].value);null!=Ie&&null!=Be&&_e.push({x:Ie,y:Be})}var $e=void 0;if(ce.combineSeries)$e=ce.strokeColor||N(O);else if(2===v.matrix.rows.levels.length){var Ge=Ce[Se],Ne=ue.getColorForSeriesValue(Ge.objects,Ge.childIdentityFields,Ge.value,r);$e=Ne=K(Ne)}else{var Qe=(0,E.W7)(U,{objectName:"dataPoint",propertyName:"defaultCategoryColor"});$e=K(D.v.create(O,{objectName:"dataPoint",propertyName:"fill"},ye||Qe).getColorForMeasure(null,"",r))}ge.push((0,s.pi)((0,s.pi)({},ce),{points:_e,strokeColor:$e,y2Axis:h}))}return ge}}}(v,h,O,H)}(j,R,v,h):function(v,h,O,H){return function(R,v,h,O){if(R&&R.categorical){var H=R.categorical;if(!_.isEmpty(H.categories)&&!_.isEmpty(H.values)){var I=H.categories[0].values,U=H.values.grouped();if(I&&U){for(var G=A(R.metadata.objects,v.metadata.objects,H.values[0].source.objects,h,O),ce=G.trendLineProperties,ue=G.colorHelper,ye=[],Ce=0;Ce<U.length;Ce++){for(var ge=U[Ce],Se=[],Le=0;Le<I.length;Le++){var _e=(0,x.eT)(I[Le]),Oe=ge.values[0],Ae=(0,x.eT)((ce.useHighlightValues&&Oe.highlights?Oe.highlights:Oe.values)[Le]);null!=_e&&null!=Ae&&Se.push({x:_e,y:Ae})}var Ie=void 0;if(ce.combineSeries)Ie=ce.strokeColor||N(O);else{var Be=void 0;if(v.categorical.values.source){var $e=v.categorical.values.grouped();Be=ue.getColorForSeriesValue($e[Ce].objects,v.categorical.values.identityFields,ge.name,r)}else Be=ue.getColorForMeasure(v.categorical.values[Ce].source.objects,ge.name,r);Ie=Be=K(Be)}ye.push((0,s.pi)((0,s.pi)({},ce),{points:Se,strokeColor:Ie,y2Axis:h}))}return ye}}}}(v,h,O,H)}(j,R,v,h)}function A(j,R,v,h,O){var H=(0,E.RK)(j,i,{}),I=D.v.create(O),U=t(O),G=(0,s.pi)((0,s.pi)({},(0,c.AF)(H,u.vi,U,I.getColorForPropertyName(H,f,r))),{displayName:(0,g.N)(H,a),combineSeries:(0,g.N)(H,d,U.combineSeries),useHighlightValues:(0,g.N)(H,l,U.useHighlightValues)}),ce=(0,E.NA)(v,o.zK.lineStyles.strokeColor);ce&&(G.strokeColor=ce.solid.color);var ue=(0,E.W7)(R,{objectName:"dataPoint",propertyName:"defaultColor"});return h||(ue=ue||(0,E.W7)(R,{objectName:"dataPoint",propertyName:"fill"})),{trendLineProperties:G,colorHelper:I=D.v.create(O,{objectName:"dataPoint",propertyName:"fill"},ue),defaultColor:ue}}function N(j){return D.v.getThemeColor(j,r)}function K(j){var R=(0,V.WV)(j);return R=(0,V._j)(R,20),(0,V.U8)(R)}function ie(j,R,v,h,O){var H=R.select(p.selector);H.empty()&&(H=R.append("svg").classed(p.class,!0)),H.attrs({height:h.height,width:h.width}),H.selectAll(e.selector).data(j||[]).join(function(I){return I.append("path").classed(e.class,!0)}).attr("d",function(I){var U=v.x.scale,G=I.y2Axis&&v.y2?v.y2.scale:v.y1.scale;return d3.line().x(function(ue){return U(ue.x)}).y(function(ue){return G(ue.y)})(_.filter(I.points,function(ue){return null!=ue.x&&null!=ue.y}))}).styles(function(I){return(0,c.bc)(I)}),O&&H.selectAll(m.selector).data(j||[]).join(function(I){return I.append("path").classed(m.class,!0).classed(b.cy,!0).attr(b.Ez,"lines").attr(b.CK,"Visual_Trend_Line").attr(b.QZ,3).style("stroke-dasharray","none")}).attr("d",function(I){var U=v.x.scale,G=I.y2Axis&&v.y2?v.y2.scale:v.y1.scale;return d3.line().x(function(ue){return U(ue.x)}).y(function(ue){return G(ue.y)})(_.filter(I.points,function(ue){return null!=ue.x&&null!=ue.y}))}).each(function(){var I=this;b.O5.setDataForElement(I,{getRegionOutlines:function(){var G=R.node(),ce=G.getBoundingClientRect(),ue=ce.left,ye=ce.top,Ce=G.getBBox(),ge=Ce.x,Se=Ce.y,Le=d3.select(I).datum(),_e=v.x.scale,Oe=Le.y2Axis&&v.y2?v.y2.scale:v.y1.scale,Re=10*h.scale;return[{id:"Visual_Trend_Line",outline:{type:0,outlines:Le.points.map(function(Be){return{x:(_e(Be.x)-ge)*h.scale+ue-Re/2,y:(Oe(Be.y)-Se)*h.scale+ye-Re/2,width:Re,height:Re,type:1}})}}]}})})}},7176:function(be,q,y){y.d(q,{PT:function(){return u},nC:function(){return c}});var s=y(81337),V=y(62458),B=y(82755),P=y(76045),w=y(47998),E=y(77558),g=y(47316),o=y(61193),C=y(53197),x=y(90120),D=y(21181),b={DefaultWidth:1,DefaultBarMatchSeriesColor:!1,DefaultTransparency:80,DefaultBandStyle:w.X$.fill,DefaultMarkerShape:o.ZO.longDash,DefaultMarkerSize:5,DefaultLabelBackgroundTransparency:90,DefaultLabelFormat:E.K.absolute,DefaultTooltipFormat:E.K.absolute,MarkerKeyBase:"uncertainty"};function c(f,S,M,d,l,i){var A,r=(0,s.pi)((0,s.pi)({},(0,B.RK)(i.staticObjects,"error")),(0,B.RK)(f,"error")),t=x.v.create(S),e=(0,P.N)(r,"barShow",!0),m=(0,P.N)(r,"barMatchSeriesColor",b.DefaultBarMatchSeriesColor),p=(0,P.N)(r,"barWidth",b.DefaultWidth),T=t.getColorForPropertyNameWithDefaultColor(r,"barBorderColor",S.colorPalette.background.value),L=(0,P.N)(r,"barBorderSize",b.DefaultWidth),F=M;m||(F=t.getColorForPropertyNameWithDefaultColor(r,"barColor",S.colorPalette.foregroundNeutralSecondary.value)),i.hideBand||(A={show:(0,P.N)(r,"shadeShow",!1),bandStyle:(0,P.N)(r,"shadeBandStyle",b.DefaultBandStyle),matchSeriesColor:(0,P.N)(r,"shadeMatchSeriesColor",!0),transparency:(0,P.N)(r,"shadeTransparency",b.DefaultTransparency),color:M}).matchSeriesColor||(A.color=t.getColorForPropertyNameWithDefaultColor(r,"shadeColor",S.colorPalette.foregroundNeutralSecondary.value));var N=(0,P.N)(r,"markerShape",e?b.DefaultMarkerShape:void 0),K=(0,P.N)(r,"markerShow",void 0);"none"===N&&(N=K?b.DefaultMarkerShape:void 0);var ie={color:e?F:A?.color,key:b.MarkerKeyBase+d,rotation:i.valueAxisHorizontal?90:0,show:!!N&&!1!==K&&(e||A?.show||K),shape:N??b.DefaultMarkerShape,showMarkerByDefault:(0,P.N)(r,"showMarkerByDefault",!0),size:(0,P.N)(r,"markerSize",b.DefaultMarkerSize),stroke:{strokeShow:!0,strokeColor:e?T:void 0,strokePattern:g.Dv.solid,strokeWidth:L,strokeTransparency:void 0},lineRadius:e?p/2:void 0},de={show:(0,P.N)(r,"labelShow"),fontFamily:(0,P.N)(r,"labelFontFamily"),fontSize:(0,P.N)(r,"labelFontSize"),bold:(0,P.N)(r,"labelBold"),italic:(0,P.N)(r,"labelItalic"),underline:(0,P.N)(r,"labelUnderline"),color:(0,P.N)(r,"labelColor"),enableBackground:(0,P.N)(r,"labelBackground"),backgroundColor:(0,P.N)(r,"labelBackgroundColor"),backgroundTransparency:(0,P.N)(r,"labelBackgroundTransparency",b.DefaultLabelBackgroundTransparency),labelDisplayUnits:void 0,labelPosition:void 0},fe=(0,P.N)(r,"labelMatchSeriesColor",!1);fe&&(de.color={solid:{color:M}}),(0,D.ww)(de,l,!1,S,i.isCombo);var j=(0,P.N)(r,"enabled",!1);return{hasUncertainty:j,bar:{show:e,borderColor:T,borderWidth:L,matchSeriesColor:m,color:F,width:p,isHorizontal:i.valueAxisHorizontal},markers:ie,tooltips:{format:(0,P.N)(r,"tooltipFormat",b.DefaultTooltipFormat),show:(0,P.N)(r,"tooltipShow",!0)},labels:(0,s.pi)((0,s.pi)({},l),{matchSeriesColor:fe,errorFormat:(0,P.N)(r,"labelFormat",b.DefaultLabelFormat)}),renderUncertainty:j&&(e||ie.show||A?.show),band:A,markersFlipped:(0,s.pi)((0,s.pi)({},ie),{key:"".concat(ie.key,"-flip"),rotation:i.valueAxisHorizontal?270:180})}}function u(f,S,M,d,l){return function(f,S){if(null!=f){if(f.explicit){var M=f.explicit;return a(M.lowerBound,M.upperBound,M.isRelative?S:0)}if(f.symmetricalExplicit){var d=f.symmetricalExplicit.delta;return a(Math.min(-d,d),Math.max(-d,d),S)}if(f.standardDeviation){var r=f.standardDeviation,t=r.value,e=r.multiplier;return V.fF.assert(function(){return null!=t&&!isNaN(t)&&t>=0},"convertUncertaintyDataPoint - stddev is undefined or negative"),a(-t*e,t*e,S)}if(f.percentage){var m=f.percentage,p=m.lowerBoundDelta,T=m.upperBoundDelta,L=Math.abs(S);return a(S-p*L,S+T*L)}if(f.percentile){var F=f.percentile;return a(F.lowerBound,F.upperBound)}V.fF.assertFail("convertUncertaintyDataPoint - unknown ErrorRange definition supplied; expected at least one property to be populated")}}(f.getErrorValues(S,M,l),d)}function a(f,S,M){var d=M??0,l={},i=(0,C.eT)(f);null!=i&&(l.lower=i+d);var r=(0,C.eT)(S);return null!=r&&(l.upper=r+d),l}},16122:function(be,q,y){y.d(q,{f:function(){return C}});var s=y(81337),V=y(62458),B=y(56578),P=y(14599),w=y(21181),E=y(57416),g=y(33024),o=y(61193);function C(x,D){var b=x.uncertainty,c=x.measureSelector,u=x.uncertaintyOptions,n=x.localize;D.addGroup("options",function(M){return M.withDisplayName("Desktop_FileMenu_Options").addSimpleSlice("errorRangeEnabled",new B.bd({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.enabled),{selector:c}),value:b.hasUncertainty}).build()).addSimpleSlice("errorRange",new B.LB({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.errorRange),{selector:x.dataPointSelector,instanceKind:2}),validators:{field:{kind:1,type:{numeric:!0}}},targetMeasure:x.targetMeasure,value:void 0}).build(),function(d){return d.withSuppressDisplayName(!0)})}).addGroup("bar",function(M){return M.withDisplayName("Visual_Bar").withDisabled(!b.hasUncertainty).addTopLevelToggle("barShow",function(){return new B.bd({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.barShow),{selector:c}),value:b.bar.show}).build()}).addSimpleSlice("barMatchSeriesColor",new B.bd({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.barMatchSeriesColor),{selector:c}),value:b.bar.matchSeriesColor}).build()).addSimpleSlice("barColor",new B.BT({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.barColor),{selector:c}),value:{value:b.bar.color}}).build(),function(d){return d.withDisabled(b.bar.matchSeriesColor)}).addSimpleSlice("barWidth",new B.mu({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.barWidth),{selector:c}),value:b.bar.width,options:{minValue:{type:0,value:1},maxValue:{type:1,value:10}}}).build()).addSimpleSlice("barBorderColor",new B.BT({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.barBorderColor),{selector:c}),value:{value:b.bar.borderColor}}).build()).addSimpleSlice("barBorderSize",new B.mu({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.barBorderSize),{selector:c}),value:b.bar.borderWidth,options:{minValue:{type:0,value:0},maxValue:{type:1,value:2},unitSymbol:g.e_}}).build())}).addGroup("markers",function(M){return M.withDisplayName("Visual_Markers").withDisabled(!b.hasUncertainty).addTopLevelToggle("markerShow",function(){return new B.bd({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.markerShow),{selector:c}),value:b.markers.show}).build()}).addSimpleSlice("markerShape",new B.uY({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.markerShape),{selector:c}),value:b.markers.shape,filterValues:o.Dt.map(function(d){return d.value})}).build()).addSimpleSlice("markerSize",new B.mu({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.markerSize),{selector:c}),value:b.markers.size,options:{minValue:{type:0,value:1},maxValue:{type:1,value:10},unitSymbol:g.e_}}).build())}),u?.hideBand||(V.fF.assertValue(b.band,"getUncertaintyFormattingContainer() - viewModel.band is not defined but is enumerated anyway"),D.addGroup("band",function(M){return M.withDisplayName("Visual_Error_Band").withDisabled(!b.hasUncertainty).addTopLevelToggle("shadeShow",function(){return new B.bd({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.shadeShow),{selector:c}),value:b.band.show}).build()}).addSimpleSlice("shadeBandStyle",new B.uY({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.shadeBandStyle),{selector:c}),value:b.band.bandStyle}).build()).addSimpleSlice("shadeMatchSeriesColor",new B.bd({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.shadeMatchSeriesColor),{selector:c}),value:b.band.matchSeriesColor}).build()).addSimpleSlice("shadeColor",new B.BT({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.shadeColor),{selector:c}),value:{value:b.band.color}}).build(),function(d){return d.withDisabled(b.band.matchSeriesColor)}).addSimpleSlice("shadeTransparency",B.JN.getTransparencySliderBuilder({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.shadeTransparency),{selector:c}),value:b.band.transparency,localize:n}).build())}));var f=b.labels,S={featureSwitches:{},hostServices:{getLocalizedString:n},options:{dataLabelsSettings:f,show:f.show,fontFamily:!0,fontSize:!0,bold:!0,italic:!0,underline:!0,matchSeriesColor:f.matchSeriesColor,enableBackground:f.enableBackground,backgroundColor:f.backgroundColor,backgroundTransparency:f.backgroundTransparency},omitGroupDisplayNames:!0,cardBuilder:void 0,selector:c,dataLabelsProps:{fontFamily:P.Qx.labelFontFamily,fontSize:P.Qx.labelFontSize,bold:P.Qx.labelBold,italic:P.Qx.labelItalic,underline:P.Qx.labelUnderline,matchSeriesColor:P.Qx.labelMatchSeriesColor,color:P.Qx.labelColor,enableBackground:P.Qx.labelBackground,backgroundColor:P.Qx.labelBackgroundColor,backgroundTransparency:P.Qx.labelBackgroundTransparency}};D.addGroup("labels",function(M){M.withDisplayName("Visual_Error_Labels").withDisabled(!b.hasUncertainty).addTopLevelToggle("labelShow",function(){return new B.bd({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.labelShow),{selector:c}),value:f.show}).build()}),(0,E.lJ)(M,S),M.addSimpleSlice("labelFormat",function(){return new B.uY({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.labelFormat),{selector:c}),value:f.errorFormat}).build()}),(0,w.td)(M,S,!0)}),D.addGroup("tooltip",function(M){return M.withDisplayName("Tooltip").withDisabled(!b.hasUncertainty).addTopLevelToggle("tooltipShow",function(){return new B.bd({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.tooltipShow),{selector:c}),value:b.tooltips.show}).build()}).addSimpleSlice("tooltipFormat",new B.uY({descriptor:(0,s.pi)((0,s.pi)({},P.Qx.tooltipFormat),{selector:c}),value:b.tooltips.format}).build())})}},58691:function(be,q,y){y.d(q,{B9:function(){return f},DI:function(){return p},E6:function(){return u},EC:function(){return l},FZ:function(){return M},OY:function(){return S},Ok:function(){return n},YU:function(){return c},di:function(){return d},f:function(){return r},fM:function(){return i},iD:function(){return e},jx:function(){return E},xl:function(){return t}});var s=y(47998),V=y(79154),B=y(34644),P=y(60066),w=y(62458),E=(0,V.CH)("uncertainty"),g=(0,V.CH)("uncertainty-areas"),o=(0,V.CH)("uncertainty-area"),C=(0,V.CH)("uncertainty-lines"),x=(0,V.CH)("uncertainty-line"),D=(0,V.CH)("uncertainty-bars"),b=(0,V.CH)("uncertainty-bar"),c=(0,V.CH)("uncertainty-markers"),u=(0,V.CH)("uncertainty-marker"),n=(0,V.CH)("uncertainty-defs"),a=(0,V.CH)("uncertainty-marker-active");function f(L){return L.selectAll(E.selector).data([1]).join("g").attr("class",E.class)}function S(L){L.selectAll(E.selector).remove()}function M(L,F,A,N,K,ie,de){void 0===ie&&(ie=!1),void 0===de&&(de=!1);var fe=_.filter(F,function(v){return v.uncertainty.bar.show}),j=function(h){return(0,P.eR)(h.selected,h.highlight,de,ie)},R=L.selectAll(D.selector).data(fe,function(v){return v.identity.getKey()}).join("g").attr("class",D.class).style("fill",function(v){return v.uncertainty.bar.color}).style("stroke",function(v){return v.uncertainty.bar.borderColor}).style("stroke-width",function(v){return v.uncertainty.bar.borderWidth}).order();return R.each(function(v){if(null!=v&&!_.isEmpty(v.data)){var h=_.filter(v.data,function(O){var H,I;return!!O&&(!ie||O.highlight)&&((null===(H=O.uncertainty)||void 0===H?void 0:H.lower)||(null===(I=O.uncertainty)||void 0===I?void 0:I.upper))});d3.select(this).selectAll(b.selector).data(h,function(O){return O.identity.getKey()}).join("path").attr("class",b.class).attr("transform",N).style("fill-opacity",function(O){return de?j(O):null}).style("stroke-opacity",function(O){return de?j(O):null}).attr("d",function(O){return d3.symbol().type(function(L,F,A){return{draw:function(K,ie){var de,fe;if(null!=L.uncertainty){var j=null!=L.uncertainty.upper,R=null!=L.uncertainty.lower;if(j||R){var v=A(L.uncertainty.upper)-A(L.value),h=A(L.uncertainty.lower)-A(L.value),O=.5*(F.width+F.borderWidth),H=!!F.isHorizontal,I=A.range()[0]<A.range()[1];(H&&!I||!H&&I)&&(h=(de=[v,h])[0],v=de[1],R=(fe=[j,R])[0],j=fe[1]),H?(j?(K.moveTo(v,O),K.lineTo(v,-O)):(K.moveTo(0,O),K.lineTo(0,-O)),R?(K.lineTo(h,-O),K.lineTo(h,O)):(K.lineTo(0,-O),K.lineTo(0,O))):(j?(K.moveTo(O,v),K.lineTo(-O,v)):(K.moveTo(O,0),K.lineTo(-O,0)),R?(K.lineTo(-O,h),K.lineTo(O,h)):(K.lineTo(-O,0),K.lineTo(O,0))),K.closePath()}}}}}(O,v.uncertainty.bar,A(O))).size(K)()})}}),R}function d(L,F,A,N,K,ie,de,fe){void 0===de&&(de=!1),void 0===fe&&(fe=!1);var j=_.filter(F,function(h){return h.uncertainty.markers.show}),R=L.selectAll(c.selector).data(j,function(h){return h.identity.getKey()}).join("g").attr("class",c.class).style("stroke-opacity",0).style("stroke-width",2).order();return m(R.selectAll(u.selector).data(function(h){return _.map(["upper","lower"],function(O){return{seriesData:h,type:O}})}).join("path").attr("class",u.class).style("stroke-width","inherit").style("opacity",de?(0,P.eR)(!1,!0,de,fe):null).attr("d",function(h){return"upper"===h.type&&!K||"lower"===h.type&&K?A(h.seriesData.data):N(h.seriesData.data)}),ie),R}function l(L,F,A,N,K,ie){var de=_.filter(F,function(fe){return fe.uncertainty.band.show});L.selectAll(g.selector).data(de,function(fe){return fe.identity.getKey()}).join("g").attr("class",g.class).order().each(function(fe){if(null!=fe&&!_.isEmpty(fe.data)){var j=fe.uncertainty.band,R=d3.select(this),v=_.filter(fe.data,function(I){return!!I}),h=j.bandStyle!==s.X$.line?["0"]:[];R.selectAll(o.selector).data(h,function(I){return I}).join("path").attr("class",o.class).style("fill",j.color).style("fill-opacity",ie(fe,j.transparency)).attr("d",K(v));var O=j.bandStyle!==s.X$.fill?["0"]:[];R.selectAll(C.selector).data(O,function(I){return I}).join("g").attr("class",C.class).style("stroke",j.color).style("stroke-opacity",ie(fe,j.transparency)).style("stroke-width",2).selectAll(x.selector).data(["upper","lower"],function(I){return I}).join("path").attr("class",x.class).attr("d",function(I){return"upper"===I?A(v):N(v)})}})}function i(L,F){L.selectAll(g.selector).each(function(A){var N=A.uncertainty.band.transparency,K=d3.select(this);K.selectAll(o.selector).style("fill-opacity",F(A,N)),K.selectAll(C.selector).style("stroke-opacity",F(A,N))}),L.selectAll(D.selector).style("fill-opacity",function(A){return F(A)}).style("stroke-opacity",function(A){return F(A)}),L.selectAll(u.selector).style("opacity",function(A){return F(A.seriesData)})}function r(L,F,A){var N,K,ie;L&&(null===(N=L.bars)||void 0===N||N.each(function(){d3.select(this).selectAll(b.selector).style("fill-opacity",function(de){return F?(0,P.eR)(de.selected,de.highlight,F,A):null}).style("stroke-opacity",function(de){return F?(0,P.eR)(de.selected,de.highlight,F,A):null})}),null===(K=L.markerPaths)||void 0===K||K.style("opacity",F?(0,P.eR)(!1,!0,F,A):null),null===(ie=L.updateActiveHighlightMarkers)||void 0===ie||ie.call(L,F,A))}function t(L,F,A,N,K,ie,de){ie?m(L.selectAll(a.selector).data(function(j){return _.map(["upper","lower"],function(R){return{seriesData:{uncertainty:j.uncertainty,identity:j.identity,data:_.filter(j.data,function(v){return v.selected&&v.uncertainty&&(v.highlight||!de)})},type:R}})}).join("path").attr("class",a.class).style("stroke-width","inherit").attr("d",function(j){return"upper"===j.type&&!N||"lower"===j.type&&N?F(j.seriesData.data):A(j.seriesData.data)}),K):L.selectAll(a.selector).remove()}function e(L,F){for(var A=0,N=L;A<N.length;A++){var K=N[A];F.push(K.uncertainty.markers),K.uncertainty.markersFlipped&&F.push(K.uncertainty.markersFlipped)}}function m(L,F){function A(N){var K=N.seriesData.uncertainty.markers;switch(N.type){case"upper":return F.getMarkerKey(K);case"lower":return F.getMarkerKey(N.seriesData.uncertainty.markersFlipped||K);default:w.fF.assertNever(N.type)}}L.attr("marker-start",A).attr("marker-mid",A).attr("marker-end",A)}function p(L){(0,B.LL)(L,[g,D,c])}},44196:function(be,q,y){y.d(q,{$w:function(){return w},O2:function(){return o},Ww:function(){return g},kS:function(){return E}});var s=y(62458),V=y(72489),B=y(77558),P=y(61193);function w(C,x,D,b,c,u){if(null!=x&&null!=C&&null!=c&&D.tooltips.show){var n=null!=C.lower,a=null!=C.upper,f=E(C,x,D,b,c,u);s.fF.assert(function(){return D.tooltips.format===B.K.range?1===f.length:n&&a?2===f.length:n||a?1===f.length:0===f.length},"setUncertaintyTooltipItems - wrong number of tooltip items added"),D.tooltips.format===B.K.range?C.rangeTooltip=f.shift():(n&&(C.lowerTooltip=f.shift()),a&&(C.upperTooltip=f.shift()))}}function E(C,x,D,b,c,u){if(void 0===u&&(u={}),null!=x&&null!=C&&null!=c&&D.tooltips.show){var n=D.tooltips.format,a=g(x,C,n),f=a.lower,S=a.upper,M=u.hideMarker,d=u.overrideDisplayName,l=function(p){return n===B.K.relativePercentage?o(p,c):b(p)},i=[];switch(n){case B.K.range:var r=l(x),t=null!=f?l(f):"",e=null!=S?l(S):"";i.push({displayName:d||c.getLocalizedString("Value"),value:c.getLocalizedString("Visual_Error_Tooltip_Range",r,t,e)});break;case B.K.absolute:case B.K.relativeNumeric:case B.K.relativePercentage:null!=f&&i.push({displayName:d||c.getLocalizedString("Visual_Error_Tooltip_Lower"),value:l(f),marker:M?void 0:{show:!0,shape:P.ZO.lowerErrorBar,color:D.bar.color}}),null!=S&&i.push({displayName:d||c.getLocalizedString("Visual_Error_Tooltip_Upper"),value:l(S),marker:M?void 0:{show:!0,shape:P.ZO.upperErrorBar,color:D.bar.color}});break;default:s.fF.assertNever(n)}return i}}function g(C,x,D){var b=x.lower,c=x.upper;switch(D){case B.K.relativeNumeric:null!=b&&(b-=C),null!=c&&(c-=C);break;case B.K.relativePercentage:null!=b&&(b=(b-C)/C),null!=c&&(c=(c-C)/C);break;case B.K.absolute:case B.K.range:break;default:s.fF.assertNever(D)}return{lower:b,upper:c}}function o(C,x){return C===-1/0||C===1/0?x.getLocalizedString("ManageDatasets_NextRefresh_NA"):(0,V.WU)(C,x.getLocalizedString("Percentage"))}},30053:function(be,q,y){y.d(q,{a:function(){return B}});var s=y(39681),V=y(82755),B=function(){function P(){}return P.getResponsiveVisualProperties=function(w,E){var g={responsive:!1,responsiveLegacy:!1};if(!w||!w.metadata)return g;var o=w.metadata.objects;return o&&(g.responsive=(0,V.NA)(o,E.general.responsive,g.responsive),E.general.responsiveLegacy&&(g.responsiveLegacy=(0,V.NA)(o,E.general.responsiveLegacy,g.responsiveLegacy))),g},P.cloneData=function(w){var E=_.cloneDeep(w);return(0,s.Zx)(w,E),E},P.shouldApplyResponsiveChanges=function(w,E){return P.getResponsiveVisualProperties(w,E).responsive},P}()},70450:function(be,q,y){y.d(q,{x:function(){return E}});var s=y(79154),V=y(62458),B=y(10389),P=function(g){return g[g.None=0]="None",g[g.DraggingThumb=1]="DraggingThumb",g[g.BackgroundClicked=2]="BackgroundClicked",g[g.InitialPagingDelay=3]="InitialPagingDelay",g[g.Paging=4]="Paging",g}({}),w=function(g){return g[g.none=0]="none",g[g.active=1]="active",g}({}),E=function(){function g(o){this.brushType=w.none,this.scrollingMode=P.None,this.brushWidth=o.scrollbarWidth,this.brushContextAdditionalClass=o.scrollbarClass,this.onExtentUpdate=o.onExtentUpdate,this.updateBrushRadius(o.scrollbarRadius)}return g.prototype.updateBrushRadius=function(o){V.fF.assertAnyValue(o,"radius can be null"),this.brushRadius=o??g.defaultBrushRadius},g.prototype.updateScrollbarOptions=function(o){this.brushWidth=o.scrollbarWidth,this.updateBrushRadius(o.scrollbarRadius);var C=o.scrollbarClass,x=this.brushContextAdditionalClass;this.brushContextAdditionalClass=C,this.brushGraphicsContext&&x!==C&&this.brushGraphicsContext.classed(x,!1).classed(C,!!C)},g.prototype.init=function(o){this.element=o},g.prototype.remove=function(){this.isInitialized=!1,this.element.selectAll(g.Brush.selector).remove(),this.brush&&(this.brush.on(g.events.start,null).on(g.events.brush,null).on(g.events.end,null),this.brush=void 0,this.brushType=w.none),this.brushGraphicsContext=void 0,this.clearRenderingTimeout()},g.prototype.getExtent=function(){return this.extent?{start:this.extent[0],end:this.extent[1]}:{start:0,end:0}},g.prototype.setExtent=function(o){var x,D,b,C=this;if(V.fF.assert(function(){return null!=o.start||null!=o.end},"At least the start or end value for the extent must be given."),null==o.start||null==o.end?(b=this.getExtentLength(),null==o.start?o.start=o.end-b:o.end=o.start+b):b=o.end-o.start,b>this.scrollBarLength)V.fF.assert(function(){return C.scrollBarLength>=b},"extentLength should not be greater than scrollBarLength.");else{var c=this.getExtent().start;o=g.clampExtent(o,this.scrollBarLength,b),this.scrollingMode!==P.None&&(this.offset=o.start-c,this.previousBrushExtent=o),this.extent=[o.start,o.end],this.brushType===w.active&&null!==(D=null===(x=this.brushGraphicsContext)||void 0===x?void 0:x.node().__brush)&&void 0!==D&&D.selection&&(this.brushGraphicsContext.node().__brush.selection=this.isHorizontal?[[o.start,0],[o.end,this.brushWidth]]:[[0,o.start],[this.brushWidth,o.end]])}},g.prototype.getExtentLength=function(){var o=this.getExtent();return o.end-o.start},g.prototype.setExtentLength=function(o){V.fF.assert(function(){return o>=0},"extentLength must be 0 or greater");var C=this.getExtent();C.end=C.start+o,this.setExtent(C)},g.prototype.setScale=function(o,C){if(this.brushType=C?w.none:w.active,this.brushType===w.active){var x=o.range();this.isHorizontal?(this.brush=d3.brushX(),this.brush.extent([[x[0],0],[x[1],this.brushWidth]])):(this.brush=d3.brushY(),this.brush.extent([[0,x[0]],[this.brushWidth,x[1]]]))}},g.prototype.setOrientation=function(o){this.isHorizontal=o},g.prototype.render=function(o,C,x,D,b){var c=this;this.brushGraphicsContext||(this.brushGraphicsContext=this.element.append("g").classed(g.Brush.class,!0).classed(this.brushContextAdditionalClass,!!this.brushContextAdditionalClass)),this.onRefreshVisualCallback=x;var u=this.brushGraphicsContext.attrs({transform:(0,B.Iu)(o,C),"drag-resize-disabled":"true"});this.brushType!==w.none&&(u=u.call(this.brush)),this.brushType===w.active&&!this.isInitialized&&(this.isInitialized=!0,this.brushGraphicsContext.call(this.brush.move,this.extent)),this.brushType!==w.none&&this.brush.on("start",function(){c.previousBrushExtent=c.getExtent(),c.extent=d3.event.selection,c.handleDrag()}).on("brush",function(){c.extent=d3.event.selection,D&&b?.onVisualScroll(),c.handleDrag()}).on("end",function(){c.setExtent(c.previousBrushExtent),c.refreshExtent(),c.previousBrushExtent=null,c.startBrushExtent=null,c.pointerPosition=null,c.scrollingMode=P.None,c.offset=null,null!=c.timeoutId&&(window.clearTimeout(c.timeoutId),c.timeoutId=null)}),u.selectAll(".handle").remove();var n={rx:this.brushRadius,ry:this.brushRadius};this.isHorizontal?n.height=this.brushWidth:n.width=this.brushWidth,u.selectAll("rect").attrs(n)},g.prototype.handleDrag=function(){var o=this.previousBrushExtent?this.previousBrushExtent.end-this.previousBrushExtent.start:0,C=this.getExtent(),x=!1;this.scrollingMode===P.None&&(C.start<0&&0===C.end?C.start=0:C.start===this.scrollBarLength&&C.end>this.scrollBarLength&&(C.end=this.scrollBarLength),this.scrollingMode=g.isBackgroundClickExtent(C)?P.BackgroundClicked:P.DraggingThumb,this.startBrushExtent=C),null!=this.offset&&(C.start+=this.offset,C.end+=this.offset);var D=this.getExtentLength();switch(C=g.clampExtent(C,this.scrollBarLength,D),this.pointerPosition=this.getPointerPosition(),this.scrollingMode){case P.DraggingThumb:o>0&&o!==C.end-C.start&&(C.end=C.start+o),x=!0;break;case P.BackgroundClicked:if(g.CenterOnBackgroundClick){var c=D/2;C.start=this.pointerPosition-c,C.end=this.pointerPosition+c}else{var b=C.start>this.previousBrushExtent.start;C=g.stepExtent(this.previousBrushExtent,b),this.scrollingMode=P.InitialPagingDelay,this.setStepTimeout(b,C)}x=!0;break;case P.InitialPagingDelay:case P.Paging:C=this.previousBrushExtent}this.onExtentUpdate?this.onExtentUpdate(C):(x&&this.refreshVisual(),this.setExtent(C),this.refreshExtent(),this.previousBrushExtent=C)},g.prototype.shouldContinueStepping=function(o,C){return 0!==C.start&&C.end!==o&&!(this.pointerPosition>=C.start&&this.pointerPosition<=C.end)},g.prototype.getPointerPosition=function(){var o=this.getExtent();return g.isBackgroundClickExtent(this.startBrushExtent)?o.start<this.startBrushExtent.start?o.start:o.end:(o.end-o.start)/2},g.prototype.refreshExtent=function(){var o=this.getExtent(),C=this.getExtentLength();this.brushGraphicsContext.select(".selection").attrs(this.isHorizontal?{width:C,x:o.start}:{height:C,y:o.start})},g.prototype.refreshVisual=function(){var o=this;this.onRefreshVisualCallback&&(this.clearRenderingTimeout(),this.renderTimeoutHandle=window.requestAnimationFrame(function(){o.renderTimeoutHandle=void 0,o.onRefreshVisualCallback()}))},g.prototype.clearRenderingTimeout=function(){this.renderTimeoutHandle&&(window.cancelAnimationFrame(this.renderTimeoutHandle),this.renderTimeoutHandle=void 0),null!=this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)},g.prototype.refreshExtentAndVisual=function(){this.refreshExtent(),this.refreshVisual()},g.prototype.setStepTimeout=function(o,C){var x=this;this.shouldContinueStepping(this.scrollBarLength,C)&&(this.timeoutId=_.delay(function(){x.onPagingTimeoutExpired(o)},this.scrollingMode===P.InitialPagingDelay?g.InitialPagingDelayMS:g.PagingDelayMS))},g.isBackgroundClickExtent=function(o){return o.start===o.end},g.stepExtent=function(o,C){var x=o.end-o.start;return o.start=C?o.start+x:o.start-x,o.end=C?o.end+x:o.end-x,o},g.prototype.onPagingTimeoutExpired=function(o){this.scrollingMode!==P.Paging&&(this.scrollingMode=P.Paging);var C=this.getExtent(),x=g.stepExtent(C,o);this.setExtent(x),this.refreshExtentAndVisual(),this.previousBrushExtent=C,this.setStepTimeout(o,x)},g.clampExtent=function(o,C,x){return V.fF.assert(function(){return C>=x},"extentLength should not be greater than scrollBarLength"),o.end>C?{start:C-x,end:C}:o.start<0?{start:0,end:x}:o},g.InitialPagingDelayMS=500,g.PagingDelayMS=50,g.defaultBrushRadius=0,g.CenterOnBackgroundClick=!1,g.events={start:"start",brush:"brush",end:"end"},g.Brush=(0,s.CH)("brush"),g}()},68983:function(be,q,y){y.d(q,{S:function(){return o}});var s=y(38308),V=y(62458),B=y(45875),g=function(){function C(x){this.$select=x}return C.prototype.execute=function(x){if(this.$select.selectmenu("instance"))return this.$select.selectmenu(x)},C}(),o=function(){function C(x){this.isOpened=!1,V.fF.assertValue(x.container,"container"),this.settings=x,this.init(),this.applyStyles(),this.setValue(this.settings.selectedValue)}return C.prototype.destroy=function(){this.selectMenu.execute("destroy")},C.prototype.update=function(x){_.extend(this.settings,x),C.populateOptions(this.$select,this.settings.options),null!=this.settings.selectedValue&&this.setValue(this.settings.selectedValue),this.refresh(),this.applyStyles(),this.applyState()},C.prototype.disableOption=function(x){for(var D=this.$select.find("option"),b=0;b<D.length;b++){var c=D[b];c.getAttribute("value")===x&&c.setAttribute("disabled","true")}this.refresh()},C.prototype.enableOption=function(x){for(var D=this.$select.find("option"),b=0;b<D.length;b++){var c=D[b];c.getAttribute("value")===x&&c.setAttribute("disabled","false")}this.refresh()},C.prototype.close=function(){this.selectMenu.execute("close")},C.prototype.setValue=function(x){this.$select.val(x)},C.prototype.init=function(){var D,b,x=this;this.$select=(0,s.Ys)(),this.$select.attr("drag-resize-disabled","true").appendTo(this.settings.container),C.populateOptions(this.$select,this.settings.options),this.$select.selectmenu({open:function(){x.isOpened=!0,B.Ck.fixWidgetPosition(x.menuWidget,x.widget,{left:-0,top:0},!0)},select:function(u){u.stopPropagation()},width:"auto",close:function(u){x.isOpened=!1,27===u.keyCode&&(u.stopPropagation(),u.preventDefault())}}),this.selectMenu=new g(this.$select),this.settings.onChange&&this.$select.on("selectmenuchange",function(c,u){x.settings.onChange(u.item.value)}),this.applyState(),this.widget=this.selectMenu.execute("widget"),this.settings.title&&this.widget.attr("aria-label",this.settings.title),this.widget.attr("role","combobox").removeAttr("aria-autocomplete"),this.widget.on("keydown",function(c){(40===c.keyCode||38===c.keyCode||37===c.keyCode||39===c.keyCode)&&(x.isOpened||x.selectMenu.execute("open"),c.stopPropagation()),c.preventDefault()}),this.menuWidget=null===(D=this.selectMenu.execute("menuWidget"))||void 0===D?void 0:D.parent(),null===(b=this.menuWidget)||void 0===b||b.addClass(this.settings.className+" themeableElement highContrastBorder")},C.prototype.applyState=function(){this.selectMenu.execute(this.settings.disabled?"disable":"enable")},C.prototype.applyStyles=function(){this.settings.css&&this.widget.css(this.settings.css)},C.prototype.refresh=function(){this.selectMenu.execute("refresh"),this.updateAria()},C.prototype.updateAria=function(){var x=this;setTimeout(function(){if(x.settings.title)x.widget.removeAttr("aria-labelledby");else{var D=x.widget.attr("id"),b=x.widget.attr("aria-labelledby").replace(D,"").trim();x.widget.attr("aria-labelledby",b+" "+D)}var c=x.widget.attr("aria-owns");null!=c&&(x.widget.attr("aria-controls",c),x.widget.removeAttr("aria-owns")),x.widget.attr("aria-haspopup")&&x.widget.attr("aria-haspopup","listbox"),x.widget.removeAttr("title"),x.widget.find(".ui-selectmenu-icon").attr("aria-hidden","true"),x.updateMenuItemAria()})},C.prototype.updateMenuItemAria=function(){var x=this;this.menuWidget.find(".ui-menu-item").each(function(b,c){var u=$(c);u.attr("role","none");var n=u.find(".ui-menu-item-wrapper");u.hasClass("ui-state-disabled")&&(n.attr("aria-disabled","true"),u.removeAttr("aria-disabled"));var a=x.menuWidget.find(".ui-menu").attr("aria-activedescendant");n.attr("aria-selected",function(){return n.attr("id")===a?"true":"false"})})},C.populateOptions=function(x,D){x.find("option").remove();for(var b=0,c=D;b<c.length;b++){var u=c[b];$("<option ></option>").attr("value",u.value).text(u.text).appendTo(x)}},C}()},72494:function(be,q,y){y.d(q,{Q:function(){return C}});var s=y(62458),V=y(56707),B=y(63972),P=y(86745),C=function(){function D(){}return D.prototype.layout=function(b,c,u,n){var a=_.map(b,function(N){return{labelDataPoint:N}});if(n||void 0===this.labels){for(var f={labelDataPoints:a,maxNumberOfLabels:a.length},S=0,M=a;S<M.length;S++){var d=M[S];d.labelSize={width:(l=d.labelDataPoint).textSize.width+2*V.Bo,height:l.textSize.height+2*V.d1}}for(var i=new B.qC([f],c),r=[],t=[],e=0,m=b;e<m.length;e++){var p=(l=m[e]).parentShape.polygon;t.push(p),p.pixelBoundingRect=u.applyToRect(p.absoluteBoundingRect())}for(var T=new x(t,c),L=0,F=b;L<F.length;L++){var l,A=this.getLabelByPolygonPositions(l=F[L],u,i,T);null!=A&&r.push(A)}this.labels=r}else this.updateLabelOffsets(u);return _.filter(this.labels,function(N){return N.isVisible})},D.prototype.getLabelPolygon=function(b,c,u,n){return this.getLabelBoundingBox({width:b.textSize.width,height:b.textSize.height},c,u,n)},D.prototype.getLabelBoundingBox=function(b,c,u,n){switch(c){case 1:return(0,P.aE)(b,u,n);case 2:return(0,P.B2)(b,u,n);case 4:return(0,P.t$)(b,u,n);case 8:return(0,P.F2)(b,u,n);case 128:return(0,P.Q$)(b,u,n);case 64:return(0,P.kx)(b,u,n);case 32:return(0,P.I6)(b,u,n);case 16:return(0,P.W7)(b,u,n);case 256:return(0,P.be)(b,u);default:s.fF.assertFail("Unsupported label position")}return null},D.prototype.getLabelByPolygonPositions=function(b,c,u,n){for(var a=0,f=c.getInverse(),S=0;S<2;S++){1===S&&(a=5);for(var M=0,d=b.parentShape.validPositions;M<d.length;M++){var i=this.tryPositionForPolygonPosition(l=d[M],b,c,a,f);if((256!==l||0===S)&&i){var r=c.applyToRect(i);return{text:b.text,secondRowText:b.secondRowText,boundingBox:r,isVisible:!0,fontProperties:{color:b.insideFill},identity:null,selected:!1,hasBackground:!0,textAnchor:"middle",originalPixelOffset:a,isPlacedInsidePolygon:!0,absoluteBoundingBoxCenter:{x:i.left+i.width/2,y:i.top+i.height/2}}}}}for(var e=6;e<=60;){for(var m=0,p=b.parentShape.validPositions;m<p.length;m++){var l;if(256!==(l=p[m])){var T=b.parentShape.polygon,L=c.applyToPoint(T.absoluteCentroid()),F=this.tryPlaceLabelOutsidePolygon(u,l,b,e,L,n,f);if(F){r=c.applyToRect(F);var t={text:b.text,secondRowText:b.secondRowText,boundingBox:r,isVisible:!0,fontProperties:{color:b.insideFill},identity:null,selected:!1,hasBackground:!0,isPlacedInsidePolygon:!1,textAnchor:"middle",originalPixelOffset:e,originalPosition:l,originalAbsoluteCentroid:T.absoluteCentroid(),absoluteBoundingBoxCenter:{x:F.left+F.width/2,y:F.top+F.height/2}},A=this.calculateStemSource(c,f,T,r,l,L);return t.leaderLinePoints=this.setLeaderLinePoints(A,this.calculateStemDestination(r,l)),t.absoluteStemSource=f.applyToPoint(A),u.add(r),t}}}e+=10}return null},D.prototype.setLeaderLinePoints=function(b,c){return[[b.x,b.y],[c.x,c.y]]},D.prototype.calculateStemSource=function(b,c,u,n,a,f){var S=u.lineIntersectionPoint(u.absoluteCentroid(),c.applyToPoint({x:n.left+n.width/2,y:n.top+n.height/2}));if(null==S)return f;var M=b.applyToPoint(S);switch(a){case 1:M.y+=5;break;case 2:M.y-=5;break;case 4:M.x+=5;break;case 8:M.x-=5;break;case 128:M.x+=5/P.nK,M.y+=5/P.fB;break;case 64:M.x-=5/P.nK,M.y+=5/P.fB;break;case 32:M.x+=5/P.nK,M.y-=5/P.fB;break;case 16:M.x-=5/P.nK,M.y-=5/P.fB;break;case 256:break;default:s.fF.assertFail("Unsupported label position")}return M},D.prototype.calculateStemDestination=function(b,c){var u,n;switch(c){case 1:u=b.left+b.width/2,n=b.top+b.height;break;case 2:u=b.left+b.width/2,n=b.top;break;case 4:u=b.left+b.width,n=b.top+b.height/2;break;case 8:u=b.left,n=b.top+b.height/2;break;case 128:u=b.left+b.width,n=b.top+b.height;break;case 64:u=b.left,n=b.top+b.height;break;case 32:u=b.left+b.width,n=b.top;break;case 16:u=b.left,n=b.top;break;case 256:break;default:s.fF.assertFail("Unsupported label position")}return{x:u,y:n}},D.prototype.tryPositionForPolygonPosition=function(b,c,u,n,a){var f=c.parentShape.polygon,S=u.applyToPoint(f.absoluteCentroid()),M=this.getLabelPolygon(c,b,S,n),d=this.getAbsoluteRectangle(a,M);return f.contains(d)?d:null},D.prototype.tryPlaceLabelOutsidePolygon=function(b,c,u,n,a,f,S){var d=this.getLabelPolygon(u,c,a,n);if(!b.hasConflict(d)){var i=this.getAbsoluteRectangle(S,d);if(!f.hasConflict(i,d))return i}return null},D.prototype.updateLabelOffsets=function(b){for(var c=0,u=this.labels;c<u.length;c++){var n=u[c];if(n.isVisible)if(n.isPlacedInsidePolygon){var a=b.applyToPoint(n.absoluteBoundingBoxCenter),f=n.boundingBox.left+n.boundingBox.width/2-a.x;n.boundingBox.top-=n.boundingBox.top+n.boundingBox.height/2-a.y,n.boundingBox.left-=f}else{var M=b.applyToPoint(n.absoluteStemSource),d=b.applyToPoint(n.originalAbsoluteCentroid);n.boundingBox=this.getLabelBoundingBox({width:n.boundingBox.width,height:n.boundingBox.height},n.originalPosition,d,n.originalPixelOffset),void 0!==n.leaderLinePoints&&(n.leaderLinePoints=this.setLeaderLinePoints(M,this.calculateStemDestination(n.boundingBox,n.originalPosition)))}}},D.prototype.getAbsoluteRectangle=function(b,c){return b.applyToRect(c)},D}(),x=function(){function D(b,c){for(var u=0,n=0,a=0,f=b;a<f.length;a++){var M=f[a].pixelBoundingRect;M.width>u&&(u=M.width),M.height>n&&(n=M.height)}0===u&&(u=c.width),0===n&&(n=c.height);var d=this.cellSize={width:u*D.cellSizeMultiplier,height:n*D.cellSizeMultiplier};this.columnCount=D.getCellCount(d.width,c.width,1,100),this.rowCount=D.getCellCount(d.height,c.height,1,100);for(var l=[],i=0,r=this.columnCount;i<r;i++){l[i]=[];for(var t=0,e=this.rowCount;t<e;t++)l[i][t]=[]}this.grid=l;for(var m=0,p=b;m<p.length;m++)this.add(p[m])}return D.prototype.hasConflict=function(b,c){for(var u=this.getContainingGridSubsection(c),n=this.grid,a=u.xMin;a<u.xMax;a++)for(var f=u.yMin;f<u.yMax;f++)for(var S=0,M=n[a][f];S<M.length;S++)if(M[S].conflicts(b))return!0;return!1},D.prototype.add=function(b){for(var c=this.getContainingGridSubsection(b.pixelBoundingRect),u=c.xMin;u<c.xMax;u++)for(var n=c.yMin;n<c.yMax;n++)this.grid[u][n].push(b)},D.prototype.getContainingGridSubsection=function(b){return{xMin:D.bound(Math.floor(b.left/this.cellSize.width),0,this.columnCount),xMax:D.bound(Math.ceil((b.left+b.width)/this.cellSize.width),0,this.columnCount),yMin:D.bound(Math.floor(b.top/this.cellSize.height),0,this.rowCount),yMax:D.bound(Math.ceil((b.top+b.height)/this.cellSize.height),0,this.rowCount)}},D.getCellCount=function(b,c,u,n){return D.bound(Math.ceil(c/b),u,n)},D.bound=function(b,c,u){return Math.max(Math.min(b,u),c)},D.cellSizeMultiplier=2,D}()},43906:function(be,q,y){y.d(q,{F:function(){return V},S:function(){return B}});var s=y(54522);function V(P){return function(w,E,g){return(0,s.xq)(w,E,P,!0,g)}}function B(P){return function(w,E,g){return(0,s.xq)(w,E,P,!1,g)}}},63972:function(be,q,y){y.d(q,{qC:function(){return a},nu:function(){return f}});var s=y(81337),V=y(62458),B=y(41640),P=y(80758),w=y(56707),E=y(18664),g=y(20624),o=y(86745);function C(t,e,m){var T=t.labelDataPoint.parentShape;if(null!=T)switch(e){case 1:case 32:switch(T.orientation){case 1:case 2:return(0,o.Vq)(t.labelSize,T.rect,m);case 3:case 4:return(0,o.um)(t.labelSize,T.rect,m)}case 2:case 64:switch(T.orientation){case 1:return(0,o.jb)(t.labelSize,T.rect,m);case 2:return(0,o.ug)(t.labelSize,T.rect,m);case 3:return(0,o.e6)(t.labelSize,T.rect,m);case 4:return(0,o.QS)(t.labelSize,T.rect,m)}case 4:case 128:switch(T.orientation){case 1:return(0,o.ug)(t.labelSize,T.rect,m);case 2:return(0,o.jb)(t.labelSize,T.rect,m);case 3:return(0,o.QS)(t.labelSize,T.rect,m);case 4:return(0,o.e6)(t.labelSize,T.rect,m)}case 8:switch(T.orientation){case 1:return(0,o.O5)(t.labelSize,T.rect,m);case 2:return(0,o.ZN)(t.labelSize,T.rect,m);case 3:return(0,o._f)(t.labelSize,T.rect,m);case 4:return(0,o.cx)(t.labelSize,T.rect,m)}case 16:switch(T.orientation){case 1:return(0,o.ZN)(t.labelSize,T.rect,m);case 2:return(0,o.O5)(t.labelSize,T.rect,m);case 3:return(0,o.cx)(t.labelSize,T.rect,m);case 4:return(0,o._f)(t.labelSize,T.rect,m)}default:V.fF.assertFail("Unsupported label position")}return null}var D=y(54086),b=y(46769),c=y(19744),u=y(45028),n=y(63892),a=function(){function t(e,m){this.viewport=m;for(var p=0,T=0,L=0,F=e;L<F.length;L++)for(var N=0,K=F[L].labelDataPoints;N<K.length;N++){var de=K[N].labelSize;de.width>p&&(p=de.width),de.height>T&&(T=de.height)}0===p&&(p=m.width),0===T&&(T=m.height);var fe=this.cellSize={width:p*t.cellSizeMultiplier,height:T*t.cellSizeMultiplier};this.columnCount=t.getCellCount(fe.width,m.width,1,100),this.rowCount=t.getCellCount(fe.height,m.height,1,100);for(var j=[],R=0,v=this.columnCount;R<v;R++){j[R]=[];for(var h=0,O=this.rowCount;h<O;h++)j[R][h]=[]}this.grid=j}return t.prototype.add=function(e){var m=this;V.fF.assert(function(){return(0,B.bA)(e.left,0)&&(0,B.bl)(e.left+e.width,m.viewport.width)&&(0,B.bA)(e.top,0)&&(0,B.bl)(e.top+e.height,m.viewport.height)},"LabelArrangeGrid.add received a rectangle outside the grid");for(var p=this.getContainingGridSubsection(e),T=p.xMin;T<p.xMax;T++)for(var L=p.yMin;L<p.yMax;L++)this.grid[T][L].push(e)},t.prototype.addCheckSeries=function(e){for(var m=this.getContainingGridSubsection(e),p=m.xMin;p<m.xMax;p++)for(var T=m.yMin;T<m.yMax;T++)this.grid[p][T].push(e)},t.prototype.hasConflict=function(e){return!this.isWithinGridViewport(e)||this.hasCollision(e)},t.prototype.tryPositionInViewport=function(e){if(this.isCloseToGridViewport(e)&&(this.isWithinGridViewport(e)||(e=this.tryMoveInsideViewport(e)),e&&!this.hasCollision(e)))return e},t.prototype.trySeriesLabelPositionInViewport=function(e){if(this.isCloseToGridViewport(e)&&(this.isWithinGridViewport(e)||(e=this.trySeriesLabelMoveInsideViewport(e)),e&&!this.hasCollision(e)))return e},t.prototype.hasCollision=function(e){for(var m=this.getContainingGridSubsection(e),p=this.grid,T=P.HL,L=m.xMin;L<m.xMax;L++)for(var F=m.yMin;F<m.yMax;F++)for(var A=0,N=p[L][F];A<N.length;A++)if(T(N[A],e))return!0;return!1},t.prototype.isWithinGridViewport=function(e){return e.left>=0&&e.top>=0&&e.left+e.width<=this.viewport.width&&e.top+e.height<=this.viewport.height},t.prototype.isCloseToGridViewport=function(e){return e.left+e.width>=0-e.width&&e.top+e.height>=-e.height&&e.left<=this.viewport.width+e.width&&e.top<=this.viewport.height+e.height},t.prototype.tryMoveInsideViewport=function(e){var m=(0,P.d9)(e),p=this.viewport;if(!(e.width>p.width||e.height>p.height))return e.left<0?m.left=0:e.left+e.width>p.width&&(m.left-=e.left+e.width-p.width),e.top<0?m.top=0:e.top+e.height>p.height&&(m.top-=e.top+e.height-p.height),m},t.prototype.trySeriesLabelMoveInsideViewport=function(e){var m=(0,P.d9)(e),p=this.viewport;if(!(e.height>p.height))return e.left<0&&(m.left=0),e.top<0?m.top=0:e.top+e.height>p.height&&(m.top-=e.top+e.height-p.height),m},t.prototype.getContainingGridSubsection=function(e){return{xMin:t.bound(Math.floor(e.left/this.cellSize.width),0,this.columnCount),xMax:t.bound(Math.ceil((e.left+e.width)/this.cellSize.width),0,this.columnCount),yMin:t.bound(Math.floor(e.top/this.cellSize.height),0,this.rowCount),yMax:t.bound(Math.ceil((e.top+e.height)/this.cellSize.height),0,this.rowCount)}},t.getCellCount=function(e,m,p,T){return t.bound(Math.ceil(m/e),p,T)},t.bound=function(e,m,p){return Math.max(Math.min(e,p),m)},t.cellSizeMultiplier=2,t}(),f=function(){function t(e){this.startingOffset=e.startingOffset,this.maximumOffset=e.maximumOffset,null!=e.offsetIterationDelta?(V.fF.assert(function(){return e.offsetIterationDelta>0},"label offset delta must be greater than 0"),this.offsetIterationDelta=e.offsetIterationDelta):this.offsetIterationDelta=t.defaultOffsetIterationDelta,this.horizontalPadding=null!=e.horizontalPadding?e.horizontalPadding:t.defaultHorizontalPadding,this.verticalPadding=null!=e.verticalPadding?e.verticalPadding:t.defaultVerticalPadding,this.shrinkLeaderLinesForBestFit=!!e.shrinkLeaderLinesForBestFit,this.drawLeaderLinesIgnoreOffset=!!e.drawLeaderLinesIgnoreOffset,this.allowLeaderLines=!!e.allowLeaderLines,this.attemptToMoveLabelsIntoViewport=!!e.attemptToMoveLabelsIntoViewport}return t.prototype.computeLabelSize=function(e,m){var p,T=function(v){var h={width:0,height:0},O=v.textSize,H=O.width,I=O.height;return m===g.B.Vertical?(h.width=I,h.height=H):(h.width=H,h.height=I),e.wordBreak&&(h.height+=v.fontProperties.size.px),h},L={width:0,height:0};if((0,c.r)(e))for(var F=e.labelDataPointContents.length,A=0;A<F;A++){var K=e.contentLayout,ie=(p=T(e.labelDataPointContents[A])).width,de=p.height,fe=m===g.B.Vertical;if("MultiLine"===K)if(fe){var j=0!==A?w.i1:0;L.width=Math.max(L.width,de),L.height+=ie+j}else j=0!==A?w.i1:0,L.width=Math.max(L.width,ie),L.height+=de+j;else"SingleLine"===K&&(fe?(j=0!==A?w.uM:0,L.width=Math.max(L.width,ie),L.height+=de+j):(L.width+=ie+(j=0!==A?w.uM:0),L.height=Math.max(L.height,de)))}else L=T(e);return e.hasBackground?m===g.B.Vertical?{width:L.width+2*w.d1,height:L.height+2*w.Bo}:{width:L.width+2*w.Bo,height:L.height+2*w.d1}:L},t.prototype.layout=function(e,m){for(var T=[],L=0,F=e;L<F.length;L++){for(var A=F[L],N=_.map(A.labelDataPoints,function(ge){return{labelDataPoint:ge}}),K=A.labelOrientation,ie=0,de=N;ie<de.length;ie++){var fe=de[ie];fe.hasBeenRendered=!1,fe.labelSize=this.computeLabelSize(fe.labelDataPoint,K)}T.push({labelDataPoints:N,maxNumberOfLabels:A.maxNumberOfLabels,labelOrientation:A.labelOrientation,offset:A.offset})}for(var j=[],R=new a(T,m),v=T.length>1,h=0,O=T;h<O.length;h++){for(var H=O[h],I=H.maxNumberOfLabels,U=(N=_.clone(H.labelDataPoints),[]),G=(K=H.labelOrientation,N.length-1),ce=I;G>=0&&ce>0;G--)N[G].labelDataPoint.isPreferred&&(U.unshift(N.splice(G,1)[0]),ce--);if(U.length>0&&(I-=(ye=this.positionDataLabels(U,m,R,I,K,v,H.offset)).length,j=j.concat(ye)),N.length>0){var ye=this.positionDataLabels(N,m,R,I,K,v,H.offset);j=j.concat(ye)}}return this.filterLabelInstancesByVisibility(j)},t.prototype.filterLabelInstancesByVisibility=function(e){return _.filter(e,function(p){return(0,b.CC)(T=p)?T.labelContents.some(function(L){return L.isVisible}):T.isVisible;var T})},t.prototype.drawLeaderLinesOnIteration=function(e,m){var p;if(!this.allowLeaderLines)return!1;var T=m.labelDataPoint;return!((0,c.r)(T)?T.labelDataPointContents.every(function(F){return _.isEmpty(F.text)}):_.isEmpty(T.text))&&(!(!this.drawLeaderLinesIgnoreOffset||null===(p=T.leaderLine)||void 0===p||!p.strokeShow)||e>this.startingOffset)},t.prototype.determineMaximumOffset=function(e,m){var p,T=null!==(p=m?.max)&&void 0!==p?p:this.maximumOffset;return e>=T?e:T},t.prototype.positionDataLabels=function(e,m,p,T,L,F,A){for(var N,K=[],ie=this.offsetIterationDelta,de=0,fe=0,j=null!==(N=A?.min)&&void 0!==N?N:this.startingOffset,R=this.determineMaximumOffset(j,A),v=j;v<=R&&fe<T;){for(var h=0,O=e;h<O.length;h++){var H=O[h];if(!H.hasBeenRendered){var U=void 0;if(1===H.labelDataPoint.parentType)U=this.tryPositionForRectPositions(H,p,v,de,L,F);else{var G=this.drawLeaderLinesOnIteration(v,H);U=this.tryPositionForPointPositions(H,p,v,G,L)}if(U&&(K.push(U),fe++),!(fe<T))break}}v+=ie,de+=ie}return K},t.prototype.tryPositionForRectPositions=function(e,m,p,T,L,F){var A=this,N=e.labelDataPoint,de=function(O,H,I){void 0===I&&(I=0),function(O){var H,I,U,G;if(O>0&&(0,c.r)(N)){var ce=L===g.B.Vertical?null!==(I=null===(H=e.labelSize)||void 0===H?void 0:H.height)&&void 0!==I?I:0:null!==(G=null===(U=e.labelSize)||void 0===U?void 0:U.width)&&void 0!==G?G:0;(0,u._u)(N.labelDataPointContents,ce*(1-O),"SingleLine"===N.contentLayout?n.v.SingleLine:n.v.MultiLine),e.labelSize=A.computeLabelSize(N,L)}}(I);var U=t.tryPositionRect(m,O,e,p,T,H);return U&&function(O,H){var U=!!(224&O);return!(7&O&&!function(t,e,m,p){var T=e.parentShape.rect,L=(0,P.rr)(t,{left:m,right:m,top:p,bottom:p});return(0,P.BD)(T,{x:L.left,y:L.top})&&(0,P.BD)(T,{x:L.left+L.width,y:L.top+L.height})}(H,N,A.horizontalPadding,A.verticalPadding)||U&&!function(t,e,m){var p=e.parentShape.rect;if(!(0,P.HL)(t,p))return!1;var T=(0,P.wf)(t,p),L=S,F=(0,B.GG)(T.top,t.top,L)&&(0,B.GG)(T.height,t.height,L),A=(0,B.GG)(T.left,t.left,L)&&(0,B.GG)(T.width,t.width,L),N=_.includes([1,2],e.parentShape.orientation);if(!A&&!F||m&&(N&&!F||!N&&!A))return!1;if(A&&F)return!0;var K=function(t,e){var m=e.width*e.height,p=t.width*t.height,T=Math.max(m,p);if(0===T)return 0;var L=Math.min(m,p),F=0!==L?L:T,A=(0,P.wf)(e,t);return A.width*A.height/F}(t,p)>=M,ie=!1;return F?ie=0===p.width||p.width/t.width>D.w:A&&(ie=0===p.height||p.height/t.height>D.w),K&&ie}(H,N,F))}(O,U)?(m.add(U),e.hasBeenRendered=!0,A.createLabelInstanceForRectPosition(N,L,U,O)):null},fe=N.parentShape.validPositions,j=function h(O,H,I){void 0===H&&(H=!1),void 0===I&&(I=0);for(var ce=H?.03*(I+1):0,ue=0,ye=fe;ue<ye.length;ue++){var ge=de(ye[ue],O,ce);if(ge)return ge}return!H||I>=1/.03?null:h(O,H,I+1)},R=j(!1);if(R)return R;if(this.attemptToMoveLabelsIntoViewport){var v=j(!0);if(v)return v}},t.prototype.createLabelInstanceForRectPosition=function(e,m,p,T){var L=!!(231&T),F={boundingBox:p,tooltip:e.tooltip,isVisible:!0,identity:e.identity,key:e.key,hasBackground:e.hasBackground,labelOrientation:m,backgroundColor:e.backgroundColor,backgroundTransparency:e.backgroundTransparency};if((0,c.r)(e)){var N=e.labelDataPointContents.map(function(ie){return{text:ie.text,role:ie.role,transparency:ie.transparency,fontProperties:(0,E.ED)(ie.fontProperties,{color:(de=ie,L?de.insideFill:de.outsideFill)}),isVisible:!0,textSize:ie.textSize};var de});return(0,s.pi)((0,s.pi)({},F),{labelContents:N,wordBreak:e.wordBreak,contentLayout:e.contentLayout,textAnchor:"unset",alignment:e.alignment})}var K=L?e.insideFill:e.outsideFill;return(0,s.pi)((0,s.pi)({},F),{text:e.text,fontProperties:(0,E.ED)(e.fontProperties,{color:K}),selected:!1,isTotal:e.isTotal,isCategory:e.isCategory})},t.tryPositionRect=function(e,m,p,T,L,F){var A=[1,32].includes(m),N=A?L:T,K=C(p,m,N);return A&&0===p.labelDataPoint.parentShape.orientation?this.checkLabelPosition(e,K,F)||this.checkLabelPosition(e,C(p,m,-N),F):this.checkLabelPosition(e,K,F)},t.checkLabelPosition=function(e,m,p){return e.hasConflict(m)?p?e.tryPositionInViewport(m):null:m},t.prototype.getShrinkAmountPixels=function(e,m){var p=e.labelDataPoint.hasBackground,T=!!(0,c.r)(e.labelDataPoint)&&"MultiLine"===e.labelDataPoint.contentLayout,F=m.height+(p?2*w.Bo:w.Cr);return T?F/4:F/2},t.prototype.calculateNewEndPoint=function(e,m,p){var T,L,F=(T=(0,s.ev)((0,s.ev)([],e,!0),m,!0))[0],A=T[1],ie=(L=[T[2]-F,T[3]-A])[0],de=L[1],fe=Math.sqrt(Math.pow(ie,2)+Math.pow(de,2)),j=(fe-p/2)/fe;return[F+ie*j,A+de*j]},t.prototype.getLeaderLinePoints=function(e,m,p,T){var L=function(t,e,m){var p=t.left,T=t.top;switch(e){case 1:p+=t.width/2,T+=t.height;break;case 2:p+=t.width/2;break;case 4:p+=t.width,T+=2*t.height/3;break;case 8:T+=2*t.height/3;break;case 32:p+=t.width,T+=t.height/2;break;case 16:T+=t.height/2;break;case 128:p+=t.width,T+=t.height;break;case 64:T+=t.height}return[[m.point.x,m.point.y],[p,T]]}(e,m,p);if(!this.shrinkLeaderLinesForBestFit)return L;var F=this.getShrinkAmountPixels(T,e),A=L[0];return[A,this.calculateNewEndPoint(A,L[1],F)]},t.prototype.tryPositionForPointPositions=function(e,m,p,T,L){for(var F=this,A=e.labelDataPoint,N=function(h,O,H){var I=t.tryPositionPoint(m,h,e,p,H);if(I){512===h?m.addCheckSeries(I):m.add(I),e.hasBeenRendered=!0;var U=T?F.getLeaderLinePoints(I,h,O,e):null;return(0,c.r)(A)?{boundingBox:I,labelContents:A.labelDataPointContents.map(function(ce,ue){return{text:ce.text,role:ce.role,transparency:ce.transparency,fontProperties:(0,E.ED)(ce.fontProperties,{color:256===h?ce.insideFill:ce.outsideFill}),isVisible:!0,textSize:ce.textSize}}),tooltip:A.tooltip,hasBackground:!!A.hasBackground,labelOrientation:L,key:A.key,identity:A.identity,leaderLinePoints:U,backgroundColor:A.backgroundColor,backgroundTransparency:A.backgroundTransparency,wordBreak:A.wordBreak,contentLayout:A.contentLayout,alignment:A.alignment,selected:!1,textAnchor:"unset",leaderLine:A.leaderLine}:{boundingBox:I,text:A.text,tooltip:A.tooltip,isVisible:!0,isInsideParent:256===h,identity:A.identity,key:A.key,fontProperties:(0,E.ED)(A.fontProperties,{color:256===h?A.insideFill:A.outsideFill}),selected:!1,leaderLinePoints:U,leaderLine:A.leaderLine,hasBackground:!!A.hasBackground,labelOrientation:L,backgroundColor:A.backgroundColor,backgroundTransparency:A.backgroundTransparency,wordBreak:A.wordBreak,isTotal:A.isTotal,isCategory:A.isCategory}}},K=A.parentShape,ie=K.validPositions,de=0,fe=ie;de<fe.length;de++)if(R=N(fe[de],K,!1))return R;var R;return this.attemptToMoveLabelsIntoViewport&&!_.isEmpty(ie)&&(R=N(ie[0],K,!0))?R:null},t.tryPositionPoint=function(e,m,p,T,L){var F=(0,D.c)(p.labelSize,p.labelDataPoint.parentShape,m,T);return e.hasConflict(F)?L?512===m?e.trySeriesLabelPositionInViewport(F):e.tryPositionInViewport(F):null:F},t.defaultOffsetIterationDelta=2,t.defaultHorizontalPadding=2,t.defaultVerticalPadding=2,t}(),S=.09,M=.2},54086:function(be,q,y){y.d(q,{c:function(){return P},w:function(){return B}});var s=y(62458),V=y(86745),B=.02;function P(w,E,g,o){switch(g){case 1:return(0,V.aE)(w,E.point,E.radius+o);case 2:return(0,V.B2)(w,E.point,E.radius+o);case 4:return(0,V.t$)(w,E.point,E.radius+o);case 8:return(0,V.F2)(w,E.point,E.radius+o);case 32:return(0,V.I6)(w,E.point,E.radius+o);case 16:return(0,V.W7)(w,E.point,E.radius+o);case 128:return(0,V.Q$)(w,E.point,E.radius+o);case 64:return(0,V.kx)(w,E.point,E.radius+o);case 256:return(0,V.be)(w,E.point);case 512:return(0,V.BV)(w,E.point);default:s.fF.assertFail("Unsupported label position")}return null}},86745:function(be,q,y){y.d(q,{B2:function(){return P},BV:function(){return b},F2:function(){return E},I6:function(){return g},O5:function(){return S},Q$:function(){return C},QS:function(){return n},Vq:function(){return i},W7:function(){return o},ZN:function(){return f},_f:function(){return d},aE:function(){return B},be:function(){return D},cx:function(){return M},e6:function(){return a},fB:function(){return V},jb:function(){return u},kx:function(){return x},nK:function(){return s},t$:function(){return w},ug:function(){return c},um:function(){return l}});var s=Math.cos(45),V=Math.sin(45);function B(r,t,e){return{left:t.x-r.width/2,top:t.y-e-r.height,width:r.width,height:r.height}}function P(r,t,e){return{left:t.x-r.width/2,top:t.y+e,width:r.width,height:r.height}}function w(r,t,e){return{left:t.x-e-r.width,top:t.y-r.height/2,width:r.width,height:r.height}}function E(r,t,e){return{left:t.x+e,top:t.y-r.height/2,width:r.width,height:r.height}}function g(r,t,e){return{left:t.x-V*e-r.width,top:t.y+s*e,width:r.width,height:r.height}}function o(r,t,e){return{left:t.x+V*e,top:t.y+s*e,width:r.width,height:r.height}}function C(r,t,e){return{left:t.x-V*e-r.width,top:t.y-s*e-r.height,width:r.width,height:r.height}}function x(r,t,e){return{left:t.x+V*e,top:t.y-s*e-r.height,width:r.width,height:r.height}}function D(r,t){return{left:t.x-r.width/2,top:t.y-r.height/2,width:r.width,height:r.height}}function b(r,t){return{left:t.x,top:t.y-r.height/2,width:r.width,height:r.height}}function c(r,t,e){return{left:t.left+t.width/2-r.width/2,top:t.top+e,width:r.width,height:r.height}}function u(r,t,e){return{left:t.left+t.width/2-r.width/2,top:t.top+t.height-e-r.height,width:r.width,height:r.height}}function n(r,t,e){return{left:t.left+t.width-r.width-e,top:t.top+t.height/2-r.height/2,width:r.width,height:r.height}}function a(r,t,e){return{left:t.left+e,top:t.top+t.height/2-r.height/2,width:r.width,height:r.height}}function f(r,t,e){return{left:t.left+t.width/2-r.width/2,top:t.top-r.height-e,width:r.width,height:r.height}}function S(r,t,e){return{left:t.left+t.width/2-r.width/2,top:t.top+t.height+e,width:r.width,height:r.height}}function M(r,t,e){return{left:t.left+t.width+e,top:t.top+t.height/2-r.height/2,width:r.width,height:r.height}}function d(r,t,e){return{left:t.left-r.width-e,top:t.top+t.height/2-r.height/2,width:r.width,height:r.height}}function l(r,t,e){return{left:t.left+t.width/2-r.width/2+e,top:t.top+t.height/2-r.height/2,width:r.width,height:r.height}}function i(r,t,e){return{left:t.left+t.width/2-r.width/2,top:t.top+t.height/2-r.height/2+e,width:r.width,height:r.height}}},40739:function(be,q,y){y.d(q,{r:function(){return w}});var s=y(62458),V=y(81337),B=y(59107);function w(o){var C=o.tooltips();return s.fF.assertValue(C,"visualHostTooltipService"),new g(C)}var g=function(){function o(C,x){void 0===x&&(x=1e3),this.visualHostTooltipService=C,this.tooltipEventsRegistrator=function(){var o=".tooltip",C="mouseout"+o,x="pointercancel"+o,D="pointerdown"+o,b="pointermove"+o,c="pointerup"+o,u="pointerover"+o,n="pointerleave"+o,a="keydown"+o,f="moveToolTipWithKeyboardAction",S=function(){function d(l,i){var r=this;this.handleTouchDelay=i,this.handleTouchTooltipHideDelay=2e3,this.preventContextMenuHandler=function(t){t.preventDefault(),t.stopPropagation(),r.visualElement&&r.visualElement.removeEventListener("contextmenu",r.preventContextMenuHandler,!0)},this.ignoreMouseoutEvent=!1,this.forceRefreshData=!1,this.visualHostTooltipService=l,this.rootNode=this.visualHostTooltipService.container()}return d.prototype.showTooltip=function(l,i,r,t,e,m,p,T,L,F){if(this.canDisplayTooltip(l,m)){this.visualElement&&this.visualElement.removeEventListener("contextmenu",this.preventContextMenuHandler,!0);var A=d3.event;this.visualElement=$(A.target).parent().get(0),l&&this.visualElement&&this.visualHostTooltipService.isTouchScreenOptimizedEnabled()&&(this.ignoreMouseEventsTimeoutId&&clearTimeout(this.ignoreMouseEventsTimeoutId),this.visualElement.addEventListener("contextmenu",this.preventContextMenuHandler,!0)),this.touchOriginTooltipShowing=l;var N=this.makeTooltipEventArgs(l);if(N){var K;if((t||l||this.forceRefreshData)&&(this.forceRefreshData=!1,null==(K=i(N))))return void(e&&this.visualHostTooltipService.hide({isTouchEvent:l,immediately:!1,isKeyboardEvent:L}));var ie=r(N),de=ie&&ie.map(function(R){return(0,V.pi)((0,V.pi)({},R.getSelectorsByColumn()),{exclude:R.exclude})}),fe=ie&&ie.map(function(R){return R?.role}),j=d3.event;"touch"===j.pointerType&&(j.tooltip=!0),this.visualHostTooltipService.show({coordinates:N.coordinates,isTouchEvent:l,dataItems:K,identities:de,roles:fe,suppressAnnouncements:p,showByDefaultOverride:T,isKeyboardEvent:L,focusTooltip:F}),l&&!this.visualHostTooltipService.isTouchScreenOptimizedEnabled()&&this.startTouchHideTooltipTimeout()}}},d.prototype.hideTooltip=function(l,i){"pointerleave"===i&&l||"mouseout"===i&&this.ignoreMouseoutEvent||(this.touchOriginTooltipShowing=!1,clearTimeout(this.handleTouchTooltipHideId),this.visualHostTooltipService.hide({isTouchEvent:l,immediately:"pointerdown"===i,isKeyboardEvent:!1}))},d.prototype.getCoordinates=function(l){for(var t,r=d3.event;t=r.sourceEvent;)r=t;var e=l.getBoundingClientRect(),m=r.clientX,p=r.clientY;if(null==m||null==p){var T=d3.event;s.fF.assert(function(){return"keydown"===T.type||"moveToolTipWithKeyboardAction"===T.type},"only non-mouse/touch events (e.g., 'keydown') should get here");var F=T.target.getBoundingClientRect();m=F.left+F.width/2,p=F.top+F.height/2}return[m-e.left-l.clientLeft,p-e.top-l.clientTop]},d.prototype.makeTooltipEventArgs=function(l){var i=this.getCoordinates(this.rootNode),r=l?document.elementFromPoint(i[0],i[1]):d3.event.target;return{data:d3.select(r).datum(),coordinates:i,elementCoordinates:this.getCoordinates(r),context:r,isTouchEvent:l}},d.prototype.startTouchHideTooltipTimeout=function(){var l=this;this.handleTouchTooltipHideId&&clearTimeout(this.handleTouchTooltipHideId),this.handleTouchTooltipHideId=setTimeout(function(){l.hideTooltip(!0,"timeout")},this.handleTouchTooltipHideDelay)},d.prototype.startIgnoreMouseEventsTimeout=function(){var l=this;this.ignoreMouseEventsTimeoutId&&clearTimeout(this.ignoreMouseEventsTimeoutId),this.ignoreMouseEventsTimeoutId=setTimeout(function(){l.visualElement&&l.visualElement.removeEventListener("contextmenu",l.preventContextMenuHandler,!0),l.ignoreMouseEventsTimeoutId=void 0,l.forceRefreshData=!0},this.handleTouchDelay)},d.prototype.canDisplayTooltip=function(l,i){return!(!l&&("pointerdown"===i||this.touchOriginTooltipShowing||void 0!==this.ignoreMouseEventsTimeoutId))},d}(),M=function(){function d(l,i){this.tooltipServiceDelegate=l,this.visualHostTooltipService=i,this.moveThreshold=10,this.focusTooltip=!0}return d.prototype.unregisterEvents=function(l){l.on(o,null),l.on(f,null)},d.prototype.registerEvents=function(l,i,r,t,e,m){this.registerTooltipEvents(l,i,r,t,e,m)},d.prototype.hasPointerTypeTouch=function(l){return"touch"===l.pointerType},d.prototype.onPointerEnd=function(){if(this.tooltipServiceDelegate.startIgnoreMouseEventsTimeout(),this.visualHostTooltipService.visible()&&this.visualHostTooltipService.isTouchScreenOptimizedEnabled())this.tooltipServiceDelegate.ignoreMouseoutEvent=!0;else{var l=d3.event;this.tooltipServiceDelegate.hideTooltip(this.hasPointerTypeTouch(l),l.type)}},d.prototype.moveThresholdReached=function(l,i){var r=l-this.initialX,t=i-this.initialY;return Math.sqrt(r*r+t*t)>this.moveThreshold},d.prototype.registerTooltipEvents=function(l,i,r,t,e,m){var T,p=this;l.on(u,function(){p.focusTooltip=!0;var L=d3.event;p.hasPointerTypeTouch(L)||p.tooltipServiceDelegate.showTooltip(p.hasPointerTypeTouch(L),i,r,!0,!1,L.type,e,m,!1,p.focusTooltip)}),l.on(f,function(){var L=d3.event;!1===p.focusTooltip&&(p.visualHostTooltipService.visible()?p.tooltipServiceDelegate.showTooltip(p.hasPointerTypeTouch(L),i,r,!0,!1,L.type,e,m,!0,p.focusTooltip):(p.tooltipServiceDelegate.hideTooltip(!1,L.type),p.focusTooltip=!0),T=L.target)}),l.on(a,function(){var L=d3.event;B.M.isCtrlOrMeta(L)&&72===L.keyCode&&L.shiftKey?(p.focusTooltip=!1,L.target===T&&p.visualHostTooltipService.visible()?(p.tooltipServiceDelegate.hideTooltip(!1,L.type),p.focusTooltip=!0):p.tooltipServiceDelegate.showTooltip(p.hasPointerTypeTouch(L),i,r,!0,!1,L.type,e,m,!0,p.focusTooltip),T=L.target,L.preventDefault()):B.M.isCtrlOrMeta(L)&&72===L.keyCode?(p.focusTooltip=!0,L.target===T&&p.visualHostTooltipService.visible()?p.tooltipServiceDelegate.hideTooltip(!1,L.type):p.tooltipServiceDelegate.showTooltip(p.hasPointerTypeTouch(L),i,r,!0,!1,L.type,e,m,!0,p.focusTooltip),T=L.target,L.preventDefault()):27===L.keyCode&&(p.focusTooltip=!0,(L.target===T||p.visualHostTooltipService.visible())&&(p.tooltipServiceDelegate.hideTooltip(!1,L.type),L.preventDefault()))}),l.on(n,function(){p.focusTooltip=!0;var L=d3.event;p.tooltipServiceDelegate.hideTooltip(p.visualHostTooltipService.isTouchScreenOptimizedEnabled()&&p.hasPointerTypeTouch(L),L.type)}),l.on(C,function(){p.focusTooltip=!0;var L=d3.event;p.tooltipServiceDelegate.hideTooltip(p.visualHostTooltipService.isTouchScreenOptimizedEnabled()&&p.hasPointerTypeTouch(L),L.type)}),l.on(b,function(){p.focusTooltip=!0;var L=d3.event;p.tooltipServiceDelegate.ignoreMouseoutEvent=!1,p.visualHostTooltipService.visible()||!p.hasPointerTypeTouch(L)?p.tooltipServiceDelegate.showTooltip(p.hasPointerTypeTouch(L),i,r,t,!0,L.type,e,m,!1,!0):p.moveThresholdReached(L.screenX,L.screenY)&&p.tooltipServiceDelegate.hideTooltip(p.hasPointerTypeTouch(L),L.type)}),l.on(D,function(){p.focusTooltip=!1;var L=d3.event;p.initialX=L.screenX,p.initialY=L.screenY,p.tooltipServiceDelegate.showTooltip(p.hasPointerTypeTouch(L),i,r,!0,!p.visualHostTooltipService.isTouchScreenOptimizedEnabled(),L.type,e,m,!1,!0)}),l.on(c,function(){return p.onPointerEnd()}),l.on(x,function(){return p.onPointerEnd()})},d}();return{create:function(l){var i=new S(l.visualHostTooltipService,l.handleTouchDelay);return new M(i,l.visualHostTooltipService)}}}().create({visualHostTooltipService:this.visualHostTooltipService,handleTouchDelay:x})}return o.prototype.addTooltip=function(C,x,D,b,c,u){C&&(u||this.visualHostTooltipService.enabled())&&this.tooltipEventsRegistrator.registerEvents(C,x,D,b,c,u)},o.prototype.removeTooltips=function(C){C&&this.tooltipEventsRegistrator.unregisterEvents(C)},o.prototype.hide=function(){this.visualHostTooltipService.hide({immediately:!0,isTouchEvent:!1,isKeyboardEvent:!1})},o.prototype.visible=function(){return this.visualHostTooltipService&&this.visualHostTooltipService.visible()},o.prototype.isTouchScreenOptimizedEnabled=function(){return this.visualHostTooltipService.isTouchScreenOptimizedEnabled()},o}()},20114:function(be,q,y){y.d(q,{dt:function(){return o},s$:function(){return B}});var s=y(28488),B="95%",o=(0,s.i)([{value:"99%",displayName:function(){return"99%"}},{value:B,displayName:function(){return"95%"}},{value:"90%",displayName:function(){return"90%"}},{value:"85%",displayName:function(){return"85%"}},{value:"80%",displayName:function(){return"80%"}},{value:"75%",displayName:function(){return"75%"}}])},40253:function(be,q,y){y.d(q,{dt:function(){return x},xm:function(){return C}});var s=y(28488),C="point",x=(0,s.i)([{value:"year",displayName:function(b){return b.get("TimeUnit_Years")}},{value:"quarter",displayName:function(b){return b.get("TimeUnit_Quarters")}},{value:"month",displayName:function(b){return b.get("TimeUnit_Months")}},{value:"day",displayName:function(b){return b.get("TimeUnit_Days")}},{value:"hour",displayName:function(b){return b.get("TimeUnit_Hours")}},{value:"minute",displayName:function(b){return b.get("TimeUnit_Minutes")}},{value:"second",displayName:function(b){return b.get("TimeUnit_Seconds")}},{value:C,displayName:function(b){return b.get("Visual_Forecast_Units_Point")}}])}}]);