"use strict";(self.webpackChunkreportServerHostModern=self.webpackChunkreportServerHostModern||[]).push([["extension-host-git"],{2552:function(St,it,a){a.d(it,{Ug:function(){return ct},su:function(){return J},ce:function(){return D},Kl:function(){return o},i:function(){return x},bE:function(){return L},xU:function(){return yt},aw:function(){return et},Zt:function(){return $},P9:function(){return Q},mK:function(){return vt},ZH:function(){return mt},WV:function(){return ut},nD:function(){return at},Jv:function(){return ft},h_:function(){return _t}});var c=a(60225),r=a(37419),N=a(47875);function s(d){return void 0===d&&(d=-1),function(S){return S.lift(new A(d,S))}}var A=function(){function d(f,G){this.count=f,this.source=G}return d.prototype.call=function(G,m){return m.subscribe(new y(G,this.count,this.source))},d}(),y=function(d){function S(G,m,_){var l;return(l=d.call(this,G)||this).count=m,l.source=_,l}return(0,r.Z)(S,d),S.prototype.error=function(m){if(!this.isStopped){var _=this.source,l=this.count;if(0===l)return d.prototype.error.call(this,m);l>-1&&(this.count=l-1),_.subscribe(this._unsubscribeAndRecycle())}},S}(N.L),M=a(14172),k=a(59822),b=a(68698),U=a(50423),v=function(){function d(S){this.httpService=S}return d.prototype.getData=function(S){var f=this.createNoRetriesRequestOptions();return this.httpService.get(S,f).pipe(s(0),(0,M.U)(function(G){return G.data}))},d.prototype.postData=function(S,f){var G=this.createNoRetriesRequestOptions();return this.httpService.post(S,f,G).pipe(this.retryWithTransform(),(0,M.U)(function(m){return m.data}))},d.prototype.deleteData=function(S){var f=this.createNoRetriesRequestOptions();return this.httpService.delete(S,f).pipe(s(0),(0,M.U)(function(G){return G.data}))},d.prototype.createNoRetriesRequestOptions=function(){var S=this.httpService.powerbiRequestOptions();return S.disableRetriesOnServerError=!0,S.retryCount=0,S.signInOnConditionalAccessErrors=!1,S},d.prototype.retryWithTransform=function(){return function(S){return S.pipe(s(0),(0,k.K)(function(f){return(0,c._)(f)}),(0,M.U)(function(f){return{data:f.data}}))}},d.\u0275fac=function(f){return new(f||d)(U.\u0275\u0275inject(b.s))},d.\u0275prov=U.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac,providedIn:"root"}),d}(),J=function(){function d(S){this.httpUtils=S}return d.prototype.branchOut=function(S,f){return this.httpUtils.postData("metadata/git/workspaces/".concat(S,"/branchOut"),f)},d.\u0275fac=function(f){return new(f||d)(U.\u0275\u0275inject(v))},d.\u0275prov=U.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac}),d}(),T=a(81337),D=function(){function d(S){this.httpUtils=S}return d.prototype.commitArtifacts=function(S,f){return this.httpUtils.postData("metadata/git/workspaces/".concat(S,"/commitToGit?skipHeadValidation=true"),f).pipe((0,M.U)(function(G){return(0,T.pi)((0,T.pi)({},G),{responseDate:new Date(Date.now())})}))},d.\u0275fac=function(f){return new(f||d)(U.\u0275\u0275inject(v))},d.\u0275prov=U.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac}),d}(),o=function(){function d(S){this.httpUtils=S}return d.prototype.postConfigureCredentials=function(S,f){return this.httpUtils.postData("/metadata/git/workspaces/".concat(S,"/configureCredentials"),f)},d.prototype.deleteConfiguredCredentials=function(S){return this.httpUtils.deleteData("/metadata/git/workspaces/".concat(S,"/configureCredentials"))},d.\u0275fac=function(f){return new(f||d)(U.\u0275\u0275inject(v))},d.\u0275prov=U.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac,providedIn:"root"}),d}(),x=function(){function d(S){this.httpUtils=S}return d.prototype.getGitConnectionDetails=function(S){return this.httpUtils.getData("/metadata/git/workspaces/".concat(S,"/connection"))},d.prototype.setGitConnectionDetails=function(S,f){return this.httpUtils.postData("/metadata/git/workspaces/".concat(S,"/connection"),f)},d.prototype.checkoutBranch=function(S,f){return this.httpUtils.postData("/metadata/git/workspaces/".concat(S,"/checkoutBranch"),f)},d.prototype.deleteGitConnectionDetails=function(S){return this.httpUtils.deleteData("/metadata/git/workspaces/".concat(S,"/connection"))},d.\u0275fac=function(f){return new(f||d)(U.\u0275\u0275inject(v))},d.\u0275prov=U.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac}),d}(),Y=a(18016),L=function(){function d(S){this.httpUtils=S}return d.prototype.getOrganizations=function(S,f){return this.httpUtils.getData("/metadata/git/organizations?gitProviderType=".concat(Y.IS[S],"&workspaceId=").concat(f))},d.prototype.getProjects=function(S,f,G){return this.httpUtils.getData("/metadata/git/projects?gitProviderType=".concat(Y.IS[S],"&organizationName=").concat(f,"&workspaceId=").concat(G))},d.prototype.getRepositories=function(S,f,G,m){return this.httpUtils.getData("/metadata/git/repositories?gitProviderType=".concat(Y.IS[S],"&organizationName=").concat(f,"&projectName=").concat(G,"&workspaceId=").concat(m))},d.prototype.getBranches=function(S,f,G,m,_,l){var B="/metadata/git/branches?workspaceId=".concat(S,"&gitProviderType=").concat(Y.IS[f],"&organizationName=").concat(G,"&repositoryName=").concat(m);return _&&(B+="&projectName=".concat(_)),l&&(B+="&datasourceOID=".concat(l)),this.httpUtils.getData(B)},d.prototype.createBranch=function(S){return this.httpUtils.postData("/metadata/git/branches",S)},d.prototype.createDirectory=function(S){return this.httpUtils.postData("/metadata/git/directory",S)},d.prototype.getRelatedWorkspaces=function(S){return this.httpUtils.getData("/metadata/git/workspaces/".concat(S,"/relatedWorkspaces"))},d.\u0275fac=function(f){return new(f||d)(U.\u0275\u0275inject(v))},d.\u0275prov=U.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac,providedIn:"root"}),d}(),et=function(){function d(S){this.httpUtils=S}return d.prototype.createDatasource=function(S){return this.httpUtils.postData("/v2.0/myorg/me/gatewayClusterCloudDatasource",S)},d.prototype.discoverDatasources=function(){return this.httpUtils.postData("/v2.0/myorg/me/gatewayClusterDatasources",{datasourceTypes:["Extension"]})},d.prototype.getDatasource=function(S){var f="/v2.0/myorg/me/gatewayClusterDatasources/".concat(S);return this.httpUtils.getData(f)},d.\u0275fac=function(f){return new(f||d)(U.\u0275\u0275inject(v))},d.\u0275prov=U.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac,providedIn:"root"}),d}(),$=function(){function d(S){this.httpUtils=S}return d.prototype.initializeGitConnection=function(S,f){return this.httpUtils.postData("/metadata/git/workspaces/".concat(S,"/connection/initialize"),f)},d.\u0275fac=function(f){return new(f||d)(U.\u0275\u0275inject(v))},d.\u0275prov=U.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac}),d}(),vt=function(){function d(S){this.httpUtils=S}return d.prototype.getUncommittedChanges=function(S){return this.getData(S,"uncommittedChanges")},d.prototype.getIncomingChanges=function(S){return this.getData(S,"incomingChanges")},d.prototype.getGitStatus=function(S){return this.getData(S,"gitStatus")},d.prototype.getData=function(S,f){var G="metadata/git/workspaces/".concat(S,"/").concat(f);return this.httpUtils.getData(G)},d.\u0275fac=function(f){return new(f||d)(U.\u0275\u0275inject(v))},d.\u0275prov=U.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac}),d}(),ut=function(){function d(S){this.httpUtils=S}return d.prototype.getlatestGitOperation=function(S){return this.httpUtils.getData("metadata/git/workspaces/".concat(S,"/latestGitOperationV2"))},d.\u0275fac=function(f){return new(f||d)(U.\u0275\u0275inject(v))},d.\u0275prov=U.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac}),d}(),mt=function(){function d(S){this.httpUtils=S}return d.prototype.switchBranch=function(S,f){return this.httpUtils.postData("/metadata/git/workspaces/".concat(S,"/switchBranch"),f)},d.\u0275fac=function(f){return new(f||d)(U.\u0275\u0275inject(v))},d.\u0275prov=U.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac}),d}(),at=function(){function d(S){this.httpUtils=S}return d.prototype.undoCommitArtifacts=function(S,f){return this.httpUtils.postData("metadata/git/workspaces/".concat(S,"/undo"),f)},d.\u0275fac=function(f){return new(f||d)(U.\u0275\u0275inject(v))},d.\u0275prov=U.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac}),d}(),ft=function(){function d(S){this.httpUtils=S}return d.prototype.UpdateArtifactsFromGit=function(S,f){return this.httpUtils.postData("metadata/git/workspaces/".concat(S,"/updateFromGit"),f).pipe((0,M.U)(function(G){return(0,T.pi)((0,T.pi)({},G),{responseDate:new Date(Date.now())})}))},d.\u0275fac=function(f){return new(f||d)(U.\u0275\u0275inject(v))},d.\u0275prov=U.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac}),d}(),Q=function(){function d(S){this.httpUtils=S}return d.prototype.gitRepairItems=function(S,f){return this.httpUtils.postData("metadata/git/workspaces/".concat(S,"/repairGitItems"),f).pipe((0,M.U)(function(G){return(0,T.pi)({},G)}))},d.\u0275fac=function(f){return new(f||d)(U.\u0275\u0275inject(v))},d.\u0275prov=U.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac}),d}();function _t(d){return d&&"string"==typeof d.extensionDataSourceKind&&"string"==typeof d.extensionDataSourcePath}var yt=function(d){return d[d.Undefined=0]="Undefined",d[d.Completed=1]="Completed",d[d.UpdateFromGitRequired=2]="UpdateFromGitRequired",d[d.CommitToGitRequired=3]="CommitToGitRequired",d[d.Failed=100]="Failed",d}({}),Ct=a(77476),ct=function(){function d(){}return d.forRoot=function(){return{ngModule:d,providers:[]}},d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=U.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=U.\u0275\u0275defineInjector({providers:[J,D,o,x,L,et,v,$,vt,ut,mt,at,ft,Q],imports:[Ct.CommonModule]}),d}()},70628:function(St,it,a){a.d(it,{CmZ:function(){return $},DAQ:function(){return Kn},j3q:function(){return _t},f$Z:function(){return Je},iAv:function(){return uo},REK:function(){return Wn},gCl:function(){return ro},F8e:function(){return Ve},pPx:function(){return Sr},CCT:function(){return Yn},Gui:function(){return L},ND3:function(){return ft},x6e:function(){return y},V_q:function(){return xt}});var c=a(60756),r=a(85732),N=a(2552),s=a(81337),A=a(8894),y=(0,r.PH)("[GitStatus] Load Uncommitted Changes",(0,r.Ky)()),M=(0,r.PH)("[GitStatus] Load Uncommitted Changes Success",(0,r.Ky)()),k=(0,r.PH)("[GitStatus] Load Uncommitted Changes Failure",(0,r.Ky)()),b=(0,r.PH)("[GitStatus] Load Incoming Changes",(0,r.Ky)()),U=(0,r.PH)("[GitStatus] Load Incoming Changes Success",(0,r.Ky)()),v=(0,r.PH)("[GitStatus] Load Incoming Changes Failure",(0,r.Ky)()),J=(0,r.PH)("[GitStatus] set selection of artifact in changes tab",(0,r.Ky)()),T=(0,r.PH)("[GitStatus] clear selection of artifact in changes tab",(0,r.Ky)()),D=(0,r.PH)("[GitConnection] Invalidate Git status",(0,r.Ky)()),o=(0,r.PH)("[GitStatus] Load Git Status",(0,r.Ky)()),x=(0,r.PH)("[GitStatus] Load Git Status Success",(0,r.Ky)()),Y=(0,r.PH)("[GitStatus] Load Git Status Failure",(0,r.Ky)()),L=function(t){return t[t.Initial=0]="Initial",t[t.Loading=1]="Loading",t[t.Loaded=2]="Loaded",t}({}),$=function(t){return t[t.Initial=0]="Initial",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t}({}),vt=function(t){return t[t.Initial=0]="Initial",t[t.Committing=1]="Committing",t[t.Committed=2]="Committed",t}({}),ut=function(t){return t[t.Initial=0]="Initial",t[t.Undoing=1]="Undoing",t[t.Undone=2]="Undone",t}({}),mt=function(t){return t[t.Initial=0]="Initial",t[t.Updating=1]="Updating",t[t.Updated=2]="Updated",t}({}),at=function(t){return t[t.None=0]="None",t[t.CommitFlowInProgress=1]="CommitFlowInProgress",t[t.CommitInitialFlowInProgress=2]="CommitInitialFlowInProgress",t[t.UpdateFlowInProgress=3]="UpdateFlowInProgress",t[t.UpdateInitialFlowInProgress=4]="UpdateInitialFlowInProgress",t[t.UndoFlowInProgress=5]="UndoFlowInProgress",t[t.CheckoutBranchFlowInProgress=6]="CheckoutBranchFlowInProgress",t[t.SwitchBranchFlowInProgress=7]="SwitchBranchFlowInProgress",t}({}),ft=function(t){return t[t.Initial=0]="Initial",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t}({}),Q=function(t){return t[t.Initial=0]="Initial",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t}({}),_t=function(t){return t[t.Initial=0]="Initial",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t}({}),yt=function(t){return t[t.Initial=0]="Initial",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t}({}),ct=(0,A.H)({selectId:function(e){return e.workspaceId}}),X=(0,s.pi)({},ct.getInitialState()),d=(0,r.Lq)(X,(0,r.on)(o,function(t,e){return ct.upsertOne({workspaceId:e.workspaceId,statusCallState:L.Loading},t)}),(0,r.on)(x,function(t,e){return ct.upsertOne((0,s.pi)((0,s.pi)({},e.gitStatus),{statusCallState:L.Loaded}),t)}),(0,r.on)(Y,function(t,e){return ct.upsertOne({workspaceId:e.workspaceId,statusCallState:e.error},t)}),(0,r.on)(y,function(t,e){return ct.upsertOne({workspaceId:e.workspaceId,uncommittedChangesCallState:L.Loading},t)}),(0,r.on)(M,function(t,e){var i,n,u,g,I,w=e.gitStatus;return ct.upsertOne({workspaceId:w.workspaceId,head:w.head,gitChanges:(0,s.ev)((0,s.ev)([],null!==(u=null===(n=null===(i=t.entities[w.workspaceId])||void 0===i?void 0:i.gitChanges)||void 0===n?void 0:n.filter(function(C){return C.remoteChange}))&&void 0!==u?u:[],!0),null!==(g=w?.gitChanges)&&void 0!==g?g:[],!0),incomingChangesCommitHash:null===(I=t.entities[w.workspaceId])||void 0===I?void 0:I.incomingChangesCommitHash,uncommittedChangesCallState:L.Loaded},t)}),(0,r.on)(k,function(t,e){return ct.upsertOne({workspaceId:e.workspaceId,uncommittedChangesCallState:e.error},t)}),(0,r.on)(b,function(t,e){return ct.upsertOne({workspaceId:e.workspaceId,incomingChangesCallState:L.Loading},t)}),(0,r.on)(U,function(t,e){var i,n,u,g,I=e.gitStatus;return ct.upsertOne({workspaceId:I.workspaceId,head:I.head,gitChanges:(0,s.ev)((0,s.ev)([],null!==(u=null===(n=null===(i=t.entities[I.workspaceId])||void 0===i?void 0:i.gitChanges)||void 0===n?void 0:n.filter(function(w){return w.workspaceChange}))&&void 0!==u?u:[],!0),null!==(g=I?.gitChanges)&&void 0!==g?g:[],!0),incomingChangesCommitHash:I.incomingChangesCommitHash,incomingChangesCallState:L.Loaded},t)}),(0,r.on)(v,function(t,e){return ct.upsertOne({workspaceId:e.workspaceId,incomingChangesCallState:e.error},t)}),(0,r.on)(J,function(t,e){var i,n,u=e.workspaceId,g=e.artifactId,I=e.logicalId,C=(null===(n=null===(i=t.entities[u])||void 0===i?void 0:i.uncommittedChangesArtifactSelectionState)||void 0===n?void 0:n.selectedArtifacts)||[],E=e.isChecked?C.concat({artifactId:g,logicalId:I}):C.filter(function(O){return O.artifactId!==g||O.logicalId!==I});return ct.upsertOne({workspaceId:u,uncommittedChangesArtifactSelectionState:{selectedArtifacts:E}},t)}),(0,r.on)(T,function(t,e){return ct.updateOne({id:e.workspaceId,changes:{uncommittedChangesArtifactSelectionState:{selectedArtifacts:[]}}},t)}),(0,r.on)(D,function(t,e){return ct.removeOne(e.workspaceId,t)})),f=a(18016),G=(0,r.PH)("[GitConnection] Initialize Git connection",(0,r.Ky)()),m=(0,r.PH)("[GitConnection] Initialize Git connection success",(0,r.Ky)()),_=(0,r.PH)("[GitConnection] Initialize Git connection failure",(0,r.Ky)()),l=(0,r.PH)("[GitConnection] Invalidate Git connection initialization",(0,r.Ky)()),B=(0,r.PH)("[GitConnection] Load Git Connection",(0,r.Ky)()),P=(0,r.PH)("[GitConnection] Load Git Connection Success",(0,r.Ky)()),V=(0,r.PH)("[GitConnection] Load Git Connection Failure",(0,r.Ky)()),q=(0,r.PH)("[GitConnection] Ensure Git Connection",(0,r.Ky)()),rt=(0,r.PH)("[GitConnection] Save Git Connection",(0,r.Ky)()),tt=(0,r.PH)("[GitConnection] Save Git Connection Success",(0,r.Ky)()),It=(0,r.PH)("[GitConnection] Save Git Connection Failure",(0,r.Ky)()),Ot=(0,r.PH)("[GitConnection] Delete Git Connection",(0,r.Ky)()),h=(0,r.PH)("[GitConnection] Delete Git Connection Success",(0,r.Ky)()),j=(0,r.PH)("[GitConnection] Delete Git Connection Failure",(0,r.Ky)()),ot=(0,r.PH)("[GitConnection] Git Checkout Branch",(0,r.Ky)()),Bt=(0,r.PH)("[GitConnection] Git Checkout Branch Success",(0,r.Ky)()),bt=(0,r.PH)("[GitConnection] Git Checkout Branch Failure",(0,r.Ky)()),xt=(0,r.PH)("[GitConnection] Update datasource in GitConnection",(0,r.Ky)()),Ut=(0,r.PH)("[GitSync] Get latest git alm operation",(0,r.Ky)()),Ft=(0,r.PH)("[GitSync] Get latest git alm operation Success",(0,r.Ky)()),Ht=(0,r.PH)("[GitSync] Get latest git alm operation Failure",(0,r.Ky)()),Tt=(0,r.PH)("[GitConnection] Invalidate Git sync",(0,r.Ky)()),zt=(0,r.PH)("[GitSwitchBranch] Git Switch Branch",(0,r.Ky)()),Nt=(0,r.PH)("[GitSwitchBranch] Git Switch Branch Success",(0,r.Ky)()),Kt=(0,r.PH)("[GitSwitchBranch] Git Switch Branch In Progress",(0,r.Ky)()),Qt=(0,r.PH)("[GitSwitchBranch] Git Switch Branch Failure server error",(0,r.Ky)()),pe=(0,r.PH)("[GitSwitchBranch] Git Switch Branch Failure",(0,r.Ky)()),ve=(0,r.PH)("[GitBranchOut] Branch Out",(0,r.Ky)()),Jt=(0,r.PH)("[GitBranchOut] Branch Out success",(0,r.Ky)()),re=(0,r.PH)("[GitBranchOut] Branch Out failure",(0,r.Ky)()),ge=(0,r.PH)("[GitBranchOut] Branch Out requires to sync folder into store",(0,r.Ky)()),fe=(0,r.PH)("[GitBranchOut] Branch Out completed",(0,r.Ky)()),Se=(0,r.PH)("[GitBranchOut] Branch Out requires to sync folder into store without update",(0,r.Ky)()),Ce=(0,r.PH)("[GitBranchOut] Branch Out store invalidate",(0,r.Ky)()),Gt=(0,A.H)({selectId:function(e){return e.workspaceId}}),ne=(0,s.pi)({},Gt.getInitialState()),Ie=(0,r.Lq)(ne,(0,r.on)(B,Ot,function(t,e){return Gt.upsertOne({workspaceId:e.workspaceId,callState:$.InProgress},t)}),(0,r.on)(rt,function(t,e){return Gt.upsertOne({workspaceId:e.gitConnection.workspaceId,callState:$.InProgress},t)}),(0,r.on)(ot,function(t,e){return Gt.upsertOne({workspaceId:e.gitCheckoutBranchState.workspaceId,callState:$.InProgress},t)}),(0,r.on)(P,tt,function(t,e){return Gt.upsertOne((0,s.pi)((0,s.pi)({},e.gitConnection),{callState:$.Completed}),t)}),(0,r.on)(Bt,function(t,e){var i,n=e.gitCheckoutBranchState,u=n.workspaceId,g=null===(i=t.entities[u])||void 0===i?void 0:i.gitConnectionDetails;return Gt.updateOne({id:u,changes:{gitConnectionDetails:(0,s.pi)((0,s.pi)({},g),{branchName:n.request.branchName}),callState:$.Completed}},t)}),(0,r.on)(Kt,function(t,e){var i,n=e.gitSwitchBranchState,u=n.workspaceId;return void 0!==(null===(i=n?.request)||void 0===i?void 0:i.targetBranchName)?function(t,e,i){var n,u=null===(n=t.entities[e])||void 0===n?void 0:n.gitConnectionDetails;return Gt.updateOne({id:e,changes:{gitConnectionDetails:(0,s.pi)((0,s.pi)({},u),{branchName:i}),callState:$.Completed}},t)}(t,u,n.request.targetBranchName):t}),(0,r.on)(xt,function(t,e){var i,n=e.workspaceId,u=e.datasourceOID,g=null===(i=t.entities[n])||void 0===i?void 0:i.gitConnectionDetails;return Gt.updateOne({id:n,changes:{gitConnectionDetails:(0,s.pi)((0,s.pi)({},g),{datasourceOID:u}),callState:$.Completed}},t)}),(0,r.on)(h,function(t,e){return Gt.removeOne(e.workspaceId,t)}),(0,r.on)(V,j,bt,function(t,e){return Gt.updateOne({id:e.workspaceId,changes:{callState:e.error}},t)}),(0,r.on)(It,function(t,e){return Gt.updateOne({id:e.gitConnection.workspaceId,changes:{callState:e.error}},t)}),(0,r.on)(m,function(t,e){var i,n,u=e.gitInitializationStateWithResponse,g=u.workspaceId,I=null===(i=t.entities[g])||void 0===i?void 0:i.gitConnectionDetails;return Gt.updateOne({id:g,changes:{gitConnectionDetails:(0,s.pi)((0,s.pi)({},I),{isInitialized:!0,head:null===(n=u.response)||void 0===n?void 0:n.head})}},t)}),(0,r.on)(Jt,function(t,e){var i,n,u,g,I,w,C=e.gitBranchOutState;if(void 0===(null===(i=C.response)||void 0===i?void 0:i.folder))return t;var E=null===(u=null===(n=C.response)||void 0===n?void 0:n.folder)||void 0===u?void 0:u.objectId,F=null===(g=t.entities[C.workspaceId])||void 0===g?void 0:g.gitConnectionDetails,z=(0,s.pi)((0,s.pi)({},F),{head:null===(w=null===(I=C.response)||void 0===I?void 0:I.initializeConnectionStatus)||void 0===w?void 0:w.head,branchName:C.request.targetBranchName});return Gt.upsertOne((0,s.pi)((0,s.pi)({},z),{workspaceId:E,callState:$.Completed}),t)}),(0,r.on)(M,U,x,function(t,e){var i,n,u,g=e.gitStatus,I=g.workspaceId,w=null===(i=t.entities[I])||void 0===i?void 0:i.gitConnectionDetails;return g.head&&g.head!==(null===(u=null===(n=t.entities[g.workspaceId])||void 0===n?void 0:n.gitConnectionDetails)||void 0===u?void 0:u.head)?Gt.updateOne({id:I,changes:{gitConnectionDetails:(0,s.pi)((0,s.pi)({},w),{head:g.head})}},t):t}),(0,r.on)(Ft,function(t,e){var i,n,u=e.gitSyncState,g=u.workspaceId,I=null===(i=t.entities[g])||void 0===i?void 0:i.gitConnectionDetails;return u.gitOperationStatus!==f.wM.Successful?t:Gt.updateOne({id:g,changes:{gitConnectionDetails:(0,s.pi)((0,s.pi)({},I),{lastSyncTime:null===(n=u.lastUpdatedTime)||void 0===n?void 0:n.toString()})}},t)})),R=(0,r.PH)("[CommitToGit] Commit Changes To Git",(0,r.Ky)()),H=(0,r.PH)("[CommitToGit] Commit Changes To Git inProgress",(0,r.Ky)()),gt=(0,r.PH)("[CommitToGit] Commit Changes To Git success",(0,r.Ky)()),Mt=(0,r.PH)("[CommitToGit] Commit Changes To Git failure server error ",(0,r.Ky)()),wt=(0,r.PH)("[CommitToGit] Commit Changes To Git failure ",(0,r.Ky)()),ht=(0,A.H)({selectId:function(e){return e.workspaceId}}),Xt=(0,s.pi)({},ht.getInitialState()),_e=(0,r.Lq)(Xt,(0,r.on)(R,function(t,e){return ht.upsertOne((0,s.pi)((0,s.pi)({},e.gitCommitState),{callState:vt.Committing}),t)}),(0,r.on)(H,function(t,e){return ht.upsertOne((0,s.pi)((0,s.pi)({},e.gitCommitState),{callState:vt.Committing}),t)}),(0,r.on)(gt,function(t,e){return ht.upsertOne((0,s.pi)((0,s.pi)({},e.gitCommitStateWithResponse),{callState:vt.Committed,notificationId:void 0}),t)}),(0,r.on)(Mt,function(t,e){return ht.upsertOne((0,s.pi)((0,s.pi)({},e.gitCommitState),{callState:vt.Committed,notificationId:void 0}),t)}),(0,r.on)(wt,function(t,e){var n=e.error;return ht.upsertOne((0,s.pi)((0,s.pi)({},e.gitCommitState),{callState:n,notificationId:void 0}),t)}),(0,r.on)(l,function(t,e){return ht.removeOne(e.workspaceId,t)})),oe=(0,r.PH)("[UpdateFromGit] Update Changes From Git",(0,r.Ky)()),ae=(0,r.PH)("[UpdateFromGit] Update Changes From Git InProgress",(0,r.Ky)()),Te=(0,r.PH)("[UpdateFromGit] Update Changes From Git success",(0,r.Ky)()),Ee=(0,r.PH)("[UpdateFromGit] Update Changes From Git failure ",(0,r.Ky)()),De=(0,r.PH)("[UpdateFromGit] Update Changes From Git failure server error",(0,r.Ky)()),Lt=(0,A.H)({selectId:function(e){return e.workspaceId}}),Be=(0,s.pi)({},Lt.getInitialState()),Zi=(0,r.Lq)(Be,(0,r.on)(oe,function(t,e){return Lt.upsertOne((0,s.pi)((0,s.pi)({},e.gitUpdateState),{callState:mt.Updating}),t)}),(0,r.on)(ae,function(t,e){return Lt.upsertOne((0,s.pi)((0,s.pi)({},e.gitUpdateState),{callState:mt.Updating}),t)}),(0,r.on)(Te,function(t,e){return Lt.upsertOne((0,s.pi)((0,s.pi)({},e.gitUpdateStateWithResponse),{callState:mt.Updated,notificationId:void 0}),t)}),(0,r.on)(De,function(t,e){var n=e.error;return Lt.upsertOne((0,s.pi)((0,s.pi)({},e.gitUpdateState),{callState:n,notificationId:void 0}),t)}),(0,r.on)(Ee,function(t,e){var n=e.error;return Lt.upsertOne((0,s.pi)((0,s.pi)({},e.gitUpdateState),{callState:n,notificationId:void 0}),t)}),(0,r.on)(l,function(t,e){return Lt.removeOne(e.workspaceId,t)})),Zt=(0,A.H)({selectId:function(e){return e.workspaceId}}),Me=(0,s.pi)({},Zt.getInitialState()),qi=(0,r.Lq)(Me,(0,r.on)(G,function(t,e){return Zt.upsertOne((0,s.pi)((0,s.pi)({},e.gitInitializationState),{callState:$.InProgress}),t)}),(0,r.on)(m,function(t,e){return Zt.upsertOne((0,s.pi)((0,s.pi)({},e.gitInitializationStateWithResponse),{callState:$.Completed}),t)}),(0,r.on)(_,function(t,e){var n=e.error;return Zt.upsertOne((0,s.pi)((0,s.pi)({},e.gitInitializationState),{callState:n}),t)}),(0,r.on)(l,function(t,e){return Zt.removeOne(e.workspaceId,t)})),Yt=(0,A.H)({selectId:function(e){return e.workspaceId}}),Oe=(0,s.pi)({},Yt.getInitialState()),er=(0,r.Lq)(Oe,(0,r.on)(Ut,function(t,e){return Yt.upsertOne({workspaceId:e.workspaceId,isValid:!0,isInitial:!!e.isInitial,callState:$.InProgress},t)}),(0,r.on)(Ft,function(t,e){return Yt.upsertOne((0,s.pi)((0,s.pi)({},e.gitSyncState),{callState:$.Completed}),t)}),(0,r.on)(Ht,function(t,e){return Yt.updateOne({id:e.workspaceId,changes:{callState:e.error,isValid:!1}},t)}),(0,r.on)(Tt,function(t,e){return Yt.removeOne(e.workspaceId,t)})),he=(0,r.PH)("[undoFromGit] Undo changes From Git",(0,r.Ky)()),ce=(0,r.PH)("[undoFromGit] Undo changes From Git inProgress",(0,r.Ky)()),Fe=(0,r.PH)("[undoFromGit] Undo changes From Git success",(0,r.Ky)()),Pe=(0,r.PH)("[undoFromGit] Undo changes From Git failure server error ",(0,r.Ky)()),ke=(0,r.PH)("[undoFromGit] Undo changes From Git failure ",(0,r.Ky)()),Wt=(0,A.H)({selectId:function(e){return e.workspaceId}}),be=(0,s.pi)({},Wt.getInitialState()),rr=(0,r.Lq)(be,(0,r.on)(he,function(t,e){return Wt.upsertOne((0,s.pi)((0,s.pi)({},e.gitUndoState),{callState:ut.Undoing}),t)}),(0,r.on)(ce,function(t,e){return Wt.upsertOne((0,s.pi)((0,s.pi)({},e.gitUndoState),{callState:ut.Undoing}),t)}),(0,r.on)(Fe,function(t,e){return Wt.upsertOne((0,s.pi)((0,s.pi)({},e.gitUndoStateWithResponse),{callState:ut.Undone,notificationId:void 0}),t)}),(0,r.on)(Pe,function(t,e){var n=e.error;return Wt.upsertOne((0,s.pi)((0,s.pi)({},e.gitUndoState),{callState:n,notificationId:void 0}),t)}),(0,r.on)(ke,function(t,e){var n=e.error;return Wt.upsertOne((0,s.pi)((0,s.pi)({},e.gitUndoState),{callState:n,notificationId:void 0}),t)}),(0,r.on)(l,function(t,e){return Wt.removeOne(e.workspaceId,t)})),lt=function(t){return t[t.None=0]="None",t[t.GitActionStart=1]="GitActionStart",t[t.GitActionInProgress=2]="GitActionInProgress",t[t.GitActionDone=3]="GitActionDone",t[t.GitSyncStart=4]="GitSyncStart",t[t.GitSyncInProgress=5]="GitSyncInProgress",t[t.GitSyncDone=6]="GitSyncDone",t}({}),Pt=function(t){return t[t.None=0]="None",t[t.Commit=1]="Commit",t[t.Update=2]="Update",t[t.Undo=3]="Undo",t[t.CheckoutBranch=4]="CheckoutBranch",t[t.SwitchBranch=5]="SwitchBranch",t}({}),pt=(0,A.H)({selectId:function(e){return e.workspaceId}}),xe=(0,s.pi)({},pt.getInitialState()),or=(0,r.Lq)(xe,(0,r.on)(R,function(t,e){return pt.upsertOne({workspaceId:e.gitCommitState.workspaceId,activeFlowName:Pt.Commit,progressState:lt.GitActionStart,activeFlowState:e.isInitialSync?at.CommitInitialFlowInProgress:at.CommitFlowInProgress,isIntermidiateStep:!1},t)}),(0,r.on)(H,function(t,e){var i=e.gitCommitState,n=t.entities[i.workspaceId];return n&&me(Pt.Commit,n)?pt.upsertOne((0,s.pi)((0,s.pi)({},n),{progressState:lt.GitActionInProgress}),t):pt.upsertOne({workspaceId:i.workspaceId,activeFlowName:Pt.Commit,progressState:lt.GitActionInProgress,activeFlowState:at.CommitFlowInProgress,isIntermidiateStep:!1},t)}),(0,r.on)(gt,function(t,e){var n=t.entities[e.gitCommitStateWithResponse.workspaceId];return n?pt.upsertOne((0,s.pi)((0,s.pi)({},n),{progressState:lt.GitActionDone}),t):t}),(0,r.on)(wt,Mt,function(t,e){var n=t.entities[e.gitCommitState.workspaceId];return n?pt.upsertOne((0,s.pi)((0,s.pi)({},n),{activeFlowState:at.None,progressState:lt.None,isIntermidiateStep:!1}),t):t}),(0,r.on)(he,function(t,e){return pt.upsertOne({workspaceId:e.gitUndoState.workspaceId,activeFlowName:Pt.Undo,activeFlowState:at.UndoFlowInProgress,isIntermidiateStep:!1,progressState:lt.GitActionStart},t)}),(0,r.on)(ce,function(t,e){var i=e.gitUndoState,n=t.entities[i.workspaceId];return n&&me(Pt.Undo,n)?pt.upsertOne((0,s.pi)((0,s.pi)({},n),{progressState:lt.GitActionInProgress}),t):pt.upsertOne({workspaceId:i.workspaceId,activeFlowName:Pt.Undo,progressState:lt.GitActionInProgress,activeFlowState:at.UndoFlowInProgress,isIntermidiateStep:!1},t)}),(0,r.on)(Fe,function(t,e){var n=t.entities[e.gitUndoStateWithResponse.workspaceId];return n?pt.upsertOne((0,s.pi)((0,s.pi)({},n),{progressState:lt.GitActionDone}),t):t}),(0,r.on)(ke,Pe,function(t,e){var n=t.entities[e.gitUndoState.workspaceId];return n?pt.upsertOne((0,s.pi)((0,s.pi)({},n),{activeFlowState:at.None,progressState:lt.None,isIntermidiateStep:!1}),t):t}),(0,r.on)(zt,function(t,e){return pt.upsertOne({workspaceId:e.gitSwitchBranchState.workspaceId,activeFlowName:Pt.SwitchBranch,activeFlowState:at.SwitchBranchFlowInProgress,isIntermidiateStep:!1,progressState:lt.GitActionStart},t)}),(0,r.on)(Kt,function(t,e){var i=e.gitSwitchBranchState,n=t.entities[i.workspaceId];return n&&me(Pt.SwitchBranch,n)?pt.upsertOne((0,s.pi)((0,s.pi)({},n),{progressState:lt.GitActionInProgress}),t):pt.upsertOne({workspaceId:i.workspaceId,activeFlowName:Pt.SwitchBranch,progressState:lt.GitActionInProgress,activeFlowState:at.SwitchBranchFlowInProgress,isIntermidiateStep:!1},t)}),(0,r.on)(Nt,function(t,e){var n=t.entities[e.gitSwitchBranchState.workspaceId];return n?pt.upsertOne((0,s.pi)((0,s.pi)({},n),{progressState:lt.GitActionDone}),t):t}),(0,r.on)(pe,Qt,function(t,e){var n=t.entities[e.gitSwitchBranchState.workspaceId];return n?pt.upsertOne((0,s.pi)((0,s.pi)({},n),{activeFlowState:at.None,progressState:lt.None,isIntermidiateStep:!1}),t):t}),(0,r.on)(oe,function(t,e){return pt.upsertOne({workspaceId:e.gitUpdateState.workspaceId,activeFlowName:Pt.Update,activeFlowState:e.isInitialSync?at.UpdateInitialFlowInProgress:at.UpdateFlowInProgress,isIntermidiateStep:!1,progressState:lt.GitActionStart},t)}),(0,r.on)(ae,function(t,e){var i=e.gitUpdateState,n=t.entities[i.workspaceId];return n&&me(Pt.Update,n)?pt.upsertOne((0,s.pi)((0,s.pi)({},n),{progressState:lt.GitActionInProgress}),t):pt.upsertOne({workspaceId:i.workspaceId,activeFlowName:Pt.Update,progressState:lt.GitActionInProgress,activeFlowState:at.UpdateFlowInProgress,isIntermidiateStep:!1},t)}),(0,r.on)(Te,function(t,e){var n=t.entities[e.gitUpdateStateWithResponse.workspaceId];return n?pt.upsertOne((0,s.pi)((0,s.pi)({},n),{progressState:lt.GitActionDone}),t):t}),(0,r.on)(Ee,De,function(t,e){var n=t.entities[e.gitUpdateState.workspaceId];return n?pt.upsertOne((0,s.pi)((0,s.pi)({},n),{activeFlowState:at.None,progressState:lt.None,isIntermidiateStep:!1}),t):t}),(0,r.on)(b,y,o,function(t,e){var u=t.entities[e.workspaceId];return e.isTriggeredByGitAction&&u?.progressState===lt.GitActionDone?pt.upsertOne((0,s.pi)((0,s.pi)({},u),{isIntermidiateStep:!0,progressState:lt.GitSyncStart}),t):t}),(0,r.on)(M,U,x,function(t,e){var n=t.entities[e.gitStatus.workspaceId];return n?.isIntermidiateStep&&n?.progressState===lt.GitSyncStart?pt.upsertOne((0,s.pi)((0,s.pi)({},n),{activeFlowState:at.None,progressState:lt.GitSyncDone,isIntermidiateStep:!1}),t):t}),(0,r.on)(k,v,Y,function(t,e){var n=t.entities[e.workspaceId];return n?.isIntermidiateStep?pt.upsertOne((0,s.pi)((0,s.pi)({},n),{progressState:lt.None,isIntermidiateStep:!1}),t):t}),(0,r.on)(ot,function(t,e){return pt.upsertOne({workspaceId:e.gitCheckoutBranchState.workspaceId,activeFlowName:Pt.CheckoutBranch,activeFlowState:at.CheckoutBranchFlowInProgress,isIntermidiateStep:!1,progressState:lt.GitActionStart},t)}),(0,r.on)(Bt,function(t,e){var n=t.entities[e.gitCheckoutBranchState.workspaceId];return n?pt.upsertOne((0,s.pi)((0,s.pi)({},n),{progressState:lt.GitActionDone}),t):t}),(0,r.on)(bt,function(t,e){var n=t.entities[e.workspaceId];return n?pt.upsertOne((0,s.pi)((0,s.pi)({},n),{activeFlowState:at.None,progressState:lt.None,isIntermidiateStep:!1}),t):t}));function me(t,e){return e.activeFlowName===t&&(e.progressState===lt.GitActionStart||e.progressState===lt.GitActionInProgress)}var Vt=(0,A.H)({selectId:function(e){return e.workspaceId}}),Ae=(0,s.pi)({},Vt.getInitialState()),cr=(0,r.Lq)(Ae,(0,r.on)(zt,function(t,e){return Vt.upsertOne((0,s.pi)((0,s.pi)({},e.gitSwitchBranchState),{response:void 0,callState:ft.InProgress}),t)}),(0,r.on)(Kt,function(t,e){return Vt.upsertOne((0,s.pi)((0,s.pi)({},e.gitSwitchBranchState),{callState:ft.InProgress}),t)}),(0,r.on)(Nt,function(t,e){var i=e.gitSwitchBranchState;return Vt.upsertOne((0,s.pi)((0,s.pi)({},i),{callState:ft.Completed,response:i.response,notificationId:void 0}),t)}),(0,r.on)(Qt,function(t,e){return Vt.upsertOne((0,s.pi)((0,s.pi)({},e.gitSwitchBranchState),{callState:ft.Completed,notificationId:void 0}),t)}),(0,r.on)(pe,function(t,e){var n=e.error;return Vt.upsertOne((0,s.pi)((0,s.pi)({},e.gitSwitchBranchState),{callState:n,notificationId:void 0}),t)}),(0,r.on)(l,function(t,e){return Vt.removeOne(e.workspaceId,t)})),ti=(0,r.PH)("[GitSessionStorage] select Git provider type",(0,r.Ky)()),ei=(0,r.PH)("[GitSessionStorage] select datasource",(0,r.Ky)()),ii=(0,r.PH)("[GitSessionStorage] select temp datasource",(0,r.Ky)()),ri=(0,r.PH)("[GitSessionStorage] set datasource url",(0,r.Ky)()),ni=(0,r.PH)("[GitSessionStorage] reset datasource url",(0,r.Ky)()),oi=(0,r.PH)("[GitSessionStorage] select organization",(0,r.Ky)()),ai=(0,r.PH)("[GitSessionStorage] select repository",(0,r.Ky)()),ci=(0,r.PH)("[GitSessionStorage] select branch",(0,r.Ky)()),si=(0,r.PH)("[GitSessionStorage] select directory",(0,r.Ky)()),li=(0,r.PH)("[GitSessionStorage] select userAccount",(0,r.Ky)()),di=(0,r.PH)("[GitSessionStorage] configure credentials",(0,r.Ky)()),ui=(0,r.PH)("[GitSessionStorage] delete credentials",(0,r.Ky)()),pi=(0,r.PH)("[GitSessionStorage] select workspace capacity",(0,r.Ky)()),Et=(0,A.H)({selectId:function(e){return e.workspaceId}}),Ue=(0,s.pi)({},Et.getInitialState()),lr=(0,r.Lq)(Ue,(0,r.on)(ti,function(t,e){return Et.upsertOne({workspaceId:e.workspaceId,selectedGitProviderType:e.gitProviderType},t)}),(0,r.on)(ei,function(t,e){var i=e.workspaceId,n=e.datasourceOID,u=t.entities[i];return u&&u.selectedDatasourceOID===n?t:Et.upsertOne({workspaceId:i,selectedDatasourceOID:n},t)}),(0,r.on)(ii,function(t,e){return Et.upsertOne({workspaceId:e.workspaceId,selectedTempDatasourceOID:e.datasourceOID},t)}),(0,r.on)(oi,function(t,e){var n=e.organization;return Et.upsertOne({workspaceId:e.workspaceId,selectedOrganization:n?{name:n,setByDatasource:!1}:void 0},t)}),(0,r.on)(ai,function(t,e){var n=e.repository;return Et.upsertOne({workspaceId:e.workspaceId,selectedRepository:n?{name:n,setByDatasource:!1}:void 0},t)}),(0,r.on)(ci,function(t,e){return Et.upsertOne({workspaceId:e.workspaceId,selectedBranch:e.branch},t)}),(0,r.on)(si,function(t,e){return Et.upsertOne({workspaceId:e.workspaceId,selectedDirectory:e.directory},t)}),(0,r.on)(ri,function(t,e){return Et.upsertOne({workspaceId:e.workspaceId,selectedOrganization:{name:e.organization,setByDatasource:!0},selectedRepository:{name:e.repository,setByDatasource:!0}},t)}),(0,r.on)(ni,function(t,e){return Et.upsertOne({workspaceId:e.workspaceId,selectedOrganization:void 0,selectedRepository:void 0},t)}),(0,r.on)(li,function(t,e){return Et.upsertOne({workspaceId:e.workspaceId,selectedUserAccount:e.userAccount},t)}),(0,r.on)(di,function(t,e){return Et.upsertOne({workspaceId:e.workspaceId,isConfigured:!0},t)}),(0,r.on)(ui,function(t,e){return Et.updateOne({id:e.workspaceId,changes:{selectedUserAccount:void 0,isConfigured:!1}},t)}),(0,r.on)(P,function(t,e){var i,n,u,g=e.gitConnection;return Et.upsertOne({workspaceId:g.workspaceId,selectedGitProviderType:null===(i=g.gitConnectionDetails)||void 0===i?void 0:i.gitProviderType,selectedDatasourceOID:null===(n=g.gitConnectionDetails)||void 0===n?void 0:n.datasourceOID,isConfigured:void 0!==(null===(u=g.gitConnectionDetails)||void 0===u?void 0:u.datasourceOID)},t)}),(0,r.on)(h,function(t,e){return Et.updateOne({id:e.workspaceId,changes:{selectedBranch:void 0,selectedDatasourceOID:void 0,selectedTempDatasourceOID:void 0,selectedGitProviderType:void 0,selectedDirectory:void 0,selectedOrganization:void 0,selectedRepository:void 0,selectedUserAccount:void 0,isConfigured:void 0}},t)}),(0,r.on)(pi,function(t,e){return Et.upsertOne({workspaceId:e.workspaceId,isWorkspaceOnCapaity:e.isWorkspaceOnCapacity},t)})),Rt=(0,A.H)({selectId:function(e){return e.workspaceId}}),ze=(0,s.pi)({},Rt.getInitialState()),ur=(0,r.Lq)(ze,(0,r.on)(ve,function(t,e){return Rt.upsertOne((0,s.pi)((0,s.pi)({},e.gitBranchOutState),{response:void 0,callState:Q.InProgress}),t)}),(0,r.on)(Jt,function(t,e){var i=e.gitBranchOutState;return Rt.upsertOne((0,s.pi)((0,s.pi)({},i),{callState:Q.InProgress,response:i.response}),t)}),(0,r.on)(ge,function(t,e){var i=e.gitBranchOutState;return Rt.upsertOne((0,s.pi)((0,s.pi)({},i),{callState:Q.InProgress,response:i.response}),t)}),(0,r.on)(Se,function(t,e){var i=e.gitBranchOutState;return Rt.upsertOne((0,s.pi)((0,s.pi)({},i),{callState:Q.Completed,response:i.response}),t)}),(0,r.on)(fe,function(t,e){var i=e.gitBranchOutState;return Rt.upsertOne((0,s.pi)((0,s.pi)({},i),{callState:Q.Completed,response:i.response}),t)}),(0,r.on)(re,function(t,e){var n=e.error;return Rt.upsertOne((0,s.pi)((0,s.pi)({},e.gitBranchOutState),{callState:n}),t)}),(0,r.on)(Ce,function(t,e){return Rt.removeOne(e.gitBranchOutState.workspaceId,t)})),ye=(0,r.PH)("[GitDatasources] Load Datasources",(0,r.Ky)()),vi=(0,r.PH)("[GitDatasources] Load Datasources Success",(0,r.Ky)()),Ne=(0,r.PH)("[GitDatasources] Load Datasources Failure",(0,r.Ky)()),Ke=(0,r.PH)("[GitDatasources] Create Datasource",(0,r.Ky)()),vr=(0,r.PH)("[GitDatasources] Create Datasource Success",(0,r.Ky)()),Re=(0,r.PH)("[GitDatasources] Create Datasource Failure",(0,r.Ky)()),qt=(0,A.H)({selectId:function(e){return e.workspaceId}}),je=(0,s.pi)({},qt.getInitialState()),gr=(0,r.Lq)(je,(0,r.on)(ye,function(t,e){return qt.upsertOne({workspaceId:e.gitDatasourceRequest.workspaceId,callState:_t.InProgress},t)}),(0,r.on)(vi,function(t,e){return qt.upsertOne((0,s.pi)((0,s.pi)({},e.gitDatasourcesState),{callState:_t.Completed}),t)}),(0,r.on)(Ne,Re,function(t,e){return qt.updateOne({id:e.workspaceId,changes:{callState:e.error}},t)}),(0,r.on)(Ke,function(t,e){return qt.upsertOne({workspaceId:e.request.workspaceId,callState:_t.InProgress},t)})),gi=(0,r.PH)("[GitRepairItems] Repair Items in Git",(0,r.Ky)()),_r=(0,r.PH)("[GitRepairItems] Repair Items in Git inProgress",(0,r.Ky)()),fi=(0,r.PH)("[GitRepairItems] Repair Items in Git success",(0,r.Ky)()),_i=(0,r.PH)("[GitRepairItems] Repair Items in Git failure ",(0,r.Ky)()),se=(0,A.H)({selectId:function(e){return e.workspaceId}}),He=(0,s.pi)({},se.getInitialState()),hr=(0,r.Lq)(He,(0,r.on)(gi,_r,function(t,e){return se.upsertOne((0,s.pi)((0,s.pi)({},e.gitRepairState),{callState:yt.InProgress}),t)}),(0,r.on)(fi,function(t,e){var i=e.gitRepairStateWithResponse;return se.upsertOne((0,s.pi)((0,s.pi)({},i),{response:i.response,callState:yt.Completed}),t)}),(0,r.on)(_i,function(t,e){var n=e.error;return se.upsertOne((0,s.pi)((0,s.pi)({},e.gitRepairState),{callState:n,notificationId:void 0}),t)})),yr={gitStatus:function(t,e){return d(t,e)},gitConnection:function(t,e){return Ie(t,e)},gitCommit:function(t,e){return _e(t,e)},gitUpdate:function(t,e){return Zi(t,e)},gitInitialization:function(t,e){return qi(t,e)},gitSync:function(t,e){return er(t,e)},gitUndo:function(t,e){return rr(t,e)},gitProgressIndicator:function(t,e){return or(t,e)},gitSwitchBranch:function(t,e){return cr(t,e)},gitSessionStorage:function(t,e){return lr(t,e)},gitBranchOut:function(t,e){return ur(t,e)},gitDatasources:function(t,e){return gr(t,e)},gitRepair:function(t,e){return hr(t,e)}},kt=(0,r.ZF)("git"),dt=a(11547),W=a(14172),nt=a(81905),Dt=a(59822),te=a(67758),At=a(65232),Gr=a(12315),Sr=function(t){return t[t.SingleCall=0]="SingleCall",t[t.SeparateCalls=1]="SeparateCalls",t}({});function Cr(t){var e=Gr.RG,i=e.includes(t);if(i)return t;if(!i){var n=e.findIndex(function(u){return t.toLowerCase()===u.toLowerCase()});if(n>=0)return e[n]}throw Error("Invalid ArtifactType: "+t)}function Ir(t,e){return{artifact:(0,s.pi)((0,s.pi)({},t.artifact),{artifactType:e.getFrontendArtifactType(t.artifact.artifactType)}),remoteChange:{displayName:t.artifact.displayName,changeType:t.gitChangeType},syncStatus:0}}function mi(t,e){var i=e.getFrontendArtifactType(t.artifact.artifactType);return{artifact:(0,s.pi)((0,s.pi)({},t.artifact),{artifactType:Cr(i)}),workspaceChange:{displayName:t.artifact.displayName,changeType:t.gitChangeType},syncStatus:0}}function Le(t,e,i,n){return{workspaceId:t,head:e,gitChanges:i,incomingChangesCommitHash:n||void 0}}var p=a(50423),Dr=function(){function t(e,i,n,u){var g=this;this.actions$=e,this.gitStatusClient=i,this.gitErrorService=n,this.extensionManifestService=u,this.loadUncommittedChanges$=(0,c.GW)(function(){return g.actions$.pipe((0,c.l4)(y),(0,W.U)(function(I){return I.workspaceId}),(0,nt.w)(function(I){return g.gitStatusClient.getUncommittedChanges(I).pipe((0,W.U)(function(w){return g.updateGitStatusWithUncommittedChanges(I,w)}),(0,W.U)(function(w){return M({gitStatus:w})}),(0,Dt.K)(function(w){var C=g.gitErrorService.makeGitErrorFromHttpResponse("Git_Status_Failed",w);return(0,dt.of)(k({workspaceId:I,error:C}))}))}))}),this.loadIncomingChanges$=(0,c.GW)(function(){return g.actions$.pipe((0,c.l4)(b),(0,W.U)(function(I){return I.workspaceId}),(0,nt.w)(function(I){return g.gitStatusClient.getIncomingChanges(I).pipe((0,W.U)(function(w){return g.updateGitStatusWithIncomingChanges(I,w)}),(0,W.U)(function(w){return U({gitStatus:w})}),(0,Dt.K)(function(w){var C=g.gitErrorService.makeGitErrorFromHttpResponse("Git_Status_Failed",w);return(0,dt.of)(v({workspaceId:I,error:C}))}))}))}),this.loadGitStatus$=(0,c.GW)(function(){return g.actions$.pipe((0,c.l4)(o),(0,W.U)(function(I){return I.workspaceId}),(0,nt.w)(function(I){return g.gitStatusClient.getGitStatus(I).pipe((0,W.U)(function(w){return g.gitStatusContractToModel(I,w)}),(0,W.U)(function(w){return x({gitStatus:w})}),(0,Dt.K)(function(w){var C=g.gitErrorService.makeGitErrorFromHttpResponse("Git_Status_Failed",w);return(0,dt.of)(Y({workspaceId:I,error:C}))}))}))})}return t.prototype.updateGitStatusWithIncomingChanges=function(e,i){var n=function(t,e){for(var i=[],n=0,u=t.changes;n<u.length;n++)i.push(Ir(u[n],e));return i}(i,this.extensionManifestService);return Le(e,i.head,n,i.targetCommit.commitId)},t.prototype.updateGitStatusWithUncommittedChanges=function(e,i){var n=function(t,e){for(var i=[],n=0,u=t.changes;n<u.length;n++)i.push(mi(u[n],e));return i}(i,this.extensionManifestService);return Le(e,i.head,n)},t.prototype.gitStatusContractToModel=function(e,i){var n,u=function(t,e){var i=[];if(null==t.changes)return i;for(var n=0,u=t.changes;n<u.length;n++){var g=u[n],I=g;I.artifact.artifactType=e.getFrontendArtifactType(g.artifact.artifactType),i.push(I)}return i}(i,this.extensionManifestService);return Le(e,i.head,u,null===(n=i.targetCommit)||void 0===n?void 0:n.commitId)},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(c.eX),p.\u0275\u0275inject(N.mK),p.\u0275\u0275inject(At.jR),p.\u0275\u0275inject(te.vC))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}(),yi=a(37272),jt=a(12385),le=a(94771),Gi=(0,r.P1)(kt,function(t){return t?.gitConnection||ne}),Si=Gt.getSelectors(),Br=Si.selectAll,Mr=Si.selectEntities,Ci=((0,r.P1)(Gi,function(t){return Br(t)}),(0,r.P1)(Gi,function(t){return Mr(t)})),We=function(e){return(0,r.P1)(Ci,function(i){return i[e]})};function de(t,e,i){return i?[o({workspaceId:t,isTriggeredByGitAction:e})]:[b({workspaceId:t,isTriggeredByGitAction:e}),y({workspaceId:t,isTriggeredByGitAction:e})]}var Or=function(){function t(e,i,n,u,g,I,w){var C=this;this.actions$=e,this.gitConnectionDetailsClient=i,this.gitErrorService=n,this.gitNotificationService=u,this.extensionManifestService=g,this.store=I,this.featureSwitchService=w,this.ensureGitConnection$=(0,c.GW)(function(){return C.actions$.pipe((0,c.l4)(q),(0,W.U)(function(E){return E.workspaceId}),(0,c.IC)(function(E){return C.store.select(We(E))}),(0,nt.w)(function(E){var O=E[0],F=E[1];return F?.gitConnectionDetails&&F.callState===$.Completed||!F?.gitConnectionDetails&&(0,f.pb)(F?.callState)?yi.E:(0,dt.of)(B({workspaceId:O}))}))}),this.loadGitConnection$=(0,c.GW)(function(){return C.actions$.pipe((0,c.l4)(B),(0,W.U)(function(E){return E.workspaceId}),(0,nt.w)(function(E){return C.gitConnectionDetailsClient.getGitConnectionDetails(E).pipe((0,W.U)(function(O){return C.gitConnectionContractToModel(E,O)}),(0,W.U)(function(O){return P({gitConnection:O})}),(0,Dt.K)(function(O){var F=C.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",O);return(0,dt.of)(V({workspaceId:E,error:F}))}))}))}),this.saveGitConnection$=(0,c.GW)(function(){return C.actions$.pipe((0,c.l4)(rt),(0,W.U)(function(E){return E.gitConnection}),(0,nt.w)(function(E){if(!E.gitConnectionDetails){var O=C.gitErrorService.makeClientSideGitError("Git_Invalid_Connection_Details");return C.gitNotificationService.showErrorNotification(O,"Trident_Git_Error_Git_Invalid_Connection_Details_Title"),(0,dt.of)(It({gitConnection:E,error:O}))}var F=C.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Connect_Loading");return C.gitConnectionDetailsClient.setGitConnectionDetails(E.workspaceId,E.gitConnectionDetails).pipe((0,W.U)(function(){return C.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Connect_Success",F),tt({gitConnection:E})}),(0,Dt.K)(function(z){var Z=C.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",z);return(0,f.yG)(Z)?C.gitNotificationService.hideCurrentNotification():C.gitNotificationService.showErrorNotification(Z,"Trident_Git_Error_Git_Invalid_Connection_Details_Title",F),(0,dt.of)(It({gitConnection:E,error:Z}))}))}))}),this.gitCheckoutBranch$=(0,c.GW)(function(){return C.actions$.pipe((0,c.l4)(ot),(0,W.U)(function(E){return E.gitCheckoutBranchState}),(0,nt.w)(function(E){return C.gitConnectionDetailsClient.checkoutBranch(E.workspaceId,E.request).pipe((0,nt.w)(function(){var O;return C.gitNotificationService.showSuccessNotification("Trident_Git_Toast_CheckoutBranch_Success"),(0,s.ev)([Bt({gitCheckoutBranchState:E}),Ut({workspaceId:E.workspaceId})],de(E.workspaceId,!0,null!==(O=C.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==O&&O),!0)}),(0,Dt.K)(function(O){var F=C.gitErrorService.makeGitErrorFromHttpResponse("Git_Checkout_Branch_Failed",O);return(0,f.xT)(F,"Git_BranchNameAlreadyExists")||C.gitNotificationService.showErrorNotification(F,"Trident_Git_Error_Git_Checkout_Branch_Failed_Title"),(0,dt.of)(bt({workspaceId:E.workspaceId,error:F}))}))}))}),this.deleteGitConnection$=(0,c.GW)(function(){return C.actions$.pipe((0,c.l4)(Ot),(0,W.U)(function(E){return E.workspaceId}),(0,nt.w)(function(E){var O=C.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Disconnect_Loading_Title","Trident_Git_Toast_Disconnect_Loading_Message");return C.gitConnectionDetailsClient.deleteGitConnectionDetails(E).pipe((0,nt.w)(function(){return C.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Disconnect_Success",O),[h({workspaceId:E}),l({workspaceId:E}),Tt({workspaceId:E}),D({workspaceId:E})]}),(0,Dt.K)(function(F){var z=C.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",F);return C.gitNotificationService.showErrorNotification(z,"Trident_Git_Error_Git_Disconnect_Failed_Title",O),(0,dt.of)(j({workspaceId:E,error:z}))}))}))})}return t.prototype.gitConnectionContractToModel=function(e,i){var Z=i.datasourceOID;return{workspaceId:e,gitConnectionDetails:{gitProviderType:i.gitProviderType,organizationName:i.organizationName,projectName:i.projectName,repositoryName:i.repositoryName,branchName:i.branchName,rootDirectory:i.rootDirectory,head:i.head,isInitialized:!!i.isInitialized,lastSyncTime:i.lastSyncTime,supportedArtifactTypeNames:this.ConvertArtifactNamesBackendToFrontEnd(i.supportedArtifactTypeNames),datasourceOID:Z}}},t.prototype.ConvertArtifactNamesBackendToFrontEnd=function(e){var i=this;if(e)return e.map(function(n){return i.extensionManifestService.getFrontendArtifactType(n)})},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(c.eX),p.\u0275\u0275inject(N.i),p.\u0275\u0275inject(At.jR),p.\u0275\u0275inject(jt.mn),p.\u0275\u0275inject(te.vC),p.\u0275\u0275inject(r.yh),p.\u0275\u0275inject(le.V$))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}(),Fr=a(59017),ue=a(59973),$t=a(48787),Ii=(0,r.P1)(kt,function(t){return t?.gitStatus||X}),wi=ct.getSelectors(),Pr=wi.selectAll,kr=wi.selectEntities,Ti=((0,r.P1)(Ii,function(t){return Pr(t)}),(0,r.P1)(Ii,function(t){return kr(t)})),ee=function(e){return(0,r.P1)(Ti,function(i){return i[e]})},Ve=function(){function t(e){this.store=e}return t.prototype.getGitStatus=function(e){return this.store.select(ee(e))},t.prototype.loadGitStatus=function(e){return this.store.dispatch(o({workspaceId:e})),this.getGitStatus(e)},t.prototype.getStatusLoadingState=function(e){return this.store.select(ee(e)).pipe((0,W.U)(function(i){var n;return null!==(n=i?.statusCallState)&&void 0!==n?n:L.Initial}))},t.prototype.getAllChanges=function(e){return this.getGitStatus(e).pipe((0,W.U)(function(i){var n;return null!==(n=i?.gitChanges)&&void 0!==n?n:[]}))},t.prototype.getUncommittedChanges=function(e){return this.getGitStatus(e).pipe((0,W.U)(function(i){var n,u;return null!==(u=null===(n=i?.gitChanges)||void 0===n?void 0:n.filter(function(g){return g.workspaceChange}))&&void 0!==u?u:[]}))},t.prototype.loadUncommittedChanges=function(e){return this.store.dispatch(y({workspaceId:e})),this.getUncommittedChanges(e)},t.prototype.getUncommittedChangesLoadingState=function(e){return this.store.select(ee(e)).pipe((0,W.U)(function(i){return i&&i.uncommittedChangesCallState||L.Initial}))},t.prototype.getUncommittedArtifactsSelectionState=function(e){return this.store.select(ee(e)).pipe((0,W.U)(function(i){return i&&i.uncommittedChangesArtifactSelectionState||{selectedArtifacts:[]}}))},t.prototype.setChangesArtifactSelection=function(e,i,n,u){this.store.dispatch(J({workspaceId:e,artifactId:i,logicalId:n,isChecked:u}))},t.prototype.clearChangesArtifactSelection=function(e){this.store.dispatch(T({workspaceId:e}))},t.prototype.getIncomingChanges=function(e){return this.getGitStatus(e).pipe((0,W.U)(function(i){var n,u;return null!==(u=null===(n=i?.gitChanges)||void 0===n?void 0:n.filter(function(g){return g.remoteChange}))&&void 0!==u?u:[]}))},t.prototype.loadIncomingChanges=function(e){return this.store.dispatch(b({workspaceId:e})),this.getIncomingChanges(e)},t.prototype.getIncomingChangesLoadingState=function(e){return this.store.select(ee(e)).pipe((0,W.U)(function(i){return i&&i.incomingChangesCallState||L.Initial}))},t.prototype.getIncomingChangesCommitId=function(e){return this.store.select(ee(e)).pipe((0,W.U)(function(i){return i?.incomingChangesCommitHash}))},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(r.yh))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Ei=(0,r.P1)(kt,function(t){return t?.gitCommit||Xt}),Di=ht.getSelectors(),xr=Di.selectAll,Ar=Di.selectEntities,Ur=((0,r.P1)(Ei,function(t){return xr(t)}),(0,r.P1)(Ei,function(t){return Ar(t)})),Nr=function(){function t(e,i,n,u,g,I,w,C){var E=this;this.actions$=e,this.gitCommitClient=i,this.gitErrorService=n,this.gitNotificationService=u,this.extensionManifestService=g,this.gitStatusFacade=I,this.store=w,this.featureSwitchService=C,this.commitToGit$=(0,c.GW)(function(){return E.actions$.pipe((0,c.l4)(R),(0,W.U)(function(O){var F=O.gitCommitState,z=O.isInitialSync,Z=E.gitNotificationService.showLoadingNotification(z?"Trident_Git_Toast_Initial_Commit_Loading":"Trident_Git_Toast_Commit_Loading_Title",z?void 0:"Trident_Git_Toast_Commit_Loading_Message");return(0,s.pi)((0,s.pi)({},F),{isInitialSync:z,notificationId:Z})}),(0,nt.w)(function(O){return(0,Fr.aj)([E.gitCommitClient.commitArtifacts(O.workspaceId,E.fromGitCommitContractToGitCommitRequest(O.request))]).pipe((0,nt.w)(function(F){var z=F[0],Z=(0,s.pi)((0,s.pi)({},O),{response:{almAction:z.almOperation,responseDate:z.responseDate}});return[H({gitCommitState:Z})]}),(0,Dt.K)(function(F){var z=E.gitErrorService.makeGitErrorFromHttpResponse(" Git_Commit_Invalid_Request",F);return O?.notificationId&&(E.gitNotificationService.showErrorNotification(z,"Trident_Git_Error_Unable_To_Commit_Title",O.notificationId),E.gitErrorService.showErrorHandlingDialog(z)),(0,dt.of)(wt({gitCommitState:O,error:z}))}))}))}),this.getLatestGitAlmOperationSuccess$=(0,c.GW)(function(){return E.actions$.pipe((0,c.l4)(Ft),(0,W.U)(function(O){return O.gitSyncState}),(0,ue.h)(function(O){return E.isLatestOpValid(O)}),(0,nt.w)(function(O){return E.store.select(function(e){return(0,r.P1)(Ur,function(i){return i[e]})}(O.workspaceId)).pipe((0,$t.q)(1),(0,nt.w)(function(F){return E.getActions(O,F)}))}))})}return t.prototype.isLatestOpValid=function(e){return!!e?.isValid&&e.gitOperationType===f.u9.Commit},t.prototype.getActions=function(e,i){var n,u=i&&i.workspaceId===e.workspaceId?{workspaceId:i.workspaceId,request:i.request,response:i?.response,isInitialSync:i?.isInitialSync,notificationId:i?.notificationId}:{workspaceId:e.workspaceId,request:void 0};switch(e.gitOperationStatus){case f.wM.Successful:return i?.notificationId&&this.gitNotificationService.showSuccessNotification(i?.isInitialSync?"Trident_Git_Toast_Initial_Action_Success":"Trident_Git_Toast_Commit_Success",i.notificationId),this.gitStatusFacade.clearChangesArtifactSelection(u.workspaceId),(0,s.ev)((0,s.ev)([gt({gitCommitStateWithResponse:u})],de(u.workspaceId,!0,null!==(n=this.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==n&&n),!0),[Tt({workspaceId:u.workspaceId})],!1);case f.wM.InProgress:return[H({gitCommitState:u})];case f.wM.Failed:var g=this.gitErrorService.handleAlmGitError("AlmOperationFailed_CommitToGit",e);return i?.notificationId&&(this.gitNotificationService.showErrorNotification(g,"Trident_Git_Error_Unable_To_Commit_Title",i.notificationId),this.gitErrorService.showErrorHandlingDialog(g)),[Mt({gitCommitState:u}),Tt({workspaceId:u.workspaceId})]}return[H({gitCommitState:u})]},t.prototype.fromGitCommitContractToGitCommitRequest=function(e){var i=this;return{artifacts:e.artifacts.map(function(u){return i.fromGitArtifactChangeToArtifactSelector(u)}),workspaceHead:e.workspaceHead,comment:e.comment}},t.prototype.fromGitArtifactChangeToArtifactSelector=function(e){var i=e.artifact;return{artifactType:this.extensionManifestService.getBackendArtifactType(i.artifactType),etag:i.etag,objectId:i.objectId,logicalId:i.logicalId,changeType:e.workspaceChange.changeType}},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(c.eX),p.\u0275\u0275inject(N.ce),p.\u0275\u0275inject(At.jR),p.\u0275\u0275inject(jt.mn),p.\u0275\u0275inject(te.vC),p.\u0275\u0275inject(Ve),p.\u0275\u0275inject(r.yh),p.\u0275\u0275inject(le.V$))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}(),Kr=a(32980),Bi=(a(17177),a(51897),a(14977),a(95228),a(32293)),Rr=a(41838),ie=function(t){return t[t.CommitToGit=100]="CommitToGit",t[t.UpdateFromGit=101]="UpdateFromGit",t[t.InitializeWorkspaceGitConnection=102]="InitializeWorkspaceGitConnection",t[t.Undo=103]="Undo",t[t.CheckoutBranch=104]="CheckoutBranch",t[t.SwitchBranch=105]="SwitchBranch",t}({}),$e=function(t){return t[t.NonFinalBase=0]="NonFinalBase",t[t.FinalBase=1001]="FinalBase",t[t.FinalSuccessBase=1001]="FinalSuccessBase",t[t.FinalErrorBase=2001]="FinalErrorBase",t[t.Created=0]="Created",t[t.Approval_Pending=10]="Approval_Pending",t[t.Execution_Pending=20]="Execution_Pending",t[t.Executing_Running=30]="Executing_Running",t[t.Succeeded=1001]="Succeeded",t[t.SucceededWithWarning_RefreshSkipped=1011]="SucceededWithWarning_RefreshSkipped",t[t.SucceededWithWarning_MissingCredentials=1012]="SucceededWithWarning_MissingCredentials",t[t.Failed_GenericError=2001]="Failed_GenericError",t[t.Failed_GenericDryRunError=2006]="Failed_GenericDryRunError",t[t.Approval_Abandoned=2011]="Approval_Abandoned",t[t.Approval_Rejected=2012]="Approval_Rejected",t[t.Execution_Cancelled=2021]="Execution_Cancelled",t[t.Execution_UnsupportedOperationType=2031]="Execution_UnsupportedOperationType",t[t.Execution_UnsupportedStepType=2032]="Execution_UnsupportedStepType",t[t.Execution_NoSteps=2033]="Execution_NoSteps",t}({}),jr=function(t){return t[t.SingleOption=0]="SingleOption",t[t.None=1]="None",t}({}),Ge=a(77476),Hr=a(95825),Lr=a(74913),Wr=a(64266),Vr=a(94243),$r=a(10965),Qr=a(37350),Xr=a(89330),Jr=a(55334);function Zr(t,e){1&t&&p.\u0275\u0275element(0,"tri-svg-icon",16)}function Yr(t,e){if(1&t&&(p.\u0275\u0275elementStart(0,"tri-pivot-item",11)(1,"span",12),p.\u0275\u0275template(2,Zr,1,0,"tri-svg-icon",13),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(3,"tri-svg-icon",14),p.\u0275\u0275elementStart(4,"span",15),p.\u0275\u0275text(5),p.\u0275\u0275elementEnd()()),2&t){var u,g,i=e.$implicit,n=p.\u0275\u0275nextContext();p.\u0275\u0275property("value",i),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngIf",n.isArtifactOptionSelected(i)),p.\u0275\u0275advance(1),p.\u0275\u0275property("sprite",null==(u=n.localGetArtifactIconFromDict(n.getArtifactType(i)))?null:u.sprite)("name",null==(g=n.localGetArtifactIconFromDict(n.getArtifactType(i)))?null:g.name),p.\u0275\u0275advance(1),p.\u0275\u0275attribute("aria-label",null==i.failedArtifactMetadata?null:i.failedArtifactMetadata.artifactDisplayName),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",null==i.failedArtifactMetadata?null:i.failedArtifactMetadata.artifactDisplayName," ")}}function qr(t,e){if(1&t){var i=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementContainerStart(0,19),p.\u0275\u0275elementStart(1,"tri-checkbox",20),p.\u0275\u0275listener("onChange",function(){p.\u0275\u0275restoreView(i);var g=p.\u0275\u0275nextContext(2);return p.\u0275\u0275resetView(g.checkBoxSelectionChanged(g.getSingleOption(g.displayError)))}),p.\u0275\u0275text(2),p.\u0275\u0275pipe(3,"localize"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementContainerEnd()}if(2&t){var n=p.\u0275\u0275nextContext(2);p.\u0275\u0275advance(1),p.\u0275\u0275property("checked",n.isArtifactOptionSelected(n.displayError)),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(3,2,n.getSingleOptionMessageKey(n.displayError))," ")}}function tn(t,e){if(1&t){var i=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"tri-radio-button",22),p.\u0275\u0275listener("change",function(){var w=p.\u0275\u0275restoreView(i).$implicit,C=p.\u0275\u0275nextContext(3);return p.\u0275\u0275resetView(C.radioButtonSelectionChanged(w))}),p.\u0275\u0275text(1),p.\u0275\u0275pipe(2,"localize"),p.\u0275\u0275elementEnd()}if(2&t){var n=e.$implicit,u=p.\u0275\u0275nextContext(3);p.\u0275\u0275property("value",n.OptionKey)("checked",u.isArtifactOptionSelected(u.displayError,n)),p.\u0275\u0275attribute("role","radio"),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",p.\u0275\u0275pipeBind1(2,4,n.OptionMessageKey)," ")}}function en(t,e){if(1&t&&(p.\u0275\u0275elementStart(0,"tri-radio-group"),p.\u0275\u0275template(1,tn,3,6,"tri-radio-button",21),p.\u0275\u0275elementEnd()),2&t){var i=p.\u0275\u0275nextContext(2);p.\u0275\u0275advance(1),p.\u0275\u0275property("ngForOf",null==i.displayError.interactiveOperationInfo?null:i.displayError.interactiveOperationInfo.options)}}function rn(t,e){if(1&t&&(p.\u0275\u0275elementContainerStart(0),p.\u0275\u0275template(1,qr,4,4,"ng-container",17),p.\u0275\u0275template(2,en,2,1,"ng-template",null,18,p.\u0275\u0275templateRefExtractor),p.\u0275\u0275elementContainerEnd()),2&t){var i=p.\u0275\u0275reference(3),n=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",1===n.displayErrorOptionsListSize)("ngIfElse",i)}}var nn=function(){function t(e,i,n){var u,g;this.extensionManifestService=e,this.dialogRef=i,this.data=n,this.localGetArtifactIconFromDict=Rr.zp,this.enabledOptions=new Map,this.displayError=(0,f.lz)(this.data.errors),this.displayErrorOptionsListSize=null!==(g=null===(u=this.displayError.interactiveOperationInfo)||void 0===u?void 0:u.options.length)&&void 0!==g?g:0,this.InteractionType=jr}return t.prototype.buttonClicked=function(e){if(e===this.data.buttons[0].name)return this.dialogRef.close(this.getInteractiveOperationsOptions(this.enabledOptions));this.dialogRef.close()},t.prototype.getInteractiveOperationsOptions=function(e){var i=[];return e.forEach(function(n,u){i.push({artifactLogicalId:u,optionName:n})}),{optionPerArtifactList:i}},t.prototype.convertDialogData=function(e){return{title:e.title,buttons:e.buttons}},t.prototype.onArtifactSelectionChange=function(e){var i,n;this.displayError=e,this.displayErrorOptionsListSize=null!==(n=null===(i=this.displayError.interactiveOperationInfo)||void 0===i?void 0:i.options.length)&&void 0!==n?n:0},t.prototype.radioButtonSelectionChanged=function(e){var i;this.enabledOptions.set(null===(i=this.displayError.failedArtifactMetadata)||void 0===i?void 0:i.artifactLogicalId,e.OptionKey),this.data.buttons[0].disabled=this.enabledOptions.size!==this.data.errors.errorsDetails.length},t.prototype.checkBoxSelectionChanged=function(e){var i,n,u;this.enabledOptions.has(null===(i=this.displayError.failedArtifactMetadata)||void 0===i?void 0:i.artifactLogicalId)?this.enabledOptions.delete(null===(n=this.displayError.failedArtifactMetadata)||void 0===n?void 0:n.artifactLogicalId):this.enabledOptions.set(null===(u=this.displayError.failedArtifactMetadata)||void 0===u?void 0:u.artifactLogicalId,e.OptionKey),this.data.buttons[0].disabled=this.enabledOptions.size!==this.data.errors.errorsDetails.length},t.prototype.getOptionsListSize=function(e){var i,n;return null!==(n=null===(i=e.interactiveOperationInfo)||void 0===i?void 0:i.options.length)&&void 0!==n?n:0},t.prototype.getSingleOption=function(e){var i;return null===(i=e.interactiveOperationInfo)||void 0===i?void 0:i.options[0]},t.prototype.getSingleOptionMessageKey=function(e){var i;return null===(i=e.interactiveOperationInfo)||void 0===i?void 0:i.options[0].OptionMessageKey},t.prototype.isArtifactOptionSelected=function(e,i){var n,u=null===(n=e.failedArtifactMetadata)||void 0===n?void 0:n.artifactLogicalId;return i?this.enabledOptions.has(u)&&this.enabledOptions.get(u)===i.OptionKey:this.enabledOptions.has(u)},t.prototype.getArtifactType=function(e){var i;return this.extensionManifestService.getFrontendArtifactType(null===(i=e.failedArtifactMetadata)||void 0===i?void 0:i.artifactType)},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275directiveInject(te.vC),p.\u0275\u0275directiveInject(Bi.so),p.\u0275\u0275directiveInject(Bi.WI))},t.\u0275cmp=p.\u0275\u0275defineComponent({type:t,selectors:[["interactive-operations-dialog"]],decls:14,vars:11,consts:[[3,"dialogData","closeButtonLabel","buttonClickEvent"],[1,"subtitle"],[1,"content"],[1,"artifacts"],["linkFormat","tab","direction","vertical",3,"selectedValue","selectedValueChange"],["class","artifact-details",3,"value",4,"ngFor","ngForOf"],[1,"divider"],[1,"options"],["tabindex","0",1,"message"],[1,"options-list-container",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"artifact-details",3,"value"],[1,"check-mark-icon"],["sprite","fluentui-icons","name","checkmark_12_filled",4,"ngIf"],["tri-svg-icon-22","",1,"artifact-icon",3,"sprite","name"],[1,"trimmedTextWithEllipsis"],["sprite","fluentui-icons","name","checkmark_12_filled"],["class","single-option",4,"ngIf","ngIfElse"],["multiOptions",""],[1,"single-option"],["ng-non-bindable","",3,"checked","onChange"],["ng-non-bindable","",3,"value","checked","change",4,"ngFor","ngForOf"],["ng-non-bindable","",3,"value","checked","change"]],template:function(i,n){1&i&&(p.\u0275\u0275elementStart(0,"trident-dialog",0),p.\u0275\u0275listener("buttonClickEvent",function(g){return n.buttonClicked(g)}),p.\u0275\u0275pipe(1,"localize"),p.\u0275\u0275elementStart(2,"div",1),p.\u0275\u0275text(3),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(4,"div",2)(5,"div",3)(6,"tri-pivot",4),p.\u0275\u0275listener("selectedValueChange",function(g){return n.onArtifactSelectionChange(g)}),p.\u0275\u0275template(7,Yr,6,6,"tri-pivot-item",5),p.\u0275\u0275elementEnd()(),p.\u0275\u0275element(8,"hr",6),p.\u0275\u0275elementStart(9,"div",7)(10,"div",8),p.\u0275\u0275text(11),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(12,"div",9),p.\u0275\u0275template(13,rn,4,2,"ng-container",10),p.\u0275\u0275elementEnd()()()()),2&i&&(p.\u0275\u0275property("dialogData",n.convertDialogData(n.data))("closeButtonLabel",p.\u0275\u0275pipeBind1(1,9,"Cancel_ButtonText")),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate1(" ",n.data.subTitle," "),p.\u0275\u0275advance(3),p.\u0275\u0275property("selectedValue",n.displayError),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngForOf",n.data.errors.errorsDetails),p.\u0275\u0275advance(3),p.\u0275\u0275attribute("aria-label",null==n.displayError.interactiveOperationInfo?null:n.displayError.interactiveOperationInfo.dialogMessage),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",null==n.displayError.interactiveOperationInfo?null:n.displayError.interactiveOperationInfo.dialogMessage," "),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngSwitch",null==n.displayError.interactiveOperationInfo?null:n.displayError.interactiveOperationInfo.interactionType),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngSwitchCase",n.InteractionType.SingleOption))},dependencies:[Ge.NgForOf,Ge.NgIf,Ge.NgSwitch,Ge.NgSwitchCase,Hr.v,Lr.M,Wr.E,Vr.B,$r.r,Qr.Y,Xr.Z,Jr.Y],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px}.subtitle[_ngcontent-%COMP%]{padding:0 0 16px}.artifacts[_ngcontent-%COMP%]   tri-pivot-item[_ngcontent-%COMP%]{width:220px;padding-bottom:10px;margin-inline-end:10px}.artifacts[_ngcontent-%COMP%]   .tri-pivot-item-tab[_ngcontent-%COMP%]{display:flex;gap:4px}.artifacts[_ngcontent-%COMP%]   .check-mark-icon[_ngcontent-%COMP%]{width:20px}hr.divider[_ngcontent-%COMP%]{border:1px solid var(--colorNeutralStroke1);height:inherit;margin:0}[_nghost-%COMP%]     .tri-pivot-item-tab{display:flex;gap:4px}.message[_ngcontent-%COMP%]{font-size:16px;font-weight:600;padding:0 0 10px}.options-list-container[_ngcontent-%COMP%]{max-height:100px;overflow-y:scroll}"],changeDetection:0}),t}(),sn=a(7452),Qe=function(){function t(e,i){this.dialogService=e,this.localizationService=i}return t.prototype.isOptionNotEnabled=function(e){return(0,f.lz)(e).workloadErrorCategory===f.QJ},t.prototype.showInteractiveOperationsDialog=function(e,i,n){var u=function(t,e,i){var n=t.get("Cancel_ButtonText"),u=t.get("ModalDialogButtonText_Continue"),g=t.get("Trident_Git_Interactive_Operations_Dialog_Message"),I={title:t.get(i),buttons:[{name:u,label:u,buttonType:"primary",disabled:!0},{name:n,label:n,buttonType:null}],subTitle:g,errors:e};return{componentRef:nn,config:{width:"864px",panelClass:"dialog-style",data:I}}}(this.localizationService,e,i);this.dialogService.open(u.componentRef,u.config).afterClosed().pipe((0,$t.q)(1),(0,ue.h)(function(g){return g})).subscribe(function(g){n(e,g)})},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(Kr.uQ),p.\u0275\u0275inject(sn.z))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Mi=(0,r.P1)(kt,function(t){return t?.gitUpdate||Be}),Oi=Lt.getSelectors(),ln=Oi.selectAll,dn=Oi.selectEntities,un=((0,r.P1)(Mi,function(t){return ln(t)}),(0,r.P1)(Mi,function(t){return dn(t)})),Xe=function(e){return(0,r.P1)(un,function(i){return i[e]})},Je=function(){function t(e){this.store=e}return t.prototype.getGitConnection=function(e){return this.store.select(We(e))},t.prototype.ensureGitConnection=function(e){return this.store.dispatch(q({workspaceId:e})),this.getGitConnection(e)},t.prototype.loadGitConnection=function(e){return this.store.dispatch(B({workspaceId:e})),this.getGitConnection(e)},t.prototype.saveGitConnection=function(e){return this.store.dispatch(rt({gitConnection:e})),(0,dt.of)(void 0)},t.prototype.deleteGitConnection=function(e){return this.store.dispatch(Ot({workspaceId:e})),(0,dt.of)(void 0)},t.prototype.checkoutBranch=function(e){return this.store.dispatch(ot({gitCheckoutBranchState:e})),(0,dt.of)(void 0)},t.prototype.getGitConnectionOperationState=function(e){return this.store.select(We(e)).pipe((0,W.U)(function(i){return i&&i.callState||$.Initial}))},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(r.yh))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),pn=function(){function t(e){this.store=e}return t.prototype.updateFromGit=function(e){return this.store.dispatch(oe({gitUpdateState:e})),this.store.select(Xe(e.workspaceId))},t.prototype.getUpdatingState=function(e){return this.store.select(Xe(e)).pipe((0,W.U)(function(i){return i&&i.callState||mt.Initial}))},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(r.yh))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),vn=function(){function t(e,i,n,u,g,I,w,C,E,O){var F=this;this.actions$=e,this.gitUpdateClient=i,this.gitErrorService=n,this.gitNotificationService=u,this.interactiveOperationsService=g,this.store=I,this.extensionManifestService=w,this.gitConnectionFacade=C,this.gitUpdateFacade=E,this.featureSwitchService=O,this.updateFromGit$=(0,c.GW)(function(){return F.actions$.pipe((0,c.l4)(oe),(0,W.U)(function(z){var Z=z.gitUpdateState,st=z.isInitialSync,qe=F.gitNotificationService.showLoadingNotification(st?"Trident_Git_Toast_Initial_Update_Loading":"Trident_Git_Toast_Update_Loading_Title",st?void 0:"Trident_Git_Toast_Update_Loading_Message");return(0,s.pi)((0,s.pi)({},Z),{isInitialSync:st,notificationId:qe})}),(0,nt.w)(function(z){return F.gitUpdateClient.UpdateArtifactsFromGit(z.workspaceId,F.updateFromGitModelToContract(z.request)).pipe((0,nt.w)(function(Z){var st=(0,s.pi)((0,s.pi)({},z),{response:{almAction:Z.almOperation}});return[ae({gitUpdateState:st})]}),(0,Dt.K)(function(Z){var st=F.gitErrorService.makeGitErrorFromHttpResponse("Git_Update_Invalid_Request",Z);return z?.notificationId&&(F.gitNotificationService.showErrorNotification(st,"Trident_Git_Error_Unable_To_Update_Title",z.notificationId),F.gitErrorService.showErrorHandlingDialog(st)),(0,dt.of)(Ee({gitUpdateState:z,error:st}))}))}))}),this.getLatestGitAlmOperationSuccess$=(0,c.GW)(function(){return F.actions$.pipe((0,c.l4)(Ft),(0,W.U)(function(z){return z.gitSyncState}),(0,ue.h)(function(z){return F.isLatestOpValid(z)}),(0,nt.w)(function(z){return F.store.select(Xe(z.workspaceId)).pipe((0,$t.q)(1),(0,nt.w)(function(Z){return F.getActions(z,Z)}))}))})}return t.prototype.isLatestOpValid=function(e){return!!e?.isValid&&e.gitOperationType===f.u9.Update},t.prototype.getActions=function(e,i){var u,n=this,g=i&&i.workspaceId===e.workspaceId?{workspaceId:i.workspaceId,request:i.request,response:i?.response,isInitialSync:i?.isInitialSync,notificationId:i?.notificationId}:{workspaceId:e.workspaceId,request:void 0};switch(e.gitOperationStatus){case f.wM.Successful:return i?.notificationId&&this.gitNotificationService.showSuccessNotification(i?.notificationId?"Trident_Git_Toast_Initial_Action_Success":"Trident_Git_Toast_Update_Success",i.notificationId),(0,s.ev)((0,s.ev)([Te({gitUpdateStateWithResponse:g})],de(g.workspaceId,!0,null!==(u=this.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==u&&u),!0),[Tt({workspaceId:g.workspaceId})],!1);case f.wM.InProgress:return[ae({gitUpdateState:g})];case f.wM.Failed:var I=this.gitErrorService.handleAlmGitError("AlmOperationFailed_UpdateFromGit",e);return i?.notificationId&&(this.featureSwitchService.featureSwitches.interactiveOperationUI&&this.interactiveOperationsService.isOptionNotEnabled(I)?(this.interactiveOperationsService.showInteractiveOperationsDialog(I,"Trident_Git_Updates_Fail_Message_Bar",function(w,C){return n.doUpdateFlowWithInteractiveOptions(w,C,e.workspaceId)}),this.gitNotificationService.hideCurrentNotification()):(this.gitNotificationService.showErrorNotification(I,"Trident_Git_Error_Unable_To_Update_Title",i.notificationId),this.gitErrorService.showErrorHandlingDialog(I))),[De({gitUpdateState:g,error:I}),Tt({workspaceId:g.workspaceId})]}return[ae({gitUpdateState:g})]},t.prototype.updateFromGitModelToContract=function(e){var i,n=this.ConvertArtifactTypesInTree(e.artifactMergePolicyInfoTreeList,this.extensionManifestService);return{targetCommit:e.targetCommit,workspaceHead:null!==(i=e.workspaceHead)&&void 0!==i?i:null,ArtifactMergePolicyInfoTreeList:n,retryOperationId:e.retryOperationId,interactiveUpdateOptions:e.interactiveUpdateOptions}},t.prototype.ConvertArtifactTypesInTree=function(e,i){return e&&e.map(function(n){var u=(0,s.pi)({},n);return"artifact"in u.root&&(u.root=(0,s.pi)((0,s.pi)({},u.root),{artifact:(0,s.pi)((0,s.pi)({},u.root.artifact),{artifactType:i.getBackendArtifactType(u.root.artifact.artifactType)})})),u})},t.prototype.doUpdateFlowWithInteractiveOptions=function(e,i,n){var u=this;this.gitConnectionFacade.getGitConnection(n).pipe((0,$t.q)(1)).subscribe(function(g){var I,w,C=null===(I=g?.gitConnectionDetails)||void 0===I?void 0:I.head;u.gitUpdateFacade.updateFromGit({workspaceId:n,request:{workspaceHead:C,targetCommit:void 0,artifactMergePolicyInfoTreeList:void 0,retryOperationId:null===(w=e.errorInfo)||void 0===w?void 0:w.retryOperationId,interactiveUpdateOptions:i}})})},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(c.eX),p.\u0275\u0275inject(N.Jv),p.\u0275\u0275inject(At.jR),p.\u0275\u0275inject(jt.mn),p.\u0275\u0275inject(Qe),p.\u0275\u0275inject(r.yh),p.\u0275\u0275inject(te.vC),p.\u0275\u0275inject(Je),p.\u0275\u0275inject(pn),p.\u0275\u0275inject(le.V$))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}();function gn(t,e){return"Committing ".concat(t.toString()," ").concat(1===t?"item":"items"," from workspace ").concat(e)}var fn=a(54323),_n=function(){function t(e,i,n,u,g,I,w){var C=this;this.actions$=e,this.gitInitializationClient=i,this.gitErrorService=n,this.gitNotificationService=u,this.interactiveOperationsService=g,this.telemetryService=I,this.extensionManifestService=w,this.initializeGitConnection$=(0,c.GW)(function(){return C.actions$.pipe((0,c.l4)(G),(0,W.U)(function(E){return E.gitInitializationState}),(0,nt.w)(function(E){return C.gitInitializationClient.initializeGitConnection(E.workspaceId,C.gitInitializationRequestFromState(E)).pipe((0,nt.w)(function(O){var F=(0,s.pi)((0,s.pi)({},E),{response:O});return C.mapInitializationStateToActions(F)}),(0,Dt.K)(function(O){var F=C.gitErrorService.makeGitErrorFromHttpResponse("Git_Initialization_Failed",O);return(0,f.E6)(F)||C.interactiveOperationsService.isOptionNotEnabled(F)||C.gitNotificationService.showErrorNotification(F,"Trident_Git_Toast_Initialize_Fail"),(0,dt.of)(_({gitInitializationState:E,error:F}))}))}))})}return t.prototype.gitInitializationRequestFromState=function(e){return{mergePolicy:e.request.mergePolicy}},t.prototype.mapInitializationStateToActions=function(e){var i;switch(null===(i=e.response)||void 0===i?void 0:i.result){case N.xU.Completed:if(e.response.incomingChanges&&e.response.incomingChanges.length>0||e.response.uncommittedChanges&&e.response.uncommittedChanges.length>0||!e.response.head){var n=this.gitErrorService.makeClientSideGitError("Git_Initialization_Invalid_Request");return this.gitNotificationService.showErrorNotification(n,"Trident_Git_Toast_Initialize_Fail"),[_({gitInitializationState:e,error:n})]}return[m({gitInitializationStateWithResponse:e}),Ut({workspaceId:e.workspaceId})];case N.xU.UpdateFromGitRequired:if(!e.response.incomingChanges||!e.response.partialSyncBaseCommit)return n=this.gitErrorService.makeClientSideGitError("Git_Initialization_Invalid_Request"),this.gitNotificationService.showErrorNotification(n,"Trident_Git_Toast_Initialize_Fail"),[_({gitInitializationState:e,error:n})];var u=this.createUpdateRequestFromState(e);return this.telemetryService.logEvent({name:"Automatic update after initialization",properties:{workspaceId:e.workspaceId,targetCommit:u.request.targetCommit}}),[m({gitInitializationStateWithResponse:e}),oe({gitUpdateState:u,isInitialSync:!0})];case N.xU.CommitToGitRequired:var g=this.createCommitRequestFromState(e);return null!=g?(this.telemetryService.logEvent({name:"Automatic commit after initialization",properties:{workspaceId:e.workspaceId,workspaceHead:g.request.workspaceHead}}),[m({gitInitializationStateWithResponse:e}),R({gitCommitState:g,isInitialSync:!0})]):(n=this.gitErrorService.makeClientSideGitError("Git_Initialization_Invalid_Request"),this.gitNotificationService.showErrorNotification(n,"Trident_Git_Toast_Initialize_Fail"),[_({gitInitializationState:e,error:n})]);default:return n=this.gitErrorService.makeClientSideGitError("Git_Initialization_Invalid_Request"),this.gitNotificationService.showErrorNotification(n,"Trident_Git_Toast_Initialize_Fail"),[_({gitInitializationState:e,error:n})]}},t.prototype.createUpdateRequestFromState=function(e){var i,n=e.response;return{workspaceId:e.workspaceId,request:{targetCommit:n?.partialSyncBaseCommit,workspaceHead:null!==(i=n?.head)&&void 0!==i?i:null}}},t.prototype.createCommitRequestFromState=function(e){var n,u,i=this,g=null===(n=e?.response)||void 0===n?void 0:n.head,I=null===(u=e?.response)||void 0===u?void 0:u.uncommittedChanges;if(!I||!g)return this.gitErrorService.handleClientSideGitError(" Git_Commit_Invalid_Request"),null;var w=I.map(function(C){return mi(C,i.extensionManifestService)});return{workspaceId:e.workspaceId,request:{workspaceHead:g,artifacts:w,comment:gn(I.length,e.workspaceId)}}},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(c.eX),p.\u0275\u0275inject(N.Zt),p.\u0275\u0275inject(At.jR),p.\u0275\u0275inject(jt.mn),p.\u0275\u0275inject(Qe),p.\u0275\u0275inject(fn.t),p.\u0275\u0275inject(te.vC))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}(),hn=function(){function t(e,i,n){var u=this;this.actions$=e,this.gitSyncClient=i,this.gitErrorService=n,this.getLatestGitAlmOperation$=(0,c.GW)(function(){return u.actions$.pipe((0,c.l4)(Ut),(0,nt.w)(function(g){var I=g.workspaceId,w=g.isInitial;return u.gitSyncClient.getlatestGitOperation(I).pipe((0,W.U)(function(C){return u.almOperationToSyncModel(C,I,w)}),(0,W.U)(function(C){return Ft({gitSyncState:C})}),(0,Dt.K)(function(){var C=u.gitErrorService.makeClientSideGitError("Git_Sync_Failed");return(0,dt.of)(Ht({workspaceId:I,error:C}))}))}))})}return t.prototype.almOperationToSyncModel=function(e,i,n){var u=this.getGitOperationType(e.operationType),g="0"!==e.objectId&&void 0!==u,I=this.getGitOperationStatus(e.status);return{isValid:g,isInitial:!!n,workspaceId:i,gitOperationId:e.operationId,gitOperationType:u,gitOperationStatus:I,lastUpdatedTime:new Date(e.lastUpdatedTime),gitNonInteractiveOperationErrorDetails:this.getNonInteractiveErrorDetails(e.gitOperationErrorDetailsList),gitInteractiveOperationErrorDetailsList:this.getInteractiveErrorDetails(e.gitOperationErrorDetailsList)}},t.prototype.getInteractiveErrorDetails=function(e){if(!e||!e.some(function(i){var n;return(null===(n=i.artifactErrorDetails)||void 0===n?void 0:n.ErrorCategory)!==f.QJ}))return e},t.prototype.getNonInteractiveErrorDetails=function(e){if(e)return e.find(function(i){var n;return(null===(n=i.artifactErrorDetails)||void 0===n?void 0:n.ErrorCategory)!==f.QJ})},t.prototype.getGitOperationType=function(e){switch(e){case ie.CommitToGit:return f.u9.Commit;case ie.UpdateFromGit:return f.u9.Update;case ie.InitializeWorkspaceGitConnection:return f.u9.Initialize;case ie.Undo:return f.u9.Undo;case ie.CheckoutBranch:return f.u9.CheckoutBranch;case ie.SwitchBranch:return f.u9.SwitchBranch;default:return}},t.prototype.getGitOperationStatus=function(e){return e<$e.FinalBase?f.wM.InProgress:e>=$e.FinalSuccessBase&&e<$e.FinalErrorBase?f.wM.Successful:f.wM.Failed},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(c.eX),p.\u0275\u0275inject(N.WV),p.\u0275\u0275inject(At.jR))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}(),Fi=(0,r.P1)(kt,function(t){return t?.gitUndo||be}),Pi=Wt.getSelectors(),mn=Pi.selectAll,yn=Pi.selectEntities,Gn=((0,r.P1)(Fi,function(t){return mn(t)}),(0,r.P1)(Fi,function(t){return yn(t)})),Ze=function(e){return(0,r.P1)(Gn,function(i){return i[e]})},Sn=function(){function t(e){this.store=e}return t.prototype.UndoFromGit=function(e){return this.store.dispatch(he({gitUndoState:e})),this.store.select(Ze(e.workspaceId))},t.prototype.getUndoState=function(e){return this.store.select(Ze(e)).pipe((0,W.U)(function(i){return i&&i.callState||ut.Initial}))},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(r.yh))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Cn=function(){function t(e,i,n,u,g,I,w,C,E,O){var F=this;this.actions$=e,this.gitUndoClient=i,this.gitErrorService=n,this.gitNotificationService=u,this.interactiveOperationsService=g,this.gitUndoFacade=I,this.gitStatusFacade=w,this.gitConnectionFacade=C,this.store=E,this.featureSwitchService=O,this.undoFromGit$=(0,c.GW)(function(){return F.actions$.pipe((0,c.l4)(he),(0,W.U)(function(z){var Z=z.gitUndoState,st=F.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Undo_Loading_Title","Trident_Git_Toast_Undo_Loading_Message");return(0,s.pi)((0,s.pi)({},Z),{notificationId:st})}),(0,nt.w)(function(z){return F.gitUndoClient.undoCommitArtifacts(z.workspaceId,F.fromGitUndoContractToGitUndoRequest(z.request)).pipe((0,nt.w)(function(Z){var st=(0,s.pi)((0,s.pi)({},z),{response:{almAciton:Z.almOperation}});return[ce({gitUndoState:st})]}),(0,Dt.K)(function(Z){var st=F.gitErrorService.makeGitErrorFromHttpResponse("Git_InvalidUndoRequest",Z);return z?.notificationId&&(F.gitNotificationService.showErrorNotification(st,"Trident_Git_Error_Unable_To_Undo_Title",z.notificationId),F.gitErrorService.showErrorHandlingDialog(st)),(0,dt.of)(ke({gitUndoState:z,error:st}))}))}))}),this.getLatestGitAlmOperationSuccess$=(0,c.GW)(function(){return F.actions$.pipe((0,c.l4)(Ft),(0,W.U)(function(z){return z.gitSyncState}),(0,ue.h)(function(z){return F.isLatestOpValid(z)}),(0,nt.w)(function(z){return F.store.select(Ze(z.workspaceId)).pipe((0,$t.q)(1),(0,nt.w)(function(Z){return F.getUndoActions(z,Z)}))}))})}return t.prototype.isLatestOpValid=function(e){return!!e?.isValid&&e.gitOperationType===f.u9.Undo},t.prototype.getUndoActions=function(e,i){var u,n=this,g=i&&i.workspaceId===e.workspaceId?{workspaceId:i.workspaceId,request:i.request,response:i?.response,notificationId:i?.notificationId}:{workspaceId:e.workspaceId,request:void 0};switch(e.gitOperationStatus){case f.wM.Successful:return g?.notificationId&&this.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Undo_Success",g.notificationId),this.gitStatusFacade.clearChangesArtifactSelection(g.workspaceId),(0,s.ev)((0,s.ev)([Fe({gitUndoStateWithResponse:g})],de(g.workspaceId,!0,null!==(u=this.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==u&&u),!0),[Tt({workspaceId:g.workspaceId})],!1);case f.wM.InProgress:return[ce({gitUndoState:g})];case f.wM.Failed:var I=this.gitErrorService.handleAlmGitError("AlmOperationFailed_UndoFromGit",e);return g?.notificationId&&(this.featureSwitchService.featureSwitches.interactiveOperationUI&&this.interactiveOperationsService.isOptionNotEnabled(I)?(this.interactiveOperationsService.showInteractiveOperationsDialog(I,"Trident_Git_Error_Undo_Title",function(w,C){return n.undoWithInteractiveOptions(w,C,e.workspaceId)}),this.gitNotificationService.hideCurrentNotification()):(this.gitNotificationService.showErrorNotification(I,"Trident_Git_Error_Unable_To_Undo_Title",g.notificationId),this.gitErrorService.showErrorHandlingDialog(I))),[Pe({gitUndoState:g,error:I}),Tt({workspaceId:g.workspaceId})]}return[ce({gitUndoState:g})]},t.prototype.fromGitArtifactToArtifactSelector=function(e){var i,n,u,g=e.artifact;return{artifactType:g.artifactType,etag:g.etag,objectId:g.objectId,logicalId:g.logicalId,changeType:null!==(n=null===(i=e.remoteChange)||void 0===i?void 0:i.changeType)&&void 0!==n?n:null===(u=e?.workspaceChange)||void 0===u?void 0:u.changeType}},t.prototype.fromGitUndoContractToGitUndoRequest=function(e){var n,i=this;return{artifacts:null===(n=e.artifacts)||void 0===n?void 0:n.map(function(g){return i.fromGitArtifactToArtifactSelector(g)}),workspaceHead:e.workspaceHead,retryOperationId:e.retryOperationId,interactiveUpdateOptions:e.interactiveUpdateOptions}},t.prototype.undoWithInteractiveOptions=function(e,i,n){var u=this;this.gitConnectionFacade.getGitConnection(n).pipe((0,$t.q)(1)).subscribe(function(g){var I,w;u.gitUndoFacade.UndoFromGit({workspaceId:n,request:{workspaceHead:null===(I=g?.gitConnectionDetails)||void 0===I?void 0:I.head,artifacts:void 0,retryOperationId:null===(w=e.errorInfo)||void 0===w?void 0:w.retryOperationId,interactiveUpdateOptions:i}})})},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(c.eX),p.\u0275\u0275inject(N.nD),p.\u0275\u0275inject(At.jR),p.\u0275\u0275inject(jt.mn),p.\u0275\u0275inject(Qe),p.\u0275\u0275inject(Sn),p.\u0275\u0275inject(Ve),p.\u0275\u0275inject(Je),p.\u0275\u0275inject(r.yh),p.\u0275\u0275inject(le.V$))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}(),ki=(0,r.P1)(kt,function(t){return t?.gitSwitchBranch||Ae}),bi=Vt.getSelectors(),In=bi.selectAll,wn=bi.selectEntities,Tn=((0,r.P1)(ki,function(t){return In(t)}),(0,r.P1)(ki,function(t){return wn(t)})),Ye=function(e){return(0,r.P1)(Tn,function(i){return i[e]})},En=function(){function t(e,i,n,u,g,I){var w=this;this.actions$=e,this.gitSwitchBranchClient=i,this.gitErrorService=n,this.gitNotificationService=u,this.store=g,this.featureSwitchService=I,this.gitSwitchBranch$=(0,c.GW)(function(){return w.actions$.pipe((0,c.l4)(zt),(0,W.U)(function(C){var E=C.gitSwitchBranchState,O=w.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Switch_Branch_Switching_In_Progress_Message");return(0,s.pi)((0,s.pi)({},E),{notificationId:O})}),(0,nt.w)(function(C){return w.gitSwitchBranchClient.switchBranch(C.workspaceId,C.request).pipe((0,nt.w)(function(E){var O=(0,s.pi)((0,s.pi)({},C),{response:{almOperation:E.almOperation}});return w.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Switch_Branch_Success_Message",C.notificationId),[Kt({gitSwitchBranchState:O})]}),(0,Dt.K)(function(E){var O=w.gitErrorService.makeGitErrorFromHttpResponse("Git_Switch_Branch_Failed",E),F=w.convertToSwitchBranchSpecficError(O),z=w.gitErrorService.handleSyncGitError(F,E);return C?.notificationId&&w.gitNotificationService.showErrorNotification(z,"Trident_Git_Error_Unable_To_Switch_Branch_Title",C.notificationId),(0,dt.of)(pe({gitSwitchBranchState:C,error:z}))}))}))}),this.getLatestGitAlmOperationSuccess$=(0,c.GW)(function(){return w.actions$.pipe((0,c.l4)(Ft),(0,W.U)(function(C){return C.gitSyncState}),(0,ue.h)(function(C){return w.isLatestOpValid(C)}),(0,nt.w)(function(C){return w.store.select(Ye(C.workspaceId)).pipe((0,$t.q)(1),(0,nt.w)(function(E){return w.getSwitchBranchActions(C,E)}))}))})}return t.prototype.getSwitchBranchActions=function(e,i){var n,u=i&&i.workspaceId===e.workspaceId?(0,s.pi)({},i):{workspaceId:e.workspaceId,request:void 0};if(e)switch(e.gitOperationStatus){case f.wM.Successful:return u?.notificationId&&this.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Switch_Branch_Syncing_Completed_Message",u.notificationId),(0,s.ev)((0,s.ev)([Nt({gitSwitchBranchState:u})],de(u.workspaceId,!0,null!==(n=this.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==n&&n),!0),[Tt({workspaceId:u.workspaceId})],!1);case f.wM.InProgress:return this.setInProgress(u);default:var g=this.gitErrorService.handleAlmGitError("AlmOperationFailed_SwitchGitBranch",e);return u?.notificationId&&this.gitNotificationService.showErrorNotification(g,"Trident_Git_Error_Unable_To_Switch_Branch_Title",u.notificationId),[Qt({gitSwitchBranchState:u}),Tt({workspaceId:u.workspaceId})]}return[Kt({gitSwitchBranchState:u})]},t.prototype.setInProgress=function(e){var i=this.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Switch_Branch_Syncing_In_Progress_Message");return[Kt({gitSwitchBranchState:(0,s.pi)((0,s.pi)({},e),{notificationId:i})})]},t.prototype.isLatestOpValid=function(e){return!!e?.isValid&&e.gitOperationType===f.u9.SwitchBranch},t.prototype.convertToSwitchBranchSpecficError=function(e){if(void 0===e)return"Git_Switch_Branch_Invalid_Request";if((0,f.yG)(e))return"Git_Switch_Branch_Item_Not_Found";switch((0,f.lz)(e).errorType){case"Git_MissingDependencies":return"Git_MissingDependenciesSwitchBranch";case"Git_CyclicDependencyDetected":return"Git_CyclicDependencyDetectedSwitchBranch";default:return"Git_Switch_Branch_Invalid_Request"}},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(c.eX),p.\u0275\u0275inject(N.ZH),p.\u0275\u0275inject(At.jR),p.\u0275\u0275inject(jt.mn),p.\u0275\u0275inject(r.yh),p.\u0275\u0275inject(le.V$))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}(),Dn=a(17653),Mn=a(9398),On=function(){function t(e,i,n,u,g){var I=this;this.actions$=e,this.router=i,this.gitBranchOutClient=n,this.gitErrorService=u,this.gitNotificationService=g,this.gitBranchOut$=(0,c.GW)(function(){return I.actions$.pipe((0,c.l4)(ve),(0,W.U)(function(w){var C=w.gitBranchOutState,E=I.gitNotificationService.showLoadingNotification("Trident_Git_Branch_Out","Trident_Git_Toast_Branch_Out_In_Progress_Message");return(0,s.pi)((0,s.pi)({},C),{notificationId:E})}),(0,nt.w)(function(w){return I.gitBranchOutClient.branchOut(w.workspaceId,w.request).pipe((0,nt.w)(function(C){var E=(0,s.pi)((0,s.pi)({},w),{response:C});return[Jt({gitBranchOutState:E})]}),(0,Dt.K)(function(C){var E=I.gitErrorService.makeGitErrorFromHttpResponse("Git_Branch_Out_Failed",C),O="Git_Branch_Out_Failed"!==(0,f.lz)(E).errorType&&function(t,e){var i,n,u,g,I,w=null===(I=null===(g=null===(u=null===(n=null===(i=t.error)||void 0===i?void 0:i["pbi.error"])||void 0===n?void 0:n.details)||void 0===u?void 0:u[0])||void 0===g?void 0:g.detail)||void 0===I?void 0:I.value;if(w)try{var C=JSON.parse(w);if(C?.errorSpecificData){var E=JSON.parse(C.errorSpecificData);if(E)return(0,s.pi)((0,s.pi)({},e),{response:{folder:E}})}}catch{return null}return null}(C,w)||w;return w?.notificationId&&I.gitNotificationService.showErrorNotification(E,"Trident_Git_Error_Unable_To_Branch_Out_Git_Branch_Fail_Title",w.notificationId),(0,dt.of)(re({gitBranchOutState:O,error:E}))}))}))}),this.gitBranchOutSuccess$=(0,c.GW)(function(){return I.actions$.pipe((0,c.l4)(Jt),(0,nt.w)(function(w){var C,E,O,F=w.gitBranchOutState;if(null!==(C=F?.response)&&void 0!==C&&C.initializeConnectionStatus){var Z=F.response.initializeConnectionStatus.incomingChanges&&(null===(O=null===(E=F.response)||void 0===E?void 0:E.initializeConnectionStatus)||void 0===O?void 0:O.incomingChanges.length)>0?I.createUpdateRequestFromState(F):void 0;return(0,dt.of)(ge({gitBranchOutState:F,gitUpdateState:Z}))}var st=I.gitErrorService.makeClientSideGitError("Git_Invalid_Connection_Details");return I.gitNotificationService.showErrorNotification(st,"Trident_Git_Error_Git_Invalid_Connection_Details_Title"),(0,dt.of)(re({gitBranchOutState:F,error:st}))}))}),this.gitBranchOutCompleted$=(0,c.GW)(function(){return I.actions$.pipe((0,c.l4)(fe),(0,Dn.b)(function(w){var C,E,O;I.navigateToNewWorkspace(null===(C=w.gitBranchOutState.response)||void 0===C?void 0:C.folder.objectId),null!==(E=w.gitBranchOutState)&&void 0!==E&&E.notificationId&&I.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Branch_Out_Success_Message",null===(O=w.gitBranchOutState)||void 0===O?void 0:O.notificationId)}))},{dispatch:!1})}return t.prototype.createUpdateRequestFromState=function(e){var i,n,u,g=null===(i=e.response)||void 0===i?void 0:i.initializeConnectionStatus,I=null===(n=e.response)||void 0===n?void 0:n.folder.objectId;if(g&&I)return{workspaceId:I,request:{targetCommit:g.partialSyncBaseCommit,workspaceHead:null!==(u=g.head)&&void 0!==u?u:null}}},t.prototype.navigateToNewWorkspace=function(e){this.router.navigate(["/groups/".concat(e,"/")],{queryParamsHandling:"preserve"})},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(c.eX),p.\u0275\u0275inject(Mn.F0),p.\u0275\u0275inject(N.su),p.\u0275\u0275inject(At.jR),p.\u0275\u0275inject(jt.mn))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}();function bn(t){var e=JSON.parse(t.connectionDetails);return(0,N.h_)(e)&&"GitHubSourceControl"===e.extensionDataSourceKind}function xn(t){var e=JSON.parse(t.connectionDetails);return{id:t.id,datasourceName:t.datasourceName,url:(0,N.h_)(e)?e.extensionDataSourcePath:"https://github.com"}}function An(t){return(0,s.pi)((0,s.pi)({},f.I),{datasourceName:t.displayName,datasourceType:f.LO,connectionDetails:JSON.stringify(t?.repositoryUrl?{url:t?.repositoryUrl}:{}),mashupTestConnectionDetails:{functionName:"GitHubSourceControl.Contents",parameters:[(0,s.pi)((0,s.pi)({},f.cW),{value:t?.repositoryUrl})]},credentialDetails:(0,s.pi)((0,s.pi)({},f.f7),{credentials:JSON.stringify({credentialData:[{name:"key",value:t.personalAccessToken}]})})})}var zn=function(){function t(e,i,n,u){var g=this;this.actions$=e,this.gitDatasourceClient=i,this.gitErrorService=n,this.gitNotificationService=u,this.loadDatasources$=(0,c.GW)(function(){return g.actions$.pipe((0,c.l4)(ye),(0,nt.w)(function(I){var w,C,E=I.gitDatasourceRequest,O=null===(w=g.gitDatasourcesConfigRecord[E.gitProviderType])||void 0===w?void 0:w.convertDatasourceContractToModel,F=null===(C=g.gitDatasourcesConfigRecord[E.gitProviderType])||void 0===C?void 0:C.filterDatasource;if(!O||!F){var z=g.gitErrorService.makeClientSideGitError("Git_UnsupportedGitProvider");return(0,dt.of)(Ne({workspaceId:E.workspaceId,error:z}))}return g.gitDatasourceClient.discoverDatasources().pipe((0,$t.q)(1),(0,W.U)(function(Z){return Z.value.filter(F)}),(0,W.U)(function(Z){return Z.map(O)}),(0,nt.w)(function(Z){var st,qe={workspaceId:E.workspaceId,datasourcesRecord:(st={},st[E.gitProviderType]=Z,st)};return(0,dt.of)(vi({gitDatasourcesState:qe}))}),(0,Dt.K)(function(Z){var st=g.gitErrorService.makeGitErrorFromHttpResponse("Git_Load_Datasources_Failed",Z);return(0,dt.of)(Ne({workspaceId:E.workspaceId,error:st}))}))}))}),this.createDatasource$=(0,c.GW)(function(){return g.actions$.pipe((0,c.l4)(Ke),(0,nt.w)(function(I){var w,C=I.request,E=g.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Add_Account_In_Progress_Title","Trident_Git_Toast_Add_Account_In_Progress_Message"),O=null===(w=g.gitDatasourcesConfigRecord[C.gitProviderType])||void 0===w?void 0:w.convertCreateDatasourceRequestModelToContract;if(!O){var F=g.gitErrorService.makeClientSideGitError("Git_UnsupportedGitProvider");return g.gitNotificationService.showErrorNotification(F,"Trident_Git_Toast_Add_Account_Fail_Title",E),(0,dt.of)(Re({workspaceId:C.workspaceId,error:F}))}var z={workspaceId:C.workspaceId,gitProviderType:C.gitProviderType};return g.gitDatasourceClient.createDatasource(O(C)).pipe((0,nt.w)(function(Z){return g.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Add_Account_Success",E),[vr({workspaceId:C.workspaceId,datasourceResponse:Z}),ye({gitDatasourceRequest:z})]}),(0,Dt.K)(function(Z){var st=g.gitErrorService.makeGitErrorFromHttpResponse("Git_Create_Datasource_Failed",Z);return g.gitNotificationService.showErrorNotification(st,"Trident_Git_Toast_Add_Account_Fail_Title",E),(0,dt.of)(Re({workspaceId:C.workspaceId,error:st}))}))}))}),this.gitDatasourcesConfigRecord=function(){var t;return(t={})[f.IS.AzureDevOps]={},t[f.IS.GitHub]={filterDatasource:bn,convertDatasourceContractToModel:xn,convertCreateDatasourceRequestModelToContract:An},t}()}return t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(c.eX),p.\u0275\u0275inject(N.aw),p.\u0275\u0275inject(At.jR),p.\u0275\u0275inject(jt.mn))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}(),Nn=function(){function t(e,i,n,u){var g=this;this.actions$=e,this.gitNotificationService=i,this.gitErrorService=n,this.gitRepairClient=u,this.gitRepairItems$=(0,c.GW)(function(){return g.actions$.pipe((0,c.l4)(gi),(0,W.U)(function(I){var w=I.gitRepairState,C=g.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Repair_Loading_Message");return(0,s.pi)((0,s.pi)({},w),{notificationId:C})}),(0,nt.w)(function(I){return g.gitRepairClient.gitRepairItems(I.workspaceId,I.request).pipe((0,nt.w)(function(w){var C=(0,s.pi)((0,s.pi)({},I),{response:w});return(0,dt.of)(fi({gitRepairStateWithResponse:C}))}),(0,Dt.K)(function(w){var C=g.gitErrorService.makeGitErrorFromHttpResponse("Git_Repair_Items_Failed",w);return I?.notificationId&&(g.gitNotificationService.showErrorNotification(C,"Trident_Git_Error_Unable_To_Repair_Items_Title",I.notificationId),g.gitErrorService.showErrorHandlingDialog(C)),(0,dt.of)(_i({gitRepairState:I,error:C}))}))}))})}return t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(c.eX),p.\u0275\u0275inject(jt.mn),p.\u0275\u0275inject(At.jR),p.\u0275\u0275inject(N.P9))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}(),Kn=function(){function t(){}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=p.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=p.\u0275\u0275defineInjector({imports:[r.Aw.forFeature("git",yr),c.sQ.forFeature([Dr]),c.sQ.forFeature([Or]),c.sQ.forFeature([Nr]),c.sQ.forFeature([vn]),c.sQ.forFeature([_n]),c.sQ.forFeature([hn]),c.sQ.forFeature([Cn]),c.sQ.forFeature([En]),c.sQ.forFeature([On]),c.sQ.forFeature([zn]),c.sQ.forFeature([Nn]),N.Ug]}),t}(),xi=(0,r.P1)(kt,function(t){return t?.gitInitialization||Me}),Ai=Zt.getSelectors(),Rn=Ai.selectAll,jn=Ai.selectEntities,Hn=((0,r.P1)(xi,function(t){return Rn(t)}),(0,r.P1)(xi,function(t){return jn(t)})),Wn=function(){function t(e){this.store=e}return t.prototype.getGitInitializationState=function(e){return this.store.select(function(e){return(0,r.P1)(Hn,function(i){return i[e]})}(e))},t.prototype.initializeGitConnection=function(e){return this.store.dispatch(G({gitInitializationState:e})),this.getGitInitializationState(e.workspaceId)},t.prototype.invalidateGitConnectionInitialization=function(e){return this.store.dispatch(l({workspaceId:e})),(0,dt.of)(void 0)},t.prototype.getGitInitializationCallState=function(e){return this.getGitInitializationState(e).pipe((0,W.U)(function(i){return i&&i.callState||$.Initial}))},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(r.yh))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Ui=(0,r.P1)(kt,function(t){return t?.gitSync||Oe}),zi=Yt.getSelectors(),Vn=zi.selectAll,$n=zi.selectEntities,Ni=((0,r.P1)(Ui,function(t){return Vn(t)}),(0,r.P1)(Ui,function(t){return $n(t)}),(0,r.P1)(kt,function(t){return t?.gitProgressIndicator||xe})),Ki=pt.getSelectors(),Xn=Ki.selectAll,Jn=Ki.selectEntities,Yn=((0,r.P1)(Ni,function(t){return Xn(t)}),(0,r.P1)(Ni,function(t){return Jn(t)}),function(){function t(e){this.store=e}return t.prototype.switchBranch=function(e){return this.store.dispatch(zt({gitSwitchBranchState:e})),this.store.select(Ye(e.workspaceId))},t.prototype.getSwitchBranchState=function(e){return this.store.select(Ye(e)).pipe((0,W.U)(function(i){return i&&i.callState||ft.Initial}))},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(r.yh))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()),Ri=(0,r.P1)(kt,function(t){return t?.gitSessionStorage||Ue}),ji=Et.getSelectors(),qn=ji.selectAll,to=ji.selectEntities,eo=((0,r.P1)(Ri,function(t){return qn(t)}),(0,r.P1)(Ri,function(t){return to(t)})),ro=function(){function t(e){this.store=e}return t.prototype.selectGitProviderType=function(e,i){this.store.dispatch(ti({workspaceId:e,gitProviderType:i}))},t.prototype.selectDatasource=function(e,i){this.store.dispatch(ei({workspaceId:e,datasourceOID:i}))},t.prototype.selectTempDatasource=function(e,i){this.store.dispatch(ii({workspaceId:e,datasourceOID:i}))},t.prototype.selectOrganization=function(e,i){this.store.dispatch(oi({workspaceId:e,organization:i}))},t.prototype.selectRepository=function(e,i){this.store.dispatch(ai({workspaceId:e,repository:i}))},t.prototype.selectBranch=function(e,i){this.store.dispatch(ci({workspaceId:e,branch:i}))},t.prototype.selectRootDirectory=function(e,i){this.store.dispatch(si({workspaceId:e,directory:i}))},t.prototype.selectUserAccount=function(e,i){this.store.dispatch(li({workspaceId:e,userAccount:i}))},t.prototype.setDatasourceUrl=function(e,i,n){this.store.dispatch(ri({workspaceId:e,organization:i,repository:n}))},t.prototype.selectWorkspaceCapacity=function(e,i){this.store.dispatch(pi({workspaceId:e,isWorkspaceOnCapacity:i}))},t.prototype.resetDatasourceUrl=function(e){this.store.dispatch(ni({workspaceId:e}))},t.prototype.loadGitSessionStorage=function(e){return this.store.select(function(e){return(0,r.P1)(eo,function(i){return i[e]})}(e)).pipe((0,W.U)(function(i){return i??{workspaceId:e}}))},t.prototype.configureCredentials=function(e){this.store.dispatch(di({workspaceId:e}))},t.prototype.deleteCredentials=function(e){this.store.dispatch(ui({workspaceId:e}))},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(r.yh))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Hi=(0,r.P1)(kt,function(t){return t?.gitBranchOut||ze}),Li=Rt.getSelectors(),no=Li.selectAll,oo=Li.selectEntities,Wi=((0,r.P1)(Hi,function(t){return no(t)}),(0,r.P1)(Hi,function(t){return oo(t)}),(0,r.P1)(kt,function(t){return t?.gitDatasources||je})),Vi=qt.getSelectors(),co=Vi.selectAll,so=Vi.selectEntities,lo=((0,r.P1)(Wi,function(t){return co(t)}),(0,r.P1)(Wi,function(t){return so(t)})),$i=function(e){return(0,r.P1)(lo,function(i){return i[e]})},uo=function(){function t(e){this.store=e}return t.prototype.getDatasources=function(e){return this.store.select($i(e.workspaceId)).pipe((0,W.U)(function(i){return{workspaceId:e.workspaceId,datasourcesRecord:i?.datasourcesRecord,callState:i?.callState||_t.Initial}}))},t.prototype.loadDatasources=function(e){return this.store.dispatch(ye({gitDatasourceRequest:e})),this.getDatasources(e)},t.prototype.createDatasource=function(e){return this.store.dispatch(Ke({request:e})),(0,dt.of)(void 0)},t.prototype.getDataSourcesCallState=function(e){return this.store.select($i(e)).pipe((0,W.U)(function(i){return i?.callState||_t.Initial}))},t.\u0275fac=function(i){return new(i||t)(p.\u0275\u0275inject(r.yh))},t.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Qi=(0,r.P1)(kt,function(t){return t?.gitRepair||He}),Xi=se.getSelectors(),po=Xi.selectAll,vo=Xi.selectEntities;(0,r.P1)(Qi,function(t){return po(t)}),(0,r.P1)(Qi,function(t){return vo(t)})},6393:function(St,it,a){a.r(it),a.d(it,{ExtensionHostGitModule:function(){return ft},createExtensionHostGitModule:function(){return at}});var c=a(77476),r=a(50423),N=a(60756),s=a(81337),A=a(82762),y=a(11547),M=a(81905),k=a(59973),b=a(48787),U=a(14172),v=a(59822),J=a(17653),T=a(73471),D=a(60397),o=a(17899),x=a(71550),Y=a(6814),L=a(18016),et=a(88),$=new r.InjectionToken("IFrames$"),vt=a(7452),ut=function(Q){return Q[Q.Initial=0]="Initial",Q[Q.Loading=1]="Loading",Q[Q.Loaded=2]="Loaded",Q}({}),mt=function(){function Q(_t,yt,Ct,ct,X){var d=this;this.actions$=_t,this.messageBroker=yt,this.triLocalizationService=Ct,this.lazyProvider=ct,this.iframes$=X,this.sharedUtils=(0,L.L4)(),this.onGetGitConnectionRecieved$=(0,o.Av)(this.actions$,this.messageBroker,T.Vm.getGitConnection,function(S){var f=S.workspaceObjectId;return(0,A.D)(d.lazyProvider.get("@trident/git/services/connection",x.AC)).pipe((0,M.w)(function(G){return G.ensureGitConnection(f)}),(0,k.h)(function(G){return G?.callState===ut.Loaded||(0,L.pb)(G?.callState)}),(0,b.q)(1),(0,U.U)(function(G){if(G?.gitConnectionDetails&&!(0,L.pb)(G?.callState)){var m=G.gitConnectionDetails;return T.Vm.getGitConnection.resolve({branchName:m.branchName,headRef:d.sharedUtils[m.gitProviderType].getHeadReference(m),lastSyncTime:(0,L.n)(d.triLocalizationService,m?.lastSyncTime)})}return T.Vm.getGitConnection.resolve({})}),(0,v.K)(function(G){return(0,y.of)(T.Vm.getGitConnection.reject({error:G}))}))}),this.updateGitConnection$=(0,N.GW)(function(){return d.actions$.pipe((0,o.UF)(et.E),(0,N.IC)(function(){return d.iframes$}),(0,U.U)(function(S){var G=S[1],_=(0,s._T)(S[0],["type"]);return Object.values(G).filter(function(l){return"initialized"===l?.initState}).map(function(l){var B=l.iframeId;return T.Vm.onGitConnectionChange(_)(B)})}),(0,J.b)(function(S){return S.forEach(function(f){delete f.lazyModuleId,d.messageBroker.send(f)})}))},{dispatch:!1})}return Q.\u0275fac=function(yt){return new(yt||Q)(r.\u0275\u0275inject(N.eX),r.\u0275\u0275inject(D.u),r.\u0275\u0275inject(vt.z),r.\u0275\u0275inject(Y.rn),r.\u0275\u0275inject($))},Q.\u0275prov=r.\u0275\u0275defineInjectable({token:Q,factory:Q.\u0275fac}),Q}();function at(Q,_t){return(0,r.createNgModule)(ft,r.Injector.create({providers:[{provide:$,useValue:Q.iframes$}],parent:_t}))}var ft=function(){function Q(){}return Q.\u0275fac=function(yt){return new(yt||Q)},Q.\u0275mod=r.\u0275\u0275defineNgModule({type:Q}),Q.\u0275inj=r.\u0275\u0275defineInjector({imports:[c.CommonModule,N.sQ.forFeature([mt])]}),Q}()},71550:function(St,it,a){a.d(it,{Gg:function(){return U.Gg},eL:function(){return U.eL},rC:function(){return U.rC},AC:function(){return U.AC},a6:function(){return m},FF:function(){return we},Mv:function(){return U.Mv},rl:function(){return l.rl},EI:function(){return l.EI}}),a(81544);var r=a(32293),N=a(35510),s=a(11547),A=a(48787),y=a(17653),M=a(59822),k=a(18016),b=a(65232),U=a(40773),v=a(50423),J=a(7452),T=a(54323),D=a(77476),o=a(17174),x=a(95825),Y=a(65e3),L=a(74913),et=a(55490),$=a(20551),vt=a(64716),ut=a(85721),mt=a(89237),at=a(55334);function ft(K,R){if(1&K&&(v.\u0275\u0275elementContainerStart(0),v.\u0275\u0275elementStart(1,"div",14),v.\u0275\u0275element(2,"tri-svg-icon",15),v.\u0275\u0275elementStart(3,"span"),v.\u0275\u0275text(4),v.\u0275\u0275elementEnd()(),v.\u0275\u0275elementContainerEnd()),2&K){var H=v.\u0275\u0275nextContext();v.\u0275\u0275advance(1),v.\u0275\u0275attribute("data-testid","tri-git-connection-details-settings-v2-directory-error"),v.\u0275\u0275advance(1),v.\u0275\u0275property("name","error_circle_12_filled"),v.\u0275\u0275advance(2),v.\u0275\u0275textInterpolate1(" ",H.branchNameInputError$.value," ")}}function Q(K,R){if(1&K&&(v.\u0275\u0275elementStart(0,"tri-dropdown-item",16)(1,"p"),v.\u0275\u0275text(2),v.\u0275\u0275elementEnd()()),2&K){var H=R.$implicit;v.\u0275\u0275property("value",H),v.\u0275\u0275advance(2),v.\u0275\u0275textInterpolate(H.text)}}var _t=function(R){return{error:R}},yt="cancelButton",G="createButton",m=function(){function K(R,H,gt,Mt,wt,ht,Xt){this.data=R,this.cdr=H,this.dr=gt,this.gitConnectionDiscoveryService=Mt,this.localizationService=wt,this.telemetryService=ht,this.gitErrorService=Xt,this._isCreateButtonEnabled=!1,this._isCreateButtonLoading=!1,this.branchNameInputError$=new N.X(void 0),this.unfiliteredBranchesList=this.data.branchesList.map(function(_e){return{key:_e,text:_e}}),this.filteredBranchesList=this.unfiliteredBranchesList,this.dialogData={title:this.localizationService.get("Trident_Git_Create_New_Branch"),buttons:[{name:G,label:this.localizationService.get("Create_ButtonText"),buttonType:"primary",disabled:!this.isCreateButtonEnabled,isLoading:this.isCreateButtonLoading},{name:yt,label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]}}return K.prototype.onBranchNameChange=function(R){this.branchName=R,this.branchNameInputError$.next(this.validateBranchName(R)),this.calculateCreateButtonState()},K.prototype.onParentBranchNameChange=function(R){this.parentBranch=R?.text,this.calculateCreateButtonState()},K.prototype.onBranchesSearch=function(R){this.filteredBranchesList=this.unfiliteredBranchesList.filter(function(H){return!R||H.text.toLowerCase().includes(R.toLowerCase())})},K.prototype.clickButton=function(R){R===G?this.handleCreateBranchRequest():R===yt&&this.dr.close()},K.prototype.handleCreateBranchRequest=function(){var H,R=this;if(this.isCreateButtonLoading=!0,this.branchNameInputError$.next(void 0),!this.branchName)return this.isCreateButtonLoading=!1,void this.branchNameInputError$.next(this.localizationService.get("Trident_Git_Error_Git_InvalidBranchName_Message"));if(!this.parentBranch)return this.isCreateButtonLoading=!1,void this.branchNameInputError$.next(this.localizationService.get("Trident_Git_Error_Git_Create_Branch_Origin_Branch_Not_Found_Message"));if(void 0===this.data.details.gitProviderType||!this.data.details.organizationName||!this.data.details.repositoryName)return this.isCreateButtonLoading=!1,void this.branchNameInputError$.next(this.localizationService.get("Trident_Git_Error_Git_Create_Branch_Failed_Message"));var gt={branchName:this.branchName,parentBranchName:this.parentBranch,organizationName:this.data.details.organizationName,providerType:this.data.details.gitProviderType,repositoryId:this.data.details.repositoryName,projectName:this.data.details.projectName,datasourceOID:null===(H=this.data.details)||void 0===H?void 0:H.datasourceOID,workspaceId:this.data.workspaceId};this.gitConnectionDiscoveryService.createBranch(gt).pipe((0,A.q)(1),(0,y.b)(function(){R.isCreateButtonLoading=!1,R.telemetryService.logEvent({name:"Create branch request",properties:{isWorkspaceConnected:R.data.isWorkspaceConnected}}),R.dr.close(R.branchName)}),(0,M.K)(function(Mt){var wt,ht=null===(wt=R.gitErrorService.makeGitErrorFromHttpResponse("Git_Create_Branch_Failed",Mt))||void 0===wt?void 0:wt.errorsDetails[0];return ht&&R.gitErrorService.isDedicatedErrorMessageAvailable(ht.errorType)?R.branchNameInputError$.next(ht.message):R.branchNameInputError$.next(R.localizationService.get("Trident_Git_Error_Git_Create_Branch_Failed_Message")),R.isCreateButtonLoading=!1,(0,s.of)()})).subscribe()},K.prototype.validateBranchName=function(R){return(0,k.tI)(R,this.localizationService)},K.prototype.calculateCreateButtonState=function(){this.isCreateButtonEnabled=void 0!==this.branchName&&""!==this.branchName&&void 0!==this.parentBranch&&void 0===this.branchNameInputError$.value},K.prototype.getDropDownOptions=function(){return{showFullContent:!1,dropdownHeight:this.filteredBranchesList.length>1?200:76,dropdownWidth:304}},K.prototype.getDropdownOverlayOptions=function(R){return{dropdownHeight:30*Math.max(Math.min(R,12),1)+34}},Object.defineProperty(K.prototype,"isCreateButtonEnabled",{get:function(){return this._isCreateButtonEnabled},set:function(H){this._isCreateButtonEnabled=H,this.dialogData.buttons[0].disabled=!H},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"isCreateButtonLoading",{get:function(){return this._isCreateButtonLoading},set:function(H){this._isCreateButtonLoading=H,this.dialogData.buttons[0].isLoading=H,this.dialogData.buttons[0].label=this.localizationService.get(H?"CapacityProvisioning_SpinnerText":"Create_ButtonText"),this.cdr.detectChanges()},enumerable:!1,configurable:!0}),K.\u0275fac=function(H){return new(H||K)(v.\u0275\u0275directiveInject(r.WI),v.\u0275\u0275directiveInject(v.ChangeDetectorRef),v.\u0275\u0275directiveInject(r.so),v.\u0275\u0275directiveInject(U.eL),v.\u0275\u0275directiveInject(J.z),v.\u0275\u0275directiveInject(T.t),v.\u0275\u0275directiveInject(b.jR))},K.\u0275cmp=v.\u0275\u0275defineComponent({type:K,selectors:[["tri-git-create-branch"]],decls:33,vars:37,consts:[[3,"dialogData","buttonClickEvent"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2235132","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon"],[1,"accordion-area"],[1,"branch-name-input"],[1,"mandatory"],["type","text",3,"ngClass","ngModel","placeholder","ngModelChange"],[4,"ngIf"],[1,"parent-branch-selection"],[1,"header-and-tooltip"],["id","select-origin-branch-dropdown-label-v2"],["tri-svg-icon-16","",3,"name","triTooltip"],["aria-labelledby","select-origin-branch-dropdown-label-V2",3,"ngModel","isDisabled","options","valueChange"],[1,"dropdown-search",3,"value"],[3,"value",4,"ngFor","ngForOf"],["tri-textfield-error","",1,"error-message"],["tri-svg-icon-12","",3,"name"],[3,"value"]],template:function(H,gt){var Mt;(1&H&&(v.\u0275\u0275elementStart(0,"trident-dialog",0),v.\u0275\u0275listener("buttonClickEvent",function(ht){return gt.clickButton(ht)}),v.\u0275\u0275elementStart(1,"div"),v.\u0275\u0275text(2),v.\u0275\u0275pipe(3,"localize"),v.\u0275\u0275elementStart(4,"tri-link",1),v.\u0275\u0275text(5),v.\u0275\u0275pipe(6,"localize"),v.\u0275\u0275elementEnd()(),v.\u0275\u0275elementStart(7,"div",2)(8,"div",3)(9,"h4"),v.\u0275\u0275text(10),v.\u0275\u0275pipe(11,"localize"),v.\u0275\u0275elementStart(12,"span",4),v.\u0275\u0275text(13," *"),v.\u0275\u0275elementEnd()(),v.\u0275\u0275elementStart(14,"input",5),v.\u0275\u0275listener("ngModelChange",function(ht){return gt.onBranchNameChange(ht)}),v.\u0275\u0275pipe(15,"localize"),v.\u0275\u0275elementEnd(),v.\u0275\u0275template(16,ft,5,3,"ng-container",6),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(17,"div",7)(18,"div",8)(19,"h4",9),v.\u0275\u0275text(20),v.\u0275\u0275pipe(21,"localize"),v.\u0275\u0275elementStart(22,"span",4),v.\u0275\u0275text(23," *"),v.\u0275\u0275elementEnd()(),v.\u0275\u0275element(24,"tri-svg-icon",10),v.\u0275\u0275pipe(25,"localize"),v.\u0275\u0275pipe(26,"localize"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(27,"tri-dropdown",11),v.\u0275\u0275listener("valueChange",function(ht){return gt.onParentBranchNameChange(ht)}),v.\u0275\u0275elementStart(28,"tri-dropdown-trigger"),v.\u0275\u0275text(29),v.\u0275\u0275pipe(30,"localize"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(31,"tri-search-box",12),v.\u0275\u0275listener("value",function(ht){return gt.onBranchesSearch(ht)}),v.\u0275\u0275elementEnd(),v.\u0275\u0275template(32,Q,3,2,"tri-dropdown-item",13),v.\u0275\u0275elementEnd()()()()),2&H)&&(v.\u0275\u0275property("dialogData",gt.dialogData),v.\u0275\u0275advance(2),v.\u0275\u0275textInterpolate1(" ",v.\u0275\u0275pipeBind1(3,19,"Trident_Git_Create_New_Branch_Info")," "),v.\u0275\u0275advance(3),v.\u0275\u0275textInterpolate1(" ",v.\u0275\u0275pipeBind1(6,21,"LearnMore")," "),v.\u0275\u0275advance(5),v.\u0275\u0275textInterpolate1(" ",v.\u0275\u0275pipeBind1(11,23,"Trident_Git_Branch_Name")," "),v.\u0275\u0275advance(4),v.\u0275\u0275property("ngClass",v.\u0275\u0275pureFunction1(35,_t,void 0!==gt.branchNameInputError$.value))("ngModel",gt.branchName)("placeholder",v.\u0275\u0275pipeBind1(15,25,"Trident_Git_Branch_Name")),v.\u0275\u0275attribute("data-testid","branch-name-text-input"),v.\u0275\u0275advance(2),v.\u0275\u0275property("ngIf",void 0!==gt.branchNameInputError$.value),v.\u0275\u0275advance(4),v.\u0275\u0275textInterpolate1(" ",v.\u0275\u0275pipeBind1(21,27,"Trident_Git_Create_New_Branch_Create_From")," "),v.\u0275\u0275advance(4),v.\u0275\u0275property("name","info_16_regular")("triTooltip",v.\u0275\u0275pipeBind1(25,29,"Trident_Git_Create_New_Branch_Tooltip")),v.\u0275\u0275attribute("aria-label",v.\u0275\u0275pipeBind1(26,31,"Trident_Git_Create_New_Branch_Tooltip")),v.\u0275\u0275advance(3),v.\u0275\u0275property("ngModel",gt.parentBranch)("isDisabled",0===gt.data.branchesList.length)("options",gt.getDropDownOptions()),v.\u0275\u0275attribute("data-testid","parent-branch-dropdown"),v.\u0275\u0275advance(2),v.\u0275\u0275textInterpolate1(" ",null!==(Mt=gt.parentBranch)&&void 0!==Mt?Mt:v.\u0275\u0275pipeBind1(30,33,"Trident_Git_Create_New_Branch_Choose_Parent_Branch")," "),v.\u0275\u0275advance(3),v.\u0275\u0275property("ngForOf",gt.filteredBranchesList))},dependencies:[D.NgClass,D.NgForOf,D.NgIf,o.Fj,o.JJ,o.On,x.v,Y.v,L.M,et.Z,$.M3,vt.l,ut.q,$.ii,mt.U,at.Y],styles:["[_nghost-%COMP%]     mat-dialog-content{display:flex;flex-direction:column;font-size:var(--fontSizeBase300)}[_nghost-%COMP%]     .mat-mdc-dialog-content.dialog-body{display:flex;flex-direction:column;gap:16px;max-height:none}.accordion-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;padding:24px;border:1px solid var(--globalColorGrey82);border-radius:8px;gap:24px;height:100%}.accordion-area[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold);margin:0 0 4px}.accordion-area[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span.mandatory[_ngcontent-%COMP%]{color:var(--globalColorRedShade10)}.accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid var(--globalColorGrey38);border:1px solid var(--globalColorGrey82);border-radius:4px;padding:6px 10px 6px 12px;box-sizing:border-box}.accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid var(--globalColorBrand80)}.accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   .input-error[_ngcontent-%COMP%]{border-color:var(--colorPaletteRedForeground1)}.accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]{margin-bottom:12px;display:flex;flex-direction:column;gap:4px}.accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-and-tooltip[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:20px}.accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-and-tooltip[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38)}tri-dropdown[_ngcontent-%COMP%]{width:100%;overflow-x:hidden;text-overflow:ellipsis;color:var(--colorNeutralForeground4);box-sizing:border-box}tri-dropdown.error[_ngcontent-%COMP%]{border:1px solid var(--globalColorCranberryPrimary)}.dropdown-search[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;margin-bottom:2px}.error-message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:4px;color:var(--globalColorCranberryPrimary);fill:var(--globalColorCranberryPrimary)}.error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200)}.error-message[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{min-width:12px;min-height:12px}"],changeDetection:0}),K}(),l=(a(71707),a(31572)),B=a(32980),P=a(6814),V=a(78035),q=a(95228),rt=a(16149),tt=a(17177),It=a(75476),Ot=a(57156),h=a(55710),Tt=(a(4511),a(8816)),Qt={provide:a(16434).E,useClass:function(){function K(){}return K.prototype.getSvgSpriteSheet=function(R){return new N.X('\n            <svg id="'.concat(R,'">\n                <?xml version="1.0" encoding="utf-8"?>\n                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                    <symbol viewBox="0 0 24 24" id="error_circle_24_filled" xmlns="http://www.w3.org/2000/svg"><path d="M12 2a10 10 0 110 20 10 10 0 010-20zm0 13a1 1 0 100 2 1 1 0 000-2zm0-8a1 1 0 00-1 .88v5.24a1 1 0 002 0V7.88A1 1 0 0012 7z"/></symbol>\n                    <symbol viewBox="0 0 20 20" id="document_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M6 2a2 2 0 00-2 2v12c0 1.1.9 2 2 2h8a2 2 0 002-2V7.41c0-.4-.16-.78-.44-1.06l-3.91-3.91A1.5 1.5 0 0010.59 2H6zM5 4a1 1 0 011-1h4v3.5c0 .83.67 1.5 1.5 1.5H15v8a1 1 0 01-1 1H6a1 1 0 01-1-1V4zm9.8 3h-3.3a.5.5 0 01-.5-.5V3.2L14.8 7z"/></symbol>\n                    <symbol viewBox="0 0 24 24" id="error_circle_24_filled" xmlns="http://www.w3.org/2000/svg"><path d="M12 2a10 10 0 110 20 10 10 0 010-20zm0 13a1 1 0 100 2 1 1 0 000-2zm0-8a1 1 0 00-1 .88v5.24a1 1 0 002 0V7.88A1 1 0 0012 7z"/></symbol><symbol viewBox="0 0 12 12" id="info_12_regular" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 6.5a.5.5 0 011 0V8a.5.5 0 01-1 0V6.5zM6 3.75a.75.75 0 100 1.5.75.75 0 000-1.5zM1 6a5 5 0 1110 0A5 5 0 011 6zm5-4a4 4 0 100 8 4 4 0 000-8z"/></symbol>\n                    <symbol viewBox="0 0 20 20" id="table_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M17 5.5A2.5 2.5 0 0014.5 3h-9A2.5 2.5 0 003 5.5v9A2.5 2.5 0 005.5 17h9a2.5 2.5 0 002.5-2.5v-9zm-13 9V13h3v3H5.36A1.5 1.5 0 014 14.5zm8-1.5v3H8v-3h4zm2.5 3H13v-3h3V14.64A1.5 1.5 0 0114.5 16zM12 8v4H8V8h4zm1 0h3v4h-3V8zm-1-4v3H8V4h4zm1 0H14.64A1.5 1.5 0 0116 5.5V7h-3V4zM7 4v3H4V5.36A1.5 1.5 0 015.5 4H7zm0 4v4H4V8h3z"/></symbol>\n                </svg>\n            </svg>\n        '))},K.prototype.getSvgSpriteUrl=function(R){return"/assets/sprites/".concat(R,".svg")},K.\u0275prov=v.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac=function(H){return new(H||K)},providedIn:"root"}),K}()},ve=function(){function K(){}return K.\u0275fac=function(H){return new(H||K)},K.\u0275mod=v.\u0275\u0275defineNgModule({type:K}),K.\u0275inj=v.\u0275\u0275defineInjector({providers:[Qt],imports:[D.CommonModule,tt.T6,h.jT,Tt.w,V.Y]}),K}(),Jt=a(2552),re=a(12385),ge=a(44913),fe=a(46303),Se=a(94757),Ce=a(84515),Gt=a(42178),ne=a(81339),Ie=a(15468),we=function(){function K(){}return K.\u0275fac=function(H){return new(H||K)},K.\u0275mod=v.\u0275\u0275defineNgModule({type:K}),K.\u0275inj=v.\u0275\u0275defineInjector({providers:[Se.G,Ce.e,Gt.r,Ie.A,P.Ns.withLazyService(ne.A,Gt.r)],imports:[D.CommonModule,o.u5,B.sp,rt.m,V.Y,tt.T6,Tt.w,ve,Ot.F,It.OT,q.W,Jt.Ug,re.K3,ge.lK,fe.b]}),K}()},81544:function(St,it,a){a.d(it,{b:function(){return ct}});var c=a(32293),r=a(30794),N=a(35510),s=a(11547),A=a(59017),y=a(48787),M=a(14172),k=a(81905),b=a(83317),U=a(59973),v=a(70628),J=a(18016),T=a(31572),D=a(40773),o=a(50423),x=a(7452),Y=a(77476),L=a(17174),et=a(95825),$=a(74913),vt=a(55490),ut=a(55334);function mt(X,d){1&X&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"div",7),o.\u0275\u0275element(2,"tri-svg-icon",8),o.\u0275\u0275elementStart(3,"span"),o.\u0275\u0275text(4),o.\u0275\u0275pipe(5,"localize"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementContainerEnd()),2&X&&(o.\u0275\u0275advance(1),o.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-name-error"),o.\u0275\u0275advance(1),o.\u0275\u0275property("name","error_circle_12_filled"),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(5,3,"Pipelines_CreatePipelineDialog_NameAlreadyExistsError")," "))}function at(X,d){1&X&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"div",7),o.\u0275\u0275element(2,"tri-svg-icon",8),o.\u0275\u0275elementStart(3,"span"),o.\u0275\u0275text(4),o.\u0275\u0275pipe(5,"localize"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementContainerEnd()),2&X&&(o.\u0275\u0275advance(1),o.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-pat-error"),o.\u0275\u0275advance(1),o.\u0275\u0275property("name","error_circle_12_filled"),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(5,3,"Trident_Git_Auth_Dialog_Param_PAT_Error")," "))}function ft(X,d){1&X&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"div",7),o.\u0275\u0275element(2,"tri-svg-icon",8),o.\u0275\u0275elementStart(3,"span"),o.\u0275\u0275text(4),o.\u0275\u0275pipe(5,"localize"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementContainerEnd()),2&X&&(o.\u0275\u0275advance(1),o.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-url-error"),o.\u0275\u0275advance(1),o.\u0275\u0275property("name","error_circle_12_filled"),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(5,3,"Trident_Git_Auth_Dialog_Param_RepoUrl_Error")," "))}var Q=function(d){return{error:d}};function _t(X,d){if(1&X){var S=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"trident-dialog",1),o.\u0275\u0275listener("buttonClickEvent",function(_){o.\u0275\u0275restoreView(S);var l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.clickButton(_))}),o.\u0275\u0275pipe(2,"localize"),o.\u0275\u0275elementStart(3,"div")(4,"h4"),o.\u0275\u0275text(5),o.\u0275\u0275pipe(6,"localize"),o.\u0275\u0275elementStart(7,"span",2),o.\u0275\u0275text(8," *"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(9,"div",3)(10,"input",4),o.\u0275\u0275listener("ngModelChange",function(_){o.\u0275\u0275restoreView(S);var l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.displayName=_)})("ngModelChange",function(_){o.\u0275\u0275restoreView(S);var l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.displayNameChanged(_))}),o.\u0275\u0275pipe(11,"async"),o.\u0275\u0275pipe(12,"localize"),o.\u0275\u0275pipe(13,"localize"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(14,mt,6,5,"ng-container",0),o.\u0275\u0275pipe(15,"async"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(16,"div")(17,"h4"),o.\u0275\u0275text(18),o.\u0275\u0275pipe(19,"localize"),o.\u0275\u0275elementStart(20,"span",2),o.\u0275\u0275text(21," *"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(22,"tri-svg-icon",5),o.\u0275\u0275pipe(23,"localize"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(24,"div",3)(25,"input",6),o.\u0275\u0275listener("ngModelChange",function(_){o.\u0275\u0275restoreView(S);var l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.personalAccessToken=_)})("ngModelChange",function(_){o.\u0275\u0275restoreView(S);var l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.personalAccessTokenChanged(_))}),o.\u0275\u0275pipe(26,"async"),o.\u0275\u0275pipe(27,"localize"),o.\u0275\u0275pipe(28,"localize"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(29,at,6,5,"ng-container",0),o.\u0275\u0275pipe(30,"async"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(31,"div")(32,"h4"),o.\u0275\u0275text(33),o.\u0275\u0275pipe(34,"localize"),o.\u0275\u0275element(35,"tri-svg-icon",5),o.\u0275\u0275pipe(36,"localize"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(37,"div",3)(38,"input",4),o.\u0275\u0275listener("ngModelChange",function(_){o.\u0275\u0275restoreView(S);var l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.repositoryUrl=_)})("ngModelChange",function(_){o.\u0275\u0275restoreView(S);var l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.repositoryUrlChanged(_))}),o.\u0275\u0275pipe(39,"async"),o.\u0275\u0275pipe(40,"localize"),o.\u0275\u0275pipe(41,"localize"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(42,ft,6,5,"ng-container",0),o.\u0275\u0275pipe(43,"async"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementContainerEnd()}if(2&X){var f=d.ngIf,G=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("dialogData",G.dialogData)("closeButtonLabel",o.\u0275\u0275pipeBind1(2,27,"Cancel_ButtonText")),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(6,29,"Trident_Git_Auth_Dialog_Param_DisplayName")," "),o.\u0275\u0275advance(5),o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction1(63,Q,o.\u0275\u0275pipeBind1(11,31,G.isDisplayNameInvalid$)))("ngModel",G.displayName)("placeholder",o.\u0275\u0275pipeBind1(12,33,f.localizationKeysList[1])),o.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-display-name-input")("aria-label",o.\u0275\u0275pipeBind1(13,35,"Trident_Git_Auth_Dialog_Param_DisplayName")),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngIf",o.\u0275\u0275pipeBind1(15,37,G.isDisplayNameInvalid$)),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(19,39,"Trident_Git_Auth_Dialog_Param_PAT")," "),o.\u0275\u0275advance(4),o.\u0275\u0275property("name","info_16_regular")("triTooltip",o.\u0275\u0275pipeBind1(23,41,f.localizationKeysList[2])),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction1(65,Q,o.\u0275\u0275pipeBind1(26,43,G.isPersonalAccessTokenInvalid$)))("ngModel",G.personalAccessToken)("placeholder",o.\u0275\u0275pipeBind1(27,45,f.localizationKeysList[3])),o.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-pat-input")("aria-label",o.\u0275\u0275pipeBind1(28,47,"Trident_Git_Auth_Dialog_Param_PAT")),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngIf",o.\u0275\u0275pipeBind1(30,49,G.isPersonalAccessTokenInvalid$)),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(34,51,"Trident_Git_Auth_Dialog_Param_RepoUrl")," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("name","info_16_regular")("triTooltip",o.\u0275\u0275pipeBind1(36,53,f.localizationKeysList[4])),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction1(67,Q,o.\u0275\u0275pipeBind1(39,55,G.isRepositoryUrlInvalid$)))("ngModel",G.repositoryUrl)("placeholder",o.\u0275\u0275pipeBind1(40,57,f.localizationKeysList[5])),o.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-url-input")("aria-label",o.\u0275\u0275pipeBind1(41,59,"Trident_Git_Auth_Dialog_Param_RepoUrl")),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngIf",o.\u0275\u0275pipeBind1(43,61,G.isRepositoryUrlInvalid$))}}var ct=function(){function X(d,S,f,G,m,_){this.cdr=d,this.dr=S,this.gitDatasourceService=f,this.gitSessionStorageService=G,this.localizationService=m,this.data=_,this._isAddButtonEnabled=!1,this._isAddButtonLoading=!1,this.destroy$=new r.xQ,this.isDisplayNameInvalid$=new N.X(void 0),this.isPersonalAccessTokenInvalid$=new N.X(void 0),this.validatePersonalAccessToken=function(){return!1},this.isRepositoryUrlInvalid$=new N.X(!1),this.validateRepositoryUrl=function(){return!0},this.workspaceId=this.data,this.selectedGitProviderType$=(0,s.of)(),this.componentAssets$=(0,s.of)(),this.existingDatasourcesNames=[],this.dialogData={title:"",buttons:[{name:"Add",label:this.localizationService.get("ItemAction_Add"),buttonType:"primary",disabled:!this.isAddButtonEnabled,isLoading:this.isAddButtonLoading},{name:"Cancel",label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]},this.displayName="",this.personalAccessToken="",this.repositoryUrl=""}return X.prototype.ngOnInit=function(){var d=this,S=(0,T.fA)();this.selectedGitProviderType$=this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId).pipe((0,y.q)(1),(0,M.U)(function(f){return f?.selectedGitProviderType})),this.componentAssets$=this.selectedGitProviderType$.pipe((0,y.q)(1),(0,M.U)(function(f){if(f){var G=S[f];if(G)return d.dialogData.title=d.localizationService.get(G.localizationKeysList[0]),d.validatePersonalAccessToken=G.validationFunctionsList[0],d.validateRepositoryUrl=G.validationFunctionsList[1],G}})),this.selectedGitProviderType$.pipe((0,y.q)(1),(0,k.w)(function(f){return void 0!==f?d.gitDatasourceService.getDatasources({workspaceId:d.workspaceId,gitProviderType:f}).pipe((0,M.U)(function(G){return{gitProviderType:f,datasources:G}})):(0,s.of)({gitProviderType:void 0,datasources:void 0})})).subscribe(function(f){var G,m=f.gitProviderType,_=f.datasources;void 0!==_?.datasourcesRecord&&void 0!==m&&(d.existingDatasourcesNames=null!==(G=_.datasourcesRecord[m].map(function(B){return B.datasourceName.toLowerCase()}))&&void 0!==G?G:[])})},X.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},X.prototype.clickButton=function(d){"Add"===d?this.handleCreateDatasourceRequest():"Cancel"===d&&this.dr.close()},X.prototype.displayNameChanged=function(d){this.isDisplayNameInvalid$.next(this.existingDatasourcesNames.includes(d.toLowerCase())),this.calculateAddButtonState()},X.prototype.personalAccessTokenChanged=function(d){this.isPersonalAccessTokenInvalid$.next(!(""===this.personalAccessToken||this.validatePersonalAccessToken(d))),this.calculateAddButtonState()},X.prototype.repositoryUrlChanged=function(d){this.isRepositoryUrlInvalid$.next(""!==d&&!this.validateRepositoryUrl(d)),this.calculateAddButtonState()},X.prototype.handleCreateDatasourceRequest=function(){var d=this,S={workspaceId:this.workspaceId,gitProviderType:J.IS.GitHub,displayName:this.displayName,personalAccessToken:this.personalAccessToken,repositoryUrl:this.repositoryUrl};this.isAddButtonLoading=!0,(0,A.aj)([this.gitDatasourceService.getDatasourceCallState(this.workspaceId),this.gitDatasourceService.createDatasource(S)]).pipe((0,b.R)(this.destroy$),(0,U.h)(function(f){var G=f[0];return G===v.j3q.Completed||(0,J.pb)(G)}),(0,y.q)(1)).subscribe(function(f){var G=f[0];G===v.j3q.Completed?d.dr.close():(d.isAddButtonLoading=!1,(!(0,J.pb)(G)||!d.isRecoverableError(G))&&d.dr.close())})},X.prototype.calculateAddButtonState=function(){this.isAddButtonEnabled=!(""===this.displayName||this.isDisplayNameInvalid$.value||""===this.personalAccessToken||this.isPersonalAccessTokenInvalid$.value||""!==this.repositoryUrl&&this.isRepositoryUrlInvalid$.value)},X.prototype.isRecoverableError=function(d){return!1},Object.defineProperty(X.prototype,"isAddButtonEnabled",{get:function(){return this._isAddButtonEnabled},set:function(S){this._isAddButtonEnabled=S,this.dialogData.buttons[0].disabled=!S},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"isAddButtonLoading",{get:function(){return this._isAddButtonLoading},set:function(S){this._isAddButtonLoading=S,this.dialogData.buttons[0].isLoading=S,this.dialogData.buttons[0].label=this.localizationService.get(S?"Adding":"ItemAction_Add"),this.cdr.detectChanges()},enumerable:!1,configurable:!0}),X.\u0275fac=function(S){return new(S||X)(o.\u0275\u0275directiveInject(o.ChangeDetectorRef),o.\u0275\u0275directiveInject(c.so),o.\u0275\u0275directiveInject(D.Ae),o.\u0275\u0275directiveInject(v.gCl),o.\u0275\u0275directiveInject(x.z),o.\u0275\u0275directiveInject(c.WI))},X.\u0275cmp=o.\u0275\u0275defineComponent({type:X,selectors:[["tri-git-auth-dialog"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"dialogData","closeButtonLabel","buttonClickEvent"],[1,"mandatory"],["tri-textfield","",1,"input-container"],["type","text",3,"ngClass","ngModel","placeholder","ngModelChange"],["tri-svg-icon-16","",3,"name","triTooltip"],["type","password",3,"ngClass","ngModel","placeholder","ngModelChange"],["tri-textfield-error","",1,"error-message"],["tri-svg-icon-12","",3,"name"]],template:function(S,f){1&S&&(o.\u0275\u0275template(0,_t,44,69,"ng-container",0),o.\u0275\u0275pipe(1,"async")),2&S&&o.\u0275\u0275property("ngIf",o.\u0275\u0275pipeBind1(1,1,f.componentAssets$))},dependencies:[Y.NgClass,Y.NgIf,L.Fj,L.JJ,L.On,et.v,$.M,vt.Z,Y.AsyncPipe,ut.Y],styles:["[_nghost-%COMP%]     mat-dialog-content{display:flex;flex-direction:column;gap:8px;font-size:var(--fontSizeBase300)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container){display:flex;flex-direction:column;gap:4px}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) h4{display:flex;flex-direction:row;align-items:center;gap:4px;margin:0;font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) h4 span.mandatory{color:var(--globalColorRedShade10)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) h4 tri-svg-icon{fill:var(--globalColorGrey38)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) input{width:100%;border-bottom:1px solid var(--globalColorGrey38)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) input.error{border:1px solid var(--globalColorCranberryPrimary)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) input:focus{border-bottom:2px solid var(--globalColorBrand80)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) .error-message{display:flex;flex-direction:row}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) .error-message span{font-size:var(--fontSizeBase200)}[_nghost-%COMP%]     mat-dialog-actions .button-container{gap:8px;margin:16px 0 0}[_nghost-%COMP%]     .mat-mdc-dialog-content.dialog-body{max-height:none}"],changeDetection:0}),X}()},71707:function(St,it,a){a.d(it,{A:function(){return Y}});var c=a(48787),r=a(81905),N=a(17653),s=a(59822),A=a(32293),y=a(11547),M=a(65232),k=a(70628),b=a(12385),U=a(40773),v=a(50423),J=a(7452),T=a(95825),D=a(55334),o="cancelButton",x="logoutButton",Y=function(){function L(et,$,vt,ut,mt,at,ft,Q){this.data=et,this.dr=$,this.localizationService=vt,this.gitConfigureCredentialsService=ut,this.gitSessionStorageService=mt,this.gitNotificationService=at,this.gitConnectionService=ft,this.gitErrorService=Q,this.dialogData={title:this.localizationService.get("Trident_Git_Log_Out_Dialog_Title"),buttons:[{name:x,label:this.localizationService.get("Trident_Git_Log_Out"),buttonType:"primary"},{name:o,label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]}}return L.prototype.clickButton=function(et){et===x?this.handleLogOutRequest():et===o&&this.dr.close(et)},L.prototype.handleLogOutRequest=function(){var et=this;this.gitConnectionService.getGitConnection(this.data.workspaceId).pipe((0,c.q)(1),(0,r.w)(function($){return $?.gitConnectionDetails?et.gitConfigureCredentialsService.deleteConfiguredCredentials(et.data.workspaceId):(0,y.of)(void 0)}),(0,c.q)(1),(0,N.b)(function(){et.gitSessionStorageService.deleteCredentials(et.data.workspaceId),et.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Logout_Success"),et.dr.close(x)}),(0,s.K)(function($){var vt=et.gitErrorService.makeGitErrorFromHttpResponse("Git_Delete_Credentials_Failed",$);return et.gitNotificationService.showErrorNotification(vt,"Trident_Git_Toast_Logout_Fail"),[]})).subscribe()},L.\u0275fac=function($){return new($||L)(v.\u0275\u0275directiveInject(A.WI),v.\u0275\u0275directiveInject(A.so),v.\u0275\u0275directiveInject(J.z),v.\u0275\u0275directiveInject(U.id),v.\u0275\u0275directiveInject(k.gCl),v.\u0275\u0275directiveInject(b.mn),v.\u0275\u0275directiveInject(U.rC),v.\u0275\u0275directiveInject(M.jR))},L.\u0275cmp=v.\u0275\u0275defineComponent({type:L,selectors:[["tri-git-logout-dialog"]],decls:4,vars:4,consts:[[3,"dialogData","buttonClickEvent"]],template:function($,vt){1&$&&(v.\u0275\u0275elementStart(0,"trident-dialog",0),v.\u0275\u0275listener("buttonClickEvent",function(mt){return vt.clickButton(mt)}),v.\u0275\u0275elementStart(1,"p"),v.\u0275\u0275text(2),v.\u0275\u0275pipe(3,"localize"),v.\u0275\u0275elementEnd()()),2&$&&(v.\u0275\u0275property("dialogData",vt.dialogData),v.\u0275\u0275advance(2),v.\u0275\u0275textInterpolate1(" ",v.\u0275\u0275pipeBind1(3,2,"Trident_Git_Log_Out_Dialog_Message")," "))},dependencies:[T.v,D.Y],encapsulation:2,changeDetection:0}),L}()},31572:function(St,it,a){a.d(it,{NJ:function(){return ct},P0:function(){return X},rl:function(){return yt},fA:function(){return d},ge:function(){return G},_k:function(){return m},Tr:function(){return f},EI:function(){return S},yp:function(){return _}});var c=a(11547),r=a(18016),N=a(48787),s=a(14172);function A(l){if(!l?.project)throw"Git_AzureDevOpsMissingProjectName";if(l?.datasourceOID)throw"Git_AzureDevOpsInvalidParameters"}function y(l){if(!l?.projectName)throw"Git_AzureDevOpsMissingProjectName"}function M(l){if(!l?.projectName)throw"Git_AzureDevOpsMissingProjectName"}function k(l){return void 0!==l?.selectedUserAccount}function b(l){if(!l?.projectName)throw"Git_AzureDevOpsMissingProjectName"}function U(l,B){return B.getGitConnection(l).pipe((0,N.q)(1),(0,s.U)(function(P){return void 0===P?.gitConnectionDetails}))}var v=a(59017),J="https://github.com";function o(l){return{datasourceOID:l.id}}function x(l){var B;return null!==(B=l.isConfigured)&&void 0!==B&&B}function Y(l,B,P){return(0,v.aj)([P.loadGitSessionStorage(l),B.getGitConnection(l)]).pipe((0,s.U)(function(V){var rt=V[1];return void 0!==rt?.gitConnectionDetails}))}function L(l,B,P){if(B&&B!==J){if(!ut(B))throw new Error("Git_Invalid_Github_Repository_Url");var V=B.split("/");l.setDatasourceUrl(P,V[3],V[4])}else l.resetDatasourceUrl(P)}var et=["Trident_Git_Auth_Dialog_Title_GitHub","Trident_Git_Auth_Dialog_Param_DisplayName_Placeholder","Trident_Git_Auth_Dialog_Param_PAT_Tooltip_GitHub","Trident_Git_Auth_Dialog_Param_PAT_Placeholder_GitHub","Trident_Git_Auth_Dialog_Param_RepoUrl_Tooltip_GitHub","Trident_Git_Auth_Dialog_Param_RepoUrl_Placeholder"],$=[function(l){return l.toLowerCase().startsWith("ghp_")||l.startsWith("github_pat_")},ut];function ut(l){var B=l.replace(/\/$|\.git$/g,"");return/^https:\/\/github\.com\/[^/]+\/[^/]+$/.test(B)}function mt(l){if(!l?.datasourceOID)throw"Git_GitHubMissingDatasourceOID"}function at(l){if(l?.projectName)throw"Git_GitHubInvalidParameters";if(!l?.datasourceOID)throw"Git_GitHubMissingDatasourceOID"}function ft(l){if(l?.projectName)throw"Git_GitHubInvalidParameters";if(!l?.datasourceOID)throw"Git_GitHubMissingDatasourceOID"}function Q(l){if(l?.projectName)throw"Git_GitHubInvalidParameters";if(!l?.datasourceOID)throw"Git_GitHubMissingDatasourceOID"}function _t(l,B){return l?.filter(function(P){return P.url===B||P.url===J})}function yt(l){return"".concat(J,"/").concat(l.organizationName,"/").concat(l.repositoryName)}var ct=function(l){return l[l.ShowADOAccountsList=0]="ShowADOAccountsList",l[l.ShowGitHubDataSourcesList=1]="ShowGitHubDataSourcesList",l}({}),X=function(l){return l.UserAccountDetails="UserAccountDetails",l.DatasourceDetails="DatasourceDetails",l}({});function d(){var l;return(l={})[r.IS.AzureDevOps]=void 0,l[r.IS.GitHub]={localizationKeysList:et,validationFunctionsList:$},l}function S(){var l;return(l={})[r.IS.AzureDevOps]={displayMode:ct.ShowADOAccountsList,connectedProviderDetailsType:X.UserAccountDetails,doesGitProviderNeedsDatasource:!1,canTheUserLogOut:U,shouldShowSwitchAccount:function(){return(0,c.of)(!1)},isWorkspaceConnectedToGitProvider:k},l[r.IS.GitHub]={displayMode:ct.ShowGitHubDataSourcesList,connectedProviderDetailsType:X.DatasourceDetails,doesGitProviderNeedsDatasource:!0,canTheUserLogOut:function(){return(0,c.of)(!0)},shouldShowSwitchAccount:Y,isWorkspaceConnectedToGitProvider:x,selectDatasourceSideEffect:L,filterDatasources:_t,getFilteringValue:yt},l}function f(){var l;return(l={})[r.IS.AzureDevOps]={},l[r.IS.GitHub]={createConfigureCredentialsRequestFromDatasource:o},l}function G(){var l;return(l={})[r.IS.AzureDevOps]={getBranchesValidator:A,createBranchRequestValidator:y,createDirectoryRequestValidator:M},l[r.IS.GitHub]={getBranchesValidator:mt,createBranchRequestValidator:at,createDirectoryRequestValidator:ft},l}function m(){var l;return(l={})[r.IS.AzureDevOps]={gitConnectionDetailsContractValidator:b},l[r.IS.GitHub]={gitConnectionDetailsContractValidator:Q},l}function _(l){var B=new Map;return B.set(r.IS.GitHub,function(l){var B,P;return null===(P=null===(B=l.featureSwitches)||void 0===B?void 0:B.gitHubTenantSettingsEnabled)||void 0===P||P}(l)),B.set(r.IS.AzureDevOps,!0),B}},94757:function(St,it,a){a.d(it,{G:function(){return M}});var c=a(33554),r=a(58417),N=a(48787),s=a(14172),A=a(94771),y=a(50423),M=function(){function k(b){this.featureSwitchService=b,this.featureSwitchStatusSubjects={}}return k.prototype.isTenantAdminEnabled=function(b){return this.featureSwitchStatusSubjects[b]||(this.featureSwitchStatusSubjects[b]=new c.t(1),this.fetchFeatureSwitchStatus(b).subscribe(this.featureSwitchStatusSubjects[b])),this.featureSwitchStatusSubjects[b].asObservable()},k.prototype.fetchFeatureSwitchStatus=function(b){var U=this;return!0!==this.featureSwitchService.featureSwitches.tridentGitSwitchesDelegation?new r.y(function(v){v.next(!!U.featureSwitchService.featureSwitches.gitIntegrationTenantSwitchEnabled),v.complete()}):this.featureSwitchService.getWorkspaceDelegatedSetting({name:"GitIntegrationTenantSwitchEnabled",workspaceObjectId:b}).pipe((0,N.q)(1),(0,s.U)(function(v){return v.isEnabled||!1}))},k.\u0275fac=function(U){return new(U||k)(y.\u0275\u0275inject(A.V$))},k.\u0275prov=y.\u0275\u0275defineInjectable({token:k,factory:k.\u0275fac,providedIn:"root"}),k}()},84515:function(St,it,a){a.d(it,{e:function(){return A}});var c=a(14172),r=a(2552),N=a(31572),s=a(50423),A=function(){function y(M){this.gitConnectionDiscoveryClient=M,this.serviceConfig=(0,N.ge)()}return y.prototype.getOrganizations=function(M,k){return this.gitConnectionDiscoveryClient.getOrganizations(M,k)},y.prototype.getProjects=function(M,k,b){return this.gitConnectionDiscoveryClient.getProjects(M,k,b)},y.prototype.getRepositories=function(M,k,b,U){return this.gitConnectionDiscoveryClient.getRepositories(M,k,b,U)},y.prototype.getBranches=function(M){var k,b=null===(k=this.serviceConfig[M.gitProviderType])||void 0===k?void 0:k.getBranchesValidator;return b&&b(M),this.gitConnectionDiscoveryClient.getBranches(M.workspaceId,M.gitProviderType,M.organization,M.repository,M?.project,M?.datasourceOID)},y.prototype.createBranch=function(M){var k,b=null===(k=this.serviceConfig[M.providerType])||void 0===k?void 0:k.createBranchRequestValidator;return b&&b(M),this.gitConnectionDiscoveryClient.createBranch(M)},y.prototype.createDirectory=function(M){var k,b=null===(k=this.serviceConfig[M.providerType])||void 0===k?void 0:k.createDirectoryRequestValidator;return b&&b(M),this.gitConnectionDiscoveryClient.createDirectory(M)},y.prototype.getRelatedWorkspaces=function(M){return this.gitConnectionDiscoveryClient.getRelatedWorkspaces(M).pipe((0,c.U)(function(k){return k.relatedWorkspaces}))},y.\u0275fac=function(k){return new(k||y)(s.\u0275\u0275inject(r.bE))},y.\u0275prov=s.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y}()},81339:function(St,it,a){a.d(it,{A:function(){return r}});var r=new(a(50423).InjectionToken)("GitConnectionService")},42178:function(St,it,a){a.d(it,{r:function(){return v}});var c=a(11547),r=a(48787),N=a(81905),s=a(17653),A=a(59822),y=a(70628),M=a(94757),k=a(31572),b=a(50423),U=a(85732),v=function(){function J(T,D,o){this.gitConnectionFacade=T,this.gitAdminSwitchesService=D,this.store=o,this.serviceConfig=(0,k._k)()}return J.prototype.loadGitConnection=function(T){var D=this;return this.gitAdminSwitchesService.isTenantAdminEnabled(T).pipe((0,r.q)(1),(0,N.w)(function(o){return o?D.gitConnectionFacade.loadGitConnection(T):(0,c.of)(void 0)}),(0,r.q)(1),(0,s.b)(function(o){var x;if(o?.gitConnectionDetails){var Y=null===(x=D.serviceConfig[o.gitConnectionDetails.gitProviderType])||void 0===x?void 0:x.gitConnectionDetailsContractValidator;Y&&Y(o.gitConnectionDetails)}}),(0,A.K)(function(){return(0,c.of)(void 0)}))},J.prototype.ensureGitConnection=function(T,D){var o=this;return void 0===D&&(D=!1),D?this.gitConnectionFacade.ensureGitConnection(T):this.gitAdminSwitchesService.isTenantAdminEnabled(T).pipe((0,r.q)(1),(0,N.w)(function(x){return x?o.gitConnectionFacade.ensureGitConnection(T):(0,c.of)(void 0)}))},J.prototype.getGitConnection=function(T){var D=this;return this.gitAdminSwitchesService.isTenantAdminEnabled(T).pipe((0,r.q)(1),(0,N.w)(function(o){return o?D.gitConnectionFacade.getGitConnection(T):(0,c.of)(void 0)}))},J.prototype.updateDatasourceInGitConnection=function(T,D){this.store.dispatch((0,y.V_q)({workspaceId:T,datasourceOID:D}))},J.prototype.saveGitConnection=function(T){var D;if(T?.gitConnectionDetails){var o=null===(D=this.serviceConfig[T.gitConnectionDetails.gitProviderType])||void 0===D?void 0:D.gitConnectionDetailsContractValidator;o&&o(T.gitConnectionDetails)}return this.gitConnectionFacade.saveGitConnection(T)},J.prototype.deleteGitConnection=function(T){return this.gitConnectionFacade.deleteGitConnection(T)},J.prototype.getGitConnectionOperationState=function(T){var D=this;return this.gitAdminSwitchesService.isTenantAdminEnabled(T).pipe((0,r.q)(1),(0,N.w)(function(o){return o?D.gitConnectionFacade.getGitConnectionOperationState(T):(0,c.of)(y.Gui.Initial)}))},J.prototype.checkoutBranch=function(T){return this.gitConnectionFacade.checkoutBranch(T)},J.\u0275fac=function(D){return new(D||J)(b.\u0275\u0275inject(y.f$Z),b.\u0275\u0275inject(M.G),b.\u0275\u0275inject(U.yh))},J.\u0275prov=b.\u0275\u0275defineInjectable({token:J,factory:J.\u0275fac,providedIn:"root"}),J}()},15468:function(St,it,a){a.d(it,{A:function(){return N}});var c=a(70628),r=a(50423),N=function(){function s(A){this.gitDatasourcesFacade=A}return s.prototype.createDatasource=function(A){return this.gitDatasourcesFacade.createDatasource(A)},s.prototype.discoverDatasources=function(A){return this.gitDatasourcesFacade.loadDatasources(A)},s.prototype.getDatasources=function(A){return this.gitDatasourcesFacade.getDatasources(A)},s.prototype.getDatasourceCallState=function(A){return this.gitDatasourcesFacade.getDataSourcesCallState(A)},s.\u0275fac=function(y){return new(y||s)(r.\u0275\u0275inject(c.iAv))},s.\u0275prov=r.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}()},40773:function(St,it,a){a.d(it,{Gg:function(){return c.G},id:function(){return J},eL:function(){return s.e},rC:function(){return y.r},AC:function(){return A.A},Ae:function(){return M.A},Mv:function(){return T}});var c=a(94757),r=a(70628),s=a(84515),A=a(81339),y=a(42178),M=a(15468),k=a(60225),b=a(2552),U=a(31572),v=a(50423),J=function(){function D(o){this.gitDatasourceClient=o,this.datasourceServiceConfigRecord=(0,U.Tr)()}return D.prototype.configureCredentials=function(o,x,Y){var L,et=null===(L=this.datasourceServiceConfigRecord[o])||void 0===L?void 0:L.createConfigureCredentialsRequestFromDatasource;return et?this.gitDatasourceClient.postConfigureCredentials(x,et(Y)):(0,k._)("Git_UnsupportedGitProvider")},D.prototype.deleteConfiguredCredentials=function(o){return this.gitDatasourceClient.deleteConfiguredCredentials(o)},Object.defineProperty(D.prototype,"getDatasourceServiceConfig",{get:function(){return this.datasourceServiceConfigRecord},enumerable:!1,configurable:!0}),D.\u0275fac=function(x){return new(x||D)(v.\u0275\u0275inject(b.Kl))},D.\u0275prov=v.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac,providedIn:"root"}),D}(),T=function(){function D(o){this.gitSwitchBranchFacade=o}return D.prototype.switchBranch=function(o){return this.gitSwitchBranchFacade.switchBranch(o)},D.prototype.getSwitchBranchState=function(o){return this.gitSwitchBranchFacade.getSwitchBranchState(o)},D.\u0275fac=function(x){return new(x||D)(v.\u0275\u0275inject(r.CCT))},D.\u0275prov=v.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac,providedIn:"root"}),D}()},65232:function(St,it,a){a.d(it,{jR:function(){return X},Nn:function(){return M}});var c=a(77476),r=a(32293),N=a(78035),s=a(32980),A=a(17177),y=a(50423),M=function(){function G(){}return G.\u0275fac=function(_){return new(_||G)},G.\u0275mod=y.\u0275\u0275defineNgModule({type:G}),G.\u0275inj=y.\u0275\u0275defineInjector({imports:[c.CommonModule,r.Is,N.Y,s.sp,A.T6]}),G}(),k=a(81337),b=a(18016),U=a(67758),v=a(41838),J=a(12315),T=a(95825),D=a(74913);function o(G,m){if(1&G&&(y.\u0275\u0275elementStart(0,"div",1),y.\u0275\u0275element(1,"tri-svg-icon",2),y.\u0275\u0275elementStart(2,"span",3),y.\u0275\u0275text(3),y.\u0275\u0275elementEnd()()),2&G){var _=m.$implicit;y.\u0275\u0275advance(1),y.\u0275\u0275property("sprite",_.sprite)("name",_.iconName),y.\u0275\u0275advance(1),y.\u0275\u0275attribute("aria-label",_.name),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(_.name)}}var x=function(){function G(){this.artifactList=[]}return G.\u0275fac=function(_){return new(_||G)},G.\u0275cmp=y.\u0275\u0275defineComponent({type:G,selectors:[["tri-git-items-list"]],inputs:{artifactList:"artifactList"},decls:1,vars:1,consts:[["class","artifacts-list",4,"ngFor","ngForOf"],[1,"artifacts-list"],["tri-svg-icon-22","",1,"artifact-icon",3,"sprite","name"],["tabIndex","0",1,"artifact-name","trimmedTextWithEllipsis"]],template:function(_,l){1&_&&y.\u0275\u0275template(0,o,4,4,"div",0),2&_&&y.\u0275\u0275property("ngForOf",l.artifactList)},dependencies:[c.NgForOf,D.M],styles:[".artifacts-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;min-height:40px;flex-grow:1;gap:8px}.artifacts-list[_ngcontent-%COMP%]   .artifact-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey26)}.artifacts-list[_ngcontent-%COMP%]   .artifact-name[_ngcontent-%COMP%]{font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);color:var(--colorNeutralForeground1)}"]}),G}(),Y=a(55334);function L(G,m){if(1&G&&y.\u0275\u0275element(0,"tri-git-items-list",5),2&G){var _=y.\u0275\u0275nextContext();y.\u0275\u0275property("artifactList",_.failedArtifacts)}}function et(G,m){if(1&G&&(y.\u0275\u0275elementStart(0,"div",8)(1,"span"),y.\u0275\u0275element(2,"tri-svg-icon",9),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"span",10),y.\u0275\u0275text(4),y.\u0275\u0275elementEnd()()),2&G){var _=m.$implicit;y.\u0275\u0275advance(2),y.\u0275\u0275property("sprite","git-icons")("name","bullet_dot_8"),y.\u0275\u0275advance(1),y.\u0275\u0275attribute("aria-label",_),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(_)}}function $(G,m){if(1&G&&(y.\u0275\u0275elementStart(0,"div",6),y.\u0275\u0275template(1,et,5,4,"div",7),y.\u0275\u0275elementEnd()),2&G){var _=y.\u0275\u0275nextContext();y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",_.data.moreInfo)}}function vt(G,m){if(1&G){var _=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"div",11),y.\u0275\u0275listener("click",function(){y.\u0275\u0275restoreView(_);var P=y.\u0275\u0275nextContext();return y.\u0275\u0275resetView(P.collapseExpand())}),y.\u0275\u0275pipe(1,"localizeFormat"),y.\u0275\u0275elementStart(2,"span"),y.\u0275\u0275text(3),y.\u0275\u0275pipe(4,"localize"),y.\u0275\u0275pipe(5,"localize"),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(6,"tri-svg-icon",12),y.\u0275\u0275elementEnd()}if(2&G){var l=y.\u0275\u0275nextContext();y.\u0275\u0275attribute("aria-expanded",!l.showDetailsToggle)("aria-label",y.\u0275\u0275pipeBind2(1,4,l.showDetailsToggle?"ClickToExpandFormat":"ClickToCollapseFormat","errorDetails")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(l.showDetailsToggle?y.\u0275\u0275pipeBind1(4,7,"Generic_HideDetails"):y.\u0275\u0275pipeBind1(5,9,"Generic_ShowDetails")),y.\u0275\u0275advance(3),y.\u0275\u0275property("name",l.showDetailsToggle?"chevron_up_16_regular":"chevron_down_16_regular")}}function ut(G,m){if(1&G&&(y.\u0275\u0275elementStart(0,"p")(1,"b"),y.\u0275\u0275text(2),y.\u0275\u0275pipe(3,"localize"),y.\u0275\u0275elementEnd(),y.\u0275\u0275text(4),y.\u0275\u0275elementEnd()),2&G){var _=m.$implicit;y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate1("",_.shouldLocalize?y.\u0275\u0275pipeBind1(3,2,_.name):_.name," "),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate1("",_.content," ")}}function mt(G,m){if(1&G&&(y.\u0275\u0275elementContainerStart(0),y.\u0275\u0275elementStart(1,"div",13),y.\u0275\u0275template(2,ut,5,4,"p",14),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementContainerEnd()),2&G){var _=y.\u0275\u0275nextContext();y.\u0275\u0275advance(2),y.\u0275\u0275property("ngForOf",_.details)}}var at=function(){function G(m,_,l){var B,P,V,q;this.dialogRef=m,this.extensionManifestService=_,this.data=l,this.showDetailsToggle=!1,this.errorDetails=this.data.errorDetails,this.requestInfo=this.data.requestInfo,this.details=[],this.artifactType=null===(P=null===(B=this.errorDetails)||void 0===B?void 0:B.failedArtifactMetadata)||void 0===P?void 0:P.artifactType,this.artifactName=null===(q=null===(V=this.errorDetails)||void 0===V?void 0:V.failedArtifactMetadata)||void 0===q?void 0:q.artifactDisplayName,this.failedArtifacts=[],this.failedArtifactsSize=0,this.createGitErrorDetailsFromGitError()}return G.prototype.convertDialogData=function(m){return{title:m.title,buttons:m.buttons}},G.prototype.close=function(){return this.dialogRef.close()},G.prototype.collapseExpand=function(){this.showDetailsToggle=!this.showDetailsToggle},G.prototype.getErrorMoreInfoSize=function(){var m,_;return null!==(_=null===(m=this.data.moreInfo)||void 0===m?void 0:m.length)&&void 0!==_?_:0},G.prototype.createGitErrorDetailsFromGitError=function(){var m,_,l,B,P,V;if(null!=this&&this.errorDetails){if(this.requestInfo.clusterUri&&this.details.push(this.createGitErrorDetail("ServerError_ClusterUriText",this.requestInfo.clusterUri)),this.requestInfo.activityId&&this.details.push(this.createGitErrorDetail("ServerError_ActivityIdText",this.requestInfo.activityId)),this.requestInfo.requestId&&this.details.push(this.createGitErrorDetail("AdditionalErrorInfo_RequestIdText",this.requestInfo.requestId)),!(null===(m=this.errorDetails)||void 0===m)&&m.workloadErrorCode&&this.details.push(this.createGitErrorDetail("Workload_Error_Code",this.errorDetails.workloadErrorCode)),this.getFailedArtifactsDetails(),null!==(_=this.errorDetails)&&void 0!==_&&_.workloadErrorMessage){var q=this.errorDetails.workloadErrorMessage,rt=(q.match(/{(\d+)}/g)||[]).length;if(null!==(l=this.errorDetails)&&void 0!==l&&l.workloadErrorParameters){var tt=this.errorDetails.workloadErrorParameters,It=tt.length;if(rt===It){for(var Ot=q,h=0;h<It;h++)Ot=Ot.replace("{".concat(h,"}"),tt[h]);this.details.push(this.createGitErrorDetail("Workload_Error_Message",Ot))}}else 0===rt&&this.details.push(this.createGitErrorDetail("Workload_Error_Message",q))}if(null!==(B=this.errorDetails)&&void 0!==B&&B.errorParameters)for(var j in this.errorDetails.errorParameters)this.details.push(this.createGitErrorDetail(j,this.errorDetails.errorParameters[j],!1));this.details.push(this.createGitErrorDetail("ServerError_TimestampText",null!==(V=null===(P=null==this?void 0:this.errorDetails)||void 0===P?void 0:P.time)&&void 0!==V?V:(new Date).toString()))}},G.prototype.createGitErrorDetail=function(m,_,l){return void 0===l&&(l=!0),{name:m,content:_,shouldLocalize:l}},G.prototype.getFailedArtifactsDetails=function(){var m,_,l;if(this.artifactType&&this.artifactName){var B=this.extensionManifestService.getFrontendArtifactType(this.artifactType),P=(0,v.zp)(B);this.failedArtifacts.push({name:this.artifactName,iconName:P?.name,sprite:P?.sprite})}else if(null!==(m=this.errorDetails)&&void 0!==m&&m.errorParameters)for(var V=null===(l=null===(_=this.errorDetails)||void 0===_?void 0:_.errorParameters.Artifacts)||void 0===l?void 0:l.slice(1,-1),q=/Display Name: '([^']+)' Type: '([^']+)'/g,rt=void 0;null!==(rt=q.exec(V));)B=this.extensionManifestService.getFrontendArtifactType(rt[2]),J.RG.includes(B)&&(P=(0,v.zp)(B),this.failedArtifacts.push({name:rt[1],iconName:P?.name,sprite:P?.sprite}));this.failedArtifactsSize=this.failedArtifacts.length},G.\u0275fac=function(_){return new(_||G)(y.\u0275\u0275directiveInject(r.so),y.\u0275\u0275directiveInject(U.vC),y.\u0275\u0275directiveInject(r.WI))},G.\u0275cmp=y.\u0275\u0275defineComponent({type:G,selectors:[["tri-git-error-dialog"]],decls:7,vars:9,consts:[[3,"dialogData","closeButtonLabel","buttonClickEvent"],["class","git-artifact-list",3,"artifactList",4,"ngIf"],["class","git-info-list",4,"ngIf"],["class","details-selector",3,"click",4,"ngIf"],[4,"ngIf"],[1,"git-artifact-list",3,"artifactList"],[1,"git-info-list"],["class","info-list-item",4,"ngFor","ngForOf"],[1,"info-list-item"],["calss","info-icon","tri-svg-icon-8","",3,"sprite","name"],[1,"list-item"],[1,"details-selector",3,"click"],["tri-svg-icon-16","",3,"name"],[1,"error-details-container"],[4,"ngFor","ngForOf"]],template:function(_,l){1&_&&(y.\u0275\u0275elementStart(0,"trident-dialog",0),y.\u0275\u0275listener("buttonClickEvent",function(){return l.close()}),y.\u0275\u0275pipe(1,"localize"),y.\u0275\u0275text(2),y.\u0275\u0275template(3,L,1,1,"tri-git-items-list",1),y.\u0275\u0275template(4,$,2,1,"div",2),y.\u0275\u0275template(5,vt,7,11,"div",3),y.\u0275\u0275template(6,mt,3,1,"ng-container",4),y.\u0275\u0275elementEnd()),2&_&&(y.\u0275\u0275property("dialogData",l.convertDialogData(l.data))("closeButtonLabel",y.\u0275\u0275pipeBind1(1,7,"Close")),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate1(" ",l.data.content," "),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",l.failedArtifactsSize>0),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",l.getErrorMoreInfoSize()>0),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",l.details.length>0),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",l.showDetailsToggle))},dependencies:[c.NgForOf,c.NgIf,T.v,D.M,x,Y.Y,Y.A],styles:[".mat-mdc-dialog-content{display:flex;flex-direction:column;margin-top:4px;margin-bottom:16px;gap:12px}.details-selector[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:6px;font-weight:600}.error-details-container[_ngcontent-%COMP%]{font-size:12px;display:flex;flex-direction:column;align-items:flex-start;padding:12px;max-height:228px;overflow-y:scroll;background:var(--globalColorGrey96);border-radius:4px}.error-details-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.git-artifact-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:auto;min-height:40px;max-height:200px}.git-info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.info-list-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;gap:8px}"],changeDetection:0}),G}(),ft=a(7452),Q=a(54323),X=function(){function G(m,_,l){this.dialogService=m,this.localizationService=_,this.telemetryService=l,this.dialogWidth="564px",this.defaultDialogClass="dialog-style"}return G.prototype.getErrorContent=function(m){var _,l,B=null===(_=b.A6[m])||void 0===_?void 0:_.messageKey,P=null===(l=b.A6[m])||void 0===l?void 0:l.titleKey;return(!B||!P)&&(m.startsWith("Git_")||m.startsWith("Alm"))&&this.telemetryService.logEvent({name:"Git error which is not mapped to content occurred",properties:{errorType:m}}),{message:this.localizationService.get(B??"ErrorDialogHelperText_TechnicalDetails"),title:this.localizationService.get(P??"ErrorMessage_DefaultTitle")}},G.prototype.getErrorMoreInfo=function(m){var _,l;return null!==(l=null===(_=b.jZ[m])||void 0===_?void 0:_.moreInfoKeys)&&void 0!==l?l:[]},G.prototype.handleSyncGitError=function(m,_){var l=this.makeGitErrorFromHttpResponse(m,_);return this.showErrorHandlingDialog(l),l},G.prototype.handleAlmGitError=function(m,_){return this.isGitAlmError(m,_)?this.makeGitErrorFromAlmResponse(m,_):this.makeClientSideGitError(m)},G.prototype.handleClientSideGitError=function(m,_){this.logValidationError(m);var l=this.makeClientSideGitError(m,_);return this.showErrorHandlingDialog(l),l},G.prototype.logValidationError=function(m){this.telemetryService.logEvent({name:"Validation error occurred",properties:{errorType:m}})},G.prototype.showErrorHandlingDialog=function(m){var _=this.createGitErrorDialogModel(m);return this.dialogService.open(_.componentRef,_.config)},G.prototype.createGitErrorDialogModel=function(m){var l,B,P,_=this,V=this.localizationService.get("Close"),q=(0,b.lz)(m),rt=this.getErrorMoreInfo(q?.errorType).map(function(It){return _.localizationService.get(It)}),tt={title:q.title,buttons:[{name:V,label:V,buttonType:null}],content:q.message,moreInfo:rt,errorDetails:q,requestInfo:{clusterUri:null===(l=m.errorInfo)||void 0===l?void 0:l.clusterUri,activityId:null===(B=m.errorInfo)||void 0===B?void 0:B.activityId,requestId:null===(P=m.errorInfo)||void 0===P?void 0:P.requestId}};return{componentRef:at,config:{width:this.dialogWidth,panelClass:this.defaultDialogClass,data:tt}}},G.prototype.makeClientSideGitError=function(m,_){var l=this.getErrorContent(m);return(0,b.iX)([{errorType:m,title:l.title,message:l.message,errorParameters:_}])},G.prototype.makeGitErrorFromHttpResponse=function(m,_){var P,l=this.parseHttpWorkloadError(_),B=this.parseHttpError(_);P=(0,b.KJ)(_)?"Git_AdoConditionalAccessNotSupported":"Git_Switch_Branch_Item_Not_Found"===m?"Git_Switch_Branch_Item_Not_Found":"Git_Branch_Out_Failed"===m?this.getBranchOutError(_):B?.code?B.code:m;var V=this.getErrorContent(P),q=(0,k.pi)((0,k.pi)((0,k.pi)({},l),B),{errorType:P,time:(new Date).toString(),title:V.title,message:V.message}),rt={requestId:_?.requestId,clusterUri:window.clusterUri,activityId:_?.activityId,statusCode:_?.status};return(0,b.iX)([q],rt)},G.prototype.makeGitErrorFromAlmResponse=function(m,_){var B,P,V,q,rt,l=this,tt=[];if(_.gitInteractiveOperationErrorDetailsList)null===(B=_.gitInteractiveOperationErrorDetailsList)||void 0===B||B.forEach(function(Bt){var bt,xt,Ut,Ft,Ht,Tt,zt;rt=l.parseAlmWorkloadError(Bt);var Nt=l.getErrorContent(rt.workloadErrorCode),Kt={dialogMessage:Nt.message,interactionType:null!==(Ut=null===(xt=null===(bt=Bt?.artifactErrorDetails)||void 0===bt?void 0:bt.UserInteractionRequest)||void 0===xt?void 0:xt.InteractionType)&&void 0!==Ut?Ut:b.s_.None,options:null!==(Tt=null===(Ht=null===(Ft=Bt?.artifactErrorDetails)||void 0===Ft?void 0:Ft.UserInteractionRequest)||void 0===Ht?void 0:Ht.Options)&&void 0!==Tt?Tt:[]},Qt=(0,k.pi)((0,k.pi)({},rt),{errorType:m,time:null===(zt=_.lastUpdatedTime)||void 0===zt?void 0:zt.toString(),title:Nt.title,message:Nt.message,interactiveOperationInfo:Kt});tt.push(Qt)});else if(_.gitNonInteractiveOperationErrorDetails){rt=this.parseAlmWorkloadError(_.gitNonInteractiveOperationErrorDetails);var It=null!==(P=rt?.workloadErrorCode)&&void 0!==P?P:m,Ot=this.getErrorContent(It),h=(0,k.pi)((0,k.pi)({},rt),{errorType:It,time:null===(V=_.lastUpdatedTime)||void 0===V?void 0:V.toString(),title:Ot.title,message:Ot.message});if((0,b.VQ)(m,_)){var j=this.getErrorContent("Git_GitProviderCommitRejectedByPolicy");h.errorType="Git_GitProviderCommitRejectedByPolicy",h.title=j.title,h.message=j.message}else(0,b.Ss)(m,_)&&(j=this.getErrorContent("Git_GitProviderCommitMaxSizeExceeded"),h.errorType="Git_GitProviderCommitMaxSizeExceeded",h.title=j.title,h.message=j.message);tt.push(h)}var ot={requestId:null===(q=_.gitNonInteractiveOperationErrorDetails)||void 0===q?void 0:q.requestId,clusterUri:window.clusterUri,retryOperationId:_.gitOperationId};return(0,b.iX)(tt,ot)},G.prototype.isDedicatedErrorMessageAvailable=function(m){return m in b.A6},G.prototype.parseHttpError=function(m){var _,l,B;return{code:null===(_=m?.error)||void 0===_?void 0:_.code,errorParameters:null===(B=null===(l=m?.error)||void 0===l?void 0:l["pbi.error"])||void 0===B?void 0:B.parameters}},G.prototype.parseHttpWorkloadError=function(m){var _,l,B,P,V,q,rt,tt,It=null===(B=null===(l=null===(_=m?.error)||void 0===_?void 0:_["pbi.error"])||void 0===l?void 0:l.parameters)||void 0===B?void 0:B.GitErrorDetails;return It&&(tt=JSON.parse(It)),tt?{failedArtifactMetadata:tt?.artifactType&&tt?.artifactDisplayName?{artifactType:tt.artifactType,artifactDisplayName:tt.artifactDisplayName,artifactLogicalId:tt.artifactLogicalId}:void 0,workloadErrorCode:null!==(V=null===(P=tt?.errorDetails)||void 0===P?void 0:P.ErrorCode)&&void 0!==V?V:tt?.errorCode,workloadErrorMessage:null===(q=tt?.errorDetails)||void 0===q?void 0:q.ErrorMessage,workloadErrorParameters:null===(rt=tt?.errorDetails)||void 0===rt?void 0:rt.ErrorParameters}:{failedArtifactMetadata:void 0,workloadErrorCode:void 0,workloadErrorMessage:void 0,workloadErrorParameters:void 0}},G.prototype.parseAlmWorkloadError=function(m){var _,l,B,P,V;return{failedArtifactMetadata:{artifactDisplayName:m.artifactDisplayName,artifactType:m.artifactType,artifactLogicalId:m.artifactLogicalId},workloadErrorCode:null!==(l=null===(_=m.artifactErrorDetails)||void 0===_?void 0:_.ErrorCode)&&void 0!==l?l:m.errorCode,workloadErrorMessage:null===(B=m.artifactErrorDetails)||void 0===B?void 0:B.ErrorMessage,workloadErrorCategory:null===(P=m.artifactErrorDetails)||void 0===P?void 0:P.ErrorCategory,workloadErrorParameters:null===(V=m?.artifactErrorDetails)||void 0===V?void 0:V.ErrorParameters}},G.prototype.isGitAlmError=function(m,_){return _.gitOperationStatus===b.wM.Failed&&(!!_.gitNonInteractiveOperationErrorDetails||!!_.gitInteractiveOperationErrorDetailsList)&&(0,b.ve)(m)},G.prototype.getBranchOutError=function(m){var _,l,B,P,V,q=null===(_=m.error)||void 0===_?void 0:_.code;if("Alm_InvalidBranchOutRequest_OperationFailureAfterFolderCreation"===q){var rt=null===(V=null===(P=null===(B=null===(l=m.error)||void 0===l?void 0:l["pbi.error"])||void 0===B?void 0:B.details)||void 0===P?void 0:P[0])||void 0===V?void 0:V.code;if(rt)return rt}else if(q)return q;return"Git_Branch_Out_Failed"},G.\u0275fac=function(_){return new(_||G)(y.\u0275\u0275inject(s.uQ),y.\u0275\u0275inject(ft.z),y.\u0275\u0275inject(Q.t))},G.\u0275prov=y.\u0275\u0275defineInjectable({token:G,factory:G.\u0275fac,providedIn:"root"}),G}();(0,k.pi)({errorType:"Git_MergePolicyNotSpecified"},{title:"MockTitle",message:"MockMessage"})},12385:function(St,it,a){a.d(it,{mn:function(){return T},K3:function(){return s}});var c=a(77476),r=a(65232),N=a(50423),s=function(){function D(){}return D.\u0275fac=function(x){return new(x||D)},D.\u0275mod=N.\u0275\u0275defineNgModule({type:D}),D.\u0275inj=N.\u0275\u0275defineInjector({imports:[c.CommonModule,r.Nn]}),D}(),A=a(81337),y=a(42888),M=a(73471),k={style:"Trident"},b=(0,A.pi)((0,A.pi)({},k),{notificationType:M.k$.Loading}),U=(0,A.pi)((0,A.pi)({},k),{notificationType:M.k$.Success}),v=(0,A.pi)((0,A.pi)({},k),{notificationType:M.k$.Error}),J=a(7452),T=function(){function D(o,x){this.localizationService=o,this.notificationService=x}return D.prototype.hideNotification=function(o){return this.notificationService.hide(o)},D.prototype.hideCurrentNotification=function(){this.notificationService.hideCurrentNotification()},D.prototype.showLoadingNotification=function(o,x){var Y=(0,A.pi)((0,A.pi)({},b),{title:this.localizationService.get(o),message:x?this.localizationService.get(x):void 0});return this.notificationService.notify(Y)},D.prototype.showSuccessNotification=function(o,x){var Y=(0,A.pi)((0,A.pi)({},U),{id:x,title:this.localizationService.get(o)});return this.notificationService.notify(Y)},D.prototype.showErrorNotification=function(o,x,Y){var L={action:"open.git.error.dialog",data:o},et={displayText:this.localizationService.get("View_Details"),action:L};return this.notificationService.notify((0,A.pi)((0,A.pi)({},v),{id:Y,duration:y.S.Long,title:this.localizationService.get(x),message:this.localizationService.get("View_Details_Learn_More"),actionButtons:[et]}))},D.\u0275fac=function(x){return new(x||D)(N.\u0275\u0275inject(J.z),N.\u0275\u0275inject(y.g))},D.\u0275prov=N.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac,providedIn:"root"}),D}()},18016:function(St,it,a){a.d(it,{wM:function(){return Q},u9:function(){return ft},IS:function(){return ut},s_:function(){return $},Z_:function(){return _t},I:function(){return B},f7:function(){return l},LO:function(){return P},Rv:function(){return X},cW:function(){return V},tI:function(){return Ot},lz:function(){return M},n:function(){return tt},A6:function(){return s},jZ:function(){return A},xT:function(){return k},L4:function(){return It},KJ:function(){return b},VQ:function(){return T},Ss:function(){return o},ve:function(){return L},pb:function(){return y},Fc:function(){return U},yG:function(){return et},E6:function(){return J},iX:function(){return x},QJ:function(){return at}});var c,r,N=function(h){return h.AdalMultiFactorAuthEnrollRequiredErrorCode="AdalMultiFactorAuthEnrollRequiredErrorCode",h.AdalMultiFactorAuthRequiredErrorCode="AdalMultiFactorAuthRequiredErrorCode",h.AdalDeviceObjectNotFoundInTenantErrorCode="AdalDeviceObjectNotFoundInTenantErrorCode",h}({}),s=((c={}).Git_MissingRequiredParam={messageKey:"Trident_Git_Error_Git_Provider_API_Message",titleKey:"Trident_Git_Error_Git_Provider_API_Title"},c.Git_DirectoryHasInvalidSystemFiles={messageKey:"Trident_Git_Error_Git_DirectoryHasInvalidSystemFiles_Message",titleKey:"Trident_Git_Error_Git_DirectoryHasInvalidSystemFiles_Title"},c.Git_SelectedArtifactsDoNotBelongToWorkspace={messageKey:"Trident_Git_Error_Git_Undo_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},c.Git_AzureDevOpsMissingProjectName={messageKey:"Trident_Git_Error_Git_Connect_Failed_Message",titleKey:"Trident_Git_Error_Git_Connect_Failed_Title"},c.Git_UndoDuplicateArtifacts={messageKey:"Trident_Git_Error_Git_Undo_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},c.Git_CommitInvalidArtifacts={messageKey:"Trident_Git_Error_Git_InvalidCommitRequest_Message",titleKey:"Trident_Git_Error_Unable_To_Commit_Title"},c.Git_GitProviderApiFailed={messageKey:"Trident_Git_Error_Git_Provider_API_Message",titleKey:"Trident_Git_Error_Git_Provider_API_Title"},c.Git_GitProviderDeserialization={messageKey:"Trident_Git_Error_Git_Provider_API_Message",titleKey:"Trident_Git_Error_Git_Provider_API_Title"},c.Git_GitProviderResourceNotExistOrUnauthorized={messageKey:"Trident_Git_Error_Git_No_Permissions_ADO_Message",titleKey:"Trident_Git_Error_Git_No_Permissions_ADO_Title"},c.Git_WorkspaceAlreadyConnectedToGit={messageKey:"Trident_Git_Error_Git_Workspace_Already_Connected_To_Git_Message",titleKey:"Trident_Git_Error_Git_Workspace_Already_Connected_To_Git_Title"},c.Git_WorkspaceNotConnectedToGit={messageKey:"Trident_Git_Error_Git_Workspace_Not_Connected_To_Git_Message",titleKey:"Trident_Git_Error_Git_Workspace_Not_Connected_To_Git_Title"},c.Git_WorkspaceHasNoCapacity={messageKey:"Trident_Git_Error_Git_Workspace_Has_No_Capacity_Message",titleKey:"Pipelines_Error_FoldersHasNoCapacity_Title"},c.Git_InvalidPath={messageKey:"Trident_Git_Error_Git_Connection_Details_Message",titleKey:"Trident_Git_Error_Git_Connection_Details_Title"},c.Alm_InvalidRequest_PurgeRequired={messageKey:"Trident_Git_Error_Dataset_PurgeData_Message",titleKey:"Trident_Git_Error_AlmOperation_Update_Title"},c.Git_PotentialCrossGeo={messageKey:"Trident_Git_Error_Git_PotentialCrossGeo_Message",titleKey:"Trident_Git_Error_Git_PotentialCrossGeo_Title"},c.Git_DuplicateDisplayNameAndType={messageKey:"Trident_Git_Error_Git_DuplicateDisplayNameAndType_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},c.Git_CommitDuplicateArtifacts={messageKey:"Trident_Git_Error_Git_CommitDuplicateArtifacts_Message",titleKey:"Trident_Git_Error_Git_CommitDuplicateArtifacts_Title"},c.Git_HeadNotSynced={messageKey:"Trident_Git_Error_Git_HeadNotSynced_Message",titleKey:"Trident_Git_Error_Git_HeadNotSynced_Title"},c.Git_IdentifierExceededMaxLength={messageKey:"Trident_Git_Error_Git_IdentifierExceededMaxLength_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},c.Git_InvalidCommitRequest={messageKey:"Trident_Git_Error_Git_InvalidCommitRequest_Message",titleKey:"Trident_Git_Error_Unable_To_Commit_Title"},c.Git_InvalidUndoRequest={messageKey:"Trident_Git_Error_Git_Undo_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},c.Git_InvalidBranchName={messageKey:"Trident_Git_Error_Git_InvalidBranchName_Message",titleKey:"Trident_Git_Error_Git_InvalidBranchName_Title"},c.Git_InvalidDirectoryName={messageKey:"Trident_Git_Error_Git_InvalidDirectoryName_Message",titleKey:"Trident_Git_Error_Git_InvalidDirectoryName_Title"},c.Git_InvalidRequestNoFilesToCommit={messageKey:"Trident_Git_Error_Git_InvalidRequestNoFilesToCommit_Message",titleKey:"Trident_Git_Error_Git_InvalidRequestNoFilesToCommit_Title"},c.Git_PotentialMergeConflict={messageKey:"Trident_Git_Error_Git_PotentialMergeConflict_Message",titleKey:"Trident_Git_Error_Git_PotentialMergeConflict_Title"},c.Git_GitConnectionAlreadyInitialized={messageKey:"Trident_Git_Error_Git_GitConnectionAlreadyInitialized_Message",titleKey:"Trident_Git_Error_Git_GitConnectionAlreadyInitialized_Title"},c.Git_UnexpectedResponseFromGitProvider={messageKey:"Trident_Git_Error_Git_Provider_API_Message",titleKey:"Trident_Git_Error_Git_Provider_API_Title"},c.Git_DependenciesDeletionFailed={messageKey:"Trident_Git_Error_Git_DependenciesDeletionFailed_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},c.Git_MissingDependencies={messageKey:"Trident_Git_Error_Git_MissingDependencies_Message",titleKey:"Trident_Git_Error_Unable_To_Update_Title"},c.Git_MissingDependenciesSwitchBranch={messageKey:"Trident_Git_Error_Git_Switch_Branch_MissingDependencies_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},c.Git_CyclicDependencyDetectedSwitchBranch={messageKey:"Trident_Git_Error_Git_Switch_Branch_MissingDependencies_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},c.Git_CyclicDependencyDetected={messageKey:"Trident_Git_Error_Git_MissingDependencies_Message",titleKey:"Trident_Git_Error_Unable_To_Update_Title"},c.Git_ItemNotFound={titleKey:"Trident_Git_Error_Git_ItemNotFound_Title",messageKey:"Trident_Git_Error_Git_ItemNotFound_Message"},c.Git_PathTooLong={titleKey:"Trident_Git_Error_Git_PathTooLong_Title",messageKey:"Trident_Git_Error_Git_PathTooLong_Message"},c.Git_GitOperationWithSensitivityLabelsNotSupported={messageKey:"Trident_Git_Error_Git_GitOperationWithSensitivityLabelsNotSupported_Message",titleKey:"Trident_Git_Error_Git_GitOperationWithSensitivityLabelsNotSupported_Title"},c.Git_BranchDeleted={messageKey:"Trident_Git_Error_Git_BranchDeleted_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},c.Git_GitProviderCommitRejectedByPolicy={messageKey:"Trident_Git_Error_GitProviderCommitRejectedByPolicy_Message",titleKey:"Trident_Git_Error_GitProviderCommitRejectedByPolicy_Title"},c.Git_DirectoryNameDiffersByCase={messageKey:"Trident_Git_Error_Git_ItemNotFound_Message",titleKey:"Trident_Git_Error_Git_ItemNotFound_Title"},c.Git_GitIntegrationTenantAdminSwitchDisabled={messageKey:"Trident_Git_TenantAdminSwitchDisabled_Message",titleKey:"Trident_Git_TenantAdminSwitchDisabled_Title"},c.Git_GitProviderCommitMaxSizeExceeded={messageKey:"Trident_Git_Error_GitProviderCommitMaxSizeExceeded_Message",titleKey:"Trident_Git_Error_GitProviderCommitMaxSizeExceeded_Title"},c.Git_ExportDefinitionFailed={messageKey:"Trident_Git_Error_ExportDefinitionFailed_Message",titleKey:"Trident_Git_Error_ExportDefinitionFailed_Title"},c.Git_DiscoverDependenciesFailed={messageKey:"Trident_Git_Error_DiscoverDependenciesFailed_Message",titleKey:"Trident_Git_Error_DiscoverDependenciesFailed_Title"},c.Git_GitProviderUnauthorizedGuestUser={messageKey:"Trident_Git_Error_GitProviderUnauthorizedGuestUser_Message",titleKey:"Trident_Git_Error_GitProviderUnauthorizedGuestUser_Title"},c.Git_GitProviderCommitObjectRejected={messageKey:"Trident_Git_Error_GitProviderCommitObjectRejected_Message",titleKey:"Trident_Git_Error_GitProviderCommitRejectedByPolicy_Title"},c.Git_BranchNameAlreadyExists={messageKey:"Trident_Git_Error_Git_Branch_Name_Already_Exists_Message",titleKey:"Trident_Git_Error_Git_InvalidBranchName_Title"},c.Git_GitProviderAadUserStateError={messageKey:"Trident_Git_Error_GitProviderAadUserStateError_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},c.Git_Disconnect_No_Connection={messageKey:"Trident_Git_Error_Git_Disconnect_No_Connection_Message",titleKey:"Trident_Git_Error_Git_Disconnect_Failed_Title"},c.Git_Invalid_Connection_Details={messageKey:"Trident_Git_Error_Git_Invalid_Connection_Details_Message",titleKey:"Trident_Git_Error_Git_Invalid_Connection_Details_Title"},c.Git_ConnectionDetailsNotFound={messageKey:"Trident_Git_Error_Git_Connection_Details_Not_Found_Message",titleKey:"ErrorMessage_DefaultTitle"},c.Git_Workspace_Not_Initialized={messageKey:"Trident_Git_Error_Git_Workspace_Not_Initialized_Message",titleKey:"Trident_Git_Error_Git_Workspace_Not_Initialized_Title"},c.Git_Create_Branch_Origin_Branch_Not_Found={messageKey:"Trident_Git_Error_Git_Create_Branch_Origin_Branch_Not_Found_Message",titleKey:"Trident_Git_Error_Git_Create_Branch_Origin_Branch_Not_Found_Title"},c.Git_GitSwitchBranchWithUncommittedChanges={messageKey:"Trident_Git_Error_Git_Switch_Branch_Uncommited_Changes_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},c.GitGitInvalidSwitchBranchRequest={messageKey:"Trident_Git_Error_Git_Switch_Branch_Invalid_Request_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},c.GitSwitchBranchIdenticalBranchName={messageKey:"Trident_Git_Error_Git_Switch_Branch_Identical_Branch_Name_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},c.Git_Switch_Branch_Item_Not_Found={messageKey:"Trident_Git_Error_Git_Switch_Branch_Item_Not_Found_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},c.Git_Switch_Branch_Head_Not_Synced={messageKey:"Trident_Git_Error_Git_Switch_Branch_Head_Not_Synced_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},c.Git_GitProviderCredentialsNotAuthorizedError={messageKey:"Trident_Git_Error_Git_CredentialsNotAuthorized_Message",titleKey:"Trident_Git_Error_Git_CredentialsNotAuthorized_Title"},c.Git_DuplicateArtifactsWithSameLogicalId={messageKey:"Trident_Git_Duplicate_LogicalId_Message",titleKey:"Trident_Git_Duplicate_LogicalId_Title"},c.Git_PotentialDuplicateDisplayNameAndType={messageKey:"Trident_Git_Error_Git_Potential_Duplicate_Diaplay_Name_And_Type_Message",titleKey:"Trident_Git_Error_AlmOperation_Update_Title"},c.Git_DisplayNameIsInvalid={messageKey:"Trident_Git_Error_Git_Display_Name_Is_Invalid_Message",titleKey:"Trident_Git_Error_AlmOperation_Update_Title"},c.Git_GitIntegrationBlockedByDataLossPrevention={messageKey:"Trident_Git_Blocked_DataLoss_Prevention_Message",titleKey:"Trident_Git_Blocked_DataLoss_Prevention_Title"},c.Git_Connect_Invalid_Request={messageKey:"Trident_Git_Error_Git_Connect_Failed_Message",titleKey:"Trident_Git_Error_Git_Connect_Failed_Title"},c.Git_Disconnect_Invalid_Request={messageKey:"Trident_Git_Error_Git_Disconnect_Failed_Message",titleKey:"Trident_Git_Error_Git_Disconnect_Failed_Title"},c.Git_Initialization_Invalid_Request={messageKey:"Trident_Git_Error_Git_Invalid_Initialization_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Initialize_Title"},c.Git_Undo_Invalid_Request={messageKey:"Trident_Git_Error_Undo_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},c[" Git_Commit_Invalid_Request"]={messageKey:"Trident_Git_Error_Git_InvalidCommitRequest_Message",titleKey:"Trident_Git_Error_Unable_To_Commit_Title"},c.Git_Update_Invalid_Request={messageKey:"Trident_Git_Error_Git_Update_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Update_Title"},c.Git_Create_Branch_Invalid_Request={messageKey:"Trident_Git_Error_Git_Create_Branch_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Create_Branch_Title"},c.Git_Create_Directory_Invalid_Request={messageKey:"Trident_Git_Error_Git_Create_Folder_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Create_Folder_Title"},c.Git_Switch_Branch_Invalid_Request={messageKey:"Trident_Git_Error_Git_Switch_Branch_Invalid_Request_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},c.Git_Connect_Failed={messageKey:"Trident_Git_Error_Git_Connect_Failed_Message",titleKey:"Trident_Git_Error_Git_Connect_Failed_Title"},c.Git_Status_Failed={messageKey:"Trident_Git_Error_Git_Status_Failed_Message",titleKey:"Trident_Git_Error_Git_Status_Failed_Title"},c.Git_Create_Branch_Failed={messageKey:"Trident_Git_Error_Git_Create_Branch_Failed_Message",titleKey:"Trident_Git_Error_Git_Create_Branch_Failed_Title"},c.Git_Sync_Failed={messageKey:"Trident_Git_Error_Git_Sync_Failed_Message",titleKey:"Trident_Git_Error_Git_Sync_Failed_Title"},c.Git_Disconnect_Failed={messageKey:"Trident_Git_Error_Git_Disconnect_Failed_Message",titleKey:"Trident_Git_Error_Git_Disconnect_Failed_Title"},c.Git_Initialization_Failed={messageKey:"Trident_Git_Error_Git_Initialization_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Initialize_Title"},c.Git_Undo_Failed={messageKey:"Trident_Git_Error_Git_Undo_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},c.Git_Commit_Failed={messageKey:"Trident_Git_Error_Git_InvalidCommitRequest_Message",titleKey:"Trident_Git_Error_Unable_To_Commit_Title"},c.Git_Update_Failed={messageKey:"Trident_Git_Error_Git_Update_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Update_Title"},c.Git_Create_Folder_Failed={messageKey:"Trident_Git_Error_Git_Create_Folder_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Create_Folder_Title"},c.Git_Checkout_Branch_Failed={messageKey:"Trident_Git_Error_Git_Checkout_Branch_Failed_Message",titleKey:"Trident_Git_Error_Git_Checkout_Branch_Failed_Title"},c.Git_Switch_Branch_Failed={messageKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},c.Git_Get_Branches_Failed={messageKey:"Trident_Git_Error_Git_Get_Branches_Failed_Message",titleKey:"Trident_Git_Error_Git_Connection_Details_Title"},c.Git_Branch_Out_Failed={messageKey:"Trident_Git_Error_Git_Branch_Out_Failed_Message",titleKey:"Trident_Git_Error_Git_Branch_Out_Failed_Title"},c.Git_BranchOutIdenticalBranchNames={messageKey:"Trident_Git_Error_Git_Branch_Name_Already_Exists_Message",titleKey:"Trident_Git_Error_Git_InvalidBranchName_Title"},c.GitProviderRepositoryNotFoundException={messageKey:"Trident_Git_Provider_Repository_Not_Found_Error_Message",titleKey:"Trident_Git_Provider_Repository_Not_Found_Error_Title"},c.GitTreeSizeExceeded={messageKey:"Trident_Git_Tree_Size_Exceeded_Message",titleKey:"Trident_Git_Tree_Size_Exceeded_Title"},c.GitIntegrationGitHubTenantAdminSwitchDisabled={messageKey:"Trident_Git_GitHub_Tenant_Admin_Switch_Disabled_Message",titleKey:"Trident_Git_GitHub_Tenant_Admin_Switch_Disabled_Title"},c.GitTokenExpiredOrDeprecatedException={messageKey:"Trident_Git_Token_Expired_Or_Deprecated_Exception_Message",titleKey:"Trident_Git_Token_Expired_Or_Deprecated_Exception_Title"},c.Git_GitTokenProviderCredentialsKindMismatchError={messageKey:"Trident_Git_Git_Token_Provider_Credentials_Kind_Mismatch_Error_Message",titleKey:"Trident_Git_Git_Token_Provider_Credentials_Kind_Mismatch_Error_Title"},c.Git_GitTokenProviderCredentialsConnectionMismatchError={messageKey:"Trident_Git_Git_Token_Provider_Credentials_Connection_Mismatch_Error_Message",titleKey:"Trident_Git_Git_Token_Provider_Credentials_Connection_Mismatch_Error_Title"},c.Git_GitTokenProviderCredentialsInternalError={messageKey:"Trident_Git_Provider_Bad_Credentials_Message",titleKey:"Trident_Git_Provider_Bad_Credentials_Title"},c.Git_InvalidConfigureCredentialsRequest={messageKey:"Trident_Git_Invalid_Configure_Credentials_Request_Message",titleKey:"Trident_Git_Invalid_Configure_Credentials_Request_Title"},c.GitCommitInvalidOperationResult={messageKey:"Trident_Git_Commit_Invalid_Operation_Result_Message",titleKey:"Trident_Git_Commit_Invalid_Operation_Result_Title"},c.Git_GitProviderRateLimitExceeded={messageKey:"Trident_Git_Git_Provider_Rate_Limit_Exceeded_Message",titleKey:"Trident_Git_Git_Provider_Rate_Limit_Exceeded_Title"},c.Git_GitProviderBadCredentials={messageKey:"Trident_Git_Provider_Bad_Credentials_Message",titleKey:"Trident_Git_Provider_Bad_Credentials_Title"},c.Git_Create_Datasource_Failed={messageKey:"Trident_Git_Create_Datasource_Failed_Message",titleKey:"Trident_Git_Create_Datasource_Failed_Title"},c.Git_Load_Datasources_Failed={messageKey:"Trident_Git_Load_Datasources_Failed_Message",titleKey:"Trident_Git_Load_Datasources_Failed_Title"},c.Git_SQLDatabaseDisplayNameCannotBeChanged={messageKey:"Trident_Git_SQL_Database_Display_Name_Cannot_Be_Changed_Message",titleKey:"Trident_Git_SQL_Database_Display_Name_Cannot_Be_Changed_Title"},c.Git_GitHttpClientTimeout={messageKey:"Trident_Git_Error_Git_GitHttpClientTimeout_Message",titleKey:"MultiSelect_Shortcut_Failed"},c.Alm_InvalidBranchOutRequest_OperationFailureAfterFolderCreation={messageKey:"Trident_Git_Branch_Out_Error_Branch_Error_Message",titleKey:"Trident_Git_Branch_Out_Error_Branch_Error_Title"},c.AlmOperationFailed_CommitToGit={messageKey:"ErrorDialogHelperText_TechnicalDetails",titleKey:"Trident_Git_Error_AlmOperation_Commit_Title"},c.AlmOperationFailed_UndoFromGit={messageKey:"ErrorDialogHelperText_TechnicalDetails",titleKey:"Trident_Git_Error_AlmOperation_Undo_Title"},c.AlmOperationFailed_UpdateFromGit={messageKey:"ErrorDialogHelperText_TechnicalDetails",titleKey:"Trident_Git_Error_AlmOperation_Update_Title"},c.AlmOperationFailed_SwitchGitBranch={messageKey:"ErrorDialogHelperText_TechnicalDetails",titleKey:"Trident_Git_Error_AlmOperation_Switch_Branch_Title"},c.DMTS_DuplicateDataSourceNameError={messageKey:"Trident_Git_Data_Source_Name_Already_Exists_Message",titleKey:"Trident_Git_Data_Source_Name_Already_Exists_Title"},c.DM_GWPipeline_Gateway_MashupDataAccessError={messageKey:"Trident_Git_Provider_Bad_Credentials_Message",titleKey:"Trident_Git_Provider_Bad_Credentials_Title"},c),A=((r={}).Git_PotentialDuplicateDisplayNameAndType={moreInfoKeys:["Trident_Git_Error_Git_Potential_Duplicate_Diaplay_Name_And_Type_MoreInfo1","Trident_Git_Error_Git_Potential_Duplicate_Diaplay_Name_And_Type_MoreInfo2"]},r);function y(h){return h&&"GitError"===h.__tag}function M(h){return h?.errorsDetails[0]}function k(h,j){return h?.errorsDetails.some(function(ot){return ot.errorType===j})}function b(h){var j,ot=N[null===(j=h?.error)||void 0===j?void 0:j.code];return 400===h?.status&&!!ot}function U(h){var j;return"Git_InvalidDirectoryName"===(null===(j=h.error["pbi.error"])||void 0===j?void 0:j.code)}function J(h){return k(h,"Git_MergePolicyNotSpecified")}function T(h,j){var ot;return"AlmOperationFailed_CommitToGit"===h&&"Git_GitProviderCommitRejectedByPolicy"===(null===(ot=j?.gitNonInteractiveOperationErrorDetails)||void 0===ot?void 0:ot.errorCode)}function o(h,j){var ot;return"AlmOperationFailed_CommitToGit"===h&&"Git_GitProviderCommitMaxSizeExceeded"===(null===(ot=j?.gitNonInteractiveOperationErrorDetails)||void 0===ot?void 0:ot.errorCode)}function x(h,j){return{__tag:"GitError",errorInfo:j,errorsDetails:h}}function L(h){return!!vt.find(function(j){return j===h})}function et(h){return k(h,"Git_ItemNotFound")||k(h,"Git_DirectoryNameDiffersByCase")}var Ct,$=function(h){return h[h.SingleOption=0]="SingleOption",h[h.None=1]="None",h}({}),vt=["AlmOperationFailed_CommitToGit","AlmOperationFailed_UndoFromGit","AlmOperationFailed_UpdateFromGit"],ut=function(h){return h[h.AzureDevOps=0]="AzureDevOps",h[h.GitHub=1]="GitHub",h}({}),at="optionNotEnabled",ft=function(h){return h[h.Commit=0]="Commit",h[h.Update=1]="Update",h[h.Initialize=2]="Initialize",h[h.Undo=3]="Undo",h[h.CheckoutBranch=4]="CheckoutBranch",h[h.SwitchBranch=5]="SwitchBranch",h}({}),Q=function(h){return h[h.InProgress=0]="InProgress",h[h.Successful=1]="Successful",h[h.Failed=2]="Failed",h}({}),_t=function(h){return h[h.None=0]="None",h[h.KeepYours=1]="KeepYours",h[h.TakeTheirs=2]="TakeTheirs",h}({}),ct=function(h){return h.AzureDevOps="Azure DevOps",h.GitHub="GitHub",h}({}),X=((Ct={})[ut.AzureDevOps]={type:ut.AzureDevOps,name:ct.AzureDevOps,iconName:"azuredevops_logo_16_regular"},Ct[ut.GitHub]={type:ut.GitHub,name:ct.GitHub,iconName:"github_logo"},Ct);function d(h){var j,ot=null===(j=f(h))||void 0===j?void 0:j.repositoryLink;if(ot)return{branchName:h.branchName,branchLink:ot+"?version=GB".concat(h.branchName)}}function S(h){var j,ot=null===(j=f(h))||void 0===j?void 0:j.repositoryLink;if(ot&&h?.head)return{commitId:h.head,commitLink:ot+"/commit/".concat(h.head,"/?refName=refs/heads/").concat(h.branchName)}}function f(h){if(h?.projectName)return{repositoryName:h.repositoryName,repositoryLink:"https://".concat(h.organizationName,".visualstudio.com/").concat(h.projectName,"/_git/").concat(h.repositoryName)}}function G(h){return{branchName:h.branchName,branchLink:_(h).repositoryLink+"/tree/".concat(h.branchName)}}function m(h){if(h?.head)return{commitId:h.head,commitLink:_(h).repositoryLink+"/commit/".concat(h.head)}}function _(h){return{repositoryName:h.repositoryName,repositoryLink:"https://github.com/".concat(h.organizationName,"/").concat(h.repositoryName)}}var l={credentialType:"Key",encryptedConnection:"Any",privacyLevel:"Private",skipTestConnection:!1,encryptionAlgorithm:"NONE"},B={singleSignOnType:"None",allowDatasourceThroughGateway:!1},P="Extension",V={name:"url",type:"nullable text",isRequired:!1},q=["\\","?","*",":","|",'"',"<",">"],rt=["."," "];function tt(h,j,ot){if(void 0===ot&&(ot="Trident_Git_Last_Synced_At"),j){var Bt=h.currentLanguageLocale,bt=new Date(j),xt=h.format("Trident_Git_Last_Synced_At",[bt.toLocaleDateString(Bt,{day:"numeric",month:"numeric",year:"numeric"}),bt.toLocaleTimeString(Bt,{hour:"numeric",minute:"numeric"})]);return"Trident_Git_Last_Synced_At"===ot?xt:h.get(ot)+xt}}function It(){var h;return(h={})[ut.AzureDevOps]={getBranchReference:d,getHeadReference:S,getIconName:function(){return"azuredevops_logo_16_regular"},getRepositoryReference:f},h[ut.GitHub]={getBranchReference:G,getHeadReference:m,getIconName:function(){return"github_logo"},getRepositoryReference:_},h}function Ot(h,j){return q.some(function(ot){return h.includes(ot)})?j.get("Trident_Git_Error_Git_InvalidBranchName_Message"):rt.some(function(ot){return h.endsWith(ot)})?j.get("Trident_Git_Error_Git_InvalidBranchNameSuffix_Message"):void 0}},4511:function(St,it,a){a.d(it,{Ab:function(){return A},De:function(){return y},F6:function(){return v},HQ:function(){return b},LB:function(){return J},Pw:function(){return k},UF:function(){return U},ko:function(){return M}});var c=a(50423),r=[[["","activity-icon",""]],[["tri-card-title"],["","tri-card-title",""]],[["tri-svg-icon"],["","tri-svg-icon",""]],[["tri-card-subtitle"],["","tri-card-subtitle",""]]],N=["[activity-icon]","tri-card-title, [tri-card-title]","tri-svg-icon, [tri-svg-icon]","tri-card-subtitle, [tri-card-subtitle]"],s=["*"],A=function(){function T(){this.title=!0}return T.\u0275fac=function(o){return new(o||T)},T.\u0275dir=c.\u0275\u0275defineDirective({type:T,selectors:[["","triCardTitle",""]],hostVars:2,hostBindings:function(o,x){2&o&&c.\u0275\u0275classProp("tri-card-title",x.title)},exportAs:["triCardTitle"]}),T}(),y=function(){function T(){this.subtitle=!0}return T.\u0275fac=function(o){return new(o||T)},T.\u0275dir=c.\u0275\u0275defineDirective({type:T,selectors:[["","triCardSubtitle",""]],hostVars:2,hostBindings:function(o,x){2&o&&c.\u0275\u0275classProp("tri-card-subtitle",x.subtitle)},exportAs:["triCardSubtitle"]}),T}(),M=function(){function T(){this.icon=!0}return T.\u0275fac=function(o){return new(o||T)},T.\u0275dir=c.\u0275\u0275defineDirective({type:T,selectors:[["","triCardIcon",""]],hostVars:2,hostBindings:function(o,x){2&o&&c.\u0275\u0275classProp("tri-card-icon",x.icon)},exportAs:["triCardIcon"]}),T}(),k=function(){function T(){this.header=!0}return T.\u0275fac=function(o){return new(o||T)},T.\u0275cmp=c.\u0275\u0275defineComponent({type:T,selectors:[["tri-card-header"]],hostVars:2,hostBindings:function(o,x){2&o&&c.\u0275\u0275classProp("tri-card-header",x.header)},ngContentSelectors:N,decls:6,vars:0,consts:[[1,"tri-card-header-text"],[1,"tri-flex"]],template:function(o,x){1&o&&(c.\u0275\u0275projectionDef(r),c.\u0275\u0275projection(0),c.\u0275\u0275elementStart(1,"div",0)(2,"div",1),c.\u0275\u0275projection(3,1),c.\u0275\u0275projection(4,2),c.\u0275\u0275elementEnd(),c.\u0275\u0275projection(5,3),c.\u0275\u0275elementEnd())},encapsulation:2,changeDetection:0}),T}(),b=function(){function T(){this.content=!0}return T.\u0275fac=function(o){return new(o||T)},T.\u0275dir=c.\u0275\u0275defineDirective({type:T,selectors:[["","triCardContent",""]],hostVars:2,hostBindings:function(o,x){2&o&&c.\u0275\u0275classProp("tri-card-content",x.content)},exportAs:["triCardContent"]}),T}(),U=function(){function T(){this.badge=!0,this.backgroundColor=""}return T.\u0275fac=function(o){return new(o||T)},T.\u0275dir=c.\u0275\u0275defineDirective({type:T,selectors:[["","triCardBadge",""]],hostVars:4,hostBindings:function(o,x){2&o&&(c.\u0275\u0275styleProp("background-color",x.backgroundColor),c.\u0275\u0275classProp("tri-card-badge",x.badge))},inputs:{backgroundColor:"backgroundColor"},exportAs:["triCardBadge"]}),T}(),v=function(){function T(){this.action=!0}return T.\u0275fac=function(o){return new(o||T)},T.\u0275dir=c.\u0275\u0275defineDirective({type:T,selectors:[["","triCardQuickAction",""]],hostVars:2,hostBindings:function(o,x){2&o&&c.\u0275\u0275classProp("tri-card-quick-action",x.action)},exportAs:["triCardQuickAction"]}),T}(),J=function(){function T(D){this.hostElementRef=D,this.interactive=!1}return Object.defineProperty(T.prototype,"tabIndex",{get:function(){return this.interactive?0:-1},enumerable:!1,configurable:!0}),T.prototype.handleKeyboardEvent=function(D){this.interactive&&this.hostElementRef.nativeElement.click()},T.\u0275fac=function(o){return new(o||T)(c.\u0275\u0275directiveInject(c.ElementRef))},T.\u0275cmp=c.\u0275\u0275defineComponent({type:T,selectors:[["tri-card"]],hostVars:3,hostBindings:function(o,x){1&o&&c.\u0275\u0275listener("keydown.enter",function(L){return x.handleKeyboardEvent(L)})("keydown.space",function(L){return x.handleKeyboardEvent(L)}),2&o&&(c.\u0275\u0275attribute("tabindex",x.tabIndex),c.\u0275\u0275classProp("interactive",x.interactive))},inputs:{interactive:"interactive"},ngContentSelectors:s,decls:1,vars:0,template:function(o,x){1&o&&(c.\u0275\u0275projectionDef(),c.\u0275\u0275projection(0))},styles:["tri-card{flex:0 0 auto;display:flex;flex-direction:column;background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);-webkit-user-select:none;-ms-user-select:none;user-select:none;font-family:var(--fontFamilyBase);box-shadow:var(--shadow4);border-radius:var(--borderRadiusMedium)}tri-card.scale-to-screen{width:calc(100% - 10px)}tri-card[orientation=horizontal]{flex-direction:row;align-items:center}tri-card:hover{box-shadow:var(--shadow8)}tri-card:active{box-shadow:var(--shadow4)}tri-card.interactive{cursor:pointer}tri-card.interactive:hover{background-color:var(--colorNeutralBackground1Hover)}tri-card.interactive:active{background-color:var(--colorNeutralBackground1Pressed)}tri-card.interactive:focus-visible{outline-width:var(--strokeWidthThick);outline-offset:2px}@media (max-width: 800px){.teamsMobileCard>div>tri-card{width:450px;min-height:400px}}.tri-card-content{flex:1 1 auto;display:flex;justify-content:center;align-items:center;height:155px;position:relative;background:var(--colorNeutralBackground5)}.tri-card-content.scale-to-screen{height:0px;padding-top:28.125%;padding-bottom:28.125%}.tri-card-content.scale-to-screen span,.tri-card-content.scale-to-screen img,.tri-card-content.scale-to-screen div{position:absolute}@media (max-width: 480){.tri-card-content.scale-to-screen{height:160px}}.tri-card-content img{width:100%;height:100%;object-fit:cover;object-position:0 0}.tri-card-content .tri-card-badge{width:32px;height:32px;display:flex;justify-content:center;align-items:center;background:var(--colorNeutralBackground1);color:var(--colorNeutralForegroundOnBrand);position:absolute;bottom:12px;left:15px;border-radius:var(--borderRadiusSmall)}.tri-card-content .tri-card-badge tri-svg-icon{display:flex;justify-content:center;align-items:center}.tri-card-quick-action{position:absolute;bottom:12px;left:12px;padding:0;border:none;background:var(--colorNeutralBackground1);border-radius:var(--borderRadiusMedium)}.tri-card-header{padding:12px;display:block}[dir=rtl] .tri-card-header{padding:var(--spacingVerticalS) var(--spacingHorizontalL)}.tri-card-header tri-svg-icon{display:flex;justify-content:center;align-items:center;margin-right:12px}.tri-card-header .tri-card-avatar+.tri-card-header-text{margin-left:6px}[dir=rtl] .tri-card-header .tri-card-avatar+.tri-card-header-text{margin-right:6px}.tri-card-header .tri-card-header-text{min-height:38px}.tri-card-header .tri-card-header-text tri-svg-icon{margin:0}.tri-card-header .tri-card-header-text tri-svg-icon:first-of-type{margin-left:4px}.tri-card-header .tri-card-header-text tri-svg-icon svg{width:16px}.tri-card-header-text{overflow:hidden;display:flex;flex-direction:column;justify-content:center}.tri-card-title{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase300)}.tri-card-subtitle{overflow:hidden;text-overflow:ellipsis;font-size:var(--fontSizeBase200);line-height:var(--lineHeightBase200);font-weight:var(--fontWeightRegular)}.tri-card-footer.supportEndorsement .tri-card-title{padding-inline-end:0;margin-inline-end:0}.tri-card-footer.supportEndorsement .tri-card-header-text{padding:var(--spacingVerticalS) var(--spacingHorizontalL);padding-inline-end:0;flex:0 1 auto}.tri-card-footer.supportEndorsement endorsement-icon{margin-block-start:auto;margin-block-end:auto;margin-inline-end:auto;padding-inline-start:6px;padding-inline-end:16px;padding-block-end:4px}.tri-card-footer.supportEndorsement endorsement-icon i{vertical-align:bottom;padding-bottom:1px;color:var(--globalColorGrey38);font-size:var(--fontSizeBase300)}.tri-card-footer{display:flex;min-height:32px;padding:12px}.tri-card-footer .tri-card-header-text{padding:var(--spacingVerticalS) var(--spacingHorizontalL);flex:1 1 auto}[dir=rtl] .tri-card-footer .tri-card-header-text{padding:var(--spacingVerticalS) var(--spacingHorizontalL)}.tri-card-footer .tri-card-title{font-weight:var(--fontWeightSemibold)}.tri-card-footer .tri-card-actions{display:flex;width:100%;align-items:center;justify-content:space-between}[dir=rtl] .tri-card-footer .tri-card-actions{margin-left:4px}.tri-card-multiline{display:flex;white-space:pre-wrap;max-height:38px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;line-clamp:2}\n"],encapsulation:2,changeDetection:0}),T}()},57156:function(St,it,a){a.d(it,{F:function(){return y}});var c=a(77476),r=a(78035),N=a(17177),s=a(16622),A=a(50423),y=function(){function M(){}return M.\u0275fac=function(b){return new(b||M)},M.\u0275mod=A.\u0275\u0275defineNgModule({type:M}),M.\u0275inj=A.\u0275\u0275defineInjector({imports:[c.CommonModule,r.Y,N.T6,s.u]}),M}()},16622:function(St,it,a){a.d(it,{_:function(){return A},u:function(){return y}});var c=a(35510),r=a(17177),N=a(16434),s=a(50423),A=function(){function M(){}return M.prototype.getSvgSpriteSheet=function(k){return new c.X('\n            <svg id="'.concat(k,'">\n                <?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol viewBox="0 0 20 20" id="add_circle_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM6 10c0 .28.22.5.5.5h3v3a.5.5 0 001 0v-3h3a.5.5 0 000-1h-3v-3a.5.5 0 00-1 0v3h-3a.5.5 0 00-.5.5z"/></symbol><symbol viewBox="0 0 20 20" id="add_circle_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M6 10c0-.28.22-.5.5-.5h3v-3a.5.5 0 011 0v3h3a.5.5 0 010 1h-3v3a.5.5 0 01-1 0v-3h-3A.5.5 0 016 10z"/><path d="M10 18a8 8 0 100-16 8 8 0 000 16zm0-1a7 7 0 110-14 7 7 0 010 14z"/></symbol><symbol viewBox="0 0 20 20" id="alert_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a5.92 5.92 0 015.98 5.36l.02.22v3.82l.92 2.22a1 1 0 01.06.17l.01.08.01.13a1 1 0 01-.75.97l-.11.02L16 15h-3.5v.17a2.5 2.5 0 01-5 0V15H4a1 1 0 01-.26-.03l-.13-.04a1 1 0 01-.6-1.05l.02-.13.05-.13L4 11.4V7.57A5.9 5.9 0 0110 2zm1.5 13h-3v.15a1.5 1.5 0 001.36 1.34l.14.01c.78 0 1.42-.6 1.5-1.36V15zM10 3a4.9 4.9 0 00-4.98 4.38L5 7.6v3.9l-.04.2L4 14h12l-.96-2.3-.04-.2V7.61A4.9 4.9 0 0010 3z"/></symbol><symbol viewBox="0 0 20 20" id="book_open_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M10 16.14c-.5.53-1.21.86-2 .86H3.75C2.78 17 2 16.22 2 15.25V4.75C2 3.78 2.78 3 3.75 3H8c.79 0 1.5.33 2 .86.5-.53 1.21-.86 2-.86h4.25c.97 0 1.75.78 1.75 1.75v10.5c0 .97-.78 1.75-1.75 1.75H12c-.79 0-1.5-.33-2-.86zM3.5 4.75v10.5c0 .14.11.25.25.25H8c.69 0 1.25-.56 1.25-1.25v-8.5c0-.69-.56-1.25-1.25-1.25H3.75a.25.25 0 00-.25.25zm7.25 9.5c0 .69.56 1.25 1.25 1.25h4.25c.14 0 .25-.11.25-.25V4.75a.25.25 0 00-.25-.25H12c-.69 0-1.25.56-1.25 1.25v8.5z"/></symbol><symbol viewBox="0 0 20 20" id="book_open_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M10 16c-.46.6-1.18 1-2 1H3.5A1.5 1.5 0 012 15.5v-11C2 3.67 2.67 3 3.5 3H8c.82 0 1.54.4 2 1 .46-.6 1.18-1 2-1h4.5c.83 0 1.5.67 1.5 1.5v11c0 .83-.67 1.5-1.5 1.5H12a2.5 2.5 0 01-2-1zM3 4.5v11c0 .28.22.5.5.5H8c.83 0 1.5-.67 1.5-1.5v-9C9.5 4.67 8.83 4 8 4H3.5a.5.5 0 00-.5.5zm7.5 10c0 .83.67 1.5 1.5 1.5h4.5a.5.5 0 00.5-.5v-11a.5.5 0 00-.5-.5H12c-.83 0-1.5.67-1.5 1.5v9z"/></symbol><symbol viewBox="0 0 20 20" id="checkbox_checked_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M13.85 7.85a.5.5 0 00-.7-.7L8.5 11.79l-1.65-1.64a.5.5 0 00-.7.7l2 2c.2.2.5.2.7 0l5-5z"/><path d="M5.68 3A2.68 2.68 0 003 5.68v8.64C3 15.8 4.2 17 5.68 17h8.64C15.8 17 17 15.8 17 14.32V5.68C17 4.2 15.8 3 14.32 3H5.68zM4 5.68C4 4.75 4.75 4 5.68 4h8.64c.93 0 1.68.75 1.68 1.68v8.64c0 .93-.75 1.68-1.68 1.68H5.68C4.75 16 4 15.25 4 14.32V5.68z"/></symbol><symbol viewBox="0 0 20 20" id="checkbox_unchecked_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M3 5c0-1.1.9-2 2-2h10a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2-1a1 1 0 00-1 1v10a1 1 0 001 1h10a1 1 0 001-1V5a1 1 0 00-1-1H5z"/></symbol><symbol viewBox="0 0 20 20" id="checkmark_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M3.37 10.17a.5.5 0 00-.74.66l4 4.5c.19.22.52.23.72.02l10.5-10.5a.5.5 0 00-.7-.7L7.02 14.27l-3.65-4.1z"/></symbol><symbol viewBox="0 0 20 20" id="chevron_down_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M15.85 7.65c.2.2.2.5 0 .7l-5.46 5.49a.55.55 0 01-.78 0L4.14 8.35a.5.5 0 11.71-.7L10 12.8l5.15-5.16c.2-.2.5-.2.7 0z"/></symbol><symbol viewBox="0 0 20 20" id="chevron_left_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M12.35 15.85a.5.5 0 01-.7 0L6.16 10.4a.55.55 0 010-.78l5.49-5.47a.5.5 0 01.7.71L7.2 10l5.16 5.15c.2.2.2.5 0 .7z"/></symbol><symbol viewBox="0 0 20 20" id="chevron_right_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M7.65 4.15c.2-.2.5-.2.7 0l5.49 5.46c.21.22.21.57 0 .78l-5.49 5.46a.5.5 0 01-.7-.7L12.8 10 7.65 4.85a.5.5 0 010-.7z"/></symbol><symbol viewBox="0 0 20 20" id="chevron_up_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M4.15 12.35a.5.5 0 010-.7L9.6 6.16a.55.55 0 01.78 0l5.46 5.49a.5.5 0 01-.7.7L10 7.2l-5.15 5.16a.5.5 0 01-.7 0z"/></symbol><symbol viewBox="0 0 16 16" id="circle_16_filled" xmlns="http://www.w3.org/2000/svg"><path d="M8 14A6 6 0 108 2a6 6 0 000 12z"/></symbol><symbol viewBox="0 0 16 16" id="circle_16_regular" xmlns="http://www.w3.org/2000/svg"><path d="M8 14A6 6 0 108 2a6 6 0 000 12zm0-1A5 5 0 118 3a5 5 0 010 10z"/></symbol><symbol viewBox="0 0 20 20" id="circle_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a8 8 0 100 16 8 8 0 000-16z"/></symbol><symbol viewBox="0 0 20 20" id="circle_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M10 3a7 7 0 100 14 7 7 0 000-14zm-8 7a8 8 0 1116 0 8 8 0 01-16 0z"/></symbol><symbol viewBox="0 0 20 20" id="clock_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a8 8 0 110 16 8 8 0 010-16zm-.5 3a.5.5 0 00-.5.5v5.09a.5.5 0 00.5.41h3.09a.5.5 0 00-.09-1H10V5.41A.5.5 0 009.5 5z"/></symbol><symbol viewBox="0 0 20 20" id="clock_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a8 8 0 110 16 8 8 0 010-16zm0 1a7 7 0 100 14 7 7 0 000-14zm-.5 2a.5.5 0 01.5.41V10h2.5a.5.5 0 01.09 1H9.5a.5.5 0 01-.5-.41V5.5c0-.28.22-.5.5-.5z"/></symbol><symbol viewBox="0 0 20 20" id="database_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M10 8c3.31 0 6-1.34 6-3s-2.69-3-6-3-6 1.34-6 3 2.69 3 6 3zm4.69.02c.47-.24.93-.54 1.31-.9V15c0 1.66-2.69 3-6 3s-6-1.34-6-3V7.12c.38.36.84.66 1.31.9C6.56 8.64 8.22 9 10 9c1.78 0 3.44-.36 4.69-.98z"/></symbol><symbol viewBox="0 0 20 20" id="database_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M4 5c0-1 .88-1.76 1.9-2.22C6.98 2.28 8.43 2 10 2c1.57 0 3.02.29 4.1.78C15.12 3.24 16 3.99 16 5v10c0 1-.88 1.76-1.9 2.22-1.08.5-2.53.78-4.1.78-1.57 0-3.02-.29-4.1-.78C4.88 16.76 4 16.01 4 15V5zm1 0c0 .37.36.88 1.32 1.31.91.42 2.22.69 3.68.69s2.77-.27 3.68-.69C14.64 5.88 15 5.37 15 5c0-.37-.36-.88-1.32-1.31A9.19 9.19 0 0010 3c-1.46 0-2.77.27-3.68.69C5.36 4.12 5 4.63 5 5zm10 1.7c-.27.2-.58.38-.9.52-1.08.5-2.53.78-4.1.78-1.57 0-3.02-.29-4.1-.78A4.92 4.92 0 015 6.7V15c0 .37.36.88 1.32 1.31.91.42 2.22.69 3.68.69s2.77-.27 3.68-.69c.96-.43 1.32-.94 1.32-1.31V6.7z"/></symbol><symbol viewBox="0 0 16 16" id="document_16_regular" xmlns="http://www.w3.org/2000/svg"><path d="M5 1a2 2 0 00-2 2v10c0 1.1.9 2 2 2h6a2 2 0 002-2V5.41c0-.4-.16-.78-.44-1.06L9.65 1.44A1.5 1.5 0 008.59 1H5zM4 3a1 1 0 011-1h3v2.5C8 5.33 8.67 6 9.5 6H12v7a1 1 0 01-1 1H5a1 1 0 01-1-1V3zm7.8 2H9.5a.5.5 0 01-.5-.5V2.2L11.8 5z"/></symbol><symbol viewBox="0 0 20 20" id="filter_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 13h5a.5.5 0 01.09 1H7.5a.5.5 0 01-.09-1h5.09-5zm-2-4h9a.5.5 0 01.09 1H5.5a.5.5 0 01-.09-1h9.09-9zm-2-4h13a.5.5 0 01.09 1H3.5a.5.5 0 01-.09-1H16.5h-13z"/></symbol><symbol viewBox="0 0 20 20" id="folder_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M10.56 4.5h4.94a2.5 2.5 0 012.48 2.17l.01.17L18 7v7.5a2.5 2.5 0 01-2.34 2.5H4.5A2.5 2.5 0 012 14.66V7.5h5.22c.3-.04.6-.16.83-.36l.1-.1 2.41-2.54zM7.16 3c.28 0 .54.07.77.21l.14.09 1.31.99-1.95 2.05-.06.06a.5.5 0 01-.22.1H2v-1A2.5 2.5 0 014.34 3h2.83z"/></symbol><symbol viewBox="0 0 20 20" id="folder_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M7.17 3c.27 0 .53.07.76.21l.14.09 1.6 1.2h5.83a2.5 2.5 0 012.48 2.17l.01.17L18 7v7.5a2.5 2.5 0 01-2.34 2.5H4.5A2.5 2.5 0 012 14.66V5.5A2.5 2.5 0 014.34 3h2.83zm.99 4.03a1.5 1.5 0 01-.94.46l-.15.01H3v7c0 .78.6 1.42 1.36 1.5H15.5c.78 0 1.42-.6 1.5-1.36V7c0-.78-.6-1.42-1.36-1.5H9.62L8.16 7.03zM7.16 4H4.5c-.78 0-1.42.6-1.5 1.36V6.5h4.07a.5.5 0 00.3-.1l.06-.06L8.7 5.02 7.47 4.1a.5.5 0 00-.22-.1h-.08z"/></symbol><symbol viewBox="0 0 20 20" id="grid_dots_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M5.25 4a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zm12 12a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zM16 11.25a1.25 1.25 0 100-2.5 1.25 1.25 0 000 2.5zM17.25 4a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zM10 17.25a1.25 1.25 0 100-2.5 1.25 1.25 0 000 2.5zM11.25 10a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zM10 5.25a1.25 1.25 0 100-2.5 1.25 1.25 0 000 2.5zM5.25 16a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zM4 11.25a1.25 1.25 0 100-2.5 1.25 1.25 0 000 2.5z"/></symbol><symbol viewBox="0 0 20 20" id="home_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M11 2.39a1.5 1.5 0 00-2 0L3.5 7.33c-.32.28-.5.69-.5 1.12v7.05c0 .83.67 1.5 1.5 1.5h2c.83 0 1.5-.67 1.5-1.5v-4c0-.28.22-.5.5-.5h3c.28 0 .5.22.5.5v4c0 .83.67 1.5 1.5 1.5h2c.83 0 1.5-.67 1.5-1.5V8.45c0-.43-.18-.84-.5-1.12L11 2.39z"/></symbol><symbol viewBox="0 0 20 20" id="home_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M9 2.39a1.5 1.5 0 012 0l5.5 4.94c.32.28.5.69.5 1.12v7.05c0 .83-.67 1.5-1.5 1.5H13a1.5 1.5 0 01-1.5-1.5V12a.5.5 0 00-.5-.5H9a.5.5 0 00-.5.5v3.5c0 .83-.67 1.5-1.5 1.5H4.5A1.5 1.5 0 013 15.5V8.45c0-.43.18-.84.5-1.12L9 2.39zm1.33.74a.5.5 0 00-.66 0l-5.5 4.94a.5.5 0 00-.17.38v7.05c0 .28.22.5.5.5H7a.5.5 0 00.5-.5V12c0-.83.67-1.5 1.5-1.5h2c.83 0 1.5.67 1.5 1.5v3.5c0 .28.22.5.5.5h2.5a.5.5 0 00.5-.5V8.45a.5.5 0 00-.17-.38l-5.5-4.94z"/></symbol><symbol viewBox="0 0 20 20" id="megaphone_loud_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M14.16 1.03c.26.08.4.37.31.63l-.5 1.5a.5.5 0 01-.94-.32l.5-1.5a.5.5 0 01.63-.31zm3.7 1.82a.5.5 0 10-.71-.7l-2 2a.5.5 0 00.7.7l2-2zm-10.25.3a2 2 0 013.26-.52l6.58 6.98a2 2 0 01-.64 3.2l-3.94 1.74a3.5 3.5 0 01-6.34 2.8l-1.2.52a1.5 1.5 0 01-1.67-.3l-1.22-1.22a1.5 1.5 0 01-.3-1.7l5.47-11.5zm-.16 13.78a2.5 2.5 0 004.5-1.97l-4.5 1.97zm2.7-13.61a1 1 0 00-1.64.25l-5.46 11.5a.5.5 0 00.1.57l1.22 1.21a.5.5 0 00.55.1L16.4 11.9a1 1 0 00.33-1.6l-6.59-6.98zM17 6a.5.5 0 000 1h1.5a.5.5 0 100-1H17z"/></symbol><symbol viewBox="0 0 16 16" id="pause_16_regular" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 2C2.67 2 2 2.67 2 3.5v9c0 .83.67 1.5 1.5 1.5h2c.83 0 1.5-.67 1.5-1.5v-9C7 2.67 6.33 2 5.5 2h-2zm0 1h2c.28 0 .5.22.5.5v9a.5.5 0 01-.5.5h-2a.5.5 0 01-.5-.5v-9c0-.28.22-.5.5-.5zM10.5 2C9.67 2 9 2.67 9 3.5v9c0 .83.67 1.5 1.5 1.5h2c.83 0 1.5-.67 1.5-1.5v-9c0-.83-.67-1.5-1.5-1.5h-2zm0 1h2c.28 0 .5.22.5.5v9a.5.5 0 01-.5.5h-2a.5.5 0 01-.5-.5v-9c0-.28.22-.5.5-.5z"/></symbol><symbol viewBox="0 0 20 20" id="people_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M11 10a2 2 0 012 2v1.5c0 2.05-2.09 3.5-5.5 3.5S2 15.55 2 13.5V12c0-1.1.9-2 2-2h7zm5 0a2 2 0 012 2v.5c0 2.09-1.57 3.5-4.5 3.5l-.41-.01c.54-.63.85-1.39.9-2.25l.01-.24V12c0-.7-.23-1.33-.63-1.84l-.13-.16H16zM7.5 2a3.5 3.5 0 110 7 3.5 3.5 0 010-7zm7 2a2.5 2.5 0 110 5 2.5 2.5 0 010-5z"/></symbol><symbol viewBox="0 0 20 20" id="people_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M11 10a2 2 0 012 2v1.5c0 2.05-2.09 3.5-5.5 3.5S2 15.55 2 13.5V12c0-1.1.9-2 2-2h7zm0 1H4a1 1 0 00-1 1v1.5C3 14.9 4.58 16 7.5 16s4.5-1.1 4.5-2.5V12a1 1 0 00-1-1zm5-1a2 2 0 012 2v.5c0 2.09-1.57 3.5-4.5 3.5l-.41-.01c.2-.24.38-.5.52-.78l.1-.21h.03c2.24-.07 3.26-1.04 3.26-2.5V12a1 1 0 00-1-1h-2.17a3 3 0 00-.6-1H16zM7.5 2a3.5 3.5 0 110 7 3.5 3.5 0 010-7zm7 2a2.5 2.5 0 110 5 2.5 2.5 0 010-5zm-7-1a2.5 2.5 0 100 5 2.5 2.5 0 000-5zm7 2a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"/></symbol><symbol viewBox="0 0 16 16" id="play_16_regular" xmlns="http://www.w3.org/2000/svg"><path d="M5.75 3.06A.5.5 0 005 3.5v9c0 .38.41.62.75.44l8-4.5a.5.5 0 000-.88l-8-4.5zM4 3.5a1.5 1.5 0 012.24-1.3l8 4.5a1.5 1.5 0 010 2.6l-8 4.5A1.5 1.5 0 014 12.5v-9z"/></symbol><symbol viewBox="0 0 20 20" id="premium_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 3a.5.5 0 00-.43.24l-3 5a.5.5 0 00.05.58l7.5 9a.5.5 0 00.76 0l7.5-9a.5.5 0 00.05-.58l-3-5A.5.5 0 0014.5 3h-9zM3.38 8l2.4-4h1.98l-1.6 4H3.38zm2.78 1l2.26 5.83L3.57 9h2.59zM10 16.12L7.23 9h5.54L10 16.12zM7.24 8l1.6-4h2.32l1.6 4H7.24zm6.6 0l-1.6-4h1.98l2.4 4h-2.78zm0 1h2.6l-4.86 5.83L13.84 9z"/></symbol><symbol viewBox="0 0 20 20" id="premium_person_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 3a.5.5 0 00-.43.24l-3 5a.5.5 0 00.05.58l7.49 9a.5.5 0 00.86-.13L13.84 9h3.9l.14-.18a.5.5 0 00.05-.58l-3-5A.5.5 0 0014.5 3h-9zm7.27 6L10 16.12 7.23 9h5.54zM3.38 8l2.4-4h1.98l-1.6 4H3.38zm2.78 1l2.26 5.83L3.57 9h2.59zm1.08-1l1.6-4h2.32l1.6 4H7.24zm6.6 0l-1.6-4h1.98l2.4 4h-2.78zm1.66 6a2 2 0 100-4 2 2 0 000 4zm0 5c2.5 0 3.5-1.25 3.5-2.5 0-.83-.67-1.5-1.5-1.5h-4c-.83 0-1.5.67-1.5 1.5 0 1.25 1 2.5 3.5 2.5z"/></symbol><symbol viewBox="0 0 20 20" id="question_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M10 3a4 4 0 00-4 4 .5.5 0 001 0 3 3 0 016 0c0 1.25-.7 1.86-1.58 2.62l-.03.03c-.86.73-1.89 1.62-1.89 3.35v.5a.5.5 0 001 0V13c0-1.25.7-1.86 1.58-2.62l.03-.03C12.97 9.62 14 8.73 14 7a4 4 0 00-4-4zM10 17a.75.75 0 100-1.5.75.75 0 000 1.5z"/></symbol><symbol viewBox="0 0 20 20" id="search_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 3a5.5 5.5 0 014.23 9.02l4.12 4.13a.5.5 0 01-.63.76l-.07-.06-4.13-4.12A5.5 5.5 0 118.5 3zm0 1a4.5 4.5 0 100 9 4.5 4.5 0 000-9z"/></symbol><symbol viewBox="0 0 20 20" id="settings_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M1.91 7.38A8.5 8.5 0 013.7 4.3a.5.5 0 01.54-.13l1.92.68a1 1 0 001.32-.76l.36-2a.5.5 0 01.4-.4 8.53 8.53 0 013.55 0c.2.04.35.2.38.4l.37 2a1 1 0 001.32.76l1.92-.68a.5.5 0 01.54.13 8.5 8.5 0 011.78 3.08c.06.2 0 .4-.15.54l-1.56 1.32a1 1 0 000 1.52l1.56 1.32a.5.5 0 01.15.54 8.5 8.5 0 01-1.78 3.08.5.5 0 01-.54.13l-1.92-.68a1 1 0 00-1.32.76l-.37 2a.5.5 0 01-.38.4 8.53 8.53 0 01-3.56 0 .5.5 0 01-.39-.4l-.36-2a1 1 0 00-1.32-.76l-1.92.68a.5.5 0 01-.54-.13 8.5 8.5 0 01-1.78-3.08.5.5 0 01.15-.54l1.56-1.32a1 1 0 000-1.52L2.06 7.92a.5.5 0 01-.15-.54zm1.06 0l1.3 1.1a2 2 0 010 3.04l-1.3 1.1c.3.79.71 1.51 1.25 2.16l1.6-.58a2 2 0 012.63 1.53l.3 1.67a7.56 7.56 0 002.5 0l.3-1.67a2 2 0 012.64-1.53l1.6.58a7.5 7.5 0 001.24-2.16l-1.3-1.1a2 2 0 010-3.04l1.3-1.1a7.5 7.5 0 00-1.25-2.16l-1.6.58a2 2 0 01-2.63-1.53l-.3-1.67a7.55 7.55 0 00-2.5 0l-.3 1.67A2 2 0 015.81 5.8l-1.6-.58a7.5 7.5 0 00-1.24 2.16zM7.5 10a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0zm1 0a1.5 1.5 0 103 0 1.5 1.5 0 00-3 0z"/></symbol><symbol viewBox="0 0 20 20" id="stack_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M4 3a2 2 0 00-2 2v6c0 1.1.9 2 2 2h8a2 2 0 002-2V5a2 2 0 00-2-2H4zm.27 11c.34.6.99 1 1.73 1h6a4 4 0 004-4V7a2 2 0 00-1-1.73V11a3 3 0 01-3 3H4.27zm2 2c.34.6.99 1 1.73 1h4a6 6 0 006-6V9a2 2 0 00-1-1.73V11a5 5 0 01-5 5H6.27z"/></symbol><symbol viewBox="0 0 20 20" id="stack_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M2 5c0-1.1.9-2 2-2h8a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm2-1a1 1 0 00-1 1v6a1 1 0 001 1h8a1 1 0 001-1V5a1 1 0 00-1-1H4zm2 11a2 2 0 01-1.73-1H12a3 3 0 003-3V5.27c.6.34 1 .99 1 1.73v4a4 4 0 01-4 4H6zm2 2a2 2 0 01-1.73-1H12a5 5 0 005-5V7.27c.6.34 1 .99 1 1.73v2a6 6 0 01-6 6H8z"/></symbol><symbol viewBox="0 0 20 20" id="star_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M9.1 2.9a1 1 0 011.8 0l1.93 3.91 4.31.63a1 1 0 01.56 1.7l-3.12 3.05.73 4.3a1 1 0 01-1.45 1.05L10 15.51l-3.86 2.03a1 1 0 01-1.45-1.05l.74-4.3L2.3 9.14a1 1 0 01.56-1.7l4.31-.63L9.1 2.9z"/></symbol><symbol viewBox="0 0 20 20" id="star_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M9.1 2.9a1 1 0 011.8 0l1.93 3.91 4.31.63a1 1 0 01.56 1.7l-3.12 3.05.73 4.3a1 1 0 01-1.45 1.05L10 15.51l-3.86 2.03a1 1 0 01-1.45-1.05l.74-4.3L2.3 9.14a1 1 0 01.56-1.7l4.31-.63L9.1 2.9zm.9.44L8.07 7.25a1 1 0 01-.75.55L3 8.43l3.12 3.04a1 1 0 01.3.89l-.75 4.3 3.87-2.03a1 1 0 01.93 0l3.86 2.03-.74-4.3a1 1 0 01.29-.89L17 8.43l-4.32-.63a1 1 0 01-.75-.55L10 3.35z"/></symbol></svg>\n            </svg>\n        '))},M.prototype.getSvgSpriteUrl=function(k){return"/images/".concat(k,".svg")},M.\u0275prov=s.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac=function(b){return new(b||M)},providedIn:"root"}),M}(),y=function(){function M(){}return M.\u0275fac=function(b){return new(b||M)},M.\u0275mod=s.\u0275\u0275defineNgModule({type:M}),M.\u0275inj=s.\u0275\u0275defineInjector({providers:[{provide:N.E,useClass:A}],imports:[r.T6]}),M}()}}]);