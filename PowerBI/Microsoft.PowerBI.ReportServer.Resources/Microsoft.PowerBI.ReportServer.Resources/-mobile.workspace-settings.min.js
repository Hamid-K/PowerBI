"use strict";(self.webpackChunkmobile=self.webpackChunkmobile||[]).push([["workspace-settings"],{2552:function(tt,ke,u){u.d(ke,{Ug:function(){return Ee},su:function(){return ve},ce:function(){return F},Kl:function(){return h},i:function(){return L},bE:function(){return Q},xU:function(){return qe},aw:function(){return ie},Zt:function(){return he},P9:function(){return Ye},mK:function(){return Le},ZH:function(){return ze},WV:function(){return ne},nD:function(){return Be},Jv:function(){return Ge},h_:function(){return nt}});var g=u(60225),p=u(37419),oe=u(47875);function C(y){return void 0===y&&(y=-1),function(O){return O.lift(new X(y,O))}}var X=function(){function y(E,B){this.count=E,this.source=B}return y.prototype.call=function(B,T){return T.subscribe(new M(B,this.count,this.source))},y}(),M=function(y){function O(B,T,k){var S;return(S=y.call(this,B)||this).count=T,S.source=k,S}return(0,p.Z)(O,y),O.prototype.error=function(T){if(!this.isStopped){var k=this.source,S=this.count;if(0===S)return y.prototype.error.call(this,T);S>-1&&(this.count=S-1),k.subscribe(this._unsubscribeAndRecycle())}},O}(oe.L),V=u(14172),e=u(59822),Z=u(68698),H=u(50423),w=function(){function y(O){this.httpService=O}return y.prototype.getData=function(O){var E=this.createNoRetriesRequestOptions();return this.httpService.get(O,E).pipe(C(0),(0,V.U)(function(B){return B.data}))},y.prototype.postData=function(O,E){var B=this.createNoRetriesRequestOptions();return this.httpService.post(O,E,B).pipe(this.retryWithTransform(),(0,V.U)(function(T){return T.data}))},y.prototype.deleteData=function(O){var E=this.createNoRetriesRequestOptions();return this.httpService.delete(O,E).pipe(C(0),(0,V.U)(function(B){return B.data}))},y.prototype.createNoRetriesRequestOptions=function(){var O=this.httpService.powerbiRequestOptions();return O.disableRetriesOnServerError=!0,O.retryCount=0,O.signInOnConditionalAccessErrors=!1,O},y.prototype.retryWithTransform=function(){return function(O){return O.pipe(C(0),(0,e.K)(function(E){return(0,g._)(E)}),(0,V.U)(function(E){return{data:E.data}}))}},y.\u0275fac=function(E){return new(E||y)(H.\u0275\u0275inject(Z.s))},y.\u0275prov=H.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y}(),ve=function(){function y(O){this.httpUtils=O}return y.prototype.branchOut=function(O,E){return this.httpUtils.postData("metadata/git/workspaces/".concat(O,"/branchOut"),E)},y.\u0275fac=function(E){return new(E||y)(H.\u0275\u0275inject(w))},y.\u0275prov=H.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),U=u(81337),F=function(){function y(O){this.httpUtils=O}return y.prototype.commitArtifacts=function(O,E){return this.httpUtils.postData("metadata/git/workspaces/".concat(O,"/commitToGit?skipHeadValidation=true"),E).pipe((0,V.U)(function(B){return(0,U.pi)((0,U.pi)({},B),{responseDate:new Date(Date.now())})}))},y.\u0275fac=function(E){return new(E||y)(H.\u0275\u0275inject(w))},y.\u0275prov=H.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),h=function(){function y(O){this.httpUtils=O}return y.prototype.postConfigureCredentials=function(O,E){return this.httpUtils.postData("/metadata/git/workspaces/".concat(O,"/configureCredentials"),E)},y.prototype.deleteConfiguredCredentials=function(O){return this.httpUtils.deleteData("/metadata/git/workspaces/".concat(O,"/configureCredentials"))},y.\u0275fac=function(E){return new(E||y)(H.\u0275\u0275inject(w))},y.\u0275prov=H.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y}(),L=function(){function y(O){this.httpUtils=O}return y.prototype.getGitConnectionDetails=function(O){return this.httpUtils.getData("/metadata/git/workspaces/".concat(O,"/connection"))},y.prototype.setGitConnectionDetails=function(O,E){return this.httpUtils.postData("/metadata/git/workspaces/".concat(O,"/connection"),E)},y.prototype.checkoutBranch=function(O,E){return this.httpUtils.postData("/metadata/git/workspaces/".concat(O,"/checkoutBranch"),E)},y.prototype.deleteGitConnectionDetails=function(O){return this.httpUtils.deleteData("/metadata/git/workspaces/".concat(O,"/connection"))},y.\u0275fac=function(E){return new(E||y)(H.\u0275\u0275inject(w))},y.\u0275prov=H.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),q=u(18016),Q=function(){function y(O){this.httpUtils=O}return y.prototype.getOrganizations=function(O,E){return this.httpUtils.getData("/metadata/git/organizations?gitProviderType=".concat(q.IS[O],"&workspaceId=").concat(E))},y.prototype.getProjects=function(O,E,B){return this.httpUtils.getData("/metadata/git/projects?gitProviderType=".concat(q.IS[O],"&organizationName=").concat(E,"&workspaceId=").concat(B))},y.prototype.getRepositories=function(O,E,B,T){return this.httpUtils.getData("/metadata/git/repositories?gitProviderType=".concat(q.IS[O],"&organizationName=").concat(E,"&projectName=").concat(B,"&workspaceId=").concat(T))},y.prototype.getBranches=function(O,E,B,T,k,S){var j="/metadata/git/branches?workspaceId=".concat(O,"&gitProviderType=").concat(q.IS[E],"&organizationName=").concat(B,"&repositoryName=").concat(T);return k&&(j+="&projectName=".concat(k)),S&&(j+="&datasourceOID=".concat(S)),this.httpUtils.getData(j)},y.prototype.createBranch=function(O){return this.httpUtils.postData("/metadata/git/branches",O)},y.prototype.createDirectory=function(O){return this.httpUtils.postData("/metadata/git/directory",O)},y.prototype.getRelatedWorkspaces=function(O){return this.httpUtils.getData("/metadata/git/workspaces/".concat(O,"/relatedWorkspaces"))},y.\u0275fac=function(E){return new(E||y)(H.\u0275\u0275inject(w))},y.\u0275prov=H.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y}(),ie=function(){function y(O){this.httpUtils=O}return y.prototype.createDatasource=function(O){return this.httpUtils.postData("/v2.0/myorg/me/gatewayClusterCloudDatasource",O)},y.prototype.discoverDatasources=function(){return this.httpUtils.postData("/v2.0/myorg/me/gatewayClusterDatasources",{datasourceTypes:["Extension"]})},y.prototype.getDatasource=function(O){var E="/v2.0/myorg/me/gatewayClusterDatasources/".concat(O);return this.httpUtils.getData(E)},y.\u0275fac=function(E){return new(E||y)(H.\u0275\u0275inject(w))},y.\u0275prov=H.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y}(),he=function(){function y(O){this.httpUtils=O}return y.prototype.initializeGitConnection=function(O,E){return this.httpUtils.postData("/metadata/git/workspaces/".concat(O,"/connection/initialize"),E)},y.\u0275fac=function(E){return new(E||y)(H.\u0275\u0275inject(w))},y.\u0275prov=H.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),Le=function(){function y(O){this.httpUtils=O}return y.prototype.getUncommittedChanges=function(O){return this.getData(O,"uncommittedChanges")},y.prototype.getIncomingChanges=function(O){return this.getData(O,"incomingChanges")},y.prototype.getGitStatus=function(O){return this.getData(O,"gitStatus")},y.prototype.getData=function(O,E){var B="metadata/git/workspaces/".concat(O,"/").concat(E);return this.httpUtils.getData(B)},y.\u0275fac=function(E){return new(E||y)(H.\u0275\u0275inject(w))},y.\u0275prov=H.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),ne=function(){function y(O){this.httpUtils=O}return y.prototype.getlatestGitOperation=function(O){return this.httpUtils.getData("metadata/git/workspaces/".concat(O,"/latestGitOperationV2"))},y.\u0275fac=function(E){return new(E||y)(H.\u0275\u0275inject(w))},y.\u0275prov=H.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),ze=function(){function y(O){this.httpUtils=O}return y.prototype.switchBranch=function(O,E){return this.httpUtils.postData("/metadata/git/workspaces/".concat(O,"/switchBranch"),E)},y.\u0275fac=function(E){return new(E||y)(H.\u0275\u0275inject(w))},y.\u0275prov=H.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),Be=function(){function y(O){this.httpUtils=O}return y.prototype.undoCommitArtifacts=function(O,E){return this.httpUtils.postData("metadata/git/workspaces/".concat(O,"/undo"),E)},y.\u0275fac=function(E){return new(E||y)(H.\u0275\u0275inject(w))},y.\u0275prov=H.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),Ge=function(){function y(O){this.httpUtils=O}return y.prototype.UpdateArtifactsFromGit=function(O,E){return this.httpUtils.postData("metadata/git/workspaces/".concat(O,"/updateFromGit"),E).pipe((0,V.U)(function(B){return(0,U.pi)((0,U.pi)({},B),{responseDate:new Date(Date.now())})}))},y.\u0275fac=function(E){return new(E||y)(H.\u0275\u0275inject(w))},y.\u0275prov=H.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}(),Ye=function(){function y(O){this.httpUtils=O}return y.prototype.gitRepairItems=function(O,E){return this.httpUtils.postData("metadata/git/workspaces/".concat(O,"/repairGitItems"),E).pipe((0,V.U)(function(B){return(0,U.pi)({},B)}))},y.\u0275fac=function(E){return new(E||y)(H.\u0275\u0275inject(w))},y.\u0275prov=H.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y}();function nt(y){return y&&"string"==typeof y.extensionDataSourceKind&&"string"==typeof y.extensionDataSourcePath}var qe=function(y){return y[y.Undefined=0]="Undefined",y[y.Completed=1]="Completed",y[y.UpdateFromGitRequired=2]="UpdateFromGitRequired",y[y.CommitToGitRequired=3]="CommitToGitRequired",y[y.Failed=100]="Failed",y}({}),xe=u(77476),Ee=function(){function y(){}return y.forRoot=function(){return{ngModule:y,providers:[]}},y.\u0275fac=function(E){return new(E||y)},y.\u0275mod=H.\u0275\u0275defineNgModule({type:y}),y.\u0275inj=H.\u0275\u0275defineInjector({providers:[ve,F,h,L,Q,ie,w,he,Le,ne,ze,Be,Ge,Ye],imports:[xe.CommonModule]}),y}()},70628:function(tt,ke,u){u.d(ke,{CmZ:function(){return he},DAQ:function(){return Pi},j3q:function(){return nt},f$Z:function(){return vi},iAv:function(){return _a},REK:function(){return Di},gCl:function(){return Tr},F8e:function(){return Ht},pPx:function(){return no},CCT:function(){return kr},Gui:function(){return Q},ND3:function(){return Ge},x6e:function(){return M},V_q:function(){return rt}});var g=u(60756),p=u(85732),oe=u(2552),C=u(81337),X=u(8894),M=(0,p.PH)("[GitStatus] Load Uncommitted Changes",(0,p.Ky)()),V=(0,p.PH)("[GitStatus] Load Uncommitted Changes Success",(0,p.Ky)()),e=(0,p.PH)("[GitStatus] Load Uncommitted Changes Failure",(0,p.Ky)()),Z=(0,p.PH)("[GitStatus] Load Incoming Changes",(0,p.Ky)()),H=(0,p.PH)("[GitStatus] Load Incoming Changes Success",(0,p.Ky)()),w=(0,p.PH)("[GitStatus] Load Incoming Changes Failure",(0,p.Ky)()),ve=(0,p.PH)("[GitStatus] set selection of artifact in changes tab",(0,p.Ky)()),U=(0,p.PH)("[GitStatus] clear selection of artifact in changes tab",(0,p.Ky)()),F=(0,p.PH)("[GitConnection] Invalidate Git status",(0,p.Ky)()),h=(0,p.PH)("[GitStatus] Load Git Status",(0,p.Ky)()),L=(0,p.PH)("[GitStatus] Load Git Status Success",(0,p.Ky)()),q=(0,p.PH)("[GitStatus] Load Git Status Failure",(0,p.Ky)()),Q=function(s){return s[s.Initial=0]="Initial",s[s.Loading=1]="Loading",s[s.Loaded=2]="Loaded",s}({}),he=function(s){return s[s.Initial=0]="Initial",s[s.InProgress=1]="InProgress",s[s.Completed=2]="Completed",s}({}),Le=function(s){return s[s.Initial=0]="Initial",s[s.Committing=1]="Committing",s[s.Committed=2]="Committed",s}({}),ne=function(s){return s[s.Initial=0]="Initial",s[s.Undoing=1]="Undoing",s[s.Undone=2]="Undone",s}({}),ze=function(s){return s[s.Initial=0]="Initial",s[s.Updating=1]="Updating",s[s.Updated=2]="Updated",s}({}),Be=function(s){return s[s.None=0]="None",s[s.CommitFlowInProgress=1]="CommitFlowInProgress",s[s.CommitInitialFlowInProgress=2]="CommitInitialFlowInProgress",s[s.UpdateFlowInProgress=3]="UpdateFlowInProgress",s[s.UpdateInitialFlowInProgress=4]="UpdateInitialFlowInProgress",s[s.UndoFlowInProgress=5]="UndoFlowInProgress",s[s.CheckoutBranchFlowInProgress=6]="CheckoutBranchFlowInProgress",s[s.SwitchBranchFlowInProgress=7]="SwitchBranchFlowInProgress",s}({}),Ge=function(s){return s[s.Initial=0]="Initial",s[s.InProgress=1]="InProgress",s[s.Completed=2]="Completed",s}({}),Ye=function(s){return s[s.Initial=0]="Initial",s[s.InProgress=1]="InProgress",s[s.Completed=2]="Completed",s}({}),nt=function(s){return s[s.Initial=0]="Initial",s[s.InProgress=1]="InProgress",s[s.Completed=2]="Completed",s}({}),qe=function(s){return s[s.Initial=0]="Initial",s[s.InProgress=1]="InProgress",s[s.Completed=2]="Completed",s}({}),Ee=(0,X.H)({selectId:function(c){return c.workspaceId}}),Se=(0,C.pi)({},Ee.getInitialState()),y=(0,p.Lq)(Se,(0,p.on)(h,function(s,c){return Ee.upsertOne({workspaceId:c.workspaceId,statusCallState:Q.Loading},s)}),(0,p.on)(L,function(s,c){return Ee.upsertOne((0,C.pi)((0,C.pi)({},c.gitStatus),{statusCallState:Q.Loaded}),s)}),(0,p.on)(q,function(s,c){return Ee.upsertOne({workspaceId:c.workspaceId,statusCallState:c.error},s)}),(0,p.on)(M,function(s,c){return Ee.upsertOne({workspaceId:c.workspaceId,uncommittedChangesCallState:Q.Loading},s)}),(0,p.on)(V,function(s,c){var d,m,I,P,A,R=c.gitStatus;return Ee.upsertOne({workspaceId:R.workspaceId,head:R.head,gitChanges:(0,C.ev)((0,C.ev)([],null!==(I=null===(m=null===(d=s.entities[R.workspaceId])||void 0===d?void 0:d.gitChanges)||void 0===m?void 0:m.filter(function(G){return G.remoteChange}))&&void 0!==I?I:[],!0),null!==(P=R?.gitChanges)&&void 0!==P?P:[],!0),incomingChangesCommitHash:null===(A=s.entities[R.workspaceId])||void 0===A?void 0:A.incomingChangesCommitHash,uncommittedChangesCallState:Q.Loaded},s)}),(0,p.on)(e,function(s,c){return Ee.upsertOne({workspaceId:c.workspaceId,uncommittedChangesCallState:c.error},s)}),(0,p.on)(Z,function(s,c){return Ee.upsertOne({workspaceId:c.workspaceId,incomingChangesCallState:Q.Loading},s)}),(0,p.on)(H,function(s,c){var d,m,I,P,A=c.gitStatus;return Ee.upsertOne({workspaceId:A.workspaceId,head:A.head,gitChanges:(0,C.ev)((0,C.ev)([],null!==(I=null===(m=null===(d=s.entities[A.workspaceId])||void 0===d?void 0:d.gitChanges)||void 0===m?void 0:m.filter(function(R){return R.workspaceChange}))&&void 0!==I?I:[],!0),null!==(P=A?.gitChanges)&&void 0!==P?P:[],!0),incomingChangesCommitHash:A.incomingChangesCommitHash,incomingChangesCallState:Q.Loaded},s)}),(0,p.on)(w,function(s,c){return Ee.upsertOne({workspaceId:c.workspaceId,incomingChangesCallState:c.error},s)}),(0,p.on)(ve,function(s,c){var d,m,I=c.workspaceId,P=c.artifactId,A=c.logicalId,G=(null===(m=null===(d=s.entities[I])||void 0===d?void 0:d.uncommittedChangesArtifactSelectionState)||void 0===m?void 0:m.selectedArtifacts)||[],$=c.isChecked?G.concat({artifactId:P,logicalId:A}):G.filter(function(K){return K.artifactId!==P||K.logicalId!==A});return Ee.upsertOne({workspaceId:I,uncommittedChangesArtifactSelectionState:{selectedArtifacts:$}},s)}),(0,p.on)(U,function(s,c){return Ee.updateOne({id:c.workspaceId,changes:{uncommittedChangesArtifactSelectionState:{selectedArtifacts:[]}}},s)}),(0,p.on)(F,function(s,c){return Ee.removeOne(c.workspaceId,s)})),E=u(18016),B=(0,p.PH)("[GitConnection] Initialize Git connection",(0,p.Ky)()),T=(0,p.PH)("[GitConnection] Initialize Git connection success",(0,p.Ky)()),k=(0,p.PH)("[GitConnection] Initialize Git connection failure",(0,p.Ky)()),S=(0,p.PH)("[GitConnection] Invalidate Git connection initialization",(0,p.Ky)()),j=(0,p.PH)("[GitConnection] Load Git Connection",(0,p.Ky)()),J=(0,p.PH)("[GitConnection] Load Git Connection Success",(0,p.Ky)()),fe=(0,p.PH)("[GitConnection] Load Git Connection Failure",(0,p.Ky)()),Ie=(0,p.PH)("[GitConnection] Ensure Git Connection",(0,p.Ky)()),Te=(0,p.PH)("[GitConnection] Save Git Connection",(0,p.Ky)()),Pe=(0,p.PH)("[GitConnection] Save Git Connection Success",(0,p.Ky)()),ct=(0,p.PH)("[GitConnection] Save Git Connection Failure",(0,p.Ky)()),Ct=(0,p.PH)("[GitConnection] Delete Git Connection",(0,p.Ky)()),D=(0,p.PH)("[GitConnection] Delete Git Connection Success",(0,p.Ky)()),de=(0,p.PH)("[GitConnection] Delete Git Connection Failure",(0,p.Ky)()),De=(0,p.PH)("[GitConnection] Git Checkout Branch",(0,p.Ky)()),Ae=(0,p.PH)("[GitConnection] Git Checkout Branch Success",(0,p.Ky)()),St=(0,p.PH)("[GitConnection] Git Checkout Branch Failure",(0,p.Ky)()),rt=(0,p.PH)("[GitConnection] Update datasource in GitConnection",(0,p.Ky)()),dt=(0,p.PH)("[GitSync] Get latest git alm operation",(0,p.Ky)()),ot=(0,p.PH)("[GitSync] Get latest git alm operation Success",(0,p.Ky)()),yt=(0,p.PH)("[GitSync] Get latest git alm operation Failure",(0,p.Ky)()),Ze=(0,p.PH)("[GitConnection] Invalidate Git sync",(0,p.Ky)()),gt=(0,p.PH)("[GitSwitchBranch] Git Switch Branch",(0,p.Ky)()),ht=(0,p.PH)("[GitSwitchBranch] Git Switch Branch Success",(0,p.Ky)()),Rt=(0,p.PH)("[GitSwitchBranch] Git Switch Branch In Progress",(0,p.Ky)()),Zt=(0,p.PH)("[GitSwitchBranch] Git Switch Branch Failure server error",(0,p.Ky)()),Mn=(0,p.PH)("[GitSwitchBranch] Git Switch Branch Failure",(0,p.Ky)()),Pn=(0,p.PH)("[GitBranchOut] Branch Out",(0,p.Ky)()),nn=(0,p.PH)("[GitBranchOut] Branch Out success",(0,p.Ky)()),_n=(0,p.PH)("[GitBranchOut] Branch Out failure",(0,p.Ky)()),Tn=(0,p.PH)("[GitBranchOut] Branch Out requires to sync folder into store",(0,p.Ky)()),On=(0,p.PH)("[GitBranchOut] Branch Out completed",(0,p.Ky)()),Xn=(0,p.PH)("[GitBranchOut] Branch Out requires to sync folder into store without update",(0,p.Ky)()),rn=(0,p.PH)("[GitBranchOut] Branch Out store invalidate",(0,p.Ky)()),et=(0,X.H)({selectId:function(c){return c.workspaceId}}),on=(0,C.pi)({},et.getInitialState()),En=(0,p.Lq)(on,(0,p.on)(j,Ct,function(s,c){return et.upsertOne({workspaceId:c.workspaceId,callState:he.InProgress},s)}),(0,p.on)(Te,function(s,c){return et.upsertOne({workspaceId:c.gitConnection.workspaceId,callState:he.InProgress},s)}),(0,p.on)(De,function(s,c){return et.upsertOne({workspaceId:c.gitCheckoutBranchState.workspaceId,callState:he.InProgress},s)}),(0,p.on)(J,Pe,function(s,c){return et.upsertOne((0,C.pi)((0,C.pi)({},c.gitConnection),{callState:he.Completed}),s)}),(0,p.on)(Ae,function(s,c){var d,m=c.gitCheckoutBranchState,I=m.workspaceId,P=null===(d=s.entities[I])||void 0===d?void 0:d.gitConnectionDetails;return et.updateOne({id:I,changes:{gitConnectionDetails:(0,C.pi)((0,C.pi)({},P),{branchName:m.request.branchName}),callState:he.Completed}},s)}),(0,p.on)(Rt,function(s,c){var d,m=c.gitSwitchBranchState,I=m.workspaceId;return void 0!==(null===(d=m?.request)||void 0===d?void 0:d.targetBranchName)?function(s,c,d){var m,I=null===(m=s.entities[c])||void 0===m?void 0:m.gitConnectionDetails;return et.updateOne({id:c,changes:{gitConnectionDetails:(0,C.pi)((0,C.pi)({},I),{branchName:d}),callState:he.Completed}},s)}(s,I,m.request.targetBranchName):s}),(0,p.on)(rt,function(s,c){var d,m=c.workspaceId,I=c.datasourceOID,P=null===(d=s.entities[m])||void 0===d?void 0:d.gitConnectionDetails;return et.updateOne({id:m,changes:{gitConnectionDetails:(0,C.pi)((0,C.pi)({},P),{datasourceOID:I}),callState:he.Completed}},s)}),(0,p.on)(D,function(s,c){return et.removeOne(c.workspaceId,s)}),(0,p.on)(fe,de,St,function(s,c){return et.updateOne({id:c.workspaceId,changes:{callState:c.error}},s)}),(0,p.on)(ct,function(s,c){return et.updateOne({id:c.gitConnection.workspaceId,changes:{callState:c.error}},s)}),(0,p.on)(T,function(s,c){var d,m,I=c.gitInitializationStateWithResponse,P=I.workspaceId,A=null===(d=s.entities[P])||void 0===d?void 0:d.gitConnectionDetails;return et.updateOne({id:P,changes:{gitConnectionDetails:(0,C.pi)((0,C.pi)({},A),{isInitialized:!0,head:null===(m=I.response)||void 0===m?void 0:m.head})}},s)}),(0,p.on)(nn,function(s,c){var d,m,I,P,A,R,G=c.gitBranchOutState;if(void 0===(null===(d=G.response)||void 0===d?void 0:d.folder))return s;var $=null===(I=null===(m=G.response)||void 0===m?void 0:m.folder)||void 0===I?void 0:I.objectId,Y=null===(P=s.entities[G.workspaceId])||void 0===P?void 0:P.gitConnectionDetails,ae=(0,C.pi)((0,C.pi)({},Y),{head:null===(R=null===(A=G.response)||void 0===A?void 0:A.initializeConnectionStatus)||void 0===R?void 0:R.head,branchName:G.request.targetBranchName});return et.upsertOne((0,C.pi)((0,C.pi)({},ae),{workspaceId:$,callState:he.Completed}),s)}),(0,p.on)(V,H,L,function(s,c){var d,m,I,P=c.gitStatus,A=P.workspaceId,R=null===(d=s.entities[A])||void 0===d?void 0:d.gitConnectionDetails;return P.head&&P.head!==(null===(I=null===(m=s.entities[P.workspaceId])||void 0===m?void 0:m.gitConnectionDetails)||void 0===I?void 0:I.head)?et.updateOne({id:A,changes:{gitConnectionDetails:(0,C.pi)((0,C.pi)({},R),{head:P.head})}},s):s}),(0,p.on)(ot,function(s,c){var d,m,I=c.gitSyncState,P=I.workspaceId,A=null===(d=s.entities[P])||void 0===d?void 0:d.gitConnectionDetails;return I.gitOperationStatus!==E.wM.Successful?s:et.updateOne({id:P,changes:{gitConnectionDetails:(0,C.pi)((0,C.pi)({},A),{lastSyncTime:null===(m=I.lastUpdatedTime)||void 0===m?void 0:m.toString()})}},s)})),pe=(0,p.PH)("[CommitToGit] Commit Changes To Git",(0,p.Ky)()),_e=(0,p.PH)("[CommitToGit] Commit Changes To Git inProgress",(0,p.Ky)()),Ke=(0,p.PH)("[CommitToGit] Commit Changes To Git success",(0,p.Ky)()),mt=(0,p.PH)("[CommitToGit] Commit Changes To Git failure server error ",(0,p.Ky)()),at=(0,p.PH)("[CommitToGit] Commit Changes To Git failure ",(0,p.Ky)()),Xe=(0,X.H)({selectId:function(c){return c.workspaceId}}),Ft=(0,C.pi)({},Xe.getInitialState()),vn=(0,p.Lq)(Ft,(0,p.on)(pe,function(s,c){return Xe.upsertOne((0,C.pi)((0,C.pi)({},c.gitCommitState),{callState:Le.Committing}),s)}),(0,p.on)(_e,function(s,c){return Xe.upsertOne((0,C.pi)((0,C.pi)({},c.gitCommitState),{callState:Le.Committing}),s)}),(0,p.on)(Ke,function(s,c){return Xe.upsertOne((0,C.pi)((0,C.pi)({},c.gitCommitStateWithResponse),{callState:Le.Committed,notificationId:void 0}),s)}),(0,p.on)(mt,function(s,c){return Xe.upsertOne((0,C.pi)((0,C.pi)({},c.gitCommitState),{callState:Le.Committed,notificationId:void 0}),s)}),(0,p.on)(at,function(s,c){var m=c.error;return Xe.upsertOne((0,C.pi)((0,C.pi)({},c.gitCommitState),{callState:m,notificationId:void 0}),s)}),(0,p.on)(S,function(s,c){return Xe.removeOne(c.workspaceId,s)})),hn=(0,p.PH)("[UpdateFromGit] Update Changes From Git",(0,p.Ky)()),fn=(0,p.PH)("[UpdateFromGit] Update Changes From Git InProgress",(0,p.Ky)()),$t=(0,p.PH)("[UpdateFromGit] Update Changes From Git success",(0,p.Ky)()),Qn=(0,p.PH)("[UpdateFromGit] Update Changes From Git failure ",(0,p.Ky)()),Yn=(0,p.PH)("[UpdateFromGit] Update Changes From Git failure server error",(0,p.Ky)()),Lt=(0,X.H)({selectId:function(c){return c.workspaceId}}),Cn=(0,C.pi)({},Lt.getInitialState()),$e=(0,p.Lq)(Cn,(0,p.on)(hn,function(s,c){return Lt.upsertOne((0,C.pi)((0,C.pi)({},c.gitUpdateState),{callState:ze.Updating}),s)}),(0,p.on)(fn,function(s,c){return Lt.upsertOne((0,C.pi)((0,C.pi)({},c.gitUpdateState),{callState:ze.Updating}),s)}),(0,p.on)($t,function(s,c){return Lt.upsertOne((0,C.pi)((0,C.pi)({},c.gitUpdateStateWithResponse),{callState:ze.Updated,notificationId:void 0}),s)}),(0,p.on)(Yn,function(s,c){var m=c.error;return Lt.upsertOne((0,C.pi)((0,C.pi)({},c.gitUpdateState),{callState:m,notificationId:void 0}),s)}),(0,p.on)(Qn,function(s,c){var m=c.error;return Lt.upsertOne((0,C.pi)((0,C.pi)({},c.gitUpdateState),{callState:m,notificationId:void 0}),s)}),(0,p.on)(S,function(s,c){return Lt.removeOne(c.workspaceId,s)})),Jt=(0,X.H)({selectId:function(c){return c.workspaceId}}),N=(0,C.pi)({},Jt.getInitialState()),Wr=(0,p.Lq)(N,(0,p.on)(B,function(s,c){return Jt.upsertOne((0,C.pi)((0,C.pi)({},c.gitInitializationState),{callState:he.InProgress}),s)}),(0,p.on)(T,function(s,c){return Jt.upsertOne((0,C.pi)((0,C.pi)({},c.gitInitializationStateWithResponse),{callState:he.Completed}),s)}),(0,p.on)(k,function(s,c){var m=c.error;return Jt.upsertOne((0,C.pi)((0,C.pi)({},c.gitInitializationState),{callState:m}),s)}),(0,p.on)(S,function(s,c){return Jt.removeOne(c.workspaceId,s)})),_t=(0,X.H)({selectId:function(c){return c.workspaceId}}),W=(0,C.pi)({},_t.getInitialState()),ye=(0,p.Lq)(W,(0,p.on)(dt,function(s,c){return _t.upsertOne({workspaceId:c.workspaceId,isValid:!0,isInitial:!!c.isInitial,callState:he.InProgress},s)}),(0,p.on)(ot,function(s,c){return _t.upsertOne((0,C.pi)((0,C.pi)({},c.gitSyncState),{callState:he.Completed}),s)}),(0,p.on)(yt,function(s,c){return _t.updateOne({id:c.workspaceId,changes:{callState:c.error,isValid:!1}},s)}),(0,p.on)(Ze,function(s,c){return _t.removeOne(c.workspaceId,s)})),Dn=(0,p.PH)("[undoFromGit] Undo changes From Git",(0,p.Ky)()),qt=(0,p.PH)("[undoFromGit] Undo changes From Git inProgress",(0,p.Ky)()),Jn=(0,p.PH)("[undoFromGit] Undo changes From Git success",(0,p.Ky)()),He=(0,p.PH)("[undoFromGit] Undo changes From Git failure server error ",(0,p.Ky)()),an=(0,p.PH)("[undoFromGit] Undo changes From Git failure ",(0,p.Ky)()),Ut=(0,X.H)({selectId:function(c){return c.workspaceId}}),qn=(0,C.pi)({},Ut.getInitialState()),$r=(0,p.Lq)(qn,(0,p.on)(Dn,function(s,c){return Ut.upsertOne((0,C.pi)((0,C.pi)({},c.gitUndoState),{callState:ne.Undoing}),s)}),(0,p.on)(qt,function(s,c){return Ut.upsertOne((0,C.pi)((0,C.pi)({},c.gitUndoState),{callState:ne.Undoing}),s)}),(0,p.on)(Jn,function(s,c){return Ut.upsertOne((0,C.pi)((0,C.pi)({},c.gitUndoStateWithResponse),{callState:ne.Undone,notificationId:void 0}),s)}),(0,p.on)(He,function(s,c){var m=c.error;return Ut.upsertOne((0,C.pi)((0,C.pi)({},c.gitUndoState),{callState:m,notificationId:void 0}),s)}),(0,p.on)(an,function(s,c){var m=c.error;return Ut.upsertOne((0,C.pi)((0,C.pi)({},c.gitUndoState),{callState:m,notificationId:void 0}),s)}),(0,p.on)(S,function(s,c){return Ut.removeOne(c.workspaceId,s)})),We=function(s){return s[s.None=0]="None",s[s.GitActionStart=1]="GitActionStart",s[s.GitActionInProgress=2]="GitActionInProgress",s[s.GitActionDone=3]="GitActionDone",s[s.GitSyncStart=4]="GitSyncStart",s[s.GitSyncInProgress=5]="GitSyncInProgress",s[s.GitSyncDone=6]="GitSyncDone",s}({}),bt=function(s){return s[s.None=0]="None",s[s.Commit=1]="Commit",s[s.Update=2]="Update",s[s.Undo=3]="Undo",s[s.CheckoutBranch=4]="CheckoutBranch",s[s.SwitchBranch=5]="SwitchBranch",s}({}),Ue=(0,X.H)({selectId:function(c){return c.workspaceId}}),ei=(0,C.pi)({},Ue.getInitialState()),Vr=(0,p.Lq)(ei,(0,p.on)(pe,function(s,c){return Ue.upsertOne({workspaceId:c.gitCommitState.workspaceId,activeFlowName:bt.Commit,progressState:We.GitActionStart,activeFlowState:c.isInitialSync?Be.CommitInitialFlowInProgress:Be.CommitFlowInProgress,isIntermidiateStep:!1},s)}),(0,p.on)(_e,function(s,c){var d=c.gitCommitState,m=s.entities[d.workspaceId];return m&&Bn(bt.Commit,m)?Ue.upsertOne((0,C.pi)((0,C.pi)({},m),{progressState:We.GitActionInProgress}),s):Ue.upsertOne({workspaceId:d.workspaceId,activeFlowName:bt.Commit,progressState:We.GitActionInProgress,activeFlowState:Be.CommitFlowInProgress,isIntermidiateStep:!1},s)}),(0,p.on)(Ke,function(s,c){var m=s.entities[c.gitCommitStateWithResponse.workspaceId];return m?Ue.upsertOne((0,C.pi)((0,C.pi)({},m),{progressState:We.GitActionDone}),s):s}),(0,p.on)(at,mt,function(s,c){var m=s.entities[c.gitCommitState.workspaceId];return m?Ue.upsertOne((0,C.pi)((0,C.pi)({},m),{activeFlowState:Be.None,progressState:We.None,isIntermidiateStep:!1}),s):s}),(0,p.on)(Dn,function(s,c){return Ue.upsertOne({workspaceId:c.gitUndoState.workspaceId,activeFlowName:bt.Undo,activeFlowState:Be.UndoFlowInProgress,isIntermidiateStep:!1,progressState:We.GitActionStart},s)}),(0,p.on)(qt,function(s,c){var d=c.gitUndoState,m=s.entities[d.workspaceId];return m&&Bn(bt.Undo,m)?Ue.upsertOne((0,C.pi)((0,C.pi)({},m),{progressState:We.GitActionInProgress}),s):Ue.upsertOne({workspaceId:d.workspaceId,activeFlowName:bt.Undo,progressState:We.GitActionInProgress,activeFlowState:Be.UndoFlowInProgress,isIntermidiateStep:!1},s)}),(0,p.on)(Jn,function(s,c){var m=s.entities[c.gitUndoStateWithResponse.workspaceId];return m?Ue.upsertOne((0,C.pi)((0,C.pi)({},m),{progressState:We.GitActionDone}),s):s}),(0,p.on)(an,He,function(s,c){var m=s.entities[c.gitUndoState.workspaceId];return m?Ue.upsertOne((0,C.pi)((0,C.pi)({},m),{activeFlowState:Be.None,progressState:We.None,isIntermidiateStep:!1}),s):s}),(0,p.on)(gt,function(s,c){return Ue.upsertOne({workspaceId:c.gitSwitchBranchState.workspaceId,activeFlowName:bt.SwitchBranch,activeFlowState:Be.SwitchBranchFlowInProgress,isIntermidiateStep:!1,progressState:We.GitActionStart},s)}),(0,p.on)(Rt,function(s,c){var d=c.gitSwitchBranchState,m=s.entities[d.workspaceId];return m&&Bn(bt.SwitchBranch,m)?Ue.upsertOne((0,C.pi)((0,C.pi)({},m),{progressState:We.GitActionInProgress}),s):Ue.upsertOne({workspaceId:d.workspaceId,activeFlowName:bt.SwitchBranch,progressState:We.GitActionInProgress,activeFlowState:Be.SwitchBranchFlowInProgress,isIntermidiateStep:!1},s)}),(0,p.on)(ht,function(s,c){var m=s.entities[c.gitSwitchBranchState.workspaceId];return m?Ue.upsertOne((0,C.pi)((0,C.pi)({},m),{progressState:We.GitActionDone}),s):s}),(0,p.on)(Mn,Zt,function(s,c){var m=s.entities[c.gitSwitchBranchState.workspaceId];return m?Ue.upsertOne((0,C.pi)((0,C.pi)({},m),{activeFlowState:Be.None,progressState:We.None,isIntermidiateStep:!1}),s):s}),(0,p.on)(hn,function(s,c){return Ue.upsertOne({workspaceId:c.gitUpdateState.workspaceId,activeFlowName:bt.Update,activeFlowState:c.isInitialSync?Be.UpdateInitialFlowInProgress:Be.UpdateFlowInProgress,isIntermidiateStep:!1,progressState:We.GitActionStart},s)}),(0,p.on)(fn,function(s,c){var d=c.gitUpdateState,m=s.entities[d.workspaceId];return m&&Bn(bt.Update,m)?Ue.upsertOne((0,C.pi)((0,C.pi)({},m),{progressState:We.GitActionInProgress}),s):Ue.upsertOne({workspaceId:d.workspaceId,activeFlowName:bt.Update,progressState:We.GitActionInProgress,activeFlowState:Be.UpdateFlowInProgress,isIntermidiateStep:!1},s)}),(0,p.on)($t,function(s,c){var m=s.entities[c.gitUpdateStateWithResponse.workspaceId];return m?Ue.upsertOne((0,C.pi)((0,C.pi)({},m),{progressState:We.GitActionDone}),s):s}),(0,p.on)(Qn,Yn,function(s,c){var m=s.entities[c.gitUpdateState.workspaceId];return m?Ue.upsertOne((0,C.pi)((0,C.pi)({},m),{activeFlowState:Be.None,progressState:We.None,isIntermidiateStep:!1}),s):s}),(0,p.on)(Z,M,h,function(s,c){var I=s.entities[c.workspaceId];return c.isTriggeredByGitAction&&I?.progressState===We.GitActionDone?Ue.upsertOne((0,C.pi)((0,C.pi)({},I),{isIntermidiateStep:!0,progressState:We.GitSyncStart}),s):s}),(0,p.on)(V,H,L,function(s,c){var m=s.entities[c.gitStatus.workspaceId];return m?.isIntermidiateStep&&m?.progressState===We.GitSyncStart?Ue.upsertOne((0,C.pi)((0,C.pi)({},m),{activeFlowState:Be.None,progressState:We.GitSyncDone,isIntermidiateStep:!1}),s):s}),(0,p.on)(e,w,q,function(s,c){var m=s.entities[c.workspaceId];return m?.isIntermidiateStep?Ue.upsertOne((0,C.pi)((0,C.pi)({},m),{progressState:We.None,isIntermidiateStep:!1}),s):s}),(0,p.on)(De,function(s,c){return Ue.upsertOne({workspaceId:c.gitCheckoutBranchState.workspaceId,activeFlowName:bt.CheckoutBranch,activeFlowState:Be.CheckoutBranchFlowInProgress,isIntermidiateStep:!1,progressState:We.GitActionStart},s)}),(0,p.on)(Ae,function(s,c){var m=s.entities[c.gitCheckoutBranchState.workspaceId];return m?Ue.upsertOne((0,C.pi)((0,C.pi)({},m),{progressState:We.GitActionDone}),s):s}),(0,p.on)(St,function(s,c){var m=s.entities[c.workspaceId];return m?Ue.upsertOne((0,C.pi)((0,C.pi)({},m),{activeFlowState:Be.None,progressState:We.None,isIntermidiateStep:!1}),s):s}));function Bn(s,c){return c.activeFlowName===s&&(c.progressState===We.GitActionStart||c.progressState===We.GitActionInProgress)}var Vt=(0,X.H)({selectId:function(c){return c.workspaceId}}),ti=(0,C.pi)({},Vt.getInitialState()),Hr=(0,p.Lq)(ti,(0,p.on)(gt,function(s,c){return Vt.upsertOne((0,C.pi)((0,C.pi)({},c.gitSwitchBranchState),{response:void 0,callState:Ge.InProgress}),s)}),(0,p.on)(Rt,function(s,c){return Vt.upsertOne((0,C.pi)((0,C.pi)({},c.gitSwitchBranchState),{callState:Ge.InProgress}),s)}),(0,p.on)(ht,function(s,c){var d=c.gitSwitchBranchState;return Vt.upsertOne((0,C.pi)((0,C.pi)({},d),{callState:Ge.Completed,response:d.response,notificationId:void 0}),s)}),(0,p.on)(Zt,function(s,c){return Vt.upsertOne((0,C.pi)((0,C.pi)({},c.gitSwitchBranchState),{callState:Ge.Completed,notificationId:void 0}),s)}),(0,p.on)(Mn,function(s,c){var m=c.error;return Vt.upsertOne((0,C.pi)((0,C.pi)({},c.gitSwitchBranchState),{callState:m,notificationId:void 0}),s)}),(0,p.on)(S,function(s,c){return Vt.removeOne(c.workspaceId,s)})),ni=(0,p.PH)("[GitSessionStorage] select Git provider type",(0,p.Ky)()),Me=(0,p.PH)("[GitSessionStorage] select datasource",(0,p.Ky)()),Ve=(0,p.PH)("[GitSessionStorage] select temp datasource",(0,p.Ky)()),wt=(0,p.PH)("[GitSessionStorage] set datasource url",(0,p.Ky)()),sn=(0,p.PH)("[GitSessionStorage] reset datasource url",(0,p.Ky)()),Tt=(0,p.PH)("[GitSessionStorage] select organization",(0,p.Ky)()),jt=(0,p.PH)("[GitSessionStorage] select repository",(0,p.Ky)()),je=(0,p.PH)("[GitSessionStorage] select branch",(0,p.Ky)()),Re=(0,p.PH)("[GitSessionStorage] select directory",(0,p.Ky)()),ii=(0,p.PH)("[GitSessionStorage] select userAccount",(0,p.Ky)()),Bt=(0,p.PH)("[GitSessionStorage] configure credentials",(0,p.Ky)()),Xi=(0,p.PH)("[GitSessionStorage] delete credentials",(0,p.Ky)()),Qi=(0,p.PH)("[GitSessionStorage] select workspace capacity",(0,p.Ky)()),Qe=(0,X.H)({selectId:function(c){return c.workspaceId}}),ri=(0,C.pi)({},Qe.getInitialState()),oi=(0,p.Lq)(ri,(0,p.on)(ni,function(s,c){return Qe.upsertOne({workspaceId:c.workspaceId,selectedGitProviderType:c.gitProviderType},s)}),(0,p.on)(Me,function(s,c){var d=c.workspaceId,m=c.datasourceOID,I=s.entities[d];return I&&I.selectedDatasourceOID===m?s:Qe.upsertOne({workspaceId:d,selectedDatasourceOID:m},s)}),(0,p.on)(Ve,function(s,c){return Qe.upsertOne({workspaceId:c.workspaceId,selectedTempDatasourceOID:c.datasourceOID},s)}),(0,p.on)(Tt,function(s,c){var m=c.organization;return Qe.upsertOne({workspaceId:c.workspaceId,selectedOrganization:m?{name:m,setByDatasource:!1}:void 0},s)}),(0,p.on)(jt,function(s,c){var m=c.repository;return Qe.upsertOne({workspaceId:c.workspaceId,selectedRepository:m?{name:m,setByDatasource:!1}:void 0},s)}),(0,p.on)(je,function(s,c){return Qe.upsertOne({workspaceId:c.workspaceId,selectedBranch:c.branch},s)}),(0,p.on)(Re,function(s,c){return Qe.upsertOne({workspaceId:c.workspaceId,selectedDirectory:c.directory},s)}),(0,p.on)(wt,function(s,c){return Qe.upsertOne({workspaceId:c.workspaceId,selectedOrganization:{name:c.organization,setByDatasource:!0},selectedRepository:{name:c.repository,setByDatasource:!0}},s)}),(0,p.on)(sn,function(s,c){return Qe.upsertOne({workspaceId:c.workspaceId,selectedOrganization:void 0,selectedRepository:void 0},s)}),(0,p.on)(ii,function(s,c){return Qe.upsertOne({workspaceId:c.workspaceId,selectedUserAccount:c.userAccount},s)}),(0,p.on)(Bt,function(s,c){return Qe.upsertOne({workspaceId:c.workspaceId,isConfigured:!0},s)}),(0,p.on)(Xi,function(s,c){return Qe.updateOne({id:c.workspaceId,changes:{selectedUserAccount:void 0,isConfigured:!1}},s)}),(0,p.on)(J,function(s,c){var d,m,I,P=c.gitConnection;return Qe.upsertOne({workspaceId:P.workspaceId,selectedGitProviderType:null===(d=P.gitConnectionDetails)||void 0===d?void 0:d.gitProviderType,selectedDatasourceOID:null===(m=P.gitConnectionDetails)||void 0===m?void 0:m.datasourceOID,isConfigured:void 0!==(null===(I=P.gitConnectionDetails)||void 0===I?void 0:I.datasourceOID)},s)}),(0,p.on)(D,function(s,c){return Qe.updateOne({id:c.workspaceId,changes:{selectedBranch:void 0,selectedDatasourceOID:void 0,selectedTempDatasourceOID:void 0,selectedGitProviderType:void 0,selectedDirectory:void 0,selectedOrganization:void 0,selectedRepository:void 0,selectedUserAccount:void 0,isConfigured:void 0}},s)}),(0,p.on)(Qi,function(s,c){return Qe.upsertOne({workspaceId:c.workspaceId,isWorkspaceOnCapaity:c.isWorkspaceOnCapacity},s)})),Gt=(0,X.H)({selectId:function(c){return c.workspaceId}}),Sn=(0,C.pi)({},Gt.getInitialState()),Qr=(0,p.Lq)(Sn,(0,p.on)(Pn,function(s,c){return Gt.upsertOne((0,C.pi)((0,C.pi)({},c.gitBranchOutState),{response:void 0,callState:Ye.InProgress}),s)}),(0,p.on)(nn,function(s,c){var d=c.gitBranchOutState;return Gt.upsertOne((0,C.pi)((0,C.pi)({},d),{callState:Ye.InProgress,response:d.response}),s)}),(0,p.on)(Tn,function(s,c){var d=c.gitBranchOutState;return Gt.upsertOne((0,C.pi)((0,C.pi)({},d),{callState:Ye.InProgress,response:d.response}),s)}),(0,p.on)(Xn,function(s,c){var d=c.gitBranchOutState;return Gt.upsertOne((0,C.pi)((0,C.pi)({},d),{callState:Ye.Completed,response:d.response}),s)}),(0,p.on)(On,function(s,c){var d=c.gitBranchOutState;return Gt.upsertOne((0,C.pi)((0,C.pi)({},d),{callState:Ye.Completed,response:d.response}),s)}),(0,p.on)(_n,function(s,c){var m=c.error;return Gt.upsertOne((0,C.pi)((0,C.pi)({},c.gitBranchOutState),{callState:m}),s)}),(0,p.on)(rn,function(s,c){return Gt.removeOne(c.gitBranchOutState.workspaceId,s)})),yn=(0,p.PH)("[GitDatasources] Load Datasources",(0,p.Ky)()),Yi=(0,p.PH)("[GitDatasources] Load Datasources Success",(0,p.Ky)()),it=(0,p.PH)("[GitDatasources] Load Datasources Failure",(0,p.Ky)()),xt=(0,p.PH)("[GitDatasources] Create Datasource",(0,p.Ky)()),Yr=(0,p.PH)("[GitDatasources] Create Datasource Success",(0,p.Ky)()),si=(0,p.PH)("[GitDatasources] Create Datasource Failure",(0,p.Ky)()),cn=(0,X.H)({selectId:function(c){return c.workspaceId}}),ci=(0,C.pi)({},cn.getInitialState()),Zr=(0,p.Lq)(ci,(0,p.on)(yn,function(s,c){return cn.upsertOne({workspaceId:c.gitDatasourceRequest.workspaceId,callState:nt.InProgress},s)}),(0,p.on)(Yi,function(s,c){return cn.upsertOne((0,C.pi)((0,C.pi)({},c.gitDatasourcesState),{callState:nt.Completed}),s)}),(0,p.on)(it,si,function(s,c){return cn.updateOne({id:c.workspaceId,changes:{callState:c.error}},s)}),(0,p.on)(xt,function(s,c){return cn.upsertOne({workspaceId:c.request.workspaceId,callState:nt.InProgress},s)})),di=(0,p.PH)("[GitRepairItems] Repair Items in Git",(0,p.Ky)()),Zi=(0,p.PH)("[GitRepairItems] Repair Items in Git inProgress",(0,p.Ky)()),Ji=(0,p.PH)("[GitRepairItems] Repair Items in Git success",(0,p.Ky)()),qi=(0,p.PH)("[GitRepairItems] Repair Items in Git failure ",(0,p.Ky)()),bn=(0,X.H)({selectId:function(c){return c.workspaceId}}),pi=(0,C.pi)({},bn.getInitialState()),Jr=(0,p.Lq)(pi,(0,p.on)(di,Zi,function(s,c){return bn.upsertOne((0,C.pi)((0,C.pi)({},c.gitRepairState),{callState:qe.InProgress}),s)}),(0,p.on)(Ji,function(s,c){var d=c.gitRepairStateWithResponse;return bn.upsertOne((0,C.pi)((0,C.pi)({},d),{response:d.response,callState:qe.Completed}),s)}),(0,p.on)(qi,function(s,c){var m=c.error;return bn.upsertOne((0,C.pi)((0,C.pi)({},c.gitRepairState),{callState:m,notificationId:void 0}),s)})),eo={gitStatus:function(s,c){return y(s,c)},gitConnection:function(s,c){return En(s,c)},gitCommit:function(s,c){return vn(s,c)},gitUpdate:function(s,c){return $e(s,c)},gitInitialization:function(s,c){return Wr(s,c)},gitSync:function(s,c){return ye(s,c)},gitUndo:function(s,c){return $r(s,c)},gitProgressIndicator:function(s,c){return Vr(s,c)},gitSwitchBranch:function(s,c){return Hr(s,c)},gitSessionStorage:function(s,c){return oi(s,c)},gitBranchOut:function(s,c){return Qr(s,c)},gitDatasources:function(s,c){return Zr(s,c)},gitRepair:function(s,c){return Jr(s,c)}},kt=(0,p.ZF)("git"),Ne=u(11547),Ce=u(14172),Oe=u(81905),lt=u(59822),ln=u(67758),Ot=u(65232),to=u(12315),no=function(s){return s[s.SingleCall=0]="SingleCall",s[s.SeparateCalls=1]="SeparateCalls",s}({});function io(s){var c=to.RG,d=c.includes(s);if(d)return s;if(!d){var m=c.findIndex(function(I){return s.toLowerCase()===I.toLowerCase()});if(m>=0)return c[m]}throw Error("Invalid ArtifactType: "+s)}function ro(s,c){return{artifact:(0,C.pi)((0,C.pi)({},s.artifact),{artifactType:c.getFrontendArtifactType(s.artifact.artifactType)}),remoteChange:{displayName:s.artifact.displayName,changeType:s.gitChangeType},syncStatus:0}}function tr(s,c){var d=c.getFrontendArtifactType(s.artifact.artifactType);return{artifact:(0,C.pi)((0,C.pi)({},s.artifact),{artifactType:io(d)}),workspaceChange:{displayName:s.artifact.displayName,changeType:s.gitChangeType},syncStatus:0}}function ui(s,c,d,m){return{workspaceId:s,head:c,gitChanges:d,incomingChangesCommitHash:m||void 0}}var x=u(50423),co=function(){function s(c,d,m,I){var P=this;this.actions$=c,this.gitStatusClient=d,this.gitErrorService=m,this.extensionManifestService=I,this.loadUncommittedChanges$=(0,g.GW)(function(){return P.actions$.pipe((0,g.l4)(M),(0,Ce.U)(function(A){return A.workspaceId}),(0,Oe.w)(function(A){return P.gitStatusClient.getUncommittedChanges(A).pipe((0,Ce.U)(function(R){return P.updateGitStatusWithUncommittedChanges(A,R)}),(0,Ce.U)(function(R){return V({gitStatus:R})}),(0,lt.K)(function(R){var G=P.gitErrorService.makeGitErrorFromHttpResponse("Git_Status_Failed",R);return(0,Ne.of)(e({workspaceId:A,error:G}))}))}))}),this.loadIncomingChanges$=(0,g.GW)(function(){return P.actions$.pipe((0,g.l4)(Z),(0,Ce.U)(function(A){return A.workspaceId}),(0,Oe.w)(function(A){return P.gitStatusClient.getIncomingChanges(A).pipe((0,Ce.U)(function(R){return P.updateGitStatusWithIncomingChanges(A,R)}),(0,Ce.U)(function(R){return H({gitStatus:R})}),(0,lt.K)(function(R){var G=P.gitErrorService.makeGitErrorFromHttpResponse("Git_Status_Failed",R);return(0,Ne.of)(w({workspaceId:A,error:G}))}))}))}),this.loadGitStatus$=(0,g.GW)(function(){return P.actions$.pipe((0,g.l4)(h),(0,Ce.U)(function(A){return A.workspaceId}),(0,Oe.w)(function(A){return P.gitStatusClient.getGitStatus(A).pipe((0,Ce.U)(function(R){return P.gitStatusContractToModel(A,R)}),(0,Ce.U)(function(R){return L({gitStatus:R})}),(0,lt.K)(function(R){var G=P.gitErrorService.makeGitErrorFromHttpResponse("Git_Status_Failed",R);return(0,Ne.of)(q({workspaceId:A,error:G}))}))}))})}return s.prototype.updateGitStatusWithIncomingChanges=function(c,d){var m=function(s,c){for(var d=[],m=0,I=s.changes;m<I.length;m++)d.push(ro(I[m],c));return d}(d,this.extensionManifestService);return ui(c,d.head,m,d.targetCommit.commitId)},s.prototype.updateGitStatusWithUncommittedChanges=function(c,d){var m=function(s,c){for(var d=[],m=0,I=s.changes;m<I.length;m++)d.push(tr(I[m],c));return d}(d,this.extensionManifestService);return ui(c,d.head,m)},s.prototype.gitStatusContractToModel=function(c,d){var m,I=function(s,c){var d=[];if(null==s.changes)return d;for(var m=0,I=s.changes;m<I.length;m++){var P=I[m],A=P;A.artifact.artifactType=c.getFrontendArtifactType(P.artifact.artifactType),d.push(A)}return d}(d,this.extensionManifestService);return ui(c,d.head,I,null===(m=d.targetCommit)||void 0===m?void 0:m.commitId)},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(g.eX),x.\u0275\u0275inject(oe.mK),x.\u0275\u0275inject(Ot.jR),x.\u0275\u0275inject(ln.vC))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),nr=u(37272),Wt=u(12385),wn=u(94771),ir=(0,p.P1)(kt,function(s){return s?.gitConnection||on}),rr=et.getSelectors(),lo=rr.selectAll,po=rr.selectEntities,ar=((0,p.P1)(ir,function(s){return lo(s)}),(0,p.P1)(ir,function(s){return po(s)})),gi=function(c){return(0,p.P1)(ar,function(d){return d[c]})};function kn(s,c,d){return d?[h({workspaceId:s,isTriggeredByGitAction:c})]:[Z({workspaceId:s,isTriggeredByGitAction:c}),M({workspaceId:s,isTriggeredByGitAction:c})]}var uo=function(){function s(c,d,m,I,P,A,R){var G=this;this.actions$=c,this.gitConnectionDetailsClient=d,this.gitErrorService=m,this.gitNotificationService=I,this.extensionManifestService=P,this.store=A,this.featureSwitchService=R,this.ensureGitConnection$=(0,g.GW)(function(){return G.actions$.pipe((0,g.l4)(Ie),(0,Ce.U)(function($){return $.workspaceId}),(0,g.IC)(function($){return G.store.select(gi($))}),(0,Oe.w)(function($){var K=$[0],Y=$[1];return Y?.gitConnectionDetails&&Y.callState===he.Completed||!Y?.gitConnectionDetails&&(0,E.pb)(Y?.callState)?nr.E:(0,Ne.of)(j({workspaceId:K}))}))}),this.loadGitConnection$=(0,g.GW)(function(){return G.actions$.pipe((0,g.l4)(j),(0,Ce.U)(function($){return $.workspaceId}),(0,Oe.w)(function($){return G.gitConnectionDetailsClient.getGitConnectionDetails($).pipe((0,Ce.U)(function(K){return G.gitConnectionContractToModel($,K)}),(0,Ce.U)(function(K){return J({gitConnection:K})}),(0,lt.K)(function(K){var Y=G.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",K);return(0,Ne.of)(fe({workspaceId:$,error:Y}))}))}))}),this.saveGitConnection$=(0,g.GW)(function(){return G.actions$.pipe((0,g.l4)(Te),(0,Ce.U)(function($){return $.gitConnection}),(0,Oe.w)(function($){if(!$.gitConnectionDetails){var K=G.gitErrorService.makeClientSideGitError("Git_Invalid_Connection_Details");return G.gitNotificationService.showErrorNotification(K,"Trident_Git_Error_Git_Invalid_Connection_Details_Title"),(0,Ne.of)(ct({gitConnection:$,error:K}))}var Y=G.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Connect_Loading");return G.gitConnectionDetailsClient.setGitConnectionDetails($.workspaceId,$.gitConnectionDetails).pipe((0,Ce.U)(function(){return G.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Connect_Success",Y),Pe({gitConnection:$})}),(0,lt.K)(function(ae){var we=G.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",ae);return(0,E.yG)(we)?G.gitNotificationService.hideCurrentNotification():G.gitNotificationService.showErrorNotification(we,"Trident_Git_Error_Git_Invalid_Connection_Details_Title",Y),(0,Ne.of)(ct({gitConnection:$,error:we}))}))}))}),this.gitCheckoutBranch$=(0,g.GW)(function(){return G.actions$.pipe((0,g.l4)(De),(0,Ce.U)(function($){return $.gitCheckoutBranchState}),(0,Oe.w)(function($){return G.gitConnectionDetailsClient.checkoutBranch($.workspaceId,$.request).pipe((0,Oe.w)(function(){var K;return G.gitNotificationService.showSuccessNotification("Trident_Git_Toast_CheckoutBranch_Success"),(0,C.ev)([Ae({gitCheckoutBranchState:$}),dt({workspaceId:$.workspaceId})],kn($.workspaceId,!0,null!==(K=G.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==K&&K),!0)}),(0,lt.K)(function(K){var Y=G.gitErrorService.makeGitErrorFromHttpResponse("Git_Checkout_Branch_Failed",K);return(0,E.xT)(Y,"Git_BranchNameAlreadyExists")||G.gitNotificationService.showErrorNotification(Y,"Trident_Git_Error_Git_Checkout_Branch_Failed_Title"),(0,Ne.of)(St({workspaceId:$.workspaceId,error:Y}))}))}))}),this.deleteGitConnection$=(0,g.GW)(function(){return G.actions$.pipe((0,g.l4)(Ct),(0,Ce.U)(function($){return $.workspaceId}),(0,Oe.w)(function($){var K=G.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Disconnect_Loading_Title","Trident_Git_Toast_Disconnect_Loading_Message");return G.gitConnectionDetailsClient.deleteGitConnectionDetails($).pipe((0,Oe.w)(function(){return G.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Disconnect_Success",K),[D({workspaceId:$}),S({workspaceId:$}),Ze({workspaceId:$}),F({workspaceId:$})]}),(0,lt.K)(function(Y){var ae=G.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",Y);return G.gitNotificationService.showErrorNotification(ae,"Trident_Git_Error_Git_Disconnect_Failed_Title",K),(0,Ne.of)(de({workspaceId:$,error:ae}))}))}))})}return s.prototype.gitConnectionContractToModel=function(c,d){var we=d.datasourceOID;return{workspaceId:c,gitConnectionDetails:{gitProviderType:d.gitProviderType,organizationName:d.organizationName,projectName:d.projectName,repositoryName:d.repositoryName,branchName:d.branchName,rootDirectory:d.rootDirectory,head:d.head,isInitialized:!!d.isInitialized,lastSyncTime:d.lastSyncTime,supportedArtifactTypeNames:this.ConvertArtifactNamesBackendToFrontEnd(d.supportedArtifactTypeNames),datasourceOID:we}}},s.prototype.ConvertArtifactNamesBackendToFrontEnd=function(c){var d=this;if(c)return c.map(function(m){return d.extensionManifestService.getFrontendArtifactType(m)})},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(g.eX),x.\u0275\u0275inject(oe.i),x.\u0275\u0275inject(Ot.jR),x.\u0275\u0275inject(Wt.mn),x.\u0275\u0275inject(ln.vC),x.\u0275\u0275inject(p.yh),x.\u0275\u0275inject(wn.V$))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),go=u(59017),dn=u(59973),pt=u(48787),be=(0,p.P1)(kt,function(s){return s?.gitStatus||Se}),In=Ee.getSelectors(),ge=In.selectAll,sr=In.selectEntities,vt=((0,p.P1)(be,function(s){return ge(s)}),(0,p.P1)(be,function(s){return sr(s)})),It=function(c){return(0,p.P1)(vt,function(d){return d[c]})},Ht=function(){function s(c){this.store=c}return s.prototype.getGitStatus=function(c){return this.store.select(It(c))},s.prototype.loadGitStatus=function(c){return this.store.dispatch(h({workspaceId:c})),this.getGitStatus(c)},s.prototype.getStatusLoadingState=function(c){return this.store.select(It(c)).pipe((0,Ce.U)(function(d){var m;return null!==(m=d?.statusCallState)&&void 0!==m?m:Q.Initial}))},s.prototype.getAllChanges=function(c){return this.getGitStatus(c).pipe((0,Ce.U)(function(d){var m;return null!==(m=d?.gitChanges)&&void 0!==m?m:[]}))},s.prototype.getUncommittedChanges=function(c){return this.getGitStatus(c).pipe((0,Ce.U)(function(d){var m,I;return null!==(I=null===(m=d?.gitChanges)||void 0===m?void 0:m.filter(function(P){return P.workspaceChange}))&&void 0!==I?I:[]}))},s.prototype.loadUncommittedChanges=function(c){return this.store.dispatch(M({workspaceId:c})),this.getUncommittedChanges(c)},s.prototype.getUncommittedChangesLoadingState=function(c){return this.store.select(It(c)).pipe((0,Ce.U)(function(d){return d&&d.uncommittedChangesCallState||Q.Initial}))},s.prototype.getUncommittedArtifactsSelectionState=function(c){return this.store.select(It(c)).pipe((0,Ce.U)(function(d){return d&&d.uncommittedChangesArtifactSelectionState||{selectedArtifacts:[]}}))},s.prototype.setChangesArtifactSelection=function(c,d,m,I){this.store.dispatch(ve({workspaceId:c,artifactId:d,logicalId:m,isChecked:I}))},s.prototype.clearChangesArtifactSelection=function(c){this.store.dispatch(U({workspaceId:c}))},s.prototype.getIncomingChanges=function(c){return this.getGitStatus(c).pipe((0,Ce.U)(function(d){var m,I;return null!==(I=null===(m=d?.gitChanges)||void 0===m?void 0:m.filter(function(P){return P.remoteChange}))&&void 0!==I?I:[]}))},s.prototype.loadIncomingChanges=function(c){return this.store.dispatch(Z({workspaceId:c})),this.getIncomingChanges(c)},s.prototype.getIncomingChangesLoadingState=function(c){return this.store.select(It(c)).pipe((0,Ce.U)(function(d){return d&&d.incomingChangesCallState||Q.Initial}))},s.prototype.getIncomingChangesCommitId=function(c){return this.store.select(It(c)).pipe((0,Ce.U)(function(d){return d?.incomingChangesCommitHash}))},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(p.yh))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}(),tn=(0,p.P1)(kt,function(s){return s?.gitCommit||Ft}),cr=Xe.getSelectors(),mo=cr.selectAll,_o=cr.selectEntities,vo=((0,p.P1)(tn,function(s){return mo(s)}),(0,p.P1)(tn,function(s){return _o(s)})),fo=function(){function s(c,d,m,I,P,A,R,G){var $=this;this.actions$=c,this.gitCommitClient=d,this.gitErrorService=m,this.gitNotificationService=I,this.extensionManifestService=P,this.gitStatusFacade=A,this.store=R,this.featureSwitchService=G,this.commitToGit$=(0,g.GW)(function(){return $.actions$.pipe((0,g.l4)(pe),(0,Ce.U)(function(K){var Y=K.gitCommitState,ae=K.isInitialSync,we=$.gitNotificationService.showLoadingNotification(ae?"Trident_Git_Toast_Initial_Commit_Loading":"Trident_Git_Toast_Commit_Loading_Title",ae?void 0:"Trident_Git_Toast_Commit_Loading_Message");return(0,C.pi)((0,C.pi)({},Y),{isInitialSync:ae,notificationId:we})}),(0,Oe.w)(function(K){return(0,go.aj)([$.gitCommitClient.commitArtifacts(K.workspaceId,$.fromGitCommitContractToGitCommitRequest(K.request))]).pipe((0,Oe.w)(function(Y){var ae=Y[0],we=(0,C.pi)((0,C.pi)({},K),{response:{almAction:ae.almOperation,responseDate:ae.responseDate}});return[_e({gitCommitState:we})]}),(0,lt.K)(function(Y){var ae=$.gitErrorService.makeGitErrorFromHttpResponse(" Git_Commit_Invalid_Request",Y);return K?.notificationId&&($.gitNotificationService.showErrorNotification(ae,"Trident_Git_Error_Unable_To_Commit_Title",K.notificationId),$.gitErrorService.showErrorHandlingDialog(ae)),(0,Ne.of)(at({gitCommitState:K,error:ae}))}))}))}),this.getLatestGitAlmOperationSuccess$=(0,g.GW)(function(){return $.actions$.pipe((0,g.l4)(ot),(0,Ce.U)(function(K){return K.gitSyncState}),(0,dn.h)(function(K){return $.isLatestOpValid(K)}),(0,Oe.w)(function(K){return $.store.select(function(c){return(0,p.P1)(vo,function(d){return d[c]})}(K.workspaceId)).pipe((0,pt.q)(1),(0,Oe.w)(function(Y){return $.getActions(K,Y)}))}))})}return s.prototype.isLatestOpValid=function(c){return!!c?.isValid&&c.gitOperationType===E.u9.Commit},s.prototype.getActions=function(c,d){var m,I=d&&d.workspaceId===c.workspaceId?{workspaceId:d.workspaceId,request:d.request,response:d?.response,isInitialSync:d?.isInitialSync,notificationId:d?.notificationId}:{workspaceId:c.workspaceId,request:void 0};switch(c.gitOperationStatus){case E.wM.Successful:return d?.notificationId&&this.gitNotificationService.showSuccessNotification(d?.isInitialSync?"Trident_Git_Toast_Initial_Action_Success":"Trident_Git_Toast_Commit_Success",d.notificationId),this.gitStatusFacade.clearChangesArtifactSelection(I.workspaceId),(0,C.ev)((0,C.ev)([Ke({gitCommitStateWithResponse:I})],kn(I.workspaceId,!0,null!==(m=this.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==m&&m),!0),[Ze({workspaceId:I.workspaceId})],!1);case E.wM.InProgress:return[_e({gitCommitState:I})];case E.wM.Failed:var P=this.gitErrorService.handleAlmGitError("AlmOperationFailed_CommitToGit",c);return d?.notificationId&&(this.gitNotificationService.showErrorNotification(P,"Trident_Git_Error_Unable_To_Commit_Title",d.notificationId),this.gitErrorService.showErrorHandlingDialog(P)),[mt({gitCommitState:I}),Ze({workspaceId:I.workspaceId})]}return[_e({gitCommitState:I})]},s.prototype.fromGitCommitContractToGitCommitRequest=function(c){var d=this;return{artifacts:c.artifacts.map(function(I){return d.fromGitArtifactChangeToArtifactSelector(I)}),workspaceHead:c.workspaceHead,comment:c.comment}},s.prototype.fromGitArtifactChangeToArtifactSelector=function(c){var d=c.artifact;return{artifactType:this.extensionManifestService.getBackendArtifactType(d.artifactType),etag:d.etag,objectId:d.objectId,logicalId:d.logicalId,changeType:c.workspaceChange.changeType}},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(g.eX),x.\u0275\u0275inject(oe.ce),x.\u0275\u0275inject(Ot.jR),x.\u0275\u0275inject(Wt.mn),x.\u0275\u0275inject(ln.vC),x.\u0275\u0275inject(Ht),x.\u0275\u0275inject(p.yh),x.\u0275\u0275inject(wn.V$))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),Co=u(32980),lr=(u(17177),u(51897),u(14977),u(95228),u(32293)),yo=u(41838),pn=function(s){return s[s.CommitToGit=100]="CommitToGit",s[s.UpdateFromGit=101]="UpdateFromGit",s[s.InitializeWorkspaceGitConnection=102]="InitializeWorkspaceGitConnection",s[s.Undo=103]="Undo",s[s.CheckoutBranch=104]="CheckoutBranch",s[s.SwitchBranch=105]="SwitchBranch",s}({}),mi=function(s){return s[s.NonFinalBase=0]="NonFinalBase",s[s.FinalBase=1001]="FinalBase",s[s.FinalSuccessBase=1001]="FinalSuccessBase",s[s.FinalErrorBase=2001]="FinalErrorBase",s[s.Created=0]="Created",s[s.Approval_Pending=10]="Approval_Pending",s[s.Execution_Pending=20]="Execution_Pending",s[s.Executing_Running=30]="Executing_Running",s[s.Succeeded=1001]="Succeeded",s[s.SucceededWithWarning_RefreshSkipped=1011]="SucceededWithWarning_RefreshSkipped",s[s.SucceededWithWarning_MissingCredentials=1012]="SucceededWithWarning_MissingCredentials",s[s.Failed_GenericError=2001]="Failed_GenericError",s[s.Failed_GenericDryRunError=2006]="Failed_GenericDryRunError",s[s.Approval_Abandoned=2011]="Approval_Abandoned",s[s.Approval_Rejected=2012]="Approval_Rejected",s[s.Execution_Cancelled=2021]="Execution_Cancelled",s[s.Execution_UnsupportedOperationType=2031]="Execution_UnsupportedOperationType",s[s.Execution_UnsupportedStepType=2032]="Execution_UnsupportedStepType",s[s.Execution_NoSteps=2033]="Execution_NoSteps",s}({}),bo=function(s){return s[s.SingleOption=0]="SingleOption",s[s.None=1]="None",s}({}),zn=u(77476),wo=u(95825),ko=u(74913),Io=u(64266),xo=u(94243),Mo=u(10965),Po=u(37350),To=u(89330),Oo=u(55334);function Eo(s,c){1&s&&x.\u0275\u0275element(0,"tri-svg-icon",16)}function Do(s,c){if(1&s&&(x.\u0275\u0275elementStart(0,"tri-pivot-item",11)(1,"span",12),x.\u0275\u0275template(2,Eo,1,0,"tri-svg-icon",13),x.\u0275\u0275elementEnd(),x.\u0275\u0275element(3,"tri-svg-icon",14),x.\u0275\u0275elementStart(4,"span",15),x.\u0275\u0275text(5),x.\u0275\u0275elementEnd()()),2&s){var I,P,d=c.$implicit,m=x.\u0275\u0275nextContext();x.\u0275\u0275property("value",d),x.\u0275\u0275advance(2),x.\u0275\u0275property("ngIf",m.isArtifactOptionSelected(d)),x.\u0275\u0275advance(1),x.\u0275\u0275property("sprite",null==(I=m.localGetArtifactIconFromDict(m.getArtifactType(d)))?null:I.sprite)("name",null==(P=m.localGetArtifactIconFromDict(m.getArtifactType(d)))?null:P.name),x.\u0275\u0275advance(1),x.\u0275\u0275attribute("aria-label",null==d.failedArtifactMetadata?null:d.failedArtifactMetadata.artifactDisplayName),x.\u0275\u0275advance(1),x.\u0275\u0275textInterpolate1(" ",null==d.failedArtifactMetadata?null:d.failedArtifactMetadata.artifactDisplayName," ")}}function Bo(s,c){if(1&s){var d=x.\u0275\u0275getCurrentView();x.\u0275\u0275elementContainerStart(0,19),x.\u0275\u0275elementStart(1,"tri-checkbox",20),x.\u0275\u0275listener("onChange",function(){x.\u0275\u0275restoreView(d);var P=x.\u0275\u0275nextContext(2);return x.\u0275\u0275resetView(P.checkBoxSelectionChanged(P.getSingleOption(P.displayError)))}),x.\u0275\u0275text(2),x.\u0275\u0275pipe(3,"localize"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementContainerEnd()}if(2&s){var m=x.\u0275\u0275nextContext(2);x.\u0275\u0275advance(1),x.\u0275\u0275property("checked",m.isArtifactOptionSelected(m.displayError)),x.\u0275\u0275advance(1),x.\u0275\u0275textInterpolate1(" ",x.\u0275\u0275pipeBind1(3,2,m.getSingleOptionMessageKey(m.displayError))," ")}}function Go(s,c){if(1&s){var d=x.\u0275\u0275getCurrentView();x.\u0275\u0275elementStart(0,"tri-radio-button",22),x.\u0275\u0275listener("change",function(){var R=x.\u0275\u0275restoreView(d).$implicit,G=x.\u0275\u0275nextContext(3);return x.\u0275\u0275resetView(G.radioButtonSelectionChanged(R))}),x.\u0275\u0275text(1),x.\u0275\u0275pipe(2,"localize"),x.\u0275\u0275elementEnd()}if(2&s){var m=c.$implicit,I=x.\u0275\u0275nextContext(3);x.\u0275\u0275property("value",m.OptionKey)("checked",I.isArtifactOptionSelected(I.displayError,m)),x.\u0275\u0275attribute("role","radio"),x.\u0275\u0275advance(1),x.\u0275\u0275textInterpolate1(" ",x.\u0275\u0275pipeBind1(2,4,m.OptionMessageKey)," ")}}function zo(s,c){if(1&s&&(x.\u0275\u0275elementStart(0,"tri-radio-group"),x.\u0275\u0275template(1,Go,3,6,"tri-radio-button",21),x.\u0275\u0275elementEnd()),2&s){var d=x.\u0275\u0275nextContext(2);x.\u0275\u0275advance(1),x.\u0275\u0275property("ngForOf",null==d.displayError.interactiveOperationInfo?null:d.displayError.interactiveOperationInfo.options)}}function Ao(s,c){if(1&s&&(x.\u0275\u0275elementContainerStart(0),x.\u0275\u0275template(1,Bo,4,4,"ng-container",17),x.\u0275\u0275template(2,zo,2,1,"ng-template",null,18,x.\u0275\u0275templateRefExtractor),x.\u0275\u0275elementContainerEnd()),2&s){var d=x.\u0275\u0275reference(3),m=x.\u0275\u0275nextContext();x.\u0275\u0275advance(1),x.\u0275\u0275property("ngIf",1===m.displayErrorOptionsListSize)("ngIfElse",d)}}var Ro=function(){function s(c,d,m){var I,P;this.extensionManifestService=c,this.dialogRef=d,this.data=m,this.localGetArtifactIconFromDict=yo.zp,this.enabledOptions=new Map,this.displayError=(0,E.lz)(this.data.errors),this.displayErrorOptionsListSize=null!==(P=null===(I=this.displayError.interactiveOperationInfo)||void 0===I?void 0:I.options.length)&&void 0!==P?P:0,this.InteractionType=bo}return s.prototype.buttonClicked=function(c){if(c===this.data.buttons[0].name)return this.dialogRef.close(this.getInteractiveOperationsOptions(this.enabledOptions));this.dialogRef.close()},s.prototype.getInteractiveOperationsOptions=function(c){var d=[];return c.forEach(function(m,I){d.push({artifactLogicalId:I,optionName:m})}),{optionPerArtifactList:d}},s.prototype.convertDialogData=function(c){return{title:c.title,buttons:c.buttons}},s.prototype.onArtifactSelectionChange=function(c){var d,m;this.displayError=c,this.displayErrorOptionsListSize=null!==(m=null===(d=this.displayError.interactiveOperationInfo)||void 0===d?void 0:d.options.length)&&void 0!==m?m:0},s.prototype.radioButtonSelectionChanged=function(c){var d;this.enabledOptions.set(null===(d=this.displayError.failedArtifactMetadata)||void 0===d?void 0:d.artifactLogicalId,c.OptionKey),this.data.buttons[0].disabled=this.enabledOptions.size!==this.data.errors.errorsDetails.length},s.prototype.checkBoxSelectionChanged=function(c){var d,m,I;this.enabledOptions.has(null===(d=this.displayError.failedArtifactMetadata)||void 0===d?void 0:d.artifactLogicalId)?this.enabledOptions.delete(null===(m=this.displayError.failedArtifactMetadata)||void 0===m?void 0:m.artifactLogicalId):this.enabledOptions.set(null===(I=this.displayError.failedArtifactMetadata)||void 0===I?void 0:I.artifactLogicalId,c.OptionKey),this.data.buttons[0].disabled=this.enabledOptions.size!==this.data.errors.errorsDetails.length},s.prototype.getOptionsListSize=function(c){var d,m;return null!==(m=null===(d=c.interactiveOperationInfo)||void 0===d?void 0:d.options.length)&&void 0!==m?m:0},s.prototype.getSingleOption=function(c){var d;return null===(d=c.interactiveOperationInfo)||void 0===d?void 0:d.options[0]},s.prototype.getSingleOptionMessageKey=function(c){var d;return null===(d=c.interactiveOperationInfo)||void 0===d?void 0:d.options[0].OptionMessageKey},s.prototype.isArtifactOptionSelected=function(c,d){var m,I=null===(m=c.failedArtifactMetadata)||void 0===m?void 0:m.artifactLogicalId;return d?this.enabledOptions.has(I)&&this.enabledOptions.get(I)===d.OptionKey:this.enabledOptions.has(I)},s.prototype.getArtifactType=function(c){var d;return this.extensionManifestService.getFrontendArtifactType(null===(d=c.failedArtifactMetadata)||void 0===d?void 0:d.artifactType)},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275directiveInject(ln.vC),x.\u0275\u0275directiveInject(lr.so),x.\u0275\u0275directiveInject(lr.WI))},s.\u0275cmp=x.\u0275\u0275defineComponent({type:s,selectors:[["interactive-operations-dialog"]],decls:14,vars:11,consts:[[3,"dialogData","closeButtonLabel","buttonClickEvent"],[1,"subtitle"],[1,"content"],[1,"artifacts"],["linkFormat","tab","direction","vertical",3,"selectedValue","selectedValueChange"],["class","artifact-details",3,"value",4,"ngFor","ngForOf"],[1,"divider"],[1,"options"],["tabindex","0",1,"message"],[1,"options-list-container",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"artifact-details",3,"value"],[1,"check-mark-icon"],["sprite","fluentui-icons","name","checkmark_12_filled",4,"ngIf"],["tri-svg-icon-22","",1,"artifact-icon",3,"sprite","name"],[1,"trimmedTextWithEllipsis"],["sprite","fluentui-icons","name","checkmark_12_filled"],["class","single-option",4,"ngIf","ngIfElse"],["multiOptions",""],[1,"single-option"],["ng-non-bindable","",3,"checked","onChange"],["ng-non-bindable","",3,"value","checked","change",4,"ngFor","ngForOf"],["ng-non-bindable","",3,"value","checked","change"]],template:function(d,m){1&d&&(x.\u0275\u0275elementStart(0,"trident-dialog",0),x.\u0275\u0275listener("buttonClickEvent",function(P){return m.buttonClicked(P)}),x.\u0275\u0275pipe(1,"localize"),x.\u0275\u0275elementStart(2,"div",1),x.\u0275\u0275text(3),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(4,"div",2)(5,"div",3)(6,"tri-pivot",4),x.\u0275\u0275listener("selectedValueChange",function(P){return m.onArtifactSelectionChange(P)}),x.\u0275\u0275template(7,Do,6,6,"tri-pivot-item",5),x.\u0275\u0275elementEnd()(),x.\u0275\u0275element(8,"hr",6),x.\u0275\u0275elementStart(9,"div",7)(10,"div",8),x.\u0275\u0275text(11),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(12,"div",9),x.\u0275\u0275template(13,Ao,4,2,"ng-container",10),x.\u0275\u0275elementEnd()()()()),2&d&&(x.\u0275\u0275property("dialogData",m.convertDialogData(m.data))("closeButtonLabel",x.\u0275\u0275pipeBind1(1,9,"Cancel_ButtonText")),x.\u0275\u0275advance(3),x.\u0275\u0275textInterpolate1(" ",m.data.subTitle," "),x.\u0275\u0275advance(3),x.\u0275\u0275property("selectedValue",m.displayError),x.\u0275\u0275advance(1),x.\u0275\u0275property("ngForOf",m.data.errors.errorsDetails),x.\u0275\u0275advance(3),x.\u0275\u0275attribute("aria-label",null==m.displayError.interactiveOperationInfo?null:m.displayError.interactiveOperationInfo.dialogMessage),x.\u0275\u0275advance(1),x.\u0275\u0275textInterpolate1(" ",null==m.displayError.interactiveOperationInfo?null:m.displayError.interactiveOperationInfo.dialogMessage," "),x.\u0275\u0275advance(1),x.\u0275\u0275property("ngSwitch",null==m.displayError.interactiveOperationInfo?null:m.displayError.interactiveOperationInfo.interactionType),x.\u0275\u0275advance(1),x.\u0275\u0275property("ngSwitchCase",m.InteractionType.SingleOption))},dependencies:[zn.NgForOf,zn.NgIf,zn.NgSwitch,zn.NgSwitchCase,wo.v,ko.M,Io.E,xo.B,Mo.r,Po.Y,To.Z,Oo.Y],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px}.subtitle[_ngcontent-%COMP%]{padding:0 0 16px}.artifacts[_ngcontent-%COMP%]   tri-pivot-item[_ngcontent-%COMP%]{width:220px;padding-bottom:10px;margin-inline-end:10px}.artifacts[_ngcontent-%COMP%]   .tri-pivot-item-tab[_ngcontent-%COMP%]{display:flex;gap:4px}.artifacts[_ngcontent-%COMP%]   .check-mark-icon[_ngcontent-%COMP%]{width:20px}hr.divider[_ngcontent-%COMP%]{border:1px solid var(--colorNeutralStroke1);height:inherit;margin:0}[_nghost-%COMP%]     .tri-pivot-item-tab{display:flex;gap:4px}.message[_ngcontent-%COMP%]{font-size:16px;font-weight:600;padding:0 0 10px}.options-list-container[_ngcontent-%COMP%]{max-height:100px;overflow-y:scroll}"],changeDetection:0}),s}(),le=u(7452),Nt=function(){function s(c,d){this.dialogService=c,this.localizationService=d}return s.prototype.isOptionNotEnabled=function(c){return(0,E.lz)(c).workloadErrorCategory===E.QJ},s.prototype.showInteractiveOperationsDialog=function(c,d,m){var I=function(s,c,d){var m=s.get("Cancel_ButtonText"),I=s.get("ModalDialogButtonText_Continue"),P=s.get("Trident_Git_Interactive_Operations_Dialog_Message"),A={title:s.get(d),buttons:[{name:I,label:I,buttonType:"primary",disabled:!0},{name:m,label:m,buttonType:null}],subTitle:P,errors:c};return{componentRef:Ro,config:{width:"864px",panelClass:"dialog-style",data:A}}}(this.localizationService,c,d);this.dialogService.open(I.componentRef,I.config).afterClosed().pipe((0,pt.q)(1),(0,dn.h)(function(P){return P})).subscribe(function(P){m(c,P)})},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(Co.uQ),x.\u0275\u0275inject(le.z))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}(),ur=(0,p.P1)(kt,function(s){return s?.gitUpdate||Cn}),gr=Lt.getSelectors(),Lo=gr.selectAll,Wo=gr.selectEntities,No=((0,p.P1)(ur,function(s){return Lo(s)}),(0,p.P1)(ur,function(s){return Wo(s)})),_i=function(c){return(0,p.P1)(No,function(d){return d[c]})},vi=function(){function s(c){this.store=c}return s.prototype.getGitConnection=function(c){return this.store.select(gi(c))},s.prototype.ensureGitConnection=function(c){return this.store.dispatch(Ie({workspaceId:c})),this.getGitConnection(c)},s.prototype.loadGitConnection=function(c){return this.store.dispatch(j({workspaceId:c})),this.getGitConnection(c)},s.prototype.saveGitConnection=function(c){return this.store.dispatch(Te({gitConnection:c})),(0,Ne.of)(void 0)},s.prototype.deleteGitConnection=function(c){return this.store.dispatch(Ct({workspaceId:c})),(0,Ne.of)(void 0)},s.prototype.checkoutBranch=function(c){return this.store.dispatch(De({gitCheckoutBranchState:c})),(0,Ne.of)(void 0)},s.prototype.getGitConnectionOperationState=function(c){return this.store.select(gi(c)).pipe((0,Ce.U)(function(d){return d&&d.callState||he.Initial}))},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(p.yh))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}(),mr=function(){function s(c){this.store=c}return s.prototype.updateFromGit=function(c){return this.store.dispatch(hn({gitUpdateState:c})),this.store.select(_i(c.workspaceId))},s.prototype.getUpdatingState=function(c){return this.store.select(_i(c)).pipe((0,Ce.U)(function(d){return d&&d.callState||ze.Initial}))},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(p.yh))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}(),$o=function(){function s(c,d,m,I,P,A,R,G,$,K){var Y=this;this.actions$=c,this.gitUpdateClient=d,this.gitErrorService=m,this.gitNotificationService=I,this.interactiveOperationsService=P,this.store=A,this.extensionManifestService=R,this.gitConnectionFacade=G,this.gitUpdateFacade=$,this.featureSwitchService=K,this.updateFromGit$=(0,g.GW)(function(){return Y.actions$.pipe((0,g.l4)(hn),(0,Ce.U)(function(ae){var we=ae.gitUpdateState,Fe=ae.isInitialSync,Li=Y.gitNotificationService.showLoadingNotification(Fe?"Trident_Git_Toast_Initial_Update_Loading":"Trident_Git_Toast_Update_Loading_Title",Fe?void 0:"Trident_Git_Toast_Update_Loading_Message");return(0,C.pi)((0,C.pi)({},we),{isInitialSync:Fe,notificationId:Li})}),(0,Oe.w)(function(ae){return Y.gitUpdateClient.UpdateArtifactsFromGit(ae.workspaceId,Y.updateFromGitModelToContract(ae.request)).pipe((0,Oe.w)(function(we){var Fe=(0,C.pi)((0,C.pi)({},ae),{response:{almAction:we.almOperation}});return[fn({gitUpdateState:Fe})]}),(0,lt.K)(function(we){var Fe=Y.gitErrorService.makeGitErrorFromHttpResponse("Git_Update_Invalid_Request",we);return ae?.notificationId&&(Y.gitNotificationService.showErrorNotification(Fe,"Trident_Git_Error_Unable_To_Update_Title",ae.notificationId),Y.gitErrorService.showErrorHandlingDialog(Fe)),(0,Ne.of)(Qn({gitUpdateState:ae,error:Fe}))}))}))}),this.getLatestGitAlmOperationSuccess$=(0,g.GW)(function(){return Y.actions$.pipe((0,g.l4)(ot),(0,Ce.U)(function(ae){return ae.gitSyncState}),(0,dn.h)(function(ae){return Y.isLatestOpValid(ae)}),(0,Oe.w)(function(ae){return Y.store.select(_i(ae.workspaceId)).pipe((0,pt.q)(1),(0,Oe.w)(function(we){return Y.getActions(ae,we)}))}))})}return s.prototype.isLatestOpValid=function(c){return!!c?.isValid&&c.gitOperationType===E.u9.Update},s.prototype.getActions=function(c,d){var I,m=this,P=d&&d.workspaceId===c.workspaceId?{workspaceId:d.workspaceId,request:d.request,response:d?.response,isInitialSync:d?.isInitialSync,notificationId:d?.notificationId}:{workspaceId:c.workspaceId,request:void 0};switch(c.gitOperationStatus){case E.wM.Successful:return d?.notificationId&&this.gitNotificationService.showSuccessNotification(d?.notificationId?"Trident_Git_Toast_Initial_Action_Success":"Trident_Git_Toast_Update_Success",d.notificationId),(0,C.ev)((0,C.ev)([$t({gitUpdateStateWithResponse:P})],kn(P.workspaceId,!0,null!==(I=this.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==I&&I),!0),[Ze({workspaceId:P.workspaceId})],!1);case E.wM.InProgress:return[fn({gitUpdateState:P})];case E.wM.Failed:var A=this.gitErrorService.handleAlmGitError("AlmOperationFailed_UpdateFromGit",c);return d?.notificationId&&(this.featureSwitchService.featureSwitches.interactiveOperationUI&&this.interactiveOperationsService.isOptionNotEnabled(A)?(this.interactiveOperationsService.showInteractiveOperationsDialog(A,"Trident_Git_Updates_Fail_Message_Bar",function(R,G){return m.doUpdateFlowWithInteractiveOptions(R,G,c.workspaceId)}),this.gitNotificationService.hideCurrentNotification()):(this.gitNotificationService.showErrorNotification(A,"Trident_Git_Error_Unable_To_Update_Title",d.notificationId),this.gitErrorService.showErrorHandlingDialog(A))),[Yn({gitUpdateState:P,error:A}),Ze({workspaceId:P.workspaceId})]}return[fn({gitUpdateState:P})]},s.prototype.updateFromGitModelToContract=function(c){var d,m=this.ConvertArtifactTypesInTree(c.artifactMergePolicyInfoTreeList,this.extensionManifestService);return{targetCommit:c.targetCommit,workspaceHead:null!==(d=c.workspaceHead)&&void 0!==d?d:null,ArtifactMergePolicyInfoTreeList:m,retryOperationId:c.retryOperationId,interactiveUpdateOptions:c.interactiveUpdateOptions}},s.prototype.ConvertArtifactTypesInTree=function(c,d){return c&&c.map(function(m){var I=(0,C.pi)({},m);return"artifact"in I.root&&(I.root=(0,C.pi)((0,C.pi)({},I.root),{artifact:(0,C.pi)((0,C.pi)({},I.root.artifact),{artifactType:d.getBackendArtifactType(I.root.artifact.artifactType)})})),I})},s.prototype.doUpdateFlowWithInteractiveOptions=function(c,d,m){var I=this;this.gitConnectionFacade.getGitConnection(m).pipe((0,pt.q)(1)).subscribe(function(P){var A,R,G=null===(A=P?.gitConnectionDetails)||void 0===A?void 0:A.head;I.gitUpdateFacade.updateFromGit({workspaceId:m,request:{workspaceHead:G,targetCommit:void 0,artifactMergePolicyInfoTreeList:void 0,retryOperationId:null===(R=c.errorInfo)||void 0===R?void 0:R.retryOperationId,interactiveUpdateOptions:d}})})},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(g.eX),x.\u0275\u0275inject(oe.Jv),x.\u0275\u0275inject(Ot.jR),x.\u0275\u0275inject(Wt.mn),x.\u0275\u0275inject(Nt),x.\u0275\u0275inject(p.yh),x.\u0275\u0275inject(ln.vC),x.\u0275\u0275inject(vi),x.\u0275\u0275inject(mr),x.\u0275\u0275inject(wn.V$))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}();function Uo(s,c){return"Committing ".concat(s.toString()," ").concat(1===s?"item":"items"," from workspace ").concat(c)}var Vo=u(54323),jo=function(){function s(c,d,m,I,P,A,R){var G=this;this.actions$=c,this.gitInitializationClient=d,this.gitErrorService=m,this.gitNotificationService=I,this.interactiveOperationsService=P,this.telemetryService=A,this.extensionManifestService=R,this.initializeGitConnection$=(0,g.GW)(function(){return G.actions$.pipe((0,g.l4)(B),(0,Ce.U)(function($){return $.gitInitializationState}),(0,Oe.w)(function($){return G.gitInitializationClient.initializeGitConnection($.workspaceId,G.gitInitializationRequestFromState($)).pipe((0,Oe.w)(function(K){var Y=(0,C.pi)((0,C.pi)({},$),{response:K});return G.mapInitializationStateToActions(Y)}),(0,lt.K)(function(K){var Y=G.gitErrorService.makeGitErrorFromHttpResponse("Git_Initialization_Failed",K);return(0,E.E6)(Y)||G.interactiveOperationsService.isOptionNotEnabled(Y)||G.gitNotificationService.showErrorNotification(Y,"Trident_Git_Toast_Initialize_Fail"),(0,Ne.of)(k({gitInitializationState:$,error:Y}))}))}))})}return s.prototype.gitInitializationRequestFromState=function(c){return{mergePolicy:c.request.mergePolicy}},s.prototype.mapInitializationStateToActions=function(c){var d;switch(null===(d=c.response)||void 0===d?void 0:d.result){case oe.xU.Completed:if(c.response.incomingChanges&&c.response.incomingChanges.length>0||c.response.uncommittedChanges&&c.response.uncommittedChanges.length>0||!c.response.head){var m=this.gitErrorService.makeClientSideGitError("Git_Initialization_Invalid_Request");return this.gitNotificationService.showErrorNotification(m,"Trident_Git_Toast_Initialize_Fail"),[k({gitInitializationState:c,error:m})]}return[T({gitInitializationStateWithResponse:c}),dt({workspaceId:c.workspaceId})];case oe.xU.UpdateFromGitRequired:if(!c.response.incomingChanges||!c.response.partialSyncBaseCommit)return m=this.gitErrorService.makeClientSideGitError("Git_Initialization_Invalid_Request"),this.gitNotificationService.showErrorNotification(m,"Trident_Git_Toast_Initialize_Fail"),[k({gitInitializationState:c,error:m})];var I=this.createUpdateRequestFromState(c);return this.telemetryService.logEvent({name:"Automatic update after initialization",properties:{workspaceId:c.workspaceId,targetCommit:I.request.targetCommit}}),[T({gitInitializationStateWithResponse:c}),hn({gitUpdateState:I,isInitialSync:!0})];case oe.xU.CommitToGitRequired:var P=this.createCommitRequestFromState(c);return null!=P?(this.telemetryService.logEvent({name:"Automatic commit after initialization",properties:{workspaceId:c.workspaceId,workspaceHead:P.request.workspaceHead}}),[T({gitInitializationStateWithResponse:c}),pe({gitCommitState:P,isInitialSync:!0})]):(m=this.gitErrorService.makeClientSideGitError("Git_Initialization_Invalid_Request"),this.gitNotificationService.showErrorNotification(m,"Trident_Git_Toast_Initialize_Fail"),[k({gitInitializationState:c,error:m})]);default:return m=this.gitErrorService.makeClientSideGitError("Git_Initialization_Invalid_Request"),this.gitNotificationService.showErrorNotification(m,"Trident_Git_Toast_Initialize_Fail"),[k({gitInitializationState:c,error:m})]}},s.prototype.createUpdateRequestFromState=function(c){var d,m=c.response;return{workspaceId:c.workspaceId,request:{targetCommit:m?.partialSyncBaseCommit,workspaceHead:null!==(d=m?.head)&&void 0!==d?d:null}}},s.prototype.createCommitRequestFromState=function(c){var m,I,d=this,P=null===(m=c?.response)||void 0===m?void 0:m.head,A=null===(I=c?.response)||void 0===I?void 0:I.uncommittedChanges;if(!A||!P)return this.gitErrorService.handleClientSideGitError(" Git_Commit_Invalid_Request"),null;var R=A.map(function(G){return tr(G,d.extensionManifestService)});return{workspaceId:c.workspaceId,request:{workspaceHead:P,artifacts:R,comment:Uo(A.length,c.workspaceId)}}},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(g.eX),x.\u0275\u0275inject(oe.Zt),x.\u0275\u0275inject(Ot.jR),x.\u0275\u0275inject(Wt.mn),x.\u0275\u0275inject(Nt),x.\u0275\u0275inject(Vo.t),x.\u0275\u0275inject(ln.vC))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),Ho=function(){function s(c,d,m){var I=this;this.actions$=c,this.gitSyncClient=d,this.gitErrorService=m,this.getLatestGitAlmOperation$=(0,g.GW)(function(){return I.actions$.pipe((0,g.l4)(dt),(0,Oe.w)(function(P){var A=P.workspaceId,R=P.isInitial;return I.gitSyncClient.getlatestGitOperation(A).pipe((0,Ce.U)(function(G){return I.almOperationToSyncModel(G,A,R)}),(0,Ce.U)(function(G){return ot({gitSyncState:G})}),(0,lt.K)(function(){var G=I.gitErrorService.makeClientSideGitError("Git_Sync_Failed");return(0,Ne.of)(yt({workspaceId:A,error:G}))}))}))})}return s.prototype.almOperationToSyncModel=function(c,d,m){var I=this.getGitOperationType(c.operationType),P="0"!==c.objectId&&void 0!==I,A=this.getGitOperationStatus(c.status);return{isValid:P,isInitial:!!m,workspaceId:d,gitOperationId:c.operationId,gitOperationType:I,gitOperationStatus:A,lastUpdatedTime:new Date(c.lastUpdatedTime),gitNonInteractiveOperationErrorDetails:this.getNonInteractiveErrorDetails(c.gitOperationErrorDetailsList),gitInteractiveOperationErrorDetailsList:this.getInteractiveErrorDetails(c.gitOperationErrorDetailsList)}},s.prototype.getInteractiveErrorDetails=function(c){if(!c||!c.some(function(d){var m;return(null===(m=d.artifactErrorDetails)||void 0===m?void 0:m.ErrorCategory)!==E.QJ}))return c},s.prototype.getNonInteractiveErrorDetails=function(c){if(c)return c.find(function(d){var m;return(null===(m=d.artifactErrorDetails)||void 0===m?void 0:m.ErrorCategory)!==E.QJ})},s.prototype.getGitOperationType=function(c){switch(c){case pn.CommitToGit:return E.u9.Commit;case pn.UpdateFromGit:return E.u9.Update;case pn.InitializeWorkspaceGitConnection:return E.u9.Initialize;case pn.Undo:return E.u9.Undo;case pn.CheckoutBranch:return E.u9.CheckoutBranch;case pn.SwitchBranch:return E.u9.SwitchBranch;default:return}},s.prototype.getGitOperationStatus=function(c){return c<mi.FinalBase?E.wM.InProgress:c>=mi.FinalSuccessBase&&c<mi.FinalErrorBase?E.wM.Successful:E.wM.Failed},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(g.eX),x.\u0275\u0275inject(oe.WV),x.\u0275\u0275inject(Ot.jR))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),_r=(0,p.P1)(kt,function(s){return s?.gitUndo||qn}),vr=Ut.getSelectors(),Ko=vr.selectAll,Xo=vr.selectEntities,Qo=((0,p.P1)(_r,function(s){return Ko(s)}),(0,p.P1)(_r,function(s){return Xo(s)})),hi=function(c){return(0,p.P1)(Qo,function(d){return d[c]})},Yo=function(){function s(c){this.store=c}return s.prototype.UndoFromGit=function(c){return this.store.dispatch(Dn({gitUndoState:c})),this.store.select(hi(c.workspaceId))},s.prototype.getUndoState=function(c){return this.store.select(hi(c)).pipe((0,Ce.U)(function(d){return d&&d.callState||ne.Initial}))},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(p.yh))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}(),Zo=function(){function s(c,d,m,I,P,A,R,G,$,K){var Y=this;this.actions$=c,this.gitUndoClient=d,this.gitErrorService=m,this.gitNotificationService=I,this.interactiveOperationsService=P,this.gitUndoFacade=A,this.gitStatusFacade=R,this.gitConnectionFacade=G,this.store=$,this.featureSwitchService=K,this.undoFromGit$=(0,g.GW)(function(){return Y.actions$.pipe((0,g.l4)(Dn),(0,Ce.U)(function(ae){var we=ae.gitUndoState,Fe=Y.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Undo_Loading_Title","Trident_Git_Toast_Undo_Loading_Message");return(0,C.pi)((0,C.pi)({},we),{notificationId:Fe})}),(0,Oe.w)(function(ae){return Y.gitUndoClient.undoCommitArtifacts(ae.workspaceId,Y.fromGitUndoContractToGitUndoRequest(ae.request)).pipe((0,Oe.w)(function(we){var Fe=(0,C.pi)((0,C.pi)({},ae),{response:{almAciton:we.almOperation}});return[qt({gitUndoState:Fe})]}),(0,lt.K)(function(we){var Fe=Y.gitErrorService.makeGitErrorFromHttpResponse("Git_InvalidUndoRequest",we);return ae?.notificationId&&(Y.gitNotificationService.showErrorNotification(Fe,"Trident_Git_Error_Unable_To_Undo_Title",ae.notificationId),Y.gitErrorService.showErrorHandlingDialog(Fe)),(0,Ne.of)(an({gitUndoState:ae,error:Fe}))}))}))}),this.getLatestGitAlmOperationSuccess$=(0,g.GW)(function(){return Y.actions$.pipe((0,g.l4)(ot),(0,Ce.U)(function(ae){return ae.gitSyncState}),(0,dn.h)(function(ae){return Y.isLatestOpValid(ae)}),(0,Oe.w)(function(ae){return Y.store.select(hi(ae.workspaceId)).pipe((0,pt.q)(1),(0,Oe.w)(function(we){return Y.getUndoActions(ae,we)}))}))})}return s.prototype.isLatestOpValid=function(c){return!!c?.isValid&&c.gitOperationType===E.u9.Undo},s.prototype.getUndoActions=function(c,d){var I,m=this,P=d&&d.workspaceId===c.workspaceId?{workspaceId:d.workspaceId,request:d.request,response:d?.response,notificationId:d?.notificationId}:{workspaceId:c.workspaceId,request:void 0};switch(c.gitOperationStatus){case E.wM.Successful:return P?.notificationId&&this.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Undo_Success",P.notificationId),this.gitStatusFacade.clearChangesArtifactSelection(P.workspaceId),(0,C.ev)((0,C.ev)([Jn({gitUndoStateWithResponse:P})],kn(P.workspaceId,!0,null!==(I=this.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==I&&I),!0),[Ze({workspaceId:P.workspaceId})],!1);case E.wM.InProgress:return[qt({gitUndoState:P})];case E.wM.Failed:var A=this.gitErrorService.handleAlmGitError("AlmOperationFailed_UndoFromGit",c);return P?.notificationId&&(this.featureSwitchService.featureSwitches.interactiveOperationUI&&this.interactiveOperationsService.isOptionNotEnabled(A)?(this.interactiveOperationsService.showInteractiveOperationsDialog(A,"Trident_Git_Error_Undo_Title",function(R,G){return m.undoWithInteractiveOptions(R,G,c.workspaceId)}),this.gitNotificationService.hideCurrentNotification()):(this.gitNotificationService.showErrorNotification(A,"Trident_Git_Error_Unable_To_Undo_Title",P.notificationId),this.gitErrorService.showErrorHandlingDialog(A))),[He({gitUndoState:P,error:A}),Ze({workspaceId:P.workspaceId})]}return[qt({gitUndoState:P})]},s.prototype.fromGitArtifactToArtifactSelector=function(c){var d,m,I,P=c.artifact;return{artifactType:P.artifactType,etag:P.etag,objectId:P.objectId,logicalId:P.logicalId,changeType:null!==(m=null===(d=c.remoteChange)||void 0===d?void 0:d.changeType)&&void 0!==m?m:null===(I=c?.workspaceChange)||void 0===I?void 0:I.changeType}},s.prototype.fromGitUndoContractToGitUndoRequest=function(c){var m,d=this;return{artifacts:null===(m=c.artifacts)||void 0===m?void 0:m.map(function(P){return d.fromGitArtifactToArtifactSelector(P)}),workspaceHead:c.workspaceHead,retryOperationId:c.retryOperationId,interactiveUpdateOptions:c.interactiveUpdateOptions}},s.prototype.undoWithInteractiveOptions=function(c,d,m){var I=this;this.gitConnectionFacade.getGitConnection(m).pipe((0,pt.q)(1)).subscribe(function(P){var A,R;I.gitUndoFacade.UndoFromGit({workspaceId:m,request:{workspaceHead:null===(A=P?.gitConnectionDetails)||void 0===A?void 0:A.head,artifacts:void 0,retryOperationId:null===(R=c.errorInfo)||void 0===R?void 0:R.retryOperationId,interactiveUpdateOptions:d}})})},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(g.eX),x.\u0275\u0275inject(oe.nD),x.\u0275\u0275inject(Ot.jR),x.\u0275\u0275inject(Wt.mn),x.\u0275\u0275inject(Nt),x.\u0275\u0275inject(Yo),x.\u0275\u0275inject(Ht),x.\u0275\u0275inject(vi),x.\u0275\u0275inject(p.yh),x.\u0275\u0275inject(wn.V$))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),hr=(0,p.P1)(kt,function(s){return s?.gitSwitchBranch||ti}),fr=Vt.getSelectors(),Jo=fr.selectAll,qo=fr.selectEntities,ea=((0,p.P1)(hr,function(s){return Jo(s)}),(0,p.P1)(hr,function(s){return qo(s)})),fi=function(c){return(0,p.P1)(ea,function(d){return d[c]})},ta=function(){function s(c,d,m,I,P,A){var R=this;this.actions$=c,this.gitSwitchBranchClient=d,this.gitErrorService=m,this.gitNotificationService=I,this.store=P,this.featureSwitchService=A,this.gitSwitchBranch$=(0,g.GW)(function(){return R.actions$.pipe((0,g.l4)(gt),(0,Ce.U)(function(G){var $=G.gitSwitchBranchState,K=R.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Switch_Branch_Switching_In_Progress_Message");return(0,C.pi)((0,C.pi)({},$),{notificationId:K})}),(0,Oe.w)(function(G){return R.gitSwitchBranchClient.switchBranch(G.workspaceId,G.request).pipe((0,Oe.w)(function($){var K=(0,C.pi)((0,C.pi)({},G),{response:{almOperation:$.almOperation}});return R.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Switch_Branch_Success_Message",G.notificationId),[Rt({gitSwitchBranchState:K})]}),(0,lt.K)(function($){var K=R.gitErrorService.makeGitErrorFromHttpResponse("Git_Switch_Branch_Failed",$),Y=R.convertToSwitchBranchSpecficError(K),ae=R.gitErrorService.handleSyncGitError(Y,$);return G?.notificationId&&R.gitNotificationService.showErrorNotification(ae,"Trident_Git_Error_Unable_To_Switch_Branch_Title",G.notificationId),(0,Ne.of)(Mn({gitSwitchBranchState:G,error:ae}))}))}))}),this.getLatestGitAlmOperationSuccess$=(0,g.GW)(function(){return R.actions$.pipe((0,g.l4)(ot),(0,Ce.U)(function(G){return G.gitSyncState}),(0,dn.h)(function(G){return R.isLatestOpValid(G)}),(0,Oe.w)(function(G){return R.store.select(fi(G.workspaceId)).pipe((0,pt.q)(1),(0,Oe.w)(function($){return R.getSwitchBranchActions(G,$)}))}))})}return s.prototype.getSwitchBranchActions=function(c,d){var m,I=d&&d.workspaceId===c.workspaceId?(0,C.pi)({},d):{workspaceId:c.workspaceId,request:void 0};if(c)switch(c.gitOperationStatus){case E.wM.Successful:return I?.notificationId&&this.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Switch_Branch_Syncing_Completed_Message",I.notificationId),(0,C.ev)((0,C.ev)([ht({gitSwitchBranchState:I})],kn(I.workspaceId,!0,null!==(m=this.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==m&&m),!0),[Ze({workspaceId:I.workspaceId})],!1);case E.wM.InProgress:return this.setInProgress(I);default:var P=this.gitErrorService.handleAlmGitError("AlmOperationFailed_SwitchGitBranch",c);return I?.notificationId&&this.gitNotificationService.showErrorNotification(P,"Trident_Git_Error_Unable_To_Switch_Branch_Title",I.notificationId),[Zt({gitSwitchBranchState:I}),Ze({workspaceId:I.workspaceId})]}return[Rt({gitSwitchBranchState:I})]},s.prototype.setInProgress=function(c){var d=this.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Switch_Branch_Syncing_In_Progress_Message");return[Rt({gitSwitchBranchState:(0,C.pi)((0,C.pi)({},c),{notificationId:d})})]},s.prototype.isLatestOpValid=function(c){return!!c?.isValid&&c.gitOperationType===E.u9.SwitchBranch},s.prototype.convertToSwitchBranchSpecficError=function(c){if(void 0===c)return"Git_Switch_Branch_Invalid_Request";if((0,E.yG)(c))return"Git_Switch_Branch_Item_Not_Found";switch((0,E.lz)(c).errorType){case"Git_MissingDependencies":return"Git_MissingDependenciesSwitchBranch";case"Git_CyclicDependencyDetected":return"Git_CyclicDependencyDetectedSwitchBranch";default:return"Git_Switch_Branch_Invalid_Request"}},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(g.eX),x.\u0275\u0275inject(oe.ZH),x.\u0275\u0275inject(Ot.jR),x.\u0275\u0275inject(Wt.mn),x.\u0275\u0275inject(p.yh),x.\u0275\u0275inject(wn.V$))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),na=u(17653),ra=u(9398),Ci=function(){function s(c,d,m,I,P){var A=this;this.actions$=c,this.router=d,this.gitBranchOutClient=m,this.gitErrorService=I,this.gitNotificationService=P,this.gitBranchOut$=(0,g.GW)(function(){return A.actions$.pipe((0,g.l4)(Pn),(0,Ce.U)(function(R){var G=R.gitBranchOutState,$=A.gitNotificationService.showLoadingNotification("Trident_Git_Branch_Out","Trident_Git_Toast_Branch_Out_In_Progress_Message");return(0,C.pi)((0,C.pi)({},G),{notificationId:$})}),(0,Oe.w)(function(R){return A.gitBranchOutClient.branchOut(R.workspaceId,R.request).pipe((0,Oe.w)(function(G){var $=(0,C.pi)((0,C.pi)({},R),{response:G});return[nn({gitBranchOutState:$})]}),(0,lt.K)(function(G){var $=A.gitErrorService.makeGitErrorFromHttpResponse("Git_Branch_Out_Failed",G),K="Git_Branch_Out_Failed"!==(0,E.lz)($).errorType&&function(s,c){var d,m,I,P,A,R=null===(A=null===(P=null===(I=null===(m=null===(d=s.error)||void 0===d?void 0:d["pbi.error"])||void 0===m?void 0:m.details)||void 0===I?void 0:I[0])||void 0===P?void 0:P.detail)||void 0===A?void 0:A.value;if(R)try{var G=JSON.parse(R);if(G?.errorSpecificData){var $=JSON.parse(G.errorSpecificData);if($)return(0,C.pi)((0,C.pi)({},c),{response:{folder:$}})}}catch{return null}return null}(G,R)||R;return R?.notificationId&&A.gitNotificationService.showErrorNotification($,"Trident_Git_Error_Unable_To_Branch_Out_Git_Branch_Fail_Title",R.notificationId),(0,Ne.of)(_n({gitBranchOutState:K,error:$}))}))}))}),this.gitBranchOutSuccess$=(0,g.GW)(function(){return A.actions$.pipe((0,g.l4)(nn),(0,Oe.w)(function(R){var G,$,K,Y=R.gitBranchOutState;if(null!==(G=Y?.response)&&void 0!==G&&G.initializeConnectionStatus){var we=Y.response.initializeConnectionStatus.incomingChanges&&(null===(K=null===($=Y.response)||void 0===$?void 0:$.initializeConnectionStatus)||void 0===K?void 0:K.incomingChanges.length)>0?A.createUpdateRequestFromState(Y):void 0;return(0,Ne.of)(Tn({gitBranchOutState:Y,gitUpdateState:we}))}var Fe=A.gitErrorService.makeClientSideGitError("Git_Invalid_Connection_Details");return A.gitNotificationService.showErrorNotification(Fe,"Trident_Git_Error_Git_Invalid_Connection_Details_Title"),(0,Ne.of)(_n({gitBranchOutState:Y,error:Fe}))}))}),this.gitBranchOutCompleted$=(0,g.GW)(function(){return A.actions$.pipe((0,g.l4)(On),(0,na.b)(function(R){var G,$,K;A.navigateToNewWorkspace(null===(G=R.gitBranchOutState.response)||void 0===G?void 0:G.folder.objectId),null!==($=R.gitBranchOutState)&&void 0!==$&&$.notificationId&&A.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Branch_Out_Success_Message",null===(K=R.gitBranchOutState)||void 0===K?void 0:K.notificationId)}))},{dispatch:!1})}return s.prototype.createUpdateRequestFromState=function(c){var d,m,I,P=null===(d=c.response)||void 0===d?void 0:d.initializeConnectionStatus,A=null===(m=c.response)||void 0===m?void 0:m.folder.objectId;if(P&&A)return{workspaceId:A,request:{targetCommit:P.partialSyncBaseCommit,workspaceHead:null!==(I=P.head)&&void 0!==I?I:null}}},s.prototype.navigateToNewWorkspace=function(c){this.router.navigate(["/groups/".concat(c,"/")],{queryParamsHandling:"preserve"})},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(g.eX),x.\u0275\u0275inject(ra.F0),x.\u0275\u0275inject(oe.su),x.\u0275\u0275inject(Ot.jR),x.\u0275\u0275inject(Wt.mn))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}();function Rn(s){var c=JSON.parse(s.connectionDetails);return(0,oe.h_)(c)&&"GitHubSourceControl"===c.extensionDataSourceKind}function wi(s){var c=JSON.parse(s.connectionDetails);return{id:s.id,datasourceName:s.datasourceName,url:(0,oe.h_)(c)?c.extensionDataSourcePath:"https://github.com"}}function ki(s){return(0,C.pi)((0,C.pi)({},E.I),{datasourceName:s.displayName,datasourceType:E.LO,connectionDetails:JSON.stringify(s?.repositoryUrl?{url:s?.repositoryUrl}:{}),mashupTestConnectionDetails:{functionName:"GitHubSourceControl.Contents",parameters:[(0,C.pi)((0,C.pi)({},E.cW),{value:s?.repositoryUrl})]},credentialDetails:(0,C.pi)((0,C.pi)({},E.f7),{credentials:JSON.stringify({credentialData:[{name:"key",value:s.personalAccessToken}]})})})}var xi=function(){function s(c,d,m,I){var P=this;this.actions$=c,this.gitDatasourceClient=d,this.gitErrorService=m,this.gitNotificationService=I,this.loadDatasources$=(0,g.GW)(function(){return P.actions$.pipe((0,g.l4)(yn),(0,Oe.w)(function(A){var R,G,$=A.gitDatasourceRequest,K=null===(R=P.gitDatasourcesConfigRecord[$.gitProviderType])||void 0===R?void 0:R.convertDatasourceContractToModel,Y=null===(G=P.gitDatasourcesConfigRecord[$.gitProviderType])||void 0===G?void 0:G.filterDatasource;if(!K||!Y){var ae=P.gitErrorService.makeClientSideGitError("Git_UnsupportedGitProvider");return(0,Ne.of)(it({workspaceId:$.workspaceId,error:ae}))}return P.gitDatasourceClient.discoverDatasources().pipe((0,pt.q)(1),(0,Ce.U)(function(we){return we.value.filter(Y)}),(0,Ce.U)(function(we){return we.map(K)}),(0,Oe.w)(function(we){var Fe,Li={workspaceId:$.workspaceId,datasourcesRecord:(Fe={},Fe[$.gitProviderType]=we,Fe)};return(0,Ne.of)(Yi({gitDatasourcesState:Li}))}),(0,lt.K)(function(we){var Fe=P.gitErrorService.makeGitErrorFromHttpResponse("Git_Load_Datasources_Failed",we);return(0,Ne.of)(it({workspaceId:$.workspaceId,error:Fe}))}))}))}),this.createDatasource$=(0,g.GW)(function(){return P.actions$.pipe((0,g.l4)(xt),(0,Oe.w)(function(A){var R,G=A.request,$=P.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Add_Account_In_Progress_Title","Trident_Git_Toast_Add_Account_In_Progress_Message"),K=null===(R=P.gitDatasourcesConfigRecord[G.gitProviderType])||void 0===R?void 0:R.convertCreateDatasourceRequestModelToContract;if(!K){var Y=P.gitErrorService.makeClientSideGitError("Git_UnsupportedGitProvider");return P.gitNotificationService.showErrorNotification(Y,"Trident_Git_Toast_Add_Account_Fail_Title",$),(0,Ne.of)(si({workspaceId:G.workspaceId,error:Y}))}var ae={workspaceId:G.workspaceId,gitProviderType:G.gitProviderType};return P.gitDatasourceClient.createDatasource(K(G)).pipe((0,Oe.w)(function(we){return P.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Add_Account_Success",$),[Yr({workspaceId:G.workspaceId,datasourceResponse:we}),yn({gitDatasourceRequest:ae})]}),(0,lt.K)(function(we){var Fe=P.gitErrorService.makeGitErrorFromHttpResponse("Git_Create_Datasource_Failed",we);return P.gitNotificationService.showErrorNotification(Fe,"Trident_Git_Toast_Add_Account_Fail_Title",$),(0,Ne.of)(si({workspaceId:G.workspaceId,error:Fe}))}))}))}),this.gitDatasourcesConfigRecord=function(){var s;return(s={})[E.IS.AzureDevOps]={},s[E.IS.GitHub]={filterDatasource:Rn,convertDatasourceContractToModel:wi,convertCreateDatasourceRequestModelToContract:ki},s}()}return s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(g.eX),x.\u0275\u0275inject(oe.aw),x.\u0275\u0275inject(Ot.jR),x.\u0275\u0275inject(Wt.mn))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),Mi=function(){function s(c,d,m,I){var P=this;this.actions$=c,this.gitNotificationService=d,this.gitErrorService=m,this.gitRepairClient=I,this.gitRepairItems$=(0,g.GW)(function(){return P.actions$.pipe((0,g.l4)(di),(0,Ce.U)(function(A){var R=A.gitRepairState,G=P.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Repair_Loading_Message");return(0,C.pi)((0,C.pi)({},R),{notificationId:G})}),(0,Oe.w)(function(A){return P.gitRepairClient.gitRepairItems(A.workspaceId,A.request).pipe((0,Oe.w)(function(R){var G=(0,C.pi)((0,C.pi)({},A),{response:R});return(0,Ne.of)(Ji({gitRepairStateWithResponse:G}))}),(0,lt.K)(function(R){var G=P.gitErrorService.makeGitErrorFromHttpResponse("Git_Repair_Items_Failed",R);return A?.notificationId&&(P.gitNotificationService.showErrorNotification(G,"Trident_Git_Error_Unable_To_Repair_Items_Title",A.notificationId),P.gitErrorService.showErrorHandlingDialog(G)),(0,Ne.of)(qi({gitRepairState:A,error:G}))}))}))})}return s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(g.eX),x.\u0275\u0275inject(Wt.mn),x.\u0275\u0275inject(Ot.jR),x.\u0275\u0275inject(oe.P9))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s}(),Pi=function(){function s(){}return s.\u0275fac=function(d){return new(d||s)},s.\u0275mod=x.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=x.\u0275\u0275defineInjector({imports:[p.Aw.forFeature("git",eo),g.sQ.forFeature([co]),g.sQ.forFeature([uo]),g.sQ.forFeature([fo]),g.sQ.forFeature([$o]),g.sQ.forFeature([jo]),g.sQ.forFeature([Ho]),g.sQ.forFeature([Zo]),g.sQ.forFeature([ta]),g.sQ.forFeature([Ci]),g.sQ.forFeature([xi]),g.sQ.forFeature([Mi]),oe.Ug]}),s}(),Fn=(0,p.P1)(kt,function(s){return s?.gitInitialization||N}),Ln=Jt.getSelectors(),Ti=Ln.selectAll,Kt=Ln.selectEntities,Oi=((0,p.P1)(Fn,function(s){return Ti(s)}),(0,p.P1)(Fn,function(s){return Kt(s)})),Di=function(){function s(c){this.store=c}return s.prototype.getGitInitializationState=function(c){return this.store.select(function(c){return(0,p.P1)(Oi,function(d){return d[c]})}(c))},s.prototype.initializeGitConnection=function(c){return this.store.dispatch(B({gitInitializationState:c})),this.getGitInitializationState(c.workspaceId)},s.prototype.invalidateGitConnectionInitialization=function(c){return this.store.dispatch(S({workspaceId:c})),(0,Ne.of)(void 0)},s.prototype.getGitInitializationCallState=function(c){return this.getGitInitializationState(c).pipe((0,Ce.U)(function(d){return d&&d.callState||he.Initial}))},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(p.yh))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}(),Nn=(0,p.P1)(kt,function(s){return s?.gitSync||W}),zt=_t.getSelectors(),Pt=zt.selectAll,un=zt.selectEntities,Bi=((0,p.P1)(Nn,function(s){return Pt(s)}),(0,p.P1)(Nn,function(s){return un(s)}),(0,p.P1)(kt,function(s){return s?.gitProgressIndicator||ei})),Gi=Ue.getSelectors(),yr=Gi.selectAll,br=Gi.selectEntities,kr=((0,p.P1)(Bi,function(s){return yr(s)}),(0,p.P1)(Bi,function(s){return br(s)}),function(){function s(c){this.store=c}return s.prototype.switchBranch=function(c){return this.store.dispatch(gt({gitSwitchBranchState:c})),this.store.select(fi(c.workspaceId))},s.prototype.getSwitchBranchState=function(c){return this.store.select(fi(c)).pipe((0,Ce.U)(function(d){return d&&d.callState||Ge.Initial}))},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(p.yh))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}()),zi=(0,p.P1)(kt,function(s){return s?.gitSessionStorage||ri}),Ai=Qe.getSelectors(),Ir=Ai.selectAll,xr=Ai.selectEntities,Mr=((0,p.P1)(zi,function(s){return Ir(s)}),(0,p.P1)(zi,function(s){return xr(s)})),Tr=function(){function s(c){this.store=c}return s.prototype.selectGitProviderType=function(c,d){this.store.dispatch(ni({workspaceId:c,gitProviderType:d}))},s.prototype.selectDatasource=function(c,d){this.store.dispatch(Me({workspaceId:c,datasourceOID:d}))},s.prototype.selectTempDatasource=function(c,d){this.store.dispatch(Ve({workspaceId:c,datasourceOID:d}))},s.prototype.selectOrganization=function(c,d){this.store.dispatch(Tt({workspaceId:c,organization:d}))},s.prototype.selectRepository=function(c,d){this.store.dispatch(jt({workspaceId:c,repository:d}))},s.prototype.selectBranch=function(c,d){this.store.dispatch(je({workspaceId:c,branch:d}))},s.prototype.selectRootDirectory=function(c,d){this.store.dispatch(Re({workspaceId:c,directory:d}))},s.prototype.selectUserAccount=function(c,d){this.store.dispatch(ii({workspaceId:c,userAccount:d}))},s.prototype.setDatasourceUrl=function(c,d,m){this.store.dispatch(wt({workspaceId:c,organization:d,repository:m}))},s.prototype.selectWorkspaceCapacity=function(c,d){this.store.dispatch(Qi({workspaceId:c,isWorkspaceOnCapacity:d}))},s.prototype.resetDatasourceUrl=function(c){this.store.dispatch(sn({workspaceId:c}))},s.prototype.loadGitSessionStorage=function(c){return this.store.select(function(c){return(0,p.P1)(Mr,function(d){return d[c]})}(c)).pipe((0,Ce.U)(function(d){return d??{workspaceId:c}}))},s.prototype.configureCredentials=function(c){this.store.dispatch(Bt({workspaceId:c}))},s.prototype.deleteCredentials=function(c){this.store.dispatch(Xi({workspaceId:c}))},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(p.yh))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}(),Or=(0,p.P1)(kt,function(s){return s?.gitBranchOut||Sn}),Er=Gt.getSelectors(),ua=Er.selectAll,Ri=Er.selectEntities,Fi=((0,p.P1)(Or,function(s){return ua(s)}),(0,p.P1)(Or,function(s){return Ri(s)}),(0,p.P1)(kt,function(s){return s?.gitDatasources||ci})),Br=cn.getSelectors(),$n=Br.selectAll,Et=Br.selectEntities,ma=((0,p.P1)(Fi,function(s){return $n(s)}),(0,p.P1)(Fi,function(s){return Et(s)})),Gr=function(c){return(0,p.P1)(ma,function(d){return d[c]})},_a=function(){function s(c){this.store=c}return s.prototype.getDatasources=function(c){return this.store.select(Gr(c.workspaceId)).pipe((0,Ce.U)(function(d){return{workspaceId:c.workspaceId,datasourcesRecord:d?.datasourcesRecord,callState:d?.callState||nt.Initial}}))},s.prototype.loadDatasources=function(c){return this.store.dispatch(yn({gitDatasourceRequest:c})),this.getDatasources(c)},s.prototype.createDatasource=function(c){return this.store.dispatch(xt({request:c})),(0,Ne.of)(void 0)},s.prototype.getDataSourcesCallState=function(c){return this.store.select(Gr(c)).pipe((0,Ce.U)(function(d){return d?.callState||nt.Initial}))},s.\u0275fac=function(d){return new(d||s)(x.\u0275\u0275inject(p.yh))},s.\u0275prov=x.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s}(),zr=(0,p.P1)(kt,function(s){return s?.gitRepair||pi}),Ar=bn.getSelectors(),va=Ar.selectAll,ha=Ar.selectEntities;(0,p.P1)(zr,function(s){return va(s)}),(0,p.P1)(zr,function(s){return ha(s)})},71550:function(tt,ke,u){u.d(ke,{Gg:function(){return H.Gg},eL:function(){return H.eL},rC:function(){return H.rC},AC:function(){return H.AC},a6:function(){return T},FF:function(){return Hi},Mv:function(){return H.Mv},rl:function(){return S.rl},EI:function(){return S.EI}}),u(81544);var p=u(32293),oe=u(35510),C=u(11547),X=u(48787),M=u(17653),V=u(59822),e=u(18016),Z=u(65232),H=u(40773),w=u(50423),ve=u(7452),U=u(54323),F=u(77476),h=u(17174),L=u(95825),q=u(65e3),Q=u(74913),ie=u(55490),he=u(20551),Le=u(64716),ne=u(85721),ze=u(89237),Be=u(55334);function Ge(ce,pe){if(1&ce&&(w.\u0275\u0275elementContainerStart(0),w.\u0275\u0275elementStart(1,"div",14),w.\u0275\u0275element(2,"tri-svg-icon",15),w.\u0275\u0275elementStart(3,"span"),w.\u0275\u0275text(4),w.\u0275\u0275elementEnd()(),w.\u0275\u0275elementContainerEnd()),2&ce){var _e=w.\u0275\u0275nextContext();w.\u0275\u0275advance(1),w.\u0275\u0275attribute("data-testid","tri-git-connection-details-settings-v2-directory-error"),w.\u0275\u0275advance(1),w.\u0275\u0275property("name","error_circle_12_filled"),w.\u0275\u0275advance(2),w.\u0275\u0275textInterpolate1(" ",_e.branchNameInputError$.value," ")}}function Ye(ce,pe){if(1&ce&&(w.\u0275\u0275elementStart(0,"tri-dropdown-item",16)(1,"p"),w.\u0275\u0275text(2),w.\u0275\u0275elementEnd()()),2&ce){var _e=pe.$implicit;w.\u0275\u0275property("value",_e),w.\u0275\u0275advance(2),w.\u0275\u0275textInterpolate(_e.text)}}var nt=function(pe){return{error:pe}},qe="cancelButton",B="createButton",T=function(){function ce(pe,_e,Ke,mt,at,Xe,Ft){this.data=pe,this.cdr=_e,this.dr=Ke,this.gitConnectionDiscoveryService=mt,this.localizationService=at,this.telemetryService=Xe,this.gitErrorService=Ft,this._isCreateButtonEnabled=!1,this._isCreateButtonLoading=!1,this.branchNameInputError$=new oe.X(void 0),this.unfiliteredBranchesList=this.data.branchesList.map(function(vn){return{key:vn,text:vn}}),this.filteredBranchesList=this.unfiliteredBranchesList,this.dialogData={title:this.localizationService.get("Trident_Git_Create_New_Branch"),buttons:[{name:B,label:this.localizationService.get("Create_ButtonText"),buttonType:"primary",disabled:!this.isCreateButtonEnabled,isLoading:this.isCreateButtonLoading},{name:qe,label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]}}return ce.prototype.onBranchNameChange=function(pe){this.branchName=pe,this.branchNameInputError$.next(this.validateBranchName(pe)),this.calculateCreateButtonState()},ce.prototype.onParentBranchNameChange=function(pe){this.parentBranch=pe?.text,this.calculateCreateButtonState()},ce.prototype.onBranchesSearch=function(pe){this.filteredBranchesList=this.unfiliteredBranchesList.filter(function(_e){return!pe||_e.text.toLowerCase().includes(pe.toLowerCase())})},ce.prototype.clickButton=function(pe){pe===B?this.handleCreateBranchRequest():pe===qe&&this.dr.close()},ce.prototype.handleCreateBranchRequest=function(){var _e,pe=this;if(this.isCreateButtonLoading=!0,this.branchNameInputError$.next(void 0),!this.branchName)return this.isCreateButtonLoading=!1,void this.branchNameInputError$.next(this.localizationService.get("Trident_Git_Error_Git_InvalidBranchName_Message"));if(!this.parentBranch)return this.isCreateButtonLoading=!1,void this.branchNameInputError$.next(this.localizationService.get("Trident_Git_Error_Git_Create_Branch_Origin_Branch_Not_Found_Message"));if(void 0===this.data.details.gitProviderType||!this.data.details.organizationName||!this.data.details.repositoryName)return this.isCreateButtonLoading=!1,void this.branchNameInputError$.next(this.localizationService.get("Trident_Git_Error_Git_Create_Branch_Failed_Message"));var Ke={branchName:this.branchName,parentBranchName:this.parentBranch,organizationName:this.data.details.organizationName,providerType:this.data.details.gitProviderType,repositoryId:this.data.details.repositoryName,projectName:this.data.details.projectName,datasourceOID:null===(_e=this.data.details)||void 0===_e?void 0:_e.datasourceOID,workspaceId:this.data.workspaceId};this.gitConnectionDiscoveryService.createBranch(Ke).pipe((0,X.q)(1),(0,M.b)(function(){pe.isCreateButtonLoading=!1,pe.telemetryService.logEvent({name:"Create branch request",properties:{isWorkspaceConnected:pe.data.isWorkspaceConnected}}),pe.dr.close(pe.branchName)}),(0,V.K)(function(mt){var at,Xe=null===(at=pe.gitErrorService.makeGitErrorFromHttpResponse("Git_Create_Branch_Failed",mt))||void 0===at?void 0:at.errorsDetails[0];return Xe&&pe.gitErrorService.isDedicatedErrorMessageAvailable(Xe.errorType)?pe.branchNameInputError$.next(Xe.message):pe.branchNameInputError$.next(pe.localizationService.get("Trident_Git_Error_Git_Create_Branch_Failed_Message")),pe.isCreateButtonLoading=!1,(0,C.of)()})).subscribe()},ce.prototype.validateBranchName=function(pe){return(0,e.tI)(pe,this.localizationService)},ce.prototype.calculateCreateButtonState=function(){this.isCreateButtonEnabled=void 0!==this.branchName&&""!==this.branchName&&void 0!==this.parentBranch&&void 0===this.branchNameInputError$.value},ce.prototype.getDropDownOptions=function(){return{showFullContent:!1,dropdownHeight:this.filteredBranchesList.length>1?200:76,dropdownWidth:304}},ce.prototype.getDropdownOverlayOptions=function(pe){return{dropdownHeight:30*Math.max(Math.min(pe,12),1)+34}},Object.defineProperty(ce.prototype,"isCreateButtonEnabled",{get:function(){return this._isCreateButtonEnabled},set:function(_e){this._isCreateButtonEnabled=_e,this.dialogData.buttons[0].disabled=!_e},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"isCreateButtonLoading",{get:function(){return this._isCreateButtonLoading},set:function(_e){this._isCreateButtonLoading=_e,this.dialogData.buttons[0].isLoading=_e,this.dialogData.buttons[0].label=this.localizationService.get(_e?"CapacityProvisioning_SpinnerText":"Create_ButtonText"),this.cdr.detectChanges()},enumerable:!1,configurable:!0}),ce.\u0275fac=function(_e){return new(_e||ce)(w.\u0275\u0275directiveInject(p.WI),w.\u0275\u0275directiveInject(w.ChangeDetectorRef),w.\u0275\u0275directiveInject(p.so),w.\u0275\u0275directiveInject(H.eL),w.\u0275\u0275directiveInject(ve.z),w.\u0275\u0275directiveInject(U.t),w.\u0275\u0275directiveInject(Z.jR))},ce.\u0275cmp=w.\u0275\u0275defineComponent({type:ce,selectors:[["tri-git-create-branch"]],decls:33,vars:37,consts:[[3,"dialogData","buttonClickEvent"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2235132","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon"],[1,"accordion-area"],[1,"branch-name-input"],[1,"mandatory"],["type","text",3,"ngClass","ngModel","placeholder","ngModelChange"],[4,"ngIf"],[1,"parent-branch-selection"],[1,"header-and-tooltip"],["id","select-origin-branch-dropdown-label-v2"],["tri-svg-icon-16","",3,"name","triTooltip"],["aria-labelledby","select-origin-branch-dropdown-label-V2",3,"ngModel","isDisabled","options","valueChange"],[1,"dropdown-search",3,"value"],[3,"value",4,"ngFor","ngForOf"],["tri-textfield-error","",1,"error-message"],["tri-svg-icon-12","",3,"name"],[3,"value"]],template:function(_e,Ke){var mt;(1&_e&&(w.\u0275\u0275elementStart(0,"trident-dialog",0),w.\u0275\u0275listener("buttonClickEvent",function(Xe){return Ke.clickButton(Xe)}),w.\u0275\u0275elementStart(1,"div"),w.\u0275\u0275text(2),w.\u0275\u0275pipe(3,"localize"),w.\u0275\u0275elementStart(4,"tri-link",1),w.\u0275\u0275text(5),w.\u0275\u0275pipe(6,"localize"),w.\u0275\u0275elementEnd()(),w.\u0275\u0275elementStart(7,"div",2)(8,"div",3)(9,"h4"),w.\u0275\u0275text(10),w.\u0275\u0275pipe(11,"localize"),w.\u0275\u0275elementStart(12,"span",4),w.\u0275\u0275text(13," *"),w.\u0275\u0275elementEnd()(),w.\u0275\u0275elementStart(14,"input",5),w.\u0275\u0275listener("ngModelChange",function(Xe){return Ke.onBranchNameChange(Xe)}),w.\u0275\u0275pipe(15,"localize"),w.\u0275\u0275elementEnd(),w.\u0275\u0275template(16,Ge,5,3,"ng-container",6),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(17,"div",7)(18,"div",8)(19,"h4",9),w.\u0275\u0275text(20),w.\u0275\u0275pipe(21,"localize"),w.\u0275\u0275elementStart(22,"span",4),w.\u0275\u0275text(23," *"),w.\u0275\u0275elementEnd()(),w.\u0275\u0275element(24,"tri-svg-icon",10),w.\u0275\u0275pipe(25,"localize"),w.\u0275\u0275pipe(26,"localize"),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(27,"tri-dropdown",11),w.\u0275\u0275listener("valueChange",function(Xe){return Ke.onParentBranchNameChange(Xe)}),w.\u0275\u0275elementStart(28,"tri-dropdown-trigger"),w.\u0275\u0275text(29),w.\u0275\u0275pipe(30,"localize"),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(31,"tri-search-box",12),w.\u0275\u0275listener("value",function(Xe){return Ke.onBranchesSearch(Xe)}),w.\u0275\u0275elementEnd(),w.\u0275\u0275template(32,Ye,3,2,"tri-dropdown-item",13),w.\u0275\u0275elementEnd()()()()),2&_e)&&(w.\u0275\u0275property("dialogData",Ke.dialogData),w.\u0275\u0275advance(2),w.\u0275\u0275textInterpolate1(" ",w.\u0275\u0275pipeBind1(3,19,"Trident_Git_Create_New_Branch_Info")," "),w.\u0275\u0275advance(3),w.\u0275\u0275textInterpolate1(" ",w.\u0275\u0275pipeBind1(6,21,"LearnMore")," "),w.\u0275\u0275advance(5),w.\u0275\u0275textInterpolate1(" ",w.\u0275\u0275pipeBind1(11,23,"Trident_Git_Branch_Name")," "),w.\u0275\u0275advance(4),w.\u0275\u0275property("ngClass",w.\u0275\u0275pureFunction1(35,nt,void 0!==Ke.branchNameInputError$.value))("ngModel",Ke.branchName)("placeholder",w.\u0275\u0275pipeBind1(15,25,"Trident_Git_Branch_Name")),w.\u0275\u0275attribute("data-testid","branch-name-text-input"),w.\u0275\u0275advance(2),w.\u0275\u0275property("ngIf",void 0!==Ke.branchNameInputError$.value),w.\u0275\u0275advance(4),w.\u0275\u0275textInterpolate1(" ",w.\u0275\u0275pipeBind1(21,27,"Trident_Git_Create_New_Branch_Create_From")," "),w.\u0275\u0275advance(4),w.\u0275\u0275property("name","info_16_regular")("triTooltip",w.\u0275\u0275pipeBind1(25,29,"Trident_Git_Create_New_Branch_Tooltip")),w.\u0275\u0275attribute("aria-label",w.\u0275\u0275pipeBind1(26,31,"Trident_Git_Create_New_Branch_Tooltip")),w.\u0275\u0275advance(3),w.\u0275\u0275property("ngModel",Ke.parentBranch)("isDisabled",0===Ke.data.branchesList.length)("options",Ke.getDropDownOptions()),w.\u0275\u0275attribute("data-testid","parent-branch-dropdown"),w.\u0275\u0275advance(2),w.\u0275\u0275textInterpolate1(" ",null!==(mt=Ke.parentBranch)&&void 0!==mt?mt:w.\u0275\u0275pipeBind1(30,33,"Trident_Git_Create_New_Branch_Choose_Parent_Branch")," "),w.\u0275\u0275advance(3),w.\u0275\u0275property("ngForOf",Ke.filteredBranchesList))},dependencies:[F.NgClass,F.NgForOf,F.NgIf,h.Fj,h.JJ,h.On,L.v,q.v,Q.M,ie.Z,he.M3,Le.l,ne.q,he.ii,ze.U,Be.Y],styles:["[_nghost-%COMP%]     mat-dialog-content{display:flex;flex-direction:column;font-size:var(--fontSizeBase300)}[_nghost-%COMP%]     .mat-mdc-dialog-content.dialog-body{display:flex;flex-direction:column;gap:16px;max-height:none}.accordion-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;padding:24px;border:1px solid var(--globalColorGrey82);border-radius:8px;gap:24px;height:100%}.accordion-area[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold);margin:0 0 4px}.accordion-area[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span.mandatory[_ngcontent-%COMP%]{color:var(--globalColorRedShade10)}.accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid var(--globalColorGrey38);border:1px solid var(--globalColorGrey82);border-radius:4px;padding:6px 10px 6px 12px;box-sizing:border-box}.accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid var(--globalColorBrand80)}.accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   .input-error[_ngcontent-%COMP%]{border-color:var(--colorPaletteRedForeground1)}.accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]{margin-bottom:12px;display:flex;flex-direction:column;gap:4px}.accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-and-tooltip[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:20px}.accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-and-tooltip[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38)}tri-dropdown[_ngcontent-%COMP%]{width:100%;overflow-x:hidden;text-overflow:ellipsis;color:var(--colorNeutralForeground4);box-sizing:border-box}tri-dropdown.error[_ngcontent-%COMP%]{border:1px solid var(--globalColorCranberryPrimary)}.dropdown-search[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;margin-bottom:2px}.error-message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:4px;color:var(--globalColorCranberryPrimary);fill:var(--globalColorCranberryPrimary)}.error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200)}.error-message[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{min-width:12px;min-height:12px}"],changeDetection:0}),ce}(),S=(u(71707),u(31572)),j=u(32980),J=u(6814),fe=u(78035),Ie=u(95228),Te=u(16149),Pe=u(17177),ct=u(75476),Ct=u(57156),D=u(55710),Ze=(u(4511),u(8816)),Zt={provide:u(16434).E,useClass:function(){function ce(){}return ce.prototype.getSvgSpriteSheet=function(pe){return new oe.X('\n            <svg id="'.concat(pe,'">\n                <?xml version="1.0" encoding="utf-8"?>\n                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                    <symbol viewBox="0 0 24 24" id="error_circle_24_filled" xmlns="http://www.w3.org/2000/svg"><path d="M12 2a10 10 0 110 20 10 10 0 010-20zm0 13a1 1 0 100 2 1 1 0 000-2zm0-8a1 1 0 00-1 .88v5.24a1 1 0 002 0V7.88A1 1 0 0012 7z"/></symbol>\n                    <symbol viewBox="0 0 20 20" id="document_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M6 2a2 2 0 00-2 2v12c0 1.1.9 2 2 2h8a2 2 0 002-2V7.41c0-.4-.16-.78-.44-1.06l-3.91-3.91A1.5 1.5 0 0010.59 2H6zM5 4a1 1 0 011-1h4v3.5c0 .83.67 1.5 1.5 1.5H15v8a1 1 0 01-1 1H6a1 1 0 01-1-1V4zm9.8 3h-3.3a.5.5 0 01-.5-.5V3.2L14.8 7z"/></symbol>\n                    <symbol viewBox="0 0 24 24" id="error_circle_24_filled" xmlns="http://www.w3.org/2000/svg"><path d="M12 2a10 10 0 110 20 10 10 0 010-20zm0 13a1 1 0 100 2 1 1 0 000-2zm0-8a1 1 0 00-1 .88v5.24a1 1 0 002 0V7.88A1 1 0 0012 7z"/></symbol><symbol viewBox="0 0 12 12" id="info_12_regular" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 6.5a.5.5 0 011 0V8a.5.5 0 01-1 0V6.5zM6 3.75a.75.75 0 100 1.5.75.75 0 000-1.5zM1 6a5 5 0 1110 0A5 5 0 011 6zm5-4a4 4 0 100 8 4 4 0 000-8z"/></symbol>\n                    <symbol viewBox="0 0 20 20" id="table_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M17 5.5A2.5 2.5 0 0014.5 3h-9A2.5 2.5 0 003 5.5v9A2.5 2.5 0 005.5 17h9a2.5 2.5 0 002.5-2.5v-9zm-13 9V13h3v3H5.36A1.5 1.5 0 014 14.5zm8-1.5v3H8v-3h4zm2.5 3H13v-3h3V14.64A1.5 1.5 0 0114.5 16zM12 8v4H8V8h4zm1 0h3v4h-3V8zm-1-4v3H8V4h4zm1 0H14.64A1.5 1.5 0 0116 5.5V7h-3V4zM7 4v3H4V5.36A1.5 1.5 0 015.5 4H7zm0 4v4H4V8h3z"/></symbol>\n                </svg>\n            </svg>\n        '))},ce.prototype.getSvgSpriteUrl=function(pe){return"/assets/sprites/".concat(pe,".svg")},ce.\u0275prov=w.\u0275\u0275defineInjectable({token:ce,factory:ce.\u0275fac=function(_e){return new(_e||ce)},providedIn:"root"}),ce}()},Pn=function(){function ce(){}return ce.\u0275fac=function(_e){return new(_e||ce)},ce.\u0275mod=w.\u0275\u0275defineNgModule({type:ce}),ce.\u0275inj=w.\u0275\u0275defineInjector({providers:[Zt],imports:[F.CommonModule,Pe.T6,D.jT,Ze.w,fe.Y]}),ce}(),nn=u(2552),_n=u(12385),Tn=u(44913),On=u(46303),Xn=u(94757),rn=u(84515),et=u(42178),on=u(81339),En=u(15468),Hi=function(){function ce(){}return ce.\u0275fac=function(_e){return new(_e||ce)},ce.\u0275mod=w.\u0275\u0275defineNgModule({type:ce}),ce.\u0275inj=w.\u0275\u0275defineInjector({providers:[Xn.G,rn.e,et.r,En.A,J.Ns.withLazyService(on.A,et.r)],imports:[F.CommonModule,h.u5,j.sp,Te.m,fe.Y,Pe.T6,Ze.w,Pn,Ct.F,ct.OT,Ie.W,nn.Ug,_n.K3,Tn.lK,On.b]}),ce}()},81544:function(tt,ke,u){u.d(ke,{b:function(){return Ee}});var g=u(32293),p=u(30794),oe=u(35510),C=u(11547),X=u(59017),M=u(48787),V=u(14172),e=u(81905),Z=u(83317),H=u(59973),w=u(70628),ve=u(18016),U=u(31572),F=u(40773),h=u(50423),L=u(7452),q=u(77476),Q=u(17174),ie=u(95825),he=u(74913),Le=u(55490),ne=u(55334);function ze(Se,y){1&Se&&(h.\u0275\u0275elementContainerStart(0),h.\u0275\u0275elementStart(1,"div",7),h.\u0275\u0275element(2,"tri-svg-icon",8),h.\u0275\u0275elementStart(3,"span"),h.\u0275\u0275text(4),h.\u0275\u0275pipe(5,"localize"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementContainerEnd()),2&Se&&(h.\u0275\u0275advance(1),h.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-name-error"),h.\u0275\u0275advance(1),h.\u0275\u0275property("name","error_circle_12_filled"),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind1(5,3,"Pipelines_CreatePipelineDialog_NameAlreadyExistsError")," "))}function Be(Se,y){1&Se&&(h.\u0275\u0275elementContainerStart(0),h.\u0275\u0275elementStart(1,"div",7),h.\u0275\u0275element(2,"tri-svg-icon",8),h.\u0275\u0275elementStart(3,"span"),h.\u0275\u0275text(4),h.\u0275\u0275pipe(5,"localize"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementContainerEnd()),2&Se&&(h.\u0275\u0275advance(1),h.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-pat-error"),h.\u0275\u0275advance(1),h.\u0275\u0275property("name","error_circle_12_filled"),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind1(5,3,"Trident_Git_Auth_Dialog_Param_PAT_Error")," "))}function Ge(Se,y){1&Se&&(h.\u0275\u0275elementContainerStart(0),h.\u0275\u0275elementStart(1,"div",7),h.\u0275\u0275element(2,"tri-svg-icon",8),h.\u0275\u0275elementStart(3,"span"),h.\u0275\u0275text(4),h.\u0275\u0275pipe(5,"localize"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementContainerEnd()),2&Se&&(h.\u0275\u0275advance(1),h.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-url-error"),h.\u0275\u0275advance(1),h.\u0275\u0275property("name","error_circle_12_filled"),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind1(5,3,"Trident_Git_Auth_Dialog_Param_RepoUrl_Error")," "))}var Ye=function(y){return{error:y}};function nt(Se,y){if(1&Se){var O=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementContainerStart(0),h.\u0275\u0275elementStart(1,"trident-dialog",1),h.\u0275\u0275listener("buttonClickEvent",function(k){h.\u0275\u0275restoreView(O);var S=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(S.clickButton(k))}),h.\u0275\u0275pipe(2,"localize"),h.\u0275\u0275elementStart(3,"div")(4,"h4"),h.\u0275\u0275text(5),h.\u0275\u0275pipe(6,"localize"),h.\u0275\u0275elementStart(7,"span",2),h.\u0275\u0275text(8," *"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(9,"div",3)(10,"input",4),h.\u0275\u0275listener("ngModelChange",function(k){h.\u0275\u0275restoreView(O);var S=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(S.displayName=k)})("ngModelChange",function(k){h.\u0275\u0275restoreView(O);var S=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(S.displayNameChanged(k))}),h.\u0275\u0275pipe(11,"async"),h.\u0275\u0275pipe(12,"localize"),h.\u0275\u0275pipe(13,"localize"),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(14,ze,6,5,"ng-container",0),h.\u0275\u0275pipe(15,"async"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(16,"div")(17,"h4"),h.\u0275\u0275text(18),h.\u0275\u0275pipe(19,"localize"),h.\u0275\u0275elementStart(20,"span",2),h.\u0275\u0275text(21," *"),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(22,"tri-svg-icon",5),h.\u0275\u0275pipe(23,"localize"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(24,"div",3)(25,"input",6),h.\u0275\u0275listener("ngModelChange",function(k){h.\u0275\u0275restoreView(O);var S=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(S.personalAccessToken=k)})("ngModelChange",function(k){h.\u0275\u0275restoreView(O);var S=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(S.personalAccessTokenChanged(k))}),h.\u0275\u0275pipe(26,"async"),h.\u0275\u0275pipe(27,"localize"),h.\u0275\u0275pipe(28,"localize"),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(29,Be,6,5,"ng-container",0),h.\u0275\u0275pipe(30,"async"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(31,"div")(32,"h4"),h.\u0275\u0275text(33),h.\u0275\u0275pipe(34,"localize"),h.\u0275\u0275element(35,"tri-svg-icon",5),h.\u0275\u0275pipe(36,"localize"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(37,"div",3)(38,"input",4),h.\u0275\u0275listener("ngModelChange",function(k){h.\u0275\u0275restoreView(O);var S=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(S.repositoryUrl=k)})("ngModelChange",function(k){h.\u0275\u0275restoreView(O);var S=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(S.repositoryUrlChanged(k))}),h.\u0275\u0275pipe(39,"async"),h.\u0275\u0275pipe(40,"localize"),h.\u0275\u0275pipe(41,"localize"),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(42,Ge,6,5,"ng-container",0),h.\u0275\u0275pipe(43,"async"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementContainerEnd()}if(2&Se){var E=y.ngIf,B=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275property("dialogData",B.dialogData)("closeButtonLabel",h.\u0275\u0275pipeBind1(2,27,"Cancel_ButtonText")),h.\u0275\u0275advance(4),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind1(6,29,"Trident_Git_Auth_Dialog_Param_DisplayName")," "),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(63,Ye,h.\u0275\u0275pipeBind1(11,31,B.isDisplayNameInvalid$)))("ngModel",B.displayName)("placeholder",h.\u0275\u0275pipeBind1(12,33,E.localizationKeysList[1])),h.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-display-name-input")("aria-label",h.\u0275\u0275pipeBind1(13,35,"Trident_Git_Auth_Dialog_Param_DisplayName")),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngIf",h.\u0275\u0275pipeBind1(15,37,B.isDisplayNameInvalid$)),h.\u0275\u0275advance(4),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind1(19,39,"Trident_Git_Auth_Dialog_Param_PAT")," "),h.\u0275\u0275advance(4),h.\u0275\u0275property("name","info_16_regular")("triTooltip",h.\u0275\u0275pipeBind1(23,41,E.localizationKeysList[2])),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(65,Ye,h.\u0275\u0275pipeBind1(26,43,B.isPersonalAccessTokenInvalid$)))("ngModel",B.personalAccessToken)("placeholder",h.\u0275\u0275pipeBind1(27,45,E.localizationKeysList[3])),h.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-pat-input")("aria-label",h.\u0275\u0275pipeBind1(28,47,"Trident_Git_Auth_Dialog_Param_PAT")),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngIf",h.\u0275\u0275pipeBind1(30,49,B.isPersonalAccessTokenInvalid$)),h.\u0275\u0275advance(4),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind1(34,51,"Trident_Git_Auth_Dialog_Param_RepoUrl")," "),h.\u0275\u0275advance(2),h.\u0275\u0275property("name","info_16_regular")("triTooltip",h.\u0275\u0275pipeBind1(36,53,E.localizationKeysList[4])),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(67,Ye,h.\u0275\u0275pipeBind1(39,55,B.isRepositoryUrlInvalid$)))("ngModel",B.repositoryUrl)("placeholder",h.\u0275\u0275pipeBind1(40,57,E.localizationKeysList[5])),h.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-url-input")("aria-label",h.\u0275\u0275pipeBind1(41,59,"Trident_Git_Auth_Dialog_Param_RepoUrl")),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngIf",h.\u0275\u0275pipeBind1(43,61,B.isRepositoryUrlInvalid$))}}var Ee=function(){function Se(y,O,E,B,T,k){this.cdr=y,this.dr=O,this.gitDatasourceService=E,this.gitSessionStorageService=B,this.localizationService=T,this.data=k,this._isAddButtonEnabled=!1,this._isAddButtonLoading=!1,this.destroy$=new p.xQ,this.isDisplayNameInvalid$=new oe.X(void 0),this.isPersonalAccessTokenInvalid$=new oe.X(void 0),this.validatePersonalAccessToken=function(){return!1},this.isRepositoryUrlInvalid$=new oe.X(!1),this.validateRepositoryUrl=function(){return!0},this.workspaceId=this.data,this.selectedGitProviderType$=(0,C.of)(),this.componentAssets$=(0,C.of)(),this.existingDatasourcesNames=[],this.dialogData={title:"",buttons:[{name:"Add",label:this.localizationService.get("ItemAction_Add"),buttonType:"primary",disabled:!this.isAddButtonEnabled,isLoading:this.isAddButtonLoading},{name:"Cancel",label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]},this.displayName="",this.personalAccessToken="",this.repositoryUrl=""}return Se.prototype.ngOnInit=function(){var y=this,O=(0,U.fA)();this.selectedGitProviderType$=this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId).pipe((0,M.q)(1),(0,V.U)(function(E){return E?.selectedGitProviderType})),this.componentAssets$=this.selectedGitProviderType$.pipe((0,M.q)(1),(0,V.U)(function(E){if(E){var B=O[E];if(B)return y.dialogData.title=y.localizationService.get(B.localizationKeysList[0]),y.validatePersonalAccessToken=B.validationFunctionsList[0],y.validateRepositoryUrl=B.validationFunctionsList[1],B}})),this.selectedGitProviderType$.pipe((0,M.q)(1),(0,e.w)(function(E){return void 0!==E?y.gitDatasourceService.getDatasources({workspaceId:y.workspaceId,gitProviderType:E}).pipe((0,V.U)(function(B){return{gitProviderType:E,datasources:B}})):(0,C.of)({gitProviderType:void 0,datasources:void 0})})).subscribe(function(E){var B,T=E.gitProviderType,k=E.datasources;void 0!==k?.datasourcesRecord&&void 0!==T&&(y.existingDatasourcesNames=null!==(B=k.datasourcesRecord[T].map(function(j){return j.datasourceName.toLowerCase()}))&&void 0!==B?B:[])})},Se.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},Se.prototype.clickButton=function(y){"Add"===y?this.handleCreateDatasourceRequest():"Cancel"===y&&this.dr.close()},Se.prototype.displayNameChanged=function(y){this.isDisplayNameInvalid$.next(this.existingDatasourcesNames.includes(y.toLowerCase())),this.calculateAddButtonState()},Se.prototype.personalAccessTokenChanged=function(y){this.isPersonalAccessTokenInvalid$.next(!(""===this.personalAccessToken||this.validatePersonalAccessToken(y))),this.calculateAddButtonState()},Se.prototype.repositoryUrlChanged=function(y){this.isRepositoryUrlInvalid$.next(""!==y&&!this.validateRepositoryUrl(y)),this.calculateAddButtonState()},Se.prototype.handleCreateDatasourceRequest=function(){var y=this,O={workspaceId:this.workspaceId,gitProviderType:ve.IS.GitHub,displayName:this.displayName,personalAccessToken:this.personalAccessToken,repositoryUrl:this.repositoryUrl};this.isAddButtonLoading=!0,(0,X.aj)([this.gitDatasourceService.getDatasourceCallState(this.workspaceId),this.gitDatasourceService.createDatasource(O)]).pipe((0,Z.R)(this.destroy$),(0,H.h)(function(E){var B=E[0];return B===w.j3q.Completed||(0,ve.pb)(B)}),(0,M.q)(1)).subscribe(function(E){var B=E[0];B===w.j3q.Completed?y.dr.close():(y.isAddButtonLoading=!1,(!(0,ve.pb)(B)||!y.isRecoverableError(B))&&y.dr.close())})},Se.prototype.calculateAddButtonState=function(){this.isAddButtonEnabled=!(""===this.displayName||this.isDisplayNameInvalid$.value||""===this.personalAccessToken||this.isPersonalAccessTokenInvalid$.value||""!==this.repositoryUrl&&this.isRepositoryUrlInvalid$.value)},Se.prototype.isRecoverableError=function(y){return!1},Object.defineProperty(Se.prototype,"isAddButtonEnabled",{get:function(){return this._isAddButtonEnabled},set:function(O){this._isAddButtonEnabled=O,this.dialogData.buttons[0].disabled=!O},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"isAddButtonLoading",{get:function(){return this._isAddButtonLoading},set:function(O){this._isAddButtonLoading=O,this.dialogData.buttons[0].isLoading=O,this.dialogData.buttons[0].label=this.localizationService.get(O?"Adding":"ItemAction_Add"),this.cdr.detectChanges()},enumerable:!1,configurable:!0}),Se.\u0275fac=function(O){return new(O||Se)(h.\u0275\u0275directiveInject(h.ChangeDetectorRef),h.\u0275\u0275directiveInject(g.so),h.\u0275\u0275directiveInject(F.Ae),h.\u0275\u0275directiveInject(w.gCl),h.\u0275\u0275directiveInject(L.z),h.\u0275\u0275directiveInject(g.WI))},Se.\u0275cmp=h.\u0275\u0275defineComponent({type:Se,selectors:[["tri-git-auth-dialog"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"dialogData","closeButtonLabel","buttonClickEvent"],[1,"mandatory"],["tri-textfield","",1,"input-container"],["type","text",3,"ngClass","ngModel","placeholder","ngModelChange"],["tri-svg-icon-16","",3,"name","triTooltip"],["type","password",3,"ngClass","ngModel","placeholder","ngModelChange"],["tri-textfield-error","",1,"error-message"],["tri-svg-icon-12","",3,"name"]],template:function(O,E){1&O&&(h.\u0275\u0275template(0,nt,44,69,"ng-container",0),h.\u0275\u0275pipe(1,"async")),2&O&&h.\u0275\u0275property("ngIf",h.\u0275\u0275pipeBind1(1,1,E.componentAssets$))},dependencies:[q.NgClass,q.NgIf,Q.Fj,Q.JJ,Q.On,ie.v,he.M,Le.Z,q.AsyncPipe,ne.Y],styles:["[_nghost-%COMP%]     mat-dialog-content{display:flex;flex-direction:column;gap:8px;font-size:var(--fontSizeBase300)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container){display:flex;flex-direction:column;gap:4px}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) h4{display:flex;flex-direction:row;align-items:center;gap:4px;margin:0;font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) h4 span.mandatory{color:var(--globalColorRedShade10)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) h4 tri-svg-icon{fill:var(--globalColorGrey38)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) input{width:100%;border-bottom:1px solid var(--globalColorGrey38)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) input.error{border:1px solid var(--globalColorCranberryPrimary)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) input:focus{border-bottom:2px solid var(--globalColorBrand80)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) .error-message{display:flex;flex-direction:row}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) .error-message span{font-size:var(--fontSizeBase200)}[_nghost-%COMP%]     mat-dialog-actions .button-container{gap:8px;margin:16px 0 0}[_nghost-%COMP%]     .mat-mdc-dialog-content.dialog-body{max-height:none}"],changeDetection:0}),Se}()},71707:function(tt,ke,u){u.d(ke,{A:function(){return q}});var g=u(48787),p=u(81905),oe=u(17653),C=u(59822),X=u(32293),M=u(11547),V=u(65232),e=u(70628),Z=u(12385),H=u(40773),w=u(50423),ve=u(7452),U=u(95825),F=u(55334),h="cancelButton",L="logoutButton",q=function(){function Q(ie,he,Le,ne,ze,Be,Ge,Ye){this.data=ie,this.dr=he,this.localizationService=Le,this.gitConfigureCredentialsService=ne,this.gitSessionStorageService=ze,this.gitNotificationService=Be,this.gitConnectionService=Ge,this.gitErrorService=Ye,this.dialogData={title:this.localizationService.get("Trident_Git_Log_Out_Dialog_Title"),buttons:[{name:L,label:this.localizationService.get("Trident_Git_Log_Out"),buttonType:"primary"},{name:h,label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]}}return Q.prototype.clickButton=function(ie){ie===L?this.handleLogOutRequest():ie===h&&this.dr.close(ie)},Q.prototype.handleLogOutRequest=function(){var ie=this;this.gitConnectionService.getGitConnection(this.data.workspaceId).pipe((0,g.q)(1),(0,p.w)(function(he){return he?.gitConnectionDetails?ie.gitConfigureCredentialsService.deleteConfiguredCredentials(ie.data.workspaceId):(0,M.of)(void 0)}),(0,g.q)(1),(0,oe.b)(function(){ie.gitSessionStorageService.deleteCredentials(ie.data.workspaceId),ie.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Logout_Success"),ie.dr.close(L)}),(0,C.K)(function(he){var Le=ie.gitErrorService.makeGitErrorFromHttpResponse("Git_Delete_Credentials_Failed",he);return ie.gitNotificationService.showErrorNotification(Le,"Trident_Git_Toast_Logout_Fail"),[]})).subscribe()},Q.\u0275fac=function(he){return new(he||Q)(w.\u0275\u0275directiveInject(X.WI),w.\u0275\u0275directiveInject(X.so),w.\u0275\u0275directiveInject(ve.z),w.\u0275\u0275directiveInject(H.id),w.\u0275\u0275directiveInject(e.gCl),w.\u0275\u0275directiveInject(Z.mn),w.\u0275\u0275directiveInject(H.rC),w.\u0275\u0275directiveInject(V.jR))},Q.\u0275cmp=w.\u0275\u0275defineComponent({type:Q,selectors:[["tri-git-logout-dialog"]],decls:4,vars:4,consts:[[3,"dialogData","buttonClickEvent"]],template:function(he,Le){1&he&&(w.\u0275\u0275elementStart(0,"trident-dialog",0),w.\u0275\u0275listener("buttonClickEvent",function(ze){return Le.clickButton(ze)}),w.\u0275\u0275elementStart(1,"p"),w.\u0275\u0275text(2),w.\u0275\u0275pipe(3,"localize"),w.\u0275\u0275elementEnd()()),2&he&&(w.\u0275\u0275property("dialogData",Le.dialogData),w.\u0275\u0275advance(2),w.\u0275\u0275textInterpolate1(" ",w.\u0275\u0275pipeBind1(3,2,"Trident_Git_Log_Out_Dialog_Message")," "))},dependencies:[U.v,F.Y],encapsulation:2,changeDetection:0}),Q}()},31572:function(tt,ke,u){u.d(ke,{NJ:function(){return Ee},P0:function(){return Se},rl:function(){return qe},fA:function(){return y},ge:function(){return B},_k:function(){return T},Tr:function(){return E},EI:function(){return O},yp:function(){return k}});var g=u(11547),p=u(18016),oe=u(48787),C=u(14172);function X(S){if(!S?.project)throw"Git_AzureDevOpsMissingProjectName";if(S?.datasourceOID)throw"Git_AzureDevOpsInvalidParameters"}function M(S){if(!S?.projectName)throw"Git_AzureDevOpsMissingProjectName"}function V(S){if(!S?.projectName)throw"Git_AzureDevOpsMissingProjectName"}function e(S){return void 0!==S?.selectedUserAccount}function Z(S){if(!S?.projectName)throw"Git_AzureDevOpsMissingProjectName"}function H(S,j){return j.getGitConnection(S).pipe((0,oe.q)(1),(0,C.U)(function(J){return void 0===J?.gitConnectionDetails}))}var w=u(59017),ve="https://github.com";function h(S){return{datasourceOID:S.id}}function L(S){var j;return null!==(j=S.isConfigured)&&void 0!==j&&j}function q(S,j,J){return(0,w.aj)([J.loadGitSessionStorage(S),j.getGitConnection(S)]).pipe((0,C.U)(function(fe){var Te=fe[1];return void 0!==Te?.gitConnectionDetails}))}function Q(S,j,J){if(j&&j!==ve){if(!ne(j))throw new Error("Git_Invalid_Github_Repository_Url");var fe=j.split("/");S.setDatasourceUrl(J,fe[3],fe[4])}else S.resetDatasourceUrl(J)}var ie=["Trident_Git_Auth_Dialog_Title_GitHub","Trident_Git_Auth_Dialog_Param_DisplayName_Placeholder","Trident_Git_Auth_Dialog_Param_PAT_Tooltip_GitHub","Trident_Git_Auth_Dialog_Param_PAT_Placeholder_GitHub","Trident_Git_Auth_Dialog_Param_RepoUrl_Tooltip_GitHub","Trident_Git_Auth_Dialog_Param_RepoUrl_Placeholder"],he=[function(S){return S.toLowerCase().startsWith("ghp_")||S.startsWith("github_pat_")},ne];function ne(S){var j=S.replace(/\/$|\.git$/g,"");return/^https:\/\/github\.com\/[^/]+\/[^/]+$/.test(j)}function ze(S){if(!S?.datasourceOID)throw"Git_GitHubMissingDatasourceOID"}function Be(S){if(S?.projectName)throw"Git_GitHubInvalidParameters";if(!S?.datasourceOID)throw"Git_GitHubMissingDatasourceOID"}function Ge(S){if(S?.projectName)throw"Git_GitHubInvalidParameters";if(!S?.datasourceOID)throw"Git_GitHubMissingDatasourceOID"}function Ye(S){if(S?.projectName)throw"Git_GitHubInvalidParameters";if(!S?.datasourceOID)throw"Git_GitHubMissingDatasourceOID"}function nt(S,j){return S?.filter(function(J){return J.url===j||J.url===ve})}function qe(S){return"".concat(ve,"/").concat(S.organizationName,"/").concat(S.repositoryName)}var Ee=function(S){return S[S.ShowADOAccountsList=0]="ShowADOAccountsList",S[S.ShowGitHubDataSourcesList=1]="ShowGitHubDataSourcesList",S}({}),Se=function(S){return S.UserAccountDetails="UserAccountDetails",S.DatasourceDetails="DatasourceDetails",S}({});function y(){var S;return(S={})[p.IS.AzureDevOps]=void 0,S[p.IS.GitHub]={localizationKeysList:ie,validationFunctionsList:he},S}function O(){var S;return(S={})[p.IS.AzureDevOps]={displayMode:Ee.ShowADOAccountsList,connectedProviderDetailsType:Se.UserAccountDetails,doesGitProviderNeedsDatasource:!1,canTheUserLogOut:H,shouldShowSwitchAccount:function(){return(0,g.of)(!1)},isWorkspaceConnectedToGitProvider:e},S[p.IS.GitHub]={displayMode:Ee.ShowGitHubDataSourcesList,connectedProviderDetailsType:Se.DatasourceDetails,doesGitProviderNeedsDatasource:!0,canTheUserLogOut:function(){return(0,g.of)(!0)},shouldShowSwitchAccount:q,isWorkspaceConnectedToGitProvider:L,selectDatasourceSideEffect:Q,filterDatasources:nt,getFilteringValue:qe},S}function E(){var S;return(S={})[p.IS.AzureDevOps]={},S[p.IS.GitHub]={createConfigureCredentialsRequestFromDatasource:h},S}function B(){var S;return(S={})[p.IS.AzureDevOps]={getBranchesValidator:X,createBranchRequestValidator:M,createDirectoryRequestValidator:V},S[p.IS.GitHub]={getBranchesValidator:ze,createBranchRequestValidator:Be,createDirectoryRequestValidator:Ge},S}function T(){var S;return(S={})[p.IS.AzureDevOps]={gitConnectionDetailsContractValidator:Z},S[p.IS.GitHub]={gitConnectionDetailsContractValidator:Ye},S}function k(S){var j=new Map;return j.set(p.IS.GitHub,function(S){var j,J;return null===(J=null===(j=S.featureSwitches)||void 0===j?void 0:j.gitHubTenantSettingsEnabled)||void 0===J||J}(S)),j.set(p.IS.AzureDevOps,!0),j}},94757:function(tt,ke,u){u.d(ke,{G:function(){return V}});var g=u(33554),p=u(58417),oe=u(48787),C=u(14172),X=u(94771),M=u(50423),V=function(){function e(Z){this.featureSwitchService=Z,this.featureSwitchStatusSubjects={}}return e.prototype.isTenantAdminEnabled=function(Z){return this.featureSwitchStatusSubjects[Z]||(this.featureSwitchStatusSubjects[Z]=new g.t(1),this.fetchFeatureSwitchStatus(Z).subscribe(this.featureSwitchStatusSubjects[Z])),this.featureSwitchStatusSubjects[Z].asObservable()},e.prototype.fetchFeatureSwitchStatus=function(Z){var H=this;return!0!==this.featureSwitchService.featureSwitches.tridentGitSwitchesDelegation?new p.y(function(w){w.next(!!H.featureSwitchService.featureSwitches.gitIntegrationTenantSwitchEnabled),w.complete()}):this.featureSwitchService.getWorkspaceDelegatedSetting({name:"GitIntegrationTenantSwitchEnabled",workspaceObjectId:Z}).pipe((0,oe.q)(1),(0,C.U)(function(w){return w.isEnabled||!1}))},e.\u0275fac=function(H){return new(H||e)(M.\u0275\u0275inject(X.V$))},e.\u0275prov=M.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},84515:function(tt,ke,u){u.d(ke,{e:function(){return X}});var g=u(14172),p=u(2552),oe=u(31572),C=u(50423),X=function(){function M(V){this.gitConnectionDiscoveryClient=V,this.serviceConfig=(0,oe.ge)()}return M.prototype.getOrganizations=function(V,e){return this.gitConnectionDiscoveryClient.getOrganizations(V,e)},M.prototype.getProjects=function(V,e,Z){return this.gitConnectionDiscoveryClient.getProjects(V,e,Z)},M.prototype.getRepositories=function(V,e,Z,H){return this.gitConnectionDiscoveryClient.getRepositories(V,e,Z,H)},M.prototype.getBranches=function(V){var e,Z=null===(e=this.serviceConfig[V.gitProviderType])||void 0===e?void 0:e.getBranchesValidator;return Z&&Z(V),this.gitConnectionDiscoveryClient.getBranches(V.workspaceId,V.gitProviderType,V.organization,V.repository,V?.project,V?.datasourceOID)},M.prototype.createBranch=function(V){var e,Z=null===(e=this.serviceConfig[V.providerType])||void 0===e?void 0:e.createBranchRequestValidator;return Z&&Z(V),this.gitConnectionDiscoveryClient.createBranch(V)},M.prototype.createDirectory=function(V){var e,Z=null===(e=this.serviceConfig[V.providerType])||void 0===e?void 0:e.createDirectoryRequestValidator;return Z&&Z(V),this.gitConnectionDiscoveryClient.createDirectory(V)},M.prototype.getRelatedWorkspaces=function(V){return this.gitConnectionDiscoveryClient.getRelatedWorkspaces(V).pipe((0,g.U)(function(e){return e.relatedWorkspaces}))},M.\u0275fac=function(e){return new(e||M)(C.\u0275\u0275inject(p.bE))},M.\u0275prov=C.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac,providedIn:"root"}),M}()},81339:function(tt,ke,u){u.d(ke,{A:function(){return p}});var p=new(u(50423).InjectionToken)("GitConnectionService")},42178:function(tt,ke,u){u.d(ke,{r:function(){return w}});var g=u(11547),p=u(48787),oe=u(81905),C=u(17653),X=u(59822),M=u(70628),V=u(94757),e=u(31572),Z=u(50423),H=u(85732),w=function(){function ve(U,F,h){this.gitConnectionFacade=U,this.gitAdminSwitchesService=F,this.store=h,this.serviceConfig=(0,e._k)()}return ve.prototype.loadGitConnection=function(U){var F=this;return this.gitAdminSwitchesService.isTenantAdminEnabled(U).pipe((0,p.q)(1),(0,oe.w)(function(h){return h?F.gitConnectionFacade.loadGitConnection(U):(0,g.of)(void 0)}),(0,p.q)(1),(0,C.b)(function(h){var L;if(h?.gitConnectionDetails){var q=null===(L=F.serviceConfig[h.gitConnectionDetails.gitProviderType])||void 0===L?void 0:L.gitConnectionDetailsContractValidator;q&&q(h.gitConnectionDetails)}}),(0,X.K)(function(){return(0,g.of)(void 0)}))},ve.prototype.ensureGitConnection=function(U,F){var h=this;return void 0===F&&(F=!1),F?this.gitConnectionFacade.ensureGitConnection(U):this.gitAdminSwitchesService.isTenantAdminEnabled(U).pipe((0,p.q)(1),(0,oe.w)(function(L){return L?h.gitConnectionFacade.ensureGitConnection(U):(0,g.of)(void 0)}))},ve.prototype.getGitConnection=function(U){var F=this;return this.gitAdminSwitchesService.isTenantAdminEnabled(U).pipe((0,p.q)(1),(0,oe.w)(function(h){return h?F.gitConnectionFacade.getGitConnection(U):(0,g.of)(void 0)}))},ve.prototype.updateDatasourceInGitConnection=function(U,F){this.store.dispatch((0,M.V_q)({workspaceId:U,datasourceOID:F}))},ve.prototype.saveGitConnection=function(U){var F;if(U?.gitConnectionDetails){var h=null===(F=this.serviceConfig[U.gitConnectionDetails.gitProviderType])||void 0===F?void 0:F.gitConnectionDetailsContractValidator;h&&h(U.gitConnectionDetails)}return this.gitConnectionFacade.saveGitConnection(U)},ve.prototype.deleteGitConnection=function(U){return this.gitConnectionFacade.deleteGitConnection(U)},ve.prototype.getGitConnectionOperationState=function(U){var F=this;return this.gitAdminSwitchesService.isTenantAdminEnabled(U).pipe((0,p.q)(1),(0,oe.w)(function(h){return h?F.gitConnectionFacade.getGitConnectionOperationState(U):(0,g.of)(M.Gui.Initial)}))},ve.prototype.checkoutBranch=function(U){return this.gitConnectionFacade.checkoutBranch(U)},ve.\u0275fac=function(F){return new(F||ve)(Z.\u0275\u0275inject(M.f$Z),Z.\u0275\u0275inject(V.G),Z.\u0275\u0275inject(H.yh))},ve.\u0275prov=Z.\u0275\u0275defineInjectable({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve}()},15468:function(tt,ke,u){u.d(ke,{A:function(){return oe}});var g=u(70628),p=u(50423),oe=function(){function C(X){this.gitDatasourcesFacade=X}return C.prototype.createDatasource=function(X){return this.gitDatasourcesFacade.createDatasource(X)},C.prototype.discoverDatasources=function(X){return this.gitDatasourcesFacade.loadDatasources(X)},C.prototype.getDatasources=function(X){return this.gitDatasourcesFacade.getDatasources(X)},C.prototype.getDatasourceCallState=function(X){return this.gitDatasourcesFacade.getDataSourcesCallState(X)},C.\u0275fac=function(M){return new(M||C)(p.\u0275\u0275inject(g.iAv))},C.\u0275prov=p.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"}),C}()},40773:function(tt,ke,u){u.d(ke,{Gg:function(){return g.G},id:function(){return ve},eL:function(){return C.e},rC:function(){return M.r},AC:function(){return X.A},Ae:function(){return V.A},Mv:function(){return U}});var g=u(94757),p=u(70628),C=u(84515),X=u(81339),M=u(42178),V=u(15468),e=u(60225),Z=u(2552),H=u(31572),w=u(50423),ve=function(){function F(h){this.gitDatasourceClient=h,this.datasourceServiceConfigRecord=(0,H.Tr)()}return F.prototype.configureCredentials=function(h,L,q){var Q,ie=null===(Q=this.datasourceServiceConfigRecord[h])||void 0===Q?void 0:Q.createConfigureCredentialsRequestFromDatasource;return ie?this.gitDatasourceClient.postConfigureCredentials(L,ie(q)):(0,e._)("Git_UnsupportedGitProvider")},F.prototype.deleteConfiguredCredentials=function(h){return this.gitDatasourceClient.deleteConfiguredCredentials(h)},Object.defineProperty(F.prototype,"getDatasourceServiceConfig",{get:function(){return this.datasourceServiceConfigRecord},enumerable:!1,configurable:!0}),F.\u0275fac=function(L){return new(L||F)(w.\u0275\u0275inject(Z.Kl))},F.\u0275prov=w.\u0275\u0275defineInjectable({token:F,factory:F.\u0275fac,providedIn:"root"}),F}(),U=function(){function F(h){this.gitSwitchBranchFacade=h}return F.prototype.switchBranch=function(h){return this.gitSwitchBranchFacade.switchBranch(h)},F.prototype.getSwitchBranchState=function(h){return this.gitSwitchBranchFacade.getSwitchBranchState(h)},F.\u0275fac=function(L){return new(L||F)(w.\u0275\u0275inject(p.CCT))},F.\u0275prov=w.\u0275\u0275defineInjectable({token:F,factory:F.\u0275fac,providedIn:"root"}),F}()},65232:function(tt,ke,u){u.d(ke,{jR:function(){return Se},Nn:function(){return V}});var g=u(77476),p=u(32293),oe=u(78035),C=u(32980),X=u(17177),M=u(50423),V=function(){function B(){}return B.\u0275fac=function(k){return new(k||B)},B.\u0275mod=M.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=M.\u0275\u0275defineInjector({imports:[g.CommonModule,p.Is,oe.Y,C.sp,X.T6]}),B}(),e=u(81337),Z=u(18016),H=u(67758),w=u(41838),ve=u(12315),U=u(95825),F=u(74913);function h(B,T){if(1&B&&(M.\u0275\u0275elementStart(0,"div",1),M.\u0275\u0275element(1,"tri-svg-icon",2),M.\u0275\u0275elementStart(2,"span",3),M.\u0275\u0275text(3),M.\u0275\u0275elementEnd()()),2&B){var k=T.$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275property("sprite",k.sprite)("name",k.iconName),M.\u0275\u0275advance(1),M.\u0275\u0275attribute("aria-label",k.name),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(k.name)}}var L=function(){function B(){this.artifactList=[]}return B.\u0275fac=function(k){return new(k||B)},B.\u0275cmp=M.\u0275\u0275defineComponent({type:B,selectors:[["tri-git-items-list"]],inputs:{artifactList:"artifactList"},decls:1,vars:1,consts:[["class","artifacts-list",4,"ngFor","ngForOf"],[1,"artifacts-list"],["tri-svg-icon-22","",1,"artifact-icon",3,"sprite","name"],["tabIndex","0",1,"artifact-name","trimmedTextWithEllipsis"]],template:function(k,S){1&k&&M.\u0275\u0275template(0,h,4,4,"div",0),2&k&&M.\u0275\u0275property("ngForOf",S.artifactList)},dependencies:[g.NgForOf,F.M],styles:[".artifacts-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;min-height:40px;flex-grow:1;gap:8px}.artifacts-list[_ngcontent-%COMP%]   .artifact-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey26)}.artifacts-list[_ngcontent-%COMP%]   .artifact-name[_ngcontent-%COMP%]{font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);color:var(--colorNeutralForeground1)}"]}),B}(),q=u(55334);function Q(B,T){if(1&B&&M.\u0275\u0275element(0,"tri-git-items-list",5),2&B){var k=M.\u0275\u0275nextContext();M.\u0275\u0275property("artifactList",k.failedArtifacts)}}function ie(B,T){if(1&B&&(M.\u0275\u0275elementStart(0,"div",8)(1,"span"),M.\u0275\u0275element(2,"tri-svg-icon",9),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"span",10),M.\u0275\u0275text(4),M.\u0275\u0275elementEnd()()),2&B){var k=T.$implicit;M.\u0275\u0275advance(2),M.\u0275\u0275property("sprite","git-icons")("name","bullet_dot_8"),M.\u0275\u0275advance(1),M.\u0275\u0275attribute("aria-label",k),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(k)}}function he(B,T){if(1&B&&(M.\u0275\u0275elementStart(0,"div",6),M.\u0275\u0275template(1,ie,5,4,"div",7),M.\u0275\u0275elementEnd()),2&B){var k=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275property("ngForOf",k.data.moreInfo)}}function Le(B,T){if(1&B){var k=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",11),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(k);var J=M.\u0275\u0275nextContext();return M.\u0275\u0275resetView(J.collapseExpand())}),M.\u0275\u0275pipe(1,"localizeFormat"),M.\u0275\u0275elementStart(2,"span"),M.\u0275\u0275text(3),M.\u0275\u0275pipe(4,"localize"),M.\u0275\u0275pipe(5,"localize"),M.\u0275\u0275elementEnd(),M.\u0275\u0275element(6,"tri-svg-icon",12),M.\u0275\u0275elementEnd()}if(2&B){var S=M.\u0275\u0275nextContext();M.\u0275\u0275attribute("aria-expanded",!S.showDetailsToggle)("aria-label",M.\u0275\u0275pipeBind2(1,4,S.showDetailsToggle?"ClickToExpandFormat":"ClickToCollapseFormat","errorDetails")),M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate(S.showDetailsToggle?M.\u0275\u0275pipeBind1(4,7,"Generic_HideDetails"):M.\u0275\u0275pipeBind1(5,9,"Generic_ShowDetails")),M.\u0275\u0275advance(3),M.\u0275\u0275property("name",S.showDetailsToggle?"chevron_up_16_regular":"chevron_down_16_regular")}}function ne(B,T){if(1&B&&(M.\u0275\u0275elementStart(0,"p")(1,"b"),M.\u0275\u0275text(2),M.\u0275\u0275pipe(3,"localize"),M.\u0275\u0275elementEnd(),M.\u0275\u0275text(4),M.\u0275\u0275elementEnd()),2&B){var k=T.$implicit;M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1("",k.shouldLocalize?M.\u0275\u0275pipeBind1(3,2,k.name):k.name," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1("",k.content," ")}}function ze(B,T){if(1&B&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"div",13),M.\u0275\u0275template(2,ne,5,4,"p",14),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()),2&B){var k=M.\u0275\u0275nextContext();M.\u0275\u0275advance(2),M.\u0275\u0275property("ngForOf",k.details)}}var Be=function(){function B(T,k,S){var j,J,fe,Ie;this.dialogRef=T,this.extensionManifestService=k,this.data=S,this.showDetailsToggle=!1,this.errorDetails=this.data.errorDetails,this.requestInfo=this.data.requestInfo,this.details=[],this.artifactType=null===(J=null===(j=this.errorDetails)||void 0===j?void 0:j.failedArtifactMetadata)||void 0===J?void 0:J.artifactType,this.artifactName=null===(Ie=null===(fe=this.errorDetails)||void 0===fe?void 0:fe.failedArtifactMetadata)||void 0===Ie?void 0:Ie.artifactDisplayName,this.failedArtifacts=[],this.failedArtifactsSize=0,this.createGitErrorDetailsFromGitError()}return B.prototype.convertDialogData=function(T){return{title:T.title,buttons:T.buttons}},B.prototype.close=function(){return this.dialogRef.close()},B.prototype.collapseExpand=function(){this.showDetailsToggle=!this.showDetailsToggle},B.prototype.getErrorMoreInfoSize=function(){var T,k;return null!==(k=null===(T=this.data.moreInfo)||void 0===T?void 0:T.length)&&void 0!==k?k:0},B.prototype.createGitErrorDetailsFromGitError=function(){var T,k,S,j,J,fe;if(null!=this&&this.errorDetails){if(this.requestInfo.clusterUri&&this.details.push(this.createGitErrorDetail("ServerError_ClusterUriText",this.requestInfo.clusterUri)),this.requestInfo.activityId&&this.details.push(this.createGitErrorDetail("ServerError_ActivityIdText",this.requestInfo.activityId)),this.requestInfo.requestId&&this.details.push(this.createGitErrorDetail("AdditionalErrorInfo_RequestIdText",this.requestInfo.requestId)),!(null===(T=this.errorDetails)||void 0===T)&&T.workloadErrorCode&&this.details.push(this.createGitErrorDetail("Workload_Error_Code",this.errorDetails.workloadErrorCode)),this.getFailedArtifactsDetails(),null!==(k=this.errorDetails)&&void 0!==k&&k.workloadErrorMessage){var Ie=this.errorDetails.workloadErrorMessage,Te=(Ie.match(/{(\d+)}/g)||[]).length;if(null!==(S=this.errorDetails)&&void 0!==S&&S.workloadErrorParameters){var Pe=this.errorDetails.workloadErrorParameters,ct=Pe.length;if(Te===ct){for(var Ct=Ie,D=0;D<ct;D++)Ct=Ct.replace("{".concat(D,"}"),Pe[D]);this.details.push(this.createGitErrorDetail("Workload_Error_Message",Ct))}}else 0===Te&&this.details.push(this.createGitErrorDetail("Workload_Error_Message",Ie))}if(null!==(j=this.errorDetails)&&void 0!==j&&j.errorParameters)for(var de in this.errorDetails.errorParameters)this.details.push(this.createGitErrorDetail(de,this.errorDetails.errorParameters[de],!1));this.details.push(this.createGitErrorDetail("ServerError_TimestampText",null!==(fe=null===(J=null==this?void 0:this.errorDetails)||void 0===J?void 0:J.time)&&void 0!==fe?fe:(new Date).toString()))}},B.prototype.createGitErrorDetail=function(T,k,S){return void 0===S&&(S=!0),{name:T,content:k,shouldLocalize:S}},B.prototype.getFailedArtifactsDetails=function(){var T,k,S;if(this.artifactType&&this.artifactName){var j=this.extensionManifestService.getFrontendArtifactType(this.artifactType),J=(0,w.zp)(j);this.failedArtifacts.push({name:this.artifactName,iconName:J?.name,sprite:J?.sprite})}else if(null!==(T=this.errorDetails)&&void 0!==T&&T.errorParameters)for(var fe=null===(S=null===(k=this.errorDetails)||void 0===k?void 0:k.errorParameters.Artifacts)||void 0===S?void 0:S.slice(1,-1),Ie=/Display Name: '([^']+)' Type: '([^']+)'/g,Te=void 0;null!==(Te=Ie.exec(fe));)j=this.extensionManifestService.getFrontendArtifactType(Te[2]),ve.RG.includes(j)&&(J=(0,w.zp)(j),this.failedArtifacts.push({name:Te[1],iconName:J?.name,sprite:J?.sprite}));this.failedArtifactsSize=this.failedArtifacts.length},B.\u0275fac=function(k){return new(k||B)(M.\u0275\u0275directiveInject(p.so),M.\u0275\u0275directiveInject(H.vC),M.\u0275\u0275directiveInject(p.WI))},B.\u0275cmp=M.\u0275\u0275defineComponent({type:B,selectors:[["tri-git-error-dialog"]],decls:7,vars:9,consts:[[3,"dialogData","closeButtonLabel","buttonClickEvent"],["class","git-artifact-list",3,"artifactList",4,"ngIf"],["class","git-info-list",4,"ngIf"],["class","details-selector",3,"click",4,"ngIf"],[4,"ngIf"],[1,"git-artifact-list",3,"artifactList"],[1,"git-info-list"],["class","info-list-item",4,"ngFor","ngForOf"],[1,"info-list-item"],["calss","info-icon","tri-svg-icon-8","",3,"sprite","name"],[1,"list-item"],[1,"details-selector",3,"click"],["tri-svg-icon-16","",3,"name"],[1,"error-details-container"],[4,"ngFor","ngForOf"]],template:function(k,S){1&k&&(M.\u0275\u0275elementStart(0,"trident-dialog",0),M.\u0275\u0275listener("buttonClickEvent",function(){return S.close()}),M.\u0275\u0275pipe(1,"localize"),M.\u0275\u0275text(2),M.\u0275\u0275template(3,Q,1,1,"tri-git-items-list",1),M.\u0275\u0275template(4,he,2,1,"div",2),M.\u0275\u0275template(5,Le,7,11,"div",3),M.\u0275\u0275template(6,ze,3,1,"ng-container",4),M.\u0275\u0275elementEnd()),2&k&&(M.\u0275\u0275property("dialogData",S.convertDialogData(S.data))("closeButtonLabel",M.\u0275\u0275pipeBind1(1,7,"Close")),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",S.data.content," "),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",S.failedArtifactsSize>0),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",S.getErrorMoreInfoSize()>0),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",S.details.length>0),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",S.showDetailsToggle))},dependencies:[g.NgForOf,g.NgIf,U.v,F.M,L,q.Y,q.A],styles:[".mat-mdc-dialog-content{display:flex;flex-direction:column;margin-top:4px;margin-bottom:16px;gap:12px}.details-selector[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:6px;font-weight:600}.error-details-container[_ngcontent-%COMP%]{font-size:12px;display:flex;flex-direction:column;align-items:flex-start;padding:12px;max-height:228px;overflow-y:scroll;background:var(--globalColorGrey96);border-radius:4px}.error-details-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.git-artifact-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:auto;min-height:40px;max-height:200px}.git-info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.info-list-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;gap:8px}"],changeDetection:0}),B}(),Ge=u(7452),Ye=u(54323),Se=function(){function B(T,k,S){this.dialogService=T,this.localizationService=k,this.telemetryService=S,this.dialogWidth="564px",this.defaultDialogClass="dialog-style"}return B.prototype.getErrorContent=function(T){var k,S,j=null===(k=Z.A6[T])||void 0===k?void 0:k.messageKey,J=null===(S=Z.A6[T])||void 0===S?void 0:S.titleKey;return(!j||!J)&&(T.startsWith("Git_")||T.startsWith("Alm"))&&this.telemetryService.logEvent({name:"Git error which is not mapped to content occurred",properties:{errorType:T}}),{message:this.localizationService.get(j??"ErrorDialogHelperText_TechnicalDetails"),title:this.localizationService.get(J??"ErrorMessage_DefaultTitle")}},B.prototype.getErrorMoreInfo=function(T){var k,S;return null!==(S=null===(k=Z.jZ[T])||void 0===k?void 0:k.moreInfoKeys)&&void 0!==S?S:[]},B.prototype.handleSyncGitError=function(T,k){var S=this.makeGitErrorFromHttpResponse(T,k);return this.showErrorHandlingDialog(S),S},B.prototype.handleAlmGitError=function(T,k){return this.isGitAlmError(T,k)?this.makeGitErrorFromAlmResponse(T,k):this.makeClientSideGitError(T)},B.prototype.handleClientSideGitError=function(T,k){this.logValidationError(T);var S=this.makeClientSideGitError(T,k);return this.showErrorHandlingDialog(S),S},B.prototype.logValidationError=function(T){this.telemetryService.logEvent({name:"Validation error occurred",properties:{errorType:T}})},B.prototype.showErrorHandlingDialog=function(T){var k=this.createGitErrorDialogModel(T);return this.dialogService.open(k.componentRef,k.config)},B.prototype.createGitErrorDialogModel=function(T){var S,j,J,k=this,fe=this.localizationService.get("Close"),Ie=(0,Z.lz)(T),Te=this.getErrorMoreInfo(Ie?.errorType).map(function(ct){return k.localizationService.get(ct)}),Pe={title:Ie.title,buttons:[{name:fe,label:fe,buttonType:null}],content:Ie.message,moreInfo:Te,errorDetails:Ie,requestInfo:{clusterUri:null===(S=T.errorInfo)||void 0===S?void 0:S.clusterUri,activityId:null===(j=T.errorInfo)||void 0===j?void 0:j.activityId,requestId:null===(J=T.errorInfo)||void 0===J?void 0:J.requestId}};return{componentRef:Be,config:{width:this.dialogWidth,panelClass:this.defaultDialogClass,data:Pe}}},B.prototype.makeClientSideGitError=function(T,k){var S=this.getErrorContent(T);return(0,Z.iX)([{errorType:T,title:S.title,message:S.message,errorParameters:k}])},B.prototype.makeGitErrorFromHttpResponse=function(T,k){var J,S=this.parseHttpWorkloadError(k),j=this.parseHttpError(k);J=(0,Z.KJ)(k)?"Git_AdoConditionalAccessNotSupported":"Git_Switch_Branch_Item_Not_Found"===T?"Git_Switch_Branch_Item_Not_Found":"Git_Branch_Out_Failed"===T?this.getBranchOutError(k):j?.code?j.code:T;var fe=this.getErrorContent(J),Ie=(0,e.pi)((0,e.pi)((0,e.pi)({},S),j),{errorType:J,time:(new Date).toString(),title:fe.title,message:fe.message}),Te={requestId:k?.requestId,clusterUri:window.clusterUri,activityId:k?.activityId,statusCode:k?.status};return(0,Z.iX)([Ie],Te)},B.prototype.makeGitErrorFromAlmResponse=function(T,k){var j,J,fe,Ie,Te,S=this,Pe=[];if(k.gitInteractiveOperationErrorDetailsList)null===(j=k.gitInteractiveOperationErrorDetailsList)||void 0===j||j.forEach(function(Ae){var St,rt,dt,ot,yt,Ze,gt;Te=S.parseAlmWorkloadError(Ae);var ht=S.getErrorContent(Te.workloadErrorCode),Rt={dialogMessage:ht.message,interactionType:null!==(dt=null===(rt=null===(St=Ae?.artifactErrorDetails)||void 0===St?void 0:St.UserInteractionRequest)||void 0===rt?void 0:rt.InteractionType)&&void 0!==dt?dt:Z.s_.None,options:null!==(Ze=null===(yt=null===(ot=Ae?.artifactErrorDetails)||void 0===ot?void 0:ot.UserInteractionRequest)||void 0===yt?void 0:yt.Options)&&void 0!==Ze?Ze:[]},Zt=(0,e.pi)((0,e.pi)({},Te),{errorType:T,time:null===(gt=k.lastUpdatedTime)||void 0===gt?void 0:gt.toString(),title:ht.title,message:ht.message,interactiveOperationInfo:Rt});Pe.push(Zt)});else if(k.gitNonInteractiveOperationErrorDetails){Te=this.parseAlmWorkloadError(k.gitNonInteractiveOperationErrorDetails);var ct=null!==(J=Te?.workloadErrorCode)&&void 0!==J?J:T,Ct=this.getErrorContent(ct),D=(0,e.pi)((0,e.pi)({},Te),{errorType:ct,time:null===(fe=k.lastUpdatedTime)||void 0===fe?void 0:fe.toString(),title:Ct.title,message:Ct.message});if((0,Z.VQ)(T,k)){var de=this.getErrorContent("Git_GitProviderCommitRejectedByPolicy");D.errorType="Git_GitProviderCommitRejectedByPolicy",D.title=de.title,D.message=de.message}else(0,Z.Ss)(T,k)&&(de=this.getErrorContent("Git_GitProviderCommitMaxSizeExceeded"),D.errorType="Git_GitProviderCommitMaxSizeExceeded",D.title=de.title,D.message=de.message);Pe.push(D)}var De={requestId:null===(Ie=k.gitNonInteractiveOperationErrorDetails)||void 0===Ie?void 0:Ie.requestId,clusterUri:window.clusterUri,retryOperationId:k.gitOperationId};return(0,Z.iX)(Pe,De)},B.prototype.isDedicatedErrorMessageAvailable=function(T){return T in Z.A6},B.prototype.parseHttpError=function(T){var k,S,j;return{code:null===(k=T?.error)||void 0===k?void 0:k.code,errorParameters:null===(j=null===(S=T?.error)||void 0===S?void 0:S["pbi.error"])||void 0===j?void 0:j.parameters}},B.prototype.parseHttpWorkloadError=function(T){var k,S,j,J,fe,Ie,Te,Pe,ct=null===(j=null===(S=null===(k=T?.error)||void 0===k?void 0:k["pbi.error"])||void 0===S?void 0:S.parameters)||void 0===j?void 0:j.GitErrorDetails;return ct&&(Pe=JSON.parse(ct)),Pe?{failedArtifactMetadata:Pe?.artifactType&&Pe?.artifactDisplayName?{artifactType:Pe.artifactType,artifactDisplayName:Pe.artifactDisplayName,artifactLogicalId:Pe.artifactLogicalId}:void 0,workloadErrorCode:null!==(fe=null===(J=Pe?.errorDetails)||void 0===J?void 0:J.ErrorCode)&&void 0!==fe?fe:Pe?.errorCode,workloadErrorMessage:null===(Ie=Pe?.errorDetails)||void 0===Ie?void 0:Ie.ErrorMessage,workloadErrorParameters:null===(Te=Pe?.errorDetails)||void 0===Te?void 0:Te.ErrorParameters}:{failedArtifactMetadata:void 0,workloadErrorCode:void 0,workloadErrorMessage:void 0,workloadErrorParameters:void 0}},B.prototype.parseAlmWorkloadError=function(T){var k,S,j,J,fe;return{failedArtifactMetadata:{artifactDisplayName:T.artifactDisplayName,artifactType:T.artifactType,artifactLogicalId:T.artifactLogicalId},workloadErrorCode:null!==(S=null===(k=T.artifactErrorDetails)||void 0===k?void 0:k.ErrorCode)&&void 0!==S?S:T.errorCode,workloadErrorMessage:null===(j=T.artifactErrorDetails)||void 0===j?void 0:j.ErrorMessage,workloadErrorCategory:null===(J=T.artifactErrorDetails)||void 0===J?void 0:J.ErrorCategory,workloadErrorParameters:null===(fe=T?.artifactErrorDetails)||void 0===fe?void 0:fe.ErrorParameters}},B.prototype.isGitAlmError=function(T,k){return k.gitOperationStatus===Z.wM.Failed&&(!!k.gitNonInteractiveOperationErrorDetails||!!k.gitInteractiveOperationErrorDetailsList)&&(0,Z.ve)(T)},B.prototype.getBranchOutError=function(T){var k,S,j,J,fe,Ie=null===(k=T.error)||void 0===k?void 0:k.code;if("Alm_InvalidBranchOutRequest_OperationFailureAfterFolderCreation"===Ie){var Te=null===(fe=null===(J=null===(j=null===(S=T.error)||void 0===S?void 0:S["pbi.error"])||void 0===j?void 0:j.details)||void 0===J?void 0:J[0])||void 0===fe?void 0:fe.code;if(Te)return Te}else if(Ie)return Ie;return"Git_Branch_Out_Failed"},B.\u0275fac=function(k){return new(k||B)(M.\u0275\u0275inject(C.uQ),M.\u0275\u0275inject(Ge.z),M.\u0275\u0275inject(Ye.t))},B.\u0275prov=M.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B}();(0,e.pi)({errorType:"Git_MergePolicyNotSpecified"},{title:"MockTitle",message:"MockMessage"})},12385:function(tt,ke,u){u.d(ke,{mn:function(){return U},K3:function(){return C}});var g=u(77476),p=u(65232),oe=u(50423),C=function(){function F(){}return F.\u0275fac=function(L){return new(L||F)},F.\u0275mod=oe.\u0275\u0275defineNgModule({type:F}),F.\u0275inj=oe.\u0275\u0275defineInjector({imports:[g.CommonModule,p.Nn]}),F}(),X=u(81337),M=u(42888),V=u(73471),e={style:"Trident"},Z=(0,X.pi)((0,X.pi)({},e),{notificationType:V.k$.Loading}),H=(0,X.pi)((0,X.pi)({},e),{notificationType:V.k$.Success}),w=(0,X.pi)((0,X.pi)({},e),{notificationType:V.k$.Error}),ve=u(7452),U=function(){function F(h,L){this.localizationService=h,this.notificationService=L}return F.prototype.hideNotification=function(h){return this.notificationService.hide(h)},F.prototype.hideCurrentNotification=function(){this.notificationService.hideCurrentNotification()},F.prototype.showLoadingNotification=function(h,L){var q=(0,X.pi)((0,X.pi)({},Z),{title:this.localizationService.get(h),message:L?this.localizationService.get(L):void 0});return this.notificationService.notify(q)},F.prototype.showSuccessNotification=function(h,L){var q=(0,X.pi)((0,X.pi)({},H),{id:L,title:this.localizationService.get(h)});return this.notificationService.notify(q)},F.prototype.showErrorNotification=function(h,L,q){var Q={action:"open.git.error.dialog",data:h},ie={displayText:this.localizationService.get("View_Details"),action:Q};return this.notificationService.notify((0,X.pi)((0,X.pi)({},w),{id:q,duration:M.S.Long,title:this.localizationService.get(L),message:this.localizationService.get("View_Details_Learn_More"),actionButtons:[ie]}))},F.\u0275fac=function(L){return new(L||F)(oe.\u0275\u0275inject(ve.z),oe.\u0275\u0275inject(M.g))},F.\u0275prov=oe.\u0275\u0275defineInjectable({token:F,factory:F.\u0275fac,providedIn:"root"}),F}()},18016:function(tt,ke,u){u.d(ke,{wM:function(){return Ye},u9:function(){return Ge},IS:function(){return ne},s_:function(){return he},Z_:function(){return nt},I:function(){return j},f7:function(){return S},LO:function(){return J},Rv:function(){return Se},cW:function(){return fe},tI:function(){return Ct},lz:function(){return V},n:function(){return Pe},A6:function(){return C},jZ:function(){return X},xT:function(){return e},L4:function(){return ct},KJ:function(){return Z},VQ:function(){return U},Ss:function(){return h},ve:function(){return Q},pb:function(){return M},Fc:function(){return H},yG:function(){return ie},E6:function(){return ve},iX:function(){return L},QJ:function(){return Be}});var g,p,oe=function(D){return D.AdalMultiFactorAuthEnrollRequiredErrorCode="AdalMultiFactorAuthEnrollRequiredErrorCode",D.AdalMultiFactorAuthRequiredErrorCode="AdalMultiFactorAuthRequiredErrorCode",D.AdalDeviceObjectNotFoundInTenantErrorCode="AdalDeviceObjectNotFoundInTenantErrorCode",D}({}),C=((g={}).Git_MissingRequiredParam={messageKey:"Trident_Git_Error_Git_Provider_API_Message",titleKey:"Trident_Git_Error_Git_Provider_API_Title"},g.Git_DirectoryHasInvalidSystemFiles={messageKey:"Trident_Git_Error_Git_DirectoryHasInvalidSystemFiles_Message",titleKey:"Trident_Git_Error_Git_DirectoryHasInvalidSystemFiles_Title"},g.Git_SelectedArtifactsDoNotBelongToWorkspace={messageKey:"Trident_Git_Error_Git_Undo_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},g.Git_AzureDevOpsMissingProjectName={messageKey:"Trident_Git_Error_Git_Connect_Failed_Message",titleKey:"Trident_Git_Error_Git_Connect_Failed_Title"},g.Git_UndoDuplicateArtifacts={messageKey:"Trident_Git_Error_Git_Undo_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},g.Git_CommitInvalidArtifacts={messageKey:"Trident_Git_Error_Git_InvalidCommitRequest_Message",titleKey:"Trident_Git_Error_Unable_To_Commit_Title"},g.Git_GitProviderApiFailed={messageKey:"Trident_Git_Error_Git_Provider_API_Message",titleKey:"Trident_Git_Error_Git_Provider_API_Title"},g.Git_GitProviderDeserialization={messageKey:"Trident_Git_Error_Git_Provider_API_Message",titleKey:"Trident_Git_Error_Git_Provider_API_Title"},g.Git_GitProviderResourceNotExistOrUnauthorized={messageKey:"Trident_Git_Error_Git_No_Permissions_ADO_Message",titleKey:"Trident_Git_Error_Git_No_Permissions_ADO_Title"},g.Git_WorkspaceAlreadyConnectedToGit={messageKey:"Trident_Git_Error_Git_Workspace_Already_Connected_To_Git_Message",titleKey:"Trident_Git_Error_Git_Workspace_Already_Connected_To_Git_Title"},g.Git_WorkspaceNotConnectedToGit={messageKey:"Trident_Git_Error_Git_Workspace_Not_Connected_To_Git_Message",titleKey:"Trident_Git_Error_Git_Workspace_Not_Connected_To_Git_Title"},g.Git_WorkspaceHasNoCapacity={messageKey:"Trident_Git_Error_Git_Workspace_Has_No_Capacity_Message",titleKey:"Pipelines_Error_FoldersHasNoCapacity_Title"},g.Git_InvalidPath={messageKey:"Trident_Git_Error_Git_Connection_Details_Message",titleKey:"Trident_Git_Error_Git_Connection_Details_Title"},g.Alm_InvalidRequest_PurgeRequired={messageKey:"Trident_Git_Error_Dataset_PurgeData_Message",titleKey:"Trident_Git_Error_AlmOperation_Update_Title"},g.Git_PotentialCrossGeo={messageKey:"Trident_Git_Error_Git_PotentialCrossGeo_Message",titleKey:"Trident_Git_Error_Git_PotentialCrossGeo_Title"},g.Git_DuplicateDisplayNameAndType={messageKey:"Trident_Git_Error_Git_DuplicateDisplayNameAndType_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},g.Git_CommitDuplicateArtifacts={messageKey:"Trident_Git_Error_Git_CommitDuplicateArtifacts_Message",titleKey:"Trident_Git_Error_Git_CommitDuplicateArtifacts_Title"},g.Git_HeadNotSynced={messageKey:"Trident_Git_Error_Git_HeadNotSynced_Message",titleKey:"Trident_Git_Error_Git_HeadNotSynced_Title"},g.Git_IdentifierExceededMaxLength={messageKey:"Trident_Git_Error_Git_IdentifierExceededMaxLength_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},g.Git_InvalidCommitRequest={messageKey:"Trident_Git_Error_Git_InvalidCommitRequest_Message",titleKey:"Trident_Git_Error_Unable_To_Commit_Title"},g.Git_InvalidUndoRequest={messageKey:"Trident_Git_Error_Git_Undo_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},g.Git_InvalidBranchName={messageKey:"Trident_Git_Error_Git_InvalidBranchName_Message",titleKey:"Trident_Git_Error_Git_InvalidBranchName_Title"},g.Git_InvalidDirectoryName={messageKey:"Trident_Git_Error_Git_InvalidDirectoryName_Message",titleKey:"Trident_Git_Error_Git_InvalidDirectoryName_Title"},g.Git_InvalidRequestNoFilesToCommit={messageKey:"Trident_Git_Error_Git_InvalidRequestNoFilesToCommit_Message",titleKey:"Trident_Git_Error_Git_InvalidRequestNoFilesToCommit_Title"},g.Git_PotentialMergeConflict={messageKey:"Trident_Git_Error_Git_PotentialMergeConflict_Message",titleKey:"Trident_Git_Error_Git_PotentialMergeConflict_Title"},g.Git_GitConnectionAlreadyInitialized={messageKey:"Trident_Git_Error_Git_GitConnectionAlreadyInitialized_Message",titleKey:"Trident_Git_Error_Git_GitConnectionAlreadyInitialized_Title"},g.Git_UnexpectedResponseFromGitProvider={messageKey:"Trident_Git_Error_Git_Provider_API_Message",titleKey:"Trident_Git_Error_Git_Provider_API_Title"},g.Git_DependenciesDeletionFailed={messageKey:"Trident_Git_Error_Git_DependenciesDeletionFailed_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},g.Git_MissingDependencies={messageKey:"Trident_Git_Error_Git_MissingDependencies_Message",titleKey:"Trident_Git_Error_Unable_To_Update_Title"},g.Git_MissingDependenciesSwitchBranch={messageKey:"Trident_Git_Error_Git_Switch_Branch_MissingDependencies_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_CyclicDependencyDetectedSwitchBranch={messageKey:"Trident_Git_Error_Git_Switch_Branch_MissingDependencies_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_CyclicDependencyDetected={messageKey:"Trident_Git_Error_Git_MissingDependencies_Message",titleKey:"Trident_Git_Error_Unable_To_Update_Title"},g.Git_ItemNotFound={titleKey:"Trident_Git_Error_Git_ItemNotFound_Title",messageKey:"Trident_Git_Error_Git_ItemNotFound_Message"},g.Git_PathTooLong={titleKey:"Trident_Git_Error_Git_PathTooLong_Title",messageKey:"Trident_Git_Error_Git_PathTooLong_Message"},g.Git_GitOperationWithSensitivityLabelsNotSupported={messageKey:"Trident_Git_Error_Git_GitOperationWithSensitivityLabelsNotSupported_Message",titleKey:"Trident_Git_Error_Git_GitOperationWithSensitivityLabelsNotSupported_Title"},g.Git_BranchDeleted={messageKey:"Trident_Git_Error_Git_BranchDeleted_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},g.Git_GitProviderCommitRejectedByPolicy={messageKey:"Trident_Git_Error_GitProviderCommitRejectedByPolicy_Message",titleKey:"Trident_Git_Error_GitProviderCommitRejectedByPolicy_Title"},g.Git_DirectoryNameDiffersByCase={messageKey:"Trident_Git_Error_Git_ItemNotFound_Message",titleKey:"Trident_Git_Error_Git_ItemNotFound_Title"},g.Git_GitIntegrationTenantAdminSwitchDisabled={messageKey:"Trident_Git_TenantAdminSwitchDisabled_Message",titleKey:"Trident_Git_TenantAdminSwitchDisabled_Title"},g.Git_GitProviderCommitMaxSizeExceeded={messageKey:"Trident_Git_Error_GitProviderCommitMaxSizeExceeded_Message",titleKey:"Trident_Git_Error_GitProviderCommitMaxSizeExceeded_Title"},g.Git_ExportDefinitionFailed={messageKey:"Trident_Git_Error_ExportDefinitionFailed_Message",titleKey:"Trident_Git_Error_ExportDefinitionFailed_Title"},g.Git_DiscoverDependenciesFailed={messageKey:"Trident_Git_Error_DiscoverDependenciesFailed_Message",titleKey:"Trident_Git_Error_DiscoverDependenciesFailed_Title"},g.Git_GitProviderUnauthorizedGuestUser={messageKey:"Trident_Git_Error_GitProviderUnauthorizedGuestUser_Message",titleKey:"Trident_Git_Error_GitProviderUnauthorizedGuestUser_Title"},g.Git_GitProviderCommitObjectRejected={messageKey:"Trident_Git_Error_GitProviderCommitObjectRejected_Message",titleKey:"Trident_Git_Error_GitProviderCommitRejectedByPolicy_Title"},g.Git_BranchNameAlreadyExists={messageKey:"Trident_Git_Error_Git_Branch_Name_Already_Exists_Message",titleKey:"Trident_Git_Error_Git_InvalidBranchName_Title"},g.Git_GitProviderAadUserStateError={messageKey:"Trident_Git_Error_GitProviderAadUserStateError_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},g.Git_Disconnect_No_Connection={messageKey:"Trident_Git_Error_Git_Disconnect_No_Connection_Message",titleKey:"Trident_Git_Error_Git_Disconnect_Failed_Title"},g.Git_Invalid_Connection_Details={messageKey:"Trident_Git_Error_Git_Invalid_Connection_Details_Message",titleKey:"Trident_Git_Error_Git_Invalid_Connection_Details_Title"},g.Git_ConnectionDetailsNotFound={messageKey:"Trident_Git_Error_Git_Connection_Details_Not_Found_Message",titleKey:"ErrorMessage_DefaultTitle"},g.Git_Workspace_Not_Initialized={messageKey:"Trident_Git_Error_Git_Workspace_Not_Initialized_Message",titleKey:"Trident_Git_Error_Git_Workspace_Not_Initialized_Title"},g.Git_Create_Branch_Origin_Branch_Not_Found={messageKey:"Trident_Git_Error_Git_Create_Branch_Origin_Branch_Not_Found_Message",titleKey:"Trident_Git_Error_Git_Create_Branch_Origin_Branch_Not_Found_Title"},g.Git_GitSwitchBranchWithUncommittedChanges={messageKey:"Trident_Git_Error_Git_Switch_Branch_Uncommited_Changes_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.GitGitInvalidSwitchBranchRequest={messageKey:"Trident_Git_Error_Git_Switch_Branch_Invalid_Request_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.GitSwitchBranchIdenticalBranchName={messageKey:"Trident_Git_Error_Git_Switch_Branch_Identical_Branch_Name_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_Switch_Branch_Item_Not_Found={messageKey:"Trident_Git_Error_Git_Switch_Branch_Item_Not_Found_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_Switch_Branch_Head_Not_Synced={messageKey:"Trident_Git_Error_Git_Switch_Branch_Head_Not_Synced_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_GitProviderCredentialsNotAuthorizedError={messageKey:"Trident_Git_Error_Git_CredentialsNotAuthorized_Message",titleKey:"Trident_Git_Error_Git_CredentialsNotAuthorized_Title"},g.Git_DuplicateArtifactsWithSameLogicalId={messageKey:"Trident_Git_Duplicate_LogicalId_Message",titleKey:"Trident_Git_Duplicate_LogicalId_Title"},g.Git_PotentialDuplicateDisplayNameAndType={messageKey:"Trident_Git_Error_Git_Potential_Duplicate_Diaplay_Name_And_Type_Message",titleKey:"Trident_Git_Error_AlmOperation_Update_Title"},g.Git_DisplayNameIsInvalid={messageKey:"Trident_Git_Error_Git_Display_Name_Is_Invalid_Message",titleKey:"Trident_Git_Error_AlmOperation_Update_Title"},g.Git_GitIntegrationBlockedByDataLossPrevention={messageKey:"Trident_Git_Blocked_DataLoss_Prevention_Message",titleKey:"Trident_Git_Blocked_DataLoss_Prevention_Title"},g.Git_Connect_Invalid_Request={messageKey:"Trident_Git_Error_Git_Connect_Failed_Message",titleKey:"Trident_Git_Error_Git_Connect_Failed_Title"},g.Git_Disconnect_Invalid_Request={messageKey:"Trident_Git_Error_Git_Disconnect_Failed_Message",titleKey:"Trident_Git_Error_Git_Disconnect_Failed_Title"},g.Git_Initialization_Invalid_Request={messageKey:"Trident_Git_Error_Git_Invalid_Initialization_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Initialize_Title"},g.Git_Undo_Invalid_Request={messageKey:"Trident_Git_Error_Undo_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},g[" Git_Commit_Invalid_Request"]={messageKey:"Trident_Git_Error_Git_InvalidCommitRequest_Message",titleKey:"Trident_Git_Error_Unable_To_Commit_Title"},g.Git_Update_Invalid_Request={messageKey:"Trident_Git_Error_Git_Update_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Update_Title"},g.Git_Create_Branch_Invalid_Request={messageKey:"Trident_Git_Error_Git_Create_Branch_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Create_Branch_Title"},g.Git_Create_Directory_Invalid_Request={messageKey:"Trident_Git_Error_Git_Create_Folder_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Create_Folder_Title"},g.Git_Switch_Branch_Invalid_Request={messageKey:"Trident_Git_Error_Git_Switch_Branch_Invalid_Request_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_Connect_Failed={messageKey:"Trident_Git_Error_Git_Connect_Failed_Message",titleKey:"Trident_Git_Error_Git_Connect_Failed_Title"},g.Git_Status_Failed={messageKey:"Trident_Git_Error_Git_Status_Failed_Message",titleKey:"Trident_Git_Error_Git_Status_Failed_Title"},g.Git_Create_Branch_Failed={messageKey:"Trident_Git_Error_Git_Create_Branch_Failed_Message",titleKey:"Trident_Git_Error_Git_Create_Branch_Failed_Title"},g.Git_Sync_Failed={messageKey:"Trident_Git_Error_Git_Sync_Failed_Message",titleKey:"Trident_Git_Error_Git_Sync_Failed_Title"},g.Git_Disconnect_Failed={messageKey:"Trident_Git_Error_Git_Disconnect_Failed_Message",titleKey:"Trident_Git_Error_Git_Disconnect_Failed_Title"},g.Git_Initialization_Failed={messageKey:"Trident_Git_Error_Git_Initialization_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Initialize_Title"},g.Git_Undo_Failed={messageKey:"Trident_Git_Error_Git_Undo_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},g.Git_Commit_Failed={messageKey:"Trident_Git_Error_Git_InvalidCommitRequest_Message",titleKey:"Trident_Git_Error_Unable_To_Commit_Title"},g.Git_Update_Failed={messageKey:"Trident_Git_Error_Git_Update_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Update_Title"},g.Git_Create_Folder_Failed={messageKey:"Trident_Git_Error_Git_Create_Folder_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Create_Folder_Title"},g.Git_Checkout_Branch_Failed={messageKey:"Trident_Git_Error_Git_Checkout_Branch_Failed_Message",titleKey:"Trident_Git_Error_Git_Checkout_Branch_Failed_Title"},g.Git_Switch_Branch_Failed={messageKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_Get_Branches_Failed={messageKey:"Trident_Git_Error_Git_Get_Branches_Failed_Message",titleKey:"Trident_Git_Error_Git_Connection_Details_Title"},g.Git_Branch_Out_Failed={messageKey:"Trident_Git_Error_Git_Branch_Out_Failed_Message",titleKey:"Trident_Git_Error_Git_Branch_Out_Failed_Title"},g.Git_BranchOutIdenticalBranchNames={messageKey:"Trident_Git_Error_Git_Branch_Name_Already_Exists_Message",titleKey:"Trident_Git_Error_Git_InvalidBranchName_Title"},g.GitProviderRepositoryNotFoundException={messageKey:"Trident_Git_Provider_Repository_Not_Found_Error_Message",titleKey:"Trident_Git_Provider_Repository_Not_Found_Error_Title"},g.GitTreeSizeExceeded={messageKey:"Trident_Git_Tree_Size_Exceeded_Message",titleKey:"Trident_Git_Tree_Size_Exceeded_Title"},g.GitIntegrationGitHubTenantAdminSwitchDisabled={messageKey:"Trident_Git_GitHub_Tenant_Admin_Switch_Disabled_Message",titleKey:"Trident_Git_GitHub_Tenant_Admin_Switch_Disabled_Title"},g.GitTokenExpiredOrDeprecatedException={messageKey:"Trident_Git_Token_Expired_Or_Deprecated_Exception_Message",titleKey:"Trident_Git_Token_Expired_Or_Deprecated_Exception_Title"},g.Git_GitTokenProviderCredentialsKindMismatchError={messageKey:"Trident_Git_Git_Token_Provider_Credentials_Kind_Mismatch_Error_Message",titleKey:"Trident_Git_Git_Token_Provider_Credentials_Kind_Mismatch_Error_Title"},g.Git_GitTokenProviderCredentialsConnectionMismatchError={messageKey:"Trident_Git_Git_Token_Provider_Credentials_Connection_Mismatch_Error_Message",titleKey:"Trident_Git_Git_Token_Provider_Credentials_Connection_Mismatch_Error_Title"},g.Git_GitTokenProviderCredentialsInternalError={messageKey:"Trident_Git_Provider_Bad_Credentials_Message",titleKey:"Trident_Git_Provider_Bad_Credentials_Title"},g.Git_InvalidConfigureCredentialsRequest={messageKey:"Trident_Git_Invalid_Configure_Credentials_Request_Message",titleKey:"Trident_Git_Invalid_Configure_Credentials_Request_Title"},g.GitCommitInvalidOperationResult={messageKey:"Trident_Git_Commit_Invalid_Operation_Result_Message",titleKey:"Trident_Git_Commit_Invalid_Operation_Result_Title"},g.Git_GitProviderRateLimitExceeded={messageKey:"Trident_Git_Git_Provider_Rate_Limit_Exceeded_Message",titleKey:"Trident_Git_Git_Provider_Rate_Limit_Exceeded_Title"},g.Git_GitProviderBadCredentials={messageKey:"Trident_Git_Provider_Bad_Credentials_Message",titleKey:"Trident_Git_Provider_Bad_Credentials_Title"},g.Git_Create_Datasource_Failed={messageKey:"Trident_Git_Create_Datasource_Failed_Message",titleKey:"Trident_Git_Create_Datasource_Failed_Title"},g.Git_Load_Datasources_Failed={messageKey:"Trident_Git_Load_Datasources_Failed_Message",titleKey:"Trident_Git_Load_Datasources_Failed_Title"},g.Git_SQLDatabaseDisplayNameCannotBeChanged={messageKey:"Trident_Git_SQL_Database_Display_Name_Cannot_Be_Changed_Message",titleKey:"Trident_Git_SQL_Database_Display_Name_Cannot_Be_Changed_Title"},g.Git_GitHttpClientTimeout={messageKey:"Trident_Git_Error_Git_GitHttpClientTimeout_Message",titleKey:"MultiSelect_Shortcut_Failed"},g.Alm_InvalidBranchOutRequest_OperationFailureAfterFolderCreation={messageKey:"Trident_Git_Branch_Out_Error_Branch_Error_Message",titleKey:"Trident_Git_Branch_Out_Error_Branch_Error_Title"},g.AlmOperationFailed_CommitToGit={messageKey:"ErrorDialogHelperText_TechnicalDetails",titleKey:"Trident_Git_Error_AlmOperation_Commit_Title"},g.AlmOperationFailed_UndoFromGit={messageKey:"ErrorDialogHelperText_TechnicalDetails",titleKey:"Trident_Git_Error_AlmOperation_Undo_Title"},g.AlmOperationFailed_UpdateFromGit={messageKey:"ErrorDialogHelperText_TechnicalDetails",titleKey:"Trident_Git_Error_AlmOperation_Update_Title"},g.AlmOperationFailed_SwitchGitBranch={messageKey:"ErrorDialogHelperText_TechnicalDetails",titleKey:"Trident_Git_Error_AlmOperation_Switch_Branch_Title"},g.DMTS_DuplicateDataSourceNameError={messageKey:"Trident_Git_Data_Source_Name_Already_Exists_Message",titleKey:"Trident_Git_Data_Source_Name_Already_Exists_Title"},g.DM_GWPipeline_Gateway_MashupDataAccessError={messageKey:"Trident_Git_Provider_Bad_Credentials_Message",titleKey:"Trident_Git_Provider_Bad_Credentials_Title"},g),X=((p={}).Git_PotentialDuplicateDisplayNameAndType={moreInfoKeys:["Trident_Git_Error_Git_Potential_Duplicate_Diaplay_Name_And_Type_MoreInfo1","Trident_Git_Error_Git_Potential_Duplicate_Diaplay_Name_And_Type_MoreInfo2"]},p);function M(D){return D&&"GitError"===D.__tag}function V(D){return D?.errorsDetails[0]}function e(D,de){return D?.errorsDetails.some(function(De){return De.errorType===de})}function Z(D){var de,De=oe[null===(de=D?.error)||void 0===de?void 0:de.code];return 400===D?.status&&!!De}function H(D){var de;return"Git_InvalidDirectoryName"===(null===(de=D.error["pbi.error"])||void 0===de?void 0:de.code)}function ve(D){return e(D,"Git_MergePolicyNotSpecified")}function U(D,de){var De;return"AlmOperationFailed_CommitToGit"===D&&"Git_GitProviderCommitRejectedByPolicy"===(null===(De=de?.gitNonInteractiveOperationErrorDetails)||void 0===De?void 0:De.errorCode)}function h(D,de){var De;return"AlmOperationFailed_CommitToGit"===D&&"Git_GitProviderCommitMaxSizeExceeded"===(null===(De=de?.gitNonInteractiveOperationErrorDetails)||void 0===De?void 0:De.errorCode)}function L(D,de){return{__tag:"GitError",errorInfo:de,errorsDetails:D}}function Q(D){return!!Le.find(function(de){return de===D})}function ie(D){return e(D,"Git_ItemNotFound")||e(D,"Git_DirectoryNameDiffersByCase")}var xe,he=function(D){return D[D.SingleOption=0]="SingleOption",D[D.None=1]="None",D}({}),Le=["AlmOperationFailed_CommitToGit","AlmOperationFailed_UndoFromGit","AlmOperationFailed_UpdateFromGit"],ne=function(D){return D[D.AzureDevOps=0]="AzureDevOps",D[D.GitHub=1]="GitHub",D}({}),Be="optionNotEnabled",Ge=function(D){return D[D.Commit=0]="Commit",D[D.Update=1]="Update",D[D.Initialize=2]="Initialize",D[D.Undo=3]="Undo",D[D.CheckoutBranch=4]="CheckoutBranch",D[D.SwitchBranch=5]="SwitchBranch",D}({}),Ye=function(D){return D[D.InProgress=0]="InProgress",D[D.Successful=1]="Successful",D[D.Failed=2]="Failed",D}({}),nt=function(D){return D[D.None=0]="None",D[D.KeepYours=1]="KeepYours",D[D.TakeTheirs=2]="TakeTheirs",D}({}),Ee=function(D){return D.AzureDevOps="Azure DevOps",D.GitHub="GitHub",D}({}),Se=((xe={})[ne.AzureDevOps]={type:ne.AzureDevOps,name:Ee.AzureDevOps,iconName:"azuredevops_logo_16_regular"},xe[ne.GitHub]={type:ne.GitHub,name:Ee.GitHub,iconName:"github_logo"},xe);function y(D){var de,De=null===(de=E(D))||void 0===de?void 0:de.repositoryLink;if(De)return{branchName:D.branchName,branchLink:De+"?version=GB".concat(D.branchName)}}function O(D){var de,De=null===(de=E(D))||void 0===de?void 0:de.repositoryLink;if(De&&D?.head)return{commitId:D.head,commitLink:De+"/commit/".concat(D.head,"/?refName=refs/heads/").concat(D.branchName)}}function E(D){if(D?.projectName)return{repositoryName:D.repositoryName,repositoryLink:"https://".concat(D.organizationName,".visualstudio.com/").concat(D.projectName,"/_git/").concat(D.repositoryName)}}function B(D){return{branchName:D.branchName,branchLink:k(D).repositoryLink+"/tree/".concat(D.branchName)}}function T(D){if(D?.head)return{commitId:D.head,commitLink:k(D).repositoryLink+"/commit/".concat(D.head)}}function k(D){return{repositoryName:D.repositoryName,repositoryLink:"https://github.com/".concat(D.organizationName,"/").concat(D.repositoryName)}}var S={credentialType:"Key",encryptedConnection:"Any",privacyLevel:"Private",skipTestConnection:!1,encryptionAlgorithm:"NONE"},j={singleSignOnType:"None",allowDatasourceThroughGateway:!1},J="Extension",fe={name:"url",type:"nullable text",isRequired:!1},Ie=["\\","?","*",":","|",'"',"<",">"],Te=["."," "];function Pe(D,de,De){if(void 0===De&&(De="Trident_Git_Last_Synced_At"),de){var Ae=D.currentLanguageLocale,St=new Date(de),rt=D.format("Trident_Git_Last_Synced_At",[St.toLocaleDateString(Ae,{day:"numeric",month:"numeric",year:"numeric"}),St.toLocaleTimeString(Ae,{hour:"numeric",minute:"numeric"})]);return"Trident_Git_Last_Synced_At"===De?rt:D.get(De)+rt}}function ct(){var D;return(D={})[ne.AzureDevOps]={getBranchReference:y,getHeadReference:O,getIconName:function(){return"azuredevops_logo_16_regular"},getRepositoryReference:E},D[ne.GitHub]={getBranchReference:B,getHeadReference:T,getIconName:function(){return"github_logo"},getRepositoryReference:k},D}function Ct(D,de){return Ie.some(function(De){return D.includes(De)})?de.get("Trident_Git_Error_Git_InvalidBranchName_Message"):Te.some(function(De){return D.endsWith(De)})?de.get("Trident_Git_Error_Git_InvalidBranchNameSuffix_Message"):void 0}},4511:function(tt,ke,u){u.d(ke,{Ab:function(){return X},De:function(){return M},F6:function(){return w},HQ:function(){return Z},LB:function(){return ve},Pw:function(){return e},UF:function(){return H},ko:function(){return V}});var g=u(50423),p=[[["","activity-icon",""]],[["tri-card-title"],["","tri-card-title",""]],[["tri-svg-icon"],["","tri-svg-icon",""]],[["tri-card-subtitle"],["","tri-card-subtitle",""]]],oe=["[activity-icon]","tri-card-title, [tri-card-title]","tri-svg-icon, [tri-svg-icon]","tri-card-subtitle, [tri-card-subtitle]"],C=["*"],X=function(){function U(){this.title=!0}return U.\u0275fac=function(h){return new(h||U)},U.\u0275dir=g.\u0275\u0275defineDirective({type:U,selectors:[["","triCardTitle",""]],hostVars:2,hostBindings:function(h,L){2&h&&g.\u0275\u0275classProp("tri-card-title",L.title)},exportAs:["triCardTitle"]}),U}(),M=function(){function U(){this.subtitle=!0}return U.\u0275fac=function(h){return new(h||U)},U.\u0275dir=g.\u0275\u0275defineDirective({type:U,selectors:[["","triCardSubtitle",""]],hostVars:2,hostBindings:function(h,L){2&h&&g.\u0275\u0275classProp("tri-card-subtitle",L.subtitle)},exportAs:["triCardSubtitle"]}),U}(),V=function(){function U(){this.icon=!0}return U.\u0275fac=function(h){return new(h||U)},U.\u0275dir=g.\u0275\u0275defineDirective({type:U,selectors:[["","triCardIcon",""]],hostVars:2,hostBindings:function(h,L){2&h&&g.\u0275\u0275classProp("tri-card-icon",L.icon)},exportAs:["triCardIcon"]}),U}(),e=function(){function U(){this.header=!0}return U.\u0275fac=function(h){return new(h||U)},U.\u0275cmp=g.\u0275\u0275defineComponent({type:U,selectors:[["tri-card-header"]],hostVars:2,hostBindings:function(h,L){2&h&&g.\u0275\u0275classProp("tri-card-header",L.header)},ngContentSelectors:oe,decls:6,vars:0,consts:[[1,"tri-card-header-text"],[1,"tri-flex"]],template:function(h,L){1&h&&(g.\u0275\u0275projectionDef(p),g.\u0275\u0275projection(0),g.\u0275\u0275elementStart(1,"div",0)(2,"div",1),g.\u0275\u0275projection(3,1),g.\u0275\u0275projection(4,2),g.\u0275\u0275elementEnd(),g.\u0275\u0275projection(5,3),g.\u0275\u0275elementEnd())},encapsulation:2,changeDetection:0}),U}(),Z=function(){function U(){this.content=!0}return U.\u0275fac=function(h){return new(h||U)},U.\u0275dir=g.\u0275\u0275defineDirective({type:U,selectors:[["","triCardContent",""]],hostVars:2,hostBindings:function(h,L){2&h&&g.\u0275\u0275classProp("tri-card-content",L.content)},exportAs:["triCardContent"]}),U}(),H=function(){function U(){this.badge=!0,this.backgroundColor=""}return U.\u0275fac=function(h){return new(h||U)},U.\u0275dir=g.\u0275\u0275defineDirective({type:U,selectors:[["","triCardBadge",""]],hostVars:4,hostBindings:function(h,L){2&h&&(g.\u0275\u0275styleProp("background-color",L.backgroundColor),g.\u0275\u0275classProp("tri-card-badge",L.badge))},inputs:{backgroundColor:"backgroundColor"},exportAs:["triCardBadge"]}),U}(),w=function(){function U(){this.action=!0}return U.\u0275fac=function(h){return new(h||U)},U.\u0275dir=g.\u0275\u0275defineDirective({type:U,selectors:[["","triCardQuickAction",""]],hostVars:2,hostBindings:function(h,L){2&h&&g.\u0275\u0275classProp("tri-card-quick-action",L.action)},exportAs:["triCardQuickAction"]}),U}(),ve=function(){function U(F){this.hostElementRef=F,this.interactive=!1}return Object.defineProperty(U.prototype,"tabIndex",{get:function(){return this.interactive?0:-1},enumerable:!1,configurable:!0}),U.prototype.handleKeyboardEvent=function(F){this.interactive&&this.hostElementRef.nativeElement.click()},U.\u0275fac=function(h){return new(h||U)(g.\u0275\u0275directiveInject(g.ElementRef))},U.\u0275cmp=g.\u0275\u0275defineComponent({type:U,selectors:[["tri-card"]],hostVars:3,hostBindings:function(h,L){1&h&&g.\u0275\u0275listener("keydown.enter",function(Q){return L.handleKeyboardEvent(Q)})("keydown.space",function(Q){return L.handleKeyboardEvent(Q)}),2&h&&(g.\u0275\u0275attribute("tabindex",L.tabIndex),g.\u0275\u0275classProp("interactive",L.interactive))},inputs:{interactive:"interactive"},ngContentSelectors:C,decls:1,vars:0,template:function(h,L){1&h&&(g.\u0275\u0275projectionDef(),g.\u0275\u0275projection(0))},styles:["tri-card{flex:0 0 auto;display:flex;flex-direction:column;background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);-webkit-user-select:none;-ms-user-select:none;user-select:none;font-family:var(--fontFamilyBase);box-shadow:var(--shadow4);border-radius:var(--borderRadiusMedium)}tri-card.scale-to-screen{width:calc(100% - 10px)}tri-card[orientation=horizontal]{flex-direction:row;align-items:center}tri-card:hover{box-shadow:var(--shadow8)}tri-card:active{box-shadow:var(--shadow4)}tri-card.interactive{cursor:pointer}tri-card.interactive:hover{background-color:var(--colorNeutralBackground1Hover)}tri-card.interactive:active{background-color:var(--colorNeutralBackground1Pressed)}tri-card.interactive:focus-visible{outline-width:var(--strokeWidthThick);outline-offset:2px}@media (max-width: 800px){.teamsMobileCard>div>tri-card{width:450px;min-height:400px}}.tri-card-content{flex:1 1 auto;display:flex;justify-content:center;align-items:center;height:155px;position:relative;background:var(--colorNeutralBackground5)}.tri-card-content.scale-to-screen{height:0px;padding-top:28.125%;padding-bottom:28.125%}.tri-card-content.scale-to-screen span,.tri-card-content.scale-to-screen img,.tri-card-content.scale-to-screen div{position:absolute}@media (max-width: 480){.tri-card-content.scale-to-screen{height:160px}}.tri-card-content img{width:100%;height:100%;object-fit:cover;object-position:0 0}.tri-card-content .tri-card-badge{width:32px;height:32px;display:flex;justify-content:center;align-items:center;background:var(--colorNeutralBackground1);color:var(--colorNeutralForegroundOnBrand);position:absolute;bottom:12px;left:15px;border-radius:var(--borderRadiusSmall)}.tri-card-content .tri-card-badge tri-svg-icon{display:flex;justify-content:center;align-items:center}.tri-card-quick-action{position:absolute;bottom:12px;left:12px;padding:0;border:none;background:var(--colorNeutralBackground1);border-radius:var(--borderRadiusMedium)}.tri-card-header{padding:12px;display:block}[dir=rtl] .tri-card-header{padding:var(--spacingVerticalS) var(--spacingHorizontalL)}.tri-card-header tri-svg-icon{display:flex;justify-content:center;align-items:center;margin-right:12px}.tri-card-header .tri-card-avatar+.tri-card-header-text{margin-left:6px}[dir=rtl] .tri-card-header .tri-card-avatar+.tri-card-header-text{margin-right:6px}.tri-card-header .tri-card-header-text{min-height:38px}.tri-card-header .tri-card-header-text tri-svg-icon{margin:0}.tri-card-header .tri-card-header-text tri-svg-icon:first-of-type{margin-left:4px}.tri-card-header .tri-card-header-text tri-svg-icon svg{width:16px}.tri-card-header-text{overflow:hidden;display:flex;flex-direction:column;justify-content:center}.tri-card-title{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase300)}.tri-card-subtitle{overflow:hidden;text-overflow:ellipsis;font-size:var(--fontSizeBase200);line-height:var(--lineHeightBase200);font-weight:var(--fontWeightRegular)}.tri-card-footer.supportEndorsement .tri-card-title{padding-inline-end:0;margin-inline-end:0}.tri-card-footer.supportEndorsement .tri-card-header-text{padding:var(--spacingVerticalS) var(--spacingHorizontalL);padding-inline-end:0;flex:0 1 auto}.tri-card-footer.supportEndorsement endorsement-icon{margin-block-start:auto;margin-block-end:auto;margin-inline-end:auto;padding-inline-start:6px;padding-inline-end:16px;padding-block-end:4px}.tri-card-footer.supportEndorsement endorsement-icon i{vertical-align:bottom;padding-bottom:1px;color:var(--globalColorGrey38);font-size:var(--fontSizeBase300)}.tri-card-footer{display:flex;min-height:32px;padding:12px}.tri-card-footer .tri-card-header-text{padding:var(--spacingVerticalS) var(--spacingHorizontalL);flex:1 1 auto}[dir=rtl] .tri-card-footer .tri-card-header-text{padding:var(--spacingVerticalS) var(--spacingHorizontalL)}.tri-card-footer .tri-card-title{font-weight:var(--fontWeightSemibold)}.tri-card-footer .tri-card-actions{display:flex;width:100%;align-items:center;justify-content:space-between}[dir=rtl] .tri-card-footer .tri-card-actions{margin-left:4px}.tri-card-multiline{display:flex;white-space:pre-wrap;max-height:38px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;line-clamp:2}\n"],encapsulation:2,changeDetection:0}),U}()},57156:function(tt,ke,u){u.d(ke,{F:function(){return M}});var g=u(77476),p=u(78035),oe=u(17177),C=u(16622),X=u(50423),M=function(){function V(){}return V.\u0275fac=function(Z){return new(Z||V)},V.\u0275mod=X.\u0275\u0275defineNgModule({type:V}),V.\u0275inj=X.\u0275\u0275defineInjector({imports:[g.CommonModule,p.Y,oe.T6,C.u]}),V}()},16622:function(tt,ke,u){u.d(ke,{_:function(){return X},u:function(){return M}});var g=u(35510),p=u(17177),oe=u(16434),C=u(50423),X=function(){function V(){}return V.prototype.getSvgSpriteSheet=function(e){return new g.X('\n            <svg id="'.concat(e,'">\n                <?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol viewBox="0 0 20 20" id="add_circle_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM6 10c0 .28.22.5.5.5h3v3a.5.5 0 001 0v-3h3a.5.5 0 000-1h-3v-3a.5.5 0 00-1 0v3h-3a.5.5 0 00-.5.5z"/></symbol><symbol viewBox="0 0 20 20" id="add_circle_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M6 10c0-.28.22-.5.5-.5h3v-3a.5.5 0 011 0v3h3a.5.5 0 010 1h-3v3a.5.5 0 01-1 0v-3h-3A.5.5 0 016 10z"/><path d="M10 18a8 8 0 100-16 8 8 0 000 16zm0-1a7 7 0 110-14 7 7 0 010 14z"/></symbol><symbol viewBox="0 0 20 20" id="alert_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a5.92 5.92 0 015.98 5.36l.02.22v3.82l.92 2.22a1 1 0 01.06.17l.01.08.01.13a1 1 0 01-.75.97l-.11.02L16 15h-3.5v.17a2.5 2.5 0 01-5 0V15H4a1 1 0 01-.26-.03l-.13-.04a1 1 0 01-.6-1.05l.02-.13.05-.13L4 11.4V7.57A5.9 5.9 0 0110 2zm1.5 13h-3v.15a1.5 1.5 0 001.36 1.34l.14.01c.78 0 1.42-.6 1.5-1.36V15zM10 3a4.9 4.9 0 00-4.98 4.38L5 7.6v3.9l-.04.2L4 14h12l-.96-2.3-.04-.2V7.61A4.9 4.9 0 0010 3z"/></symbol><symbol viewBox="0 0 20 20" id="book_open_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M10 16.14c-.5.53-1.21.86-2 .86H3.75C2.78 17 2 16.22 2 15.25V4.75C2 3.78 2.78 3 3.75 3H8c.79 0 1.5.33 2 .86.5-.53 1.21-.86 2-.86h4.25c.97 0 1.75.78 1.75 1.75v10.5c0 .97-.78 1.75-1.75 1.75H12c-.79 0-1.5-.33-2-.86zM3.5 4.75v10.5c0 .14.11.25.25.25H8c.69 0 1.25-.56 1.25-1.25v-8.5c0-.69-.56-1.25-1.25-1.25H3.75a.25.25 0 00-.25.25zm7.25 9.5c0 .69.56 1.25 1.25 1.25h4.25c.14 0 .25-.11.25-.25V4.75a.25.25 0 00-.25-.25H12c-.69 0-1.25.56-1.25 1.25v8.5z"/></symbol><symbol viewBox="0 0 20 20" id="book_open_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M10 16c-.46.6-1.18 1-2 1H3.5A1.5 1.5 0 012 15.5v-11C2 3.67 2.67 3 3.5 3H8c.82 0 1.54.4 2 1 .46-.6 1.18-1 2-1h4.5c.83 0 1.5.67 1.5 1.5v11c0 .83-.67 1.5-1.5 1.5H12a2.5 2.5 0 01-2-1zM3 4.5v11c0 .28.22.5.5.5H8c.83 0 1.5-.67 1.5-1.5v-9C9.5 4.67 8.83 4 8 4H3.5a.5.5 0 00-.5.5zm7.5 10c0 .83.67 1.5 1.5 1.5h4.5a.5.5 0 00.5-.5v-11a.5.5 0 00-.5-.5H12c-.83 0-1.5.67-1.5 1.5v9z"/></symbol><symbol viewBox="0 0 20 20" id="checkbox_checked_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M13.85 7.85a.5.5 0 00-.7-.7L8.5 11.79l-1.65-1.64a.5.5 0 00-.7.7l2 2c.2.2.5.2.7 0l5-5z"/><path d="M5.68 3A2.68 2.68 0 003 5.68v8.64C3 15.8 4.2 17 5.68 17h8.64C15.8 17 17 15.8 17 14.32V5.68C17 4.2 15.8 3 14.32 3H5.68zM4 5.68C4 4.75 4.75 4 5.68 4h8.64c.93 0 1.68.75 1.68 1.68v8.64c0 .93-.75 1.68-1.68 1.68H5.68C4.75 16 4 15.25 4 14.32V5.68z"/></symbol><symbol viewBox="0 0 20 20" id="checkbox_unchecked_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M3 5c0-1.1.9-2 2-2h10a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2-1a1 1 0 00-1 1v10a1 1 0 001 1h10a1 1 0 001-1V5a1 1 0 00-1-1H5z"/></symbol><symbol viewBox="0 0 20 20" id="checkmark_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M3.37 10.17a.5.5 0 00-.74.66l4 4.5c.19.22.52.23.72.02l10.5-10.5a.5.5 0 00-.7-.7L7.02 14.27l-3.65-4.1z"/></symbol><symbol viewBox="0 0 20 20" id="chevron_down_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M15.85 7.65c.2.2.2.5 0 .7l-5.46 5.49a.55.55 0 01-.78 0L4.14 8.35a.5.5 0 11.71-.7L10 12.8l5.15-5.16c.2-.2.5-.2.7 0z"/></symbol><symbol viewBox="0 0 20 20" id="chevron_left_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M12.35 15.85a.5.5 0 01-.7 0L6.16 10.4a.55.55 0 010-.78l5.49-5.47a.5.5 0 01.7.71L7.2 10l5.16 5.15c.2.2.2.5 0 .7z"/></symbol><symbol viewBox="0 0 20 20" id="chevron_right_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M7.65 4.15c.2-.2.5-.2.7 0l5.49 5.46c.21.22.21.57 0 .78l-5.49 5.46a.5.5 0 01-.7-.7L12.8 10 7.65 4.85a.5.5 0 010-.7z"/></symbol><symbol viewBox="0 0 20 20" id="chevron_up_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M4.15 12.35a.5.5 0 010-.7L9.6 6.16a.55.55 0 01.78 0l5.46 5.49a.5.5 0 01-.7.7L10 7.2l-5.15 5.16a.5.5 0 01-.7 0z"/></symbol><symbol viewBox="0 0 16 16" id="circle_16_filled" xmlns="http://www.w3.org/2000/svg"><path d="M8 14A6 6 0 108 2a6 6 0 000 12z"/></symbol><symbol viewBox="0 0 16 16" id="circle_16_regular" xmlns="http://www.w3.org/2000/svg"><path d="M8 14A6 6 0 108 2a6 6 0 000 12zm0-1A5 5 0 118 3a5 5 0 010 10z"/></symbol><symbol viewBox="0 0 20 20" id="circle_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a8 8 0 100 16 8 8 0 000-16z"/></symbol><symbol viewBox="0 0 20 20" id="circle_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M10 3a7 7 0 100 14 7 7 0 000-14zm-8 7a8 8 0 1116 0 8 8 0 01-16 0z"/></symbol><symbol viewBox="0 0 20 20" id="clock_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a8 8 0 110 16 8 8 0 010-16zm-.5 3a.5.5 0 00-.5.5v5.09a.5.5 0 00.5.41h3.09a.5.5 0 00-.09-1H10V5.41A.5.5 0 009.5 5z"/></symbol><symbol viewBox="0 0 20 20" id="clock_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a8 8 0 110 16 8 8 0 010-16zm0 1a7 7 0 100 14 7 7 0 000-14zm-.5 2a.5.5 0 01.5.41V10h2.5a.5.5 0 01.09 1H9.5a.5.5 0 01-.5-.41V5.5c0-.28.22-.5.5-.5z"/></symbol><symbol viewBox="0 0 20 20" id="database_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M10 8c3.31 0 6-1.34 6-3s-2.69-3-6-3-6 1.34-6 3 2.69 3 6 3zm4.69.02c.47-.24.93-.54 1.31-.9V15c0 1.66-2.69 3-6 3s-6-1.34-6-3V7.12c.38.36.84.66 1.31.9C6.56 8.64 8.22 9 10 9c1.78 0 3.44-.36 4.69-.98z"/></symbol><symbol viewBox="0 0 20 20" id="database_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M4 5c0-1 .88-1.76 1.9-2.22C6.98 2.28 8.43 2 10 2c1.57 0 3.02.29 4.1.78C15.12 3.24 16 3.99 16 5v10c0 1-.88 1.76-1.9 2.22-1.08.5-2.53.78-4.1.78-1.57 0-3.02-.29-4.1-.78C4.88 16.76 4 16.01 4 15V5zm1 0c0 .37.36.88 1.32 1.31.91.42 2.22.69 3.68.69s2.77-.27 3.68-.69C14.64 5.88 15 5.37 15 5c0-.37-.36-.88-1.32-1.31A9.19 9.19 0 0010 3c-1.46 0-2.77.27-3.68.69C5.36 4.12 5 4.63 5 5zm10 1.7c-.27.2-.58.38-.9.52-1.08.5-2.53.78-4.1.78-1.57 0-3.02-.29-4.1-.78A4.92 4.92 0 015 6.7V15c0 .37.36.88 1.32 1.31.91.42 2.22.69 3.68.69s2.77-.27 3.68-.69c.96-.43 1.32-.94 1.32-1.31V6.7z"/></symbol><symbol viewBox="0 0 16 16" id="document_16_regular" xmlns="http://www.w3.org/2000/svg"><path d="M5 1a2 2 0 00-2 2v10c0 1.1.9 2 2 2h6a2 2 0 002-2V5.41c0-.4-.16-.78-.44-1.06L9.65 1.44A1.5 1.5 0 008.59 1H5zM4 3a1 1 0 011-1h3v2.5C8 5.33 8.67 6 9.5 6H12v7a1 1 0 01-1 1H5a1 1 0 01-1-1V3zm7.8 2H9.5a.5.5 0 01-.5-.5V2.2L11.8 5z"/></symbol><symbol viewBox="0 0 20 20" id="filter_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 13h5a.5.5 0 01.09 1H7.5a.5.5 0 01-.09-1h5.09-5zm-2-4h9a.5.5 0 01.09 1H5.5a.5.5 0 01-.09-1h9.09-9zm-2-4h13a.5.5 0 01.09 1H3.5a.5.5 0 01-.09-1H16.5h-13z"/></symbol><symbol viewBox="0 0 20 20" id="folder_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M10.56 4.5h4.94a2.5 2.5 0 012.48 2.17l.01.17L18 7v7.5a2.5 2.5 0 01-2.34 2.5H4.5A2.5 2.5 0 012 14.66V7.5h5.22c.3-.04.6-.16.83-.36l.1-.1 2.41-2.54zM7.16 3c.28 0 .54.07.77.21l.14.09 1.31.99-1.95 2.05-.06.06a.5.5 0 01-.22.1H2v-1A2.5 2.5 0 014.34 3h2.83z"/></symbol><symbol viewBox="0 0 20 20" id="folder_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M7.17 3c.27 0 .53.07.76.21l.14.09 1.6 1.2h5.83a2.5 2.5 0 012.48 2.17l.01.17L18 7v7.5a2.5 2.5 0 01-2.34 2.5H4.5A2.5 2.5 0 012 14.66V5.5A2.5 2.5 0 014.34 3h2.83zm.99 4.03a1.5 1.5 0 01-.94.46l-.15.01H3v7c0 .78.6 1.42 1.36 1.5H15.5c.78 0 1.42-.6 1.5-1.36V7c0-.78-.6-1.42-1.36-1.5H9.62L8.16 7.03zM7.16 4H4.5c-.78 0-1.42.6-1.5 1.36V6.5h4.07a.5.5 0 00.3-.1l.06-.06L8.7 5.02 7.47 4.1a.5.5 0 00-.22-.1h-.08z"/></symbol><symbol viewBox="0 0 20 20" id="grid_dots_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M5.25 4a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zm12 12a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zM16 11.25a1.25 1.25 0 100-2.5 1.25 1.25 0 000 2.5zM17.25 4a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zM10 17.25a1.25 1.25 0 100-2.5 1.25 1.25 0 000 2.5zM11.25 10a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zM10 5.25a1.25 1.25 0 100-2.5 1.25 1.25 0 000 2.5zM5.25 16a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zM4 11.25a1.25 1.25 0 100-2.5 1.25 1.25 0 000 2.5z"/></symbol><symbol viewBox="0 0 20 20" id="home_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M11 2.39a1.5 1.5 0 00-2 0L3.5 7.33c-.32.28-.5.69-.5 1.12v7.05c0 .83.67 1.5 1.5 1.5h2c.83 0 1.5-.67 1.5-1.5v-4c0-.28.22-.5.5-.5h3c.28 0 .5.22.5.5v4c0 .83.67 1.5 1.5 1.5h2c.83 0 1.5-.67 1.5-1.5V8.45c0-.43-.18-.84-.5-1.12L11 2.39z"/></symbol><symbol viewBox="0 0 20 20" id="home_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M9 2.39a1.5 1.5 0 012 0l5.5 4.94c.32.28.5.69.5 1.12v7.05c0 .83-.67 1.5-1.5 1.5H13a1.5 1.5 0 01-1.5-1.5V12a.5.5 0 00-.5-.5H9a.5.5 0 00-.5.5v3.5c0 .83-.67 1.5-1.5 1.5H4.5A1.5 1.5 0 013 15.5V8.45c0-.43.18-.84.5-1.12L9 2.39zm1.33.74a.5.5 0 00-.66 0l-5.5 4.94a.5.5 0 00-.17.38v7.05c0 .28.22.5.5.5H7a.5.5 0 00.5-.5V12c0-.83.67-1.5 1.5-1.5h2c.83 0 1.5.67 1.5 1.5v3.5c0 .28.22.5.5.5h2.5a.5.5 0 00.5-.5V8.45a.5.5 0 00-.17-.38l-5.5-4.94z"/></symbol><symbol viewBox="0 0 20 20" id="megaphone_loud_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M14.16 1.03c.26.08.4.37.31.63l-.5 1.5a.5.5 0 01-.94-.32l.5-1.5a.5.5 0 01.63-.31zm3.7 1.82a.5.5 0 10-.71-.7l-2 2a.5.5 0 00.7.7l2-2zm-10.25.3a2 2 0 013.26-.52l6.58 6.98a2 2 0 01-.64 3.2l-3.94 1.74a3.5 3.5 0 01-6.34 2.8l-1.2.52a1.5 1.5 0 01-1.67-.3l-1.22-1.22a1.5 1.5 0 01-.3-1.7l5.47-11.5zm-.16 13.78a2.5 2.5 0 004.5-1.97l-4.5 1.97zm2.7-13.61a1 1 0 00-1.64.25l-5.46 11.5a.5.5 0 00.1.57l1.22 1.21a.5.5 0 00.55.1L16.4 11.9a1 1 0 00.33-1.6l-6.59-6.98zM17 6a.5.5 0 000 1h1.5a.5.5 0 100-1H17z"/></symbol><symbol viewBox="0 0 16 16" id="pause_16_regular" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 2C2.67 2 2 2.67 2 3.5v9c0 .83.67 1.5 1.5 1.5h2c.83 0 1.5-.67 1.5-1.5v-9C7 2.67 6.33 2 5.5 2h-2zm0 1h2c.28 0 .5.22.5.5v9a.5.5 0 01-.5.5h-2a.5.5 0 01-.5-.5v-9c0-.28.22-.5.5-.5zM10.5 2C9.67 2 9 2.67 9 3.5v9c0 .83.67 1.5 1.5 1.5h2c.83 0 1.5-.67 1.5-1.5v-9c0-.83-.67-1.5-1.5-1.5h-2zm0 1h2c.28 0 .5.22.5.5v9a.5.5 0 01-.5.5h-2a.5.5 0 01-.5-.5v-9c0-.28.22-.5.5-.5z"/></symbol><symbol viewBox="0 0 20 20" id="people_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M11 10a2 2 0 012 2v1.5c0 2.05-2.09 3.5-5.5 3.5S2 15.55 2 13.5V12c0-1.1.9-2 2-2h7zm5 0a2 2 0 012 2v.5c0 2.09-1.57 3.5-4.5 3.5l-.41-.01c.54-.63.85-1.39.9-2.25l.01-.24V12c0-.7-.23-1.33-.63-1.84l-.13-.16H16zM7.5 2a3.5 3.5 0 110 7 3.5 3.5 0 010-7zm7 2a2.5 2.5 0 110 5 2.5 2.5 0 010-5z"/></symbol><symbol viewBox="0 0 20 20" id="people_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M11 10a2 2 0 012 2v1.5c0 2.05-2.09 3.5-5.5 3.5S2 15.55 2 13.5V12c0-1.1.9-2 2-2h7zm0 1H4a1 1 0 00-1 1v1.5C3 14.9 4.58 16 7.5 16s4.5-1.1 4.5-2.5V12a1 1 0 00-1-1zm5-1a2 2 0 012 2v.5c0 2.09-1.57 3.5-4.5 3.5l-.41-.01c.2-.24.38-.5.52-.78l.1-.21h.03c2.24-.07 3.26-1.04 3.26-2.5V12a1 1 0 00-1-1h-2.17a3 3 0 00-.6-1H16zM7.5 2a3.5 3.5 0 110 7 3.5 3.5 0 010-7zm7 2a2.5 2.5 0 110 5 2.5 2.5 0 010-5zm-7-1a2.5 2.5 0 100 5 2.5 2.5 0 000-5zm7 2a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"/></symbol><symbol viewBox="0 0 16 16" id="play_16_regular" xmlns="http://www.w3.org/2000/svg"><path d="M5.75 3.06A.5.5 0 005 3.5v9c0 .38.41.62.75.44l8-4.5a.5.5 0 000-.88l-8-4.5zM4 3.5a1.5 1.5 0 012.24-1.3l8 4.5a1.5 1.5 0 010 2.6l-8 4.5A1.5 1.5 0 014 12.5v-9z"/></symbol><symbol viewBox="0 0 20 20" id="premium_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 3a.5.5 0 00-.43.24l-3 5a.5.5 0 00.05.58l7.5 9a.5.5 0 00.76 0l7.5-9a.5.5 0 00.05-.58l-3-5A.5.5 0 0014.5 3h-9zM3.38 8l2.4-4h1.98l-1.6 4H3.38zm2.78 1l2.26 5.83L3.57 9h2.59zM10 16.12L7.23 9h5.54L10 16.12zM7.24 8l1.6-4h2.32l1.6 4H7.24zm6.6 0l-1.6-4h1.98l2.4 4h-2.78zm0 1h2.6l-4.86 5.83L13.84 9z"/></symbol><symbol viewBox="0 0 20 20" id="premium_person_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 3a.5.5 0 00-.43.24l-3 5a.5.5 0 00.05.58l7.49 9a.5.5 0 00.86-.13L13.84 9h3.9l.14-.18a.5.5 0 00.05-.58l-3-5A.5.5 0 0014.5 3h-9zm7.27 6L10 16.12 7.23 9h5.54zM3.38 8l2.4-4h1.98l-1.6 4H3.38zm2.78 1l2.26 5.83L3.57 9h2.59zm1.08-1l1.6-4h2.32l1.6 4H7.24zm6.6 0l-1.6-4h1.98l2.4 4h-2.78zm1.66 6a2 2 0 100-4 2 2 0 000 4zm0 5c2.5 0 3.5-1.25 3.5-2.5 0-.83-.67-1.5-1.5-1.5h-4c-.83 0-1.5.67-1.5 1.5 0 1.25 1 2.5 3.5 2.5z"/></symbol><symbol viewBox="0 0 20 20" id="question_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M10 3a4 4 0 00-4 4 .5.5 0 001 0 3 3 0 016 0c0 1.25-.7 1.86-1.58 2.62l-.03.03c-.86.73-1.89 1.62-1.89 3.35v.5a.5.5 0 001 0V13c0-1.25.7-1.86 1.58-2.62l.03-.03C12.97 9.62 14 8.73 14 7a4 4 0 00-4-4zM10 17a.75.75 0 100-1.5.75.75 0 000 1.5z"/></symbol><symbol viewBox="0 0 20 20" id="search_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 3a5.5 5.5 0 014.23 9.02l4.12 4.13a.5.5 0 01-.63.76l-.07-.06-4.13-4.12A5.5 5.5 0 118.5 3zm0 1a4.5 4.5 0 100 9 4.5 4.5 0 000-9z"/></symbol><symbol viewBox="0 0 20 20" id="settings_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M1.91 7.38A8.5 8.5 0 013.7 4.3a.5.5 0 01.54-.13l1.92.68a1 1 0 001.32-.76l.36-2a.5.5 0 01.4-.4 8.53 8.53 0 013.55 0c.2.04.35.2.38.4l.37 2a1 1 0 001.32.76l1.92-.68a.5.5 0 01.54.13 8.5 8.5 0 011.78 3.08c.06.2 0 .4-.15.54l-1.56 1.32a1 1 0 000 1.52l1.56 1.32a.5.5 0 01.15.54 8.5 8.5 0 01-1.78 3.08.5.5 0 01-.54.13l-1.92-.68a1 1 0 00-1.32.76l-.37 2a.5.5 0 01-.38.4 8.53 8.53 0 01-3.56 0 .5.5 0 01-.39-.4l-.36-2a1 1 0 00-1.32-.76l-1.92.68a.5.5 0 01-.54-.13 8.5 8.5 0 01-1.78-3.08.5.5 0 01.15-.54l1.56-1.32a1 1 0 000-1.52L2.06 7.92a.5.5 0 01-.15-.54zm1.06 0l1.3 1.1a2 2 0 010 3.04l-1.3 1.1c.3.79.71 1.51 1.25 2.16l1.6-.58a2 2 0 012.63 1.53l.3 1.67a7.56 7.56 0 002.5 0l.3-1.67a2 2 0 012.64-1.53l1.6.58a7.5 7.5 0 001.24-2.16l-1.3-1.1a2 2 0 010-3.04l1.3-1.1a7.5 7.5 0 00-1.25-2.16l-1.6.58a2 2 0 01-2.63-1.53l-.3-1.67a7.55 7.55 0 00-2.5 0l-.3 1.67A2 2 0 015.81 5.8l-1.6-.58a7.5 7.5 0 00-1.24 2.16zM7.5 10a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0zm1 0a1.5 1.5 0 103 0 1.5 1.5 0 00-3 0z"/></symbol><symbol viewBox="0 0 20 20" id="stack_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M4 3a2 2 0 00-2 2v6c0 1.1.9 2 2 2h8a2 2 0 002-2V5a2 2 0 00-2-2H4zm.27 11c.34.6.99 1 1.73 1h6a4 4 0 004-4V7a2 2 0 00-1-1.73V11a3 3 0 01-3 3H4.27zm2 2c.34.6.99 1 1.73 1h4a6 6 0 006-6V9a2 2 0 00-1-1.73V11a5 5 0 01-5 5H6.27z"/></symbol><symbol viewBox="0 0 20 20" id="stack_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M2 5c0-1.1.9-2 2-2h8a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm2-1a1 1 0 00-1 1v6a1 1 0 001 1h8a1 1 0 001-1V5a1 1 0 00-1-1H4zm2 11a2 2 0 01-1.73-1H12a3 3 0 003-3V5.27c.6.34 1 .99 1 1.73v4a4 4 0 01-4 4H6zm2 2a2 2 0 01-1.73-1H12a5 5 0 005-5V7.27c.6.34 1 .99 1 1.73v2a6 6 0 01-6 6H8z"/></symbol><symbol viewBox="0 0 20 20" id="star_20_filled" xmlns="http://www.w3.org/2000/svg"><path d="M9.1 2.9a1 1 0 011.8 0l1.93 3.91 4.31.63a1 1 0 01.56 1.7l-3.12 3.05.73 4.3a1 1 0 01-1.45 1.05L10 15.51l-3.86 2.03a1 1 0 01-1.45-1.05l.74-4.3L2.3 9.14a1 1 0 01.56-1.7l4.31-.63L9.1 2.9z"/></symbol><symbol viewBox="0 0 20 20" id="star_20_regular" xmlns="http://www.w3.org/2000/svg"><path d="M9.1 2.9a1 1 0 011.8 0l1.93 3.91 4.31.63a1 1 0 01.56 1.7l-3.12 3.05.73 4.3a1 1 0 01-1.45 1.05L10 15.51l-3.86 2.03a1 1 0 01-1.45-1.05l.74-4.3L2.3 9.14a1 1 0 01.56-1.7l4.31-.63L9.1 2.9zm.9.44L8.07 7.25a1 1 0 01-.75.55L3 8.43l3.12 3.04a1 1 0 01.3.89l-.75 4.3 3.87-2.03a1 1 0 01.93 0l3.86 2.03-.74-4.3a1 1 0 01.29-.89L17 8.43l-4.32-.63a1 1 0 01-.75-.55L10 3.35z"/></symbol></svg>\n            </svg>\n        '))},V.prototype.getSvgSpriteUrl=function(e){return"/images/".concat(e,".svg")},V.\u0275prov=C.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac=function(Z){return new(Z||V)},providedIn:"root"}),V}(),M=function(){function V(){}return V.\u0275fac=function(Z){return new(Z||V)},V.\u0275mod=C.\u0275\u0275defineNgModule({type:V}),V.\u0275inj=C.\u0275\u0275defineInjector({providers:[{provide:oe.E,useClass:X}],imports:[p.T6]}),V}()},13414:function(tt,ke,u){u.d(ke,{t:function(){return h}});var g=u(4437),p=u(50423),oe=u(17174),C=u(51193),X=u(77476),M=["switchInput"];function V(L,q){if(1&L&&(p.\u0275\u0275elementStart(0,"span",7),p.\u0275\u0275text(1),p.\u0275\u0275elementEnd()),2&L){var Q=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",Q.label,"\n")}}function e(L,q){1&L&&(p.\u0275\u0275elementStart(0,"span",11),p.\u0275\u0275projection(1,1),p.\u0275\u0275elementEnd())}function Z(L,q){if(1&L&&(p.\u0275\u0275elementStart(0,"div",8),p.\u0275\u0275element(1,"span",9),p.\u0275\u0275template(2,e,2,0,"span",10),p.\u0275\u0275elementEnd()),2&L){var Q=p.\u0275\u0275nextContext();p.\u0275\u0275advance(2),p.\u0275\u0275property("ngIf",Q.compact)}}function H(L,q){1&L&&(p.\u0275\u0275elementStart(0,"div",12),p.\u0275\u0275element(1,"span",13),p.\u0275\u0275elementEnd())}var w=[[["tri-switch-text"],["","tri-switch-text",""]],[["inline-toggle-content"],["","inline-toggle-content",""]]],ve=["tri-switch-text, [tri-switch-text]","inline-toggle-content, [inline-toggle-content]"],U=0,F=function(){return function(q,Q){this.source=q,this.checked=Q}}(),h=function(){function L(q,Q,ie){this.elementRef=q,this.focusMonitor=Q,this.changeDetectorRef=ie,this._disabled=!1,this._required=!1,this._compact=!1,this._checked=!1,this._indeterminate=!1,this.name=void 0,this._uniqueId="tri-switch-".concat(++U),this.id=this._uniqueId,this.ariaLabel=void 0,this.ariaLabelledby=void 0,this.ariaDescribedby="",this.label=void 0,this.listenValueChange=new p.EventEmitter,this.toggleChange=new p.EventEmitter,this.inputElement={},this.onChange=function(){},this.onTouched=function(){}}return Object.defineProperty(L.prototype,"disabled",{get:function(){return this._disabled},set:function(Q){this._disabled=(0,g.Ig)(Q),this.changeDetectorRef.markForCheck()},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"required",{get:function(){return this._required},set:function(Q){this._required=(0,g.Ig)(Q)},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"checked",{get:function(){return this._checked},set:function(Q){this._checked=(0,g.Ig)(Q),this.changeDetectorRef.markForCheck()},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"indeterminate",{get:function(){return this._indeterminate},set:function(Q){this._indeterminate=(0,g.Ig)(Q),this.changeDetectorRef.markForCheck()},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"compact",{get:function(){return this._compact},set:function(Q){this._compact=(0,g.Ig)(Q),this.changeDetectorRef.markForCheck()},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"inputId",{get:function(){return"".concat(this.id||this._uniqueId,"-input")},enumerable:!1,configurable:!0}),L.prototype.ngAfterContentInit=function(){var q=this;this.focusMonitor.monitor(this.elementRef,!0).subscribe(function(Q){"keyboard"===Q||"program"===Q?q.inputElement.nativeElement.focus():Q||Promise.resolve().then(function(){return q.onTouched()})})},L.prototype.ngOnDestroy=function(){this.focusMonitor.stopMonitoring(this.elementRef)},L.prototype.onInputChange=function(q,Q){void 0===Q&&(Q=!1),q.stopPropagation(),this.toggleChange.emit(),this.checked=Q?!this.inputElement.nativeElement.checked:this.inputElement.nativeElement.checked,this.indeterminate=!Q&&this.indeterminate,this.emitChangeEvent()},L.prototype.onInputClick=function(q){q.stopPropagation()},L.prototype.writeValue=function(q){this.checked=!!q},L.prototype.registerOnChange=function(q){this.onChange=q},L.prototype.registerOnTouched=function(q){this.onTouched=q},L.prototype.setDisabledState=function(q){this.disabled=q,this.changeDetectorRef.markForCheck()},L.prototype.focus=function(q,Q){Q?this.focusMonitor.focusVia(this.inputElement,Q,q):this.inputElement.nativeElement.focus(q)},L.prototype.emitChangeEvent=function(){this.onChange(this.checked),this.listenValueChange.emit(new F(this,this.checked))},L.\u0275fac=function(Q){return new(Q||L)(p.\u0275\u0275directiveInject(p.ElementRef),p.\u0275\u0275directiveInject(C.tE),p.\u0275\u0275directiveInject(p.ChangeDetectorRef))},L.\u0275cmp=p.\u0275\u0275defineComponent({type:L,selectors:[["tri-switch"]],viewQuery:function(Q,ie){var he;(1&Q&&p.\u0275\u0275viewQuery(M,5),2&Q)&&(p.\u0275\u0275queryRefresh(he=p.\u0275\u0275loadQuery())&&(ie.inputElement=he.first))},hostAttrs:[1,"tri-switch"],hostVars:10,hostBindings:function(Q,ie){2&Q&&(p.\u0275\u0275hostProperty("id",ie.id),p.\u0275\u0275attribute("tabindex",ie.disabled?null:-1)("aria-label",null)("aria-labelledby",null),p.\u0275\u0275classProp("compact",ie.compact)("checked",ie.checked)("disabled",ie.disabled))},inputs:{name:"name",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],label:"label",disabled:"disabled",required:"required",checked:"checked",indeterminate:"indeterminate",compact:"compact"},outputs:{listenValueChange:"listenValueChange",toggleChange:"toggleChange"},exportAs:["triSwitch"],features:[p.\u0275\u0275ProvidersFeature([{provide:oe.JU,useExisting:(0,p.forwardRef)(function(){return L}),multi:!0}])],ngContentSelectors:ve,decls:9,vars:17,consts:[["aria-hidden","true","class","tri-switch-label",4,"ngIf"],[1,"tri-switch-internal"],["type","checkbox","role","checkbox",1,"tri-switch-input","cdk-visually-hidden",3,"id","checked","indeterminate","disabled","required","change","click","keydown.enter"],["switchInput",""],["class","tri-switch-circle",4,"ngIf"],["class","tri-switch-rect",4,"ngIf"],["aria-hidden","true",1,"tri-switch-text"],["aria-hidden","true",1,"tri-switch-label"],[1,"tri-switch-circle"],["aria-hidden","true",1,"tri-switch-checkmark"],["class","tri-toggle-inner-text",4,"ngIf"],[1,"tri-toggle-inner-text"],[1,"tri-switch-rect"],["aria-hidden","true",1,"tri-switch-dash"]],template:function(Q,ie){1&Q&&(p.\u0275\u0275projectionDef(w),p.\u0275\u0275template(0,V,2,1,"span",0),p.\u0275\u0275elementStart(1,"label",1)(2,"input",2,3),p.\u0275\u0275listener("change",function(Le){return ie.onInputChange(Le,!1)})("click",function(Le){return ie.onInputClick(Le)})("keydown.enter",function(Le){return ie.onInputChange(Le,!0)}),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(4,"section"),p.\u0275\u0275template(5,Z,3,1,"div",4),p.\u0275\u0275template(6,H,2,0,"div",5),p.\u0275\u0275elementStart(7,"span",6),p.\u0275\u0275projection(8),p.\u0275\u0275elementEnd()()()),2&Q&&(p.\u0275\u0275property("ngIf",ie.label),p.\u0275\u0275advance(1),p.\u0275\u0275classProp("disabled",ie.disabled)("indeterminate",ie.indeterminate),p.\u0275\u0275attribute("for",ie.inputId),p.\u0275\u0275advance(1),p.\u0275\u0275property("id",ie.inputId)("checked",ie.checked&&!ie.indeterminate)("indeterminate",ie.indeterminate)("disabled",ie.disabled)("required",ie.required),p.\u0275\u0275attribute("name",ie.name)("aria-label",ie.ariaLabel||ie.label)("aria-labelledby",ie.ariaLabelledby)("aria-describedby",ie.ariaDescribedby),p.\u0275\u0275advance(3),p.\u0275\u0275property("ngIf",!ie.indeterminate),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",ie.indeterminate))},dependencies:[X.NgIf],styles:['.compact[_nghost-%COMP%]   .tri-switch-circle[_ngcontent-%COMP%], .compact[_nghost-%COMP%]   .tri-switch-rect[_ngcontent-%COMP%]{width:32px;height:16px}.compact[_nghost-%COMP%]   .tri-switch-label[_ngcontent-%COMP%]{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:400;margin-bottom:8px}.compact[_nghost-%COMP%]   .tri-switch-text[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200);line-height:16px}.compact[_nghost-%COMP%]   .tri-switch-checkmark[_ngcontent-%COMP%]{width:8px;height:8px}.compact[_nghost-%COMP%]   .tri-switch-dash[_ngcontent-%COMP%]{width:8px;height:2px}.compact[_nghost-%COMP%]   .tri-toggle-inner-text[_ngcontent-%COMP%]{display:flex;font-family:var(--fontFamilyBase);font-size:9px}.compact[_nghost-%COMP%]   .tri-switch-internal[_ngcontent-%COMP%]:not(.disabled)   .tri-switch-input[_ngcontent-%COMP%] + section[_ngcontent-%COMP%]   .tri-toggle-inner-text[_ngcontent-%COMP%]{color:var(--colorNeutralForeground3)}.compact[_nghost-%COMP%]   .tri-switch-internal[_ngcontent-%COMP%]:not(.disabled)   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-toggle-inner-text[_ngcontent-%COMP%]{color:var(--colorNeutralForegroundOnBrand)}.compact[_nghost-%COMP%]   .tri-switch-internal[_ngcontent-%COMP%]:not(.disabled)   .tri-switch-rect[_ngcontent-%COMP%]{color:var(--colorNeutralForegroundInverted)}.compact[_nghost-%COMP%]   .tri-switch-internal[_ngcontent-%COMP%]:hover   .tri-switch-input[_ngcontent-%COMP%]:not(:checked) + section[_ngcontent-%COMP%]   .tri-toggle-inner-text[_ngcontent-%COMP%]{color:var(--colorNeutralForeground3)}.compact[_nghost-%COMP%]   .tri-switch-internal[_ngcontent-%COMP%]:hover   .tri-switch-rect[_ngcontent-%COMP%]{color:var(--colorNeutralForegroundInverted)}.compact[_nghost-%COMP%]   .tri-switch-internal.disabled[_ngcontent-%COMP%]   .tri-switch-input[_ngcontent-%COMP%]:not(:checked) + section[_ngcontent-%COMP%]   .tri-toggle-inner-text[_ngcontent-%COMP%]{color:var(--colorNeutralForegroundDisabled)}.compact[_nghost-%COMP%]   .tri-switch-internal.disabled[_ngcontent-%COMP%]   .tri-switch-rect[_ngcontent-%COMP%], .compact[_nghost-%COMP%]   .tri-switch-internal.disabled[_ngcontent-%COMP%]   .tri-switch-text[_ngcontent-%COMP%]{color:var(--colorNeutralForegroundDisabled)}  .tri-switch{display:inline-block;border:2px solid transparent}@media (forced-colors: active){  .tri-switch{border-color:transparent;forced-color-adjust:none}}  .tri-switch.cdk-keyboard-focused:focus-within{border:2px solid var(--colorNeutralStrokeFocus2);border-radius:var(--borderRadiusMedium)}.tri-switch-internal[_ngcontent-%COMP%]{cursor:pointer;display:flex;position:relative;padding:8px 0}.tri-switch-internal[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{align-items:center;display:flex}.tri-switch-internal[_ngcontent-%COMP%]   input[type=checkbox].tri-switch-input[_ngcontent-%COMP%]{position:absolute;width:0;height:0;opacity:0}.tri-switch-internal.disabled[_ngcontent-%COMP%]{color:var(--colorNeutralForegroundDisabled);cursor:default}.tri-switch-internal.disabled[_ngcontent-%COMP%]   .tri-switch-label[_ngcontent-%COMP%]{cursor:default}.tri-switch-internal.disabled[_ngcontent-%COMP%]   .tri-switch-checkmark[_ngcontent-%COMP%]{background-color:var(--colorNeutralForegroundDisabled)}.tri-switch-internal.disabled[_ngcontent-%COMP%]   .tri-switch-circle[_ngcontent-%COMP%]{border-color:var(--colorNeutralForegroundDisabled)}.tri-switch-internal.disabled[_ngcontent-%COMP%]   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-checkmark[_ngcontent-%COMP%]{background-color:var(--colorNeutralForegroundDisabled)}.tri-switch-internal.disabled[_ngcontent-%COMP%]   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-circle[_ngcontent-%COMP%]{background-color:var(--colorNeutralBackgroundDisabled);border-color:var(--colorNeutralBackgroundDisabled)}.tri-switch-internal[_ngcontent-%COMP%]:hover:not(.disabled)   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-circle[_ngcontent-%COMP%]{border-color:transparent}.tri-switch-internal[_ngcontent-%COMP%]:hover:not(.disabled)   .tri-switch-checkmark[_ngcontent-%COMP%]{background-color:var(--colorNeutralForeground3Hover)}.tri-switch-internal[_ngcontent-%COMP%]:hover:not(.disabled)   .tri-switch-circle[_ngcontent-%COMP%]{border-color:var(--colorNeutralForeground3Hover)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled)   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-checkmark[_ngcontent-%COMP%]{background-color:var(--colorNeutralForegroundInverted)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled)   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-circle[_ngcontent-%COMP%]{background-color:var(--colorCompoundBrandBackground);border-color:var(--colorCompoundBrandStroke)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled)   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-rect[_ngcontent-%COMP%]{background-color:var(--colorCompoundBrandBackground);border-color:var(--colorCompoundBrandStroke)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled)   .tri-switch-rect[_ngcontent-%COMP%]{background-color:var(--colorCompoundBrandBackground);border-color:var(--colorCompoundBrandStroke)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled):hover   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-circle[_ngcontent-%COMP%]{background-color:var(--colorBrandBackgroundHover);border-color:var(--colorCompoundBrandStroke)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled):hover   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-rect[_ngcontent-%COMP%]{background-color:var(--colorBrandBackgroundHover);border-color:var(--colorCompoundBrandStroke)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled):active   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-circle[_ngcontent-%COMP%]{background-color:var(--colorBrandBackgroundPressed);border-color:var(--colorBrandBackgroundPressed)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled):active   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-rect[_ngcontent-%COMP%]{background-color:var(--colorBrandBackgroundPressed);border-color:var(--colorBrandBackgroundPressed)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled):focus{border:2px solid var(--colorNeutralStrokeFocus2);border-radius:var(--borderRadiusMedium)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled):focus:after{border-radius:var(--borderRadiusSmall);border:1px solid var(--colorNeutralStrokeFocus1);content:"";display:block;height:calc(100% - 2px);width:calc(100% - 1px);position:absolute;left:0;bottom:0;top:0;right:0}.tri-switch-internal[_ngcontent-%COMP%]   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-circle[_ngcontent-%COMP%]{flex-direction:row-reverse}.tri-switch-internal[_ngcontent-%COMP%]   .tri-switch-input[_ngcontent-%COMP%]{position:absolute}.tri-switch-circle[_ngcontent-%COMP%], .tri-switch-rect[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row;flex-shrink:0;justify-content:space-between;padding:2px 4px;width:40px;height:20px;border:1px solid var(--colorNeutralStrokeAccessible);border-radius:10px;box-sizing:border-box;transition-property:background,border,border-color;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.23,1);overflow:hidden;background:var(--colorNeutralBackground1)}  html[data-focus-source=key] .tri-switch-input:focus+section{outline-offset:2px}.tri-switch-label[_ngcontent-%COMP%]{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:400;display:block;margin-bottom:12px}.tri-switch-text[_ngcontent-%COMP%]{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);color:var(--colorNeutralForeground1);line-height:20px;margin:0 0 0 12px}.tri-switch-checkmark[_ngcontent-%COMP%]{background-color:var(--colorNeutralForeground3);border-radius:50%;margin:2px 0;width:14px;height:14px}.tri-switch-dash[_ngcontent-%COMP%]{background-color:var(--colorNeutralForegroundInverted);border-radius:20%;margin:auto;width:14px;height:4px}'],changeDetection:0}),L}()},30651:function(tt,ke,u){u.d(ke,{Jy:function(){return C}});var g=u(77476),p=u(17177),oe=u(50423),C=function(){function X(){}return X.\u0275fac=function(V){return new(V||X)},X.\u0275mod=oe.\u0275\u0275defineNgModule({type:X}),X.\u0275inj=oe.\u0275\u0275defineInjector({imports:[g.CommonModule,p.T6]}),X}()},43059:function(tt,ke,u){u.r(ke),u.d(ke,{AutoSaveFieldsActivityName:function(){return Na},AzureConnectionResourceType:function(){return pt},CacheTypes:function(){return Hn},ConfigurationContentType:function(){return vt},DatasourceBindingSecurityMode:function(){return $n},EditConfigurationType:function(){return It},LicenseMode:function(){return le},OperationState:function(){return Wd},OperationType:function(){return Nd},PrivateEndpointConnectionStateStatus:function(){return zt},PrivateEndpointProvisioningState:function(){return Pt},PrivateEndpointsColumn:function(){return un},StorageFormat:function(){return Nt},WorkspaceIdentityProvisionState:function(){return Je},WorkspaceIdentityRole:function(){return Ui},WorkspaceIdentityUsersColumn:function(){return Vi},WorkspaceSettingsModule:function(){return Br},WorkspaceShellSettingsViewComponent:function(){return Mg},datasourceGroup_CognitiveServices:function(){return oa},datasourceGroup_Databricks:function(){return Mr},datasourceGroup_DocumentDb:function(){return Bi},datasourceGroup_EventHub:function(){return Tr},datasourceGroup_IOTHub:function(){return Pr},datasourceGroup_Insights:function(){return Gi},datasourceGroup_KeyVault:function(){return yr},datasourceGroup_Kusto:function(){return br},datasourceGroup_MachineLearningService:function(){return ca},datasourceGroup_MariaDB:function(){return Sr},datasourceGroup_MySQL:function(){return aa},datasourceGroup_Network_ApplicationGateway:function(){return wr},datasourceGroup_Network_PrivateLinkService:function(){return la},datasourceGroup_PostgreSQL:function(){return sa},datasourceGroup_Purview:function(){return da},datasourceGroup_Search:function(){return kr},datasourceGroup_Sql:function(){return zi},datasourceGroup_SqlManagedInstance:function(){return Ai},datasourceGroup_Storage:function(){return Ir},datasourceGroup_Synapse:function(){return xr},datasourceGroup_Web:function(){return pa},getDatasourceConfigs:function(){return Or},getErrorCodeLearnMore:function(){return Dr},isPrivateEndpointsErrorMessage:function(){return ua},isVNetErrorMessage:function(){return Ri},resourceIdRegex:function(){return Er}});var g=u(77476),p=u(17174),oe=u(87650),C=u(77274),X=u(57746),M=u(78035),V=u(65152),e=u(50423),Z=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule]}),i}(),H=u(5915),w=u(44913),ve=u(47768),U=u(46303),F=u(17177),h=u(8816),L=u(16149),q=u(95228),Q=u(14977),ie=u(57156),he=u(30651),Le=u(44408),ne=u(70628),ze=u(71550),Be=u(65232),Ge=u(32980),Ye=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule,Q.B,Ge.sp,L.m,M.Y,q.W,F.T6]}),i}(),nt=function(){function i(r){this.gitInitializeFacade=r}return i.prototype.initializeGitConnection=function(r){return this.gitInitializeFacade.initializeGitConnection(r)},i.prototype.getGitInitializationState=function(r){return this.gitInitializeFacade.getGitInitializationState(r)},i.prototype.getGitInitializationCallState=function(r){return this.gitInitializeFacade.getGitInitializationCallState(r)},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275inject(ne.REK))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i}(),qe=function(i){return i[i.None=0]="None",i[i.KeepYours=1]="KeepYours",i[i.TakeTheirs=2]="TakeTheirs",i}({}),xe=u(7452),Ee=u(32293),Se=u(10965),y=u(95825),O=u(65e3),E=u(37350),B=u(89330),T=u(74913),k=u(55334);function S(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"tri-checkbox",10),e.\u0275\u0275listener("onChange",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onCheckboxClick(o))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,1,"Trident_Git_Override_Checkbox_Information")," "))}var ot,yt,Ze,gt,ht,j="cancelButton",J="syncButtonName",fe=function(){function i(r,n){this.localizationService=r,this.dialogRef=n,this._isSyncButtonDisabled=!0,this._selectedMergePolicy=null,this._isOverrideCheckboxChecked=!1,this.MergePolicy=qe,this.dialogData={title:this.localizationService.get("Trident_Git_Sync_Title"),buttons:[{name:J,label:this.localizationService.get("Sync"),buttonType:"primary",disabled:this.isSyncButtonDisabled},{name:j,label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]}}return i.prototype.onMergePolicyChange=function(r,n){r&&(this._isOverrideCheckboxChecked=!1,this._selectedMergePolicy=n),this.calculateSyncButtonState()},i.prototype.onCheckboxClick=function(r){this._isOverrideCheckboxChecked=r,this.calculateSyncButtonState()},i.prototype.onButtonClick=function(r){r===j?this.dialogRef.close(null):r===J&&this.dialogRef.close(this._selectedMergePolicy)},i.prototype.calculateSyncButtonState=function(){this.isSyncButtonDisabled=null===this._selectedMergePolicy||this._selectedMergePolicy===qe.TakeTheirs&&!this._isOverrideCheckboxChecked},Object.defineProperty(i.prototype,"isSyncButtonDisabled",{get:function(){return this._isSyncButtonDisabled},set:function(n){this._isSyncButtonDisabled=n,this.dialogData.buttons[0].disabled=n},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selectedMergePolicy",{get:function(){return this._selectedMergePolicy},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isOverrideCheckboxChecked",{get:function(){return this._isOverrideCheckboxChecked},enumerable:!1,configurable:!0}),i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(Ee.so))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-git-merge-policy-selection"]],decls:24,vars:21,consts:[[3,"dialogData","buttonClickEvent"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2235445&clcid=0x409","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon"],[1,"radio-button-container"],[1,"keep-yours",3,"value","checked","change"],[1,"radio-button-text"],[1,"take-theirs",3,"value","checked","change"],[1,"message-bar"],["tri-svg-icon-20","","name","important_20_filled"],["class","checkbox",4,"ngIf"],[1,"checkbox"],[3,"onChange"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"trident-dialog",0),e.\u0275\u0275listener("buttonClickEvent",function(a){return t.onButtonClick(a)}),e.\u0275\u0275elementStart(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"tri-link",1),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"tri-radio-group")(8,"div",2)(9,"tri-radio-button",3),e.\u0275\u0275listener("change",function(a){return t.onMergePolicyChange(a,t.MergePolicy.KeepYours)}),e.\u0275\u0275elementStart(10,"span",4),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"div",2)(14,"tri-radio-button",5),e.\u0275\u0275listener("change",function(a){return t.onMergePolicyChange(a,t.MergePolicy.TakeTheirs)}),e.\u0275\u0275elementStart(15,"span",4),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",6),e.\u0275\u0275element(19,"tri-svg-icon",7),e.\u0275\u0275elementStart(20,"span"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(23,S,5,3,"div",8),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("dialogData",t.dialogData),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,11,"Trident_Git_Sync_Details")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,13,"LearnMore")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("value",t.MergePolicy.KeepYours)("checked",t.selectedMergePolicy===t.MergePolicy.KeepYours),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,15,"Trident_Git_Sync_From_Workspace_To_Git")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",t.MergePolicy.TakeTheirs)("checked",t.selectedMergePolicy===t.MergePolicy.TakeTheirs),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,17,"Trident_Git_Sync_From_Git_To_Workspace")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(22,19,"Trident_Git_Override_Warning")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.selectedMergePolicy===t.MergePolicy.TakeTheirs))},dependencies:[g.NgIf,Se.r,y.v,O.v,E.Y,B.Z,T.M,k.Y],styles:["[_nghost-%COMP%]     .mat-mdc-dialog-content.dialog-body{display:flex;flex-direction:column;gap:16px;max-height:none}p[_ngcontent-%COMP%]{margin-bottom:0}tri-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}tri-radio-group[_ngcontent-%COMP%]   .radio-button-container[_ngcontent-%COMP%]{border:1px solid var(--globalColorGrey82);border-radius:8px;padding:16px}tri-radio-group[_ngcontent-%COMP%]   .radio-button-container[_ngcontent-%COMP%]   tri-radio-button[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:center;gap:8px}tri-radio-group[_ngcontent-%COMP%]   .radio-button-container[_ngcontent-%COMP%]   tri-radio-button[_ngcontent-%COMP%]   .radio-button-text[_ngcontent-%COMP%]{color:var(--globalColorGrey14);font-size:14px}.message-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px;padding:6px 8px;margin-top:8px;background:var(--globalColorDarkOrangeTint60);border-bottom:1px solid var(--globalColorDarkOrangeTint40)}.message-bar[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorDarkOrangeShade10)}.message-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--globalColorDarkOrangeShade10);font-size:12px}.checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}"],changeDetection:0}),i}(),Ie=u(12385),Te=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule,ne.DAQ,p.u5,ze.FF,Be.Nn,Ye,Ie.K3,Le.Ps,ie.F,Ge.sp,w.lK,L.m,M.Y,ve.I,U.b,H.d,F.T6,h.w]}),i}(),D=u(90341),de=u(37419),De=u(94130),Ae=u(4437),St=u(10519),rt=u(48138),dt=u(30794),Rt=["knob"],Zt=["valueIndicatorContainer"];function Mn(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",4,5)(2,"div",6)(3,"span",7),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(n.valueIndicatorText)}}var Pn=["trackActive"];function nn(i,r){if(1&i&&e.\u0275\u0275element(0,"div"),2&i){var n=r.$implicit,t=r.index,o=e.\u0275\u0275nextContext(3);e.\u0275\u0275classMap(0===n?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),e.\u0275\u0275styleProp("transform",o._calcTickMarkTransform(t))}}function _n(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,nn,1,4,"div",11),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n._tickMarks)}}function Tn(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",8,9),e.\u0275\u0275template(2,_n,2,1,"ng-container",10),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n._cachedWidth)}}function On(i,r){if(1&i&&e.\u0275\u0275element(0,"mat-slider-visual-thumb",7),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("discrete",n.discrete)("thumbPosition",1)("valueIndicatorText",n.startValueIndicatorText)}}var rn=new e.InjectionToken("_MatSlider"),et=new e.InjectionToken("_MatSliderThumb"),on=new e.InjectionToken("_MatSliderRangeThumb"),En=new e.InjectionToken("_MatSliderVisualThumb"),ce=function(){function i(n,t,o,a){var l=this;this._cdr=n,this._ngZone=t,this._slider=a,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=function(v){if(!l._sliderInput._isFocused){var f=l._hostElement.getBoundingClientRect(),b=l._slider._isCursorOnSliderThumb(v,f);l._isHovered=b,b?l._showHoverRipple():l._hideRipple(l._hoverRippleRef)}},this._onMouseLeave=function(){l._isHovered=!1,l._hideRipple(l._hoverRippleRef)},this._onFocus=function(){l._hideRipple(l._hoverRippleRef),l._showFocusRipple(),l._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=function(){l._isActive||l._hideRipple(l._focusRippleRef),l._isHovered&&l._showHoverRipple(),l._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=function(v){0===v.button&&(l._isActive=!0,l._showActiveRipple())},this._onDragEnd=function(){l._isActive=!1,l._hideRipple(l._activeRippleRef),l._sliderInput._isFocused||l._hideRipple(l._focusRippleRef)},this._hostElement=o.nativeElement}var r=i.prototype;return r.ngAfterViewInit=function(){var t=this;this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;var o=this._sliderInputEl;this._ngZone.runOutsideAngular(function(){o.addEventListener("pointermove",t._onPointerMove),o.addEventListener("pointerdown",t._onDragStart),o.addEventListener("pointerup",t._onDragEnd),o.addEventListener("pointerleave",t._onMouseLeave),o.addEventListener("focus",t._onFocus),o.addEventListener("blur",t._onBlur)})},r.ngOnDestroy=function(){var t=this._sliderInputEl;t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)},r._showHoverRipple=function(){var t;this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),null==(t=this._hoverRippleRef)||t.element.classList.add("mat-mdc-slider-hover-ripple"))},r._showFocusRipple=function(){var t;this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),null==(t=this._focusRippleRef)||t.element.classList.add("mat-mdc-slider-focus-ripple"))},r._showActiveRipple=function(){var t;this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),null==(t=this._activeRippleRef)||t.element.classList.add("mat-mdc-slider-active-ripple"))},r._isShowingRipple=function(t){return 0===t?.state||1===t?.state},r._showRipple=function(t,o){var a;if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),null==(a=this._slider._globalRippleOptions)||!a.disabled||o))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})},r._hideRipple=function(t){if(t?.fadeOut(),!this._isShowingAnyRipple()){this._slider._isRange||this._hideValueIndicator();var o=this._getSibling();o._isShowingAnyRipple()||(this._hideValueIndicator(),o._hideValueIndicator())}},r._showValueIndicator=function(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")},r._hideValueIndicator=function(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")},r._getSibling=function(){return this._slider._getThumb(1===this.thumbPosition?2:1)},r._getValueIndicatorContainer=function(){var t;return null==(t=this._valueIndicatorContainer)?void 0:t.nativeElement},r._getKnob=function(){return this._knob.nativeElement},r._isShowingAnyRipple=function(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)},i}();(ot=ce).\u0275fac=function(r){return new(r||ot)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(rn))},ot.\u0275cmp=e.\u0275\u0275defineComponent({type:ot,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(r,n){var t;1&r&&(e.\u0275\u0275viewQuery(rt.wG,5),e.\u0275\u0275viewQuery(Rt,5),e.\u0275\u0275viewQuery(Zt,5)),2&r&&(e.\u0275\u0275queryRefresh(t=e.\u0275\u0275loadQuery())&&(n._ripple=t.first),e.\u0275\u0275queryRefresh(t=e.\u0275\u0275loadQuery())&&(n._knob=t.first),e.\u0275\u0275queryRefresh(t=e.\u0275\u0275loadQuery())&&(n._valueIndicatorContainer=t.first))},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[e.\u0275\u0275ProvidersFeature([{provide:En,useExisting:ot}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(r,n){1&r&&(e.\u0275\u0275template(0,Mn,5,1,"div",0),e.\u0275\u0275element(1,"div",1,2)(3,"div",3)),2&r&&(e.\u0275\u0275property("ngIf",n.discrete),e.\u0275\u0275advance(3),e.\u0275\u0275property("matRippleDisabled",!0))},dependencies:[g.NgIf,rt.wG],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0});var pe=(0,rt.pj)((0,rt.Kr)(function(){return function(r){this._elementRef=r}}()),"primary");(yt=function(i){(0,de.Z)(n,i);var r=n.prototype;function n(t,o,a,l,v,f){var b;return(b=i.call(this,a)||this)._ngZone=t,b._cdr=o,b._dir=l,b._globalRippleOptions=v,b._disabled=!1,b._discrete=!1,b._showTickMarks=!1,b._min=0,b._max=100,b._step=1,b.displayWith=function(z){return""+z},b._rippleRadius=24,b.startValueIndicatorText="",b.endValueIndicatorText="",b._isRange=!1,b._isRtl=!1,b._hasViewInitialized=!1,b._tickMarkTrackWidth=0,b._hasAnimation=!1,b._resizeTimer=null,b._platform=(0,e.inject)(St.t4),b._knobRadius=8,b._thumbsOverlap=!1,b._noopAnimations="NoopAnimations"===f,b._dirChangeSubscription=b._dir.change.subscribe(function(){return b._onDirChange()}),b._isRtl="rtl"===b._dir.value,b}return r._updateMin=function(o){var a=this._min;this._min=o,this._isRange?this._updateMinRange({old:a,new:o}):this._updateMinNonRange(o),this._onMinMaxOrStepChange()},r._updateMinRange=function(o){var a=this._getInput(2),l=this._getInput(1),v=a.value,f=l.value;l.min=o.new,a.min=Math.max(o.new,l.value),l.max=Math.min(a.max,a.value),l._updateWidthInactive(),a._updateWidthInactive(),o.new<o.old?this._onTranslateXChangeBySideEffect(a,l):this._onTranslateXChangeBySideEffect(l,a),v!==a.value&&this._onValueChange(a),f!==l.value&&this._onValueChange(l)},r._updateMinNonRange=function(o){var a=this._getInput(2);if(a){var l=a.value;a.min=o,a._updateThumbUIByValue(),this._updateTrackUI(a),l!==a.value&&this._onValueChange(a)}},r._updateMax=function(o){var a=this._max;this._max=o,this._isRange?this._updateMaxRange({old:a,new:o}):this._updateMaxNonRange(o),this._onMinMaxOrStepChange()},r._updateMaxRange=function(o){var a=this._getInput(2),l=this._getInput(1),v=a.value,f=l.value;a.max=o.new,l.max=Math.min(o.new,a.value),a.min=l.value,a._updateWidthInactive(),l._updateWidthInactive(),o.new>o.old?this._onTranslateXChangeBySideEffect(l,a):this._onTranslateXChangeBySideEffect(a,l),v!==a.value&&this._onValueChange(a),f!==l.value&&this._onValueChange(l)},r._updateMaxNonRange=function(o){var a=this._getInput(2);if(a){var l=a.value;a.max=o,a._updateThumbUIByValue(),this._updateTrackUI(a),l!==a.value&&this._onValueChange(a)}},r._updateStep=function(o){this._step=o,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()},r._updateStepRange=function(){var o=this._getInput(2),a=this._getInput(1),l=o.value,v=a.value,f=a.value;o.min=this._min,a.max=this._max,o.step=this._step,a.step=this._step,this._platform.SAFARI&&(o.value=o.value,a.value=a.value),o.min=Math.max(this._min,a.value),a.max=Math.min(this._max,o.value),a._updateWidthInactive(),o._updateWidthInactive(),o.value<f?this._onTranslateXChangeBySideEffect(a,o):this._onTranslateXChangeBySideEffect(o,a),l!==o.value&&this._onValueChange(o),v!==a.value&&this._onValueChange(a)},r._updateStepNonRange=function(){var o=this._getInput(2);if(o){var a=o.value;o.step=this._step,this._platform.SAFARI&&(o.value=o.value),o._updateThumbUIByValue(),a!==o.value&&this._onValueChange(o)}},r.ngAfterViewInit=function(){this._platform.isBrowser&&this._updateDimensions();var o=this._getInput(2),a=this._getInput(1);this._isRange=!!o&&!!a,this._cdr.detectChanges();var l=this._getThumb(2);this._rippleRadius=l._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(o,a):this._initUINonRange(o),this._updateTrackUI(o),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()},r._initUINonRange=function(o){o.initProps(),o.initUI(),this._updateValueIndicatorUI(o),this._hasViewInitialized=!0,o._updateThumbUIByValue()},r._initUIRange=function(o,a){o.initProps(),o.initUI(),a.initProps(),a.initUI(),o._updateMinMax(),a._updateMinMax(),o._updateStaticStyles(),a._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,o._updateThumbUIByValue(),a._updateThumbUIByValue()},r.ngOnDestroy=function(){var o;this._dirChangeSubscription.unsubscribe(),null==(o=this._resizeObserver)||o.disconnect(),this._resizeObserver=null},r._onDirChange=function(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()},r._onDirChangeRange=function(){var o=this._getInput(2),a=this._getInput(1);o._setIsLeftThumb(),a._setIsLeftThumb(),o.translateX=o._calcTranslateXByValue(),a.translateX=a._calcTranslateXByValue(),o._updateStaticStyles(),a._updateStaticStyles(),o._updateWidthInactive(),a._updateWidthInactive(),o._updateThumbUIByValue(),a._updateThumbUIByValue()},r._onDirChangeNonRange=function(){this._getInput(2)._updateThumbUIByValue()},r._observeHostResize=function(){var o=this;typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(function(){o._resizeObserver=new ResizeObserver(function(){o._isActive()||(o._resizeTimer&&clearTimeout(o._resizeTimer),o._onResize())}),o._resizeObserver.observe(o._elementRef.nativeElement)})},r._isActive=function(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive},r._getValue=function(o){void 0===o&&(o=2);var a=this._getInput(o);return a?a.value:this.min},r._skipUpdate=function(){var o,a;return!!(null!=(o=this._getInput(1))&&o._skipUIUpdate||null!=(a=this._getInput(2))&&a._skipUIUpdate)},r._updateDimensions=function(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left},r._setTrackActiveStyles=function(o){var a=this._trackActive.nativeElement.style;a.left=o.left,a.right=o.right,a.transformOrigin=o.transformOrigin,a.transform=o.transform},r._calcTickMarkTransform=function(o){return"translateX("+o*(this._tickMarkTrackWidth/(this._tickMarks.length-1))+"px"},r._onTranslateXChange=function(o){this._hasViewInitialized&&(this._updateThumbUI(o),this._updateTrackUI(o),this._updateOverlappingThumbUI(o))},r._onTranslateXChangeBySideEffect=function(o,a){this._hasViewInitialized&&(o._updateThumbUIByValue(),a._updateThumbUIByValue())},r._onValueChange=function(o){this._hasViewInitialized&&(this._updateValueIndicatorUI(o),this._updateTickMarkUI(),this._cdr.detectChanges())},r._onMinMaxOrStepChange=function(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())},r._onResize=function(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){var o=this._getInput(2),a=this._getInput(1);o._updateThumbUIByValue(),a._updateThumbUIByValue(),o._updateStaticStyles(),a._updateStaticStyles(),o._updateMinMax(),a._updateMinMax(),o._updateWidthInactive(),a._updateWidthInactive()}else{var l=this._getInput(2);l&&l._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}},r._areThumbsOverlapping=function(){var o=this._getInput(1),a=this._getInput(2);return!(!o||!a)&&a.translateX-o.translateX<20},r._updateOverlappingThumbClassNames=function(o){var a=o.getSibling(),l=this._getThumb(o.thumbPosition);this._getThumb(a.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),l._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)},r._updateOverlappingThumbUI=function(o){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(o))},r._updateThumbUI=function(o){this._skipUpdate()||(this._getThumb(2===o.thumbPosition?2:1)._hostElement.style.transform="translateX("+o.translateX+"px)")},r._updateValueIndicatorUI=function(o){if(!this._skipUpdate()){var a=this.displayWith(o.value);if(this._hasViewInitialized?o._valuetext=a:o._hostElement.setAttribute("aria-valuetext",a),this.discrete){1===o.thumbPosition?this.startValueIndicatorText=a:this.endValueIndicatorText=a;var l=this._getThumb(o.thumbPosition);a.length<3?l._hostElement.classList.add("mdc-slider__thumb--short-value"):l._hostElement.classList.remove("mdc-slider__thumb--short-value")}}},r._updateValueIndicatorUIs=function(){var o=this._getInput(2),a=this._getInput(1);o&&this._updateValueIndicatorUI(o),a&&this._updateValueIndicatorUI(a)},r._updateTickMarkTrackUI=function(){if(this.showTickMarks&&!this._skipUpdate()){var o=this._step&&this._step>0?this._step:1,a=Math.floor(this.max/o)*o;this._tickMarkTrackWidth=this._cachedWidth*((a-this.min)/(this.max-this.min))-6}},r._updateTrackUI=function(o){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(o):this._updateTrackUINonRange(o))},r._updateTrackUIRange=function(o){var a=o.getSibling();if(a&&this._cachedWidth){var l=Math.abs(a.translateX-o.translateX)/this._cachedWidth;this._setTrackActiveStyles(o._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-a.translateX+"px",transformOrigin:"right",transform:"scaleX("+l+")"}:{left:a.translateX+"px",right:"auto",transformOrigin:"left",transform:"scaleX("+l+")"})}},r._updateTrackUINonRange=function(o){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:"scaleX("+(1-o.fillPercentage)+")"}:{left:"0px",right:"auto",transformOrigin:"left",transform:"scaleX("+o.fillPercentage+")"})},r._updateTickMarkUI=function(){if(this.showTickMarks&&void 0!==this.step&&void 0!==this.min&&void 0!==this.max){var o=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(o):this._updateTickMarkUINonRange(o),this._isRtl&&this._tickMarks.reverse()}},r._updateTickMarkUINonRange=function(o){var a=this._getValue(),l=Math.max(Math.round((a-this.min)/o),0),v=Math.max(Math.round((this.max-a)/o),0);this._isRtl?l++:v++,this._tickMarks=Array(l).fill(0).concat(Array(v).fill(1))},r._updateTickMarkUIRange=function(o){var a=this._getValue(),l=this._getValue(1),v=Math.max(Math.floor((l-this.min)/o),0),f=Math.max(Math.floor((a-l)/o)+1,0),b=Math.max(Math.floor((this.max-a)/o),0);this._tickMarks=Array(v).fill(1).concat(Array(f).fill(0),Array(b).fill(1))},r._getInput=function(o){var a;return 2===o&&this._input?this._input:null!=(a=this._inputs)&&a.length?1===o?this._inputs.first:this._inputs.last:void 0},r._getThumb=function(o){var a,l;return 2===o?null==(a=this._thumbs)?void 0:a.last:null==(l=this._thumbs)?void 0:l.first},r._setTransition=function(o){this._hasAnimation=!this._platform.IOS&&o&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)},r._isCursorOnSliderThumb=function(o,a){var l=a.width/2,z=o.clientY-(a.y+l);return Math.pow(o.clientX-(a.x+l),2)+Math.pow(z,2)<Math.pow(l,2)},(0,D.Z)(n,[{key:"disabled",get:function(){return this._disabled},set:function(o){this._disabled=(0,Ae.Ig)(o);var a=this._getInput(2),l=this._getInput(1);a&&(a.disabled=this._disabled),l&&(l.disabled=this._disabled)}},{key:"discrete",get:function(){return this._discrete},set:function(o){this._discrete=(0,Ae.Ig)(o),this._updateValueIndicatorUIs()}},{key:"showTickMarks",get:function(){return this._showTickMarks},set:function(o){this._showTickMarks=(0,Ae.Ig)(o)}},{key:"min",get:function(){return this._min},set:function(o){var a=(0,Ae.su)(o,this._min);this._min!==a&&this._updateMin(a)}},{key:"max",get:function(){return this._max},set:function(o){var a=(0,Ae.su)(o,this._max);this._max!==a&&this._updateMax(a)}},{key:"step",get:function(){return this._step},set:function(o){var a=(0,Ae.su)(o,this._step);this._step!==a&&this._updateStep(a)}}]),n}(pe)).\u0275fac=function(r){return new(r||yt)(e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(De.Is,8),e.\u0275\u0275directiveInject(rt.Y2,8),e.\u0275\u0275directiveInject(e.ANIMATION_MODULE_TYPE,8))},yt.\u0275cmp=e.\u0275\u0275defineComponent({type:yt,selectors:[["mat-slider"]],contentQueries:function(r,n,t){var o;1&r&&(e.\u0275\u0275contentQuery(t,et,5),e.\u0275\u0275contentQuery(t,on,4)),2&r&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n._input=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n._inputs=o))},viewQuery:function(r,n){var t;1&r&&(e.\u0275\u0275viewQuery(Pn,5),e.\u0275\u0275viewQuery(En,5)),2&r&&(e.\u0275\u0275queryRefresh(t=e.\u0275\u0275loadQuery())&&(n._trackActive=t.first),e.\u0275\u0275queryRefresh(t=e.\u0275\u0275loadQuery())&&(n._thumbs=t))},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(r,n){2&r&&e.\u0275\u0275classProp("mdc-slider--range",n._isRange)("mdc-slider--disabled",n.disabled)("mdc-slider--discrete",n.discrete)("mdc-slider--tick-marks",n.showTickMarks)("_mat-animation-noopable",n._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[e.\u0275\u0275ProvidersFeature([{provide:rn,useExisting:yt}]),e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:["*"],decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(r,n){1&r&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275projection(0),e.\u0275\u0275elementStart(1,"div",0),e.\u0275\u0275element(2,"div",1),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275element(4,"div",3,4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,Tn,3,1,"div",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,On,1,3,"mat-slider-visual-thumb",6),e.\u0275\u0275element(8,"mat-slider-visual-thumb",7)),2&r&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",n.showTickMarks),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n._isRange),e.\u0275\u0275advance(1),e.\u0275\u0275property("discrete",n.discrete)("thumbPosition",2)("valueIndicatorText",n.endValueIndicatorText))},dependencies:[g.NgForOf,g.NgIf,ce],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__value-indicator{word-break:normal}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});var at={provide:p.JU,useExisting:(0,e.forwardRef)(function(){return Ft}),multi:!0},Xe={provide:p.JU,useExisting:(0,e.forwardRef)(function(){return vn}),multi:!0},Ft=function(){var i=r.prototype;function r(n,t,o,a){var l=this;this._ngZone=n,this._elementRef=t,this._cdr=o,this._slider=a,this.valueChange=new e.EventEmitter,this.dragStart=new e.EventEmitter,this.dragEnd=new e.EventEmitter,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new dt.xQ,this._skipUIUpdate=!1,this._onTouchedFn=function(){},this._isControlInitialized=!1,this._platform=(0,e.inject)(St.t4),this._hostElement=t.nativeElement,this._ngZone.runOutsideAngular(function(){l._hostElement.addEventListener("pointerdown",l._onPointerDown.bind(l)),l._hostElement.addEventListener("pointermove",l._onPointerMove.bind(l)),l._hostElement.addEventListener("pointerup",l._onPointerUp.bind(l))})}return i._setIsFocused=function(t){this._isFocused=t},i.ngOnDestroy=function(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()},i.initProps=function(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()},i.initUI=function(){this._updateThumbUIByValue()},i._initValue=function(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())},i._getDefaultValue=function(){return this.min},i._onBlur=function(){this._setIsFocused(!1),this._onTouchedFn()},i._onFocus=function(){this._setIsFocused(!0)},i._onChange=function(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})},i._onInput=function(){var t;null==(t=this._onChangeFn)||t.call(this,this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)},i._onNgControlValueChange=function(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled},i._onPointerDown=function(t){if(!this.disabled&&0===t.button){if(this._platform.IOS){var o=this._slider._isCursorOnSliderThumb(t,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=o,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}},i._handleValueCorrection=function(t){var o=this;this._skipUIUpdate=!0,setTimeout(function(){o._skipUIUpdate=!1,o._fixValue(t)},0)},i._fixValue=function(t){var o,a=t.clientX-this._slider._cachedLeft,l=this._slider._cachedWidth,v=0===this._slider.step?1:this._slider.step,f=Math.floor((this._slider.max-this._slider.min)/v),z=Math.round((this._slider._isRtl?1-a/l:a/l)*f)/f,ue=Math.round((z*(this._slider.max-this._slider.min)+this._slider.min)/v)*v;if(ue===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=ue,this.valueChange.emit(this.value),null==(o=this._onChangeFn)||o.call(this,this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})},i._onPointerMove=function(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)},i._onPointerUp=function(){var t=this;this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(function(){return t._updateWidthInactive()},this._platform.IOS?10:0))},i._clamp=function(t){return Math.max(Math.min(t,this._slider._cachedWidth),0)},i._calcTranslateXByValue=function(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth},i._calcTranslateXByPointerEvent=function(t){return t.clientX-this._slider._cachedLeft},i._updateWidthActive=function(){this._hostElement.style.padding="0 "+this._slider._inputPadding+"px",this._hostElement.style.width="calc(100% + "+this._slider._inputPadding+"px)"},i._updateWidthInactive=function(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"},i._updateThumbUIByValue=function(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)},i._updateThumbUIByPointerEvent=function(t,o){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(o)},i._updateThumbUI=function(t){this._slider._setTransition(!(null==t||!t.withAnimation)),this._slider._onTranslateXChange(this)},i.writeValue=function(t){(this._isControlInitialized||null!==t)&&(this.value=t)},i.registerOnChange=function(t){this._onChangeFn=t,this._isControlInitialized=!0},i.registerOnTouched=function(t){this._onTouchedFn=t},i.setDisabledState=function(t){this.disabled=t},i.focus=function(){this._hostElement.focus()},i.blur=function(){this._hostElement.blur()},(0,D.Z)(r,[{key:"value",get:function(){return(0,Ae.su)(this._hostElement.value)},set:function(t){var o=(0,Ae.su)(t).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=o,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()):this._initialValue=o}},{key:"translateX",get:function(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)},set:function(t){this._translateX=t}},{key:"min",get:function(){return(0,Ae.su)(this._hostElement.min)},set:function(t){this._hostElement.min=(0,Ae.su)(t).toString(),this._cdr.detectChanges()}},{key:"max",get:function(){return(0,Ae.su)(this._hostElement.max)},set:function(t){this._hostElement.max=(0,Ae.su)(t).toString(),this._cdr.detectChanges()}},{key:"step",get:function(){return(0,Ae.su)(this._hostElement.step)},set:function(t){this._hostElement.step=(0,Ae.su)(t).toString(),this._cdr.detectChanges()}},{key:"disabled",get:function(){return(0,Ae.Ig)(this._hostElement.disabled)},set:function(t){this._hostElement.disabled=(0,Ae.Ig)(t),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}},{key:"percentage",get:function(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}},{key:"fillPercentage",get:function(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}}]),r}();(Ze=Ft).\u0275fac=function(r){return new(r||Ze)(e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(rn))},Ze.\u0275dir=e.\u0275\u0275defineDirective({type:Ze,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(r,n){1&r&&e.\u0275\u0275listener("change",function(){return n._onChange()})("input",function(){return n._onInput()})("blur",function(){return n._onBlur()})("focus",function(){return n._onFocus()}),2&r&&e.\u0275\u0275attribute("aria-valuetext",n._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[e.\u0275\u0275ProvidersFeature([at,{provide:et,useExisting:Ze}])]});var vn=function(i){(0,de.Z)(n,i);var r=n.prototype;function n(t,o,a,l){var v;return(v=i.call(this,t,a,l,o)||this)._cdr=l,v._isEndThumb=v._hostElement.hasAttribute("matSliderEndThumb"),v._setIsLeftThumb(),v.thumbPosition=v._isEndThumb?2:1,v}return r.getSibling=function(){return this._sibling||(this._sibling=this._slider._getInput(this._isEndThumb?1:2)),this._sibling},r.getMinPos=function(){var o=this.getSibling();return!this._isLeftThumb&&o?o.translateX:0},r.getMaxPos=function(){var o=this.getSibling();return this._isLeftThumb&&o?o.translateX:this._slider._cachedWidth},r._setIsLeftThumb=function(){this._isLeftThumb=this._isEndThumb&&this._slider._isRtl||!this._isEndThumb&&!this._slider._isRtl},r._getDefaultValue=function(){return this._isEndThumb&&this._slider._isRange?this.max:this.min},r._onInput=function(){i.prototype._onInput.call(this),this._updateSibling(),this._isActive||this._updateWidthInactive()},r._onNgControlValueChange=function(){var o;i.prototype._onNgControlValueChange.call(this),null==(o=this.getSibling())||o._updateMinMax()},r._onPointerDown=function(o){this.disabled||0!==o.button||(this._sibling&&(this._sibling._updateWidthActive(),this._sibling._hostElement.classList.add("mat-mdc-slider-input-no-pointer-events")),i.prototype._onPointerDown.call(this,o))},r._onPointerUp=function(){var o=this;i.prototype._onPointerUp.call(this),this._sibling&&setTimeout(function(){o._sibling._updateWidthInactive(),o._sibling._hostElement.classList.remove("mat-mdc-slider-input-no-pointer-events")})},r._onPointerMove=function(o){i.prototype._onPointerMove.call(this,o),!this._slider.step&&this._isActive&&this._updateSibling()},r._fixValue=function(o){var a;i.prototype._fixValue.call(this,o),null==(a=this._sibling)||a._updateMinMax()},r._clamp=function(o){return Math.max(Math.min(o,this.getMaxPos()),this.getMinPos())},r._updateMinMax=function(){var o=this.getSibling();o&&(this._isEndThumb?(this.min=Math.max(this._slider.min,o.value),this.max=this._slider.max):(this.min=this._slider.min,this.max=Math.min(this._slider.max,o.value)))},r._updateWidthActive=function(){var o=2*this._slider._rippleRadius-2*this._slider._inputPadding;this._hostElement.style.width=(this._slider._cachedWidth+this._slider._inputPadding-o)*(this._slider.min<this._slider.max?(this.max-this.min)/(this._slider.max-this._slider.min):1)+o+"px",this._hostElement.style.padding="0 "+this._slider._inputPadding+"px"},r._updateWidthInactive=function(){var o=this.getSibling();if(o){var l=this._isEndThumb?this.value-(this.value-o.value)/2:this.value+(o.value-this.value)/2,f=this._slider.min<this._slider.max?this._isEndThumb?(this.max-l)/(this._slider.max-this._slider.min):(l-this.min)/(this._slider.max-this._slider.min):1,b=this._slider._rippleRadius;1===f?b=48:0===f&&(b=0),this._hostElement.style.width=this._slider._cachedWidth*f+b+"px",this._hostElement.style.padding="0px",this._isLeftThumb?(this._hostElement.style.left="-24px",this._hostElement.style.right="auto"):(this._hostElement.style.left="auto",this._hostElement.style.right="-24px")}},r._updateStaticStyles=function(){this._hostElement.classList.toggle("mat-slider__right-input",!this._isLeftThumb)},r._updateSibling=function(){var o=this.getSibling();o&&(o._updateMinMax(),this._isActive?o._updateWidthActive():o._updateWidthInactive())},r.writeValue=function(o){(this._isControlInitialized||null!==o)&&(this.value=o,this._updateWidthInactive(),this._updateSibling())},n}(Ft);(gt=vn).\u0275fac=function(r){return new(r||gt)(e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(rn),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},gt.\u0275dir=e.\u0275\u0275defineDirective({type:gt,selectors:[["input","matSliderStartThumb",""],["input","matSliderEndThumb",""]],exportAs:["matSliderRangeThumb"],features:[e.\u0275\u0275ProvidersFeature([Xe,{provide:on,useExisting:gt}]),e.\u0275\u0275InheritDefinitionFeature]});var Ki=function(){};(ht=Ki).\u0275fac=function(r){return new(r||ht)},ht.\u0275mod=e.\u0275\u0275defineNgModule({type:ht}),ht.\u0275inj=e.\u0275\u0275defineInjector({imports:[rt.BQ,g.CommonModule,rt.si]});var hn=u(60733),fn=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule,Ki,p.u5,hn.lN]}),i}(),$t=function(i){return i[i.Information=0]="Information",i[i.Error=1]="Error",i[i.Warning=2]="Warning",i[i.Success=3]="Success",i}({});function Qn(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.message," ")}}var Yn=["*"],Lt=function(){function i(){}return i.prototype.ngOnInit=function(){this.setStatusIndicatorClass()},i.prototype.ngOnChanges=function(){this.setStatusIndicatorClass()},i.prototype.setStatusIndicatorClass=function(){switch(this.statusIndicatorType){case $t.Error:this.statusIndicatorClass="status-indicator-error",this.statusIndicatorIconName="error_circle_12_filled";break;case $t.Warning:this.statusIndicatorClass="status-indicator-warning",this.statusIndicatorIconName="warning_12_filled";break;case $t.Success:this.statusIndicatorClass="status-indicator-success",this.statusIndicatorIconName="checkmark_circle_12_filled";break;default:this.statusIndicatorClass="status-indicator-info",this.statusIndicatorIconName="info_12_filled"}},i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-status-indicator"]],inputs:{statusIndicatorType:"statusIndicatorType",message:"message"},features:[e.\u0275\u0275NgOnChangesFeature],ngContentSelectors:Yn,decls:6,vars:4,consts:[[1,"status-indicator",3,"ngClass"],[1,"status-indicator-icon"],["tri-svg-icon-12","",3,"name"],[1,"status-indicator-text-container"],["class","status-indicator-text",4,"ngIf"],[1,"status-indicator-text"]],template:function(n,t){1&n&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"tri-svg-icon",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275template(4,Qn,2,1,"div",4),e.\u0275\u0275projection(5),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275property("ngClass",t.statusIndicatorClass),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.statusIndicatorIconName),e.\u0275\u0275attribute("aria-hidden",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!!t.message))},dependencies:[g.NgClass,g.NgIf,T.M],styles:[".status-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;box-sizing:border-box}.status-indicator[_ngcontent-%COMP%]   .status-indicator-text-container[_ngcontent-%COMP%]{color:var(--colorNeutralForeground3);font-family:var(--caption-font-family);font-size:var(--caption-font-size);font-weight:var(--caption-font-weight);line-height:var(--caption-font-lineheight);margin-left:4px}.status-indicator.status-indicator-info[_ngcontent-%COMP%]   .status-indicator-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground3)}.status-indicator.status-indicator-error[_ngcontent-%COMP%]   .status-indicator-icon[_ngcontent-%COMP%]{fill:var(--colorPaletteRedForeground1)}.status-indicator.status-indicator-error[_ngcontent-%COMP%]   .status-indicator-text-container[_ngcontent-%COMP%]{color:var(--colorPaletteRedForeground1)}.status-indicator.status-indicator-warning[_ngcontent-%COMP%]   .status-indicator-icon[_ngcontent-%COMP%]{fill:var(--globalColorYellowShade30)}.status-indicator.status-indicator-success[_ngcontent-%COMP%]   .status-indicator-icon[_ngcontent-%COMP%]{fill:var(--globalColorGreenShade10)}.status-indicator-icon[_ngcontent-%COMP%]{display:flex}"],changeDetection:0}),i}(),Cn=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule,M.Y,F.T6]}),i}(),$e=u(98131),Lr=u(75476),Jt=u(28154),N=u(81337),Wr=u(68698),Zn=u(56186),_t=u(94771),W=u(35510),ye=u(48787),Nr=function(){function i(r){this.dialog=r,this.deleteButtonClicked=!1}return i.prototype.onDeleteButtonClicked=function(){this.deleteButtonClicked=!0,this.dialog.close(this.deleteButtonClicked)},i.prototype.onCancelButtonClick=function(){this.dialog.close()},i.prototype.onDismissButtonClick=function(){this.dialog.close()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ee.so))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-platform-monitoring-delete-button"]],decls:18,vars:12,consts:[[1,"dialog"],[1,"dialog-header"],[1,"dialog-title"],["aria-label","close",1,"dismiss-button",3,"click"],["name","dismiss_20_regular"],[1,"dialog-content"],[1,"subtitle"],[1,"dialog-footer"],["tri-button","","appearance","primary",1,"sync-button",3,"click"],["tri-button","","appearance","tri-middle",1,"delete-button",3,"click"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h4",2),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",3),e.\u0275\u0275listener("click",function(){return t.onDismissButtonClick()}),e.\u0275\u0275element(6,"tri-svg-icon",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",5)(8,"div",6),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",7)(12,"button",8),e.\u0275\u0275listener("click",function(){return t.onDeleteButtonClicked()}),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",9),e.\u0275\u0275listener("click",function(){return t.onCancelButtonClick()}),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,4,"Platform_Monitoring_Delete")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,6,"Platform_Monitoring_Delete_Message")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,8,"Delete")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,10,"Cancel_ButtonText")," "))},dependencies:[T.M,k.Y],styles:[".dialog[_ngcontent-%COMP%]{display:flex;width:250px;flex-direction:column;justify-content:left;background:var(--globalColorWhite);padding:15px}.dialog-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-weight:600;font-size:20px;margin:0}.dialog-header[_ngcontent-%COMP%]   .dismiss-button[_ngcontent-%COMP%]{border:none;background:transparent;padding:0;fill:var(--globalColorGrey38)}.dialog-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin-top:18px;font-size:14px;line-height:20px}.dialog-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:right;margin-top:24px;gap:8px}.dialog-footer[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], .dialog-footer[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{width:fit-content}"],changeDetection:0}),i}(),Dn=u(25082),qt=u(12315),Jn=u(9398),He=u(54729),an=u(13414);function Ut(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275element(1,"tri-svg-icon",23),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Platform_Monitoring_Disabled_By_Admin_Created")))}function qn(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25),e.\u0275\u0275element(1,"tri-svg-icon",26),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",27),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.dismissModal())}),e.\u0275\u0275element(6,"tri-svg-icon",28),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Platform_Monitoring_CreateDatabase_Success")))}function $r(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25),e.\u0275\u0275element(1,"tri-svg-icon",26),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",27),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.dismissModalOfToggle())}),e.\u0275\u0275element(6,"tri-svg-icon",28),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,t.actionOfTogglingInjestionString))}}function Ur(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",29),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.promptDeletePlatformMonitoring())}),e.\u0275\u0275element(1,"tri-svg-icon",30),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Platform_Monitoring_DeleteDatabase")," "))}function We(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"tri-spinner",32),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"AnalysisServer_Loading")," "))}var bt=function(){return{standalone:!0}};function Ue(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section"),e.\u0275\u0275template(1,Ut,5,3,"div",3),e.\u0275\u0275template(2,qn,7,3,"div",4),e.\u0275\u0275template(3,$r,7,3,"div",4),e.\u0275\u0275elementStart(4,"section",5),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"section",6),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"section",7)(11,"span",8),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementStart(14,"tri-switch",9),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.allowPlatformMonitoring=a)})("ngModelChange",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.savePlatformMonitoringStatus())}),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementStart(16,"div",10),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(19,"span",11),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"section",7)(23,"div")(24,"label",12),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(27,"label",6),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"section",13)(31,"tri-link",14),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"section",15)(35,"div",16),e.\u0275\u0275element(36,"mat-divider"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"span",17),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"div",18),e.\u0275\u0275element(41,"mat-divider"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(42,"section",19),e.\u0275\u0275text(43),e.\u0275\u0275pipe(44,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"section",6),e.\u0275\u0275text(46),e.\u0275\u0275pipe(47,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(48,Ur,4,3,"button",20),e.\u0275\u0275pipe(49,"async"),e.\u0275\u0275template(50,We,4,3,"div",21),e.\u0275\u0275pipe(51,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.toggleEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.actionOfDatabaseCreation),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.actionOfTogglingInjestion),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,22,"Monitoring")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,24,"Platform_Monitoring_CreateDatabase_Description")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,26,"Platform_Monitoring_Ingestion_Metrics")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.allowPlatformMonitoring)("ngModelOptions",e.\u0275\u0275pureFunction0(50,bt))("aria-label",e.\u0275\u0275pipeBind1(15,28,t.allowPlatformMonitoringToggleString))("disabled",!t.toggleEnabled),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,30,t.allowPlatformMonitoringToggleString)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(21,32,"Platform_Monitoring_Description")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(26,34,"Platform_Monitoring_ConnectionString")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(29,36,"Platform_Monitoring_ConnectionString_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("external",!0)("href",t.databaseString),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(33,38,"Platform_Monitoring_Database_Link")," "),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(39,40,"Manage_Tooltip")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(44,42,"Platform_Monitoring_DeleteDatabase_Title")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(47,44,"Platform_Monitoring_DeleteDatabase_Description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(49,46,t.databaseDeletedSubjectObservable)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(51,48,t.databaseDeletedSubjectObservable))}}function ei(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275element(1,"tri-svg-icon",23),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Platform_Monitoring_Disabled_By_Admin")))}function Vr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",36),e.\u0275\u0275element(1,"tri-svg-icon",37),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",38),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.dismissModalOfFailure())}),e.\u0275\u0275element(6,"tri-svg-icon",28),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Platform_Monitoring_CreateDatabase_Failure")))}function jr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25),e.\u0275\u0275element(1,"tri-svg-icon",26),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",27),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.dismissModalOfDeletion())}),e.\u0275\u0275element(6,"tri-svg-icon",28),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Platform_Monitoring_DeleteDatabase_Success")))}function Bn(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",39),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.createDatabase())}),e.\u0275\u0275element(1,"tri-svg-icon",40),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",!t.toggleEnabled||t.buttonDisabledForCreation),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"SettingsDataSource_SettingsAuthenticationMethodDatabase")," ")}}function Vt(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"tri-spinner",32),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"DataLoaderSpinner_LoadingMessage3")," "))}function ti(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section"),e.\u0275\u0275template(1,ei,5,3,"div",3),e.\u0275\u0275template(2,Vr,7,3,"div",33),e.\u0275\u0275template(3,jr,7,3,"div",4),e.\u0275\u0275elementStart(4,"section",5),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"section",6),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"section",34),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"section",6),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,Bn,4,4,"button",35),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275template(18,Vt,4,3,"div",21),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.toggleEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.databaseCreationSuccess),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.actionOfDatabaseDeletion),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,9,"Monitoring")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,11,"Platform_Monitoring_CreateDatabase_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(12,13,"Platform_Monitoring_CreateDatabase")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(15,15,"Platform_Monitoring_CreateDatabase_Button_Description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(17,17,n.databaseCreatedSubjectObservable)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(19,19,n.databaseCreatedSubjectObservable))}}function Hr(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Ue,52,51,"section",2),e.\u0275\u0275template(2,ti,20,21,"section",2),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.databaseCreated),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.databaseCreated)}}function Kr(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}var ni=function(){function i(r,n,t,o,a,l,v,f,b){this.httpService=r,this.workspaceSettingsService=n,this.errorService=t,this.featureSwitchService=o,this.changeDetectorRef=a,this.localizationService=l,this.dialogService=v,this.activatedRoute=f,this.artifactFacade=b,this.closeSettings=new e.EventEmitter,this.allowPlatformMonitoring=!0,this.platformMonitoringUi="/metadata/platformMonitoring/workspace",this.groupsUi="/groups",this.databases="databases",this.dataLoaded=new W.X(!1),this.dataLoadedObservable=this.dataLoaded.asObservable(),this.databaseCreatedSubject=new W.X(!0),this.databaseCreatedSubjectObservable=this.databaseCreatedSubject.asObservable(),this.databaseDeletedSubject=new W.X(!0),this.databaseDeletedSubjectObservable=this.databaseDeletedSubject.asObservable(),this.delegationSettingEnabled=!1,this.artifactMetadata=null,this.toggleEnabled=!1,this.databaseCreated=!1,this.actionOfDatabaseCreation=!1,this.actionOfDatabaseDeletion=!1,this.databaseCreationSuccess=!0,this.buttonDisabledForCreation=!1,this.actionOfTogglingInjestion=!1,this.actionOfTogglingInjestionString="",this.allowPlatformMonitoringToggleString="",this.databaseString=""}return i.prototype.ngOnInit=function(){return(0,N.mG)(this,void 0,void 0,function(){return(0,N.Jh)(this,function(r){return this.getPlatformMonitoringTenantSwitch(),[2]})})},i.prototype.getPlatformMonitoringTenantSwitch=function(){var r=this;this.featureSwitchService.getWorkspaceDelegatedSetting({name:"platformMonitoringTenantSettingEnabled",workspaceObjectId:this.workspaceSettingsService.workspaceObjectId}).pipe((0,ye.q)(1)).subscribe(function(t){r.delegationSettingEnabled=void 0!==t.isEnabled&&t.isEnabled,r.getPlatformMonitoringStatus()})},i.prototype.getPlatformMonitoringStatus=function(){var r=this,n=this.httpService.powerbiRequestOptions(void 0,"GetPlatformMonitoringValue"),t=this.workspaceSettingsService.workspaceObjectId,o="".concat(this.platformMonitoringUi,"/").concat(t);this.httpService.get(o,n).subscribe(function(a){var l=a.data;if(l){r.artifactMetadata=l.artifact,r.allowPlatformMonitoring="Enabled"===l.ingestionState,r.allowPlatformMonitoringToggleString=r.allowPlatformMonitoring?"ToggleSwitchOn":"ToggleSwitchOff";var v=r.activatedRoute.snapshot.queryParams,f="";l.artifact.artifactType===qt.RG[33]&&l.artifact.artifactRelations&&l.artifact.artifactRelations[0]?f="".concat(r.groupsUi,"/").concat(t,"/").concat(r.databases,"/").concat(l.artifact.artifactRelations[0].dependentArtifactObjectId):l.artifact.artifactType===qt.RG[32]&&(f="".concat(r.groupsUi,"/").concat(t,"/").concat(r.databases,"/").concat(l.artifact.objectId)),r.databaseString=r.buildConnectionStringWithQueryParams(f,v),r.databaseCreated=!0}else r.databaseCreated=!1;r.toggleEnabled=r.delegationSettingEnabled,r.dataLoaded.next(!0)},function(a){r.errorService.error(r.localizationService.get("GetPlatformMonitoringValue_Error_FailedToGet"),"GetPlatformMonitoringValue_Error_FailedToGet",{requestId:a.requestId})})},i.prototype.buildConnectionStringWithQueryParams=function(r,n){return 0!==Object.keys(n).length&&(r+=(-1===r.indexOf("?")?"?":"&")+Object.keys(n).reduce(function(t,o){return"searchQuery"===o?t:t.concat(encodeURIComponent(o)+"="+encodeURIComponent(n[o]))},[]).join("&")),r},i.prototype.createDatabase=function(){return(0,N.mG)(this,void 0,void 0,function(){var r,n,t,o,a=this;return(0,N.Jh)(this,function(l){switch(l.label){case 0:return r=this.httpService.powerbiRequestOptions(void 0,"CreatePlatformMonitoringDatabase"),this.databaseCreatedSubject.next(!1),this.changeDetectorRef.markForCheck(),n={artifactType:"KustoDatabase",workloadPayload:"{}"},t=this.workspaceSettingsService.workspaceObjectId,o="".concat(this.platformMonitoringUi,"/").concat(t),[4,this.httpService.post(o,JSON.stringify(n),r).subscribe(function(){a.enablePlatformMonitoringInjestion(!0)},function(v){a.actionOfDatabaseDeletion=!1,a.databaseCreatedSubject.next(!0),a.databaseCreationSuccess=!1,a.buttonDisabledForCreation=!0,a.errorService.error(a.localizationService.get("GetPlatformMonitoringValue_Error_FailedToCreate"),"GetPlatformMonitoringValue_Error_FailedToCreate",{requestId:v.requestId,statusCode:String(v.status)}),a.changeDetectorRef.markForCheck()})];case 1:return l.sent(),[2]}})})},i.prototype.promptDeletePlatformMonitoring=function(){return(0,N.mG)(this,void 0,void 0,function(){var n=this;return(0,N.Jh)(this,function(t){switch(t.label){case 0:return[4,this.dialogService.open(Nr).afterClosed().subscribe(function(o){return(0,N.mG)(n,void 0,void 0,function(){return(0,N.Jh)(this,function(a){switch(a.label){case 0:return o?[4,this.deleteDatabase()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})})];case 1:return t.sent(),[2]}})})},i.prototype.deleteDatabase=function(){return(0,N.mG)(this,void 0,void 0,function(){var r,n,t,o=this;return(0,N.Jh)(this,function(a){return this.databaseDeletedSubject.next(!1),this.changeDetectorRef.markForCheck(),r=this.httpService.powerbiRequestOptions(void 0,"GetPlatformMonitoringValue"),n=this.workspaceSettingsService.workspaceObjectId,t="".concat(this.platformMonitoringUi,"/").concat(n),this.httpService.delete(t,r).subscribe(function(){if(o.actionOfDatabaseDeletion=!0,o.databaseCreated=!1,o.databaseDeletedSubject.next(!0),o.artifactMetadata&&o.artifactMetadata.objectId)if("KustoEventHouse"===o.artifactMetadata.artifactType&&o.artifactMetadata.artifactRelations&&o.artifactMetadata.artifactRelations[0]&&o.artifactMetadata.artifactRelations[0].dependentArtifactObjectId){var l=[];l=(l=l.concat(o.artifactMetadata.artifactRelations[0].dependentArtifactObjectId)).concat(o.artifactMetadata.objectId),o.artifactFacade.deleteArtifactsFromFEStore(l)}else"KustoDatabase"===o.artifactMetadata.artifactType&&o.artifactFacade.deleteArtifactFromFEStore(o.artifactMetadata.objectId);o.changeDetectorRef.markForCheck()},function(l){o.errorService.error(o.localizationService.get("GetPlatformMonitoringValue_Error_FailedToDelete"),"GetPlatformMonitoringValue_Error_FailedToDelete",{requestId:l.requestId})}),[2]})})},i.prototype.savePlatformMonitoringStatus=function(){return(0,N.mG)(this,void 0,void 0,function(){var r,n,t,o,a=this;return(0,N.Jh)(this,function(l){switch(l.label){case 0:return r=this.httpService.powerbiRequestOptions(void 0,"UpdatePlatformMonitoringValue"),n=this.workspaceSettingsService.workspaceObjectId,t="".concat(this.platformMonitoringUi,"/").concat(n),o={ingestionState:this.allowPlatformMonitoring?"Enabled":"Disabled"},this.allowPlatformMonitoring?(this.allowPlatformMonitoringToggleString="ToggleSwitchOn",this.actionOfTogglingInjestion=!1):(this.allowPlatformMonitoringToggleString="ToggleSwitchOff",this.actionOfTogglingInjestion=!0,this.actionOfTogglingInjestionString="Platform_Monitoring_Injestion_Turned_Off"),this.changeDetectorRef.markForCheck(),[4,this.httpService.patch(t,JSON.stringify(o),r).subscribe(function(){},function(v){a.errorService.error(a.localizationService.get("GetPlatformMonitoringValue_Error_FailedToUpdate"),"GetPlatformMonitoringValue_Error_FailedToUpdate",{requestId:v.requestId})})];case 1:return l.sent(),[2]}})})},i.prototype.dismissModal=function(){this.actionOfDatabaseCreation=!1,this.changeDetectorRef.markForCheck()},i.prototype.dismissModalOfFailure=function(){this.databaseCreationSuccess=!0,this.changeDetectorRef.markForCheck()},i.prototype.dismissModalOfDeletion=function(){this.actionOfDatabaseDeletion=!1,this.changeDetectorRef.markForCheck()},i.prototype.dismissModalOfToggle=function(){this.actionOfTogglingInjestion=!1,this.changeDetectorRef.markForCheck()},i.prototype.enablePlatformMonitoringInjestion=function(r){return(0,N.mG)(this,void 0,void 0,function(){var n,t,o,l=this;return(0,N.Jh)(this,function(v){switch(v.label){case 0:return n=this.httpService.powerbiRequestOptions(void 0,"UpdatePlatformMonitoringValue"),t=this.workspaceSettingsService.workspaceObjectId,o="".concat(this.platformMonitoringUi,"/").concat(t),[4,this.httpService.patch(o,JSON.stringify({ingestionState:"Enabled"}),n).subscribe(function(f){r&&(l.actionOfDatabaseCreation=!0,l.databaseCreated=!0,l.databaseCreatedSubject.next(!0));var b=f.data;if(b){l.allowPlatformMonitoring="Enabled"===b.ingestionState,l.allowPlatformMonitoringToggleString=l.allowPlatformMonitoring?"ToggleSwitchOn":"ToggleSwitchOff";var z=l.activatedRoute.snapshot.queryParams,te="".concat(l.groupsUi,"/").concat(t,"/").concat(l.databases,"/").concat(b.artifact.objectId);if(l.databaseString=l.buildConnectionStringWithQueryParams(te,z),r){l.artifactMetadata=b.artifact;var ue=(0,qt.WN)(b.artifact);l.artifactFacade.addArtifact(ue)}}l.changeDetectorRef.markForCheck()},function(f){l.errorService.error(l.localizationService.get("GetPlatformMonitoringValue_Error_FailedToUpdate"),"GetPlatformMonitoringValue_Error_FailedToUpdate",{requestId:f.requestId})})];case 1:return v.sent(),[2]}})})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Wr.s),e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(Zn.g),e.\u0275\u0275directiveInject(_t.V$),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(Ge.uQ),e.\u0275\u0275directiveInject(Jn.gz),e.\u0275\u0275directiveInject(Dn.f5))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-platform-monitoring"]],outputs:{closeSettings:"closeSettings"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"],["class","delete-workspace-message tri-flex",4,"ngIf"],["class","create-database-message tri-flex",4,"ngIf"],[1,"platformMonitoringSettingsTitle"],[1,"platformMonitoringCaption"],[1,"allowConfigurationPadding"],[1,"platformMonitoringSettingsSubTitleWithSmallPadding"],["ngDefaultControl","",1,"toggle",3,"ngModel","ngModelOptions","aria-label","disabled","ngModelChange"],["tri-switch-text","",1,"toggleString"],[1,"checkbox-label"],["id","workspace-connection-setting-label",1,"platformMonitoringSettingsSubTitle"],[1,"link"],["target","_blank",3,"external","href"],[1,"divider"],[1,"divider-left-line"],[1,"divider-text"],[1,"divider-right-line"],[1,"platformMonitoringSettingsSubTitle"],["tri-button","","appearance","tri-middle","class","buttonGeneral",3,"click",4,"ngIf"],["class","spinnerDiv",4,"ngIf"],[1,"delete-workspace-message","tri-flex"],["name","info_20_filled",1,"banner-icon","tri-shrink-0"],[1,"banner-text"],[1,"create-database-message","tri-flex"],["name","checkmark_circle_20_filled",1,"banner-icon","tri-shrink-0"],["aria-label","close",1,"dismissButton",3,"click"],["name","dismiss_20_regular",1,"smallIcon"],["tri-button","","appearance","tri-middle",1,"buttonGeneral",3,"click"],["name","delete_20_regular"],[1,"spinnerDiv"],[1,"spinnerSvg"],["class","schema-failure-message tri-flex",4,"ngIf"],[1,"platformMonitoringSettingsSubTitleWithPadding"],["tri-button","","appearance","primary","class","buttonGeneral",3,"disabled","click",4,"ngIf"],[1,"schema-failure-message","tri-flex"],["name","dismiss_circle_20_filled",1,"banner-icon","tri-shrink-0"],["aria-label","close",1,"dismissButtonFailure",3,"click"],["tri-button","","appearance","primary",1,"buttonGeneral",3,"disabled","click"],["name","add_20_regular"]],template:function(n,t){if(1&n&&(e.\u0275\u0275template(0,Hr,3,2,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,Kr,1,0,"ng-template",null,1,e.\u0275\u0275templateRefExtractor)),2&n){var o=e.\u0275\u0275reference(3);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,2,t.dataLoadedObservable))("ngIfElse",o)}},dependencies:[g.CommonModule,g.NgIf,g.AsyncPipe,F.T6,T.M,X.t,X.d,M.Y,k.Y,H.d,He.D,he.Jy,an.t,p.u5,p.Fj,p.JJ,p.On,L.m,O.v],styles:[".delete-workspace-message[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200);background-color:var(--globalColorGrey94);padding:6px 10px;box-sizing:border-box;margin-bottom:16px;border-radius:4px;border:solid 1px;border-color:var(--globalColorGrey88)}.delete-workspace-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-inline-end:8px;fill:var(--globalColorGrey38)}.delete-workspace-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}.create-database-message[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200);background-color:var(--globalColorGreenTint60);padding:6px 10px;box-sizing:border-box;margin-bottom:16px;border-radius:4px;border:solid 1px;border-color:var(--globalColorGreenTint40)}.create-database-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-inline-end:8px;fill:var(--globalColorGreenShade10)}.create-database-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}.spinnerDiv[_ngcontent-%COMP%]{margin-top:24px;font-size:14px;display:inline-flex}.spinnerDiv[_ngcontent-%COMP%]   .spinnerSvg[_ngcontent-%COMP%]{margin-right:10px}.schema-failure-message[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200);background-color:var(--globalColorCranberryTint60);padding:6px 10px;box-sizing:border-box;margin-bottom:16px;border-radius:4px;margin-top:10px;border:solid 1px;border-color:var(--globalColorCranberryTint40)}.schema-failure-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-inline-end:8px;fill:var(--globalColorCranberryShade10)}.schema-failure-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}.platformMonitoringSettingsTitle[_ngcontent-%COMP%]{font-size:24px;font-weight:var(--subheadline-font-weight);line-height:20px;margin-bottom:10px;color:var(--globalColorGrey14)}.platformMonitoringSettingsSubTitle[_ngcontent-%COMP%]{font-size:16px;font-weight:var(--subheadline-font-weight);line-height:20px;margin-bottom:10px;color:var(--globalColorGrey14)}.platformMonitoringSettingsSubTitleWithPadding[_ngcontent-%COMP%]{font-size:16px;font-weight:var(--subheadline-font-weight);line-height:20px;margin-bottom:8px;color:var(--globalColorGrey14);margin-top:24px}.platformMonitoringSettingsSubTitleWithSmallPadding[_ngcontent-%COMP%]{font-size:16px;font-weight:var(--subheadline-font-weight);line-height:20px;margin-bottom:8px;color:var(--globalColorGrey14);margin-top:16px}.platformMonitoringCaption[_ngcontent-%COMP%]{font-size:14px}.toggle[_ngcontent-%COMP%]{float:right;display:inline-flex;margin-top:-8px}.toggleString[_ngcontent-%COMP%]{font-weight:400;font-size:14px}.checkbox-label[_ngcontent-%COMP%]{font-size:14px}.iconForDb[_ngcontent-%COMP%]{padding-right:6px}.buttonGeneral[_ngcontent-%COMP%]{margin-top:16px}.divider[_ngcontent-%COMP%]{width:100%;height:20px;display:flex;flex-direction:row;justify-content:center;align-items:center;margin-bottom:24px}.divider[_ngcontent-%COMP%]   .divider-left-line[_ngcontent-%COMP%]{width:8px}.divider[_ngcontent-%COMP%]   .divider-right-line[_ngcontent-%COMP%]{flex:1}.divider[_ngcontent-%COMP%]   .divider-text[_ngcontent-%COMP%]{padding:0 var(--spacingVerticalM);font-weight:var(--fontWeightRegular);font-size:var(--fontSizeBase200);line-height:var(--lineHeightBase200)}.allowConfigurationPadding[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]     .link{margin-top:16px;margin-bottom:26px;font-size:14px}[_nghost-%COMP%]     .link tri-link a{display:inline-flex}.dismissButton[_ngcontent-%COMP%]{float:right;display:block;margin-left:auto;margin-right:0;background-color:var(--globalColorGreenTint60);border-color:var(--globalColorGreenTint60);padding-top:0;padding-bottom:0;border-top-width:0px;width:20px;height:20px}.dismissButton[_ngcontent-%COMP%]   .smallIcon[_ngcontent-%COMP%]{height:16px;width:16px}.dismissButtonFailure[_ngcontent-%COMP%]{float:right;display:block;margin-left:auto;margin-right:0;background-color:var(--globalColorCranberryTint60);border-color:var(--globalColorCranberryTint60);padding-top:0;padding-bottom:0;border-top-width:0px;width:20px;height:20px}.dismissButtonFailure[_ngcontent-%COMP%]   .smallIcon[_ngcontent-%COMP%]{height:16px;width:16px}"],changeDetection:0}),i}(),Me=u(59973),Ve=u(17653),wt=function(i){return i.UpdateOneDrive="Update OneDrive",i.UpdateContracts="Update workspace contacts",i.UpdateImage="Update workspace image",i.UpdateDescription="Update description",i.UpdateName="Workspace rename",i.DetailSettings="Detail settings",i.DeleteWorkspace="delete workspace",i}({}),sn=u(63271),Tt=u(54323),jt=function(){function i(r){this.telemetryService=r}return i.prototype.logEvent=function(r,n,t,o,a){var l={originatingService:"DataCloudUX",activityName:r,featureName:"Fabric Workspace Settings",activityAttributes:n?(0,N.pi)({},n):void 0,activityStatus:t,operationEndTime:o,correlationId:a};this.telemetryService.logStandardFeatureEvent(l)},i.prototype.logDomainEvent=function(r,n,t,o){var a={originatingService:"DataCloudUX",activityName:"Update domain association",featureName:"".concat("Domains",",").concat("Domains Direct MAU",",").concat("Domains WS Management"),activityAttributes:r?(0,N.pi)({},r):void 0,activityStatus:n,operationEndTime:t,correlationId:o};this.telemetryService.logStandardFeatureEvent(a)},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275inject(Tt.t))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i}(),je=u(59017),Re=u(83317),ii=u(35402),Bt=u(98759);function Xi(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",3),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.domainsTooltipData.data.description)}}var Qi=function(){function i(r){this.domainsTooltipData=r}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(h.WF))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["trident-domain-info-tooltip"]],decls:4,vars:2,consts:[[1,"tooltip-container"],[1,"tooltip-title"],["class","tooltip-content",4,"ngIf"],[1,"tooltip-content"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,Xi,2,1,"div",2),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.domainsTooltipData.data.displayName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.domainsTooltipData.data.description))},dependencies:[g.NgIf],styles:[".tooltip-container[_ngcontent-%COMP%]{display:contents}"],changeDetection:0}),i}(),Qe=u(8255),ri=function(r,n){return[r,n]},oi=function(){return function(r){this.domainObjectId=r}}(),Xr=function(){function i(r,n,t){this.domainsCoreService=r,this.changeDetectorRef=n,this.domainImageComponentData=t,this.domainObjectId="",this.domainRoundedImageId=(0,Qe.u2)(Qe.CG),this.isColorBackground=!1}return i.prototype.ngOnInit=function(){var r,n;null!==(r=this.domainImageComponentData)&&void 0!==r&&r.domainObjectId&&!this.domainObjectId&&(this.domainObjectId=null===(n=this.domainImageComponentData)||void 0===n?void 0:n.domainObjectId,this.initBrandingData())},i.prototype.ngOnChanges=function(){this.initBrandingData()},i.prototype.ngOnDestroy=function(){var r;null===(r=this.getDomainBrandingSubscription)||void 0===r||r.unsubscribe()},i.prototype.initBrandingData=function(){var n,r=this;if(!this.domainObjectId)return this.domainRoundedImageId=(0,Qe.u2)(Qe.CG),void(this.isColorBackground=!1);this.domainsCoreService.loadDomainBranding(this.domainObjectId),null===(n=this.getDomainBrandingSubscription)||void 0===n||n.unsubscribe(),this.getDomainBrandingSubscription=this.domainsCoreService.getDomain(this.domainObjectId).pipe((0,Me.h)(function(t){return!!t})).subscribe(function(t){var o,a,l=(null===(o=t.branding)||void 0===o?void 0:o.backgroundId)||Qe.CG;r.isColorBackground=(0,Qe.e7)(l),r.domainRoundedImageId=(0,Qe.u2)(l),null===(a=r.changeDetectorRef)||void 0===a||a.markForCheck()})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(ii.wB),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(oi,8))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["trident-domain-rounded-image"]],inputs:{domainObjectId:"domainObjectId"},features:[e.\u0275\u0275NgOnChangesFeature],decls:1,vars:4,consts:[[1,"image",3,"ngClass"]],template:function(n,t){1&n&&e.\u0275\u0275element(0,"div",0),2&n&&e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(1,ri,t.domainRoundedImageId,t.isColorBackground?"color":""))},dependencies:[g.NgClass],styles:[".image-domain-background-1[_ngcontent-%COMP%]{background:url("+u.p+"../images/background1.png)}.image-domain-background-2[_ngcontent-%COMP%]{background:url("+u.p+"../images/background2.png)}.image-domain-background-3[_ngcontent-%COMP%]{background:url("+u.p+"../images/background3.png)}.image-domain-background-4[_ngcontent-%COMP%]{background:url("+u.p+"../images/background4.png)}.image-domain-background-5[_ngcontent-%COMP%]{background:url("+u.p+"../images/background5.png)}.image-domain-background-6[_ngcontent-%COMP%]{background:url("+u.p+"../images/background6.png)}.image-domain-background-7[_ngcontent-%COMP%]{background:url("+u.p+"../images/background7.png)}.image-domain-background-8[_ngcontent-%COMP%]{background:url("+u.p+"../images/background8.png)}.image-domain-background-9[_ngcontent-%COMP%]{background:url("+u.p+"../images/background9.png)}.image-domain-background-10[_ngcontent-%COMP%]{background:url("+u.p+"../images/background10.png)}.image-domain-background-11[_ngcontent-%COMP%]{background:url("+u.p+"../images/background11.png)}.image-domain-background-12[_ngcontent-%COMP%]{background:url("+u.p+"../images/background12.png)}.image-domain-background-13[_ngcontent-%COMP%]{background:url("+u.p+"../images/background13.png)}.image-domain-background-14[_ngcontent-%COMP%]{background:url("+u.p+"../images/background14.png)}.image-domain-background-15[_ngcontent-%COMP%]{background:url("+u.p+"../images/background15.png)}.image-domain-background-16[_ngcontent-%COMP%]{background:#FFDAC6}.image-domain-background-17[_ngcontent-%COMP%]{background:#F0F4DD}.image-domain-background-18[_ngcontent-%COMP%]{background:#E8E8FF}.image-domain-background-19[_ngcontent-%COMP%]{background:#D7ECFF}.image-domain-background-20[_ngcontent-%COMP%]{background:#E3F7EF}.image-domain-background-1-thumbnail[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background1Thumbnail.png)}.image-domain-background-2-thumbnail[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background2Thumbnail.png)}.image-domain-background-3-thumbnail[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background3Thumbnail.png)}.image-domain-background-4-thumbnail[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background4Thumbnail.png)}.image-domain-background-5-thumbnail[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background5Thumbnail.png)}.image-domain-background-6-thumbnail[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background6Thumbnail.png)}.image-domain-background-7-thumbnail[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background7Thumbnail.png)}.image-domain-background-8-thumbnail[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background8Thumbnail.png)}.image-domain-background-9-thumbnail[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background9Thumbnail.png)}.image-domain-background-10-thumbnail[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background10Thumbnail.png)}.image-domain-background-11-thumbnail[_ngcontent-%COMP%]{background:url("+u.p+"../images/background11Thumbnail.png)}.image-domain-background-12-thumbnail[_ngcontent-%COMP%]{background:url("+u.p+"../images/background12Thumbnail.png)}.image-domain-background-13-thumbnail[_ngcontent-%COMP%]{background:url("+u.p+"../images/background13Thumbnail.png)}.image-domain-background-14-thumbnail[_ngcontent-%COMP%]{background:url("+u.p+"../images/background14Thumbnail.png)}.image-domain-background-15-thumbnail[_ngcontent-%COMP%]{background:url("+u.p+"../images/background15Thumbnail.png)}.image-domain-background-1-rounded[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background1Rounded.png)}.image-domain-background-2-rounded[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background2Rounded.png)}.image-domain-background-3-rounded[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background3Rounded.png)}.image-domain-background-4-rounded[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background4Rounded.png)}.image-domain-background-5-rounded[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background5Rounded.png)}.image-domain-background-6-rounded[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background6Rounded.png)}.image-domain-background-7-rounded[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background7Rounded.png)}.image-domain-background-8-rounded[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background8Rounded.png)}.image-domain-background-9-rounded[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background9Rounded.png)}.image-domain-background-10-rounded[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background10Rounded.png)}.image-domain-background-11-rounded[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background11Rounded.png)}.image-domain-background-12-rounded[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background12Rounded.png)}.image-domain-background-13-rounded[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background13Rounded.png)}.image-domain-background-14-rounded[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background14Rounded.png)}.image-domain-background-15-rounded[_ngcontent-%COMP%]{background:url("+u.p+"../images/Background15Rounded.png)}.image-domain-background-default-rounded[_ngcontent-%COMP%]{background:url("+u.p+"../images/DefaultBackgroundRounded.png)}.image[_ngcontent-%COMP%]{width:24px;height:24px;background-position:left;background-repeat:no-repeat;background-size:contain}.color[_ngcontent-%COMP%]{border-radius:var(--borderRadiusCircular)}"],changeDetection:0}),i}(),Gt=function(r,n){return r.text.localeCompare(n.text)},Sn={border:"none"};function ai(i,r,n,t,o,a,l){return(0,N.pi)((0,N.pi)((0,N.pi)({type:r,id:i.objectId,text:o||i.displayName,styles:Sn,data:{domainDisplayName:i.displayName,parentObjectId:n},checkable:!0,checked:t},l?{imageComponent:{imageComponent:Xr,injector:e.Injector.create({providers:[{provide:oi,useValue:new oi(i.objectId)}]})}}:{}),r===Bt.fz.Button?{tooltip:Qi,tooltipComponentData:{data:{displayName:i.displayName,description:i.description}},ariaLabel:o||i.displayName}:{}),r===Bt.fz.SubMenu?{menu:a}:{})}function yn(i,r,n){var t,o=null===(t=r.data)||void 0===t?void 0:t.parentObjectId;if(o){var a=n.find(function(l){return l.id===o});a&&(a.checked=i)}}var it=u(45769),xt=u(55490),Yr=u(76688),si=["menuButton"];function cn(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",11)}function ci(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",12),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.domainsMessageBarModel)}}var Zr=function(r){return{"placeholder-text":r}},li="noneDomain",Zi=function(){function i(r,n){this.triLocalizationService=r,this.domainsCoreService=n,this.selectedDomainObjectId="",this.shouldBeDisabled=!1,this.supportDomainChangeMessage=!0,this.autoSetToPrimaryDefaultDomain=!1,this.showSpinner=!1,this.domainSelected=new e.EventEmitter,this.shouldShowDomainsMessageBar=!1,this.domainsMessageBarModel={bannerType:1},this.selectedDomainText="",this.isPlaceholderText=!0,this.menu={items:[]},this.allDomainMenuButtons=[],this.allDomainMenuSubmenus=[],this.destroy$=new dt.xQ,this.menuStyles={}}return i.prototype.ngOnInit=function(){var r=this;this.domainsMessageBarModel={bannerType:0,iconName:"info_20_filled",message:this.triLocalizationService.get("Domains_Switch_Domain")},this.selectedDomainText=this.triLocalizationService.get("Domain_Combobox_Placeholder"),(0,je.aj)([this.domainsCoreService.getDomain(this.selectedDomainObjectId),this.domainsCoreService.getDomainsWithAccessPermission()]).pipe((0,Re.R)(this.destroy$)).subscribe(function(n){var t=n[0],o=n[1];t&&(r.selectedDomainText=t.displayName,r.isPlaceholderText=!1),!r.shouldBeDisabled&&r.initDomainsMenu(o)})},i.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},i.prototype.ngAfterViewInit=function(){if(this.menuButton){var r=this.menuButton.nativeElement.clientWidth;this.menuStyles.width="".concat(r,"px"),this.menuStyles["max-width"]="".concat(r,"px")}},i.prototype.onMenuDomainSelected=function(r){var n,t,o,a,l,v,f,b;if(r&&"0"!==r.id){this.selectDomainMenuButton(null===(n=r.id)||void 0===n?void 0:n.toString());var z=(null===(t=this.selectedDomainMenuButton)||void 0===t?void 0:t.id)===li||null===(a=null===(o=this.selectedDomainMenuButton)||void 0===o?void 0:o.id)||void 0===a?void 0:a.toString();this.shouldShowDomainsMessageBar=this.supportDomainChangeMessage&&!!this.selectedDomainObjectId&&this.selectedDomainObjectId!==z;var te=null===(v=null===(l=this.selectedDomainMenuButton)||void 0===l?void 0:l.data)||void 0===v?void 0:v.parentObjectId;this.setSelectedDomain((null===(b=null===(f=this.selectedDomainMenuButton)||void 0===f?void 0:f.data)||void 0===b?void 0:b.domainDisplayName)||"",z,!(te&&z&&te===z))}},i.prototype.setSelectedDomain=function(r,n,t){this.selectedDomainText=r,this.isPlaceholderText=!1,this.domainSelected.emit({domainObjectId:n,isSubDomain:t})},i.prototype.initDomainsMenu=function(r){var n=function(i,r,n,t){var o=[],a=new Map,l=[],v=[];return i.forEach(function(f){if(f.parentObjectId){var b=ai(f,Bt.fz.Button,f.parentObjectId,f.objectId===n,void 0,void 0,!1),z=a.get(f.parentObjectId)||[];z.push(b),a.set(f.parentObjectId,z),l.push(b)}}),i.forEach(function(f){if(!f.parentObjectId){var b=a.get(f.objectId),z=ai(f,Bt.fz.Button,f.objectId,f.objectId===n,b?"".concat(r.get("All")," ")+f.displayName:void 0,void 0,t&&!b);if(l.push(z),!b)return void o.push(z);var te=ai(f,Bt.fz.SubMenu,void 0,b?function(i){return _.some(i,function(r){return r.checked})}(b)||z.checked:void 0,void 0,{items:(0,N.ev)([z,{type:Bt.fz.Divider}],b.sort(Gt),!0)},t);v.push(te),o.push(te)}}),{menu:{items:o.sort(Gt)},menuButtons:l,submenus:v}}(r,this.triLocalizationService,this.selectedDomainObjectId,!1);if(0===n.menu.items.length&&!this.selectedDomainObjectId)return this.allDomainMenuButtons=[{type:Bt.fz.Button,id:"0",text:this.triLocalizationService.get("Domain_Combobox_No_Domains"),styles:Sn}],void(this.menu={items:this.allDomainMenuButtons,styles:this.menuStyles});var t=this.triLocalizationService.get("None"),o={type:Bt.fz.Button,id:li,text:t,data:{domainDisplayName:t,parentObjectId:void 0},styles:Sn,checkable:!0};this.allDomainMenuButtons=(0,N.ev)([o],n.menuButtons,!0),this.allDomainMenuSubmenus=n.submenus,this.menu={items:(0,N.ev)([o,{type:Bt.fz.Divider}],n.menu.items,!0),styles:this.menuStyles},this.selectDomainMenuButton(this.selectedDomainObjectId||li),this.setDefaultDomain(r)},i.prototype.setDefaultDomain=function(r){if(this.autoSetToPrimaryDefaultDomain&&!this.selectedDomainObjectId){var n=r.find(function(o){return o.isPrimaryDefaultDataDomainForUser});if(n){var t=!!this.selectedDomainMenuButton;this.selectDomainMenuButton(n?.objectId),t&&this.setSelectedDomain(n.displayName,n.objectId,!!n.parentObjectId)}}},i.prototype.selectDomainMenuButton=function(r){r&&(this.selectedDomainMenuButton&&(this.selectedDomainMenuButton.checked=!1,yn(!1,this.selectedDomainMenuButton,this.allDomainMenuSubmenus)),this.selectedDomainMenuButton=this.allDomainMenuButtons.find(function(n){return n.id===r}),this.selectedDomainMenuButton&&(this.selectedDomainMenuButton.checked=!0,yn(!0,this.selectedDomainMenuButton,this.allDomainMenuSubmenus)))},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(ii.wB))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["trident-domains-dropdown"]],viewQuery:function(n,t){var o;(1&n&&e.\u0275\u0275viewQuery(si,5),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(t.menuButton=o.first))},inputs:{selectedDomainObjectId:"selectedDomainObjectId",shouldBeDisabled:"shouldBeDisabled",supportDomainChangeMessage:"supportDomainChangeMessage",autoSetToPrimaryDefaultDomain:"autoSetToPrimaryDefaultDomain",showSpinner:"showSpinner"},outputs:{domainSelected:"domainSelected"},decls:15,vars:14,consts:[[1,"about-input-container","tri-flex","tri-flex-col","tri-relative"],[1,"domains-header","tri-flex","tri-flex-row","tri-relative"],["data-testid","domains-dropdown-label","id","domain-label",1,"picker-label"],["tri-svg-icon-12","","name","info_20_regular","tabindex","0",3,"triTooltip"],[1,"menu-with-spinner"],["tri-button","","data-testid","domains-dropdown-button","appearance","default",1,"domain-menu-button",3,"triMenu","triMenuButtonClick"],["menuButton",""],[1,"menu-button-text",3,"ngClass"],["name","chevron_down_20_regular",1,"chevron-down-icon"],["size","extra-small",4,"ngIf"],["data-testid","domains-dropdown-message-banner","class","domains-message-banner",3,"viewModel",4,"ngIf"],["size","extra-small"],["data-testid","domains-dropdown-message-banner",1,"domains-message-banner",3,"viewModel"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"label",2),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"tri-svg-icon",3),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4)(8,"button",5,6),e.\u0275\u0275listener("triMenuButtonClick",function(a){return t.onMenuDomainSelected(a)}),e.\u0275\u0275elementStart(10,"span",7),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"tri-svg-icon",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,cn,1,0,"tri-spinner",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,ci,1,1,"tri-message-bar",10),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,8,"Domain")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(6,10,"Domains_Tip")),e.\u0275\u0275advance(3),e.\u0275\u0275property("triMenu",t.menu),e.\u0275\u0275attribute("disabled",!(0!==t.allDomainMenuButtons.length&&!t.shouldBeDisabled)||null),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(12,Zr,t.isPlaceholderText)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.selectedDomainText),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.showSpinner),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.shouldShowDomainsMessageBar))},dependencies:[g.NgClass,g.NgIf,T.M,it.h,xt.Z,Yr.rX,He.D,k.Y],styles:["[_nghost-%COMP%]{display:block;font-size:14px}[_nghost-%COMP%]   .domains-header[_ngcontent-%COMP%]{margin-bottom:4px}[_nghost-%COMP%]   .domains-header[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size)}[_nghost-%COMP%]   .domains-header[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{margin-top:4px;margin-left:4px}[_nghost-%COMP%]   .menu-with-spinner[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .menu-with-spinner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .menu-with-spinner[_ngcontent-%COMP%]   tri-spinner[_ngcontent-%COMP%]{margin-inline-start:8px}[_nghost-%COMP%]   .domains-message-banner[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .domain-menu-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .domain-menu-button[_ngcontent-%COMP%]   .menu-button-text[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .domain-menu-button[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{color:var(--globalColorGrey44)}[_nghost-%COMP%]   .domain-menu-button[_ngcontent-%COMP%]   .chevron-down-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38)}"],changeDetection:0}),i}(),Ji=["imageFileInput"];function qi(i,r){if(1&i&&(e.\u0275\u0275element(0,"img",26),e.\u0275\u0275pipe(1,"async")),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("src",e.\u0275\u0275pipeBind1(1,2,n.image$),e.\u0275\u0275sanitizeUrl),e.\u0275\u0275attribute("data-testid","workspace-settings-general-logo-img")}}function bn(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",27),2&i&&e.\u0275\u0275attribute("data-testid","workspace-settings-general-logo-default")}function pi(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner"),e.\u0275\u0275elementStart(2,"span",28),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Uploading")))}function Jr(i,r){1&i&&(e.\u0275\u0275element(0,"tri-svg-icon",29),e.\u0275\u0275elementStart(1,"span",28),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"Upload")))}function qr(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner"),e.\u0275\u0275elementStart(2,"span",28),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Deleting")))}function er(i,r){1&i&&(e.\u0275\u0275element(0,"tri-svg-icon",30),e.\u0275\u0275elementStart(1,"span",28),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"Delete")))}function Ma(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-status-indicator",31),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&i){var t,n=e.\u0275\u0275nextContext();e.\u0275\u0275property("statusIndicatorType",n.StatusIndicatorType.Error),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null!==(t=e.\u0275\u0275pipeBind1(2,2,n.imgError$))&&void 0!==t?t:"","")}}function eo(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",32)}function kt(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-status-indicator",33),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("statusIndicatorType",n.StatusIndicatorType.Error),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,"NotAvailable_PleaseEdit_Text"))}}function Ne(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-status-indicator",33),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("statusIndicatorType",n.StatusIndicatorType.Error),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,"Validation_Empty"))}}function Ce(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",32)}function Oe(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"trident-domains-dropdown",34),e.\u0275\u0275listener("domainSelected",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.selectDomain(a))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("selectedDomainObjectId",t.domain)("shouldBeDisabled",e.\u0275\u0275pipeBind1(1,3,t.autoSaveDomainInProgress$)||!t.isWorkspaceAdmin)("showSpinner",!!e.\u0275\u0275pipeBind1(2,5,t.autoSaveDomainInProgress$))}}var lt=function(r){return{"no-image-container":r}},to=function(){function i(r,n,t,o){this.localizationService=r,this.telemetryService=n,this.isTrident=t,this.workspaceSettingsService=o,this.imageFileInput=null,this.StatusIndicatorType=$t,this.image$=new W.X(""),this.name="",this.description="",this.domain="",this.isWorkspaceAdmin=!1,this.imgError$=new W.X(""),this.isDomainsEnabled=!1,this.clickUpload$=new W.X(!1),this.clickDelete$=new W.X(!1),this.image$.next(this.workspaceSettingsService.imageSrc),this.name=this.workspaceSettingsService.workspaceName,this.description=this.workspaceSettingsService.description,this.domain=this.workspaceSettingsService.domainObjectId,this.autoSaveImageInProgress$=this.workspaceSettingsService.autoSaveInProgress.Image,this.autoSaveNameInProgress$=this.workspaceSettingsService.autoSaveInProgress.Name,this.autoSaveDescriptionInProgress$=this.workspaceSettingsService.autoSaveInProgress.Description,this.autoSaveDomainInProgress$=this.workspaceSettingsService.autoSaveInProgress.DomainObjectId,this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.isNameExist$=this.workspaceSettingsService.nameExists$,this.isDomainsEnabled=!!this.isTrident}return i.prototype.uploadImage=function(){var r,n;null===(n=null===(r=this.imageFileInput)||void 0===r?void 0:r.nativeElement)||void 0===n||n.click(),this.clickUpload$.next(!0),this.clickDelete$.next(!1)},i.prototype.deleteImage=function(){var r;!(null===(r=this.imageFileInput)||void 0===r)&&r.nativeElement&&(this.imageFileInput.nativeElement.value=""),this.image$.next(""),this.workspaceSettingsService.imageSrc="",this.clickUpload$.next(!1),this.clickDelete$.next(!0)},i.prototype.imageFileHandler=function(){var n,t,r=this;this.imgError$.next("");var o=null===(t=null===(n=this.imageFileInput)||void 0===n?void 0:n.nativeElement)||void 0===t?void 0:t.files;if(o&&1===o.length){var a=o[0];if(a.size>46080)this.imgError$.next(this.localizationService.format("Publish_ImageSizeValidationError",this.localizationService.get("File_Size_KB_45")));else{var l=a.name.split(".").reverse()[0];if(["jpeg","jpg","png"].some(function(f){return l.toLowerCase()===f}))try{var v=new FileReader;v.addEventListener("load",function(f){var b,z,te=null===(b=f.target)||void 0===b?void 0:b.result;te&&(r.image$.next(te.toString()),r.workspaceSettingsService.imageSrc=te.toString(),!(null===(z=r.imageFileInput)||void 0===z)&&z.nativeElement&&(r.imageFileInput.nativeElement.value=""),r.telemetryService.logEvent(wt.UpdateImage))}),v.readAsDataURL(a)}catch(f){this.imgError$.next(this.localizationService.get("Trident_Workspace_Settings_File_Read_Error"))}else this.imgError$.next(this.localizationService.get("Trident_Workspace_Settings_Image_File_Extension_Error"))}}else this.imgError$.next(this.localizationService.get("Trident_Workspace_Settings_One_Image_File_Only"))},i.prototype.updateName=function(r){this.name=r.target.value,this.workspaceSettingsService.workspaceName=this.name,this.telemetryService.logEvent(wt.UpdateName)},i.prototype.validateName=function(r){var n=this,t=r.target.value;this.validateNameTimeoutId&&clearTimeout(this.validateNameTimeoutId),this.validateNameTimeoutId=setTimeout(function(){n.workspaceSettingsService.validateFolderName(t)},600)},i.prototype.updateDescription=function(r){this.description=r.target.value,this.workspaceSettingsService.description=this.description,this.telemetryService.logEvent(wt.UpdateDescription)},i.prototype.selectDomain=function(r){this.workspaceSettingsService.domainObjectId=r?.domainObjectId,this.telemetryService.logDomainEvent({source:"WS settings",isSubDomain:!!r?.isSubDomain})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(jt),e.\u0275\u0275directiveInject(sn.Y),e.\u0275\u0275directiveInject($e.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-general-about"]],viewQuery:function(n,t){var o;(1&n&&e.\u0275\u0275viewQuery(Ji,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(t.imageFileInput=o.first))},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:71,vars:91,consts:[[1,"section-container","tri-flex","tri-flex-col"],[1,"section-title","tri-subtitle2"],[1,"image-container","tri-flex"],[1,"image","tri-flex","tri-justify-center","tri-items-center","tri-relative",3,"ngClass"],["class","valid-image","alt","Workspace image",3,"src",4,"ngIf"],["tri-svg-icon-32","","class","no-image","name","image_32_regular",4,"ngIf"],[1,"image-buttons","tri-flex","tri-flex-col"],["tri-button","","appearance","subtle","size","small",1,"image-button",3,"disabled","click"],[4,"ngIf","ngIfElse"],["uploadImageBtn",""],["deleteImageBtn",""],["role","alert",3,"statusIndicatorType",4,"ngIf"],["id","workspace-settings-general-name-label",1,"section-title","tri-subtitle2"],[1,"required-star"],[1,"tri-flex"],["aria-labelledby","workspace-settings-general-name-label",1,"general-settings-input","tri-flex-grow",3,"disabled","value","blur","keyup"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],[3,"statusIndicatorType",4,"ngIf"],["id","workspace-settings-general-description-label",1,"section-title","tri-subtitle2"],["aria-labelledby","workspace-settings-general-description-label","maxlength","4000","rows","3",1,"general-settings-textarea","tri-flex-grow",3,"value","disabled","placeholder","blur"],[1,"section-title"],[1,"tri-subtitle2"],[1,"tri-body1"],[3,"selectedDomainObjectId","shouldBeDisabled","showSpinner","domainSelected",4,"ngIf"],["type","file","accept",".jpeg,.jpg,.png",1,"tri-hidden",3,"change"],["imageFileInput",""],["alt","Workspace image",1,"valid-image",3,"src"],["tri-svg-icon-32","","name","image_32_regular",1,"no-image"],[1,"tri-body1-strong"],["name","arrow_upload_20_regular"],["name","delete_20_regular"],["role","alert",3,"statusIndicatorType"],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],[3,"statusIndicatorType"],[3,"selectedDomainObjectId","shouldBeDisabled","showSpinner","domainSelected"]],template:function(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"div",1),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",2)(6,"div",3),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,qi,2,4,"img",4),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275template(10,bn,1,1,"tri-svg-icon",5),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",6)(13,"button",7),e.\u0275\u0275listener("click",function(){return t.uploadImage()}),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275template(16,pi,5,3,"ng-container",8),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275template(19,Jr,4,3,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"button",7),e.\u0275\u0275listener("click",function(){return t.deleteImage()}),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275pipe(25,"async"),e.\u0275\u0275template(26,qr,5,3,"ng-container",8),e.\u0275\u0275pipe(27,"async"),e.\u0275\u0275pipe(28,"async"),e.\u0275\u0275template(29,er,4,3,"ng-template",null,10,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(31,Ma,3,4,"tri-status-indicator",11),e.\u0275\u0275pipe(32,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(33,"div")(34,"div",12)(35,"div"),e.\u0275\u0275text(36),e.\u0275\u0275pipe(37,"localize"),e.\u0275\u0275elementStart(38,"span",13),e.\u0275\u0275text(39," *"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(40,"div",14)(41,"input",15),e.\u0275\u0275listener("blur",function(te){return t.updateName(te)})("keyup",function(te){return t.validateName(te)}),e.\u0275\u0275pipe(42,"async"),e.\u0275\u0275pipe(43,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(44,eo,1,0,"tri-spinner",16),e.\u0275\u0275pipe(45,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(46,kt,3,4,"tri-status-indicator",17),e.\u0275\u0275pipe(47,"async"),e.\u0275\u0275template(48,Ne,3,4,"tri-status-indicator",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"div")(50,"div",18),e.\u0275\u0275text(51),e.\u0275\u0275pipe(52,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"div",14)(54,"textarea",19),e.\u0275\u0275listener("blur",function(te){return t.updateDescription(te)}),e.\u0275\u0275pipe(55,"async"),e.\u0275\u0275pipe(56,"localize"),e.\u0275\u0275pipe(57,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(58,Ce,1,0,"tri-spinner",16),e.\u0275\u0275pipe(59,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(60,"div")(61,"div",20)(62,"div",21),e.\u0275\u0275text(63),e.\u0275\u0275pipe(64,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(65,"div",22),e.\u0275\u0275text(66),e.\u0275\u0275pipe(67,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(68,Oe,3,7,"trident-domains-dropdown",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(69,"input",24,25),e.\u0275\u0275listener("change",function(){return t.imageFileHandler()}),e.\u0275\u0275elementEnd()),2&n){var l,v,f,b,o=e.\u0275\u0275reference(20),a=e.\u0275\u0275reference(30);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,35,"WorkspaceImage")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(89,lt,!(null!=(l=e.\u0275\u0275pipeBind1(7,37,t.image$))&&l.length))),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(9,39,t.image$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(null!=(v=e.\u0275\u0275pipeBind1(11,41,t.image$))&&v.length)),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("is-disabled",e.\u0275\u0275pipeBind1(14,43,t.autoSaveImageInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(15,45,t.autoSaveImageInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275attribute("data-testid","workspace-settings-general-upload-btn"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(17,47,t.autoSaveImageInProgress$)&&e.\u0275\u0275pipeBind1(18,49,t.clickUpload$))("ngIfElse",o),e.\u0275\u0275advance(5),e.\u0275\u0275classProp("is-disabled",!(null!=(f=e.\u0275\u0275pipeBind1(22,51,t.image$))&&f.length)||e.\u0275\u0275pipeBind1(23,53,t.autoSaveImageInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",!(null!=(b=e.\u0275\u0275pipeBind1(24,55,t.image$))&&b.length)||e.\u0275\u0275pipeBind1(25,57,t.autoSaveImageInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275attribute("data-testid","workspace-settings-general-reset-btn"),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(27,59,t.autoSaveImageInProgress$)&&e.\u0275\u0275pipeBind1(28,61,t.clickDelete$))("ngIfElse",a),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(32,63,t.imgError$)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(37,65,"Name")),e.\u0275\u0275advance(5),e.\u0275\u0275classProp("has-error",e.\u0275\u0275pipeBind1(42,67,t.isNameExist$)||!t.name),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(43,69,t.autoSaveNameInProgress$)||!t.isWorkspaceAdmin)("value",t.name),e.\u0275\u0275attribute("data-testid","workspace-settings-general-name-input"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(45,71,t.autoSaveNameInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(47,73,t.isNameExist$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(52,75,"Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",t.description)("disabled",e.\u0275\u0275pipeBind1(55,77,t.autoSaveDescriptionInProgress$)||!t.isWorkspaceAdmin)("placeholder",e.\u0275\u0275pipeBind1(56,79,"DescribeThisWorkspace")+" "+e.\u0275\u0275pipeBind1(57,81,"Optional_Parenthesis")),e.\u0275\u0275attribute("data-testid","workspace-settings-general-description-input"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(59,83,t.autoSaveDescriptionInProgress$)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(64,85,"Domain")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(67,87,"Domains_Tip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isDomainsEnabled)}},dependencies:[g.NgClass,g.NgIf,g.AsyncPipe,F.T6,T.M,M.Y,k.Y,V.l,H.d,He.D,Cn,Lt,Jt.AP,Zi,h.w],styles:["[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{gap:8px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{height:72px;width:72px;max-width:72px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .valid-image[_ngcontent-%COMP%]{height:72px;width:72px;border-radius:50%}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image.no-image-container[_ngcontent-%COMP%]{background-color:var(--colorNeutralBackground6);color:var(--colorNeutralForeground3);fill:var(--colorNeutralForeground3);border-radius:50%}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground3)}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-buttons[_ngcontent-%COMP%]{gap:4px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-buttons[_ngcontent-%COMP%]   .image-button[_ngcontent-%COMP%]{height:32px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-error-message[_ngcontent-%COMP%]{color:var(--colorPaletteRedForeground1)}[_nghost-%COMP%]   tri-status-indicator[_ngcontent-%COMP%]     .status-indicator{margin-top:4px}[_nghost-%COMP%]   trident-domains-dropdown[_ngcontent-%COMP%]     .domains-header{display:none}[_nghost-%COMP%]   trident-domains-dropdown[_ngcontent-%COMP%]     .domain-menu-button[disabled] .menu-button-text{color:var(--colorNeutralForegroundDisabled)}"],changeDetection:0}),i}();function no(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",7),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.deleteWorkspaceErrorMessage$))&&void 0!==o?o:""))}}function Pa(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275element(1,"tri-svg-icon",9),e.\u0275\u0275elementStart(2,"div",10),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Trident_Workspace_Settings_Delete_Workspace_Banner")))}function io(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.getDeleteWorkspaceRetentionPolicyText()," ")}}function ro(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}var tr=function(){function i(r,n,t){this.workspaceSettingsService=r,this.triLocalizationService=n,this.telemetryService=t,this.closeSettings=new e.EventEmitter,this.showDeleteWorkspaceError$=new W.X(!1)}return i.prototype.ngOnInit=function(){var r=this;this.workspaceRecoveryEnabled=this.workspaceSettingsService.workspaceRecoveryEnabled,this.deleteWorkspaceInProgress$=this.workspaceSettingsService.deleteWorkspaceInProgress$,this.deleteWorkspaceErrorMessage$=this.workspaceSettingsService.deleteWorkspaceErrorMessage$.pipe((0,Me.h)(function(n){return!!n}),(0,Ve.b)(function(){return r.showDeleteWorkspaceError$.next(!0)}))},i.prototype.deleteWorkspace=function(){var r=this;this.telemetryService.logEvent(wt.DeleteWorkspace),this.workspaceSettingsService.deleteWorkspace().then(function(n){var t;n&&(null===(t=r.closeSettings)||void 0===t||t.emit())})},i.prototype.getDeleteWorkspaceRetentionPolicyText=function(){return this.triLocalizationService.format("Trident_Workspace_Settings_Delete_Workspace_Configurable",this.workspaceSettingsService.retentionPeriodDays)},i.prototype.dismissError=function(){this.showDeleteWorkspaceError$.next(!1)},i.prototype.getErrorMessageBarViewModel=function(r){return{bannerType:1,allowDismiss:!0,isRoundedCorners:!0,message:r}},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(jt))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-general-manage"]],outputs:{closeSettings:"closeSettings"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:19,vars:23,consts:[[1,"section-title","tri-subtitle2"],[3,"viewModel","hideMessageBar",4,"ngIf"],["class","delete-workspace-message tri-flex",4,"ngIf"],["class","delete-workspace-new-message tri-body1",4,"ngIf"],["tri-button","","appearance","primary","data-testid","delete-workspace-btn",3,"disabled","click"],[4,"ngIf"],["name","delete_20_regular"],[3,"viewModel","hideMessageBar"],[1,"delete-workspace-message","tri-flex"],["name","info_20_regular",1,"banner-icon","tri-shrink-0"],[1,"banner-text"],[1,"delete-workspace-new-message","tri-body1"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275template(5,no,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,Pa,5,3,"div",2),e.\u0275\u0275template(9,io,2,1,"div",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div")(11,"button",4),e.\u0275\u0275listener("click",function(){return t.deleteWorkspace()}),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275template(14,ro,1,0,"tri-spinner",5),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275element(16,"tri-svg-icon",6),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,9,"GroupEditor_DeleteGroup_Text")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,11,t.deleteWorkspaceErrorMessage$)&&e.\u0275\u0275pipeBind1(7,13,t.showDeleteWorkspaceError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!t.workspaceRecoveryEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.workspaceRecoveryEnabled),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("is-disabled",e.\u0275\u0275pipeBind1(12,15,t.deleteWorkspaceInProgress$)),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(13,17,t.deleteWorkspaceInProgress$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(15,19,t.deleteWorkspaceInProgress$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(18,21,"Trident_Workspace_Settings_Delete_This_Workspace")," "))},dependencies:[g.NgIf,g.AsyncPipe,F.T6,T.M,M.Y,k.Y,V.l,H.d,He.D,ve.I,it.h],styles:["[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]{font-size:12px;background-color:var(--colorNeutralBackground4);padding:6px 10px;box-sizing:border-box}[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-inline-end:8px}[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}[_nghost-%COMP%]   .delete-workspace-new-message[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),i}();function oo(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function ao(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",7)}var so=function(){return[]};function ui(i,r){if(1&i&&e.\u0275\u0275element(0,"input",8),2&i){var t,n=r.$implicit;e.\u0275\u0275property("placeholder",null==n?null:n.inputPlaceholder)("value",(null!==(t=null==n?null:n.identities)&&void 0!==t?t:e.\u0275\u0275pureFunction0(2,so)).join(";"))}}var x=function(r){return{$implicit:r}},co=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.triLocalizationService=n,this.telemetryService=t,this.contactListContext=void 0,this.isWorkspaceAdmin=!1,this.onContactListUpdated=function(a){o.contactListContext&&(o.contactListContext=(0,N.pi)((0,N.pi)({},o.contactListContext),{identities:(0,N.ev)([],a,!0)}),o.workspaceSettingsService.contactList=o.contactListContext.identities,o.telemetryService.logEvent(wt.UpdateContracts))},this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.contactListContext={identities:this.workspaceSettingsService.contactList,onIdentitiesUpdated:this.onContactListUpdated,allowEmailEnabledSecurityGroups:!0,allowObjectIds:!0,allowDistributionLists:!0,allowUnifiedGroups:!0,checkValidOrgUser:!0,includeGuests:!0,showRelevantUsers:!1,inputPlaceholder:this.workspaceSettingsService.contactList.length>0?"":this.triLocalizationService.get("EmailsList_UsersAndGroupsPlaceholder"),inputAriaLabelledBy:"workspace-settings-general-contact-list-label",disabled:!this.isWorkspaceAdmin},this.autoSaveContactListInProgress$=this.workspaceSettingsService.autoSaveInProgress.ContactList}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(jt))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-general-notifications"]],inputs:{userPicker:"userPicker"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:13,vars:13,consts:[[1,"section-title"],["id","workspace-settings-general-contact-list-label",1,"tri-subtitle2"],[1,"tri-body1"],[1,"email-list-input-container","tri-flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],["inputUserPicker",""],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],["aria-labelledby","workspace-settings-general-contact-list-label",1,"tri-flex-grow","contact-list",3,"placeholder","value"]],template:function(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",2),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",3),e.\u0275\u0275template(8,oo,1,0,"ng-container",4),e.\u0275\u0275template(9,ao,1,0,"tri-spinner",5),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,ui,1,3,"ng-template",null,6,e.\u0275\u0275templateRefExtractor)),2&n){var o=e.\u0275\u0275reference(12);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,5,"Workspace_Contact")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,7,"Workspace_Contact_List_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",t.userPicker||o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(11,x,t.contactListContext)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(10,9,t.autoSaveContactListInProgress$))}},dependencies:[g.NgIf,g.NgTemplateOutlet,g.AsyncPipe,M.Y,k.Y,V.l,H.d,He.D,p.u5],encapsulation:2,changeDetection:0}),i}();function nr(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function Wt(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",5)}var wn=function(){return[]};function ir(i,r){if(1&i&&e.\u0275\u0275element(0,"input",6),2&i){var t,n=r.$implicit;e.\u0275\u0275property("placeholder",null==n?null:n.inputPlaceholder)("value",(null!==(t=null==n?null:n.identities)&&void 0!==t?t:e.\u0275\u0275pureFunction0(2,wn)).join(";"))}}var rr=function(r){return{$implicit:r}},lo=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.triLocalizationService=n,this.telemetryService=t,this.oneDriveContext=void 0,this.isWorkspaceAdmin=!1,this.onOneDriveUpdated=function(a){o.oneDriveContext&&(o.oneDriveContext=(0,N.pi)((0,N.pi)({},o.oneDriveContext),{identities:(0,N.ev)([],a,!0)}),o.workspaceSettingsService.workspaceOneDrive=o.oneDriveContext.identities[0],o.telemetryService.logEvent(wt.UpdateOneDrive))},this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.oneDriveContext={identities:this.workspaceSettingsService.workspaceOneDrive?[this.workspaceSettingsService.workspaceOneDrive]:[],onIdentitiesUpdated:this.onOneDriveUpdated,allowSecurityGroups:!1,allowObjectIds:!0,allowDistributionLists:!1,allowUnifiedGroups:!0,blockUsers:!0,checkValidOrgUser:!0,maxSelectableUsers:1,showRelevantUsers:!1,inputPlaceholder:this.workspaceSettingsService.workspaceOneDrive?"":this.triLocalizationService.get("EmailsList_GroupsPlaceholder"),inputAriaLabelledBy:"workspace-settings-general-oneDrive-list-label",disabled:!this.isWorkspaceAdmin},this.autoSaveOneDriveInProgress=this.workspaceSettingsService.autoSaveInProgress.OneDrive}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(jt))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-general-one-drive"]],inputs:{userPicker:"userPicker"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:9,vars:10,consts:[["id","workspace-settings-general-oneDrive-list-label",1,"section-title","tri-subtitle2"],[1,"email-list-input-container","tri-flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],["inputUserPicker",""],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],["aria-labelledby","workspace-settings-general-oneDrive-list-label",1,"tri-flex-grow","contact-list",3,"placeholder","value"]],template:function(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",1),e.\u0275\u0275template(4,nr,1,0,"ng-container",2),e.\u0275\u0275template(5,Wt,1,0,"tri-spinner",3),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,ir,1,3,"ng-template",null,4,e.\u0275\u0275templateRefExtractor)),2&n){var o=e.\u0275\u0275reference(8);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,4,"WorkspaceSharePoint")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",t.userPicker||o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(8,rr,t.oneDriveContext)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,6,t.autoSaveOneDriveInProgress))}},dependencies:[g.NgIf,g.AsyncPipe,g.NgTemplateOutlet,M.Y,k.Y,V.l,H.d,He.D,p.u5],encapsulation:2,changeDetection:0}),i}(),po=["*"],or=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-section-divider"]],inputs:{sectionNameLocKey:"sectionNameLocKey"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],ngContentSelectors:po,decls:10,vars:3,consts:[[1,"section"],[1,"divider","tri-flex","tri-flex-row","tri-justify-content","tri-items-center"],[1,"divider-left-line"],[1,"divider-text","tri-caption1"],[1,"tri-flex-auto"]],template:function(n,t){1&n&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),e.\u0275\u0275element(3,"mat-divider"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",3),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4),e.\u0275\u0275element(8,"mat-divider"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275projection(9),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(t.sectionNameLocKey?e.\u0275\u0275pipeBind1(6,1,t.sectionNameLocKey):""))},dependencies:[M.Y,k.Y,X.t,X.d],styles:["[_nghost-%COMP%]   .section[_ngcontent-%COMP%]{margin-bottom:48px}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{width:100%;height:20px;margin-bottom:16px}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]   .divider-left-line[_ngcontent-%COMP%]{width:8px}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]   .divider-text[_ngcontent-%COMP%]{padding:0 var(--spacingVerticalM)}"],changeDetection:0}),i}();function ar(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",2),e.\u0275\u0275elementContainerEnd())}function gi(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissWorkspaceInitializationError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.workspaceInitializationError$))&&void 0!==o?o:""))}}function Ta(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissNameValidationError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.nameValidationError$))&&void 0!==o?o:""))}}function kn(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissAutoSaveError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.autoSaveError$))&&void 0!==o?o:""))}}function uo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-section-divider",10)(1,"tri-workspace-settings-general-manage",11),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()()}}function go(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",4),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"tri-workspace-settings-section-divider",5),e.\u0275\u0275element(5,"tri-workspace-settings-general-about"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"tri-workspace-settings-section-divider",6),e.\u0275\u0275element(7,"tri-workspace-settings-general-notifications",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"tri-workspace-settings-section-divider",8),e.\u0275\u0275element(9,"tri-workspace-settings-general-one-drive",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,uo,2,0,"tri-workspace-settings-section-divider",9),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"SettingsGroupsNames_General")),e.\u0275\u0275advance(5),e.\u0275\u0275property("userPicker",n.userPicker),e.\u0275\u0275advance(2),e.\u0275\u0275property("userPicker",n.userPicker),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!n.isWorkspaceAdmin)}}var dn=function(){function i(r,n){this.workspaceSettingsService=r,this.telemetryService=n,this.closeSettings=new e.EventEmitter,this.showWorkspaceInitializationError$=new W.X(!1),this.showNameValidationError$=new W.X(!1),this.showAutoSaveError$=new W.X(!1)}return i.prototype.ngOnInit=function(){var r=this;this.initialized$=this.workspaceSettingsService.folderSettingsInitialized$,this.initialized$.subscribe(function(n){n&&(r.isWorkspaceAdmin=r.workspaceSettingsService.isWorkspaceAdmin,r.telemetryService.logEvent(wt.DetailSettings,{name:"Load Workspace settings - end"}),r.workspaceInitializationError$=r.workspaceSettingsService.workspaceInitializationErrorMessage$.pipe((0,Me.h)(function(t){return!!t}),(0,Ve.b)(function(){return r.showWorkspaceInitializationError$.next(!0)})),r.nameValidationError$=r.workspaceSettingsService.nameValidationErrorMessage$.pipe((0,Me.h)(function(t){return!!t}),(0,Ve.b)(function(){return r.showNameValidationError$.next(!0)})),r.autoSaveError$=r.workspaceSettingsService.autoSaveErrorMessage$.pipe((0,Me.h)(function(t){return!!t}),(0,Ve.b)(function(){return r.showAutoSaveError$.next(!0)})))})},i.prototype.dismissWorkspaceInitializationError=function(){this.showWorkspaceInitializationError$.next(!1)},i.prototype.dismissNameValidationError=function(){this.showNameValidationError$.next(!1)},i.prototype.dismissAutoSaveError=function(){this.showAutoSaveError$.next(!1)},i.prototype.getErrorMessageBarViewModel=function(r){return{bannerType:1,allowDismiss:!0,isRoundedCorners:!0,message:r}},i.prototype.onCloseSettings=function(){this.closeSettings.emit()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(jt))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-general"]],inputs:{userPicker:"userPicker"},outputs:{closeSettings:"closeSettings"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:13,vars:21,consts:[[4,"ngIf"],[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar"],[1,"tab-title","tri-title3"],["sectionNameLocKey","About"],["sectionNameLocKey","UsersNotifications_BadgeTooltip"],[3,"userPicker"],["sectionNameLocKey","OneDrive"],["sectionNameLocKey","Manage_Tooltip",4,"ngIf"],["sectionNameLocKey","Manage_Tooltip"],[3,"closeSettings"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,ar,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,gi,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,Ta,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,kn,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275template(11,go,11,6,"ng-container",0),e.\u0275\u0275pipe(12,"async")),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,5,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!!e.\u0275\u0275pipeBind1(3,7,t.workspaceInitializationError$)&&e.\u0275\u0275pipeBind1(4,9,t.showWorkspaceInitializationError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!!e.\u0275\u0275pipeBind1(6,11,t.nameValidationError$)&&e.\u0275\u0275pipeBind1(7,13,t.showNameValidationError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!!e.\u0275\u0275pipeBind1(9,15,t.autoSaveError$)&&e.\u0275\u0275pipeBind1(10,17,t.showAutoSaveError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(12,19,t.initialized$)))},dependencies:[to,tr,co,lo,or,g.NgIf,ve.I,it.h,M.Y,k.Y,V.l,H.d,He.D,g.AsyncPipe],styles:["[_nghost-%COMP%]     .general-settings-input, [_nghost-%COMP%]     .general-settings-textarea{resize:none;font-size:14px;font-family:var(--fontFamilyBase);line-height:20px;padding:5px 12px;box-sizing:border-box;border-radius:4px;outline:none;border:1px solid var(--colorNeutralStroke1)}[_nghost-%COMP%]     .general-settings-input:not([disabled]), [_nghost-%COMP%]     .general-settings-textarea:not([disabled]){border-bottom:1px solid var(--globalColorGrey38)}[_nghost-%COMP%]     .general-settings-input:not([disabled]):focus-visible, [_nghost-%COMP%]     .general-settings-textarea:not([disabled]):focus-visible{border-bottom:2px solid var(--globalColorBrand80)}[_nghost-%COMP%]     .general-settings-input[disabled], [_nghost-%COMP%]     .general-settings-textarea[disabled]{border:1px solid var(--colorNeutralStroke2);background-color:var(--colorNeutralBackgroundDisabled);color:var(--colorNeutralForegroundDisabled)}[_nghost-%COMP%]     .general-settings-input[disabled]::placeholder, [_nghost-%COMP%]     .general-settings-textarea[disabled]::placeholder{color:var(--colorNeutralForegroundDisabled, #bdbdbd)}[_nghost-%COMP%]     .general-settings-input.has-error, [_nghost-%COMP%]     .general-settings-textarea.has-error{border:1px solid var(--colorPaletteRedForeground1)}[_nghost-%COMP%]     .email-list-input-container emails-list-modern{flex-grow:1}[_nghost-%COMP%]     .email-list-input-container .mat-form-field.emails-list{border-radius:4px;outline:none;border:1px solid var(--colorNeutralStroke1);border-bottom:1px solid var(--globalColorGrey38)}[_nghost-%COMP%]     .email-list-input-container .mat-form-field.emails-list:hover{border:1px solid var(--colorNeutralStroke1);border-bottom:1px solid var(--globalColorGrey38)}[_nghost-%COMP%]     .email-list-input-container .mat-form-field.emails-list:focus-visible, [_nghost-%COMP%]     .email-list-input-container .mat-form-field.emails-list:focus-within, [_nghost-%COMP%]     .email-list-input-container .mat-form-field.emails-list:focus{border:1px solid var(--colorNeutralStroke1);border-bottom:2px solid var(--globalColorBrand80)}[_nghost-%COMP%]     .email-list-input-container emails-list-modern.invalid .emails-list{border:1px solid var(--colorPaletteRedForeground1)}[_nghost-%COMP%]     .email-list-input-container emails-list-modern.disabled .emails-list{border:1px solid var(--colorNeutralStroke2);background-color:var(--colorNeutralBackgroundDisabled)}[_nghost-%COMP%]     .email-list-input-container emails-list-modern.disabled .emails-list:hover{border:1px solid var(--colorNeutralStroke2)}[_nghost-%COMP%]     .email-list-input-container emails-list-modern.disabled .emails-list input::placeholder{color:var(--colorNeutralForegroundDisabled, #bdbdbd)}[_nghost-%COMP%]     .email-list-input-container input, [_nghost-%COMP%]     .email-list-input-container .chip-list{padding:6px 10px}[_nghost-%COMP%]     .email-list-input-container message-banner{margin-bottom:0}[_nghost-%COMP%]     .email-list-input-container message-banner .message-banner.message-banner-error{color:var(--colorPaletteRedForeground1);padding:4px 0 0;background-color:unset;align-items:center}[_nghost-%COMP%]     .email-list-input-container message-banner .message-banner-icon{margin-right:4px!important;background:var(--colorPaletteRedForeground1);color:#fff;display:flex;align-items:center;justify-content:center;height:11px;width:11px;border-radius:100%}"],changeDetection:0}),i}(),pt=function(i){return i[i.AdlsStorage=0]="AdlsStorage",i[i.LogAnalytics=1]="LogAnalytics",i}({}),be=u(11547),In=u(63057),ge=u(14172),sr=u(22318),en=u(11105),vt=function(i){return i.NotConfigured="not-configured",i.EditConfiguration="edit-configuration",i.ShowConfiguration="show-configuration",i}({}),It=function(i){return i.Default="default",i.Custom="custom",i}({}),Gn=u(89237),Mt=u(20551),Ht=u(64716),tn=u(85721);function cr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",8),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.dismissServerMessageBar())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getServerMessageBarViewModel(e.\u0275\u0275pipeBind1(1,1,t.serverMessageBarModel$)))}}function mo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"div",10),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",11)(5,"div")(6,"div",12),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",13),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"div",14)(13,"button",15),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.editConfiguration())}),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,t.resourceConnector.collapsibeSectionHeader)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,6,"Status"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,8,"Not_Configured")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(15,10,"Configure")," ")}}function _o(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function Oa(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function vo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",20),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.connectResource())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Oa,1,0,"tri-spinner",21),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("disabled",!((t.selectedSubscription&&t.selectedResourceGroup&&t.selectedResource||e.\u0275\u0275pipeBind1(1,3,t.editConfigurationType$)===t.EditConfigurationType.Default)&&!0!==e.\u0275\u0275pipeBind1(2,5,t.saveInProgress$)&&t.isWorkspaceAdmin)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(4,7,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,9,"PBI_Button_Label_Save")," ")}}function ho(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",22),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.cancelConnect())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("disabled",!0===e.\u0275\u0275pipeBind1(1,2,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Cancel_ButtonText")," ")}}function fo(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",9)(1,"div",16),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",11),e.\u0275\u0275template(5,_o,1,0,"ng-container",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",14),e.\u0275\u0275template(7,vo,7,11,"button",18),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275template(9,ho,4,6,"button",19),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(),t=e.\u0275\u0275reference(13);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,n.resourceConnector.collapsibeSectionHeader)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",t),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",void 0===e.\u0275\u0275pipeBind1(8,6,n.connectedResource$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",void 0===e.\u0275\u0275pipeBind1(10,8,n.connectedResource$))}}function Co(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function Ea(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}var So=function(r){return{$implicit:r}};function Da(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"div",10),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",11),e.\u0275\u0275template(5,Co,1,0,"ng-container",23),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",14)(8,"button",20),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.disconnectResource())}),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275template(11,Ea,1,0,"tri-spinner",21),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(11);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,8,"Storage_Configuration")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(20,So,e.\u0275\u0275pipeBind1(6,10,t.connectedResource$))),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("is-disabled",!0===e.\u0275\u0275pipeBind1(9,12,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",!0===e.\u0275\u0275pipeBind1(10,14,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(12,16,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,18,"BYOResources_Disconnect_Button_Workspace")," ")}}function Ba(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div")(2,"div",12),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",13),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div")(8,"div",12),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",13),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"div")(14,"div",12),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",13),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd()()()),2&i){var n=r.$implicit,t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,6,"Subscription"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",(null==n?null:n.subscriptionId)||"\u2014",""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,8,"BYOResources_Connect_ResourceGroup"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",(null==n?null:n.resourceGroup)||"\u2014",""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(16,10,t.resourceConnector.resourceLabel),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",(null==n?null:n.resourceName)||"\u2014","")}}function lr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-group")(1,"tri-radio-button",26),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.selectEditConfigurationType(a,l.EditConfigurationType.Default))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementStart(4,"label",27),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"tri-radio-button",28),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.selectEditConfigurationType(a,l.EditConfigurationType.Custom))}),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275elementStart(9,"label",29),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!t.canChooseDefault||!0===e.\u0275\u0275pipeBind1(2,7,t.saveInProgress$))("value",t.EditConfigurationType.Default)("checked",e.\u0275\u0275pipeBind1(3,9,t.editConfigurationType$)===t.EditConfigurationType.Default),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,11,"BYOResources_Connect_Default"),""),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",e.\u0275\u0275pipeBind1(8,13,t.editConfigurationType$)===t.EditConfigurationType.Custom)("value",t.EditConfigurationType.Custom),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,15,"BYOResources_Connect_Custom"),"")}}function yo(i,r){if(1&i&&(e.\u0275\u0275element(0,"tri-message-bar",30),e.\u0275\u0275pipe(1,"localize")),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("viewModel",n.getErrorMessageBarViewModel(e.\u0275\u0275pipeBind1(1,1,n.resourceConnector.notAllowedWarningMessage)))}}function Ga(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function pn(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Ga,1,0,"ng-container",23),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(3),t=e.\u0275\u0275reference(11);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,So,n.tenantResource))}}function mi(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",8),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(l.dismissFetchError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("viewModel",null!==(o=e.\u0275\u0275pipeBind1(1,1,t.fetchErrorMessageBarModel$))&&void 0!==o?o:void 0)}}function bo(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",43),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("",n.text," (",n.key,") ")}}function za(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",44)}function zn(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-status-indicator",45)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"tri-link",46),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("statusIndicatorType",n.StatusIndicatorType.Error),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,5,n.resourceConnector.noSubscriptionsMessage)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0)("href",n.resourceConnector.noSubscriptionLearnMoreLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,7,"LearnMore")," ")}}function wo(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",43),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.text," ")}}function ko(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",44)}function Io(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-status-indicator",45)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"tri-link",46),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("statusIndicatorType",n.StatusIndicatorType.Error),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,5,n.resourceConnector.noResourceGroupMessage)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0)("href",n.resourceConnector.noResourceGroupLearnMoreLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,7,"LearnMore")," ")}}function xo(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",43),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.text," ")}}function Mo(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",44)}function Po(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",33),e.\u0275\u0275template(1,mi,2,3,"tri-message-bar",0),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"div")(4,"div",34),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementStart(7,"span",35),e.\u0275\u0275text(8," *"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",36)(10,"tri-dropdown",37),e.\u0275\u0275listener("ngModelChange",function(ue){e.\u0275\u0275restoreView(n);var ee=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(ee.selectedSubscriptionDropdownOption=ue)})("valueChange",function(ue){e.\u0275\u0275restoreView(n);var ee=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(ee.onSubscriptionChange(ue))}),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementStart(13,"tri-dropdown-trigger")(14,"div",38),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"tri-search-box",39),e.\u0275\u0275listener("value",function(ue){e.\u0275\u0275restoreView(n);var ee=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(ee.onSubscriptionsSearched(ue))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,bo,2,3,"tri-dropdown-item",40),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,za,1,0,"tri-spinner",41),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(22,zn,7,9,"tri-status-indicator",42),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div")(26,"div",34),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"localize"),e.\u0275\u0275elementStart(29,"span",35),e.\u0275\u0275text(30," *"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(31,"div",36)(32,"tri-dropdown",37),e.\u0275\u0275listener("ngModelChange",function(ue){e.\u0275\u0275restoreView(n);var ee=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(ee.selectedResourceGroupDropdownOption=ue)})("valueChange",function(ue){e.\u0275\u0275restoreView(n);var ee=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(ee.onResourceGroupChange(ue))}),e.\u0275\u0275pipe(33,"async"),e.\u0275\u0275pipe(34,"async"),e.\u0275\u0275elementStart(35,"tri-dropdown-trigger")(36,"div",38),e.\u0275\u0275pipe(37,"localize"),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(40,"tri-search-box",39),e.\u0275\u0275listener("value",function(ue){e.\u0275\u0275restoreView(n);var ee=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(ee.onResourceGroupsSearched(ue))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(41,wo,2,2,"tri-dropdown-item",40),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(42,ko,1,0,"tri-spinner",41),e.\u0275\u0275pipe(43,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(44,Io,7,9,"tri-status-indicator",42),e.\u0275\u0275pipe(45,"async"),e.\u0275\u0275pipe(46,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"div")(48,"div",34),e.\u0275\u0275text(49),e.\u0275\u0275pipe(50,"localize"),e.\u0275\u0275elementStart(51,"span",35),e.\u0275\u0275text(52," *"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(53,"div",36)(54,"tri-dropdown",37),e.\u0275\u0275listener("ngModelChange",function(ue){e.\u0275\u0275restoreView(n);var ee=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(ee.selectedResourceDropdownOption=ue)})("valueChange",function(ue){e.\u0275\u0275restoreView(n);var ee=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(ee.onResourceChange(ue))}),e.\u0275\u0275pipe(55,"async"),e.\u0275\u0275pipe(56,"async"),e.\u0275\u0275elementStart(57,"tri-dropdown-trigger")(58,"div",38),e.\u0275\u0275pipe(59,"localize"),e.\u0275\u0275text(60),e.\u0275\u0275pipe(61,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(62,"tri-search-box",39),e.\u0275\u0275listener("value",function(ue){e.\u0275\u0275restoreView(n);var ee=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(ee.onResourcesSearched(ue))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(63,xo,2,2,"tri-dropdown-item",40),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(64,Mo,1,0,"tri-spinner",41),e.\u0275\u0275pipe(65,"async"),e.\u0275\u0275elementEnd()()()}if(2&i){var o,a,l,v,f,b,z,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,27,t.fetchErrorMessageBarModel$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,29,"Subscription"),""),e.\u0275\u0275advance(5),e.\u0275\u0275property("options",t.getDropdownOverlayOptions(null!==(o=null==t.allSubscriptionDropdownOptions?null:t.allSubscriptionDropdownOptions.length)&&void 0!==o?o:0))("ngModel",t.selectedSubscriptionDropdownOption)("disabled",!0===e.\u0275\u0275pipeBind1(11,31,t.saveInProgress$)||!0===e.\u0275\u0275pipeBind1(12,33,null==t.fetchResourceStatus||null==t.fetchResourceStatus.subscription?null:t.fetchResourceStatus.subscription.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",t.selectedSubscriptionDropdownOption?t.selectedSubscriptionDropdownOption.text+" ("+(null==t.selectedSubscriptionDropdownOption?null:t.selectedSubscriptionDropdownOption.key)+")":e.\u0275\u0275pipeBind1(15,35,"Trident_Workspace_Settings_Select_Subscription")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.selectedSubscriptionDropdownOption?t.selectedSubscriptionDropdownOption.text+" ("+(null==t.selectedSubscriptionDropdownOption?null:t.selectedSubscriptionDropdownOption.key)+")":e.\u0275\u0275pipeBind1(17,37,"Trident_Workspace_Settings_Select_Subscription")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allSubscriptionDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(21,39,null==t.fetchResourceStatus||null==t.fetchResourceStatus.subscription?null:t.fetchResourceStatus.subscription.inProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",void 0===e.\u0275\u0275pipeBind1(23,41,t.connectedResource$)&&0===t.allSubscriptions.length&&!0!==e.\u0275\u0275pipeBind1(24,43,null==t.fetchResourceStatus||null==t.fetchResourceStatus.subscription?null:t.fetchResourceStatus.subscription.inProgress$)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(28,45,"BYOResources_Connect_ResourceGroup"),""),e.\u0275\u0275advance(5),e.\u0275\u0275property("options",t.getDropdownOverlayOptions(null!==(a=null==t.allResourceGroupsDropdownOptions?null:t.allResourceGroupsDropdownOptions.length)&&void 0!==a?a:0))("ngModel",t.selectedResourceGroupDropdownOption)("disabled",!t.selectedSubscription||!0===e.\u0275\u0275pipeBind1(33,47,t.saveInProgress$)||!0===e.\u0275\u0275pipeBind1(34,49,null==t.fetchResourceStatus||null==t.fetchResourceStatus.resourceGroup?null:t.fetchResourceStatus.resourceGroup.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",null!==(l=null==t.selectedResourceGroupDropdownOption?null:t.selectedResourceGroupDropdownOption.text)&&void 0!==l?l:e.\u0275\u0275pipeBind1(37,51,"Trident_Workspace_Settings_Select_Resource_Group")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(v=null==t.selectedResourceGroupDropdownOption?null:t.selectedResourceGroupDropdownOption.text)&&void 0!==v?v:e.\u0275\u0275pipeBind1(39,53,"Trident_Workspace_Settings_Select_Resource_Group")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allResourceGroupsDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(43,55,null==t.fetchResourceStatus||null==t.fetchResourceStatus.resourceGroup?null:t.fetchResourceStatus.resourceGroup.inProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",void 0===e.\u0275\u0275pipeBind1(45,57,t.connectedResource$)&&t.selectedSubscription&&0===t.allResourceGroups.length&&!0!==e.\u0275\u0275pipeBind1(46,59,null==t.fetchResourceStatus||null==t.fetchResourceStatus.resourceGroup?null:t.fetchResourceStatus.resourceGroup.inProgress$)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(50,61,t.resourceConnector.resourceLabel),""),e.\u0275\u0275advance(5),e.\u0275\u0275property("options",t.getDropdownOverlayOptions(null!==(f=null==t.allResourcesDropdownOptions?null:t.allResourcesDropdownOptions.length)&&void 0!==f?f:0))("ngModel",t.selectedResourceDropdownOption)("disabled",!t.selectedSubscription||!t.selectedResourceGroup||!0===e.\u0275\u0275pipeBind1(55,63,t.saveInProgress$)||!0===e.\u0275\u0275pipeBind1(56,65,null==t.fetchResourceStatus||null==t.fetchResourceStatus.resource?null:t.fetchResourceStatus.resource.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",null!==(b=null==t.selectedResourceDropdownOption?null:t.selectedResourceDropdownOption.text)&&void 0!==b?b:e.\u0275\u0275pipeBind1(59,67,t.resourceConnector.resourcePickerPlaceholder)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(z=null==t.selectedResourceDropdownOption?null:t.selectedResourceDropdownOption.text)&&void 0!==z?z:e.\u0275\u0275pipeBind1(61,69,t.resourceConnector.resourcePickerPlaceholder)," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allResourcesDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(65,71,null==t.fetchResourceStatus||null==t.fetchResourceStatus.resource?null:t.fetchResourceStatus.resource.inProgress$))}}function To(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0,4),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,pn,2,4,"div",31),e.\u0275\u0275template(3,Po,66,73,"div",32),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngSwitch",e.\u0275\u0275pipeBind1(1,3,n.editConfigurationType$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitchCase",n.EditConfigurationType.Default),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",n.EditConfigurationType.Custom)}}function Oo(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,lr,12,17,"tri-radio-group",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,yo,2,3,"tri-message-bar",24),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,To,4,5,"ng-container",25),e.\u0275\u0275pipe(5,"async")),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isShowRadioGroup),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,3,n.editConfigurationType$)===n.EditConfigurationType.Custom&&!n.canChooseCustom),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.canChooseCustom||e.\u0275\u0275pipeBind1(5,5,n.editConfigurationType$)===n.EditConfigurationType.Default)}}var Go=function(){function i(r,n,t){this.workspaceSettingsService=r,this.telemetryService=n,this.triLocalizationService=t,this.resourceConnector={},this.isWorkspaceAdmin=!1,this.connectedResource$=new W.X(void 0),this.configurationContent$=new W.X(vt.EditConfiguration),this.ConfigurationContentType=vt,this.editConfigurationType$=new W.X(It.Custom),this.EditConfigurationType=It,this.allSubscriptions=[],this.allResourceGroups=[],this.allResources=[],this.allSubscriptionDropdownOptions=[],this.allResourceGroupsDropdownOptions=[],this.allResourcesDropdownOptions=[],this.subscriptionDropdownSearchText="",this.resourceGroupDropdownSearchText="",this.resourceDropdownSearchText="",this.saveInProgress$=(0,be.of)(!1),this.updateResMsg$=(0,be.of)(""),this.serverMessageBarModel$=new W.X(void 0),this.fetchErrorMessageBarModel$=new W.X(void 0),this.StatusIndicatorType=$t,this.destroy$=new dt.xQ}return i.prototype.ngOnInit=function(){var n,t,o,r=this;this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.tenantResource=this.workspaceSettingsService.getTenantResource(this.resourceConnector.resourceType),this.saveInProgress$=this.workspaceSettingsService.azureResourceApiInProgress[this.resourceConnector.resourceType],this.fetchResourceStatus=this.workspaceSettingsService.azureResourcesFetchStatus[this.resourceConnector.resourceType],(0,In.T)(null===(n=this.fetchResourceStatus)||void 0===n?void 0:n.subscription.errorMessage$,null===(t=this.fetchResourceStatus)||void 0===t?void 0:t.resourceGroup.errorMessage$,null===(o=this.fetchResourceStatus)||void 0===o?void 0:o.resource.errorMessage$).pipe((0,Ve.b)(function(a){r.fetchErrorMessageBarModel$.next({bannerType:1,allowDismiss:!0,isRoundedCorners:!0,message:a})})),this.isShowRadioGroup=this.resourceConnector.canSelectTenantResource,this.canChooseDefault=!!this.tenantResource&&this.isWorkspaceAdmin,this.canChooseCustom=!!this.resourceConnector&&this.workspaceSettingsService.getFeatureSwitchState(this.resourceConnector.featureFlagToAllowResource),this.updateResMsg$=(0,In.T)(this.workspaceSettingsService.azureConnectionsServiceErrorMessages[this.resourceConnector.resourceType].pipe((0,Me.h)(function(a){return!!a})),this.workspaceSettingsService.azureConnectionUpdateSuccess[this.resourceConnector.resourceType].pipe((0,Me.h)(function(a){return!!a}),(0,ge.U)(function(){return""}))),(0,je.aj)([this.updateResMsg$,this.saveInProgress$]).pipe((0,Re.R)(this.destroy$),(0,Me.h)(function(a){return!a[1]}),(0,ge.U)(function(a){var l=a[0];return l?{id:(0,en.Z)(),bannerType:1,message:l}:{id:(0,en.Z)(),bannerType:3,message:r.triLocalizationService.get("Sharing_EditDashboardUsersSuccess")}})).subscribe(function(a){r.serverMessageBarModel$.next(a)}),(0,je.aj)([this.saveInProgress$,this.updateResMsg$.pipe((0,sr.O)(""))]).pipe((0,Re.R)(this.destroy$)).subscribe(function(a){var l=a[0],v=a[1],f=r.workspaceSettingsService.getLinkedResource(r.resourceConnector.resourceType),b=!!f?.resourceName||!!f?.resourceGroup||!!f?.subscriptionId;r.connectedResource$.next(b?f:void 0),l?b?r.configurationContent$.next(vt.ShowConfiguration):r.editConfiguration(r.workspaceSettingsService.azureConnectionEditConfigurationType[r.resourceConnector.resourceType]):(r.clearCurrentResource(),v?r.editConfiguration():r.configurationContent$.next(b?vt.ShowConfiguration:vt.NotConfigured))})},i.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},i.prototype.connectResource=function(){return(0,N.mG)(this,void 0,void 0,function(){return(0,N.Jh)(this,function(n){switch(n.label){case 0:return[4,this.editConfigurationType$.pipe((0,ye.q)(1)).toPromise()];case 1:return n.sent()===It.Default?this.workspaceSettingsService.connectTenantResource(this.resourceConnector.resourceType):this.workspaceSettingsService.connectAzureResource(this.resourceConnector.resourceType),this.telemetryService.logEvent("Connect ".concat(this.resourceConnector.resourceType)),[2]}})})},i.prototype.cancelConnect=function(){this.clearCurrentResource(),this.configurationContent$.next(vt.NotConfigured)},i.prototype.disconnectResource=function(){this.workspaceSettingsService.disconnectAzureResource(this.resourceConnector.resourceType,this.resourceConnector.disconnectionPromptMessage)},i.prototype.editConfiguration=function(r){this.initializePickerOptions(),this.configurationContent$.next(vt.EditConfiguration),r?this.editConfigurationType$.next(r):this.isShowRadioGroup&&this.canChooseDefault?(this.editConfigurationType$.next(It.Default),this.workspaceSettingsService.updateAzureConnectionEditConfigurationType(this.resourceConnector.resourceType,It.Default)):(this.editConfigurationType$.next(It.Custom),this.workspaceSettingsService.updateAzureConnectionEditConfigurationType(this.resourceConnector.resourceType,It.Custom))},i.prototype.selectEditConfigurationType=function(r,n){r&&(this.workspaceSettingsService.updateAzureConnectionEditConfigurationType(this.resourceConnector.resourceType,n),this.editConfigurationType$.next(n))},i.prototype.getErrorMessageBarViewModel=function(r){return{bannerType:1,allowDismiss:!1,isRoundedCorners:!0,message:r}},i.prototype.getServerMessageBarViewModel=function(r){if(r)return{id:r.id,bannerType:r.bannerType,allowDismiss:!0,isRoundedCorners:!0,message:r.message}},i.prototype.dismissServerMessageBar=function(){this.serverMessageBarModel$.next(void 0)},i.prototype.dismissFetchError=function(){this.fetchErrorMessageBarModel$.next(void 0)},i.prototype.getDropdownOverlayOptions=function(r){return{dropdownHeight:30*Math.max(Math.min(r,12),1)+34}},i.prototype.onSubscriptionChange=function(r){var t,o,a,n=this;this.selectedSubscription=this.allSubscriptions.find(function(l){return l.subscriptionId===r?.key}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.azureTenantObjectId,subscriptionId:null===(o=this.selectedSubscription)||void 0===o?void 0:o.subscriptionId}),this.selectedResourceGroup=void 0,this.selectedResource=void 0,this.selectedResourceGroupDropdownOption=void 0,this.selectedResourceDropdownOption=void 0,this.selectedSubscription&&this.workspaceSettingsService.getResourceGroupsWithResourceTypeForAzureSubscription(this.resourceConnector.resourceType,(null===(a=this.selectedSubscription)||void 0===a?void 0:a.subscriptionId)||"",!0).then(function(l){n.allResourceGroups=l,n.createResourceGroupDropdownOptions()})},i.prototype.onResourceGroupChange=function(r){var t,o,a,l,v,n=this;this.selectedResourceGroup=this.allResourceGroups.find(function(f){return f.name===r?.text}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.azureTenantObjectId,subscriptionId:null===(o=this.selectedSubscription)||void 0===o?void 0:o.subscriptionId,resourceGroup:null===(a=this.selectedResourceGroup)||void 0===a?void 0:a.name}),this.selectedResource=void 0,this.selectedResourceDropdownOption=void 0,this.selectedSubscription&&this.selectedResourceGroup&&this.workspaceSettingsService.getAzureResources(this.resourceConnector.resourceType,(null===(l=this.selectedSubscription)||void 0===l?void 0:l.subscriptionId)||"",(null===(v=this.selectedResourceGroup)||void 0===v?void 0:v.name)||"").then(function(f){n.allResources=f,n.createResourcesDropdownOptions()})},i.prototype.onResourceChange=function(r){var n,t,o,a;this.selectedResource=this.allResources.find(function(l){return l.name===r?.text}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(n=this.selectedSubscription)||void 0===n?void 0:n.azureTenantObjectId,subscriptionId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.subscriptionId,resourceGroup:null===(o=this.selectedResourceGroup)||void 0===o?void 0:o.name,resourceName:null===(a=this.selectedResource)||void 0===a?void 0:a.name})},i.prototype.onSubscriptionsSearched=function(r){this.subscriptionDropdownSearchText=r,this.createSubscriptionDropdownOptions()},i.prototype.onResourceGroupsSearched=function(r){this.resourceGroupDropdownSearchText=r,this.createResourceGroupDropdownOptions()},i.prototype.onResourcesSearched=function(r){this.resourceDropdownSearchText=r,this.createResourcesDropdownOptions()},i.prototype.initializePickerOptions=function(){var r=this,n=this.workspaceSettingsService.getCurrentResource(this.resourceConnector.resourceType);this.workspaceSettingsService.getAzureSubscriptions().then(function(t){if(r.allSubscriptions=(0,N.ev)([],t,!0),r.createSubscriptionDropdownOptions(),n?.subscriptionId){var o=r.allSubscriptions.findIndex(function(l){return l.subscriptionId===n.subscriptionId});if(o>=0){var a=r.allSubscriptions[o];r.selectedSubscriptionDropdownOption=r.allSubscriptionDropdownOptions[o],r.selectedSubscription=a,n.resourceGroup&&(r.selectedResourceGroup={name:n.resourceGroup,subscriptionId:a.subscriptionId}),n.resourceName&&(r.selectedResource={id:n.resourceName,name:n.resourceName,subscriptionId:a.subscriptionId,resourceGroup:n.resourceGroup})}}}),n?.subscriptionId&&(this.workspaceSettingsService.getResourceGroupsWithResourceTypeForAzureSubscription(this.resourceConnector.resourceType,n.subscriptionId).then(function(t){var o;r.allResourceGroups=(0,N.ev)([],t,!0),r.createResourceGroupDropdownOptions(),n.resourceGroup&&(r.selectedResourceGroupDropdownOption=null===(o=r.allResourceGroupsDropdownOptions)||void 0===o?void 0:o.find(function(a){return a.text===n.resourceGroup}))}),n.resourceGroup&&this.workspaceSettingsService.getAzureResources(this.resourceConnector.resourceType,n.subscriptionId,n.resourceGroup).then(function(t){var o;r.allResources=(0,N.ev)([],t,!0),r.createResourcesDropdownOptions(),n.resourceName&&(r.selectedResourceDropdownOption=null===(o=r.allResourcesDropdownOptions)||void 0===o?void 0:o.find(function(a){return a.text===n.resourceName}))}))},i.prototype.createSubscriptionDropdownOptions=function(){var r=this;this.allSubscriptionDropdownOptions=this.allSubscriptions.map(function(n){return{key:n.subscriptionId,text:n.name}}).filter(function(n){var t,o,a,l;return!r.subscriptionDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.subscriptionDropdownSearchText.toLowerCase()))>=0||(null===(l=null===(a=n.key)||void 0===a?void 0:a.toLowerCase())||void 0===l?void 0:l.indexOf(r.subscriptionDropdownSearchText.toLowerCase()))>=0})},i.prototype.createResourceGroupDropdownOptions=function(){var r=this;this.allResourceGroupsDropdownOptions=this.allResourceGroups.map(function(n){return{key:n.name,text:n.name}}).filter(function(n){var t,o;return!r.resourceGroupDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.resourceGroupDropdownSearchText.toLowerCase()))>=0})},i.prototype.createResourcesDropdownOptions=function(){var r=this;this.allResourcesDropdownOptions=this.allResources.map(function(n){return{key:n.name,text:n.name}}).filter(function(n){var t,o;return!r.resourceDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.resourceDropdownSearchText.toLowerCase()))>=0})},i.prototype.clearCurrentResource=function(){this.workspaceSettingsService.clearCurrentResource(this.resourceConnector.resourceType),this.selectedSubscription=void 0,this.selectedSubscriptionDropdownOption=void 0,this.subscriptionDropdownSearchText="",this.selectedResourceGroup=void 0,this.selectedResourceGroupDropdownOption=void 0,this.resourceGroupDropdownSearchText="",this.selectedResource=void 0,this.selectedResourceDropdownOption=void 0,this.resourceDropdownSearchText=""},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(jt),e.\u0275\u0275directiveInject(xe.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-azure-connections-configuration"]],inputs:{resourceConnector:"resourceConnector"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:14,vars:9,consts:[[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"configuration-container","tri-flex","tri-flex-row"],[1,"anchor-icon"],["name","storage_20_regular"],[3,"ngSwitch"],["class","container-right-part tri-flex-auto",4,"ngSwitchCase"],["configurationSummary",""],["editConfigurationContent",""],[3,"viewModel","hideMessageBar"],[1,"container-right-part","tri-flex-auto"],[1,"title","tri-body1"],[1,"content"],[1,"tri-caption2"],[1,"tri-body1-strong"],[1,"footer"],["tri-button","",3,"click"],[1,"title","tri-body1-strong"],[4,"ngTemplateOutlet"],["tri-button","","appearance","primary",3,"disabled","click",4,"ngIf"],["tri-button","",3,"disabled","click",4,"ngIf"],["tri-button","","appearance","primary",3,"disabled","click"],[4,"ngIf"],["tri-button","",3,"disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"viewModel",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],["aria-labelledby","'default-connection-radio-button-' + resourceConnector.resourceType",3,"disabled","value","checked","change"],["id","'default-connection-radio-button-' + resourceConnector.resourceType"],["aria-labelledby","'custom-connection-radio-button-' + resourceConnector.resourceType",3,"checked","value","change"],["id","'custom-connection-radio-button-' + resourceConnector.resourceType"],[3,"viewModel"],[4,"ngSwitchCase"],["class","resource-pickers-container tri-flex tri-flex-col",4,"ngSwitchCase"],[1,"resource-pickers-container","tri-flex","tri-flex-col"],[1,"picker-label","tri-body1-strong"],[1,"required-star"],[1,"tri-flex"],[3,"options","ngModel","disabled","ngModelChange","valueChange"],[1,"tri-body1",3,"triTooltip"],[1,"azure-connection-configuration-dropdown-search-box",3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],[3,"statusIndicatorType",4,"ngIf"],[3,"value"],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],[3,"statusIndicatorType"],["target","_blank","rel","noopener noreferrer",3,"external","href"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,cr,2,3,"tri-message-bar",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"div",1)(3,"div",2),e.\u0275\u0275element(4,"tri-svg-icon",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerStart(5,4),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275template(7,mo,16,12,"div",5),e.\u0275\u0275template(8,fo,11,10,"div",5),e.\u0275\u0275template(9,Da,15,22,"div",5),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,Ba,19,12,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(12,Oo,6,7,"ng-template",null,7,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,t.serverMessageBarModel$)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngSwitch",e.\u0275\u0275pipeBind1(6,7,t.configurationContent$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitchCase",t.ConfigurationContentType.NotConfigured),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ConfigurationContentType.EditConfiguration),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ConfigurationContentType.ShowConfiguration))},dependencies:[g.NgIf,g.NgFor,g.NgTemplateOutlet,g.NgSwitch,g.NgSwitchCase,g.AsyncPipe,p.u5,p.JJ,p.On,M.Y,k.Y,H.d,He.D,ve.I,it.h,q.W,E.Y,B.Z,F.T6,T.M,U.b,Gn.U,w.lK,Mt.M3,Ht.l,tn.q,Mt.ii,h.w,xt.Z,Cn,Lt,L.m,O.v],styles:["[_nghost-%COMP%]   .configuration-container[_ngcontent-%COMP%]{padding:8px;border-radius:4px;border:1px solid var(--colorNeutralStroke2)}[_nghost-%COMP%]   .configuration-container[_ngcontent-%COMP%]   .anchor-icon[_ngcontent-%COMP%]{display:flex;margin-right:8px;fill:var(--tridentColor80)}[_nghost-%COMP%]   .configuration-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:8px 8px 8px 0;display:flex;flex-direction:column;gap:16px}[_nghost-%COMP%]   .configuration-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding:8px 0;margin-top:10px}[_nghost-%COMP%]   .resource-pickers-container[_ngcontent-%COMP%]{gap:8px}[_nghost-%COMP%]   .resource-pickers-container[_ngcontent-%COMP%]   .picker-label[_ngcontent-%COMP%]{margin-bottom:4px}[_nghost-%COMP%]   .resource-pickers-container[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .resource-pickers-container[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     .popout-button[disabled] .tri-dropdown-trigger-container{color:var(--colorNeutralForegroundDisabled)}[_nghost-%COMP%]     tri-status-indicator .status-indicator{align-items:baseline;margin-top:4px}  .azure-connection-configuration-dropdown-search-box{width:100%}"],changeDetection:0}),i}();function zo(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",1),e.\u0275\u0275elementContainerEnd())}function Ao(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div")(2,"div",7)(3,"div",8),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementStart(9,"tri-link",9),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(12,"tri-workspace-settings-azure-connections-configuration",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=r.$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,6,n.headerText)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(8,8,n.headerSubText)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("href",n.learnMoreLink)("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,10,n.headerLearnMoreText)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("resourceConnector",n)}}function Ro(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",2)(2,"div",3),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",5),e.\u0275\u0275template(9,Ao,13,12,"ng-container",6),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,3,"Azure_Connections")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,5,"Azure_Connections_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(10,7,n.resourceConnectorArray$))}}var dr=function(){function i(r){var n,t=this;this.workspaceSettingsService=r,this.resourceConnectors=((n={})[pt.AdlsStorage]={resourceType:pt.AdlsStorage,headerSubText:"BYOResources_Workspace_AdlsStorage_Description",headerText:"Trident_Workspace_Settings_ADLS_header",headerLearnMoreText:"Trident_Workspace_Settings_Learn_More_ADLS",resourceLabel:"Trident_Workspace_Settings_Storage_Account",resourcePickerPlaceholder:"Trident_Workspace_Settings_Select_Storage",collapsibeSectionHeader:"AdminPortal_BYOTenantStorage_Description",icon:{name:"plug_connected_20_regular"},forPremiumOnly:!1,canSelectTenantResource:!0,learnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128745",featureFlagToAllowResource:"storageAccountAttachForWorkspaceAdminsEnabled",notAllowedWarningMessage:"Warning_BYOSA_Workspace_Not_Enabled",notAllowedLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128134",noSubscriptionsMessage:"Error_No_Azure_Subscriptions_Access",noSubscriptionLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128263",noResourceGroupMessage:"Error_No_Storage_Account_Access",noResourceGroupLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128132",disconnectionPromptMessage:"AdminPortal_DatapoolSettings_DialogWarningNote1"},n[pt.LogAnalytics]={resourceType:pt.LogAnalytics,headerSubText:"BYOResources_Workspace_LogAnalytics_Description",headerText:"Trident_Workspace_Settings_Log_Analytics_Header",headerLearnMoreText:"Trident_Workspace_Settings_Learn_More_Log_Analytics",resourceLabel:"BYOResources_Connect_LogAnalytics",resourcePickerPlaceholder:"Trident_Workspace_Settings_Select_Log_Analytics",collapsibeSectionHeader:"Trident_Workspace_Settings_Configure_Log_Analytics",icon:{name:"plug_connected_20_regular"},learnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128746",forPremiumOnly:!0,canSelectTenantResource:!1,featureFlagToAllowResource:"logAnalyticsAttachForWorkspaceAdminsEnabled",notAllowedWarningMessage:"Warning_BYOLA_Workspace_Not_Enabled",notAllowedLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128744",noSubscriptionsMessage:"Error_No_Azure_Subscriptions_Access",noSubscriptionLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128742",noResourceGroupMessage:"Error_No_Log_Analytics_Workspace_Access",noResourceGroupLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128743",disconnectionPromptMessage:"BYOResources_Workspace_Disconnect_LogAnalytics_Description"},n),this.resourceConnectorArray$=new W.X([]),this.initialized$=this.workspaceSettingsService.azureConnectionsInitialized$,this.initialized$.subscribe(function(o){if(o){var a=t.workspaceSettingsService.isPremium;t.resourceConnectorArray$.next(Object.values(t.resourceConnectors).filter(function(l){return!l.forPremiumOnly||a}))}})}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-azure-connections-v2"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:4,vars:6,consts:[[4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center"],[1,"tab-title"],[1,"tri-title3"],[1,"tri-body1"],[1,"section-container"],[4,"ngFor","ngForOf"],[1,"section-title"],[1,"tri-subtitle2"],["target","_blank","rel","noopener noreferrer",3,"href","external"],[3,"resourceConnector"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,zo,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,Ro,11,9,"ng-container",0),e.\u0275\u0275pipe(3,"async")),2&n&&(e.\u0275\u0275property("ngIf",!0!==e.\u0275\u0275pipeBind1(1,2,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,4,t.initialized$)))},dependencies:[g.NgIf,g.NgFor,g.AsyncPipe,M.Y,k.Y,H.d,He.D,L.m,O.v,Go],encapsulation:2,changeDetection:0}),i}(),pr=u(70032),Fo=new e.InjectionToken("ClipboardWriteFunc"),le=function(i){return i.PowerBIPro="PowerBIPro",i.TridentPremiumPerUser="TridentPremiumPerUser",i.TridentPremiumPerCapacity="TridentPremiumPerCapacity",i.Embedded="Embedded",i.DataCapacity="DataCapacity",i.DataCapacityTrial="DataCapacityTrial",i.Unknown="Unknown",i}({}),Nt=function(i){return i.None="None",i.SmallDataset="SmallDataset",i.LargeDataset="LargeDataset",i}({});function An(i){switch(i){case 1:return le.TridentPremiumPerCapacity;case 4:return le.TridentPremiumPerUser;case 3:case 2:return le.Embedded;case 8:case 9:return le.DataCapacity;case 7:return le.DataCapacityTrial;default:return le.PowerBIPro}}function ur(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function gr(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",17),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,ur,1,0,"ng-container",19),e.\u0275\u0275elementEnd()),2&i){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(17);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"Trident_Workspace_Settings_License_Capacity")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",n)}}function Lo(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",17),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",18),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"GroupEditor_StorageFormat"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",n.defaultStorageFormat===n.StorageFormat.SmallDataset?e.\u0275\u0275pipeBind1(6,4,"GroupEditor_StorageFormat_Small"):e.\u0275\u0275pipeBind1(7,6,"GroupEditor_StorageFormat_Large")," ")}}function Wo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",12)(1,"div",13)(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.editConfiguration())}),e.\u0275\u0275element(6,"tri-svg-icon",15),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",16)(10,"div")(11,"div",17),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",18),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(16,gr,5,4,"div",5),e.\u0275\u0275template(17,Lo,8,8,"div",5),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,6,"License_Configuration"),""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,8,"Edit")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,10,"Current_License"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.getLicenseModeLocString(t.licenseMode)," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==t.selectedCapacity?null:t.selectedCapacity.name)||(null==t.selectedCapacity?null:t.selectedCapacity.sku)||(null==t.selectedCapacity?null:t.selectedCapacity.region)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isMyWorkspace&&!!t.selectedCapacity)}}function Aa(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function No(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function _i(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Applying")))}function vi(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Select_License")))}var mr=function(r){return{"is-disabled":r}};function $o(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",12)(1,"div",20),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",16),e.\u0275\u0275template(5,Aa,1,0,"ng-container",19),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",21)(7,"button",22),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.clickSelectLicense())}),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275template(12,No,1,0,"tri-spinner",5),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275template(14,_i,3,3,"ng-container",5),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275template(16,vi,3,3,"ng-container",5),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"button",23),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.clickCancel())}),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275pipe(20,"async"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(9);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,10,"License_Configuration")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",o),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!0!==e.\u0275\u0275pipeBind1(8,12,t.canSaveCapacity$)||e.\u0275\u0275pipeBind1(9,14,t.saveInProgress$))("ngClass",e.\u0275\u0275pureFunction1(32,mr,!0!==e.\u0275\u0275pipeBind1(10,16,t.canSaveCapacity$)||e.\u0275\u0275pipeBind1(11,18,t.saveInProgress$))),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(13,20,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(15,22,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0!==e.\u0275\u0275pipeBind1(17,24,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(19,26,t.saveInProgress$))("ngClass",e.\u0275\u0275pureFunction1(34,mr,e.\u0275\u0275pipeBind1(20,28,t.saveInProgress$))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(22,30,"Cancel_ButtonText"))}}function Uo(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",33)(1,"span",34),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"Trident_Workspace_Settings_Copied_Connection")))}function Vo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",24)(2,"div",25)(3,"div",26),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",27),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",28)(10,"div",29),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.copyConnectionLink())})("mouseover",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.mouseOverCopy())})("mouseout",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.mouseOutCopy())}),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275element(14,"tri-svg-icon",31),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(15,Uo,4,3,"div",32),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,7,"Connection_Link")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,9,"Connection_Link_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("triTooltip",t.connectionLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.connectionLink),e.\u0275\u0275advance(1),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(13,11,"Copy_Connection_Link_Label")),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.connectLinkCopyIconName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(16,13,t.isShowConnectLinkCopied$))}}function jo(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",47),2&i){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(11);e.\u0275\u0275property("triTooltip",n)}}function Ho(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",53),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.selectLicenseMode(a,l.LicenseMode.TridentPremiumPerUser))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"span",54),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",36)(5,"span"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementStart(8,"tri-link",55),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.TridentPremiumPerUser)("value",t.LicenseMode.TridentPremiumPerUser)("disabled",!t.licenseModeEnabled(t.LicenseMode.TridentPremiumPerUser)||e.\u0275\u0275pipeBind1(1,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.TridentPremiumPerUser)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,9,"Workspace_LicenseMode_PPU_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,11,"LearnMore")," ")}}function _r(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",56),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.selectLicenseMode(a,l.LicenseMode.DataCapacity))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"span",57),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",36)(5,"span"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementStart(8,"tri-link",58),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.DataCapacity)("value",t.LicenseMode.DataCapacity)("disabled",!t.licenseModeEnabled(t.LicenseMode.DataCapacity)||e.\u0275\u0275pipeBind1(1,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.DataCapacity)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,9,"CapacityHeader_FabricCapacity_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,11,"LearnMore")," ")}}function vr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",59),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.selectLicenseMode(a,l.LicenseMode.DataCapacityTrial))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"span",60),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",36)(5,"span"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementStart(8,"tri-link",61),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.DataCapacityTrial)("value",t.LicenseMode.DataCapacityTrial)("disabled",!t.licenseModeEnabled(t.LicenseMode.DataCapacityTrial)||e.\u0275\u0275pipeBind1(1,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.DataCapacityTrial)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,9,"Workspace_LicenseMode_Trial_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,11,"LearnMore")," ")}}function Ko(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",67),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.text," ")}}function Xo(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",68),e.\u0275\u0275element(1,"tri-svg-icon",69),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Workspace_LicenseMode_Select")," "))}var Ra=function(r,n,t){return{data:r,key:n,text:t}};function Qo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",62)(1,"div",25)(2,"div",18),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",36),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div")(9,"tri-dropdown",63),e.\u0275\u0275listener("valueChange",function(f){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(b.selectCapacity(f))}),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementStart(11,"tri-dropdown-trigger")(12,"div",64),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(15,Ko,2,2,"tri-dropdown-item",65),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,Xo,4,3,"div",66),e.\u0275\u0275elementEnd()()}if(2&i){var a,l,t=e.\u0275\u0275nextContext(2),o=e.\u0275\u0275reference(15);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,9,"Trident_Workspace_Settings_License_Capacity")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,11,"Trident_Workspace_Settings_License_Capacity_Description")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",e.\u0275\u0275pureFunction3(19,Ra,t.selectedCapacity,null!==(a=null==t.selectedCapacity?null:t.selectedCapacity.id)&&void 0!==a?a:"",(null==t.selectedCapacity?null:t.selectedCapacity.name)+" - "+(null==t.selectedCapacity?null:t.selectedCapacity.region)))("isDisabled",!t.isWorkspaceAdmin||null!==(l=e.\u0275\u0275pipeBind1(10,13,t.saveInProgress$))&&void 0!==l&&l),e.\u0275\u0275advance(3),e.\u0275\u0275property("triTooltip",o)("triTooltipDisabled",!t.selectedCapacity),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedCapacity?t.selectedCapacity.name+" - "+t.selectedCapacity.region:e.\u0275\u0275pipeBind1(14,15,"Workspace_LicenseMode_Select")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(16,17,t.currentCapacitiesDropdownOptions$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.selectedCapacity)}}function hi(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",70),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("viewModel",n.getNoPermissionsToCapacityMessageBarViewModel())}}function Yo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",72)(1,"div",25)(2,"div",18),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",36),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementStart(8,"tri-link",73),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(11,"tri-radio-group")(12,"tri-radio-button",74),e.\u0275\u0275listener("change",function(v){e.\u0275\u0275restoreView(n);var f=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(f.selectDefaultStorageFormat(v,f.StorageFormat.SmallDataset))}),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementStart(14,"span",75),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"tri-radio-button",76),e.\u0275\u0275listener("change",function(v){e.\u0275\u0275restoreView(n);var f=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(f.selectDefaultStorageFormat(v,f.StorageFormat.LargeDataset))}),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275elementStart(20,"span",77),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var o,a,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,12,"GroupEditor_StorageFormat")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,14,"Workspace_LicenseMode_Edit_StorageFormat_Prompt")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,16,"LearnMore")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("checked",t.defaultStorageFormat===t.StorageFormat.SmallDataset)("value",t.StorageFormat.SmallDataset)("disabled",!t.isWorkspaceAdmin||null!==(o=e.\u0275\u0275pipeBind1(13,18,t.saveInProgress$))&&void 0!==o&&o),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(16,20,"GroupEditor_StorageFormat_Small")),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.defaultStorageFormat===t.StorageFormat.LargeDataset)("value",t.StorageFormat.LargeDataset)("disabled",!t.isWorkspaceAdmin||!0!==e.\u0275\u0275pipeBind1(18,22,t.allowLargeDataset$)||null!==(a=e.\u0275\u0275pipeBind1(19,24,t.saveInProgress$))&&void 0!==a&&a),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(22,26,"GroupEditor_StorageFormat_Large"))}}function Zo(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Yo,23,28,"div",71),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!n.selectedCapacity&&void 0!==e.\u0275\u0275pipeBind1(2,1,n.allowLargeDataset$))}}function hr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",35)(1,"div",25)(2,"div",18),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",36),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"tri-radio-group")(9,"tri-radio-button",37),e.\u0275\u0275listener("change",function(f){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(b.selectLicenseMode(f,b.LicenseMode.PowerBIPro))}),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementStart(11,"span",38),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,jo,1,1,"tri-svg-icon",39),e.\u0275\u0275elementStart(14,"div",36)(15,"span"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementStart(18,"tri-link",40),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(21,Ho,11,13,"tri-radio-button",41),e.\u0275\u0275elementStart(22,"tri-radio-button",42),e.\u0275\u0275listener("change",function(f){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(b.selectLicenseMode(f,b.LicenseMode.TridentPremiumPerCapacity))}),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275elementStart(24,"span",43),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",36)(27,"span"),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementStart(30,"tri-link",44),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(33,"tri-radio-button",45),e.\u0275\u0275listener("change",function(f){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(b.selectLicenseMode(f,b.LicenseMode.Embedded))}),e.\u0275\u0275pipe(34,"async"),e.\u0275\u0275elementStart(35,"span",46),e.\u0275\u0275text(36),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(37,"tri-svg-icon",47),e.\u0275\u0275elementStart(38,"div",36)(39,"span"),e.\u0275\u0275text(40),e.\u0275\u0275pipe(41,"localize"),e.\u0275\u0275elementStart(42,"tri-link",48),e.\u0275\u0275text(43),e.\u0275\u0275pipe(44,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(45,_r,11,13,"tri-radio-button",49),e.\u0275\u0275template(46,vr,11,13,"tri-radio-button",50),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(47,Qo,18,23,"div",51),e.\u0275\u0275pipe(48,"async"),e.\u0275\u0275template(49,hi,1,1,"tri-message-bar",52),e.\u0275\u0275template(50,Zo,3,3,"ng-container",5)}if(2&i){var l,t=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(13),a=e.\u0275\u0275reference(19);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,32,"Workspace_LicenseMode")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,34,"Workspace_LicenseMode_Select_Prompt")),e.\u0275\u0275advance(3),e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.PowerBIPro)("value",t.LicenseMode.PowerBIPro)("disabled",e.\u0275\u0275pipeBind1(10,36,t.saveInProgress$)||!t.isWorkspaceAdmin||t.isMyWorkspace&&t.restrictMyFolderCapacityEnabled),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.PowerBIPro)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isMyWorkspace),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(17,38,"Workspace_LicenseMode_Pro_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(20,40,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(t.flagTridentUIHidePPU||t.isMyWorkspace&&!t.isShowPPUForMyWorkspace)),e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.TridentPremiumPerCapacity)("value",t.LicenseMode.TridentPremiumPerCapacity)("disabled",!t.licenseModeEnabled(t.LicenseMode.TridentPremiumPerCapacity)||e.\u0275\u0275pipeBind1(23,42,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.TridentPremiumPerCapacity)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(29,44,"Workspace_LicenseMode_PPC_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(32,46,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.Embedded)("value",t.LicenseMode.Embedded)("disabled",!t.licenseModeEnabled(t.LicenseMode.Embedded)||e.\u0275\u0275pipeBind1(34,48,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.Embedded)),e.\u0275\u0275advance(1),e.\u0275\u0275property("triTooltip",o),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(41,50,"Workspace_LicenseMode_Embedded_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(44,52,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isShowDataCapacityLicense||t.licenseMode===t.LicenseMode.DataCapacity),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isShowDataCapacityTrialLicense||t.licenseMode===t.LicenseMode.DataCapacityTrial),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.licenseMode!==t.LicenseMode.TridentPremiumPerUser&&t.licenseMode!==t.LicenseMode.DataCapacityTrial&&null!==(l=null==(l=e.\u0275\u0275pipeBind1(48,54,t.currentCapacities$))?null:l.length)&&void 0!==l&&l)("ngIfElse",a),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==t.selectedCapacity?null:t.selectedCapacity.unavailableToUser),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isMyWorkspace)}}function fr(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",78),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"tri-link",79),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"Workspace_LicenseMode_Pro_Information")," \xa0 "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,5,"Generic_LearnMore")," "))}function Jo(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",78),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"tri-link",80),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"Workspace_LicenseMode_Embedded_Information")," \xa0 "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,5,"Generic_LearnMore")," "))}function qo(i,r){if(1&i&&e.\u0275\u0275text(0),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1(" ",(null==n.selectedCapacity?null:n.selectedCapacity.name)+" - "+(null==n.selectedCapacity?null:n.selectedCapacity.region),"\n")}}function Fa(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",83),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==n.selectedCapacity?null:n.selectedCapacity.name)}}function ea(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",84),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.getCapacityRegionString(),"")}}function fi(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Fa,2,1,"div",81),e.\u0275\u0275template(2,ea,2,1,"div",82),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==n.selectedCapacity?null:n.selectedCapacity.name),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==n.selectedCapacity?null:n.selectedCapacity.sku)||(null==n.selectedCapacity?null:n.selectedCapacity.region))}}function ta(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function na(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",86)(1,"div",18),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,ta,1,0,"ng-container",19),e.\u0275\u0275elementEnd()),2&i){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(17);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Workspace_Settings_License_Capacity")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",n)}}function ia(i,r){if(1&i&&e.\u0275\u0275template(0,na,5,4,"div",85),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",(null==n.selectedCapacity?null:n.selectedCapacity.name)||(null==n.selectedCapacity?null:n.selectedCapacity.sku)||(null==n.selectedCapacity?null:n.selectedCapacity.region))}}var Ci,Si,yi,bi,Rn,wi,ki,Ii,xi,Mi,Pi,Cr,Fn,Ln,Ti,Kt,Wn,Oi,Ei,Di,Nn,ra=function(){function i(r,n,t,o,a,l){this.workspaceSettingsService=r,this.isTrident=n,this.clipboardWriteFunc=t,this.triLocalizationService=o,this.telemetryService=a,this.changeDetectorRef=l,this.updateResMsg$=(0,be.of)(""),this.licenseMode=le.PowerBIPro,this.previousLicenseMode="",this.currentCapacities$=new W.X([]),this.defaultStorageFormat=Nt.SmallDataset,this.capacitiesMapByLicenseMode={},this.allowLargeDataset$=new W.X(void 0),this.configurationContent$=new W.X(vt.EditConfiguration),this.flagTridentUIHidePPU=!1,this.isShowPPUForMyWorkspace=this.workspaceSettingsService.showPPUForMyWorkspace,this.isShowDataCapacityLicense=this.workspaceSettingsService.showDCCapacityOptions()&&!!this.isTrident,this.isShowDataCapacityTrialLicense=this.workspaceSettingsService.getShowDataCapacityTrialEnabled()&&!!this.isTrident,this.restrictMyFolderCapacityEnabled=!1,this.LicenseMode=le,this.StorageFormat=Nt,this.ConfigurationContentType=vt,this.connectionLink="",this.isShowConnectLinkCopied$=new W.X(!1),this.connectLinkCopyIconName="copy_20_regular",this.destroy$=new dt.xQ}return Object.defineProperty(i.prototype,"isShowConnectionLink",{get:function(){return!this.isMyWorkspace&&this.licenseMode!==le.PowerBIPro},enumerable:!1,configurable:!0}),i.prototype.ngOnInit=function(){var r=this;this.capacitiesMapByLicenseMode=this.createCapacitiesMapByLicenseMode(),this.setInitialLicenseMode(),this.currentCapacitiesDropdownOptions$=this.currentCapacities$.pipe((0,ge.U)(function(n){return n.map(function(t){return{data:t,key:t.id,text:t.name+" - "+t.region}})})),this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.isMyWorkspace=this.workspaceSettingsService.isMyWorkspace,this.saveInProgress$=this.workspaceSettingsService.capacitySaveInProgress$,this.canSaveCapacity$=this.workspaceSettingsService.canSaveCapacitySelection$,this.restrictMyFolderCapacityEnabled=this.workspaceSettingsService.getFeatureSwitchState("restrictMyFolderCapacityEnabled"),this.connectionLink=this.workspaceSettingsService.workspaceConnectionString,(0,je.aj)([this.updateResMsg$.pipe((0,sr.O)("")),this.saveInProgress$]).pipe((0,Re.R)(this.destroy$)).subscribe(function(n){n[1]||(n[0]?(r.resetConfiguration(),r.configurationContent$.next(vt.EditConfiguration)):r.configurationContent$.next(vt.ShowConfiguration))}),this.isShowConnectLinkCopied$.pipe((0,Me.h)(function(n){return!!n}),(0,pr.g)(6e3)).subscribe(function(){return r.isShowConnectLinkCopied$.next(!1)})},i.prototype.ngOnDestroy=function(){var n,r=this;this.workspaceSettingsService.clearAllErrorMessages(),null===(n=this.saveInProgress$)||void 0===n||n.pipe((0,ye.q)(1)).subscribe(function(t){t||r.workspaceSettingsService.resetCapacitySelection()}),this.destroy$.next(),this.destroy$.complete()},i.prototype.editConfiguration=function(){this.configurationContent$.next(vt.EditConfiguration)},i.prototype.selectLicenseMode=function(r,n){r&&(this.previousLicenseMode=this.licenseMode,this.licenseMode=n,this.currentCapacities$.next(this.capacitiesMapByLicenseMode[this.licenseMode]),this.licenseMode===le.TridentPremiumPerUser||this.licenseMode===le.DataCapacityTrial?(this.selectedCapacity=this.capacitiesMapByLicenseMode[this.licenseMode][0],this.updateWithPremiumFilesAvailablity()):(this.selectedCapacity=void 0,void 0===this.workspaceSettingsService.selectedCapacity&&this.workspaceSettingsService.disableCanSaveCapacitySelection()),this.workspaceSettingsService.selectedCapacity=this.selectedCapacity,this.licenseMode===le.PowerBIPro&&(this.defaultStorageFormat=Nt.SmallDataset,this.workspaceSettingsService.defaultStorageFormat=this.defaultStorageFormat))},i.prototype.selectCapacity=function(r){this.selectedCapacity=r.data,this.updateWithPremiumFilesAvailablity(),this.workspaceSettingsService.selectedCapacity=this.selectedCapacity},i.prototype.selectDefaultStorageFormat=function(r,n){r&&(this.defaultStorageFormat=n,this.workspaceSettingsService.defaultStorageFormat=this.defaultStorageFormat)},i.prototype.clickSelectLicense=function(){var r="";(this.previousLicenseMode===le.PowerBIPro&&(this.licenseMode===le.TridentPremiumPerUser||this.licenseMode===le.TridentPremiumPerCapacity)||this.previousLicenseMode===le.TridentPremiumPerUser&&this.licenseMode===le.TridentPremiumPerCapacity)&&(r="".concat((0,en.Z)(),".").concat((0,en.Z)()),this.telemetryService.logEvent("Upgrade license mode from ".concat(this.previousLicenseMode," to ").concat(this.licenseMode),{fromLicenseMode:this.previousLicenseMode,toLicenseMode:this.licenseMode},"Pending",(new Date).toISOString(),r)),this.workspaceSettingsService.saveCapacitySelection(r)},i.prototype.clickCancel=function(){this.resetConfiguration(),this.configurationContent$.next(vt.ShowConfiguration)},i.prototype.licenseModeEnabled=function(r){return r===le.PowerBIPro||!(r===le.TridentPremiumPerUser&&!this.workspaceSettingsService.isPPUTierAvialbleToUser())&&this.capacitiesMapByLicenseMode[r].length>0},i.prototype.getLicenseModeLocString=function(r){switch(r){case le.PowerBIPro:return this.triLocalizationService.get("Trident_Workspace_Settings_License_Pro");case le.TridentPremiumPerUser:return this.triLocalizationService.get("Workspace_LicenseMode_PPU");case le.TridentPremiumPerCapacity:return this.triLocalizationService.get("Capacity_PremiumCapacity");case le.Embedded:return this.triLocalizationService.get("Workspace_LicenseMode_Embedded");case le.DataCapacity:return this.triLocalizationService.get("CapacityHeader_FabricCapacity");case le.DataCapacityTrial:return this.triLocalizationService.get("CapacityHeader_TrialCapacity");case le.Unknown:return this.triLocalizationService.get("Unknown")}},i.prototype.getCapacityRegionString=function(){var r,n,t,o;return null!==(r=this.selectedCapacity)&&void 0!==r&&r.sku&&null!==(n=this.selectedCapacity)&&void 0!==n&&n.region?this.triLocalizationService.format("CapacitySetting_SKU_And_Region",this.selectedCapacity.sku,this.selectedCapacity.region):null!==(t=this.selectedCapacity)&&void 0!==t&&t.sku?this.triLocalizationService.format("CapacitySetting_SKU",this.selectedCapacity.sku):null!==(o=this.selectedCapacity)&&void 0!==o&&o.region?this.triLocalizationService.format("CapacitySetting_Region",this.selectedCapacity.region):""},i.prototype.getNoPermissionsToCapacityMessageBarViewModel=function(){return{bannerType:0,isRoundedCorners:!0,allowDismiss:!1,message:this.triLocalizationService.get("Trident_Workspace_Settings_Capacity_No_Access")}},i.prototype.resetConfiguration=function(){this.workspaceSettingsService.resetCapacitySelection(),this.setInitialLicenseMode()},i.prototype.setInitialLicenseMode=function(){var n,r=this;this.selectedCapacity=this.workspaceSettingsService.selectedCapacity,this.selectedCapacity?this.selectedCapacity.unavailableToUser?this.licenseMode=null!=this.selectedCapacity.capacitySkuTier?An(this.selectedCapacity.capacitySkuTier):le.Unknown:(this.licenseMode=An(this.selectedCapacity.capacitySkuTier),this.selectedCapacity=null===(n=this.capacitiesMapByLicenseMode[this.licenseMode])||void 0===n?void 0:n.find(function(t){var o;return t.id===(null===(o=r.selectedCapacity)||void 0===o?void 0:o.id)})):this.licenseMode=le.PowerBIPro,this.currentCapacities$.next(this.capacitiesMapByLicenseMode[this.licenseMode]),this.updateWithPremiumFilesAvailablity()},i.prototype.createCapacitiesMapByLicenseMode=function(){var r,n=((r={})[le.Unknown]=[],r[le.PowerBIPro]=[],r[le.TridentPremiumPerUser]=[],r[le.TridentPremiumPerCapacity]=[],r[le.Embedded]=[],r[le.DataCapacity]=[],r[le.DataCapacityTrial]=[],r);return this.workspaceSettingsService.allCapacities.forEach(function(t){var o=An(t.capacitySkuTier);o!==le.PowerBIPro&&n[o].push(t)}),n},i.prototype.updateWithPremiumFilesAvailablity=function(){var r=this;this.selectedCapacity&&!this.selectedCapacity.unavailableToUser?this.workspaceSettingsService.checkPremiumFilesEnabled(this.selectedCapacity.id).then(function(n){r.allowLargeDataset$.next(n),r.defaultStorageFormat=r.workspaceSettingsService.defaultStorageFormat,r.changeDetectorRef.markForCheck()}):(this.defaultStorageFormat=this.workspaceSettingsService.defaultStorageFormat,this.allowLargeDataset$.next(!1),this.changeDetectorRef.markForCheck())},i.prototype.copyConnectionLink=function(){this.clipboardWriteFunc(this.connectionLink),this.isShowConnectLinkCopied$.next(!0)},i.prototype.mouseOverCopy=function(){this.connectLinkCopyIconName="copy_20_filled"},i.prototype.mouseOutCopy=function(){this.connectLinkCopyIconName="copy_20_regular"},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(sn.Y),e.\u0275\u0275directiveInject(Fo),e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(jt),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-premium-configuration"]],inputs:{updateResMsg$:"updateResMsg$"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:20,vars:6,consts:[[1,"configuration-container","tri-flex","tri-flex-row"],[1,"anchor-icon"],["name","premium_20_regular"],[3,"ngSwitch"],["class","container-right-part tri-flex-auto",4,"ngSwitchCase"],[4,"ngIf"],["editConfigurationContent",""],["myWorkspaceProInfoTip",""],["embeddedInfoTip",""],["selectedCapacityString",""],["staticLicenseCapacityContent",""],["staticLicenseCapacity",""],[1,"container-right-part","tri-flex-auto"],[1,"summary-title","title","tri-body1"],["tri-button","","appearance","subtle","size","small",3,"click"],["name","edit_20_regular"],[1,"content"],[1,"grey-text","tri-caption2"],[1,"tri-body1-strong"],[4,"ngTemplateOutlet"],[1,"title","tri-body1-strong"],[1,"footer"],["tri-button","","appearance","primary",3,"disabled","ngClass","click"],["tri-button","",3,"disabled","ngClass","click"],[1,"tri-relative","connection-link"],[1,"section-title"],[1,"tri-subtitle2"],[1,"tri-body1"],[1,"connection-container","tri-flex"],["disabled","",1,"connection-string","tri-body1","tri-flex-grow",3,"triTooltip"],["tri-button","","appearance","subtle",1,"copy-connection-button",3,"click","mouseover","mouseout"],[1,"copy-connection-icon",3,"name"],["class","link-copied-tip","role","alert",4,"ngIf"],["role","alert",1,"link-copied-tip"],[1,"connection-copied-message"],[1,"license-radio-group"],[1,"tri-caption1"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-pro",3,"checked","value","disabled","change"],["id","workspace-license-mode-pro",1,"tri-body1-strong"],["name","info_20_regular","class","tooltip-info-button","tabindex","-1",3,"triTooltip",4,"ngIf"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227278","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-premium-per-user",3,"checked","value","disabled","change",4,"ngIf"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-premium-per-capacity",3,"checked","value","disabled","change"],["id","workspace-license-mode-premium-per-capacity",1,"tri-body1-strong"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227277","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-embedded",3,"checked","value","disabled","change"],["id","workspace-license-mode-embedded",1,"tri-body1-strong"],["name","info_20_regular","tabindex","-1",1,"tooltip-info-button",3,"triTooltip"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227525","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity",3,"checked","value","disabled","change",4,"ngIf"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity-trial",3,"checked","value","disabled","change",4,"ngIf"],["class","license-capacity-group",4,"ngIf","ngIfElse"],[3,"viewModel",4,"ngIf"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-premium-per-user",3,"checked","value","disabled","change"],["id","workspace-license-mode-premium-per-user",1,"tri-body1-strong"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227449","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity",3,"checked","value","disabled","change"],["id","workspace-license-mode-data-capacity",1,"tri-body1-strong"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227397","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity-trial",3,"checked","value","disabled","change"],["id","workspace-license-mode-data-capacity-trial",1,"tri-body1-strong"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227617","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],[1,"license-capacity-group"],[3,"value","isDisabled","valueChange"],[1,"tri-body1",3,"triTooltip","triTooltipDisabled"],[3,"value",4,"ngFor","ngForOf"],["class","tri-flex error-message-container",4,"ngIf"],[3,"value"],[1,"tri-flex","error-message-container"],["name","error_circle_12_filled",1,"error-message-icon"],[3,"viewModel"],["class","default-storage-format",4,"ngIf"],[1,"default-storage-format"],["target","_blank","href","https://docs.microsoft.com/en-us/power-bi/enterprise/service-premium-large-models#enable-large-models","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","defaultStorageFormat","type","radio","aria-labelledby","workspace-default-storage-small-dataset",3,"checked","value","disabled","change"],["id","workspace-default-storage-small-dataset",1,"tri-body1"],["name","defaultStorageFormat","type","radio","aria-labelledby","workspace-default-storage-large-dataset",3,"checked","value","disabled","change"],["id","workspace-default-storage-large-dataset",1,"tri-body1"],[1,"info-tip-content"],["href","https://go.microsoft.com/fwlink/?linkid=2218869","target","_blank","rel","noopener noreferrer",3,"external"],["href","https://go.microsoft.com/fwlink/?linkid=2159726","target","_blank","rel","noopener noreferrer",3,"external"],["class","tri-caption1-strong",4,"ngIf"],["class","tri-caption1 grey-text",4,"ngIf"],[1,"tri-caption1-strong"],[1,"tri-caption1","grey-text"],["class","section-title  no-margin-section-title",4,"ngIf"],[1,"section-title","no-margin-section-title"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"tri-svg-icon",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerStart(3,3),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,Wo,18,12,"div",4),e.\u0275\u0275template(6,$o,23,36,"div",4),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,Vo,17,15,"ng-container",5),e.\u0275\u0275template(8,hr,51,56,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(10,fr,6,7,"ng-template",null,7,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(12,Jo,6,7,"ng-template",null,8,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(14,qo,1,1,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(16,fi,3,2,"ng-template",null,10,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(18,ia,1,1,"ng-template",null,11,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("ngSwitch",e.\u0275\u0275pipeBind1(4,4,t.configurationContent$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitchCase",t.ConfigurationContentType.ShowConfiguration),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ConfigurationContentType.EditConfiguration),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isShowConnectionLink))},dependencies:[g.NgIf,g.NgFor,g.NgClass,g.NgSwitch,g.NgSwitchCase,g.NgTemplateOutlet,g.AsyncPipe,M.Y,k.Y,H.d,He.D,ve.I,it.h,w.lK,Mt.M3,Ht.l,tn.q,Mt.ii,q.W,E.Y,B.Z,F.T6,T.M,h.w,xt.Z,L.m,O.v],styles:["[_nghost-%COMP%]   .license-radio-group[_ngcontent-%COMP%]     .tri-radio-button-internal section{align-items:start}[_nghost-%COMP%]   .license-radio-group[_ngcontent-%COMP%]     .tri-radio-button-internal section tri-link>a{display:inline-flex}[_nghost-%COMP%]   .license-radio-group[_ngcontent-%COMP%]     .tri-radio-button-internal section tri-link>a tri-svg-icon{width:16px}[_nghost-%COMP%]   .license-radio-group[_ngcontent-%COMP%]     .tri-radio-button-internal section .tooltip-info-button{height:12px;width:12px;fill:var(--colorNeutralForeground3);margin-left:8px;margin-bottom:4px}[_nghost-%COMP%]   .no-margin-section-title[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   .default-storage-format[_ngcontent-%COMP%]     .tri-radio-button-internal section{padding:6px,8px}[_nghost-%COMP%]   tri-dropdown[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .license-edit-prompt[_ngcontent-%COMP%]{margin-top:4px}[_nghost-%COMP%]   .grey-text[_ngcontent-%COMP%]{color:var(--colorNeutralForeground4)}[_nghost-%COMP%]   .connection-link[_ngcontent-%COMP%]{margin-top:32px}[_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]{border:1px solid var(--colorNeutralStroke1);box-sizing:border-box;border-radius:4px;height:32px;align-items:center;padding:0 12px}[_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]   .connection-string[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:hover   .copy-connection-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:focus   .copy-connection-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:active   .copy-connection-icon[_ngcontent-%COMP%]{fill:var(--colorBrandForeground1)}[_nghost-%COMP%]   .link-copied-tip[_ngcontent-%COMP%]{position:absolute;right:0;box-shadow:0 4px 8px 0 var(--globalColorBlackAlpha10);padding:6px 12px}[_nghost-%COMP%]   .link-copied-tip[_ngcontent-%COMP%]   .connection-copied-message[_ngcontent-%COMP%]{white-space:pre-wrap}"],changeDetection:0}),i}(),zt=function(i){return i.Pending="Pending",i.Approved="Approved",i.Rejected="Rejected",i.Disconnected="Disconnected",i}({}),Pt=function(i){return i.Provisioning="Provisioning",i.Updating="Updating",i.Succeeded="Succeeded",i.Deleting="Deleting",i.Failed="Failed",i}({}),un=function(i){return i.Name="Name",i.ProvisioningState="ProvisioningState",i.ApprovalState="ApprovalState",i}({}),oa=((Ci={}).AzureDatasource_CognitiveServices="account",Ci),Sr=((Si={}).AzureDatasource_AzureDatabaseForMariaDB="mariadbServer",Si),aa=((yi={}).AzureDatasource_AzureDatabaseForMySQL="mysqlServer",yi),sa=((bi={}).AzureDatasource_AzureDatabaseForPostgreSQL="postgresqlServer",bi),Bi=((Rn={}).AzureDatasource_AzureCosmosDBForMongoDB="MongoDB",Rn.AzureDatasource_AzureCosmosDBForNoSQL="Sql",Rn),Gi=((wi={}).AzureDatasource_AzureMonitorPrivateLinkScopes="azuremonitor",wi),yr=((ki={}).AzureDatasource_AzureKeyVault="vault",ki),br=((Ii={}).AzureDatasource_AzureDataExplorer_Kusto="kusto",Ii),ca=((xi={}).AzureDatasource_AzureMachineLearning="amlworkspace",xi),wr=((Mi={}).AzureDatasource_ApplicationGateway="appGwPublicFrontendIpIPv4",Mi),la=((Pi={}).AzureDatasource_PrivateLinkService="privateLinkServices",Pi),da=((Cr={}).AzureDatasource_MicrosoftPurview="account",Cr),kr=((Fn={}).AzureDatasource_AzureSearch="searchService",Fn),zi=((Ln={}).SqlAzureDbContentProvider_Title="sqlServer",Ln),Ai=((Ti={}).AzureDatasource_AzureSqlDatabase_ManagedInstance="managedInstance",Ti),Ir=((Kt={}).SettingsDataSource_SettingsDataSourceType_AzureBlob="blob",Kt.SettingsDataSource_SettingsDataSourceType_AzureDataLakeStorage="dfs",Kt.AzureDatasource_AzureFileStorage="file",Kt.AzureDatasource_AzureQueueStorage="queue",Kt.SettingsDataSource_SettingsDataSourceType_AzureTable="table",Kt.AzureDatasource_StaticWebsite="web",Kt),xr=((Wn={}).AzureDatasource_AzureSynapseAnalytics_SQL="sql",Wn.AzureDatasource_AzureSynapseAnalytics_Dev="dev",Wn.AzureDatasource_AzureSynapseAnalytics_SqlOnDemand="sqlOnDemand",Wn),pa=((Oi={}).AzureDatasource_AzureFunction="sites",Oi),Mr=((Ei={}).AzureDatasource_AzureDatabricks="databricks_ui_api",Ei),Pr=((Di={}).TridentStreaming_IoTHub="iotHub",Di),Tr=((Nn={}).AzureDatasource_EventHub="namespace",Nn);function Or(i,r){switch(i.toLowerCase()){case"Microsoft.CognitiveServices".toLowerCase():return oa;case"Microsoft.Databricks".toLowerCase():return Mr;case"Microsoft.DBforMariaDB".toLowerCase():return Sr;case"Microsoft.DBforMySQL".toLowerCase():return aa;case"Microsoft.DBforPostgreSQL".toLowerCase():return sa;case"Microsoft.DocumentDB".toLowerCase():return Bi;case"Microsoft.Insights".toLowerCase():return Gi;case"Microsoft.KeyVault".toLowerCase():return yr;case"Microsoft.Kusto".toLowerCase():return br;case"Microsoft.MachineLearningServices".toLowerCase():return ca;case"Microsoft.Network".toLowerCase():if(r.toLowerCase()==="applicationGateways".toLowerCase())return wr;if(r.toLowerCase()==="privateLinkServices".toLowerCase())return la;break;case"Microsoft.Purview".toLowerCase():return da;case"Microsoft.Search".toLowerCase():return kr;case"Microsoft.Sql".toLowerCase():if(r.toLowerCase()==="managedInstances".toLowerCase())return Ai;if(r.toLowerCase()==="servers".toLowerCase())return zi;break;case"Microsoft.Storage".toLowerCase():return Ir;case"Microsoft.Synapse".toLowerCase():return xr;case"Microsoft.Web".toLowerCase():return pa;case"Microsoft.EventHub".toLowerCase():return Tr;case"Microsoft.Devices".toLowerCase():return Pr;default:return null}return null}var Er=new RegExp("/subscriptions/(?<subscriptionId>[^/]+)/resourceGroups/(?<resourceGroupName>[^/]+)/providers/(?<provider>[^/]+)/(?<resourceType>[^/]+)/(?<resourceName>[^/]+)","i");function ua(i){switch(i){case"ManagedVNet_PrivateEndpointNotFound":case"ManagedVNet_InvalidPrivateEndpointName":case"ManagedVNet_InvalidPrivateEndpointResourceID":case"ManagedVNet_DuplicatePrivateEndpointName":case"ManagedVNet_DuplicatePrivateEndpointResourceID":case"ManagedVNet_WorkspaceOperationAlreadyInProgress":case"ManagedVNet_UnsupportedRegion":case"ManagedVNet_UnsupportedSku":case"ManagedVNet_WorkspaceLockInternalError":case"ManagedVNet_InvalidRequestMessage":case"ManagedVNet_NonCompliant":case"ManagedVNet_IncorrectType":return!0;default:return!1}}function Ri(i){return"PowerBICapacityFoldersMigrationVNetMigrationNotAllowedException"===i}function Dr(i){return"PowerBICapacityFoldersMigrationVNetMigrationNotAllowedException"===i?"https://go.microsoft.com/fwlink/?linkid=2257669":""}function ga(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",2),e.\u0275\u0275elementContainerEnd())}function La(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.dismissMessageBar())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getMessageBarViewModel(e.\u0275\u0275pipeBind1(1,1,t.messageBarModel$)))}}function Wa(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",4)(2,"div",5),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",6),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div"),e.\u0275\u0275element(9,"tri-workspace-settings-premium-configuration",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,3,"License_Info")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,5,"Premium_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("updateResMsg$",n.updateResMsg$)}}var Et,Fi=function(){function i(r,n){this.workspaceSettingsService=r,this.triLocalizationService=n,this.updateResMsg$=(0,be.of)(""),this.messageBarModel$=new W.X(void 0),this.destroy$=new dt.xQ}return i.prototype.ngOnInit=function(){var r=this;this.initialized$=this.workspaceSettingsService.capacitiesInitialized$,this.updateResMsg$=(0,In.T)(this.workspaceSettingsService.capacityUpdateErrorMessage$.pipe((0,Me.h)(function(n){return!!n})),this.workspaceSettingsService.capacityUpdateSuccess$.pipe((0,Me.h)(function(n){return!!n}),(0,ge.U)(function(){return""}))),(0,je.aj)([this.updateResMsg$,this.workspaceSettingsService.capacitySaveInProgress$]).pipe((0,Re.R)(this.destroy$),(0,Me.h)(function(n){return!n[1]}),(0,ge.U)(function(n){var t=n[0];return t?{id:(0,en.Z)(),bannerType:1,message:t}:{id:(0,en.Z)(),bannerType:3,message:r.triLocalizationService.get("Sharing_EditDashboardUsersSuccess")}})).subscribe(function(n){r.messageBarModel$.next(n)})},i.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},i.prototype.dismissMessageBar=function(){this.messageBarModel$.next(void 0)},i.prototype.getMessageBarViewModel=function(r){if(r){var o=r.message,a={id:r.id,bannerType:r.bannerType,allowDismiss:!0,isRoundedCorners:!0,message:o};if(o&&Ri(o)){var l=Dr(o),v=this.triLocalizationService.get("Workspace_PrivateEndpointsErrorMessage_".concat(o));l&&(a.link=l,a.linkDisplayName=this.triLocalizationService.get("LearnMore")),a.message=v}return a}},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(xe.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-premium-v2"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:6,vars:9,consts:[[4,"ngIf"],[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar"],[1,"tab-title"],[1,"tri-title3"],[1,"tri-body1"],[3,"updateResMsg$"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,ga,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,La,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,Wa,10,7,"ng-container",0),e.\u0275\u0275pipe(5,"async")),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,3,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,5,t.messageBarModel$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,7,t.initialized$)))},dependencies:[ra,M.Y,k.Y,H.d,He.D,ve.I,it.h,L.m,g.NgIf,g.AsyncPipe],encapsulation:2,changeDetection:0}),i}(),Br=function(){function i(){}return i.forRoot=function(r){return{ngModule:i,providers:[{provide:$e.X,useExisting:r.workspaceSettingsService}]}},i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule,Jt.AP,p.u5.withConfig({callSetDisabledState:"whenDisabledForLegacyCode"}),F.T6,M.Y,V.l,oe.wp,C.uw,H.d,ve.I,q.W,Q.B,he.Jy,h.w,w.lK,U.b,ie.F,Lr.OT,Te,Z,L.m,fn,X.t,Cn,or,dn,dr,Fi,ni]}),i}(),$n=function(i){return i.Origin="Origin",i.Strict="Strict",i}({}),Na=((Et={}).Image=wt.UpdateImage,Et.Name=wt.UpdateName,Et.Description=wt.UpdateDescription,Et.ContactList=wt.UpdateContracts,Et.OneDrive=wt.UpdateOneDrive,Et.AllowContributorApp="",Et.AllowWebModeling="",Et.DomainObjectId="",Et.DatasourceBindingSecurityMode="",Et),ma=u(41198),Gr=["imageFileInput"];function _a(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",5),e.\u0275\u0275elementContainerEnd())}function zr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",7),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var f=e.\u0275\u0275nextContext().index,b=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(b.dismissError(f))}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(),o=t.$implicit,a=t.index,l=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",l.getErrorMessageBarViewModel(o,a))}}function Ar(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,zr,1,1,"tri-message-bar",6),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var a,n=r.$implicit,t=r.index,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1===(null==(a=e.\u0275\u0275pipeBind1(2,1,o.apiErrorsDismissedIndices$))?null:a[t])&&n)}}function va(i,r){if(1&i&&(e.\u0275\u0275element(0,"img",31),e.\u0275\u0275pipe(1,"async")),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("src",e.\u0275\u0275pipeBind1(1,2,n.workspaceImgSrc$),e.\u0275\u0275sanitizeUrl),e.\u0275\u0275attribute("data-testid","workspace-settings-about-logo-img")}}function ha(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",32),2&i&&e.\u0275\u0275attribute("data-testid","workspace-settings-about-logo-default")}function fa(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",33),e.\u0275\u0275element(2,"tri-spinner"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275attribute("data-testid","workspace-settings-about-logo-img-loading"))}function $a(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",34),e.\u0275\u0275element(1,"tri-svg-icon",35),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,n.imageFileError$)," ")}}function Ua(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",36)}function Va(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",37),e.\u0275\u0275element(1,"tri-svg-icon",35),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"NotAvailable_PleaseEdit_Text")," "))}function s(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",37),e.\u0275\u0275element(1,"tri-svg-icon",35),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Validation_Empty")," "))}function c(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",36)}function d(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"trident-domains-dropdown",38),e.\u0275\u0275listener("domainSelected",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onDomainSelected(a))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("selectedDomainObjectId",t.getSelectedDomain())("shouldBeDisabled",e.\u0275\u0275pipeBind1(1,3,t.autoSaveInProgress.DomainObjectId)||!t.isWorkspaceAdmin)("showSpinner",!!e.\u0275\u0275pipeBind1(2,5,t.autoSaveInProgress.DomainObjectId))}}function m(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function I(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",36)}function P(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function A(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",36)}var R=function(r){return{"no-image":r}},G=function(r){return{$implicit:r}};function $(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"label",8),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",9)(5,"div",10),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275template(7,va,2,4,"img",11),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275template(9,ha,1,1,"tri-svg-icon",12),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275template(11,fa,3,1,"ng-container",0),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",13)(14,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onUploadClick())}),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275element(17,"tri-svg-icon",15),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onResetImage())}),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275element(25,"tri-svg-icon",16),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(28,$a,4,3,"div",17),e.\u0275\u0275pipe(29,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"div",18)(31,"label",19),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"div",20)(35,"input",21),e.\u0275\u0275listener("blur",function(z){e.\u0275\u0275restoreView(n);var te=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(te.onNameUpdated(z))})("keyup",function(z){e.\u0275\u0275restoreView(n);var te=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(te.validateName(z))}),e.\u0275\u0275pipe(36,"async"),e.\u0275\u0275pipe(37,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(38,Ua,1,0,"tri-spinner",22),e.\u0275\u0275pipe(39,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(40,Va,4,3,"div",23),e.\u0275\u0275pipe(41,"async"),e.\u0275\u0275template(42,s,4,3,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"div",18)(44,"label",24),e.\u0275\u0275text(45),e.\u0275\u0275pipe(46,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"div",20)(48,"textarea",25),e.\u0275\u0275listener("blur",function(z){e.\u0275\u0275restoreView(n);var te=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(te.onDescriptionUpdated(z))}),e.\u0275\u0275pipe(49,"async"),e.\u0275\u0275pipe(50,"localize"),e.\u0275\u0275pipe(51,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(52,c,1,0,"tri-spinner",22),e.\u0275\u0275pipe(53,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(54,d,3,7,"trident-domains-dropdown",26),e.\u0275\u0275elementStart(55,"div",27)(56,"label",28),e.\u0275\u0275text(57),e.\u0275\u0275pipe(58,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(59,"div",20),e.\u0275\u0275template(60,m,1,0,"ng-container",29),e.\u0275\u0275template(61,I,1,0,"tri-spinner",22),e.\u0275\u0275pipe(62,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(63,"div",27)(64,"label",30),e.\u0275\u0275text(65),e.\u0275\u0275pipe(66,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(67,"div",20),e.\u0275\u0275template(68,P,1,0,"ng-container",29),e.\u0275\u0275template(69,A,1,0,"tri-spinner",22),e.\u0275\u0275pipe(70,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var a,l,v,f,t=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(9);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,40,"WorkspaceImage")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(96,R,!(null!=(a=e.\u0275\u0275pipeBind1(6,42,t.workspaceImgSrc$))&&a.length))),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(8,44,t.workspaceImgSrc$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(null!=(l=e.\u0275\u0275pipeBind1(10,46,t.workspaceImgSrc$))&&l.length)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(12,48,t.autoSaveInProgress.Image)),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("is-disabled",e.\u0275\u0275pipeBind1(15,50,t.autoSaveInProgress.Image)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(16,52,t.autoSaveInProgress.Image)||!t.isWorkspaceAdmin),e.\u0275\u0275attribute("data-testid","workspace-settings-about-upload-btn"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(19,54,"Upload")," "),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("is-disabled",!(null!=(v=e.\u0275\u0275pipeBind1(21,56,t.workspaceImgSrc$))&&v.length)||e.\u0275\u0275pipeBind1(22,58,t.autoSaveInProgress.Image)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",!(null!=(f=e.\u0275\u0275pipeBind1(23,60,t.workspaceImgSrc$))&&f.length)||e.\u0275\u0275pipeBind1(24,62,t.autoSaveInProgress.Image)||!t.isWorkspaceAdmin),e.\u0275\u0275attribute("data-testid","workspace-settings-about-reset-btn"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(27,64,"Reset")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(29,66,t.imageFileError$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(33,68,"Name")),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("has-error",e.\u0275\u0275pipeBind1(36,70,t.nameExists$)||!t.workspaceName),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(37,72,t.autoSaveInProgress.Name)||!t.isWorkspaceAdmin)("value",t.workspaceName),e.\u0275\u0275attribute("data-testid","workspace-settings-about-name-input"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(39,74,t.autoSaveInProgress.Name)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(41,76,t.nameExists$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.workspaceName),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(46,78,"Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",t.description)("disabled",e.\u0275\u0275pipeBind1(49,80,t.autoSaveInProgress.Description)||!t.isWorkspaceAdmin)("placeholder",e.\u0275\u0275pipeBind1(50,82,"DescribeThisWorkspace")+" "+e.\u0275\u0275pipeBind1(51,84,"Optional_Parenthesis")),e.\u0275\u0275attribute("data-testid","workspace-settings-about-description-input"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(53,86,t.autoSaveInProgress.Description)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isDomainsEnabled),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(58,88,"ContactList")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",t.userPicker||o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(98,G,t.contactListContext)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(62,90,t.autoSaveInProgress.ContactList)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(66,92,"WorkspaceSharePoint")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",t.userPicker||o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(100,G,t.oneDriveContext)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(70,94,t.autoSaveInProgress.OneDrive))}}var K=function(){return[]};function Y(i,r){if(1&i&&e.\u0275\u0275element(0,"input",39),2&i){var t,n=r.$implicit;e.\u0275\u0275property("placeholder",null==n?null:n.inputPlaceholder)("value",(null!==(t=null==n?null:n.identities)&&void 0!==t?t:e.\u0275\u0275pureFunction0(2,K)).join(";"))}}var Fe=function(){function i(r,n,t,o){var a=this;this.workspaceSettingsService=r,this.triLocalizationService=n,this.telemetryService=t,this.isTrident=o,this.destroy$=new dt.xQ,this.initialized$=this.workspaceSettingsService.folderSettingsInitialized$,this.workspaceImgSrc$=new W.X(""),this.workspaceName="",this.description="",this.contactListContext=void 0,this.oneDriveContext=void 0,this.imageFileError$=new W.X(""),this.autoSaveInProgress=this.workspaceSettingsService.autoSaveInProgress,this.isWorkspaceAdmin=!1,this.isDomainsEnabled=!1,this.nameExists$=this.workspaceSettingsService.nameExists$,this.apiErrors$=(0,je.aj)([this.workspaceSettingsService.workspaceInitializationErrorMessage$,this.workspaceSettingsService.nameValidationErrorMessage$,this.workspaceSettingsService.autoSaveErrorMessage$]).pipe((0,ge.U)(function(l){var f=l[1],b=l[2],z=[];return z.push(l[0]||""),z.push(f||""),z.push(b||""),z.length?z:void 0})),this.apiErrorsDismissedIndices$=new W.X([!1,!1,!1]),this.subscriptionsToDispose=[],this.imageFileInput=null,this.onContactListUpdated=function(l){a.contactListContext&&(a.contactListContext=(0,N.pi)((0,N.pi)({},a.contactListContext),{identities:(0,N.ev)([],l,!0)}),a.workspaceSettingsService.contactList=a.contactListContext.identities,a.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Update workspace contacts",featureName:"Fabric Workspace Settings"}),a.logTelemetryEvent("Update workspace contacts"))},this.onOneDriveUpdated=function(l){a.oneDriveContext&&(a.oneDriveContext=(0,N.pi)((0,N.pi)({},a.oneDriveContext),{identities:(0,N.ev)([],l,!0)}),a.workspaceSettingsService.workspaceOneDrive=a.oneDriveContext.identities[0],a.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Update OneDrive",featureName:"Fabric Workspace Settings"}),a.logTelemetryEvent("Update OneDrive"))},this.initialized$.subscribe(function(l){l&&(a.workspaceImgSrc$.next(a.workspaceSettingsService.imageSrc),a.workspaceName=a.workspaceSettingsService.workspaceName,a.description=a.workspaceSettingsService.description,a.isWorkspaceAdmin=a.workspaceSettingsService.isWorkspaceAdmin,a.contactListContext={identities:a.workspaceSettingsService.contactList,onIdentitiesUpdated:a.onContactListUpdated,allowEmailEnabledSecurityGroups:!0,allowObjectIds:!0,allowDistributionLists:!0,allowUnifiedGroups:!0,checkValidOrgUser:!0,includeGuests:!0,showRelevantUsers:!1,inputPlaceholder:a.workspaceSettingsService.contactList.length>0?"":a.triLocalizationService.get("EmailsList_UsersAndGroupsPlaceholder"),inputAriaLabelledBy:"workspace-contact-list-setting-label",disabled:!a.isWorkspaceAdmin},a.oneDriveContext={identities:a.workspaceSettingsService.workspaceOneDrive?[a.workspaceSettingsService.workspaceOneDrive]:[],onIdentitiesUpdated:a.onOneDriveUpdated,allowSecurityGroups:!1,allowObjectIds:!0,allowDistributionLists:!1,allowUnifiedGroups:!0,blockUsers:!0,checkValidOrgUser:!0,maxSelectableUsers:1,showRelevantUsers:!1,inputPlaceholder:a.workspaceSettingsService.workspaceOneDrive?"":a.triLocalizationService.get("Optional_Parenthesis"),inputAriaLabelledBy:"workspace-onedrive-setting-label",disabled:!a.isWorkspaceAdmin},a.subscriptionsToDispose.push(a.autoSaveInProgress.ContactList.subscribe(function(f){a.contactListContext.disabled=!!f||!a.isWorkspaceAdmin})),a.subscriptionsToDispose.push(a.autoSaveInProgress.OneDrive.subscribe(function(f){a.oneDriveContext.disabled=!!f||!a.isWorkspaceAdmin})),a.isDomainsEnabled=!!a.isTrident,a.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Detail settings",featureName:"Fabric Workspace Settings",activityAttributes:{name:"Load Workspace settings - end"}}))})}return i.prototype.onUploadClick=function(){var r,n;null===(n=null===(r=this.imageFileInput)||void 0===r?void 0:r.nativeElement)||void 0===n||n.click()},i.prototype.onResetImage=function(){var r;!(null===(r=this.imageFileInput)||void 0===r)&&r.nativeElement&&(this.imageFileInput.nativeElement.value=""),this.workspaceImgSrc$.next(""),this.workspaceSettingsService.imageSrc=""},i.prototype.onNameUpdated=function(r){this.workspaceName=r.target.value,this.workspaceSettingsService.workspaceName=this.workspaceName,this.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Workspace rename",featureName:"Fabric Workspace Settings"}),this.logTelemetryEvent("Workspace rename")},i.prototype.validateName=function(r){var n=this,t=r.target.value;this.validateNameTimeoutId&&clearTimeout(this.validateNameTimeoutId),this.validateNameTimeoutId=setTimeout(function(){n.workspaceSettingsService.validateFolderName(t)},600)},i.prototype.onDescriptionUpdated=function(r){this.description=r.target.value,this.workspaceSettingsService.description=this.description,this.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Update description",featureName:"Fabric Workspace Settings"}),this.logTelemetryEvent("Update description")},i.prototype.onDomainSelected=function(r){this.workspaceSettingsService.domainObjectId=r?.domainObjectId;var n="".concat("Domains",",").concat("Domains Direct MAU",",").concat("Domains WS Management");this.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Update domain association",featureName:n,activityAttributes:{source:"WS settings",isSubDomain:!!r?.isSubDomain}}),this.logTelemetryEvent("Update domain association")},i.prototype.getSelectedDomain=function(){return this.workspaceSettingsService.domainObjectId},i.prototype.onImageUploaded=function(){var n,t,r=this;this.imageFileError$.next("");var o=null===(t=null===(n=this.imageFileInput)||void 0===n?void 0:n.nativeElement)||void 0===t?void 0:t.files;if(o&&1===o.length){var a=o[0];if(a.size>46080)this.imageFileError$.next(this.triLocalizationService.format("Publish_ImageSizeValidationError",this.triLocalizationService.get("File_Size_KB_45")));else{var l=a.name.split(".").reverse()[0];if(["jpeg","jpg","png"].some(function(f){return l.toLowerCase()===f}))try{var v=new FileReader;v.addEventListener("load",function(f){var b,z,te=null===(b=f.target)||void 0===b?void 0:b.result;te&&(r.workspaceImgSrc$.next(te.toString()),r.workspaceSettingsService.imageSrc=te.toString(),null!==(z=r.imageFileInput)&&void 0!==z&&z.nativeElement&&(r.imageFileInput.nativeElement.value=""),r.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Update workspace image",featureName:"Fabric Workspace Settings"}),r.logTelemetryEvent("Update workspace image"))}),v.readAsDataURL(a)}catch(f){this.imageFileError$.next(this.triLocalizationService.get("Trident_Workspace_Settings_File_Read_Error"))}else this.imageFileError$.next(this.triLocalizationService.get("Trident_Workspace_Settings_Image_File_Extension_Error"))}}else this.imageFileError$.next(this.triLocalizationService.get("Trident_Workspace_Settings_One_Image_File_Only"))},i.prototype.dismissError=function(r){var n=(0,N.ev)([],this.apiErrorsDismissedIndices$.value,!0);n[r]=!0,this.apiErrorsDismissedIndices$.next(n)},i.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},i.prototype.getErrorMessageBarViewModel=function(r,n){var t=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return t.dismissError(n)},message:r}},i.prototype.logTelemetryEvent=function(r){this.telemetryService.logEvent({name:"Updating workspace settings - auto save",properties:{activityName:r,featureName:"Fabric Workspace Settings",workspaceObjectId:this.workspaceSettingsService.workspaceObjectId}})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(Tt.t),e.\u0275\u0275directiveInject(sn.Y))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-about"]],viewQuery:function(n,t){var o;(1&n&&e.\u0275\u0275viewQuery(Gr,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(t.imageFileInput=o.first))},inputs:{userPicker:"userPicker"},decls:10,vars:9,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["hidden","","type","file","accept",".jpeg,.jpg,.png",1,"tri-hidden",3,"change"],["imageFileInput",""],["inputUserPicker",""],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar",4,"ngIf"],[3,"viewModel","hideMessageBar"],["id","workspace-image-label"],[1,"workspace-image-setting-container","tri-flex"],[1,"workspace-image","tri-flex","tri-justify-center","tri-items-center","tri-relative",3,"ngClass"],["class","valid-workspace-image","alt","Workspace image",3,"src",4,"ngIf"],["tri-svg-icon-32","","class","no-workspace-image","name","image_32_regular",4,"ngIf"],[1,"workspace-image-buttons","tri-flex","tri-flex-col"],["tri-button","","appearance","subtle","size","small",3,"disabled","click"],["name","arrow_upload_20_regular"],["name","arrow_undo_20_regular"],["class","image-error-message error-message-container tri-flex","role","alert",4,"ngIf"],[1,"about-input-container","tri-flex","tri-flex-col"],["id","workspace-name-setting-label"],[1,"tri-flex"],["aria-labelledby","workspace-name-setting-label","data-testid","workspace-name-setting-input",1,"about-settings-input","tri-flex-grow",3,"disabled","value","blur","keyup"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],["class","tri-flex error-message-container",4,"ngIf"],["id","workspace-description-setting-label"],["aria-labelledby","workspace-description-setting-label","data-testid","workspace-description-setting-input","maxlength","4000","rows","3",1,"about-settings-textarea","tri-flex-grow",3,"value","disabled","placeholder","blur"],[3,"selectedDomainObjectId","shouldBeDisabled","showSpinner","domainSelected",4,"ngIf"],[1,"about-input-container","tri-flex","tri-flex-col","tri-relative"],["id","workspace-contact-list-setting-label"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","workspace-onedrive-setting-label"],["alt","Workspace image",1,"valid-workspace-image",3,"src"],["tri-svg-icon-32","","name","image_32_regular",1,"no-workspace-image"],[1,"image-autosave-spinner","tri-flex"],["role","alert",1,"image-error-message","error-message-container","tri-flex"],["name","error_circle_12_filled",1,"error-message-icon"],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],[1,"tri-flex","error-message-container"],[3,"selectedDomainObjectId","shouldBeDisabled","showSpinner","domainSelected"],["aria-labelledby","workspace-contact-list-setting-label",1,"tri-flex-grow","contact-list",3,"placeholder","value"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,_a,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,Ar,3,3,"ng-container",1),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,$,71,102,"ng-container",0),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementStart(6,"input",2,3),e.\u0275\u0275listener("change",function(){return t.onImageUploaded()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,Y,1,3,"ng-template",null,4,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,3,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(3,5,t.apiErrors$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,7,t.initialized$)))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,g.NgTemplateOutlet,Zi,T.M,He.D,it.h,g.AsyncPipe,k.Y],styles:["[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:14px;line-height:20px}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size);line-height:18px;margin-bottom:4px}[_nghost-%COMP%]   label#workspace-image-label[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   .error-message-banner-container[_ngcontent-%COMP%]{margin-bottom:16px}[_nghost-%COMP%]   trident-domains-dropdown[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image[_ngcontent-%COMP%]{height:56px;width:56px;max-width:56px}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image.no-image[_ngcontent-%COMP%]{background-color:var(--colorNeutralBackground6);color:var(--colorNeutralForeground3);fill:var(--colorNeutralForeground3);border-radius:50%}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image[_ngcontent-%COMP%]   .valid-workspace-image[_ngcontent-%COMP%]{height:56px;width:56px;border-radius:50%}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image[_ngcontent-%COMP%]   .no-workspace-image[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground3)}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image-buttons[_ngcontent-%COMP%]{margin-left:8px;justify-content:center;gap:4px}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image-buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .image-error-message[_ngcontent-%COMP%]{color:var(--colorPaletteRedForeground1)}[_nghost-%COMP%]   .settings-seperator[_ngcontent-%COMP%]{margin-top:26px;border-top:1px solid var(--colorNeutralStroke1);margin-bottom:10px}[_nghost-%COMP%]   .about-input-container[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .about-input-container[_ngcontent-%COMP%]     .mat-form-field.emails-list{border-radius:4px;outline:none;border:1px solid var(--colorNeutralStroke1)}[_nghost-%COMP%]   .about-input-container[_ngcontent-%COMP%]     emails-list-modern{flex-grow:1}[_nghost-%COMP%]   .about-input-container[_ngcontent-%COMP%]     input, [_nghost-%COMP%]   .about-input-container[_ngcontent-%COMP%]     .chip-list{padding:6px 10px}[_nghost-%COMP%]   .about-settings-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .about-settings-textarea[_ngcontent-%COMP%]{resize:none;font-size:14px;font-family:var(--fontFamilyBase);line-height:20px;padding:5px 12px;box-sizing:border-box;border-radius:4px;outline:none;border:1px solid var(--colorNeutralStroke1)}[_nghost-%COMP%]   .about-settings-input[_ngcontent-%COMP%]:not([disabled]), [_nghost-%COMP%]   .about-settings-textarea[_ngcontent-%COMP%]:not([disabled]){border-bottom:1px solid var(--globalColorGrey38)}[_nghost-%COMP%]   .about-settings-input[_ngcontent-%COMP%]:not([disabled]):focus-visible, [_nghost-%COMP%]   .about-settings-textarea[_ngcontent-%COMP%]:not([disabled]):focus-visible{border-bottom:2px solid var(--globalColorBrand80)}[_nghost-%COMP%]   .about-settings-input[disabled][_ngcontent-%COMP%], [_nghost-%COMP%]   .about-settings-textarea[disabled][_ngcontent-%COMP%]{border:1px solid var(--colorNeutralStroke2)}[_nghost-%COMP%]   .about-settings-input.has-error[_ngcontent-%COMP%], [_nghost-%COMP%]   .about-settings-textarea.has-error[_ngcontent-%COMP%]{border:1px solid var(--colorPaletteRedForeground1)}[_nghost-%COMP%]   .inline-autosave-spinner[_ngcontent-%COMP%]{margin-left:16px}[_nghost-%COMP%]   .image-autosave-spinner[_ngcontent-%COMP%]{background-color:var(--globalColorWhiteAlpha80);height:100%;width:100%;border-radius:50%;position:absolute}[_nghost-%COMP%]   .image-autosave-spinner[_ngcontent-%COMP%]   tri-spinner[_ngcontent-%COMP%]{margin:auto}[_nghost-%COMP%]   .disabled-field-overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}"],changeDetection:0}),i}(),Li=u(33846);function cs(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275projection(1),e.\u0275\u0275elementContainerEnd())}function ls(i,r){1&i&&e.\u0275\u0275projection(0,1)}var ds=[[["tri-collapsible-collapsed-content"]],"*"],ja=function(r){return{disabled:r}},ps=["tri-collapsible-collapsed-content","*"],Rr=function(){function i(){this.headerText="",this.collapsed=!1,this.iconName="",this.iconSprite="",this.disabled=!1,this.collapseContainer=new e.EventEmitter}return i.prototype.onCollapseToggle=function(){this.collapsed=!this.collapsed,this.collapseContainer.emit(this.collapsed)},i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-collapsed-container"]],inputs:{headerText:"headerText",collapsed:"collapsed",iconName:"iconName",iconSprite:"iconSprite",disabled:"disabled"},outputs:{collapseContainer:"collapseContainer"},ngContentSelectors:ps,decls:11,vars:22,consts:[[1,"collapsible-picker-box",3,"ngClass"],[1,"box-header","tri-flex",3,"click"],[1,"box-icon",3,"ngClass","name","sprite"],[1,"header-text"],["tri-icon-button","","appearance","subtle",1,"expand-collapse-button",3,"disabled"],[3,"name"],[4,"ngIf","ngIfElse"],["notCollapsed",""]],template:function(n,t){if(1&n&&(e.\u0275\u0275projectionDef(ds),e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275listener("click",function(){return t.onCollapseToggle()}),e.\u0275\u0275element(2,"tri-svg-icon",2),e.\u0275\u0275elementStart(3,"span",3),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",4),e.\u0275\u0275pipe(6,"localizeFormat"),e.\u0275\u0275element(7,"tri-svg-icon",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(8,cs,2,0,"ng-container",6),e.\u0275\u0275template(9,ls,1,0,"ng-template",null,7,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(10);e.\u0275\u0275styleProp("pointer-events",t.disabled?"none":"initial"),e.\u0275\u0275classProp("is-collapsed",!!t.collapsed),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(18,ja,t.disabled)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(20,ja,t.disabled))("name",t.iconName)("sprite",t.iconSprite),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.headerText,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",t.disabled),e.\u0275\u0275attribute("aria-expanded",!t.collapsed)("aria-label",e.\u0275\u0275pipeBind2(6,15,t.collapsed?"ClickToExpandFormat":"ClickToCollapseFormat",t.headerText)),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.collapsed?"chevron_down_20_regular":"chevron_up_20_regular"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.collapsed)("ngIfElse",o)}},dependencies:[g.NgClass,g.NgIf,T.M,k.A],styles:[".collapsible-picker-box[_ngcontent-%COMP%]{padding:12px;border:1px solid var(--globalColorGrey82);border-radius:8px}.collapsible-picker-box.disabled[_ngcontent-%COMP%]{border-color:var(--colorNeutralStrokeDisabled);color:var(--colorNeutralForegroundDisabled);cursor:not-allowed}.collapsible-picker-box.disabled[_ngcontent-%COMP%]:focus, .collapsible-picker-box.disabled[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:active, .collapsible-picker-box.disabled[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:var(--colorNeutralForegroundDisabled)}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]{height:20px;display:flex;justify-content:space-between}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .box-icon.disabled[_ngcontent-%COMP%]{fill:var(--colorNeutralForegroundDisabled)}html:not([dir=rtl])[_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], html:not([dir=rtl])   [_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{margin-left:8px;margin-right:8px}html[dir=rtl][_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{margin-left:8px;margin-right:8px}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{display:flex}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:disabled{background:transparent!important}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:disabled   tri-svg-icon[_ngcontent-%COMP%]{background-color:var(--globalColorWhiteAlpha40)!important;fill:var(--colorNeutralForegroundDisabled)!important}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .expand-collapse-button[_ngcontent-%COMP%]{height:20px;width:20px}html:not([dir=rtl])[_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .expand-collapse-button[_ngcontent-%COMP%], html:not([dir=rtl])   [_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .expand-collapse-button[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}html[dir=rtl][_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .expand-collapse-button[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .expand-collapse-button[_ngcontent-%COMP%]{margin-left:0;margin-right:auto}"],changeDetection:0}),i}();function us(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",5),e.\u0275\u0275elementContainerEnd())}function gs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",6),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.apiError$))&&void 0!==o?o:""))}}function ms(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",6),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.dismissSuccess())}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getSuccessMessageBarViewModel())}}function _s(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",10),2&i){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(13);e.\u0275\u0275property("triTooltip",n)}}function vs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-radio-button",31),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onLicenseModeSelected(a,l.LicenseMode.TridentPremiumPerUser))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"span",32),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",14)(7,"span"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementStart(10,"tri-link",33),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.TridentPremiumPerUser)("value",t.LicenseMode.TridentPremiumPerUser)("disabled",!t.licenseModeEnabled(t.LicenseMode.TridentPremiumPerUser)||e.\u0275\u0275pipeBind1(2,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,9,"Workspace_LicenseMode_PPU")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(9,11,"Workspace_LicenseMode_PPU_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,13,"LearnMore")," ")}}function hs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",34),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onLicenseModeSelected(a,l.LicenseMode.DataCapacity))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"span",35),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",14)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementStart(9,"tri-link",36),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.DataCapacity)("value",t.LicenseMode.DataCapacity)("disabled",!t.licenseModeEnabled(t.LicenseMode.DataCapacity)||e.\u0275\u0275pipeBind1(1,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,9,"CapacityHeader_FabricCapacity")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(8,11,"CapacityHeader_FabricCapacity_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,13,"LearnMore")," ")}}function fs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",37),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onLicenseModeSelected(a,l.LicenseMode.DataCapacityTrial))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"span",38),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",14)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementStart(9,"tri-link",39),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.DataCapacityTrial)("value",t.LicenseMode.DataCapacityTrial)("disabled",!t.licenseModeEnabled(t.LicenseMode.DataCapacityTrial)||e.\u0275\u0275pipeBind1(1,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,9,"CapacityHeader_TrialCapacity")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(8,11,"Workspace_LicenseMode_Trial_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,13,"LearnMore")," ")}}function Cs(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"mat-option",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" ",n.name," - ",n.region," ")}}function Ss(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",46),e.\u0275\u0275element(1,"tri-svg-icon",47),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Workspace_LicenseMode_Select")," "))}function ys(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"label",40),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerStart(4),e.\u0275\u0275elementStart(5,"mat-form-field",41)(6,"mat-select",42),e.\u0275\u0275listener("ngModelChange",function(l){e.\u0275\u0275restoreView(n);var v=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(v.selectedCapacity=l)})("selectionChange",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onSelectedCapacityChange())}),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,Cs,2,3,"mat-option",43),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275template(10,Ss,4,3,"div",44),e.\u0275\u0275elementContainerEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,7,"Trident_Workspace_Settings_License_Capacity")),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("has-error",!t.selectedCapacity),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",t.selectedCapacity)("disabled",!t.isWorkspaceAdmin||null!==(o=e.\u0275\u0275pipeBind1(7,9,t.saveInProgress$))&&void 0!==o&&o),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(9,11,t.currentCapacities$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.selectedCapacity)}}function bs(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",50),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.selectedCapacity.name)}}function ws(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",51),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.capacityRegionString)}}function ks(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"label",40),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,bs,2,1,"div",48),e.\u0275\u0275template(5,ws,2,1,"div",49),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"Trident_Workspace_Settings_License_Capacity")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.selectedCapacity.name),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.capacityRegionString)}}function Is(i,r){if(1&i&&(e.\u0275\u0275template(0,ks,6,5,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngIf",n.selectedCapacity&&e.\u0275\u0275pipeBind1(1,1,n.showWorkspaceSettingsV2$))}}function xs(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",52),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("viewModel",n.getNoPermissionsToCapacityMessageBarViewModel())}}function Ms(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-group")(1,"label",53),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"tri-radio-button",54),e.\u0275\u0275listener("change",function(v){e.\u0275\u0275restoreView(n);var f=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(f.onDefaultStorageFormatSelected(v,f.StorageFormat.SmallDataset))}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementStart(6,"label",55),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"tri-radio-button",56),e.\u0275\u0275listener("change",function(v){e.\u0275\u0275restoreView(n);var f=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(f.onDefaultStorageFormatSelected(v,f.StorageFormat.LargeDataset))}),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275elementStart(12,"label",57),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"tri-link",58),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()()}if(2&i){var o,a,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,11,"GroupEditor_StorageFormat")),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.defaultStorageFormat===t.StorageFormat.SmallDataset)("value",t.StorageFormat.SmallDataset)("disabled",!t.isWorkspaceAdmin||null!==(o=e.\u0275\u0275pipeBind1(5,13,t.saveInProgress$))&&void 0!==o&&o),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,15,"GroupEditor_StorageFormat_Small")),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.defaultStorageFormat===t.StorageFormat.LargeDataset)("value",t.StorageFormat.LargeDataset)("disabled",!t.isWorkspaceAdmin||!0!==e.\u0275\u0275pipeBind1(10,17,t.allowLargeDataset$)||null!==(a=e.\u0275\u0275pipeBind1(11,19,t.saveInProgress$))&&void 0!==a&&a),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,21,"GroupEditor_StorageFormat_Large")),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(17,23,"GroupEditor_StorageFormat_LearnMore")," ")}}function Ps(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",8),e.\u0275\u0275template(2,Ms,18,25,"tri-radio-group",0),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!!n.selectedCapacity&&void 0!==e.\u0275\u0275pipeBind1(3,1,n.allowLargeDataset$))}}function Ts(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function Os(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Applying")))}function Es(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Apply")))}function Ds(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",65)(2,"span",66),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Trident_Workspace_Settings_Copied_Connection")))}function Bs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",59)(2,"label",60),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",61)(6,"div",62),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",63),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.copyConnectionToClipboard())})("mouseover",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.mouseOverCopy())})("mouseout",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.mouseOutCopy())}),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275element(10,"tri-svg-icon",64),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,Ds,5,3,"div",0),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,6,"WorkspaceConnection")),e.\u0275\u0275advance(3),e.\u0275\u0275property("triTooltip",t.workspaceConnectionString),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.workspaceConnectionString),e.\u0275\u0275advance(1),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(9,8,"CopyVisualImage_Copy")),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.copyIconName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(12,10,t.showCopied$))}}var Ha=function(r){return{"is-disabled":r}};function Gs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-collapsed-container",7),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"div",8)(4,"tri-radio-group")(5,"label",9),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"tri-svg-icon",10),e.\u0275\u0275elementStart(9,"tri-radio-button",11),e.\u0275\u0275listener("change",function(b){e.\u0275\u0275restoreView(n);var z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onLicenseModeSelected(b,z.LicenseMode.PowerBIPro))}),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementStart(11,"span",12),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,_s,1,1,"tri-svg-icon",13),e.\u0275\u0275elementStart(15,"div",14)(16,"span"),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementStart(19,"tri-link",15),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(22,vs,13,15,"ng-container",0),e.\u0275\u0275elementStart(23,"tri-radio-button",16),e.\u0275\u0275listener("change",function(b){e.\u0275\u0275restoreView(n);var z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onLicenseModeSelected(b,z.LicenseMode.TridentPremiumPerCapacity))}),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275elementStart(25,"span",17),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",14)(29,"span"),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"localize"),e.\u0275\u0275elementStart(32,"tri-link",18),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(35,"tri-radio-button",19),e.\u0275\u0275listener("change",function(b){e.\u0275\u0275restoreView(n);var z=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(z.onLicenseModeSelected(b,z.LicenseMode.Embedded))}),e.\u0275\u0275pipe(36,"async"),e.\u0275\u0275elementStart(37,"span",20),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(40,"tri-svg-icon",10),e.\u0275\u0275elementStart(41,"div",14)(42,"span"),e.\u0275\u0275text(43),e.\u0275\u0275pipe(44,"localize"),e.\u0275\u0275elementStart(45,"tri-link",21),e.\u0275\u0275text(46),e.\u0275\u0275pipe(47,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(48,hs,12,15,"tri-radio-button",22),e.\u0275\u0275template(49,fs,12,15,"tri-radio-button",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(50,"div",24),e.\u0275\u0275template(51,ys,11,13,"ng-container",25),e.\u0275\u0275pipe(52,"async"),e.\u0275\u0275template(53,Is,2,3,"ng-template",null,26,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(55,xs,1,1,"tri-message-bar",27),e.\u0275\u0275template(56,Ps,4,3,"ng-container",0),e.\u0275\u0275elementStart(57,"div",28)(58,"button",29),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(b.applyCapacity())}),e.\u0275\u0275pipe(59,"async"),e.\u0275\u0275pipe(60,"async"),e.\u0275\u0275pipe(61,"async"),e.\u0275\u0275pipe(62,"async"),e.\u0275\u0275template(63,Ts,1,0,"tri-spinner",0),e.\u0275\u0275pipe(64,"async"),e.\u0275\u0275template(65,Os,3,3,"ng-container",0),e.\u0275\u0275pipe(66,"async"),e.\u0275\u0275template(67,Es,3,3,"ng-container",0),e.\u0275\u0275pipe(68,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(69,"button",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(b.resetCapacity())}),e.\u0275\u0275pipe(70,"async"),e.\u0275\u0275pipe(71,"async"),e.\u0275\u0275pipe(72,"async"),e.\u0275\u0275text(73),e.\u0275\u0275pipe(74,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(75,Bs,13,12,"ng-container",0),e.\u0275\u0275elementContainerEnd()}if(2&i){var v,t=e.\u0275\u0275reference(54),o=e.\u0275\u0275nextContext(),a=e.\u0275\u0275reference(11),l=e.\u0275\u0275reference(15);e.\u0275\u0275advance(1),e.\u0275\u0275property("headerText",e.\u0275\u0275pipeBind1(2,42,"Trident_Workspace_Settings_Choose_License")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,44,"Workspace_LicenseMode")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",a),e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",o.licenseMode===o.LicenseMode.PowerBIPro)("value",o.LicenseMode.PowerBIPro)("disabled",e.\u0275\u0275pipeBind1(10,46,o.saveInProgress$)||!o.isWorkspaceAdmin||o.isMyWorkspace&&o.restrictMyFolderCapacityEnabled),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,48,"Trident_Workspace_Settings_License_Pro")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.isMyWorkspace),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(18,50,"Workspace_LicenseMode_Pro_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(21,52,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(o.flagTridentUIHidePPU||o.isMyWorkspace&&!o.showPPUForMyWorkspace)),e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",o.licenseMode===o.LicenseMode.TridentPremiumPerCapacity)("value",o.LicenseMode.TridentPremiumPerCapacity)("disabled",!o.licenseModeEnabled(o.LicenseMode.TridentPremiumPerCapacity)||e.\u0275\u0275pipeBind1(24,54,o.saveInProgress$)||!o.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(27,56,"Capacity_PremiumCapacity")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(31,58,"Workspace_LicenseMode_PPC_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(34,60,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",o.licenseMode===o.LicenseMode.Embedded)("value",o.LicenseMode.Embedded)("disabled",!o.licenseModeEnabled(o.LicenseMode.Embedded)||e.\u0275\u0275pipeBind1(36,62,o.saveInProgress$)||!o.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(39,64,"Workspace_LicenseMode_Embedded")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",l),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(44,66,"Workspace_LicenseMode_Embedded_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(47,68,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.showDCCapacityOptions()||o.licenseMode===o.LicenseMode.DataCapacity),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.getShowDataCapacityTrialEnabled()||o.licenseMode===o.LicenseMode.DataCapacityTrial),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.licenseMode!==o.LicenseMode.TridentPremiumPerUser&&o.licenseMode!==o.LicenseMode.DataCapacityTrial&&null!==(v=null==(v=e.\u0275\u0275pipeBind1(52,70,o.currentCapacities$))?null:v.length)&&void 0!==v&&v)("ngIfElse",t),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",null==o.selectedCapacity?null:o.selectedCapacity.unavailableToUser),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.isMyWorkspace),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!0!==e.\u0275\u0275pipeBind1(59,72,o.canSaveCapacity$)||e.\u0275\u0275pipeBind1(60,74,o.saveInProgress$))("ngClass",e.\u0275\u0275pureFunction1(94,Ha,!0!==e.\u0275\u0275pipeBind1(61,76,o.canSaveCapacity$)||e.\u0275\u0275pipeBind1(62,78,o.saveInProgress$))),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(64,80,o.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(66,82,o.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0!==e.\u0275\u0275pipeBind1(68,84,o.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!0!==e.\u0275\u0275pipeBind1(70,86,o.canSaveCapacity$)||e.\u0275\u0275pipeBind1(71,88,o.saveInProgress$))("ngClass",e.\u0275\u0275pureFunction1(96,Ha,!0!==e.\u0275\u0275pipeBind1(72,90,o.canSaveCapacity$))),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(74,92,"Cancel_ButtonText")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!o.isMyWorkspace&&o.licenseMode!==o.LicenseMode.PowerBIPro)}}function zs(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",67),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"tri-link",68),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"Workspace_LicenseMode_Tooltip")," \xa0 "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,5,"Workspace_LicenseMode_Tooltip_Link")," "))}function As(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",67),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"tri-link",69),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"Workspace_LicenseMode_Pro_Information")," \xa0 "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,5,"Generic_LearnMore")," "))}function Rs(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",67),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"tri-link",70),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"Workspace_LicenseMode_Embedded_Information")," \xa0 "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,5,"Generic_LearnMore")," "))}var Fs=function(){function i(r,n,t,o,a){var l=this;this.workspaceSettingsService=r,this.isTrident=n,this.featureSwitchService=t,this.triLocalizationService=o,this.telemetryService=a,this.initialized$=this.workspaceSettingsService.capacitiesInitialized$,this.licenseMode=le.PowerBIPro,this.defaultStorageFormat=Nt.SmallDataset,this.selectedCapacity=void 0,this.isMyWorkspace=this.workspaceSettingsService.isMyWorkspace,this.showPPUForMyWorkspace=this.workspaceSettingsService.showPPUForMyWorkspace,this.restrictMyFolderCapacityEnabled=!1,this.previousLicenseMode="",this.currentCapacities$=new W.X([]),this.canSaveCapacity$=this.workspaceSettingsService.canSaveCapacitySelection$,this.apiError$=this.workspaceSettingsService.capacityUpdateErrorMessage$.pipe((0,ge.U)(function(v){return l.errorDismissed$.next(!1),v})),this.apiSuccess$=this.workspaceSettingsService.capacityUpdateSuccess$.pipe((0,ge.U)(function(v){return l.successDismissed$.next(!1),v})),this.errorDismissed$=new W.X(!1),this.successDismissed$=new W.X(!1),this.saveInProgress$=this.workspaceSettingsService.capacitySaveInProgress$,this.workspaceConnectionString="",this.showCopied$=new W.X(!1),this.allowLargeDataset$=new W.X(void 0),this.copyIconName="copy_20_regular",this.flagTridentUIHidePPU=!1,this.isWorkspaceAdmin=!1,this.LicenseMode=le,this.StorageFormat=Nt,this.capacitiesMapByLicenseMode={},this.workspaceSettingsService.clearAllErrorMessages(),this.workspaceSettingsService.capacitiesInitialized$.subscribe(function(v){v&&(l.capacitiesMapByLicenseMode=l.createCapacitiesMapByLicenseMode(),l.setInitialLicenseMode(),l.workspaceConnectionString=l.workspaceSettingsService.workspaceConnectionString,l.isWorkspaceAdmin=l.workspaceSettingsService.isWorkspaceAdmin,l.restrictMyFolderCapacityEnabled=l.workspaceSettingsService.getFeatureSwitchState("restrictMyFolderCapacityEnabled"))}),this.workspaceSettingsService.selectedCapacity&&!this.workspaceSettingsService.selectedCapacity.unavailableToUser&&this.workspaceSettingsService.checkPremiumFilesEnabled(this.workspaceSettingsService.selectedCapacity.id).then(function(v){return l.allowLargeDataset$.next(v)}),this.apiError$.subscribe(function(v){l.errorDismissed$.next(!1),l.resetCapacity()}),this.apiSuccess$.subscribe(function(){l.successDismissed$.next(!1)}),this.showCopied$.pipe((0,Me.h)(function(v){return!!v}),(0,pr.g)(6e3)).subscribe(function(){return l.showCopied$.next(!1)}),this.showWorkspaceSettingsV2$=this.featureSwitchService.featureSwitches$.pipe((0,Me.h)(function(v){return!!v}),(0,ye.q)(1),(0,ge.U)(function(v){return l.isTrident&&!!v.showWorkspaceSettingsV2}))}return Object.defineProperty(i.prototype,"capacityRegionString",{get:function(){var n,t,o;return null!==(n=this.selectedCapacity)&&void 0!==n&&n.sku&&this.selectedCapacity.region?this.triLocalizationService.format("CapacitySetting_SKU_And_Region",this.selectedCapacity.sku,this.selectedCapacity.region):null!==(t=this.selectedCapacity)&&void 0!==t&&t.sku?this.triLocalizationService.format("CapacitySetting_SKU",this.selectedCapacity.sku):null!==(o=this.selectedCapacity)&&void 0!==o&&o.region?this.triLocalizationService.format("CapacitySetting_Region",this.selectedCapacity.region):""},enumerable:!1,configurable:!0}),i.prototype.onLicenseModeSelected=function(r,n){r&&(this.previousLicenseMode=this.licenseMode,this.licenseMode=n,this.currentCapacities$.next(this.capacitiesMapByLicenseMode[this.licenseMode]),this.licenseMode===le.TridentPremiumPerUser||this.licenseMode===le.DataCapacityTrial?(this.selectedCapacity=this.capacitiesMapByLicenseMode[this.licenseMode][0],this.updateWithPremiumFilesAvailablity()):this.selectedCapacity=void 0,this.workspaceSettingsService.selectedCapacity=this.selectedCapacity,this.licenseMode===le.PowerBIPro&&(this.defaultStorageFormat=Nt.SmallDataset,this.workspaceSettingsService.defaultStorageFormat=this.defaultStorageFormat))},i.prototype.applyCapacity=function(){var r="";if(this.previousLicenseMode===le.PowerBIPro&&(this.licenseMode===le.TridentPremiumPerUser||this.licenseMode===le.TridentPremiumPerCapacity)||this.previousLicenseMode===le.TridentPremiumPerUser&&this.licenseMode===le.TridentPremiumPerCapacity){r="".concat((0,en.Z)(),".").concat((0,en.Z)());var n={originatingService:"DataCloudUX",activityName:"Upgrade license mode from ".concat(this.previousLicenseMode," to ").concat(this.licenseMode),featureName:"Fabric Workspace Settings",activityStatus:"Pending",activityAttributes:{fromLicenseMode:this.previousLicenseMode,toLicenseMode:this.licenseMode},operationEndTime:(new Date).toISOString(),correlationId:r};this.telemetryService.logStandardFeatureEvent(n)}this.workspaceSettingsService.saveCapacitySelection(r)},i.prototype.resetCapacity=function(){this.workspaceSettingsService.resetCapacitySelection(),this.setInitialLicenseMode()},i.prototype.onDefaultStorageFormatSelected=function(r,n){r&&(this.defaultStorageFormat=n,this.workspaceSettingsService.defaultStorageFormat=this.defaultStorageFormat)},i.prototype.copyConnectionToClipboard=function(){navigator.clipboard.writeText(this.workspaceConnectionString),this.showCopied$.next(!0)},i.prototype.licenseModeEnabled=function(r){return r===le.PowerBIPro||!(r===le.TridentPremiumPerUser&&!this.workspaceSettingsService.isPPUTierAvialbleToUser())&&this.capacitiesMapByLicenseMode[r].length>0},i.prototype.onSelectedCapacityChange=function(){this.updateWithPremiumFilesAvailablity(),this.workspaceSettingsService.selectedCapacity=this.selectedCapacity},i.prototype.mouseOverCopy=function(){this.copyIconName="copy_20_filled"},i.prototype.mouseOutCopy=function(){this.copyIconName="copy_20_regular"},i.prototype.dismissError=function(){this.errorDismissed$.next(!0)},i.prototype.dismissSuccess=function(){this.successDismissed$.next(!0)},i.prototype.getErrorMessageBarViewModel=function(r){var n=this,t={bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return n.dismissError()},message:r};if(Ri(r)){var o=Dr(r),a=this.triLocalizationService.get("Workspace_PrivateEndpointsErrorMessage_".concat(r));o&&(t.link=o,t.linkDisplayName=this.triLocalizationService.get("LearnMore")),t.message=a}return t},i.prototype.getNoPermissionsToCapacityMessageBarViewModel=function(){return{bannerType:0,allowDismiss:!1,iconName:"info_20_regular",message:this.triLocalizationService.get("Trident_Workspace_Settings_Capacity_No_Access")}},i.prototype.getSuccessMessageBarViewModel=function(){return{bannerType:3,allowDismiss:!0,iconName:"info_20_regular",message:this.triLocalizationService.get("Sharing_EditDashboardUsersSuccess")}},i.prototype.setInitialLicenseMode=function(){var r=this;this.selectedCapacity=this.workspaceSettingsService.selectedCapacity,this.selectedCapacity?this.selectedCapacity.unavailableToUser?this.licenseMode=null!=this.selectedCapacity.capacitySkuTier?An(this.selectedCapacity.capacitySkuTier):le.Unknown:(this.licenseMode=An(this.selectedCapacity.capacitySkuTier),this.selectedCapacity=this.capacitiesMapByLicenseMode[this.licenseMode].find(function(n){var t;return n.id===(null===(t=r.selectedCapacity)||void 0===t?void 0:t.id)})):this.licenseMode=le.PowerBIPro,this.currentCapacities$.next(this.capacitiesMapByLicenseMode[this.licenseMode]),this.updateWithPremiumFilesAvailablity()},i.prototype.showDCCapacityOptions=function(){return this.workspaceSettingsService.showDCCapacityOptions()&&!!this.isTrident},i.prototype.getShowDataCapacityTrialEnabled=function(){return this.workspaceSettingsService.getShowDataCapacityTrialEnabled()&&!!this.isTrident},i.prototype.createCapacitiesMapByLicenseMode=function(){var r,n=((r={})[le.Unknown]=[],r[le.PowerBIPro]=[],r[le.TridentPremiumPerUser]=[],r[le.TridentPremiumPerCapacity]=[],r[le.Embedded]=[],r[le.DataCapacity]=[],r[le.DataCapacityTrial]=[],r);return this.workspaceSettingsService.allCapacities.forEach(function(t){1===t.capacitySkuTier?n[le.TridentPremiumPerCapacity].push(t):4===t.capacitySkuTier?n[le.TridentPremiumPerUser].push(t):2===t.capacitySkuTier||3===t.capacitySkuTier?n[le.Embedded].push(t):8===t.capacitySkuTier||9===t.capacitySkuTier?n[le.DataCapacity].push(t):7===t.capacitySkuTier&&n[le.DataCapacityTrial].push(t)}),n},i.prototype.updateWithPremiumFilesAvailablity=function(){var r=this;this.selectedCapacity&&!this.selectedCapacity.unavailableToUser?this.workspaceSettingsService.checkPremiumFilesEnabled(this.selectedCapacity.id).then(function(n){r.allowLargeDataset$.next(n),r.defaultStorageFormat=r.workspaceSettingsService.defaultStorageFormat}):(this.defaultStorageFormat=this.workspaceSettingsService.defaultStorageFormat,this.allowLargeDataset$.next(!1))},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(sn.Y),e.\u0275\u0275directiveInject(_t.V$),e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(Tt.t))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-premium"]],decls:16,vars:16,consts:[[4,"ngIf"],[3,"viewModel","hideMessageBar",4,"ngIf"],["licenseModeInfoTip",""],["myWorkspaceProInfoTip",""],["embeddedInfoTip",""],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar"],["iconName","premium_20_regular",3,"headerText"],[1,"premium-input-container"],["id","workspace-license-mode-setting-label"],["name","info_20_regular","tabindex","-1",1,"premium-info-tip-button",3,"triTooltip"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-pro",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-pro",1,"radio-label"],["name","info_20_regular","class","premium-info-tip-button","tabindex","-1",3,"triTooltip",4,"ngIf"],[1,"licensemode-description-info"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227278","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-premium-per-capacity",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-premium-per-capacity",1,"radio-label"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227277","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-embedded",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-embedded",1,"radio-label"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227525","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],["name","licenseMode","type","radio","class","radio-button-input","aria-labelledby","workspace-license-mode-data-capacity",3,"checked","value","disabled","change",4,"ngIf"],["name","licenseMode","type","radio","class","radio-button-input","aria-labelledby","workspace-license-mode-data-capacity-trial",3,"checked","value","disabled","change",4,"ngIf"],[1,"capacity-container"],[4,"ngIf","ngIfElse"],["staticLicenseCapacity",""],[3,"viewModel",4,"ngIf"],[1,"premium-footer-buttons","tri-flex"],["tri-button","","appearance","primary",1,"footer-button",3,"disabled","ngClass","click"],["tri-button","",1,"footer-button",3,"disabled","ngClass","click"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-premium-per-user",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-premium-per-user",1,"radio-label"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227449","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-data-capacity",1,"radio-label"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227397","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity-trial",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-data-capacity-trial",1,"radio-label"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227617","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],[1,"capacity-label"],[1,"capacity-select-field"],["disableRipple","","disableOptionCentering","",1,"capacity-select",3,"ngModel","disabled","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","tri-flex error-message-container",4,"ngIf"],[3,"value"],[1,"tri-flex","error-message-container"],["name","error_circle_12_filled",1,"error-message-icon"],["class","license-capacity-name tri-caption1Strong",4,"ngIf"],["class","license-capacity-region tri-caption1",4,"ngIf"],[1,"license-capacity-name","tri-caption1Strong"],[1,"license-capacity-region","tri-caption1"],[3,"viewModel"],["id","workspace-default-storage-format-label"],["name","defaultStorageFormat","type","radio","aria-labelledby","workspace-default-storage-small-dataset",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-default-storage-small-dataset",1,"radio-label"],["name","defaultStorageFormat","type","radio","aria-labelledby","workspace-default-storage-large-dataset",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-default-storage-large-dataset",1,"radio-label"],["target","_blank","rel","noopener noreferrer","href","https://docs.microsoft.com/en-us/power-bi/enterprise/service-premium-large-models#enable-large-models",3,"external"],[1,"premium-input-container","tri-flex","tri-flex-col","tri-relative"],["id","workspace-connection-setting-label"],[1,"workspace-connection-container","tri-flex"],["disabled","",1,"tri-flex-grow","connection-string",3,"triTooltip"],["tri-button","","appearance","subtle",1,"copy-connection-button",3,"click","mouseover","mouseout"],[1,"copy-connection-icon",3,"name"],["role","alert",1,"link-copied-tip"],[1,"workspace-connection-copied-message"],[1,"info-tip-content"],["href","https://go.microsoft.com/fwlink/?linkid=2159767","target","_blank","rel","noopener noreferrer",3,"external"],["href","https://go.microsoft.com/fwlink/?linkid=2218869","target","_blank","rel","noopener noreferrer",3,"external"],["href","https://go.microsoft.com/fwlink/?linkid=2159726","target","_blank","rel","noopener noreferrer",3,"external"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,us,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,gs,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,ms,1,1,"tri-message-bar",1),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,Gs,76,98,"ng-container",0),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275template(10,zs,6,7,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(12,As,6,7,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(14,Rs,6,7,"ng-template",null,4,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,4,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(3,6,t.errorDismissed$)&&e.\u0275\u0275pipeBind1(4,8,t.apiError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(6,10,t.successDismissed$)&&e.\u0275\u0275pipeBind1(7,12,t.apiSuccess$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(9,14,t.initialized$)))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,p.JJ,p.On,T.M,oe.v_,C.x8,Li.CK,He.D,it.h,E.Y,B.Z,xt.Z,Rr,O.v,g.AsyncPipe,k.Y],styles:["[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:14px;line-height:20px}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .radio-button-container[_ngcontent-%COMP%]{height:32px;box-sizing:border-box;padding:6px 0}[_nghost-%COMP%]   .radio-button-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]{height:20px;width:20px;margin-top:0}[_nghost-%COMP%]   .radio-button-container[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]{font-weight:400;margin-bottom:0;margin-left:9px;-webkit-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]     .tri-radio-button-internal section{align-items:start}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]     .tri-radio-button-internal section .tri-radio-button-text .radio-label{font-weight:600}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]     .tri-radio-button-internal section .tri-radio-button-text .licensemode-description-info{font-size:12px}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]     .tri-radio-button-internal section .tri-radio-button-text .licensemode-description-info tri-link>a{display:inline-flex}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]     .tri-radio-button-internal section .tri-radio-button-text .licensemode-description-info tri-link>a tri-svg-icon{width:16px}[_nghost-%COMP%]   .premium-footer-buttons[_ngcontent-%COMP%]{margin-top:28px}[_nghost-%COMP%]   .premium-footer-buttons[_ngcontent-%COMP%]   .footer-button[_ngcontent-%COMP%]{margin-right:8px}[_nghost-%COMP%]   .premium-info-tip-button[_ngcontent-%COMP%]{height:12px;width:12px;fill:var(--colorNeutralForeground3);margin-left:8px;margin-bottom:4px}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]{margin-top:24px}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:var(--fontFamilyBase);width:100%}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]   .capacity-select[_ngcontent-%COMP%]{font-family:var(--fontFamilyBase)}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]  .mat-form-field-underline{display:none}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]  .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]  .mat-form-field-infix{height:32px;border:1px solid var(--colorNeutralStroke1);border-radius:4px;box-sizing:border-box;padding:6px 12px}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]  .mat-form-field-infix .mat-form-field-label-wrapper{left:12px;width:calc(100% - 24px)}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field.has-error[_ngcontent-%COMP%]  .mat-form-field-infix{border:1px solid var(--globalColorBurgundyTint10)}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .license-capacity-name[_ngcontent-%COMP%]{color:var(--colorNeutralForeground1);margin-top:var(--spacingVerticalXS)}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .license-capacity-region[_ngcontent-%COMP%]{color:var(--colorNeutralForeground4)}[_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]{border:1px solid var(--colorNeutralStroke1);box-sizing:border-box;border-radius:4px;height:32px;align-items:center;padding:0 12px;background-color:var(--colorNeutralBackground4);color:var(--colorNeutralForeground1)}[_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{height:16px;width:16px}[_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]{padding:0;height:20px}[_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:hover   .copy-connection-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:focus   .copy-connection-icon[_ngcontent-%COMP%]{fill:var(--colorBrandForeground1)}[_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:active   .copy-connection-icon[_ngcontent-%COMP%]{fill:var(--colorBrandForeground1)}[_nghost-%COMP%]   .link-copied-tip[_ngcontent-%COMP%]{position:absolute;right:0;top:65px;box-shadow:0 4px 8px 0 var(--globalColorBlackAlpha10);padding:6px 12px}[_nghost-%COMP%]   .link-copied-tip[_ngcontent-%COMP%]   .workspace-connection-copied-message[_ngcontent-%COMP%]{white-space:pre-wrap}[_nghost-%COMP%]   .connection-string[_ngcontent-%COMP%]{height:24px;background-color:var(--colorNeutralBackground4);line-height:24px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   #workspace-license-mode-setting-label[_ngcontent-%COMP%], [_nghost-%COMP%]   #workspace-default-storage-format-label[_ngcontent-%COMP%], [_nghost-%COMP%]   #workspace-connection-setting-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .capacity-label[_ngcontent-%COMP%]{font-weight:600}"],changeDetection:0}),i}(),Ls=u(23558),Ws=u(24692),Ns=["storageTable"];function $s(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",25),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.deleteArtifactErrorMessage$))&&void 0!==o?o:""))}}function Us(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275element(1,"div",26),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind1(3,2,n.storageSizeUsedByOthersWithUnit$)," ",e.\u0275\u0275pipeBind1(4,4,"Trident_Workspace_Settings_Storage_Owned_By_Others")," ")}}function Vs(i,r){1&i&&e.\u0275\u0275element(0,"th",27)}function js(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",36),e.\u0275\u0275elementContainerEnd())}function Hs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",37),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var f=e.\u0275\u0275nextContext(2).$implicit,b=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(b.deleteArtifact(f))})("keydown",function(f){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.onDeleteButtonKeyDown(f))}),e.\u0275\u0275pipe(1,"localizeFormat"),e.\u0275\u0275element(2,"tri-svg-icon",38),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2),o=t.index,a=t.$implicit,l=e.\u0275\u0275nextContext();e.\u0275\u0275property("tabIndex",l.focussedDeleteButtonIndex===o?0:-1),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(1,2,"Hierarchy_Format_Level_Delete",a.name))}}function Ks(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"td"),e.\u0275\u0275template(1,js,2,0,"ng-container",34),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Hs,3,5,"ng-template",null,35,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){var a,n=e.\u0275\u0275reference(4),t=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(a=e.\u0275\u0275pipeBind1(2,2,o.artifactDeleteInProgress$))?null:a[t.modelId])("ngIfElse",n)}}function Xs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tr",28),e.\u0275\u0275listener("keydown",function(v){e.\u0275\u0275restoreView(n);var f=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(f.onRowKeyDown(v))}),e.\u0275\u0275elementStart(2,"td",29),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td",30),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td",31),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"td",32),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,Ks,5,4,"td",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=r.$implicit,o=r.index,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("tabindex",a.focussedRowIndex===o?0:-1),e.\u0275\u0275advance(1),e.\u0275\u0275property("triTooltip",t.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.name," "),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("triTooltip","",t.sizeInMBs," MB"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.sizeInMBs," MB"),e.\u0275\u0275advance(1),e.\u0275\u0275property("triTooltip",t.typeText),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.typeText),e.\u0275\u0275advance(1),e.\u0275\u0275property("triTooltip",a.getRelatedObjects(t)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",a.getRelatedObjects(t),""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.isWorkspaceAdmin)}}var Ka=function(r){return{width:r}},Qs=function(){function i(r,n,t,o){var a=this;this.workspaceSettingsService=r,this.datasetStore=n,this.localizationService=t,this.telemetryService=o,this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.focussedRowIndex=0,this.focussedDeleteButtonIndex=-1,this.totalStorageQuotaInMB$=new W.X(0),this.storageUsageArtifacts$=new W.X([]),this.storageUsedByIdentityInMB$=this.storageUsageArtifacts$.pipe((0,ge.U)(function(l){return a.workspaceSettingsService.isPremium?0:l.reduce(function(v,f){return v+f.sizeInMBs},0)})),this.storageUsedByOthersInMB$=new W.X(0),this.totalStorageUsedInMB$=(0,je.aj)([this.storageUsedByIdentityInMB$,this.storageUsedByOthersInMB$]).pipe((0,ge.U)(function(l){return a.workspaceSettingsService.isPremium?0:l[0]+l[1]})),this.totalStorageAvailableWithUnit$=(0,je.aj)([this.totalStorageQuotaInMB$,this.totalStorageUsedInMB$]).pipe((0,ge.U)(function(l){return Fr(l[0]-l[1],a.localizationService)})),this.storageSizeUsedByIdentityWithUnit$=this.storageUsedByIdentityInMB$.pipe((0,ge.U)(function(l){return Fr(l,a.localizationService)})),this.storageSizeUsedByOthersWithUnit$=this.storageUsedByOthersInMB$.pipe((0,ge.U)(function(l){return Fr(l,a.localizationService)})),this.totalStorageQuoutaWithUnit$=this.totalStorageQuotaInMB$.pipe((0,ge.U)(function(l){return Fr(l,a.localizationService)})),this.deleteArtifactErrorMessage$=this.workspaceSettingsService.deleteArtifactErrorMessage$.pipe((0,ge.U)(function(l){return l?.message})),this.artifactDeleteInProgress$=this.workspaceSettingsService.artifactsBeingDeleted$.pipe((0,Ls.M)(this.storageUsageArtifacts$),(0,ge.U)(function(l){var v=l[0],b={};return l[1].forEach(function(z){b[z.modelId]=!1}),v.forEach(function(z){b[z]=!0}),b})),this.errorDismissed$=new W.X(!1),this.zoneClicksRemoved=!1,this.datasetsSubscription=this.datasetStore.datasets.subscribe(function(){a.updateStorageInfo()})}return i.prototype.ngOnInit=function(){this.updateStorageInfo(),this.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Open system storage",featureName:"Fabric Workspace Settings"})},i.prototype.ngAfterViewChecked=function(){!this.zoneClicksRemoved&&this.storageUsageArtifacts$.value.length&&(this.removeZoneClickFromTableCells(),this.zoneClicksRemoved=!0)},i.prototype.ngOnDestroy=function(){var r;null===(r=this.datasetsSubscription)||void 0===r||r.unsubscribe()},i.prototype.getRelatedObjects=function(r){return(0,N.ev)((0,N.ev)([],r.reportsFromModel,!0),r.dashboardsFromModel,!0).map(function(n){return n.displayName}).join(", ")},i.prototype.deleteArtifact=function(r){var n=this;this.workspaceSettingsService.deleteArtifact(r.modelId,r.packageId,r.storageType).then(function(t){t&&(n.storageUsageArtifacts$.pipe((0,ye.q)(1)).subscribe(function(a){var l=a.findIndex(function(v){return v.modelId===r.modelId});l>=0&&n.storageUsageArtifacts$.next((0,N.ev)((0,N.ev)([],a.slice(0,l),!0),a.slice(l+1),!0))}),n.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Delete artifact",featureName:"Fabric Workspace Settings"}))})},i.prototype.dismissError=function(){this.errorDismissed$.next(!0)},i.prototype.getErrorMessageBarViewModel=function(r){var n=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return n.dismissError()},message:r}},i.prototype.onRowKeyDown=function(r){var n=-1,t=-1;switch(r.key){case"ArrowUp":-1==(n=this.focussedRowIndex-1)&&(n=this.storageUsageArtifacts$.value.length-1);break;case"ArrowDown":(n=this.focussedRowIndex+1)===this.storageUsageArtifacts$.value.length&&(n=0);break;case"ArrowLeft":case"ArrowRight":if(!this.isWorkspaceAdmin)return;t=this.focussedRowIndex,n=-1;break;default:return}this.focusOnNextItem(n,t)},i.prototype.onDeleteButtonKeyDown=function(r){var n=-1,t=-1;switch(r.key){case"ArrowUp":-1==(t=this.focussedDeleteButtonIndex-1)&&(t=this.storageUsageArtifacts$.value.length-1);break;case"ArrowDown":(t=this.focussedDeleteButtonIndex+1)===this.storageUsageArtifacts$.value.length&&(t=0);break;case"ArrowLeft":case"ArrowRight":n=this.focussedDeleteButtonIndex,t=-1;break;default:return}r.preventDefault(),r.stopImmediatePropagation(),this.focusOnNextItem(n,t)},i.prototype.focusOnNextItem=function(r,n){var t,o,a;if(this.focussedRowIndex=r,this.focussedDeleteButtonIndex=n,null!==(t=this.storageTable)&&void 0!==t&&t.nativeElement)if(-1!==r){var l=null===(o=this.storageTable.nativeElement.getElementsByClassName("storage-systems-artifact-row"))||void 0===o?void 0:o.item(r);l?.focus(),l?.scrollIntoView()}else if(-1!==n){var v=null===(a=this.storageTable.nativeElement.getElementsByClassName("storage-row-delete-button"))||void 0===a?void 0:a.item(n);v?.focus(),v?.scrollIntoView()}},i.prototype.removeZoneClickFromTableCells=function(){var r,n,t;if(null!==(r=this.storageTable)&&void 0!==r&&r.nativeElement)for(var a=0,l=Array.from(this.storageTable.nativeElement.getElementsByTagName("td"));a<l.length;a++)null===(t=(n=l[a]).removeAllListeners)||void 0===t||t.call(n,"click")},i.prototype.updateStorageInfo=function(){this.storageUsageArtifacts$.next(this.workspaceSettingsService.getStorageArtifacts()),this.totalStorageQuotaInMB$.next(this.workspaceSettingsService.getUserUsageQuotaInMB())},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(Ws.h),e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(Tt.t))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-storage-systems"]],viewQuery:function(n,t){var o;(1&n&&e.\u0275\u0275viewQuery(Ns,5),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(t.storageTable=o.first))},decls:58,vars:64,consts:[[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"storage-usage-container","tri-flex","tri-flex-col"],[1,"storage-usage-full","tri-flex"],[1,"total-storage-percentage"],[1,"total-quota-legend","tri-flex"],[1,"storage-usage-legend","storage-unused"],[1,"storage-usage-bar","tri-flex"],[1,"storage-bar","storage-used-by-me",3,"ngStyle"],[1,"storage-bar","storage-used-by-others",3,"ngStyle"],[1,"storage-bar","storage-unused","tri-flex-grow"],[1,"storage-usage-legends"],[1,"tri-flex"],[1,"storage-usage-legend","storage-used-by-me"],["class","tri-flex",4,"ngIf"],[1,"scroller"],[1,"storage-artifacts-table",2,"width","100%"],["storageTable",""],[1,"storage-artifacts-table-header",2,"width","200px"],[1,"storage-artifacts-table-header",2,"width","60px"],[1,"storage-artifacts-table-header",2,"width","145px"],[1,"storage-artifacts-table-header",2,"width","160px"],["class","storage-artifacts-table-header","style","width:40px",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"fogofscroll"],[1,"fog"],[3,"viewModel","hideMessageBar"],[1,"storage-usage-legend","storage-used-by-others"],[1,"storage-artifacts-table-header",2,"width","40px"],[1,"storage-systems-artifact-row",3,"tabindex","keydown"],[1,"storage-system-cell",2,"max-width","200px",3,"triTooltip"],[1,"storage-system-cell",2,"max-width","60px",3,"triTooltip"],[1,"storage-system-cell",2,"max-width","145px",3,"triTooltip"],[1,"storage-system-cell",2,"max-width","160px",3,"triTooltip"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["deleteButton",""],[1,"delete-artifact-spinner"],["tri-button","","appearance","subtle",1,"storage-row-delete-button",3,"tabIndex","click","keydown"],["name","delete_20_regular"]],template:function(n,t){if(1&n&&(e.\u0275\u0275template(0,$s,2,3,"tri-message-bar",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"div",1)(4,"div",2)(5,"span"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localizeFormat"),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"span",3),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",4),e.\u0275\u0275element(15,"div",5),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localizeFormat"),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"div",6),e.\u0275\u0275element(20,"div",7),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275element(23,"div",8),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275pipe(25,"async"),e.\u0275\u0275element(26,"div",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",10)(28,"div",11),e.\u0275\u0275element(29,"div",12),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"async"),e.\u0275\u0275pipe(32,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(33,Us,5,6,"div",13),e.\u0275\u0275pipe(34,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(35,"div",14)(36,"table",15,16)(38,"thead")(39,"tr")(40,"th",17),e.\u0275\u0275text(41),e.\u0275\u0275pipe(42,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"th",18),e.\u0275\u0275text(44),e.\u0275\u0275pipe(45,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"th",19),e.\u0275\u0275text(47),e.\u0275\u0275pipe(48,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"th",20),e.\u0275\u0275text(50),e.\u0275\u0275pipe(51,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(52,Vs,1,0,"th",21),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(53,"tbody"),e.\u0275\u0275template(54,Xs,11,10,"ng-container",22),e.\u0275\u0275pipe(55,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(56,"div",23),e.\u0275\u0275element(57,"div",24),e.\u0275\u0275elementEnd()()),2&n){var v,o=void 0,a=void 0,l=void 0;e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,15,t.errorDismissed$)&&e.\u0275\u0275pipeBind1(2,17,t.deleteArtifactErrorMessage$)),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind3(7,19,"Trident_Workspace_Settings_Storage_Used_Of_Format",e.\u0275\u0275pipeBind1(8,23,t.storageSizeUsedByIdentityWithUnit$),e.\u0275\u0275pipeBind1(9,25,t.totalStorageQuoutaWithUnit$)),"\xa0 "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("(",(100*(null!==(o=e.\u0275\u0275pipeBind1(12,27,t.totalStorageUsedInMB$))&&void 0!==o?o:0)/(null!==(o=e.\u0275\u0275pipeBind1(13,29,t.totalStorageQuotaInMB$))&&void 0!==o?o:1)).toFixed(2),"%)"),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(17,31,"Trident_Workspace_Settings_Storage_Available_Format",e.\u0275\u0275pipeBind1(18,34,t.totalStorageAvailableWithUnit$))," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(60,Ka,(100*(null!==(a=e.\u0275\u0275pipeBind1(21,36,t.storageUsedByIdentityInMB$))&&void 0!==a?a:0)/(null!==(a=e.\u0275\u0275pipeBind1(22,38,t.totalStorageQuotaInMB$))&&void 0!==a?a:1)).toFixed(2)+"%")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(62,Ka,(100*(null!==(l=e.\u0275\u0275pipeBind1(24,40,t.storageUsedByOthersInMB$))&&void 0!==l?l:0)/(null!==(l=e.\u0275\u0275pipeBind1(25,42,t.totalStorageQuotaInMB$))&&void 0!==l?l:1)).toFixed(2)+"%")),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind1(31,44,t.storageSizeUsedByIdentityWithUnit$)," ",e.\u0275\u0275pipeBind1(32,46,"QuotaManagement_OwnedByMe")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",null!==(v=e.\u0275\u0275pipeBind1(34,48,t.storageUsedByOthersInMB$))&&void 0!==v&&v),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(42,50,"Name")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(45,52,"QuotaManagement_ModelSize")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(48,54,"Type")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(51,56,"Trident_Workspace_Settings_Storage_Related_Objects_Header"),""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isWorkspaceAdmin),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(55,58,t.storageUsageArtifacts$))}},dependencies:[g.NgForOf,g.NgIf,g.NgStyle,T.M,He.D,it.h,xt.Z,g.AsyncPipe,k.Y,k.A],styles:["[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:14px;line-height:20px}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .total-storage-percentage[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .total-quota-legend[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .storage-used-by-me[_ngcontent-%COMP%]{background-color:#0078d4}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .storage-used-by-others[_ngcontent-%COMP%]{background-color:#917edb}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .storage-unused[_ngcontent-%COMP%]{background-color:#edebe9}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .storage-usage-legend[_ngcontent-%COMP%]{height:10px;width:10px;margin-right:4px;display:flex;align-self:center}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .storage-usage-bar[_ngcontent-%COMP%]{height:24px;margin:4px 0}[_nghost-%COMP%]   .storage-artifacts-table[_ngcontent-%COMP%]{width:100%;margin-top:24px}[_nghost-%COMP%]   .storage-artifacts-table[_ngcontent-%COMP%]   .storage-artifacts-table-header[_ngcontent-%COMP%]{height:40px;text-align:left}[_nghost-%COMP%]   .storage-artifacts-table[_ngcontent-%COMP%]   .delete-artifact-spinner[_ngcontent-%COMP%]{padding:0 12px}[_nghost-%COMP%]   .storage-artifacts-table[_ngcontent-%COMP%]   .storage-system-cell[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .scroller[_ngcontent-%COMP%]{width:100%;overflow-x:auto;padding-right:32px}[_nghost-%COMP%]   .fogofscroll[_ngcontent-%COMP%]{position:absolute;width:48px;height:100%;top:0;right:0;pointer-events:none;padding-bottom:24px;z-index:500}[_nghost-%COMP%]   .fogofscroll[_ngcontent-%COMP%]   .fog[_ngcontent-%COMP%]{height:100%;width:100%;background:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgb(255,255,255) 79%,rgb(255,255,255) 100%)}"],changeDetection:0}),i}();function Fr(i,r){return i>1024?r.format("QuotaUsage_SizeInGB",Math.floor(i/1024)):r.format("QuotaUsage_SizeInMB",i)}var Wi,Ni,Ys=u(37272),Xt=u(77526),Dt=u(59822),ft=u(81905),Xa=u(88255),Ca=u(24874),gn=u(8697),Qa=u(35030),me=u(18016),mn=u(12587),Sa=u(92363),Ya=function(){function i(r,n,t){this.gitStatusFacade=r,this.gitConnectionService=n,this.featureSwitchService=t,this.gitStatusMode=this.featureSwitchService.featureSwitches.tridentGitStatusAPI?ne.pPx.SingleCall:ne.pPx.SeparateCalls}return i.prototype.getGitStatus=function(r){return this.gitStatusFacade.getGitStatus(r)},i.prototype.loadGitStatus=function(r){return this.gitStatusMode===ne.pPx.SeparateCalls?(this.loadIncomingChanges(r),this.loadUncommittedChanges(r)):this.gitStatusFacade.loadGitStatus(r),this.getGitStatus(r)},i.prototype.isStatusLoaded=function(r){switch(this.gitStatusMode){case ne.pPx.SeparateCalls:return(0,je.aj)([this.getIncomingChangesLoadingState(r),this.getUncommittedChangesLoadingState(r)]).pipe((0,ge.U)(function(n){return n[0]===ne.Gui.Loaded&&n[1]===ne.Gui.Loaded}));case ne.pPx.SingleCall:return this.getStatusLoadingState(r).pipe((0,ge.U)(function(n){return n===ne.Gui.Loaded}))}},i.prototype.isStatusError=function(r){switch(this.gitStatusMode){case ne.pPx.SeparateCalls:return(0,je.aj)([this.getIncomingChangesLoadingState(r),this.getUncommittedChangesLoadingState(r)]).pipe((0,ge.U)(function(n){var o=n[1];return(0,me.pb)(n[0])||(0,me.pb)(o)}));case ne.pPx.SingleCall:return this.getStatusLoadingState(r).pipe((0,ge.U)(function(n){return(0,me.pb)(n)}))}},i.prototype.getStatusLoadingState=function(r){return this.gitStatusFacade.getStatusLoadingState(r)},i.prototype.getAllChanges=function(r){return this.gitStatusFacade.getAllChanges(r)},i.prototype.getIncomingChanges=function(r){return this.gitStatusFacade.getIncomingChanges(r)},i.prototype.getUncommittedChanges=function(r){return this.gitStatusFacade.getUncommittedChanges(r)},i.prototype.loadUncommittedChanges=function(r){return this.gitStatusFacade.loadUncommittedChanges(r)},i.prototype.getUncommittedChangesCount=function(r){return this.gitStatusFacade.getUncommittedChanges(r).pipe((0,ge.U)(function(n){return n.length}))},i.prototype.getUncommittedChangesLoadingState=function(r){return this.gitStatusFacade.getUncommittedChangesLoadingState(r)},i.prototype.getUncommittedArtifactsSelectionState=function(r){return this.gitStatusFacade.getUncommittedArtifactsSelectionState(r)},i.prototype.setChangesArtifactSelection=function(r,n,t,o){this.gitStatusFacade.setChangesArtifactSelection(r,n,t,o)},i.prototype.clearChangesArtifactSelection=function(r){this.gitStatusFacade.clearChangesArtifactSelection(r)},i.prototype.loadIncomingChanges=function(r){return this.gitStatusFacade.loadIncomingChanges(r)},i.prototype.getIncomingChangesCount=function(r){return this.gitStatusFacade.getIncomingChanges(r).pipe((0,ge.U)(function(n){return n.length}))},i.prototype.getIncomingChangesLoadingState=function(r){return this.gitStatusFacade.getIncomingChangesLoadingState(r)},i.prototype.getIncomingChangesCommitId=function(r){return this.gitStatusFacade.getIncomingChangesCommitId(r)},i.prototype.refreshUncommittedChanges=function(r){return this.gitConnectionService.loadGitConnection(r).pipe((0,ye.q)(1),(0,Me.h)(function(n){var t;return void 0!==(null===(t=n?.gitConnectionDetails)||void 0===t?void 0:t.isInitialized)}),(0,ge.U)(function(){return(0,ne.x6e)({workspaceId:r})}))},i.prototype.hasConflictChange=function(r){return this.gitStatusFacade.getIncomingChanges(r).pipe((0,ge.U)(function(n){return n.some(function(t){return 1===t.syncStatus})}))},i.prototype.getGitStatusLoadingState=function(r){var n=this;return this.getGitStatus(r).pipe((0,ge.U)(function(t){var o;switch(n.gitStatusMode){case ne.pPx.SeparateCalls:return t?.incomingChangesCallState===ne.Gui.Loaded&&t?.uncommittedChangesCallState===ne.Gui.Loaded?ne.Gui.Loaded:t?.incomingChangesCallState===ne.Gui.Loading||t?.uncommittedChangesCallState===ne.Gui.Loading?ne.Gui.Loading:ne.Gui.Initial;case ne.pPx.SingleCall:return null!==(o=t?.statusCallState)&&void 0!==o?o:ne.Gui.Initial}}))},i.prototype.getGitStatusError=function(r){switch(this.gitStatusMode){case ne.pPx.SeparateCalls:return(0,je.aj)([this.getIncomingChangesLoadingState(r),this.getUncommittedChangesLoadingState(r)]).pipe((0,ge.U)(function(n){var t=n[0],o=n[1];return(0,me.pb)(t)?t:(0,me.pb)(o)?o:void 0}));case ne.pPx.SingleCall:return this.getStatusLoadingState(r).pipe((0,ge.U)(function(n){return(0,me.pb)(n)?n:void 0}))}},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275inject(ne.F8e),e.\u0275\u0275inject(ze.rC),e.\u0275\u0275inject(_t.V$))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i}(),At=((Wi={})[0]={icon:"added",stringId:"Added"},Wi[1]={icon:"modified",stringId:"Modified"},Wi[2]={icon:"deleted",stringId:"Deleted"},(Ni={})[1]={icon:"conflict",stringId:"Conflict"},Ni[2]={icon:"same_changes",stringId:"Trident_Git_Same_Changes_Tooltip"},Ni[0]={icon:"",stringId:""},function(i){return i[i.None=0]="None",i[i.GitProviderType=1]="GitProviderType",i[i.Organization=2]="Organization",i[i.Project=3]="Project",i[i.Repository=4]="Repository",i[i.Branch=5]="Branch",i[i.IteratorLast=6]="IteratorLast",i}({}));function Za(i){return{panelClass:"dialog-style",width:Ge.PW.Medium+"px",data:{title:i.get("Trident_Git_Switch_Branch_Confirmation_Title"),buttons:[{name:i.get("Trident_Git_Switch_Branch_Button_Text"),label:i.get("Trident_Git_Switch_Branch_Button_Text"),buttonType:"primary"},{name:i.get("Cancel_ButtonText"),label:i.get("Cancel_ButtonText"),buttonType:null}],content:i.get("Trident_Git_Switch_Branch_Confirmation_Content")}}}function Ja(i){return{bannerType:0,message:i.get("Trident_Git_No_Branches_In_Repo_Message")}}var qa=function(){function i(r,n){this.dialogRef=r,this.data=n}return i.prototype.ChangeToCreateFolderData=function(r){return{title:r.title,buttons:r.buttons}},i.prototype.clickButton=function(r){"Cancel"===r?this.dialogRef.close():this.dialogRef.close(!0)},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ee.so),e.\u0275\u0275directiveInject(Ee.WI))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-git-connection-create-folder"]],decls:3,vars:6,consts:[[3,"dialogData","closeButtonLabel","buttonClickEvent"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"trident-dialog",0),e.\u0275\u0275listener("buttonClickEvent",function(a){return t.clickButton(a)}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("dialogData",t.ChangeToCreateFolderData(t.data))("closeButtonLabel",e.\u0275\u0275pipeBind1(1,4,"Cancel_ButtonText")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" ",t.data.folderName,"",t.data.content,"\n"))},dependencies:[y.v,k.Y],encapsulation:2,changeDetection:0}),i}(),es="disconnectButton",oc=function(){function i(r,n){this.data=r,this.localizationService=n,this.dialogData={title:this.localizationService.format("Trident_Git_Disconnect_Dialog_Title",[this.data.workspaceName]),buttons:[{name:es,label:this.localizationService.get("BYOResources_Disconnect_Button_Workspace"),buttonType:"primary"},{name:"cancelButton",label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]}}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ee.WI),e.\u0275\u0275directiveInject(xe.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-git-disconnect-dialog"]],decls:4,vars:5,consts:[[3,"dialogData","passthroughButtonClickEvent"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"trident-dialog",0)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275property("dialogData",t.dialogData)("passthroughButtonClickEvent",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,3,"Trident_Git_Disconnect_Dialog_Content")," "))},dependencies:[y.v,k.Y],styles:["[_nghost-%COMP%]     .mat-dialog-content.dialog-body{padding:20px 0}"],changeDetection:0}),i}(),ts=function(){function i(r,n){this.dialogRef=r,this.data=n}return i.prototype.PopulateDialog=function(r){return{title:r.title,buttons:r.buttons}},i.prototype.clickButton=function(r){"Cancel"===r?this.dialogRef.close():this.dialogRef.close(!0)},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ee.so),e.\u0275\u0275directiveInject(Ee.WI))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-git-switch-branch-dialog"]],decls:6,vars:9,consts:[[3,"dialogData","closeButtonLabel","buttonClickEvent"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2241304","localize","LearnMore","localize-tooltip","LearnMore"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"trident-dialog",0),e.\u0275\u0275listener("buttonClickEvent",function(a){return t.clickButton(a)}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275text(2),e.\u0275\u0275elementStart(3,"tri-link",1),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275property("dialogData",t.PopulateDialog(t.data))("closeButtonLabel",e.\u0275\u0275pipeBind1(1,5,"Cancel_ButtonText")),e.\u0275\u0275attribute("data-testid","switch-branch-dialog"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.data.content," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,7,"LearnMore")," "))},dependencies:[y.v,O.v,k.Y],encapsulation:2,changeDetection:0}),i}(),ya=u(86668),Un=u(40773),Vn=u(31572),ac=u(71707),ba=u(4511);function sc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",3),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",6),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_AAD")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.userAccount)}}function cc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",3),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",6),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&i){var n=r.ngIf;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.datasourceName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.url)}}function lc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,cc,5,2,"div",0),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,n.selectedDatasource$))}}function dc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div")(2,"div",3),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4),e.\u0275\u0275template(8,sc,6,4,"div",5),e.\u0275\u0275template(9,lc,3,3,"div",5),e.\u0275\u0275elementEnd()()),2&i){var n=r.ngIf,t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,5,"SettingsDataSource_SettingsLabel_Provider")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,7,t.selectedGitProviderDisplayName$)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitch",n.connectedProviderDetailsType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ConnectedProviderDetailsType.UserAccountDetails),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ConnectedProviderDetailsType.DatasourceDetails)}}function pc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,dc,10,9,"div",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,n.gitProviderConfig$))}}var uc=function(i){function r(n,t,o){var a=i.call(this)||this;return a.gitSessionStorageService=n,a.gitDatasourceService=t,a.userInfoTridentService=o,a.ConnectedProviderDetailsType=Vn.P0,a.gitProviderInfo=me.Rv,a.workspaceId="",a.componentConfigMap=(0,Vn.EI)(),a.selectedGitProvider$=new W.X(void 0),a.selectedDatasourceOID$=new W.X(void 0),a.selectedDatasource$=new W.X(void 0),a.selectedGitProviderDisplayName$=new W.X(void 0),a.gitProviderConfig$=new W.X(void 0),a.showDetails$=(0,be.of)(!1),a.userAccount="",a}return(0,N.ZT)(r,i),r.prototype.ngOnInit=function(){var n=this;this.userAccount=this.userInfoTridentService.name,this.showDetails$=this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId).pipe((0,Re.R)(this.onDestroy$),(0,Ve.b)(function(t){n.updateSessionStorageInfo(t)}),(0,ft.w)(function(){return n.gitDatasourceService.getDatasources({gitProviderType:n.selectedGitProvider$.value,workspaceId:n.workspaceId})}),(0,ge.U)(function(t){if(void 0!==n.selectedGitProvider$.value&&void 0!==n.selectedDatasourceOID$.value){var o=t?.datasourcesRecord?t.datasourcesRecord[n.selectedGitProvider$.value]:[];n.selectedDatasource$.next(o?.find(function(a){return a.id===n.selectedDatasourceOID$.value}))}return!0}))},r.prototype.updateSessionStorageInfo=function(n){void 0!==n.selectedGitProviderType&&(this.gitProviderConfig$.next(this.componentConfigMap[n?.selectedGitProviderType]),this.selectedGitProvider$.next(n?.selectedGitProviderType),this.selectedGitProviderDisplayName$.next(this.gitProviderInfo[n?.selectedGitProviderType].name)),this.selectedDatasourceOID$.next(n?.selectedDatasourceOID)},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(ne.gCl),e.\u0275\u0275directiveInject(Un.Ae),e.\u0275\u0275directiveInject(Sa.NQ))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-connected-provider-details"]],inputs:{workspaceId:"workspaceId"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[4,"ngIf"],["class","connected-provider-info",4,"ngIf"],[1,"connected-provider-info"],[1,"title"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"trimmedTextWithEllipsis"]],template:function(t,o){1&t&&(e.\u0275\u0275template(0,pc,3,3,"div",0),e.\u0275\u0275pipe(1,"async")),2&t&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,o.showDetails$))},dependencies:[g.NgIf,g.NgSwitch,g.NgSwitchCase,g.AsyncPipe,k.Y],styles:[".connected-provider-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:8px;gap:4px}.title[_ngcontent-%COMP%]{font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300);line-height:20px}"]}),r}(mn.w),mc=u(81544),ns=u(92710);function vc(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Trident_Git_Accounts")))}function hc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",11),e.\u0275\u0275listener("change",function(){var v=e.\u0275\u0275restoreView(n).$implicit,f=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(f.selectedUserAccountChanged(v))}),e.\u0275\u0275elementStart(1,"div",12)(2,"span",13),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",14),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()()}if(2&i){var t=r.$implicit,o=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("value",t.id)("checked",o.isDataSourceChecked(t)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.datasourceName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.url)}}function fc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,vc,3,3,"div",4),e.\u0275\u0275elementStart(2,"div")(3,"tri-radio-group",5),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,hc,6,4,"tri-radio-button",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",7)(7,"button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.authorizeNewAccount())}),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275element(9,"tri-svg-icon",9),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext().ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.isPartOfCollapsible),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(4,8,o.doesWorkspaceNeedCapacity$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(8,10,o.doesWorkspaceNeedCapacity$)),e.\u0275\u0275attribute("data-testid","authorize-new-user-button"),e.\u0275\u0275advance(2),e.\u0275\u0275property("name","add_16_regular")("sprite","fluentui-icons"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,12,"Trident_Git_Authorize_New_User")," ")}}function Cc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,fc,12,14,"div",3),e.\u0275\u0275elementEnd()),2&i){var n=r.ngIf;e.\u0275\u0275nextContext();var t=e.\u0275\u0275reference(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==n.length)("ngIfElse",t)}}function Sc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-empty-state",15),e.\u0275\u0275listener("buttonClicked",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.authorizeNewAccount())}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getEmptyStateModel())}}var bc=function(i){function r(n,t,o,a,l){var v=i.call(this)||this;return v.gitDatasourceService=n,v.gitSessionStorageService=t,v.localizationService=o,v.gitConnectionService=a,v.dialogService=l,v.workspaceId="",v.isPartOfCollapsible=!1,v.componentConfigMap=(0,Vn.EI)(),v.selectedDatasourceOID$=new W.X(void 0),v.doesWorkspaceNeedCapacity$=new W.X(!0),v.selectedDatasource$=new W.X(void 0),v.datasourceList$=new W.X(void 0),v}return(0,N.ZT)(r,i),r.prototype.ngOnInit=function(){var n=this;this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId).pipe((0,Re.R)(this.onDestroy$),(0,Ve.b)(function(t){n.selectedDatasourceOID$.next(t.selectedTempDatasourceOID),n.doesWorkspaceNeedCapacity$.next(!t.isWorkspaceOnCapaity)}),(0,ge.U)(function(t){return t.selectedGitProviderType}),(0,ft.w)(function(t){return n.selectedGitProvider=t,(0,je.aj)([n.gitConnectionService.getGitConnection(n.workspaceId),n.gitDatasourceService.getDatasources({workspaceId:n.workspaceId,gitProviderType:t})])}),(0,Me.h)(function(t){var a=t[1];return void 0!==a&&a.callState===ne.j3q.Completed}),(0,Ve.b)(function(t){var o,a,l,v,f,b,z=t[0],te=t[1],ue=te.datasourcesRecord?te.datasourcesRecord[n.selectedGitProvider]:void 0,ee=ue;if(z?.gitConnectionDetails){var se=null===(a=null===(o=n.componentConfigMap[n.selectedGitProvider])||void 0===o?void 0:o.getFilteringValue)||void 0===a?void 0:a.call(o,z.gitConnectionDetails);void 0!==se&&(ee=null!==(f=null===(v=(l=n.componentConfigMap[n.selectedGitProvider]).filterDatasources)||void 0===v?void 0:v.call(l,ue,se))&&void 0!==f?f:ue)}var Kn=null===(b=z?.gitConnectionDetails)||void 0===b?void 0:b.datasourceOID;ee&&Kn&&(ee=ee?.filter(function(ji){return ji.id!==Kn})),n.datasourceList$.next(ee),n.updateSelectedDatasource(ee)})).subscribe()},r.prototype.isDataSourceChecked=function(n){var t;return(null===(t=this.selectedDatasource$.value)||void 0===t?void 0:t.id)===n.id},r.prototype.selectedUserAccountChanged=function(n){this.selectedDatasource$.next(n),void 0!==this.selectedDatasource$.value&&this.gitSessionStorageService.selectTempDatasource(this.workspaceId,this.selectedDatasource$.value.id)},r.prototype.authorizeNewAccount=function(){var n=function(i){return{componentRef:mc.b,config:{panelClass:"dialog-style",width:"".concat(Ge.PW.Medium,"px"),data:i}}}(this.workspaceId);this.dialogService.open(n.componentRef,n.config).afterClosed().pipe((0,ye.q)(1)).subscribe()},r.prototype.dataSourcesListLength=function(){var n,t;return null!==(t=null===(n=this.datasourceList$.value)||void 0===n?void 0:n.length)&&void 0!==t?t:0},r.prototype.getEmptyStateModel=function(){return function(i,r){return{emptyStateType:9,iconType:3,title:i.get("Trident_Git_Empty_State_No_Authorized_Users_Title"),message:i.get("Trident_Git_Empty_State_No_Authorized_Users_Message"),buttonText:i.get("Trident_Git_Authorize_New_User"),isButtonDiabled:r}}(this.localizationService,this.doesWorkspaceNeedCapacity$)},r.prototype.updateSelectedDatasource=function(n){var o,a,t=this;if(n){if(this.selectedDatasource$.next(n?.find(function(v){return v.id===t.selectedDatasourceOID$.value})),1===n.length&&this.selectedDatasourceOID$.value!==(null===(o=n[0])||void 0===o?void 0:o.id)){var l=null===(a=n[0])||void 0===a?void 0:a.id;this.gitSessionStorageService.selectTempDatasource(this.workspaceId,l),this.selectedDatasourceOID$.next(l),this.selectedDatasource$.next(n[0])}}else this.selectedDatasource$.next(void 0)},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Un.Ae),e.\u0275\u0275directiveInject(ne.gCl),e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(Un.rC),e.\u0275\u0275directiveInject(ya.j))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-datasources-list"]],inputs:{workspaceId:"workspaceId",isPartOfCollapsible:"isPartOfCollapsible"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:3,consts:[[1,"data-sources-list"],[4,"ngIf"],["emptyState",""],[4,"ngIf","ngIfElse"],["class","accounts",4,"ngIf"],[3,"disabled"],["data-testid","dataSource.datasourceName","tabindex","0",3,"value","checked","change",4,"ngFor","ngForOf"],[1,"authorize-new-user"],["tri-button","","appearance","subtle",3,"disabled","click"],[3,"name","sprite"],[1,"accounts"],["data-testid","dataSource.datasourceName","tabindex","0",3,"value","checked","change"],[1,"data-source-info"],[1,"data-source-display-name"],[1,"data-source-url"],["data-testid","datasources-list-empty-state",1,"empty-state-container",3,"viewModel","buttonClicked"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Cc,2,2,"div",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Sc,1,1,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,o.datasourceList$)))},dependencies:[g.NgForOf,g.NgIf,T.M,ns.v,E.Y,B.Z,g.AsyncPipe,k.Y],styles:[".data-sources-list[_ngcontent-%COMP%]{padding-top:16px;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.accounts[_ngcontent-%COMP%]{font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300)}.data-source-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.title[_ngcontent-%COMP%], .git-provider[_ngcontent-%COMP%], .data-source-display-name[_ngcontent-%COMP%]{font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300);line-height:20px}.data-source-url[_ngcontent-%COMP%]{font-weight:var(--fontWeightMedium);font-size:var(--fontSizeBase200);line-height:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.authorize-new-user[_ngcontent-%COMP%]{border-top:1px solid var(--globalColorGrey82);padding-top:12px;margin-top:16px}"],changeDetection:0}),r}(mn.w),wc=function(r,n){return{"disabled-card":r,"card-selected":n}};function kc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"tri-card",7),e.\u0275\u0275listener("click",function(){var v=e.\u0275\u0275restoreView(n).$implicit,f=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(f.onGitProviderTypeChange(v.value.type))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275element(3,"tri-svg-icon",8),e.\u0275\u0275elementStart(4,"tri-card-header")(5,"div",9),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=r.$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(8,wc,!t.value.isEnabled,e.\u0275\u0275pipeBind1(2,6,o.selectedGitProvider$)===t.key)),e.\u0275\u0275attribute("title",o.getCardTooltip(t.value))("data-testid",t.value.name),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.value.iconName)("sprite","git-icons"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.value.name," ")}}function Ic(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",10)(1,"button",11),e.\u0275\u0275listener("click",function(){var a=e.\u0275\u0275restoreView(n).$implicit,l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onGitProviderTypeChange(a.value.type))}),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275attribute("data-testid","select-git-provider-sr-only"))}function xc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275template(5,kc,7,11,"div",5),e.\u0275\u0275pipe(6,"keyvalue"),e.\u0275\u0275template(7,Ic,2,1,"div",6),e.\u0275\u0275pipe(8,"keyvalue"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"Trident_Git_Provider")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(6,5,n.gitProviderInfo)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(8,7,n.gitProviderInfo))}}function Mc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",17)(1,"tri-collapsed-container",18),e.\u0275\u0275listener("collapseContainer",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onShowConnentionsChange(a))}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275element(3,"tri-git-datasources-list",19),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("headerText",e.\u0275\u0275pipeBind1(2,6,"Trident_Git_ShowMoreUsers"))("iconName","connected")("collapsed",!0),e.\u0275\u0275attribute("data-testid","datasource-list-switch-account-provider-accounts"),e.\u0275\u0275advance(2),e.\u0275\u0275property("workspaceId",t.workspaceId)("isPartOfCollapsible",!0)}}function Pc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.SwitchAccount())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("disabled",!0===e.\u0275\u0275pipeBind1(1,3,t.isShowMoreUsersCollapsed$)||!1===e.\u0275\u0275pipeBind1(2,5,t.isDatasourceSelected())||!1===e.\u0275\u0275pipeBind1(3,7,t.isWorkspaceOnCapacity$)),e.\u0275\u0275attribute("data-testid","switch-account-Github-button"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,9,"Storytelling_Switch")," ")}}function Tc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",25),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(o.LogOutFromDatasource())}),e.\u0275\u0275element(1,"tri-svg-icon",26),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275attribute("data-testid","logout-Github-button"),e.\u0275\u0275advance(1),e.\u0275\u0275property("name","log_out_16_regular")("sprite","git-icons"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Trident_Git_Log_Out")," "))}function Oc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",20)(1,"div"),e.\u0275\u0275template(2,Pc,6,11,"button",21),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,Tc,4,6,"button",22),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"tri-link",23),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,6,n.showSwitchAccountButton())),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(5,8,n.isConfiguredCredentials$)),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("href","groups/",n.workspaceId,"/gateways"),e.\u0275\u0275property("block",!0)("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,10,"Trident_Git_Manage_All_Users")," ")}}function Ec(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"tri-git-connected-provider-details",14),e.\u0275\u0275template(2,Mc,4,8,"div",15),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,Oc,9,12,"div",16),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("workspaceId",n.workspaceId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,3,n.showSwitchAccountButton())),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,5,n.showLogOutButton()))}}function Dc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"tri-git-datasources-list",14),e.\u0275\u0275elementStart(2,"div",20)(3,"button",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.connectWorkspaceToDatasource())}),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"tri-link",23),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("workspaceId",t.workspaceId),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!1===e.\u0275\u0275pipeBind1(4,8,t.isDatasourceSelected())||!1===e.\u0275\u0275pipeBind1(5,10,t.isWorkspaceOnCapacity$)),e.\u0275\u0275attribute("data-testid","connect-Github-button"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,12,"UploadExcel_Connect")," "),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("href","groups/",t.workspaceId,"/gateways"),e.\u0275\u0275property("block",!0)("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,14,"Trident_Git_Manage_All_Users")," ")}}function Bc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275template(1,Dc,11,16,"span",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,n.datasourceList$))}}function Gc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",29)(1,"div",31),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"tri-radio-group")(5,"tri-radio-button",32),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementStart(7,"div",33)(8,"span",34),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"span",35),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(13,"div",36)(14,"button",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.connectWorkspaceToUserAccount())}),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,8,"Trident_Git_Accounts")),e.\u0275\u0275advance(3),e.\u0275\u0275property("checked",!0)("disabled",!1===e.\u0275\u0275pipeBind1(6,10,t.isWorkspaceOnCapacity$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,12,"Trident_Git_AAD")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.userAccount),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.isUserAccountSelected()||!1===e.\u0275\u0275pipeBind1(15,14,t.isWorkspaceOnCapacity$)),e.\u0275\u0275attribute("data-testid","connect-ADO-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,16,"UploadExcel_Connect")," ")}}function zc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",27),e.\u0275\u0275template(1,Bc,3,3,"div",28),e.\u0275\u0275template(2,Gc,18,18,"div",28),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext().ngIf,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",null==n?null:n.displayMode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.AccountsListDisplayMode.ShowGitHubDataSourcesList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.AccountsListDisplayMode.ShowADOAccountsList)}}function Ac(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Ec,6,7,"div",12),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,zc,3,3,"ng-template",null,13,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275reference(4),t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(2,2,t.isConfiguredCredentials$))("ngIfElse",n)}}var Fc=function(i){function r(n,t,o,a,l,v,f,b,z,te,ue){var ee=i.call(this)||this;return ee.gitNotificationService=n,ee.gitErrorService=t,ee.gitDatasourceService=o,ee.gitSessionStorageService=a,ee.gitConnectionService=l,ee.gitConfigureCredentialsService=v,ee.tridentDialogService=f,ee.localizationService=b,ee.dialogService=z,ee.userInfoTridentService=te,ee.featureSwitchService=ue,ee.GitProviderType=me.IS,ee.AccountsListDisplayMode=Vn.NJ,ee.gitProviderInfo=new Map,ee.workspaceId="",ee.componentConfigMap=(0,Vn.EI)(),ee.isConnected$=new W.X(void 0),ee.selectedGitProvider$=new W.X(void 0),ee.gitProviderConfig$=new W.X(void 0),ee.isConfiguredCredentials$=new W.X(!1),ee.isShowMoreUsersCollapsed$=new W.X(!0),ee.isWorkspaceOnCapacity$=new W.X(!1),ee.datasourceList$=new W.X(void 0),ee.selectedDatasource$=new W.X(void 0),ee.configureCredentialsInProgress$=new W.X(!1),ee.userAccount="",ee}return(0,N.ZT)(r,i),r.prototype.ngOnInit=function(){var n=this;this.userAccount=this.userInfoTridentService.name,this.selectedGitProvider$.pipe((0,Re.R)(this.onDestroy$),(0,Me.h)(function(t){return void 0!==t}),(0,Me.h)(function(t){return!0===n.componentConfigMap[t].doesGitProviderNeedsDatasource}),(0,ye.q)(1)).subscribe(function(t){return n.updateDiscoveredDatasources(t)}),this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId).pipe((0,Re.R)(this.onDestroy$),(0,Ve.b)(function(t){n.updateSelectedGitProviderInfo(t),n.updateSelectedDatasource(t),n.isConfiguredCredentials$.next(void 0!==n.selectedGitProvider$.value&&n.componentConfigMap[n.selectedGitProvider$.value].isWorkspaceConnectedToGitProvider(t)),n.isWorkspaceOnCapacity$.next(!!t.isWorkspaceOnCapaity)})).subscribe(),this.gitConnectionService.getGitConnection(this.workspaceId).pipe((0,Re.R)(this.onDestroy$),(0,Xt.x)()).subscribe(function(t){t&&t.gitConnectionDetails?(n.isConnected$.next(!0),void 0!==n.selectedGitProvider$.value&&n.updateDiscoveredDatasources(n.selectedGitProvider$.value)):n.isConnected$.next(!1)}),this.populateGitProviderInfo()},r.prototype.onGitProviderTypeChange=function(n){this.gitSessionStorageService.selectGitProviderType(this.workspaceId,n)},r.prototype.SwitchAccount=function(){!1!==this.isConnected$.value&&this.sendConfigureCredentialsRequest()},r.prototype.connectWorkspaceToDatasource=function(){!1===this.isConnected$.value?(this.gitSessionStorageService.configureCredentials(this.workspaceId),this.updateSelectedFromTemp(!1)):this.sendConfigureCredentialsRequest()},r.prototype.onShowConnentionsChange=function(n){this.isShowMoreUsersCollapsed$.next(n)},r.prototype.connectWorkspaceToUserAccount=function(){this.userAccount&&(this.gitSessionStorageService.selectUserAccount(this.workspaceId,this.userAccount),this.gitSessionStorageService.configureCredentials(this.workspaceId))},r.prototype.isDatasourceSelected=function(){return this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId).pipe((0,ye.q)(1),(0,ge.U)(function(n){return void 0!==n.selectedTempDatasourceOID}))},r.prototype.isUserAccountSelected=function(){return void 0!==this.userAccount},r.prototype.LogOutFromDatasource=function(){var n=this;this.tridentDialogService.open(ac.A,{panelClass:"dialog-style",width:Ge.PW.Medium+"px",data:{workspaceId:this.workspaceId}}).afterClosed().pipe((0,ye.q)(1),(0,Ve.b)(function(){n.updateDiscoveredDatasources(n.selectedGitProvider$.value),n.isConfiguredCredentials$.next(!1),n.gitSessionStorageService.selectDatasource(n.workspaceId,void 0),n.isConnected$.value&&n.gitConnectionService.updateDatasourceInGitConnection(n.workspaceId,void 0)})).subscribe()},r.prototype.showLogOutButton=function(){return this.componentConfigMap[this.selectedGitProvider$.value].canTheUserLogOut(this.workspaceId,this.gitConnectionService)},r.prototype.getCardTooltip=function(n){return n.isEnabled?n.name:n.disabledTooltip},r.prototype.updateDiscoveredDatasources=function(n){var t=this;this.gitDatasourceService.discoverDatasources({workspaceId:this.workspaceId,gitProviderType:n}).pipe((0,Me.h)(function(o){return void 0!==o&&o.callState===ne.j3q.Completed}),(0,Ve.b)(function(o){t.datasourceList$.next(o.datasourcesRecord?o.datasourcesRecord[n]:void 0)})).subscribe()},r.prototype.populateGitProviderInfo=function(){var n=this,t=(0,Vn.yp)(this.featureSwitchService),o=this.localizationService.get("Trident_Git_Git_Provider_Card_Disabled_Tooltip");Object.entries(me.Rv).forEach(function(a){var v=a[1],f=Number(a[0]);n.gitProviderInfo.set(f,(0,N.pi)((0,N.pi)({},v),{isEnabled:t.get(f)||!1,disabledTooltip:o}))})},r.prototype.showSwitchAccountButton=function(){return this.componentConfigMap[this.selectedGitProvider$.value].shouldShowSwitchAccount(this.workspaceId,this.gitConnectionService,this.gitSessionStorageService)},r.prototype.sendConfigureCredentialsRequest=function(){var n=this;this.configureCredentialsInProgress$.getValue()||(this.configureCredentialsInProgress$.next(!0),this.gitConfigureCredentialsService.configureCredentials(this.selectedGitProvider$.value,this.workspaceId,this.selectedDatasource$.value).pipe((0,Ve.b)(function(){n.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Configure_Credentials_Success"),n.gitSessionStorageService.configureCredentials(n.workspaceId),n.updateSelectedFromTemp(),n.configureCredentialsInProgress$.next(!1)}),(0,ye.q)(1),(0,Dt.K)(function(t){n.configureCredentialsInProgress$.next(!1);var o=n.gitErrorService.makeGitErrorFromHttpResponse("Git_Configure_Credentials_Failed",t);return n.gitNotificationService.showErrorNotification(o,"Trident_Git_Toast_Configure_Credentials_Fail"),[]})).subscribe())},r.prototype.updateSelectedFromTemp=function(n){var t,o,a;void 0===n&&(n=!0);var l=null===(t=this.selectedDatasource$)||void 0===t?void 0:t.value;this.gitSessionStorageService.selectDatasource(this.workspaceId,l?.id),null===(a=(o=this.componentConfigMap[this.selectedGitProvider$.value]).selectDatasourceSideEffect)||void 0===a||a.call(o,this.gitSessionStorageService,l?.url,this.workspaceId),n&&this.gitConnectionService.updateDatasourceInGitConnection(this.workspaceId,l?.id),this.gitSessionStorageService.selectTempDatasource(this.workspaceId,void 0)},r.prototype.updateSelectedDatasource=function(n){var t=this;this.datasourceList$.pipe((0,Re.R)(this.onDestroy$)).subscribe(function(o){if(o){if(void 0!==n.selectedTempDatasourceOID)return void t.selectedDatasource$.next(o.find(function(a){return a.id===n.selectedTempDatasourceOID}));if(1===o.length)return void t.selectedDatasource$.next(o[0])}t.selectedDatasource$.next(void 0)})},r.prototype.updateSelectedGitProviderInfo=function(n){this.selectedGitProvider$.next(n?.selectedGitProviderType),this.gitProviderConfig$.next(void 0!==n?.selectedGitProviderType?this.componentConfigMap[n?.selectedGitProviderType]:void 0)},Object.defineProperty(r.prototype,"getComponentConfigMap",{get:function(){return this.componentConfigMap},enumerable:!1,configurable:!0}),r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Ie.mn),e.\u0275\u0275directiveInject(Be.jR),e.\u0275\u0275directiveInject(Un.Ae),e.\u0275\u0275directiveInject(ne.gCl),e.\u0275\u0275directiveInject(Un.rC),e.\u0275\u0275directiveInject(Un.id),e.\u0275\u0275directiveInject(Ge.uQ),e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(ya.j),e.\u0275\u0275directiveInject(Sa.NQ),e.\u0275\u0275directiveInject(_t.V$))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-provider-accounts"]],inputs:{workspaceId:"workspaceId"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:8,consts:[["class","git-provider-selection",4,"ngIf"],[4,"ngIf"],[1,"git-provider-selection"],[1,"git-provider"],[1,"git-providers"],[4,"ngFor","ngForOf"],["class","sr-only",4,"ngFor","ngForOf"],["orientation","horizontal",1,"git-provider-card",3,"ngClass","click"],[3,"name","sprite"],["tri-card-title","","triCardTitle",""],[1,"sr-only"],["tri-button","",3,"click"],[4,"ngIf","ngIfElse"],["workspaceNotConnectedToGitProvider",""],[3,"workspaceId"],["class","divider",4,"ngIf"],["class","github-footer",4,"ngIf"],[1,"divider"],[1,"switch-container",3,"headerText","iconName","collapsed","collapseContainer"],[3,"workspaceId","isPartOfCollapsible"],[1,"github-footer"],["tri-button","","class","switch-account-button","appearance","primary",3,"disabled","click",4,"ngIf"],["tri-button","","class","logout-button",3,"click",4,"ngIf"],["data-testid","manage-all-users-link",3,"block","href","external"],["tri-button","","appearance","primary",1,"switch-account-button",3,"disabled","click"],["tri-button","",1,"logout-button",3,"click"],["tri-svg-icon-16","",3,"name","sprite"],[3,"ngSwitch"],["class","git-provider-accounts",4,"ngSwitchCase"],[1,"git-provider-accounts"],["tri-button","","appearance","primary",1,"connect-button",3,"disabled","click"],[1,"accounts"],["data-testid","userAccount",3,"checked","disabled"],[1,"data-source-info"],[1,"data-source-display-name"],[1,"data-source-url"],[1,"footer"]],template:function(t,o){1&t&&(e.\u0275\u0275template(0,xc,9,9,"div",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Ac,5,4,"div",1),e.\u0275\u0275pipe(4,"async")),2&t&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,2,o.isConfiguredCredentials$)&&!0!==e.\u0275\u0275pipeBind1(2,4,o.isConnected$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,6,o.gitProviderConfig$)))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,g.NgSwitch,g.NgSwitchCase,O.v,T.M,ba.LB,ba.Pw,ba.Ab,Rr,E.Y,B.Z,uc,bc,g.AsyncPipe,g.KeyValuePipe,k.Y],styles:[".git-provider-selection[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding-top:16px}.git-provider-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:128px;height:128px}.accounts[_ngcontent-%COMP%]{font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300);padding-top:16px}.logout-button[_ngcontent-%COMP%]{margin:0 8px}.switch-container[_ngcontent-%COMP%]     .collapsible-picker-box{border:none;padding:0}.git-provider[_ngcontent-%COMP%]{font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300);line-height:20px}.git-provider-accounts[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.data-source-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.data-source-url[_ngcontent-%COMP%]{font-weight:var(--fontWeightMedium);font-size:var(--fontSizeBase200);line-height:16px}.git-providers[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px}.footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:16px}.divider[_ngcontent-%COMP%]{margin:24px 0;border-top:1px solid var(--globalColorGrey82);padding-top:24px}.github-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:16px;margin-top:16px;border-top:1px solid var(--globalColorGrey82)}.sr-only[_ngcontent-%COMP%]{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}.disabled-card[_ngcontent-%COMP%]{background:var(--globalColorGrey94);color:var(--globalColorGrey74);fill:var(--globalColorGrey74);box-shadow:None;cursor:not-allowed}.card-selected[_ngcontent-%COMP%]{background-color:var(--globalColorGrey92);border:1px solid var(--globalColorGrey82)}.disabled-card[_ngcontent-%COMP%]:active{pointer-events:none}"],changeDetection:0}),r}(mn.w);function Lc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",24),e.\u0275\u0275element(1,"tri-svg-icon",25),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,n.createBranchFailedMessage$)," ")}}function Wc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",26),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onBranchesSearch(o))}),e.\u0275\u0275elementEnd()}}function Nc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",27)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function $c(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",28),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Creating_ButtonText")," "))}function Uc(i,r){1&i&&(e.\u0275\u0275text(0),e.\u0275\u0275pipe(1,"localize")),2&i&&e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(1,1,"Create_ButtonText")," ")}var Vc=function(r){return{showFullContent:!1,dropdownHeight:r,dropdownWidth:304}},Kc=function(){function i(r,n,t){var o=this;this.telemetryService=n,this.dialog=t,this.branchesListFromInput=[],this.filteredBranchesList=[],this.firstBranch="",this.createButtonEnabled=!1,this.selectedBranchName="",this.selectedParentBranchName=null,this.loadingRequest$=new W.X(!1),this.createBranchFailedMessage$=new W.X(null),this.isWorkspaceConnected=void 0,this.destroy$=new dt.xQ,this.firstBranch=r.defaultRepoBranch,this.selectedParentBranchName={name:this.firstBranch},this.branchesListFromInput=r.branchesList,this.filteredBranchesList=r.branchesList,this.isWorkspaceConnected=r.isWorkspaceConnected,this.createNewBranchChange=r.createNewBranchChange,r.newBranchState$.pipe((0,Me.h)(function(a){return!!a}),(0,Re.R)(this.destroy$)).subscribe(function(a){if(o.loadingRequest$.next(!1),(0,me.pb)(a)){var l=(0,me.lz)(a);o.createBranchFailedMessage$.next(l.message)}else o.telemetryService.logEvent({name:"Create branch request",properties:{isWorkspaceConnected:o.isWorkspaceConnected}}),o.dialog.close()})}return i.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},i.prototype.onBranchNameChange=function(r){this.selectedBranchName=r,this.toggleCreateBranchButton()},i.prototype.onParentBranchNameChange=function(r){this.selectedParentBranchName={name:r.text},this.toggleCreateBranchButton()},i.prototype.onCreateButtonClick=function(){this.createBranchFailedMessage$.next(null),this.loadingRequest$.next(!0);var r={name:this.selectedBranchName,parentBranch:this.selectedParentBranchName};this.telemetryService.logEvent({name:"Create branch request",properties:{isWorkspaceConnected:this.isWorkspaceConnected}}),this.createNewBranchChange.emit(r)},i.prototype.onCancelButtonClick=function(){this.dialog.close()},i.prototype.onDismissButtonClick=function(){this.dialog.close()},i.prototype.calcDropdownHeight=function(r){return r>1?104:76},i.prototype.toggleCreateBranchButton=function(){this.createButtonEnabled=!!this.selectedBranchName&&!!this.selectedParentBranchName&&!!this.selectedParentBranchName.name},i.prototype.onBranchesSearch=function(r){this.filteredBranchesList=this.branchesListFromInput.filter(function(n){return n.text.toLowerCase().includes(r.toLowerCase())})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ee.WI),e.\u0275\u0275directiveInject(Tt.t),e.\u0275\u0275directiveInject(Ee.so))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-git-connection-create-branch"]],decls:51,vars:56,consts:[[1,"dialog-header"],[1,"dialog-title"],[1,"dismiss-button",3,"click"],["name","dismiss_16_regular"],[1,"dialog-content"],[1,"info"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2235132","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon"],[1,"accordion-area"],[1,"branch-name-input"],[1,"star"],[3,"ngModel","placeholder","ngModelChange"],["class","tri-flex error-message-container",4,"ngIf"],[1,"parent-branch-selection"],[1,"header-branch-selection"],["id","select-origin-branch-dropdown-label"],["tabindex","0",3,"name","triTooltip","triTooltipMaxWidth"],["aria-labelledby","select-origin-branch-dropdown-label",3,"ngModel","isDisabled","options","valueChange"],["class","dropdown-search",3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"dialog-footer"],["tri-button","","appearance","primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["activeCreate",""],["tri-button","","appearance","tri-middle",3,"click"],[1,"tri-flex","error-message-container"],["name","error_circle_12_filled",1,"error-message-icon"],[1,"dropdown-search",3,"value"],[3,"value"],["size","tiny","labelPosition","after"]],template:function(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return t.onDismissButtonClick()}),e.\u0275\u0275element(5,"tri-svg-icon",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",4)(7,"div",5),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementStart(10,"tri-link",6),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"div",7)(14,"div",8)(15,"h4"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementStart(18,"span",9),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"input",10),e.\u0275\u0275listener("ngModelChange",function(f){return t.onBranchNameChange(f)}),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(23,Lc,4,3,"div",11),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",12)(26,"div",13)(27,"h4",14),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementStart(30,"span",9),e.\u0275\u0275text(31),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(32,"tri-svg-icon",15),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275pipe(34,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"tri-dropdown",16),e.\u0275\u0275listener("valueChange",function(f){return t.onParentBranchNameChange(f)}),e.\u0275\u0275elementStart(36,"tri-dropdown-trigger"),e.\u0275\u0275text(37),e.\u0275\u0275pipe(38,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(39,Wc,1,0,"tri-search-box",17),e.\u0275\u0275template(40,Nc,3,2,"tri-dropdown-item",18),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(41,"div",19)(42,"button",20),e.\u0275\u0275listener("click",function(){return t.onCreateButtonClick()}),e.\u0275\u0275pipe(43,"async"),e.\u0275\u0275template(44,$c,4,3,"ng-container",21),e.\u0275\u0275pipe(45,"async"),e.\u0275\u0275template(46,Uc,2,3,"ng-template",null,22,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"button",23),e.\u0275\u0275listener("click",function(){return t.onCancelButtonClick()}),e.\u0275\u0275text(49),e.\u0275\u0275pipe(50,"localize"),e.\u0275\u0275elementEnd()()),2&n){var a,l,o=e.\u0275\u0275reference(47);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,26,"Trident_Git_Create_New_Branch")," "),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,28,"Trident_Git_Create_New_Branch_Info")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,30,"LearnMore")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(17,32,"Trident_Git_Branch_Name")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate("*"),e.\u0275\u0275advance(1),e.\u0275\u0275classMap(null!==e.\u0275\u0275pipeBind1(21,34,t.createBranchFailedMessage$)?"input-error":""),e.\u0275\u0275property("ngModel",t.selectedBranchName)("placeholder",e.\u0275\u0275pipeBind1(22,36,"Trident_Git_Branch_Name")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",null!==e.\u0275\u0275pipeBind1(24,38,t.createBranchFailedMessage$)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(29,40,"Trident_Git_Create_New_Branch_Create_From")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate("*"),e.\u0275\u0275advance(1),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(33,42,"Trident_Git_Create_New_Branch_Tooltip"))("triTooltipMaxWidth",240),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(34,44,"Trident_Git_Create_New_Branch_Tooltip")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",t.selectedParentBranchName)("isDisabled",0===t.branchesListFromInput.length)("options",e.\u0275\u0275pureFunction1(54,Vc,t.calcDropdownHeight(t.filteredBranchesList.length))),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(a=null==t.selectedParentBranchName?null:t.selectedParentBranchName.name)&&void 0!==a?a:e.\u0275\u0275pipeBind1(38,46,"Trident_Git_Create_New_Branch_Choose_Parent_Branch")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(l=null==t.branchesListFromInput?null:t.branchesListFromInput.length)&&void 0!==l?l:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.filteredBranchesList),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.createButtonEnabled||e.\u0275\u0275pipeBind1(43,48,t.loadingRequest$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(45,50,t.loadingRequest$))("ngIfElse",o),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(50,52,"Cancel_ButtonText")," ")}},dependencies:[g.NgForOf,g.NgIf,p.Fj,p.JJ,p.On,Mt.M3,Ht.l,tn.q,Mt.ii,O.v,Gn.U,He.D,T.M,xt.Z,g.AsyncPipe,k.Y],styles:[".cdk-overlay-pane.pbi-dialog{border-radius:8px}tri-git-connection-create-branch[_nghost-%COMP%]{display:flex;flex-direction:column;width:352px;font-size:14px}.dialog-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-weight:600;font-size:20px}.dialog-header[_ngcontent-%COMP%]   .dismiss-button[_ngcontent-%COMP%]{padding:0;background-color:var(--globalColorWhite);border:none}.dialog-header[_ngcontent-%COMP%]   .dismiss-button[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38);height:20px;width:20px}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dialog-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:16px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:304px;padding:24px;border:1px solid var(--globalColorGrey82);border-radius:8px;gap:24px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:0 0 4px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:30px;width:278px;border:1px solid var(--globalColorGrey82);border-radius:4px;padding:0 12px;border-bottom:1px solid var(--globalColorGrey38)}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid var(--globalColorBrand80)}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   .input-error[_ngcontent-%COMP%]{border-color:var(--colorPaletteRedForeground1)}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{color:var(--globalColorRedShade10);font-weight:400;margin-left:2px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]{margin-bottom:12px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-branch-selection[_ngcontent-%COMP%]{display:flex;flex-direction:row}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-branch-selection[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-branch-selection[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38);height:16px;width:16px;margin-bottom:6px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]{width:304px;border-radius:4px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     button{padding:6px 8px 6px 12px;border-radius:var(--button-base-corner-radius);border-bottom:1px solid var(--globalColorGrey38)}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     .tri-dropdown-trigger-container{margin-left:0;padding-left:0}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     .dropdown-icon{fill:var(--globalColorGrey38)}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     tri-dropdown-trigger{color:var(--globalColorGrey44)}.dialog-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;gap:8px;margin-top:16px}.dialog-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:96px}.dropdown-search[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),i}(),is={workspaceId:"workspaceId",selectedGitProviderType:me.IS.GitHub,selectedOrganization:{name:"repoOwner2",setByDatasource:!0},selectedRepository:{name:"repoName2",setByDatasource:!0},selectedDatasourceOID:"dataSourceOID2"},Qc=(0,N.pi)((0,N.pi)({},is),{selectedBranch:"branchName2"});function el(i){return{dropdownHeight:30*Math.max(Math.min(i,12),1)+34}}(0,N.pi)((0,N.pi)({},is),{selectedBranch:"branchToSwitchTo"}),(0,N.pi)((0,N.pi)({},Qc),{selectedDirectory:"dirName2"});var tl=u(41756);function nl(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",6),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("name",n.icon)}}function il(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",7),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("name",n.icon),e.\u0275\u0275propertyInterpolate("sprite",n.sprite)}}var os=function(i){function r(n){var t=i.call(this)||this;return t.triDropdownService=n,t.text=null,t.icon=null,t.sprite=null,t.actionClicked=new e.EventEmitter,t.triDropdownService.actionItems+=1,t}return(0,N.ZT)(r,i),r.prototype.actionEmit=function(){this.triDropdownService.toggleOpenState(),this.actionClicked.emit()},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(tl._))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-dropdown-action"]],inputs:{text:"text",icon:"icon",sprite:"sprite"},outputs:{actionClicked:"actionClicked"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:3,consts:[[1,"action"],["tri-button","",3,"click"],[3,"ngSwitch"],["class","icon",3,"name",4,"ngSwitchCase"],["class","icon",3,"name","sprite",4,"ngSwitchDefault"],[1,"text"],[1,"icon",3,"name"],[1,"icon",3,"name","sprite"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"button",1),e.\u0275\u0275listener("click",function(){return o.actionEmit()}),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275template(3,nl,1,1,"tri-svg-icon",3),e.\u0275\u0275template(4,il,1,2,"tri-svg-icon",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitch",o.sprite),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",null),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",o.text," "))},dependencies:[g.NgSwitch,g.NgSwitchCase,g.NgSwitchDefault,T.M],styles:[".action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;border:none;width:100%}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:var(--global-font-size-300);margin-left:9px;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0}),r}(mn.w);function rl(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",5),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.getNoBranchesInRepoMessagBarViewModel())}}function ol(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"tri-spinner",6),e.\u0275\u0275elementEnd())}function al(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",18),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.onBranchesSearch(o))}),e.\u0275\u0275elementEnd()}}function sl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",19)(1,"tri-dropdown-action",20),e.\u0275\u0275listener("actionClicked",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.onCreateBranchButtonClick())}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"hr"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("text",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_New_Branch")))}function cl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",21)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function ll(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",22)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Branches_Dropdown")))}function dl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"h4",10),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"span",11),e.\u0275\u0275text(5," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"tri-svg-icon",12),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"tri-dropdown",13),e.\u0275\u0275listener("ngModelChange",function(v){e.\u0275\u0275restoreView(n);var f=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(f.selectedBranch=v)})("valueChange",function(v){e.\u0275\u0275restoreView(n);var f=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(f.onBranchChange(v))}),e.\u0275\u0275elementStart(9,"tri-dropdown-trigger"),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,al,1,0,"tri-search-box",14),e.\u0275\u0275template(13,sl,4,3,"span",15),e.\u0275\u0275template(14,cl,3,3,"tri-dropdown-item",16),e.\u0275\u0275template(15,ll,4,4,"tri-dropdown-item",17),e.\u0275\u0275elementEnd()()}if(2&i){var o,a,t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,15,"Trident_Git_Branch")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(7,17,"Trident_Git_Branch_Tooltip"))("triTooltipMaxWidth",240),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.selectedBranch)("disabled",!t.selectedRepository||!t.branchesList||null!==t.branchesError)("isLoading",!!t.selectedRepository&&!t.branchesList)("options",t.getDropdownOverlayOptions((null==t.filteredBranchesList?null:t.filteredBranchesList.length)||0,5,2)),e.\u0275\u0275attribute("data-testid","switch-branch-dropdown")("data-isLoading",t.selectedRepository&&!t.branchesList?"true":"false"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(o=null==t.selectedBranch?null:t.selectedBranch.name)&&void 0!==o?o:e.\u0275\u0275pipeBind1(11,19,"Trident_Git_Branch")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(a=null==t.branchesList?null:t.branchesList.length)&&void 0!==a?a:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==(null==t.branchesList?null:t.branchesList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.filteredBranchesList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.branchesList?null:t.branchesList.length))}}function pl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h4"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(3)),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,"Trident_Git_Branch")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null==n.selectedBranch?null:n.selectedBranch.name," ")}}function ul(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",7),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"h4"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",7),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"h4"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",7),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"h4"),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",7),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,dl,16,21,"div",8),e.\u0275\u0275template(22,pl,4,4,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275reference(23),t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,18,"Organization")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",null==t.selectedOrganization?null:t.selectedOrganization.name),e.\u0275\u0275attribute("data-testid",null==t.selectedOrganization?null:t.selectedOrganization.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==t.selectedOrganization?null:t.selectedOrganization.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,20,"Trident_Git_Project")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",null==t.selectedProject?null:t.selectedProject.name),e.\u0275\u0275attribute("data-testid",null==t.selectedProject?null:t.selectedProject.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==t.selectedProject?null:t.selectedProject.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,22,"Trident_Git_Repository")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",null==t.selectedRepository?null:t.selectedRepository.name),e.\u0275\u0275attribute("data-testid",null==t.selectedRepository?null:t.selectedRepository.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==t.selectedRepository?null:t.selectedRepository.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,24,"Trident_Git_Folder")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",t.selectedFolderName),e.\u0275\u0275attribute("data-testid",t.selectedFolderName),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.selectedFolderName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isSwitchBranchEnabled)("ngIfElse",n)}}function gl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",38),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onOrganizationsSearch(o))}),e.\u0275\u0275elementEnd()}}function ml(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",21)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function _l(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",22)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Organizations_Dropdown")))}function vl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275element(1,"tri-svg-icon",40),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.organizationsError.message," ")}}function hl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",38),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onProjectsSearch(o))}),e.\u0275\u0275elementEnd()}}function fl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",21)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function Cl(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",22)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Projects_Dropdown")))}function Sl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275element(1,"tri-svg-icon",40),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.projectsError.message," ")}}function yl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",38),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onReposSearch(o))}),e.\u0275\u0275elementEnd()}}function bl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",21)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function wl(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",22)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Repositories_Dropdown")))}function kl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275element(1,"tri-svg-icon",40),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.repositoriesError.message," ")}}function Il(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",18),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onBranchesSearch(o))}),e.\u0275\u0275elementEnd()}}function xl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",19)(1,"tri-dropdown-action",20),e.\u0275\u0275listener("actionClicked",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.onCreateBranchButtonClick())}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"hr"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("text",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_New_Branch")))}function Ml(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",21)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function Pl(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",22)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Branches_Dropdown")))}function Tl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275element(1,"tri-svg-icon",40),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.branchesError.message," ")}}var Ol=function(r){return{"connection-loading":r}};function El(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",23)(1,"h4",24),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"span",11),e.\u0275\u0275text(5," *"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"tri-dropdown",25),e.\u0275\u0275listener("ngModelChange",function(ee){e.\u0275\u0275restoreView(n);var se=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(se.selectedOrganization=ee)})("valueChange",function(ee){e.\u0275\u0275restoreView(n);var se=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(se.onOrganizationChange(ee))}),e.\u0275\u0275elementStart(7,"tri-dropdown-trigger"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,gl,1,0,"tri-search-box",26),e.\u0275\u0275template(11,ml,3,3,"tri-dropdown-item",16),e.\u0275\u0275template(12,_l,4,4,"tri-dropdown-item",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,vl,3,1,"div",27),e.\u0275\u0275elementStart(14,"h4",28),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementStart(17,"span",11),e.\u0275\u0275text(18," *"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"tri-dropdown",29),e.\u0275\u0275listener("ngModelChange",function(ee){e.\u0275\u0275restoreView(n);var se=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(se.selectedProject=ee)})("valueChange",function(ee){e.\u0275\u0275restoreView(n);var se=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(se.onProjectChange(ee))}),e.\u0275\u0275elementStart(20,"tri-dropdown-trigger"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(23,hl,1,0,"tri-search-box",26),e.\u0275\u0275template(24,fl,3,3,"tri-dropdown-item",16),e.\u0275\u0275template(25,Cl,4,4,"tri-dropdown-item",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(26,Sl,3,1,"div",27),e.\u0275\u0275elementStart(27,"h4",30),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementStart(30,"span",11),e.\u0275\u0275text(31," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(32,"tri-svg-icon",12),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"tri-dropdown",31),e.\u0275\u0275listener("ngModelChange",function(ee){e.\u0275\u0275restoreView(n);var se=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(se.selectedRepository=ee)})("valueChange",function(ee){e.\u0275\u0275restoreView(n);var se=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(se.onRepositoryChange(ee))}),e.\u0275\u0275elementStart(35,"tri-dropdown-trigger"),e.\u0275\u0275text(36),e.\u0275\u0275pipe(37,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(38,yl,1,0,"tri-search-box",26),e.\u0275\u0275elementStart(39,"div",32),e.\u0275\u0275template(40,bl,3,3,"tri-dropdown-item",16),e.\u0275\u0275template(41,wl,4,4,"tri-dropdown-item",17),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(42,kl,3,1,"div",27),e.\u0275\u0275elementStart(43,"h4",33),e.\u0275\u0275text(44),e.\u0275\u0275pipe(45,"localize"),e.\u0275\u0275elementStart(46,"span",11),e.\u0275\u0275text(47," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(48,"tri-svg-icon",12),e.\u0275\u0275pipe(49,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"tri-dropdown",34),e.\u0275\u0275listener("ngModelChange",function(ee){e.\u0275\u0275restoreView(n);var se=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(se.selectedBranch=ee)})("valueChange",function(ee){e.\u0275\u0275restoreView(n);var se=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(se.onBranchChange(ee))}),e.\u0275\u0275elementStart(51,"tri-dropdown-trigger"),e.\u0275\u0275text(52),e.\u0275\u0275pipe(53,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(54,Il,1,0,"tri-search-box",14),e.\u0275\u0275template(55,xl,4,3,"span",15),e.\u0275\u0275elementStart(56,"div",32),e.\u0275\u0275template(57,Ml,3,3,"tri-dropdown-item",16),e.\u0275\u0275template(58,Pl,4,4,"tri-dropdown-item",17),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(59,Tl,3,1,"div",27),e.\u0275\u0275elementStart(60,"h4",35),e.\u0275\u0275text(61),e.\u0275\u0275pipe(62,"localize"),e.\u0275\u0275element(63,"tri-svg-icon",12),e.\u0275\u0275pipe(64,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(65,"div",36)(66,"input",37),e.\u0275\u0275listener("ngModelChange",function(ee){e.\u0275\u0275restoreView(n);var se=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(se.onFolderNameChange(ee))}),e.\u0275\u0275pipe(67,"async"),e.\u0275\u0275pipe(68,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var o,a,l,v,f,b,z,te,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(91,Ol,t.connectionRequestInProgress)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,63,"Organization")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",t.selectedOrganization)("options",t.getDropdownOverlayOptions((null==t.filteredOrganizationsList?null:t.filteredOrganizationsList.length)||0,5,1))("disabled",!t.organizationsList||null!==t.organizationsError)("isLoading",!t.organizationsList),e.\u0275\u0275attribute("data-testid","organization-dropdown")("data-isLoading",t.organizationsList?"false":"true"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(o=null==t.selectedOrganization?null:t.selectedOrganization.name)&&void 0!==o?o:e.\u0275\u0275pipeBind1(9,65,"Organization")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(a=null==t.organizationsList?null:t.organizationsList.length)&&void 0!==a?a:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.filteredOrganizationsList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.organizationsList?null:t.organizationsList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!==t.organizationsError&&null!==t.organizationsError.message),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(16,67,"Trident_Git_Project")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",t.selectedProject)("disabled",!t.selectedOrganization||!t.projectsList||null!==t.projectsError)("isLoading",!!t.selectedOrganization&&!t.projectsList)("options",t.getDropdownOverlayOptions((null==t.filteredProjectsList?null:t.filteredProjectsList.length)||0,5,1)),e.\u0275\u0275attribute("data-testid","project-dropdown")("data-isLoading",t.selectedOrganization&&!t.projectsList?"true":"false"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(l=null==t.selectedProject?null:t.selectedProject.name)&&void 0!==l?l:e.\u0275\u0275pipeBind1(22,69,"Trident_Git_Project")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(v=null==t.projectsList?null:t.projectsList.length)&&void 0!==v?v:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.filteredProjectsList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.projectsList?null:t.projectsList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!==t.projectsError&&null!==t.projectsError.message),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(29,71,"Trident_Git_Repository")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(33,73,"Trident_Git_Repository_Tooltip"))("triTooltipMaxWidth",240),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.selectedRepository)("disabled",!t.selectedProject||!t.repositoriesList||null!==t.repositoriesError)("isLoading",!!t.selectedProject&&!t.repositoriesList)("options",t.getDropdownOverlayOptions((null==t.filteredRepositoriesList?null:t.filteredRepositoriesList.length)||0,5,1)),e.\u0275\u0275attribute("data-testid","repository-dropdown")("data-isLoading",t.selectedProject&&!t.repositoriesList?"true":"false"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(f=null==t.selectedRepository?null:t.selectedRepository.name)&&void 0!==f?f:e.\u0275\u0275pipeBind1(37,75,"Trident_Git_Repository")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(b=null==t.repositoriesList?null:t.repositoriesList.length)&&void 0!==b?b:0)>0),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.filteredRepositoriesList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.repositoriesList?null:t.repositoriesList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!==t.repositoriesError&&null!==t.repositoriesError.message),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(45,77,"Trident_Git_Branch")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(49,79,"Trident_Git_Branch_Tooltip"))("triTooltipMaxWidth",240),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.selectedBranch)("disabled",!t.selectedRepository||!t.branchesList||null!==t.branchesError)("isLoading",!!t.selectedRepository&&!t.branchesList)("options",t.getDropdownOverlayOptions((null==t.filteredBranchesList?null:t.filteredBranchesList.length)||0,5,2)),e.\u0275\u0275attribute("data-testid","branch-dropdown")("data-isLoading",t.selectedRepository&&!t.branchesList?"true":"false"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(z=null==t.selectedBranch?null:t.selectedBranch.name)&&void 0!==z?z:e.\u0275\u0275pipeBind1(53,81,"Trident_Git_Branch")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(te=null==t.branchesList?null:t.branchesList.length)&&void 0!==te?te:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==(null==t.filteredBranchesList?null:t.filteredBranchesList.length)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.filteredBranchesList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.branchesList?null:t.branchesList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!==t.branchesError&&null!==t.branchesError.message),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(62,83,"Trident_Git_Folder")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(64,85,"Trident_Git_Folder_Tooltip"))("triTooltipMaxWidth",240),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(67,87,t.folderInputDisabled$))("ngModel",t.selectedFolderName)("placeholder",e.\u0275\u0275pipeBind1(68,89,"Trident_Git_Select_Folder"))}}function Dl(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",41),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"Trident_Git_Connect_Permission")))}function Bl(i,r){1&i&&(e.\u0275\u0275elementStart(0,"button",48),e.\u0275\u0275element(1,"tri-spinner",49),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Trident_Git_Switch_Branch_Button_In_Progress")," "))}function Gl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",50),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.onSwitchBranchButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(1,3,t.switchButtonDisabled$)),e.\u0275\u0275attribute("data-testid","switch-branch-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,5,"Trident_Git_Switch_Branch_Button_Text")," ")}}function zl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",42),e.\u0275\u0275template(1,Bl,4,3,"button",45),e.\u0275\u0275template(2,Gl,4,7,"ng-template",null,46,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(4,"button",47),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onCancelSwitchButtonClick())}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275reference(3),o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.switchBranchRequestInProgress)("ngIfElse",t),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(5,5,o.cancelSwitchButtonDisabled$)),e.\u0275\u0275attribute("data-testid","cancel-switch-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,7,"Cancel_ButtonText")," ")}}function Al(i,r){1&i&&(e.\u0275\u0275elementStart(0,"button",48),e.\u0275\u0275element(1,"tri-spinner",49),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"UploadExcel_OneDriveProConnecting")," "))}function Rl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",50),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.onConnectButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",47),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.onCancelButtonClick())}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(1,6,t.connectButtonDisabled$)),e.\u0275\u0275attribute("data-testid","connect-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,8,"Trident_Git_Connect_And_Sync")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(5,10,t.cancelButtonDisabled$)),e.\u0275\u0275attribute("data-testid","cancel-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,12,"Cancel_ButtonText")," ")}}function Fl(i,r){if(1&i&&(e.\u0275\u0275template(0,Al,4,3,"button",45),e.\u0275\u0275template(1,Rl,8,14,"ng-template",null,51,e.\u0275\u0275templateRefExtractor)),2&i){var n=e.\u0275\u0275reference(2),t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngIf",t.connectionRequestInProgress||t.switchBranchRequestInProgress)("ngIfElse",n)}}function Ll(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",42),e.\u0275\u0275template(1,zl,8,9,"div",43),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Fl,3,2,"ng-template",null,44,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275reference(4),t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,2,t.showSwitchButton$))("ngIfElse",n)}}var xn=function(i){return i[i.Loading=0]="Loading",i[i.Connected=1]="Connected",i[i.NotConnected=2]="NotConnected",i[i.NotConnectedAdmin=3]="NotConnectedAdmin",i}({}),Wl=function(i){function r(n,t,o,a){var l=i.call(this)||this;return l.telemetryService=n,l.localizationService=t,l.dialogService=o,l.featureSwitchService=a,l.isOnCapacity=!1,l.connectionRequestInProgress=!1,l.switchBranchRequestInProgress=null,l.workspaceMemberRole=null,l.organizationsList=null,l.organizationsError=null,l.selectedOrganization=null,l.organizationChange=new e.EventEmitter,l.projectsList=null,l.projectsError=null,l.selectedProject=null,l.projectChange=new e.EventEmitter,l.repositoriesList=null,l.repositoriesError=null,l.selectedRepository=null,l.repositoryChange=new e.EventEmitter,l.branchesList=null,l.branchesError=null,l.selectedBranch=null,l.branchChange=new e.EventEmitter,l.selectedFolderName=null,l.folderNameChange=new e.EventEmitter,l.newBranchState=null,l.createNewBranchChange=new e.EventEmitter,l.connectButtonClick=new e.EventEmitter,l.switchBranchButtonClick=new e.EventEmitter,l.cancelButtonClick=new e.EventEmitter,l.cancelSwitchButtonClick=new e.EventEmitter,l.workspaceAdminPermissions$=(0,be.of)(!1),l.showSwitchButton$=(0,be.of)(!1),l.FolderMememberRole=gn.R7,l.DisplayMode=xn,l.displayMode$=(0,be.of)(xn.Loading),l.folderInputDisabled$=new W.X(!0),l.isDifferentBranchSelected$=new W.X(!1),l.connectButtonDisabled$=new W.X(!0),l.cancelButtonDisabled$=new W.X(!0),l.switchButtonDisabled$=new W.X(!0),l.cancelSwitchButtonDisabled$=new W.X(!0),l.branchStateNotification$=new W.X(null),l.isSwitchBranchEnabled=!1,l.connectedBranch=null,l.organizationSearchInput="",l.filteredOrganizationsList=null,l.projectSearchInput="",l.filteredProjectsList=null,l.branchSearchInput="",l.filteredBranchesList=null,l.repoSearchInput="",l.filteredRepositoriesList=null,l}return(0,N.ZT)(r,i),Object.defineProperty(r.prototype,"isConnected",{get:function(){return!!this._isConnected},set:function(t){this._isConnected=t},enumerable:!1,configurable:!0}),r.prototype.ngOnInit=function(){var n=this;this.changes$("isConnected").pipe((0,Me.h)(function(t){return!t}),(0,Re.R)(this.onDestroy$)).subscribe(function(){n.setOnDisconnectTriggers()}),this.changes$("newBranchState").pipe((0,Me.h)(function(t){return!!t}),(0,Re.R)(this.onDestroy$)).subscribe(function(t){n.branchStateNotification$.next(t),(0,me.pb)(t)||(n.setConnectButtonAndFolderSelection(!1),n.isSwitchBranchEnabled&&n.setSwitchBranchButtonsState(!1))}),this.changes$("switchBranchRequestInProgress").pipe((0,Re.R)(this.onDestroy$)).subscribe(function(t){null!==t&&n.cancelSwitchButtonDisabled$.next(t)}),this.displayMode$=(0,je.aj)([this.changes$("isConnected"),this.changes$("workspaceMemberRole")]).pipe((0,Ve.b)(function(t){n.isSwitchBranchEnabled=(0,gn.GJ)(t[1])&&n.isOnCapacity&&!!n.featureSwitchService.featureSwitches.tridentGitSwitchBranch}),(0,ge.U)(function(t){return n.determineDisplayMode(t[0],t[1])})),this.workspaceAdminPermissions$=this.changes$("workspaceMemberRole").pipe((0,Me.h)(function(t){return null!=t}),(0,ye.q)(1),(0,ge.U)(function(t){return(0,gn.GJ)(t)})),this.connectedBranch=this.selectedBranch,this.showSwitchButton$=this.displayMode$.pipe((0,ge.U)(function(t){return n.isSwitchBranchEnabled&&t===xn.Connected})),this.changes$("organizationsList").pipe((0,Re.R)(this.onDestroy$)).subscribe(function(t){n.organizationsList=t,n.filteredOrganizationsList=t}),this.changes$("projectsList").pipe((0,Re.R)(this.onDestroy$)).subscribe(function(t){n.projectsList=t,n.filteredProjectsList=t}),this.changes$("branchesList").pipe((0,Re.R)(this.onDestroy$)).subscribe(function(t){n.branchesList=t,n.filteredBranchesList=t}),this.changes$("repositoriesList").pipe((0,Re.R)(this.onDestroy$)).subscribe(function(t){n.repositoriesList=t,n.filteredRepositoriesList=t})},r.prototype.onOrganizationChange=function(n){this.selectedOrganization={name:n.text},this.organizationChange.emit(this.selectedOrganization),this.setConnectButtonAndFolderSelection(!0),this.cancelButtonDisabled$.next(!1)},r.prototype.onProjectChange=function(n){this.selectedProject={name:n.text},this.projectChange.emit(this.selectedProject),this.setConnectButtonAndFolderSelection(!0)},r.prototype.onRepositoryChange=function(n){this.selectedRepository={name:n.text},this.repositoryChange.emit(this.selectedRepository),this.setConnectButtonAndFolderSelection(!0)},r.prototype.onBranchChange=function(n){var t,o=null!=this.connectedBranch;if(this.isDifferentBranchSelected$.next(o),this.selectedBranch={name:n.text},o){var a=(null===(t=this.connectedBranch)||void 0===t?void 0:t.name)===this.selectedBranch.name;this.setSwitchBranchButtonsState(a)}this.branchChange.emit(this.selectedBranch),this.setConnectButtonAndFolderSelection(o)},r.prototype.onFolderNameChange=function(n){this.selectedFolderName=n,this.folderNameChange.emit(n)},r.prototype.onConnectButtonClick=function(){this.connectButtonClick.emit()},r.prototype.onSwitchBranchButtonClick=function(){this.switchBranchButtonClick.emit()},r.prototype.onCancelButtonClick=function(){this.setConnectButtonAndFolderSelection(!0),this.cancelButtonDisabled$.next(!0),this.cancelButtonClick.emit()},r.prototype.onCancelSwitchButtonClick=function(){this.selectedBranch=this.connectedBranch,this.isDifferentBranchSelected$.next(!1),this.setSwitchBranchButtonsState(!0),this.cancelSwitchButtonClick.emit()},r.prototype.onCreateBranchButtonClick=function(){this.branchStateNotification$.next(null);var n={data:{branchesList:this.branchesList,newBranchState$:this.branchStateNotification$.asObservable(),isWorkspaceConnected:this.isConnected,createNewBranchChange:this.createNewBranchChange}};this.telemetryService.logEvent({name:"Open create branch dialog",properties:{isWorkspaceConnected:this.isConnected}}),this.dialogService.open(Kc,n).afterClosed().pipe((0,ye.q)(1)).subscribe()},r.prototype.getDropdownOverlayOptions=function(n,t,o){return void 0===t&&(t=5),void 0===o&&(o=0),{dropdownHeight:this.calcDropdownHeight(0===n?0:n+o,t),dropdownMaxWidth:360,showFullContent:!1}},r.prototype.setSwitchBranchButtonsState=function(n){this.switchButtonDisabled$.next(n),this.cancelSwitchButtonDisabled$.next(n)},r.prototype.setConnectButtonAndFolderSelection=function(n){this.folderInputDisabled$.next(n),this.connectButtonDisabled$.next(n)},r.prototype.setSwitchBranchButtonVisibility=function(n){this.isDifferentBranchSelected$.next(n)},r.prototype.calcDropdownHeight=function(n,t){return function(i){return 0===i||1===i?46:i>0?i<=10?36*i+2*(i-1)+10:388:10}(n>t?t:n)},r.prototype.determineDisplayMode=function(n,t){return null===t?xn.Loading:n?xn.Connected:t===gn.R7.Admin?xn.NotConnectedAdmin:xn.NotConnected},r.prototype.setOnDisconnectTriggers=function(){this.setConnectButtonAndFolderSelection(!0),this.setSwitchBranchButtonVisibility(!1),this.connectedBranch=null},r.prototype.onOrganizationsSearch=function(n){var t;this.filteredOrganizationsList=this.filterListAndSearch(null!==(t=this.organizationsList)&&void 0!==t?t:[],n)},r.prototype.onProjectsSearch=function(n){var t;this.filteredProjectsList=this.filterListAndSearch(null!==(t=this.projectsList)&&void 0!==t?t:[],n)},r.prototype.onBranchesSearch=function(n){var t;this.filteredBranchesList=this.filterListAndSearch(null!==(t=this.branchesList)&&void 0!==t?t:[],n)},r.prototype.onReposSearch=function(n){var t;this.filteredRepositoriesList=this.filterListAndSearch(null!==(t=this.repositoriesList)&&void 0!==t?t:[],n)},r.prototype.getNoBranchesInRepoMessagBarViewModel=function(){return Ja(this.localizationService)},r.prototype.filterListAndSearch=function(n,t){return n.filter(function(o){var a,l;return!t||(null===(l=null===(a=o.text)||void 0===a?void 0:a.toLowerCase())||void 0===l?void 0:l.includes(t.toLowerCase()))})},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Tt.t),e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(ya.j),e.\u0275\u0275directiveInject(_t.V$))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-connection-details-settings"]],inputs:{isConnected:"isConnected",isOnCapacity:"isOnCapacity",connectionRequestInProgress:"connectionRequestInProgress",switchBranchRequestInProgress:"switchBranchRequestInProgress",workspaceMemberRole:"workspaceMemberRole",organizationsList:"organizationsList",organizationsError:"organizationsError",selectedOrganization:"selectedOrganization",projectsList:"projectsList",projectsError:"projectsError",selectedProject:"selectedProject",repositoriesList:"repositoriesList",repositoriesError:"repositoriesError",selectedRepository:"selectedRepository",branchesList:"branchesList",branchesError:"branchesError",selectedBranch:"selectedBranch",selectedFolderName:"selectedFolderName",newBranchState:"newBranchState"},outputs:{organizationChange:"organizationChange",projectChange:"projectChange",repositoryChange:"repositoryChange",branchChange:"branchChange",folderNameChange:"folderNameChange",createNewBranchChange:"createNewBranchChange",connectButtonClick:"connectButtonClick",switchBranchButtonClick:"switchBranchButtonClick",cancelButtonClick:"cancelButtonClick",cancelSwitchButtonClick:"cancelSwitchButtonClick"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:9,vars:11,consts:[[1,"container",3,"ngSwitch"],["class","no_branches_in_repo_message_bar",3,"viewModel",4,"ngIf"],[4,"ngSwitchCase"],[3,"ngClass",4,"ngSwitchCase"],["class","footer",4,"ngIf"],[1,"no_branches_in_repo_message_bar",3,"viewModel"],["delay","0"],[1,"field",3,"triTooltip"],[4,"ngIf","ngIfElse"],["switchBranchDisabled",""],["id","switch-branch-dropdown-label",1,"with-tooltip"],[1,"star"],["tabindex","0",3,"name","triTooltip","triTooltipMaxWidth"],["aria-labelledby","switch-branch-dropdown-label",1,"field",3,"ngModel","disabled","isLoading","options","ngModelChange","valueChange"],["class","dropdown-search-with-divider",3,"value",4,"ngIf"],["class","action-and-divider",4,"ngIf"],[3,"title","value",4,"ngFor","ngForOf"],["class","empty-dropdown-message",3,"disabled",4,"ngIf"],[1,"dropdown-search-with-divider",3,"value"],[1,"action-and-divider"],["icon","add_16_regular",3,"text","actionClicked"],[3,"title","value"],[1,"empty-dropdown-message",3,"disabled"],[3,"ngClass"],["id","select-organization-dropdown"],["aria-labelledby","select-organization-dropdown",1,"field",3,"ngModel","options","disabled","isLoading","ngModelChange","valueChange"],["class","dropdown-search",3,"value",4,"ngIf"],["class","tri-flex error-message-container",4,"ngIf"],["id","select-project-dropdown"],["aria-labelledby","select-project-dropdown",1,"field",3,"ngModel","disabled","isLoading","options","ngModelChange","valueChange"],["id","select-repository-dropdown",1,"with-tooltip"],["aria-labelledby","select-repository-dropdown",1,"field",3,"ngModel","disabled","isLoading","options","ngModelChange","valueChange"],["tabindex","0"],["id","select-branch-dropdown",1,"with-tooltip"],["aria-labelledby","select-branch-dropdown",1,"field",3,"ngModel","disabled","isLoading","options","ngModelChange","valueChange"],["id","select-folder-input",1,"with-tooltip"],[1,"field","folder"],["aria-labelledby","select-folder-input",3,"disabled","ngModel","placeholder","ngModelChange"],[1,"dropdown-search",3,"value"],[1,"tri-flex","error-message-container"],["name","error_circle_12_filled",1,"error-message-icon"],[1,"subtitle"],[1,"footer"],["class","footer",4,"ngIf","ngIfElse"],["connectButton",""],["tri-button","","appearance","primary","class","connect-and-sync-button in-progress",4,"ngIf","ngIfElse"],["switchActive",""],["tri-button","",1,"cancel-button",3,"disabled","click"],["tri-button","","appearance","primary",1,"connect-and-sync-button","in-progress"],["size","tiny","labelPosition","after"],["tri-button","","appearance","primary",1,"connect-and-sync-button",3,"disabled","click"],["connectActive",""]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,rl,1,1,"tri-message-bar",1),e.\u0275\u0275template(3,ol,2,0,"div",2),e.\u0275\u0275template(4,ul,24,26,"div",2),e.\u0275\u0275template(5,El,69,93,"div",3),e.\u0275\u0275template(6,Dl,4,3,"div",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,Ll,5,4,"div",4),e.\u0275\u0275pipe(8,"async")),2&t&&(e.\u0275\u0275property("ngSwitch",e.\u0275\u0275pipeBind1(1,7,o.displayMode$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0===(null==o.branchesList?null:o.branchesList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.DisplayMode.Loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.DisplayMode.Connected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.DisplayMode.NotConnectedAdmin),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.DisplayMode.NotConnected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(8,9,o.workspaceAdminPermissions$)))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,g.NgSwitch,g.NgSwitchCase,p.Fj,p.JJ,p.On,Mt.M3,Ht.l,os,tn.q,Mt.ii,it.h,Gn.U,He.D,T.M,xt.Z,g.AsyncPipe,k.Y],styles:["tri-collapsed-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:center;margin-bottom:16px}tri-dropdown-item[_ngcontent-%COMP%]{font-size:14px}tri-dropdown-item.empty-dropdown-message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:32px}tri-dropdown-item.empty-dropdown-message[_ngcontent-%COMP%]   .span[_ngcontent-%COMP%]{margin-left:4px}.no_branches_in_repo_message_bar[_ngcontent-%COMP%]{padding-top:12px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;font-size:14px;margin-bottom:16px}.container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-bottom:6px}.container[_ngcontent-%COMP%]   h4.with-tooltip[_ngcontent-%COMP%]{margin-bottom:2px}.container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span.star[_ngcontent-%COMP%]{color:var(--globalColorRedShade10)}.container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38);height:16px;width:16px;margin-left:6px;margin-bottom:6px}.container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%;max-width:360px;overflow-x:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin-top:14px}.container[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]{color:var(--colorNeutralForeground4);box-sizing:border-box}.container[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     button{padding:6px 6px 6px 3px;border-bottom:1px solid var(--globalColorGrey38);border-radius:var(--button-base-corner-radius)}.container[_ngcontent-%COMP%]   .folder[_ngcontent-%COMP%]{margin-bottom:16px}input[_ngcontent-%COMP%]{height:18px;width:inherit;padding:6px 8px;max-width:340px;border-radius:4px;border:1px solid var(--globalColorGrey82)}input[_ngcontent-%COMP%]:not(:disabled){border-bottom:1px solid var(--globalColorGrey38)}input[_ngcontent-%COMP%]:not(:disabled):focus{outline:none;border-bottom:2px solid var(--globalColorBrand80)}input[_ngcontent-%COMP%]:disabled{opacity:.4}.dropdown-search[_ngcontent-%COMP%]{width:100%}.dropdown-search-with-divider[_ngcontent-%COMP%]{width:100%;margin-bottom:2px}.action-and-divider[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-top:1px solid var(--globalColorGrey88);width:100%;margin-top:3px;margin-bottom:4px}.footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:8px}.footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border-radius:4px}.footer[_ngcontent-%COMP%]   .connect-and-sync-button[_ngcontent-%COMP%]{min-width:136px}.footer[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{min-width:66px}div.connection-loading[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}"],changeDetection:0}),r}(mn.w),st=function(i){return i[i.NotConnected=0]="NotConnected",i[i.Connected=1]="Connected",i[i.NonAdmin=2]="NonAdmin",i[i.Admin=4]="Admin",i[i.FixedRepository=8]="FixedRepository",i[i.NotOnCapacity=16]="NotOnCapacity",i[i.NotConfigured=32]="NotConfigured",i}({}),jn=function(i){return i[i.Hidden=0]="Hidden",i[i.ConnectAndSync=1]="ConnectAndSync",i[i.SwitchBranch=2]="SwitchBranch",i}({}),ut=function(i){return i[i.Hidden=0]="Hidden",i[i.Fixed=1]="Fixed",i[i.Textbox=2]="Textbox",i[i.Dropdown=3]="Dropdown",i}({}),$l={repository:ut.Hidden,branch:ut.Hidden,directory:ut.Hidden,button:jn.Hidden},Ia={repository:ut.Fixed,branch:ut.Fixed,directory:ut.Fixed,button:jn.Hidden},Vl=['"',":","<",">","\\","*","?","|"],jl=[" ","."],Hl=[" "],Kl={getComponentConfig:function(i){var n;switch(i&~(st.FixedRepository|st.NotOnCapacity)){case st.NotConnected|st.Admin:n={repository:ut.Textbox,branch:ut.Dropdown,directory:ut.Textbox,button:jn.ConnectAndSync};break;case st.NotConnected|st.NonAdmin:n={repository:ut.Hidden,branch:ut.Hidden,directory:ut.Hidden,button:jn.Hidden};break;case st.Connected|st.Admin:n={repository:ut.Fixed,branch:ut.Dropdown,directory:ut.Fixed,button:jn.SwitchBranch};break;case st.Connected|st.NonAdmin:n=Ia;break;default:n=$l}return n=(0,N.pi)((0,N.pi)({},n),{state:i}),i&st.FixedRepository&&(n.repository=ut.Fixed),i&st.NotConfigured&&(n=(0,N.pi)((0,N.pi)({},Ia),{state:i})),i&st.NotOnCapacity&&(n=(0,N.pi)((0,N.pi)({},Ia),{state:i})),n},onRepositoryChangeFunc:function(i,r,n){if(as(i)){var o=i.replace(/\/$|\.git$/g,""),l=new URL(o).pathname.split("/").filter(function(b){return b});if(2===l.length){var f=l[1];n.selectOrganization(r,l[0]),n.selectRepository(r,f)}}else n.selectOrganization(r,void 0),n.selectRepository(r,i)},getRepositoryFunc:function(i,r){return i?.gitConnectionDetails?(0,ze.rl)(i.gitConnectionDetails):r?.selectedOrganization&&r?.selectedRepository?"".concat("https://github.com","/").concat(r.selectedOrganization.name,"/").concat(r.selectedRepository.name):void 0},validateRepositoryUrl:as,validateDirectoryNameFunc:function(i){return!(i.length>256||Vl.some(function(r){return i.includes(r)})||Hl.some(function(r){return i.startsWith(r)})||jl.some(function(r){return i.endsWith(r)}))}};function as(i){var r=i.replace(/\/$|\.git$/g,"");return/^https:\/\/github\.com\/[^/]+\/[^/]+$/.test(r)}function ql(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",10),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("viewModel",n.getNoBranchesInRepoMessagBarViewModel())}}function ed(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",12),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Trident_Git_Auth_Dialog_Param_RepoUrl")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(5,6,n.repository$)),e.\u0275\u0275attribute("data-testid","repository-fixed"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,8,n.repository$)," ")}}function td(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",17),e.\u0275\u0275element(2,"tri-svg-icon",18),e.\u0275\u0275elementStart(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275attribute("data-testid","tri-git-connection-details-settings-v2-repository-error"),e.\u0275\u0275advance(1),e.\u0275\u0275property("name","error_circle_12_filled"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,3,"Trident_Git_Auth_Dialog_Param_RepoUrl_Error")," "))}var xa=function(r){return{error:r}};function nd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",13)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"span",14),e.\u0275\u0275text(5," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"tri-svg-icon",15),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"input",16),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onRepositoryChange(a))}),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,td,6,5,"ng-container",0),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,8,"Trident_Git_Auth_Dialog_Param_RepoUrl")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(7,10,"Trident_Git_Auth_Dialog_Param_RepoUrl_Tooltip_GitHub")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(20,xa,e.\u0275\u0275pipeBind1(9,12,t.repositoryInputError$)))("ngModel",e.\u0275\u0275pipeBind1(10,14,t.repositoryTextInput$))("placeholder",e.\u0275\u0275pipeBind1(11,16,"Trident_Git_Auth_Dialog_Param_RepoUrl_Placeholder")),e.\u0275\u0275attribute("data-testid","repository-text-input"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(13,18,t.repositoryInputError$))}}function id(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",12),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Trident_Git_Folder")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(5,6,n.directory$)),e.\u0275\u0275attribute("data-testid","directory-fixed"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,8,n.directory$)," ")}}function rd(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",12),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Trident_Git_Branch")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(5,6,n.branch$)),e.\u0275\u0275attribute("data-testid","branch-fixed"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,8,n.branch$)," ")}}function od(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",25),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.onBranchesSearch(o))}),e.\u0275\u0275elementEnd()}}function ad(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",26)(1,"tri-dropdown-action",27),e.\u0275\u0275listener("actionClicked",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(o.onCreateBranchButtonClick())}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"hr"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("text",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_New_Branch")))}function sd(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",28)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function cd(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",29)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Branches_Dropdown")))}function ld(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",17),e.\u0275\u0275element(2,"tri-svg-icon",18),e.\u0275\u0275elementStart(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275attribute("data-testid","tri-git-connection-details-settings-v2-branch-error"),e.\u0275\u0275advance(1),e.\u0275\u0275property("name","error_circle_12_filled"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,3,n.branchDropdownError$)," ")}}function dd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",19)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"span",14),e.\u0275\u0275text(5," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"tri-svg-icon",15),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"tri-dropdown",20),e.\u0275\u0275listener("ngModelChange",function(f){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.branchDropdownSelectedOption=f)})("valueChange",function(f){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.onBranchChange(f))}),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementStart(14,"tri-dropdown-trigger"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,od,1,0,"tri-search-box",21),e.\u0275\u0275template(18,ad,4,3,"span",22),e.\u0275\u0275template(19,sd,3,3,"tri-dropdown-item",23),e.\u0275\u0275template(20,cd,4,4,"tri-dropdown-item",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,ld,6,5,"ng-container",0),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,a,l,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,15,"Trident_Git_Branch")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(7,17,"Trident_Git_Branch_Tooltip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.branchDropdownSelectedOption)("ngClass",e.\u0275\u0275pureFunction1(33,xa,e.\u0275\u0275pipeBind1(9,19,t.branchDropdownError$)))("options",t.getDropdownOverlayOptions(null!==(o=null==t.branchDropdownOptionsList?null:t.branchDropdownOptionsList.length)&&void 0!==o?o:0))("disabled",void 0===e.\u0275\u0275pipeBind1(10,21,t.repository$)||void 0===t.branchDropdownOptionsList||void 0!==e.\u0275\u0275pipeBind1(11,23,t.branchDropdownError$))("isLoading",void 0!==e.\u0275\u0275pipeBind1(12,25,t.repository$)&&void 0===t.branchDropdownOptionsList&&void 0===e.\u0275\u0275pipeBind1(13,27,t.branchDropdownError$)),e.\u0275\u0275attribute("data-testid","branch-dropdown"),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1(" ",null!==(a=null==t.branchDropdownSelectedOption?null:t.branchDropdownSelectedOption.text)&&void 0!==a?a:e.\u0275\u0275pipeBind1(16,29,"Trident_Git_Branch")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(l=null==t.branchDropdownOptionsList?null:t.branchDropdownOptionsList.length)&&void 0!==l?l:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==(null==t.branchDropdownOptionsList?null:t.branchDropdownOptionsList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.branchDropdownOptionsListFiltered),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.branchDropdownOptionsList?null:t.branchDropdownOptionsList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",void 0!==e.\u0275\u0275pipeBind1(22,31,t.branchDropdownError$))}}function pd(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",17),e.\u0275\u0275element(2,"tri-svg-icon",18),e.\u0275\u0275elementStart(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275attribute("data-testid","tri-git-connection-details-settings-v2-directory-error"),e.\u0275\u0275advance(1),e.\u0275\u0275property("name","error_circle_12_filled"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,3,"Trident_Git_Error_Git_InvalidDirectoryName_Title")," "))}function ud(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",13)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275element(4,"tri-svg-icon",15),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"input",30),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onDirectoryChange(a))}),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,pd,6,5,"ng-container",0),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,9,"Trident_Git_Folder")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(5,11,"Trident_Git_Folder_Tooltip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(23,xa,e.\u0275\u0275pipeBind1(7,13,t.directoryInputError$)))("ngModel",e.\u0275\u0275pipeBind1(8,15,t.directory$))("disabled",void 0===e.\u0275\u0275pipeBind1(9,17,t.branch$))("placeholder",e.\u0275\u0275pipeBind1(10,19,"Trident_Git_Select_Folder")),e.\u0275\u0275attribute("data-testid","directory-text-input"),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(12,21,t.directoryInputError$))}}function gd(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_Connect_And_Sync")," "))}function md(i,r){1&i&&(e.\u0275\u0275element(0,"tri-spinner",34),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize")),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"UploadExcel_OneDriveProConnecting")," "))}function _d(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",31),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onConnectButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,gd,3,3,"ng-container",32),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,md,3,3,"ng-template",null,33,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275reference(5),o=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(1,4,o.connectButtonDisabled$)),e.\u0275\u0275attribute("data-testid","connect-button"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(3,6,o.actionButtonInProgress$))("ngIfElse",t)}}function vd(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_Switch_Branch_Button_Text")," "))}function hd(i,r){1&i&&(e.\u0275\u0275element(0,"tri-spinner",34),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize")),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_Switch_Branch_Button_In_Progress")," "))}function fd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",31),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onSwitchBranchButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,vd,3,3,"ng-container",32),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,hd,3,3,"ng-template",null,33,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275reference(5),o=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(1,4,o.switchBranchButtonDisabled$)),e.\u0275\u0275attribute("data-testid","switch-branch-button"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(3,6,o.actionButtonInProgress$))("ngIfElse",t)}}function Cd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",35),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.onCancelButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(1,3,t.cancelButtonDisabled$)),e.\u0275\u0275attribute("data-testid","cancel-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,5,"Cancel_ButtonText")," ")}}function Sd(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ql,1,1,"tri-message-bar",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementContainerStart(3,3),e.\u0275\u0275template(4,ed,8,10,"div",4),e.\u0275\u0275template(5,nd,14,22,"div",5),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(6,3),e.\u0275\u0275template(7,id,8,10,"div",4),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(8,3),e.\u0275\u0275template(9,rd,8,10,"div",4),e.\u0275\u0275template(10,dd,23,35,"div",6),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(11,3),e.\u0275\u0275template(12,ud,13,25,"div",5),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",7),e.\u0275\u0275elementContainerStart(14,3),e.\u0275\u0275template(15,_d,6,8,"button",8),e.\u0275\u0275template(16,fd,6,8,"button",8),e.\u0275\u0275template(17,Cd,4,7,"button",9),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=r.ngIf,t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.branchDropdownOptionsList?null:t.branchDropdownOptionsList.length)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitch",n.repository),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Fixed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Textbox),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",n.directory),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Fixed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",n.branch),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Fixed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Dropdown),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",n.directory),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Textbox),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitch",n.button),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ButtonDisplayMode.ConnectAndSync),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ButtonDisplayMode.SwitchBranch),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.button!==t.ButtonDisplayMode.Hidden)}}function yd(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Sd,18,15,"ng-container",0),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,n.componentConfig$))}}var wd=function(i){function r(n,t,o,a,l,v,f,b,z,te,ue,ee){var se=i.call(this)||this;return se.gitSessionStorageService=n,se.gitConnectionService=t,se.gitConnectionDiscoveryService=o,se.gitErrorService=a,se.gitInitializationService=l,se.gitStatusService=v,se.gitSwitchBranchService=f,se.dialogService=b,se.localizationService=z,se.cdr=te,se.featureSwitchService=ue,se.workspaceContextService=ee,se.closeWorkspaceSettings=new e.EventEmitter,se.loadComponentUtilitiesRecord$=(0,be.of)(),se.componentUtilitiesRecord$=new W.X(void 0),se.componentConfig$=(0,be.of)(),se.loadGitConnection$=(0,be.of)(),se.gitConnection$=new W.X(void 0),se.loadGitSessionStorageState$=(0,be.of)(),se.sessionStorageState$=new W.X(void 0),se.getDropdownOverlayOptions=el,se.ButtonDisplayMode=jn,se.FieldDisplayMode=ut,se.organization$=(0,be.of)(),se.repository$=(0,be.of)(),se.repositoryTextInput$=new W.X(void 0),se.repositoryInputError$=new W.X(!1),se.repositoryDisplayValue$=new W.X(void 0),se.branch$=(0,be.of)(),se._branchDropdownOptionsList=void 0,se.branchDropdownOptionsListFiltered=void 0,se.branchDropdownError$=new W.X(void 0),se.directory$=(0,be.of)(),se.directoryInputError$=new W.X(!1),se.connectButtonDisabled$=(0,be.of)(!0),se.switchBranchButtonDisabled$=(0,be.of)(!0),se.actionButtonInProgress$=new W.X(!1),se.cancelButtonDisabled$=new W.X(!0),se.componentUtilities=function(){var i;return(i={})[me.IS.AzureDevOps]=void 0,i[me.IS.GitHub]=Kl,i}(),se}return(0,N.ZT)(r,i),r.prototype.ngOnInit=function(){var n=this,t=this.changes$("workspaceId").pipe((0,Xt.x)(),(0,Me.h)(function(v){return!!v}),(0,ye.q)(1)),o=this.workspaceContextService.selectedWorkspacePermission$.pipe((0,ge.U)(function(v){return(0,gn.GJ)((0,gn.lC)(v))})),a=this.workspaceContextService.selectedWorkspaceCapacitySkuTier$.pipe((0,ge.U)(function(v){return v&&6!==v||n.featureSwitchService.featureSwitches.tridentGitOnShared})),l=(0,je.aj)([o.pipe((0,ye.q)(1)),a.pipe((0,ye.q)(1))]).pipe((0,ge.U)(function(v){return{isAdmin:v[0],isWorkspaceOnCapacity:!!v[1]}}));this.loadGitConnection$=t.pipe((0,ft.w)(function(v){return n.gitConnectionService.ensureGitConnection(v)}),(0,Xt.x)(),(0,Ve.b)(function(v){return n.gitConnection$.next(v)})),this.loadGitSessionStorageState$=t.pipe((0,ft.w)(function(v){return n.gitSessionStorageService.loadGitSessionStorage(v)}),(0,Xt.x)(),(0,Ve.b)(function(v){return n.sessionStorageState$.next(v)})),this.loadComponentUtilitiesRecord$=this.sessionStorageState$.pipe((0,Me.h)(function(v){return void 0!==v?.selectedGitProviderType}),(0,ge.U)(function(v){return n.componentUtilities[v?.selectedGitProviderType]}),(0,Xt.x)(),(0,Ve.b)(function(v){return n.componentUtilitiesRecord$.next(v)})),this.componentConfig$=(0,je.aj)([l,this.gitConnection$,this.sessionStorageState$,this.componentUtilitiesRecord$]).pipe((0,Xt.x)(),(0,ge.U)(function(v){var f=v[0],b=v[1],z=v[2],te=v[3];if(f&&b&&z&&te)return n.applyStateToConfigMap(f,b,z,te)}),(0,Ve.b)(function(v){v?.branch!==ut.Fixed&&n.setBranchDropdownOptionsList()})),this.organization$=this.sessionStorageState$.pipe((0,ge.U)(function(v){var f;return null===(f=v?.selectedOrganization)||void 0===f?void 0:f.name}),(0,Xt.x)()),this.repository$=(0,je.aj)([this.componentUtilitiesRecord$,this.gitConnection$,this.sessionStorageState$]).pipe((0,ge.U)(function(v){var f=v[0],b=v[1],z=v[2];if(f?.getRepositoryFunc)return f.getRepositoryFunc(b,z)})),this.branch$=(0,je.aj)([this.gitConnection$,this.sessionStorageState$]).pipe((0,ge.U)(function(v){var f=v[0],b=v[1];return b?.selectedBranch?(n.branchDropdownSelectedOption={key:b.selectedBranch,text:b.selectedBranch},b?.selectedBranch):f?.gitConnectionDetails?(n.branchDropdownSelectedOption={key:f.gitConnectionDetails.branchName,text:f.gitConnectionDetails.branchName},f.gitConnectionDetails.branchName):void 0}),(0,Xt.x)()),this.directory$=(0,je.aj)([this.gitConnection$,this.sessionStorageState$]).pipe((0,ge.U)(function(v){var f=v[0],b=v[1];return f?.gitConnectionDetails?f.gitConnectionDetails.rootDirectory:b?.selectedDirectory}),(0,Xt.x)()),this.connectButtonDisabled$=(0,je.aj)([this.gitConnection$,this.sessionStorageState$,this.directoryInputError$]).pipe((0,ge.U)(function(v){var f=v[0],b=v[1],z=v[2];return!(!f?.gitConnectionDetails&&b?.selectedBranch&&!1===z)})),this.switchBranchButtonDisabled$=(0,je.aj)([this.gitConnection$,this.sessionStorageState$,a]).pipe((0,ge.U)(function(v){var f=v[0],b=v[1];return!(v[2]&&f?.gitConnectionDetails&&b?.selectedBranch)||f.gitConnectionDetails.branchName===b.selectedBranch}))},r.prototype.ngOnDestroy=function(){return this.unsetUserSelections(),i.prototype.ngOnDestroy.call(this)},r.prototype.onRepositoryChange=function(n){var t=this;this.repoTimeoutId&&clearTimeout(this.repoTimeoutId),this.repoTimeoutId=setTimeout(function(){var o,a,l;null===(o=t.componentUtilitiesRecord$.value)||void 0===o||o.onRepositoryChangeFunc(n,t.workspaceId,t.gitSessionStorageService),t.repositoryTextInput$.next(n);var v=null===(l=null===(a=t.componentUtilitiesRecord$.value)||void 0===a?void 0:a.validateRepositoryUrl(n))||void 0===l||l;t.repositoryInputError$.next(""!==n&&!v),v&&t.getBranches(),t.cancelButtonDisabled$.next(""===n)},300)},r.prototype.onBranchChange=function(n){this.gitSessionStorageService.selectBranch(this.workspaceId,n?.text),this.cancelButtonDisabled$.next(!1)},r.prototype.onBranchesSearch=function(n){var t;this.branchDropdownOptionsListFiltered=null===(t=this.branchDropdownOptionsList)||void 0===t?void 0:t.filter(function(o){return!n||o.text.toLowerCase().includes(n.toLowerCase())})},r.prototype.onDirectoryChange=function(n){var t,o;this.gitSessionStorageService.selectRootDirectory(this.workspaceId,n),this.directoryInputError$.next(null!==(o=!(null!==(t=this.componentUtilitiesRecord$.value)&&void 0!==t&&t.validateDirectoryNameFunc(n)))&&void 0!==o&&o)},r.prototype.onCreateBranchButtonClick=function(){var t,n=this,o=function(i,r,n){var t,o,a;return{panelClass:"dialog-style",width:(Ge.PW.Medium+Ge.PW.Small)/2+"px",data:{branchesList:null!==(t=i?.map(function(l){return l.text}))&&void 0!==t?t:[],details:{gitProviderType:r?.selectedGitProviderType,organizationName:n?.gitConnectionDetails?n.gitConnectionDetails.organizationName:null===(o=r?.selectedOrganization)||void 0===o?void 0:o.name,repositoryName:n?.gitConnectionDetails?n.gitConnectionDetails.repositoryName:null===(a=r?.selectedRepository)||void 0===a?void 0:a.name,datasourceOID:r?.selectedDatasourceOID},isWorkspaceConnected:n?.gitConnectionDetails,workspaceId:n?.workspaceId}}}(null!==(t=this.branchDropdownOptionsList)&&void 0!==t?t:[],this.sessionStorageState$.value,this.gitConnection$.value);this.dialogService.open(ze.a6,o).afterClosed().pipe((0,ye.q)(1),(0,Ve.b)(function(a){var l,v;if(a){var f=null!==(v=null===(l=n.branchDropdownOptionsList)||void 0===l?void 0:l.map(function(z){return z.text}))&&void 0!==v?v:[],b=(0,N.ev)((0,N.ev)([],f,!0),[a],!1);n.mapBranchesListToDropdown(b),n.gitSessionStorageService.selectBranch(n.workspaceId,a),n.cancelButtonDisabled$.next(!1)}})).subscribe()},r.prototype.onConnectButtonClick=function(){var n=this;if(!this.actionButtonInProgress$.getValue()){this.actionButtonInProgress$.next(!0);var t=this.createSaveConnectionRequest();t&&this.gitConnectionService.saveGitConnection(t).pipe((0,Ca.b)(function(){return n.gitConnectionService.getGitConnectionOperationState(n.workspaceId).pipe((0,Re.R)(n.onDestroy$),(0,Me.h)(function(o){return o===ne.CmZ.Completed||(0,me.pb)(o)}),(0,ye.q)(1),(0,ft.w)(function(o){return n.actionButtonInProgress$.next(!1),(0,me.pb)(o)&&(0,me.yG)(o)?n.createNewDirectory():o===ne.CmZ.Completed?n.gitConnectionService.loadGitConnection(n.workspaceId).pipe((0,Re.R)(n.onDestroy$),(0,Me.h)(function(a){return!!a}),(0,Ve.b)(function(a){n.gitConnection$.next(a),n.cancelButtonDisabled$.next(!0)}),(0,ft.w)(function(a){var l;return null!==(l=a?.gitConnectionDetails)&&void 0!==l&&l.isInitialized?(0,be.of)(void 0):n.initializeConnection()})):(n.actionButtonInProgress$.next(!1),(0,be.of)(void 0))}))}),(0,Dt.K)(function(o){return n.actionButtonInProgress$.next(!1),(0,be.of)(void 0)})).subscribe()}},r.prototype.onSwitchBranchButtonClick=function(){var t,n=this;this.actionButtonInProgress$.next(!0);var o=null===(t=this.gitConnection$.value)||void 0===t?void 0:t.gitConnectionDetails;return!1===o?.isInitialized?(this.actionButtonInProgress$.next(!1),void this.gitErrorService.handleClientSideGitError("Git_Workspace_Not_Initialized")):void 0===o?.head?(this.actionButtonInProgress$.next(!1),void this.gitErrorService.handleClientSideGitError("Git_HeadNotSynced")):void this.gitStatusService.getUncommittedChangesCount(this.workspaceId).pipe((0,ye.q)(1),(0,Ve.b)(function(a){a>0&&(n.actionButtonInProgress$.next(!1),n.gitErrorService.handleClientSideGitError("Git_GitSwitchBranchWithUncommittedChanges"))}),(0,Me.h)(function(a){return 0===a}),(0,ft.w)(function(){return n.dialogService.open(ts,Za(n.localizationService)).afterClosed().pipe((0,ye.q)(1),(0,Ve.b)(function(a){a||n.actionButtonInProgress$.next(!1)}),(0,Me.h)(function(a){return!!a}),(0,ft.w)(function(){var a=n.createSwitchBranchRequest();return a?n.gitSwitchBranchService.switchBranch(a).pipe((0,Dt.K)(function(l){return n.actionButtonInProgress$.next(!1),(0,be.of)(void 0)})):(0,be.of)(void 0)}),(0,ye.q)(1),(0,ft.w)(function(){return n.gitSwitchBranchService.getSwitchBranchState(n.workspaceId)}),(0,Me.h)(function(a){return a===ne.ND3.Completed||(0,me.pb)(a)}),(0,ft.w)(function(a){return n.actionButtonInProgress$.next(!1),a===ne.ND3.Completed?(n.closeWorkspaceSettings.emit(),n.gitConnectionService.loadGitConnection(n.workspaceId)):(0,be.of)(void 0)}))}),(0,Re.R)(this.onDestroy$)).subscribe()},r.prototype.onCancelButtonClick=function(){this.returnToInitialState()},r.prototype.getNoBranchesInRepoMessagBarViewModel=function(){return Ja(this.localizationService)},r.prototype.getBranches=function(){var n=this;this.branchDropdownError$.next(void 0);var t=this.createGetBranchesRequest();t&&this.gitConnectionDiscoveryService.getBranches(t).pipe((0,ye.q)(1),(0,Ve.b)(function(o){var a=o.map(function(l){return l.name});n.mapBranchesListToDropdown(a)}),(0,Dt.K)(function(o){var a=n.getBranchDropdownError(o);return n.branchDropdownError$.next(a),(0,be.of)(void 0)})).subscribe()},r.prototype.getBranchDropdownError=function(n){var t,o=null===(t=n?.error)||void 0===t?void 0:t.code;return"Git_ItemNotFound"===o||"Git_GitProviderBadCredentials"===o?this.localizationService.get("Trident_Git_Item_Not_Found_On_Get_branches"):this.gitErrorService.getErrorContent("Git_Get_Branches_Failed").message},r.prototype.mapBranchesListToDropdown=function(n){var t=n.sort(function(o,a){return o.toLocaleLowerCase()>a.toLocaleLowerCase()?1:-1});this.branchDropdownOptionsList=t.map(function(o){return{key:o,text:o}}),this.cdr.detectChanges()},r.prototype.returnToInitialState=function(){this.unsetUIstate(),this.unsetUserSelections(),this.setBranchDropdownOptionsList()},r.prototype.unsetUIstate=function(){this.actionButtonInProgress$.next(!1),this.cancelButtonDisabled$.next(!0),this.repositoryTextInput$.next(void 0),this.repositoryInputError$.next(!1),this.branchDropdownError$.next(void 0),this.directoryInputError$.next(!1)},r.prototype.unsetUserSelections=function(){var n,t,o=this.sessionStorageState$.value;!(null===(n=o?.selectedOrganization)||void 0===n)&&n.setByDatasource||this.gitSessionStorageService.selectOrganization(this.workspaceId,void 0),!(null===(t=o?.selectedRepository)||void 0===t)&&t.setByDatasource||this.gitSessionStorageService.selectRepository(this.workspaceId,void 0),this.gitSessionStorageService.selectBranch(this.workspaceId,void 0),this.gitSessionStorageService.selectRootDirectory(this.workspaceId,void 0)},r.prototype.applyStateToConfigMap=function(n,t,o,a){var l,v,f;return f=n.isAdmin?st.Admin:st.NonAdmin,n.isWorkspaceOnCapacity||(f|=st.NotOnCapacity),f|=t?.gitConnectionDetails?st.Connected:st.NotConnected,!(null===(l=o?.selectedRepository)||void 0===l)&&l.setByDatasource&&!(null===(v=o?.selectedOrganization)||void 0===v)&&v.setByDatasource&&(f|=st.FixedRepository),o?.isConfigured||(f|=st.NotConfigured),a.getComponentConfig(f)},r.prototype.setBranchDropdownOptionsList=function(){var n,t,o,a,l,v,f,b,z,te;(null!==(n=this.gitConnection$.value)&&void 0!==n&&n.gitConnectionDetails&&void 0===this.branchDropdownOptionsList||null!==(o=null===(t=this.sessionStorageState$.value)||void 0===t?void 0:t.selectedOrganization)&&void 0!==o&&o.setByDatasource&&null!==(l=null===(a=this.sessionStorageState$.value)||void 0===a?void 0:a.selectedRepository)&&void 0!==l&&l.setByDatasource&&void 0===this.branchDropdownOptionsList)&&this.getBranches();var ue=null!==(f=null===(v=this.sessionStorageState$.value)||void 0===v?void 0:v.selectedBranch)&&void 0!==f?f:null!==(te=null===(z=null===(b=this.gitConnection$.value)||void 0===b?void 0:b.gitConnectionDetails)||void 0===z?void 0:z.branchName)&&void 0!==te?te:void 0;this.branchDropdownSelectedOption=ue?{key:ue,text:ue}:void 0},r.prototype.createGetBranchesRequest=function(){var n,t,o=this.gitConnection$.value,a=this.sessionStorageState$.value;return this.workspaceId&&o?.gitConnectionDetails?{workspaceId:this.workspaceId,gitProviderType:o.gitConnectionDetails.gitProviderType,organization:o.gitConnectionDetails.organizationName,repository:o.gitConnectionDetails.repositoryName,project:void 0,datasourceOID:null!==(t=null===(n=o.gitConnectionDetails)||void 0===n?void 0:n.datasourceOID)&&void 0!==t?t:a?.selectedDatasourceOID}:this.workspaceId&&a?.selectedGitProviderType&&a?.selectedOrganization&&a?.selectedRepository&&a?.selectedDatasourceOID?{workspaceId:this.workspaceId,gitProviderType:a.selectedGitProviderType,organization:a.selectedOrganization.name,repository:a.selectedRepository.name,project:void 0,datasourceOID:a.selectedDatasourceOID}:void 0},r.prototype.createNewDirectoryRequest=function(){var n,t=this.sessionStorageState$.value;if(this.workspaceId&&t?.selectedGitProviderType&&t?.selectedOrganization&&t?.selectedRepository&&t?.selectedBranch&&t?.selectedDatasourceOID)return{workspaceId:this.workspaceId,providerType:t.selectedGitProviderType,organizationName:t.selectedOrganization.name,repositoryId:t.selectedRepository.name,branchName:t.selectedBranch,datasourceOID:t?.selectedDatasourceOID,newDirectoryName:null!==(n=t?.selectedDirectory)&&void 0!==n?n:""}},r.prototype.createNewDirectory=function(){var t,o,n=this;return this.dialogService.open(qa,function(i,r){return{panelWidth:"400px",panelClass:"dialog-style",data:{title:r.get("Trident_Git_Add_New_Folder_Title"),buttons:[{name:r.get("Trident_Git_Create_And_Sync"),label:r.get("Trident_Git_Create_And_Sync"),buttonType:"primary"},{name:r.get("Cancel_ButtonText"),label:r.get("Cancel_ButtonText"),buttonType:null}],folderName:i,content:r.get("Trident_Git_Create_New_Folder_Content")}}}(null!==(o=null===(t=this.sessionStorageState$.value)||void 0===t?void 0:t.selectedDirectory)&&void 0!==o?o:"",this.localizationService)).afterClosed().pipe((0,ye.q)(1),(0,Me.h)(function(a){return a}),(0,ft.w)(function(){var a=n.createNewDirectoryRequest();return a?n.gitConnectionDiscoveryService.createDirectory(a).pipe((0,Ve.b)(function(){return n.onConnectButtonClick()}),(0,Dt.K)(function(l){return(0,me.Fc)(l)?n.gitErrorService.handleSyncGitError("Git_InvalidDirectoryName",l):n.gitErrorService.handleSyncGitError("Git_Create_Folder_Failed",l),(0,be.of)(void 0)})):(0,be.of)(void 0)}),(0,ye.q)(1))},r.prototype.createSaveConnectionRequest=function(){var n,t=this.sessionStorageState$.value;if(this.workspaceId&&t?.selectedGitProviderType&&t?.selectedOrganization&&t?.selectedRepository&&t?.selectedBranch)return{workspaceId:this.workspaceId,gitConnectionDetails:{gitProviderType:t.selectedGitProviderType,organizationName:t.selectedOrganization.name,projectName:void 0,repositoryName:t.selectedRepository.name,branchName:t.selectedBranch,rootDirectory:null!==(n=t?.selectedDirectory)&&void 0!==n?n:"/",datasourceOID:t?.selectedDatasourceOID}}},r.prototype.createSwitchBranchRequest=function(){var n,t,o,a,l;if(null!==(t=null===(n=this.gitConnection$.value)||void 0===n?void 0:n.gitConnectionDetails)&&void 0!==t&&t.head&&null!==(o=this.sessionStorageState$.value)&&void 0!==o&&o.selectedBranch&&this.sessionStorageState$.value.selectedBranch!==(null===(l=null===(a=this.gitConnection$.value)||void 0===a?void 0:a.gitConnectionDetails)||void 0===l?void 0:l.branchName))return{workspaceId:this.workspaceId,request:{workspaceHead:this.gitConnection$.value.gitConnectionDetails.head,targetBranchName:this.sessionStorageState$.value.selectedBranch}}},r.prototype.createInitializeRequest=function(n){return{workspaceId:this.workspaceId,request:{mergePolicy:n}}},r.prototype.initializeConnection=function(){var n=this,t=this.createInitializeRequest(qe.None);return this.gitInitializationService.initializeGitConnection(t).pipe((0,Ca.b)(function(){return n.gitInitializationService.getGitInitializationCallState(n.workspaceId).pipe((0,Re.R)(n.onDestroy$),(0,Ve.b)(function(o){o===ne.CmZ.Completed&&n.closeWorkspaceSettings.emit()}),(0,Me.h)(function(o){return(0,me.pb)(o)&&(0,me.E6)(o)}),(0,ye.q)(1),(0,ft.w)(function(){return n.closeWorkspaceSettings.emit(),n.dialogService.open(fe,{panelClass:"dialog-style",width:Ge.PW.Medium+"px"}).afterClosed().pipe((0,ye.q)(1),(0,Ve.b)(function(o){(o===qe.KeepYours||o===qe.TakeTheirs)&&(t=n.createInitializeRequest(o),n.gitInitializationService.initializeGitConnection(t))}))}))}))},Object.defineProperty(r.prototype,"branchDropdownOptionsList",{get:function(){return this._branchDropdownOptionsList},set:function(t){this._branchDropdownOptionsList=t,this.branchDropdownOptionsListFiltered=t},enumerable:!1,configurable:!0}),r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(ne.gCl),e.\u0275\u0275directiveInject(ze.rC),e.\u0275\u0275directiveInject(ze.eL),e.\u0275\u0275directiveInject(Be.jR),e.\u0275\u0275directiveInject(nt),e.\u0275\u0275directiveInject(Ya),e.\u0275\u0275directiveInject(ze.Mv),e.\u0275\u0275directiveInject(Ge.uQ),e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(_t.V$),e.\u0275\u0275directiveInject(Qa._))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-connection-details-settings-v2"]],inputs:{workspaceId:"workspaceId"},outputs:{closeWorkspaceSettings:"closeWorkspaceSettings"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:7,consts:[[4,"ngIf"],["class","no_branches_in_repo_message_bar",3,"viewModel",4,"ngIf"],[1,"git-connection-details-settings"],[3,"ngSwitch"],["class","fixed-style",4,"ngSwitchCase"],["class","textbox-style",4,"ngSwitchCase"],["class","dropdown-style",4,"ngSwitchCase"],[1,"buttons"],["tri-button","","appearance","primary",3,"disabled","click",4,"ngSwitchCase"],["tri-button","",3,"disabled","click",4,"ngIf"],[1,"no_branches_in_repo_message_bar",3,"viewModel"],[1,"fixed-style"],[3,"triTooltip"],[1,"textbox-style"],[1,"mandatory"],[3,"name","triTooltip"],["type","text",3,"ngClass","ngModel","placeholder","ngModelChange"],["tri-textfield-error","",1,"error-message"],["tri-svg-icon-12","",3,"name"],[1,"dropdown-style"],[3,"ngModel","ngClass","options","disabled","isLoading","ngModelChange","valueChange"],["class","dropdown-search-with-divider",3,"value",4,"ngIf"],["class","action-and-divider",4,"ngIf"],[3,"title","value",4,"ngFor","ngForOf"],["class","empty-dropdown-message",3,"disabled",4,"ngIf"],[1,"dropdown-search-with-divider",3,"value"],[1,"action-and-divider"],["icon","add_16_regular",3,"text","actionClicked"],[3,"title","value"],[1,"empty-dropdown-message",3,"disabled"],["type","text",3,"ngClass","ngModel","disabled","placeholder","ngModelChange"],["tri-button","","appearance","primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["loading",""],["size","tiny","labelPosition","after"],["tri-button","",3,"disabled","click"]],template:function(t,o){1&t&&(e.\u0275\u0275template(0,yd,3,3,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async")),2&t&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,o.loadGitConnection$)&&e.\u0275\u0275pipeBind1(2,3,o.loadGitSessionStorageState$)&&e.\u0275\u0275pipeBind1(3,5,o.loadComponentUtilitiesRecord$))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,g.NgSwitch,g.NgSwitchCase,p.Fj,p.JJ,p.On,Mt.M3,Ht.l,os,tn.q,Mt.ii,it.h,Gn.U,He.D,T.M,xt.Z,g.AsyncPipe,k.Y],styles:[".no_branches_in_repo_message_bar[_ngcontent-%COMP%]{padding-top:12px}.git-connection-details-settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:20px;gap:24px}.git-connection-details-settings[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.git-connection-details-settings[_ngcontent-%COMP%]   .fixed-style[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px;margin-top:28px}h4[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:4px;margin:0;font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold)}h4[_ngcontent-%COMP%]   span.mandatory[_ngcontent-%COMP%]{color:var(--globalColorRedShade10)}h4[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38)}.textbox-style[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.textbox-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid var(--globalColorGrey82);border-radius:4px;padding:6px 10px 6px 12px;box-sizing:border-box;width:360px}.textbox-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{opacity:.4}.textbox-style[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border:1px solid var(--globalColorCranberryPrimary)}.textbox-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:disabled):not(.error){border-bottom:1px solid var(--globalColorGrey38)}.textbox-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:disabled):focus{outline:none}.textbox-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:disabled):focus:not(.error){border-bottom:2px solid var(--globalColorBrand80)}.dropdown-style[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.dropdown-style[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]{width:100%;max-width:360px;overflow-x:hidden;text-overflow:ellipsis;color:var(--colorNeutralForeground4);box-sizing:border-box}.dropdown-style[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     button{border:1px solid var(--globalColorGrey82);border-radius:4px;padding:6px 10px 6px 12px;box-sizing:border-box;width:360px}.dropdown-style[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     button:disabled{opacity:.4}.dropdown-style[_ngcontent-%COMP%]   .action-and-divider[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-top:1px solid var(--globalColorGrey88);width:100%;margin-top:3px;margin-bottom:4px}.dropdown-style.error[_ngcontent-%COMP%]{border:1px solid var(--globalColorCranberryPrimary)}.dropdown-search-with-divider[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;margin-bottom:2px}.error-message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:4px;color:var(--globalColorCranberryPrimary);fill:var(--globalColorCranberryPrimary)}.error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200)}"],changeDetection:0}),r}(mn.w);function kd(i,r){1&i&&(e.\u0275\u0275elementStart(0,"h4",3),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Trident_Git_AAD")))}function Id(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"h4",3),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerStart(6,5),e.\u0275\u0275template(7,kd,3,3,"h4",6),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementStart(8,"div",4),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,5,"Trident_Git_Provider")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.gitProviderTypeDisplayName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",n.selectedGitProviderType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",n.GitProviderTypeSwitch.AzureDevOps),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.userAccount)}}function xd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",4),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"a",7)(4,"button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onClickAdoSignup())}),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"Trident_Git_ADO_Signup")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,4,"Trident_Git_ADO_Signup_Button")," "))}var Md=function(i){function r(n){var t=i.call(this)||this;return t.telemetryService=n,t.selectedGitProviderType=me.IS.AzureDevOps,t.userAccount=null,t.gitProviderTypeChange=new e.EventEmitter,t.GitProviderTypeSwitch=me.IS,t.gitProviderTypesList=[me.IS.AzureDevOps],t.gitProviderTypeDisplayName=t.gitProviderTypeEnumToString(me.IS.AzureDevOps),t}return(0,N.ZT)(r,i),r.prototype.onGitProviderTypeChange=function(n){this.selectedGitProviderType=n,this.gitProviderTypeDisplayName=this.gitProviderTypeEnumToString(n),this.gitProviderTypeChange.emit(n)},r.prototype.onClickAdoSignup=function(){this.telemetryService.logEvent({name:"Navigate to Git provider signup from connection settings",properties:{gitProvider:me.IS.AzureDevOps}})},r.prototype.gitProviderTypeEnumToString=function(n){return me.IS[n]},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Tt.t))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-provider-settings"]],inputs:{selectedGitProviderType:"selectedGitProviderType",userAccount:"userAccount"},outputs:{gitProviderTypeChange:"gitProviderTypeChange"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:2,consts:[[1,"container"],[4,"ngIf","ngIfElse"],["noAccount",""],[1,"title"],[1,"content"],[3,"ngSwitch"],["class","title",4,"ngSwitchCase"],["href","https://azure.microsoft.com/en-us/products/devops/","target","_blank","rel","noopener noreferrer"],["tri-button","",1,"signup-button",3,"click"]],template:function(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Id,10,7,"ng-container",1),e.\u0275\u0275template(2,xd,7,6,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t){var a=e.\u0275\u0275reference(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.userAccount)("ngIfElse",a)}},dependencies:[g.NgIf,g.NgSwitch,g.NgSwitchCase,k.Y],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;margin-top:6px;height:100%;font-size:14px}.title[_ngcontent-%COMP%]{margin-top:8px}h4[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:14px}.content[_ngcontent-%COMP%]{margin-top:4px}.signup-button[_ngcontent-%COMP%]{margin-top:16px}"],changeDetection:0}),r}(mn.w);function Pd(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",11),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.getWorkspaceNotOnPremiumWarningContainer())}}function Td(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",11),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.getTenantAdminFSDisabledWarningContainer())}}function Od(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",11),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.getTemplateAppNotSupportedWarningContainer())}}function Ed(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",11),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.getAdoMFAErrorContainer())}}function Dd(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-git-provider-accounts",12),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("workspaceId",n.workspaceId)}}function Bd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-git-provider-settings",13),e.\u0275\u0275listener("gitProviderTypeChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.onGitProviderTypeChange(a))}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("userAccount",t.userAccount)}}function Gd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-git-connection-details-settings-v2",14),e.\u0275\u0275listener("closeWorkspaceSettings",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.closeWorkspaceSettings())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("workspaceId",t.workspaceId)}}function zd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-git-connection-details-settings",16),e.\u0275\u0275listener("organizationChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onOrganizationChange(a))})("projectChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onProjectChange(a))})("repositoryChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onRepositoryChange(a,!1))})("branchChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onBranchChange(a))})("folderNameChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onFolderNameChange(a))})("createNewBranchChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onCreateNewBranch(a))})("connectButtonClick",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onConnectButtonClick())})("switchBranchButtonClick",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onSwitchBranchButtonClick())})("cancelButtonClick",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onCancelButtonClick())})("cancelSwitchButtonClick",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onSwitchCancelButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("isOnCapacity",e.\u0275\u0275pipeBind1(1,19,t.isWorkspaceOnCapacity$))("isConnected",e.\u0275\u0275pipeBind1(2,21,t.isConnected$))("connectionRequestInProgress",e.\u0275\u0275pipeBind1(3,23,t.connectionRequestInProgress$))("switchBranchRequestInProgress",e.\u0275\u0275pipeBind1(4,25,t.switchBranchRequestInProgress$))("workspaceMemberRole",e.\u0275\u0275pipeBind1(5,27,t.workspaceMemberRole$))("organizationsList",e.\u0275\u0275pipeBind1(6,29,t.organizationsList$))("organizationsError",t.organizationsError)("selectedOrganization",e.\u0275\u0275pipeBind1(7,31,t.selectedOrganization$))("projectsList",e.\u0275\u0275pipeBind1(8,33,t.projectsList$))("projectsError",t.projectsError)("selectedProject",e.\u0275\u0275pipeBind1(9,35,t.selectedProject$))("repositoriesList",e.\u0275\u0275pipeBind1(10,37,t.repositoriesList$))("repositoriesError",t.repositoriesError)("selectedRepository",e.\u0275\u0275pipeBind1(11,39,t.selectedRepository$))("branchesList",e.\u0275\u0275pipeBind1(12,41,t.branchesList$))("branchesError",t.branchesError)("selectedBranch",e.\u0275\u0275pipeBind1(13,43,t.selectedBranch$))("newBranchState",e.\u0275\u0275pipeBind1(14,45,t.newBranchState$))("selectedFolderName",e.\u0275\u0275pipeBind1(15,47,t.selectedFolderName$))}}function Ad(i,r){if(1&i&&(e.\u0275\u0275template(0,zd,16,49,"tri-git-connection-details-settings",15),e.\u0275\u0275pipe(1,"async")),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,n.showConnectionDetails))}}function Rd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",17)(1,"button",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onDisconnectButtonClick())}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Trident_Git_Disconnect_Workspace")," "))}var Fd=function(i){function r(n,t,o,a,l,v,f,b,z,te,ue,ee,se,Kn,ji){var Yt,re=i.call(this)||this;return re.tridentDialogService=n,re.localizationService=t,re.gitAdminSwitchesService=o,re.gitConnectionService=a,re.gitConnectionDiscoveryService=l,re.gitInitializationService=v,re.gitErrorService=f,re.gitNotificationService=b,re.gitSwitchBranchService=z,re.gitStatusService=te,re.telemetryService=ue,re.gitSessionStorageService=ee,re.workspaceContextService=se,re.userInfoTridentService=Kn,re.featureSwitchService=ji,re.workspaceId="",re.workspaceName="",re.closeWorkspaceSettingsFromTab=new e.EventEmitter,re.Title="",re.LoadingState=ne.Gui,re.loadingState$=(0,be.of)(ne.Gui.Initial),re.connectionRequestInProgress$=new W.X(!1),re.switchBranchRequestInProgress$=new W.X(null),re.isConnected$=new W.X(!1),re.workspaceMemberRole$=(0,be.of)(null),re.isServiceAppWorkspace$=(0,be.of)(!1),re.isAdoMFANeeded$=new W.X(!1),re.isWorkspaceOnCapacity$=new W.X(!1),re.showConnectionDetails=new W.X(!1),re.isAdminFeatureSwitchEnabled$=(0,be.of)(!1),re.FolderMemberRole=gn.R7,re.currentSelection$=new W.X(At.None),re.selectedGitProviderType$=new W.X(me.IS.AzureDevOps),re.gitProviderTypesList=[me.IS.AzureDevOps],re.selectedOrganization$=new W.X(null),re.organizationsList$=new W.X(null),re.organizationsError=null,re.selectedProject$=new W.X(null),re.projectsList$=new W.X(null),re.projectsError=null,re.selectedRepository$=new W.X(null),re.repositoriesList$=new W.X(null),re.repositoriesError=null,re.selectedBranch$=new W.X(null),re.newBranchState$=new W.X(null),re.branchesList$=new W.X(null),re.branchesError=null,re.componentConfigMap=(0,ze.EI)(),re.showGenericUI=re.featureSwitchService.featureSwitches.tridentGitGitHubApis,re.showConnectionDetailsV2$=(0,be.of)(),re.disableAndCollapseConnectionDetails$=(0,be.of)(!0),re.selectedFolderName$=new W.X(null),re.isFolderExists$=new W.X(!0),re.selectionMetadata=((Yt={})[At.Organization]={selected$:re.selectedOrganization$,list$:re.organizationsList$},Yt[At.Project]={selected$:re.selectedProject$,list$:re.projectsList$},Yt[At.Repository]={selected$:re.selectedRepository$,list$:re.repositoriesList$},Yt[At.Branch]={selected$:re.selectedBranch$,list$:re.branchesList$},Yt),re.userAccount=re.userInfoTridentService.name,re}return(0,N.ZT)(r,i),r.prototype.ngOnInit=function(){var n=this;this.isAdminFeatureSwitchEnabled$=this.gitAdminSwitchesService.isTenantAdminEnabled(this.workspaceId),this.workspaceContextService.selectedWorkspaceCapacitySkuTier$.pipe((0,Re.R)(this.onDestroy$)).subscribe(function(a){n.isWorkspaceOnCapacity$.next(!!(a&&6!==a||n.featureSwitchService.featureSwitches.tridentGitOnShared)),n.gitSessionStorageService.selectWorkspaceCapacity(n.workspaceId,n.isWorkspaceOnCapacity$.value)}),this.isServiceAppWorkspace$=this.workspaceContextService.selectedWorkspaceIsServiceApp$;var t=this.localizationService.get("Trident_Git_Git_Integration"),o=this.localizationService.get("Preview");this.Title="".concat(t," (").concat(o,")"),(0,je.aj)([this.isServiceAppWorkspace$,this.isAdoMFANeeded$,this.isWorkspaceOnCapacity$,this.isConnected$,this.isAdminFeatureSwitchEnabled$]).pipe((0,Re.R)(this.onDestroy$)).subscribe(function(a){n.showConnectionDetails.next(null!==n.userAccount&&!a[0]&&!a[1]&&a[4]&&(a[3]||a[2]))}),(0,je.aj)([this.gitConnectionService.ensureGitConnection(this.workspaceId,!0).pipe((0,Me.h)(function(a){return a?.callState!==ne.CmZ.Initial&&a?.callState!==ne.CmZ.InProgress}),(0,ye.q)(1)),this.showConnectionDetails.pipe((0,Xt.x)())]).pipe((0,Re.R)(this.onDestroy$)).subscribe(function(a){var l=a[0],v=a[1];l&&l?.gitConnectionDetails&&!(0,me.pb)(l?.callState)?l?.gitConnectionDetails&&(n.setExistingConnection(l.gitConnectionDetails),n.userAccount&&n.gitSessionStorageService.selectUserAccount(n.workspaceId,n.userAccount)):v&&n.returnToDefaultState()}),this.loadingState$=this.gitConnectionService.getGitConnectionOperationState(this.workspaceId),this.workspaceContextService.selectedWorkspacePermission$.pipe((0,ye.q)(1),(0,ge.U)(function(a){return n.workspaceMemberRole$=(0,be.of)((0,gn.lC)(a))})).subscribe(),this.initializeUISettings(),this.logOpenGitIntegrationTabEvent()},r.prototype.getWorkspaceNotOnPremiumWarningContainer=function(){return function(i){return{bannerType:2,message:i.get("Trident_Git_Premium_License"),linkDisplayName:i.get("LearnMore"),link:"https://go.microsoft.com/fwlink/?linkid=2235445&clcid=0x409"}}(this.localizationService)},r.prototype.getTemplateAppNotSupportedWarningContainer=function(){return function(i){return{bannerType:2,message:i.get("Trident_Git_ServiceApp_NotSupported_Warning")}}(this.localizationService)},r.prototype.getAdoMFAErrorContainer=function(){return function(i){return{bannerType:1,message:i.get("Trident_Git_ADO_MFANotSupported_Error")}}(this.localizationService)},r.prototype.getTenantAdminFSDisabledWarningContainer=function(){return function(i){return{bannerType:2,message:i.get("Trident_Git_TenantAdminSwitchDisabled_Message")}}(this.localizationService)},r.prototype.getSelectionValue=function(n){var t=this.selectionMetadata[n];return t?t.selected$:void 0},r.prototype.getSelectionList=function(n){var t=this.selectionMetadata[n];return t?t.list$:void 0},r.prototype.resetList=function(n){n?.next(null)},r.prototype.updateState=function(n){this.currentSelection$.next(n),this.resetPriorSelections(n)},r.prototype.resetPriorSelections=function(n){for(var t=++n;t<At.IteratorLast;t++){var o=this.getSelectionList(t);this.resetList(o);var a=this.getSelectionValue(t);a?.next(null)}this.organizationsError=null,this.projectsError=null,this.repositoriesError=null,this.branchesError=null},r.prototype.onGitProviderTypeChange=function(n){var t=this;this.updateState(At.GitProviderType),this.selectedGitProviderType$.next(n),this.organizationsError=null,this.gitConnectionDiscoveryService.getOrganizations(n,this.workspaceId).pipe((0,ge.U)(function(o){var a=t.sortArray(o.map(function(l){return{key:l.name,text:l.name}}));t.organizationsList$.next(a)}),(0,Dt.K)(function(o){var a=t.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",o);return(0,me.xT)(a,"Git_GitProviderResourceNotExistOrUnauthorized")&&(t.userAccount=null),(0,me.xT)(a,"Git_AdoConditionalAccessNotSupported")&&t.isAdoMFANeeded$.next(!0),t.organizationsList$.next([]),t.organizationsError=(0,me.lz)(a),(0,be.of)([])})).subscribe()},r.prototype.onOrganizationChange=function(n){var t=this;this.logGitSelection("Git organization selected",this.organizationsList$),this.updateState(At.Organization),this.selectedOrganization$.next(n),this.projectsError=null,this.gitConnectionDiscoveryService.getProjects(this.selectedGitProviderType$.value,n.name,this.workspaceId).pipe((0,ge.U)(function(o){var a=t.sortArray(o.map(function(l){return{key:l.name,text:l.name}}));t.projectsList$.next(a)}),(0,Dt.K)(function(o){var a=t.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",o);return t.projectsList$.next([]),t.projectsError=(0,me.lz)(a),(0,be.of)([])})).subscribe()},r.prototype.onProjectChange=function(n){var o,t=this;this.logGitSelection("Git project selected",this.projectsList$),this.updateState(At.Project),this.selectedProject$.next(n),this.repositoriesError=null,this.gitConnectionDiscoveryService.getRepositories(this.selectedGitProviderType$.value,null===(o=this.selectedOrganization$.value)||void 0===o?void 0:o.name,n.name,this.workspaceId).pipe((0,ge.U)(function(a){var l=t.sortArray(a.map(function(v){return{key:v.name,text:v.name}}));t.repositoriesList$.next(l)}),(0,Dt.K)(function(a){var l=t.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",a);return t.repositoriesList$.next([]),t.repositoriesError=(0,me.lz)(l),(0,be.of)([])})).subscribe()},r.prototype.onRepositoryChange=function(n,t){var a,l,o=this;t||this.logGitSelection("Git repository selected",this.repositoriesList$),this.updateState(At.Repository),this.selectedRepository$.next(n),this.branchesError=null;var v={workspaceId:this.workspaceId,gitProviderType:this.selectedGitProviderType$.value,organization:null===(a=this.selectedOrganization$.value)||void 0===a?void 0:a.name,repository:n.name,project:null===(l=this.selectedProject$.value)||void 0===l?void 0:l.name,datasourceOID:void 0};this.gitConnectionDiscoveryService.getBranches(v).pipe((0,ye.q)(1),(0,Dt.K)(function(f){var b=o.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",f);return o.branchesList$.next([]),o.branchesError=(0,me.lz)(b),(0,be.of)([])})).subscribe(function(f){var b=o.filterBranchsByPrefix(f),z=o.sortArray(b.map(function(te){return{key:te.name,text:te.name}}));o.telemetryService.logEvent({name:"Git branches fetched",properties:{fetchContext:t?"Connection management":"Connection creation"}}),o.branchesList$.next(z)})},r.prototype.onBranchChange=function(n){this.logGitSelection("Git branch selected",this.branchesList$),this.updateState(At.Branch),this.selectedBranch$.next(n)},r.prototype.onFolderNameChange=function(n){(!n||""!==n)&&this.selectedFolderName$.next(n)},r.prototype.onCreateNewBranch=function(n){var o,a,l,v,t=this;if(null!==(o=n.parentBranch)&&void 0!==o&&o.name&&null!==(a=this.selectedOrganization$.value)&&void 0!==a&&a.name&&null!==(l=this.selectedProject$.value)&&void 0!==l&&l.name&&null!==(v=this.selectedRepository$.value)&&void 0!==v&&v.name)this.gitConnectionDiscoveryService.createBranch({branchName:n.name,parentBranchName:n.parentBranch.name,organizationName:this.selectedOrganization$.value.name,projectName:this.selectedProject$.value.name,providerType:this.selectedGitProviderType$.value,repositoryId:this.selectedRepository$.value.name,workspaceId:this.workspaceId}).pipe((0,Ve.b)(function(){var z=n.name;if(t.selectedBranch$.next({name:z}),t.newBranchState$.next({name:z}),t.branchesList$.value){t.branchesList$.value.push({key:z,text:z});var te=t.sortArray(t.branchesList$.value.map(function(ue){return{key:ue.key,text:ue.text}}));t.branchesList$.next(te)}}),(0,Dt.K)(function(z){var te,ue;switch(null===(te=z.error["pbi.error"])||void 0===te?void 0:te.code){case"Git_InvalidBranchName":ue=t.gitErrorService.makeGitErrorFromHttpResponse("Git_InvalidBranchName",z);break;case"Git_BranchNameAlreadyExists":ue=t.gitErrorService.makeGitErrorFromHttpResponse("Git_BranchNameAlreadyExists",z);break;default:ue=t.gitErrorService.makeGitErrorFromHttpResponse("Git_Create_Branch_Failed",z)}return t.newBranchState$.next(ue),(0,be.of)()})).subscribe();else{var f=this.gitErrorService.makeClientSideGitError("Git_Create_Branch_Origin_Branch_Not_Found");this.newBranchState$.next(f)}},r.prototype.createFolderForNewConnection=function(){var n=this,a={title:this.localizationService.get("Trident_Git_Add_New_Folder_Title"),buttons:[{name:this.localizationService.get("Trident_Git_Create_And_Sync"),label:this.localizationService.get("Trident_Git_Create_And_Sync"),buttonType:"primary"},{name:this.localizationService.get("Cancel_ButtonText"),label:this.localizationService.get("Cancel_ButtonText"),buttonType:null}],folderName:this.selectedFolderName$.value,content:this.localizationService.get("Trident_Git_Create_New_Folder_Content")};this.tridentDialogService.open(qa,{width:"400px",panelClass:"dialog-style",data:a}).afterClosed().subscribe(function(l){var v,f,b,z,te,ue,ee,se;if(l){if(!(null!==(v=n.selectedOrganization$.value)&&void 0!==v&&v.name&&null!==(f=n.selectedProject$.value)&&void 0!==f&&f.name&&null!==(b=n.selectedRepository$.value)&&void 0!==b&&b.name&&null!==(z=n.selectedBranch$.value)&&void 0!==z&&z.name&&n.selectedFolderName$.value)){var Kn=n.gitErrorService.makeClientSideGitError("Git_Create_Directory_Invalid_Request");return void n.gitNotificationService.showErrorNotification(Kn,"Trident_Git_Toast_Create_Folder_Fail")}var ji={providerType:n.selectedGitProviderType$.value,organizationName:n.selectedOrganization$.value.name,projectName:null===(te=n.selectedProject$.value)||void 0===te?void 0:te.name,repositoryId:null===(ue=n.selectedRepository$.value)||void 0===ue?void 0:ue.name,branchName:null===(ee=n.selectedBranch$.value)||void 0===ee?void 0:ee.name,newDirectoryName:n.selectedFolderName$.value,workspaceId:n.workspaceId};n.gitConnectionDiscoveryService.createDirectory(ji).pipe((0,ye.q)(1),(0,Ve.b)(function(){n.isFolderExists$.next(!0),n.onConnectButtonClick()}),(0,Dt.K)(function(Yt){var re;return"Git_InvalidDirectoryName"===(null===(re=Yt.error["pbi.error"])||void 0===re?void 0:re.code)?n.gitErrorService.handleSyncGitError("Git_InvalidDirectoryName",Yt):n.gitErrorService.handleSyncGitError("Git_Create_Folder_Failed",Yt),(0,be.of)()})).subscribe()}else n.onBranchChange(null===(se=n.selectedBranch$)||void 0===se?void 0:se.value),n.connectionRequestInProgress$.next(!1)})},r.prototype.onSwitchBranchButtonClick=function(){var n=this;(0,je.aj)([this.gitConnectionService.getGitConnection(this.workspaceId),this.gitStatusService.getUncommittedChangesCount(this.workspaceId)]).pipe((0,ye.q)(1)).subscribe(function(t){var o,a,l=t[0],v=t[1];!1===(null===(o=l?.gitConnectionDetails)||void 0===o?void 0:o.isInitialized)?n.gitErrorService.handleClientSideGitError("Git_Workspace_Not_Initialized"):void 0===(null===(a=l?.gitConnectionDetails)||void 0===a?void 0:a.head)?n.gitErrorService.handleClientSideGitError("Git_HeadNotSynced"):0!==v?n.gitErrorService.handleClientSideGitError("Git_GitSwitchBranchWithUncommittedChanges"):(n.openSwitchBranchConfirmationDialog(),n.switchBranchRequestInProgress$.next(!1))})},r.prototype.onConnectButtonClick=function(){var n=this,t=this.getSelectedConnectionDetails();this.gitConnectionService.saveGitConnection({workspaceId:this.workspaceId,gitConnectionDetails:t}),this.gitConnectionService.getGitConnectionOperationState(this.workspaceId).pipe((0,Re.R)(this.onDestroy$),(0,Me.h)(function(l){return(0,me.pb)(l)&&(0,me.yG)(l)}),(0,ye.q)(1)).subscribe(function(){n.connectionRequestInProgress$.next(!1),n.createFolderForNewConnection()});var a=this.gitConnectionService.getGitConnectionOperationState(this.workspaceId).pipe((0,Re.R)(this.onDestroy$),(0,ge.U)(function(l){return(0,me.pb)(l)&&(0,me.yG)(l)?(n.isFolderExists$.next(!1),ne.CmZ.Initial):(n.connectionRequestInProgress$.next(l===ne.CmZ.InProgress),l)}));(0,je.aj)([a,this.isFolderExists$]).pipe((0,Re.R)(this.onDestroy$),(0,Me.h)(function(l){return l[0]===ne.CmZ.Completed||!l[1]}),(0,ye.q)(1),(0,ft.w)(function(l){return l[1]?n.gitConnectionService.loadGitConnection(n.workspaceId):(0,be.of)(void 0)}),(0,ye.q)(1)).subscribe(function(l){var v,f;!1===(null===(v=l?.gitConnectionDetails)||void 0===v?void 0:v.isInitialized)&&((0,me.pb)(l?.callState)?n.onBranchChange(null===(f=n.selectedBranch$)||void 0===f?void 0:f.value):l?.callState===ne.CmZ.Completed&&(n.isConnected$.next(!0),n.initializeGitConnection(),n.closeWorkspaceSettingsFromTab.emit()))})},r.prototype.initializeGitConnection=function(){var n=this;this.isConnected$.value?(this.gitInitializationService.initializeGitConnection({workspaceId:this.workspaceId,request:{mergePolicy:me.Z_.None}}),this.gitInitializationService.getGitInitializationCallState(this.workspaceId).pipe((0,Me.h)(function(a){return(0,me.pb)(a)&&(0,me.E6)(a)}),(0,ye.q)(1),(0,ft.w)(function(){return n.tridentDialogService.open(fe,{panelClass:"dialog-style",width:Ge.PW.Medium+"px"}).afterClosed()})).subscribe(function(a){(a===me.Z_.KeepYours||a===me.Z_.TakeTheirs)&&n.gitInitializationService.initializeGitConnection({workspaceId:n.workspaceId,request:{mergePolicy:a}})})):this.gitErrorService.handleClientSideGitError("Git_WorkspaceNotConnectedToGit")},r.prototype.getSelectedConnectionDetails=function(){var n,t,o,a,l,v=this.selectedGitProviderType$.value,f=null===(n=this.selectedOrganization$.value)||void 0===n?void 0:n.name,b=null===(t=this.selectedProject$.value)||void 0===t?void 0:t.name,z=null===(o=this.selectedRepository$.value)||void 0===o?void 0:o.name,te=null===(a=this.selectedBranch$.value)||void 0===a?void 0:a.name,ue=null!==(l=this.selectedFolderName$.value)&&void 0!==l?l:"/";if(v===me.IS.AzureDevOps&&f&&b&&z&&te)return{gitProviderType:v,organizationName:f,projectName:b,repositoryName:z,branchName:te,rootDirectory:ue,isInitialized:!1};this.gitErrorService.handleClientSideGitError("Git_Invalid_Connection_Details")},r.prototype.onCancelButtonClick=function(){this.returnToDefaultState()},r.prototype.onSwitchCancelButtonClick=function(){var n=this;this.gitConnectionService.getGitConnection(this.workspaceId).pipe((0,Re.R)(this.onDestroy$),(0,ye.q)(1),(0,ge.U)(function(t){var o;return null!==(o=t?.gitConnectionDetails)&&void 0!==o&&o.branchName&&n.onBranchChange({name:t.gitConnectionDetails.branchName}),null}))},r.prototype.onDisconnectButtonClick=function(){var n=this;this.tridentDialogService.open(oc,{panelClass:"dialog-style",width:Ge.PW.Medium+"px",data:{workspaceName:this.workspaceName}}).afterClosed().pipe((0,Xa.P)(),(0,Me.h)(function(t){return t===es}),(0,ft.w)(function(){return n.gitConnectionService.deleteGitConnection(n.workspaceId).pipe((0,ye.q)(1),(0,Dt.K)(function(t){return n.gitErrorService.handleSyncGitError("Git_Disconnect_Failed",t),(0,be.of)()}))})).subscribe(function(){n.connectionRequestInProgress$.next(!1),n.isConnected$.next(!1),n.returnToDefaultState()})},r.prototype.closeWorkspaceSettings=function(){this.closeWorkspaceSettingsFromTab.emit()},r.prototype.returnToDefaultState=function(){this.selectedFolderName$.next(null),this.resetPriorSelections(At.GitProviderType),this.onGitProviderTypeChange(me.IS.AzureDevOps)},r.prototype.setExistingConnection=function(n){this.isConnected$.value||(this.isConnected$.next(!0),n?.gitProviderType!==me.IS.GitHub&&(this.selectedOrganization$.next({name:n.organizationName}),this.selectedProject$.next({name:n.projectName}),this.selectedRepository$.next({name:n.repositoryName}),this.onRepositoryChange({name:n.repositoryName},!0),this.selectedBranch$.next({name:n.branchName}),this.selectedFolderName$.next(n.rootDirectory)))},r.prototype.sortArray=function(n){return n.sort(function(t,o){return t.text.toLocaleLowerCase()>o.text.toLocaleLowerCase()?1:-1})},r.prototype.filterBranchsByPrefix=function(n){if(0===n.length)return[];var t=["refs/tags/"];return n.filter(function(o){return!t.some(function(a){return o.name.toLowerCase().startsWith(a.toLowerCase())})})},r.prototype.openSwitchBranchConfirmationDialog=function(){var n=this;this.tridentDialogService.open(ts,Za(this.localizationService)).afterClosed().pipe((0,Me.h)(function(t){return!!t}),(0,ye.q)(1),(0,ft.w)(function(){return n.switchBranchRequestInProgress$.next(!0),n.doSwitchBranchFlow()})).subscribe(function(){return n.switchBranchRequestInProgress$.next(!1)})},r.prototype.doSwitchBranchFlow=function(){var n=this;return this.switchBranchRequestInProgress$.next(!0),this.gitConnectionService.getGitConnection(this.workspaceId).pipe((0,ye.q)(1),(0,Ca.b)(function(t){var o,a;if(null!==(o=t?.gitConnectionDetails)&&void 0!==o&&o.head&&null!==(a=n.selectedBranch$)&&void 0!==a&&a.value)return(0,je.aj)([n.gitSwitchBranchService.switchBranch({workspaceId:n.workspaceId,request:{workspaceHead:t.gitConnectionDetails.head,targetBranchName:n.selectedBranch$.value.name}}),n.gitSwitchBranchService.getSwitchBranchState(n.workspaceId)]);throw"Git_Switch_Branch_Invalid_Request"}),(0,Me.h)(function(t){var o=t[0],a=t[1];return(0,me.pb)(a)||a===ne.ND3.Completed||void 0!==o?.response}),(0,ye.q)(1),(0,ge.U)(function(t){var o;return(0,me.pb)(t[1])?void n.onBranchChange(null===(o=n.selectedBranch$)||void 0===o?void 0:o.value):(n.gitConnectionService.loadGitConnection(n.workspaceId),void n.closeWorkspaceSettings())}),(0,Dt.K)(function(t){return n.switchBranchRequestInProgress$.next(!1),n.gitErrorService.handleClientSideGitError(t),Ys.E}))},r.prototype.logOpenGitIntegrationTabEvent=function(){var n=this;this.gitAdminSwitchesService.isTenantAdminEnabled(this.workspaceId).pipe((0,ye.q)(1)).subscribe(function(t){n.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",featureName:"Git Integration",activityName:"Open Git workspace settings tab",activityAttributes:{isConnected:n.isConnected$.value,restrictedByCapacity:!n.isWorkspaceOnCapacity$.value,restrictedByTenantAdminFS:!t}})})},r.prototype.logGitSelection=function(n,t){var o=this;t.pipe((0,ye.q)(1),(0,ge.U)(function(a){return a?.length})).subscribe(function(a){o.telemetryService.logEvent({name:n,properties:{selectionContext:"Git connection settings",selectionCount:a}})})},r.prototype.initializeUISettings=function(){var n=this;this.showConnectionDetailsV2$=(0,je.aj)([this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId),this.gitConnectionService.getGitConnection(this.workspaceId)]).pipe((0,ge.U)(function(t){var o=t[0],a=t[1];return n.showGenericUI&&o?.selectedGitProviderType===me.IS.GitHub&&(o?.isConfigured||void 0!==a?.gitConnectionDetails)})),this.disableAndCollapseConnectionDetails$=(0,je.aj)([this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId),this.gitConnectionService.getGitConnection(this.workspaceId)]).pipe((0,ge.U)(function(t){var o,a=t[0],l=t[1];return!(!n.showGenericUI||void 0!==l?.gitConnectionDetails||a.isWorkspaceOnCapaity&&void 0!==a.selectedGitProviderType&&null!==(o=n.componentConfigMap[a?.selectedGitProviderType])&&void 0!==o&&o.isWorkspaceConnectedToGitProvider(a))}))},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Ge.uQ),e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(ze.Gg),e.\u0275\u0275directiveInject(ze.rC),e.\u0275\u0275directiveInject(ze.eL),e.\u0275\u0275directiveInject(nt),e.\u0275\u0275directiveInject(Be.jR),e.\u0275\u0275directiveInject(Ie.mn),e.\u0275\u0275directiveInject(ze.Mv),e.\u0275\u0275directiveInject(Ya),e.\u0275\u0275directiveInject(Tt.t),e.\u0275\u0275directiveInject(ne.gCl),e.\u0275\u0275directiveInject(Qa._),e.\u0275\u0275directiveInject(Sa.NQ),e.\u0275\u0275directiveInject(_t.V$))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-connection-settings"]],inputs:{workspaceId:"workspaceId",workspaceName:"workspaceName"},outputs:{closeWorkspaceSettingsFromTab:"closeWorkspaceSettingsFromTab"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:33,vars:45,consts:[[1,"title"],[1,"subtitle"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2235346&clcid=0x409","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon"],[3,"viewModel",4,"ngIf"],[3,"headerText","iconName"],[4,"ngIf","ngIfElse"],["showAzureDevopsUI",""],[1,"divider"],[3,"headerText","iconName","collapsed","disabled"],["showConnectionDetailsV1",""],["class","footer",4,"ngIf"],[3,"viewModel"],[3,"workspaceId"],[3,"userAccount","gitProviderTypeChange"],[3,"workspaceId","closeWorkspaceSettings"],[3,"isOnCapacity","isConnected","connectionRequestInProgress","switchBranchRequestInProgress","workspaceMemberRole","organizationsList","organizationsError","selectedOrganization","projectsList","projectsError","selectedProject","repositoriesList","repositoriesError","selectedRepository","branchesList","branchesError","selectedBranch","newBranchState","selectedFolderName","organizationChange","projectChange","repositoryChange","branchChange","folderNameChange","createNewBranchChange","connectButtonClick","switchBranchButtonClick","cancelButtonClick","cancelSwitchButtonClick",4,"ngIf"],[3,"isOnCapacity","isConnected","connectionRequestInProgress","switchBranchRequestInProgress","workspaceMemberRole","organizationsList","organizationsError","selectedOrganization","projectsList","projectsError","selectedProject","repositoriesList","repositoriesError","selectedRepository","branchesList","branchesError","selectedBranch","newBranchState","selectedFolderName","organizationChange","projectChange","repositoryChange","branchChange","folderNameChange","createNewBranchChange","connectButtonClick","switchBranchButtonClick","cancelButtonClick","cancelSwitchButtonClick"],[1,"footer"],["tri-button","",1,"disconnect-button",3,"click"]],template:function(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"h4",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"div",1),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementStart(5,"tri-link",2),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(8,Pd,1,1,"tri-message-bar",3),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275template(10,Td,1,1,"tri-message-bar",3),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275template(12,Od,1,1,"tri-message-bar",3),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275template(14,Ed,1,1,"tri-message-bar",3),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275elementStart(16,"tri-collapsed-container",4),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275template(18,Dd,2,1,"ng-container",5),e.\u0275\u0275template(19,Bd,1,1,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"div",7),e.\u0275\u0275elementStart(22,"tri-collapsed-container",8),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275pipe(25,"async"),e.\u0275\u0275template(26,Gd,2,1,"ng-container",5),e.\u0275\u0275pipe(27,"async"),e.\u0275\u0275template(28,Ad,2,3,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(30,Rd,4,3,"div",10),e.\u0275\u0275pipe(31,"async"),e.\u0275\u0275pipe(32,"async")),2&t){var v,f,a=e.\u0275\u0275reference(20),l=e.\u0275\u0275reference(29);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(o.Title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(4,19,"Trident_Git_Git_Integration_Info")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,21,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(9,23,o.isWorkspaceOnCapacity$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(11,25,o.isAdminFeatureSwitchEnabled$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(13,27,o.isServiceAppWorkspace$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(15,29,o.isAdoMFANeeded$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("headerText",e.\u0275\u0275pipeBind1(17,31,"Trident_Git_Provider_Title"))("iconName","plug_connected_20_regular"),e.\u0275\u0275attribute("data-testid","git-provider-accounts-connection-settings"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.showGenericUI)("ngIfElse",a),e.\u0275\u0275advance(4),e.\u0275\u0275property("headerText",e.\u0275\u0275pipeBind1(23,33,"Trident_Git_Repository_And_Branch"))("iconName","archive_20_regular")("collapsed",null===(v=e.\u0275\u0275pipeBind1(24,35,o.disableAndCollapseConnectionDetails$))||void 0===v||v)("disabled",null===(f=e.\u0275\u0275pipeBind1(25,37,o.disableAndCollapseConnectionDetails$))||void 0===f||f),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(27,39,o.showConnectionDetailsV2$))("ngIfElse",l),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(31,41,o.isConnected$)&&e.\u0275\u0275pipeBind1(32,43,o.workspaceMemberRole$)===o.FolderMemberRole.Admin)}},dependencies:[g.NgIf,Fc,Rr,O.v,it.h,Wl,wd,Md,g.AsyncPipe,k.Y],styles:["[_nghost-%COMP%]{font-size:14px}.title[_ngcontent-%COMP%]{margin:0 0 6px;font-weight:600}.subtitle[_ngcontent-%COMP%]{margin-bottom:20px}tri-message-bar[_ngcontent-%COMP%]{margin-bottom:16px}.divider[_ngcontent-%COMP%]{height:16px}.footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;padding:0 0 16px 12px;gap:8px;border-radius:2px;margin-top:16px}.footer[_ngcontent-%COMP%]   .disconnect-button[_ngcontent-%COMP%]{padding:0 12px;gap:4px;min-width:166px;height:32px;background:var(--globalColorWhite);border-radius:4px}"],changeDetection:0}),r}(mn.w),Ld=function(){function i(r){this.workspaceSettingsService=r,this.workspaceObjectId=this.workspaceSettingsService.workspaceObjectId,this.workspaceName=this.workspaceSettingsService.workspaceName,this.closeWorkspaceSettingsFromTab=new e.EventEmitter}return i.prototype.onCloseWorkspaceSettingsFromTab=function(){this.closeWorkspaceSettingsFromTab.emit()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-git-integration"]],outputs:{closeWorkspaceSettingsFromTab:"closeWorkspaceSettingsFromTab"},decls:1,vars:2,consts:[[3,"workspaceId","workspaceName","closeWorkspaceSettingsFromTab"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"tri-git-connection-settings",0),e.\u0275\u0275listener("closeWorkspaceSettingsFromTab",function(){return t.onCloseWorkspaceSettingsFromTab()}),e.\u0275\u0275elementEnd()),2&n&&e.\u0275\u0275property("workspaceId",t.workspaceObjectId)("workspaceName",t.workspaceName)},dependencies:[Fd],changeDetection:0}),i}(),Hn=function(i){return i.S3="S3",i.GCP="GCP",i.ExternalADLS="ExternalADLS",i.S3Compatible="S3Compatible",i.OnPrem="OnPrem",i.InternalCrossRegion="InternalCrossRegion",i.OneLakeDatashare="OneLakeDatashare",i}({}),Wd=function(i){return i.Started="STARTED",i.InProgress="INPROGRESS",i.Completed="COMPLETED",i}({}),Nd=function(i){return i.CacheReset="CACHERESET",i.CacheDisable="CACHEDISABLE",i.RetentionPeriodUpDate="RETENTIONPERIODUPDATE",i}({});function $d(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",1),e.\u0275\u0275elementContainerEnd())}function Ud(i,r){1&i&&(e.\u0275\u0275elementStart(0,"section",10),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Trident_Unsaved_Changes_OneLake_Settings")," "))}function Vd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-switch",20),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.isSwitchToggled=a)})("ngModelChange",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.toggleCacheSettings())}),e.\u0275\u0275elementStart(1,"div",21),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngModel",t.isSwitchToggled)("disabled",!t.isWorkspaceAdmin)("aria-label",t.isSwitchToggled?t.toggleSwitchOn:t.toggleSwitchOff),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.isSwitchToggled?t.toggleSwitchOn:t.toggleSwitchOff)}}function jd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-workspace-settings-section-divider",11)(2,"h3",8),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",12)(6,"section",13)(7,"h3",8),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",2),e.\u0275\u0275template(11,Vd,3,4,"tri-switch",14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",2)(13,"section",5),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275element(16,"br"),e.\u0275\u0275elementStart(17,"tri-link",15),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div")(21,"section",16),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275elementStart(24,"span"),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(28,"div",17)(29,"button",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.saveCacheSettings())}),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.discardChanges())}),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,13,"Trident_Workspace_Settings_OneLake_S3ShortcutCachePreview")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,15,"Trident_Workspace_Settings_OneLake_S3ShortcutCacheDuration")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!t.isSaveInProgress),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,17,"Trident_Workspace_Settings_OneLake_S3ShortcutCacheDuration_Description")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(19,19,"Trident_Workspace_Settings_OneLake_S3ShortcutCacheDuration_Description_LearnMoreText")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(23,21,"Trident_Workspace_Settings_OneLake_S3ShortcutCacheDuration_RetentionPeriod")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.selectedCacheDuration," "),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(27,23,t.selectedCacheDuration>0?"TimeUnit_Day":"TimeUnit_Days")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!t.isWorkspaceAdmin||t.isButtonDisabled),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(31,25,"PBI_Button_Label_Save")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.isWorkspaceAdmin||t.isButtonDisabled),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(34,27,"Settings_DiscardButtonText")," ")}}function Hd(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",2),e.\u0275\u0275template(2,Ud,3,3,"section",3),e.\u0275\u0275elementStart(3,"h2",4),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"section",5),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275element(9,"br"),e.\u0275\u0275elementStart(10,"tri-link",6),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"tri-workspace-settings-section-divider",7)(14,"div",2)(15,"h3",8),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"section",5),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275element(21,"br"),e.\u0275\u0275elementStart(22,"tri-link",9),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(25,jd,35,29,"ng-container",0),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.isSaveInProgress),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,10,"Trident_Workspace_Settings_OneLake_Settings")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,12,"Trident_Workspace_Settings_OneLake_S3ShortcutManageSetting")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,14,"Trident_Workspace_Settings_OneLake_Settings_Description_LearnMoreText")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,16,"Trident_Workspace_Settings_OneLake_DownloadOneLakeAppLink")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(20,18,"Trident_Workspace_Settings_OneLake_DownloadOneLakeAppLink_Description")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(24,20,"Trident_Workspace_Settings_OneLake_DownloadOneLakeAppLink_Description_DownloadOneLakeText")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.enableOneLakeUXS3Cache)}}var Kd=function(){function i(r,n,t,o){var l,a=this;this.workspaceSettingsService=r,this.featureSwitchService=n,this.localizationService=t,this.changeDetectorRef=o,this.closeSettings=new e.EventEmitter,this.isWorkspaceAdmin=!1,this.initialized$=this.workspaceSettingsService.initialized$,this.enableOneLakeUXS3Cache=!0,this.toggleSwitchOn="",this.toggleSwitchOff="",this.isSaveInProgress=!1,this.initialized$.subscribe(function(v){v&&(a.isWorkspaceAdmin=a.workspaceSettingsService.isWorkspaceAdmin)}),this.selectedCacheDuration=0,this.isSwitchToggled=this.isCacheEnabled=!1,this.enableOneLakeUXS3Cache=!(null===(l=this.featureSwitchService.featureSwitches)||void 0===l||!l.OneLakeUXS3Cache),this.isButtonDisabled=!0,this.fileReadCountForCaching=1,this.maxCacheSizeInGB=1,this.maxCacheStalenessPeriodInHours=1}return i.prototype.ngOnInit=function(){return(0,N.mG)(this,void 0,void 0,function(){var r;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return this.toggleSwitchOn=this.localizationService.get("ToggleSwitchOn"),this.toggleSwitchOff=this.localizationService.get("ToggleSwitchOff"),[4,this.workspaceSettingsService.retrieveCacheSettings(Hn.S3)];case 1:return r=n.sent(),this.selectedCacheDuration=r?.cacheRetentionPeriodInDays,this.isSwitchToggled=this.isCacheEnabled=r?.isCacheEnabled||!1,this.fileReadCountForCaching=r?.fileReadCountForCaching||1,this.maxCacheSizeInGB=r?.maxCacheSizeInGB||1,this.maxCacheStalenessPeriodInHours=r?.maxCacheStalenessPeriodInHours||1,r?.isCacheEnabled||(this.selectedCacheDuration=0),this.changeDetectorRef.detectChanges(),[2]}})})},i.prototype.handleSliderChange=function(r){this.selectedCacheDuration=r},i.prototype.saveCacheSettings=function(){return(0,N.mG)(this,void 0,void 0,function(){var n;return(0,N.Jh)(this,function(t){switch(t.label){case 0:return this.isSwitchToggled?(this.workspaceSettingsService.saveCacheSettings(Hn.S3,{isCacheEnabled:this.isSwitchToggled,cacheRetentionPeriodInDays:1,fileReadCountForCaching:1,maxCacheSizeInGB:1,maxCacheStalenessPeriodInHours:1}),[4,this.workspaceSettingsService.retrieveCacheSettings(Hn.S3)]):[3,2];case 1:return n=t.sent(),this.isCacheEnabled=n?.isCacheEnabled,this.isButtonDisabled=!0,this.selectedCacheDuration=n?.cacheRetentionPeriodInDays||0,this.changeDetectorRef.detectChanges(),[3,4];case 2:return this.workspaceSettingsService.disableCacheSettings(Hn.S3),this.workspaceSettingsService.isCacheDeleted$?(this.isButtonDisabled=!0,[4,this.workspaceSettingsService.retrieveCacheSettings(Hn.S3)]):[3,4];case 3:n=t.sent(),this.isCacheEnabled=n?.isCacheEnabled,this.setRetentionPeriod(),this.changeDetectorRef.detectChanges(),t.label=4;case 4:return[2]}})})},i.prototype.toggleCacheSettings=function(){this.setRetentionPeriod(),this.isButtonDisabled=!(!this.isSwitchToggled&&this.isCacheEnabled||this.isSwitchToggled&&!this.isCacheEnabled)},i.prototype.discardChanges=function(){this.isSwitchToggled=!this.isSwitchToggled,(this.isSwitchToggled&&this.isCacheEnabled||!this.isSwitchToggled&&!this.isCacheEnabled)&&(this.isButtonDisabled=!0),this.setRetentionPeriod()},i.prototype.setRetentionPeriod=function(){(!this.isSwitchToggled&&this.isCacheEnabled||!this.isSwitchToggled&&!this.isCacheEnabled)&&(this.selectedCacheDuration=0),(this.isSwitchToggled&&!this.isCacheEnabled||this.isSwitchToggled&&this.isCacheEnabled)&&(this.selectedCacheDuration=1)},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(_t.V$),e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-onelake"]],outputs:{closeSettings:"closeSettings"},decls:4,vars:6,consts:[[4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[1,"onelake-settings-container","tri-flex","tri-flex-col"],["class","onelake-settings-description-banner",4,"ngIf"],[1,"onelake-settings-header",2,"margin-top","0"],[1,"onelake-settings-description"],["localize","Trident_Workspace_Settings_OneLake_Settings_Description_LearnMoreText","href","https://go.microsoft.com/fwlink/?linkid=2246518&clcid=0x409","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"external"],["sectionNameLocKey","Trident_Workspace_Settings_OneLake_DownloadOneLakeAppLink"],[1,"onelake-settings-subheader"],["localize","Trident_Workspace_Settings_OneLake_DownloadOneLakeAppLink_Description_DownloadOneLakeText","href","https://go.microsoft.com/fwlink/?linkid=2235671","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"external"],[1,"onelake-settings-description-banner"],["sectionNameLocKey","Trident_Workspace_Settings_OneLake_S3ShortcutSettings"],[1,"preview-cache-box"],[2,"display","flex","justify-content","space-between","align-items","center"],["class","switcher",3,"ngModel","disabled","aria-label","ngModelChange",4,"ngIf"],["localize","Trident_Workspace_Settings_OneLake_S3ShortcutCacheDuration_Description_LearnMoreText","href","https://go.microsoft.com/fwlink/?linkid=2234198","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"external"],[1,"onelake-settings-description","retention-period",2,"font-weight","var(--font-weight-semi-bold)"],[1,"premium-footer-buttons","tri-flex"],["tri-button","","appearance","primary",1,"footer-button",2,"margin-right","5px",3,"disabled","click"],["tri-button","",1,"footer-button",3,"disabled","click"],[1,"switcher",3,"ngModel","disabled","aria-label","ngModelChange"],["tri-switch-text",""]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,$d,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,Hd,26,22,"ng-container",0),e.\u0275\u0275pipe(3,"async")),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,2,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(3,4,t.initialized$)))},dependencies:[g.NgIf,p.JJ,p.On,He.D,an.t,O.v,or,g.AsyncPipe,k.Y],styles:["[_nghost-%COMP%]   .onelake-settings-header[_ngcontent-%COMP%]{font-size:var(--fontSizeBase600);line-height:var(--lineHeightBase600);font-weight:var(--fontWeightSemibold)}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container[_ngcontent-%COMP%]{align-items:flex-start;height:20px}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container[_ngcontent-%COMP%]   .section-header-line[_ngcontent-%COMP%]{border-bottom:1px solid var(--colorNeutralStroke2);height:50%}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container.prefix-line[_ngcontent-%COMP%]{width:8px}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container.postfix-line[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-text[_ngcontent-%COMP%]{margin:0 12px;font-size:12px;font-weight:400;line-height:20px;color:var(--colorNeutralForeground2)}[_nghost-%COMP%]   .onelake-settings-subheader[_ngcontent-%COMP%]{font-size:var(--fontSizeBase400);line-height:var(--lineHeightBase400);font-weight:var(--fontWeightSemibold);margin-top:0!important}[_nghost-%COMP%]   .onelake-settings-description[_ngcontent-%COMP%]{font-weight:var(--fontWeightRegular);font-size:var(--fontSizeBase300);line-height:var(--lineHeightBase300);color:var(--colorNeutralForeground3);margin-bottom:10px}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;display:block;margin-block-start:1.33em;margin-block-end:1.33em;margin-inline-start:0px;margin-inline-end:0px;font-weight:700;margin:10px 0}[_nghost-%COMP%]   .learn-more-link[_ngcontent-%COMP%]{text-decoration:none;margin-bottom:5px;margin-top:5px}[_nghost-%COMP%]   .preview-cache-box[_ngcontent-%COMP%]{padding:12px;border:1px solid var(--globalColorGrey82);border-radius:8px}[_nghost-%COMP%]     .section{margin-bottom:6px!important}[_nghost-%COMP%]   .switcher[_ngcontent-%COMP%]     .tri-switch-internal{padding:0 0 8px!important}"],changeDetection:0}),i}(),Je=function(i){return i[i.InProgress=0]="InProgress",i[i.Active=1]="Active",i[i.Inactive=2]="Inactive",i[i.Deleting=3]="Deleting",i[i.Unusable=4]="Unusable",i[i.Failed=5]="Failed",i[i.DeleteFailed=6]="DeleteFailed",i}({}),Ui=function(i){return i[i.Administrator=15]="Administrator",i[i.Member=13]="Member",i[i.Contributor=9]="Contributor",i[i.Viewer=1]="Viewer",i[i.None=0]="None",i}({}),Vi=function(i){return i.Name="Name",i.Permissions="Permissions",i}({});function Xd(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",2),e.\u0275\u0275elementContainerEnd())}function Qd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.apiError$))&&void 0!==o?o:""))}}function Yd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.dismissFabricWarning())}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getFabricWarningMessageBarViewModel())}}function Zd(i,r){1&i&&(e.\u0275\u0275elementStart(0,"section",10),e.\u0275\u0275element(1,"tri-spinner")(2,"label",11),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(3,1,"AnalysisServer_Loading")))}function Jd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",16),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.createWorkspaceIdentity())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275element(2,"tri-svg-icon",17),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(1,2,t.disableCreateIdentity$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,4,"Trident_Workspace_Settings_Workspace_Identity")," ")}}function qd(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275element(1,"tri-spinner"),e.\u0275\u0275elementStart(2,"span",11),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(3,2,"CapacityProvisioning_SpinnerText")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,4,"CapacityProvisioning_SpinnerText")))}function ep(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section",4)(1,"h4",12),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",13),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,Jd,5,6,"button",14),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275template(9,qd,6,6,"div",15),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Trident_Workspace_Settings_Workspace_Identity_Create")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,6,"Trident_Workspace_Settings_Workspace_Identity_Create_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(8,8,n.isCreating$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(10,10,n.isCreating$))}}function tp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section",34)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"tri-switch",35),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.workspaceIdentity.allowUsersToUseWorkspaceIdentity=a)})("ngModelChange",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onToggleAllowUsersToUseWorkspaceIdentity(a))}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementStart(7,"div",36),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,5,"Trident_Workspace_Settings_Workspace_Identity_UsersCanUseIdentity")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(5,7,t.disableUseIdentity$))("aria-label",e.\u0275\u0275pipeBind1(6,9,"Trident_Workspace_Settings_Workspace_Identity_UsersCanUseIdentity"))("ngModel",t.workspaceIdentity.allowUsersToUseWorkspaceIdentity),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.workspaceIdentity.allowUsersToUseWorkspaceIdentity?e.\u0275\u0275pipeBind1(9,11,"ToggleSwitchOn"):e.\u0275\u0275pipeBind1(10,13,"ToggleSwitchOff"))}}function np(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",37)}function ip(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",38),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.getStateDescription()," ")}}function rp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",50)(1,"button",51),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.addAuthorizedUsers())}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275element(3,"tri-svg-icon",17),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"button",51),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.deleteAuthorizedUsers())}),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275element(8,"tri-svg-icon",52),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(2,4,t.disableIdentity$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,6,"Add_User_Or_Group")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(7,8,t.disableIdentity$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,10,"Remove")," ")}}function op(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"th",53)(1,"tri-checkbox",54),e.\u0275\u0275listener("onChange",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.selectAllUsers())}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",t.isAllUsersSelected)("disabled",!!e.\u0275\u0275pipeBind1(2,2,t.disableIdentity$))}}function ap(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",55)}function sp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",56)}function cp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",55)}function lp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",56)}function dp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"td",62)(1,"tri-checkbox",63),e.\u0275\u0275listener("onChange",function(f){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext().$implicit,z=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(z.onUserSelected(f,b))})("ngModelChange",function(f){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275resetView(b.selected=f)}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(),o=t.index,a=t.$implicit,l=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("name","workspaceIdentityUser_"+o)("disabled",!!e.\u0275\u0275pipeBind1(2,3,l.disableIdentity$))("ngModel",a.selected)}}function pp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",64)}function up(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",65)}function gp(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275template(1,dp,3,5,"td",57),e.\u0275\u0275elementStart(2,"td",58),e.\u0275\u0275template(3,pp,1,0,"tri-svg-icon",59),e.\u0275\u0275template(4,up,1,0,"tri-svg-icon",60),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td",61),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit,t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showAddRemoveButtons),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.getUserDisplayName(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.groupId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.userId),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.getUserDisplayName(n)," "),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.getUserPermissions(n)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.getUserPermissions(n)," ")}}function mp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section",39)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,rp,11,12,"div",40),e.\u0275\u0275elementStart(5,"div",41)(6,"table")(7,"thead")(8,"tr",42),e.\u0275\u0275template(9,op,3,4,"th",43),e.\u0275\u0275elementStart(10,"th",44)(11,"button",45),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.sortWorkspaceIdentityUsers(a.workspaceIdentityUsersColumn.Name))}),e.\u0275\u0275pipe(12,"localizeFormat"),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275template(16,ap,1,0,"tri-svg-icon",46),e.\u0275\u0275template(17,sp,1,0,"tri-svg-icon",47),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"th",48)(19,"button",45),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.sortWorkspaceIdentityUsers(a.workspaceIdentityUsersColumn.Permissions))}),e.\u0275\u0275pipe(20,"localizeFormat"),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275template(24,cp,1,0,"tri-svg-icon",46),e.\u0275\u0275template(25,lp,1,0,"tri-svg-icon",47),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(26,"tbody"),e.\u0275\u0275template(27,gp,8,7,"tr",49),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,12,"AuthorizedUsers")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.showAddRemoveButtons),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.showAddRemoveButtons),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(12,14,t.sortColumnAscending?"DataGrid_ColumnSortedAscending":"DataGrid_ColumnSortedDescending",e.\u0275\u0275pipeBind1(13,17,"Name"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,19,"Name")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Name"===t.sortColumn&&t.sortColumnAscending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Name"===t.sortColumn&&!t.sortColumnAscending),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(20,21,t.sortColumnAscending?"DataGrid_ColumnSortedAscending":"DataGrid_ColumnSortedDescending",e.\u0275\u0275pipeBind1(21,24,"Permissions"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(23,26,"Permissions")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Permissions"===t.sortColumn&&t.sortColumnAscending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Permissions"===t.sortColumn&&!t.sortColumnAscending),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.workspaceIdentity.users)}}function _p(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}var vp=function(r){return{"unusable-state":r}};function hp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section",4),e.\u0275\u0275template(1,tp,11,15,"section",19),e.\u0275\u0275elementStart(2,"section",20)(3,"h4"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"table",21)(7,"tbody")(8,"tr")(9,"td",22),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"td",23),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"tr")(15,"td",22),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"td",23),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"tr")(21,"td",22),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"td",23),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(26,"tr")(27,"td",22),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"td",23)(31,"div",24),e.\u0275\u0275template(32,np,1,0,"tri-svg-icon",25),e.\u0275\u0275elementStart(33,"span",26),e.\u0275\u0275text(34),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(35,ip,2,1,"div",27),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(36,mp,28,28,"section",28),e.\u0275\u0275elementStart(37,"section",29)(38,"h4"),e.\u0275\u0275text(39),e.\u0275\u0275pipe(40,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"div",30),e.\u0275\u0275text(42),e.\u0275\u0275pipe(43,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"div",31)(45,"button",32),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onDeleteClick())}),e.\u0275\u0275pipe(46,"async"),e.\u0275\u0275element(47,"tri-svg-icon",33),e.\u0275\u0275text(48),e.\u0275\u0275pipe(49,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(50,_p,1,0,"tri-spinner",0),e.\u0275\u0275pipe(51,"async"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showUseWorkspaceIdentityToggle),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,19,"Trident_Workspace_Settings_Workspace_Identity_Details")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,21,"Name")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.workspaceIdentity.name||"-"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,23,"Id")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.workspaceIdentity.servicePrincipalId||"-"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(23,25,"Role")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLocalizedWorkspaceIdentityRole()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(29,27,"State")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.isUnusableState()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(39,vp,t.isUnusableState())),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getLocalizedWorkspaceIdentityState()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.getStateDescription().length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.workspaceIdentity.users&&t.workspaceIdentity.users.length>0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(40,29,"Trident_Workspace_Settings_Workspace_Identity_Delete")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(43,31,"Trident_Workspace_Settings_Workspace_Identity_Delete_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(46,33,t.disableDeleteIdentity$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(49,35,"Delete")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(51,37,t.isDeleting$))}}function fp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",4)(2,"h2",5),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"section",6)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"tri-link",7),e.\u0275\u0275pipe(10,"localizeFormat"),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(14,Zd,4,3,"section",8),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275template(17,ep,11,12,"section",9),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275template(20,hp,52,41,"section",9),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,8,"Trident_Workspace_Settings_Workspace_Identities")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,10,"Trident_Workspace_Settings_Workspace_Identity_Description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("aria-label",e.\u0275\u0275pipeBind2(10,12,"LearnMore_About",e.\u0275\u0275pipeBind1(11,15,"Trident_Workspace_Settings_Workspace_Identities")))("external",!0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,17,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.workspaceIdentity&&!1===e.\u0275\u0275pipeBind1(15,19,n.isCreating$)&&!0===e.\u0275\u0275pipeBind1(16,21,n.isLoadingIdentity$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!n.workspaceIdentity&&(!0===e.\u0275\u0275pipeBind1(18,23,n.isCreating$)||!1===e.\u0275\u0275pipeBind1(19,25,n.isLoadingIdentity$))),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.workspaceIdentity)}}var Cp=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.changeDetectorRef=n,this.localizationService=t,this.closeSettings=new e.EventEmitter,this.isWorkspaceAdmin=!1,this.initialized$=this.workspaceSettingsService.initialized$,this.capacitiesInitialized$=this.workspaceSettingsService.capacitiesInitialized$,this.isAllUsersSelected=!1,this.sortColumn=Vi.Name,this.sortColumnAscending=!0,this.isCreating$=new W.X(!1),this.isDeleting$=new W.X(!1),this.isLoadingIdentity$=new W.X(!1),this.disableIdentity$=new W.X(!1),this.disableUseIdentity$=new W.X(!1),this.disableDeleteIdentity$=new W.X(!1),this.disableCreateIdentity$=new W.X(!1),this.showUseWorkspaceIdentityToggle=!1,this.workspaceIdentityUsersColumn=Vi,this.errorDismissed$=new W.X(!1),this.fabricWarningDismissed$=new W.X(!0),this.showAddRemoveButtons=!1,this.workspaceIdentityDisableCapacityCheck=!1,this.isFolderInFsku=!1,this.apiError$=this.workspaceSettingsService.workspaceIdentityErrorMessage$.pipe((0,ge.U)(function(a){return o.errorDismissed$.next(!1),a})),this.initialized$.subscribe(function(a){a&&(o.isWorkspaceAdmin=o.workspaceSettingsService.isWorkspaceAdmin,o.showUseWorkspaceIdentityToggle=o.workspaceSettingsService.getFeatureSwitchState("workspaceIdentityToggleUsage"),o.workspaceIdentityDisableCapacityCheck=o.workspaceSettingsService.getFeatureSwitchState("workspaceIdentityDisableCapacityCheck"),o.showAddRemoveButtons=o.workspaceSettingsService.getFeatureSwitchState("FabricIdentitySharing"),o.isWorkspaceAdmin||(o.disableIdentity$.next(!0),o.disableUseIdentity$.next(!0),o.disableDeleteIdentity$.next(!0),o.disableCreateIdentity$.next(!0)),o.changeDetectorRef.markForCheck())}),this.capacitiesInitialized$.subscribe(function(a){var l;a&&(o.capacitySkuTier=null===(l=o.workspaceSettingsService.selectedCapacity)||void 0===l?void 0:l.capacitySkuTier,o.isFolderInFsku=8===o.capacitySkuTier,!o.workspaceIdentityDisableCapacityCheck&&!o.isFolderInFsku&&(o.disableCreateIdentity$.next(!0),o.fabricWarningDismissed$.next(!1)),o.changeDetectorRef.markForCheck())}),this.apiError$.subscribe(function(a){o.errorDismissed$.next(!1)})}return i.prototype.ngOnInit=function(){return(0,N.mG)(this,void 0,void 0,function(){return(0,N.Jh)(this,function(r){switch(r.label){case 0:return[4,this.getWorkspaceIdentity()];case 1:return r.sent(),[2]}})})},i.prototype.createWorkspaceIdentity=function(){return(0,N.mG)(this,void 0,void 0,function(){return(0,N.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,,4,5]),this.isCreating$.next(!0),[4,this.workspaceSettingsService.createWorkspaceIdentity()];case 1:return r.sent(),[4,this.delay(5e3)];case 2:return r.sent(),[4,this.getWorkspaceIdentity()];case 3:return r.sent(),[3,5];case 4:return this.isCreating$.next(!1),[7];case 5:return[2]}})})},i.prototype.getWorkspaceIdentity=function(){return(0,N.mG)(this,void 0,void 0,function(){var r;return(0,N.Jh)(this,function(t){switch(t.label){case 0:this.isLoadingIdentity$.next(!0),t.label=1;case 1:if(this.workspaceIdentity&&this.workspaceIdentity.provisionState!==Je.InProgress&&this.workspaceIdentity.provisionState!==Je.Deleting)return[3,8];r=void 0,t.label=2;case 2:return t.trys.push([2,4,5,6]),[4,this.workspaceSettingsService.getWorkspaceIdentity()];case 3:return(r=t.sent())?[3,6]:(this.disableIdentity$.next(!1),this.disableUseIdentity$.next(!1),this.disableCreateIdentity$.next(!this.workspaceIdentityDisableCapacityCheck&&!this.isFolderInFsku),this.isDeleting$.next(!1),this.workspaceIdentity=r,[2,Promise.resolve()]);case 4:return t.sent(),this.disableIdentity$.next(!1),this.disableUseIdentity$.next(!1),this.disableCreateIdentity$.next(!this.workspaceIdentityDisableCapacityCheck&&!this.isFolderInFsku),this.isDeleting$.next(!1),this.workspaceIdentity=void 0,[2,Promise.resolve()];case 5:return this.isLoadingIdentity$.next(!1),[7];case 6:return r.provisionState!==Je.InProgress&&r.provisionState!==Je.Deleting?(this.workspaceIdentity=r,this.isCreating$.next(!1),this.workspaceIdentity.provisionState!==Je.Active&&(this.disableIdentity$.next(!0),this.workspaceIdentity.provisionState===Je.Unusable&&this.disableUseIdentity$.next(!0)),this.changeDetectorRef.markForCheck(),[3,8]):(r.provisionState===Je.InProgress?this.isCreating$.next(!0):r.provisionState===Je.Deleting&&(this.workspaceIdentity=r,this.disableIdentity$.next(!0),this.disableUseIdentity$.next(!0),this.disableDeleteIdentity$.next(!0),this.disableCreateIdentity$.next(!0),this.isDeleting$.next(!0)),[4,this.delay(1e4)]);case 7:return t.sent(),[3,1];case 8:return[2]}})})},i.prototype.onToggleAllowUsersToUseWorkspaceIdentity=function(r){return(0,N.mG)(this,void 0,void 0,function(){return(0,N.Jh)(this,function(n){if(!this.workspaceIdentity)return[2];try{this.workspaceIdentity.provisionState=r?Je.Active:Je.Inactive,this.disableIdentity$.next(!r)}catch{this.workspaceIdentity.allowUsersToUseWorkspaceIdentity=!r,this.workspaceIdentity.provisionState=r?Je.Inactive:Je.Active,this.disableIdentity$.next(!this.workspaceIdentity.allowUsersToUseWorkspaceIdentity)}return[2]})})},i.prototype.getStateDescription=function(){if(!this.workspaceIdentity)return"";switch(this.workspaceIdentity.provisionState){case Je.Inactive:return this.localizationService.get("Trident_Workspace_Settings_Workspace_Identity_State_Inactive_Description");case Je.Unusable:return this.localizationService.get("Trident_Workspace_Settings_Workspace_Identity_State_Unusable_Description");default:return""}},i.prototype.dismissError=function(){this.errorDismissed$.next(!0)},i.prototype.dismissFabricWarning=function(){this.fabricWarningDismissed$.next(!0)},i.prototype.getErrorMessageBarViewModel=function(r){var n=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return n.dismissError()},message:r}},i.prototype.getFabricWarningMessageBarViewModel=function(){var r=this;return{bannerType:2,allowDismiss:!0,closeBarCallback:function(){return r.dismissFabricWarning()},message:this.localizationService.get("Trident_Workspace_Settings_Workspace_Identity_FabricWarning"),link:"https://go.microsoft.com/fwlink/?linkid=2259103",linkDisplayName:this.localizationService.get("LearnMore")}},i.prototype.isUnusableState=function(){return!!this.workspaceIdentity&&this.workspaceIdentity.provisionState===Je.Unusable},i.prototype.onUserSelected=function(r,n){n.selected=r,this.isAllUsersSelected=this.allSelected()},i.prototype.selectAllUsers=function(){var r,n;this.allSelected()?(_.forEach(null===(r=this.workspaceIdentity)||void 0===r?void 0:r.users,function(t){return t.selected=!1,!0}),this.isAllUsersSelected=!1):(_.forEach(null===(n=this.workspaceIdentity)||void 0===n?void 0:n.users,function(t){return t.selected=!0,!0}),this.isAllUsersSelected=!0)},i.prototype.getUserDisplayName=function(r){return this.localizationService.format("Capacity_User_DisplayName",r.givenName,r.familyName)},i.prototype.getUserPermissions=function(r){return this.localizationService.get(2&~r.permissions?"Trident_Workspace_Settings_Workspace_Identity_CanUseIdentity":"Trident_Workspace_Settings_Workspace_Identity_CanEditMembers")},i.prototype.delay=function(r){return(0,N.mG)(this,void 0,void 0,function(){return(0,N.Jh)(this,function(n){return[2,new Promise(function(t){return setTimeout(t,r)})]})})},i.prototype.allSelected=function(){var r;return _.every(null===(r=this.workspaceIdentity)||void 0===r?void 0:r.users,function(n){return n.selected})},i.prototype.getLocalizedWorkspaceIdentityRole=function(){var r,n=null===(r=this.workspaceIdentity)||void 0===r?void 0:r.role;if(!n)return"-";switch(n){case Ui.Administrator:return this.localizationService.get("WorkspaceAdmin");case Ui.Member:return this.localizationService.get("WorkspaceMember");case Ui.Contributor:return this.localizationService.get("WorkspaceContributor");case Ui.Viewer:return this.localizationService.get("WorkspaceViewer");default:return"-"}},i.prototype.getLocalizedWorkspaceIdentityState=function(){var r,n=null===(r=this.workspaceIdentity)||void 0===r?void 0:r.provisionState;if(null==n)return"-";switch(n){case Je.InProgress:return this.localizationService.get("InProgress");case Je.Active:return this.localizationService.get("Active");case Je.Inactive:return this.localizationService.get("Inactive");case Je.Deleting:return this.localizationService.get("Deleting");case Je.Unusable:return this.localizationService.get("Unusable");case Je.Failed:return this.localizationService.get("Failed");case Je.DeleteFailed:return this.localizationService.get("Failed_To_Delete");default:return"-"}},i.prototype.sortWorkspaceIdentityUsers=function(r){var n=this;this.workspaceIdentity&&(this.sortColumn===r?this.sortColumnAscending=!this.sortColumnAscending:(this.sortColumn=r,this.sortColumnAscending=!0),this.workspaceIdentity.users=_.sortBy(this.workspaceIdentity.users,function(t){switch(r){case Vi.Name:return n.getUserDisplayName(t);case Vi.Permissions:return n.getUserPermissions(t)}}),this.sortColumnAscending||(this.workspaceIdentity.users=_.reverse(this.workspaceIdentity.users)))},i.prototype.addAuthorizedUsers=function(){return(0,N.mG)(this,void 0,void 0,function(){var r;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return r=this,[4,this.workspaceSettingsService.addWorkspaceIdentityUsers()];case 1:return r.workspaceIdentity=n.sent(),this.changeDetectorRef.markForCheck(),[2]}})})},i.prototype.deleteAuthorizedUsers=function(){return(0,N.mG)(this,void 0,void 0,function(){var r;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return this.workspaceIdentity?(r=this,[4,this.workspaceSettingsService.removeWorkspaceIdentityUsers(_.filter(this.workspaceIdentity.users,function(t){return t.selected}))]):[2];case 1:return r.workspaceIdentity=n.sent(),this.changeDetectorRef.markForCheck(),[2]}})})},i.prototype.onDeleteClick=function(){return(0,N.mG)(this,void 0,void 0,function(){return(0,N.Jh)(this,function(r){switch(r.label){case 0:return this.workspaceIdentity?(this.workspaceSettingsService.deleteWorkspaceIdentity(),this.disableIdentity$.next(!0),this.disableUseIdentity$.next(!0),this.disableCreateIdentity$.next(!0),this.disableDeleteIdentity$.next(!0),this.isDeleting$.next(!0),this.workspaceIdentity.provisionState=Je.Deleting,[4,this.delay(5e3)]):[2];case 1:return r.sent(),[4,this.getWorkspaceIdentity()];case 2:return r.sent(),[2]}})})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(xe.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-workspace-identity"]],outputs:{closeSettings:"closeSettings"},decls:11,vars:18,consts:[[4,"ngIf"],[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar"],[1,"workspace-identity-settings-container","tri-flex","tri-flex-col"],[1,"workspace-identity-settings-header"],[1,"workspace-identity-settings-description"],["href","https://go.microsoft.com/fwlink/?linkid=2247909","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"aria-label","external"],["class","workspace-identity-loading-container",4,"ngIf"],["class","workspace-identity-settings-container tri-flex tri-flex-col",4,"ngIf"],[1,"workspace-identity-loading-container"],["role","alert"],[1,"create-identity-header"],[1,"create-identity-description"],["class","create-identity-button","tri-button","","appearance","primary",3,"disabled","click",4,"ngIf"],["class","create-workspace-identity-spinner",4,"ngIf"],["tri-button","","appearance","primary",1,"create-identity-button",3,"disabled","click"],["name","add_16_regular"],[1,"create-workspace-identity-spinner"],["class","use-workspace-identity tri-flex",4,"ngIf"],[1,"identity-details"],[1,"identity-details-item"],[1,"identity-details-item-title"],[1,"identity-details-item-value"],[1,"identity-details-item-value-state"],["class","unusable-state","name","error_circle_12_filled",4,"ngIf"],[3,"ngClass"],["class","identity-details-item-value-descrption",4,"ngIf"],["class","authorized-users",4,"ngIf"],[1,"delete-workspace-identity"],[1,"delete-workspace-identity-description"],[1,"delete-workspace-identity-button-container"],["tri-button","","appearance","primary","data-testid","delete-workspace-identity-btn",1,"delete-workspace-identity-button",3,"disabled","click"],["name","delete_20_regular"],[1,"use-workspace-identity","tri-flex"],["id","use-workspace-identity-toggle-switch",3,"disabled","aria-label","ngModel","ngModelChange"],["tri-switch-text",""],["name","error_circle_12_filled",1,"unusable-state"],[1,"identity-details-item-value-descrption"],[1,"authorized-users"],["class","authorized-users-buttons-container",4,"ngIf"],[1,"authorized-users-table"],["role","row"],["class","authorized-users-checkbox-column-header","role","columnheader",4,"ngIf"],["role","columnheader",1,"authorized-users-name-column-header"],[1,"authorized-users-sort-button",3,"click"],["name","arrow_down_20_regular",4,"ngIf"],["name","arrow_up_20_regular",4,"ngIf"],["role","columnheader",1,"authorized-users-permissions-column-header"],[4,"ngFor","ngForOf"],[1,"authorized-users-buttons-container"],["tri-button","","appearance","subtle","data-testid","delete-workspace-identity-btn",1,"delete-workspace-identity-button",3,"disabled","click"],["name","dismiss_16_regular"],["role","columnheader",1,"authorized-users-checkbox-column-header"],[3,"checked","disabled","onChange"],["name","arrow_down_20_regular"],["name","arrow_up_20_regular"],["role","cell",4,"ngIf"],["role","cell",1,"authorized-users-name-cell",3,"title"],["name","people_team_16_regular",4,"ngIf"],["name","person_16_regular",4,"ngIf"],["role","cell",1,"authorized-users-permissions-cell",3,"title"],["role","cell"],[3,"name","disabled","ngModel","onChange","ngModelChange"],["name","people_team_16_regular"],["name","person_16_regular"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,Xd,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Qd,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275template(6,Yd,1,1,"tri-message-bar",1),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,fp,21,27,"ng-container",0),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async")),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,4,t.initialized$)||!t.workspaceIdentityDisableCapacityCheck&&!1===e.\u0275\u0275pipeBind1(2,6,t.capacitiesInitialized$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(4,8,t.errorDismissed$)&&e.\u0275\u0275pipeBind1(5,10,t.apiError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(7,12,t.fabricWarningDismissed$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(9,14,t.initialized$)&&(t.workspaceIdentityDisableCapacityCheck||!0===e.\u0275\u0275pipeBind1(10,16,t.capacitiesInitialized$))))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,p.JJ,p.On,T.M,He.D,it.h,Se.r,an.t,O.v,g.AsyncPipe,k.Y,k.A],styles:["[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:14px;line-height:20px}[_nghost-%COMP%]   .workspace-identity-loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:50px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .workspace-identity-settings-header[_ngcontent-%COMP%]{font-size:var(--fontSizeBase600);line-height:var(--lineHeightBase600);font-weight:var(--fontWeightBold);margin-bottom:10px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .create-identity-description[_ngcontent-%COMP%]{margin-bottom:20px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .create-workspace-identity-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .create-workspace-identity-spinner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-start:5px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .create-identity-button[_ngcontent-%COMP%]{width:fit-content}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .identity-details[_ngcontent-%COMP%]   .identity-details-item[_ngcontent-%COMP%]   .identity-details-item-title[_ngcontent-%COMP%]{width:120px;display:flex}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .identity-details[_ngcontent-%COMP%]   .identity-details-item[_ngcontent-%COMP%]   .identity-details-item-value[_ngcontent-%COMP%]{font-weight:600}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .identity-details[_ngcontent-%COMP%]   .identity-details-item[_ngcontent-%COMP%]   .identity-details-item-value[_ngcontent-%COMP%]   .identity-details-item-value-state[_ngcontent-%COMP%]{display:flex;gap:5px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .identity-details[_ngcontent-%COMP%]   .identity-details-item[_ngcontent-%COMP%]   .identity-details-item-value[_ngcontent-%COMP%]   .identity-details-item-value-state[_ngcontent-%COMP%]   .unusable-state[_ngcontent-%COMP%]{color:var(--globalColorRedShade10);fill:var(--globalColorRedShade10)}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .identity-details[_ngcontent-%COMP%]   .identity-details-item[_ngcontent-%COMP%]   .identity-details-item-value[_ngcontent-%COMP%]   .identity-details-item-value-descrption[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]{margin-bottom:20px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-checkbox-column-header[_ngcontent-%COMP%]{width:5%}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-name-column-header[_ngcontent-%COMP%]{width:40%}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-sort-button[_ngcontent-%COMP%]{padding-inline-start:0;border:0;background:transparent;display:flex;gap:10px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-sort-button[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{width:14px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-name-cell[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;max-width:300px;text-overflow:ellipsis}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-permissions-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-permissions-column-header[_ngcontent-%COMP%]{padding-inline-start:25px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--colorNeutralStroke2)}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .delete-workspace-identity[_ngcontent-%COMP%]   .delete-workspace-identity-description[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .delete-workspace-identity[_ngcontent-%COMP%]   .delete-workspace-identity-button-container[_ngcontent-%COMP%]{display:flex;gap:10px}"],changeDetection:0}),i}();function Sp(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",2),e.\u0275\u0275elementContainerEnd())}function yp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.apiError$))&&void 0!==o?o:""))}}function bp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.dismissFabricWarning())}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getFabricWarningMessageBarViewModel())}}function wp(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",2)}function kp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-empty-state",18),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("viewModel",n.emptyStateModel)}}function Ip(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",29)}function xp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",30)}function Mp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",29)}function Pp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",30)}function Tp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",29)}function Op(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",30)}function Ep(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",39),2&i){var n=e.\u0275\u0275nextContext().$implicit,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275propertyInterpolate("triTooltip",t.getIconTooltipText(n))}}function Dp(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",40),2&i){var n=e.\u0275\u0275nextContext().$implicit,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275propertyInterpolate("name",t.getEndpointIcon(n.groupId)),e.\u0275\u0275propertyInterpolate("triTooltip",t.getIconTooltipText(n)),e.\u0275\u0275property("sprite","artifact-colored-icons")}}function Bp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",31)(2,"tri-checkbox",32),e.\u0275\u0275listener("onChange",function(v){var b=e.\u0275\u0275restoreView(n).$implicit,z=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(z.onEndpointSelected(v,b))})("ngModelChange",function(v){var f=e.\u0275\u0275restoreView(n);return e.\u0275\u0275resetView(f.$implicit.selected=v)}),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"td",33),e.\u0275\u0275template(6,Ep,1,1,"tri-svg-icon",34),e.\u0275\u0275template(7,Dp,1,3,"tri-svg-icon",35),e.\u0275\u0275elementStart(8,"span",36),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"td",37),e.\u0275\u0275element(11,"tri-svg-icon",38),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"td",37),e.\u0275\u0275element(14,"tri-svg-icon",38),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd()()}if(2&i){var t=r.$implicit,o=r.index,a=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("name","privateEndpoint_"+o)("ariaLabel",e.\u0275\u0275pipeBind1(3,14,"Select"))("disabled",!!e.\u0275\u0275pipeBind1(4,16,a.disablePrivateEndpoints$))("ngModel",t.selected),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.isSystemResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isSystemResource),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.name),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",a.getLocalizedProvisionState(t.provisioningState)),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("name",a.getProvisioningStateIcon(t.provisioningState)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",a.getLocalizedProvisionState(t.provisioningState)," "),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",null==t.connectionState?null:t.connectionState.status),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("name",a.getConnectionStateIcon(null==t.connectionState?null:t.connectionState.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",a.getLocalizedConnectionStateStatus(null==t.connectionState?null:t.connectionState.status)," ")}}function Gp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",19)(1,"table")(2,"thead")(3,"tr",20)(4,"th",21)(5,"tri-checkbox",22),e.\u0275\u0275listener("onChange",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.selectAllPrivateEndpoints())}),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"th",23)(9,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.sortPrivateEndpoints(a.privateEndpointsColumn.Name))}),e.\u0275\u0275pipe(10,"localizeFormat"),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275template(14,Ip,1,0,"tri-svg-icon",25),e.\u0275\u0275template(15,xp,1,0,"tri-svg-icon",26),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"th",27)(17,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.sortPrivateEndpoints(a.privateEndpointsColumn.ProvisioningState))}),e.\u0275\u0275pipe(18,"localizeFormat"),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275template(22,Mp,1,0,"tri-svg-icon",25),e.\u0275\u0275template(23,Pp,1,0,"tri-svg-icon",26),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"th",27)(25,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.sortPrivateEndpoints(a.privateEndpointsColumn.ApprovalState))}),e.\u0275\u0275pipe(26,"localizeFormat"),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275template(30,Tp,1,0,"tri-svg-icon",25),e.\u0275\u0275template(31,Op,1,0,"tri-svg-icon",26),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(32,"tbody"),e.\u0275\u0275template(33,Bp,16,18,"tr",28),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275property("checked",t.isAllPrivateEndpointsSelected)("ariaLabel",e.\u0275\u0275pipeBind1(6,16,"SelectAllRows"))("disabled",!!e.\u0275\u0275pipeBind1(7,18,t.disablePrivateEndpoints$)),e.\u0275\u0275advance(4),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(10,20,t.sortColumnAscending?"DataGrid_ColumnSortedAscending":"DataGrid_ColumnSortedDescending",e.\u0275\u0275pipeBind1(11,23,"Name"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,25,"Name")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Name"===t.sortColumn&&t.sortColumnAscending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Name"===t.sortColumn&&!t.sortColumnAscending),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(18,27,t.sortColumnAscending?"DataGrid_ColumnSortedAscending":"DataGrid_ColumnSortedDescending",e.\u0275\u0275pipeBind1(19,30,"Activation"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(21,32,"Activation")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","ProvisioningState"===t.sortColumn&&t.sortColumnAscending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ProvisioningState"===t.sortColumn&&!t.sortColumnAscending),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(26,34,t.sortColumnAscending?"DataGrid_ColumnSortedAscending":"DataGrid_ColumnSortedDescending",e.\u0275\u0275pipeBind1(27,37,"Approval"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(29,39,"Approval")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","ApprovalState"===t.sortColumn&&t.sortColumnAscending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ApprovalState"===t.sortColumn&&!t.sortColumnAscending),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.privateEndpoints)}}function zp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",4)(2,"h2",5),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"section",6)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"tri-link",7),e.\u0275\u0275pipe(10,"localizeFormat"),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"section",6)(15,"h4"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"span"),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"tri-link",8),e.\u0275\u0275pipe(22,"localizeFormat"),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(26,"section",4)(27,"section",9)(28,"div",10)(29,"button",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.addPrivateEndpoint())}),e.\u0275\u0275pipe(30,"async"),e.\u0275\u0275element(31,"tri-svg-icon",12),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.getPrivateEndpoints())}),e.\u0275\u0275pipe(35,"async"),e.\u0275\u0275pipe(36,"async"),e.\u0275\u0275element(37,"tri-svg-icon",14),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.deletePrivateEndpoints())}),e.\u0275\u0275pipe(41,"async"),e.\u0275\u0275element(42,"tri-svg-icon",15),e.\u0275\u0275text(43),e.\u0275\u0275pipe(44,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(45,wp,1,0,"tri-spinner",16),e.\u0275\u0275pipe(46,"async"),e.\u0275\u0275template(47,kp,2,1,"ng-container",0),e.\u0275\u0275pipe(48,"async"),e.\u0275\u0275template(49,Gp,34,41,"div",17),e.\u0275\u0275pipe(50,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,19,"NetworkSecurity")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,21,"Trident_Workspace_Settings_Network_Description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("aria-label",e.\u0275\u0275pipeBind2(10,23,"LearnMore_About",e.\u0275\u0275pipeBind1(11,26,"NetworkSecurity")))("external",!0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,28,"LearnMore")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,30,"PrivateEndpoints")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(20,32,"PrivateEndpoints_Description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("aria-label",e.\u0275\u0275pipeBind2(22,34,"LearnMore_About",e.\u0275\u0275pipeBind1(23,37,"PrivateEndpoints")))("external",!0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(25,39,"LearnMore")," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(30,41,t.disablePrivateEndpoints$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(33,43,"Create_ButtonText")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(35,45,t.disablePrivateEndpoints$)||!0===e.\u0275\u0275pipeBind1(36,47,t.isLoadingEndpoints$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(39,49,"Refresh")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(41,51,t.disablePrivateEndpoints$)||t.isRemoveButtonDisabled()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(44,53,"Delete")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(46,55,t.isLoadingEndpoints$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(48,57,t.isLoadingEndpoints$)&&(!t.privateEndpoints||0===t.privateEndpoints.length)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(50,59,t.isLoadingEndpoints$)&&t.privateEndpoints&&t.privateEndpoints.length>0)}}var Ap=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.changeDetectorRef=n,this.localizationService=t,this.closeSettings=new e.EventEmitter,this.isWorkspaceAdmin=!1,this.initialized$=this.workspaceSettingsService.initialized$,this.capacitiesInitialized$=this.workspaceSettingsService.capacitiesInitialized$,this.privateEndpoints=[],this.isAllPrivateEndpointsSelected=!1,this.sortColumn=un.Name,this.sortColumnAscending=!0,this.disablePrivateEndpoints$=new W.X(!0),this.isLoadingEndpoints$=new W.X(!1),this.privateEndpointsColumn=un,this.errorDismissed$=new W.X(!1),this.demoMode=!1,this.isFolderInF64orFTsku=!1,this.fabricWarningDismissed$=new W.X(!0),this.RestrictOutBoundPEFromF64=!0,this.apiError$=this.workspaceSettingsService.privateEndpointsErrorMessage$.pipe((0,ge.U)(function(a){return o.errorDismissed$.next(!1),a})),this.initialized$.subscribe(function(a){a&&(o.isWorkspaceAdmin=o.workspaceSettingsService.isWorkspaceAdmin,o.demoMode=o.workspaceSettingsService.getFeatureSwitchState("privateEndpointsDemoMode"),o.isWorkspaceAdmin&&o.disablePrivateEndpoints$.next(!1))}),this.capacitiesInitialized$.subscribe(function(a){var l;a&&(o.capacitySkuTier=null===(l=o.workspaceSettingsService.selectedCapacity)||void 0===l?void 0:l.capacitySkuTier,o.RestrictOutBoundPEFromF64=!!o.workspaceSettingsService.getFeatureSwitchState("RestrictOutBoundPEFromF64"),o.isFolderInF64orFTsku=8===o.capacitySkuTier||7===o.capacitySkuTier,o.RestrictOutBoundPEFromF64||8!==o.capacitySkuTier&&9!==o.capacitySkuTier&&7!==o.capacitySkuTier?(o.disablePrivateEndpoints$.next(!o.isFolderInF64orFTsku),o.fabricWarningDismissed$.next(o.isFolderInF64orFTsku)):(o.disablePrivateEndpoints$.next(!1),o.fabricWarningDismissed$.next(!0)),o.changeDetectorRef.markForCheck())}),this.apiError$.subscribe(),this.emptyStateModel={emptyStateType:1,iconType:1,title:this.isFolderInF64orFTsku?"":this.localizationService.get("PrivateEndpoints_Empty"),message:""}}return i.prototype.ngOnInit=function(){return(0,N.mG)(this,void 0,void 0,function(){return(0,N.Jh)(this,function(r){switch(r.label){case 0:return[4,this.getPrivateEndpoints()];case 1:return r.sent(),[2]}})})},i.prototype.getPrivateEndpoints=function(){return(0,N.mG)(this,void 0,void 0,function(){var r;return(0,N.Jh)(this,function(t){switch(t.label){case 0:return this.isLoadingEndpoints$.next(!0),this.demoMode?[4,this.delay(5e3)]:[3,2];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,4,5,6]),r=this,[4,this.workspaceSettingsService.getPrivateEndpoints()];case 3:return r.privateEndpoints=t.sent(),this.sortPrivateEndpoints(this.sortColumn,!1),[3,6];case 4:return t.sent(),this.privateEndpoints=[],[2,Promise.resolve()];case 5:return this.isLoadingEndpoints$.next(!1),[7];case 6:return[2]}})})},i.prototype.dismissError=function(){this.errorDismissed$.next(!0)},i.prototype.getErrorMessageBarViewModel=function(r){var n=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return n.dismissError()},message:r}},i.prototype.dismissFabricWarning=function(){this.fabricWarningDismissed$.next(!0)},i.prototype.getFabricWarningMessageBarViewModel=function(){var r=this;return{bannerType:1,allowDismiss:!0,closeBarCallback:function(){return r.dismissFabricWarning()},message:this.localizationService.get("PrivateEndpoints_FabricMessage"),link:"https://go.microsoft.com/fwlink/?linkid=2259645",linkDisplayName:this.localizationService.get("LearnMore")}},i.prototype.getIconTooltipText=function(r){return this.localizationService.format("PrivateEndpoints_Tooltip",[r.privateLinkResourceId,r.groupId])},i.prototype.getLocalizedProvisionState=function(r){switch(r){case Pt.Provisioning:return this.localizationService.get("Provisioning");case Pt.Updating:return this.localizationService.get("Updating");case Pt.Failed:return this.localizationService.get("Failed");case Pt.Succeeded:return this.localizationService.get("Succeeded");case Pt.Deleting:return this.localizationService.get("Deleting");default:return"-"}},i.prototype.getLocalizedConnectionStateStatus=function(r){switch(r){case zt.Approved:return this.localizationService.get("Approved");case zt.Disconnected:return this.localizationService.get("Disconnected");case zt.Pending:return this.localizationService.get("Pending");case zt.Rejected:return this.localizationService.get("Rejected");default:return"-"}},i.prototype.onEndpointSelected=function(r,n){n.selected=r,this.isAllPrivateEndpointsSelected=this.allSelected()},i.prototype.selectAllPrivateEndpoints=function(){this.allSelected()?(this.privateEndpoints.forEach(function(r){return r.selected=!1,!0}),this.isAllPrivateEndpointsSelected=!1):(this.privateEndpoints.forEach(function(r){return r.selected=!0,!0}),this.isAllPrivateEndpointsSelected=!0)},i.prototype.allSelected=function(){return _.every(this.privateEndpoints,function(r){return r.selected})},i.prototype.sortPrivateEndpoints=function(r,n){void 0===n&&(n=!0),this.privateEndpoints&&0!==this.privateEndpoints.length&&(n&&this.sortColumn===r?this.sortColumnAscending=!this.sortColumnAscending:(this.sortColumn=r,this.sortColumnAscending=!0),this.privateEndpoints=_.sortBy(this.privateEndpoints,function(t){var o;switch(r){case un.Name:return t.name;case un.ProvisioningState:return t.provisioningState;case un.ApprovalState:return null===(o=t.connectionState)||void 0===o?void 0:o.status}}),this.sortColumnAscending||(this.privateEndpoints=_.reverse(this.privateEndpoints)))},i.prototype.addPrivateEndpoint=function(){return(0,N.mG)(this,void 0,void 0,function(){var r;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return this.dismissError(),r=this,[4,this.workspaceSettingsService.addPrivateEndpoint()];case 1:return r.privateEndpoints=n.sent(),this.sortPrivateEndpoints(this.sortColumn,!1),this.changeDetectorRef.markForCheck(),[2]}})})},i.prototype.deletePrivateEndpoints=function(){return(0,N.mG)(this,void 0,void 0,function(){var r;return(0,N.Jh)(this,function(n){switch(n.label){case 0:return this.dismissError(),r=this,[4,this.workspaceSettingsService.removePrivateEndpoints(_(this.privateEndpoints).filter(function(t){return t.selected}).map(function(t){return t.name}).value())];case 1:return r.privateEndpoints=n.sent(),this.sortPrivateEndpoints(this.sortColumn,!1),this.changeDetectorRef.markForCheck(),[2]}})})},i.prototype.getProvisioningStateIcon=function(r){switch(r){case Pt.Provisioning:case Pt.Updating:case Pt.Deleting:return"inprogress_20_filled";case Pt.Failed:return"failed_20_filled";case Pt.Succeeded:return"completed_20_filled";default:return"nostatus_20_filled"}},i.prototype.getConnectionStateIcon=function(r){switch(r){case zt.Approved:return"completed_20_filled";case zt.Pending:return"inprogress_20_filled";case zt.Disconnected:case zt.Rejected:return"failed_20_filled";default:return"nostatus_20_filled"}},i.prototype.isRemoveButtonDisabled=function(){var r=_.filter(this.privateEndpoints,function(n){return n.selected});return!r||0===r.length||!_.every(r,function(n){return!1===n.isSystemResource&&n.provisioningState!==Pt.Provisioning})},i.prototype.getEndpointIcon=function(r){switch(r){case"MongoDB":case"Sql":return"c_azure_cosmos_database_mounted_20";case"postgresql":return"c_azure_postgresql_db_mounted_20";case"mysql":case"sqlServer":case"sqlManagedInstance":case"sql":case"dev":case"sqlOnDemand":return"c_azure_sql_database_mounted_20";case"blob":case"queue":case"table":return"c_data_warehouse_20";case"dfs":return"c_lakehouse_20";case"file":return"c_folder_20";case"kusto":return"c_kql_database_20";default:return"c_generic_database_mounted_20"}},i.prototype.delay=function(r){return(0,N.mG)(this,void 0,void 0,function(){return(0,N.Jh)(this,function(n){return[2,new Promise(function(t){return setTimeout(t,r)})]})})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(xe.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-network"]],outputs:{closeSettings:"closeSettings"},decls:11,vars:18,consts:[[4,"ngIf"],[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar"],[1,"network-settings-container","tri-flex","tri-flex-col"],[1,"network-settings-header"],[1,"network-settings-description"],["href","https://go.microsoft.com/fwlink/?linkid=2252791","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"aria-label","external"],["href","https://go.microsoft.com/fwlink/?linkid=2258953","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"aria-label","external"],[1,"private-endpoints"],[1,"private-endpoints-buttons-container"],["tri-button","","appearance","subtle","data-testid","delete-network-btn",1,"add-private-endpoint-button",3,"disabled","click"],["name","add_16_regular"],["tri-button","","appearance","subtle","data-testid","delete-network-btn",1,"delete-private-endpoint-button",3,"disabled","click"],["name","arrow_sync_20_regular"],["name","delete_20_regular"],["class","tri-flex tri-items-center tri-justify-center tri-h-full",4,"ngIf"],["class","private-endpoints-table",4,"ngIf"],[1,"private-endpoints-table-empty-state",3,"viewModel"],[1,"private-endpoints-table"],["role","row"],["role","columnheader",1,"private-endpoints-checkbox-column-header"],[3,"checked","ariaLabel","disabled","onChange"],["role","columnheader",1,"private-endpoints-name-column-header"],[1,"private-endpoints-sort-button",3,"click"],["name","arrow_down_20_regular",4,"ngIf"],["name","arrow_up_20_regular",4,"ngIf"],["role","columnheader",1,"private-endpoints-state-column-header"],[4,"ngFor","ngForOf"],["name","arrow_down_20_regular"],["name","arrow_up_20_regular"],["role","cell"],[3,"name","ariaLabel","disabled","ngModel","onChange","ngModelChange"],["role","cell",1,"private-endpoints-name-cell"],["name","lock_closed_20_filled",3,"triTooltip",4,"ngIf"],[3,"sprite","name","triTooltip",4,"ngIf"],[3,"title"],["role","cell",1,"private-endpoints-other-cell",3,"title"],["sprite","status-color-icons",3,"name"],["name","lock_closed_20_filled",3,"triTooltip"],[3,"sprite","name","triTooltip"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,Sp,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,yp,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275template(6,bp,1,1,"tri-message-bar",1),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,zp,51,61,"ng-container",0),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async")),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,4,t.initialized$)||!1===e.\u0275\u0275pipeBind1(2,6,t.capacitiesInitialized$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(4,8,t.errorDismissed$)&&e.\u0275\u0275pipeBind1(5,10,t.apiError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(7,12,t.fabricWarningDismissed$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(9,14,t.initialized$)&&!0===e.\u0275\u0275pipeBind1(10,16,t.capacitiesInitialized$)))},dependencies:[g.NgForOf,g.NgIf,p.JJ,p.On,T.M,He.D,it.h,Se.r,xt.Z,ns.v,O.v,g.AsyncPipe,k.Y,k.A],styles:["[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:14px;line-height:20px}[_nghost-%COMP%]   .network-loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:50px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .network-settings-header[_ngcontent-%COMP%]{font-size:var(--fontSizeBase600);line-height:var(--lineHeightBase600);font-weight:var(--fontWeightBold);margin-bottom:10px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .network-settings-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-inline-end:5px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:20px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-buttons-container[_ngcontent-%COMP%]{margin-bottom:5px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table-empty-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:30px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-checkbox-column-header[_ngcontent-%COMP%]{width:5%}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-name-column-header[_ngcontent-%COMP%]{width:40%}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-sort-button[_ngcontent-%COMP%]{padding-inline-start:0;border:0;background:transparent;display:flex;gap:10px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-sort-button[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{width:14px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-name-cell[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;max-width:300px;text-overflow:ellipsis}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-name-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-start:5px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-other-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-state-column-header[_ngcontent-%COMP%]{padding-inline-start:25px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px;white-space:nowrap}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--colorNeutralStroke2)}"],changeDetection:0}),i}();function Rp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",6),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissServerError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.serverError$))&&void 0!==o?o:"","server"))}}function Fp(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",7),e.\u0275\u0275elementContainerEnd())}function Lp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"tri-checkbox",10),e.\u0275\u0275listener("onChange",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.selectTenantResource())}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"label",11),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275classProp("is-disabled",!t.tenantResource||!t.isWorkspaceAdmin),e.\u0275\u0275advance(1),e.\u0275\u0275property("id","default-connection-checkbox-"+t.resourceConnector.resourceType)("disabled",!t.tenantResource||!0===e.\u0275\u0275pipeBind1(2,7,t.serverOperationInProgress$)||!t.isWorkspaceAdmin)("label",e.\u0275\u0275pipeBind1(3,9,"BYOResources_Connect_Default"))("checked",t.tenantResourceSelected),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"BYOResources_Connect_Default"))}}function Wp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",12)(2,"div",13),e.\u0275\u0275element(3,"tri-svg-icon",14),e.\u0275\u0275elementStart(4,"span",15),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",16)(8,"tri-link",17),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,4,n.resourceConnector.notAllowedWarningMessage)),e.\u0275\u0275advance(3),e.\u0275\u0275property("external",!0)("href",n.resourceConnector.notAllowedLearnMoreLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,6,"LearnMore")," ")}}function Np(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",6),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.dismissFetchError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.fetchErrors$))&&void 0!==o?o:"","fetch"))}}function $p(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("",n.text," (",n.key,") ")}}function Up(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function Vp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div")(2,"tri-dropdown",26),e.\u0275\u0275listener("ngModelChange",function(l){e.\u0275\u0275restoreView(n);var v=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(v.selectedSubscriptionDropdownOption=l)})("valueChange",function(l){e.\u0275\u0275restoreView(n);var v=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(v.onSubscriptionChange(l))}),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementStart(5,"tri-dropdown-trigger")(6,"div",27),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"tri-search-box",28),e.\u0275\u0275listener("value",function(l){e.\u0275\u0275restoreView(n);var v=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(v.onSubscriptionsSeached(l))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,$p,2,3,"tri-dropdown-item",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,Up,1,0,"tri-spinner",5),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("compact",!0)("options",t.getDropdownOverlayOptions(null!==(o=null==t.allSubscriptionDropdownOptions?null:t.allSubscriptionDropdownOptions.length)&&void 0!==o?o:0))("ngModel",t.selectedSubscriptionDropdownOption)("disabled",!0===e.\u0275\u0275pipeBind1(3,8,t.serverOperationInProgress$)||!0===e.\u0275\u0275pipeBind1(4,10,t.fetchResourceStatus.subscription.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",t.selectedSubscriptionDropdownOption?t.selectedSubscriptionDropdownOption.text+" ("+(null==t.selectedSubscriptionDropdownOption?null:t.selectedSubscriptionDropdownOption.key)+")":e.\u0275\u0275pipeBind1(7,12,"Trident_Workspace_Settings_Select_Subscription")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.selectedSubscriptionDropdownOption?t.selectedSubscriptionDropdownOption.text+" ("+(null==t.selectedSubscriptionDropdownOption?null:t.selectedSubscriptionDropdownOption.key)+")":e.\u0275\u0275pipeBind1(9,14,"Trident_Workspace_Settings_Select_Subscription")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allSubscriptionDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(13,16,t.fetchResourceStatus.subscription.inProgress$))}}function jp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.connectedResource.subscriptionId)}}function Hp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n.tenantResource?null:n.tenantResource.subscriptionId)}}function Kp(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"tri-svg-icon",32),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementStart(5,"tri-link",17),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(4,4,n.resourceConnector.noSubscriptionsMessage)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0)("href",n.resourceConnector.noSubscriptionLearnMoreLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,6,"LearnMore")," ")}}function Xp(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.text," ")}}function Qp(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",34)}function Yp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div")(2,"tri-dropdown",26),e.\u0275\u0275listener("ngModelChange",function(f){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.selectedResourceGroupDropdownOption=f)})("valueChange",function(f){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.onResourceGroupChange(f))}),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementStart(5,"tri-dropdown-trigger")(6,"div",27),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"tri-search-box",28),e.\u0275\u0275listener("value",function(f){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.onResourceGroupsSeached(f))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,Xp,2,2,"tri-dropdown-item",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,Qp,1,0,"tri-spinner",33),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var o,a,l,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("compact",!0)("options",t.getDropdownOverlayOptions(null!==(o=null==t.allResourceGroupsDropdownOptions?null:t.allResourceGroupsDropdownOptions.length)&&void 0!==o?o:0))("ngModel",t.selectedResourceGroupDropdownOption)("disabled",!t.selectedSubscription||!0===e.\u0275\u0275pipeBind1(3,8,t.serverOperationInProgress$)||!0===e.\u0275\u0275pipeBind1(4,10,t.fetchResourceStatus.resourceGroup.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(7,12,null!==(a=null==t.selectedResourceGroupDropdownOption?null:t.selectedResourceGroupDropdownOption.text)&&void 0!==a?a:"Trident_Workspace_Settings_Select_Resource_Group")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,14,null!==(l=null==t.selectedResourceGroupDropdownOption?null:t.selectedResourceGroupDropdownOption.text)&&void 0!==l?l:"Trident_Workspace_Settings_Select_Resource_Group")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allResourceGroupsDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(13,16,t.fetchResourceStatus.resourceGroup.inProgress$))}}function Zp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.connectedResource.resourceGroup)}}function Jp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n.tenantResource?null:n.tenantResource.resourceGroup)}}function qp(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"tri-svg-icon",32),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementStart(5,"tri-link",17),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(4,4,n.resourceConnector.noResourceGroupMessage)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0)("href",n.resourceConnector.noResourceGroupLearnMoreLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,6,"LearnMore")," ")}}function eu(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.text," ")}}function tu(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function nu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div")(2,"tri-dropdown",26),e.\u0275\u0275listener("ngModelChange",function(f){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.selectedResourceDropdownOption=f)})("valueChange",function(f){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.onResourceChange(f))}),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementStart(5,"tri-dropdown-trigger")(6,"div",27),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"tri-search-box",28),e.\u0275\u0275listener("value",function(f){e.\u0275\u0275restoreView(n);var b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.onResourcesSeached(f))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,eu,2,2,"tri-dropdown-item",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,tu,1,0,"tri-spinner",5),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var o,a,l,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("compact",!0)("options",t.getDropdownOverlayOptions(null!==(o=null==t.allResourcesDropdownOptions?null:t.allResourcesDropdownOptions.length)&&void 0!==o?o:0))("ngModel",t.selectedResourceDropdownOption)("disabled",!t.selectedSubscription||!t.selectedResourceGroup||!0===e.\u0275\u0275pipeBind1(3,8,t.serverOperationInProgress$)||!0===e.\u0275\u0275pipeBind1(4,10,t.fetchResourceStatus.resource.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(7,12,null!==(a=null==t.selectedResourceDropdownOption?null:t.selectedResourceDropdownOption.text)&&void 0!==a?a:t.resourceConnector.resourcePickerPlaceholder)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,14,null!==(l=null==t.selectedResourceDropdownOption?null:t.selectedResourceDropdownOption.text)&&void 0!==l?l:t.resourceConnector.resourcePickerPlaceholder)," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allResourcesDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(13,16,t.fetchResourceStatus.resource.inProgress$))}}function iu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.connectedResource.resourceName)}}function ru(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n.tenantResource?null:n.tenantResource.resourceName)}}function ou(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function au(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",35),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.connectResource())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,ou,1,0,"tri-spinner",5),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("is-disabled",!((t.selectedSubscription&&t.selectedResourceGroup&&t.selectedResource||t.tenantResourceSelected)&&!0!==e.\u0275\u0275pipeBind1(1,5,t.serverOperationInProgress$)&&t.isWorkspaceAdmin)),e.\u0275\u0275property("disabled",!((t.selectedSubscription&&t.selectedResourceGroup&&t.selectedResource||t.tenantResourceSelected)&&!0!==e.\u0275\u0275pipeBind1(2,7,t.serverOperationInProgress$)&&t.isWorkspaceAdmin)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(4,9,t.serverOperationInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,11,"BYOResources_Connect")," ")}}function su(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",36),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.cancelConnect())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("is-disabled",!(t.selectedSubscription&&t.selectedResourceGroup&&t.selectedResource&&!0!==e.\u0275\u0275pipeBind1(1,4,t.serverOperationInProgress$)&&t.isWorkspaceAdmin)),e.\u0275\u0275property("disabled",!(t.selectedSubscription&&t.selectedResourceGroup&&t.selectedResource&&!0!==e.\u0275\u0275pipeBind1(2,6,t.serverOperationInProgress$)&&t.isWorkspaceAdmin)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,8,"Cancel_ButtonText")," ")}}function cu(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function lu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",35),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.disconnectResource())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,cu,1,0,"tri-spinner",5),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("is-disabled",!0===e.\u0275\u0275pipeBind1(1,5,t.serverOperationInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",!0===e.\u0275\u0275pipeBind1(2,7,t.serverOperationInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(4,9,t.serverOperationInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,11,"BYOResources_Disconnect_Button_Workspace")," ")}}function du(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-collapsed-container",18),e.\u0275\u0275listener("collapseContainer",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onCollapseToggle())}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"div",19),e.\u0275\u0275template(4,Np,2,3,"tri-message-bar",2),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementStart(7,"label",20),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,Vp,14,18,"ng-container",5),e.\u0275\u0275template(11,jp,3,1,"ng-container",5),e.\u0275\u0275template(12,Hp,3,1,"ng-container",5),e.\u0275\u0275template(13,Kp,8,8,"div",21),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",22)(16,"label",20),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,Yp,14,18,"ng-container",5),e.\u0275\u0275template(20,Zp,3,1,"ng-container",5),e.\u0275\u0275template(21,Jp,3,1,"ng-container",5),e.\u0275\u0275template(22,qp,8,8,"div",21),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",22)(25,"label",20),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(28,nu,14,18,"ng-container",5),e.\u0275\u0275template(29,iu,3,1,"ng-container",5),e.\u0275\u0275template(30,ru,3,1,"ng-container",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",23),e.\u0275\u0275template(32,au,7,13,"button",24),e.\u0275\u0275template(33,su,5,10,"button",25),e.\u0275\u0275template(34,lu,7,13,"button",24),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("headerText",e.\u0275\u0275pipeBind1(2,22,t.resourceConnector.collapsibeSectionHeader))("iconName",t.resourceConnector.icon.name)("iconSprite",t.resourceConnector.icon.sprite)("collapsed",null!==(o=t.resourceConnector.collapsed)&&void 0!==o?o:!!t.connectedResource),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(5,24,t.fetchErrorDismissed$)&&e.\u0275\u0275pipeBind1(6,26,t.fetchErrors$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,28,"Subscription")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.connectedResource&&!t.tenantResourceSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.connectedResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.tenantResourceSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.connectedResource&&0===t.allSubscriptions.length&&!0!==e.\u0275\u0275pipeBind1(14,30,t.fetchResourceStatus.subscription.inProgress$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,32,"BYOResources_Connect_ResourceGroup")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.connectedResource&&!t.tenantResourceSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.connectedResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.tenantResourceSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.connectedResource&&t.selectedSubscription&&0===t.allResourceGroups.length&&!0!==e.\u0275\u0275pipeBind1(23,34,t.fetchResourceStatus.resourceGroup.inProgress$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(27,36,t.resourceConnector.resourceLabel)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.connectedResource&&!t.tenantResourceSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.connectedResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.tenantResourceSelected),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.connectedResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.connectedResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.connectedResource)}}function pu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Lp,7,13,"div",8),e.\u0275\u0275template(2,Wp,11,8,"ng-container",5),e.\u0275\u0275template(3,du,35,38,"ng-container",5),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.connectedResource&&n.resourceConnector.canSelectTenantResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isWorkspaceLevelConfigurationAllowed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isWorkspaceLevelConfigurationAllowed&&!n.connectedResourceFetchFailed)}}var _u=function(){function i(r,n){this.workspaceSettingsService=r,this.telemetryService=n,this.resourceConnector={},this.allSubscriptions=[],this.allResourceGroups=[],this.allResources=[],this.allSubscriptionDropdownOptions=[],this.allResourceGroupsDropdownOptions=[],this.allResourcesDropdownOptions=[],this.subscriptionDropdownSearchText="",this.resourceGroupDropdownSearchText="",this.resourceDropdownSearchText="",this.selectedSubscription=void 0,this.selectedResourceGroup=void 0,this.selectedResource=void 0,this.selectedSubscriptionDropdownOption=void 0,this.selectedResourceGroupDropdownOption=void 0,this.selectedResourceDropdownOption=void 0,this.connectedResource=void 0,this.tenantResource=void 0,this.connectedResourceFetchFailed=!1,this.isWorkspaceLevelConfigurationAllowed=!1,this.isInitialized$=this.workspaceSettingsService.azureConnectionsInitialized$,this.isWorkspaceAdmin=!1,this.initializationSubscription=void 0,this.serverError$=new W.X(""),this.serverErrorDismissed$=new W.X(!1),this.serverOperationInProgress$=new W.X(!1),this.fetchResourceStatus={},this.fetchErrors$=new W.X(""),this.fetchErrorDismissed$=new W.X(!1),this.tenantResourceSelected=!1}return i.prototype.ngOnInit=function(){var r=this;this.initializationSubscription=this.isInitialized$.subscribe(function(n){r.isWorkspaceAdmin=r.workspaceSettingsService.isWorkspaceAdmin,r.serverError$=r.workspaceSettingsService.azureConnectionsServiceErrorMessages[r.resourceConnector.resourceType],r.serverOperationInProgress$=r.workspaceSettingsService.azureResourceApiInProgress[r.resourceConnector.resourceType],r.fetchResourceStatus=r.workspaceSettingsService.azureResourcesFetchStatus[r.resourceConnector.resourceType],r.fetchErrors$=(0,In.T)(r.fetchResourceStatus.subscription.errorMessage$,r.fetchResourceStatus.resourceGroup.errorMessage$,r.fetchResourceStatus.resource.errorMessage$),r.fetchErrors$.subscribe(function(){return r.fetchErrorDismissed$.next(!1)}),n&&(r.connectedResource=r.workspaceSettingsService.getLinkedResource(r.resourceConnector.resourceType),r.connectedResourceFetchFailed=!!r.connectedResource&&!r.connectedResource.resourceName,r.tenantResource=r.workspaceSettingsService.getTenantResource(r.resourceConnector.resourceType),r.connectedResource||r.initializePickerOptions(),r.resourceConnector.collapsed=!r.connectedResource,r.isWorkspaceLevelConfigurationAllowed=!!r.resourceConnector&&r.workspaceSettingsService.getFeatureSwitchState(r.resourceConnector.featureFlagToAllowResource))})},i.prototype.ngOnDestroy=function(){var r;null===(r=this.initializationSubscription)||void 0===r||r.unsubscribe()},i.prototype.onCollapseToggle=function(){var r;this.resourceConnector&&(this.resourceConnector.collapsed=!(null!==(r=this.resourceConnector)&&void 0!==r&&r.collapsed))},i.prototype.onSubscriptionChange=function(r){var t,o,a,n=this;this.selectedSubscription=this.allSubscriptions.find(function(l){return l.subscriptionId===r?.key}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.azureTenantObjectId,subscriptionId:null===(o=this.selectedSubscription)||void 0===o?void 0:o.subscriptionId}),this.selectedResourceGroup=void 0,this.selectedResource=void 0,this.selectedResourceGroupDropdownOption=void 0,this.selectedResourceDropdownOption=void 0,this.selectedSubscription&&this.workspaceSettingsService.getResourceGroupsWithResourceTypeForAzureSubscription(this.resourceConnector.resourceType,(null===(a=this.selectedSubscription)||void 0===a?void 0:a.subscriptionId)||"",!0).then(function(l){n.allResourceGroups=l,n.createResourceGroupDropdownOptions()})},i.prototype.onResourceGroupChange=function(r){var t,o,a,l,v,n=this;this.selectedResourceGroup=this.allResourceGroups.find(function(f){return f.name===r?.text}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.azureTenantObjectId,subscriptionId:null===(o=this.selectedSubscription)||void 0===o?void 0:o.subscriptionId,resourceGroup:null===(a=this.selectedResourceGroup)||void 0===a?void 0:a.name}),this.selectedResource=void 0,this.selectedResourceDropdownOption=void 0,this.selectedSubscription&&this.selectedResourceGroup&&this.workspaceSettingsService.getAzureResources(this.resourceConnector.resourceType,(null===(l=this.selectedSubscription)||void 0===l?void 0:l.subscriptionId)||"",(null===(v=this.selectedResourceGroup)||void 0===v?void 0:v.name)||"").then(function(f){n.allResources=f,n.createResourcesDropdownOptions()})},i.prototype.onResourceChange=function(r){var n,t,o,a;this.selectedResource=this.allResources.find(function(l){return l.name===r?.text}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(n=this.selectedSubscription)||void 0===n?void 0:n.azureTenantObjectId,subscriptionId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.subscriptionId,resourceGroup:null===(o=this.selectedResourceGroup)||void 0===o?void 0:o.name,resourceName:null===(a=this.selectedResource)||void 0===a?void 0:a.name})},i.prototype.connectResource=function(){var r=this;this.tenantResourceSelected?this.workspaceSettingsService.connectTenantResource(this.resourceConnector.resourceType).then(function(){r.connectedResource=r.workspaceSettingsService.getLinkedResource(r.resourceConnector.resourceType),r.tenantResourceSelected=!1}):this.workspaceSettingsService.connectAzureResource(this.resourceConnector.resourceType).then(function(){r.connectedResource=r.workspaceSettingsService.getLinkedResource(r.resourceConnector.resourceType)});var n={originatingService:"DataCloudUX",activityName:"Connect ".concat(this.resourceConnector.resourceType),featureName:"Fabric Workspace Settings"};this.telemetryService.logStandardFeatureEvent(n)},i.prototype.cancelConnect=function(){this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{}),this.selectedSubscription=void 0,this.selectedSubscriptionDropdownOption=void 0,this.selectedResourceGroup=void 0,this.selectedResourceGroupDropdownOption=void 0,this.selectedResource=void 0,this.selectedResourceDropdownOption=void 0,this.resourceConnector.collapsed=!0},i.prototype.disconnectResource=function(){var r=this;this.workspaceSettingsService.disconnectAzureResource(this.resourceConnector.resourceType,this.resourceConnector.disconnectionPromptMessage).then(function(n){n&&(r.connectedResource=void 0,r.initializePickerOptions())})},i.prototype.selectTenantResource=function(){this.tenantResourceSelected=!this.tenantResourceSelected},i.prototype.dismissServerError=function(){this.serverErrorDismissed$.next(!0)},i.prototype.dismissFetchError=function(){this.fetchErrorDismissed$.next(!0)},i.prototype.onSubscriptionsSeached=function(r){this.subscriptionDropdownSearchText=r,this.createSubscriptionDropdownOptions()},i.prototype.onResourceGroupsSeached=function(r){this.resourceGroupDropdownSearchText=r,this.createResourceGroupDropdownOptions()},i.prototype.onResourcesSeached=function(r){this.resourceDropdownSearchText=r,this.createResourcesDropdownOptions()},i.prototype.getDropdownOverlayOptions=function(r){return{dropdownHeight:30*Math.max(Math.min(r,12),1)+34}},i.prototype.getErrorMessageBarViewModel=function(r,n){var t=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return"server"===n?t.dismissServerError():t.dismissFetchError()},message:r}},i.prototype.initializePickerOptions=function(){var r=this,n=this.workspaceSettingsService.getCurrentResource(this.resourceConnector.resourceType);this.workspaceSettingsService.getAzureSubscriptions().then(function(t){if(r.allSubscriptions=(0,N.ev)([],t,!0),r.createSubscriptionDropdownOptions(),n?.subscriptionId){var o=r.allSubscriptions.findIndex(function(l){return l.subscriptionId===n.subscriptionId});if(o>=0){var a=r.allSubscriptions[o];r.selectedSubscriptionDropdownOption=r.allSubscriptionDropdownOptions[o],r.selectedSubscription=a,n.resourceGroup&&(r.selectedResourceGroup={name:n.resourceGroup,subscriptionId:a.subscriptionId}),n.resourceName&&(r.selectedResource={id:n.resourceName,name:n.resourceName,subscriptionId:a.subscriptionId,resourceGroup:n.resourceGroup})}}}),n?.subscriptionId&&(this.workspaceSettingsService.getResourceGroupsWithResourceTypeForAzureSubscription(this.resourceConnector.resourceType,n.subscriptionId).then(function(t){var o;r.allResourceGroups=(0,N.ev)([],t,!0),r.createResourceGroupDropdownOptions(),n.resourceGroup&&(r.selectedResourceGroupDropdownOption=null===(o=r.allResourceGroupsDropdownOptions)||void 0===o?void 0:o.find(function(a){return a.text===n.resourceGroup}))}),n.resourceGroup&&this.workspaceSettingsService.getAzureResources(this.resourceConnector.resourceType,n.subscriptionId,n.resourceGroup).then(function(t){var o;r.allResources=(0,N.ev)([],t,!0),r.createResourcesDropdownOptions(),n.resourceName&&(r.selectedResourceDropdownOption=null===(o=r.allResourcesDropdownOptions)||void 0===o?void 0:o.find(function(a){return a.text===n.resourceName}))}))},i.prototype.createSubscriptionDropdownOptions=function(){var r=this;this.allSubscriptionDropdownOptions=this.allSubscriptions.map(function(n){return{key:n.subscriptionId,text:n.name}}).filter(function(n){var t,o,a,l;return!r.subscriptionDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.subscriptionDropdownSearchText.toLowerCase()))>=0||(null===(l=null===(a=n.key)||void 0===a?void 0:a.toLowerCase())||void 0===l?void 0:l.indexOf(r.subscriptionDropdownSearchText.toLowerCase()))>=0})},i.prototype.createResourceGroupDropdownOptions=function(){var r=this;this.allResourceGroupsDropdownOptions=this.allResourceGroups.map(function(n){return{key:n.name,text:n.name}}).filter(function(n){var t,o;return!r.resourceGroupDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.resourceGroupDropdownSearchText.toLowerCase()))>=0})},i.prototype.createResourcesDropdownOptions=function(){var r=this;this.allResourcesDropdownOptions=this.allResources.map(function(n){return{key:n.name,text:n.name}}).filter(function(n){var t,o;return!r.resourceDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.resourceDropdownSearchText.toLowerCase()))>=0})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(Tt.t))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-azure-resource-connector"]],inputs:{resourceConnector:"resourceConnector"},decls:17,vars:22,consts:[[1,"azure-resource-connect-container","tri-flex","tri-flex-col"],[1,"resource-header"],[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"resource-description"],["target","_blank","rel","noopener noreferrer",3,"href","external"],[4,"ngIf"],[3,"viewModel","hideMessageBar"],[1,"tri-flex","tri-items-center","tri-justify-center"],["class","tri-flex tri-flex-row default-connection",3,"is-disabled",4,"ngIf"],[1,"tri-flex","tri-flex-row","default-connection"],[1,"default-connection-checkbox",3,"id","disabled","label","checked","onChange"],["for","'default-connection-checkbox-' + resourceConnector.resourceType"],[1,"config-not-allowed"],[1,"tri-flex"],["name","error_circle_12_filled",1,"config-not-allowed-icon"],[1,"config-not-allowed-message"],[1,"config-not-allowed-link"],["target","_blank","rel","noopener noreferrer",3,"external","href"],[3,"headerText","iconName","iconSprite","collapsed","collapseContainer"],[1,"resource-picker-field","sub-picker","tri-flex","tri-flex-col"],[1,"picker-label"],["class","tri-flex error-message-container",4,"ngIf"],[1,"resource-picker-field","tri-flex","tri-flex-col"],[1,"azure-resource-footer-buttons","tri-flex"],["tri-button","","appearance","primary",3,"is-disabled","disabled","click",4,"ngIf"],["tri-button","",3,"is-disabled","disabled","click",4,"ngIf"],[1,"azure-resource-dropdown",3,"compact","options","ngModel","disabled","ngModelChange","valueChange"],[1,"dropdown-content",3,"triTooltip"],[1,"resource-setting-dropdown-search",3,"value"],["class","resource-setting-dropdown-item",3,"value",4,"ngFor","ngForOf"],[1,"resource-setting-dropdown-item",3,"value"],[1,"tri-flex","error-message-container"],["name","error_circle_12_filled",1,"error-message-icon"],["class","fetch-progress-spinner",4,"ngIf"],[1,"fetch-progress-spinner"],["tri-button","","appearance","primary",3,"disabled","click"],["tri-button","",3,"disabled","click"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h3",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Rp,2,3,"tri-message-bar",2),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementStart(7,"div",3),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementStart(10,"tri-link",4),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(13,Fp,2,0,"ng-container",5),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275template(15,pu,4,3,"ng-container",5),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,8,t.resourceConnector.headerText)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(5,10,t.serverErrorDismissed$)&&e.\u0275\u0275pipeBind1(6,12,t.serverError$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,14,t.resourceConnector.headerSubText)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("href",t.resourceConnector.learnMoreLink)("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,16,t.resourceConnector.headerLearnMoreText)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0!==e.\u0275\u0275pipeBind1(14,18,t.isInitialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(16,20,t.isInitialized$)))},dependencies:[g.NgForOf,g.NgIf,p.JJ,p.On,T.M,He.D,it.h,Se.r,xt.Z,Mt.M3,Ht.l,tn.q,Mt.ii,Gn.U,Rr,O.v,g.AsyncPipe,k.Y],styles:['[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:13px;line-height:18px}[_nghost-%COMP%]   .picker-label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px}[_nghost-%COMP%]   .config-not-allowed[_ngcontent-%COMP%]{margin-top:24px}[_nghost-%COMP%]   .config-not-allowed[_ngcontent-%COMP%]   .config-not-allowed-icon[_ngcontent-%COMP%]{margin-right:10px;fill:var(--globalColorBurgundyTint10)}[_nghost-%COMP%]   .config-not-allowed[_ngcontent-%COMP%]   .config-not-allowed-link[_ngcontent-%COMP%]{margin-top:7px;margin-left:30px}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .resource-header[_ngcontent-%COMP%]{font-size:var(--fontSizeBase300);line-height:var(--lineHeightBase300);font-weight:var(--fontWeightSemibold)}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .resource-description[_ngcontent-%COMP%], [_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .default-connection[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .default-connection.is-disabled[_ngcontent-%COMP%]{color:var(--globalColorBlackAlpha50)}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .default-connection[_ngcontent-%COMP%]   .default-connection-checkbox[_ngcontent-%COMP%]{margin:0 0 0 -3px}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .resource-picker-field[_ngcontent-%COMP%]{margin-bottom:24px}[_nghost-%COMP%]   .azure-resource-dropdown[_ngcontent-%COMP%]{min-width:180px;max-width:360px}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:var(--fontFamilyBase)}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-underline{display:none}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-infix{height:32px;width:360px;border:1px solid #d1d1d1;border-radius:4px;box-sizing:border-box;padding:6px 12px}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-infix .mat-form-field-label-wrapper{left:12px;width:calc(100% - 24px)}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-infix .mat-form-field-label-wrapper .mat-form-field-label{color:var(--colorNeutralForeground1)}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-infix .mat-select-arrow{border:none;height:24px;width:8px}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-infix .mat-select-arrow:before{font-family:TriFabricMDL2Icons;content:"\\e70d"}[_nghost-%COMP%]   .azure-resource-select-field.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]  .mat-form-field-label{display:none}[_nghost-%COMP%]   .azure-resource-select-field.mat-form-field-disabled[_ngcontent-%COMP%]  .mat-form-field-infix{background-color:var(--colorNeutralBackground4)}[_nghost-%COMP%]   .azure-resource-select-field.mat-form-field-disabled[_ngcontent-%COMP%]  .mat-form-field-infix .mat-form-field-label-wrapper .mat-form-field-label{color:var(--colorNeutralForegroundDisabled)}[_nghost-%COMP%]   .fetch-progress-spinner[_ngcontent-%COMP%]{flex-grow:1;margin-left:16px}[_nghost-%COMP%]   .azure-resource-footer-buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-right:8px}  .resource-setting-dropdown-search,   .resource-setting-dropdown-item{font-family:var(--fontFamilyBase);font-size:13px;line-height:18px;width:100%}  .dropdown-content{text-overflow:ellipsis;overflow:hidden}  .resource-setting-dropdown-search{margin:5px 8px;width:calc(100% - 16px);height:24px}  .resource-setting-dropdown-search   tri-svg-icon{margin:2px 6px!important}  .tri-dropdown-trigger-container>span,   .popout-button{width:100%}  .resource-picker-field   .popout-button{width:100%}  .box-header{height:unset!important;padding-bottom:12px;min-height:20px!important}  .is-collapsed .box-header{padding-bottom:0}'],changeDetection:0}),i}();function vu(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"div",3),e.\u0275\u0275elementContainerEnd())}function hu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,vu,2,0,"ng-container",1),e.\u0275\u0275element(2,"tri-workspace-settings-azure-resource-connector",2),e.\u0275\u0275elementContainerEnd()),2&i){var n=r.$implicit,t=r.index;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("resourceConnector",n)}}var fu=function(){function i(r){var n,t=this;this.workspaceSettingsService=r,this.resourceConnectors=((n={})[pt.AdlsStorage]={resourceType:pt.AdlsStorage,headerSubText:"BYOResources_Workspace_AdlsStorage_Description",headerText:"Trident_Workspace_Settings_ADLS_header",headerLearnMoreText:"Trident_Workspace_Settings_Learn_More_ADLS",resourceLabel:"Trident_Workspace_Settings_Storage_Account",resourcePickerPlaceholder:"Trident_Workspace_Settings_Select_Storage",collapsibeSectionHeader:"AdminPortal_BYOTenantStorage_Description",icon:{name:"plug_connected_20_regular"},forPremiumOnly:!1,canSelectTenantResource:!0,learnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128745",featureFlagToAllowResource:"storageAccountAttachForWorkspaceAdminsEnabled",notAllowedWarningMessage:"Warning_BYOSA_Workspace_Not_Enabled",notAllowedLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128134",noSubscriptionsMessage:"Error_No_Azure_Subscriptions_Access",noSubscriptionLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128263",noResourceGroupMessage:"Error_No_Storage_Account_Access",noResourceGroupLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128132",disconnectionPromptMessage:"AdminPortal_DatapoolSettings_DialogWarningNote1"},n[pt.LogAnalytics]={resourceType:pt.LogAnalytics,headerSubText:"BYOResources_Workspace_LogAnalytics_Description",headerText:"Trident_Workspace_Settings_Log_Analytics_Header",headerLearnMoreText:"Trident_Workspace_Settings_Learn_More_Log_Analytics",resourceLabel:"BYOResources_Connect_LogAnalytics",resourcePickerPlaceholder:"Trident_Workspace_Settings_Select_Log_Analytics",collapsibeSectionHeader:"Trident_Workspace_Settings_Configure_Log_Analytics",icon:{name:"plug_connected_20_regular"},learnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128746",forPremiumOnly:!0,canSelectTenantResource:!1,featureFlagToAllowResource:"logAnalyticsAttachForWorkspaceAdminsEnabled",notAllowedWarningMessage:"Warning_BYOLA_Workspace_Not_Enabled",notAllowedLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128744",noSubscriptionsMessage:"Error_No_Azure_Subscriptions_Access",noSubscriptionLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128742",noResourceGroupMessage:"Error_No_Log_Analytics_Workspace_Access",noResourceGroupLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128743",disconnectionPromptMessage:"BYOResources_Workspace_Disconnect_LogAnalytics_Description"},n),this.resourceConnectorArray$=new W.X([]),this.initializedSubscription=void 0,this.initializedSubscription=this.workspaceSettingsService.azureConnectionsInitialized$.subscribe(function(o){if(o){var a=t.workspaceSettingsService.isPremium;t.resourceConnectorArray$.next(Object.values(t.resourceConnectors).filter(function(l){return!l.forPremiumOnly||a}))}})}return i.prototype.ngOnDestroy=function(){var r;null===(r=this.initializedSubscription)||void 0===r||r.unsubscribe()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-azure-connections"]],decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"resourceConnector"],[1,"resource-picker-section-seperator"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,hu,3,2,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(1,1,t.resourceConnectorArray$))},dependencies:[g.NgForOf,g.NgIf,_u,g.AsyncPipe],styles:["[_nghost-%COMP%]   .resource-picker-section-seperator[_ngcontent-%COMP%]{margin-top:16px;border-top:1px solid #edebe9}"],changeDetection:0}),i}();function Cu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",6),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.deleteWorkspaceErrorMessage$))&&void 0!==o?o:""))}}function Su(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275element(1,"tri-svg-icon",8),e.\u0275\u0275elementStart(2,"div",9),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Trident_Workspace_Settings_Delete_Workspace_Banner")))}function yu(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",10)(1,"div",11),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",12),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Workspace_Settings_Delete_Workspace_Title")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",n.getDeleteWorkspaceRetentionPolicyText()," ")}}function bu(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}var wu=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.triLocalizationService=n,this.telemetryService=t,this.disableDelete=!0,this.deleteWorkspaceInProgress$=this.workspaceSettingsService.deleteWorkspaceInProgress$,this.deleteWorkspaceErrorMessage$=this.workspaceSettingsService.deleteWorkspaceErrorMessage$,this.errorDismissed$=new W.X(!1),this.closeSettings=new e.EventEmitter,this.workspaceSettingsService.initialized$.subscribe(function(a){a&&(o.disableDelete=!o.workspaceSettingsService.canDeleteWorkspace)})}return i.prototype.onDeleteClick=function(){var r=this;this.workspaceSettingsService.deleteWorkspace().then(function(o){var a;o&&(null===(a=r.closeSettings)||void 0===a||a.emit())}),this.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"delete workspace",featureName:"Fabric Workspace Settings",activityAttributes:{selectedTab:"Other"}}),this.telemetryService.logEvent({name:"Delete workspace",workspaceObjectId:this.workspaceSettingsService.workspaceObjectId,properties:{featureName:"Fabric Workspace Settings"}})},i.prototype.dismissError=function(){this.errorDismissed$.next(!0)},Object.defineProperty(i.prototype,"workspaceRecoveryEnabled",{get:function(){return this.workspaceSettingsService.workspaceRecoveryEnabled},enumerable:!1,configurable:!0}),i.prototype.getDeleteWorkspaceRetentionPolicyText=function(){return this.triLocalizationService.format("Trident_Workspace_Settings_Delete_Workspace_Configurable",this.workspaceSettingsService.retentionPeriodDays)},i.prototype.getErrorMessageBarViewModel=function(r){var n=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return n.dismissError()},message:r}},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(xe.z),e.\u0275\u0275directiveInject(Tt.t))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-other"]],outputs:{closeSettings:"closeSettings"},decls:13,vars:20,consts:[[3,"viewModel","hideMessageBar",4,"ngIf"],["class","delete-workspace-message tri-flex",4,"ngIf"],["class","delete-workspace-message-new",4,"ngIf"],["tri-button","","appearance","primary","data-testid","delete-workspace-btn",1,"delete-workspace-button",3,"disabled","click"],[4,"ngIf"],["name","delete_20_regular"],[3,"viewModel","hideMessageBar"],[1,"delete-workspace-message","tri-flex"],["name","info_20_regular",1,"banner-icon","tri-shrink-0"],[1,"banner-text"],[1,"delete-workspace-message-new"],[1,"delete-workspace-new-header"],[1,"delete-workspace-new-body"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,Cu,2,3,"tri-message-bar",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Su,5,3,"div",1),e.\u0275\u0275template(4,yu,6,4,"div",2),e.\u0275\u0275elementStart(5,"button",3),e.\u0275\u0275listener("click",function(){return t.onDeleteClick()}),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,bu,1,0,"tri-spinner",4),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275element(10,"tri-svg-icon",5),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,8,t.errorDismissed$)&&e.\u0275\u0275pipeBind1(2,10,t.deleteWorkspaceErrorMessage$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!t.workspaceRecoveryEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.workspaceRecoveryEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("is-disabled",e.\u0275\u0275pipeBind1(6,12,t.deleteWorkspaceInProgress$)),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(7,14,t.deleteWorkspaceInProgress$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(9,16,t.deleteWorkspaceInProgress$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,18,"Trident_Workspace_Settings_Delete_This_Workspace"),"\n"))},dependencies:[g.NgIf,T.M,He.D,it.h,g.AsyncPipe,k.Y],styles:["[_nghost-%COMP%]   .delete-workspace-button[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]{font-size:12px;background-color:var(--colorNeutralBackground4);padding:6px 10px;box-sizing:border-box}[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-inline-end:8px}[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}[_nghost-%COMP%]   .delete-workspace-message-new[_ngcontent-%COMP%]   .delete-workspace-new-header[_ngcontent-%COMP%]{font-weight:600;margin-bottom:10px;font-size:16px}[_nghost-%COMP%]   .delete-workspace-message-new[_ngcontent-%COMP%]   .delete-workspace-new-body[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),i}();function ku(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-general",7),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onCloseSettings())}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("userPicker",t.userPicker),e.\u0275\u0275attribute("data-testid","workspace-settings-general")}}function Iu(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-about",8),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("userPicker",n.userPicker),e.\u0275\u0275attribute("data-testid","workspace-settings-about")}}function xu(i,r){1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-premium-v2",10)}function Mu(i,r){1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-premium",10)}function Pu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,xu,1,0,"tri-workspace-settings-premium-v2",9),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Mu,1,0,"tri-workspace-settings-premium",9),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,2,n.workspaceSettingsV3$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(4,4,n.workspaceSettingsV3$))}}function Tu(i,r){1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-azure-connections-v2",10)}function Ou(i,r){1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-azure-connections",10)}function Eu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Tu,1,0,"tri-workspace-settings-azure-connections-v2",11),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Ou,1,0,"ng-template",null,12,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275reference(4),t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,2,t.workspaceSettingsV3$))("ngIfElse",n)}}function Du(i,r){1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-storage-systems",10)}function Bu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-git-integration",13),e.\u0275\u0275listener("closeWorkspaceSettingsFromTab",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}function Gu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-onelake",14),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}function zu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-workspace-identity",14),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}function Au(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-network",14),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}function Ru(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-platform-monitoring",14),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}function Fu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-other",14),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}var Lu=function(){function i(r,n){var t=this;this.isTrident=r,this.featureSwitchService=n,this.selectedGroup="about",this.closeSettings=new e.EventEmitter,this.workspaceSettingsV3$=this.featureSwitchService.featureSwitches$.pipe((0,ma.n)(function(o){return!o}),(0,ye.q)(1),(0,ge.U)(function(o){return t.isTrident&&!!o.workspaceSettingsV3}))}return i.prototype.onCloseSettings=function(){this.closeSettings.emit()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(sn.Y),e.\u0275\u0275directiveInject(_t.V$))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-universal-workspace-settings"]],inputs:{userPicker:"userPicker",selectedGroup:"selectedGroup"},outputs:{closeSettings:"closeSettings"},decls:12,vars:12,consts:[[3,"ngSwitch"],[3,"userPicker","closeSettings",4,"ngSwitchCase"],["class","full-setting universal-settings-page",3,"userPicker",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","full-setting universal-settings-page",4,"ngSwitchCase"],["class","full-setting universal-settings-page",3,"closeWorkspaceSettingsFromTab",4,"ngSwitchCase"],["class","full-setting universal-settings-page",3,"closeSettings",4,"ngSwitchCase"],[3,"userPicker","closeSettings"],[1,"full-setting","universal-settings-page",3,"userPicker"],["class","full-setting universal-settings-page",4,"ngIf"],[1,"full-setting","universal-settings-page"],["class","full-setting universal-settings-page",4,"ngIf","ngIfElse"],["oldAzureConnections",""],[1,"full-setting","universal-settings-page",3,"closeWorkspaceSettingsFromTab"],[1,"full-setting","universal-settings-page",3,"closeSettings"]],template:function(n,t){1&n&&(e.\u0275\u0275elementContainerStart(0,0),e.\u0275\u0275template(1,ku,1,2,"tri-workspace-settings-general",1),e.\u0275\u0275template(2,Iu,1,2,"tri-workspace-settings-about",2),e.\u0275\u0275template(3,Pu,5,6,"ng-container",3),e.\u0275\u0275template(4,Eu,5,4,"ng-container",3),e.\u0275\u0275template(5,Du,1,0,"tri-workspace-settings-storage-systems",4),e.\u0275\u0275template(6,Bu,1,0,"tri-workspace-settings-git-integration",5),e.\u0275\u0275template(7,Gu,1,0,"tri-workspace-settings-onelake",6),e.\u0275\u0275template(8,zu,1,0,"tri-workspace-settings-workspace-identity",6),e.\u0275\u0275template(9,Au,1,0,"tri-workspace-settings-network",6),e.\u0275\u0275template(10,Ru,1,0,"tri-workspace-settings-platform-monitoring",6),e.\u0275\u0275template(11,Fu,1,0,"tri-workspace-settings-other",6),e.\u0275\u0275elementContainerEnd()),2&n&&(e.\u0275\u0275property("ngSwitch",t.selectedGroup),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","general"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","about"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","premium"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","azureConnections"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","storageSystems"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","gitIntegration"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","oneLake"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","workspaceIdentity"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","network"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","platformMonitoring"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","other"))},dependencies:[g.NgIf,g.NgSwitch,g.NgSwitchCase,dn,dr,Fi,ni,Fe,Fs,Qs,Ld,Kd,Cp,Ap,fu,wu,g.AsyncPipe],styles:['[_nghost-%COMP%]{width:100%;max-width:580px}  a{color:var(--colorBrandForegroundLink)}  a:hover,   a:focus{text-decoration:underline}  a:active{color:var(--colorBrandForegroundLinkPressed)}  .workspace-settings-popup-dialog-container{background-color:var(--colorNeutralBackgroundOverlay)}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog{width:560px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogContent{min-height:48px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogCloseIcon{display:none!important}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions{margin-top:21px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button]{background-color:var(--colorNeutralBackground1);border-radius:var(--borderRadiusMedium);border:1px solid var(--colorNeutralStroke1);color:var(--colorNeutralForeground1);fill:var(--colorNeutralForeground1);font-weight:var(--fontWeightSemibold);gap:6px;height:32px;padding:0 12px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button]:active{background-color:var(--colorNeutralBackground1Pressed);border-color:var(--colorNeutralStroke1Pressed)}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button]:hover{background-color:var(--colorNeutralBackground1Hover);border-color:var(--colorNeutralStroke1Hover)}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button].primary{background-color:var(--colorBrandBackground);border:none;color:var(--colorNeutralBackground1);fill:var(--colorNeutralBackground1);position:relative}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button].primary:focus:after{border-radius:var(--borderRadiusSmall);border:1px solid var(--colorNeutralStrokeOnBrand);content:"";display:block;height:calc(100% - 6px);position:absolute;width:calc(100% - 6px)}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button].primary:active{background-color:var(--colorBrandBackgroundSelected)}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button].primary:active:focus:after{border:none}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button].primary:hover{background-color:var(--colorBrandBackgroundHover)}@media screen and (max-width: 544px){  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog{width:250px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions{margin-top:10px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-modalContainer .infonav-dialogTitle{margin-right:0}}  .error-message-container{color:var(--colorPaletteRedForeground1);font-size:12px}  .error-message-container .error-message-icon{fill:var(--colorPaletteRedForeground1);height:12px;width:12px;margin-top:4px;margin-right:5px;flex-shrink:0}  .error-message-banner-container{padding:8px 12px;box-sizing:border-box;font-size:12px;background-color:var(--colorPaletteRedTintBackground1);color:var(--colorPaletteRedForeground1)}  .error-message-banner-container .error-message-banner-icon{margin-right:8px;fill:var(--colorPaletteRedForeground1);height:16px;width:16px}  .error-message-banner-container>div{line-height:16px}  .error-message-banner-container .error-message-banner-dismiss{height:16px;width:16px;display:flex}  .error-message-banner-container .error-message-banner-dismiss tri-svg-icon{height:16px;width:16px}  .universal-settings-page [tri-button]:focus-visible{border:2px solid var(--colorNeutralStrokeFocus2);outline:none;padding:0 11px}  .universal-settings-page [tri-button]:focus-visible[appearance=primary]{padding:0 10px}  .universal-settings-page [tri-button][appearance=subtle].is-disabled :hover{background-color:var(--colorTransparentStrokeDisabled)}  .universal-settings-page [tri-button][appearance=subtle][size=small]:hover{background-color:var(--colorSubtleBackgroundHover)}  .universal-settings-page [tri-button][appearance=subtle][size=small]:active{background-color:var(--colorSubtleBackgroundPressed)}  .universal-settings-page [tri-button].is-disabled{border:none}  .universal-settings-page [tri-button].is-disabled:hover{color:var(--colorNeutralForegroundDisabled)}']}),i}();function Wu(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",18)}function Nu(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",18)}function $u(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",22),e.\u0275\u0275element(2,"tri-svg-icon",23),e.\u0275\u0275elementStart(3,"span",24),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementStart(6,"tri-link",19),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(5,3,"Settings_DataModelEditing_InfoMessage")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,5,"LearnMore")," "))}function Uu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",0)(2,"div",1),e.\u0275\u0275element(3,"div",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"h2",3),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4),e.\u0275\u0275element(8,"div",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"h3",5),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",12),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementStart(15,"tri-link",19),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",7)(19,"input",20),e.\u0275\u0275listener("change",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onAllowWebModelingChanged())}),e.\u0275\u0275pipe(20,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"label",21),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(24,Nu,1,0,"tri-spinner",10),e.\u0275\u0275pipe(25,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(26,$u,9,7,"ng-container",17),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,10,"DataModelSettingsHeader")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,12,"DataModelSettingsHeader")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(14,14,"AllowWebModelingDescription")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,16,"LearnMore")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(20,18,t.autoSaveInProgress.AllowWebModeling)||!t.isWorkspaceAdmin||!t.isPremiumOrSharedOnPremium)("checked",t.allowWebModeling),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(23,20,"AllowWebModelingLabel")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(25,22,t.autoSaveInProgress.AllowWebModeling)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.isWebModelingTenantSwitchEnabled)}}var Vu=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.featureSwitchService=n,this.changeDetection=t,this.contributorsAllowed=this.workspaceSettingsService.allowContributorUpdateApp,this.autoSaveInProgress=this.workspaceSettingsService.autoSaveInProgress,this.initializedSubscription=void 0,this.isWorkspaceAdmin=!1,this.isServiceAppsBuilderWorkspace=!1,this.allowWebModeling=this.workspaceSettingsService.allowWebModeling,this.isPremiumOrSharedOnPremium=!1,this.isWebModelingAdminSettingsEnabled=void 0,this.isWebModelingTenantSwitchEnabled=void 0,this.initializedSubscription=this.workspaceSettingsService.initialized$.subscribe(function(a){a&&(o.isWorkspaceAdmin=o.workspaceSettingsService.isWorkspaceAdmin,o.isPremiumOrSharedOnPremium=o.workspaceSettingsService.isPremium||o.workspaceSettingsService.isSharedOnPremium,o.isWebModelingAdminSettingsEnabled=o.featureSwitchService.featureSwitches.WebModelingAdminSettings,o.isWebModelingTenantSwitchEnabled=o.featureSwitchService.featureSwitches.webModelingTenantSwitchEnabled,o.changeDetection.markForCheck())}),this.workspaceSettingsService.isServiceAppsBuilderWorkspace().pipe((0,Xa.P)()).subscribe(function(a){o.isServiceAppsBuilderWorkspace=a})}return i.prototype.ngOnDestroy=function(){var r;null===(r=this.initializedSubscription)||void 0===r||r.unsubscribe()},i.prototype.onContributorsAllowedChanged=function(){this.contributorsAllowed=!this.contributorsAllowed,this.workspaceSettingsService.allowContributorUpdateApp=this.contributorsAllowed},i.prototype.onAllowWebModelingChanged=function(){this.allowWebModeling=!this.allowWebModeling,this.workspaceSettingsService.allowWebModeling=this.allowWebModeling},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(_t.V$),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-powerbi-workspace-settings-general"]],decls:45,vars:38,consts:[[1,"header-with-line-decor","tri-flex"],[1,"section-header-line-container","prefix-line"],[1,"section-header-line"],[1,"section-header-text"],[1,"section-header-line-container","postfix-line"],[1,"organization-apps-sub-header"],[1,"allow-contributor-description"],[1,"tri-flex","allow-contributor"],["type","checkbox","id","allow-contributor-checkbox","data-testid","allow-contributor-checkbox",1,"allow-contributor-checkbox",3,"disabled","checked","change"],["for","allow-contributor-checkbox",1,"allow-contributor-label"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],[1,"header-with-line-decor","tri-flex","service-apps-workspace-header"],[1,"service-apps-workspace-description"],["href","http://aka.ms/powerbiapps","target","_blank","rel","noopener noreferrer",1,"learn-more-link",3,"external"],[1,"tri-flex","service-apps-workspace"],["type","checkbox","id","is-service-apps-workspace-checkbox",1,"is-service-apps-workspace-checkbox",3,"disabled","checked"],["for","is-service-apps-workspace-checkbox",1,"service-apps-workspace-label"],[4,"ngIf"],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],["href","https://go.microsoft.com/fwlink/?linkid=2227332","target","_blank","rel","noopener noreferrer",1,"learn-more-link",3,"external"],["type","checkbox","id","allow-web-modeling",1,"allow-contributor-checkbox",3,"disabled","checked","change"],["for","allow-web-modeling",1,"allow-contributor-label"],[1,"web-modeling-tenant-setting-disabled-message","tri-flex"],["name","info_20_regular",1,"banner-icon","tri-shrink-0"],[1,"banner-text"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"div",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"h2",3),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4),e.\u0275\u0275element(7,"div",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"h3",5),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",6),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",7)(15,"input",8),e.\u0275\u0275listener("change",function(){return t.onContributorsAllowedChanged()}),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"label",9),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,Wu,1,0,"tri-spinner",10),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",11)(23,"div",1),e.\u0275\u0275element(24,"div",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"h2",3),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",4),e.\u0275\u0275element(29,"div",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"h3",5),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"div",12),e.\u0275\u0275text(34),e.\u0275\u0275pipe(35,"localize"),e.\u0275\u0275elementStart(36,"tri-link",13),e.\u0275\u0275text(37),e.\u0275\u0275pipe(38,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(39,"div",14),e.\u0275\u0275element(40,"input",15),e.\u0275\u0275elementStart(41,"label",16),e.\u0275\u0275text(42),e.\u0275\u0275pipe(43,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(44,Uu,27,24,"ng-container",17)),2&n&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,16,"Trident_Workspace_Settings_Organization_Apps_Header")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,18,"Trident_Workspace_Settings_Secure_Update_Header")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,20,"AllowContributorsUpdateAppForWorkspace")),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(16,22,t.autoSaveInProgress.AllowContributorApp)||!t.isWorkspaceAdmin)("checked",t.contributorsAllowed),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(19,24,"Trident_Workspace_Settings_Allow_Contributor_Label")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(21,26,t.autoSaveInProgress.AllowContributorApp)),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(27,28,"TemplateApps")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(32,30,"TemplateApps")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(35,32,"GroupEditor_ServiceAppCreateInfo")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(38,34,"Trident_GroupEditor_TemplateApps")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!0)("checked",t.isServiceAppsBuilderWorkspace),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(43,36,"Trident_GroupEditor_ServiceAppCheckbox")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isWebModelingAdminSettingsEnabled))},dependencies:[g.NgIf,T.M,He.D,O.v,g.AsyncPipe,k.Y],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container[_ngcontent-%COMP%]{align-items:flex-start;height:20px}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container[_ngcontent-%COMP%]   .section-header-line[_ngcontent-%COMP%]{border-bottom:1px solid var(--colorNeutralStroke2);height:50%}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container.prefix-line[_ngcontent-%COMP%]{width:8px}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container.postfix-line[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-text[_ngcontent-%COMP%]{margin:0 12px;font-size:12px;font-weight:400;line-height:20px;color:var(--colorNeutralForeground2)}[_nghost-%COMP%]   .organization-apps-sub-header[_ngcontent-%COMP%]{margin:10px 0 0;font-size:14px;line-height:20px}[_nghost-%COMP%]   .allow-contributor-description[_ngcontent-%COMP%]{margin-top:8px;font-size:13px;line-height:18px}[_nghost-%COMP%]   .allow-contributor[_ngcontent-%COMP%]{margin:14px 0}[_nghost-%COMP%]   .allow-contributor[_ngcontent-%COMP%]   .allow-contributor-checkbox[_ngcontent-%COMP%]{height:18px;width:18px;margin:0 8px 0 0}[_nghost-%COMP%]   .allow-contributor[_ngcontent-%COMP%]   .allow-contributor-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px}[_nghost-%COMP%]   .service-apps-workspace-description[_ngcontent-%COMP%]{margin-top:8px;font-size:13px;line-height:18px}[_nghost-%COMP%]   .service-apps-workspace[_ngcontent-%COMP%]{margin:14px 0}[_nghost-%COMP%]   .service-apps-workspace[_ngcontent-%COMP%]   .is-service-apps-workspace-checkbox[_ngcontent-%COMP%]{height:18px;width:18px;margin:0 8px 0 0}[_nghost-%COMP%]   .service-apps-workspace[_ngcontent-%COMP%]   .service-apps-workspace-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:var(--fluent-theme-neutral-tertia-color)}[_nghost-%COMP%]   .inline-autosave-spinner[_ngcontent-%COMP%]{margin-left:16px}[_nghost-%COMP%]   .web-modeling-tenant-setting-disabled-message[_ngcontent-%COMP%]{font-size:12px;background-color:var(--globalColorYellowTint50);padding:6px 10px;box-sizing:border-box}[_nghost-%COMP%]   .web-modeling-tenant-setting-disabled-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-right:8px}[_nghost-%COMP%]   .web-modeling-tenant-setting-disabled-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}"],changeDetection:0}),i}();function ju(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",8),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.securityModeOverriddenByHigherLevelMessageBannerModel)}}function Hu(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",9)}var Ku=function(r){return{disabledContainer:r}},Xu=function(){function i(r,n){var t=this;this.workspaceSettingsService=r,this.localizationService=n,this.initialized$=this.workspaceSettingsService.initialized$,this.datasourceBindingSecurityMode=this.workspaceSettingsService.datasourceBindingSecurityMode,this.securityModeOverriddenByHigherLevel=this.workspaceSettingsService.securityModeOverriddenByHigherLevel,this.autoSaveInProgress=this.workspaceSettingsService.autoSaveInProgress,this.initializedSubscription=void 0,this.isWorkspaceAdmin=!1,this.DatasourceBindingSecurityMode=$n,this.initializedSubscription=this.workspaceSettingsService.initialized$.subscribe(function(o){o&&(t.isWorkspaceAdmin=t.workspaceSettingsService.isWorkspaceAdmin,t.datasourceBindingSecurityMode=t.workspaceSettingsService.datasourceBindingSecurityMode,t.securityModeOverriddenByHigherLevel=t.workspaceSettingsService.securityModeOverriddenByHigherLevel)}),this.securityModeOverriddenByHigherLevelMessageBannerModel={bannerType:2,allowDismiss:!1,iconName:"info_20_regular",message:this.localizationService.get("SettingsDataset_DataConnection_SecurityModeOverriddenByTenantLevel_BannerMessage")}}return i.prototype.ngOnDestroy=function(){var r;null===(r=this.initializedSubscription)||void 0===r||r.unsubscribe()},i.prototype.onSecurityModeChanged=function(r){this.datasourceBindingSecurityMode=r.target.checked?$n.Strict:$n.Origin,this.workspaceSettingsService.datasourceBindingSecurityMode=this.datasourceBindingSecurityMode},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(xe.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-powerbi-workspace-settings-dataconnection"]],decls:16,vars:21,consts:[[1,"data-connection-sub-header"],[1,"data-connection-sub-context"],[3,"viewModel",4,"ngIf"],[1,"tri-flex","enable-securitymode",3,"ngClass"],["type","checkbox","id","enable-securitymode-checkbox",1,"enable-securitymode-checkbox",3,"disabled","checked","change"],["for","enable-securitymode-checkbox",1,"enable-securitymode-label"],["href","https://go.microsoft.com/fwlink/?linkid=2277635","rel","noopener noreferrer","target","_blank",3,"external"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],[3,"viewModel"],[1,"inline-autosave-spinner","tri-flex","tri-items-center"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"h3",0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",1),e.\u0275\u0275template(4,ju,1,1,"tri-message-bar",2),e.\u0275\u0275elementStart(5,"div",3)(6,"input",4),e.\u0275\u0275listener("change",function(a){return t.onSecurityModeChanged(a)}),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"label",5),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementStart(11,"tri-link",6),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(14,Hu,1,0,"tri-spinner",7),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,9,"Trident_Workspace_Settings_Data_Connection_Security_Mode_Header")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.securityModeOverriddenByHigherLevel),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(19,Ku,!t.isWorkspaceAdmin||t.securityModeOverriddenByHigherLevel)),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(7,11,t.autoSaveInProgress.DatasourceBindingSecurityMode)||!t.isWorkspaceAdmin||t.securityModeOverriddenByHigherLevel)("checked",t.datasourceBindingSecurityMode===t.DatasourceBindingSecurityMode.Strict||t.securityModeOverriddenByHigherLevel),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(10,13,"Trident_Workspace_Settings_Data_Connection_Enable_Security_Mode_Label")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,15,"Generic_LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(15,17,t.autoSaveInProgress.DatasourceBindingSecurityMode)))},dependencies:[g.NgClass,g.NgIf,He.D,it.h,O.v,g.AsyncPipe,k.Y],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .disabledContainer[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}[_nghost-%COMP%]   .enable-securitymode[_ngcontent-%COMP%]{margin:14px 0}[_nghost-%COMP%]   .enable-securitymode[_ngcontent-%COMP%]   .enable-securitymode-checkbox[_ngcontent-%COMP%]{height:18px;width:18px;margin:0 8px 0 0}[_nghost-%COMP%]   .enable-securitymode[_ngcontent-%COMP%]   .enable-securitymode-label[_ngcontent-%COMP%]{width:90%;font-size:14px;line-height:20px}[_nghost-%COMP%]   .inline-autosave-spinner[_ngcontent-%COMP%]{margin-inline-start:16px}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .data-connection-sub-header[_ngcontent-%COMP%]{margin:10px 0 0;font-size:14px;line-height:20px}"],changeDetection:0}),i}();function Qu(i,r){1&i&&e.\u0275\u0275element(0,"tri-powerbi-workspace-settings-general")}function Yu(i,r){1&i&&e.\u0275\u0275element(0,"tri-powerbi-workspace-settings-dataconnection")}function Zu(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function Ju(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Zu,1,0,"ng-container",4),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"settingsComponentPipe"),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngComponentOutlet",e.\u0275\u0275pipeBind1(2,1,e.\u0275\u0275pipeBind1(3,3,n.component)))}}function qu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Ju,4,5,"ng-container",2),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.component)}}function eg(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,qu,2,1,"ng-container",1),e.\u0275\u0275elementContainerEnd()),2&i){var n=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",n.name)}}function tg(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,eg,2,1,"ng-container",3),e.\u0275\u0275elementContainerEnd()),2&i){var n=r.ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n)}}var ng=function(){function i(){}return i.prototype.transform=function(r){return r()},i.\u0275fac=function(n){return new(n||i)},i.\u0275pipe=e.\u0275\u0275definePipe({name:"settingsComponentPipe",type:i,pure:!0}),i}(),ig=function(){function i(r){this.workspaceSettingsService=r,this.tabs$=this.workspaceSettingsService.pbiTabs$,this.selectedTab=""}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-powerbi-workspace-settings"]],inputs:{selectedTab:"selectedTab"},decls:5,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngComponentOutlet"]],template:function(n,t){1&n&&(e.\u0275\u0275elementContainerStart(0,0),e.\u0275\u0275template(1,Qu,1,0,"tri-powerbi-workspace-settings-general",1),e.\u0275\u0275template(2,Yu,1,0,"tri-powerbi-workspace-settings-dataconnection",1),e.\u0275\u0275template(3,tg,2,1,"ng-container",2),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementContainerEnd()),2&n&&(e.\u0275\u0275property("ngSwitch",t.selectedTab),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","pbi-general"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","pbi-dataconnection"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,4,t.tabs$)))},dependencies:[g.NgComponentOutlet,g.NgForOf,g.NgIf,g.NgSwitch,g.NgSwitchCase,Vu,Xu,g.AsyncPipe,ng],styles:["[_nghost-%COMP%]{width:100%;max-width:580px;position:relative;flex-grow:1}"],changeDetection:0}),i}();function rg(i,r){1&i&&(e.\u0275\u0275elementStart(0,"label",10),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("> ",e.\u0275\u0275pipeBind1(2,1,"WorkspaceDelegatedSettings_ScopeEnabledForAllUsers")," "))}function og(i,r){1&i&&(e.\u0275\u0275elementStart(0,"label",10),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("> ",e.\u0275\u0275pipeBind1(2,1,"WorkspaceDelegatedSettings_ScopeEnabledForSpecificUsers")," "))}function ag(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section"),e.\u0275\u0275template(1,rg,3,3,"label",9),e.\u0275\u0275template(2,og,3,3,"label",9),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isSettingEnabledForAllUsers()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isSettingEnabledForAllUsers())}}function sg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section",11)(1,"button",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onEditScope())}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",void 0===(null==t.setting?null:t.setting.enableDelegationControls)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"WorkspaceDelegatedSettings_ScopeEdit")," ")}}function cg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.revertToOriginalConfig())}),e.\u0275\u0275element(1,"tri-svg-icon",14),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",void 0===(null==t.setting?null:t.setting.enableDelegationControls)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"ColorPicker_RevertToDefault")," ")}}function lg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",15),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.revertToOriginalConfig())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"WorkspaceDelegatedSettings_ConfigurationDefault")," "))}var dg=function(){function i(r,n,t){this.workspaceSettingsService=r,this.errorService=n,this.triLocalizationService=t,this.editSettingEmitter=new e.EventEmitter,this.isSettingEnabled=!1,this.isSettingOverridden$=new W.X(!1),this.textPlaceholderRegex=/\{[0-9]\}/}return i.prototype.ngOnInit=function(){void 0!==this.setting&&(this.isSettingEnabled=null!==this.setting.isOverridden&&this.setting.isOverridden?this.setting.isEnabled:this.setting.upperLevelSelection.isEnabled,this.isSettingOverridden$.next(void 0!==this.setting.isOverridden&&this.setting.isOverridden))},i.prototype.onEditScope=function(){this.editSettingEmitter.emit(this.setting)},i.prototype.revertToOriginalConfig=function(){return(0,N.mG)(this,void 0,void 0,function(){return(0,N.Jh)(this,function(n){switch(n.label){case 0:return void 0===this.setting?[3,2]:[4,this.workspaceSettingsService.revertDelegatedSettingToOriginalConfig(this.setting.switchName)];case 1:n.sent()?(this.setting.isOverridden=!1,this.setting.isEnabled=this.setting.upperLevelSelection.isEnabled,this.isSettingEnabled=this.setting.isEnabled,this.isSettingOverridden$.next(this.setting.isOverridden)):this.errorService.error(this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave"),this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave")),n.label=2;case 2:return[2]}})})},i.prototype.onToggle=function(){return(0,N.mG)(this,void 0,void 0,function(){var r;return(0,N.Jh)(this,function(t){switch(t.label){case 0:return void 0===this.setting?[3,3]:this.isSettingEnabled?(this.onEditScope(),[3,3]):[3,1];case 1:return r=this.createUpdateContract(this.setting),[4,this.workspaceSettingsService.updateDelegatedSetting(r)];case 2:t.sent()?(this.setting.isOverridden=!0,this.setting.isEnabled=!1,this.isSettingOverridden$.next(this.setting.isOverridden)):this.errorService.error(this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave"),this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave")),t.label=3;case 3:return[2]}})})},i.prototype.createUpdateContract=function(r){return{featureSwitches:[{switchId:-1,switchName:r.switchName,isEnabled:!1,isGranular:r.isGranular,allowedSecurityGroups:[],deniedSecurityGroups:[]}],properties:[]}},i.prototype.getMultiParagraphDescription=function(r){var n="";if(void 0!==r)for(var t=0;t<r.length;t++){var o=r[t],a=o.content,l=0,v=a.match(this.textPlaceholderRegex);if(null!==v)for(;v.length>0&&null!=o.hyperLinkList[l];)a=a.replace(this.textPlaceholderRegex,'&nbsp;<a href="'+o.hyperLinkList[l].url+'" target="_blank">'+o.hyperLinkList[l].displayText+"</a>"),l++;if(l<o.hyperLinkList.length)for(var te=l;te<o.hyperLinkList.length;te++)a=a.concat('&nbsp;<a href="'+o.hyperLinkList[te].url+'" target="_blank">'+o.hyperLinkList[te].displayText+"</a>");n=0===t?a:n+"<br><br>"+a}return"<span>"+n+"</span>"},i.prototype.hasSettingScope=function(){return void 0!==this.setting&&(void 0!==this.setting.isOverridden&&this.setting.isOverridden?this.setting.isEnabled:this.setting.upperLevelSelection.isEnabled)},i.prototype.isSettingEnabledForAllUsers=function(){return!(void 0===this.setting||(void 0!==this.setting.isOverridden&&this.setting.isOverridden?this.setting.allowedSecurityGroups.length>0||this.setting.deniedSecurityGroups.length>0:this.setting.upperLevelSelection.allowedSecurityGroups.length>0||this.setting.upperLevelSelection.deniedSecurityGroups.length>0))},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(Zn.g),e.\u0275\u0275directiveInject(xe.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-delegated-workspace-settings"]],inputs:{setting:"setting"},outputs:{editSettingEmitter:"editSettingEmitter"},decls:19,vars:19,consts:[[1,"settingToggle"],[1,"settingTitle",3,"for"],[3,"disabled","id","ngModel","ngModelChange"],["tri-switch-text",""],[1,"settingDescription",3,"innerHtml"],[4,"ngIf"],["class","editScope",4,"ngIf"],["class","revertSettingConf","tri-button","","appearance","subtle","size","small",3,"disabled","click",4,"ngIf"],["class","defaultSettingConf","tri-button","","appearance","subtle","size","small",3,"disabled","click",4,"ngIf"],["class","settingScope",4,"ngIf"],[1,"settingScope"],[1,"editScope"],["tri-button","","appearance","primary",3,"disabled","click"],["tri-button","","appearance","subtle","size","small",1,"revertSettingConf",3,"disabled","click"],["name","arrow_undo_20_regular"],["tri-button","","appearance","subtle","size","small",1,"defaultSettingConf",3,"disabled","click"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"section")(1,"div",0)(2,"label",1),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"tri-switch",2),e.\u0275\u0275listener("ngModelChange",function(a){return t.isSettingEnabled=a})("ngModelChange",function(){return t.onToggle()}),e.\u0275\u0275elementStart(5,"div",3),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(9,"section")(10,"div"),e.\u0275\u0275element(11,"div",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(12,ag,3,2,"section",5),e.\u0275\u0275template(13,sg,4,4,"section",6),e.\u0275\u0275elementStart(14,"section"),e.\u0275\u0275template(15,cg,4,4,"button",7),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275template(17,lg,3,4,"button",8),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("for","settingToggle_",null==t.setting?null:t.setting.switchName,""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==t.setting?null:t.setting.title),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("id","settingToggle_",null==t.setting?null:t.setting.switchName,""),e.\u0275\u0275property("disabled",void 0===(null==t.setting?null:t.setting.enableDelegationControls))("ngModel",t.isSettingEnabled),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.isSettingEnabled?e.\u0275\u0275pipeBind1(7,11,"ToggleSwitchOn"):e.\u0275\u0275pipeBind1(8,13,"ToggleSwitchOff")),e.\u0275\u0275advance(5),e.\u0275\u0275property("innerHtml",t.getMultiParagraphDescription(null==t.setting?null:t.setting.description),e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasSettingScope()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasSettingScope()&&(null==t.setting?null:t.setting.isGranular)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(16,15,t.isSettingOverridden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(18,17,t.isSettingOverridden$)))},dependencies:[g.NgIf,p.JJ,p.On,T.M,an.t,g.AsyncPipe,k.Y],styles:["[_nghost-%COMP%]{width:100%;max-width:580px;position:relative;flex-grow:1}[_nghost-%COMP%]   .settingTitle[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size);line-height:40px}[_nghost-%COMP%]   .settingDescription[_ngcontent-%COMP%]{font-family:var(--fontFamilyBase);font-size:13px;line-height:18px;margin-top:8px;margin-bottom:8px}[_nghost-%COMP%]   .settingScope[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px;font-family:var(--fontFamilyBase);font-size:13px;line-height:18px}[_nghost-%COMP%]   .editScope[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .settingToggle[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .revertSettingConf[_ngcontent-%COMP%]{margin-top:16px;padding:0}[_nghost-%COMP%]   .defaultSettingConf[_ngcontent-%COMP%]{margin-top:16px;padding:0}"],changeDetection:0}),i}();function pg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",4),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.onApplyToSpecificSG(a))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("checked",t.isGranular),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"WorkspaceDelegatedSettings_ApplyToSpecificSecurityGroups")," ")}}function ug(i,r){1&i&&e.\u0275\u0275elementContainer(0)}var ss=function(r){return{$implicit:r}};function gg(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section")(1,"div",11)(2,"label",12),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",13),e.\u0275\u0275template(6,ug,1,0,"ng-container",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"label"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(),t=e.\u0275\u0275reference(26);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,7,"VisualContainer_ContextMenu_Include")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",n.userPicker||t)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(11,ss,n.allowedSecurityGroupsContext)),e.\u0275\u0275advance(1),e.\u0275\u0275classMap(n.duplicatedGroupInAllowedSG?"emailList-footer-error":"emailList-footer"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,9,n.duplicatedGroupInAllowedSG?"WorkspaceDelegatedSettings_EmailList_DuplicatedSecurityGroups":"WorkspaceDelegatedSettings_EmailList_AllowedSecurityGroups")," ")}}function mg(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function _g(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section")(1,"div",11)(2,"label",15),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",13),e.\u0275\u0275template(6,mg,1,0,"ng-container",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"label"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(),t=e.\u0275\u0275reference(26);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,7,"VisualContainer_ContextMenu_Exclude")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",n.userPicker||t)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(11,ss,n.deniedSecurityGroupsContext)),e.\u0275\u0275advance(1),e.\u0275\u0275classMap(n.duplicatedGroupInDeniedSG?"emailList-footer-error":"emailList-footer"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,9,n.duplicatedGroupInDeniedSG?"WorkspaceDelegatedSettings_EmailList_DuplicatedSecurityGroups":"WorkspaceDelegatedSettings_EmailList_DeniedSecurityGroups")," ")}}var vg=function(){return[]};function hg(i,r){if(1&i&&e.\u0275\u0275element(0,"input",16),2&i){var t,n=r.$implicit;e.\u0275\u0275property("placeholder",null==n?null:n.inputPlaceholder)("value",(null!==(t=null==n?null:n.identities)&&void 0!==t?t:e.\u0275\u0275pureFunction0(2,vg)).join(";"))}}var fg=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.errorService=n,this.triLocalizationService=t,this.closeScopeEditEmitter=new e.EventEmitter,this.isGranular=!1,this.duplicatedGroupInAllowedSG=!1,this.duplicatedGroupInDeniedSG=!1,this.allowedSecurityGroupsContext=void 0,this.deniedSecurityGroupsContext=void 0,this.onAllowedSecurityGroupsUpdated=function(a){var l;o.duplicatedGroupInAllowedSG=o.verifyDuplicatedGroups(a,null===(l=o.deniedSecurityGroupsContext)||void 0===l?void 0:l.identities)},this.onDeniedSecurityGroupsUpdated=function(a){var l;o.duplicatedGroupInDeniedSG=o.verifyDuplicatedGroups(null===(l=o.allowedSecurityGroupsContext)||void 0===l?void 0:l.identities,a)}}return i.prototype.ngOnInit=function(){var r,n,t,o,a,l,v=null!==(null===(r=this.setting)||void 0===r?void 0:r.isOverridden)&&null!==(n=this.setting)&&void 0!==n&&n.isOverridden?this.setting.allowedSecurityGroups:null===(t=this.setting)||void 0===t?void 0:t.upperLevelSelection.allowedSecurityGroups;this.allowedSecurityGroupsContext={identities:this.parseSecurityGroupsToUserMetadata(v),onIdentitiesUpdated:this.onAllowedSecurityGroupsUpdated,allowSecurityGroups:!0,allowObjectIds:!0,blockUsers:!0,allowDistributionLists:!1,inputPlaceholder:void 0!==v&&v.length>0?"":this.triLocalizationService.get("SecurityGroupsListPlaceholder")};var f=null!==(null===(o=this.setting)||void 0===o?void 0:o.isOverridden)&&null!==(a=this.setting)&&void 0!==a&&a.isOverridden?this.setting.deniedSecurityGroups:null===(l=this.setting)||void 0===l?void 0:l.upperLevelSelection.deniedSecurityGroups;this.deniedSecurityGroupsContext={identities:this.parseSecurityGroupsToUserMetadata(f),onIdentitiesUpdated:this.onDeniedSecurityGroupsUpdated,allowSecurityGroups:!0,allowObjectIds:!0,blockUsers:!0,allowDistributionLists:!1,inputPlaceholder:void 0!==f&&f.length>0?"":this.triLocalizationService.get("SecurityGroupsListPlaceholder")},this.setting&&this.setting.isGranular&&(this.isGranular=null!==this.setting.isOverridden&&this.setting.isOverridden?this.hasAllowedSecurityGroups(this.setting.allowedSecurityGroups)||this.hasDeniedSecurityGroups(this.setting.deniedSecurityGroups):this.hasAllowedSecurityGroups(this.setting.upperLevelSelection.allowedSecurityGroups)||this.hasDeniedSecurityGroups(this.setting.upperLevelSelection.deniedSecurityGroups))},i.prototype.confirmScope=function(){var r,n;return(0,N.mG)(this,void 0,void 0,function(){var t;return(0,N.Jh)(this,function(a){switch(a.label){case 0:return void 0===this.setting?[3,2]:(t=this.createUpdateContract(this.setting),[4,this.workspaceSettingsService.updateDelegatedSetting(t)]);case 1:a.sent()?(this.setting.isOverridden=!0,this.setting.isEnabled=!0,this.isGranular?(this.setting.allowedSecurityGroups=this.parseSecurityGroupsToTSSecurityGroup(null===(r=this.allowedSecurityGroupsContext)||void 0===r?void 0:r.identities),this.setting.deniedSecurityGroups=this.parseSecurityGroupsToTSSecurityGroup(null===(n=this.deniedSecurityGroupsContext)||void 0===n?void 0:n.identities)):(this.setting.allowedSecurityGroups=[],this.setting.deniedSecurityGroups=[]),this.closeScopeEditEmitter.emit(!1)):this.errorService.error(this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave"),this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave")),a.label=2;case 2:return[2]}})})},i.prototype.onApplyToAll=function(r){r&&(this.isGranular=!1)},i.prototype.onApplyToSpecificSG=function(r){r&&(this.isGranular=!0)},i.prototype.cancelScope=function(){void 0!==this.setting&&this.closeScopeEditEmitter.emit(!0)},i.prototype.verifyDuplicatedGroups=function(r,n){if(void 0!==r&&void 0!==n&&r.length>0&&n.length>0)for(var t=0,o=r;t<o.length;t++)for(var a=o[t],l=0,v=n;l<v.length;l++){var f=v[l];if(a.displayName===f.displayName&&a.objectId===f.objectId)return!0}return!1},i.prototype.createUpdateContract=function(r){var n,t;return this.isGranular?{featureSwitches:[{switchId:-1,switchName:r.switchName,isEnabled:!0,isGranular:r.isGranular,allowedSecurityGroups:this.parseSecurityGroupsToTSSecurityGroup(null===(n=this.allowedSecurityGroupsContext)||void 0===n?void 0:n.identities),deniedSecurityGroups:this.parseSecurityGroupsToTSSecurityGroup(null===(t=this.deniedSecurityGroupsContext)||void 0===t?void 0:t.identities)}],properties:[]}:{featureSwitches:[{switchId:-1,switchName:r.switchName,isEnabled:!0,isGranular:r.isGranular,allowedSecurityGroups:[],deniedSecurityGroups:[]}],properties:[]}},i.prototype.parseSecurityGroupsToUserMetadata=function(r){var n=[];if(void 0!==r&&r.length>0)for(var t=0,o=r;t<o.length;t++){var a=o[t];n.push({displayName:a.name,objectId:a.id,userPrincipalName:"",isSecurityGroup:!0,objectType:2})}return n},i.prototype.parseSecurityGroupsToTSSecurityGroup=function(r){var n=[];if(void 0!==r&&r.length>0)for(var t=0,o=r;t<o.length;t++){var a=o[t];a.objectId&&n.push(a.emailAddress||a.userPrincipalName?{id:a.objectId,name:a.displayName,emailAddress:a.emailAddress?a.emailAddress:a.userPrincipalName,isEmailEnabled:!0}:{id:a.objectId,name:a.displayName,isEmailEnabled:!1})}return n},i.prototype.hasAllowedSecurityGroups=function(r){return!!r&&r.length>0},i.prototype.hasDeniedSecurityGroups=function(r){return!!r&&r.length>0},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(Zn.g),e.\u0275\u0275directiveInject(xe.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-delegated-workspace-settings-scope"]],inputs:{setting:"setting",userPicker:"userPicker"},outputs:{closeScopeEditEmitter:"closeScopeEditEmitter"},decls:27,vars:23,consts:[[1,"settingTitle"],[1,"scopeDescription"],[1,"applyToScope",3,"for"],[3,"id"],["type","radio",1,"radio-button-input",3,"checked","change"],["type","radio","class","radio-button-input",3,"checked","change",4,"ngIf"],[4,"ngIf"],[1,"footer-button-container"],["tri-button","","appearance","primary",1,"footer-button",3,"disabled","click"],["tri-button","",1,"footer-button",3,"click"],["inputUserPicker",""],[1,"delegated-scope-input-container","tri-flex","tri-flex-col","tri-relative"],["id","allowed-security-group-list-label",1,"emailList"],[1,"tri-flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","denied-security-group-list-setting-label",1,"emailList"],["aria-labelledby","workspace-contact-list-setting-label",1,"tri-flex-grow","contact-list",3,"placeholder","value"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"section")(1,"label",0),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",1),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"section")(7,"label",2),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"tri-radio-group",3)(11,"tri-radio-button",4),e.\u0275\u0275listener("change",function(a){return t.onApplyToAll(a)}),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,pg,3,4,"tri-radio-button",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(15,gg,10,13,"section",6),e.\u0275\u0275template(16,_g,10,13,"section",6),e.\u0275\u0275elementStart(17,"section")(18,"div",7)(19,"button",8),e.\u0275\u0275listener("click",function(){return t.confirmScope()}),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"button",9),e.\u0275\u0275listener("click",function(){return t.cancelScope()}),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(25,hg,1,3,"ng-template",null,10,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t.setting?null:t.setting.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,13,"WorkspaceDelegatedSettings_ScopeDescription")),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate1("for","applyTo_",null==t.setting?null:t.setting.switchName,""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,15,"ConditionalFormattingDialog_TotalMatching_Label")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("id","applyTo_",null==t.setting?null:t.setting.switchName,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",!t.isGranular),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,17,"WorkspaceDelegatedSettings_ApplyToEntireWorkspace")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==t.setting?null:t.setting.isGranular),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isGranular),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isGranular),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",t.duplicatedGroupInAllowedSG||t.duplicatedGroupInDeniedSG),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(21,19,"Confirm")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(24,21,"Cancel_ButtonText")))},dependencies:[g.NgIf,g.NgTemplateOutlet,E.Y,B.Z,k.Y],styles:["[_nghost-%COMP%]{width:100%;max-width:580px;position:relative;flex-grow:1}[_nghost-%COMP%]   .delegated-scope-input-container[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .delegated-scope-input-container[_ngcontent-%COMP%]     .mat-form-field.emails-list{border-radius:4px;outline:none;border:1px solid var(--colorNeutralStroke1)}[_nghost-%COMP%]   .delegated-scope-input-container[_ngcontent-%COMP%]     emails-list-modern{flex-grow:1}[_nghost-%COMP%]   .delegated-scope-input-container[_ngcontent-%COMP%]     input, [_nghost-%COMP%]   .delegated-scope-input-container[_ngcontent-%COMP%]     .chip-list{padding:6px 10px}[_nghost-%COMP%]   .settingTitle[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size);line-height:18px}[_nghost-%COMP%]   .scopeDescription[_ngcontent-%COMP%]{font-family:var(--fontFamilyBase);font-size:13px;line-height:18px;margin-top:8px;margin-bottom:8px}[_nghost-%COMP%]   .applyToScope[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size);line-height:26px}[_nghost-%COMP%]   .radio-button-input[_ngcontent-%COMP%]{height:20px;width:20px;margin-top:0}[_nghost-%COMP%]   .radio-label[_ngcontent-%COMP%]{font-weight:400;margin-bottom:0;margin-inline-start:9px;-webkit-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .emailList[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size);line-height:26px}[_nghost-%COMP%]   .emailList-footer[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]   .emailList-footer-error[_ngcontent-%COMP%]{font-size:12px;color:var(--fluent-theme-error-dark-color)}[_nghost-%COMP%]   .footer-button-container[_ngcontent-%COMP%]{float:right;margin-top:30px}[_nghost-%COMP%]   .footer-button[_ngcontent-%COMP%]{margin-inline-end:8px}"],changeDetection:0}),i}();function Cg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-delegated-workspace-settings",2),e.\u0275\u0275listener("editSettingEmitter",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onEditSetting(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("setting",t)}}function Sg(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section"),e.\u0275\u0275template(1,Cg,2,1,"ng-container",1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.selectedGroup.settings)}}function yg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section")(1,"tri-delegated-workspace-settings-scope",3),e.\u0275\u0275listener("closeScopeEditEmitter",function(a){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onCloseScope(a))}),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("userPicker",t.userPicker)("setting",t.selectedSetting)}}function bg(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"h3"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Sg,2,1,"section",0),e.\u0275\u0275template(5,yg,2,2,"section",0),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.inEditSettingScope?e.\u0275\u0275pipeBind1(3,3,"WorkspaceDelegatedSettings_ScopeConfirm"):n.selectedGroup.title),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.inEditSettingScope),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.inEditSettingScope)}}var wg=function(){function i(r){this.workspaceSettingsService=r,this.delegatedSettingsSubscription=void 0,this.delegatedSettings$=this.workspaceSettingsService.delegatedSettings$,this.selectedGroup=void 0,this.selectedSetting=void 0,this.inEditSettingScope=!1}return i.prototype.ngOnChanges=function(){var r=this;this.delegatedSettingsSubscription=this.delegatedSettings$.subscribe(function(n){var t;null===(t=n?.groups)||void 0===t||t.forEach(function(o){o.name===r.selectedTab&&(r.selectedGroup=o,r.inEditSettingScope=!1,r.selectedSetting=void 0)})})},i.prototype.ngOnDestroy=function(){var r;null===(r=this.delegatedSettingsSubscription)||void 0===r||r.unsubscribe()},i.prototype.onEditSetting=function(r){this.selectedSetting=r,this.inEditSettingScope=!0},i.prototype.onCloseScope=function(r){r&&(this.selectedSetting=void 0),this.inEditSettingScope=!1},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-delegated-workspace-settings-group"]],inputs:{selectedTab:"selectedTab",userPicker:"userPicker"},features:[e.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"setting","editSettingEmitter"],[3,"userPicker","setting","closeScopeEditEmitter"]],template:function(n,t){1&n&&e.\u0275\u0275template(0,bg,6,5,"div",0),2&n&&e.\u0275\u0275property("ngIf",!!t.selectedGroup)},dependencies:[g.NgForOf,g.NgIf,dg,fg,k.Y],styles:["[_nghost-%COMP%]{width:100%;max-width:580px;position:relative;flex-grow:1}"],changeDetection:0}),i}();function kg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-universal-workspace-settings",1),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onCloseSettings())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("selectedGroup",t.selectedUniversalSettingKey)("userPicker",t.userPicker)}}function Ig(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-powerbi-workspace-settings",2),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("selectedTab",n.selectedPBISettingKey)}}function xg(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-delegated-workspace-settings-group",3),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("selectedTab",n.selectedDelegatedSettingKey)("userPicker",n.userPicker)}}var Mg=function(){function i(r,n){this.workspaceSettingsService=r,this.changeDetectorRef=n,this.selectedUniversalSettingKey=void 0,this.selectedPBISettingKey=void 0,this.selectedDelegatedSettingKey=void 0,this.workspaceObjectId="",this.closeSettings=new e.EventEmitter}return i.prototype.ngOnChanges=function(r){var n,t;!(null===(n=r?.workspaceObjectId)||void 0===n)&&n.currentValue&&(null===(t=r.workspaceObjectId)||void 0===t?void 0:t.previousValue)!==r.workspaceObjectId.currentValue&&this.workspaceSettingsService.initializeWorkspace(r.workspaceObjectId.currentValue),this.changeDetectorRef.detectChanges()},i.prototype.onCloseSettings=function(){this.closeSettings.emit()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject($e.X),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-shell-settings-view"]],inputs:{selectedUniversalSettingKey:"selectedUniversalSettingKey",selectedPBISettingKey:"selectedPBISettingKey",selectedDelegatedSettingKey:"selectedDelegatedSettingKey",workspaceObjectId:"workspaceObjectId",userPicker:"userPicker"},outputs:{closeSettings:"closeSettings"},features:[e.\u0275\u0275NgOnChangesFeature],decls:3,vars:3,consts:[[4,"ngIf"],[3,"selectedGroup","userPicker","closeSettings"],[3,"selectedTab"],[3,"selectedTab","userPicker"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,kg,2,2,"ng-container",0),e.\u0275\u0275template(1,Ig,2,1,"ng-container",0),e.\u0275\u0275template(2,xg,2,2,"ng-container",0)),2&n&&(e.\u0275\u0275property("ngIf",!!t.selectedUniversalSettingKey),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!t.selectedPBISettingKey),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!t.selectedDelegatedSettingKey))},dependencies:[g.NgIf,Lu,ig,wg],styles:["[_nghost-%COMP%]{display:flex;width:100%}  .scroller{width:100%;overflow-x:auto;padding-right:32px}  .manageEmbedTrident{overflow:inherit;min-width:700px!important}@media screen and (max-width: 950px){  .manageEmbedTrident{min-width:calc(100% - 20px)!important}}  .fogofscroll{position:absolute;width:48px;height:100%;top:0;right:0;pointer-events:none;padding-bottom:24px;z-index:500}  .fogofscroll .fog{height:100%;width:100%;background:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgb(255,255,255) 79%,rgb(255,255,255) 100%)}[_nghost-%COMP%]     .tab-title{margin-bottom:24px;display:flex;flex-direction:column;gap:4px}[_nghost-%COMP%]     .section-container{display:flex;flex-direction:column;gap:32px}[_nghost-%COMP%]     .section-title{margin-bottom:16px;display:flex;flex-direction:column;gap:4px}[_nghost-%COMP%]     .required-star{color:var(--globalColorRedShade10)}[_nghost-%COMP%]     .inline-autosave-spinner{margin-left:16px}[_nghost-%COMP%]     .configuration-container{padding:8px;border-radius:4px;border:1px solid var(--colorNeutralStroke2)}[_nghost-%COMP%]     .configuration-container .anchor-icon{display:flex;margin-right:8px;fill:var(--tridentColor80)}[_nghost-%COMP%]     .configuration-container .container-right-part{overflow:hidden}[_nghost-%COMP%]     .configuration-container .title{margin-bottom:3px}[_nghost-%COMP%]     .configuration-container .summary-title{display:flex;justify-content:space-between}[_nghost-%COMP%]     .configuration-container .content{margin:8px 8px 8px 0;display:flex;flex-direction:column;gap:16px}[_nghost-%COMP%]     .configuration-container .footer{padding:8px 0;margin-top:10px;gap:8px;display:flex}"],changeDetection:0}),i}()},57746:function(tt,ke,u){u.d(ke,{d:function(){return V},t:function(){return e}});var X,M,g=u(90341),p=u(50423),oe=u(4437),C=u(48138),V=function(){function Z(){this._vertical=!1,this._inset=!1}return(0,g.Z)(Z,[{key:"vertical",get:function(){return this._vertical},set:function(w){this._vertical=(0,oe.Ig)(w)}},{key:"inset",get:function(){return this._inset},set:function(w){this._inset=(0,oe.Ig)(w)}}]),Z}();(X=V).\u0275fac=function(H){return new(H||X)},X.\u0275cmp=p.\u0275\u0275defineComponent({type:X,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(H,w){2&H&&(p.\u0275\u0275attribute("aria-orientation",w.vertical?"vertical":"horizontal"),p.\u0275\u0275classProp("mat-divider-vertical",w.vertical)("mat-divider-horizontal",!w.vertical)("mat-divider-inset",w.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(H,w){},styles:[".mat-divider{--mat-divider-width:1px;display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0});var e=function(){};(M=e).\u0275fac=function(H){return new(H||M)},M.\u0275mod=p.\u0275\u0275defineNgModule({type:M}),M.\u0275inj=p.\u0275\u0275defineInjector({imports:[C.BQ,C.BQ]})}}]);