"use strict";(self.webpackChunkreportServerHostModern=self.webpackChunkreportServerHostModern||[]).push([["extension-host-user"],{1424:function(C,h,r){r.r(h),r.d(h,{ExtensionHostUserModule:function(){return M}});var H=r(77476),l=r(60756),f=r(81337),y=r(59017),v=r(11547),m=r(14172),U=r(59822),S=r(48787),i=r(73471),T=r(60397),j=r(17899),n=r(50423),p=new n.InjectionToken("UserProfileService"),P=new n.InjectionToken("UserDirectorytHttpService"),E=r(79226),g=function(){function e(t,s,A,I,D){var a=this;this.actions$=t,this.messageBroker=s,this.userProfileService=A,this.userDirectoryHttpService=I,this.userInfo=D,this.onGetUserProfileReceived$=(0,j.Av)(this.actions$,this.messageBroker,i.Vm.getUserProfile,function(u){var d=u.shouldRunTenantAdminCheck;return(0,y.aj)([a.userProfileService.acquireUserProfile(),d?a.isTenantAdmin():(0,v.of)(void 0)]).pipe((0,m.U)(function(o){var V=o[1];return i.Vm.getUserProfile.resolve((0,f.pi)((0,f.pi)({},o[0]),{isTenantAdmin:V}))}),(0,U.K)(function(o){return(0,v.of)(i.Vm.getUserProfile.reject({error:o}))}))}),this.onFindUsersReceived$=(0,j.Av)(this.actions$,this.messageBroker,i.Vm.findUsers,function(u){return a.userDirectoryHttpService.findUsers(u.prefix,u.objectType,10,!0,!0).pipe((0,S.q)(1),(0,m.U)(function(c){return i.Vm.findUsers.resolve(c.data)}),(0,U.K)(function(c){return(0,v.of)(i.Vm.findUsers.reject({error:(0,f.pi)((0,f.pi)({},c),{headers:void 0})}))}))})}return e.prototype.isTenantAdmin=function(){var t=this;return this.userInfo.userMetadataPromise.then(function(){return t.userInfo.isTenantAdmin})},e.\u0275fac=function(s){return new(s||e)(n.\u0275\u0275inject(l.eX),n.\u0275\u0275inject(T.u),n.\u0275\u0275inject(p),n.\u0275\u0275inject(P),n.\u0275\u0275inject(E.M))},e.\u0275prov=n.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),M=function(){function e(){}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=n.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=n.\u0275\u0275defineInjector({imports:[H.CommonModule,l.sQ.forFeature([g])]}),e}()}}]);