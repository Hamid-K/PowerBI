"use strict";

(self.webpackChunkdesktop = self.webpackChunkdesktop || []).push([ [ "kpiStatusWithHistory" ], {
    3352: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__), __webpack_require__.d(__webpack_exports__, {
            KPIStatusWithHistory: function() {
                return KPIStatusWithHistory;
            }
        });
        var tslib__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(81337), _Visuals_capabilities_dataViewObjectProperties__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(14599), _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(47895), _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(90120), _Visuals_common_dataLabelViewModel1__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(21181), _Visuals_common_consts_dataLabelViewModel1Consts__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(56707), _Visuals_common_fontProperties__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(18664), _Visuals_common_units__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(32105), _Visuals_common_visualLocKeys__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(33024), _Visuals_types_verticalPosition__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(18765), _Visuals_types_horizontalPosition__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(92374), _Visuals_types_kpi_direction_type__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(44027), _Visuals_types_kpiDistanceDirection__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(97878), _Visuals_types_kpiDistanceLabel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(20486), _Visuals_warnings_visualWarnings__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(45296), _VisualsCommon_colorHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(44783), _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(79154), _VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(62458), _VisualsCommon_fontUtils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(38265), _VisualsCommon_services_textMeasurementService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(32041), _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(56578), _VisualsCommon_Utility_StandaloneUtility1__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(64329), _VisualsData_contracts_visualData__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(58098), _VisualsData_dataView_dataRoleHelper__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(38958), _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(82755), _VisualsData_formatting_valueFormatter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(72489), kpiRootElementClass = (0, 
        _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.CH)("kpiVisual"), kpiGraphicsContextClass = (0, 
        _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.CH)("kpiGraphicsContext"), KPIStatusWithHistory = function() {
            function KPIStatusWithHistory(options) {
                options && (this.interactivityEnabled = options.interactivityEnabled);
            }
            return KPIStatusWithHistory.prototype.init = function(options) {
                this.host = options.host, this.style = options.style, KPIStatusWithHistory.getLocalizedString = options.host.getLocalizedString.bind(options.host), 
                this.rootElement = d3.select(options.element.get(0)).append("div").classed(kpiRootElementClass.class, !0), 
                this.svg = this.rootElement.append("svg").classed(kpiGraphicsContextClass.class, !0), 
                this.interactivityEnabled && this.svg.attr("tabindex", 0).attr("focusable", !0);
                var mainGroupElement = this.svg.append("g");
                this.areaFill = mainGroupElement.append("path"), this.lastTrendAxisPointSummaryContainer = this.rootElement.append("div").classed("lastTrendAxisPointSummaryContainer", !0), 
                this.indicatorContainer = this.lastTrendAxisPointSummaryContainer.append("div").classed("indicatorContainer", !0), 
                this.indicatorText = this.indicatorContainer.append("div").classed("indicatorText", !0), 
                this.indicatorIcon = this.indicatorContainer.append("div").classed("powervisuals-glyph", !0), 
                this.goalText = this.lastTrendAxisPointSummaryContainer.append("div").classed("goalText", !0).style("color", _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.getThemeColor(this.style, _VisualsCommon_colorHelper__WEBPACK_IMPORTED_MODULE_2__.fA)), 
                this.distanceText = this.lastTrendAxisPointSummaryContainer.append("div").classed("distanceText", !0), 
                this.lastDateText = this.lastTrendAxisPointSummaryContainer.append("div").classed("lastDateText", !0), 
                KPIStatusWithHistory.initDefaultLabelSettings(this.style);
            }, KPIStatusWithHistory.prototype.update = function(options) {
                if (options.dataViews && options.dataViews[0]) {
                    var dataView = this.dataView = options.dataViews[0], viewport = options.viewport;
                    if ((!dataView.categorical || !dataView.categorical.values || dataView.categorical.values.length < 1) && (!dataView.categorical || !dataView.categorical.categories || dataView.categorical.categories.length < 1)) return this.svg.attr("visibility", "hidden"), 
                    void this.lastTrendAxisPointSummaryContainer.attr("style", "display:none");
                    this.svg.attr("visibility", "visible");
                    var kpiViewModel = KPIStatusWithHistory.converter(dataView, viewport, KPIStatusWithHistory.getPropKPIDirection(dataView), this.style, this.host);
                    if (this.hasGoal = !_.isEmpty(kpiViewModel.goals), this.interactivityEnabled) {
                        var conditionalGoalString = "" === kpiViewModel.formattedGoalString ? "" : " ".concat(kpiViewModel.formattedGoalString, "."), formattedAriaLabel = "".concat(KPIStatusWithHistory.getLocalizedString("KpiValueFieldListDisplayName"), " ").concat(kpiViewModel.formattedValue, ".").concat(conditionalGoalString);
                        this.svg.attr("aria-label", formattedAriaLabel);
                    }
                    this.render(kpiViewModel, viewport);
                }
            }, KPIStatusWithHistory.calculateHeight = function(kpiViewModel, actualText, goalText, distanceText, maxWidth, indicatorFontFamily, goalFontFamily, distanceFontFamily, lastDateFontFamily, showLastDate, indicatorIconHexCode) {
                var indicatorFontSizeInPx = _VisualsCommon_Utility_StandaloneUtility1__WEBPACK_IMPORTED_MODULE_3__.FP.fromPoint(kpiViewModel.indicatorFont.size.pt), calculatedHeight = _VisualsCommon_services_textMeasurementService__WEBPACK_IMPORTED_MODULE_4__.b.measureSvgTextHeight({
                    fontFamily: indicatorFontFamily,
                    fontSize: indicatorFontSizeInPx
                }, actualText);
                if (kpiViewModel.indicatorIconShowIcon && indicatorIconHexCode) {
                    var indicatorIconSizeInPx = _VisualsCommon_Utility_StandaloneUtility1__WEBPACK_IMPORTED_MODULE_3__.FP.fromPoint(kpiViewModel.indicatorIconSize), iconCalculatedHeight = _VisualsCommon_services_textMeasurementService__WEBPACK_IMPORTED_MODULE_4__.b.measureSvgGlyphHeight(indicatorIconSizeInPx, "powervisuals-glyph", indicatorIconHexCode);
                    calculatedHeight = Math.max(calculatedHeight, iconCalculatedHeight);
                }
                var distanceHeight = 0, distanceFontSizeInPx = _VisualsCommon_Utility_StandaloneUtility1__WEBPACK_IMPORTED_MODULE_3__.FP.fromPoint(kpiViewModel.distanceFont.size.pt);
                kpiViewModel.showDistanceFromGoal && (distanceHeight = _VisualsCommon_services_textMeasurementService__WEBPACK_IMPORTED_MODULE_4__.b.measureSvgTextHeight({
                    fontFamily: distanceFontFamily,
                    fontSize: distanceFontSizeInPx
                }, distanceText));
                var goalHeight = 0, goalFontSizeInPx = _VisualsCommon_Utility_StandaloneUtility1__WEBPACK_IMPORTED_MODULE_3__.FP.fromPoint(kpiViewModel.goalFont.size.pt);
                if (kpiViewModel.showGoal && (goalHeight = _VisualsCommon_services_textMeasurementService__WEBPACK_IMPORTED_MODULE_4__.b.measureSvgTextHeight({
                    fontFamily: goalFontFamily,
                    fontSize: goalFontSizeInPx
                }, goalText)), showLastDate) {
                    var lastDateFontSizeInPx = _VisualsCommon_Utility_StandaloneUtility1__WEBPACK_IMPORTED_MODULE_3__.FP.fromPoint(kpiViewModel.lastDateFont.size.pt);
                    calculatedHeight += _VisualsCommon_services_textMeasurementService__WEBPACK_IMPORTED_MODULE_4__.b.measureSvgTextHeight({
                        fontFamily: lastDateFontFamily,
                        fontSize: lastDateFontSizeInPx
                    }, kpiViewModel.lastDateValue);
                }
                return kpiViewModel.showGoal && kpiViewModel.showDistanceFromGoal ? _VisualsCommon_services_textMeasurementService__WEBPACK_IMPORTED_MODULE_4__.b.measureSvgTextWidth({
                    fontFamily: goalFontFamily,
                    fontSize: goalFontSizeInPx
                }, goalText) + _VisualsCommon_services_textMeasurementService__WEBPACK_IMPORTED_MODULE_4__.b.measureSvgTextWidth({
                    fontFamily: distanceFontFamily,
                    fontSize: distanceFontSizeInPx
                }, distanceText) > maxWidth ? calculatedHeight = calculatedHeight + distanceHeight + goalHeight : calculatedHeight += goalHeight > distanceHeight ? goalHeight : distanceHeight : (kpiViewModel.showGoal && (calculatedHeight += goalHeight), 
                kpiViewModel.showDistanceFromGoal && (calculatedHeight += distanceHeight)), calculatedHeight;
            }, KPIStatusWithHistory.prototype.render = function(kpiViewModel, viewport) {
                if (this.setShowDataMissingWarning(!(kpiViewModel.indicatorExists && kpiViewModel.trendExists)), 
                0 === kpiViewModel.dataPoints.length || !kpiViewModel.indicatorExists || !kpiViewModel.trendExists) return this.areaFill.attr("visibility", "hidden"), 
                this.svg.attr("visibility", "hidden"), void this.lastTrendAxisPointSummaryContainer.attr("style", "display:none");
                this.svg.attr("height", viewport.height).attr("width", viewport.width);
                var status = KPIStatusWithHistory.status.NOGOAL, statusTextStringId = null;
                kpiViewModel.targetExists && kpiViewModel.indicatorExists && kpiViewModel.trendExists && (status = getStatus(kpiViewModel.actual, kpiViewModel.goals, kpiViewModel.directionType));
                for (var indicatorIconHexCode, actualText = kpiViewModel.formattedValue, showLastDate = kpiViewModel.showLastDate, shownGoalString = kpiViewModel.showGoal ? kpiViewModel.formattedGoalString + " " : "", shownDistanceFromGoalString = kpiViewModel.showDistanceFromGoal ? kpiViewModel.formattedDistanceString : "", _i = 0, _a = KPIStatusWithHistory.indicatorIconContent; _i < _a.length; _i++) if (status === (content = _a[_i]).status) {
                    indicatorIconHexCode = content.hexCode, statusTextStringId = content.textId;
                    break;
                }
                var textColor, calculatedHeight = KPIStatusWithHistory.calculateHeight(kpiViewModel, actualText, shownGoalString, shownDistanceFromGoalString, viewport.width, kpiViewModel.indicatorFont.family, kpiViewModel.goalFont.family, kpiViewModel.distanceFont.family, kpiViewModel.lastDateFont.family, showLastDate, indicatorIconHexCode), containerCSS = "", indicatorContainerCSS = "";
                if (kpiViewModel.horizontalAlignment === _Visuals_types_horizontalPosition__WEBPACK_IMPORTED_MODULE_5__.D.center && (containerCSS += "width: " + viewport.width + "px; text-align: center;", 
                indicatorContainerCSS += "justify-content: center"), kpiViewModel.horizontalAlignment === _Visuals_types_horizontalPosition__WEBPACK_IMPORTED_MODULE_5__.D.left && (containerCSS += "left: 8px; text-align: left;", 
                indicatorContainerCSS += "justify-content: flex-start"), kpiViewModel.horizontalAlignment === _Visuals_types_horizontalPosition__WEBPACK_IMPORTED_MODULE_5__.D.right && (containerCSS += "right: 5px; text-align: right;", 
                indicatorContainerCSS += "justify-content: flex-end"), kpiViewModel.verticalAlignment === _Visuals_types_verticalPosition__WEBPACK_IMPORTED_MODULE_6__.Q4.middle && (containerCSS += "top:" + (viewport.height - calculatedHeight) / 2 + "px"), 
                kpiViewModel.verticalAlignment === _Visuals_types_verticalPosition__WEBPACK_IMPORTED_MODULE_6__.Q4.top && (containerCSS += "top: 5px;"), 
                kpiViewModel.verticalAlignment === _Visuals_types_verticalPosition__WEBPACK_IMPORTED_MODULE_6__.Q4.bottom && (containerCSS += "bottom: 5px;"), 
                this.lastTrendAxisPointSummaryContainer.attr("style", containerCSS), this.indicatorContainer.attr("style", indicatorContainerCSS), 
                textColor = status === KPIStatusWithHistory.status.NOGOAL ? kpiViewModel.indicatorFont.color : getTextColorByStatus(status, kpiViewModel.colors), 
                this.indicatorText.styles((0, _Visuals_common_fontProperties__WEBPACK_IMPORTED_MODULE_7__.wB)(kpiViewModel.indicatorFont)).text(actualText), 
                this.indicatorText.style("color", textColor), kpiViewModel.indicatorIconShowIcon && !this.indicatorIcon ? this.indicatorIcon = this.indicatorContainer.append("div").classed("powervisuals-glyph", !0) : !kpiViewModel.indicatorIconShowIcon && this.indicatorIcon && (this.indicatorIcon.remove(), 
                this.indicatorIcon = null), this.indicatorIcon) {
                    for (var _b = 0, _c = KPIStatusWithHistory.indicatorIconContent; _b < _c.length; _b++) {
                        var content;
                        this.indicatorIcon.classed((content = _c[_b]).class, status === content.status);
                    }
                    this.indicatorIcon.styles((0, _Visuals_common_fontProperties__WEBPACK_IMPORTED_MODULE_7__.wB)({
                        size: _Visuals_common_units__WEBPACK_IMPORTED_MODULE_8__.B.createFromPt(kpiViewModel.indicatorIconSize)
                    })), this.indicatorIcon.style("color", textColor), status !== KPIStatusWithHistory.status.NOGOAL && this.indicatorIcon.attr("role", "img").attr("aria-label", KPIStatusWithHistory.getLocalizedString(statusTextStringId));
                }
                this.goalText.styles((0, _Visuals_common_fontProperties__WEBPACK_IMPORTED_MODULE_7__.wB)(kpiViewModel.goalFont)).text(shownGoalString), 
                this.distanceText.styles((0, _Visuals_common_fontProperties__WEBPACK_IMPORTED_MODULE_7__.wB)(kpiViewModel.distanceFont)).text(" " + shownDistanceFromGoalString);
                var lastDateText = "";
                if (kpiViewModel.showLastDate && (lastDateText = kpiViewModel.lastDateValue), this.lastDateText.styles((0, 
                _Visuals_common_fontProperties__WEBPACK_IMPORTED_MODULE_7__.wB)(kpiViewModel.lastDateFont)).text(lastDateText), 
                kpiViewModel.showTrendLine && kpiViewModel.historyExists) {
                    var area = d3.area().x(function(d) {
                        return d.x;
                    }).y0(viewport.height).y1(function(d) {
                        return d.y;
                    }), graphColor = getGraphColorByStatus(status, kpiViewModel.colors);
                    this.areaFill.attr("d", area(kpiViewModel.dataPoints)).attr("stroke", "none").attr("visibility", "visible").attr("fill-opacity", kpiViewModel.indicatorTransparency / 100).style("color", graphColor).style("fill", graphColor);
                } else this.areaFill.attr("visibility", "hidden");
            }, KPIStatusWithHistory.prototype.setShowDataMissingWarning = function(show) {
                this.host.setWarnings(show ? [ new _Visuals_warnings_visualWarnings__WEBPACK_IMPORTED_MODULE_9__.EY ] : []);
            }, KPIStatusWithHistory.getDefaultFormatSettings = function(style) {
                var defaultIndicatorSettings = (0, _Visuals_common_dataLabelViewModel1__WEBPACK_IMPORTED_MODULE_10__.bT)({
                    show: !0,
                    fontSize: 45,
                    labelColor: _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.getThemeColor(style, "foregroundNeutralDark"),
                    fontFamily: _VisualsCommon_fontUtils__WEBPACK_IMPORTED_MODULE_11__.Wn.lightSecondary.family,
                    style,
                    textClassName: "callout",
                    bold: "normal",
                    italic: "normal",
                    underline: "none"
                }), defaultGoalDistanceSettings = (0, _Visuals_common_dataLabelViewModel1__WEBPACK_IMPORTED_MODULE_10__.bT)({
                    show: !0,
                    fontSize: 8,
                    labelColor: _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.getThemeColor(style, "foreground"),
                    fontFamily: _VisualsCommon_fontUtils__WEBPACK_IMPORTED_MODULE_11__.Wn.semibold.family,
                    style,
                    textClassName: "largeLabel"
                }), defaultLastDateSettings = (0, _Visuals_common_dataLabelViewModel1__WEBPACK_IMPORTED_MODULE_10__.bT)({
                    show: !0,
                    fontSize: 9,
                    labelColor: _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.getThemeColor(style, "foreground"),
                    fontFamily: _VisualsCommon_fontUtils__WEBPACK_IMPORTED_MODULE_11__.Wn.regular.family,
                    style,
                    textClassName: "smallLabel"
                }), goalFontDefaults = {
                    family: defaultGoalDistanceSettings.fontProperties.family,
                    size: defaultGoalDistanceSettings.fontProperties.size,
                    color: defaultGoalDistanceSettings.fontProperties.color,
                    weight: _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.AI,
                    style: _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.AI,
                    textDecoration: _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.zu
                }, distanceFontDefaults = {
                    family: defaultGoalDistanceSettings.fontProperties.family,
                    size: defaultGoalDistanceSettings.fontProperties.size,
                    color: defaultGoalDistanceSettings.fontProperties.color,
                    weight: _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.AI,
                    style: _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.AI,
                    textDecoration: _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.zu
                }, lastDateFontDefaults = {
                    family: defaultLastDateSettings.fontProperties.family,
                    size: defaultLastDateSettings.fontProperties.size,
                    color: defaultLastDateSettings.fontProperties.color,
                    weight: _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.AI,
                    style: _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.AI,
                    textDecoration: _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.zu
                };
                return {
                    labelSettings: defaultIndicatorSettings,
                    indicatorIconSize: _Visuals_common_units__WEBPACK_IMPORTED_MODULE_8__.B.createFromPx(12).pt,
                    indicatorIconShowIcon: !0,
                    indicatorTransparency: 20,
                    goalFont: goalFontDefaults,
                    distanceLabel: _Visuals_types_kpiDistanceLabel__WEBPACK_IMPORTED_MODULE_12__.aQ,
                    distancePrecision: 2,
                    distanceFont: distanceFontDefaults,
                    lastDateFont: lastDateFontDefaults,
                    wordWrap: !1,
                    horizontalAlignment: "center",
                    verticalAlignment: "middle",
                    bold: !1,
                    italic: !1,
                    underline: !1
                };
            }, KPIStatusWithHistory.getFormatString = function(column) {
                return _VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_13__.fF.assertAnyValue(column, "column"), 
                (0, _VisualsData_formatting_valueFormatter__WEBPACK_IMPORTED_MODULE_14__.EO)(column, _Visuals_capabilities_dataViewObjectProperties__WEBPACK_IMPORTED_MODULE_15__.e0.formatString);
            }, KPIStatusWithHistory.getPropShowKPIGoal = function(dataView) {
                return !dataView || !dataView.metadata || (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.showKPIGoal, !0);
            }, KPIStatusWithHistory.getPropShowKPITrendLine = function(dataView) {
                return !dataView || !dataView.metadata || (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.showKPITrendLine, !0);
            }, KPIStatusWithHistory.getPropShowKPILastDate = function(dataView) {
                return !(!dataView || !dataView.metadata) && (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.showKPILastDate, !1);
            }, KPIStatusWithHistory.getPropShowKPIDistance = function(dataView) {
                return !dataView || !dataView.metadata || (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.showKPIDistance, !0);
            }, KPIStatusWithHistory.getPropKPIDirection = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.directionTypeStringProp, _Visuals_types_kpi_direction_type__WEBPACK_IMPORTED_MODULE_18__.i1) : _Visuals_types_kpi_direction_type__WEBPACK_IMPORTED_MODULE_18__.i1;
            }, KPIStatusWithHistory.getPropGoodColor = function(dataView, style) {
                var goodSentimentColor = _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.getSentimentColor(style, "good", _VisualsCommon_colorHelper__WEBPACK_IMPORTED_MODULE_2__.fA);
                return dataView && dataView.metadata ? _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.create(style).getColorForPropertyWithDefaultColor(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.goodColorProp, goodSentimentColor) : goodSentimentColor;
            }, KPIStatusWithHistory.getPropNeutralColor = function(dataView, style) {
                var neutralSentimentColor = _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.getSentimentColor(style, "neutral", _VisualsCommon_colorHelper__WEBPACK_IMPORTED_MODULE_2__.fA);
                return dataView && dataView.metadata ? _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.create(style).getColorForPropertyWithDefaultColor(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.neutralColorProp, neutralSentimentColor) : neutralSentimentColor;
            }, KPIStatusWithHistory.getPropBadColor = function(dataView, style) {
                var badSentimentColor = _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.getSentimentColor(style, "bad", _VisualsCommon_colorHelper__WEBPACK_IMPORTED_MODULE_2__.fA);
                return dataView && dataView.metadata ? _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.create(style).getColorForPropertyWithDefaultColor(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.badColorProp, badSentimentColor) : badSentimentColor;
            }, KPIStatusWithHistory.getPropIndicatorDisplayUnits = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.indicatorDisplayUnitsProp, KPIStatusWithHistory.defaultLabelSettings.displayUnits) : KPIStatusWithHistory.defaultLabelSettings.displayUnits;
            }, KPIStatusWithHistory.getPropIndicatorHorizontalAlignment = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.indicatorHorizontalAlignmentProp, KPIStatusWithHistory.defaultCardFormatSetting.horizontalAlignment) : KPIStatusWithHistory.defaultCardFormatSetting.horizontalAlignment;
            }, KPIStatusWithHistory.getPropIndicatorVerticalAlignment = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.indicatorVerticalAlignmentProp, KPIStatusWithHistory.defaultCardFormatSetting.verticalAlignment) : KPIStatusWithHistory.defaultCardFormatSetting.verticalAlignment;
            }, KPIStatusWithHistory.getPropIndicatorPrecision = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.indicatorPrecisionProp, KPIStatusWithHistory.defaultLabelSettings.precision) : KPIStatusWithHistory.defaultLabelSettings.precision;
            }, KPIStatusWithHistory.getPropIndicatorFontSize = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.indicatorFontSizeProp, KPIStatusWithHistory.defaultCardFormatSetting.labelSettings.fontProperties.size.pt) : KPIStatusWithHistory.defaultCardFormatSetting.labelSettings.fontProperties.size.pt;
            }, KPIStatusWithHistory.getPropIndicatorFontFamily = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.indicatorFontFamilyProp, KPIStatusWithHistory.defaultCardFormatSetting.labelSettings.fontProperties.family) : KPIStatusWithHistory.defaultCardFormatSetting.labelSettings.fontProperties.family;
            }, KPIStatusWithHistory.getPropIndicatorFontColor = function(dataView, style) {
                var defaultIndicatorColor = KPIStatusWithHistory.defaultCardFormatSetting.labelSettings.fontProperties.color;
                return dataView && dataView.metadata ? _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.create(style).getColorForPropertyWithDefaultColor(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.indicatorFontColorProp, defaultIndicatorColor) : defaultIndicatorColor;
            }, KPIStatusWithHistory.getPropIndicatorIconSize = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.indicatorIconSizeProp, KPIStatusWithHistory.defaultCardFormatSetting.indicatorIconSize) : KPIStatusWithHistory.defaultCardFormatSetting.indicatorIconSize;
            }, KPIStatusWithHistory.getPropIndicatorShowIcon = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.indicatorIconShowIconProp, !0) : KPIStatusWithHistory.defaultCardFormatSetting.indicatorIconShowIcon;
            }, KPIStatusWithHistory.getPropIndicatorTransparency = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.indicatorTransparencyProp, KPIStatusWithHistory.defaultCardFormatSetting.indicatorTransparency) : KPIStatusWithHistory.defaultCardFormatSetting.indicatorTransparency;
            }, KPIStatusWithHistory.getPropIndicatorBold = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.indicatorBoldProp, KPIStatusWithHistory.defaultCardFormatSetting.bold) : KPIStatusWithHistory.defaultCardFormatSetting.bold;
            }, KPIStatusWithHistory.getPropIndicatorItalic = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.indicatorItalicProp, KPIStatusWithHistory.defaultCardFormatSetting.italic) : KPIStatusWithHistory.defaultCardFormatSetting.italic;
            }, KPIStatusWithHistory.getPropIndicatorUnderline = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.indicatorUnderlineProp, KPIStatusWithHistory.defaultCardFormatSetting.underline) : KPIStatusWithHistory.defaultCardFormatSetting.underline;
            }, KPIStatusWithHistory.getPropGoalFontSize = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.goalFontSizeProp, KPIStatusWithHistory.defaultCardFormatSetting.goalFont.size.pt) : KPIStatusWithHistory.defaultCardFormatSetting.goalFont.size.pt;
            }, KPIStatusWithHistory.getPropGoalBold = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.goalBoldProp, KPIStatusWithHistory.defaultCardFormatSetting.bold) : KPIStatusWithHistory.defaultCardFormatSetting.bold;
            }, KPIStatusWithHistory.getPropGoalItalic = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.goalItalicProp, KPIStatusWithHistory.defaultCardFormatSetting.italic) : KPIStatusWithHistory.defaultCardFormatSetting.italic;
            }, KPIStatusWithHistory.getPropGoalUnderline = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.goalUnderlineProp, KPIStatusWithHistory.defaultCardFormatSetting.underline) : KPIStatusWithHistory.defaultCardFormatSetting.underline;
            }, KPIStatusWithHistory.getPropGoalFontFamily = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.goalFontFamilyProp, KPIStatusWithHistory.defaultCardFormatSetting.goalFont.family) : KPIStatusWithHistory.defaultCardFormatSetting.goalFont.family;
            }, KPIStatusWithHistory.getPropGoalFontColor = function(dataView, style) {
                var defaultGoalColor = KPIStatusWithHistory.defaultCardFormatSetting.goalFont.color;
                return dataView && dataView.metadata ? _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.create(style).getColorForPropertyWithDefaultColor(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.goalFontColorProp, defaultGoalColor) : defaultGoalColor;
            }, KPIStatusWithHistory.getPropGoalText = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.goalTextProp, KPIStatusWithHistory.getLocalizedString("Visual_KPI_Goal_Title")) : KPIStatusWithHistory.getLocalizedString("Visual_KPI_Goal_Title");
            }, KPIStatusWithHistory.getPropDistanceLabel = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.distanceLabelProp, KPIStatusWithHistory.defaultCardFormatSetting.distanceLabel) : KPIStatusWithHistory.defaultCardFormatSetting.distanceLabel;
            }, KPIStatusWithHistory.getPropDistancePrecision = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.distancePrecisionProp, KPIStatusWithHistory.defaultCardFormatSetting.distancePrecision) : KPIStatusWithHistory.defaultCardFormatSetting.distancePrecision;
            }, KPIStatusWithHistory.getPropDistanceFontSize = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.distanceFontSizeProp, this.getPropGoalFontSize(dataView)) : KPIStatusWithHistory.defaultCardFormatSetting.distanceFont.size.pt;
            }, KPIStatusWithHistory.getPropDistanceBold = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.distanceBoldProp, KPIStatusWithHistory.defaultCardFormatSetting.bold) : KPIStatusWithHistory.defaultCardFormatSetting.bold;
            }, KPIStatusWithHistory.getPropDistanceItalic = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.distanceItalicProp, KPIStatusWithHistory.defaultCardFormatSetting.italic) : KPIStatusWithHistory.defaultCardFormatSetting.italic;
            }, KPIStatusWithHistory.getPropDistanceUnderline = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.distanceUnderlineProp, KPIStatusWithHistory.defaultCardFormatSetting.underline) : KPIStatusWithHistory.defaultCardFormatSetting.underline;
            }, KPIStatusWithHistory.getPropDistanceFontFamily = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.distanceFontFamilyProp, this.getPropGoalFontFamily(dataView)) : KPIStatusWithHistory.defaultCardFormatSetting.distanceFont.family;
            }, KPIStatusWithHistory.getPropDistanceFontColor = function(dataView, style) {
                var defaultDistanceColor = this.getPropGoalFontColor(dataView, style);
                return dataView && dataView.metadata ? _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.create(style).getColorForPropertyWithDefaultColor(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.distanceFontColorProp, defaultDistanceColor) : defaultDistanceColor;
            }, KPIStatusWithHistory.getPropDistanceDirection = function(dataView) {
                var defaultDistanceDirection;
                return dataView && dataView.metadata ? (defaultDistanceDirection = this.getPropKPIDirection(dataView) === _Visuals_types_kpi_direction_type__WEBPACK_IMPORTED_MODULE_18__.i1 ? _Visuals_types_kpiDistanceDirection__WEBPACK_IMPORTED_MODULE_19__.i1 : _Visuals_types_kpiDistanceDirection__WEBPACK_IMPORTED_MODULE_19__.pd, 
                (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.distanceDirectionTypeStringProp, defaultDistanceDirection)) : _Visuals_types_kpiDistanceDirection__WEBPACK_IMPORTED_MODULE_19__.i1;
            }, KPIStatusWithHistory.getPropLastDateFontSize = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.lastDateFontSizeProp, KPIStatusWithHistory.defaultCardFormatSetting.lastDateFont.size.pt) : KPIStatusWithHistory.defaultCardFormatSetting.lastDateFont.size.pt;
            }, KPIStatusWithHistory.getProplastDateBold = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.lastDateBoldProp, KPIStatusWithHistory.defaultCardFormatSetting.bold) : KPIStatusWithHistory.defaultCardFormatSetting.bold;
            }, KPIStatusWithHistory.getProplastDateItalic = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.lastDateItalicProp, KPIStatusWithHistory.defaultCardFormatSetting.italic) : KPIStatusWithHistory.defaultCardFormatSetting.italic;
            }, KPIStatusWithHistory.getProplastDateUnderline = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.lastDateUnderlineProp, KPIStatusWithHistory.defaultCardFormatSetting.underline) : KPIStatusWithHistory.defaultCardFormatSetting.underline;
            }, KPIStatusWithHistory.getPropLastDateFontFamily = function(dataView) {
                return dataView && dataView.metadata ? (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.lastDateFontFamilyProp, KPIStatusWithHistory.defaultCardFormatSetting.lastDateFont.family) : KPIStatusWithHistory.defaultCardFormatSetting.lastDateFont.family;
            }, KPIStatusWithHistory.getPropLastDateFontColor = function(dataView, style) {
                var defaultLastDateColor = KPIStatusWithHistory.defaultCardFormatSetting.lastDateFont.color;
                return dataView && dataView.metadata ? _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.create(style).getColorForPropertyWithDefaultColor(dataView.metadata.objects, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.xg.lastDateFontColorProp, defaultLastDateColor) : defaultLastDateColor;
            }, KPIStatusWithHistory.initDefaultLabelSettings = function(style) {
                KPIStatusWithHistory.defaultCardFormatSetting = KPIStatusWithHistory.getDefaultFormatSettings(style), 
                KPIStatusWithHistory.defaultLabelSettings = KPIStatusWithHistory.defaultCardFormatSetting.labelSettings;
            }, KPIStatusWithHistory.getFormattedValue = function(metaDataColumn, theValue, precision, displayUnits, displayUnitSystemType) {
                var _a;
                void 0 === displayUnitSystemType && (displayUnitSystemType = _VisualsData_contracts_visualData__WEBPACK_IMPORTED_MODULE_20__.V.WholeUnits), 
                _VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_13__.fF.assertValue(theValue, "theValue");
                var isDefaultDisplayUnit = 0 === displayUnits;
                return (0, _VisualsData_formatting_valueFormatter__WEBPACK_IMPORTED_MODULE_14__.Ue)({
                    format: null !== (_a = theValue.formatString) && void 0 !== _a ? _a : KPIStatusWithHistory.getFormatString(metaDataColumn),
                    value: displayUnits,
                    precision,
                    displayUnitSystemType,
                    formatSingleValues: !!isDefaultDisplayUnit,
                    allowFormatBeautification: !0,
                    columnType: metaDataColumn ? metaDataColumn.type : void 0
                }).format(theValue.value);
            }, KPIStatusWithHistory.getFormattedLastDate = function(metaDataColumn, lastDate) {
                return (0, _VisualsData_formatting_valueFormatter__WEBPACK_IMPORTED_MODULE_14__.Ue)({
                    format: KPIStatusWithHistory.getFormatString(metaDataColumn),
                    allowFormatBeautification: !0,
                    columnType: metaDataColumn ? metaDataColumn.type : void 0
                }).format(lastDate);
            }, KPIStatusWithHistory.getFormattedGoalString = function(metaDataColumn, goals, precision, displayUnits, dataView) {
                if (!goals || 0 === goals.length) return "";
                var goalsString = KPIStatusWithHistory.getPropGoalText(dataView) + ": " + KPIStatusWithHistory.getFormattedValue(metaDataColumn, goals[0], precision, displayUnits);
                return 2 === goals.length && (goalsString += ", " + KPIStatusWithHistory.getFormattedValue(metaDataColumn, goals[1], precision, displayUnits)), 
                goalsString;
            }, KPIStatusWithHistory.getFormattedDistanceString = function(metadataColumn, actualPair, goals, precision, displayUnits, label, distanceDirection, hostServices) {
                if (!goals || 1 !== goals.length || 0 === goals[0].value) return "";
                var sign = "+", actual = actualPair.value, goal = goals[0].value;
                switch (distanceDirection) {
                  case _Visuals_types_kpiDistanceDirection__WEBPACK_IMPORTED_MODULE_19__.i1:
                    actual < goal && (sign = "-");
                    break;

                  case _Visuals_types_kpiDistanceDirection__WEBPACK_IMPORTED_MODULE_19__.pd:
                    actual > goal && (sign = "-");
                }
                var distance = Math.abs(actual - goal), goalAbs = Math.abs(goal), percentForDisplay = Number((100 * distance / goalAbs).toFixed(precision)), displayText = "", percentString = hostServices.getLocalizedString("PercentFormat", sign + percentForDisplay), distanceForDisplay = KPIStatusWithHistory.getFormattedValue(metadataColumn, {
                    value: distance,
                    formatString: actualPair.formatString
                }, precision, displayUnits);
                switch (label) {
                  case _Visuals_types_kpiDistanceLabel__WEBPACK_IMPORTED_MODULE_12__.aQ:
                    displayText = "(" + percentString + ")";
                    break;

                  case _Visuals_types_kpiDistanceLabel__WEBPACK_IMPORTED_MODULE_12__.S3:
                    displayText = "(" + sign + distanceForDisplay + ")";
                    break;

                  case _Visuals_types_kpiDistanceLabel__WEBPACK_IMPORTED_MODULE_12__.Hk:
                    displayText = "(" + sign + distanceForDisplay + " " + percentString + ")";
                    break;

                  default:
                    _VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_13__.fF.assertFail("unknown kpiDistanceLabel type: ".concat(label));
                }
                return displayText;
            }, KPIStatusWithHistory.converter = function(dataView, viewPort, directionType, style, host) {
                var _a, _b, dataPoints = [], catDv = dataView.categorical, indicatorMetadataColumn = null, goalMetadataColumn = null, trendMetadataColumn = null, formattedGoalString = "", formattedDistanceString = "", formattedValue = "", lastDateValue = "", targetExists = !1, indicatorExists = !1, trendExists = !1, historyExists = !0;
                dataView.categorical.categories || (historyExists = !1);
                for (var categoryValues, values = catDv.values, _i = 0, columns_1 = dataView.metadata.columns; _i < columns_1.length; _i++) {
                    var column = columns_1[_i];
                    (0, _VisualsData_dataView_dataRoleHelper__WEBPACK_IMPORTED_MODULE_21__.nu)(column, "Indicator") && (indicatorExists = !0, 
                    indicatorMetadataColumn = column), (0, _VisualsData_dataView_dataRoleHelper__WEBPACK_IMPORTED_MODULE_21__.nu)(column, "TrendLine") && (trendExists = !0, 
                    trendMetadataColumn = column), (0, _VisualsData_dataView_dataRoleHelper__WEBPACK_IMPORTED_MODULE_21__.nu)(column, "Goal") && (targetExists = !0, 
                    goalMetadataColumn = column);
                }
                if (KPIStatusWithHistory.initDefaultLabelSettings(style), !(indicatorExists && trendExists && values && 0 !== values.length && values[0].values && dataView.categorical.values)) return {
                    dataPoints,
                    directionType,
                    actual: 0,
                    indicatorFont: KPIStatusWithHistory.defaultCardFormatSetting.labelSettings.fontProperties,
                    indicatorIconSize: KPIStatusWithHistory.defaultCardFormatSetting.indicatorIconSize,
                    indicatorIconShowIcon: KPIStatusWithHistory.defaultCardFormatSetting.indicatorIconShowIcon,
                    indicatorTransparency: KPIStatusWithHistory.defaultCardFormatSetting.indicatorTransparency,
                    goalFont: KPIStatusWithHistory.defaultCardFormatSetting.goalFont,
                    distanceLabel: KPIStatusWithHistory.defaultCardFormatSetting.distanceLabel,
                    distancePrecision: KPIStatusWithHistory.defaultCardFormatSetting.distancePrecision,
                    distanceFont: KPIStatusWithHistory.defaultCardFormatSetting.distanceFont,
                    distanceDirection: KPIStatusWithHistory.defaultCardFormatSetting.distanceDirection,
                    lastDateFont: KPIStatusWithHistory.defaultCardFormatSetting.lastDateFont,
                    goals: [],
                    formattedGoalString,
                    formattedDistanceString,
                    targetExists,
                    historyExists,
                    indicatorExists,
                    trendExists,
                    formattedValue,
                    lastDateValue,
                    showGoal: !1,
                    showDistanceFromGoal: !1,
                    showTrendLine: !1,
                    showLastDate: !1,
                    colors: {
                        good: _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.getSentimentColor(style, "good", _VisualsCommon_colorHelper__WEBPACK_IMPORTED_MODULE_2__.fA),
                        neutral: _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.getSentimentColor(style, "neutral", _VisualsCommon_colorHelper__WEBPACK_IMPORTED_MODULE_2__.fA),
                        bad: _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.getSentimentColor(style, "bad", _VisualsCommon_colorHelper__WEBPACK_IMPORTED_MODULE_2__.fA),
                        graphGrey: _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.getThemeColor(style, "foregroundNeutralSecondary"),
                        textGrey: _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.getThemeColor(style, "foregroundNeutralDark")
                    },
                    horizontalAlignment: KPIStatusWithHistory.defaultCardFormatSetting.horizontalAlignment,
                    verticalAlignment: KPIStatusWithHistory.defaultCardFormatSetting.verticalAlignment
                };
                historyExists && (categoryValues = catDv.categories[0].values);
                for (var actualValue, actualValueFormatString, historyActualData = [], historyActualFormatStrings = [], historyGoalData = [], indicatorColumns = KPIStatusWithHistory.getColumnsByRole(values, "Indicator"), goalColumns = KPIStatusWithHistory.getColumnsByRole(values, "Goal"), i = 0, len = values[0].values.length; i < len; i++) {
                    actualValue = indicatorColumns[0].values[i], actualValueFormatString = (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(null === (_a = indicatorColumns[0].objects) || void 0 === _a ? void 0 : _a[i], _Visuals_capabilities_dataViewObjectProperties__WEBPACK_IMPORTED_MODULE_15__.e0.formatString);
                    for (var goals_1 = [], _c = 0, goalColumns_1 = goalColumns; _c < goalColumns_1.length; _c++) {
                        var goalColumn = goalColumns_1[_c];
                        goals_1.push({
                            value: goalColumn.values[i],
                            formatString: (0, _VisualsData_dataView_dataViewObject2__WEBPACK_IMPORTED_MODULE_16__.NA)(null === (_b = goalColumn.objects) || void 0 === _b ? void 0 : _b[i], _Visuals_capabilities_dataViewObjectProperties__WEBPACK_IMPORTED_MODULE_15__.e0.formatString)
                        });
                    }
                    historyGoalData.push(goals_1), historyActualData.push(actualValue), historyActualFormatStrings.push(actualValueFormatString);
                }
                var actual, goals, maxActualData = Math.max.apply(Math, historyActualData), minActualData = Math.min.apply(Math, historyActualData), areaMaxHight = 1 * viewPort.height, precision = KPIStatusWithHistory.getPropIndicatorPrecision(dataView), displayUnits = KPIStatusWithHistory.getPropIndicatorDisplayUnits(dataView), indicatorFontSize = KPIStatusWithHistory.getPropIndicatorFontSize(dataView), indicatorFontFamily = KPIStatusWithHistory.getPropIndicatorFontFamily(dataView), indicatorFontColor = KPIStatusWithHistory.getPropIndicatorFontColor(dataView, style), indicatorIconSize = +KPIStatusWithHistory.getPropIndicatorIconSize(dataView), indicatorIconShowIcon = KPIStatusWithHistory.getPropIndicatorShowIcon(dataView), indicatorTransparency = KPIStatusWithHistory.getPropIndicatorTransparency(dataView), horizontalAlignment = KPIStatusWithHistory.getPropIndicatorHorizontalAlignment(dataView), verticalAlignment = KPIStatusWithHistory.getPropIndicatorVerticalAlignment(dataView), indicatorBold = KPIStatusWithHistory.getPropIndicatorBold(dataView) ? _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.en : _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.AI, indicatorItalic = KPIStatusWithHistory.getPropIndicatorItalic(dataView) ? _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.BF : _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.AI, indicatorUnderline = KPIStatusWithHistory.getPropIndicatorUnderline(dataView) ? _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.f0 : _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.zu, goalFontSize = KPIStatusWithHistory.getPropGoalFontSize(dataView), goalFontFamily = KPIStatusWithHistory.getPropGoalFontFamily(dataView), goalFontColor = KPIStatusWithHistory.getPropGoalFontColor(dataView, style), goalBold = KPIStatusWithHistory.getPropGoalBold(dataView) ? _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.en : _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.AI, goalItalic = KPIStatusWithHistory.getPropGoalItalic(dataView) ? _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.BF : _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.AI, goalUnderline = KPIStatusWithHistory.getPropGoalUnderline(dataView) ? _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.f0 : _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.zu, distanceLabel = KPIStatusWithHistory.getPropDistanceLabel(dataView), distancePrecision = KPIStatusWithHistory.getPropDistancePrecision(dataView), distanceFontSize = KPIStatusWithHistory.getPropDistanceFontSize(dataView), distanceFontFamily = KPIStatusWithHistory.getPropDistanceFontFamily(dataView), distanceFontColor = KPIStatusWithHistory.getPropDistanceFontColor(dataView, style), distanceDirection = KPIStatusWithHistory.getPropDistanceDirection(dataView), distanceBold = KPIStatusWithHistory.getPropDistanceBold(dataView) ? _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.en : _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.AI, distanceItalic = KPIStatusWithHistory.getPropDistanceItalic(dataView) ? _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.BF : _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.AI, distanceUnderline = KPIStatusWithHistory.getPropDistanceUnderline(dataView) ? _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.f0 : _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.zu, lastDateFontSize = KPIStatusWithHistory.getPropLastDateFontSize(dataView), lastDateFontFamily = KPIStatusWithHistory.getPropLastDateFontFamily(dataView), lastDateFontColor = KPIStatusWithHistory.getPropLastDateFontColor(dataView, style), lastDateBold = KPIStatusWithHistory.getProplastDateBold(dataView) ? _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.en : _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.AI, lastDateItalic = KPIStatusWithHistory.getProplastDateItalic(dataView) ? _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.BF : _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.AI, lastDateUnderline = KPIStatusWithHistory.getProplastDateUnderline(dataView) ? _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.f0 : _VisualsCommon_CssConstants__WEBPACK_IMPORTED_MODULE_0__.zu;
                for (i = 0; i < historyActualData.length; i++) dataPoints.push({
                    x: i * viewPort.width / (historyActualData.length - 1),
                    y: viewPort.height - areaMaxHight * (historyActualData[i] - minActualData) / (maxActualData - minActualData),
                    actual: {
                        value: historyActualData[i],
                        formatString: historyActualFormatStrings[i]
                    },
                    goals: historyGoalData[i]
                });
                dataPoints.length > 0 && (actual = dataPoints[dataPoints.length - 1].actual, goals = dataPoints[dataPoints.length - 1].goals), 
                1 === dataPoints.length && (historyExists = !1), formattedValue = actual && KPIStatusWithHistory.getFormattedValue(indicatorMetadataColumn, actual, precision, displayUnits, _VisualsData_contracts_visualData__WEBPACK_IMPORTED_MODULE_20__.V.DataLabels), 
                formattedGoalString = KPIStatusWithHistory.getFormattedGoalString(goalMetadataColumn, goals, precision, displayUnits, dataView), 
                formattedDistanceString = KPIStatusWithHistory.getFormattedDistanceString(indicatorMetadataColumn, actual, goals, distancePrecision, displayUnits, distanceLabel, distanceDirection, host), 
                categoryValues.length > 0 && (lastDateValue = KPIStatusWithHistory.getFormattedLastDate(trendMetadataColumn, categoryValues[categoryValues.length - 1]));
                var showGoal = KPIStatusWithHistory.getPropShowKPIGoal(dataView), showDistanceFromGoal = KPIStatusWithHistory.getPropShowKPIDistance(dataView), showTrendLine = KPIStatusWithHistory.getPropShowKPITrendLine(dataView), showLastDate = KPIStatusWithHistory.getPropShowKPILastDate(dataView), colors = {
                    good: KPIStatusWithHistory.getPropGoodColor(dataView, style),
                    neutral: KPIStatusWithHistory.getPropNeutralColor(dataView, style),
                    bad: KPIStatusWithHistory.getPropBadColor(dataView, style),
                    graphGrey: _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.getThemeColor(style, "foregroundNeutralSecondary"),
                    textGrey: _Visuals_common_colorHelper__WEBPACK_IMPORTED_MODULE_1__.v.getThemeColor(style, "foregroundNeutralDark")
                }, goalFont = {
                    size: _Visuals_common_units__WEBPACK_IMPORTED_MODULE_8__.B.createFromPt(+goalFontSize),
                    family: goalFontFamily,
                    color: goalFontColor,
                    weight: goalBold,
                    style: goalItalic,
                    textDecoration: goalUnderline
                }, distanceFont = {
                    size: _Visuals_common_units__WEBPACK_IMPORTED_MODULE_8__.B.createFromPt(+distanceFontSize),
                    family: distanceFontFamily,
                    color: distanceFontColor,
                    weight: distanceBold,
                    style: distanceItalic,
                    textDecoration: distanceUnderline
                }, indicatorFont = {
                    size: _Visuals_common_units__WEBPACK_IMPORTED_MODULE_8__.B.createFromPt(+indicatorFontSize),
                    family: indicatorFontFamily,
                    color: indicatorFontColor,
                    weight: indicatorBold,
                    style: indicatorItalic,
                    textDecoration: indicatorUnderline
                }, lastDateFont = {
                    size: _Visuals_common_units__WEBPACK_IMPORTED_MODULE_8__.B.createFromPt(+lastDateFontSize),
                    family: lastDateFontFamily,
                    color: lastDateFontColor,
                    weight: lastDateBold,
                    style: lastDateItalic,
                    textDecoration: lastDateUnderline
                };
                return {
                    dataPoints,
                    directionType,
                    actual: null == actual ? void 0 : actual.value,
                    goals: _.map(goals, function(goal) {
                        return goal.value;
                    }),
                    formattedGoalString,
                    formattedDistanceString,
                    indicatorFont,
                    targetExists,
                    historyExists,
                    indicatorExists,
                    trendExists,
                    formattedValue,
                    showGoal,
                    indicatorIconSize,
                    indicatorIconShowIcon,
                    indicatorTransparency,
                    goalFont,
                    showDistanceFromGoal,
                    distanceLabel,
                    distancePrecision,
                    distanceFont,
                    distanceDirection,
                    lastDateFont,
                    showTrendLine,
                    showLastDate,
                    lastDateValue,
                    colors,
                    horizontalAlignment,
                    verticalAlignment
                };
            }, KPIStatusWithHistory.getColumnsByRole = function(values, roleString) {
                for (var retval = [], _i = 0, values_1 = values; _i < values_1.length; _i++) {
                    var value_1 = values_1[_i];
                    (0, _VisualsData_dataView_dataRoleHelper__WEBPACK_IMPORTED_MODULE_21__.nu)(value_1.source, roleString) && retval.push(value_1);
                }
                return retval;
            }, KPIStatusWithHistory.prototype.enumerateGoalsProperties = function() {
                var dataView = this.dataView, distanceLabel = KPIStatusWithHistory.getPropDistanceLabel(dataView);
                return {
                    showGoal: KPIStatusWithHistory.getPropShowKPIGoal(dataView),
                    goalText: KPIStatusWithHistory.getPropGoalText(dataView),
                    goalFontColor: KPIStatusWithHistory.getPropGoalFontColor(dataView, this.style),
                    goalFontFamily: KPIStatusWithHistory.getPropGoalFontFamily(dataView),
                    fontSize: KPIStatusWithHistory.getPropGoalFontSize(dataView),
                    bold: KPIStatusWithHistory.getPropGoalBold(dataView),
                    italic: KPIStatusWithHistory.getPropGoalItalic(dataView),
                    underline: KPIStatusWithHistory.getPropGoalUnderline(dataView),
                    showDistance: KPIStatusWithHistory.getPropShowKPIDistance(dataView),
                    distanceLabel: KPIStatusWithHistory.getPropDistanceLabel(dataView),
                    distanceFontColor: KPIStatusWithHistory.getPropDistanceFontColor(dataView, this.style),
                    distanceFontFamily: KPIStatusWithHistory.getPropDistanceFontFamily(dataView),
                    titleBold: KPIStatusWithHistory.getPropDistanceBold(dataView),
                    titleItalic: KPIStatusWithHistory.getPropDistanceItalic(dataView),
                    titleUnderline: KPIStatusWithHistory.getPropDistanceUnderline(dataView),
                    titleFontSize: KPIStatusWithHistory.getPropDistanceFontSize(dataView),
                    direction: KPIStatusWithHistory.getPropDistanceDirection(dataView),
                    labelPrecision: distanceLabel !== _Visuals_types_kpiDistanceLabel__WEBPACK_IMPORTED_MODULE_12__.aQ ? KPIStatusWithHistory.getPropDistancePrecision(dataView) : void 0
                };
            }, KPIStatusWithHistory.prototype.enumerateIndicatorProperties = function() {
                var indicatorProperties = {
                    indicatorDisplayUnits: KPIStatusWithHistory.getPropIndicatorDisplayUnits(this.dataView),
                    indicatorPrecision: KPIStatusWithHistory.getPropIndicatorPrecision(this.dataView),
                    fontSize: KPIStatusWithHistory.getPropIndicatorFontSize(this.dataView),
                    bold: KPIStatusWithHistory.getPropIndicatorBold(this.dataView),
                    italic: KPIStatusWithHistory.getPropIndicatorItalic(this.dataView),
                    underline: KPIStatusWithHistory.getPropIndicatorUnderline(this.dataView),
                    fontColor: KPIStatusWithHistory.getPropIndicatorFontColor(this.dataView, this.style),
                    fontFamily: KPIStatusWithHistory.getPropIndicatorFontFamily(this.dataView),
                    horizontalAlignment: KPIStatusWithHistory.getPropIndicatorHorizontalAlignment(this.dataView),
                    verticalAlignment: KPIStatusWithHistory.getPropIndicatorVerticalAlignment(this.dataView)
                };
                return this.hasGoal && delete indicatorProperties.fontColor, indicatorProperties.showIcon = KPIStatusWithHistory.getPropIndicatorShowIcon(this.dataView), 
                indicatorProperties.showIcon && (indicatorProperties.iconSize = +KPIStatusWithHistory.getPropIndicatorIconSize(this.dataView)), 
                indicatorProperties;
            }, KPIStatusWithHistory.prototype.getFormattingModel = function() {
                var _this = this, precisionRange = {
                    minValue: {
                        type: 0,
                        value: 0
                    },
                    maxValue: {
                        type: 1,
                        value: _Visuals_common_consts_dataLabelViewModel1Consts__WEBPACK_IMPORTED_MODULE_22__.vo
                    }
                }, iconSizeRange = {
                    minValue: {
                        type: 0,
                        value: _VisualsCommon_Utility_StandaloneUtility1__WEBPACK_IMPORTED_MODULE_3__.Gj
                    },
                    maxValue: {
                        type: 1,
                        value: _VisualsCommon_Utility_StandaloneUtility1__WEBPACK_IMPORTED_MODULE_3__.PR
                    },
                    unitSymbol: _Visuals_common_visualLocKeys__WEBPACK_IMPORTED_MODULE_23__.tQ
                };
                return new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.Nq(function() {
                    return _this.getIndicatorCard(precisionRange);
                }, function() {
                    return _this.getIconCard(iconSizeRange);
                }, function() {
                    return _this.getTrendAxisCard();
                }, function() {
                    return _this.getTargetLabelCard(precisionRange);
                }, function() {
                    return _this.getDateCard();
                }).build();
            }, KPIStatusWithHistory.prototype.getIndicatorCard = function(precisionRange) {
                var _this = this, indicatorProps = (0, tslib__WEBPACK_IMPORTED_MODULE_25__.__rest)(_Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.Te.indicator, [ "showIcon", "iconSize" ]), cardBuilder = new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.CQ(new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.lg("calloutValue"), "Visual_Gauge_CalloutValue", indicatorProps, function(key) {
                    return _this.host.getLocalizedString(key);
                });
                cardBuilder.withDescription("Role_DisplayName_KPI_IndicatorDescription");
                var indicatorFontControl = (new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.UN).withFontFamily({
                    descriptor: indicatorProps.fontFamily,
                    value: KPIStatusWithHistory.getPropIndicatorFontFamily(this.dataView)
                }).withFontSizeProperties({
                    descriptor: indicatorProps.fontSize,
                    value: KPIStatusWithHistory.getPropIndicatorFontSize(this.dataView)
                }).withBold({
                    descriptor: indicatorProps.bold,
                    value: KPIStatusWithHistory.getPropIndicatorBold(this.dataView)
                }).withItalic({
                    descriptor: indicatorProps.italic,
                    value: KPIStatusWithHistory.getPropIndicatorItalic(this.dataView)
                }).withUnderline({
                    descriptor: indicatorProps.underline,
                    value: KPIStatusWithHistory.getPropIndicatorUnderline(this.dataView)
                }).build();
                return cardBuilder.addGroup("values", function(groupBuilder) {
                    groupBuilder.addCompositeSlice("font", "Font", indicatorFontControl), _this.hasGoal || groupBuilder.addSimpleSlice("fontColor", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.BT({
                        descriptor: (0, tslib__WEBPACK_IMPORTED_MODULE_25__.__assign)((0, tslib__WEBPACK_IMPORTED_MODULE_25__.__assign)({}, indicatorProps.fontColor), {
                            instanceKind: 3
                        }),
                        value: {
                            value: KPIStatusWithHistory.getPropIndicatorFontColor(_this.dataView, _this.style)
                        }
                    }).build()), groupBuilder.addSimpleSlice("horizontalAlignment", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.Gp({
                        descriptor: indicatorProps.horizontalAlignment,
                        value: KPIStatusWithHistory.getPropIndicatorHorizontalAlignment(_this.dataView),
                        mode: "horizontalAlignment"
                    }).build()).addSimpleSlice("verticalAlignment", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.Gp({
                        descriptor: indicatorProps.verticalAlignment,
                        value: KPIStatusWithHistory.getPropIndicatorVerticalAlignment(_this.dataView),
                        mode: "verticalAlignment"
                    }).build()).addSimpleSlice("indicatorDisplayUnits", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.uY({
                        descriptor: indicatorProps.indicatorDisplayUnits,
                        value: KPIStatusWithHistory.getPropIndicatorDisplayUnits(_this.dataView)
                    }).build()).addSimpleSlice("indicatorPrecision", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.mu({
                        descriptor: indicatorProps.indicatorPrecision,
                        value: KPIStatusWithHistory.getPropIndicatorPrecision(_this.dataView),
                        options: precisionRange
                    }).build());
                }), cardBuilder.build();
            }, KPIStatusWithHistory.prototype.getIconCard = function(iconSizeRange) {
                var _this = this, cardBuilder = new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.CQ(new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.lg("icons"), "Visual_Tablix_Icons", [ _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.Te.indicator.showIcon, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.Te.indicator.iconSize ], function(key) {
                    return _this.host.getLocalizedString(key);
                });
                return cardBuilder.addTopLevelToggle("showIcon", function() {
                    return new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.bd({
                        descriptor: _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.Te.indicator.showIcon,
                        value: KPIStatusWithHistory.getPropIndicatorShowIcon(_this.dataView)
                    }).build();
                }).addGroup("icons", function(groupBuilder) {
                    groupBuilder.withDisplayName("Visual_Tablix_Icons"), groupBuilder.addSimpleSlice("iconSize", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.mu({
                        descriptor: _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.Te.indicator.iconSize,
                        value: KPIStatusWithHistory.getPropIndicatorIconSize(_this.dataView),
                        options: iconSizeRange
                    }).build());
                }), cardBuilder.build();
            }, KPIStatusWithHistory.prototype.getTrendAxisCard = function() {
                var _this = this, localize = function(key) {
                    return _this.host.getLocalizedString(key);
                }, trendAxisProps = (0, tslib__WEBPACK_IMPORTED_MODULE_25__.__assign)((0, tslib__WEBPACK_IMPORTED_MODULE_25__.__assign)({}, _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.Te.trendline), _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.Te.status), dataView = this.dataView, cardBuilder = new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.CQ(new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.lg("trendAxis"), "Role_DisplayName_KPI_TrendLine", trendAxisProps, localize);
                return cardBuilder.withDescription("Role_DisplayName_KPI_Trendline_Description").addTopLevelToggle("show", function() {
                    return new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.bd({
                        descriptor: trendAxisProps.show,
                        value: KPIStatusWithHistory.getPropShowKPITrendLine(dataView)
                    }).build();
                }).addGroup("trendAxis", function(groupBuilder) {
                    groupBuilder.addSimpleSlice("direction", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.uY({
                        descriptor: trendAxisProps.direction,
                        value: KPIStatusWithHistory.getPropKPIDirection(dataView)
                    }).build()).addSimpleSlice("goodColor", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.BT({
                        descriptor: (0, tslib__WEBPACK_IMPORTED_MODULE_25__.__assign)((0, tslib__WEBPACK_IMPORTED_MODULE_25__.__assign)({}, trendAxisProps.goodColor), {
                            instanceKind: 3
                        }),
                        value: {
                            value: KPIStatusWithHistory.getPropGoodColor(dataView, _this.style)
                        }
                    }).build()).addSimpleSlice("neutralColor", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.BT({
                        descriptor: (0, tslib__WEBPACK_IMPORTED_MODULE_25__.__assign)((0, tslib__WEBPACK_IMPORTED_MODULE_25__.__assign)({}, trendAxisProps.neutralColor), {
                            instanceKind: 3
                        }),
                        value: {
                            value: KPIStatusWithHistory.getPropNeutralColor(dataView, _this.style)
                        }
                    }).build()).addSimpleSlice("badColor", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.BT({
                        descriptor: (0, tslib__WEBPACK_IMPORTED_MODULE_25__.__assign)((0, tslib__WEBPACK_IMPORTED_MODULE_25__.__assign)({}, trendAxisProps.badColor), {
                            instanceKind: 3
                        }),
                        value: {
                            value: KPIStatusWithHistory.getPropBadColor(dataView, _this.style)
                        }
                    }).build()).addSimpleSlice("transparency", _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.JN.getTransparencySliderBuilder({
                        descriptor: trendAxisProps.transparency,
                        value: KPIStatusWithHistory.getPropIndicatorTransparency(dataView),
                        localize
                    }).build());
                }), cardBuilder.build();
            }, KPIStatusWithHistory.prototype.getTargetLabelCard = function(precisionRange) {
                var _this = this, trendAxisProps = _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.Te.goals, dataView = this.dataView, cardBuilder = new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.CQ(new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.lg("targetLabel"), "Visual_Gauge_Axis_TargetLabel", trendAxisProps, function(key) {
                    return _this.host.getLocalizedString(key);
                }), goalFontControlBuilder = (new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.UN).withFontFamily({
                    descriptor: trendAxisProps.goalFontFamily,
                    value: KPIStatusWithHistory.getPropGoalFontFamily(dataView)
                }).withFontSizeProperties({
                    descriptor: trendAxisProps.fontSize,
                    value: KPIStatusWithHistory.getPropGoalFontSize(dataView)
                }).withBold({
                    descriptor: trendAxisProps.bold,
                    value: KPIStatusWithHistory.getPropGoalBold(dataView)
                }).withItalic({
                    descriptor: trendAxisProps.italic,
                    value: KPIStatusWithHistory.getPropGoalItalic(dataView)
                }).withUnderline({
                    descriptor: trendAxisProps.underline,
                    value: KPIStatusWithHistory.getPropGoalUnderline(dataView)
                }), distanceFontControlBuilder = (new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.UN).withFontFamily({
                    descriptor: trendAxisProps.distanceFontFamily,
                    value: KPIStatusWithHistory.getPropDistanceFontFamily(dataView)
                }).withFontSizeProperties({
                    descriptor: trendAxisProps.titleFontSize,
                    value: KPIStatusWithHistory.getPropDistanceFontSize(dataView)
                }).withBold({
                    descriptor: trendAxisProps.titleBold,
                    value: KPIStatusWithHistory.getPropDistanceBold(dataView)
                }).withItalic({
                    descriptor: trendAxisProps.titleItalic,
                    value: KPIStatusWithHistory.getPropDistanceItalic(dataView)
                }).withUnderline({
                    descriptor: trendAxisProps.titleUnderline,
                    value: KPIStatusWithHistory.getPropDistanceUnderline(dataView)
                }), goalFontControl = goalFontControlBuilder.build(), distanceFontControl = distanceFontControlBuilder.build();
                return cardBuilder.addTopLevelToggle("showGoal", function() {
                    return new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.bd({
                        descriptor: trendAxisProps.showGoal,
                        value: KPIStatusWithHistory.getPropShowKPIGoal(dataView)
                    }).build();
                }).addGroup("values", function(groupBuilder) {
                    groupBuilder.withDisplayName("Role_DisplayName_Values").addCompositeSlice("font", "Font", goalFontControl).addSimpleSlice("fontColor", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.BT({
                        descriptor: (0, tslib__WEBPACK_IMPORTED_MODULE_25__.__assign)((0, tslib__WEBPACK_IMPORTED_MODULE_25__.__assign)({}, trendAxisProps.goalFontColor), {
                            instanceKind: 3
                        }),
                        value: {
                            value: KPIStatusWithHistory.getPropGoalFontColor(dataView, _this.style)
                        }
                    }).build()).addSimpleSlice("goalText", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.fq({
                        descriptor: trendAxisProps.goalText,
                        value: KPIStatusWithHistory.getPropGoalText(dataView),
                        placeholder: ""
                    }).build());
                }).addGroup("distance", function(groupBuilder) {
                    groupBuilder.withDisplayName("Visual_KPI_DistanceToGoal").addTopLevelToggle("showDistance", function() {
                        return new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.bd({
                            descriptor: trendAxisProps.showDistance,
                            value: KPIStatusWithHistory.getPropShowKPIDistance(dataView)
                        }).build();
                    });
                    var distanceLabel = KPIStatusWithHistory.getPropDistanceLabel(dataView);
                    groupBuilder.addSimpleSlice("style", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.uY({
                        descriptor: trendAxisProps.distanceLabel,
                        value: distanceLabel
                    }).build(), function(sliceBuilder) {
                        return sliceBuilder.withCustomDisplayName("Style");
                    }), distanceLabel !== _Visuals_types_kpiDistanceLabel__WEBPACK_IMPORTED_MODULE_12__.aQ && groupBuilder.addSimpleSlice("labelPrecision", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.mu({
                        descriptor: trendAxisProps.labelPrecision,
                        value: KPIStatusWithHistory.getPropDistancePrecision(dataView),
                        options: precisionRange
                    }).build()), groupBuilder.addSimpleSlice("direction", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.uY({
                        descriptor: trendAxisProps.direction,
                        value: KPIStatusWithHistory.getPropDistanceDirection(dataView)
                    }).build()).addCompositeSlice("font", "Font", distanceFontControl).addSimpleSlice("fontColor", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.BT({
                        descriptor: (0, tslib__WEBPACK_IMPORTED_MODULE_25__.__assign)((0, tslib__WEBPACK_IMPORTED_MODULE_25__.__assign)({}, trendAxisProps.distanceFontColor), {
                            instanceKind: 3
                        }),
                        value: {
                            value: KPIStatusWithHistory.getPropDistanceFontColor(dataView, _this.style)
                        }
                    }).build());
                }), cardBuilder.build();
            }, KPIStatusWithHistory.prototype.getDateCard = function() {
                var _this = this, dateProps = _Visuals_capabilities_kpiStatusWithHistory_capabilities__WEBPACK_IMPORTED_MODULE_17__.Te.lastDate, dataView = this.dataView, cardBuilder = new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.CQ(new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.lg("date"), "Date", dateProps, function(key) {
                    return _this.host.getLocalizedString(key);
                }), dateFontControl = (new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.UN).withFontFamily({
                    descriptor: dateProps.lastDateFontFamily,
                    value: KPIStatusWithHistory.getPropLastDateFontFamily(dataView)
                }).withFontSizeProperties({
                    descriptor: dateProps.fontSize,
                    value: KPIStatusWithHistory.getPropLastDateFontSize(dataView)
                }).withBold({
                    descriptor: dateProps.bold,
                    value: KPIStatusWithHistory.getProplastDateBold(dataView)
                }).withItalic({
                    descriptor: dateProps.italic,
                    value: KPIStatusWithHistory.getProplastDateItalic(dataView)
                }).withUnderline({
                    descriptor: dateProps.underline,
                    value: KPIStatusWithHistory.getProplastDateUnderline(dataView)
                }).build();
                return cardBuilder.withDescription("Role_DisplayName_KPI_Date_Description").addTopLevelToggle("show", function() {
                    return new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.bd({
                        descriptor: dateProps.show,
                        value: KPIStatusWithHistory.getPropShowKPILastDate(dataView)
                    }).build();
                }).addGroup("date", function(groupBuilder) {
                    groupBuilder.addCompositeSlice("font", "Font", dateFontControl).addSimpleSlice("fontColor", new _VisualsCommon_Utility_build_control_util__WEBPACK_IMPORTED_MODULE_24__.BT({
                        descriptor: (0, tslib__WEBPACK_IMPORTED_MODULE_25__.__assign)((0, tslib__WEBPACK_IMPORTED_MODULE_25__.__assign)({}, dateProps.lastDateFontColor), {
                            instanceKind: 3
                        }),
                        value: {
                            value: KPIStatusWithHistory.getPropLastDateFontColor(dataView, _this.style)
                        }
                    }).build());
                }), cardBuilder.build();
            }, KPIStatusWithHistory.prototype.enumerateObjectInstances = function(options) {
                var instances = [], dataView = this.dataView, precisionRange = {
                    numberRange: {
                        min: 0,
                        max: _Visuals_common_consts_dataLabelViewModel1Consts__WEBPACK_IMPORTED_MODULE_22__.vo
                    }
                }, iconSizeRange = {
                    numberRange: {
                        min: _VisualsCommon_Utility_StandaloneUtility1__WEBPACK_IMPORTED_MODULE_3__.Gj,
                        max: _VisualsCommon_Utility_StandaloneUtility1__WEBPACK_IMPORTED_MODULE_3__.PR
                    },
                    unitSymbol: _Visuals_common_visualLocKeys__WEBPACK_IMPORTED_MODULE_23__.tQ
                };
                switch (options.objectName) {
                  case "indicator":
                    instances.push({
                        selector: null,
                        objectName: "indicator",
                        properties: this.enumerateIndicatorProperties(),
                        validValues: {
                            indicatorPrecision: precisionRange,
                            iconSize: iconSizeRange
                        },
                        propertyInstanceKind: {
                            fontColor: 3
                        }
                    });
                    break;

                  case "trendline":
                    instances.push({
                        selector: null,
                        objectName: "trendline",
                        properties: {
                            show: KPIStatusWithHistory.getPropShowKPITrendLine(dataView),
                            transparency: KPIStatusWithHistory.getPropIndicatorTransparency(dataView)
                        }
                    });
                    break;

                  case "goals":
                    instances.push({
                        selector: null,
                        objectName: "goals",
                        properties: this.enumerateGoalsProperties(),
                        validValues: {
                            labelPrecision: precisionRange
                        },
                        propertyInstanceKind: {
                            goalFontColor: 3,
                            distanceFontColor: 3
                        }
                    });
                    break;

                  case "status":
                    instances.push({
                        selector: null,
                        objectName: "status",
                        properties: {
                            direction: KPIStatusWithHistory.getPropKPIDirection(dataView),
                            goodColor: KPIStatusWithHistory.getPropGoodColor(dataView, this.style),
                            neutralColor: KPIStatusWithHistory.getPropNeutralColor(dataView, this.style),
                            badColor: KPIStatusWithHistory.getPropBadColor(dataView, this.style)
                        },
                        propertyInstanceKind: {
                            goodColor: 3,
                            neutralColor: 3,
                            badColor: 3
                        }
                    });
                    break;

                  case "lastDate":
                    instances.push({
                        selector: null,
                        objectName: "lastDate",
                        properties: {
                            show: KPIStatusWithHistory.getPropShowKPILastDate(dataView),
                            lastDateFontColor: KPIStatusWithHistory.getPropLastDateFontColor(dataView, this.style),
                            lastDateFontFamily: KPIStatusWithHistory.getPropLastDateFontFamily(dataView),
                            fontSize: KPIStatusWithHistory.getPropLastDateFontSize(dataView),
                            bold: KPIStatusWithHistory.getProplastDateBold(dataView),
                            italic: KPIStatusWithHistory.getProplastDateItalic(dataView),
                            underline: KPIStatusWithHistory.getProplastDateUnderline(dataView)
                        },
                        propertyInstanceKind: {
                            lastDateFontColor: 3
                        }
                    });
                }
                return instances;
            }, KPIStatusWithHistory.prototype.destroy = function() {
                this.svg = null;
            }, KPIStatusWithHistory.status = {
                INCREASE: "increase",
                DROP: "drop",
                IN_BETWEEN: "in-between",
                NOGOAL: "no-goal"
            }, KPIStatusWithHistory.statusBandingType = {
                Below: "BELOW",
                Above: "ABOVE"
            }, KPIStatusWithHistory.actualTextConsts = {
                VERTICAL_OFFSET_FROM_HALF_HEIGHT: 20,
                FONT_WIDTH_FACTOR: 14,
                RIGHT_MARGIN: 10
            }, KPIStatusWithHistory.indicatorIconContent = [ {
                class: "checkmark",
                textId: "Visual_KPI_TargetMet",
                hexCode: "\ue718",
                status: KPIStatusWithHistory.status.INCREASE
            }, {
                class: "circle-small",
                textId: "Visual_KPI_TargetBetween",
                hexCode: "\ue712",
                status: KPIStatusWithHistory.status.IN_BETWEEN
            }, {
                class: "exclamation",
                textId: "Visual_KPI_TargetNotMet",
                hexCode: "\ue715",
                status: KPIStatusWithHistory.status.DROP
            } ], KPIStatusWithHistory;
        }();
        function getStatus(actual, goals, directionType) {
            if (!goals || 0 === goals.length) return KPIStatusWithHistory.status.NOGOAL;
            var maxGoal, minGoal;
            if (2 === goals.length) {
                if (maxGoal = Math.max.apply(Math, goals), actual >= (minGoal = Math.min.apply(Math, goals)) && actual <= maxGoal) return KPIStatusWithHistory.status.IN_BETWEEN;
            } else maxGoal = goals[0], minGoal = goals[0];
            switch (directionType) {
              case _Visuals_types_kpi_direction_type__WEBPACK_IMPORTED_MODULE_18__.i1:
                if (actual < minGoal) return KPIStatusWithHistory.status.DROP;
                break;

              case _Visuals_types_kpi_direction_type__WEBPACK_IMPORTED_MODULE_18__.pd:
                if (actual > maxGoal) return KPIStatusWithHistory.status.DROP;
            }
            return KPIStatusWithHistory.status.INCREASE;
        }
        function getTextColorByStatus(status, colors) {
            switch (status) {
              case KPIStatusWithHistory.status.NOGOAL:
                return _VisualsCommon_debug__WEBPACK_IMPORTED_MODULE_13__.fF.assertFail("should not call this function without a goal (for `callout` textClass color theme reasons)"), 
                colors.textGrey;

              case KPIStatusWithHistory.status.INCREASE:
                return colors.good;

              case KPIStatusWithHistory.status.IN_BETWEEN:
                return colors.neutral;

              case KPIStatusWithHistory.status.DROP:
                return colors.bad;
            }
        }
        function getGraphColorByStatus(status, colors) {
            switch (status) {
              case KPIStatusWithHistory.status.NOGOAL:
                return colors.graphGrey;

              case KPIStatusWithHistory.status.INCREASE:
                return colors.good;

              case KPIStatusWithHistory.status.IN_BETWEEN:
                return colors.neutral;

              case KPIStatusWithHistory.status.DROP:
                return colors.bad;
            }
        }
    }
} ]);