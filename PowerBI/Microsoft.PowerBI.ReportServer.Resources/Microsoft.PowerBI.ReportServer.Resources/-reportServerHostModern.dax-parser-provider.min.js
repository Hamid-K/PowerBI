"use strict";(self.webpackChunkreportServerHostModern=self.webpackChunkreportServerHostModern||[]).push([["dax-parser-provider"],{55863:function(Oe,ce,D){D.d(ce,{hu:function(){return R},mv:function(){return O},sr:function(){return d},vE:function(){return C}});var N,E=D(62458);function R(A,Y){E.fF.isDisabled()||!0!==A&&d(Y||"condition: ".concat(A))}function O(A,Y){E.fF.isDisabled()||null==A&&d(Y||"condition: "+A)}function d(A){if(!E.fF.isDisabled())throw(N||alert)("Debug Assert failed: ".concat(A)),new Error(A)}function C(A){return d(A)}},48563:function(Oe,ce,D){D.d(ce,{w:function(){return w}});var E=D(17819);function w(A){return A.map(function(Y){return function(A){return{name:A.Name,description:A.Description,category:R(A.Category),pushableToDQ:O(A.PushableToDirectQuery),parameters:d(A.Parameters),visualCalculationsInfo:A.VisualCalculationsInfo}}(Y)})}function R(A){switch(A){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;case 6:return 6;case 7:return 7;case 8:return 8;case 9:return 9}}function O(A){var Y=0;return 1===A?Y=1:2===A?Y=2:3===A&&(Y=3),Y}function d(A){return A?A.map(function(Y){return function(A){return new E.Hw(A.Name,A.Optional,A.Repeatable,A.RepeatGroup,A.Skippable)}(Y)}):[]}},11674:function(Oe,ce,D){D.d(ce,{w_:function(){return Ee},MX:function(){return he},Jt:function(){return de}});var O,E=D(81337),w=D(55863),N=D(58871),R=D(63513);!function(g){g.buildAnonymousExpression=function(o,l,u){return new h(o,l,u).buildAnonymousExpression()};var h=function(){function o(l,u,p){this.tokenization=l,this.context=u,this.delimitIdentifier=p,this.matchObjectReplacements=new R.Xy,this.unmatchedObjectReplacements={},this.tableIndex=0,this.columnIndex=0,this.measureIndex=0,this.variableIndex=0,this.unmatchedIndex=0}return o.prototype.buildAnonymousExpression=function(){for(var l="",u=0,p=this.tokenization.tokens;u<p.length;u++){var b=p[u],S=void 0;switch(b.type){case 29:case 2:case 3:case 4:case 5:case 6:case 7:S=" ";break;case 10:case 11:case 12:case 13:case 14:case 9:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 40:S=b.getString();break;case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 51:case 52:case 53:case 54:case 49:case 50:case 55:S=b.getString().toUpperCase();break;case 30:case 31:S='"String"';break;case 36:case 37:S="0";break;case 32:case 33:case 34:case 35:case 58:case 57:S=this.anonymizeIdentifier(b);break;case 59:S="?";break;case 38:case 39:S='DT""';break;default:(0,w.sr)("Unexpected token type"),S=""}l+=S}return l},o.prototype.anonymizeIdentifier=function(l){var p,u=l.matchObject;if(u instanceof N.it||u instanceof N.Gs||u instanceof N.Z0)return l.getString().toUpperCase();if(u instanceof N.XN||u instanceof N.Cf||u instanceof N.S2||u instanceof N.yB)(p=this.matchObjectReplacements.get(u))||(p=u instanceof N.XN?"Column"+ ++this.columnIndex:u instanceof N.Cf?"Measure"+ ++this.measureIndex:u instanceof N.S2?"Table"+ ++this.tableIndex:"Variable"+ ++this.variableIndex,this.matchObjectReplacements.add(u,p));else{var b=l.getIdentifier();(p=this.unmatchedObjectReplacements[b])||(p="Unmatched"+ ++this.unmatchedIndex,this.unmatchedObjectReplacements[b]=p)}return this.delimitIdentifier(l.type,p,this.context)},o}()}(O||(O={}));var T,d=D(70163),C=D(66106),A=D(3371),Y=D(22021),P=D(85616),V=D(68706),B=D(82269),M=D(40546),t=D(20540),x=D(66813),G=D(85786),Z=function(){function g(s,h){var o=this;this.newExpressionNode=new P.ig(s,function(){return o._rootNode=h(),o._rootNode}),this._context=s,this._leafPositions=[],this.tokenization=new x.h("",0,void 0,void 0)}return Object.defineProperty(g.prototype,"rootNode",{get:function(){return this._rootNode},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"leafPositions",{get:function(){return this._leafPositions},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"anyErrors",{get:function(){return _.some(this._leafPositions,function(h){return _.some(h.validNodes,function(o){return o instanceof P.IE})})},enumerable:!1,configurable:!0}),g.prototype.getValidLeafNodesAtPosition=function(s){return this._leafPositions[s].validNodes},g.prototype.update=function(s){var h={iToken:void 0,currentNodes:void 0};this.reuseExistingParseTree(s,h),this.completeParseTree(s,h.iToken,h.currentNodes),this.tokenization=s},g.prototype.tryAddClosingParens=function(s,h){var o={result:!1,countParensAdded:-1},l={iToken:void 0,currentNodes:void 0};this.reuseExistingParseTree(this.tokenization,l),(0,w.hu)(l.iToken===this.tokenization.parseTokenCount,"expected iToken to be parseTokenCount");var u=h.expression;for(o.countParensAdded=0;;){var p=new G.WU(24,u+=")",u.length-1,1),b=new N.qf(p);switch(this.tryEatToken(p,new N.qf(p),l)){case t.R.Yum:o.countParensAdded++,s&&(h.expression=u,this.tokenization.updateExpression(h.expression),this.tokenization.tokens.push(p),this.tokenization.parseTokenCount++,this.leafPositions.push(b));break;case t.R.Yuck:return o.result=!1,o;case t.R.NotHungry:return o.result=!0,o}}},g.prototype.reuseExistingParseTree=function(s,h){var o=Math.min(this.tokenization.parseTokenCount,s.parseTokenCount);for(h.iToken=0;h.iToken<o;h.iToken++){var l=this.tokenization.tokens[h.iToken],u=s.tokens[h.iToken];if(l.activelyEdited||u.activelyEdited||!(0,G.Cu)(u.type,l.type))break;this.leafPositions[h.iToken].rebindToken(u)}h.iToken<this.leafPositions.length&&this.leafPositions.splice(h.iToken,this.leafPositions.length-h.iToken);for(var p=h.iToken-1;p>=0;p--){var b=this.leafPositions[p];if(b.isInParseTree)return h.currentNodes=b.nodes,void this.refreshParsePaths(h.currentNodes)}h.currentNodes=[this.newExpressionNode]},g.prototype.refreshParsePaths=function(s){this.removeLaterNodes(s),this.reinitializeParsePaths(s)},g.prototype.removeLaterNodes=function(s){for(var h=0,o=s;h<o.length;h++){var l=o[h];l.onParseIncomplete();for(var u=void 0,p=l;u=p.parent;p=u)u.removeLaterChildren(p),u.onParseIncomplete()}},g.prototype.reinitializeParsePaths=function(s){for(var h=0,o=s;h<o.length;h++)for(var u=o[h].path;u;u=u.parent)u.reinitialize();for(var p=0,b=s;p<b.length;p++)for(var S=(u=b[p].path).parent;S&&S.addChild(u);u=S,S=S.parent);},g.prototype.completeParseTree=function(s,h,o){for(var l={currentNodes:o},u=[],p=!0,b=[],S=function(){var L=s.tokens[h],K=new N.qf(L);if((0,w.hu)(F.leafPositions.length===h,"iToken to be the end of the leaf positions"),F.leafPositions.push(K),F.tryEatToken(L,K,l),!M.d.featureSwitches.addTriviaToParseNodeMetadata)return"continue";if(L.ignorable)return u.push(L),"continue";if(60===L.type)return"continue";if(p&&l.currentNodes.length)p=!1,l.currentNodes.map(function(X){return X.leadingTrivia=u}),u=[];else if(b.length&&l.currentNodes.length){var H=u.findIndex(function(X){return X.getString().includes("\n")}),z=-1===H?u.length:H+1;b.map(function(X){return X.trailingTrivia=u.slice(0,z)}),l.currentNodes.map(function(X){return X.leadingTrivia=u.slice(z)}),u=[]}b=l.currentNodes},F=this;h<s.parseTokenCount;h++)S();M.d.featureSwitches.addTriviaToParseNodeMetadata&&u.length>0&&b.length&&b.map(function(U){return U.trailingTrivia=u})},g.prototype.tryEatToken=function(s,h,o){if(s.ignorable)return h.addNode(new P.i8(h,this.context)),t.R.Yum;for(var l=!1,u=0,p=o.currentNodes;u<p.length;u++)for(var b=p[u],S=[],F=b;;F=F.parent){var U=F.eatToken(h,b.path);if(U===t.R.Yum){for(var L=0,K=S;L<K.length;L++){var H=K[L];H.parentNode.setChild(H.parseNode)}if(60!==h.token.type)for(var z=b;z!==F;z=z.parent)z.onParseComplete();break}if(U===t.R.Yuck){b.path.markUnsuccessful();break}if((0,w.hu)(U===t.R.NotHungry,"expected ".concat(U," to be EatResult.NotHungry (").concat(t.R.NotHungry,")")),!F.parent){l=!0,b.path.markUnsuccessful();break}var X=F.parent instanceof P.q1?F.parent:null;X&&S.push({parseNode:F,parentNode:X})}return _.some(h.nodes)?(o.currentNodes=h.nodes,o.currentNodes.forEach(function(le){return le.consolidatePath()}),t.R.Yum):(60!==s.type&&h.addNode(new P.IE(h,this.context)),this.reinitializeParsePaths(o.currentNodes),l?t.R.NotHungry:t.R.Yuck)},g.prototype.clearAllContexts=function(){for(var s=[this.rootNode];s.length>0;){var o=s.pop();o.parent&&o.clearContext(),o instanceof N.sN&&(o instanceof P.q1?o.prospectiveChildren:o.children).forEach(function(l){return s.push(l)})}},g}(),W=D(88498);(T||(T={})).couldBeOperand=function(h){for(var o=h.parent;null!=o&&o.isFirstChild(h);h=o,o=o.parent)if(o instanceof P.HV||o instanceof P.Ti||o instanceof P.F0||o instanceof P.IS||o instanceof P.RZ||o instanceof P.gi||o instanceof P.Ed||o instanceof P.gR||o instanceof P.ze||o instanceof P.Sm)return!0;return!1};var c=D(42165),q=D(48987),J=function(){function g(s,h,o,l){this.tokenization=s,this.parseTree=h,this.iNewToken=o,this.iTokenLeft=l,this.suggestionContexts=[],this._suggestions=[],this._replaceStart=-1,this._replaceEnd=-1,this._afterOParen=-1,this._afterCParen=-1,this._bestMatch=-1}return Object.defineProperty(g.prototype,"bestMatch",{get:function(){return this._bestMatch},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"afterCParen",{get:function(){return this._afterCParen},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"afterOParen",{get:function(){return this._afterOParen},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"replaceStart",{get:function(){return this._replaceStart},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"replaceEnd",{get:function(){return this._replaceEnd},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"suggestions",{get:function(){return this._suggestions},enumerable:!1,configurable:!0}),g.prototype.buildSuggestions=function(){this.addSuggestions(),this.removeDuplicateSuggestionsForSameObject(),this.removeDuplicateSuggestionsBySuggestionText(),this.sortSuggestions(),this.findBestMatch()},g.prototype.addSuggestions=function(s,h){if(s)this.suggestionContexts=this.suggestionContexts.concat(_.map(s,function(f){return new oe(f,h)}));else if(this._replaceStart=this.tokenization.cursorPosition||0,this._replaceEnd=this.tokenization.cursorPosition||0,this.tokenization.activeCursor&&3!==this.tokenization.cursorActivity){var o=this.iNewToken;if(-1===o&&(o=this.iTokenLeft),-1!==o){for(var l=this.tokenization.tokens[o],u=0,p=this.parseTree.getValidLeafNodesAtPosition(o);u<p.length;u++){var b=p[u];if(b instanceof P.IE)return;var S=b.parent,F=void 0;if((S instanceof P.DH||S instanceof P.qS||S instanceof P.Fc)&&(F=S.firstDescendent.token)!==l){for(var U=void 0,L=o-1;(U=this.tokenization.tokens[L])!==F;L--)if(29!==U.type&&_.some(this.parseTree.getValidLeafNodesAtPosition(L),function(f){return f instanceof P.i8||f instanceof P.IE}))return;var K=(0,R.as)(S,P.Fc);if(K){this.addSuggestionsBasedOnPartialVariation(l.getIdentifier(),b.context,K.dotNode.token.startPosition);var H=K.variationSource;(0,R.as)(H.parent,P.DH)?this.addSuggestionsBasedOnTableColumnAndPartialVariation(F.getIdentifier(),H.token.getIdentifier(),l.getIdentifier(),F.matchesType(32),K.context,F.startPosition):this.addSuggestionsBasedOnColumnAndPartialVariation(H.token.getIdentifier(),l.getIdentifier(),K.context,F.startPosition)}else S instanceof P.qS?this.addSuggestionsBasedOnPartialIdentifier(this.tokenization.expression.substr(F.startPosition,l.endPosition-F.startPosition),S.context,F.startPosition):this.addSuggestionsBasedOnTableAndPartialColumnOrMeasure(F.getIdentifier(),l.getIdentifier(),F.matchesType(32),S.context,F.startPosition)}else{var X=b.context;if(M.d.featureSwitches.suggestKeywords&&b instanceof P.ub&&!(b.parent instanceof P.mR)&&this.addSuggestionsBasedOnPartialKeywordValue(l.getString(),b.keyword,l.startPosition),33===l.type)this.addSuggestionsBasedOnPartialTable(l.getIdentifier(),X,l.startPosition),this.addSuggestionsBasedOnPartialCalendarCore(l.getIdentifier(),!0,new ne(X),l.startPosition);else if(35===l.type)this.addSuggestionsBasedOnPartialColumnOrMeasure(l.getIdentifier(),X,l.startPosition);else if(l.isIdentifierOrKeyword&&T.couldBeOperand(b))this.addSuggestionsBasedOnPartialIdentifier(l.getIdentifier(),X,l.startPosition);else if(36===l.type)this.addSuggestionsBasedOnPartialEnumValue(l.getString(),X,l.startPosition);else if(60===l.type){var le=this.tokenization.nextNonIgnorable(o);this.addSuggestionsBasedOnNewToken(X,(le?le.matchedType:C.Yl.None).type,l.startPosition,4===this.tokenization.cursorActivity)}}}this.setReplaceStartAndPadSuggestions(),this._replaceEnd=l.endPosition;var e={iTokenNext:-1},r=this.tokenization.nextNonIgnorable(o,e);r&&(r.secondHalf&&(r.matchObject||1===r.length)&&(33===l.type&&32===r.type||35===l.type&&34===r.type||l.isIdentifierOrKeyword&&r.isIdentifierOrKeyword)&&((0,w.hu)(this.replaceEnd===r.startPosition,"expected replaceEnd to equal startPosition"),this._replaceEnd=r.endPosition,r=this.tokenization.nextNonIgnorable(e.iTokenNext,e)),r&&23===r.type&&(this._afterOParen=r.endPosition,(r=this.tokenization.nextNonIgnorable(e.iTokenNext,e))&&24===r.type&&(this._afterCParen=r.endPosition)))}}},g.prototype.addSuggestion=function(s,h){this.suggestionContexts.push(new oe(s,h))},g.prototype.setReplaceStartAndPadSuggestions=function(){var s=this;this.suggestionContexts.length>0&&(this._replaceStart=_.min(_.map(this.suggestionContexts,function(h){return h.replaceStart})),this._suggestions=this._suggestions.concat(_.map(this.suggestionContexts,function(h){return s.replaceStart<h.replaceStart&&h.suggestion.prependSuggestionText(s.tokenization.expression.substr(s.replaceStart,h.replaceStart-s.replaceStart)),h.suggestion})))},g.prototype.addSuggestionsBasedOnPartialTableCore=function(s,h,o,l){this.addSuggestions(_.chain(o.tables).filter(function(z){return g.isMatch(z.name,s)}).map(function(z){return new q.q$(z,z.getAutoCompleteName(h))}).value(),l);for(var u=function(X){var le=g.tableToSuggest(X),m=le.getAutoCompleteName(h),n=g.isMatch(le.name,s);n&&s!==m&&p.addSuggestion(new q.tA(le,m),l),p.addSuggestions(_.chain(X.columns).filter(function(e){return n||g.isColumnMatch(e,s)}).map(function(e){return g.buildTableColumnSuggestion(e,h,!0)}).value(),l)},p=this,b=0,S=o.tablesForQualifiedColumnRefs;b<S.length;b++)u(S[b]);for(var U=function(X){var le=X.getAutoCompleteName(h);L.addSuggestions(_.map(X.measures,function(m){return new q.q$(m,le+R.LP.bracket(m.name),X,m)}),l)},L=this,K=0,H=_.filter(o.tablesForMeasures,function(z){return g.isMatch(z.name,s)});K<H.length;K++)U(H[K])},g.prototype.addSuggestionsBasedOnPartialTable=function(s,h,o){this.addSuggestionsBasedOnPartialTableCore(s,!0,new ne(h),o),this.userInput=s},g.prototype.addSuggestionsBasedOnPartialColumnOrMeasureCore=function(s,h,o){this.addSuggestions(_.chain(h.simpleColumnRefs).filter(function(l){return g.isColumnMatch(l,s)}).map(function(l){return g.buildColumnSuggestion(l)}).value(),o),this.addSuggestions(_.chain(h.measures).filter(function(l){return g.isMatch(l.name,s)}).map(function(l){return new q.q$(l,R.LP.bracket(l.name))}).value(),o)},g.prototype.addSuggestionsBasedOnPartialColumnOrMeasure=function(s,h,o){this.addSuggestionsBasedOnPartialColumnOrMeasureCore(s,new ne(h),o),this.userInput=s},g.prototype.addSuggestionsBasedOnColumnAndPartialVariation=function(s,h,o,l){var u=new ne(o);this.addSuggestions(_.chain(u.simpleColumnRefs).filter(function(p){return p.table.variationSource&&R.uI.equalIgnoreCase(p.table.variationSource.name,s)&&g.isMatch(p.name,h)}).map(function(p){return new q.q$(p,R.LP.bracket(p.table.variationSource.name)+"."+R.LP.bracket(p.name),p)}).value(),l),this.userInput=h},g.prototype.addSuggestionsBasedOnPartialEnumValueCore=function(s,h,o){this.addSuggestions(_.chain(h.enumValues).filter(function(l){return g.isMatch(l.name,s)}).map(function(l){return new q.q$(l,l.name)}).value(),o)},g.prototype.addSuggestionsBasedOnPartialCalendarCore=function(s,h,o,l){this.addSuggestions(_.chain(o.calendars).filter(function(u){return g.isMatch(u.name,s)}).map(function(u){if(h)return new q.q$(u,R.LP.quote(u.name));var p=u.name.trim().indexOf(" ")>=0;return new q.q$(u,p?R.LP.quote(u.name):u.name)}).value(),l)},g.prototype.addSuggestionsBasedOnPartialEnumValue=function(s,h,o){this.addSuggestionsBasedOnPartialEnumValueCore(s,new ne(h),o),this.userInput=s},g.prototype.addSuggestionsBasedOnPartialKeywordValue=function(s,h,o){g.isMatch(h,s)&&this.addSuggestions([new q.q$(new N.Z0(h),h.toUpperCase())],o),this.userInput=s},g.prototype.addSuggestionBasedOnParitialAxis=function(s,h,o){var l=h.axes.map(function(p){return p.name}),u=l;l.length>=2&&(u=(0,E.ev)((0,E.ev)([],l,!0),["".concat(l[0]," ").concat(l[1]),"".concat(l[1]," ").concat(l[0])],!1)),this.addSuggestions(_.chain(u).filter(function(p){return g.startsWith(p,s)}).map(function(p){return new q.q$(new N.cr(p),p)}).value(),o)},g.prototype.addSuggestionsBasedOnPartialIdentifier=function(s,h,o){var l=new ne(h);this.addSuggestionsBasedOnPartialTableCore(s,!1,l,o),this.addSuggestionsBasedOnPartialColumnOrMeasureCore(s,l,o),this.addSuggestionsBasedOnPartialEnumValueCore(s,l,o),this.addSuggestionBasedOnParitialAxis(s,l,o),this.addSuggestionsBasedOnPartialCalendarCore(s,!1,l,o),this.addSuggestions(_.chain(l.functions).filter(function(u){return g.isMatch(u.name,s)}).map(function(u){return new q.q$(u,u.name)}).value(),o),this.addSuggestions(_.chain(l.variables).filter(function(u){return g.isMatch(u.name,s)}).map(function(u){return new q.q$(u,u.name)}).value(),o),this.userInput=s},g.prototype.addSuggestionsBasedOnNewToken=function(s,h,o,l){_.some(s.ephemeralContexts)?h!==C.Yl.None.type&&_.some(s.ephemeralContexts,function(p){return R.G.hasFlag(p.allowedTypes,h)})||this.addSuggestionsBasedOnPartialIdentifier("",s,o):l&&this.addSuggestionsBasedOnPartialIdentifier("",s,o)},g.prototype.addSuggestionsBasedOnTableAndPartialColumnOrMeasure=function(s,h,o,l,u){for(var p=new ne(l),b=0,S=p.tablesForQualifiedColumnRefs;b<S.length;b++){var F=S[b],U=g.tableToSuggest(F);R.uI.equalIgnoreCase(U.name,s)&&this.addSuggestions(F.columns.filter(function(H){return g.isColumnMatch(H,h)}).map(function(H){return g.buildTableColumnSuggestion(H,o,!1)}),u)}var L=_.find(p.tablesForMeasures,function(H){return R.uI.equalIgnoreCase(H.name,s)});if(L){var K=L.getAutoCompleteName(o);this.addSuggestions(L.measures.filter(function(H){return g.isMatch(H.name,h)}).map(function(H){return new q.q$(H,K+R.LP.bracket(H.name),H)}),u)}this.userInput=h},g.prototype.addSuggestionsBasedOnTableColumnAndPartialVariation=function(s,h,o,l,u,p){for(var b=new ne(u),S=function(z){var le=z.variationSource.table.getAutoCompleteName(l);F.addSuggestions(z.columns.filter(function(m){return g.isMatch(m.name,o)}).map(function(m){return new q.q$(m,le+R.LP.bracket(z.variationSource.name)+"."+R.LP.bracket(m.name),m)}),p)},F=this,U=0,L=_.filter(b.tablesForQualifiedColumnRefs,function(H){return H.variationSource&&R.uI.equalIgnoreCase(H.variationSource.table.name,s)&&R.uI.equalIgnoreCase(H.variationSource.name,h)});U<L.length;U++)S(L[U]);this.userInput=o},g.prototype.addSuggestionsBasedOnPartialVariation=function(s,h,o){var l=new ne(h),u=_.chain(l.newVariations).filter(function(p){return g.isMatch(p.name,s)}).map(function(p){return new q.q$(p,"."+R.LP.bracket(p.name))}).value();_.some(u)&&(this.addSuggestions(u,o),this.userInput=s)},g.prototype.removeDuplicateSuggestionsForSameObject=function(){for(var s=new R.Xy,h=0,o=this.suggestions;h<o.length;h++){var l=o[h],u=l.matchObject;s.containsKey(u)?l.segments.length>s.get(u).segments.length&&s.update(u,l):s.add(u,l)}this._suggestions=s.values()},g.prototype.removeDuplicateSuggestionsBySuggestionText=function(){this._suggestions=R.Sy.distinct(this.suggestions,q.XI.equals)},g.prototype.sortSuggestions=function(){this.suggestions.sort(q.J_)},g.prototype.findBestMatch=function(){var s=this;if(this._bestMatch=-1,_.some(this.suggestions)){for(var h=void 0,o=function(S){if(h=_.find(l.suggestions,function(F){return F.segments.length>S&&_.startsWith(F.segments[S].toUpperCase(),s.userInput.toUpperCase())}))return"break"},l=this,u=0;u<3&&"break"!==o(u);u++);this._bestMatch=0,h&&(this._bestMatch=this.suggestions.indexOf(h))}},g.buildColumnSuggestion=function(s){var h=R.LP.bracket(s.name),o=[s],l=s.table.variationSource;return l&&(h=R.LP.bracket(l.name)+"."+h,o.splice(0,0,l)),s.variationTable?new(q.tA.bind.apply(q.tA,(0,E.ev)([void 0,s,h],o,!1))):new(q.q$.bind.apply(q.q$,(0,E.ev)([void 0,s,h],o,!1)))},g.tableToSuggest=function(s){return s.variationSource?s.variationSource.table:s},g.buildTableColumnSuggestion=function(s,h,o){var l=s.table,u=R.LP.bracket(s.name),p=[s],b=l.variationSource;return b&&(u=R.LP.bracket(b.name)+"."+u,p.splice(0,0,b),l=b.table),u=l.getAutoCompleteName(h)+u,o&&p.splice(0,0,l),s.variationTable?new(q.tA.bind.apply(q.tA,(0,E.ev)([void 0,s,u],p,!1))):new(q.q$.bind.apply(q.q$,(0,E.ev)([void 0,s,u],p,!1)))},g.isColumnMatch=function(s,h){if(g.isMatch(s.name,h))return!0;var o=s.table.variationSource;return!(!o||!g.isMatch(o.name,h))},g.isMatch=function(s,h){return!!(g.startsWith(s,h)||h.length>=2&&s.toUpperCase().indexOf(h.toUpperCase())>=0)},g.startsWith=function(s,h){return _.startsWith(s.toUpperCase(),h.toUpperCase())},g}(),ne=function(){function g(s){this._tables=[],this._tablesForMeasures=[],this._measures=[],this._newVariations=[],this._axes=[],this._calendars=[];var h=!1,o=[],l=[],u=[],p=[],b=0;if(_.some(s.ephemeralContexts))for(var S=0,F=s.ephemeralContexts;S<F.length;S++){var U=F[S],L=U.allowedTypes;(R.G.hasFlag(L,1)||M.d.featureSwitches.useSkippableParams&&void 0===L)&&(h=!0),(R.G.hasFlag(L,2)||R.G.hasFlag(L,4))&&(this._tables=s.matchObjects.tables.filter(function(K){return K.isUserTable}),b|=256),R.G.hasFlag(L,8)&&(o=o.concat(U.getTablesInScopeForQualifiedColRefs())),R.G.hasFlag(L,16)&&(l=l.concat(U.getSimpleColumnRefsInScope())),R.G.hasFlag(L,64)&&(u=u.concat(U.enumValues)),R.G.hasFlag(L,2)&&(b|=20494,p=p.concat(_.filter(s.variables,function(K){return K.value&&K.value.tableValue}))),R.G.hasFlag(L,128)&&(b|=16),R.G.hasFlag(L,256)&&(b|=32),R.G.hasFlag(L,512)&&(b|=64),R.G.hasFlag(L,1024)&&(b|=128),R.G.hasFlag(L,16384)&&(b|=512),R.G.hasFlag(L,32768)&&(b|=1024),R.G.hasFlag(L,131072)&&(b|=2048),R.G.hasFlag(L,8192)&&(this._newVariations=U.getSimpleColumnRefsInScope()),(R.G.hasFlag(L,524288)||R.G.hasFlag(L,65536))&&(this._axes=s.matchObjects.axes),R.G.hasFlag(L,524288)&&(b|=8192),R.G.hasFlag(L,1048576)&&(this._calendars=s.matchObjects.calendars)}else h=!0;h&&(o=o.concat(s.getTablesInScopeForQualifiedColRefs()),l=l.concat(s.getSimpleColumnRefsInScope()),p=p.concat(s.variables),this._tablesForMeasures=s.matchObjects.tables.filter(function(K){return K.isUserTable}),this._measures=s.matchObjects.measures,b|=20495,b|=256),s.groupByCurrentTable||(b&=-9),this._tablesForQualifiedColumnRefs=o.filter(function(K){return K.isUserTable}),this._simpleColumnRefs=l,this._enumValues=u,this._variables=p,this._functions=_.filter(s.matchObjects.functions,function(K){return!!(K.role&b)})}return Object.defineProperty(g.prototype,"tables",{get:function(){return this._tables},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"tablesForMeasures",{get:function(){return this._tablesForMeasures},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"tablesForQualifiedColumnRefs",{get:function(){return this._tablesForQualifiedColumnRefs},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"simpleColumnRefs",{get:function(){return this._simpleColumnRefs},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"enumValues",{get:function(){return this._enumValues},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"variables",{get:function(){return this._variables},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"measures",{get:function(){return this._measures},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"functions",{get:function(){return this._functions},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"newVariations",{get:function(){return this._newVariations},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"axes",{get:function(){return this._axes},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"calendars",{get:function(){return this._calendars},enumerable:!1,configurable:!0}),g}(),oe=function(){return function(s,h){this.suggestion=s,this.replaceStart=h}}(),fe=D(21527);d.j(function(g,s){var h=g.trimEnd();if("]"!==h[h.length-1])return!1;var o=(0,fe.w)(g,0,void 0,void 0,void 0,!0),l=new P.DH(void 0),u=new Z(void 0,function(){return l});return u.update(o),u.anyErrors?(s.table=void 0,s.column=void 0,!1):l.tryGetTableAndColumnNames(s)});var he=function(g){return g[g.LegacyDefaultBehavior=0]="LegacyDefaultBehavior",g[g.AddMissingParens=1]="AddMissingParens",g[g.ConvertToEngine=2]="ConvertToEngine",g[g.Anonymize=4]="Anonymize",g}({}),de=function(g){return g[g.Expression=0]="Expression",g[g.Query=1]="Query",g[g.MultipleQueries=2]="MultipleQueries",g[g.MaskExpressionType=3]="MaskExpressionType",g}({}),Ee=function(){function g(s){void 0===s&&(s=de.Expression),this.options=s,this.clearParseState()}return Object.defineProperty(g.prototype,"parseTree",{get:function(){return this._parseTree},enumerable:!1,configurable:!0}),g.findCursorTokens=function(s){var h={iToken:-1,iNewToken:-1,iTokenLeft:-1,iTokenRight:-1,iTokenPrev:-1,iTokenSelection:-1};if(0!==s.cursorActivity){for(var o=s.cursorPosition||0,l=s.parseTokenCount-1;l>=0;l--)if(!(u=s.tokens[l]).ignorable&&(u.startPosition===o?u.length>0?h.iTokenRight=l:((0,w.hu)(60===u.type,"expected newToken"),h.iNewToken=l):u.startPosition+u.length===o&&(h.iTokenLeft=l),u.startPosition<o)){h.iTokenPrev=l;break}var p=s.selectionStart||0;if(p>=0)for(l=s.parseTokenCount-1;l>=0;l--){var u;if(!((u=s.tokens[l]).startPosition>=p)){u.startPosition+u.length>p&&29!==u.type&&(h.iTokenSelection=-1);break}u.ignorable||(h.iTokenSelection=l)}}return h},g.isUnrecognizedIdentifier=function(s){var h=s.token;return(0,w.hu)(h.isAnyKindOfIdentifier,"Expected IsUnrecognizedIdentifier to be called with an identifier node"),!h.matchObject&&!(s.parent instanceof P.qS||s.parent instanceof P.ai)},g.checkSemiselectability=function(s,h,o,l){-1!==o&&(l.semiselectable=_.some(h.getValidLeafNodesAtPosition(o),T.couldBeOperand))},g.updateSuggestions=function(s,h,o,l,u){var p=new J(s,h,o,l);p.buildSuggestions(),u.suggestions=p.suggestions,u.replaceStart=p.replaceStart,u.replaceEnd=p.replaceEnd,u.afterOParen=p.afterOParen,u.afterCParen=p.afterCParen,u.bestMatch=p.bestMatch},g.checkBoldParens=function(s,h,o,l,u){var p;if(-1!==o&&24===s.tokens[o].type?p=_.map(h.getValidLeafNodesAtPosition(o),function(z){return z.parent}):-1!==l&&23===s.tokens[l].type&&(p=_.map(h.getValidLeafNodesAtPosition(l),function(z){return z.parent})),p){for(var b,S,F=0,U=p;F<U.length;F++){var L=U[F],K=(0,R.as)(L,P.U6);if(K){b=K.leftParen,S=K.rightParen;break}var H=L instanceof P.u0?L:null;if(H){b=H.leftParen,S=H.rightParen;break}}b&&S&&(u.boldLeftParen=b.token.startPosition,u.boldRightParen=S.token.startPosition)}},g.checkPrototype=function(s,h,o){var l,u;if(-1!==h)for(var p=0,b=s.getValidLeafNodesAtPosition(h);p<b.length;p++){var F=void 0,U=void 0;for(U=(F=b[p]).parent;U;F=U,U=U.parent){var L=void 0,K=void 0,H=void 0;if(L=(0,R.as)(U,P.fA)){var z=L.getParamIndex(F);(X=L.getParameterByIndex(z))&&(l=o.prototypeParamContexts).push.apply(l,X.context.parameterContexts)}else if((K=U instanceof P.u0?U:void 0)&&(H=K.functionNode)&&F!==K.rightParen){var le=K.leftParen,m=H.token;if(o.prototypeFunctionBase=(0,R.as)(m.matchObject,N.eL),o.prototypePosition=m.startPosition,F===le){var X=void 0;(L=K.parameterList)&&(X=L.getParameterByIndex(0)),X?(u=o.prototypeParamContexts).push.apply(u,X.context.parameterContexts):o.prototypeParamContexts.push(new N.Go)}if(F!==H)break}}if(o.prototypeFunctionBase)break}},g.userEditingNode=function(s,h){if(!s.activeCursor)return!1;for(var o=h.token,l=o,u=h.parent;u instanceof P.n1||u instanceof P.DH||u instanceof P.jg||u instanceof P.Fc||u instanceof P.qS;u=u.parent)o=u.firstDescendent.token,l=u.lastDescendent.token;var p=s.cursorPosition||0;return o.startPosition<=p&&p<=l.endPosition},g.updateSyntaxHighlighting=function(s,h){for(var o,l=0;l<s.tokens.length;l++){var u=s.tokens[l];u.isComment?h.comments.push(u.getSegment()):u.isKeyword?h.functions.push(u.getSegment()):30===u.type||31===u.type?h.strings.push(u.getSegment()):33===u.type||35===u.type||39===u.type?h.unrecognizedIdentifiers.push(u.getSegment()):u.isAnyKindOfIdentifier&&(u.matchObject instanceof N.Gs||u.matchObject instanceof N.Z0||u.matchObject instanceof N.it||u.matchObject instanceof N.cr?h.functions.push(u.getSegment()):u.matchObject instanceof N.S2?h.tableReferences.push(u.getSegment()):u.matchObject instanceof N.XN?h.columnReferences.push(u.getSegment()):u.matchObject instanceof N.Cf?h.measureReferences.push(u.getSegment()):u.matchObject instanceof N.yB?h.variables.push(u.getSegment()):l<s.parseTokenCount&&h.unrecognizedIdentifiers.push(u.getSegment()))}(o=h.references).push.apply(o,(0,E.ev)((0,E.ev)((0,E.ev)([],h.tableReferences,!1),h.columnReferences,!1),h.measureReferences,!1))},g.detectErrors=function(s,h,o){for(var l,u=0,p=h.leafPositions;u<p.length;u++){for(var S=void 0,F=0,U=p[u].validNodes;F<U.length;F++){var K=g.errorsAtNode(s,U[F],h.context);(!S||K.length<S.length)&&(S=K)}S&&(l=o.errors).push.apply(l,S)}},g.errorsAtNode=function(s,h,o){var l=[],u=h.token;if(h instanceof P.IE){if(g.userEditingNode(s,h))switch(u.type){case 60:case 40:return l}return l.push(new V.D(u.getSegment(),V.j.Gramatical)),l}if(g.userEditingNode(s,h)||!h.parent)return l;if(h instanceof P.R6){var p=(0,R.as)(h.parent,P.tw);p&&!p.isInValidLocation&&l.push(new V.D(p.fullSpan,V.j.InvalidTupleLocation))}if(h instanceof P.N9){var S=(0,R.as)(h.parent,P._N).invalidRightArgument;S&&l.push(new V.D(S.fullSpan,V.j.RightArgumentToInOperatorNotValidTable))}if(h instanceof P.gq&&h.parent instanceof P.pZ){var F=h.parent.measureDef;if(F?.isComplete){var U=F.tableName,L=F.identifier,K=o.matchObjects.measures.find(function(ue){return!ue.isQueryScoped&&ue.name.toLowerCase()===L?.toLowerCase()});K&&K.table.name.toLowerCase()!==U?.toLowerCase()&&l.push(new V.D(F.fullSpan,V.j.DuplicateMeasureName))}}if(u.isAnyKindOfIdentifier&&(h.parent instanceof P.xY&&_.some(Object.keys(h.context.matchObjects.reservedWords),function(ue){return R.uI.equalIgnoreCase(ue,u.getString())})&&l.push(new V.D(u.getSegment(),V.j.VariableNameReserved)),g.isUnrecognizedIdentifier(h)&&l.push(new V.D(u.getSegment(),V.j.UnrecognizedIdentifier))),37===u.type&&l.push(new V.D(u.getSegment(),V.j.IncompleteNumber)),u.isIdentifierOrKeyword){var H=h.parent instanceof P.u0?h.parent:null;if(H){var z=(0,R.as)(u.matchObject,N.eL);if(z){var X=H.parameterList,le=function(g,s,h){for(var o=new N.gR,l=g.getParamCount(h),u=g.signatures.map(function(K){return new N.o(s,K,h,l,!1)}),p=R.jl.getAllExploredStates(u),F=0,U=p.completedStates.concat(p.incompleteStates);F<U.length;F++){var L=U[F];o.assessStatus(L.actualParam,l,L.prototypeParam,L.prototypeSignature)}return o}(z,H.context,X),m=V.j.InvalidParameter;if(!le.success){var n=H.rightParen,e=void 0,r=void 0;if(le.incomplete)n&&(e=r=n.token,m=V.j.MissingParameters);else if(le.badParam>-1){if(le.badParam!==X.parameterCount-1||n){var f=X.getParameterByIndex(le.badParam);if(f){e=f.firstDescendent.token,r=f.lastDescendent.token;var I=le.associatedSignature;le.badParam<I.length&&(I[le.badParam].role===C.Yl.OrderByParam&&(m=V.j.IncorrectOrderByParam),I[le.badParam].role===C.Yl.PartitionByParam&&(m=V.j.IncorrectPartitionByParam),I[le.badParam].role===C.Yl.MatchByParam&&(m=V.j.IncorrectMatchByParam))}else{var k=X.getSeparatorByIndex(le.badParam+1);k||(k=n),e=r=k.token}}}else le.firstExtraParam>-1&&(m=V.j.TooManyParameters,e=(0===le.firstExtraParam?X.firstDescendent:X.getSeparatorByIndex(le.firstExtraParam)).token,r=X.lastDescendent.token);e&&l.push(new V.D(c.X.fromTokens(e,r),m))}}else l.push(new V.D(u.getSegment(),V.j.FunctionCallOnNonFunction))}var Q=(0,R.as)(h.parent,P.qS);if(Q)if(R.LP.hasValidAxesReferences(Q.axesRef)||Q.isValidEnumValue||h!==Q.firstIdentifier){if(R.LP.hasValidAxesReferences(Q.axesRef)&&h===Q.firstIdentifier){var $=Q.axesRef,ge=Q.firstIdentifier.token,ve=Q.lastIdentifier.token;_.uniqWith($,N.e$).length!==$.length&&l.push(new V.D(c.X.fromTokens(ge,ve),V.j.InvalidParameter))}}else for(var re=1;re<Q.children.length;re++)l.push(new V.D(Q.getIdentifier(re).token.getSegment(),V.j.InvalidIdentifier))}return l},g.getResult=function(s,h,o){o=o||{};var l=new B.b(s.expression,s.cursorActivity,s.cursorPosition,s.selectionStart);if(!o.disableAll){var u=g.findCursorTokens(s);g.checkSemiselectability(s,h,u.iTokenSelection,l),o.disableSuggestions||g.updateSuggestions(s,h,u.iNewToken,u.iTokenLeft,l),g.checkBoldParens(s,h,u.iTokenLeft,u.iTokenRight,l),g.checkPrototype(h,u.iTokenPrev,l),o.disableSyntaxHighlighting||g.updateSyntaxHighlighting(s,l),o.disableErrorDetection||g.detectErrors(s,h,l)}return l},g.prototype.tryBindQualifiedReference=function(s,h){(0,w.hu)(34===s.type,"expected BracketedIdentifier"),(0,w.hu)(h.token===s,"expected BracketedIdentifier");var o=(0,R.as)(h.parent,P.DH);if(o){var p=o.tableRefNode.tableNode.token,b=p.getString();32===p.type&&(b=g.unquote(b));for(var S=g.unbracket(s.getString()),F=0,U=_.filter(o.context.getAllTablesInScopeForQualifiedColRefs(),function(X){return se(X.name,b)});F<U.length;F++){var L=U[F],K=L.findColumn(S);if(K)return p.matchObject=L,s.matchObject=K,!0}var H=o.context.matchObjects.findTable(b),z=H?.findMeasure(S);return z&&(p.matchObject=H,s.matchObject=z),!0}return!1},g.prototype.tryBindVariation=function(s,h){(0,w.hu)(34===s.type,"expected brackedIdentifierToken"),(0,w.hu)(h.token===s,"expected brackedIdentifierToken");var o=(0,R.as)(h.parent,P.Fc);if(o){var l=g.unbracket(s.getString()),u=o.variationSource,p=u.token,b=p.matchObject;if(b&&b.variationTable&&(s.matchObject=b.variationTable.findColumn(l)),!s.matchObject){var F,S=void 0;u.parent instanceof P.DH&&(F=(S=u.parent.tableRefNode.tableNode.token).getIdentifier());var U=p.getIdentifier(),L=_.find(o.context.getAllSimpleColRefsInScope(),function(K){return!!K.table.variationSource&&se(K.name,l)&&se(K.table.variationSource.name,U)&&(!F||se(K.table.variationSource.table.name,F))});L&&(S&&(S.matchObject=L.table.variationSource.table),p.matchObject=L.table.variationSource,s.matchObject=L)}return!0}return!1},g.prototype.bindTokens=function(s,h){for(var o=s.tokens,l=0;l<s.parseTokenCount;l++)this.bindToken(o[l],this._parseTree.getValidLeafNodesAtPosition(l),h)},g.prototype.bindToken=function(s,h,o){if(!s.matchObject)for(var l=function(L){switch(s.type){case 58:var K=L.parent;if(K instanceof P.qS){if(u.tryBindMultiAxisReference(s,(0,R.as)(K,P.qS))||u.tryBindMultiEnumValue(s,(0,R.as)(K,P.qS)))return{value:void 0};break}var H=s.getString();if(s.matchObject=o.findAxis(H))return s.matchObject=new N.cr(H),{value:void 0};var z=(0,R.as)(K,P.rI);if(z&&z.identifier===L)return s.matchObject=new N.yB(H,z),{value:void 0};if(s.matchObject=o.findFunction(H))return{value:void 0};if(_.includes(Object.keys(o.reservedWords),H))return s.matchObject=new N.Z0(H),{value:void 0};if(s.matchObject=o.findTable(H))return{value:void 0};if(s.matchObject=_.find(L.context.variables,function(n){return se(n.name,H)}))return{value:void 0};var X=_.flatMap(L.context.ephemeralContexts,function(n){return n.enumValues}).filter(function(n){return!!n});if(!_.isEmpty(X)&&(s.matchObject=_.find(X,function(n){return se(n.name,H)})))return{value:void 0};if(s.matchObject=o.findCalendar(H))return{value:void 0};break;case 57:case 46:s.matchObject=o.findFunction(s.getString());break;case 32:var le=g.unquote(s.getString());if(s.matchObject=o.findTable(le))return{value:void 0};if(s.matchObject=o.findCalendar(le))return{value:void 0};break;case 34:if(u.tryBindQualifiedReference(s,L)||u.tryBindVariation(s,L))return{value:void 0};var m=g.unbracket(s.getString());if(s.matchObject=_.find(L.context.getAllSimpleColRefsInScope(),function(n){return se(n.name,m)}))return{value:void 0};if(s.matchObject=_.find(o.measures,function(n){return se(n.name,m)}))return{value:void 0};break;case 49:case 50:return s.matchObject=new N.Z0(s.getString()),{value:void 0}}},u=this,p=0,b=h;p<b.length;p++){var F=l(b[p]);if("object"==typeof F)return F.value}},g.prototype.tryBindMultiAxisReference=function(s,h){var o=s.getString();return!!(s.matchObject=h.context.matchObjects.findAxis(o))&&(s.matchObject=new N.cr(o),!0)},g.prototype.tryBindMultiEnumValue=function(s,h){var o=s.getString();return!!h.isValidEnumValue&&(s.matchObject=new N.it(o,void 0),!0)},g.prototype.doParse=function(s,h,o,l,u,p){if(void 0===o&&(o=0),void 0===l&&(l=void 0),void 0===u&&(u=void 0),void 0===p&&(p=void 0),h!==this.context&&(this.context=h,this.clearParseState()),s===this.tokenization.expression&&o===this.tokenization.cursorActivity&&l===this.tokenization.cursorPosition&&u===this.tokenization.selectionStart)return p&&(p.tokensMatch=!0),!1;var b=(0,fe.w)(s,o,l,u,this.tokenization,!0,this.penultimateTokenization);return this._parseTree.update(b),this.hasInvalidatedQueries()&&this.doQueryInvalidations(h,b),this.bindTokens(b,h.matchObjects),p&&(p.tokensMatch=b.tokens.length===this.tokenization.tokens.length&&_.isEqual(_.map(b.tokens,function(S){return S.type}),_.map(this.tokenization.tokens,function(S){return S.type}))),this.penultimateTokenization=this.tokenization,this.tokenization=b,!0},g.prototype.hasInvalidatedQueries=function(){var s=(0,R.as)(this._parseTree.rootNode,P.Vu);if(s)return s.isInvalidated;if(this._parseTree.rootNode instanceof P._7)for(var o=0,l=this._parseTree.rootNode.queries;o<l.length;o++)if(l[o].isInvalidated)return!0;return!1},g.prototype.doQueryInvalidations=function(s,h){this._parseTree.clearAllContexts(),h.tokens.forEach(function(o){return o.matchObject=void 0}),s.matchObjects.clearDefinedMeasures(),s.matchObjects.clearDefinedVariables()},g.prototype.buildParseTree=function(s,h,o,l){void 0===h&&(h=0),void 0===o&&(o=void 0),void 0===l&&(l=void 0),this.context=void 0,this.clearParseState();var u=(0,fe.w)(s,h,o,l,this.tokenization,!0,this.penultimateTokenization);return this._parseTree.update(u),this._parseTree},g.prototype.parse=function(s,h,o,l,u,p,b){if(0===h)o=void 0,l=void 0;else{if(null==o)throw new Error("cursorPosition is null");if(null==l)throw new Error("selectionStart is null")}if(this.doParse(s,u,h,o,l,b))try{p.result=g.getResult(this.tokenization,this._parseTree)}catch(S){throw S.DaxParserTokenList="["+_.map(this.tokenization.tokens,function(F){return F.type}).join()+"]",S}},g.prototype.tryParse=function(s,h,o,l,u,p,b){if(void 0===o&&(o=void 0),void 0===l&&(l=void 0),void 0===u&&(u=0),void 0===p&&(p=void 0),void 0===b&&(b=void 0),0===u)p=void 0,b=void 0;else{if(null==p)throw new Error("cursorPosition is null");if(null==b)throw new Error("selectionStart is null")}if(this.doParse(s,h,u,p,b)){if(!o)return!0;try{return o.result=g.getResult(this.tokenization,this._parseTree,l),!0}catch(S){throw S.DaxParserTokenList="["+_.map(this.tokenization.tokens,function(F){return F.type}).join()+"]",S}}return!1},g.prototype.getDescription=function(s){for(var h=0,o=this.tokenization.tokens;h<o.length;h++){var l=o[h];if(l.matchObject&&l.startPosition<=s&&l.endPosition>=s)return l.matchObject.description}},g.prototype.getMeasureReferences=function(s,h,o){if(this.clearParseState(),!this.doParse(s,h))return o.unrecognizedMeasures=!0,[];var l={};o.unrecognizedMeasures=!1;for(var u=0;u<this.tokenization.tokens.length;u++){var p=this.tokenization.tokens[u],b=(0,R.as)(p.matchObject,N.Cf);if(b)l[b.name]=b;else if(34===p.type){var S=this._parseTree.getValidLeafNodesAtPosition(u);_.every(S,function(F){return g.isUnrecognizedIdentifier(F)})&&(o.unrecognizedMeasures=!0)}}return _.values(l)},g.prototype.renameReferences=function(s,h,o,l,u){if(this.clearParseState(),!this.doParse(h,o))return h;for(var p="",b=0,S=this.tokenization.tokens;b<S.length;b++){var F=S[b],U=void 0;switch(s){case"column":U=(0,R.as)(F.matchObject,N.XN);break;case"measure":U=(0,R.as)(F.matchObject,N.Cf);break;case"table":U=(0,R.as)(F.matchObject,N.S2)}U&&R.uI.equalIgnoreCase(U.name,l)?p+=g.delimitIdentifier(F.type,u,o):p+=F.getString()}return p},g.prototype.renameMovedMeasureTableReference=function(s,h,o,l,u){if(this.clearParseState(),!this.doParse(s,h))return s;for(var p=0,b=0;b<this.tokenization.tokens.length;b++){var F=(0,R.as)(this.tokenization.tokens[b].matchObject,N.Cf);if(F&&R.uI.equalIgnoreCase(F.name,o))for(var L=0,K=this._parseTree.getValidLeafNodesAtPosition(b);L<K.length;L++){var z=(0,R.as)(K[L].parent,P.DH);if(z){var X=z.tableRefNode.tableNode.token,le=X.getSegment(),m=g.delimitIdentifier(X.type,u,h);s=s.substr(0,p+le.startPosition)+m+s.substr(p+le.startPosition+le.length),p+=m.length-le.length;break}}}return s},g.prototype.finalParse=function(s,h,o,l){if(void 0===l&&(l=he.LegacyDefaultBehavior),this.doParse(s,h),o.finalResult=new Y.s,this._parseTree.anyErrors)o.finalResult.valid=!1;else{var u={expression:s},p=this._parseTree.tryAddClosingParens(!!(l&he.AddMissingParens),u);o.finalResult.valid=p.result,s=u.expression,o.finalResult.cParensNeeded=p.countParensAdded}l&he.ConvertToEngine&&(s=g.convertFormatCore(s,this.tokenization,!1)),o.finalResult.updatedExpression=s,l&he.Anonymize&&(o.finalResult.anonymizedExpression=O.buildAnonymousExpression(this.tokenization,h,g.delimitIdentifier)),this.clearParseState()},g.prototype.clearParseState=function(){var h,s=this;switch(this.penultimateTokenization=void 0,this.tokenization=new x.h("",0),this.options&de.MaskExpressionType){case de.Query:h=function(){return new P.Vu(void 0,s.context)};break;case de.Expression:h=function(){return new P.HV(void 0,s.context)};break;case de.MultipleQueries:h=function(){return new P._7(void 0,s.context)};break;default:(0,w.sr)("Unknown expression type in option value: "+JSON.stringify(this.options)),h=function(){return new P.HV(void 0,s.context)}}this._parseTree=new Z(this.context,h)},Object.defineProperty(g,"listSeparator",{get:function(){return W.ft().listSeparator},enumerable:!1,configurable:!0}),Object.defineProperty(g,"decimalSeparator",{get:function(){return W.ft().numberDecimalSeparator},enumerable:!1,configurable:!0}),g.quoteIfNeeded=function(s,h){return g.quoteNeeded(s,h)?g.quote(s):s},g.quoteNeeded=function(s,h){return R.LP.quoteNeeded(s,h instanceof N.hK?h:function(){return A.M.isReservedWord(s,h)})},g.quote=function(s){return g.quotePartial(s)+"'"},g.quotePartial=function(s){return"'"+s.replace(/'/g,"''")},g.unquote=function(s){return g.unquotePartial(s.substr(0,s.length-1))},g.unquotePartial=function(s){return s.substr(1).replace(/''/g,"'")},g.DoubleQuote=function(s){return'"'.concat(s.replace(/"/g,'""'),'"')},g.unDoubleQuote=function(s){return s.substr(1,s.length-2).replace(/""/g,'"')},g.bracket=function(s){return g.bracketPartial(s)+"]"},g.bracketPartial=function(s){return"["+s.replace(/\]/g,"]]")},g.delimitIdentifier=function(s,h,o){return g.delimitIdentifierInternal(s,h,function(){return g.quoteIfNeeded(h,o)})},g.delimitIdentifierInternal=function(s,h,o){switch(s){case 32:return g.quote(h);case 33:return g.quotePartial(h);case 34:return g.bracket(h);case 35:return g.bracketPartial(h);default:return(0,w.hu)(58===s,"expected identifier type"),o()}},g.unbracket=function(s){return g.unbracketPartial(s.substr(0,s.length-1))},g.unbracketPartial=function(s){return s.substr(1).replace(/\]\]/g,"]")},g.isFormulaTranslationNeeded=function(){return"."!==g.decimalSeparator||","!==g.listSeparator},g.convertFormat=function(s,h){return g.convertFormatCore(s,void 0,h)},g.convertFormatCore=function(s,h,o){var l=","!==g.listSeparator,u="."!==g.decimalSeparator,b=!o&&-1!==s.indexOf("\xa0");if(l||u||b){var S="";h||(h=(0,fe.w)(s,0,void 0,void 0,void 0,!o));var F=void 0,U=void 0,L=void 0;o?(F=g.listSeparator,U=".",L=g.decimalSeparator):(F=",",U=g.decimalSeparator,L=".");for(var K=0,H=0,z=h.tokens;H<z.length;H++){var X=z[H],le=X.getString(),m=le;switch(X.offsetPosition(K),X.type){case 27:l&&(m=F);break;case 36:u&&(m=le.replace(U,L));break;case 29:b&&(m=le.replace("\xa0"," "))}K+=m.length-le.length,S+=m}s=S,h.tokens.forEach(function(n){return n.attachToNewExpression(s)})}return s},g.convertToUI=function(s){return g.convertFormat(s,!0)},g.convertToEngine=function(s){return g.convertFormat(s,!1)},g}();function se(g,s){return R.uI.equalIgnoreCase(g,s)}},40546:function(Oe,ce,D){D.d(ce,{d:function(){return w}});var E=D(81337),w=function(){function N(){}return Object.defineProperty(N,"featureSwitches",{get:function(){return N._featureSwitches},enumerable:!1,configurable:!0}),N.setFeatureSwitches=function(R){N._featureSwitches=(0,E.pi)((0,E.pi)({},this._featureSwitches),R)},N._featureSwitches={useSkippableParams:!1,suggestKeywords:!0,includeUndefinedOptionalFunctionParameters:!1,resetSuggestWidgetStateBeforeCompletion:!0,addTriviaToParseNodeMetadata:!0,useParseTreeFormatting:!1,customCalendars:!1},N}()},95792:function(Oe,ce,D){D.d(ce,{BY:function(){return Ee},Gz:function(){return fe},K2:function(){return ne},Mk:function(){return J},Mn:function(){return q},O5:function(){return W},Sm:function(){return he},kD:function(){return oe},ub:function(){return de}});var E=D(3371),w=D(58871),N=D(68706),R=D(42165),O=D(74104),d=D(63513),Y=/=|:=/,V=new RegExp("^"+O.co+"$"),B=new RegExp("^"+O.jZ),M=new RegExp("^:$"),t=["]","["],x=/\t|\n|\r/g,G=[" ","\t","\n","\r"],Z=[" ","\t"];function W(ae,g){return T(ae,!1,g)}function T(ae,g,s,h){var o={name:null,formula:null,formulaStart:-1,errors:[]};try{var l=d.uI.trimStart(ae=ae||"",G),u=ie(l,V);if(u&&u[0].length===l.length)return o.name=s?u[0]:d.LP.unbracketPartial(u[0]),o;var p=ie(l,B);p&&(o.name=s?p[0]:d.LP.unbracket(p[0]),l=d.uI.trimStart(l.substr(p[0].length),G));var b=Y.exec(l);if(null==b&&h)return o.name="",o.formula=g?d.uI.trimStart(ae,Z):ae,o.formulaStart=0,o;var S=d.uI.trimEnd(b?l.substr(0,b.index):l,G);if(null==o.name){var F=d.uI.indexOfAny(S,t);if(-1===F)o.name=S;else{o.name=S.substr(0,F);var U=ae.length-l.length;do{o.errors.push(new N.D(new R.X(ae,U+F,1),N.j.InvalidNameCharacter)),F=d.uI.indexOfAny(S,t,F+1)}while(-1!==F)}}else if(!d.uI.isNullOrEmpty(S)){var L=ie(S,M);!b&&L&&L[0].length===S.length||o.errors.push(new N.D(new R.X(ae,ae.length-l.length,S.length),N.j.CantSeparateFormulaNameAndExpression))}if(!b)return o;l=l.substr(b.index+b[0].length),g&&(l=d.uI.trimStart(l,Z)),o.formula=l,o.formulaStart=ae.length-l.length}finally{o.name=o.name.replace(x,"")}return o}function q(ae,g,s){var h=function(ae,g){var s=T(ae,!0,!1,g),h={name:s.name,formula:s.formula,invalidFormula:void 0};return s.errors.length>0||null==s.formula?(h.formula="",h.invalidFormula=ae):h.invalidFormula=null,h}(ae,s);return g.name=h.name,g.expression=h.formula,null==h.invalidFormula}function J(ae,g){return function(ae){return d.uI.trim(ae,G)!==ae||-1!==d.uI.indexOfAny(ae,t)||!!Y.exec(ae)}(ae)&&(ae=d.LP.bracket(ae)),"".concat(ae," = ").concat(g)}function ne(ae,g,s,h){var o={matchObjects:null};E.M.populateAll(ae,g,o);var l=o.matchObjects;h&&l.chooseFunctions(function(S){return d.G.hasFlag(S.pushableToDirectQuery,1)});var u=new w.hK(l),p=l.findTable(s.table.name);p&&(u.currentTable=p.uberTable);var b=new w.hK(u,!1);return b.currentTable=null,b}function oe(ae,g,s,h){var o={matchObjects:null};E.M.populateAll(ae,g,o);var l=o.matchObjects;h&&l.chooseFunctions(function(F){return d.G.hasFlag(F.pushableToDirectQuery,1)});var u=new w.hK(l),p=l.findTable(s.table.name);if(p){var b=p.findMeasure(s.name);b&&(l.hideMeasure(b),p.hideMeasure(b)),u.currentTable=p.uberTable}var S=new w.hK(u,!1);return S.currentTable=null,S}function fe(ae,g,s,h){var o={matchObjects:null};E.M.populateAll(ae,g,o);var l=o.matchObjects;h&&l.chooseFunctions(function(S){return d.G.hasFlag(S.pushableToDirectQuery,2)});var u=new w.hK(o.matchObjects),p=l.findTable(s.table.name);if(p){var b=p.findColumn(s.name);b&&(l.hideColumn(b),p.hideColumn(b)),u.currentTable=p.uberTable}return u}function he(ae,g,s){var h={matchObjects:null};E.M.populateAll(ae,g,h);var o=h.matchObjects,l=new w.hK(o),u=o.findTable(s.name);return u&&(l.currentTable=u.uberTable),l}function de(ae,g,s){var h={matchObjects:null};E.M.populateAll(ae,g,h);var o=h.matchObjects,l=new w.hK(o);l.ephemeralContexts.push(new w.xE(l,null,{type:2},null));var u=o.findTable(s.name);return u&&o.hideTable(u),l}function Ee(ae,g){var s={matchObjects:null};return E.M.populateAll(ae,g,s),new w.hK(s.matchObjects)}function ie(ae,g){var s=g.exec(ae);if(s&&0===s.index)return s}},20540:function(Oe,ce,D){D.d(ce,{R:function(){return E}});var E=function(w){return w[w.Yum=0]="Yum",w[w.NotHungry=1]="NotHungry",w[w.Yuck=2]="Yuck",w}({})},79232:function(Oe,ce,D){D.d(ce,{A3:function(){return U},AP:function(){return L},Bw:function(){return c},E8:function(){return l},EF:function(){return S},Ex:function(){return s},FY:function(){return M},Ht:function(){return u},JQ:function(){return P},M0:function(){return W},M5:function(){return fe},ME:function(){return o},NB:function(){return J},Nw:function(){return ne},PH:function(){return B},PY:function(){return t},S7:function(){return p},Sx:function(){return Z},T8:function(){return de},TG:function(){return G},UE:function(){return le},Wt:function(){return A},Ym:function(){return C},ZO:function(){return ie},ZQ:function(){return oe},_H:function(){return ae},aN:function(){return Y},bM:function(){return se},dG:function(){return h},mO:function(){return F},qo:function(){return b},sC:function(){return Ee},sW:function(){return he},tR:function(){return g},w1:function(){return V},wV:function(){return T},zA:function(){return q}});var E=D(81337),w=D(55863),N=D(58871),R=D(63513),O=function(){function m(){}return m.prototype.toTraceString=function(){return this.toString(!0)},m.prototype.toString=function(n){void 0===n&&(n=!1);try{var e=new le(n);return this.accept(e)}catch(r){if(n)return r.ToString()}},m.Comparer={equals:function(e,r){return e.toLowerCase()===r.toLowerCase()}},m}(),d=function(m){function n(e,r){var f=m.call(this)||this;return f.left=e,f.right=r,(0,w.mv)(e,"left expression should not be null"),(0,w.mv)(r,"right expression should not be null"),f}return(0,E.ZT)(n,m),n.prototype.equals=function(e){return null!=e&&e instanceof n&&this.left.equals(e.left)&&this.right.equals(e.right)&&this.equalsCore(e)},n}(O),C=function(m){function n(e,r,f){var I=m.call(this,r,f)||this;return I.comparison=e,I}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitComparison(this,r)},n.prototype.equalsCore=function(e){return e instanceof n&&this.comparison===e.comparison},n}(d),A=function(m){function n(e,r,f){var I=m.call(this,r,f)||this;return I.operator=e,I}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitLogicalOperation(this,r)},n.prototype.equalsCore=function(e){return e instanceof n&&this.operator===e.operator},n}(d),Y=function(m){function n(e,r,f){var I=m.call(this,r,f)||this;return I.operation=e,I}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitArithmetic(this,r)},n.prototype.equalsCore=function(e){return e instanceof n&&this.operation===e.operation},n}(d),P=function(m){function n(e){var r=m.call(this)||this;return r.value=e,r}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitDateTimeLiteral(this,r)},n.prototype.equals=function(e){return e instanceof n&&this.value===e.value},n}(O),V=function(m){function n(e,r){var f=m.call(this)||this;return f.value=e,f.type=r,f}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitConstantScalar(this,r)},n.prototype.equals=function(e){return e instanceof n&&this.value===e.value&&this.type===e.type},n}(O),B=function(m){function n(e){var r=m.call(this)||this;return r.expression=e,r}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitNot(this,r)},n.prototype.equals=function(e){return e instanceof n&&this.expression.equals(e.expression)},n}(O),M=function(m){function n(e){var r=m.call(this)||this;return r.expression=e,r}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitNegation(this,r)},n.prototype.equals=function(e){return e instanceof n&&this.expression.equals(e.expression)},n}(O),t=function(m){function n(e){for(var r=[],f=1;f<arguments.length;f++)r[f-1]=arguments[f];var I=m.call(this)||this;return I.functionName=e,I.parameters=r,I}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitFunction(this,r)},n.prototype.equals=function(e){if(!(e instanceof n&&O.Comparer.equals(this.functionName,e.functionName)&&this.parameters.length===e.parameters.length))return!1;for(var r=0;r<this.parameters.length;r++)if(!this.parameters[r].equals(e.parameters[r]))return!1;return!0},n}(O),x=function(m){function n(e){var r=m.call(this)||this;return r.tableName=e,r}return(0,E.ZT)(n,m),n}(O),G=function(m){function n(e){var r=m.call(this,e)||this;return r.tableName=e,r}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitTableReference(this,r)},n.prototype.equals=function(e){return e instanceof n&&O.Comparer.equals(this.tableName,e.tableName)},n}(x),Z=function(m){function n(e,r){var f=m.call(this,e)||this;return f.tableName=e,f.propertyName=r,f}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitColumnReference(this,r)},n.prototype.equals=function(e){return e instanceof n&&O.Comparer.equals(this.tableName,e.tableName)&&O.Comparer.equals(this.propertyName,e.propertyName)},n}(x),W=function(m){function n(e,r){var f=m.call(this,e)||this;return f.propertyName=r,f}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitMeasureReference(this,r)},n.prototype.equals=function(e){return e instanceof n&&O.Comparer.equals(this.tableName,e.tableName)&&O.Comparer.equals(this.propertyName,e.propertyName)},n}(x),T=function(m){function n(e,r){return m.call(this,e,r)||this}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitTextConcatenation(this,r)},n.prototype.equalsCore=function(e){return e instanceof n},n}(d),c=function(m){function n(e,r){return m.call(this,e,r)||this}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitIn(this,r)},n.prototype.equalsCore=function(e){return e instanceof n},n}(d),q=function(m){function n(e){var r=m.call(this)||this;return r.items=e,(0,w.mv)(r.items,"items should not be null"),r}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitRowConstructor(this,r)},n.prototype.equals=function(e){if(!(e instanceof n)||this.items.length!==e.items.length)return!1;for(var r=0;r<this.items.length;r++)if(!this.items[r].equals(e.items[r]))return!1;return!0},n}(O),J=function(m){function n(e){var r=m.call(this)||this;return r.rows=e,(0,w.mv)(r.rows,"rows should not be null"),r}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitTableConstructor(this,r)},n.prototype.equals=function(e){if(!(e instanceof n)||this.rows.length!==e.rows.length)return!1;for(var r=0;r<this.rows.length;r++)if(!this.rows[r].equals(e.rows[r]))return!1;return!0},n.empty=new n([]),n}(O),ne=function(m){function n(e,r){var f=m.call(this)||this;return f.name=e,f.definition=r,f}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitMeasureExpression(this,r)},n.prototype.equals=function(e){return e instanceof n&&this.name.equals(e.name)&&this.definition.equals(e.definition)},n}(O),oe=function(m){return m.Asc="ASC",m.Desc="DESC",m.True="TRUE",m.False="FALSE",m}({}),fe=function(m){function n(e){var r=m.call(this)||this;return r.value=e,r}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitKeyword(this,r)},n.prototype.equals=function(e){return e instanceof n&&this.value===e.value},n.Asc=new n(oe.Asc),n.Desc=new n(oe.Desc),n.True=new n(oe.True),n.False=new n(oe.False),n}(O),he=function(m){function n(e){var r=m.call(this)||this;return r.axis=e,r}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitAxis(this,r)},n.prototype.equals=function(e){return e instanceof n&&this.axis===e.axis},n}(O),de=function(m){function n(e){var r=m.call(this)||this;return r.expressions=e,r}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitMultiIdentifier(this,r)},n.prototype.equals=function(e){if(!(e instanceof n)||this.expressions.length!==e.expressions.length)return!1;for(var r=this.expressions.length,f=0;f<r;f++)if(!this.expressions[f].equals(e.expressions[f]))return!1;return!0},n}(O),Ee=function(m){function n(e){var r=m.call(this)||this;return r.value=e,r}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitEnum(this,r)},n.prototype.equals=function(e){return e instanceof n&&this.value===e.value},n}(O),ie=function(m){function n(){return m.call(this)||this}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitOmittedArgument(this,r)},n.prototype.equals=function(e){return this===e},n.instance=new n,n}(O),se=function(m){function n(e){var r=m.call(this)||this;return(0,w.mv)(e,"nodeOrExpressionText should be defined"),r.expressionText=e instanceof N.$Y?e.fullSpan.text:e,r}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitUnknown(this,r)},n.prototype.equals=function(e){return e instanceof n&&O.Comparer.equals(this.expressionText,e.expressionText)},n}(O),ae=function(m){function n(e,r){var f=m.call(this)||this;return f.name=e,f.definition=r,(0,w.hu)(!R.uI.isNullOrEmpty(e),"name should not be null or empty"),(0,w.mv)(r,"definition should not be null"),f}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitVariableDefinition(this,r)},n.prototype.equals=function(e){return e instanceof n&&O.Comparer.equals(this.name,e.name)&&this.definition.equals(e.definition)},n}(O),g=function(m){function n(e,r){var f=m.call(this)||this;return f.variables=e,f.returnExpression=r,(0,w.mv)(e,"variables should not be null"),(0,w.mv)(r,"returnExpression should not be null"),f}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitVarReturn(this,r)},n.prototype.equals=function(e){if(!(e instanceof n&&this.variables.length===e.variables.length&&this.returnExpression.equals(e.returnExpression)))return!1;for(var r=0;r<this.variables.length;r++)if(!this.variables[r].equals(e.variables[r]))return!1;return!0},n}(O),s=function(m){function n(e){var r=m.call(this)||this;return r.name=e,(0,w.hu)(!R.uI.isNullOrEmpty(e),"name should not be null or empty"),r}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitVariableReference(this,r)},n.prototype.equals=function(e){return e instanceof n&&O.Comparer.equals(this.name,e.name)},n}(O),h=function(m){function n(e,r,f){var I=m.call(this)||this;return I.tableName=e,I.variationSourceName=r,I.targetPropertyName=f,(0,w.mv)(r,"variationSourceName should not be null"),(0,w.mv)(f,"targetPropertyName should not be null"),I}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitVariationColumnReference(this,r)},n.prototype.equals=function(e){return e instanceof n&&O.Comparer.equals(this.tableName,e.tableName)&&O.Comparer.equals(this.variationSourceName,e.variationSourceName)&&O.Comparer.equals(this.targetPropertyName,e.targetPropertyName)},n}(O),o=function(m){function n(e){var r=m.call(this)||this;return r.values=e,r}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitStartAt(this,r)},n.prototype.equals=function(e){return e instanceof n&&this.values.length===e.values.length&&this.values.every(function(r,f){return r.equals(e.values[f])})},n}(O),l=function(m){function n(e,r){var f=m.call(this)||this;return f.clause=e,f.direction=r,f}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitSort(this,r)},n.prototype.equals=function(e){return!!(e instanceof n&&this.clause.equals(e.clause))&&(!this.direction||!!e.direction&&this.direction.equals(e.direction))},n}(O),u=function(m){function n(e,r){var f=m.call(this)||this;return f.sortClauses=e,f.startAt=r,f}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitOrderBy(this,r)},n.prototype.equals=function(e){if(!(e instanceof n)||this.sortClauses.length!==e.sortClauses.length)return!1;for(var r=0;r<this.sortClauses.length;r++)if(!this.sortClauses[r].equals(e.sortClauses[r]))return!1;return!this.startAt||!!e.startAt&&this.startAt.equals(e.startAt)},n}(O),p=function(m){function n(e,r,f){var I=m.call(this)||this;return I.definitions=e,I.evaluate=r,I.orderBy=f,I}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitQuery(this,r)},n.prototype.equals=function(e){var r,f;if(!(e instanceof n)||(null===(r=this.definitions)||void 0===r?void 0:r.length)!==(null===(f=e.definitions)||void 0===f?void 0:f.length))return!1;for(var I=0;I<this.definitions.length;I++)if(!this.definitions[I].equals(e.definitions[I]))return!1;return!!this.evaluate.equals(e.evaluate)&&(!this.orderBy||!!e.orderBy&&this.orderBy.equals(e.orderBy))},n}(O),b=function(m){function n(e){var r=m.call(this)||this;return r.queries=e,r}return(0,E.ZT)(n,m),n.prototype.accept=function(e,r){return e.visitQueries(this,r)},n.prototype.equals=function(e){return e instanceof n&&this.queries.length===e.queries.length&&this.queries.every(function(r,f){return r.equals(e.queries[f])})},n}(O),S=function(m){return m[m.Add=0]="Add",m[m.Subtract=1]="Subtract",m[m.Multiply=2]="Multiply",m[m.Divide=3]="Divide",m[m.Power=4]="Power",m}({}),F=function(m){return m[m.EqualTo=0]="EqualTo",m[m.StrictEqualTo=1]="StrictEqualTo",m[m.GreaterThan=2]="GreaterThan",m[m.LessThan=3]="LessThan",m[m.GreaterThanEqualTo=4]="GreaterThanEqualTo",m[m.LessThanEqualTo=5]="LessThanEqualTo",m[m.NotEqualTo=6]="NotEqualTo",m}({}),U=function(m){return m[m.And=0]="And",m[m.Or=1]="Or",m}({}),L=function(m){return m[m.String=0]="String",m[m.Number=1]="Number",m}({});function z(m){switch(m){case L.Number:return"Number";case L.String:return"String"}return(0,w.vE)("uexpected ConstantDataType ".concat(m))}var le=function(){function m(n){this.traceString=n}return m.prototype.visitStartAt=function(n,e){var r=this,f="";return n.values.length>0&&(f="START AT ",f+=n.values.map(function(I){return I.accept(r,e)}).join(", ")),f},m.prototype.visitSort=function(n,e){return"".concat(n.clause.accept(this,e)).concat(n.direction?" "+n.direction.accept(this,e):"")},m.prototype.visitOrderBy=function(n,e){var r=this,f="";return n.sortClauses.length>0&&(f="ORDER BY\n",f+="    "+n.sortClauses.map(function(I){return I.accept(r,e)}).join(", "),n.startAt&&(f+="\n"+n.startAt.accept(this,e))),f},m.prototype.visitMeasureExpression=function(n,e){return"MEASURE ".concat(n.name," = ").concat(n.definition.accept(this,e))},m.prototype.visitVariableDefinition=function(n,e){return"VAR ".concat(n.name," = ").concat(n.definition.accept(this,e))},m.prototype.visitQuery=function(n,e){var r=this,f="";n.definitions.length>0&&(f="DEFINE\n",f+=n.definitions.map(function(ee){return"    "+ee.accept(r,e)}).join("\n"),f+="\n");var I="EVALUATE ".concat(n.evaluate.accept(this,e),"\n"),k=n.orderBy?"".concat(n.orderBy.accept(this,e),"\n"):"";return"".concat(f).concat(I).concat(k)},m.prototype.visitQueries=function(n,e){var r=this;return n.queries.map(function(f){return f.accept(r,e)}).join("\n\n")},m.prototype.visitAxis=function(n,e){return n.axis},m.prototype.visitMultiIdentifier=function(n,e){for(var r="",f=0,I=n.expressions;f<I.length;f++)r+=this.visitExpression(I[f]);return r},m.prototype.visitEnum=function(n,e){return n.value},m.prototype.visitArithmetic=function(n){return this.visitBinaryExpression(n,function(m){switch(m){case S.Add:return"+";case S.Divide:return"/";case S.Multiply:return"*";case S.Power:return"^";case S.Subtract:return"-"}return(0,w.vE)("unexpected operator ".concat(m))}(n.operation))},m.prototype.visitConstantScalar=function(n){if(this.traceString)return"{".concat(z(n.type),"}");switch(n.type){case L.String:return R.LP.doubleQuote(n.value);case L.Number:return n.value;default:(0,w.sr)("Unsupported node of type ".concat(z(n.type)))}},m.prototype.visitDateTimeLiteral=function(n,e){return n.value},m.prototype.visitComparison=function(n){return this.visitBinaryExpression(n,function(m){switch(m){case F.EqualTo:return"=";case F.StrictEqualTo:return"==";case F.NotEqualTo:return"<>";case F.GreaterThan:return">";case F.GreaterThanEqualTo:return">=";case F.LessThan:return"<";case F.LessThanEqualTo:return"<="}return(0,w.vE)("unexpected comparison operator ".concat(m))}(n.comparison))},m.prototype.visitNegation=function(n){return"-".concat(this.visitExpression(n.expression))},m.prototype.visitNot=function(n){return"NOT(".concat(n.expression.toString(this.traceString),")")},m.prototype.visitFunction=function(n){var e=this,r=n.parameters.map(function(f){return e.visitExpression(f)}).join(", ");return"".concat(n.functionName,"(").concat(r,")")},m.prototype.visitTableReference=function(n){return this.traceString?"Table":R.LP.quote(n.tableName)},m.prototype.visitColumnReference=function(n){return this.traceString?"Table[Column]":"".concat(R.LP.quote(n.tableName)).concat(R.LP.bracket(n.propertyName))},m.prototype.visitMeasureReference=function(n){return this.traceString?"[Measure]":"".concat(R.LP.quote(n.tableName)).concat(R.LP.bracket(n.propertyName))},m.prototype.visitLogicalOperation=function(n){return this.visitBinaryExpression(n,function(m){switch(m){case U.And:return"&&";case U.Or:return"||"}return(0,w.vE)("unexpected logical operator ".concat(m))}(n.operator))},m.prototype.visitIn=function(n){return this.visitBinaryExpression(n,"IN")},m.prototype.visitTextConcatenation=function(n){return this.visitBinaryExpression(n,"&")},m.prototype.visitRowConstructor=function(n){var e=this,r=n.items.map(function(f){return f.toString(e.traceString)}).join(", ");return"(".concat(r,")")},m.prototype.visitTableConstructor=function(n){var e=this,r=n.rows.map(function(f){return f.toString(e.traceString)}).join(", ");return"{".concat(r,"}")},m.prototype.visitKeyword=function(n){return n.value.toString().toUpperCase()},m.prototype.visitOmittedArgument=function(n){return""},m.prototype.visitUnknown=function(n){return this.traceString?"{Unknown}":n.expressionText},m.prototype.visitVarReturn=function(n){var e=this,r=n.variables.map(function(f){return"VAR ".concat(e.traceString?"__X":f.name," = ").concat(e.visitExpression(f.definition))}).join(" ");return"".concat(r," RETURN ").concat(this.visitExpression(n.returnExpression))},m.prototype.visitVariableReference=function(n){return this.traceString?"__X":n.name},m.prototype.visitVariationColumnReference=function(n){return this.traceString?"Table[VariationSource].[Column]":"".concat(R.LP.quote(n.tableName)).concat(R.LP.bracket(n.variationSourceName),".").concat(R.LP.bracket(n.targetPropertyName))},m.prototype.visitBinaryExpression=function(n,e){var r=this.getExpressionType(n),f=this.getExpressionType(n.left),I=this.getExpressionType(n.right),k=!1,ee=!1;0===f&&(k=!0),0===I&&(ee=!0);var Q=this.getPrecedence(r);if(k||13===f||Q<this.getPrecedence(f)&&(k=!0),!ee&&13!==I){var $=this.getPrecedence(I);(Q<$||Q===$&&!this.canCombine(r,I))&&(ee=!0)}return"".concat(this.visitExpression(n.left,k)," ").concat(e," ").concat(this.visitExpression(n.right,ee))},m.prototype.visitExpression=function(n,e){void 0===e&&(e=!1);var r="";return e&&(r+="("),r+=n.accept(this),e&&(r+=")"),r},m.prototype.getPrecedence=function(n){switch(n){case 1:return 0;case 2:return 1;case 3:case 4:return 2;case 6:case 7:return 3;case 8:return 4;case 12:case 9:return 5;case 5:return 6;case 10:return 7;case 11:return 8;default:(0,w.vE)("Unsuppored expression type ".concat(n))}},m.prototype.getExpressionType=function(n){if(n instanceof se)return 0;if(n instanceof M)return 2;if(n instanceof B)return 5;if(n instanceof T)return 8;if(n instanceof c)return 12;if(n instanceof Y)switch(n.operation){case S.Power:return 1;case S.Multiply:return 3;case S.Divide:return 4;case S.Add:return 6;case S.Subtract:return 7;default:(0,w.vE)("Unsupported arithmetic operation ".concat(n.operation))}if(n instanceof C)return 9;if(n instanceof A)switch(n.operator){case U.And:return 10;case U.Or:return 11;default:(0,w.vE)("Unsupported binary logical operator ".concat(n.operator))}return 13},m.prototype.canCombine=function(n,e){return 6===n&&6===e||3===n&&3===e||10===n&&10===e||11===n&&11===e},m}()},98277:function(Oe,ce,D){D.d(ce,{r:function(){return A}});var A,E=D(81337),w=D(55863),N=D(40546),R=D(58871),O=D(85616),d=D(79232),C=D(59458);!function(Z){var W;function c(o){var l=o,u=function(o){for(;null!=o&&1===o.children.length&&o instanceof O._L;){if(!(o.isComplete&&o.children[0]instanceof R.sN)){o=void 0;break}o=o.children[0]}return o}(l);if(null==u)return new d.bM(l);if(1===l.children.length&&l instanceof O.q1){if(l.valid){var b=l.children[0];return b.valid?b instanceof O._L||b instanceof O.q1?c(b):q(b):new d.bM(u)}return new d.bM(u)}if(null!=u&&u instanceof O.ze){for(var F=0,U=u.children;F<U.length;F++){var L=U[F];if(!(L instanceof O._L)||L.isComplete)return q(L)}return new d.bM(u)}return q(u)}function q(o){if((0,C.hI)(W)&&o instanceof O.Ti){if(o.children.length>=2){for(var l=!1,u=0;u<o.children.length-1;u++)44===o.children[0].token.type&&(l=!l);var b=c(o.children[o.children.length-1]);return l?new d.PH(b):b}return new d.bM(o)}if(o instanceof O.Hf)return d.M5.Asc;if(o instanceof O.QB)return d.M5.Desc;if(o instanceof O.a$){var S=o.children.length;if(S>=3){if(o instanceof O.gi||o instanceof O.RZ||o instanceof O.Ed)return J(o.children,S-1,Y);if((0,C.V0)(W)&&o instanceof O.F0)return J(o.children,S-1,P);if((0,C.Tk)(W)&&o instanceof O.HV)return J(o.children,S-1,V);if((0,C.pi)(W)&&o instanceof O.IS)return J(o.children,S-1,B)}return new d.bM(o)}if(o instanceof O.gR){if(o.children.length>=2){var F=1;for(u=0;u<o.children.length-1;u++)20===o.children[u].token.type&&(F*=-1);return he(b=c(o.children[o.children.length-1]),F)}return new d.bM(o)}if(o instanceof O.U6)return 3===o.children.length?c(o.children[1]):new d.bM(o);if(o instanceof O.DU){if(o.children.length>=3){var L=o.children[0].token.getString(),K=[];if(o.children[2]instanceof O.fA){var H=o.children[2];if(H.parameterCount>0){K=new Array(H.parameterCount);var X=N.d.featureSwitches.includeUndefinedOptionalFunctionParameters?H.allParametersIncludingUndefined:H.parameters;for(u=0;u<H.parameterCount;u++)K[u]=null!=X[u]?c(X[u]):d.ZO.instance}}return new(d.PY.bind.apply(d.PY,(0,E.ev)([void 0,L],K,!1)))}return new d.bM(o)}if(o instanceof O.DH){var m=o;return m.qualifiedColumnRef?new d.Sx(m.qualifiedColumnRef.table.name,o.qualifiedColumnRef.name):m.bracketedIdentifier&&m.tableRefNode?s(m):new d.bM(o)}if(o instanceof O.Fc){var n=o.variationSource;if(null!=n&&null!=n.simpleColumnRef){var e=n.simpleColumnRef.table.name,r=n.simpleColumnRef.name;if(null!=o.qualifiedColumnRef)return new d.dG(e,r,o.qualifiedColumnRef.name);if(null!=o.simpleColumnRef)return new d.dG(e,r,o.simpleColumnRef.name)}return new d.bM(o)}if(o instanceof O.TV||o instanceof O.T0||o instanceof O.eV)return s(o);if(o instanceof O.qS)return function(o){for(var l=[],u=0,p=o.children;u<p.length;u++){var S=s(p[u]);S&&l.push(S)}return new d.T8(l)}(o);if(o instanceof O.uA)return new d.JQ(o.token.getString());if(o instanceof O.vX)return new d.w1(o.token.getString(),d.AP.Number);if(o instanceof O.XN)return new d.w1(o.string,d.AP.String);if((0,C.hI)(W)&&o instanceof O.Cm)return function(o){var l=o.children.length;if(!o.isComplete||l<3||!(o.children[l-2]instanceof O.y3))return new d.bM(o);for(var u=new Array(l-2),p=0;p<l-2;p++){var b=o.children[p];if(null==b)return new d.bM(o);var S=oe(b);if(!S)return new d.bM(o);u[p]=S}return new d.tR(u,c(o.children[l-1]))}(o);if((0,C.A3)(W)){if(o instanceof O._N)return o.children.length>=3&&o.children[1]instanceof O.N9?J(o.children,o.children.length-1,M):new d.bM(o);if(o instanceof O.tw){var f=o.children,I=[];for(u=1;u<f.length-1;u++)f[u]instanceof O.ZH||I.push(c(f[u]));return new d.zA(I)}if(o instanceof O.lg){var k=function(o){var l=o.children,u=l.length;if(!(u<2)&&l[0]instanceof O.HI&&l[u-1]instanceof O.yE){if(2===u)return d.NB.empty;for(var p=[],b=1;b<u-1;b++)if(!(l[b]instanceof O.ZH)){var S=c(l[b]);p.push(S instanceof d.zA?S:new d.zA([S]))}return new d.NB(p)}}(o);return k??new d.bM(o)}}if((0,C.XD)(W)&&o instanceof O.mR&&1===o.children.length){var ee=o.children[0];if(ee instanceof O.Hf)return d.M5.Asc;if(ee instanceof O.QB)return d.M5.Desc}if(o instanceof O.ZQ)return c(o.children[0]);if(o instanceof O.Lj){var Q=c(o.children[0]),re=void 0;return o.children[1]instanceof O.et&&(re=c(o.children[1])),new d.E8(Q,re)}return new d.bM(o)}function J(o,l,u){if(l<0)return new d.bM(o[0]);if(0===l)return c(o[l]);var p=J(o,l-2,u);return u(o[l-1],p,c(o[l]))}function oe(o){if(o.isComplete&&!(o.children.length<4)&&o.children[0]instanceof O.fY&&o.children[2]instanceof O.sB){var u=o.children[1];if(u instanceof O.TV){var p=u.token.matchObject;if(p instanceof R.yB)return new d._H(p.name,c(o.children[3]))}}}function he(o,l){return o instanceof d.FY?he(o.expression,-1*l):l<0?new d.FY(o):o}function ie(o){var l=o.children;if(o.isComplete&&!(l.length<4)&&l[0]instanceof O.gq&&l[1]instanceof O.ai&&l[2]instanceof O.sB&&l[3]instanceof O.ZQ){var p=s(l[1]),b=c(l[3]);return new d.Nw(p,b)}}function se(o){if(!o.isComplete)return new d.bM(o);var p,b,l=o.children,u=[],S=0;if(l[S]instanceof O.N4){for(var U=0,L=l[S].children;U<L.length;U++){var K=L[U];if(K instanceof O.pZ){var H=ie(K);if(!H)return new d.bM(o);u.push(H)}else if(K instanceof O.dl){var z=oe(K);if(!z)return new d.bM(o);u.push(z)}}S++}return l[S]instanceof O.yC&&l[++S]instanceof O.ZQ?(p=c(l[S]),l[++S]instanceof O.rc&&!(b=function(o){var l=o.children,u=l.length;if(!(u<3)){for(var S,p=[],b=2;b<u&&!(l[b]instanceof O.ic);)l[b]instanceof O.Lj&&p.push(c(l[b])),b++;if(!(l[b]instanceof O.ic)||(S=function(o){var l=o.children,u=l.length;if(!(u<3)&&l[0]instanceof O.Xg&&l[1]instanceof O.rL){for(var p=[],b=2;b<u;b++)l[b]instanceof O.ZH||p.push(c(l[b]));return new d.ME(p)}}(l[b]),S))return new d.Ht(p,S)}}(l[S]))?new d.bM(o):new d.S7(u,p,b)):new d.bM(o)}function s(o){var l=o instanceof O.DH?o.bracketedIdentifier:o;if(!(l instanceof R.a9))return new d.bM(o);var u=l.token;if(u.matchObject instanceof R.S2)return new d.TG(u.matchObject.name);if(u.matchObject instanceof R.Cf)return new d.M0(u.matchObject.table.name,u.matchObject.name);if(u.matchObject instanceof R.XN)return new d.Sx(u.matchObject.table.name,u.matchObject.name);if(u.matchObject instanceof R.yB)return new d.Ex(u.matchObject.name);if(u.matchObject instanceof R.Gs){if(u.matchObject.name===d.ZQ.True)return d.M5.True;if(u.matchObject.name===d.ZQ.False)return d.M5.False}if(u.matchObject instanceof R.cr)return new d.sW(u.matchObject.name);if(u.matchObject instanceof R.it)return new d.sC(u.matchObject.name);if(u.matchObject instanceof R.Z0){if(u.matchObject.name===d.ZQ.Asc)return d.M5.Asc;if(u.matchObject.name===d.ZQ.Desc)return d.M5.Desc}return new d.bM(o)}Z.build=function(o,l){return W=l,o instanceof O._7?function(o){if(!o.isComplete)return new d.bM(o);for(var l=[],u=0,p=o.children;u<p.length;u++){var b=p[u];if(!(b instanceof O.Vu))return new d.bM(b);var S=se(b);if(!(S instanceof d.S7))return new d.bM(b);l.push(S)}return new d.qo(l)}(o):c(o)}}(A||(A={}));var Y=function(W,T,c){return new d.aN(function(Z){if(Z instanceof R.a9)switch(Z.token.type){case 21:return d.EF.Multiply;case 22:return d.EF.Divide;case 19:return d.EF.Add;case 20:return d.EF.Subtract;case 18:return d.EF.Power}return(0,w.vE)("Not a SingleTokenNode arithmetic Operator ".concat(JSON.stringify(Z)))}(W),T,c)},P=function(W,T,c){return new d.Ym(function(Z){if(Z instanceof R.a9)switch(Z.token.type){case 15:return d.mO.LessThan;case 11:return d.mO.LessThanEqualTo;case 17:return d.mO.EqualTo;case 9:return d.mO.StrictEqualTo;case 12:return d.mO.GreaterThanEqualTo;case 16:return d.mO.GreaterThan;case 10:return d.mO.NotEqualTo}return(0,w.vE)("Not a SingleTokenNode ComparisonOperator ".concat(Z.token.type))}(W),T,c)},V=function(W,T,c){return new d.Wt(function(Z){switch(Z.token.type){case 13:return d.A3.And;case 14:return d.A3.Or}return(0,w.vE)("Not a SingleTokenNode LogicalOperator ".concat(Z.token.type))}(W),T,c)},B=function(W,T,c){return new d.wV(T,c)},M=function(W,T,c){return new d.Bw(T,c)}},59458:function(Oe,ce,D){D.d(ce,{A3:function(){return d},Tk:function(){return R},V0:function(){return N},XD:function(){return C},hI:function(){return w},pi:function(){return O}});var E=D(63513);function w(Y){return E.G.hasFlag(Y,1)}function N(Y){return E.G.hasFlag(Y,2)}function R(Y){return E.G.hasFlag(Y,4)}function O(Y){return E.G.hasFlag(Y,16)}function d(Y){return E.G.hasFlag(Y,8)}function C(Y){return E.G.hasFlag(Y,32)}},17819:function(Oe,ce,D){D.d(ce,{MQ:function(){return P.M},cr:function(){return A.cr},Df:function(){return A.Df},XN:function(){return A.XN},hK:function(){return A.hK},it:function(){return A.it},Gs:function(){return A.Gs},Z0:function(){return A.Z0},Cf:function(){return A.Cf},w_:function(){return E.w_},dH:function(){return G.d},S2:function(){return A.S2},yB:function(){return A.yB},MX:function(){return E.MX},ss:function(){return V.s},Hw:function(){return Z},bp:function(){return Y.b},O5:function(){return o.O5},Gz:function(){return o.Gz},K2:function(){return o.K2},kD:function(){return o.kD},Sm:function(){return o.Sm},ub:function(){return o.ub},Mk:function(){return o.Mk},yD:function(){return J},o4:function(){return ne},g5:function(){return l.g5},Mn:function(){return o.Mn}});var E=D(11674);D(68706),D(98277),D(59458),D(79232);var A=D(58871),Y=D(82269),P=D(3371),V=D(22021),B=D(81337),M=D(55863),t=D(66106),x=D(63513),G=D(40546),Z=function(){return function(p,b,S,F,U){this.name=p,this.optional=b,this.repeatable=S,this.repeatGroup=F,this.skippable=U}}(),W=function(){return function(p,b,S,F,U,L){this.name=p,this.description=b,this.category=S,this.pushableToDQ=F,this.parameters=U,this.VisualCalculationsInfo=L}}(),T=function(){return function(p,b,S){this.param=p,this.value=b,this.description=S}}(),c=function(){return function(p,b,S,F,U){void 0===U&&(U=1023),this.name=p,this.role=b,this.signatureRole=S,this.enumValues=F,this.returnType=U}}(),q=function(){function u(p,b,S){this._reservedWords={},this._functions=[],this._daxAxes=S?S.map(function(X){return new A.cr(X)}):[];for(var F=0,U=p;F<U.length;F++)this._reservedWords[U[F].toUpperCase()]=!0;for(var K=0,H=b;K<H.length;K++){var z=H[K];("ROLLUPADDISSUBTOTAL"===z.name||"ROLLUPISSUBTOTAL"===z.name)&&4===z.parameters.length&&(z.parameters[0].skippable=!0,z.parameters[0].repeatGroup=1,z.parameters[0].repeatable=!0,z.parameters[1].repeatGroup=2,z.parameters[2].repeatGroup=2,z.parameters[3].repeatGroup=2,z.parameters[3].skippable=!0),this.addFunction(z)}this.ensureSpecialFunctions()}return Object.defineProperty(u.prototype,"functions",{get:function(){return this._functions},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"reservedWords",{get:function(){return this._reservedWords},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fnCalculate",{get:function(){return this._fnCalculate},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"axes",{get:function(){return this._daxAxes},enumerable:!1,configurable:!0}),u.loadHardcodedCalculateSignature=function(){return new A.Gs(A.Gs.FUNCTIONS_SPECIAL_CALCULATE_FUNCTION_NAME,"",4,3,1023,1,[[new A.td("expression",1023,!1,!1,0,t.Yl.None,!1,void 0),new A.td("filter",1023,!0,!0,0,t.Yl.Filter,!1,void 0)]])},u.prototype.addFunction=function(p){(0,M.mv)(p.name,"functionDataFromEngine.name");var b=(0,B.ev)((0,B.ev)([],u.builtinFunctionData,!0),u.builtinVisualCalcFunctionData,!0);G.d.featureSwitches.customCalendars&&b.forEach(function(X){X.signatureRole[0]===t.Yl.DatesAddToRet&&(X.signatureRole[0]=t.Yl.DatesCalendarsAddToRet)});var F,S=_.find(b,function(X){return x.uI.equalIgnoreCase(X.name,p.name)});F=null==S||"EXPAND"!==S.name&&"COLLAPSE"!==S.name?[p.parameters]:this.createHardCodedSignaturesForExpandCollapseFunctions(p);for(var U=[],L=function(le){for(var n=0,e=[],r=0,f=F[le];r<f.length;r++){var I=f[r],k=t.Yl.None;if(null!=S?.signatureRole){var ee;ee=_.isArray(S.signatureRole[0])?S.signatureRole[le]:S.signatureRole,n<ee.length&&(k=ee[n])}var Q=[];x.G.hasFlag(k.type,64)&&(Q=_.chain(S.enumValues).filter(function(re){return re.param===n}).map(function(re){return new A.it(re.value,re.description)}).value()),e.push(new A.td(I.name,k.dataType,I.repeatable,I.optional,I.repeatGroup,k,I.skippable,Q)),n++}U.push(e)},K=0;K<F.length;K++)L(K);var H=1,z=0;S&&(H=S.role,z=S.returnType),this._functions.push(new A.Gs(p.name,p.description,p.category,p.pushableToDQ,z,H,U))},u.prototype.createHardCodedSignaturesForExpandCollapseFunctions=function(p){var b=4===p.parameters.length;if((0,M.mv)(b,"expecting 4 parameters"),!b)return[];var S="Expression"===p.parameters[0].name,F="Axis"===p.parameters[1].name,U="Column"===p.parameters[2].name,L="N"===p.parameters[3].name;if((0,M.mv)(S,"1st parameter should be Expression"),(0,M.mv)(F,"2nd parameter should be Axis"),(0,M.mv)(U,"3rd parameter should be Column"),(0,M.mv)(L,"4th parameter should be N"),!(S&&F&&U&&L))return[];var X=p.parameters[1],le=p.parameters[2],m=p.parameters[3],n=new Z(p.parameters[0].name,!0,!1,-1,!0),e=new Z(m.name,!0,!1,-1,!0);return[[n,new Z(X.name,!1,!1,-1,!1),e],[n,new Z(le.name,!1,!0,0,!1)]]},u.prototype.ensureSpecialFunctions=function(){this._fnCalculate=_.find(this.functions,function(p){return p.name===A.Gs.FUNCTIONS_SPECIAL_CALCULATE_FUNCTION_NAME}),this._fnCalculate||(this._fnCalculate=u.hardcodedFnCalculate,this._functions.push(this._fnCalculate))},u.hardcodedFnCalculate=u.loadHardcodedCalculateSignature(),u.builtinFunctionData=[new c("ADDCOLUMNS",2,[t.Yl.TableExprAddToRet,t.Yl.NewCol,t.Yl.ExprOverTable],void 0),new c("ADDMISSINGITEMS",2,[t.Yl.QualifiedColRef,t.Yl.TableExprAddToRet,t.Yl.or(t.Yl.ColFromExtractedTable,{type:512}),t.Yl.TableExpr],void 0),new c("ALLCROSSFILTERED",1,[t.Yl.TableRef],void 0),new c("ALL",8194,[t.Yl.or(t.Yl.TableRefAddToRet,t.Yl.QualifiedColRefAddToRet),t.Yl.QualifiedColRefAddToRet],void 0),new c("ALLEXCEPT",2,[t.Yl.TableRefAddToRet,{type:12,columnReferenceScope:5,argumentContextAction:4}],void 0),new c("ALLNOBLANKROW",8194,[t.Yl.or(t.Yl.TableRefAddToRet,t.Yl.QualifiedColRefAddToRet),t.Yl.QualifiedColRefAddToRet],void 0),new c("ALLSELECTED",8194,[t.Yl.or(t.Yl.TableRefAddToRet,t.Yl.QualifiedColRefAddToRet),t.Yl.QualifiedColRefAddToRet],void 0),new c("APPROXIMATEDISTINCTCOUNT",1,[t.Yl.AnyColRef],void 0),new c("AVERAGE",1,[t.Yl.AnyColRef],void 0),new c("AVERAGEA",1,[t.Yl.AnyColRef],void 0),new c("AVERAGEX",1,[t.Yl.TableExpr,t.Yl.ExprOverTable],void 0),new c("CALCULATE",1,[{dataType:1087,argumentContextAction:5},(0,B.pi)({dataType:264},t.Yl.Filter)],void 0,1024),new c("CALCULATETABLE",2,[t.Yl.or(t.Yl.TableExprAddToRet,{argumentContextAction:5}),t.Yl.Filter],void 0),new c("CALENDAR",4,[t.Yl.None,t.Yl.None],void 0),new c("CALENDARAUTO",4,[t.Yl.None],void 0),new c("CLOSINGBALANCEMONTH",1,[{argumentContextAction:5},t.Yl.Dates,t.Yl.Filter],void 0),new c("CLOSINGBALANCEQUARTER",1,[{argumentContextAction:5},t.Yl.Dates,t.Yl.Filter],void 0),new c("CLOSINGBALANCEYEAR",1,[{argumentContextAction:5},t.Yl.Dates,t.Yl.Filter,{type:2048}],void 0),new c("COLUMNSTATISTICS",4096,[],void 0),new c("CONCATENATEX",1,[t.Yl.TableExpr,t.Yl.ExprOverTable,t.Yl.None,t.Yl.ExprOverTable,t.Yl.EnumValue],[new T(4,"ASC"),new T(4,"DESC")]),new c("CONTAINS",1,[t.Yl.TableExpr,t.Yl.ColFromExtractedTableOrRel,t.Yl.None],void 0),new c("CONVERT",1,[t.Yl.None,t.Yl.EnumValue],[new T(1,"BOOLEAN"),new T(1,"DOUBLE"),new T(1,"INTEGER"),new T(1,"DATETIME"),new T(1,"CURRENCY"),new T(1,"STRING")]),new c("CONVERTTOCSV",1,[t.Yl.TableExpr,t.Yl.None,t.Yl.None,t.Yl.None],void 0),new c("COUNT",1,[t.Yl.AnyColRef],void 0),new c("COUNTA",1,[t.Yl.AnyColRef],void 0),new c("COUNTAX",1,[t.Yl.TableExpr,t.Yl.ExprOverTable],void 0),new c("COUNTBLANK",1,[t.Yl.AnyColRef],void 0),new c("COUNTX",1,[t.Yl.TableExpr,t.Yl.ExprOverTable],void 0),new c("COUNTROWS",1,[t.Yl.TableExpr],void 0),new c("CROSSFILTER",1,[t.Yl.QualifiedColRef,t.Yl.QualifiedColRef,t.Yl.EnumValue],[new T(2,"None"),new T(2,"OneWay"),new T(2,"Both"),new T(2,"OneWay_LeftFiltersRight"),new T(2,"OneWay_RightFiltersLeft")]),new c("CROSSJOIN",2,[t.Yl.TableExprAddToRet],void 0),new c("CURRENTGROUP",8,[],void 0),new c("DATATABLE",2,[t.Yl.NewCol,t.Yl.EnumValue,{type:4096}],[new T(1,"BOOLEAN"),new T(1,"DOUBLE"),new T(1,"INTEGER"),new T(1,"DATETIME"),new T(1,"CURRENCY"),new T(1,"STRING")]),new c("DATE",1,[(0,B.pi)({dataType:1},t.Yl.None),(0,B.pi)({dataType:1},t.Yl.None),(0,B.pi)({dataType:1},t.Yl.None)],void 0,16),new c("DATEADD",2,[t.Yl.DatesAddToRet,t.Yl.None,t.Yl.EnumValue],[new T(2,"DAY"),new T(2,"MONTH"),new T(2,"QUARTER"),new T(2,"YEAR")]),new c("DATEDIFF",1,[t.Yl.None,t.Yl.None,t.Yl.EnumValue],[new T(2,"DAY"),new T(2,"WEEK"),new T(2,"MONTH"),new T(2,"QUARTER"),new T(2,"YEAR"),new T(2,"HOUR"),new T(2,"MINUTE"),new T(2,"SECOND")]),new c("DATESBETWEEN",2,[t.Yl.DatesAddToRet,t.Yl.None,t.Yl.None],void 0),new c("DATESINPERIOD",2,[t.Yl.DatesAddToRet,t.Yl.None,t.Yl.None,t.Yl.EnumValue],[new T(3,"DAY"),new T(3,"MONTH"),new T(3,"QUARTER"),new T(3,"YEAR")]),new c("DATESMTD",2,[t.Yl.DatesAddToRet],void 0),new c("DATESQTD",2,[t.Yl.DatesAddToRet],void 0),new c("DATESYTD",2,[t.Yl.DatesAddToRet,{type:2048}],void 0),new c("DISTINCT",8194,[t.Yl.or(t.Yl.QualifiedColRefAddToRet,t.Yl.TableExprAddToRet)],void 0),new c("DISTINCTCOUNT",1,[t.Yl.AnyColRef],void 0),new c("DISTINCTCOUNTNOBLANK",1,[t.Yl.AnyColRef],void 0),new c("EARLIER",1,[t.Yl.EarlierColRef],void 0),new c("EARLIEST",1,[t.Yl.EarliestColRef],void 0),new c("ENDOFMONTH",2,[t.Yl.DatesAddToRet],void 0),new c("ENDOFQUARTER",2,[t.Yl.DatesAddToRet],void 0),new c("ENDOFYEAR",2,[t.Yl.DatesAddToRet],void 0),new c("EVALUATEANDLOG",256,[t.Yl.or({type:1},t.Yl.TableExpr,t.Yl.TableExprAddToRet,t.Yl.TableRef,t.Yl.TableRefAddToRet),t.Yl.None,t.Yl.None],void 0),new c("EXCEPT",2,[t.Yl.TableExprAddToRet,t.Yl.TableExpr],void 0),new c("EXTERNALMEASURE",1,[{type:2048},t.Yl.EnumValue,{type:2048}],[new T(1,"BOOLEAN"),new T(1,"DOUBLE"),new T(1,"INTEGER"),new T(1,"DATETIME"),new T(1,"CURRENCY"),new T(1,"STRING"),new T(1,"VARIANT")]),new c("FILTER",2,[(0,B.pi)({dataType:256},t.Yl.TableExprAddToRet),(0,B.pi)({dataType:8},t.Yl.ExprOverTable)],void 0,256),new c("FILTERS",2,[t.Yl.or(t.Yl.HomeOrQualifiedColRef,{argumentAction:1})],void 0),new c("FIRSTDATE",2,[t.Yl.DatesAddToRet],void 0),new c("FIRSTNONBLANK",2,[t.Yl.or(t.Yl.QualifiedColRefAddToRet,{argumentAction:8},t.Yl.TableExprAddToRet),{argumentContextAction:3}],void 0),new c("FIRSTNONBLANKVALUE",2,[t.Yl.or(t.Yl.QualifiedColRefAddToRet,{argumentAction:8},t.Yl.TableExprAddToRet),{argumentContextAction:3}],void 0),new c("FULLOUTERJOIN",2,[t.Yl.TableExprAddToRet,t.Yl.TableExprAddToRet],void 0),new c("GENERATE",2,[t.Yl.TableExprAddToRet,t.Yl.or(t.Yl.TableExprAddToRet,{argumentContextAction:1})],void 0),new c("GENERATEALL",2,[t.Yl.TableExprAddToRet,t.Yl.or(t.Yl.TableExprAddToRet,{argumentContextAction:1})],void 0),new c("GENERATESERIES",12,[t.Yl.None,t.Yl.None,t.Yl.None],void 0),new c("GEOMEAN",1,[t.Yl.AnyColRef],void 0),new c("GEOMEANX",1,[t.Yl.TableExpr,t.Yl.ExprOverTable],void 0),new c("GROUPBY",2,[t.Yl.TableExpr,t.Yl.ColFromExtractedTableOrRelAddToRet,t.Yl.NewCol,{additionalBehaviors:1}],void 0),new c("HASONEVALUE",1,[t.Yl.QualifiedColRef],void 0),new c("HASONEFILTER",1,[t.Yl.HomeOrQualifiedColRef],void 0),new c("KEEPFILTERS",2,[t.Yl.or(t.Yl.TableExprAddToRet,{type:1})],void 0),new c("IF",1,[(0,B.pi)((0,B.pi)({},t.Yl.None),{dataType:59}),(0,B.pi)({dataType:1087},t.Yl.None),(0,B.pi)({dataType:1087},t.Yl.None)],void 0,1024),new c("INFO.ALTERNATEOFDEFINITIONS",16384,[]),new c("INFO.ANNOTATIONS",16384,[]),new c("INFO.ATTRIBUTEHIERARCHIES",16384,[]),new c("INFO.ATTRIBUTEHIERARCHYSTORAGES",16384,[]),new c("INFO.CALCDEPENDENCY",16384,[]),new c("INFO.CALCULATIONGROUPS",16384,[]),new c("INFO.CALCULATIONITEMS",16384,[]),new c("INFO.CATALOGS",16384,[]),new c("INFO.CHANGEDPROPERTIES",16384,[]),new c("INFO.COLUMNPARTITIONSTORAGES",16384,[]),new c("INFO.COLUMNPERMISSIONS",16384,[]),new c("INFO.COLUMNS",16384,[]),new c("INFO.COLUMNSTORAGES",16384,[]),new c("INFO.CULTURES",16384,[]),new c("INFO.DATACOVERAGEDEFINITIONS",16384,[]),new c("INFO.DATASOURCES",16384,[]),new c("INFO.DELTATABLEMETADATASTORAGES",16384,[]),new c("INFO.DETAILROWSDEFINITIONS",16384,[]),new c("INFO.DICTIONARYSTORAGES",16384,[]),new c("INFO.EXCLUDEDARTIFACTS",16384,[]),new c("INFO.EXPRESSIONS",16384,[]),new c("INFO.EXTENDEDPROPERTIES",16384,[]),new c("INFO.FORMATSTRINGDEFINITIONS",16384,[]),new c("INFO.FUNCTIONS",16384,[]),new c("INFO.GENERALSEGMENTMAPSEGMENTMETADATASTORAGES",16384,[]),new c("INFO.GROUPBYCOLUMNS",16384,[]),new c("INFO.HIERARCHIES",16384,[]),new c("INFO.HIERARCHYSTORAGES",16384,[]),new c("INFO.KPIS",16384,[]),new c("INFO.LEVELS",16384,[]),new c("INFO.LINGUISTICMETADATA",16384,[]),new c("INFO.MEASURES",16384,[]),new c("INFO.MODEL",16384,[]),new c("INFO.OBJECTTRANSLATIONS",16384,[]),new c("INFO.PARQUETFILESTORAGES",16384,[]),new c("INFO.PARTITIONS",16384,[]),new c("INFO.PARTITIONSTORAGES",16384,[]),new c("INFO.PERSPECTIVECOLUMNS",16384,[]),new c("INFO.PERSPECTIVEHIERARCHIES",16384,[]),new c("INFO.PERSPECTIVEMEASURES",16384,[]),new c("INFO.PERSPECTIVES",16384,[]),new c("INFO.PERSPECTIVETABLES",16384,[]),new c("INFO.PROPERTIES",16384,[]),new c("INFO.QUERYGROUPS",16384,[]),new c("INFO.REFRESHPOLICIES",16384,[]),new c("INFO.RELATEDCOLUMNDETAILS",16384,[]),new c("INFO.RELATIONSHIPINDEXSTORAGES",16384,[]),new c("INFO.RELATIONSHIPS",16384,[]),new c("INFO.RELATIONSHIPSTORAGES",16384,[]),new c("INFO.ROLEMEMBERSHIPS",16384,[]),new c("INFO.ROLES",16384,[]),new c("INFO.SEGMENTMAPSTORAGES",16384,[]),new c("INFO.SEGMENTSTORAGES",16384,[]),new c("INFO.STORAGEFILES",16384,[]),new c("INFO.STORAGEFOLDERS",16384,[]),new c("INFO.STORAGETABLECOLUMNS",16384,[]),new c("INFO.STORAGETABLECOLUMNSEGMENTS",16384,[]),new c("INFO.STORAGETABLES",16384,[]),new c("INFO.TABLEPERMISSIONS",16384,[]),new c("INFO.TABLES",16384,[]),new c("INFO.TABLESTORAGES",16384,[]),new c("INFO.VARIATIONS",16384,[]),new c("INTERSECT",2,[t.Yl.TableExprAddToRet,t.Yl.TableExpr],void 0),new c("ISAFTER",1,[t.Yl.None,t.Yl.None,t.Yl.EnumValue],[new T(2,"ASC"),new T(2,"DESC")]),new c("ISCROSSFILTERED",1,[t.Yl.or(t.Yl.TableRef,t.Yl.HomeOrQualifiedColRef)],void 0),new c("ISEMPTY",1,[t.Yl.TableExpr],void 0),new c("ISFILTERED",1,[t.Yl.or(t.Yl.TableRef,t.Yl.HomeOrQualifiedColRef)],void 0),new c("INDEX",2,[t.Yl.None,t.Yl.TableExprAddToRet,t.Yl.OrderByParam,t.Yl.EnumValue,t.Yl.PartitionByParam,t.Yl.MatchByParam,t.Yl.EnumOrIntValue],[new T(3,"DEFAULT"),new T(6,"NONE"),new T(6,"LOWESTPARENT"),new T(6,"HIGHESTPARENT")],256),new c("ISINSCOPE",1,[t.Yl.HomeOrQualifiedColRef],void 0),new c("ISONORAFTER",1,[t.Yl.None,t.Yl.None,t.Yl.EnumValue],[new T(2,"ASC"),new T(2,"DESC")]),new c("ISSUBTOTAL",1,[t.Yl.ColFromCurTable],void 0),new c("LASTDATE",2,[t.Yl.DatesAddToRet],void 0),new c("LASTNONBLANK",2,[t.Yl.or(t.Yl.QualifiedColRefAddToRet,{argumentAction:8},t.Yl.TableExprAddToRet),{argumentContextAction:3}],void 0),new c("LASTNONBLANKVALUE",2,[t.Yl.or(t.Yl.QualifiedColRefAddToRet,{argumentAction:8},t.Yl.TableExprAddToRet),{argumentContextAction:3}],void 0),new c("LINEST",2,[t.Yl.AnyColRef,t.Yl.AnyColRef,t.Yl.EnumValue],[new T(2,"TRUE"),new T(2,"FALSE")],256),new c("LINESTX",2,[t.Yl.TableExpr,t.Yl.ExprOverTable,t.Yl.ExprOverTable,t.Yl.EnumValue],[new T(3,"TRUE"),new T(3,"FALSE")],256),new c("LOOKUPVALUE",1,[t.Yl.or(t.Yl.HomeOrQualifiedColRef,{argumentAction:4}),t.Yl.ColFromExtractedTableOrRel,t.Yl.None],void 0),new c("MATCHBY",2048,[t.Yl.AnyColRef],void 0),new c("MAX",1,[t.Yl.or(t.Yl.AnyColRef,{type:1})],void 0),new c("MAXA",1,[t.Yl.AnyColRef],void 0),new c("MAXX",1,[t.Yl.TableExpr,t.Yl.ExprOverTable,t.Yl.EnumValue],[new T(2,"TRUE"),new T(2,"FALSE")],void 0),new c("MEDIAN",1,[t.Yl.AnyColRef],void 0),new c("MEDIANX",1,[t.Yl.TableExpr,t.Yl.ExprOverTable],void 0),new c("MIN",1,[t.Yl.or(t.Yl.AnyColRef,{type:1})],void 0),new c("MINA",1,[t.Yl.AnyColRef],void 0),new c("MINX",1,[t.Yl.TableExpr,t.Yl.ExprOverTable,t.Yl.EnumValue],[new T(2,"TRUE"),new T(2,"FALSE")],void 0),new c("NAMEOF",1,[t.Yl.or(t.Yl.AnyColRef,{type:1})],void 0),new c("NATURALINNERJOIN",2,[t.Yl.TableExprAddToRet,t.Yl.TableExprAddToRet],void 0),new c("NATURALLEFTOUTERJOIN",2,[t.Yl.TableExprAddToRet,t.Yl.TableExprAddToRet],void 0),new c("NETWORKDAYS",1,[t.Yl.None,t.Yl.None,t.Yl.None,t.Yl.TableExpr],void 0,63),new c("NEXTDAY",2,[t.Yl.DatesAddToRet],void 0),new c("NEXTMONTH",2,[t.Yl.DatesAddToRet],void 0),new c("NEXTQUARTER",2,[t.Yl.DatesAddToRet],void 0),new c("NEXTYEAR",2,[t.Yl.DatesAddToRet,{type:2048}],void 0),new c("NONVISUAL",2,[t.Yl.TableExprAddToRet],void 0),new c("OFFSET",2,[t.Yl.None,t.Yl.TableExprAddToRet,t.Yl.OrderByParam,t.Yl.EnumValue,t.Yl.PartitionByParam,t.Yl.MatchByParam,t.Yl.EnumOrIntValue],[new T(3,"DEFAULT"),new T(6,"NONE"),new T(6,"LOWESTPARENT"),new T(6,"HIGHESTPARENT")],256),new c("OPENINGBALANCEMONTH",1,[{argumentContextAction:5},t.Yl.Dates,t.Yl.Filter],void 0),new c("OPENINGBALANCEQUARTER",1,[{argumentContextAction:5},t.Yl.Dates,t.Yl.Filter],void 0),new c("OPENINGBALANCEYEAR",1,[{argumentContextAction:5},t.Yl.Dates,t.Yl.Filter,{type:2048}],void 0),new c("ORDERBY",512,[t.Yl.or(t.Yl.ColFromCurTable,{type:1}),t.Yl.EnumValue],[new T(1,"ASC"),new T(1,"DESC"),new T(1,"ASC BLANKS DEFAULT"),new T(1,"ASC BLANKS FIRST"),new T(1,"ASC BLANKS LAST"),new T(1,"DESC BLANKS DEFAULT"),new T(1,"DESC BLANKS FIRST"),new T(1,"DESC BLANKS LAST")]),new c("PARALLELPERIOD",2,[t.Yl.DatesAddToRet,t.Yl.None,t.Yl.EnumValue],[new T(2,"MONTH"),new T(2,"QUARTER"),new T(2,"YEAR")]),new c("PARTITIONBY",1024,[t.Yl.AnyColRef],void 0),new c("PATH",1,[t.Yl.HomeOrQualifiedColRef,t.Yl.HomeOrQualifiedColRef],void 0),new c("PATHITEM",1,[t.Yl.None,t.Yl.None,t.Yl.EnumValue],[new T(2,"TEXT","Function returns a string"),new T(2,"INTEGER","Function returns an integer")]),new c("PATHITEMREVERSE",1,[t.Yl.None,t.Yl.None,t.Yl.EnumValue],[new T(2,"TEXT","Function returns a string"),new T(2,"INTEGER","Function returns an integer")]),new c("PERCENTILE.EXC",1,[t.Yl.AnyColRef,t.Yl.None],void 0),new c("PERCENTILE.INC",1,[t.Yl.AnyColRef,t.Yl.None],void 0),new c("PERCENTILEX.EXC",1,[t.Yl.TableExpr,t.Yl.ExprOverTable,t.Yl.None],void 0),new c("PERCENTILEX.INC",1,[t.Yl.TableExpr,t.Yl.ExprOverTable,t.Yl.None],void 0),new c("PREVIOUSDAY",2,[t.Yl.DatesAddToRet],void 0),new c("PREVIOUSMONTH",2,[t.Yl.DatesAddToRet],void 0),new c("PREVIOUSQUARTER",2,[t.Yl.DatesAddToRet],void 0),new c("PREVIOUSYEAR",2,[t.Yl.DatesAddToRet,{type:2048}],void 0),new c("PRODUCT",1,[t.Yl.AnyColRef],void 0),new c("PRODUCTX",1,[t.Yl.TableExpr,t.Yl.ExprOverTable],void 0),new c("RANK",1,[t.Yl.EnumValue,t.Yl.TableExpr,t.Yl.OrderByParam,t.Yl.EnumValue,t.Yl.PartitionByParam,t.Yl.MatchByParam,t.Yl.EnumOrIntValue],[new T(0,"DENSE"),new T(0,"SKIP"),new T(3,"DEFAULT"),new T(3,"FIRST"),new T(3,"LAST"),new T(6,"NONE"),new T(6,"LOWESTPARENT"),new T(6,"HIGHESTPARENT")]),new c("RANK.EQ",1,[t.Yl.None,t.Yl.AnyColRef,t.Yl.EnumValue],[new T(2,"ASC"),new T(2,"DESC")]),new c("RANKX",1,[t.Yl.TableExpr,t.Yl.ExprOverTable,t.Yl.None,t.Yl.EnumValue,t.Yl.EnumValue],[new T(3,"ASC"),new T(3,"DESC"),new T(4,"Skip"),new T(4,"Dense")]),new c("RELATED",1,[t.Yl.RelatedColRef],void 0),new c("RELATEDTABLE",2,[t.Yl.or(t.Yl.TableRefAddToRet,{argumentContextAction:5})],void 0),new c("REMOVEFILTERS",1,[t.Yl.or(t.Yl.TableRef,t.Yl.QualifiedColRef),t.Yl.QualifiedColRef],void 0),new c("ROLLUP",16,[{type:1024,additionalBehaviors:4}],void 0),new c("ROLLUPGROUP",128,[{additionalBehaviors:4}],void 0),new c("ROLLUPADDISSUBTOTAL",32,[t.Yl.TableExpr,t.Yl.or(t.Yl.ColFromParentContext,{type:1024,additionalBehaviors:4}),t.Yl.NewCol,t.Yl.TableExpr],void 0),new c("ROLLUPISSUBTOTAL",64,[t.Yl.TableExpr,t.Yl.or(t.Yl.ColFromParentContext,{type:1024,additionalBehaviors:4}),t.Yl.ColFromParentContext,t.Yl.TableExpr],void 0),new c("ROW",2,[t.Yl.NewCol,t.Yl.None],void 0),new c("ROWNUMBER",1,[t.Yl.TableExpr,t.Yl.OrderByParam,t.Yl.EnumValue,t.Yl.PartitionByParam,t.Yl.MatchByParam,t.Yl.EnumOrIntValue],[new T(2,"DEFAULT"),new T(2,"FIRST"),new T(2,"LAST"),new T(5,"NONE"),new T(5,"LOWESTPARENT"),new T(5,"HIGHESTPARENT")]),new c("SAMEPERIODLASTYEAR",2,[t.Yl.DatesAddToRet],void 0),new c("SAMPLE",2,[t.Yl.None,t.Yl.TableExprAddToRet,t.Yl.ExprOverTable,t.Yl.EnumValue],[new T(3,"ASC"),new T(3,"DESC")]),new c("SELECTCOLUMNS",2,[t.Yl.TableExpr,t.Yl.NewCol,t.Yl.ExprOverTable],void 0),new c("SELECTEDVALUE",1,[(0,B.pi)({dataType:1024},t.Yl.QualifiedColRef)],void 0,1024),new c("STARTOFMONTH",2,[t.Yl.DatesAddToRet],void 0),new c("STARTOFQUARTER",2,[t.Yl.DatesAddToRet],void 0),new c("STARTOFYEAR",2,[t.Yl.DatesAddToRet],void 0),new c("STDEV.P",1,[t.Yl.AnyColRef],void 0),new c("STDEV.S",1,[t.Yl.AnyColRef],void 0),new c("STDEVX.P",1,[t.Yl.TableExpr,t.Yl.ExprOverTable],void 0),new c("STDEVX.S",1,[t.Yl.TableExpr,t.Yl.ExprOverTable],void 0),new c("SUBSTITUTEWITHINDEX",2,[{type:2,argumentAction:1},t.Yl.NewCol,t.Yl.TableExpr,t.Yl.ExprOverTable,t.Yl.EnumValue],[new T(4,"ASC"),new T(4,"DESC")]),new c("SUMMARIZE",2,[t.Yl.TableExpr,t.Yl.or(t.Yl.ColFromExtractedTableOrRelAddToRet,{type:1152,argumentAction:8}),t.Yl.NewCol,{argumentContextAction:2}],void 0),new c("SUMMARIZECOLUMNS",2,[t.Yl.or(t.Yl.QualifiedColRefAddToRet,{type:256}),t.Yl.TableExpr,t.Yl.NewCol,t.Yl.None],void 0),new c("SUM",1,[(0,B.pi)((0,B.pi)({},t.Yl.AnyColRef),{dataType:1083})],void 0,1024),new c("SUMX",1,[t.Yl.TableExpr,t.Yl.ExprOverTable],void 0,1024),new c("TOCSV",1,[t.Yl.TableExpr,t.Yl.None,t.Yl.None,t.Yl.None],void 0,4),new c("TODAY",1,[],void 0,16),new c("TOJSON",1,[t.Yl.TableExpr,t.Yl.None],void 0,4),new c("TOPN",2,[t.Yl.None,t.Yl.TableExprAddToRet,t.Yl.ExprOverTable,t.Yl.EnumValue],[new T(3,"ASC"),new T(3,"DESC"),new T(3,"0"),new T(3,"1"),new T(3,"TRUE"),new T(3,"FALSE")]),new c("TOPNSKIP",2,[t.Yl.None,t.Yl.None,t.Yl.TableExprAddToRet,t.Yl.ExprOverTable,t.Yl.EnumValue],[new T(4,"ASC"),new T(4,"DESC"),new T(4,"0"),new T(4,"1"),new T(4,"TRUE"),new T(4,"FALSE")]),new c("TOTALMTD",1,[{argumentContextAction:5},t.Yl.Dates,t.Yl.Filter],void 0),new c("TOTALQTD",1,[{argumentContextAction:5},t.Yl.Dates,t.Yl.Filter],void 0),new c("TOTALYTD",1,[{argumentContextAction:5},t.Yl.Dates,t.Yl.Filter,{type:2048}],void 0),new c("TREATAS",2,[{type:2},t.Yl.QualifiedColRefAddToRet],void 0),new c("UNION",2,[t.Yl.or(t.Yl.TableExprAddToRet,{argumentAction:2})],void 0),new c("USERELATIONSHIP",1,[t.Yl.QualifiedColRef,t.Yl.QualifiedColRef],void 0),new c("VALUES",8194,[t.Yl.or(t.Yl.TableRefAddToRet,t.Yl.QualifiedColRefAddToRet)],void 0),new c("VAR.P",1,[t.Yl.AnyColRef],void 0),new c("VAR.S",1,[t.Yl.AnyColRef],void 0),new c("VARX.P",1,[t.Yl.TableExpr,t.Yl.ExprOverTable],void 0),new c("VARX.S",1,[t.Yl.TableExpr,t.Yl.ExprOverTable],void 0),new c("WINDOW",2,[t.Yl.None,t.Yl.EnumValue,t.Yl.None,t.Yl.EnumValue,t.Yl.TableExprAddToRet,t.Yl.OrderByParam,t.Yl.EnumValue,t.Yl.PartitionByParam,t.Yl.MatchByParam,t.Yl.EnumOrIntValue],[new T(1,"ABS"),new T(1,"REL"),new T(3,"ABS"),new T(3,"REL"),new T(6,"DEFAULT"),new T(9,"NONE"),new T(9,"LOWESTPARENT"),new T(9,"HIGHESTPARENT")],256),new c("WEEKDAY",1,[t.Yl.None,t.Yl.EnumValue],[new T(1,"1","Sunday=1 through Saturday=7"),new T(1,"2","Monday=1 through Sunday=7"),new T(1,"3","Monday=0 through Sunday=6")]),new c("WEEKNUM",1,[t.Yl.None,t.Yl.EnumValue],[new T(1,"1","Week begins on Sunday"),new T(1,"2","Week begins on Monday"),new T(1,"11","Week begins on Monday"),new T(1,"12","Week begins on Tuesday"),new T(1,"13","Week begins on Wednesday"),new T(1,"14","Week begins on Thursday"),new T(1,"15","Week begins on Friday"),new T(1,"16","Week begins on Saturday"),new T(1,"17","Week begins on Sunday"),new T(1,"21","Based on the European week numbering system, the week begins on Monday")]),new c("XIRR",1,[t.Yl.TableExpr,t.Yl.ExprOverTable,t.Yl.ExprOverTable,t.Yl.None],void 0),new c("XNPV",1,[t.Yl.TableExpr,t.Yl.ExprOverTable,t.Yl.ExprOverTable,t.Yl.None],void 0),new c("YEARFRAC",1,[t.Yl.None,t.Yl.None,t.Yl.EnumValue],[new T(2,"0","US (NASD) 30/360"),new T(2,"1","Actual/actual"),new T(2,"2","Actual/360"),new T(2,"3","Actual/365"),new T(2,"4","European 30/360")])],u.builtinVisualCalcFunctionData=[new c("FIRST",1,[t.Yl.or(t.Yl.AnyColRef,{type:1}),t.Yl.AxisExpr,t.Yl.EnumValue,t.Yl.EnumOrIntValue],[new T(2,"DEFAULT"),new T(2,"FIRST"),new T(2,"LAST"),new T(3,"NONE"),new T(3,"LOWESTPARENT"),new T(3,"HIGHESTPARENT")]),new c("LAST",1,[t.Yl.or(t.Yl.AnyColRef,{type:1}),t.Yl.AxisExpr,t.Yl.EnumValue,t.Yl.EnumOrIntValue],[new T(2,"DEFAULT"),new T(2,"FIRST"),new T(2,"LAST"),new T(3,"NONE"),new T(3,"LOWESTPARENT"),new T(3,"HIGHESTPARENT")]),new c("NEXT",1,[t.Yl.or(t.Yl.AnyColRef,{type:1}),t.Yl.None,t.Yl.AxisExpr,t.Yl.EnumValue,t.Yl.EnumOrIntValue],[new T(3,"DEFAULT"),new T(3,"FIRST"),new T(3,"LAST"),new T(4,"NONE"),new T(4,"LOWESTPARENT"),new T(4,"HIGHESTPARENT")]),new c("PREVIOUS",1,[t.Yl.or(t.Yl.AnyColRef,{type:1}),t.Yl.None,t.Yl.AxisExpr,t.Yl.EnumValue,t.Yl.EnumOrIntValue],[new T(3,"DEFAULT"),new T(3,"FIRST"),new T(3,"LAST"),new T(4,"NONE"),new T(4,"LOWESTPARENT"),new T(4,"HIGHESTPARENT")]),new c("LOOKUP",1,[t.Yl.AnyColRef,t.Yl.Filter],void 0),new c("RUNNINGSUM",1,[t.Yl.or(t.Yl.AnyColRef,{type:1}),t.Yl.AxisExpr,t.Yl.EnumValue,t.Yl.EnumOrIntValue],[new T(2,"DEFAULT"),new T(2,"FIRST"),new T(2,"LAST"),new T(3,"NONE"),new T(3,"LOWESTPARENT"),new T(3,"HIGHESTPARENT")]),new c("MOVINGAVERAGE",1,[t.Yl.or(t.Yl.AnyColRef,{type:1}),t.Yl.None,t.Yl.EnumValue,t.Yl.AxisExpr,t.Yl.EnumValue,t.Yl.EnumOrIntValue],[new T(2,"TRUE"),new T(2,"FALSE"),new T(4,"DEFAULT"),new T(4,"FIRST"),new T(4,"LAST"),new T(5,"NONE"),new T(5,"LOWESTPARENT"),new T(5,"HIGHESTPARENT")]),new c("EXPAND",1,[[t.Yl.or(t.Yl.AnyColRef,{type:1}),t.Yl.AxisExpr,t.Yl.None],[t.Yl.or(t.Yl.AnyColRef,{type:1}),t.Yl.AnyColRef]],void 0),new c("COLLAPSE",1,[[t.Yl.or(t.Yl.AnyColRef,{type:1}),t.Yl.AxisExpr,t.Yl.None],[t.Yl.or(t.Yl.AnyColRef,{type:1}),t.Yl.AnyColRef]],void 0),new c("EXPANDALL",1,[t.Yl.or(t.Yl.AnyColRef,{type:1}),t.Yl.AxisExpr],void 0),new c("COLLAPSEALL",1,[t.Yl.or(t.Yl.AnyColRef,{type:1}),t.Yl.AxisExpr],void 0),new c("RANGE",2,[t.Yl.None,t.Yl.EnumValue,t.Yl.AxisExpr,t.Yl.EnumValue,t.Yl.EnumOrIntValue],[new T(1,"TRUE"),new T(1,"FALSE"),new T(3,"DEFAULT"),new T(3,"FIRST"),new T(3,"LAST"),new T(4,"NONE"),new T(4,"LOWESTPARENT"),new T(4,"HIGHESTPARENT")]),new c("ISATLEVEL",1,[t.Yl.AnyColRef],void 0)],u}();function J(u,p){return new q(u.reservedWords,u.functionDataFromEngine.map(function(b){return function(u){return new W(u.name,u.description,u.category,u.pushableToDQ,u.parameters.map(function(p){return function(u){return new Z(u.name,u.optional,u.repeatable,u.repeatGroup,u.skippable)}(p)}),u.visualCalculationsInfo)}(b)}),p)}function ne(u){return new he(u)}var he=function(){function u(p){this.tables=[];for(var b=0,S=p.tables;b<S.length;b++)this.tables.push(new se(S[b]));for(var U=0,L=this.tables;U<L.length;U++)for(var H=0,z=L[U].columns;H<z.length;H++)z[H].bindVariationTable(this.tables);this.relationshipGraph=new ae(this,p.relationships)}return u.prototype.findTable=function(p){return _.find(this.tables,function(b){return b.name===p})},u}(),de=function(){function u(p,b){this.table=p,this.name=b.name,this.description=b.description,this.variationTableName=b.variationTable}return Object.defineProperty(u.prototype,"variationTable",{get:function(){return this._variationTable},enumerable:!1,configurable:!0}),u.prototype.bindVariationTable=function(p){var b=this;this.variationTableName&&(this._variationTable=_.find(p,function(S){return S.name===b.variationTableName}))},u}(),Ee=function(){return function(p,b){this.table=p,this.name=b.name,this.description=b.description,this.expression=b.expression,this.isExternal=b.isExternal}}(),ie=function(){return function(p,b){this.table=p,this.name=b.name}}(),se=function(){function u(p){var S,b=this;this.name=p.name,this.description=p.description,this.measures=p.measures.map(function(U){return new Ee(b,U)});var F=p.columns.filter(function(U){return U.isUserColumn});this.columns=F.map(function(U){return new de(b,U)}),this.calendars=null===(S=p.calendars)||void 0===S?void 0:S.map(function(U){return new ie(b,U)}),this.isTransparent=p.isTransparent,this.isUserTable=p.isUserTable}return u.prototype.getHashCode=function(){return this.name},u.prototype.equals=function(p){return this.name===p.name},u}(),ae=function(){function u(p,b){this.reachableTables=new x.Xy,this.reachableTables=u.buildReachableTables(p,b)}return u.prototype.getRelatedTables=function(p){var b=this.reachableTables.get(p);return b?b.values():[]},u.buildReachableTables=function(p,b){for(var S=new x.Xy,F=0,U=_.filter(b,function(Q){return Q.active});F<U.length;F++){var L=U[F],K=p.findTable(L.from.table),H=p.findTable(L.to.table);u.addRelatedTable(S,K,H),"one"===L.from.cardinality&&"one"===L.to.cardinality&&u.addRelatedTable(S,H,K)}for(var z=new x.Xy,X=0,le=S.keys;X<le.length;X++){var m=le[X],n=new x.Bl,e=new x.ci;for(n.add(m),e.enqueue(m);e.length>0;){var r=e.dequeue(),f=S.get(r);if(f)for(var I=0,k=f.values();I<k.length;I++){var ee=k[I];n.add(ee)&&e.enqueue(ee)}}n.remove(m),z.update(m,n)}return z},u.addRelatedTable=function(p,b,S){var F=p.get(b);F||(F=new x.Bl,p.add(b,F)),F.add(S)},u}(),o=(D(21527),D(85786),D(48987),D(95792)),l=D(88498)},70163:function(Oe,ce,D){function E(N){w.initialize(N)}D.d(ce,{J:function(){return w},j:function(){return E}});var w=function(){function N(){}return N.initialize=function(R){N._tryParseColumnReference=R},Object.defineProperty(N,"tryParseColumnReference",{get:function(){if(!this._tryParseColumnReference)throw new Error("NodeUtilities has not been initialized! Ensure DaxParserUtils.initialize has been called first");return N._tryParseColumnReference},enumerable:!1,configurable:!0}),N}()},66106:function(Oe,ce,D){D.d(ce,{Rv:function(){return d},XD:function(){return R},Yl:function(){return O},e9:function(){return N}});var O,d,C,E=D(81337),w=D(63513),N=1920,R=24;!function(C){function A(){for(var Y=[],P=0;P<arguments.length;P++)Y[P]=arguments[P];for(var V=C.None,B=0,M=Y;B<M.length;B++){var t=M[B];V={additionalBehaviors:V.additionalBehaviors|t.additionalBehaviors,argumentAction:V.argumentAction|t.argumentAction,argumentContextAction:V.argumentContextAction|t.argumentContextAction,columnReferenceScope:V.columnReferenceScope|t.columnReferenceScope,type:V.type|t.type,dataType:V.dataType|t.dataType}}return V}C.None={},C.InvalidParam={type:262144},C.TableExpr={type:524290,argumentAction:4},C.TableExprAddToRet={type:524290,argumentAction:5},C.TableRef={type:65540,argumentAction:4},C.TableRefAddToRet={type:65540,argumentAction:5},C.AnyColRef={type:24,columnReferenceScope:49},C.QualifiedColRef={type:8,columnReferenceScope:16},C.CalendarRef={type:1048576,argumentAction:4},C.QualifiedColRefAddToRet=A(C.QualifiedColRef,{argumentAction:1}),C.RelatedColRef={type:8,columnReferenceScope:4},C.HomeOrQualifiedColRef={type:8,columnReferenceScope:48},C.EarlierColRef={type:24,columnReferenceScope:3,argumentContextAction:6},C.EarliestColRef={type:24,columnReferenceScope:3,argumentContextAction:7},C.ColFromParentContext={type:24,additionalBehaviors:4},C.ColFromCurTable={type:24,columnReferenceScope:3},C.ColFromExtractedTable=A(C.ColFromCurTable,{argumentContextAction:4}),C.ColFromExtractedTableOrRel=A(C.ColFromCurTable,{columnReferenceScope:4,argumentContextAction:4}),C.ColFromExtractedTableOrRelAddToRet=A(C.ColFromExtractedTableOrRel,{columnReferenceScope:8,argumentAction:1}),C.NewCol={type:32,argumentAction:1},C.ExprOverTable={argumentContextAction:1},C.EnumValue={type:64},C.Dates=A(C.TableExpr,C.QualifiedColRef),C.DatesAddToRet=A(C.Dates,{argumentAction:1}),C.DatesCalendars=A(C.Dates,C.CalendarRef),C.DatesCalendarsAddToRet=A(C.DatesCalendars,{argumentAction:1}),C.Filter={type:1,additionalBehaviors:2},C.OrderByParam={type:16384,argumentContextAction:1},C.PartitionByParam={type:32768},C.MatchByParam={type:131072},C.AxisExpr={type:524288},C.EnumOrIntValue=A(C.EnumValue,{type:1}),C.or=A}(O||(O={})),(C=d||(d={})).getTypes=function(P,V){var B=P.type;if(w.G.hasFlag(P.additionalBehaviors,4))for(var M=0,t=V.ephemeralContexts;M<t.length;M++)B|=t[M].allowedTypes&R;return!_.isEmpty(V.matchObjects.transparentTables)&&w.G.hasFlag(B,8)&&(B|=16),B},C.transformRole=function(P,V){if(!_.isEmpty(V.matchObjects.transparentTables)&&w.G.hasFlag(P.type,8)){var B=P.type?16|P.type:16;return(0,E.pi)((0,E.pi)({},P),{type:B})}return P}},85402:function(Oe,ce,D){D.d(ce,{q:function(){return w}});var E=D(55863),w=function(){function N(R){this._parent=R,null!=this.parent&&this.parent.addChild(this),this._state=0,this.children=[]}return Object.defineProperty(N.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"childCount",{get:function(){return this.children.length},enumerable:!1,configurable:!0}),N.prototype.addChild=function(R){return!_.includes(this.children,R)&&(this.children.push(R),!0)},N.prototype.removeChild=function(R){var O=_.indexOf(this.children,R);-1!==O&&this.children.splice(O,1)},N.prototype.reinitialize=function(){this._state=0,this.children=[]},N.prototype.markUnsuccessful=function(){for(var R=this;;){R._state=2;var O=R.parent;if(!O||(O.removeChild(R),O.childCount>0))break;R=O}},N.prototype.consolidatePath=function(){var R,O;for(R=this,O=this.parent;null!=O&&O.childCount<=1;R=O,O=O.parent)(0,E.hu)(1===O.childCount,"Must have at least one child, since it is our parent"),R._state=1,O.removeChild(R);return R},Object.defineProperty(N.prototype,"isValid",{get:function(){for(var O=this;;O=O.parent){if((0,E.hu)(null!=O,"There must be an ongoing ParsePath at the root of the tree of ParsePaths"),0===O.state)return!0;if(2===O.state)return!1}},enumerable:!1,configurable:!0}),N}()},88498:function(Oe,ce,D){D.d(ce,{Mz:function(){return O},V:function(){return E},ft:function(){return N},g5:function(){return R}});var O,d,E={listSeparator:",",numberDecimalSeparator:"."},w=E;function N(){return w}function R(d){w=d}(d=O||(O={})).alwaysRebuildContext=!1,d.debugging=!0},3371:function(Oe,ce,D){D.d(ce,{M:function(){return R}});var R,E=D(55863),w=D(63513),N=D(58871);!function(O){function C(B,M,t){for(var x=M.name,Z=new N.S2(x,M.description,w.LP.quoteNeeded(x,function(oe){return V(oe,B)}),M.name,M.isTransparent,M.isUserTable),W=0,T=M.columns;W<T.length;W++){var c=T[W],q=c.description,J=void 0;t&&c.variationTable&&(J=C(B,c.variationTable,!1));var ne=new N.XN(c.name,q,Z);Z.addColumn(ne),null!=J&&(ne.variationTable=J,J.variationSource=ne)}return Z}function V(B,M){return N.hK.isReservedWord(B,M.reservedWords,M.functions)}O.populateAll=function(B,M,t){var x={daxTables:[],daxColumns:[],transparentDaxTables:[]};!function(B,M,t){var x={},G={};t.daxTables=[],t.daxColumns=[],t.transparentDaxTables=[];for(var Z=0,W=B.tables;Z<W.length;Z++){var T=W[Z];(c=C(M,T,!0)).isTransparent?t.transparentDaxTables.push(c):t.daxTables.push(c),x[c.name]=c,G[T.name]=T,t.daxColumns=t.daxColumns.concat(c.columns)}for(var q=B.relationshipGraph,J=0,ne=t.daxTables;J<ne.length;J++)for(var c,oe=(c=ne[J]).uberTable,fe=0,he=q.getRelatedTables(G[c.name]);fe<he.length;fe++){var Ee=x[he[fe].name];Ee&&oe.relatedTables.push(Ee)}}(B,M,x);var G={measures:[]};!function(B,M,t,x){x.measures=[];for(var G=function(q){if(!_.some(q.measures))return"continue";var J=_.find(t.daxTables,function(de){return de.name===q.name});(0,E.mv)(J,"daxTable");for(var ne=0,oe=q.measures;ne<oe.length;ne++){var fe=oe[ne],he=new N.Cf(fe.name,fe.description,J,M);J.addMeasure(he),x.measures.push(he)}},Z=0,W=B.tables;Z<W.length;Z++)G(W[Z])}(B,M.fnCalculate,x,G);var Z={calendars:[]};(function(B,M,t){t.calendars=[];for(var x=function(c){if(!_.some(c.calendars))return"continue";var q=_.find(M.daxTables,function(he){return he.name===c.name});(0,E.mv)(q,"daxTable");for(var J=0,ne=c.calendars;J<ne.length;J++){var fe=new N.Df(ne[J].name,q);q.addCalendar(fe),t.calendars.push(fe)}},G=0,Z=B.tables;G<Z.length;G++)x(Z[G])})(B,x,Z),t.matchObjects=new N.ZY(x.daxTables,x.daxColumns,G.measures,Z.calendars,M.functions,M.reservedWords,x.transparentDaxTables,M.axes)},O.isReservedWord=V}(R||(R={}))},22021:function(Oe,ce,D){D.d(ce,{s:function(){return E}});var E=function(){return function(){this.valid=!1,this.cParensNeeded=0}}()},58871:function(Oe,ce,D){D.d(ce,{cr:function(){return c},e$:function(){return he},Df:function(){return q},XN:function(){return Ee},hK:function(){return t},it:function(){return ie},xE:function(){return x},Gs:function(){return l},eL:function(){return ae},gR:function(){return g},td:function(){return se},Z0:function(){return T},ZY:function(){return G},Cf:function(){return u},Go:function(){return o},S2:function(){return de},Lc:function(){return W},yB:function(){return J},Nr:function(){return p},qf:function(){return U},o:function(){return L},sN:function(){return S},$Y:function(){return b},a9:function(){return F}});var E=D(81337),w=D(55863),N=D(40546),R=D(20540),O=D(70163),d=D(66106),C=D(85402),A=D(88498),Y=D(42165),P=D(63513),V={CALENDAR:{columns:["Date"]},CALENDARAUTO:{columns:["Date"]},COLUMNSTATISTICS:{columns:["Table Name","Column Name","Min","Max","Cardinality","Max Length"]},GENERATESERIES:{columns:["Value"]},"INFO.ALTERNATEOFDEFINITIONS":{columns:["ID","ColumnID","BaseColumnID","BaseTableID","Summarization"]},"INFO.ANNOTATIONS":{columns:["ID","ObjectID","ObjectType","Name","Value","ModifiedTime"]},"INFO.ATTRIBUTEHIERARCHIES":{columns:["ID","ColumnID","State","AttributeHierarchyStorageID","ModifiedTime","RefreshedTime"]},"INFO.ATTRIBUTEHIERARCHYSTORAGES":{columns:["ID","AttributeHierarchyID","SortOrder","OptimizationLevel","MaterializationType","ColumnPositionToData","ColumnDataToPosition","DistinctDataCount","DataVersion","StorageFileID","SystemTableID","HasStatistics","MinValue","MaxValue","StringValueMaxLength"]},"INFO.CALCDEPENDENCY":{columns:["DATABASE_NAME","OBJECT_TYPE","TABLE","OBJECT","EXPRESSION","REFERENCED_OBJECT_TYPE","REFERENCED_TABLE","REFERENCED_OBJECT","REFERENCED_EXPRESSION","QUERY"]},"INFO.CALCULATIONGROUPS":{columns:["ID","TableID","Description","ModifiedTime","Precedence"]},"INFO.CALCULATIONITEMS":{columns:["ID","CalculationGroupID","FormatStringDefinitionID","Name","Description","ModifiedTime","State","ErrorMessage","Expression","Ordinal"]},"INFO.CATALOGS":{columns:["CATALOG_NAME","DESCRIPTION","ROLES","DATE_MODIFIED","COMPATIBILITY_LEVEL","TYPE","VERSION","DATABASE_ID","DATABASE_GUID","DATE_QUERIED","CURRENTLY_USED","POPULARITY","WEIGHTEDPOPULARITY","CLIENTCACHEREFRESHPOLICY","ENCRYPTION_LEVEL"]},"INFO.CHANGEDPROPERTIES":{columns:["ID","ObjectID","ObjectType","Property"]},"INFO.COLUMNPARTITIONSTORAGES":{columns:["ID","ColumnStorageID","PartitionStorageID","DataVersion","State","SegmentStorageID","StorageFileID"]},"INFO.COLUMNPERMISSIONS":{columns:["ID","TablePermissionID","ColumnID","ModifiedTime","MetadataPermission"]},"INFO.COLUMNS":{columns:["ID","TableID","ExplicitName","InferredName","ExplicitDataType","InferredDataType","DataCategory","Description","IsHidden","State","IsUnique","IsKey","IsNullable","Alignment","TableDetailPosition","IsDefaultLabel","IsDefaultImage","SummarizeBy","ColumnStorageID","Type","SourceColumn","ColumnOriginID","Expression","FormatString","IsAvailableInMDX","SortByColumnID","AttributeHierarchyID","ModifiedTime","StructureModifiedTime","RefreshedTime","SystemFlags","KeepUniqueRows","DisplayOrdinal","ErrorMessage","SourceProviderType","DisplayFolder","EncodingHint","RelatedColumnDetailsID","AlternateOfID","LineageTag","SourceLineageTag"]},"INFO.COLUMNSTORAGES":{columns:["ID","ColumnID","Name","StoragePosition","DictionaryStorageID","Settings","ColumnFlags","Collation","OrderByColumn","Locale","BinaryCharacters","Statistics_DistinctStates","Statistics_MinDataID","Statistics_MaxDataID","Statistics_OriginalMinSegmentDataID","Statistics_RLESortOrder","Statistics_RowCount","Statistics_HasNulls","Statistics_RLERuns","Statistics_OthersRLERuns","Statistics_Usage","Statistics_DBType","Statistics_XMType","Statistics_CompressionType","Statistics_CompressionParam","Statistics_EncodingHint","IsDeltaPartitionColumn","DeltaColumnMappingPhysicalName","DeltaColumnMappingId","FramedSourceColumn"]},"INFO.CULTURES":{columns:["ID","ModelID","Name","LinguisticMetadataID","ModifiedTime","StructureModifiedTime"]},"INFO.DATASOURCES":{columns:["ID","ModelID","Name","Description","Type","ConnectionString","ImpersonationMode","Account","Password","MaxConnections","Isolation","Timeout","Provider","ModifiedTime","ConnectionDetails","Options","Credential","ContextExpression"]},"INFO.DELTATABLEMETADATASTORAGES":{columns:["ID","PartitionStorageID","TableName","RootLocation","CurrentVersion","TableObjectID","DatamartObjectID","FramedSchemaName","FallbackReason"]},"INFO.DETAILROWSDEFINITIONS":{columns:["ID","ObjectID","ObjectType","Expression","ModifiedTime","State","ErrorMessage"]},"INFO.DICTIONARYSTORAGES":{columns:["ID","ColumnStorageID","Type","DataType","DataVersion","BaseId","Magnitude","LastId","IsNullable","IsUnique","IsOperatingOn32","DictionaryFlags","StorageFileID","Size"]},"INFO.EXCLUDEDARTIFACTS":{columns:["ID","ObjectID","ObjectType","ArtifactType","Reference"]},"INFO.EXPRESSIONS":{columns:["ID","ModelID","Name","Description","Kind","Expression","ModifiedTime","QueryGroupID","ParameterValuesColumnID","MAttributes","LineageTag","SourceLineageTag"]},"INFO.EXTENDEDPROPERTIES":{columns:["ID","ObjectID","ObjectType","Name","Type","Value","ModifiedTime"]},"INFO.FORMATSTRINGDEFINITIONS":{columns:["ID","ObjectID","ObjectType","Expression","ModifiedTime","State","ErrorMessage"]},"INFO.FUNCTIONS":{columns:["FUNCTION_NAME","DESCRIPTION","PARAMETER_LIST","RETURN_TYPE","ORIGIN","INTERFACE_NAME","LIBRARY_NAME","DLL_NAME","HELP_FILE","HELP_CONTEXT","OBJECT","CAPTION","PARAMETERINFO","DIRECTQUERY_PUSHABLE","VISUAL_CALCULATIONS_INFO"]},"INFO.GENERALSEGMENTMAPSEGMENTMETADATASTORAGES":{columns:["ID","SegmentMapStorageID","RecordCount","Ordinal"]},"INFO.GROUPBYCOLUMNS":{columns:["ID","RelatedColumnDetailsID","GroupingColumnID","ModifiedTime"]},"INFO.HIERARCHIES":{columns:["ID","TableID","Name","Description","IsHidden","State","HierarchyStorageID","ModifiedTime","StructureModifiedTime","RefreshedTime","DisplayFolder","HideMembers","LineageTag","SourceLineageTag"]},"INFO.HIERARCHYSTORAGES":{columns:["ID","HierarchyID","Name","LevelDefinition","MaterializationType","StructureType","SystemTableID"]},"INFO.KPIS":{columns:["ID","MeasureID","Description","TargetDescription","TargetExpression","TargetFormatString","StatusGraphic","StatusDescription","StatusExpression","TrendGraphic","TrendDescription","TrendExpression","ModifiedTime"]},"INFO.LEVELS":{columns:["ID","HierarchyID","Ordinal","Name","Description","ColumnID","ModifiedTime","LineageTag","SourceLineageTag"]},"INFO.LINGUISTICMETADATA":{columns:["ID","CultureID","Content","ModifiedTime","ContentType"]},"INFO.MEASURES":{columns:["ID","TableID","Name","Description","DataType","Expression","FormatString","IsHidden","State","ModifiedTime","StructureModifiedTime","KPIID","IsSimpleMeasure","ErrorMessage","DisplayFolder","DetailRowsDefinitionID","DataCategory","LineageTag","SourceLineageTag"]},"INFO.MODEL":{columns:["ID","Name","Description","StorageLocation","DefaultMode","DefaultDataView","Culture","Collation","ModifiedTime","StructureModifiedTime","Version","DataAccessOptions","DefaultMeasureID","DefaultPowerBIDataSourceVersion","ForceUniqueNames","DiscourageImplicitMeasures","DataSourceVariablesOverrideBehavior","DataSourceDefaultMaxConnections","SourceQueryCulture","MAttributes"]},"INFO.OBJECTTRANSLATIONS":{columns:["ID","CultureID","ObjectID","ObjectType","Property","Value","ModifiedTime"]},"INFO.PARQUETFILESTORAGES":{columns:["ID","DeltaTableMetadataStorageID","Size","Location","CreatedVersion","DeletedVersion","RowgroupCount","Ordinal","ETag","DeletionVectorFileLocation","DeletionVectorBitmapOffset","DeletionVectorBitmapSize","DeletionVectorFileETag"]},"INFO.PARTITIONS":{columns:["ID","TableID","Name","Description","DataSourceID","QueryDefinition","State","Type","PartitionStorageID","Mode","DataView","ModifiedTime","RefreshedTime","SystemFlags","ErrorMessage","RetainDataTillForceCalculate","RangeStart","RangeEnd","RangeGranularity","RefreshBookmark","QueryGroupID","ExpressionSourceID","MAttributes"]},"INFO.PARTITIONSTORAGES":{columns:["ID","PartitionID","Name","StoragePosition","SegmentMapStorageID","DataObjectId","StorageFolderID"]},"INFO.PERSPECTIVECOLUMNS":{columns:["ID","PerspectiveTableID","ColumnID","ModifiedTime"]},"INFO.PERSPECTIVEHIERARCHIES":{columns:["ID","PerspectiveTableID","HierarchyID","ModifiedTime"]},"INFO.PERSPECTIVEMEASURES":{columns:["ID","PerspectiveTableID","MeasureID","ModifiedTime"]},"INFO.PERSPECTIVES":{columns:["ID","ModelID","Name","Description","ModifiedTime"]},"INFO.PERSPECTIVETABLES":{columns:["ID","PerspectiveID","TableID","IncludeAll","ModifiedTime"]},"INFO.PROPERTIES":{columns:["PropertyName","PropertyDescription","PropertyType","PropertyAccessType","IsRequired","Value"]},"INFO.QUERYGROUPS":{columns:["ID","ModelID","Folder","Description"]},"INFO.REFRESHPOLICIES":{columns:["ID","TableID","PolicyType","RollingWindowGranularity","RollingWindowPeriods","IncrementalGranularity","IncrementalPeriods","IncrementalPeriodsOffset","PollingExpression","SourceExpression"]},"INFO.RELATEDCOLUMNDETAILS":{columns:["ID","ColumnID","ModifiedTime"]},"INFO.RELATIONSHIPINDEXSTORAGES":{columns:["ID","RelationshipStorageID","IndexType","Flags","RecordCount","SecondaryRecordCount","StorageFolderID","StorageFileID","SystemTableID","SecondarySystemTableID"]},"INFO.RELATIONSHIPS":{columns:["ID","ModelID","Name","IsActive","Type","CrossFilteringBehavior","JoinOnDateBehavior","RelyOnReferentialIntegrity","FromTableID","FromColumnID","FromCardinality","ToTableID","ToColumnID","ToCardinality","State","RelationshipStorageID","RelationshipStorage2ID","ModifiedTime","RefreshedTime","SecurityFilteringBehavior"]},"INFO.RELATIONSHIPSTORAGES":{columns:["ID","RelationshipID","Name","DefinitionType","Cardinality","Flags","RelationshipIndexStorageID"]},"INFO.ROLEMEMBERSHIPS":{columns:["ID","RoleID","MemberName","MemberID","IdentityProvider","MemberType","ModifiedTime"]},"INFO.ROLES":{columns:["ID","ModelID","Name","Description","ModelPermission","ModifiedTime"]},"INFO.SEGMENTMAPSTORAGES":{columns:["ID","PartitionStorageID","Type","RecordCount","SegmentCount","RecordsPerSegment"]},"INFO.SEGMENTSTORAGES":{columns:["ID","ColumnPartitionStorageID","SegmentCount","StorageFileID"]},"INFO.STORAGEFILES":{columns:["ID","OwnerID","OwnerType","StorageFolderID","FileName"]},"INFO.STORAGEFOLDERS":{columns:["ID","OwnerID","OwnerType","Path"]},"INFO.STORAGETABLECOLUMNS":{columns:["DATABASE_NAME","CUBE_NAME","MEASURE_GROUP_NAME","DIMENSION_NAME","ATTRIBUTE_NAME","TABLE_ID","COLUMN_ID","COLUMN_TYPE","COLUMN_ENCODING","DATATYPE","ISKEY","ISUNIQUE","ISNULLABLE","ISROWNUMBER","DICTIONARY_SIZE","DICTIONARY_ISPAGEABLE","DICTIONARY_ISRESIDENT","DICTIONARY_TEMPERATURE","DICTIONARY_LAST_ACCESSED"]},"INFO.STORAGETABLECOLUMNSEGMENTS":{columns:["DATABASE_NAME","CUBE_NAME","MEASURE_GROUP_NAME","PARTITION_NAME","DIMENSION_NAME","TABLE_ID","COLUMN_ID","SEGMENT_NUMBER","TABLE_PARTITION_NUMBER","RECORDS_COUNT","ALLOCATED_SIZE","USED_SIZE","COMPRESSION_TYPE","BITS_COUNT","BOOKMARK_BITS_COUNT","VERTIPAQ_STATE","ISPAGEABLE","ISRESIDENT","TEMPERATURE","LAST_ACCESSED"]},"INFO.STORAGETABLES":{columns:["DATABASE_NAME","CUBE_NAME","MEASURE_GROUP_NAME","DIMENSION_NAME","TABLE_ID","TABLE_PARTITIONS_COUNT","HINT_TABLE_TYPE","ROWS_COUNT","RIVIOLATION_COUNT"]},"INFO.TABLEPERMISSIONS":{columns:["ID","RoleID","TableID","FilterExpression","ModifiedTime","State","ErrorMessage","MetadataPermission"]},"INFO.TABLES":{columns:["ID","ModelID","Name","DataCategory","Description","IsHidden","TableStorageID","ModifiedTime","StructureModifiedTime","SystemFlags","ShowAsVariationsOnly","IsPrivate","DefaultDetailRowsDefinitionID","AlternateSourcePrecedence","RefreshPolicyID","CalculationGroupID","ExcludeFromModelRefresh","LineageTag","SourceLineageTag"]},"INFO.TABLESTORAGES":{columns:["ID","TableID","Name","Version","Settings","RIViolationCount","StorageFolderID"]},"INFO.VARIATIONS":{columns:["ID","ColumnID","Name","Description","RelationshipID","DefaultHierarchyID","DefaultColumnID","IsDefault"]}},B=D(19194),t=function(){function n(e,r){this.inlineVariables=[],this._parameterContexts=[];var f=function(n){return!!n.matchObjects}(e)?e.matchObjects:e;if(this._homeContext=this,this._matchObjects=f,this.inlineVariables=[],this.filterExpressionState=0,this._parameterContexts=[],this._ephemeralContexts=[],!(e instanceof G)){var I=e;this._previousContext=I,this._homeContext=I.homeContext,this._earliestContext=I.earliestContext,this._earlierContext=I.earlierContext,this.currentTable=I.currentTable,this.groupByCurrentTable=I.groupByCurrentTable,this.inlineVariables=this.inlineVariables.concat(I.inlineVariables),this.filterExpressionState=I.filterExpressionState,r&&I.parameterContexts&&(this._parameterContexts=this._parameterContexts.concat(I.parameterContexts))}}return Object.defineProperty(n.prototype,"matchObjects",{get:function(){return this._matchObjects},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"homeContext",{get:function(){return this._homeContext},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"earlierContext",{get:function(){return this._earlierContext},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"earliestContext",{get:function(){return this._earliestContext},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ephemeralContexts",{get:function(){return this._ephemeralContexts},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parameterContexts",{get:function(){return this._parameterContexts},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"variables",{get:function(){return P.Sy.union(this.matchObjects.variables,this.inlineVariables,oe)},enumerable:!1,configurable:!0}),n.prototype.getTablesInScopeForQualifiedColRefs=function(){return this.getTablesInScopeForQualifiedColRefsEx(void 0,d.Yl.None.columnReferenceScope)},n.prototype.getAllTablesInScopeForQualifiedColRefs=function(){return _.union(this.getTablesInScopeForQualifiedColRefs(),_.flatten(_.map(this.ephemeralContexts,function(e){return e.getTablesInScopeForQualifiedColRefs()})))},n.prototype.getSimpleColumnRefsInScope=function(){return this.getSimpleColumnRefsInScopeEx(void 0,d.Yl.None.columnReferenceScope)},n.prototype.getAllSimpleColRefsInScope=function(){return this.getSimpleColumnRefsInScope().concat(_.flatten(_.map(this.ephemeralContexts,function(e){return e.getSimpleColumnRefsInScope()})))},n.prototype.getAllTables=function(){var e=this.matchObjects.tables;return this.currentTable&&(e=e.concat(this.currentTable.constructedTables)),e.concat(_.chain(this.ephemeralContexts).filter(function(r){return!!r.currentTable}).map(function(r){return r.currentTable.constructedTables}).flatten().value())},n.prototype.getTablesInScopeForQualifiedColRefsEx=function(e,r){if(e||(e=this.currentTable),r===d.Yl.None.columnReferenceScope)switch(this.filterExpressionState){case 1:r=18;break;case 0:case 2:r=3}var f=[];if(P.G.hasFlag(r,16))f=_.union(f,this.matchObjects.tables);else{if(P.G.hasFlag(r,1)&&null!=e&&(f=_.union(f,e.immediateTables)),P.G.hasFlag(r,32)){var I=this.homeContext.currentTable;null!=I&&(f=_.union(f,I.immediateTables))}P.G.hasFlag(r,4)&&null!=e&&(f=_.union(f,e.relatedTables))}return P.G.hasFlag(r,2)&&null!=e&&(f=_.union(f,_.filter(e.constructedTables,function(k){return!P.uI.isNullOrEmpty(k.name)}))),f},n.prototype.getSimpleColumnRefsInScopeEx=function(e,r){var f=r;if(e||(e=this.currentTable),r===d.Yl.None.columnReferenceScope||64===r)switch(this.filterExpressionState){case 1:case 2:r=18;break;case 0:r=3}var I=[];if(P.G.hasFlag(r,1)&&null!=e)for(var k=0,ee=e.immediateTables;k<ee.length;k++)I=I.concat(ee[k].columns);if(P.G.hasFlag(r,32)){var re=this.homeContext.currentTable;if(null!=re)for(var $=0,ge=re.immediateTables;$<ge.length;$++)I=I.concat(ge[$].columns)}if(P.G.hasFlag(r,8)&&null!=e)for(var ve=0,ue=e.relatedTables;ve<ue.length;ve++)I=I.concat(ue[ve].columns);if(P.G.hasFlag(r,2)&&null!=e)for(var be=0,ye=e.constructedTables;be<ye.length;be++)I=I.concat(ye[be].columns);if(!P.G.hasFlag(f,64))for(var me=0,Ie=this.matchObjects.transparentTables;me<Ie.length;me++)I=I.concat(Ie[me].columns);return I},n.prototype.isReservedWord=function(e){return n.isReservedWord(e,this.matchObjects.reservedWords,this.matchObjects.functions)},n.isReservedWord=function(e,r,f){return!(!e||!_.has(r,e.toUpperCase())&&!_.find(f,function(I){return P.uI.equalIgnoreCase(I.name,e)}))},n.prototype.newTableScan=function(){for(this._earlierContext=this._previousContext,this._earliestContext=this.earlierContext;null!=this.earliestContext.earlierContext;this._earliestContext=this.earliestContext.earlierContext);},n.prototype.mergeInlineVariables=function(e){_.remove(this.inlineVariables,function(r){return _.some(e,function(f){return P.uI.equalIgnoreCase(f.name,r.name)})}),this.inlineVariables=this.inlineVariables.concat(e)},n}(),x=function(){function n(e,r,f,I){this.context=e,this._currentTable=r,this._role=f,this._enumValues=I}return Object.defineProperty(n.prototype,"enumValues",{get:function(){return this._enumValues},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"role",{get:function(){return this._role},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"allowedTypes",{get:function(){return this.role.type},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"currentTable",{get:function(){return this._currentTable},enumerable:!1,configurable:!0}),n.prototype.getTablesInScopeForQualifiedColRefs=function(){return this.context.getTablesInScopeForQualifiedColRefsEx(this.currentTable,this.role.columnReferenceScope)},n.prototype.getSimpleColumnRefsInScope=function(){return this.context.getSimpleColumnRefsInScopeEx(this.currentTable,this.role.columnReferenceScope)},n}(),G=function(){function n(e,r,f,I,k,ee,Q,re){this._tables=e,this._columns=r,this._measures=f,this._calendars=I,this.reservedWords=ee,this.transparentTables=Q,this.visibleColumnMap={},this.visibleTableMap={},this.definedVarMap={},this.visibleMeasureMap={},this.definedMeasureMap={},this.functionMap={},this.axisMap={},this.calendarMap={},this.unhideAll();for(var $=0,ge=k;$<ge.length;$++){var ve=ge[$];this.functionMap[l.getMatchObjectKey(ve.name)]=ve}for(var ue=0,be=re;ue<be.length;ue++){var ye=be[ue];this.axisMap[c.getMatchObjectKey(ye.name)]=ye}for(var me=0,Ie=this._calendars;me<Ie.length;me++){var De=Ie[me];this.calendarMap[De.matchObjectKey]=De}}return Object.defineProperty(n.prototype,"axes",{get:function(){return Object.values(this.axisMap)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tables",{get:function(){return Object.values(this.visibleTableMap)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"columns",{get:function(){return Object.values(this.visibleColumnMap)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"functions",{get:function(){return Object.values(this.functionMap)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"measures",{get:function(){return Object.values((0,E.pi)((0,E.pi)({},this.definedMeasureMap),this.visibleMeasureMap))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"variables",{get:function(){return Object.values(this.definedVarMap)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"calendars",{get:function(){return Object.values(this.calendarMap)},enumerable:!1,configurable:!0}),n.prototype.hideTable=function(e){delete this.visibleTableMap[e.matchObjectKey];for(var r=0,f=Object.entries(this.visibleColumnMap);r<f.length;r++){var I=f[r],k=I[0];I[1].table===e&&delete this.visibleColumnMap[k]}for(var Q=0,re=Object.entries(this.visibleMeasureMap);Q<re.length;Q++){var $=re[Q];k=$[0],$[1].table===e&&delete this.visibleMeasureMap[k]}},n.prototype.hideColumn=function(e){delete this.visibleColumnMap[e.matchObjectKey]},n.prototype.hideMeasure=function(e){delete this.visibleMeasureMap[e.matchObjectKey]},n.prototype.unhideAll=function(){for(var e=0,r=this._tables;e<r.length;e++){var f=r[e];this.visibleTableMap[f.matchObjectKey]=f}for(var I=0,k=this._columns;I<k.length;I++){var ee=k[I];this.visibleColumnMap[ee.matchObjectKey]=ee}for(var Q=0,re=this._measures;Q<re.length;Q++){var $=re[Q];this.visibleMeasureMap[$.matchObjectKey]=$}for(var ge=0,ve=this._tables;ge<ve.length;ge++)ve[ge].unhideAll()},n.prototype.clearDefinedMeasures=function(){this.definedMeasureMap={};for(var e=0,r=this.tables;e<r.length;e++)r[e].clearDefinedMeasures()},n.prototype.clearDefinedVariables=function(){this.definedVarMap={}},n.prototype.chooseFunctions=function(e){for(var r=0,f=Object.entries(this.functionMap);r<f.length;r++){var I=f[r],k=I[0];e(I[1])||delete this.functionMap[k]}},n.prototype.mergeMeasures=function(e){for(var r=0,f=e;r<f.length;r++){var I=f[r];this.definedMeasureMap[I.matchObjectKey]||(this.definedMeasureMap[I.matchObjectKey]=I)}},n.prototype.removeDefinedMeasure=function(e,r){var f=p.getMatchObjectKey(r,e);delete this.definedMeasureMap[f]},n.prototype.mergeVariables=function(e){for(var r=0,f=e;r<f.length;r++){var I=f[r];this.definedVarMap[I.matchObjectKey]||(this.definedVarMap[I.matchObjectKey]=I)}},n.prototype.removeDefinedVariable=function(e){var r=J.getMatchObjectKey(e,!0);delete this.definedVarMap[r]},n.prototype.findAxis=function(e){return this.axisMap[c.getMatchObjectKey(e)]},n.prototype.findTable=function(e){return this.visibleTableMap[de.getMatchObjectKey(e)]},n.prototype.findFunction=function(e){return this.functionMap[l.getMatchObjectKey(e)]},n.prototype.findVariable=function(e){var r=J.getMatchObjectKey(e,!0);return this.definedVarMap[r]},n.prototype.findCalendar=function(e){return this.calendarMap[q.getMatchObjectKey(e)]},n}(),Z=function(){function n(e,r){this._name=e,this._description=r}return Object.defineProperty(n.prototype,"description",{get:function(){return this._description},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return this.name},n.prototype.getHashCode=function(){return this.name},n}(),W=function(){return function(){this.constructedTables=[],this.immediateTables=[],this.relatedTables=[]}}(),T=function(n){function e(r){return n.call(this,r,void 0)||this}return(0,E.ZT)(e,n),e}(Z),c=function(n){function e(r){var f=n.call(this,r,void 0)||this;return f.matchObjectKey=e.getMatchObjectKey(r),f}return(0,E.ZT)(e,n),e.getMatchObjectKey=function(r){return r.toLowerCase()},Object.defineProperty(e.prototype,"description",{get:function(){return"rows"===this.name.toLowerCase()?B.m.localizedStrings.rowsDescription:"columns"===this.name.toLowerCase()?B.m.localizedStrings.columnsDescription:"rows columns"===this.name.toLowerCase()?B.m.localizedStrings.rowsColumnsDescription:"columns rows"===this.name.toLowerCase()?B.m.localizedStrings.columnsRowsDescription:""},enumerable:!1,configurable:!0}),e}(Z),q=function(n){function e(r,f){var I=n.call(this,r,void 0)||this;return I._table=f,I.matchObjectKey=e.getMatchObjectKey(r),I}return(0,E.ZT)(e,n),e.getMatchObjectKey=function(r){return r.toLowerCase()},Object.defineProperty(e.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),e}(Z),J=function(n){function e(r,f,I){void 0===I&&(I=!1);var k=n.call(this,r,void 0)||this;return k.variableNode=f,k._isQueryScoped=I,k.matchObjectKey=e.getMatchObjectKey(r,I),k}return(0,E.ZT)(e,n),e.getMatchObjectKey=function(r,f){return"".concat(r.toLowerCase(),":").concat(f)},Object.defineProperty(e.prototype,"value",{get:function(){return this.variableNode&&this.variableNode.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isQueryScoped",{get:function(){return this._isQueryScoped},enumerable:!1,configurable:!0}),e}(Z);function oe(n,e){return n===e||P.uI.equalIgnoreCase(n.name,e.name)}function he(n,e){return n===e||P.uI.equalIgnoreCase(n.name,e.name)}var de=function(n){function e(r,f,I,k,ee,Q){void 0===k&&(k=r),void 0===ee&&(ee=!1),void 0===Q&&(Q=!0);var re=n.call(this,r,f)||this;return re.visibleColumnMap={},re.visibleMeasureMap={},re.definedMeasureMap={},re._uberTable=new W,re._uberTable.immediateTables.push(re),re._quoteNeeded=I,re._tableId=k,re._columnMap={},re._measureMap={},re._calendarMap={},re._isTransparent=ee,re._isUserTable=Q,re.matchObjectKey=e.getMatchObjectKey(r),re.unhideAll(),re}return(0,E.ZT)(e,n),e.getMatchObjectKey=function(r){return r.toLowerCase()},Object.defineProperty(e.prototype,"isTransparent",{get:function(){return this._isTransparent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quoteNeeded",{get:function(){return this._quoteNeeded},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uberTable",{get:function(){return this._uberTable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableId",{get:function(){return this._tableId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this.visibleColumns},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"measures",{get:function(){return Object.values((0,E.pi)((0,E.pi)({},this.definedMeasureMap),this.visibleMeasureMap))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"calendars",{get:function(){return Object.values((0,E.pi)({},this._calendarMap))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUserTable",{get:function(){return this._isUserTable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibleColumns",{get:function(){return Object.values(this.visibleColumnMap)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibleMeasures",{get:function(){return Object.values(this.visibleMeasureMap)},enumerable:!1,configurable:!0}),e.prototype.addColumn=function(r){this._columnMap[r.matchObjectKey]=r,this.visibleColumnMap[r.matchObjectKey]=r},e.prototype.addMeasure=function(r){this._measureMap[r.matchObjectKey]=r,this.visibleMeasureMap[r.matchObjectKey]=r},e.prototype.addCalendar=function(r){this._calendarMap[r.matchObjectKey]=r},e.prototype.hideColumn=function(r){delete this.visibleColumnMap[r.matchObjectKey]},e.prototype.hideMeasure=function(r){delete this.visibleMeasureMap[r.matchObjectKey]},e.prototype.unhideAll=function(){this.visibleColumnMap=(0,E.pi)({},this._columnMap),this.visibleMeasureMap=(0,E.pi)({},this._measureMap)},e.prototype.getAutoCompleteName=function(r){return r||this.quoteNeeded?P.LP.quote(this.name):this.name},e.prototype.clearDefinedMeasures=function(){this.definedMeasureMap={}},e.prototype.mergeDefinedMeasure=function(r){(0,w.hu)(r.isQueryScoped,"Should only be merging defined measures"),this.definedMeasureMap[r.matchObjectKey]||(this.definedMeasureMap[r.matchObjectKey]=r)},e.prototype.removeDefinedMeasure=function(r){var f=p.getMatchObjectKey(this.name,r);delete this.definedMeasureMap[f]},e.prototype.findColumn=function(r){var f=Ee.getMatchObjectKey(this.name,r);return this.visibleColumnMap[f]},e.prototype.findMeasure=function(r){var f=p.getMatchObjectKey(this.name,r),I=u.getMatchObjectKey(this.name,r);return this.definedMeasureMap[f]||this.visibleMeasureMap[I]},e}(Z),Ee=function(n){function e(r,f,I){var k=n.call(this,r,f)||this;return k._table=I,k.matchObjectKey=e.getMatchObjectKey(I.name,r),k}return(0,E.ZT)(e,n),e.getMatchObjectKey=function(r,f){return"".concat(r.toLowerCase(),":").concat(f.toLowerCase())},Object.defineProperty(e.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),e}(Z),ie=function(n){function e(r,f){return n.call(this,r,f)||this}return(0,E.ZT)(e,n),e}(Z),se=function(){function n(e,r,f,I,k,ee,Q,re){this._name=e,this._type=r,this._repeatable=f,this._optional=I,this._repeatGroup=f?k:-1,this._role=ee,this._skippable=Q,this._enumValues=re}return Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"optional",{get:function(){return this._optional},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"repeatable",{get:function(){return this._repeatable},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"repeatGroup",{get:function(){return this._repeatGroup},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"role",{get:function(){return this._role},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"skippable",{get:function(){return this._skippable},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"enumValues",{get:function(){return this._enumValues},enumerable:!1,configurable:!0}),n.prototype.getNameForPrototype=function(e){void 0===e&&(e=0);var r=this.optional,f=this.name;return this.repeatable&&(f+=e,e>1&&(r=!0)),r&&(f="[".concat(f,"]")),f},n}(),ae=function(n){function e(r,f,I,k,ee){void 0===ee&&(ee=[]);var Q=n.call(this,r,f)||this;return Q._returnType=I,Q._role=k,Q._signatures=ee,Q}return(0,E.ZT)(e,n),Object.defineProperty(e.prototype,"role",{get:function(){return this._role},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signatures",{get:function(){return this._signatures},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"returnType",{get:function(){return this._returnType},enumerable:!1,configurable:!0}),e.prototype.getParamCount=function(r){return r?r.getParameterCount():0},e.prototype.getTableReturnValue=function(r,f){var I;switch(this.role){case 2:case 8194:if(f){I=new W;for(var k=this.getParamCount(f),ee=0,Q=this.signatures;ee<Q.length;ee++)new X(r,Q[ee],f,k,I).iterate()}break;case 4:case 4096:case 12:case 16384:(0,w.hu)(!!V[this.name],"Function ".concat(this.name," does not have a schema defined.")),I=new W;var $=new de("",void 0,!1);V[this.name].columns.forEach(function(ge){$.addColumn(new Ee(ge,void 0,$))}),I.immediateTables.push($);break;case 8:I=r.groupByCurrentTable}return I},e.prototype.getContextForParam=function(r,f,I){for(var k,ee=this.signatures.map(function(Ae){return new H(r,Ae,f,I)}),re=P.jl.getAllExploredStates(ee).completedStates.filter(function(Ae){return Ae.prototypeParam<Ae.prototypeSignature.length}),$=new t(r,!1),ge=f.getParameter(I),ve=!1,ue=!1,be=0,ye=re;be<ye.length;be++){var De=(me=ye[be]).prototypeSignature[me.prototypeParam],xe=De.role,Re=d.Rv.getTypes(xe,r),Ne=!0;if(Re!==d.Yl.None.type&&(ge.couldBeType({type:Re})||(Ne=!1,ve=!0)),Ne){me.paramContext.prototypeParam=me.prototypeParam,me.paramContext.skippedParameters=me.skippedParameters,$.parameterContexts.push(me.paramContext);var Me=void 0,Pe=xe.argumentContextAction;if(3===Pe||1===Pe||2===Pe){var Se=$.currentTable,Te=$.currentTable;(2===Pe||3===Pe)&&me.extractedColumns.length>0?((Te=new W).constructedTables=Te.constructedTables.concat(me.extractedColumns),null!=Se&&(Te.immediateTables=Te.immediateTables.concat(Se.immediateTables),Te.relatedTables=Te.relatedTables.concat(Se.relatedTables),Te.constructedTables=Te.constructedTables.concat(Se.constructedTables))):(1===Pe||3===Pe)&&null!=me.extractedTable&&(Se?((Te=new W).immediateTables=Te.immediateTables.concat(Se.immediateTables.concat(me.extractedTable.immediateTables)),Te.relatedTables=Te.relatedTables.concat(Se.relatedTables.concat(me.extractedTable.relatedTables)),Te.constructedTables=Te.constructedTables.concat(Se.constructedTables.concat(me.extractedTable.constructedTables))):Te=me.extractedTable),Te!==Se&&($.currentTable=Te,$.newTableScan())}else 4===Pe?Me=me.extractedTable:5===Pe?$.currentTable=void 0:6===Pe?$.currentTable=$.earlierContext?$.earlierContext.currentTable:void 0:7===Pe&&($.currentTable=$.earliestContext?$.earliestContext.currentTable:void 0);if(P.G.hasFlag(xe.additionalBehaviors,1)&&($.groupByCurrentTable=me.extractedTable),P.G.hasFlag(xe.additionalBehaviors,2)?$.filterExpressionState=1:!_.isEqual(xe,d.Yl.None)&&!P.G.hasFlag(xe.type,1)&&($.filterExpressionState=0),P.G.hasFlag(xe.additionalBehaviors,4)&&(k=$.ephemeralContexts).push.apply(k,_.chain(r.ephemeralContexts).filter(function(Ae){return!!(Ae.allowedTypes&d.XD)}).map(function(Ae){return new x($,Ae.currentTable,(0,E.pi)((0,E.pi)({},Ae.role),{type:d.XD}),Ae.enumValues)}).value()),Re!==d.Yl.None.type){var Fe=d.Rv.transformRole(xe,r);$.ephemeralContexts.push(new x($,Me,Fe,P.G.hasFlag(Fe.type,64)?De.enumValues:void 0))}else ue=!0}}if(0===$.parameterContexts.length)for(var je=0,Le=re;je<Le.length;je++){var me;(me=Le[je]).paramContext.prototypeParam=me.prototypeParam,$.parameterContexts.push(me.paramContext)}return ve&&0===$.ephemeralContexts.length&&$.ephemeralContexts.push(new x($,void 0,N.d.featureSwitches.useSkippableParams&&!ue?d.Yl.InvalidParam:d.Yl.None,void 0)),$},e.prototype.getDefaultPrototype=function(){for(var f="",I=0,k=this.getPrototype(void 0);I<k.length;I++){var ee=k[I];f+=ee.text+ee.separator}return f},e.prototype.getPrototype=function(r){var f=[];f.push({text:this.name+"(",separator:"",bold:!1});for(var k=r?r.prototypeSignature:this.signatures[0],ee=r?r.prototypeParam:-1,Q=k.length,re=0,$=0;$<Q;){var ge=k[$];if(ge.repeatable){var ve=void 0;for(ve=$+1;ve<Q&&((ue=k[ve]).repeatable&&ue.repeatGroup===ge.repeatGroup);ve++);var be=0;r&&re<r.repeatCounts.length&&(be=r.repeatCounts[re]),re++;var ye=ee<ve;if(ye&&be++,be>0){if(be>1){for(var me=$;me<ve;me++){var ue=k[me];h(r?.skippedParameters,me,0)||f.push({text:ue.getNameForPrototype(1)+A.ft().listSeparator,separator:" ",bold:!1})}be>2&&f.push({text:"..."+A.ft().listSeparator,separator:" ",bold:!1})}for(;$<ve;$++)ge=k[$],!h(r?.skippedParameters,$,be-1)&&f.push({text:ge.getNameForPrototype(be)+A.ft().listSeparator,separator:" ",bold:$===ee});ye&&f.push({text:"..."+A.ft().listSeparator,separator:" ",bold:!1})}else $=ve}else h(r?.skippedParameters,$,0)||f.push({text:ge.getNameForPrototype()+A.ft().listSeparator,separator:" ",bold:$===ee}),$++}if(f.length>1){var Ie=_.last(f);f[f.length-1]={text:Ie.text.substr(0,Ie.text.length-A.ft().listSeparator.length),separator:"",bold:Ie.bold}}return f.push({text:")",separator:"",bold:!1}),f},e}(Z),g=function(){function n(){this.success=!1,this.badParam=-1,this.firstExtraParam=-1,this.incomplete=!1,this.associatedSignature=[]}return n.prototype.assessStatus=function(e,r,f,I){if(e<r)f<I.length?(this.badParam=Math.max(this.badParam,e),this.associatedSignature=I):this.firstExtraParam=Math.max(this.firstExtraParam,e);else{for(;f<I.length&&I[f].optional;f++);f<I.length?this.incomplete=!0:this.success=!0}},n.prototype.markSuccess=function(){this.success=!0},n}(),s=function(){function n(e,r){this.paramNumber=e,this.repeatCount=r}return n.prototype.equals=function(e){return!(this.paramNumber!==e.paramNumber||this.repeatCount!==e.repeatCount)},n}();function h(n,e,r){return!(!N.d.featureSwitches.useSkippableParams||!n?.find(function(f){return f.equals(new s(e,r))}))}var o=function(){function n(e){this.prototypeSignature=[],this.prototypeParam=e?e.prototypeParam:0,this.skippedParameters=e?_.toArray(e.skippedParameters):[],this._repeatCounts=e?_.toArray(e.repeatCounts):[]}return Object.defineProperty(n.prototype,"repeatCounts",{get:function(){return this._repeatCounts},enumerable:!1,configurable:!0}),n.prototype.equals=function(e){if(this.prototypeParam!==e.prototypeParam||this.repeatCounts.length!==e.repeatCounts.length)return!1;for(var r=0;r<this.repeatCounts.length;r++)if(this.repeatCounts[r]!==e.repeatCounts[r])return!1;if(N.d.featureSwitches.useSkippableParams){if(this.skippedParameters.length!==e.skippedParameters.length)return!1;for(r=0;r<this.skippedParameters.length;r++)if(!this.skippedParameters[r].equals(e.skippedParameters[r]))return!1}return!0},n}(),l=function(n){function e(r,f,I,k,ee,Q,re){var $=n.call(this,r,f,ee,Q,re)||this;return $._category=I,$._pushableToDirectQuery=k,$.matchObjectKey=e.getMatchObjectKey(r),$}return(0,E.ZT)(e,n),e.getMatchObjectKey=function(r){return r.toLowerCase()},Object.defineProperty(e.prototype,"pushableToDirectQuery",{get:function(){return this._pushableToDirectQuery},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"category",{get:function(){return this._category},enumerable:!1,configurable:!0}),e.FUNCTIONS_SPECIAL_CALCULATE_FUNCTION_NAME="CALCULATE",e}(ae),u=function(n){function e(r,f,I,k,ee){void 0===ee&&(ee=!1);var Q=n.call(this,r,f,k.returnType,k.role,e.removeFirstParam(k.signatures))||this;return Q._table=I,Q._isQueryScoped=ee,Q.matchObjectKey=e.getMatchObjectKey(I.name,r),Q}return(0,E.ZT)(e,n),e.getMatchObjectKey=function(r,f){return"".concat(r.toLowerCase(),":").concat(f.toLowerCase())},Object.defineProperty(e.prototype,"isQueryScoped",{get:function(){return this._isQueryScoped},enumerable:!1,configurable:!0}),e.removeFirstParam=function(r){(0,w.mv)(1===r.length,"Expected exactly one parameter prototype");var f=_.toArray(r[0]);return f.shift(),[f]},Object.defineProperty(e.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),e}(ae),p=function(n){function e(r,f,I,k,ee){var Q=n.call(this,r,f,I,k,!0)||this;return Q._measureExpressionNode=ee,Q.matchObjectKey=e.getMatchObjectKey(I.name,r),Q}return(0,E.ZT)(e,n),e.getMatchObjectKey=function(r,f){return"".concat(r.toLowerCase(),":").concat(f.toLowerCase())},Object.defineProperty(e.prototype,"measureExpressionNode",{get:function(){return this._measureExpressionNode},enumerable:!1,configurable:!0}),e}(u),b=function(){function n(e,r){this.leadingTrivia=[],this.trailingTrivia=[],this._parent=e,this.cachedContext=r}return Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fullSpan",{get:function(){return Y.X.fromTokens(this.firstDescendent.token,this.lastDescendent.token)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tableValue",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tableRef",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"qualifiedColumnRef",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"filterColumnRef",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"simpleColumnRef",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isDataTable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"string",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tupleCardinality",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"axesRef",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isValidAxisValue",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isValidEnumValue",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"calendarRef",{get:function(){},enumerable:!1,configurable:!0}),n.prototype.getRolledUpColumns=function(e){},n.prototype.getChildFunctionName=function(){},n.prototype.couldBeType=function(e){return!1},Object.defineProperty(n.prototype,"context",{get:function(){return(!this.cachedContext||A.Mz.alwaysRebuildContext)&&this.parent&&(this.cachedContext=this.parent.getContextForChild(this)),this.cachedContext},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"segment",{get:function(){return Y.X.fromTokens(this.firstDescendent.token,this.lastDescendent.token)},enumerable:!1,configurable:!0}),n.prototype.onParseComplete=function(){},n.prototype.onParseIncomplete=function(){},Object.defineProperty(n.prototype,"selfDescription",{get:function(){if(A.Mz.debugging){var r=this.constructor.name.toString();return _.endsWith(r,"Node")&&(r=r.substr(0,r.length-4)),r}},enumerable:!1,configurable:!0}),n.prototype.clearContext=function(){this.cachedContext=void 0},n.prototype.printSelf=function(e){},n.prototype.printSelfAndChildren=function(e){A.Mz.debugging&&(this.printSelf(e),this.printChildren(e+2))},n.prototype.printChildren=function(e){},n}(),S=function(n){function e(r,f){return n.call(this,r,f)||this}return(0,E.ZT)(e,n),Object.defineProperty(e.prototype,"tableValue",{get:function(){return this.getFromOnlyChild(function(f){return f.tableValue})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableRef",{get:function(){return this.getFromOnlyChild(function(f){return f.tableRef})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"qualifiedColumnRef",{get:function(){return this.getFromOnlyChild(function(f){return f.qualifiedColumnRef})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"simpleColumnRef",{get:function(){return this.getFromOnlyChild(function(f){return f.simpleColumnRef})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"string",{get:function(){return this.getFromOnlyChild(function(f){return f.string})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDataTable",{get:function(){return this.getFromOnlyChild(function(f){return f.isDataTable})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tupleCardinality",{get:function(){return this.getFromOnlyChild(function(f){return f.tupleCardinality})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"axesRef",{get:function(){return this.getFromOnlyChild(function(f){return f.axesRef})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isValidAxisValue",{get:function(){return this.getFromOnlyChild(function(f){return f.isValidAxisValue})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isValidEnumValue",{get:function(){return this.getFromOnlyChild(function(f){return f.isValidEnumValue})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"calendarRef",{get:function(){return this.getFromOnlyChild(function(f){return f.calendarRef})},enumerable:!1,configurable:!0}),e.prototype.getRolledUpColumns=function(r){return this.getFromOnlyChild(function(f){return f.getRolledUpColumns(r)})},e.prototype.getChildFunctionName=function(){return this.getFromOnlyChild(function(r){return r.getChildFunctionName()})},e.prototype.couldBeType=function(r){return this.getFromOnlyChild(function(f){return f.couldBeType(r)})},e}(b),F=function(n){function e(r,f,I){var k=n.call(this,r,I)||this;return k.types=_.isArray(f)?f:[f],k}return(0,E.ZT)(e,n),Object.defineProperty(e.prototype,"leafPosition",{get:function(){return this._leafPosition},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"token",{get:function(){return this._leafPosition.token},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstDescendent",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastDescendent",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return!this.path||this.path.isValid},enumerable:!1,configurable:!0}),e.prototype.eatToken=function(r,f){if(this.leafPosition)return R.R.NotHungry;for(var I=r.token,k=!1,ee=0,Q=this.types;ee<Q.length;ee++)if(I.matchesType(Q[ee])){k=!0;break}return k||this.otherwiseMatchesToken(I)?(this._path=new C.q(f),this._leafPosition=r,this._leafPosition.addNode(this),R.R.Yum):R.R.Yuck},Object.defineProperty(e.prototype,"isValidEnumValue",{get:function(){var f=this,I=_.flatMap(this.context.ephemeralContexts,function(k){return k.enumValues}).filter(function(k){return!!k});return!_.isEmpty(I)&&_.some(I,function(k){return P.uI.equalIgnoreCase(k.name,f.token.getString())})},enumerable:!1,configurable:!0}),e.prototype.consolidatePath=function(){this._path=this.path.consolidatePath()},e.prototype.otherwiseMatchesToken=function(r){return!1},e}(b),U=function(){function n(e){this._nodes=[],this._token=e}return Object.defineProperty(n.prototype,"nodes",{get:function(){return this._nodes},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"token",{get:function(){return this._token},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"validNodes",{get:function(){return _.filter(this.nodes,function(r){return r.valid})},enumerable:!1,configurable:!0}),n.prototype.addNode=function(e){this.nodes.push(e)},n.prototype.rebindToken=function(e){this._token=e},Object.defineProperty(n.prototype,"isInParseTree",{get:function(){return _.some(this.nodes,function(r){return r.parent})},enumerable:!1,configurable:!0}),n}(),L=function(){function n(e,r,f,I,k){this.parentContext=e,this._prototypeSignature=r,this._actualParameters=f,this._actualParamMax=I,this._useMismatchedState=k,this._useMismatchedState=k,this._completedStates=[],this._incompleteStates=[]}return Object.defineProperty(n.prototype,"completedStates",{get:function(){return this._completedStates},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"incompleteStates",{get:function(){return this._incompleteStates},enumerable:!1,configurable:!0}),n.prototype.iterate=function(){var e=[],r=[];for(e.push(this.newIteration());;){var f=void 0;if(e.length>0)f=e.shift();else if(this._useMismatchedState&&0===this.completedStates.length){for(var I=void 0,k=!1,ee=0,Q=r;ee<Q.length;ee++){var re=Q[ee];!I||re.actualParam>I.actualParam?(I=re,k=!1):re.actualParam===I.actualParam&&(k=!0)}r.length=0,I&&!k&&(f=I).advanceParameter()}if(!f)break;f.iterate(e,r)?this.completedStates.push(f):this.incompleteStates.push(f)}},n.prototype.newIteration=function(){return new K(this)},n}(),K=function(){function n(e){this._actualParam=0,this._prototypeParam=0,this._skippedParameters=[],this._prototypeSignature=[],this.repeatStart=-1,this._repeated=!1,this.repeatGroup=-1,this.repeatCount=0,e instanceof n?(this.paramIter=e.paramIter,this._actualParam=e.actualParam,this._prototypeParam=e.prototypeParam,this._skippedParameters=e.skippedParameters?_.toArray(e.skippedParameters):[],this._prototypeSignature=e._prototypeSignature,this.repeatStart=e.repeatStart,this._repeated=e.repeated,this.repeatGroup=e.repeatGroup,this.repeatCount=e.repeatCount):(this.paramIter=e,this._prototypeSignature=e._prototypeSignature)}return Object.defineProperty(n.prototype,"actualParam",{get:function(){return this._actualParam},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"prototypeParam",{get:function(){return this._prototypeParam},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"skippedParameters",{get:function(){return this._skippedParameters},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"prototypeSignature",{get:function(){return this._prototypeSignature},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"repeated",{get:function(){return this._repeated},enumerable:!1,configurable:!0}),n.prototype.advanceParameter=function(){this._prototypeParam++,this._actualParam++},n.prototype.skipCurrentParameter=function(){this._skippedParameters.push(new s(this.prototypeParam,this.repeatCount)),this._prototypeParam++},n.prototype.iterate=function(e,r){for(var I,k,ee,f=this;;){if(this.repeatStart>-1&&(this.prototypeParam>=this.paramIter._prototypeSignature.length||this.paramIter._prototypeSignature[this.prototypeParam].repeatGroup!==this.repeatGroup)){if(this.repeat(),N.d.featureSwitches.useSkippableParams){if(this.skippedParameters.filter(function(Be){return Be.repeatCount===f.repeatCount}).length===this.paramIter._prototypeSignature.filter(function(Be){return Be.repeatGroup===f.repeatGroup}).length)return!1;this.repeatCount++}var Q=this.clone();Q.repeatStart=-1,Q._repeated=!1,Q.repeatCount=0,e.push(Q),this._repeated=!0,this._prototypeParam=this.repeatStart}if(this.prototypeParam>=this.paramIter._prototypeSignature.length)return this.actualParam===this.paramIter._actualParamMax;var re=this.paramIter._prototypeSignature[this.prototypeParam],$=re.role,ge=d.Rv.getTypes($,this.paramIter.parentContext);if(-1===this.repeatStart){if(re.optional&&re.repeatable){var ve;for((ve=this.clone())._prototypeParam++;ve.prototypeParam<this.paramIter._prototypeSignature.length&&this.paramIter._prototypeSignature[ve.prototypeParam].repeatGroup===re.repeatGroup;)ve._prototypeParam++;ve.newRepeatGroup(),e.push(ve)}re.repeatable&&(this.repeatStart=this.prototypeParam,this.repeatGroup=re.repeatGroup,this.newRepeatGroup())}if(N.d.featureSwitches.useSkippableParams&&re.skippable&&((ve=this.clone()).skipCurrentParameter(),e.push(ve)),this.actualParam===this.paramIter._actualParamMax)return!0;var ue=!1,be=this.paramIter._actualParameters.getParameter(this.actualParam);if(null==be)ue=re.optional;else{var ye=void 0;if(!ue&&P.G.hasFlag(ge,2)){var me=be.getTableValue();(ue=null!=me)&&(this.handleTableValue($,me),ye=2)}if(!ue&&P.G.hasFlag(ge,4)){var Ie=be.getTableRef();(ue=null!=Ie)&&(this.handleTableRef($,Ie),ye=4)}var De=!1,xe=void 0,Re=void 0,Ne=void 0;if(this.prototypeParam>0&&(xe=h(this.skippedParameters,this.prototypeParam-1,this.repeatCount),Ne=d.Rv.getTypes((Re=this.paramIter._prototypeSignature[this.prototypeParam-1]).role,this.paramIter.parentContext),xe&&P.G.hasFlag(Ne,32)&&(ge=24,De=!0)),!ue&&P.G.hasFlag(ge,8)){var Me=be.getQualifiedColumnRef();(ue=!!Me)&&(De&&this.handleNewCol(Re.role,Me.table.name,Me.name,Me.table.quoteNeeded),this.handleQualifiedColRef($,Me),ye=8)}if(!ue&&P.G.hasFlag(ge,16)){var Pe=be.getSimpleColumnRef();(ue=null!=Pe)&&(De&&this.handleNewCol(Re.role,Pe.table.name,Pe.name,Pe.table.quoteNeeded),this.handleSimpleColRef($,Pe),ye=16)}if(!ue&&P.G.hasFlag(ge,32)){var Se=be.getString();if(ue=!!Se){var Te=void 0,Fe={table:void 0,column:void 0};O.J.tryParseColumnReference(Se,Fe)?Te=P.LP.quoteNeeded(Fe.table,this.paramIter.parentContext):(Fe.column=Se,Fe.table="",Te=!1),this.handleNewCol($,Fe.table,Fe.column,Te),ye=32}}if(!ue&&P.G.hasFlag(ge,2048)&&(ue=null!=be.getString(),ye=2048),!ue&&ge&d.e9){var je=be.getRolledUpColumns({type:ge});if(ue=null!=je)for(var Le=0,Ae=je;Le<Ae.length;Le++)this.handleSimpleColRef($,Ae[Le]);ye=ge&d.e9}!ue&&P.G.hasFlag(ge,16384)&&(ue="ORDERBY"===(null===(I=be.getChildFunctionName())||void 0===I?void 0:I.toUpperCase()))&&(ye=16384),!ue&&P.G.hasFlag(ge,32768)&&(ue="PARTITIONBY"===(null===(k=be.getChildFunctionName())||void 0===k?void 0:k.toUpperCase()))&&(ye=32768),!ue&&P.G.hasFlag(ge,524288)&&(ue=be.hasValidAxisValue())&&(ye=524288),!ue&&P.G.hasFlag(ge,65536)&&(ue=be.hasValidAxisRef())&&(ye=65536),!ue&&P.G.hasFlag(ge,131072)&&(ue="MATCHBY"===(null===(ee=be.getChildFunctionName())||void 0===ee?void 0:ee.toUpperCase()))&&(ye=131072),be.isDataTable?!ue&&P.G.hasFlag(ge,4096)&&(ue=!0,ye=4096):(!ue&&P.G.hasFlag(ge,64)&&(ue=be.hasValidEnumValue())&&(ye=64),!ue&&P.G.hasFlag(ge,1)&&(ue=!0,ye=1),!ue&&P.G.hasFlag(ge,1048576)&&(ue=null!=be.getCalendarRef())&&(ye=1048576),ge===d.Yl.None.type&&(ue=!0)),ue&&be.storeMatchedType({type:ye})}if(!ue)return this.paramIter._useMismatchedState&&r.push(this),!1;this.advanceParameter()}},n.prototype.repeat=function(){},n.prototype.newRepeatGroup=function(){},n.prototype.clone=function(){return new n(this)},n.prototype.handleTableValue=function(e,r){},n.prototype.handleTableRef=function(e,r){},n.prototype.handleQualifiedColRef=function(e,r){},n.prototype.handleSimpleColRef=function(e,r){},n.prototype.handleNewCol=function(e,r,f,I){},n}(),H=function(n){function e(r,f,I,k){return n.call(this,r,f,I,k,!0)||this}return(0,E.ZT)(e,n),e.prototype.newIteration=function(){return new z(this)},e}(L),z=function(n){function e(r){var f=this;return r instanceof L?((f=n.call(this,r)||this)._paramContext=new o,f._extractedColumns=[]):((f=n.call(this,r)||this)._paramContext=new o(r.paramContext),f._extractedTable=r.extractedTable,f._extractedColumns=r.extractedColumns.slice()),f._paramContext.prototypeSignature=f.prototypeSignature,f}return(0,E.ZT)(e,n),Object.defineProperty(e.prototype,"extractedColumns",{get:function(){return this._extractedColumns},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paramContext",{get:function(){return this._paramContext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extractedTable",{get:function(){return this._extractedTable},enumerable:!1,configurable:!0}),e.prototype.repeat=function(){this.paramContext.repeatCounts[this.paramContext.repeatCounts.length-1]++},e.prototype.newRepeatGroup=function(){this.paramContext.repeatCounts.push(0)},e.prototype.clone=function(){return new e(this)},e.prototype.handleTableValue=function(r,f){this.checkExtractTable(r,f)},e.prototype.handleTableRef=function(r,f){this.checkExtractTable(r,f)},e.prototype.handleQualifiedColRef=function(r,f){this.checkExtractTable(r,f.table.uberTable),this.checkExtractColumn(r,function(){return m.isolatedClone(f)})},e.prototype.handleSimpleColRef=function(r,f){this.checkExtractColumn(r,function(){return m.isolatedClone(f)})},e.prototype.handleNewCol=function(r,f,I,k){this.checkExtractColumn(r,function(){return m.buildIsolatedColumn(I,f,k)})},e.prototype.checkExtractTable=function(r,f){P.G.hasFlag(r.argumentAction,4)&&(this._extractedTable=f)},e.prototype.checkExtractColumn=function(r,f){P.G.hasFlag(r.argumentAction,8)&&this._extractedColumns.push(f().table)},e}(K),X=function(n){function e(r,f,I,k,ee){var Q=n.call(this,r,f,I,k,!1)||this;return Q.resultTable=ee,Q}return(0,E.ZT)(e,n),e.prototype.newIteration=function(){return new le(this,this.resultTable)},e}(L),le=function(n){function e(r,f){var I=this;return(I=n.call(this,r)||this)._resultTable=r instanceof e?r.resultTable:f,I}return(0,E.ZT)(e,n),Object.defineProperty(e.prototype,"resultTable",{get:function(){return this._resultTable},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this)},e.prototype.handleTableValue=function(r,f){this.checkAddUberTableToResult(r,f)},e.prototype.handleTableRef=function(r,f){this.checkAddUberTableToResult(r,f)},e.prototype.handleQualifiedColRef=function(r,f){this.checkAddConstructedTableToResult(r,function(){return m.isolatedClone(f)})},e.prototype.handleSimpleColRef=function(r,f){this.checkAddConstructedTableToResult(r,function(){return m.isolatedClone(f)})},e.prototype.handleNewCol=function(r,f,I,k){this.checkAddConstructedTableToResult(r,function(){return m.buildIsolatedColumn(I,f,k)})},e.prototype.checkAddUberTableToResult=function(r,f){P.G.hasFlag(r.argumentAction,1)&&(!P.G.hasFlag(r.argumentAction,2)||!this.repeated)&&(this.resultTable.immediateTables=this.resultTable.immediateTables.concat(f.immediateTables),this.resultTable.relatedTables=this.resultTable.relatedTables.concat(f.relatedTables),this.resultTable.constructedTables=this.resultTable.constructedTables.concat(f.constructedTables))},e.prototype.checkAddConstructedTableToResult=function(r,f){P.G.hasFlag(r.argumentAction,1)&&(!P.G.hasFlag(r.argumentAction,2)||!this.repeated)&&this.resultTable.constructedTables.push(f().table)},e}(K),m=function(){function n(){}return n.buildIsolatedColumn=function(e,r,f){var I=new de(r,void 0,f),k=new Ee(e,void 0,I);return I.addColumn(k),k},n.isolatedClone=function(e){var r=this.isolatedCloneCore(e);if(e.table.variationSource){var f=this.isolatedCloneCore(e.table.variationSource);r.table.variationSource=f,f.variationTable=r.table}return r},n.isolatedCloneCore=function(e){return this.buildIsolatedColumn(e.name,e.table.name,e.table.quoteNeeded)},n}()},85616:function(Oe,ce,D){D.d(ce,{$Z:function(){return Ne},Cm:function(){return ze},DH:function(){return Ue},DU:function(){return he},Ed:function(){return be},F0:function(){return G},Fc:function(){return qe},HI:function(){return Se},HV:function(){return r},Hf:function(){return z},IE:function(){return ne},IS:function(){return Be},Lj:function(){return Ae},N4:function(){return q},N9:function(){return le},QB:function(){return X},R6:function(){return Te},RZ:function(){return ue},Sm:function(){return se},T0:function(){return Ie},TV:function(){return g},Ti:function(){return We},U6:function(){return ve},VW:function(){return F},Vu:function(){return me},XN:function(){return _e},Xg:function(){return m},ZH:function(){return n},ZQ:function(){return oe},_7:function(){return ye},_L:function(){return A},_N:function(){return h},a$:function(){return M},ai:function(){return f},dl:function(){return c},eV:function(){return t},et:function(){return Ge},fA:function(){return B},fY:function(){return b},gR:function(){return Qe},gi:function(){return Ze},gq:function(){return p},i8:function(){return s},ic:function(){return Ye},ig:function(){return re},jg:function(){return x},lg:function(){return Ke},mR:function(){return e},n1:function(){return ke},pZ:function(){return I},q1:function(){return Y},qS:function(){return Q},rI:function(){return Ve},rL:function(){return l},rc:function(){return ge},sB:function(){return Me},tw:function(){return He},u0:function(){return fe},uA:function(){return je},ub:function(){return o},vX:function(){return Pe},xY:function(){return P},y3:function(){return S},yC:function(){return U},yE:function(){return Re},ze:function(){return $}});var E=D(81337),w=D(55863),N=D(20540),R=D(66106),O=D(85402),d=D(58871),C=D(63513),A=function(v){function a(i,y){var j=v.call(this,i,y)||this;return j._children=[],j}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"filterColumnRef",{get:function(){if(1===this.context.filterExpressionState)for(var y=0,j=this._children;y<j.length;y++){var pe=j[y].filterColumnRef;if(pe)return pe}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"valid",{get:function(){return this._children[0].valid},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"firstDescendent",{get:function(){return this._children[0].firstDescendent},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"lastDescendent",{get:function(){var y=_.last(this._children);if(y)return y.lastDescendent},enumerable:!1,configurable:!0}),a.prototype.eatToken=function(i,y){for(var j=0,te=this.getPotentialNextChildren();j<te.length;j++){var pe=te[j];if(pe.eatToken(i,y)===N.R.Yum)return this._children.push(pe),N.R.Yum}return this.isComplete?N.R.NotHungry:N.R.Yuck},a.prototype.getFromOnlyChild=function(i){return 1===this._children.length?i(this._children[0]):void 0},Object.defineProperty(a.prototype,"lastChild",{get:function(){return _.last(this._children)},enumerable:!1,configurable:!0}),a.prototype.getFromFirstChild=function(i){if(1===this._children.length)return i(this._children[0])},a.prototype.getContextForChild=function(i){var y=this.context,j=y;if(0!==j.ephemeralContexts.length&&i!==this.childWhichReceivesEphemeralContexts&&(j=new d.hK(j,!0)),1===j.filterExpressionState)for(var te=0,pe=this._children;te<pe.length;te++){var Ce=pe[te];if(Ce===i)break;Ce.filterColumnRef&&(j===y&&(j=new d.hK(j,!0)),j.filterExpressionState=2,j.currentTable=Ce.filterColumnRef.table.uberTable,j.newTableScan())}return j},Object.defineProperty(a.prototype,"childWhichReceivesEphemeralContexts",{get:function(){return this._children[0]},enumerable:!1,configurable:!0}),a.prototype.isFirstChild=function(i){return i===_.head(this._children)},a.prototype.isOnlyChild=function(i){return 1===this._children.length&&this.isFirstChild(i)},a.prototype.removeLaterChildren=function(i){for(var y=this._children.length-1;this._children[y]!==i;y--)(0,w.hu)(y>0,"iChild > 0"),this._children.splice(y,1)},a.prototype.printEarlierNodes=function(i){var y;y=this.parent?this.parent.printEarlierNodes(this):0,this.printSelf(y),y+=2;for(var j=0,te=this._children;j<te.length;j++){var pe=te[j];if(pe===i)break;pe.printSelfAndChildren(y)}return y},a.prototype.printChildren=function(i){for(var y=0,j=this._children;y<j.length;y++)j[y].printSelfAndChildren(i)},a}(d.sN),Y=function(v){function a(){var i=null!==v&&v.apply(this,arguments)||this;return i.prospectiveChildren=[],i}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"filterColumnRef",{get:function(){return this.getFromOnlyChild(function(y){return y.filterColumnRef})},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"firstDescendent",{get:function(){return _.head(this.validChildren).firstDescendent},enumerable:!1,configurable:!0}),a.prototype.getFromOnlyChild=function(i){return this.child?i(this.child):void 0},Object.defineProperty(a.prototype,"children",{get:function(){return this.validChildren},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"lastDescendent",{get:function(){return _.head(this.validChildren).lastDescendent},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"valid",{get:function(){return _.some(this.validChildren)},enumerable:!1,configurable:!0}),a.prototype.setChild=function(i){(0,w.hu)(!this.child,"expected no existing child"),this.child=i},a.prototype.eatToken=function(i,y){if((0,w.hu)(null==this.child,"child == null"),_.some(this.prospectiveChildren))return N.R.NotHungry;for(var j=0,te=this.getPotentialChildren();j<te.length;j++){var pe=te[j];pe.eatToken(i,y)===N.R.Yum&&this.prospectiveChildren.push(pe)}return this.prospectiveChildren.length>0?N.R.Yum:N.R.Yuck},Object.defineProperty(a.prototype,"validChildren",{get:function(){return this.child?[this.child]:_.filter(this.prospectiveChildren,function(y){return y.valid})},enumerable:!1,configurable:!0}),a.prototype.couldBeType=function(i){return _.some(this.validChildren,function(y){return y.couldBeType(i)})},a.prototype.getContextForChild=function(i){return this.context},a.prototype.printEarlierNodes=function(i){var y;return y=this.parent?this.parent.printEarlierNodes(this):0,this.printSelf(y),y+2},a.prototype.printChildren=function(i){this.child&&this.child.printSelfAndChildren(i)},a.prototype.removeLaterChildren=function(i){this.child=void 0},a.prototype.isFirstChild=function(i){return!0},a.prototype.isOnlyChild=function(i){return!0},a}(d.sN),P=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getPotentialNextChildren=function(){var i;switch(this._children.length){case 0:i=new b(this);break;case 1:i=new g(this);break;case 2:i=new Me(this);break;case 3:i=new r(this);break;default:return[]}return[i]},Object.defineProperty(a.prototype,"isComplete",{get:function(){return 4===this._children.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"identifier",{get:function(){return this._children.length>1?(0,C.as)(this._children[1],g):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){return this._children.length>3?this._children[3]:void 0},enumerable:!1,configurable:!0}),a}(A),V=function(v){function a(i,y){var j=v.call(this,i)||this;return j._index=y,j}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),a.prototype.getPotentialChildren=function(){return[new r(this)]},a.prototype.getTableValue=function(){return this.tableValue},a.prototype.getTableRef=function(){return this.tableRef},a.prototype.getQualifiedColumnRef=function(){return this.qualifiedColumnRef},a.prototype.getSimpleColumnRef=function(){return this.simpleColumnRef},a.prototype.getString=function(){return this.string},a.prototype.hasValidAxisRef=function(){return C.LP.hasValidAxesReferences(this.axesRef)},a.prototype.hasValidAxisValue=function(){return this.isValidAxisValue},a.prototype.hasValidEnumValue=function(){return this.isValidEnumValue},a.prototype.couldBeType=function(i){return!(!C.G.hasFlag(i.type,64)&&!C.G.hasFlag(i.type,1))||v.prototype.couldBeType.call(this,i)},a.prototype.storeMatchedType=function(i){this.firstDescendent.token.matchedType=i},a.prototype.getCalendarRef=function(){return this.calendarRef},a}(Y),B=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getContextForChild=function(i){return this.parent.getContextForParam(this,this.getParamIndex(i))},Object.defineProperty(a.prototype,"isComplete",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parameterCount",{get:function(){return(0,w.hu)(this._children.length>0,"children.length > 0"),this.getParamIndex(this.lastChild)+1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parameters",{get:function(){for(var y=[],j=0;j<this.parameterCount;j++){var te=this.getParameterByIndex(j);te&&y.push(te)}return y},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"allParametersIncludingUndefined",{get:function(){for(var y=[],j=0;j<this.parameterCount;j++){var te=this.getParameterByIndex(j);y.push(te)}return y},enumerable:!1,configurable:!0}),a.prototype.getParamIndex=function(i){return this.getParamIndexAndIsParameter(i).index},a.prototype.getSeparatorByIndex=function(i){var y=_.filter(this._children,function(j){return j instanceof n&&j.index===i});if(y.length>1)throw new Error("expected at most one parameter at index "+i);return(0,C.as)(y[0],n)},a.prototype.getParameterByIndex=function(i){var y=_.filter(this._children,function(j){return j instanceof V&&j.index===i});if(y.length>1)throw new Error("expected at most one parameter at index "+i);return(0,C.as)(y[0],V)},a.prototype.getParameterCount=function(){return this.parameterCount},a.prototype.getParameter=function(i){return this.getParameterByIndex(i)},a.prototype.getPotentialNextChildren=function(){var i=!1,y=0;if(this._children.length>0){var j=this.getParamIndexAndIsParameter(this.lastChild);y=j.index,i=j.isParameter}return i?[new n(this,y+1)]:[this.newParameterNode(y),new n(this,y+1)]},a.prototype.newParameterNode=function(i){return new V(this,i)},a.prototype.getParamIndexAndIsParameter=function(i){var y=(0,C.as)(i,V);return y?{index:y.index,isParameter:!0}:{index:i.index,isParameter:!1}},a}(A),M=function(v){function a(i,y){return v.call(this,i,y)||this}return(0,E.ZT)(a,v),a.prototype.getPotentialNextChildren=function(){return[this._children.length%2==0?this.getOperand():this.getOperator()]},Object.defineProperty(a.prototype,"isComplete",{get:function(){return this._children.length%2==1},enumerable:!1,configurable:!0}),a}(A),t=function(v){function a(i){return v.call(this,i,34)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"simpleColumnRef",{get:function(){var y=this.token;if(35!==y.type)return(0,C.as)(y.matchObject,d.XN)},enumerable:!1,configurable:!0}),a.prototype.couldBeType=function(i){return C.G.hasFlag(i.type,16)},a}(d.a9),x=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getPotentialChildren=function(){return[new t(this),new Ue(this)]},Object.defineProperty(a.prototype,"bracketedIdentifier",{get:function(){var y=(0,C.as)(this.child,t);if(!y){var j=(0,C.as)(this.child,Ue);null!=j&&(y=j.bracketedIdentifier)}return y},enumerable:!1,configurable:!0}),a}(Y),G=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getOperand=function(){return new h(this)},a.prototype.getOperator=function(){return new d.a9(this,[9,10,11,12,15,16,17])},a}(M),Z=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getPotentialChildren=function(){return[new _e(this),new Pe(this),new De(this),new je(this)]},a}(Y),W=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getPotentialChildren=function(){return[new g(this),new _e(this),new Pe(this),new De(this),new xe(this),new je(this)]},a}(Y),T=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"isComplete",{get:function(){return this.lastChild instanceof Re},enumerable:!1,configurable:!0}),a.prototype.getPotentialNextChildren=function(){if(!_.some(this._children))return[new Se(this)];var i=this.lastChild;return i instanceof Se||i instanceof n?[new W(this),new n(this,0),new Re(this)]:i instanceof W?[new n(this,0),new Re(this)]:[]},a}(A),c=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a}(P),q=function(v){function a(i){var y=v.call(this,i)||this;return y.query=i,y}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"isComplete",{get:function(){return this._children.length>=2},enumerable:!1,configurable:!0}),a.prototype.getPotentialNextChildren=function(){return 0===this._children.length?[new u(this)]:[new I(this),new c(this)]},a.prototype.getContextForChild=function(i){var y=this.addDefinedMeasuresToMatchObjects();this.context.matchObjects.mergeMeasures(y);var j=this.createDefinedVariables();return this.context.matchObjects.mergeVariables(j),this.context},a.prototype.removeLaterChildren=function(i){var y=this.removeDefinedMeasuresFromMatchObjectsAfter(i),j=this.removeDefinedVariablesAfter(i);(y||j)&&(this.query.isInvalidated=!0),this.isComplete||(this.query.isInvalidated=!0),v.prototype.removeLaterChildren.call(this,i)},a.prototype.removeDefinedVariablesAfter=function(i){for(var y=!1,j=C.Sy.skipWhile(this._children,function(we){return we!==i}).slice(1),te=0,pe=C.Sy.ofType(j,c);te<pe.length;te++){var Ce=pe[te];Ce.identifier&&(this.context.matchObjects.removeDefinedVariable(Ce.identifier.token.getString()),y=!0)}return y},a.prototype.removeDefinedMeasuresFromMatchObjectsAfter=function(i){for(var y=!1,j=C.Sy.skipWhile(this._children,function(Xe){return Xe!==i}).slice(1),te=0,pe=C.Sy.ofType(j,I);te<pe.length;te++){var Ce=pe[te];if(Ce.measureDef){var we=this.context.matchObjects.findTable(Ce.measureDef.tableName);null!=we&&(we.removeDefinedMeasure(Ce.measureDef.identifier),this.context.matchObjects.removeDefinedMeasure(Ce.measureDef.identifier,Ce.measureDef.tableName),y=!0)}}return y},a.prototype.createDefinedVariables=function(){var i=_.chain(C.Sy.ofType(this._children,c)).filter(function(y){return y.identifier}).map(this.createVariable).value();return _.some(i)&&(this.query.isInvalidated=!0),i},a.prototype.createVariable=function(i){return new d.yB(i.identifier.token.getString(),i,!0)},a.prototype.addDefinedMeasuresToMatchObjects=function(){for(var i=[],y=0,j=_.filter(C.Sy.ofType(this._children,I),function(Ce){return Ce.isComplete});y<j.length;y++){var te=j[y],pe=this.context.matchObjects.findTable(te.measureDef.tableName);pe&&i.push(this.createMeasure(te,pe))}return _.some(i)&&(this.query.isInvalidated=!0),i},a.prototype.createMeasure=function(i,y){var j=new d.Nr(i.measureDef.identifier,i.measureDef.identifier,y,this.context.matchObjects.findFunction("CALCULATE"),i);return y.mergeDefinedMeasure(j),j},a}(A),J=function(v){function a(i){return v.call(this,i,[40,60])||this}return(0,E.ZT)(a,v),a}(d.a9),ne=function(v){function a(i,y){var j=v.call(this,void 0,0,y)||this;return j._leafPosition=i,j}return(0,E.ZT)(a,v),a}(d.a9),oe=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getPotentialChildren=function(){return[new r(this)]},a}(Y),fe=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"tableValue",{get:function(){var y=this.daxFunctionBase;return y&&y.getTableReturnValue(this.context,this.parameterList)},enumerable:!1,configurable:!0}),a.prototype.getRolledUpColumns=function(i){var y=this;if(this.functionMatchesType(i.type)&&this.parameterList)return _.chain(this.parameterList.parameters).map(function(j){var te=j.getRolledUpColumns({type:R.e9});if(te)return te;var pe=j.qualifiedColumnRef||j.simpleColumnRef;if(pe)return[pe];if((y.functionMatchesType(256)||y.functionMatchesType(512))&&j.couldBeType({type:32})){var Ce=new d.S2("",void 0,!1);return[new d.XN(j.string,"",Ce)]}return[]}).flatten().value()},a.prototype.couldBeType=function(i){return this.functionMatchesType(i.type)},a.prototype.functionMatchesType=function(i){var y=this.daxFunctionBase;return!!y&&(16===y.role&&C.G.hasFlag(i,128)||32===y.role&&C.G.hasFlag(i,256)||64===y.role&&C.G.hasFlag(i,512)||128===y.role&&C.G.hasFlag(i,1024)||512===y.role&&C.G.hasFlag(i,16384)||12===y.role&&C.G.hasFlag(i,2)||4===y.role&&C.G.hasFlag(i,2)||4096===y.role&&C.G.hasFlag(i,2)||16384===y.role&&C.G.hasFlag(i,2)||2===y.role&&C.G.hasFlag(i,2)||C.G.hasFlag(y.role,8192)&&C.G.hasFlag(i,524288)||256===y.role&&(C.G.hasFlag(i,4)||C.G.hasFlag(i,2)||C.G.hasFlag(i,1)||C.G.hasFlag(i,2048)))},a.prototype.getPotentialNextChildren=function(){if(!_.some(this._children))return[this.getPotentialFirstChild()];if(1===this._children.length)return[new Te(this)];var i=this.lastChild;return i instanceof Te?[this.newParamList(),new Ne(this)]:i instanceof B?[new Ne(this)]:[]},a.prototype.newParamList=function(){return new B(this)},Object.defineProperty(a.prototype,"isComplete",{get:function(){return this.lastChild instanceof Ne},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"leftParen",{get:function(){return this._children.length>1?(0,C.as)(this._children[1],Te):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parameterList",{get:function(){return this._children.length>2?(0,C.as)(this._children[2],B):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rightParen",{get:function(){var y=this._children.length>3?(0,C.as)(this._children[3],Ne):void 0;return y||(y=this._children.length>2?(0,C.as)(this._children[2],Ne):void 0),y},enumerable:!1,configurable:!0}),a.prototype.getChildFunctionName=function(){var i;return null===(i=this.functionNode)||void 0===i?void 0:i.segment.text},Object.defineProperty(a.prototype,"daxFunctionBase",{get:function(){var y=this.functionNode;if(y)return(0,C.as)(y.token.matchObject,d.eL)},enumerable:!1,configurable:!0}),a.prototype.getContextForParam=function(i,y){var j=this.daxFunctionBase;return j?j.getContextForParam(this.context,i,y):this.context},Object.defineProperty(a.prototype,"isValidAxisValue",{get:function(){var y=this.daxFunctionBase;return!!y&&C.G.hasFlag(y.role,8192)},enumerable:!1,configurable:!0}),a}(A),he=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"functionNode",{get:function(){return(0,C.as)(this._children[0],d.a9)},enumerable:!1,configurable:!0}),a.prototype.getPotentialFirstChild=function(){return new g(this)},a}(fe),de=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"tableValue",{get:function(){var y,j;return null===(j=null===(y=this.parameterList)||void 0===y?void 0:y.parameters[0])||void 0===j?void 0:j.tableValue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tableRef",{get:function(){var y,j;return null===(j=null===(y=this.parameterList)||void 0===y?void 0:y.parameters[0])||void 0===j?void 0:j.tableRef},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"string",{get:function(){var y,j;return null===(j=null===(y=this.parameterList)||void 0===y?void 0:y.parameters[0])||void 0===j?void 0:j.string},enumerable:!1,configurable:!0}),a.prototype.getPotentialFirstChild=function(){return new Le(this)},a.prototype.getContextForParam=function(i,y){var j=this.daxFunctionBase;if(j&&0!==y)return j.getContextForParam(this.context,i,y);for(var te=new d.hK(this.context,!1),pe=0,Ce=this.context.ephemeralContexts;pe<Ce.length;pe++){var we=Ce[pe];te.ephemeralContexts.push(new d.xE(te,we.currentTable,(0,E.pi)((0,E.pi)({},we.role),{type:7&we.role.type}),we.enumValues))}return te},a}(he),Ee=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"functionNode",{get:function(){return(0,C.as)(_.head(this._children),d.a9)},enumerable:!1,configurable:!0}),a.prototype.getPotentialFirstChild=function(){return new L(this)},a.prototype.newParamList=function(){return new ae(this)},a}(fe),ie=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"isComplete",{get:function(){return this.lastChild instanceof Re},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isDataTable",{get:function(){return!0},enumerable:!1,configurable:!0}),a.prototype.couldBeType=function(i){return C.G.hasFlag(i.type,4096)},a.prototype.getPotentialNextChildren=function(){if(!_.some(this._children))return[new Se(this)];var i=this.lastChild;return i instanceof Se||i instanceof n?[new T(this)]:i instanceof T?[new n(this,0),new Re(this)]:[]},a}(A),se=function(v){function a(i,y){return v.call(this,i,y)||this}return(0,E.ZT)(a,v),a.prototype.getPotentialChildren=function(){return[new _e(this),new g(this),new ie(this)]},a}(V),ae=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.newParameterNode=function(i){return new se(this,i)},a}(B),g=function(v){function a(i){return v.call(this,i,58)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"tableValue",{get:function(){if(this.token){var y=this.token.matchObject,j=(0,C.as)(y,d.S2);if(j)return j.uberTable;var te=(0,C.as)(y,d.yB);if(te&&te.value)return te.value.tableValue}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tableRef",{get:function(){return this.tableValue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"axesRef",{get:function(){if(this.token){var y=(0,C.as)(this.token.matchObject,d.cr);if(y)return[y]}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"calendarRef",{get:function(){if(this.token){var y=(0,C.as)(this.token.matchObject,d.Df);if(y)return y}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isValidAxisValue",{get:function(){return C.LP.hasValidAxesReferences(this.axesRef)},enumerable:!1,configurable:!0}),a.prototype.couldBeType=function(i){return!!(C.G.hasFlag(i.type,2)||C.G.hasFlag(i.type,4)||C.G.hasFlag(i.type,8)||C.G.hasFlag(i.type,16)||C.G.hasFlag(i.type,16384)||C.G.hasFlag(i.type,32768)||C.G.hasFlag(i.type,65536)||C.G.hasFlag(i.type,524288)||C.G.hasFlag(i.type,131072)||60===this.token.type&&(C.G.hasFlag(i.type,32)||C.G.hasFlag(i.type,2048)||C.G.hasFlag(i.type,4096)))},a.prototype.otherwiseMatchesToken=function(i){return i.isKeyword&&i.activelyEdited},a}(d.a9),s=function(v){function a(i,y){var j=v.call(this,void 0,0,y)||this;return j._leafPosition=i,j}return(0,E.ZT)(a,v),a}(d.a9),h=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"firstChildCouldBeTuple",{get:function(){return this._children.length>=2||!this.parseComplete},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"invalidRightArgument",{get:function(){if(!(this._children.length<3)&&this.parseComplete){var y=this._children[2];if(!y.tableValue)return y}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isComplete",{get:function(){return 1===this._children.length||3===this._children.length},enumerable:!1,configurable:!0}),a.prototype.getPotentialNextChildren=function(){switch(this._children.length){case 0:return[new Be(this)];case 1:return[new le(this)];case 2:return[new a(this)];default:return[]}},a.prototype.onParseComplete=function(){this.parseComplete=!0},a.prototype.onParseIncomplete=function(){this.parseComplete=!1},a}(A),o=function(v){function a(i,y,j){var te=v.call(this,i,y)||this;return te.keyword=j,te}return(0,E.ZT)(a,v),a.prototype.otherwiseMatchesToken=function(i){return i.isIdentifierOrKeyword&&i.activelyEdited&&C.uI.startsWithIgnoreCase(this.keyword,i.getString())},a}(d.a9),l=function(v){function a(i){return v.call(this,i,52,"at")||this}return(0,E.ZT)(a,v),a}(o),u=function(v){function a(i){return v.call(this,i,53,"define")||this}return(0,E.ZT)(a,v),a}(o),p=function(v){function a(i){return v.call(this,i,54,"measure")||this}return(0,E.ZT)(a,v),a}(o),b=function(v){function a(i){return v.call(this,i,42,"var")||this}return(0,E.ZT)(a,v),a}(o),S=function(v){function a(i){return v.call(this,i,43,"return")||this}return(0,E.ZT)(a,v),a}(o),F=function(v){function a(i){return v.call(this,i,44,"not")||this}return(0,E.ZT)(a,v),a}(o),U=function(v){function a(i){return v.call(this,i,45,"evaluate")||this}return(0,E.ZT)(a,v),a}(o),L=function(v){function a(i){return v.call(this,i,46,"datatable")||this}return(0,E.ZT)(a,v),a}(o),K=function(v){function a(i){return v.call(this,i,47,"order")||this}return(0,E.ZT)(a,v),a}(o),H=function(v){function a(i){return v.call(this,i,48,"by")||this}return(0,E.ZT)(a,v),a}(o),z=function(v){function a(i){return v.call(this,i,49,"asc")||this}return(0,E.ZT)(a,v),a}(o),X=function(v){function a(i){return v.call(this,i,50,"desc")||this}return(0,E.ZT)(a,v),a}(o),le=function(v){function a(i){return v.call(this,i,55,"in")||this}return(0,E.ZT)(a,v),a}(o),m=function(v){function a(i){return v.call(this,i,51,"start")||this}return(0,E.ZT)(a,v),a}(o),n=function(v){function a(i,y){var j=v.call(this,i,27)||this;return j._index=y,j}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),a}(d.a9),e=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getPotentialChildren=function(){return[new z(this),new X(this)]},Object.defineProperty(a.prototype,"isValidEnumValue",{get:function(){return!0},enumerable:!1,configurable:!0}),a}(Y),r=function(v){function a(i,y){return v.call(this,i,y)||this}return(0,E.ZT)(a,v),a.prototype.getOperand=function(){return new We(this)},a.prototype.getOperator=function(){return new d.a9(this,[13,14])},a}(M),f=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"isComplete",{get:function(){return 2===this._children.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"identifier",{get:function(){if(!(this._children.length<2)){var y=(0,C.as)(this._children[1],t);return y?y.token.getIdentifier():void(0,w.sr)("Unexpected node type: "+this._children[1].constructor)}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tableRefNode",{get:function(){return this._children.length>0?(0,C.as)(this._children[0],ke):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tableName",{get:function(){if(this.tableRefNode)return this.tableRefNode.tableNode.token.getIdentifier()},enumerable:!1,configurable:!0}),a.prototype.getPotentialNextChildren=function(){switch(this._children.length){case 0:return[new ke(this)];case 1:return[new t(this)]}return[]},a}(A),I=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getPotentialNextChildren=function(){switch(this._children.length){case 0:return[new p(this)];case 1:return[new f(this)];case 2:return[new Me(this)];case 3:return[new oe(this)]}return[]},Object.defineProperty(a.prototype,"isComplete",{get:function(){return 4===this._children.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"measureDef",{get:function(){if(this._children.length>1)return(0,C.as)(this._children[1],f)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"expressionNode",{get:function(){if(this._children.length>2)return(0,C.as)(this._children[3],oe)},enumerable:!1,configurable:!0}),a.prototype.getContextForChild=function(i){var y=this;if(i instanceof oe){var j=new d.hK(this.context.matchObjects),te=_.find(j.matchObjects.tables,function(Ce){return Ce.name===y.measureDef.tableName});if(te){j.currentTable=te.uberTable;var pe=new d.hK(j,!1);return pe.currentTable=void 0,pe}}return v.prototype.getContextForChild.call(this,i)},a}(A),k=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"functionNode",{get:function(){return this._children[0].bracketedIdentifier},enumerable:!1,configurable:!0}),a.prototype.getPotentialFirstChild=function(){return new ee(this)},a}(fe),ee=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"bracketedIdentifier",{get:function(){var y=(0,C.as)(this.child,t);if(!y){var j=(0,C.as)(this.child,Ue);j&&(y=j.bracketedIdentifier)}return y},enumerable:!1,configurable:!0}),a.prototype.getPotentialChildren=function(){return[new t(this),new Ue(this)]},a}(Y),Q=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isComplete",{get:function(){return this._children.length>1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"firstIdentifier",{get:function(){return(0,C.as)(this._children[0],d.a9)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"lastIdentifier",{get:function(){return(0,C.as)(this.lastChild,d.a9)},enumerable:!1,configurable:!0}),a.prototype.couldBeType=function(i){return C.G.hasFlag(i.type,2)||C.G.hasFlag(i.type,4)||C.G.hasFlag(i.type,8)||C.G.hasFlag(i.type,65536)||C.G.hasFlag(i.type,524288)||C.G.hasFlag(i.type,64)},a.prototype.getIdentifier=function(i){return(0,C.as)(this._children[i],d.a9)},a.prototype.getPotentialNextChildren=function(){return[new g(this),new z(this),new X(this)]},Object.defineProperty(a.prototype,"axesRef",{get:function(){return this._children.map(function(y){var j;return null!==(j=y.axesRef)&&void 0!==j&&j.length?y.axesRef[0]:void 0})},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isValidAxisValue",{get:function(){return C.LP.hasValidAxesReferences(this.axesRef)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"matchingMultiEnumValue",{get:function(){var y=_.find(this.context.ephemeralContexts,function(te){return te.enumValues});if(y){(0,w.hu)(_.every(this.children,function(te){return!!(0,C.as)(te,d.a9)}),"Unexpected child type");var j=_.join(_.map(this.children,function(te){return(0,C.as)(te,d.a9).token.getString()})," ");return _.find(y.enumValues,function(te){return C.uI.equalIgnoreCase(te.name,j)})}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isValidEnumValue",{get:function(){return!!this.matchingMultiEnumValue},enumerable:!1,configurable:!0}),a}(A),re=function(v){function a(i,y){var j=v.call(this,void 0,0,i)||this;return j._path=new O.q(void 0),j.newRootNode=y,j}return(0,E.ZT)(a,v),a.prototype.eatToken=function(i,y){return this.newRootNode().eatToken(i,y)},a}(d.a9),$=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getPotentialChildren=function(){return[new g(this),new e(this),new Ie(this),new t(this),new Ue(this),new qe(this),new _e(this),new Pe(this),new je(this),new he(this),new k(this),new Ee(this),new ve(this),new ze(this),new Q(this),new Ke(this),new He(this),new de(this)]},a}(Y),ge=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"isComplete",{get:function(){return this.lastChild instanceof Ae||this.lastChild instanceof Ye},enumerable:!1,configurable:!0}),a.prototype.getPotentialNextChildren=function(){switch(this._children.length){case 0:return[new K(this)];case 1:return[new H(this)];default:var i=this.lastChild;if(i instanceof n||i instanceof H)return[new Ae(this)];if(i instanceof Ae)return[new n(this,0),new Ye(this)]}return[]},a}(A),ve=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getFromOnlyChild=function(i){if(this._children.length>=2)return i(this._children[1])},Object.defineProperty(a.prototype,"isComplete",{get:function(){return 3===this._children.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"childWhichReceivesEphemeralContexts",{get:function(){if(this._children.length>=2)return this._children[1]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"leftParen",{get:function(){return(0,C.as)(this._children[0],d.a9)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rightParen",{get:function(){if(this._children.length>2)return(0,C.as)(this._children[2],d.a9)},enumerable:!1,configurable:!0}),a.prototype.getPotentialNextChildren=function(){switch(this._children.length){case 0:return[new d.a9(this,23)];case 1:return[new r(this)];case 2:return[new d.a9(this,24)];default:return[]}},a}(A),ue=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getOperand=function(){return new Ze(this)},a.prototype.getOperator=function(){return new d.a9(this,[19,20])},a}(M),be=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getOperand=function(){return new Qe(this)},a.prototype.getOperator=function(){return new d.a9(this,[18])},a}(M),ye=function(v){function a(i,y){return v.call(this,i,y)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"isComplete",{get:function(){return this._children.length>=1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"queries",{get:function(){return _.filter(this._children,function(y){return y instanceof me})},enumerable:!1,configurable:!0}),a.prototype.getPotentialNextChildren=function(){return[new me(this,this.context)]},a}(A),me=function(v){function a(i,y){return v.call(this,i,y)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"isComplete",{get:function(){return this.hasDefineMeasure?this._children.length>=3:this._children.length>=2},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasDefineMeasure",{get:function(){return this._children.length>0&&this._children[0]instanceof q},enumerable:!1,configurable:!0}),a.prototype.getContextForChild=function(i){var y=this.context;if(i instanceof oe)(y=new d.hK(y,!1)).ephemeralContexts.push(new d.xE(y,void 0,R.Yl.TableExpr,void 0));else if(i instanceof ge){var te=_.find(this._children,function(pe){return pe instanceof oe}).tableValue;(y=new d.hK(y,!1)).currentTable=te}return y},a.prototype.getPotentialNextChildren=function(){if(0===this._children.length)return[new U(this),new q(this)];var y;switch(this.hasDefineMeasure?this._children.length-1:this._children.length){case 0:y=new U(this);break;case 1:y=new oe(this);break;case 2:y=new ge(this);break;default:return[]}return[y]},a}(A),Ie=function(v){function a(i){return v.call(this,i,32)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"tableValue",{get:function(){if(this.token){var y=(0,C.as)(this.token.matchObject,d.S2);if(y)return y.uberTable}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tableRef",{get:function(){return this.tableValue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"calendarRef",{get:function(){if(this.token){var y=(0,C.as)(this.token.matchObject,d.Df);if(y)return y}},enumerable:!1,configurable:!0}),a.prototype.couldBeType=function(i){return C.G.hasFlag(i.type,2)||C.G.hasFlag(i.type,4)||C.G.hasFlag(i.type,8)||C.G.hasFlag(i.type,16)},a}(d.a9),De=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"isComplete",{get:function(){return 2===this._children.length},enumerable:!1,configurable:!0}),a.prototype.getPotentialNextChildren=function(){switch(this._children.length){case 0:return[new Fe(this)];case 1:return[new Pe(this)];default:return[]}},a}(A),xe=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"isComplete",{get:function(){return 3===this._children.length},enumerable:!1,configurable:!0}),a.prototype.getPotentialNextChildren=function(){switch(this._children.length){case 0:return[new g(this)];case 1:return[new Te(this)];case 2:return[new Ne(this)];default:return[]}},a}(A),Re=function(v){function a(i){return v.call(this,i,26)||this}return(0,E.ZT)(a,v),a}(d.a9),Ne=function(v){function a(i){return v.call(this,i,24)||this}return(0,E.ZT)(a,v),a}(d.a9),Me=function(v){function a(i){return v.call(this,i,17)||this}return(0,E.ZT)(a,v),a}(d.a9),Pe=function(v){function a(i){return v.call(this,i,36)||this}return(0,E.ZT)(a,v),a}(d.a9),Se=function(v){function a(i){return v.call(this,i,25)||this}return(0,E.ZT)(a,v),a}(d.a9),Te=function(v){function a(i){return v.call(this,i,23)||this}return(0,E.ZT)(a,v),a}(d.a9),Fe=function(v){function a(i){return v.call(this,i,[19,20])||this}return(0,E.ZT)(a,v),a}(d.a9),je=function(v){function a(i){return v.call(this,i,38)||this}return(0,E.ZT)(a,v),a}(d.a9),Le=function(v){function a(i){return v.call(this,i,57)||this}return(0,E.ZT)(a,v),a}(d.a9),Ae=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"isComplete",{get:function(){return this._children.length>=1},enumerable:!1,configurable:!0}),a.prototype.getPotentialNextChildren=function(){switch(this._children.length){case 0:return[new oe(this)];case 1:return[new Ge(this)];default:return[]}},a}(A),Ge=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getPotentialChildren=function(){return[new z(this),new X(this)]},a}(Y),Ye=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getPotentialNextChildren=function(){var i;switch(this._children.length){case 0:i=new m(this);break;case 1:i=new l(this);break;default:var y=this.lastChild;y instanceof n||y instanceof l?i=new Z(this):((0,w.hu)(y instanceof Z,"Unexpected node type "+y.constructor),i=new n(this,0))}return[i]},Object.defineProperty(a.prototype,"isComplete",{get:function(){return this.lastChild instanceof Z},enumerable:!1,configurable:!0}),a}(A),_e=function(v){function a(i){return v.call(this,i,30)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"string",{get:function(){var y=this.token;if(30===y.type)return C.LP.unDoubleQuote(y.getString())},enumerable:!1,configurable:!0}),a.prototype.couldBeType=function(i){return C.G.hasFlag(i.type,32)||C.G.hasFlag(i.type,2048)},a}(d.a9),Be=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getOperand=function(){return new ue(this)},a.prototype.getOperator=function(){return new d.a9(this,[28])},a}(M),Ue=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"bracketedIdentifier",{get:function(){return this._children.length>1?(0,C.as)(this._children[1],t):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"qualifiedColumnRef",{get:function(){var y=this.bracketedIdentifier;if(y)return y.simpleColumnRef},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"filterColumnRef",{get:function(){if(1===this.context.filterExpressionState)return this.qualifiedColumnRef},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isComplete",{get:function(){return 2===this._children.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tableRefNode",{get:function(){if(_.some(this._children))return(0,C.as)(_.head(this._children),ke)},enumerable:!1,configurable:!0}),a.prototype.couldBeType=function(i){if(C.G.hasFlag(i.type,2)||C.G.hasFlag(i.type,2)){var y=this.bracketedIdentifier;if(!y||60===y.token.type)return!0}return C.G.hasFlag(i.type,8)},a.prototype.getPotentialNextChildren=function(){switch(this._children.length){case 0:return[new ke(this)];case 1:return[new t(this)];default:return[]}},a.prototype.tryGetTableAndColumnNames=function(i){if(!this.bracketedIdentifier||34!==this.bracketedIdentifier.token.type)return i.table=void 0,i.column=void 0,!1;var y=this.firstDescendent,te=y.token.getString();return y instanceof Ie&&(te=C.LP.unquote(te)),i.table=te,i.column=C.LP.unbracket(this.bracketedIdentifier.token.getString()),!0},a}(A),Ke=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"tableValue",{get:function(){var y=new d.Lc,j=new d.S2("",void 0,!1);y.constructedTables.push(j);var te=_.head(C.Sy.ofType(this._children,r));if(te)if(te.tupleCardinality>1)for(var pe=0;pe<te.tupleCardinality;pe++)j.addColumn(new d.XN("Value".concat(pe+1),void 0,j));else j.addColumn(new d.XN("Value",void 0,j));return y},enumerable:!1,configurable:!0}),a.prototype.couldBeType=function(i){return C.G.hasFlag(i.type,2)},Object.defineProperty(a.prototype,"isComplete",{get:function(){return this.lastChild instanceof Re},enumerable:!1,configurable:!0}),a.prototype.getPotentialNextChildren=function(){if(!_.some(this._children))return[new Se(this)];var i=this.lastChild;return i instanceof Se?[new r(this),new Re(this)]:i instanceof n?[new r(this)]:i instanceof r?[new n(this,0),new Re(this)]:[]},a}(A),ke=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"tableNode",{get:function(){return(0,C.as)(this.child,d.a9)},enumerable:!1,configurable:!0}),a.prototype.getPotentialChildren=function(){return[new g(this),new Ie(this)]},a}(Y),Ze=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a.prototype.getOperand=function(){return new be(this)},a.prototype.getOperator=function(){return new d.a9(this,[21,22])},a}(M),He=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"isComplete",{get:function(){return this.lastChild instanceof Ne},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tupleCardinality",{get:function(){return this.nextSeparatorIndex},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isInValidLocation",{get:function(){for(var y=this,j=y.parent;j;y=j,j=j.parent){if(j instanceof Ke)return!0;var te=(0,C.as)(j,h);if(te&&te.firstChildCouldBeTuple)return!0;if(!j.isOnlyChild(y))break}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"nextSeparatorIndex",{get:function(){for(var y=this._children.length-1;y>0;y--){var j=(0,C.as)(this._children[y],n);if(j)return j.index+1}return 1},enumerable:!1,configurable:!0}),a.prototype.getPotentialNextChildren=function(){if(!_.some(this._children))return[new Te(this)];var i=this.lastChild;if(i instanceof Te)return[new r(this),new n(this,1)];if(i instanceof r||i instanceof n){var y=this.nextSeparatorIndex,j=[new n(this,y)];return i instanceof n&&j.push(new r(this)),y>1&&j.push(new Ne(this)),j}return[]},a}(A),We=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"isComplete",{get:function(){return this.lastChild instanceof G},enumerable:!1,configurable:!0}),a.prototype.getPotentialNextChildren=function(){return this.isComplete?[]:[new F(this),new G(this)]},a}(A),Qe=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"isComplete",{get:function(){return this.lastChild instanceof $},enumerable:!1,configurable:!0}),a.prototype.getPotentialNextChildren=function(){return this.isComplete?[]:[new Fe(this),new $(this)]},a}(A),Ve=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),a}(P),qe=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"simpleColumnRef",{get:function(){if(this._children[0].simpleColumnRef&&!(this._children.length<3))return this._children[2].simpleColumnRef},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"qualifiedColumnRef",{get:function(){if(this._children[0].qualifiedColumnRef&&!(this._children.length<3))return this._children[2].simpleColumnRef},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isComplete",{get:function(){return 3===this._children.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dotNode",{get:function(){return this._children[1]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"variationSource",{get:function(){return this._children[0].bracketedIdentifier},enumerable:!1,configurable:!0}),a.prototype.couldBeType=function(i){return this._children[0].couldBeType(i)},a.prototype.getContextForChild=function(i){var y=this.context;if(i===this._children[0])return y;var te=(0,C.as)(this.variationSource.token.matchObject,d.XN),pe=te&&te.variationTable?te.variationTable.uberTable:new d.Lc,Ce=new d.hK(y,!0);return Ce.ephemeralContexts.push(new d.xE(Ce,pe,{type:8192,columnReferenceScope:64},void 0)),Ce},a.prototype.getPotentialNextChildren=function(){switch(this._children.length){case 0:return[new x(this)];case 1:return[new J(this)];case 2:return[new t(this)];default:return[]}},a}(A),ze=function(v){function a(i){return v.call(this,i)||this}return(0,E.ZT)(a,v),Object.defineProperty(a.prototype,"tableValue",{get:function(){var y=this.returnedExpression;if(y)return y.tableValue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"returnedExpression",{get:function(){return(0,C.as)(this.lastChild,r)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isComplete",{get:function(){return this.lastChild instanceof r},enumerable:!1,configurable:!0}),a.prototype.getEarlierVariables=function(i){for(var y=[],j=0,te=this._children;j<te.length;j++){var pe=te[j];if(pe===i)break;pe instanceof Ve&&y.push(pe)}return y},a.prototype.couldBeType=function(i){return C.G.hasFlag(i.type,2)},a.prototype.getContextForChild=function(i){for(var y=[],j=0,te=this._children;j<te.length;j++){var pe=te[j];if(pe===i)break;var Ce=(0,C.as)(pe,Ve);Ce&&y.push(Ce.identifier.token.matchObject)}var we=this.context;return(i!==this._children[0]&&_.some(we.ephemeralContexts)||_.some(y))&&(we=new d.hK(we,!0)).mergeInlineVariables(y),we},a.prototype.getPotentialNextChildren=function(){var i=this.lastChild;return i?i instanceof Ve?[new Ve(this),new S(this)]:i instanceof S?[new r(this)]:[]:[new Ve(this)]},a}(A)},68706:function(Oe,ce,D){D.d(ce,{D:function(){return R},j:function(){return N}});var E=D(55863),w=D(19194),N=function(O){return O[O.CantSeparateFormulaNameAndExpression=0]="CantSeparateFormulaNameAndExpression",O[O.DuplicateMeasureName=1]="DuplicateMeasureName",O[O.FunctionCallOnNonFunction=2]="FunctionCallOnNonFunction",O[O.Gramatical=3]="Gramatical",O[O.IncompleteNumber=4]="IncompleteNumber",O[O.IncorrectOrderByParam=5]="IncorrectOrderByParam",O[O.IncorrectPartitionByParam=6]="IncorrectPartitionByParam",O[O.IncorrectMatchByParam=7]="IncorrectMatchByParam",O[O.InvalidIdentifier=8]="InvalidIdentifier",O[O.InvalidNameCharacter=9]="InvalidNameCharacter",O[O.InvalidTupleLocation=10]="InvalidTupleLocation",O[O.InvalidParameter=11]="InvalidParameter",O[O.MissingParameters=12]="MissingParameters",O[O.RightArgumentToInOperatorNotValidTable=13]="RightArgumentToInOperatorNotValidTable",O[O.TooManyParameters=14]="TooManyParameters",O[O.UnrecognizedIdentifier=15]="UnrecognizedIdentifier",O[O.VariableNameReserved=16]="VariableNameReserved",O}({}),R=function(){function O(d,C){this.segment=d,this.errorCode=C,this.message=O.getMessage(d,C)}return O.prototype.equals=function(d){return this.segment.equals(d.segment)&&this.errorCode===d.errorCode},O.prototype.toString=function(){return"".concat(this.errorCode,": ").concat(this.segment.text)},O.getMessage=function(d,C){switch(C){case N.CantSeparateFormulaNameAndExpression:return w.m.format(w.m.localizedStrings.invalidIdentifier,d.text);case N.FunctionCallOnNonFunction:return w.m.format(w.m.localizedStrings.functionCallOnNonFunction,d.text);case N.Gramatical:return w.m.format(w.m.localizedStrings.grammaticalError,d.text);case N.IncompleteNumber:return w.m.format(w.m.localizedStrings.incompleteNumber);case N.IncorrectOrderByParam:return w.m.format(w.m.localizedStrings.incorrectOrderByParam);case N.IncorrectPartitionByParam:return w.m.format(w.m.localizedStrings.incorrectPartitionByParam);case N.IncorrectMatchByParam:return w.m.format(w.m.localizedStrings.incorrectMatchByParam);case N.InvalidIdentifier:return w.m.format(w.m.localizedStrings.invalidIdentifier,d.text);case N.InvalidNameCharacter:return w.m.format(w.m.localizedStrings.invalidNameCharacter,d.text);case N.InvalidTupleLocation:return w.m.format(w.m.localizedStrings.invalidTupleLocation);case N.InvalidParameter:return w.m.format(w.m.localizedStrings.invalidParameter);case N.MissingParameters:return w.m.format(w.m.localizedStrings.missingParameters);case N.RightArgumentToInOperatorNotValidTable:return w.m.format(w.m.localizedStrings.rightArgumentToInOperatorNotValidTable,d.text);case N.TooManyParameters:return w.m.format(w.m.localizedStrings.tooManyParameters,d.text);case N.UnrecognizedIdentifier:return w.m.format(w.m.localizedStrings.unrecognizedIdentifier,d.text);case N.VariableNameReserved:return w.m.format(w.m.localizedStrings.variableNameReserved,d.text);case N.DuplicateMeasureName:return w.m.format(w.m.localizedStrings.duplicateMeasureName)}(0,E.vE)("unexpected error code ".concat(C))},O}()},82269:function(Oe,ce,D){D.d(ce,{b:function(){return E}});var E=function(){function w(N,R,O,d){void 0===N&&(N=""),void 0===R&&(R=0),this._expression=N,this._cursorActivity=R,this._cursorPosition=O,this._selectionStart=d,this.semiselectable=!1,this.suggestions=[],this.replaceStart=-1,this.replaceEnd=-1,this.afterOParen=-1,this.afterCParen=-1,this.bestMatch=-1,this._prototypeParamContexts=[],this.prototypePosition=-1,this.boldLeftParen=-1,this.boldRightParen=-1,this._errors=[],this._comments=[],this._functions=[],this._references=[],this._tableReferences=[],this._columnReferences=[],this._measureReferences=[],this._strings=[],this._variables=[],this._unrecognizedIdentifiers=[]}return Object.defineProperty(w.prototype,"expression",{get:function(){return this._expression},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"cursorActivity",{get:function(){return this._cursorActivity},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"cursorPosition",{get:function(){return this._cursorPosition},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"selectionStart",{get:function(){return this._selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"prototypeParamContexts",{get:function(){return this._prototypeParamContexts},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"errors",{get:function(){return this._errors},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"comments",{get:function(){return this._comments},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"functions",{get:function(){return this._functions},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"references",{get:function(){return this._references},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"measureReferences",{get:function(){return this._measureReferences},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"tableReferences",{get:function(){return this._tableReferences},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"columnReferences",{get:function(){return this._columnReferences},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"strings",{get:function(){return this._strings},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"variables",{get:function(){return this._variables},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"unrecognizedIdentifiers",{get:function(){return this._unrecognizedIdentifiers},enumerable:!1,configurable:!0}),w}()},42165:function(Oe,ce,D){D.d(ce,{X:function(){return w}});var E=D(55863),w=function(){function N(R,O,d){(0,E.mv)(R,"Segment expression cannot be null"),(0,E.hu)(O>=0&&O<=R.length,"Invalid startPos"),(0,E.hu)(d>=0&&O+d<=R.length,"Invalid length"),this._expression=R,this._startPosition=O,this._length=d}return N.fromTokens=function(R,O){return new N(O.expression,R.startPosition,O.startPosition+O.length-R.startPosition)},Object.defineProperty(N.prototype,"startPosition",{get:function(){return this._startPosition},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"length",{get:function(){return this._length},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"expression",{get:function(){return this._expression},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"text",{get:function(){return this.expression.substr(this.startPosition,this.length)},enumerable:!1,configurable:!0}),N.prototype.equals=function(R){return this.startPosition===R.startPosition&&this.length===R.length},N}()},19194:function(Oe,ce,D){D.d(ce,{m:function(){return w}});var w,E=D(55863);!function(N){function C(A){return null==A?"":_.isString(A)?A:_.isNumber(A)||_.isDate(A)?A.toLocaleString():_.isObject(A)?null!=A.toLocaleString?A.toLocaleString():A.toString():""}N.localizedStrings={incompleteNumber:"Invalid number.",invalidTupleLocation:"Unexpected tuple.",invalidParameter:"Parameter is not the correct type.",missingParameters:"Expected additional parameters.",incorrectOrderByParam:"The OrderBy parameter only accepts the ORDERBY function.",incorrectPartitionByParam:"The PartitionBy parameter only accepts the PARTITIONBY function.",incorrectMatchByParam:"The MatchBy parameter only accepts the MATCHBY function.",grammaticalError:"Unexpected expression {0}",functionCallOnNonFunction:"'{0}' is not a function.",rightArgumentToInOperatorNotValidTable:"{0} is not a valid table.",tooManyParameters:"Unexepected parameter '{0}'",invalidNameCharacter:"'{0}' is not a valid name character.",invalidIdentifier:"Cannot find name '{0}'",unrecognizedIdentifier:"Cannot find name '{0}'",variableNameReserved:"'{0}' is a reserved word",rowsDescription:"Calculate vertically across rows.",columnsDescription:"Calculate horizontally across columns.",rowsColumnsDescription:"Calculate vertically across rows, continuing column by column.",columnsRowsDescription:"Calculate horizontally across columns, continuing row by row.",duplicateMeasureName:"This measure's name has already been used in another table"},N.setLocalizedDaxStrings=function(A){N.localizedStrings=A},N.format=function(A){for(var Y=[],P=1;P<arguments.length;P++)Y[P-1]=arguments[P];_.isArray(Y[0])&&((0,E.hu)(1===Y.length,"expected single argument to format if called with an array"),Y=Y[0]);var V=A;if(V)for(var B=Y.length;B--;)V=V.replace(new RegExp("\\{"+B+"\\}","gm"),C(Y[B]));return V}}(w||(w={}))},48987:function(Oe,ce,D){D.d(ce,{J_:function(){return O},XI:function(){return d},q$:function(){return N},tA:function(){return R}});var E=D(81337),w=D(63513),N=function(){function C(A,Y){for(var P=[],V=2;V<arguments.length;V++)P[V-2]=arguments[V];this._matchObject=A,this._suggestionText=Y,_.some(P)||(P=[A]),this._segments=_.map(P,function(B){return B.name})}return Object.defineProperty(C.prototype,"complete",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"matchObject",{get:function(){return this._matchObject},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"suggestionText",{get:function(){return this._suggestionText},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"segments",{get:function(){return this._segments},enumerable:!1,configurable:!0}),C.prototype.prependSuggestionText=function(A){this._suggestionText=A+this._suggestionText},C}(),R=function(C){function A(Y,P){for(var V=[],B=2;B<arguments.length;B++)V[B-2]=arguments[B];return C.apply(this,(0,E.ev)([Y,P],V,!1))||this}return(0,E.ZT)(A,C),Object.defineProperty(A.prototype,"complete",{get:function(){return!1},enumerable:!1,configurable:!0}),A}(N);function O(C,A){for(var Y=0;;Y++){if(Y>=C.segments.length&&Y>=A.segments.length)return 0;if(Y>=C.segments.length)return-1;if(Y>=A.segments.length)return 1;var P=w.uI.compare(C.segments[Y],A.segments[Y],!0);if(0!==P)return P}}var d=function(){function C(){}return C.equals=function(A,Y){return typeof A.matchObject==typeof Y.matchObject&&w.uI.equalIgnoreCase(A.suggestionText,Y.suggestionText)},C}()},74104:function(Oe,ce,D){D.d(ce,{co:function(){return C},jZ:function(){return d},nR:function(){return R}});var E=D(55863),w=D(85786),N=D(63513),R=_.memoize(function(A,Y){return new O(A,Y)}),O=function(){function A(Y,P){this.initializeRules(Y,P)}return A.prototype.isTokenComplete=function(Y){var P=_.find(this.rules,function(V){return V.tokenType===Y.type});return!(!P||P.canBeExtendedByIdentifier)},A.prototype.nextToken=function(Y,P,V){this.uberRegExp.lastIndex=P;var B=this.uberRegExp.exec(Y.substr(0,V));if(!B)return new w.WU(59,Y,P,Y.length-P);if(B.index>P)return new w.WU(59,Y,P,B.index-P);for(var t,M=B[0],x=0,G=this.rules;x<G.length;x++){var Z=G[x],W=Z.regExp.exec(M);if(W&&0===W.index&&W[0].length===M.length){t=new w.WU(Z.tokenType,Y,P,M.length,Z.isIgnorable);break}}switch((0,E.mv)(t,"Given that the uber-regexp found a match, one of the token rules must also match"),t.type){case 3:t=this.adjustMLCommentToken(t,V);break;case 58:t=this.adjustIdentifierToken(t)}return t},A.prototype.adjustIdentifierToken=function(Y){var P=Y.getString(),V=_.find(this.keywordRules,function(M){return N.uI.equalIgnoreCase(M.keyword,P)}),B=V?V.tokenType:0;return 0!==B?new w.WU(B,Y.expression,Y.startPosition,Y.length,Y.ignorable):Y},A.prototype.adjustMLCommentToken=function(Y,P){for(var V=1,B=Y.expression,M=Y.endPosition;M<P;){var t=B[M++];switch(t){case"*":if(M<P&&"/"===(t=B[M++])&&0==--V)return new w.WU(2,B,Y.startPosition,M-Y.startPosition,Y.ignorable);break;case"/":M<P&&"*"===(t=B[M++])&&++V}}return new w.WU(3,B,Y.startPosition,M-Y.startPosition,Y.ignorable)},A.prototype.initializeRules=function(Y,P){this.rules=[],this.addRule(3,"/\\*",!0,!0),this.addRule(4,"//.*\\n",!1,!0),this.addRule(5,"//.*",!0,!0),this.addRule(6,"--.*\\n",!1,!0),this.addRule(7,"--.*",!0,!0),this.addOperatorRule(9,"=="),this.addOperatorRule(10,"<>"),this.addOperatorRule(11,"<="),this.addOperatorRule(12,">="),this.addOperatorRule(13,"&&"),this.addOperatorRule(14,"\\|\\|"),this.addOperatorRule(15,"<"),this.addOperatorRule(16,">"),this.addOperatorRule(17,"="),this.addOperatorRule(18,"\\^"),this.addOperatorRule(28,"&"),this.addOperatorRule(19,"\\+"),this.addOperatorRule(20,"-"),this.addOperatorRule(21,"\\*"),this.addOperatorRule(22,"/"),this.addOperatorRule(23,"\\("),this.addOperatorRule(24,"\\)"),this.addOperatorRule(25,"\\{"),this.addOperatorRule(26,"}"),this.addOperatorRule(27,Y),this.addRule(29,"[\\s\\t\\r\\n]+",!1,!0),this.addDelimitedIdentifierRule(30,31,'"','"'),this.addDelimitedIdentifierRule(32,33,"'","'"),this.addDelimitedIdentifierRule(34,35,"[","]");var V=_.escapeRegExp(P),B="(([0-9]+"+V+"[0-9]*)|([0-9]*"+V+"[0-9]+)|([0-9]+))";this.addRule(38,'[dD][tT]"[^"]+"',!1,!1),this.addRule(39,'[dD][tT]"[^"]*',!1,!1),this.addRuleWithUberPattern(36,B+"([eE][+\\-]?[0-9]+)?",!1,!1,B+"([eE][+\\-]?[0-9]*)?"),this.addRuleWithUberPattern(37,B+"([eE][+\\-]?)",!1,!1,void 0),this.addOperatorRule(40,"\\."),this.addRule(57,"evaluateandlog",!1,!1,!0),this.addRule(58,"[a-zA-Z_][a-zA-Z_0-9.]*",!0,!1),this.keywordRules=[],this.keywordRules.push({keyword:"var",tokenType:42}),this.keywordRules.push({keyword:"return",tokenType:43}),this.keywordRules.push({keyword:"not",tokenType:44}),this.keywordRules.push({keyword:"evaluate",tokenType:45}),this.keywordRules.push({keyword:"datatable",tokenType:46}),this.keywordRules.push({keyword:"order",tokenType:47}),this.keywordRules.push({keyword:"by",tokenType:48}),this.keywordRules.push({keyword:"start",tokenType:51}),this.keywordRules.push({keyword:"at",tokenType:52}),this.keywordRules.push({keyword:"asc",tokenType:49}),this.keywordRules.push({keyword:"desc",tokenType:50}),this.keywordRules.push({keyword:"define",tokenType:53}),this.keywordRules.push({keyword:"measure",tokenType:54}),this.keywordRules.push({keyword:"in",tokenType:55}),this.buildUberPattern()},A.prototype.buildUberPattern=function(){for(var Y="",P=!0,V=0,B=this.rules;V<B.length;V++){var M=B[V];M.uberPattern&&(P||(Y+="|"),Y+="("+(M.uberPattern||M.regExp.source)+")",P=!1)}this.uberRegExp=new RegExp(Y,"g")},A.prototype.addDelimitedIdentifierRule=function(Y,P,V,B){this.addRuleWithUberPattern(Y,A.delimitedIdentifier(V,B),!1,!1,A.delimitedIdentifierStartOrComplete(V,B)),this.addRuleWithUberPattern(P,A.delimitedIdentifierStart(V,B),!0,!1,void 0)},A.prototype.addOperatorRule=function(Y,P){this.addRule(Y,P,!1,!1)},A.prototype.addRule=function(Y,P,V,B,M){void 0===M&&(M=!1),this.addRuleWithUberPattern(Y,P,V,B,P,M)},A.prototype.addRuleWithUberPattern=function(Y,P,V,B,M,t){void 0===t&&(t=!1),this.rules.push({tokenType:Y,regExp:new RegExp(P,t?"i":""),canBeExtendedByIdentifier:V,isIgnorable:B,uberPattern:M})},A.delimitedIdentifierStartOrComplete=function(Y,P){return A.delimitedIdentifier(Y,P)+"?"},A.delimitedIdentifier=function(Y,P){return A.delimitedIdentifierStart(Y,P)+"("+_.escapeRegExp(P)+")"},A.delimitedIdentifierStart=function(Y,P){return Y=_.escapeRegExp(Y),P=_.escapeRegExp(P),"(".concat(Y,")([^").concat(P,"]|(").concat(P).concat(P,"))*")},A}(),d=O.delimitedIdentifier("[","]"),C=O.delimitedIdentifierStart("[","]")},66813:function(Oe,ce,D){D.d(ce,{h:function(){return E}});var E=function(){function w(N,R,O,d){this._expression=N,this._cursorActivity=R,this._cursorPosition=O,this._selectionStart=d,this._tokens=[],this.parseTokenCount=-1}return Object.defineProperty(w.prototype,"activeCursor",{get:function(){return this.cursorActivity>=3},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"cursorActivity",{get:function(){return this._cursorActivity},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"cursorPosition",{get:function(){return this._cursorPosition},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"expression",{get:function(){return this._expression},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"selectionStart",{get:function(){return this._selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"tokens",{get:function(){return this._tokens},enumerable:!1,configurable:!0}),w.prototype.updateExpression=function(N){this._expression=N},w.prototype.nextNonIgnorable=function(N,R){for(void 0===R&&(R={iTokenNext:void 0}),R.iTokenNext=N+1;R.iTokenNext<this.tokens.length;R.iTokenNext++){var O=this.tokens[R.iTokenNext];if(!O.ignorable)return O}},w}()},21527:function(Oe,ce,D){D.d(ce,{w:function(){return C}});var E=D(55863),w=D(88498),N=D(66813),R=D(74104),O=D(85786),d=D(63513);function C(P,V,B,M,t,x,G){var Z,W=x?w.ft():w.V,T=(0,R.nR)(W.listSeparator,W.numberDecimalSeparator),c=new N.h(P,V,B,M),q=0,J=P.length,ne=c.activeCursor;ne&&(0,E.hu)(null!=B,"cursorPosition must have value if the cursor is active");var oe=[],fe={stopPosition:J},he=t&&Y(c,t,!1,oe,fe);if(he||(he=G&&Y(c,G,!1,oe,fe)),he||(he=t&&Y(c,t,!0,oe,fe)),he||(he=G&&Y(c,G,!0,oe,fe)),J=fe.stopPosition,t){var de=J;t.activeCursor&&(de=Math.min(de,t.cursorPosition||0)),ne&&(de=Math.min(de,B||0));for(var Ee=0,ie=t.tokens;Ee<ie.length;Ee++){(0,E.hu)(t.expression.length>=(se=ie[Ee]).startPosition+se.length,"expected token to be within the bounds of the expression");var ae=se.startPosition+se.length;if(de<=ae||t.expression.length<=ae||P[ae]!==t.expression[ae]||!d.uI.equalIgnoreCase(P.substr(se.startPosition,se.length),t.expression.substr(se.startPosition,se.length)))break;(0,E.hu)(60!==se.type,"cannot reuse NewToken"),c.tokens.push(se)}if(c.tokens.length>0){var g=c.tokens[c.tokens.length-1];q=g.startPosition+g.length}}for(;q<J;){var se=T.nextToken(P,q,J);if(ne&&se.startPosition<B&&se.startPosition+se.length>B){for(;q<B;){var s=T.nextToken(P,q,B);c.tokens.push(s),q+=s.length}se.markAsSecondHalf(B)}ne&&(se.startPosition===B?(A(0,P,c.tokens),c.parseTokenCount=c.tokens.length):se.endPosition===B&&(se.activelyEdited=!0)),c.tokens.push(se),q+=se.length}if(ne)q===B&&A(0,P,c.tokens),-1===c.parseTokenCount&&(c.parseTokenCount=c.tokens.length),(Z=c.tokens).push.apply(Z,oe);else{if(0!==c.cursorActivity&&B>=0){var h=!1;(0,E.hu)(q>=B,"currentPosition >= cursorPosition");for(var o=q,l=c.tokens.length;;){if(o===B){h=!0;break}if((0,E.hu)(o>B,"effectiveEndPosition > cursorPosition"),(0,E.hu)(l>0,"iToken > 0"),l--,(o=(se=c.tokens[l]).startPosition)<B){h=29===se.type;break}if(!se.ignorable)break}h&&A(0,P,c.tokens)}c.parseTokenCount=c.tokens.length}return c}function A(P,V,B){var M=!0,t=0;if(_.some(B)){var x=_.last(B);(M=x.isComplete)&&(t=x.startPosition+x.length)}M&&B.push(new O.WU(60,V,t,0))}function Y(P,V,B,M,t){if(0===V.expression.length)return!1;if(P.activeCursor){var x=V.expression,G=P.expression,Z=0===V.cursorActivity?0:Math.max(0,V.cursorPosition||0),W=Math.max(0,P.cursorPosition||0),T=x.length-Z,c=G.length-W,q=B?Math.min(T,c):c,J=x.substr(x.length-q),ne=G.substr(G.length-q);if(T>=q&&d.uI.equalIgnoreCase(J,ne)){for(var oe=G.length-x.length,fe=q,he=V.tokens.length-1;he>=0&&fe>0;he--){var de=V.tokens[he];if(60!==de.type){var Ee=de.startPosition+oe,ie=de.length,se=de.secondHalf;ie>fe&&(Ee+=ie-fe,ie=fe,se=!0),M.unshift(de.cloneForReuse(G,Ee,ie,se)),fe-=ie}else(0,E.hu)(0===de.length,"token.length === 0")}return c>q&&M.unshift(new O.WU(61,G,W,c-q)),t.stopPosition=W,!0}}return!1}},85786:function(Oe,ce,D){D.d(ce,{C3:function(){return P},Cu:function(){return A},WU:function(){return C}});var E=D(55863),w=D(40546),N=D(66106),R=D(88498),O=D(42165),d=D(63513),C=function(){function t(x,G,Z,W,T,c,q,J,ne){void 0===T&&(T=!1),void 0===c&&(c=!1),void 0===q&&(q=!1),void 0===ne&&(ne=N.Yl.None),this._type=x,this._expression=G,this._startPosition=Z,this._length=W,this._ignorable=T,this._secondHalf=c,this.activelyEdited=q,this.matchObject=J,this.matchedType=ne}return t.prototype.debuggerDisplay=function(){return(0,E.hu)(R.Mz.debugging,"cannot use debuggerDisplay unless debugging"),"".concat(this.type," ").concat(this.getString()," (").concat(this.startPosition,", ").concat(this.length,")")},t.prototype.toString=function(){return this.debuggerDisplay()},Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this._expression},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startPosition",{get:function(){return this._startPosition},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){return this.startPosition+this.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ignorable",{get:function(){return this._ignorable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"secondHalf",{get:function(){return this._secondHalf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComment",{get:function(){return P(this.type)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isKeyword",{get:function(){return M(this.type)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIdentifierOrKeyword",{get:function(){return function(t){return 58===t||M(t)}(this.type)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAnyKindOfIdentifier",{get:function(){return function(t){return 58===t||32===t||34===t}(this.type)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return function(t){if(M(t))return!1;switch(t){case 3:case 5:case 7:case 31:case 33:case 35:case 36:case 37:case 39:case 58:return!1}return!0}(this.type)},enumerable:!1,configurable:!0}),t.prototype.getSegment=function(){return new O.X(this.expression,this.startPosition,this.length)},t.prototype.getString=function(){return this.expression.substr(this.startPosition,this.length)},t.prototype.getIdentifier=function(){var x=this.getString();if(this.isIdentifierOrKeyword)return x;switch(this.type){case 32:return d.LP.unquote(x);case 33:return d.LP.unquotePartial(x);case 34:return d.LP.unbracket(x);case 35:return d.LP.unbracketPartial(x)}return""},t.prototype.matchesType=function(x){return!!A(this.type,x)||60===this.type&&(58===x||32===x||34===x||w.d.featureSwitches.suggestKeywords&&48===x)},t.prototype.markAsSecondHalf=function(x){this._length=this._startPosition+this._length-x,this._startPosition=x,this._secondHalf=!0},t.prototype.cloneForReuse=function(x,G,Z,W){return new t(this.type,x,G,Z,this.ignorable,W,!1,this.matchObject,W?N.Yl.None:this.matchedType)},t.prototype.attachToNewExpression=function(x){this._expression=x},t.prototype.offsetPosition=function(x){this._startPosition+=x},t}();function A(t,x){if(t===x)return!0;switch(t){case 31:return 30===x;case 30:return 31===x;case 33:return 32===x;case 32:return 33===x;case 35:return 34===x;case 34:return 35===x;case 37:return 36===x;case 36:return 37===x;case 38:return 39===x;case 39:return 38===x}return!1}function P(t){return t>1&&t<8}function M(t){return t>41&&t<56}},63513:function(Oe,ce,D){D.d(ce,{Bl:function(){return Y},G:function(){return N},LP:function(){return V},Sy:function(){return R},Xy:function(){return P},as:function(){return d},ci:function(){return A},jl:function(){return B},uI:function(){return O}});var N,R,O,M,E=D(81337),w=D(55863);function d(M,t){return M instanceof t?M:void 0}function C(M,t){return M?M.equals?M.equals(t):M===t:t?t.equals?t.equals(M):t===M:M===t}(N||(N={})).hasFlag=function(x,G){return void 0===x&&(x=0),void 0===G&&(G=0),(x&G)===G},(M=R||(R={})).union=function(W,T,c){return W.concat(_.filter(T,function(q){return!_.some(W,function(J){return c(q,J)})}))},M.distinct=function(W,T){for(var c=[],q=function(he){_.some(c,function(de){return T(he,de)})||c.push(he)},J=0,ne=W;J<ne.length;J++)q(ne[J]);return c},M.ofType=function(W,T){return _.filter(W,function(c){return c instanceof T})},M.skipWhile=function(W,T){for(var c=0;c<W.length&&T(W[c]);)c++;return W.slice(c)},function(M){function G(J,ne){for(var oe=0;oe<J.length&&_.includes(ne,J[oe]);oe++);return J.substr(oe)}function Z(J,ne){for(var oe=J.length-1;oe>=0&&_.includes(ne,J[oe]);oe--);return J.substr(0,oe+1)}M.compare=function(J,ne,oe){return J===ne?0:null==J||null==ne?-1:(oe&&(J=J.toUpperCase(),ne=ne.toUpperCase()),J===ne?0:J<ne?-1:1)},M.trim=function(J,ne){return G(Z(J,ne),ne)},M.trimStart=G,M.trimEnd=Z,M.indexOfAny=function(J,ne,oe){for(var fe,he=0,de=ne;he<de.length;he++){var ie=J.indexOf(de[he],oe);-1!==ie&&(null==fe||ie<fe)&&(fe=ie)}return void 0!==fe?fe:-1},M.equalIgnoreCase=function(J,ne){return(0,w.mv)(J,"first string in comparison must be defined"),(0,w.mv)(ne,"second string in comparison must be defined"),J.toUpperCase()===ne.toUpperCase()},M.isNullOrEmpty=function(J){return!J},M.startsWithIgnoreCase=function(J,ne){return(0,w.mv)(J,"str"),_.startsWith(J.toUpperCase(),ne.toUpperCase())}}(O||(O={}));var V,B,A=function(){function M(){this.items=[]}return M.prototype.enqueue=function(t){this.items.push(t)},M.prototype.dequeue=function(){return this.items.pop()},Object.defineProperty(M.prototype,"length",{get:function(){return this.items.length},enumerable:!1,configurable:!0}),M}(),Y=function(){function M(){this.table=new P}return M.prototype.add=function(t){var x=this.table.get(t);return!(x&&_.some(x,function(G){return C(G,t)})||(this.table.add(t,[t]),0))},M.prototype.remove=function(t){var x=this.table.get(t);if(!x)return!1;for(var G=0;G<x.length;G++)if(C(x[G],t))return x.splice(G,1),!0;return!1},M.prototype.contains=function(t){var x=this.table.get(t);return!!x&&_.some(x,function(G){return C(G,t)})},M.prototype.values=function(){for(var t=[],x=0,G=this.table.values();x<G.length;x++)t.push.apply(t,G[x]);return t},M}(),P=function(){function M(){this.hashMap={}}return Object.defineProperty(M.prototype,"keys",{get:function(){var x=[];for(var G in this.hashMap)x.push.apply(x,this.hashMap[G].map(function(W){return W.key}));return x},enumerable:!1,configurable:!0}),M.prototype.add=function(t,x){var G=M.getHashCode(t),Z=this.getBucket(t);if(Z){if(this.containsKey(t))throw new Error("Cannot add duplicate value to dictionary");Z.push({key:t,value:x})}else this.hashMap[G]=[{key:t,value:x}]},M.prototype.update=function(t,x){var G=this.getEntry(t);G?G.value=x:this.add(t,x)},M.prototype.get=function(t){var x=this.getEntry(t);return x&&x.value},M.prototype.values=function(){var t=[];for(var x in this.hashMap)t.push.apply(t,_.map(this.hashMap[x],function(Z){return Z.value}));return t},M.prototype.containsKey=function(t){return!!this.getEntry(t)},M.prototype.getBucket=function(t){var x=M.getHashCode(t);return this.hashMap.hasOwnProperty(x)?this.hashMap[x]:void 0},M.prototype.getEntry=function(t){var x=this.getBucket(t);if(x)return _.find(x,function(G){return M.equals(G.key,t)})},M.getHashCode=function(t){var x=t;return _.isFunction(x.getHashCode)?x.getHashCode():0},M.equals=function(t,x){if((0,w.mv)(t,"a"),(0,w.mv)(x,"b"),t.constructor!==x.constructor)return!1;var G=t;return _.isFunction(G.equals)?G.equals(x):t===x},M}();!function(M){var t=/[a-zA-Z_][a-zA-Z_0-9]*/;function G(ie,se){return _.isFunction(se)?Z(ie,se):Z(ie,function(ae){return se.isReservedWord(ae)})}function Z(ie,se){var ae=t.exec(ie);return!ae||ae[0].length!==ie.length||se(ie)}function W(ie){return ie&&T(ie)+"'"}function T(ie){return"'"+ie.replace(/'/g,"''")}function q(ie){return ie.substr(1).replace(/''/g,"'")}function fe(ie){return"["+ie.replace(/\]/g,"]]")}function de(ie){return ie.substr(1).replace(/\]\]/g,"]")}M.quoteIfNeeded=function(ie,se){return G(ie,se)?W(ie):ie},M.quoteNeeded=G,M.quote=W,M.quotePartial=T,M.unquote=function(ie){return q(ie.substr(0,ie.length-1))},M.unquotePartial=q,M.doubleQuote=function(ie){return'"'.concat(ie.replace(/"/g,'""'),'"')},M.unDoubleQuote=function(ie){return ie.substr(1,ie.length-2).replace(/""/g,'"')},M.bracket=function(ie){return fe(ie)+"]"},M.bracketPartial=fe,M.unbracket=function(ie){return de(ie.substr(0,ie.length-1))},M.unbracketPartial=de,M.hasValidAxesReferences=function(ie){return!_.isEmpty(ie)&&!_.some(ie,function(se){return _.isEmpty(se)})}}(V||(V={})),function(M){M.getAllExploredStates=function(x){for(var G=[],Z=[],W=0,T=x;W<T.length;W++){var c=T[W];c.iterate(),G=(0,E.ev)((0,E.ev)([],G,!0),c.completedStates,!0),Z=(0,E.ev)((0,E.ev)([],Z,!0),c.incompleteStates,!0)}return{completedStates:G,incompleteStates:Z}}}(B||(B={}))},51389:function(Oe,ce,D){D.r(ce),D.d(ce,{DaxParserProviderModule:function(){return M}});var E=D(77476),w=D(17819),N=D(48563),R=D(95792),O=D(14463),d=D(73202),C=D(63731),A=D(83342),Y=D(50423),V={provide:C.M,useFactory:function(t,x){var G=new B(t);return x.resolve(G)},deps:[A.vZ,O.t]},B=function(){function t(x){this.featureSwitchService=x,w.dH.setFeatureSwitches({useSkippableParams:this.featureSwitchService.featureSwitches.visualCalculations})}return t.prototype.renameReference=function(x,G,Z,W){return(new w.w_).renameReferences("column",G,x,Z,W)},t.prototype.getContext=function(x,G,Z){var W=(0,w.o4)((0,d.qN)(x)),T={reservedWords:G,functionDataFromEngine:(0,N.w)(Z.Functions)},c=(0,w.yD)(T,(0,d.m1)());return(0,R.BY)(W,c)},t.\u0275fac=function(G){return new(G||t)(Y.\u0275\u0275inject(A.vZ))},t.\u0275prov=Y.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}(),M=function(){function t(){}return t.\u0275fac=function(G){return new(G||t)},t.\u0275mod=Y.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=Y.\u0275\u0275defineInjector({providers:[V],imports:[E.CommonModule]}),t}()}}]);