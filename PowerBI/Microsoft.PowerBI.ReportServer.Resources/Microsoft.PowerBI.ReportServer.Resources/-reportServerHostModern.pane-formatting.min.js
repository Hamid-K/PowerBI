"use strict";(self.webpackChunkreportServerHostModern=self.webpackChunkreportServerHostModern||[]).push([["pane-formatting"],{82345:function(de,Q,d){d.d(Q,{P:function(){return m}});var m=new(d(50423).InjectionToken)("FileMenuService")},87644:function(de,Q,d){d.d(Q,{VO:function(){return p},Vj:function(){return y},ub:function(){return m}});var m="formattingService",p="formattingUIService",y=p},78432:function(de,Q,d){d.d(Q,{An:function(){return k},Aw:function(){return j},D1:function(){return K},H8:function(){return f},Ky:function(){return pe},LF:function(){return W},N6:function(){return Ie},UV:function(){return oe},Wx:function(){return T},ce:function(){return Ae},hy:function(){return P},m7:function(){return D},nB:function(){return b},nH:function(){return E},so:function(){return ue},um:function(){return x},w7:function(){return ne},wW:function(){return w},zS:function(){return Y},zh:function(){return L}});var e=d(81337),m=d(9215),p=d(61617),y=d(50550),U=d(62458),I=d(32379),z=d(10746),G=d(5265),A=d(80981),S="___",b="container-object-name";function k(M,O){switch(M){case"VisualizationPane_Section_Analytics":return"VisualizationPane_Section_Analytics";case"Button":return"Button";case"Format_Label_General":return O.featureSwitches.onObject?"Properties":"Format_Label_General";case"Group":return"Group";case"Image":return"Image";case"Page":return"Page";case"BasicShape_ToolTip":return"BasicShape_ToolTip";case"Visual":return"Visual";default:U.fF.assertNever(M)}}function L(M){var O="".concat(S).concat(M.objectName).concat(S).concat(M.propertyName);return(0,p.$Q)(O,M.selector)}function W(M,O){return"".concat(O,"-").concat(M)}function oe(M,O){return M.substring(O.length+1)}function ne(M,O){var J=O[M.objectName],X=J?.properties[M.propertyName];return X}function x(M,O){var J=null;if(M){if((0,m.q4)(M))return k("Group",O);J=M.config.singleVisual.visualType}switch(J){case"actionButton":return k("Button",O);case"image":return k("Image",O);case"shape":return k("BasicShape_ToolTip",O);default:return k("Visual",O)}}function K(M){var O=M?.config.singleVisual;return!O||(0,A.xj)(O)}function j(M,O,J){void 0===J&&(J=!1);for(var X=0,re=O;X<re.length;X++){var Z=re[X],le=M[Z.objectName],me=!0,Te=Z.selector;if(le){for(var $e=0,ge=le;$e<ge.length;$e++){var Ce=ge[$e];(Te&&((0,I.fS)(Ce.selector,Te)||_.has(Z,"altConstantValueSelector")&&(0,I.fS)(Ce.selector,Z.altConstantValueSelector))||J&&Ce.selector||!Te&&!J)&&delete Ce.properties[Z.propertyName],me=me&&_.isEmpty(Ce.properties)}me&&delete M[Z.objectName]}}}function T(M){var O={},J={};M.forEach(function(Z){Z.canvasItems.forEach(function(le){var me=le.name;J[me]=le,O[me]||(O[me]=[]),O[me].push(Z)})});var X=[];for(var re in O)X.push({canvasItem:J[re],descriptors:O[re].map(function(Z){return(0,e.pi)((0,e.pi)({},Z),{canvasItems:void 0})})});return X}function P(M,O,J,X){return M===O&&(0,I.fS)(J,X)}function w(M,O,J,X){if(!M||!O)return!1;for(var re=function(ge){var Ce=O[ge.objectName];if(Ce)for(var Le=0,tt=Ce;Le<tt.length;Le++){var Ne=tt[Le];if(X){if(!Ne.properties[ge.propertyName])continue;if(!ge.selector||(0,I.fS)(Ne.selector,ge.selector)||(0,I.fS)(Ne.selector,ge.altConstantValueSelector))return{value:!0}}else if(Ne.properties[ge.propertyName])return{value:!0}}if(J&&_.find(J.changes,function(nt){return nt.objectName===ge.objectName&&nt.propertySlice.name===ge.propertyName}))return{value:!0}},Z=0,le=M;Z<le.length;Z++){var Te=re(le[Z]);if("object"==typeof Te)return Te.value}return!1}function f(M){return{objectName:M.objectName,propertyName:M.propertySlice.name,propertyValue:M.propertySlice.value,propertyType:M.propertySlice.type,altConstantValueSelector:M.propertySlice.altConstantValueSelector,selector:M.propertySlice.selector}}function E(M,O){var X={objectName:O.objectName,propertySlice:{name:O.propertyName,value:O.propertyValue,type:O.propertyType,altConstantValueSelector:O.altConstantValueSelector,selector:O.selector},hasDynamicExpressionSupport:!1};return X.hasDynamicExpressionSupport=function(M,O){var J=M.config.singleVisual.query,re=(0,G.NA)(M.config.singleVisual.objects,{objectName:O.objectName,propertyName:O.propertySlice.name},O.propertySlice.selector);return!(!re||!(0,z.oA)(re,O.propertySlice.selector,J?J.defn.select():(0,y.bv)()).length)}(M,X),X}function D(M,O,J,X){var re=X.visualPlugin&&X.visualPlugin.capabilities(J);if(re&&re.supportsSynchronizingFilterState){var Z=re.objects[M];if(Z){var le=Z.properties[O];if(le&&le.filterState)return!0}}return!1}function Y(M,O){M&&M.syncFilterState(O)}function Ie(M){return void 0!==M.reference}function pe(M){return M.isTopLevelToggle}function ue(M){var O=M.visualObjects,J=_.some(O,function(X){return"visual-area"===X.objectName});return J&&O.length>1&&U.fF.assertFail("Visual area sub selectable should only have one visual object"),J}function Ae(M){var O=[],J=M.control.type;switch(J){case"MarginPadding":var X=M.control.properties,re=Be(M);O=[be(X.top,re),be(X.bottom,re),be(X.left,re),be(X.right,re)];break;case"FontControl":var Z=M.control.properties,le=Be(M);Z.fontSize&&O.push(be(Z.fontSize,le)),Z.fontFamily&&O.push(function(M,O){return(0,e.pi)((0,e.pi)({},O),{control:{type:"FontPicker",properties:M},uid:L(M.descriptor)})}(Z.fontFamily,le)),Z.bold&&O.push(We(Z.bold,le)),Z.italic&&O.push(We(Z.italic,le)),Z.underline&&O.push(We(Z.underline,le));break;default:U.fF.assertNever(J)}return O}function Be(M){return{aliasNames:[],description:"",displayName:"",conditionalFormattingObjects:void 0,conditionalFormattingWarning:void 0,control:void 0,disabled:M.disabled,hidden:M.hidden,disabledReason:M.disabledReason,groupUid:M.groupUid,infoIconText:void 0,originSource:M.originSource,pivotSource:M.pivotSource,placeHolderText:void 0,saveCallback:void 0,showChangeIndicator:M.showChangeIndicator,suppressDisplayName:M.suppressDisplayName,uid:void 0,warningMessage:void 0}}function be(M,O){return(0,e.pi)((0,e.pi)({},O),{control:{type:"NumUpDown",properties:M},uid:L(M.descriptor)})}function We(M,O){return(0,e.pi)((0,e.pi)({},O),{control:{type:"ToggleSwitch",properties:M},uid:L(M.descriptor)})}},2863:function(de,Q,d){d.d(Q,{v:function(){return p}});var e=d(3579);function p(y,U,I){var z=(0,e.s)(y);return U.isCustomVisual(z)||I.isTrustedVisual(z)}},53150:function(de,Q,d){d.r(Q),d.d(Q,{PaneFormattingModule:function(){return Gl}});var e=d(50423),m=function(){function i(){}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({}),i}(),p=d(81337),y=d(17174),U=d(18765),I=d(92374),z=d(19650),G=d(38078),A=d(72065),S=d(59017),b=d(14172),k=d(57243),L=d(23558),W=d(59973),oe=d(64647),ne=d(65181),x=d(77476),K=d(53240),j=d(64713),T=d(86663),P=d(1240);function F(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pbi-button-toggle",3),e.\u0275\u0275listener("valueChanged",function(c){var s=e.\u0275\u0275restoreView(t).$implicit,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.onSelectionChange.fn({value:s.name,checked:c}))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"label",4),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",5),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275element(8,"pbi-icon",7),e.\u0275\u0275elementEnd()()()}if(2&i){var n=r.$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("checked",n.name===e.\u0275\u0275pipeBind1(1,12,o.selectedAlignment$))("supportsNoSelection",o.supportsNoSelection)("aria-labelledby",o.ariaLabelledby+" "+n.id)("pbi-tooltip",n.tooltip)("value",n.name),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("id",n.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("disabled",e.\u0275\u0275pipeBind1(5,14,o.isDisabled$))("selected",n.name===e.\u0275\u0275pipeBind1(6,16,o.selectedAlignment$)),e.\u0275\u0275advance(4),e.\u0275\u0275property("name",n.icon)}}var w=function(i){function r(t,n){var o=i.call(this)||this;return o.highContrastCssGenerationService=t,o.localizationService=n,o.supportsNoSelection=!1,o.onAlignmentGroupChange=new e.EventEmitter,r.nextId++,o}return(0,p.ZT)(r,i),r.prototype.ngOnInit=function(){var t=this;this.isDisabled$=this.mergePropertyInputsAndFormControl(this.changes$("isDisabled"),this.disabled$,"isDisabled",this.onDestroy$),this.selectedAlignment$=this.mergePropertyInputsAndFormControl(this.changes$("selectedAlignment"),this.value$,"selectedAlignment",this.onDestroy$),this.alignmentOptions$=(0,S.aj)([this.changes$("mode"),this.changes$("supportsNoSelection",!0)]).pipe((0,b.U)(function(n){return t.getPositions(n[0],n[1])}),(0,b.U)(function(n){return t.getAlignmentItems(n)}),(0,k.d)(1)),this.onSelectionChange=this.createEventAdapter(),this.onSelectionChange.$.pipe((0,L.M)(this.selectedAlignment$),(0,W.h)(function(n){var o=n[0],a=n[1];return o.checked&&o.value!==a||t.supportsNoSelection&&o.value===a})).subscribe(function(n){var o=n[0],c=o.checked?o.value:z.H.auto;t.onAlignmentGroupChange.emit(c),t.onValueChange(c),t.onTouched()}),this.initializeHighContrastRules()},r.prototype.getPositions=function(t,n){return"verticalAlignment"===t?[{positionName:U.Q4.top,iconClass:"textaligntop",localizationKey:"Top"},{positionName:U.Q4.middle,iconClass:"textalignmiddle",localizationKey:"Middle"},{positionName:U.Q4.bottom,iconClass:"textalignbottom",localizationKey:"Bottom"}]:[{positionName:n?z.H.left:I.D.left,iconClass:"alignleft",localizationKey:"Visual_TextAlignment_Left"},{positionName:n?z.H.center:I.D.center,iconClass:"aligncenter",localizationKey:"Visual_TextAlignment_Center"},{positionName:n?z.H.right:I.D.right,iconClass:"alignright",localizationKey:"Visual_TextAlignment_Right"}]},r.prototype.getAlignmentItems=function(t){var n=this;return t.map(function(o){return{name:o.positionName,icon:o.iconClass,tooltip:{tooltipDisable:!1,tooltipTitle:n.localizationService.get(o.localizationKey),tooltipShowOnFocus:!0},ariaLabel:n.getAriaLabel(n.mode,o.localizationKey),id:n.getAlignmentId(n.mode,o.localizationKey)}})},r.prototype.getAriaLabel=function(t,n){return this.localizationService.get("verticalAlignment"===t?"Visual_Alignment_Vertical":"Visual_Alignment_Horizontal")+" "+this.localizationService.get(n)},r.prototype.getAlignmentId=function(t,n){return(0,G.Jj)(("verticalAlignment"===t?"vertical":"horizontal")+"-"+n+"-"+r.nextId)},r.prototype.initializeHighContrastRules=function(){this.highContrastCssGenerationService.addRule(".alignment-group.themeableElement button .outer.selected *","{ background: @selectedBackgroundColor !important; color: @selectedForegroundColor !important; border-color: @selectedBackgroundColor !important; }"),this.highContrastCssGenerationService.addRule(".alignment-group.themeableElement button:hover, .alignment-group.themeableElement button:focus","{ background: transparent !important; }"),this.highContrastCssGenerationService.addRule(".alignment-group.themeableElement button .outer:hover:not(.selected)","{ background: @selectedBackgroundColor !important; }")},r.nextId=0,r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(oe.g),e.\u0275\u0275directiveInject(ne.o))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["alignment-group"]],inputs:{selectedAlignment:"selectedAlignment",mode:"mode",isDisabled:"isDisabled",supportsNoSelection:"supportsNoSelection",ariaLabelledby:["aria-labelledby","ariaLabelledby"]},outputs:{onAlignmentGroupChange:"onAlignmentGroupChange"},features:[e.\u0275\u0275ProvidersFeature([{provide:y.JU,useExisting:(0,e.forwardRef)(function(){return r}),multi:!0}]),e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"alignment-group","themeableElement"],[3,"disabled"],[3,"checked","supportsNoSelection","aria-labelledby","pbi-tooltip","value","valueChanged",4,"ngFor","ngForOf"],[3,"checked","supportsNoSelection","aria-labelledby","pbi-tooltip","value","valueChanged"],[1,"alignment-icon-label"],[1,"outer"],[1,"content"],["size","small",1,"alignment-icon",3,"name"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"pbi-button-toggle-group",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,F,9,18,"pbi-button-toggle",2),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(2,2,o.isDisabled$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(4,4,o.alignmentOptions$)))},dependencies:[x.NgForOf,K.I,j.J,T._,P.i,x.AsyncPipe],styles:['pbi-button-toggle[_ngcontent-%COMP%]:first-child   .outer[_ngcontent-%COMP%]{margin-left:0}pbi-button-toggle[_ngcontent-%COMP%]:last-child   .outer[_ngcontent-%COMP%]{margin-right:0}.alignment-group[_ngcontent-%COMP%]{--alignment-group-button-background-color: var(--fluent-theme-white-color);--alignment-group-button-hover-background-color: var(--gray-40, #E1DFDD);--alignment-group-button-active-background-color: var(--gray-50, #D2D0CE);--alignment-group-button-disabled-background-color: var(--gray-20, #F3F2F1);--alignment-group-button-border-color: var(--gray-110, #8A8886);--alignment-group-button-border-disabled-color: var(--gray-20, #F3F2F1)}  [data-legacy-theming=false] .alignment-group{--alignment-group-button-background-color: var(--colorNeutralBackground1);--alignment-group-button-hover-background-color: var(--colorNeutralBackground1Hover);--alignment-group-button-active-background-color: var(--colorNeutralBackground3);--alignment-group-button-disabled-background-color: var(--colorNeutralBackgroundDisabled);--alignment-group-button-border-color: var(--colorNeutralStroke1);--alignment-group-button-border-disabled-color: var(--colorNeutralStrokeDisabled)}.alignment-group[_ngcontent-%COMP%]   .alignment-icon-label[_ngcontent-%COMP%]{display:none}.alignment-group[_ngcontent-%COMP%]   .outer[_ngcontent-%COMP%]{cursor:pointer;border-radius:2px;border:1px solid var(--alignment-group-button-border-color);margin:2px;padding:2px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);background:var(--formatting-card-background-color)}.alignment-group[_ngcontent-%COMP%]   .outer.disabled[_ngcontent-%COMP%]{background:var(--alignment-group-button-disabled-background-color);border-color:var(--alignment-group-button-border-disabled-color);pointer-events:none}.alignment-group[_ngcontent-%COMP%]   .outer.disabled[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D)}pbi-button-toggle[disabled][_ngcontent-%COMP%]   .alignment-group[_ngcontent-%COMP%]   .outer[_ngcontent-%COMP%]{background-color:var(--gray-30, #EDEBE9)}.alignment-group[_ngcontent-%COMP%]   .outer.selected[_ngcontent-%COMP%]{background:var(--alignment-group-button-active-background-color)}.alignment-group[_ngcontent-%COMP%]   .outer[_ngcontent-%COMP%]:hover:not(.selected):not(.disabled){background:var(--alignment-group-button-hover-background-color)}.alignment-group[_ngcontent-%COMP%]   .outer[_ngcontent-%COMP%]:focus{outline:none}.alignment-group[_ngcontent-%COMP%]   .outer[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{padding:2px}.alignment-group[_ngcontent-%COMP%]   .outer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:18px;width:18px;display:flex;align-items:center;justify-content:center}html[data-focus-source="key"][_nghost-%COMP%]   .alignment-group[_ngcontent-%COMP%]   pbi-button-toggle[_ngcontent-%COMP%]:focus-within   .content[_ngcontent-%COMP%], html[data-focus-source="key"]   [_nghost-%COMP%]   .alignment-group[_ngcontent-%COMP%]   pbi-button-toggle[_ngcontent-%COMP%]:focus-within   .content[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}'],changeDetection:0}),r}(A.N),f=d(62458),E=d(41640),D=d(94419),Y=d(74082),ee=d(45413),Ie=d(67930),pe=d(59968),ue=d(76492),Ae=d(42189),Be=d(9529),be=d(78173),We=d(8902),ut=d(64734);function M(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"span",4),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,t.toggle$)?"On":"Off")}}function O(i,r){1&i&&e.\u0275\u0275element(0,"pbi-icon",5)}function J(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.toggleLabel)}}var X=function(i){function r(t,n){var o=i.call(this)||this;return o.highContrastCssGenerationService=t,o.localizationService=n,o.onToggleChange=new e.EventEmitter,o.initializeHighContrastRules(),o}return(0,p.ZT)(r,i),r.prototype.ngOnInit=function(){var t=this;this.showToggleText=!!this.localizationService.currentLanguageLocale.startsWith("en-"),this.isDisabled$=this.mergePropertyInputsAndFormControl(this.changes$("isDisabled"),this.disabled$,"isDisabled",this.onDestroy$),this.toggleEvent=this.createEventAdapter(),this.toggle$=this.mergePropertyInputsAndFormControl(this.changes$("toggle"),this.value$,"toggle",this.onDestroy$),this.toggleEvent.$.subscribe(function(n){t.onToggleChange.emit(n.checked),t.onValueChange(n.checked),t.onTouched()})},r.prototype.initializeHighContrastRules=function(){this.highContrastCssGenerationService.addRule(".pbi-toggle-button.checked .pbi-toggle-button-internal:not(.disabled) .pbi-toggle-button-input:checked + section div.pbi-toggle-button-circle","{ background-color: transparent !important; border-color: @buttonForegroundColor !important; }")},r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(We.Mi),e.\u0275\u0275directiveInject(ne.o))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["toggle-switch-modern"]],inputs:{toggle:"toggle",ariaLabelledby:"ariaLabelledby",ariaDescribedby:"ariaDescribedby",toggleLabel:"toggleLabel",isDisabled:"isDisabled"},outputs:{onToggleChange:"onToggleChange"},features:[e.\u0275\u0275ProvidersFeature([{provide:y.JU,useExisting:(0,e.forwardRef)(function(){return r}),multi:!0}]),e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:14,consts:[["data-testid","toggle-switch-modern",3,"compact","aria-labelledby","aria-describedby","checked","disabled","change"],["class","toggle-text","inlineToggleContent","",4,"ngIf"],["class","toggle-icon","inlineToggleContent","","name","toggle-button-check","size","mini",4,"ngIf"],[4,"ngIf"],["inlineToggleContent","",1,"toggle-text"],["inlineToggleContent","","name","toggle-button-check","size","mini",1,"toggle-icon"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"pbi-toggle-button",0),e.\u0275\u0275listener("change",function(c){return o.toggleEvent.fn(c)}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,M,3,3,"span",1),e.\u0275\u0275template(4,O,1,0,"pbi-icon",2),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275template(6,J,2,1,"span",3),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("compact",!0)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby)("checked",e.\u0275\u0275pipeBind1(1,8,o.toggle$))("disabled",e.\u0275\u0275pipeBind1(2,10,o.isDisabled$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",o.showToggleText),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.showToggleText&&e.\u0275\u0275pipeBind1(5,12,o.toggle$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.toggleLabel))},dependencies:[x.NgIf,T._,ut.d,x.AsyncPipe],encapsulation:2,changeDetection:0}),r}(A.N);function re(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"pbi-dropdown-item",8),e.\u0275\u0275element(1,"span",4),e.\u0275\u0275elementEnd()),2&i){var t=r.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275property("localize",t.displayNameKey)}}var Z=function(r){return{expr:r}};function le(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section"),e.\u0275\u0275element(1,"div",15),e.\u0275\u0275elementStart(2,"field-picker-modern-lazy",11),e.\u0275\u0275listener("onExprChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(c.onLowerBoundChanged(null==a.newExpr?null:a.newExpr.expr))}),e.\u0275\u0275elementEnd()()}if(2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275classProp("disabled",n.isDisabled),e.\u0275\u0275property("localize","Visual_Confidence_Band_Lower"),e.\u0275\u0275advance(1),e.\u0275\u0275property("initialExpr",n.lowerBoundField?e.\u0275\u0275pureFunction1(9,Z,n.lowerBoundField):void 0)("validators",n.validators)("allowMultipleValues",!1)("disabled",n.isDisabled)("ariaLabelledby","lowerBoundLabel")("withFieldList",!0)}}function me(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"pbi-dropdown-item",8),e.\u0275\u0275element(1,"span",4),e.\u0275\u0275elementEnd()),2&i){var t=r.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275property("localize",t.displayNameKey)}}function Te(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section"),e.\u0275\u0275element(1,"div",16),e.\u0275\u0275elementStart(2,"pbi-dropdown",17),e.\u0275\u0275listener("valueChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(c.onRelationshipChanged(a))}),e.\u0275\u0275elementStart(3,"pbi-dropdown-trigger"),e.\u0275\u0275element(4,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,me,2,2,"pbi-dropdown-item",5),e.\u0275\u0275elementEnd()()}if(2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275classProp("disabled",n.isDisabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("value",n.currentRelationship)("compact",!0)("aria-labelledby","relationshipLabel")("isDisabled",n.isDisabled),e.\u0275\u0275advance(2),e.\u0275\u0275property("localize",n.currentRelationship.displayNameKey),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.relationships)}}function $e(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"section"),e.\u0275\u0275element(2,"div",10),e.\u0275\u0275elementStart(3,"field-picker-modern-lazy",11),e.\u0275\u0275listener("onExprChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onUpperBoundChanged(null==a.newExpr?null:a.newExpr.expr))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(4,le,3,11,"section",7),e.\u0275\u0275template(5,Te,6,8,"section",7),e.\u0275\u0275elementStart(6,"section",12),e.\u0275\u0275element(7,"div",13),e.\u0275\u0275elementStart(8,"toggle-switch-modern",14),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.isSymmetrical=a)})("ngModelChange",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onSymmetricalChange())}),e.\u0275\u0275elementEnd()()()}if(2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275classProp("disabled",n.isDisabled),e.\u0275\u0275property("localize","Visual_Confidence_Band_Upper"),e.\u0275\u0275advance(1),e.\u0275\u0275property("initialExpr",n.upperBoundField?e.\u0275\u0275pureFunction1(16,Z,n.upperBoundField):void 0)("validators",n.validators)("allowMultipleValues",!1)("disabled",n.isDisabled)("ariaLabelledby","upperBoundLabel")("withFieldList",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isSymmetrical),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isSymmetrical),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("disabled",n.isDisabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ariaLabelledby","symmetricalLabel")("disabled",n.isDisabled)("ngModel",n.isSymmetrical)}}var ge=function(){return{unitSymbol:"Slider_Percent",minValue:0,maxValue:1e3}};function Ce(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"section"),e.\u0275\u0275element(2,"div",18),e.\u0275\u0275elementStart(3,"pbi-spin-button",19),e.\u0275\u0275listener("focusChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.focusChanged.emit(a))})("ngModelChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onUpperPercentageChanged(a))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"section"),e.\u0275\u0275element(5,"div",20),e.\u0275\u0275elementStart(6,"pbi-spin-button",19),e.\u0275\u0275listener("focusChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.focusChanged.emit(a))})("ngModelChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onLowerPercentageChanged(a))}),e.\u0275\u0275elementEnd()()()}if(2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275classProp("disabled",n.isDisabled),e.\u0275\u0275property("localize","Visual_Confidence_Band_Upper"),e.\u0275\u0275advance(1),e.\u0275\u0275property("labelId","percentageUpperLabel")("ngModel",n.upperBoundPercentage)("disabled",n.isDisabled)("options",e.\u0275\u0275pureFunction0(16,ge))("unitSymbolAfterInput",!0),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("disabled",n.isDisabled),e.\u0275\u0275property("localize","Visual_Confidence_Band_Lower"),e.\u0275\u0275advance(1),e.\u0275\u0275property("labelId","percentageLowerLabel")("ngModel",n.lowerBoundPercentage)("disabled",n.isDisabled)("options",e.\u0275\u0275pureFunction0(17,ge))("unitSymbolAfterInput",!0)}}var Le=function(){return{unitSymbol:"Slider_Percent",minValue:0,maxValue:100}};function tt(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"section"),e.\u0275\u0275element(2,"div",21),e.\u0275\u0275elementStart(3,"pbi-spin-button",19),e.\u0275\u0275listener("focusChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.focusChanged.emit(a))})("ngModelChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onUpperPercentileChanged(a))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"section"),e.\u0275\u0275element(5,"div",22),e.\u0275\u0275elementStart(6,"pbi-spin-button",19),e.\u0275\u0275listener("focusChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.focusChanged.emit(a))})("ngModelChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onLowerPercentileChanged(a))}),e.\u0275\u0275elementEnd()()()}if(2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275classProp("disabled",n.isDisabled),e.\u0275\u0275property("localize","Visual_Confidence_Band_Upper"),e.\u0275\u0275advance(1),e.\u0275\u0275property("labelId","percentileUpperLabel")("ngModel",n.upperBoundPercentile)("disabled",n.isDisabled)("options",e.\u0275\u0275pureFunction0(16,Le))("unitSymbolAfterInput",!0),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("disabled",n.isDisabled),e.\u0275\u0275property("localize","Visual_Confidence_Band_Lower"),e.\u0275\u0275advance(1),e.\u0275\u0275property("labelId","percentileLowerLabel")("ngModel",n.lowerBoundPercentile)("disabled",n.isDisabled)("options",e.\u0275\u0275pureFunction0(17,Le))("unitSymbolAfterInput",!0)}}var Ne=function(){return{minValue:0,maxValue:100}};function nt(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"section"),e.\u0275\u0275element(2,"div",23),e.\u0275\u0275elementStart(3,"pbi-spin-button",24),e.\u0275\u0275listener("focusChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.focusChanged.emit(a))})("ngModelChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onstandardDeviationMultiplierChanged(a))}),e.\u0275\u0275elementEnd()()()}if(2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275classProp("disabled",n.isDisabled),e.\u0275\u0275property("localize","ErrorRange_StandardDeviations"),e.\u0275\u0275advance(1),e.\u0275\u0275property("labelId","standardDeviationMultiplierLabel")("ngModel",n.standardDeviationMultiplier)("disabled",n.isDisabled)("options",e.\u0275\u0275pureFunction0(7,Ne))}}var Dt=function(){function i(){this.focusChanged=new e.EventEmitter,this.onValueChanged=new e.EventEmitter,this.modeExplicit={displayNameKey:"ErrorRange_Mode_Explicit"},this.modePercentage={displayNameKey:"ErrorRange_Mode_Percentage"},this.modePercentile={displayNameKey:"ErrorRange_Mode_Percentile"},this.modeStandardDeviation={displayNameKey:"ErrorRange_Mode_StandardDeviation"},this.relationAbsolute={displayNameKey:"Visual_Absolute",isRelative:!1},this.relationRelative={displayNameKey:"Visual_Relative",isRelative:!0},this.relationships=[this.relationAbsolute,this.relationRelative]}return i.prototype.ngOnInit=function(){this.reset(),this.parseErrorRange()},i.prototype.ngOnChanges=function(r){(r.initialExpr||r.targetMeasure)&&(this.reset(),this.parseErrorRange())},i.prototype.reset=function(){this.currentMode=this.modeExplicit,this.modes=[this.modeExplicit],this.modes.push(this.modePercentage),f.fF.assertValue(this.targetMeasure,"Error ranges must have a target measure"),(0,Y.iV)(this.targetMeasure)?(this.modes.push(this.modePercentile,this.modeStandardDeviation),this.unaggregatedMeasure=this.targetMeasure.arg):this.unaggregatedMeasure=void 0,this.upperBoundField=void 0,this.lowerBoundField=void 0,this.currentRelationship=this.relationships[0],this.isSymmetrical=!1,this.lowerBoundPercentage=10,this.upperBoundPercentage=10,this.lowerBoundPercentile=10,this.upperBoundPercentile=90,this.standardDeviationMultiplier=1},i.prototype.parseErrorRange=function(){var r=this.initialExpr;r&&(r.explicit?this.parseExplicitErrorRange(r.explicit):r.symmetricalExplicit?this.parseSymmetricalRange(r.symmetricalExplicit):r.percentage?this.parsePercentageRange(r.percentage):r.percentile?this.parsePercentileRange(r.percentile):r.standardDeviation?this.parseStandardDeviationRange(r.standardDeviation):f.fF.assertFail("Unexpected error range"))},i.prototype.parseExplicitErrorRange=function(r){this.currentMode=this.modeExplicit,this.lowerBoundField=r.lowerBound,this.upperBoundField=r.upperBound,this.isSymmetrical=!1;var t=r.isRelative,n=!!t&&D.jz.getBooleanValue(t);this.currentRelationship=this.relationships.find(function(o){return o.isRelative===n})},i.prototype.parseSymmetricalRange=function(r){this.currentMode=this.modeExplicit,this.lowerBoundField=void 0,this.upperBoundField=r.delta,this.isSymmetrical=!0},i.prototype.parsePercentageRange=function(r){this.currentMode=this.modePercentage,f.fF.assert(function(){return(0,Y.VC)(r.lowerBoundDelta)&&(0,Y.VC)(r.upperBoundDelta)},"Percentage error-range bounds are expected to be Constant"),this.lowerBoundPercentage=(0,E.oI)(100*D.jz.getNumericValue(r.lowerBoundDelta)),this.upperBoundPercentage=(0,E.oI)(100*D.jz.getNumericValue(r.upperBoundDelta))},i.prototype.parsePercentileRange=function(r){f.fF.assert(function(){return(0,Y.T5)(r.lowerBound)&&(0,Y.T5)(r.upperBound)&&(0,ee.fS)(r.lowerBound,r.lowerBound)},"Percentile error-range bounds are expected to be Percentiles over same column"),this.currentMode=this.modePercentile,this.lowerBoundPercentile=(0,E.oI)(100*r.lowerBound.k),this.upperBoundPercentile=(0,E.oI)(100*r.upperBound.k)},i.prototype.parseStandardDeviationRange=function(r){this.currentMode=this.modeStandardDeviation,f.fF.assert(function(){return(0,Y.iV)(r.value)&&7===r.value.func},"Standard-Deviation error-range is expected to be StandardDeviation aggregate"),f.fF.assert(function(){return(0,Y.VC)(r.multiplier)},"Standard-Deviation error-range multiplier is expected to be Constant"),this.standardDeviationMultiplier=D.jz.getNumericValue(r.multiplier)},i.prototype.updateErrorRange=function(){var r;switch(this.currentMode){case this.modeExplicit:r=this.isSymmetrical?this.createSymmetricalRange():this.createExplicitRange();break;case this.modePercentage:r=this.createPercentageRange();break;case this.modePercentile:r=this.createPercentileRange();break;case this.modeStandardDeviation:r=this.createStandardDeviationRange()}this.onValueChanged.emit(r)},i.prototype.createExplicitRange=function(){if(this.lowerBoundField||this.upperBoundField)return{kind:"ErrorRange",explicit:{lowerBound:this.lowerBoundField,upperBound:this.upperBoundField,isRelative:(0,D.O7)(this.currentRelationship.isRelative)}}},i.prototype.createSymmetricalRange=function(){if(this.upperBoundField)return{kind:"ErrorRange",symmetricalExplicit:{delta:this.upperBoundField}}},i.prototype.createPercentageRange=function(){if(null!=this.lowerBoundPercentage&&null!=this.upperBoundPercentage)return{kind:"ErrorRange",percentage:{lowerBoundDelta:(0,D.tx)(this.lowerBoundPercentage/100),upperBoundDelta:(0,D.tx)(this.upperBoundPercentage/100)}}},i.prototype.createPercentileRange=function(){if(f.fF.assertValue(this.unaggregatedMeasure,"Percentile error-range should be disabled for non-aggregate measures"),null!=this.lowerBoundPercentage&&null!=this.upperBoundPercentage)return{kind:"ErrorRange",percentile:{lowerBound:(0,D.Pe)(this.unaggregatedMeasure,Math.max(0,Math.min(100,this.lowerBoundPercentile))/100,!1),upperBound:(0,D.Pe)(this.unaggregatedMeasure,Math.max(0,Math.min(100,this.upperBoundPercentile))/100,!1)}}},i.prototype.createStandardDeviationRange=function(){if(f.fF.assertValue(this.unaggregatedMeasure,"StdDev error-range should be disabled for non-aggregate measures"),null!=this.standardDeviationMultiplier)return{kind:"ErrorRange",standardDeviation:{value:(0,D.m_)(this.unaggregatedMeasure,7),multiplier:(0,D.tx)(this.standardDeviationMultiplier)}}},i.prototype.onModeChanged=function(r){this.reset(),this.currentMode=r,this.updateErrorRange()},i.prototype.onLowerBoundChanged=function(r){(0,ee.fS)(r,this.lowerBoundField)||(this.lowerBoundField=r,this.updateErrorRange())},i.prototype.onUpperBoundChanged=function(r){(0,ee.fS)(r,this.upperBoundField)||(this.upperBoundField=r,this.updateErrorRange())},i.prototype.onRelationshipChanged=function(r){this.currentRelationship=r,(this.lowerBoundField||this.upperBoundField)&&this.updateErrorRange()},i.prototype.onSymmetricalChange=function(){(this.upperBoundField||!this.isSymmetrical&&this.lowerBoundField)&&this.updateErrorRange()},i.prototype.onUpperPercentageChanged=function(r){this.upperBoundPercentage=r,this.updateErrorRange()},i.prototype.onLowerPercentageChanged=function(r){this.lowerBoundPercentage=r,this.updateErrorRange()},i.prototype.onUpperPercentileChanged=function(r){this.upperBoundPercentile=r,this.updateErrorRange()},i.prototype.onLowerPercentileChanged=function(r){this.lowerBoundPercentile=r,this.updateErrorRange()},i.prototype.onstandardDeviationMultiplierChanged=function(r){this.standardDeviationMultiplier=r,this.updateErrorRange()},i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["error-range"]],inputs:{ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],isDisabled:"isDisabled",initialExpr:"initialExpr",validators:"validators",targetMeasure:"targetMeasure"},outputs:{focusChanged:"focusChanged",onValueChanged:"onValueChanged"},features:[e.\u0275\u0275NgOnChangesFeature],decls:11,vars:14,consts:[["role","group","focus-nav-mode","Browser",1,"error-range","themeableElement"],["id","mode-container"],["id","modeLabel",1,"label",3,"localize"],[3,"value","compact","aria-labelledby","valueChange"],[3,"localize"],[3,"value",4,"ngFor","ngForOf"],["id","explicit-container",4,"ngIf"],[4,"ngIf"],[3,"value"],["id","explicit-container"],["id","upperBoundLabel",1,"label",3,"localize"],[3,"initialExpr","validators","allowMultipleValues","disabled","ariaLabelledby","withFieldList","onExprChange"],["id","symmetricalSection"],["id","symmetricalLabel","localize","ErrorRange_Symmetrical",1,"label"],[3,"ariaLabelledby","disabled","ngModel","ngModelChange"],["id","lowerBoundLabel",1,"label",3,"localize"],["id","relationshipLabel","localize","Visual_Confidence_Band_Mode",1,"label"],[3,"value","compact","aria-labelledby","isDisabled","valueChange"],["id","percentageUpperLabel",1,"label",3,"localize"],[1,"control-width",3,"labelId","ngModel","disabled","options","unitSymbolAfterInput","focusChange","ngModelChange"],["id","percentageLowerLabel",1,"label",3,"localize"],["id","percentileUpperLabel",1,"label",3,"localize"],["id","percentileLowerLabel",1,"label",3,"localize"],["id","standardDeviationMultiplierLabel",1,"label",3,"localize"],[1,"control-width",3,"labelId","ngModel","disabled","options","focusChange","ngModelChange"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"section",1),e.\u0275\u0275element(2,"div",2),e.\u0275\u0275elementStart(3,"pbi-dropdown",3),e.\u0275\u0275listener("valueChange",function(a){return n.onModeChanged(a)}),e.\u0275\u0275elementStart(4,"pbi-dropdown-trigger"),e.\u0275\u0275element(5,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,re,2,2,"pbi-dropdown-item",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,$e,9,18,"div",6),e.\u0275\u0275template(8,Ce,7,18,"div",7),e.\u0275\u0275template(9,tt,7,18,"div",7),e.\u0275\u0275template(10,nt,4,8,"div",7),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275classProp("disabled",n.isDisabled),e.\u0275\u0275property("localize","Type"),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("disabled",n.isDisabled),e.\u0275\u0275property("value",n.currentMode)("compact",!0)("aria-labelledby","modeLabel"),e.\u0275\u0275advance(2),e.\u0275\u0275property("localize",n.currentMode.displayNameKey),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.modes),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.currentMode==n.modeExplicit),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.currentMode==n.modePercentage),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.currentMode==n.modePercentile),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.currentMode==n.modeStandardDeviation))},dependencies:[x.NgForOf,x.NgIf,Ie.m,y.JJ,y.On,pe.X,ue.H,Ae.r,Be._,ue.T,be.a,X],styles:['.label[_ngcontent-%COMP%]{margin-bottom:4px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400)}.label.disabled[_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D)}section[_ngcontent-%COMP%]{margin-bottom:8px}section[_ngcontent-%COMP%]   .control-width[_ngcontent-%COMP%]{max-width:100%}pbi-dropdown[_ngcontent-%COMP%]{width:100%}#symmetricalSection[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%}#symmetricalSection[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{flex-grow:1}#symmetricalSection[_ngcontent-%COMP%]   toggle-switch-modern[_ngcontent-%COMP%]{flex:none}'],changeDetection:0}),i}(),Oe=d(73221),ae=d(83317),te=d(6181),ce=d(77526),Bt=d(36861),xe=d(36858),In=["numUpDown"],Tn=["pbiButtonToggle"],Fn=function(r){return{warning:r}};function En(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"pbi-spin-button",8,9),e.\u0275\u0275listener("focusChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(c.fontSizeFocusChanged.emit(a))}),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(7,Fn,e.\u0275\u0275pipeBind1(3,5,n.isFontSizeWarning$)))("formControl",n.fontPropertiesFormGroup.get("fontSize"))("ariaLabel",n.ariaLabel.fontSize)("options",n.fontSizeFormatOption)("inputName","fontSize")}}function Dn(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"pbi-button-toggle",11,12)(2,"div",13)(3,"div",14),e.\u0275\u0275element(4,"i",15),e.\u0275\u0275elementEnd()()()),2&i){var t=e.\u0275\u0275nextContext().ngIf,n=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("formControl",t)("aria-label",o.ariaLabel[n])("value",n)("pbiTooltip",o.ariaLabel[n])("pbiTooltipDisabled",t.disabled),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("selected",t.value)("disabled",t.disabled),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass","pbi-glyph-"+n)}}function Bn(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Dn,5,10,"pbi-button-toggle",10),e.\u0275\u0275elementContainerEnd()),2&i){var t=r.ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",void 0!==t.value)}}function kn(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Bn,2,1,"ng-container",4),e.\u0275\u0275elementContainerEnd()),2&i){var t=r.$implicit,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.fontPropertiesFormGroup.get(t))}}function Vn(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",1)(1,"div",2),e.\u0275\u0275element(2,"font-picker",3),e.\u0275\u0275template(3,En,4,9,"ng-container",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",5)(5,"pbi-button-toggle-group",6),e.\u0275\u0275template(6,kn,2,1,"ng-container",7),e.\u0275\u0275elementEnd()()()),2&i){var n,t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("compact",!0)("showFullContent",!0)("ariaLabelledby",t.ariaLabelledby)("ariaDescribedby",t.ariaDescribedby)("formControl",t.fontPropertiesFormGroup.get("fontFamily")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",void 0!==(null==(n=t.fontPropertiesFormGroup.get("fontSize"))?null:n.value)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.BIU)}}var kt=function(i){function r(t,n,o){var a=i.call(this)||this;return a.controlContainer=t,a.highContrastCssGenerationService=n,a.localizationService=o,a.fontSizeFocusChanged=new e.EventEmitter,a.valueChanged=new e.EventEmitter,a.BIU=["bold","italic","underline"],a}return(0,p.ZT)(r,i),r.prototype.ngOnInit=function(){var n,t=this;this.fontPropertiesFormGroup=null===(n=this.controlContainer)||void 0===n?void 0:n.control,f.fF.assert(function(){return!((t.fontProperties||t.isDisabled)&&t.fontPropertiesFormGroup)},"you have added formGoup as well as fontProperties or isDisabled, please remove one"),this.fontPropertiesFormGroup||(this.fontPropertiesFormGroup=new y.nJ({}),["fontFamily","fontSize","bold","italic","underline"].forEach(function(a){return t.createFormControl(a)}),this.changes$("isDisabled").subscribe(function(a){a&&!t.fontPropertiesFormGroup.disabled?t.fontPropertiesFormGroup.disable({emitEvent:!1}):!a&&t.fontPropertiesFormGroup.disabled&&t.fontPropertiesFormGroup.enable({emitEvent:!1})})),this.ariaLabel=this.buildAriaLabel(),this.initializeHighContrastRules(),this.isFontSizeWarning$=this.changes$("warning",!0).pipe((0,b.U)(function(a){var c,l;return(null===(c=a?.source)||void 0===c?void 0:c.propertyName)===(null===(l=t.fontSizeDescriptor)||void 0===l?void 0:l.propertyName)}))},r.prototype.createFormControl=function(t){var o,n=this,a=new y.p4(null===(o=this.fontProperties)||void 0===o?void 0:o[t]);this.fontPropertiesFormGroup.addControl(t,a),a.valueChanges.pipe((0,W.h)(function(){return a.valid}),(0,ae.R)(this.onDestroy$)).subscribe(function(c){return n.valueChanged.emit({key:t,value:c})}),this.changes$("fontProperties").pipe((0,te.j)(t),(0,ce.x)()).subscribe(function(c){return a.setValue(c,{emitEvent:!1})})},r.prototype.buildAriaLabel=function(){return{fontFamily:this.localizationService.get("Visual_FontFamily"),fontSize:this.localizationService.get("FontSize"),bold:this.localizationService.get("Bold"),italic:this.localizationService.get("Italic"),underline:this.localizationService.get("Underline")}},r.prototype.initializeHighContrastRules=function(){this.highContrastCssGenerationService.addRule(".font-control.themeableElement .biu button .outer.selected","{ background: @foregroundColor !important; border-color: @foregroundColor !important; color:  }"),this.highContrastCssGenerationService.addRule(".font-control.themeableElement .biu button .outer.selected i","{ color: @selectedForegroundColor !important; }"),this.highContrastCssGenerationService.addRule(".font-control.themeableElement .biu button:hover, .font-control.themeableElement .biu button:focus","{ background: transparent !important; }"),this.highContrastCssGenerationService.addRule(".font-control.themeableElement .biu button .outer:hover:not(.selected)","{ background: @selectedBackgroundColor !important; }")},r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(y.gN,8),e.\u0275\u0275directiveInject(oe.g),e.\u0275\u0275directiveInject(ne.o))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["font-control"]],viewQuery:function(n,o){if(1&n&&(e.\u0275\u0275viewQuery(In,5,e.ElementRef),e.\u0275\u0275viewQuery(Tn,5,e.ElementRef)),2&n){var a=void 0;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.numUpDown=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.pbiButtonToggle=a)}},inputs:{fontProperties:"fontProperties",fontSizeFormatOption:"fontSizeFormatOption",fontSizeDescriptor:"fontSizeDescriptor",ariaLabelledby:"ariaLabelledby",ariaDescribedby:"ariaDescribedby",isDisabled:"isDisabled",warning:"warning"},outputs:{fontSizeFocusChanged:"fontSizeFocusChanged",valueChanged:"valueChanged"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["class","font-control themeableElement","role","group","focus-nav-mode","Browser",4,"ngIf"],["role","group","focus-nav-mode","Browser",1,"font-control","themeableElement"],[1,"font"],[3,"compact","showFullContent","ariaLabelledby","ariaDescribedby","formControl"],[4,"ngIf"],[1,"biu"],["multiple",""],[4,"ngFor","ngForOf"],[1,"font-size",3,"ngClass","formControl","ariaLabel","options","inputName","focusChange"],["numUpDown",""],["pbiTooltipCheckChildren","true",3,"formControl","aria-label","value","pbiTooltip","pbiTooltipDisabled",4,"ngIf"],["pbiTooltipCheckChildren","true",3,"formControl","aria-label","value","pbiTooltip","pbiTooltipDisabled"],["pbiButtonToggle",""],[1,"outer"],[1,"content"],[1,"glyphicon","glyph-small",3,"ngClass"]],template:function(n,o){1&n&&e.\u0275\u0275template(0,Vn,7,7,"div",0),2&n&&e.\u0275\u0275property("ngIf",!!o.fontPropertiesFormGroup)},dependencies:[x.NgClass,x.NgForOf,x.NgIf,Bt.w,y.JJ,K.I,j.J,be.a,xe.V,y.oH,x.AsyncPipe],styles:['.font-control[_ngcontent-%COMP%]{display:flex;flex-direction:column;--font-control-button-background-color: var(--fluent-theme-white-color, #FFF);--font-control-button-hover-background-color: var(--gray-40, #E1DFDD);--font-control-button-active-background-color: var(--gray-50, #D2D0CE);--font-control-button-disabled-background-color: var(--gray-20, #F3F2F1);--font-control-button-border-color: var(--gray-110, #8A8886);--font-control-button-border-disabled-color: var(--gray-20, #C8C6C4);--font-size-background-color: var(--fluent-theme-white-color, #FFF)}  [data-legacy-theming=false] .font-control{--font-control-button-background-color: var(--colorNeutralBackground1);--font-control-button-hover-background-color: var(--colorNeutralBackground1Hover);--font-control-button-active-background-color: var(--colorNeutralBackground3);--font-control-button-disabled-background-color: var(--inputButtonBackgroundDisabled);--font-control-button-border-color: var(--colorNeutralStroke1);--font-control-button-border-disabled-color: var(--colorNeutralStrokeDisabled);--font-size-background-color: var(--colorNeutralBackground1)}.font-control[_ngcontent-%COMP%]   .font[_ngcontent-%COMP%]{display:flex}.font-control[_ngcontent-%COMP%]   .font[_ngcontent-%COMP%]   font-picker[_ngcontent-%COMP%]{min-width:90px;flex-grow:1;padding-right:4px}.font-control[_ngcontent-%COMP%]   .font[_ngcontent-%COMP%]   .font-size[_ngcontent-%COMP%]{flex:none;width:54px;background:var(--font-size-background-color)}.font-control[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   .outer[_ngcontent-%COMP%]{background:var(--font-control-button-background-color);border:1px solid var(--font-control-button-border-color);border-radius:2px;margin:4px 2px;padding:2px}.font-control[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   .outer.disabled[_ngcontent-%COMP%]{background-color:var(--font-control-button-disabled-background-color);border-color:var(--font-control-button-border-disabled-color);color:var(--gray-80, #B3B0AD)}.font-control[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   .outer.selected[_ngcontent-%COMP%]{background:var(--font-control-button-active-background-color)}.font-control[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   .outer[_ngcontent-%COMP%]:hover:not(.selected):not(.disabled){background:var(--font-control-button-hover-background-color)}.font-control[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   .outer[_ngcontent-%COMP%]:focus{outline:none}.font-control[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   .outer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:18px;width:18px;display:flex;align-items:center;justify-content:center}html[data-focus-source="key"][_nghost-%COMP%]   .font-control[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   pbi-button-toggle[_ngcontent-%COMP%]:focus-within   .content[_ngcontent-%COMP%], html[data-focus-source="key"]   [_nghost-%COMP%]   .font-control[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   pbi-button-toggle[_ngcontent-%COMP%]:focus-within   .content[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.font-control[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   pbi-button-toggle[_ngcontent-%COMP%]:first-child   .outer[_ngcontent-%COMP%]{margin-left:0}.font-control[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   pbi-button-toggle[_ngcontent-%COMP%]:last-child{margin-right:0}'],changeDetection:0}),r}(Oe.w),Vt=d(43286),ye=d(22318),An=d(56011);function $n(i,r){if(1&i&&e.\u0275\u0275element(0,"pbi-checkbox",2),2&i){var t=r.$implicit,n=r.index,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("formControl",t)("label",o.options[n].displayName)("ariaLabel",o.ariaLabels[n])("isCompact",!0)}}var Ln=function(r,t){return{"modern-styles":r,"old-styles":t}},At=function(i){function r(){var t=null!==i&&i.apply(this,arguments)||this;return t.modelValueChange=new e.EventEmitter,t}return(0,p.ZT)(r,i),r.prototype.ngOnInit=function(){var n,t=this;this.useModernStyles=null===(n=this.useModernStyles)||void 0===n||n,this.ariaLabels=_.map(this.options,function(o){return"".concat(t.sliceLabel," ").concat(o.displayName)}),this.optionsForm=new y.vC(_.map(this.options,function(o){return new y.p4(!1)})),this.modelValue$=this.mergePropertyInputsAndFormControl(this.changes$("modelValue"),this.value$,"modelValue",this.onDestroy$),this.isDisabled$=this.mergePropertyInputsAndFormControl(this.changes$("isDisabled"),this.disabled$,"isDisabled",this.onDestroy$).pipe((0,ye.O)(!1)),this.isDisabled$.pipe((0,ae.R)(this.onDestroy$)).subscribe(function(o){o?t.optionsForm.disable({emitEvent:!1}):t.optionsForm.enable({emitEvent:!1})}),this.optionsForm.valueChanges.pipe((0,L.M)(this.isDisabled$,this.modelValue$),(0,ae.R)(this.onDestroy$)).subscribe(function(o){var c=o[1],l=o[2],s=$t(o[0],t.options);l===s||c||(t.modelValueChange.emit(s),t.onValueChange(s),t.onTouched())}),this.modelValue$.pipe((0,ce.x)()).subscribe(function(o){$t(t.optionsForm.value,t.options)!==o&&t.optionsForm.setValue(_.map(t.options,function(a){return function(i,r){var t=+i;return!!_.isNumber(t)&&(0,Vt.yE)(t,r)}(o,+a.value)}),{emitEvent:!1})})},r.\u0275fac=function(){var t;return function(o){return(t||(t=e.\u0275\u0275getInheritedFactory(r)))(o||r)}}(),r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["format-pane-flags-control"]],inputs:{modelValue:"modelValue",options:"options",isDisabled:"isDisabled",sliceLabel:"sliceLabel",useModernStyles:"useModernStyles"},outputs:{modelValueChange:"modelValueChange"},features:[e.\u0275\u0275ProvidersFeature([{provide:y.JU,useExisting:(0,e.forwardRef)(function(){return r}),multi:!0}]),e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:5,consts:[[1,"formatPaneFlagsControl",3,"ngClass"],[3,"formControl","label","ariaLabel","isCompact",4,"ngFor","ngForOf"],[3,"formControl","label","ariaLabel","isCompact"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"form",0),e.\u0275\u0275template(1,$n,1,4,"pbi-checkbox",1),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(2,Ln,!!o.useModernStyles,!o.useModernStyles)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",o.optionsForm.controls))},dependencies:[x.NgClass,x.NgForOf,y._Y,y.JJ,y.JL,y.F,An.v,y.oH],styles:[".formatPaneFlagsControl[_ngcontent-%COMP%]{margin-top:4px}.formatPaneFlagsControl[_ngcontent-%COMP%]   pbi-checkbox[_ngcontent-%COMP%]{margin-bottom:8px}"],changeDetection:0}),r}(A.N);function $t(i,r){for(var t=0,n=0;n<i.length;n++)i[n]&&(t=(0,Vt.mB)(t,+r[n].value));return t.toString()}var Ue=d(57470);function Lt(i,r,t,n){var o,a,c=!1;if(13===i.keyCode)r(i),c=!0;else if(40===i.keyCode){var l=document.activeElement,s=Ue.M.getFirstMatchingAncestor(l,t);null===(o=Ue.M.getNextTabbableMatchingSibling(l,n,s))||void 0===o||o.focus(),c=!0}else 38===i.keyCode&&(l=document.activeElement,s=Ue.M.getFirstMatchingAncestor(l,t),null===(a=Ue.M.getPrevTabbableMatchingSibling(l,n,s))||void 0===a||a.focus(),c=!0);c&&(i.preventDefault(),i.stopPropagation())}function Nt(i,r){var t=document.activeElement,n=Ue.M.getFirstMatchingAncestor(t,r),o=Ue.M.getFirstTabbableChild(n);o?.focus(),i.preventDefault(),i.stopPropagation()}function ot(i,r){return!!(i&(r?2:1))}function Ut(i,r){return i^(r?2:1)}var it=d(46438),ke=d(81905),Fe=d(83342),gt=d(95281),Ee=d(85732),Ke=d(17653),rt=d(48787),Un=d(9215),se=d(61617),Rn=d(87644),Rt=d(3579),zt=d(1090),jt=d(10342),zn=d(32805),He=d(21728),Gt=d(32379),Qe=d(56578),jn=d(24408),Wt=["FontControl","MarginPadding","AlignmentGroup","ColorPicker","Dropdown","FontPicker","NumUpDown","Slider","TextArea","TextInput","ToggleSwitch"],Gn=["visualLevelFieldsFormat"];function Wn(i){return function(i){return 1===i.length&&_.every(i[0].cards,function(r){return"Page"===r.originSource})}(i)||i.length<=1?i[0]:function(i){var r={cards:{},groups:{},slices:{},revertToDefaultDescriptors:Qn(_.flatten(i.map(function(u){return u.revertToDefaultDescriptors}))),canvasItem:null,warnings:void 0},t=new Set(_.intersection.apply(_,i.map(function(u){return _.map(Object.keys(u.cards),function(g){return u.cards[g].uid})}))),n=new Set(_.intersection.apply(_,i.map(function(u){return _.compact(_.map(Object.keys(u.groups),function(g){var v=u.groups[g];return t.has(v.cardUid)?v.uid:void 0}))}))),o=new Set(Wt),a=new Set(_.intersection.apply(_,i.map(function(u){return _.compact(_.map(Object.keys(u.slices),function(g){var v=u.slices[g];return n.has(v.groupUid)&&o.has(v.control.type)?g:void 0}))}))),c=_.map(Array.from(t),function(u){return function(i,r){var t,n=_.intersection.apply(_,i.map(function(l){return l.groupUids})),o=_.intersection(Array.from(r),n),a=i[0],c={displayName:a.displayName,groupUids:o,index:a.index,originSource:a.originSource,pivotSource:a.pivotSource,uid:a.uid,aliasNames:a.aliasNames,analyticsPane:a.analyticsPane,description:a.description,disabled:_.some(i,function(l){return l.disabled}),disabledReason:null===(t=_.find(i,function(l){return l.disabled}))||void 0===t?void 0:t.disabledReason,revertToDefaultDescriptors:a.revertToDefaultDescriptors,suppressDisplayName:a.suppressDisplayName,topLevelToggle:Kt(i.map(function(l){return l.topLevelToggle})),warningMessage:void 0,warningMessage$:void 0};return i.forEach(function(l){f.fF.assert(function(){return l.displayName===c.displayName},"All the formatting card contracts should have the same displayName"),f.fF.assert(function(){return l.originSource===c.originSource},"All the formatting card contracts should have the same originSource"),f.fF.assert(function(){return l.pivotSource===c.pivotSource},"All the formatting card contracts should have the same pivotSource"),f.fF.assert(function(){return l.uid===c.uid},"All the formatting card contracts should have the same uid"),f.fF.assert(function(){return _.isEqual(l.aliasNames,c.aliasNames)},"All the formatting card contracts should have the same aliasNames"),f.fF.assert(function(){return _.isEqual(l.analyticsPane,c.analyticsPane)},"All the formatting card contracts should have the same analyticsPane"),f.fF.assert(function(){return l.description===c.description},"All the formatting card contracts should have the same description"),f.fF.assert(function(){return _.isEqual(l.revertToDefaultDescriptors,c.revertToDefaultDescriptors)},"All the formatting card contracts should have the same revertToDefaultDescriptors"),f.fF.assert(function(){return l.suppressDisplayName===c.suppressDisplayName},"All the formatting card contracts should have the same suppressDisplayName")}),c}(i.map(function(g){return g.cards[u]}),n)});c.forEach(function(u){return r.cards[u.uid]=u});var l=_.map(Array.from(n),function(u){return function(i,r){var t,n=_.intersection.apply(_,i.map(function(l){return _.map(l.sliceIds,function(s){return(0,se.$Q)(s.uid,s.selector)})})),o=new Set(_.intersection(Array.from(r),n)),a=i[0],c={displayName:a.displayName,originSource:a.originSource,pivotSource:a.pivotSource,uid:a.uid,aliasNames:a.aliasNames,description:a.description,disabled:_.some(i,function(l){return l.disabled}),disabledReason:null===(t=_.find(i,function(l){return l.disabled}))||void 0===t?void 0:t.disabledReason,suppressDisplayName:a.suppressDisplayName,cardUid:a.cardUid,sliceIds:_.filter(a.sliceIds,function(l){return o.has((0,se.$Q)(l.uid,l.selector))}),collapsible:a.collapsible,delaySaveSlices:a.delaySaveSlices,disableInteractivity:a.disableInteractivity,hidden:a.hidden,inheritDisabled:a.inheritDisabled,topLevelToggle:Kt(i.map(function(l){return l.topLevelToggle})),warningMessage:void 0,parentContainers:a.parentContainers};return i.forEach(function(l){f.fF.assert(function(){return l.displayName===c.displayName},"All the formatting group contracts should have the same displayName"),f.fF.assert(function(){return l.originSource===c.originSource},"All the formatting group contracts should have the same originSource"),f.fF.assert(function(){return l.pivotSource===c.pivotSource},"All the formatting group contracts should have the same pivotSource"),f.fF.assert(function(){return l.uid===c.uid},"All the formatting group contracts should have the same uid"),f.fF.assert(function(){return _.isEqual(l.aliasNames,c.aliasNames)},"All the formatting group contracts should have the same aliasNames"),f.fF.assert(function(){return l.description===c.description},"All the formatting group contracts should have the same description"),f.fF.assert(function(){return l.suppressDisplayName===c.suppressDisplayName},"All the formatting group contracts should have the same suppressDisplayName"),f.fF.assert(function(){return l.cardUid===c.cardUid},"All the formatting group contracts should have the same cardUid"),f.fF.assert(function(){return l.collapsible===c.collapsible},"All the formatting group contracts should have the same collapsible"),f.fF.assert(function(){return l.delaySaveSlices===c.delaySaveSlices},"All the formatting group contracts should have the same delaySaveSlices"),f.fF.assert(function(){return l.disableInteractivity===c.disableInteractivity},"All the formatting group contracts should have the same disableInteractivity"),f.fF.assert(function(){return l.hidden===c.hidden},"All the formatting group contracts should have the same hidden"),f.fF.assert(function(){return l.inheritDisabled===c.inheritDisabled},"All the formatting group contracts should have the same inheritDisabled"),f.fF.assert(function(){return _.isEqual(l.parentContainers,c.parentContainers)},"All the formatting group contracts should have the same parentContainers")}),c}(i.map(function(g){return g.groups[u]}),a)});l.forEach(function(u){return r.groups[u.uid]=u});var s=_.map(Array.from(a),function(u){return function(i){var r=(0,Qe.IW)(i[0])?function(i){f.fF.assert(function(){return _.every(i,function(o){return(0,Qe.IW)(o)})},"All slices should be composite slices");var r=i.map(function(o){return o.control}),t=function(i){switch(i[0].type){case"MarginPadding":return function(i){if(ve(i,"MarginPadding")){var r=i[0],t=i.map(function(o){return o.properties});f.fF.assert(function(){return _.every(i,function(o){for(var a in o.properties)if(!fe(o.properties[a].descriptor,r.properties[a].descriptor))return!1;return!0})},"All the marginPadding slices should have the same descriptor");var n={type:"MarginPadding",properties:{bottom:Re(t.map(function(o){return o.bottom})),left:Re(t.map(function(o){return o.left})),right:Re(t.map(function(o){return o.right})),top:Re(t.map(function(o){return o.top}))}};return n}f.fF.assertFail("All the slices should be of the MarginPadding type")}(i);case"FontControl":return function(i){if(ve(i,"FontControl")){var t=i[0].properties;f.fF.assert(function(){return _.every(i,function(g){for(var v in g.properties)if(!fe(g.properties[v].descriptor,t[v].descriptor))return!1;return!0})},"All the fontControl slices should have the same descriptor");var n=i.map(function(g){return g.properties}),o=n.map(function(g){return g.fontFamily}),a=n.map(function(g){return g.fontSize}),c=n.map(function(g){return g.bold}),l=n.map(function(g){return g.italic}),s=n.map(function(g){return g.underline});return{type:"FontControl",properties:{fontFamily:{descriptor:t.fontFamily.descriptor,value:ie(o.map(function(g){return g.value}),null)},fontSize:Re(a),bold:{descriptor:t.bold.descriptor,value:ie(c.map(function(g){return g.value}),null)},italic:{descriptor:t.italic.descriptor,value:ie(l.map(function(g){return g.value}),null)},underline:{descriptor:t.underline.descriptor,value:ie(s.map(function(g){return g.value}),null)}}}}f.fF.assertFail("All the slices should be of the FontControl type")}(i);default:f.fF.assertFail("We have not implemented the code to resolve ".concat(i[0].type," type of slice -- please add it to the resolveSimpleSliceContract function"))}}(r);return(0,p.pi)((0,p.pi)({},Ht(i)),{control:t})}(i):function(i){f.fF.assert(function(){return _.every(i,function(o){return!(0,Qe.IW)(o)})},"All slices should be simple slices");var r=i.map(function(o){return o.control}),t=function(i){switch(i[0].type){case"Slider":return function(i){if(ve(i,"Slider")){var r=i[0],t=i.map(function(o){return o.properties});f.fF.assert(function(){return _.every(t,function(o){return fe(o.descriptor,r.properties.descriptor)})},"All the slider slices should have the same descriptor");var n={type:"Slider",properties:{descriptor:r.properties.descriptor,placeholderText:ie(t.map(function(o){return o.placeholderText}),void 0),value:ie(t.map(function(o){return o.value}),null),options:Jt(t.map(function(o){return o.options}))}};return n}f.fF.assertFail("All the slices should be of the Slider type")}(i);case"NumUpDown":return function(i){if(ve(i,"NumUpDown")){var r=i[0],t=i.map(function(o){return o.properties});return f.fF.assert(function(){return _.every(t,function(o){return fe(o.descriptor,r.properties.descriptor)})},"All the NumUpDown slices should have the same descriptor"),{type:"NumUpDown",properties:Re(t)}}f.fF.assertFail("All the slices should be of the numUpDown type")}(i);case"TextArea":return function(i){if(ve(i,"TextArea")){var r=i[0],t=i.map(function(o){return o.properties});f.fF.assert(function(){return _.every(t,function(o){return fe(o.descriptor,r.properties.descriptor)})},"All the TextArea slices should have the same descriptor");var n={type:"TextArea",properties:{descriptor:r.properties.descriptor,placeholder:ie(t.map(function(o){return o.placeholder}),void 0),value:ie(t.map(function(o){return o.value}),null),validators:ie(t.map(function(o){return o.validators}),void 0)}};return n}f.fF.assertFail("All the slices should be of the TextArea type")}(i);case"TextInput":return function(i){if(ve(i,"TextInput")){var r=i[0],t=i.map(function(o){return o.properties});f.fF.assert(function(){return _.every(t,function(o){return fe(o.descriptor,r.properties.descriptor)})},"All the TextInput slices should have the same descriptor");var n={type:"TextInput",properties:{descriptor:r.properties.descriptor,placeholder:ie(t.map(function(o){return o.placeholder}),void 0),value:ie(t.map(function(o){return o.value}),null),validators:ie(t.map(function(o){return o.validators}),void 0)}};return n}f.fF.assertFail("All the slices should be of the TextInput type")}(i);case"ToggleSwitch":return function(i){if(ve(i,"ToggleSwitch")){var r=i.map(function(n){return n.properties});return{type:"ToggleSwitch",properties:Qt(r)}}f.fF.assertFail("All the slices should be of the ToggleSwitch type")}(i);case"ColorPicker":return function(i){if(ve(i,"ColorPicker")){var r=i[0],t=i.map(function(o){return o.properties});f.fF.assert(function(){return _.every(t,function(o){return fe(o.descriptor,r.properties.descriptor)})},"All the ColorPicker slices should have the same descriptor");var n={type:"ColorPicker",properties:{descriptor:r.properties.descriptor,value:ie(t.map(function(o){return o.value}),null),defaultColor:ie(t.map(function(o){return o.defaultColor}),void 0),isNoFillItemSupported:ie(t.map(function(o){return o.isNoFillItemSupported}),void 0)}};return n}f.fF.assertFail("All the slices should be of the ColorPicker type")}(i);case"AlignmentGroup":return function(i){if(ve(i,"AlignmentGroup")){var r=i[0],t=i.map(function(o){return o.properties});f.fF.assert(function(){return _.every(t,function(o){return fe(o.descriptor,r.properties.descriptor)})},"All the alignment slices should have the same descriptor"),f.fF.assert(function(){return _.every(t,function(o){return o.mode===r.properties.mode})},"All the alignment slices should have the same mode");var n={type:"AlignmentGroup",properties:{descriptor:r.properties.descriptor,value:ie(t.map(function(o){return o.value}),null),mode:r.properties.mode,supportsNoSelection:ie(t.map(function(o){return o.supportsNoSelection}),void 0)}};return n}f.fF.assertFail("All the slices should be of the AlignmentGroup type")}(i);case"Dropdown":return function(i){if(ve(i,"Dropdown")){var r=i[0],t=i.map(function(l){return l.properties});if(!function(i){return i.every(function(r){return function(i){return jn.WN(i)}(r)})}(t))return void f.fF.assertFail("All the slices should be of the ItemDropdown type");f.fF.assert(function(){return _.every(t,function(l){return fe(l.descriptor,r.properties.descriptor)})},"All the dropdown slices should have the same descriptor");var n=_.map(t,function(l){return l.items}),o=n.map(function(l){return new Set(_.map(l,function(s){return s.value}))}),a=t[0].items.filter(function(l){return o.every(function(s){return s.has(l.value)})}),c={type:"Dropdown",properties:{descriptor:r.properties.descriptor,items:a,value:ie(t.map(function(l){return l.value}),null)}};return c}f.fF.assertFail("All the slices should be of the Dropdown type")}(i);case"FontPicker":return function(i){if(ve(i,"FontPicker")){var r=i[0],t=i.map(function(o){return o.properties});f.fF.assert(function(){return _.every(t,function(o){return fe(o.descriptor,r.properties.descriptor)})},"All the FontPicker slices should have the same descriptor");var n={type:"FontPicker",properties:{descriptor:r.properties.descriptor,value:ie(t.map(function(o){return o.value}),null)}};return n}f.fF.assertFail("All the slices should be of the FontPicker type")}(i);default:f.fF.assertFail("We have not implemented the code to resolve ".concat(i[0].type," type of slice -- please add it to the resolveSimpleSliceContract function"))}}(r);return(0,p.pi)((0,p.pi)({},Ht(i)),{control:t})}(i);return r}(i.map(function(g){return g.slices[u]}))});return s.forEach(function(u){return r.slices[(0,se.$Q)(u.uid,(0,se.O7)(u))]=u}),r}(i=_.map(i,function(r){return(0,p.pi)((0,p.pi)({},r),{cards:Object.keys(r.cards).reduce(function(t,n){var o=r.cards[n];return"Format_Label_General"===o.originSource&&!function(i){return null!=_.find(Gn,function(r){return i.uid.endsWith(r)})}(o)&&(t[n]=o),t},{}),groups:Object.keys(r.groups).reduce(function(t,n){var o=r.groups[n];return"Format_Label_General"===o.originSource&&(t[n]=o),t},{}),slices:Object.keys(r.slices).reduce(function(t,n){var o=r.slices[n];return"Format_Label_General"===o.originSource&&(t[n]=o),t},{})})}))}function Qn(i){var r=new Map;return _.forEach(i,function(t){var n="".concat(t.objectName,"_").concat(t.propertyName),o=t.selector?(0,se.$Q)(n,t.selector):n;r.has(o)||r.set(o,t)}),Array.from(r.values())}function Kt(i){var r;if(!_.isEmpty(i)&&_.every(i,function(a){return null!=a})){var n=i[0],o={isTopLevelToggle:!0,control:{type:"ToggleSwitch",properties:Qt(i.map(function(a){return a.control.properties}))},originSource:n.originSource,showChangeIndicator:n.showChangeIndicator,suppressDisplayName:n.suppressDisplayName,uid:n.uid,disabled:_.some(i,function(a){return a.disabled}),disabledReason:null===(r=_.find(i,function(a){return a.disabled}))||void 0===r?void 0:r.disabledReason,hidden:n.hidden,noDefaultImpact:void 0};return f.fF.assert(function(){return _.every(i,function(a){return a.originSource===o.originSource})},"All the top level toggle contracts should have the same originSource"),f.fF.assert(function(){return _.every(i,function(a){return a.showChangeIndicator===o.showChangeIndicator})},"All the top level toggle contracts should have the same showChangeIndicator"),f.fF.assert(function(){return _.every(i,function(a){return a.suppressDisplayName===o.suppressDisplayName})},"All the top level toggle contracts should have the same suppressDisplayName"),f.fF.assert(function(){return _.every(i,function(a){return a.uid===o.uid})},"All the top level toggle contracts should have the same uid"),f.fF.assert(function(){return _.every(i,function(a){return a.hidden===o.hidden})},"All the top level toggle contracts should have the same hidden"),o}}function Ht(i){var r,t=i[0],n={displayName:t.displayName,originSource:t.originSource,pivotSource:t.pivotSource,uid:t.uid,aliasNames:t.aliasNames,description:t.description,disabled:_.some(i,function(o){return o.disabled}),disabledReason:null===(r=_.find(i,function(o){return o.disabled}))||void 0===r?void 0:r.disabledReason,suppressDisplayName:t.suppressDisplayName,hidden:t.hidden,control:void 0,showChangeIndicator:t.showChangeIndicator,groupUid:t.groupUid,infoIconText:t.infoIconText,placeHolderText:t.placeHolderText,saveCallback:void 0,conditionalFormattingWarning:void 0,warningMessage:void 0,conditionalFormattingObjects:void 0};return i.forEach(function(o){f.fF.assert(function(){return o.displayName===n.displayName},"All the formatting slice contracts should have the same displayName"),f.fF.assert(function(){return o.originSource===n.originSource},"All the formatting slice contracts should have the same originSource"),f.fF.assert(function(){return o.pivotSource===n.pivotSource},"All the formatting slice contracts should have the same pivotSource"),f.fF.assert(function(){return o.uid===n.uid},"All the formatting slice contracts should have the same uid"),f.fF.assert(function(){return _.isEqual(o.aliasNames,n.aliasNames)},"All the formatting slice contracts should have the same aliasNames"),f.fF.assert(function(){return o.suppressDisplayName===n.suppressDisplayName},"All the formatting slice contracts should have the same suppressDisplayName"),f.fF.assert(function(){return o.hidden===n.hidden},"All the formatting slice contracts should have the same hidden"),f.fF.assert(function(){return o.showChangeIndicator===n.showChangeIndicator},"All the formatting slice contracts should have the same showChangeIndicator"),f.fF.assert(function(){return o.groupUid===n.groupUid},"All the formatting slice contracts should have the same groupUid"),f.fF.assert(function(){return o.infoIconText===n.infoIconText},"All the formatting slice contracts should have the same infoIconText"),f.fF.assert(function(){return o.placeHolderText===n.placeHolderText},"All the formatting slice contracts should have the same placeHolderText")}),n}function Re(i){var r=i[0];return f.fF.assert(function(){return _.every(i,function(n){return fe(n.descriptor,r.descriptor)})},"All the NumUpDown properties should have the same descriptor"),{descriptor:r.descriptor,placeholderText:ie(i.map(function(n){return n.placeholderText}),void 0),value:ie(i.map(function(n){return n.value}),null),options:Jt(i.map(function(n){return n.options}))}}function Qt(i){return f.fF.assert(function(){return _.every(i,function(t){return fe(t.descriptor,i[0].descriptor)})},"All the ToggleSwitch properties should have the same descriptor"),{descriptor:i[0].descriptor,value:ie(i.map(function(t){return t.value}),null)}}function ie(i,r){var t=i[0];return i.every(function(o){return _.isEqual(o,t)})?t:r}function ve(i,r){return i.every(function(t){return t.type===r})}function Jt(i){if(i.every(function(a){return!!a})){var t=_.max(_.compact(_.map(i,function(a){var c;return null===(c=a?.minValue)||void 0===c?void 0:c.value}))),n=_.min(_.compact(_.map(i,function(a){var c;return null===(c=a?.maxValue)||void 0===c?void 0:c.value}))),o=(null==t||null==n)&&t<=n;return{minValue:o?{value:t,type:0}:void 0,maxValue:o?{value:n,type:1}:void 0,required:ie(i.map(function(a){return a?.required}),void 0),unitSymbolAfterInput:ie(i.map(function(a){return a?.unitSymbolAfterInput}),void 0),unitSymbol:ie(i.map(function(a){return a?.unitSymbol}),void 0)}}}function fe(i,r){var t=i,n=r,o=(0,Gt.fS)(t.selector,n.selector),a=(0,Gt.fS)(t.altConstantValueSelector,n.altConstantValueSelector);if(!o||!a)return!1;for(var c in t)if("selector"!==c&&"altConstantValueSelector"!==c&&!_.isEqual(t[c],n[c]))return!1;return!0}var De=d(78432),Xt=d(28894),Yt=d(72262),vo=d(10861),qt=(0,Ee.P1)(function(r){return r},function(i){return function(i){var r=i.searchString;if(""!==r){var t=i.pivots,n=[],o=0,a={},c={},l={};Object.keys(t).forEach(function(u){var g=t[u],v={cardIds:new Set,groupIds:new Set,sliceIds:new Set},h=function(i,r,t,n){for(var o=0,a=0,c=i;a<c.length;a++){var l=c[a],s=t.cards[l],u=!1;mt(r,s.displayName,s.aliasNames)&&(u=!0,o++);var v=Oo(s.groupUids,r,u,t,n).itemsMatched;o+=v,(u||v>0)&&n.cardIds.add(l)}return{itemsMatched:o}}(Object.keys(g.cards),r,g,v).itemsMatched;o+=h;var C=function(i,r){var t=_.reduce(r.cards,function(a,c,l){return i.cardIds.has(l)&&(a[l]=(0,p.pi)((0,p.pi)({},c),{groupUids:_.filter(c.groupUids,function(s){return i.groupIds.has(s)})})),a},{}),n=_.reduce(r.groups,function(a,c,l){return i.groupIds.has(l)&&(a[l]=(0,p.pi)((0,p.pi)({},c),{sliceIds:_.filter(c.sliceIds,function(s){return i.sliceIds.has((0,se.$Q)(s.uid,s.selector))})})),a},{}),o=_.reduce(r.slices,function(a,c,l){return i.sliceIds.has(l)&&(a[l]=(0,p.pi)({},c)),a},{});return{cards:t,groups:n,slices:o}}(v,g),V=C.cards,B=C.groups,H=C.slices;a=(0,p.pi)((0,p.pi)({},a),V),c=(0,p.pi)((0,p.pi)({},c),B),l=(0,p.pi)((0,p.pi)({},l),H),n=n.concat(t[u].revertToDefaultDescriptors)});var s={};return s[i.selectedPivot.key]={cards:a,groups:c,slices:l,pivotDisplayName:void 0,revertToDefaultDescriptors:n},(0,p.pi)((0,p.pi)({},i),{itemsMatched:o,pivots:s,showPivot:Je(i),pivotModelUnavailableMessageKey:_.isEmpty(a)?"Analytics"===i.selectedPivot.key?"AnalyticsPane_NoSearchResult":"PropertyPane_NoSearchResult":void 0})}return(0,p.pi)((0,p.pi)({},i),{showPivot:Je(i)})}(i)}),at=(0,Ee.P1)(qt,function(i){return i.pivots[i.selectedPivot.key]}),lt=function(i){function r(t,n,o,a,c){var l=i.call(this)||this;return l.reportViewSettingsService=t,l.featureSwitchService=n,l.lazyScoped=o,l.selectionService=a,l.visualAuthoringService=c,l.clearToggleInformation=l.updater(function(s){return(0,p.pi)((0,p.pi)({},s),{toggleInformation:{}})}),l.updateDisabledSlicesAndCards=l.updater(function(s,u){var g=u.disabledSlices,v=u.disabledCards;return(0,p.pi)((0,p.pi)({},s),{disabledSlices:g,disabledCards:v})}),l.updateDisabledInformation=l.effect(function(s){return(0,S.aj)([s,l.ensureServicesAreInitialized()]).pipe((0,Ke.b)(function(u){l.updateDisabledSlicesAndCards(u[0]),l.updateFormattingPaneViewModel(l.formattingContract$.pipe((0,rt.q)(1)))}))}),l.updateScrollCardToTop=l.updater(function(s,u){return(0,p.pi)((0,p.pi)({},s),{scrollCardToTop:u})}),l.updateSlicesState=l.updater(function(s,u){for(var g,v=s.selectedPivot.key,h=(0,p.pi)({},s.pivots),C=h[v],V=(0,p.pi)({},C.slices),B=0,H=null!==(g=u.changes)&&void 0!==g?g:[];B<H.length;B++){var N=H[B],_e=(0,se.$Q)(N.uid,N.propertySlice.selector),Se=(0,p.pi)({},V[_e]);wo(Se,N),V[_e]=Se}return h[v]=(0,p.pi)((0,p.pi)({},C),{slices:V}),(0,p.pi)((0,p.pi)({},s),{pivots:h})}),l.updateRevertToDefaultEnabledState=l.updater(function(s,u){for(var g,v=s.selectedPivot.key,h=(0,p.pi)({},s.pivots),C=h[v],V=new Set,B=0,H=null!==(g=u.changes)&&void 0!==g?g:[];B<H.length;B++){var N=H[B],_e=(0,se.$Q)(N.uid,N.propertySlice.selector);V.add(C.groups[C.slices[_e].groupUid].cardUid)}var we=(0,p.pi)({},C.cards);return V.forEach(function(qe){var et,It=(0,p.pi)((0,p.pi)({},we[qe]),{revertToDefaultEnabled:l.formattingService&&l.formattingService.getRevertToDefaultEnabled(null===(et=s.canvasItem)||void 0===et?void 0:et.value,we[qe].revertToDefaultDescriptors,u)});we[qe]=It}),h[v]=(0,p.pi)((0,p.pi)({},C),{cards:we}),(0,p.pi)((0,p.pi)({},s),{pivots:h})}),l.updateAllExpansionState=l.updater(function(s,u){var g=u.expanded,v=u.cardIds,h=u.groupIds,C=u.source,V=u.cardId,B=s.selectedPivot.key,H=""!==s.searchString,N=(0,p.pi)({},s.pivots),R=N[B];return N[B]=(0,p.pi)((0,p.pi)({},R),1===C?{cards:_.mapValues(R.cards,function(q){return!v.has(q.uid)||q.disabled?q:(0,p.pi)((0,p.pi)({},q),{toggleState:l.getToggleState(g,H,q.toggleState)})}),groups:_.mapValues(R.groups,function(q){return!h.has(q.uid)||q.disabled?q:(0,p.pi)((0,p.pi)({},q),{toggleState:l.getToggleState(g,H,q.toggleState)})})}:{groups:_.mapValues(R.groups,function(q){return!h.has(q.uid)||q.disabled||q.cardUid!==V?q:(0,p.pi)((0,p.pi)({},q),{toggleState:l.getToggleState(g,H,q.toggleState)})})}),s=(0,p.pi)((0,p.pi)({},s),{pivots:N}),(0,p.pi)((0,p.pi)({},s),{toggleInformation:ct(s)})}),l.updateToggleState=l.updater(function(s,u){var g=u.cardId,v=u.toggleState,h=u.formattingSource,C=u.groupId,V=(0,p.pi)({},s.pivots),B=V[h],H=(0,p.pi)({},s.toggleInformation);if(1===u.source){var N=(0,p.pi)({},B.cards);N[g]=(0,p.pi)((0,p.pi)({},N[g]),{toggleState:v}),B=(0,p.pi)((0,p.pi)({},B),{cards:N}),H[g]=v}else{var R=(0,p.pi)({},B.groups);R[C]=(0,p.pi)((0,p.pi)({},R[C]),{toggleState:v}),B=(0,p.pi)((0,p.pi)({},B),{groups:R}),H[(0,se.Ko)(C)]=v}return V[h]=B,(0,p.pi)((0,p.pi)({},s),{pivots:V,toggleInformation:H})}),l.updateCardExpansionState=l.updater(function(s,u){return l.setExpansionState(s,u)}),l.updateSelectedPivot=l.updater(function(s,u){var g=(0,p.pi)((0,p.pi)({},s),{selectedPivot:{isUserSet:!0,key:u}}),v=Je(g);return g.showPivot=v,g}),l.updateSearchString=l.updater(function(s,u){var g=""===u?l.resetFilteredToggleState(s):s,v=(0,p.pi)((0,p.pi)({},g),{searchString:u}),h=Je(v);return v.showPivot=h,v}),l.onAvailablePivotsChanged=l.effect(function(s){return(0,S.aj)([s,l.ensureServicesAreInitialized()]).pipe((0,Ke.b)(function(u){l.updateAvailablePivots(u[0]),l.updateFormattingPaneViewModel(l.formattingContract$.pipe((0,rt.q)(1)))}))}),l.updateAvailablePivots=l.updater(function(s,u){return(0,p.pi)((0,p.pi)({},s),{availablePivots:u})}),l.updateFormattingPaneViewModel=l.updater(function(s,u){var g,v,h,C=s.availablePivots.reduce(function(_e,Se){var Ve=l.getPivotViewModel(Se,u,s.toggleInformation,s.disabledCards,s.disabledSlices);return Ve&&(_e[Se]=Ve),_e},{}),V=s.selectedPivot,B=C[V.key]&&V.isUserSet?V:{key:_.find(s.availablePivots,function(_e){return!!C[_e]}),isUserSet:!1};if(_.isEmpty(C)){var H;return H=He.UP.getSelectedCanvasItems(l.selectionService).length>1&&!l.featureSwitchService.featureSwitches.onObject?{messageKey:"Format_Pane_MultipleVisual_Unavailable_Information"}:l.formattingService.getModelUnavailableInformation(s.availablePivots[0],null===(v=s.canvasItem)||void 0===v?void 0:v.value),(0,p.pi)((0,p.pi)({},s),{selectedPivot:B,canvasItem:u.canvasItem,pivots:C,pivotModelUnavailableImageName:H.imageName,pivotModelUnavailableLearnMoreLink:H.learnMoreLink,pivotModelUnavailableMessageKey:H.messageKey})}var R=(g=l.formattingService.getRevertToDefaultMetadata(null===(h=u.canvasItem)||void 0===h?void 0:h.value,B.key)).itemTypeDisplayName,q=g.formattingSettingsString;return s=(0,p.pi)((0,p.pi)({},s),{selectedPivot:B,showPivot:Je(s),canvasItem:u.canvasItem,itemTypeDisplayName:R,formattingSettingsString:q,revertToDefaultDescriptors:l.getRevertToDefaultDescriptors(s.availablePivots,u),pivots:C,pivotModelUnavailableImageName:void 0,pivotModelUnavailableLearnMoreLink:void 0,pivotModelUnavailableMessageKey:void 0}),(0,p.pi)((0,p.pi)({},s),{toggleInformation:ct(s)})}),l.setState({availablePivots:["Page"],searchString:"",showPivot:!0,itemsMatched:void 0,selectedPivot:{isUserSet:!1,key:void 0},itemTypeDisplayName:void 0,formattingSettingsString:void 0,toggleInformation:{},pivots:{},canvasItem:void 0,revertToDefaultDescriptors:[]}),l.ensureServicesAreInitialized(),l.visualAuthoringService.canvasItemDeleted$.pipe((0,ae.R)(l.destroy$)).subscribe(function(){return l.clearToggleInformation()}),l}return(0,p.ZT)(r,i),r.prototype.selectTopLevelToggle=function(t,n){return this.select(function(r,t){return(0,Ee.P1)(at,function(n){if(n){var o=n.cards;if(o)for(var a in o)if((l=o[a].topLevelToggle)&&De.hy(l.uid,r,(0,se.O7)(l),t))return l;var s=n.groups;if(s)for(var a in s){var l;if((l=s[a].topLevelToggle)&&De.hy(l.uid,r,(0,se.O7)(l),t))return l}}})}(t,n)).pipe((0,ce.x)(_.isEqual))},r.prototype.selectGroup=function(t){return this.select(function(r){return(0,Ee.P1)(at,function(t){if(t){var n=t.groups;return n&&n[r]}})}(t)).pipe((0,ce.x)(_.isEqual))},r.prototype.selectSlice=function(t,n){return this.select(function(r,t){return(0,Ee.P1)(at,function(n){if(n){var o=n.slices,a=(0,se.$Q)(r,t);return o&&o[a]}})}(t,n)).pipe((0,ce.x)(_.isEqual))},r.prototype.selectCard=function(t){return this.select(function(r){return(0,Ee.P1)(at,function(t){if(t){var n=t.cards;return n&&n[r]}})}(t)).pipe((0,ce.x)(_.isEqual))},r.prototype.getViewModel$=function(){return this.select(qt).pipe((0,k.d)(1))},r.prototype.revertToDefault=function(t,n){return(0,p.mG)(this,void 0,void 0,function(){return(0,p.Jh)(this,function(o){switch(o.label){case 0:return[4,this.ensureServicesAreInitialized()];case 1:return o.sent(),[2,this.formattingService.revertToDefault(t,n)]}})})},r.prototype.saveValues=function(t,n){return(0,p.mG)(this,void 0,void 0,function(){return(0,p.Jh)(this,function(o){switch(o.label){case 0:return[4,this.ensureServicesAreInitialized()];case 1:return o.sent(),[2,this.formattingService.saveValues(t,n)]}})})},r.prototype.setAllExpansionState=function(t){var n=this;this.getViewModel$().pipe((0,b.U)(function(o){var a,c=null!==(a=t.pivotKey)&&void 0!==a?a:o.selectedPivot.key,l=o.pivots[c],s=new Set(Object.keys(l.cards)),u=new Set(Object.keys(l.groups));return(0,p.pi)({cardIds:s,groupIds:u},t)}),(0,rt.q)(1)).subscribe(function(o){return n.updateAllExpansionState(o)})},r.prototype.getToggleState=function(t,n,o){var a=n?2:1;return t?o|a:o&~a},r.prototype.setExpansionState=function(t,n){var c,a=(0,p.pi)({},t.pivots);if(Object.keys(a).forEach(function(g){var v=a[g];a[g]=(0,p.pi)((0,p.pi)({},v),{cards:_.mapValues(v.cards,function(h){var C=n.isCardExpanded(h.uid);return null!=C&&(h=(0,p.pi)((0,p.pi)({},h),{toggleState:null==C?h.toggleState:C?1:0})),h}),groups:_.mapValues(v.groups,function(h){var C=n.isGroupExpanded(h.cardUid,h.uid);return null!=C&&(h=(0,p.pi)((0,p.pi)({},h),{toggleState:null==C?h.toggleState:C?1:0})),h})})}),n.selectedPivot&&n.scrollToOpenCard){var l=a[n.selectedPivot];if(l)for(var s in l.cards){var u=l.cards[s];if(1===u.toggleState){c={uid:u.uid};break}}}return t=(0,p.pi)((0,p.pi)({},t),{selectedPivot:{key:n.selectedPivot,isUserSet:!0},pivots:a,scrollCardToTop:c}),(0,p.pi)((0,p.pi)({},t),{toggleInformation:ct(t)})},r.prototype.handleNavigation=function(t){var n=t.formattingContainersNavigationInfo;_.isEmpty(n)||this.formattingService.changeContainerDropdownValue(n,t.canvasItems),this.formattingUIManager.markCardNavigationAsHandled()},r.prototype.resetFilteredToggleState=function(t){var n={};return Object.keys(t.pivots).forEach(function(o){var a=t.pivots[o];n[o]=(0,p.pi)((0,p.pi)({},a),{cards:_.mapValues(a.cards,function(c){return(0,p.pi)((0,p.pi)({},c),{toggleState:2|c.toggleState})}),groups:_.mapValues(a.groups,function(c){return(0,p.pi)((0,p.pi)({},c),{toggleState:2|c.toggleState})})})}),t=(0,p.pi)((0,p.pi)({},t),{pivots:n}),(0,p.pi)((0,p.pi)({},t),{toggleInformation:ct(t)})},r.prototype.ensureServicesAreInitialized=function(){return(0,p.mG)(this,void 0,void 0,function(){var t,n,o,a=this;return(0,p.Jh)(this,function(c){switch(c.label){case 0:return this.initializationPromise?[3,5]:(this.initializationPromise=new Promise(function(l){t=l}),n=this,[4,this.lazyScoped.get(Rn.ub)]);case 1:return n.formattingService=c.sent(),this.formattingContract$=this.getFormattingContract$(),this.formattingContract$.pipe((0,ae.R)(this.destroy$)).subscribe(function(l){return a.updateFormattingPaneViewModel(l)}),[4,this.featureSwitchService.getFeatureSwitches()];case 2:return c.sent(),this.featureSwitchService.featureSwitches.onObject?(o=this,[4,this.lazyScoped.get(jt.a)]):[3,4];case 3:o.formattingUIManager=c.sent(),(0,S.aj)([this.formattingUIManager.getFormatPaneRegistered$(),this.formattingUIManager.getFormatPaneCardExpansion$(),this.getViewModel$().pipe((0,b.U)(function(l){return l.pivots}),(0,W.h)(function(l){return!_.isEmpty(l)}))]).pipe((0,ae.R)(this.destroy$),(0,W.h)(function(l){return!!l[1]})).subscribe(function(l){var u=l[1];l[0]&&(a.updateCardExpansionState(u),a.handleNavigation(u))}),this.formattingUIManager.registerFormatPane(),c.label=4;case 4:t(),c.label=5;case 5:return[2,this.initializationPromise]}})})},r.prototype.getFormattingContract$=function(){var t=this,n=this.selectionService.selectedElements$.pipe((0,b.U)(function(o){return _.uniqBy(_.compact(_.map(o,function(a){return a.canvasItem})),function(a){return a.name})}));return(0,S.aj)([n,this.featureSwitchService.featureSwitches$]).pipe((0,ke.w)(function(o){var a=o[0],l=o[1].onObject,s=a.length>1,u=s&&function(i){return _.every(i,function(r){return(0,Un.Vz)(r)&&(0,Rt.s)(r)===(0,Rt.s)(i[0])})}(a),g=s&&!u,v=u?[a[0]]:a;if(_.isEmpty(v)||!l&&g)return t.formattingService.getFor({type:1}).getViewModel$();var h=v.map(function(C){return t.formattingService.getFor({type:0,canvasItem:C}).getViewModel$()});return(0,S.aj)(h).pipe((0,b.U)(function(C){return Wn(C)}))}))},r.prototype.getPivotViewModel=function(t,n,o,a,c){var l,s=this.getFormattingCardViewModel(t,n,o,a);if(!_.isEmpty(s)){var u=_.pickBy(n.slices,function(g){return g.pivotSource===t});return u=this.applyDisabledStateToSlices(u,c),{pivotDisplayName:this.getPivotDisplayName(null===(l=n.canvasItem)||void 0===l?void 0:l.value,t),cards:s,groups:this.getFormattingGroupViewModel(t,n,o),slices:u,revertToDefaultDescriptors:_.flatten(Object.values(s).map(function(g){var v;return null!==(v=g.revertToDefaultDescriptors)&&void 0!==v?v:[]}))}}},r.prototype.applyDisabledStateToSlices=function(t,n){if(n&&t){var o=!1,a={},c=n.ConditionalFormattingControl;return Object.keys(t).forEach(function(l){var g,s=t[l],u=s.control.type;c&&"ToggleSwitch"===u&&s.conditionalFormattingObjects&&s.saveCallback&&(g=c),g||(g=n[u]);var v=g?.filterUid;!g||v&&!v.some(function(h){return h===s.uid})?a[l]=s:(o=!0,a[l]=(0,p.pi)((0,p.pi)({},s),{disabled:!0,description:g.disabledReason}))}),o?a:t}return t},r.prototype.getFormattingCardViewModel=function(t,n,o,a){var c=this,l=_.pickBy(n.cards,function(s){return s.pivotSource===t});return _.mapValues(l,function(s){var u,g,v,h,C,V=De.UV(s.uid,s.pivotSource),B=(null!==(u=s.revertToDefaultDescriptors)&&void 0!==u?u:[]).map(function(R){return(0,p.pi)((0,p.pi)({},R),{originSource:s.originSource})}),H=!(!a||!a[V])||s.disabled,N=c.formattingService.getRevertToDefaultEnabled(null===(g=n.canvasItem)||void 0===g?void 0:g.value,B);return(0,p.pi)((0,p.pi)({},s),{disabled:H,topLevelToggle:s.topLevelToggle?(0,p.pi)((0,p.pi)({},s.topLevelToggle),{disabled:H||s.topLevelToggle.disabled}):void 0,disabledReason:null!==(h=null===(v=a?.[V])||void 0===v?void 0:v.disabledReason)&&void 0!==h?h:s.disabledReason,toggleState:H?0:null!==(C=o[s.uid])&&void 0!==C?C:0,showChangeIndicator:N,revertToDefaultEnabled:N,revertToDefaultDescriptors:B})})},r.prototype.getFormattingGroupViewModel=function(t,n,o){var a=this,c=_.pickBy(n.cards,function(g){return g.pivotSource===t}),l=this.reportViewSettingsService&&this.reportViewSettingsService.getReportViewSettings({reportSettings:!1,userSettings:!1}),s=l&&l.userSettings.formatPaneExpandSubcategories;return Object.keys(c).reduce(function(g,v){var V=!1;return n.cards[v].groupUids.forEach(function(B){var H,q,N=n.groups[B],R=!!N.displayName&&(!!_.isUndefined(N.collapsible)||N.collapsible);N.disableInteractivity?q=0:s?q=N.disabled?0:1:(q=V&&R||N.disabled||N.hidden?0:1,V=!(!R||N.disabled||N.hidden)||V),g[B]=(0,p.pi)((0,p.pi)({},N),{toggleState:N.disabled?0:null!==(H=o[(0,se.Ko)(N.uid)])&&void 0!==H?H:q,showChangeIndicator:a.getGroupShowChangeIndicator(N.sliceIds,N.topLevelToggle,n)})}),g},{})},r.prototype.getRevertToDefaultDescriptors=function(t,n){return n.revertToDefaultDescriptors.filter(function(o){return t.includes(o.originSource)})},r.prototype.getPivotDisplayName=function(t,n){switch(n){case"Visual":return De.um(t,this.featureSwitchService);case"Format_Label_General":return De.An("Format_Label_General",this.featureSwitchService);case"Page":return De.An("Page",this.featureSwitchService);case"Analytics":return De.An("VisualizationPane_Section_Analytics",this.featureSwitchService);default:f.fF.assertNever(n)}},r.prototype.getGroupShowChangeIndicator=function(t,n,o){var a=t.map(function(c){var l=(0,se.$Q)(c.uid,c.selector);return o.slices[l]});return this.shouldShowGroupChangeIndicator(a,n)},r.prototype.shouldShowGroupChangeIndicator=function(t,n){return n?.showChangeIndicator||t.some(function(o){return o.showChangeIndicator})},r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275inject(zt.a,8),e.\u0275\u0275inject(Fe.vZ),e.\u0275\u0275inject(Xt.H),e.\u0275\u0275inject(Yt.z),e.\u0275\u0275inject(vo.$8))},r.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r}(gt.m1);function Oo(i,r,t,n,o){for(var a=0,c=0,l=i;c<l.length;c++){var s=l[c],u=!1,g=n.groups[s];mt(r,g.displayName,g.aliasNames)&&(u=!0,a++);var v=!1;if(g.sliceIds){var h=xo(g.sliceIds,r,u||t,n,o);a+=h.itemsMatched,v=h.itemsMatched>0}(u||t||v)&&o.groupIds.add(s)}return{itemsMatched:a}}function xo(i,r,t,n,o){for(var a=0,c=0,l=i;c<l.length;c++){var s=l[c],u=(0,se.$Q)(s.uid,s.selector),g=n.slices[u],v=mt(r,g.displayName,g.aliasNames);a+=v?1:0,(v||t)&&o.sliceIds.add(u)}return{itemsMatched:a}}function mt(i,r,t){var n=(0,zn.e)(i||"","i");return r?.search(n)>=0||t?.some(function(o){return o.search(n)>=0})}function Je(i){return!i.searchString&&!!i.selectedPivot.key&&"Analytics"!==i.selectedPivot.key&&"Page"!==i.selectedPivot.key}function wo(i,r){r.controlValueUpdater?r.controlValueUpdater(i.control):i.control.properties.value=r.propertySlice.value}function ct(i){var r=(0,p.pi)({},i.toggleInformation);return Object.values(i.pivots).forEach(function(t){Object.keys(t.cards).forEach(function(n){r[n]=t.cards[n].disabled?r[n]:t.cards[n].toggleState}),Object.keys(t.groups).forEach(function(n){var o=t.groups[n],a=(0,se.Ko)(n);r[a]=o.disabled||o.hidden?r[a]:t.groups[n].toggleState})}),r}var ze=d(44581),en=d(2380),ft=d(90955),Ze=d(30794),vt=d(35510),je=d(63057),Xe=d(73805),To=d(76920),Fo=d(37419),ht=d(73449),Do=function(){function i(t){this.closingNotifier=t}return i.prototype.call=function(n,o){return o.subscribe(new Bo(n,this.closingNotifier))},i}(),Bo=function(i){function r(n,o){var a;return(a=i.call(this,n)||this).buffer=[],a.add((0,ht.ft)(o,new ht.IY((0,To.Z)(a)))),a}(0,Fo.Z)(r,i);var t=r.prototype;return t._next=function(o){this.buffer.push(o)},t.notifyNext=function(){var o=this.buffer;this.buffer=[],this.destination.next(o)},r}(ht.Ds),ko=d(11991),tn=d(37272),Vo=d(26124),nn=function(i){function r(t,n){return i.call(this,t,n)||this}return(0,p.ZT)(r,i),r.prototype.ngOnInit=function(){var t=this;this.changes$("pbiEmphasisBorder").pipe((0,ke.w)(function(o){return o||tn.E})).pipe((0,L.M)(this.changes$("pbiEmphasisBorderColor",!0))).subscribe(function(o){var l=t.getAnimation("borderColor",o[1]??"var(--globalColorBrand160)");t.emphasize(l)})},r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(Vo._j,8),e.\u0275\u0275directiveInject(e.ElementRef))},r.\u0275dir=e.\u0275\u0275defineDirective({type:r,selectors:[["","pbiEmphasisBorder",""]],inputs:{pbiEmphasisBorder:"pbiEmphasisBorder",pbiEmphasisBorderColor:"pbiEmphasisBorderColor"},features:[e.\u0275\u0275InheritDefinitionFeature]}),r}(ko.A),on=d(11547),rn=d(82762),$o=d(40133),an=d(28884),Lo=d(46358);function _t(){var i="",r=0;for(r=0;r<32;r+=1){var t=16*Math.random()|0;switch(r){case 8:case 12:case 16:case 20:i+="-"}i+=t.toString(16)}return i}var zo=d(88693),cn=d(83309);function sn(i,r){if("number"==typeof i){var t=Number(i),n=Number(r);return!isFinite(t)||!isFinite(n)||t>n}return i>r}var jo=function(){function i(){}return i.prototype.validate=function(r){var t;return _.isNil(this.minValue)||_.isNil(r.value)||!sn(this.minValue,r.value)?null:((t={})[0]={thresholdValue:this.minValue,currentValue:r.value},t)},i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.\u0275\u0275defineDirective({type:i,selectors:[["","pbiMin",""]],inputs:{minValue:["pbiMin","minValue"]},features:[e.\u0275\u0275ProvidersFeature([{provide:y.Cf,useExisting:i,multi:!0}])]}),i}(),Go=function(){function i(){}return i.prototype.validate=function(r){var t;return _.isNil(this.maxValue)||_.isNil(r.value)||!sn(r.value,this.maxValue)?null:((t={})[1]={thresholdValue:this.maxValue,currentValue:r.value},t)},i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.\u0275\u0275defineDirective({type:i,selectors:[["","pbiMax",""]],inputs:{maxValue:["pbiMax","maxValue"]},features:[e.\u0275\u0275ProvidersFeature([{provide:y.Cf,useExisting:i,multi:!0}])]}),i}(),Wo=function(){function i(){}return i.prototype.validate=function(r){var t;return this.required&&y.kI.required(r)?((t={})[2]=!0,t):null},i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.\u0275\u0275defineDirective({type:i,selectors:[["","pbiRequired",""]],inputs:{required:["pbiRequired","required"]},features:[e.\u0275\u0275ProvidersFeature([{provide:y.Cf,useExisting:i,multi:!0}])]}),i}(),Ko=function(){function i(){}return i.prototype.validate=function(r){var t;return this.pattern&&y.kI.pattern(this.pattern)(r)?((t={})[3]=this.pattern,t):null},i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.\u0275\u0275defineDirective({type:i,selectors:[["","pbiPattern",""]],inputs:{pattern:["pbiPattern","pattern"]},features:[e.\u0275\u0275ProvidersFeature([{provide:y.Cf,useExisting:i,multi:!0}])]}),i}(),Ho=function(){function i(){}return i.prototype.validate=function(r){var t;return _.isNil(this.maxLength)||_.isNil(r.value)||!y.kI.maxLength(this.maxLength)(r)?null:((t={})[5]=this.maxLength,t)},i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.\u0275\u0275defineDirective({type:i,selectors:[["","pbiMaxLength",""]],inputs:{maxLength:["pbiMaxLength","maxLength"]},features:[e.\u0275\u0275ProvidersFeature([{provide:y.Cf,useExisting:i,multi:!0}])]}),i}(),Qo=function(){function i(){}return i.prototype.validate=function(r){var t;return this.pbiDashArray&&i.validateStrokeDashArray(r.value)?((t={})[4]=!0,t):null},i.validateStrokeDashArray=function(r){var n=(r||"").split(/[,\s]+/).map(Number),o=n.filter(function(a){return!isNaN(a)&&a>=0&&a<=50});return o.splice(8),o.length!==n.length||_.isEmpty(n)},i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.\u0275\u0275defineDirective({type:i,selectors:[["","pbiDashArray",""]],inputs:{pbiDashArray:"pbiDashArray"},features:[e.\u0275\u0275ProvidersFeature([{provide:y.Cf,useExisting:i,multi:!0}])]}),i}(),Jo=d(16521),Zo=d(25929),Xo=d(57274),Yo=d(25131),bt=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,p.ZT)(r,i),r.prototype.ngOnInit=function(){this.barsStyle$=this.changes$("colors").pipe((0,b.U)(function(t){return{background:"".concat("linear-gradient(to right, {{gradientColors}})".replace(/{{gradientColors}}/gi,t))}}))},r.\u0275fac=function(){var t;return function(o){return(t||(t=e.\u0275\u0275getInheritedFactory(r)))(o||r)}}(),r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["gradient-bar"]],inputs:{colors:"colors"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[1,"gradientBar",3,"ngStyle"]],template:function(n,o){1&n&&(e.\u0275\u0275element(0,"div",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngStyle",e.\u0275\u0275pipeBind1(1,1,o.barsStyle$))},dependencies:[x.NgStyle,x.AsyncPipe],styles:[".gradientBar[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0}),r}(Oe.w),ei=new e.InjectionToken("FilePickerService"),Ye=d(48966),dn=d(21571),st=d(85102),ti=["fileInput"];function ni(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"input",5,6),e.\u0275\u0275listener("blur",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.touched())})("change",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onFileValueChange.fn(a.target.files[0]))}),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",7),e.\u0275\u0275listener("accessible-click",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.selectImage())}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementStart(6,"span",8),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"span",9),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275element(12,"pbi-icon",10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(3,9,n.disabled$)),e.\u0275\u0275attribute("accept",n.getFileType(n.fileType)),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("disabled",e.\u0275\u0275pipeBind1(5,11,n.disabled$)),e.\u0275\u0275attribute("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",null!==e.\u0275\u0275pipeBind1(8,13,n.value$)?e.\u0275\u0275pipeBind1(9,15,"BrowseFile"):""," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("pbiTooltip",n.addImageToolTip)("pbiTooltipDisabled",e.\u0275\u0275pipeBind1(11,17,n.disabled$))}}function oi(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",11),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",12),e.\u0275\u0275listener("accessible-click",function(){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.removeFile.fn())}),e.\u0275\u0275element(4,"pbi-icon",13),e.\u0275\u0275elementEnd()}if(2&i){var o,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==(o=e.\u0275\u0275pipeBind1(2,2,n.value$))?null:o.name),e.\u0275\u0275advance(2),e.\u0275\u0275property("pbiTooltip",n.removeImageToolTip)}}function ii(i,r){1&i&&e.\u0275\u0275element(0,"span",14),2&i&&e.\u0275\u0275property("localize",r.$implicit.key)}function ri(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"pbi-dropdown-item",19),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var t=r.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.displayName," ")}}function ai(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",15),e.\u0275\u0275element(2,"label",16),e.\u0275\u0275elementStart(3,"pbi-dropdown",17),e.\u0275\u0275listener("valueChange",function(l){e.\u0275\u0275restoreView(t);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.onSelectScaling.fn(l))}),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementStart(6,"pbi-dropdown-trigger"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,ri,2,2,"pbi-dropdown-item",18),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var a,n=r.ngIf,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275attribute("id",o.imageFitId),e.\u0275\u0275advance(1),e.\u0275\u0275property("aria-labelledby",o.imageFitId)("value",n)("isDisabled",!(null!=(a=e.\u0275\u0275pipeBind1(4,6,o.value$))&&a.name)||e.\u0275\u0275pipeBind1(5,8,o.disabled$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",n.displayName," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",o.items)}}function li(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ai,9,10,"ng-container",4),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,t.currentScaling$))}}var Ct=function(i){function r(t,n,o){var a=i.call(this)||this;return a.featureSwitchService=t,a.localizationService=n,a.filePickerService=o,a.imageFitId="imagefit-".concat(r.nextId++),a}return(0,p.ZT)(r,i),r.prototype.ngOnInit=function(){var t=this;this.items=Ye.H.members().map(function(o){return{value:o.value,displayName:(0,dn.G)(o.displayName,t.localizationService)}}),this.currentScaling$=(0,S.aj)([this.changes$("imageScalingProperties",!0),this.value$]).pipe((0,b.U)(function(o){var a,c,u,l=o[0],s=o[1];return u=l?.hideFitImage?null!==(a=t.isImageValue(s)&&l.defaultScalingValue)&&void 0!==a?a:Ye.C.normal:null!==(c=t.isImageValue(s)&&s.scaling)&&void 0!==c?c:Ye.C.normal,t.items.find(function(g){return g.value===u})})),this.ValidationFunction=this.checkForValidFile(this.fileType),this.removeImageToolTip=this.localizationService.get("PropertyPane_RemoveFile"),this.addImageToolTip=this.localizationService.get("PropertyPane_AddFile");var n=this.disabled$.pipe((0,ye.O)(!1));this.onFileValueChange=this.createEventAdapter(),this.onFileValueChange.$.pipe((0,L.M)(n,this.value$)).subscribe(function(o){var a=o[0],l=o[2];o[1]||(t.abortFileInput(),t.parseFile(a,l),t.onTouched())}),this.removeFile=this.createEventAdapter(),this.removeFile.$.pipe((0,L.M)(n)).subscribe(function(o){o[1]||(t.onValueChange(void 0),t.onTouched())}),this.onSelectScaling=this.createEventAdapter(),this.onSelectScaling.$.pipe((0,L.M)(n,this.value$)).subscribe(function(o){var a=o[0],l=o[2];!o[1]&&t.isImageValue(l)&&(t.onValueChange((0,p.pi)((0,p.pi)({},l),{scaling:"".concat(a.value)})),t.onTouched())})},r.prototype.selectImage=function(){return(0,p.mG)(this,void 0,void 0,function(){var t;return(0,p.Jh)(this,function(a){switch(a.label){case 0:return this.filePickerService?(t=void 0,"Image"!==this.fileType?[3,2]:[4,this.filePickerService.getImageFromFilePicker()]):[3,5];case 1:return t=a.sent(),[3,4];case 2:return"Json"===this.fileType||"AzMapsAllowedTypes"===this.fileType||"AzMapsAllowedTypesWithIconURLs"===this.fileType?[4,this.filePickerService.getSpatialFileFromFilePicker("Json"===this.fileType,this.featureSwitchService.featureSwitches.azureMapsCsvSupport)]:[3,4];case 3:t=a.sent(),a.label=4;case 4:return t&&this.onFileValueChange.fn(t),[3,6];case 5:this.fileInput.nativeElement.click(),a.label=6;case 6:return[2]}})})},r.prototype.getFileType=function(t){switch(t){case"Image":return"image/*";case"Json":return".json";case"AzMapsAllowedTypesWithIconURLs":case"AzMapsAllowedTypes":return".geojson,.json,.zip,.kml".concat(this.featureSwitchService.featureSwitches.azureMapsCsvSupport?",.csv":"",",.wkt")}},r.prototype.isImageValue=function(t){return t&&"Image"===this.fileType},r.prototype.isTextValue=function(t){return t&&("Json"===this.fileType||"AzMapsAllowedTypes"===this.fileType||"AzMapsAllowedTypesWithIconURLs"===this.fileType)},r.prototype.abortFileInput=function(){this.lastReader&&(this.lastReader.abort(),this.lastReader=void 0)},r.prototype.checkForValidFile=function(t){var n=this;return function(o){if(o.value&&!_.isEmpty(o.value.name)){var a=o.value.file;if("Image"===t){if(a&&!a.type.match(function(i){if("Image"===i)return"image.*"}(t)))return{InvalidFile:!0}}else if("Json"===t||"AzMapsAllowedTypes"===t||"AzMapsAllowedTypesWithIconURLs"===t){var c="."+o.value.name.split(".").pop();if(!n.getFileType(t).split(",").includes(c))return{InvalidFile:!0}}}}},r.prototype.parseFile=function(t,n){var l,o=this,a=t.name,c=new FileReader;switch(c.onabort=function(s){o.lastReader=void 0},c.onerror=function(s){o.lastReader=void 0},this.fileType){case"Image":c.onload=function(s){var u;c===o.lastReader&&(o.lastReader=void 0,l=o.isImageValue(n)&&!_.isEmpty(a)?{url:c.result,name:a,scaling:null!==(u=n.scaling)&&void 0!==u?u:Ye.C.normal,file:t}:{url:c.result,name:a,scaling:Ye.C.normal,file:t},o.isImageValue(l)&&o.onValueChange(l))},this.lastReader=c,c.readAsDataURL(t);break;case"Json":case"AzMapsAllowedTypes":case"AzMapsAllowedTypesWithIconURLs":c.onload=function(s){c===o.lastReader&&(o.lastReader=void 0,o.isTextValue(l={content:c.result,name:a,file:t})&&("AzMapsAllowedTypes"===o.fileType&&a.endsWith(".kml")&&(l.content=o.updateKmlContent(l)),o.onValueChange(l)))},this.lastReader=c,"AzMapsAllowedTypes"!==this.fileType&&"AzMapsAllowedTypesWithIconURLs"!==this.fileType||!a.endsWith(".zip")?c.readAsText(t):c.readAsDataURL(t);break;default:f.fF.assertNever(this.fileType)}},r.prototype.updateKmlContent=function(t){var o=(new DOMParser).parseFromString(t.content,"application/xml");return o.querySelectorAll("Icon").forEach(function(c){c.remove()}),(new XMLSerializer).serializeToString(o)},r.nextId=0,r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(Fe.vZ),e.\u0275\u0275directiveInject(ne.o),e.\u0275\u0275directiveInject(ei,8))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["image-upload"]],viewQuery:function(n,o){var a;(1&n&&e.\u0275\u0275viewQuery(ti,5),2&n)&&(e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.fileInput=a.first))},inputs:{fileType:"fileType",ariaLabelledby:"ariaLabelledby",ariaDescribedby:"ariaDescribedby",imageScalingProperties:"imageScalingProperties"},features:[e.\u0275\u0275ProvidersFeature([{provide:y.JU,useExisting:(0,e.forwardRef)(function(){return r}),multi:!0},{provide:y.Cf,useExisting:(0,e.forwardRef)(function(){return r}),multi:!0}]),e.\u0275\u0275InheritDefinitionFeature],decls:10,vars:14,consts:[[1,"file-picker","fluentTheme-sm-reg"],[4,"ngIf","ngIfElse"],["showFile",""],["class","error-msg",3,"localize",4,"ngFor","ngForOf"],[4,"ngIf"],["type","file",3,"disabled","blur","change"],["fileInput",""],["role","button",1,"inner-div",3,"accessible-click"],[1,"custom-file-input"],[1,"browse-icon",3,"pbiTooltip","pbiTooltipDisabled"],["name","image-search","size","mini"],[1,"custom-text-input","trimmedTextWithEllipsis","apply-padding"],[1,"remove-icon",3,"pbiTooltip","accessible-click"],["name","close","size","mini"],[1,"error-msg",3,"localize"],[1,"image-fit"],["localize","PagePropertyPane_PageBackgroundImageFit"],["compact","",3,"aria-labelledby","value","isDisabled","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,ni,13,19,"ng-container",1),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,oi,5,4,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,ii,1,1,"span",3),e.\u0275\u0275pipe(7,"keyvalue"),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275template(9,li,3,3,"ng-container",4)),2&n){var c,a=e.\u0275\u0275reference(5);e.\u0275\u0275classProp("disabled",e.\u0275\u0275pipeBind1(1,6,o.disabled$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(null!=(c=e.\u0275\u0275pipeBind1(3,8,o.value$))&&c.name))("ngIfElse",a),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(7,10,e.\u0275\u0275pipeBind1(8,12,o.errorMessage$))),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","Image"===o.fileType&&!(!o.imageScalingProperties||o.imageScalingProperties.hideFitImage))}},dependencies:[x.NgForOf,x.NgIf,pe.X,ze.t,ue.H,Ae.r,Be._,ue.T,T._,xe.V,x.AsyncPipe,x.KeyValuePipe,st.F],styles:['.ng-invalid[_nghost-%COMP%]   .file-picker[_ngcontent-%COMP%]{border:1px solid var(--fluent-theme-error-dark-color, #A80000)}.file-picker[_ngcontent-%COMP%]{--file-picker-placeholder-color: var(--gray-180, #252423);--file-picker-border-color: var(--gray-110, #8A8886);--file-picker-background-color: var(--fluent-theme-white-color, #FFF);display:flex;align-items:center;justify-content:space-between;background:var(--file-picker-background-color);border:1px solid var(--file-picker-border-color);border-radius:2px;color:var(--file-picker-placeholder-color)}  [data-legacy-theming=false] .file-picker{--file-picker-placeholder-color: var(--colorNeutralForeground1);--file-picker-border-color: var(--colorNeutralStroke1);--file-picker-background-color: var(--colorNeutralBackground1)}.file-picker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.file-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:4px}.file-picker[_ngcontent-%COMP%]   .inner-div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-grow:1;cursor:pointer}.file-picker[_ngcontent-%COMP%]   .inner-div.disabled[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.file-picker[_ngcontent-%COMP%]   .inner-div[_ngcontent-%COMP%]:focus-within{outline:none}html[data-focus-source="key"][_nghost-%COMP%]   .file-picker[_ngcontent-%COMP%]   .inner-div[_ngcontent-%COMP%]:focus-within, html[data-focus-source="key"]   [_nghost-%COMP%]   .file-picker[_ngcontent-%COMP%]   .inner-div[_ngcontent-%COMP%]:focus-within{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.file-picker[_ngcontent-%COMP%]   .browse-icon[_ngcontent-%COMP%]:focus{outline:none}.file-picker[_ngcontent-%COMP%]   .remove-icon[_ngcontent-%COMP%]{cursor:pointer;margin:4px;background-color:var(--colorNeutralBackground2)}.file-picker[_ngcontent-%COMP%]   .remove-icon[_ngcontent-%COMP%]:hover{background-color:var(--colorNeutralBackground2Hover);color:var(--colorNeutralForeground1Hover)}.file-picker[_ngcontent-%COMP%]   .remove-icon[_ngcontent-%COMP%]:focus{outline:none}html[data-focus-source="key"][_nghost-%COMP%]   .file-picker[_ngcontent-%COMP%]   .remove-icon[_ngcontent-%COMP%]:focus, html[data-focus-source="key"]   [_nghost-%COMP%]   .file-picker[_ngcontent-%COMP%]   .remove-icon[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.file-picker[_ngcontent-%COMP%]   .apply-padding[_ngcontent-%COMP%]{padding-right:12px}.file-picker[_ngcontent-%COMP%]:hover{border:1px solid var(--gray-130, #605E5C)}.file-picker[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.file-picker.disabled[_ngcontent-%COMP%]{background:var(--gray-20, #F3F2F1);border:1px solid var(--gray-60, #C8C6C4);color:var(--gray-90, #A19F9D)}.file-picker.disabled[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{cursor:default;color:var(--gray-60, #C8C6C4)}.error-msg[_ngcontent-%COMP%]{color:var(--fluent-theme-error-dark-color, #A80000)}.image-fit[_ngcontent-%COMP%]{margin-top:8px}.image-fit[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%]{margin:4px 0;width:100%}'],changeDetection:0}),r}(A.N),yt=function(i){function r(t,n){var o=i.call(this,t)||this;return o.componentStore=t,o.localizationService=n,o.itemsAndSelectedItemSelector=(0,Ee.P1)(function(a){return a.items},function(a){return a.selectedItems},function(a){return a.itemUpdates},function(a,c,l){return{items:a,selectedItem:c,itemUpdates:l}}),o.onDeleteItem=o.componentStore.updater(function(a,c){var l=_.findIndex(a.items,function(h){return _.isEqual(c,h)});if(f.fF.assert(function(){return l>=0},"The item to delete should be in current collection of items"),l<0)return a;var s=(0,p.ev)([],a.items,!0);f.fF.assert(function(){return!_.isArray(a.selectedItems)},"No multi-select support, selectedItems should NOT be an array");var u=_.findIndex(a.items,a.selectedItems),g=s[u];return l===u&&(g=s[l===a.items.length-1?a.items.length-2:l+1]),s.splice(l,1),(0,p.pi)((0,p.pi)({},a),{items:s,selectedItems:g,itemUpdates:{deletes:[c]}})}),o.onAddItem=o.componentStore.updater(function(a,c){f.fF.assert(function(){return!_.isArray(a.selectedItems)},"No multi-select support, selectedItems should NOT be an array");var l=(0,p.ev)([],a.items,!0);l.push(c);var s=_.isEmpty(a.itemUpdates)?c:a.selectedItems;return(0,p.pi)((0,p.pi)({},a),{items:l,selectedItems:s,itemUpdates:{adds:[c]}})}),o.onUpdateItemDisplayName=o.componentStore.updater(function(a,c){var l=_.findIndex(a.items,function(C){return _.isEqual(c.value,C.value)});if(f.fF.assert(function(){return l>=0},"The updated item should be in current collection of items"),l<0)return a;var s=a.items[l].displayName;if(s===c.displayName)return a;var u=a.items[l],g=(0,dn.G)(c.displayName,o.localizationService),v=_.isEmpty(_.trim(g))?s:c.displayName,h=(0,p.ev)([],a.items,!0);return h[l]=(0,p.pi)((0,p.pi)({},u),{displayName:v}),(0,p.pi)((0,p.pi)({},a),{items:h,selectedItems:h[l],itemUpdates:{renames:[{newDisplayName:v,item:u}]}})}),o}return(0,p.ZT)(r,i),r.prototype.onSelectionChange=function(t){var n=this;return this.componentStore.updater(function(o,a){return i.prototype.onSelectionChange.call(n,a),delete o.itemUpdates,o})(t)},r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275inject(gt.m1),e.\u0275\u0275inject(ne.o))},r.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r}(d(37733).K),pn=d(4437),un=d(22844),di=["item"],pi=["valueInput"],ui=function(){return{"aria-label":"Edit"}};function gi(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",9),e.\u0275\u0275listener("click",function(o){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext(2).ngIf,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.startEditClicked(o,a.selected))}),e.\u0275\u0275elementEnd()}2&i&&e.\u0275\u0275property("localizeAttr",e.\u0275\u0275pureFunction0(1,ui))}var mi=function(){return{"aria-label":"ItemAction_Rename"}};function fi(i,r){1&i&&e.\u0275\u0275element(0,"button",10),2&i&&e.\u0275\u0275property("localizeAttr",e.\u0275\u0275pureFunction0(1,mi))}var vi=function(){return{"aria-label":"Delete"}};function hi(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,gi,1,2,"button",6),e.\u0275\u0275template(2,fi,1,2,"button",7),e.\u0275\u0275elementStart(3,"button",8),e.\u0275\u0275listener("click",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext(2);return a.stopPropagation(),e.\u0275\u0275resetView(c.onDeleteClick.fn())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var n=e.\u0275\u0275nextContext().ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.inEditMode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.inEditMode),e.\u0275\u0275advance(1),e.\u0275\u0275property("localizeAttr",e.\u0275\u0275pureFunction0(3,vi))}}var _i=function(r,t,n,o){return{isSelected:r,isHovered:t,isInEditMode:n,isDisabled:o}};function bi(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",1,2),e.\u0275\u0275listener("mouseover",function(){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.itemOnHover=!0)})("mouseleave",function(){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.itemOnHover=!1)})("accessible-click",function(){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onClick.fn())}),e.\u0275\u0275elementStart(2,"input",3,4),e.\u0275\u0275listener("dblclick",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext();return c.stopPropagation(),e.\u0275\u0275resetView(l.onStartEditClick.fn())})("click",function(c){var s=e.\u0275\u0275restoreView(t).ngIf,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.onInputClick(c,s.inEditMode))})("keydown.enter",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275reference(3);return c.stopPropagation(),e.\u0275\u0275resetView(l.blur())})("blur",function(){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275reference(3),l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.onNameInputBlur.fn(c.value))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,hi,4,4,"ng-container",5),e.\u0275\u0275elementEnd()}if(2&i){var n=r.ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction4(6,_i,n.selected,o.itemOnHover,n.inEditMode,n.disabled)),e.\u0275\u0275attribute("aria-selected",n.selected)("aria-disabled",n.disabled),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",o.value.displayName)("readonly",!n.inEditMode),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.disabled&&(n.selected||o.itemOnHover))}}var Ci=function(r,t,n){return{selected:r,inEditMode:t,disabled:n}},Mt=function(i){function r(t){var n=i.call(this)||this;return n.listEditorService=t,n.inEditModeSubject$=new Ze.xQ,n}return(0,p.ZT)(r,i),r.prototype.ngOnInit=function(){var t=this;this.disabled$=this.changes$("disabled").pipe((0,b.U)(function(c){return(0,pn.Ig)(c)}),(0,ye.O)(!1)),this.onClick=this.createEventAdapter();var n=this.onClick.$.pipe((0,L.M)(this.disabled$),(0,W.h)(function(c){return!c[1]}),(0,Xe.h)({value:this.value}));this.listEditorService.onSelectionChange(n),this.onDeleteClick=this.createEventAdapter();var o=this.onDeleteClick.$.pipe((0,L.M)(this.disabled$),(0,W.h)(function(c){return!c[1]}),(0,Xe.h)(this.value));this.listEditorService.onDeleteItem(o),this.onStartEditClick=this.createEventAdapter(),this.onStartEditClick.$.pipe((0,L.M)(this.disabled$),(0,W.h)(function(c){return!c[1]})).subscribe(function(c){var l,s,u,g;t.inEditModeSubject$.next(!0),null===(s=null===(l=t.inputElementRef)||void 0===l?void 0:l.nativeElement)||void 0===s||s.focus(),null===(g=null===(u=t.inputElementRef)||void 0===u?void 0:u.nativeElement)||void 0===g||g.select()}),this.onNameInputBlur=this.createEventAdapter();var a=this.onNameInputBlur.$.pipe((0,Ke.b)(function(c){t.inEditModeSubject$.next(!1)}),(0,b.U)(function(c){return(0,p.pi)((0,p.pi)({},t.value),{displayName:_.trim(c)})}));this.listEditorService.onUpdateItemDisplayName(a),this.selected$=this.listEditorService.isSelected$(this.value),this.inEditMode$=this.inEditModeSubject$.asObservable()},r.prototype.focus=function(){this.topItemElementRef.nativeElement.focus()},r.prototype.onInputClick=function(t,n){n&&t.stopPropagation()},r.prototype.startEditClicked=function(t,n){t.stopPropagation(),n||this.listEditorService.onSelectionChange({value:this.value}),this.onStartEditClick.fn()},r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(yt))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["list-item-editor"]],viewQuery:function(n,o){if(1&n&&(e.\u0275\u0275viewQuery(di,5),e.\u0275\u0275viewQuery(pi,5)),2&n){var a=void 0;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.topItemElementRef=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.inputElementRef=a.first)}},inputs:{value:"value",disabled:"disabled"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:11,consts:[["class","list-item-editor themeableElement","role","option",3,"ngClass","mouseover","mouseleave","accessible-click",4,"ngIf"],["role","option",1,"list-item-editor","themeableElement",3,"ngClass","mouseover","mouseleave","accessible-click"],["item",""],["type","text","spellcheck","false",1,"pbi-small-text-input",3,"value","readonly","dblclick","click","keydown.enter","blur"],["valueInput",""],[4,"ngIf"],["class","edit glyphicon glyph-mini pbi-glyph-edit",3,"localizeAttr","click",4,"ngIf"],["class","commit glyphicon glyph-mini pbi-glyph-accept-medium",3,"localizeAttr",4,"ngIf"],[1,"delete","glyphicon","glyph-mini","pbi-glyph-calculator-multiply",3,"localizeAttr","click"],[1,"edit","glyphicon","glyph-mini","pbi-glyph-edit",3,"localizeAttr","click"],[1,"commit","glyphicon","glyph-mini","pbi-glyph-accept-medium",3,"localizeAttr"]],template:function(n,o){1&n&&(e.\u0275\u0275template(0,bi,5,11,"div",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async")),2&n&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction3(7,Ci,e.\u0275\u0275pipeBind1(1,1,o.selected$),e.\u0275\u0275pipeBind1(2,3,o.inEditMode$),e.\u0275\u0275pipeBind1(3,5,o.disabled$)))},dependencies:[x.NgClass,x.NgIf,un.b,ze.t,x.AsyncPipe],styles:['.list-item-editor[_ngcontent-%COMP%]{--list-item-editor-border-color: var(--gray-110, #8A8886);--list-item-editor-hover-border-color: var(--gray-130, #605E5C);--list-item-editor-hover-background-color: var(--gray-30, #EDEBE9);--list-item-editor-selected-border-color: var(--fluent-theme-black-color, #000);--list-item-editor-disabled-border-color: var(--gray-60, #C8C6C4);--list-item-editor-disabled-selected-background: var(--gray-40, #E1DFDD);--list-item-editor-input-color: var(--gray-90, #A19F9D);--list-item-editor-link-color: var(--fluent-theme-link-darker-color, #005A9E);--list-item-editor-background-hovered: var(--gray-30, #EDEBE9);--list-item-editor-background-selected: var(--gray-50, #D2D0CE);box-sizing:border-box;padding:0 4px;margin:8px 0 0;border:1px solid var(--list-item-editor-border-color);border-radius:2px;height:24px;display:flex;align-items:center;outline:none}  [data-legacy-theming=false] .list-item-editor{--list-item-editor-border-color: var(--colorNeutralStroke1);--list-item-editor-hover-border-color: var(--colorNeutralStroke1Hover);--list-item-editor-hover-background-color: var(--colorNeutralBackground1Hover);--list-item-editor-selected-border-color: var(--colorNeutralStroke1);--list-item-editor-disabled-border-color: var(--colorNeutralStrokeDisabled);--list-item-editor-disabled-selected-background: var(--colorNeutralBackgroundDisabled);--list-item-editor-input-color: var(--colorNeutralStroke1);--list-item-editor-link-color: var(--colorNeutralForeground1);--list-item-editor-background-hovered: var(--colorNeutralBackground1Hover);--list-item-editor-background-selected: var(--colorNeutralBackground1Selected)}html[data-focus-source=key][_ngcontent-%COMP%]   .list-item-editor[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.list-item-editor.isHovered[_ngcontent-%COMP%]{border-color:var(--list-item-editor-hover-border-color)}.list-item-editor.isHovered[_ngcontent-%COMP%]:not(.isInEditMode){background:var(--list-item-editor-background-hovered)}.list-item-editor.isSelected[_ngcontent-%COMP%]{border-color:var(--list-item-editor-selected-border-color)}.list-item-editor.isSelected[_ngcontent-%COMP%]:not(.isInEditMode){background:var(--list-item-editor-background-selected)}.list-item-editor.isDisabled[_ngcontent-%COMP%]{pointer-events:none;border-color:var(--list-item-editor-disabled-border-color)}.list-item-editor.isDisabled.isSelected[_ngcontent-%COMP%]{background:var(--list-item-editor-disabled-selected-background)}.list-item-editor.isDisabled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--list-item-editor-input-color)}.list-item-editor[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:0;height:auto;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);flex:1;min-width:0;background:transparent;outline:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.list-item-editor[_ngcontent-%COMP%]   input.isInEditMode[_ngcontent-%COMP%]{-webkit-user-select:text;-ms-user-select:text;user-select:text}.list-item-editor[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:var(--list-item-editor-link-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .list-item-editor[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .list-item-editor[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:4px}html[dir="rtl"][_nghost-%COMP%]   .list-item-editor[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .list-item-editor[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:4px}'],changeDetection:0}),r}(Oe.w);function yi(i,r){if(1&i&&e.\u0275\u0275element(0,"list-item-editor",4),2&i){var t=r.$implicit,n=e.\u0275\u0275nextContext().ngIf;e.\u0275\u0275property("value",t)("disabled",n.disabled)}}var Mi=function(){return{"aria-label":"AnalyticsPane_Add_Instance_Label"}};function Pi(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",1)(1,"button",2),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onAddClick.fn())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,yi,1,2,"list-item-editor",3),e.\u0275\u0275elementEnd()}if(2&i){var n=r.ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275property("localizeAttr",e.\u0275\u0275pureFunction0(3,Mi))("disabled",n.disabled||null),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.items)}}var gn=function(i){function r(t){var n=i.call(this)||this;return n.listEditorService=t,n.valueChange=new e.EventEmitter,n}return(0,p.ZT)(r,i),r.prototype.ngOnInit=function(){var t=this;this.setInitialState(),this.viewModel$=this.listEditorService.state$,this.updateState(),this.listEditorService.state$.pipe((0,Ee.Ys)(this.listEditorService.itemsAndSelectedItemSelector),(0,ae.R)(this.onDestroy$),(0,ce.x)(_.isEqual)).subscribe(function(a){t.valueChange.emit(a),t.onValueChange(a),t.onTouched()});var n=this.listEditorService.select$("disabled");this.onAddClick=this.createEventAdapter();var o=this.onAddClick.$.pipe((0,L.M)(n),(0,W.h)(function(a){return!a[1]}),(0,Xe.h)({value:void 0,displayName:"",uid:""}));this.listEditorService.onAddItem(o)},r.prototype.ngAfterViewInit=function(){var t=this;this.listEditorService.select$("selectedItems").pipe((0,ae.R)(this.onDestroy$)).subscribe(function(n){var o;null===(o=t.listItemComponents.find(function(a){return _.isEqual(a.value,n)}))||void 0===o||o.focus()})},r.prototype.setInitialState=function(){var t,n;this.listEditorService.setState({items:null===(t=this.value)||void 0===t?void 0:t.items,selectedItems:null===(n=this.value)||void 0===n?void 0:n.selectedItem,disabled:this.isDisabled,multiple:!1})},r.prototype.updateState=function(){var t=this.mergePropertyInputsAndFormControl(this.changes$("isDisabled"),this.disabled$,"disabled",this.onDestroy$).pipe((0,b.U)(function(a){return{disabled:(0,pn.Ig)(a)}})),n=this.mergePropertyInputsAndFormControl(this.changes$("value"),this.value$,"value",this.onDestroy$).pipe((0,b.U)(function(a){return{items:a?.items,selectedItems:a?.selectedItem,itemUpdates:a?.itemUpdates}})),o=(0,je.T)(t,n);this.listEditorService.updateState(o)},r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(yt))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["list-editor"]],contentQueries:function(n,o,a){var c;(1&n&&e.\u0275\u0275contentQuery(a,Mt,5),2&n)&&(e.\u0275\u0275queryRefresh(c=e.\u0275\u0275loadQuery())&&(o.listItemComponents=c))},hostAttrs:["aria-autocomplete","none"],inputs:{value:"value",ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],isDisabled:"isDisabled"},outputs:{valueChange:"valueChange"},features:[e.\u0275\u0275ProvidersFeature([yt,gt.m1,{provide:y.JU,useExisting:(0,e.forwardRef)(function(){return r}),multi:!0}]),e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["class","list-editor themeableElement","role","listbox",4,"ngIf"],["role","listbox",1,"list-editor","themeableElement"],["localize","AnalyticsPane_Add_Instance_Label",1,"add",3,"localizeAttr","disabled","click"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"]],template:function(n,o){1&n&&(e.\u0275\u0275template(0,Pi,3,4,"div",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,o.viewModel$))},dependencies:[x.NgForOf,x.NgIf,pe.X,un.b,Mt,x.AsyncPipe],styles:['.list-editor[_ngcontent-%COMP%]{--list-editor-add-color: var(--fluent-theme-link-color, #0078D4);--list-editor-add-disabled-color: var(--gray-90, #A19F9D);display:flex;flex-direction:column;background-color:inherit;border:none;outline:none;padding:0}  [data-legacy-theming=false] .list-editor{--list-editor-add-color: var(--colorNeutralForeground1);--list-editor-add-disabled-color: var(--colorForegroundDisabled)}html[data-focus-source=key][_ngcontent-%COMP%]   .list-editor[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.list-editor[_ngcontent-%COMP%]:hover{border-color:var(--gray-130, #605E5C)}.list-editor[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{margin-top:8px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);color:var(--list-editor-add-color);background:transparent;text-align:left}.list-editor[_ngcontent-%COMP%]   .add[disabled][_ngcontent-%COMP%]{pointer-events:none;color:var(--list-editor-add-disabled-color)}'],changeDetection:0}),r}(A.N);function Si(i,r){1&i&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275element(0,"path",19))}function Oi(i,r){1&i&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275element(0,"path",20))}function xi(i,r){1&i&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275element(0,"path",21))}function wi(i,r){1&i&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275element(0,"path",22))}function Ii(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"pbi-spin-button",3),e.\u0275\u0275listener("focusChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.focusChanged.emit(a))})("focusin",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.updateSvg(!0,"left"))})("focusout",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.updateSvg(!1,"left"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",4)(4,"pbi-spin-button",3),e.\u0275\u0275listener("focusChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.focusChanged.emit(a))})("focusin",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.updateSvg(!0,"top"))})("focusout",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.updateSvg(!1,"top"))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(6,"svg",6),e.\u0275\u0275element(7,"rect",7)(8,"rect",8)(9,"line",9)(10,"line",10)(11,"line",11)(12,"line",12),e.\u0275\u0275elementContainerStart(13,13),e.\u0275\u0275template(14,Si,1,0,"path",14),e.\u0275\u0275template(15,Oi,1,0,"path",15),e.\u0275\u0275template(16,xi,1,0,"path",16),e.\u0275\u0275template(17,wi,1,0,"path",17),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(18,"pbi-spin-button",3),e.\u0275\u0275listener("focusChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.focusChanged.emit(a))})("focusin",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.updateSvg(!0,"bottom"))})("focusout",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.updateSvg(!1,"bottom"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"div",18)(20,"pbi-spin-button",3),e.\u0275\u0275listener("focusChange",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.focusChanged.emit(a))})("focusin",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.updateSvg(!0,"right"))})("focusout",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.updateSvg(!1,"right"))}),e.\u0275\u0275elementEnd()()()}if(2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("formControl",n.marginPaddingFormGroup.get("left"))("options",null==n.formatOptions?null:n.formatOptions.left)("ariaLabel",n.ariaLabels.left)("labelId",n.ariaLabelledby)("inputName","left"),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControl",n.marginPaddingFormGroup.get("top"))("options",null==n.formatOptions?null:n.formatOptions.top)("ariaLabel",n.ariaLabels.top)("labelId",n.ariaLabelledby)("inputName","top"),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("disabled",n.marginPaddingFormGroup.disabled),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngSwitch",n.currentlyFocusedPath),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","top"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","bottom"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","left"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","right"),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControl",n.marginPaddingFormGroup.get("bottom"))("options",null==n.formatOptions?null:n.formatOptions.bottom)("ariaLabel",n.ariaLabels.bottom)("labelId",n.ariaLabelledby)("inputName","bottom"),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControl",n.marginPaddingFormGroup.get("right"))("options",null==n.formatOptions?null:n.formatOptions.right)("ariaLabel",n.ariaLabels.right)("labelId",n.ariaLabelledby)("inputName","right")}}var mn=function(i){function r(t,n,o){var a=i.call(this)||this;return a.controlContainer=t,a.highContrastCssGenerationService=n,a.localizationService=o,a.focusChanged=new e.EventEmitter,a.valueChanged=new e.EventEmitter,a}return(0,p.ZT)(r,i),r.prototype.ngOnInit=function(){var n,t=this;this.marginPaddingFormGroup=null===(n=this.controlContainer)||void 0===n?void 0:n.control,f.fF.assert(function(){return!((t.value||t.isDisabled)&&t.marginPaddingFormGroup)},"you have added formGoup as well as value or isDisabled, please remove one"),this.marginPaddingFormGroup||(this.marginPaddingFormGroup=new y.nJ({}),["left","right","top","bottom"].forEach(function(a){return t.createFormControl(a)}),this.changes$("isDisabled").subscribe(function(a){a&&!t.marginPaddingFormGroup.disabled?t.marginPaddingFormGroup.disable({emitEvent:!1}):!a&&t.marginPaddingFormGroup.disabled&&t.marginPaddingFormGroup.enable({emitEvent:!1})})),this.ariaLabels=this.buildAriaLabels(),this.initializeHighContrastRules()},r.prototype.createFormControl=function(t){var o,n=this,a=new y.p4(null===(o=this.value)||void 0===o?void 0:o[t]);this.marginPaddingFormGroup.addControl(t,a),a.valueChanges.pipe((0,W.h)(function(){return a.valid}),(0,ae.R)(this.onDestroy$)).subscribe(function(c){return n.valueChanged.emit({key:t,value:c})}),this.changes$("value").pipe((0,te.j)(t),(0,ce.x)()).subscribe(function(c){return a.setValue(c,{emitEvent:!1})})},r.prototype.buildAriaLabels=function(){return{left:this.localizationService.get("Visual_PaddingLeft"),right:this.localizationService.get("Visual_PaddingRight"),top:this.localizationService.get("Visual_PaddingTop"),bottom:this.localizationService.get("Visual_PaddingBottom")}},r.prototype.updateSvg=function(t,n){this.currentlyFocusedPath=t?n:void 0},r.prototype.initializeHighContrastRules=function(){this.highContrastCssGenerationService.addRule(".margin-padding.themeableElement .display svg rect, .margin-padding.themeableElement .display svg line","{ stroke: @foregroundColor; fill: transparent !important; }"),this.highContrastCssGenerationService.addRule(".margin-padding.themeableElement .display svg path","{ fill: @selectedBackgroundColor !important; }")},r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(y.gN,8),e.\u0275\u0275directiveInject(oe.g),e.\u0275\u0275directiveInject(ne.o))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["margin-padding"]],inputs:{formatOptions:"formatOptions",value:"value",ariaLabelledby:"ariaLabelledby",isDisabled:"isDisabled"},outputs:{focusChanged:"focusChanged",valueChanged:"valueChanged"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["class","margin-padding themeableElement","role","group",4,"ngIf"],["role","group",1,"margin-padding","themeableElement"],[1,"left"],[1,"margin-padding-control",3,"formControl","options","ariaLabel","labelId","inputName","focusChange","focusin","focusout"],[1,"center"],[1,"display"],["width","48","height","48","viewBox","0 0 48 48","fill","none","xmlns","http://www.w3.org/2000/svg"],["x","0.5","y","0.5","width","47","height","47","rx","1.5",1,"first"],["x","9","y","9","width","30","height","30",1,"last"],["x1","8.49951","y1","0.999756","x2","8.49951","y2","46.9998"],["x1","39.5005","y1","0.999756","x2","39.5005","y2","46.9998"],["x1","46.9995","y1","8.50024","x2","0.999515","y2","8.50024"],["x1","46.9995","y1","40.4998","x2","0.999515","y2","40.4998"],[3,"ngSwitch"],["d","M1 2C1 1.44772 1.44772 1 2 1H46C46.5523 1 47 1.44772 47 2V8H1V2Z",4,"ngSwitchCase"],["d","M47 46C47 46.5523 46.5523 47 46 47L2 47C1.44772 47 1 46.5523 1 46L1 40L47 40L47 46Z",4,"ngSwitchCase"],["d","M2 47C1.44772 47 1 46.5523 1 46L0.999998 2C0.999998 1.44772 1.44771 1 2 1L8 1L8 47L2 47Z",4,"ngSwitchCase"],["d","M46 1C46.5523 1 47 1.44772 47 2L47 46C47 46.5523 46.5523 47 46 47L40 47L40 1L46 1Z",4,"ngSwitchCase"],[1,"right"],["d","M1 2C1 1.44772 1.44772 1 2 1H46C46.5523 1 47 1.44772 47 2V8H1V2Z"],["d","M47 46C47 46.5523 46.5523 47 46 47L2 47C1.44772 47 1 46.5523 1 46L1 40L47 40L47 46Z"],["d","M2 47C1.44772 47 1 46.5523 1 46L0.999998 2C0.999998 1.44772 1.44771 1 2 1L8 1L8 47L2 47Z"],["d","M46 1C46.5523 1 47 1.44772 47 2L47 46C47 46.5523 46.5523 47 46 47L40 47L40 1L46 1Z"]],template:function(n,o){1&n&&e.\u0275\u0275template(0,Ii,21,27,"div",0),2&n&&e.\u0275\u0275property("ngIf",!!o.marginPaddingFormGroup)},dependencies:[x.NgIf,x.NgSwitch,x.NgSwitchCase,y.JJ,be.a,y.oH],styles:['.margin-padding[_ngcontent-%COMP%]{display:flex;align-items:center;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);--side-indicator-color: var(--fluent-theme-primary-color, #F2C811);--inner-rectangle-color: var(--gray-20, #F3F2F1);--outer-rectangle-color: var(--fluent-theme-white-color, #FFF);--rectangle-border-color: var(--gray-110, #8A8886);--rectangle-border-disabled-color: var(--gray-60, #C8C6C4)}  [data-legacy-theming=false] .margin-padding{--side-indicator-color: var(--colorCompoundBrandBackground);--inner-rectangle-color: var(--colorNeutralBackground2);--outer-rectangle-color: var(--colorNeutralBackground1);--rectangle-border-color: var(--colorNeutralStroke1);--rectangle-border-disabled-color: var(--colorNeutralStrokeDisabled)}.margin-padding[_ngcontent-%COMP%]   .margin-padding-control[_ngcontent-%COMP%]{background:var(--fluent-theme-white-color, #FFF)}.margin-padding[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .margin-padding[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{background:var(--fluent-theme-white-color, #FFF);width:48px}.margin-padding[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{width:48px;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:2px}.margin-padding[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .display[_ngcontent-%COMP%]{height:48px;margin:2px 0}.margin-padding[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .display[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%], .margin-padding[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .display[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:var(--rectangle-border-color)}.margin-padding[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .display[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   rect.first[_ngcontent-%COMP%]{fill:var(--outer-rectangle-color)}.margin-padding[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .display[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   rect.last[_ngcontent-%COMP%]{fill:var(--inner-rectangle-color)}.margin-padding[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .display[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--side-indicator-color)}.margin-padding[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .display.disabled[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%], .margin-padding[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .display.disabled[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:var(--rectangle-border-disabled-color)}'],changeDetection:0}),r}(Oe.w),Ti=d(74913);function Fi(i,r){if(1&i&&(e.\u0275\u0275element(0,"span",3),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275pipe(3,"localize")),2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,3,t.type===t.SlicePropertyChangeIndicatorType?"MobileFormatting_ChangeIndicator_SliceTooltip":"MobileFormatting_ChangeIndicator_CardTooltip"))("aria-label",e.\u0275\u0275pipeBind1(2,5,"Mobile_Authoring_Formatting_Change_Indicator")),e.\u0275\u0275attribute("aria-description",e.\u0275\u0275pipeBind1(3,7,t.type===t.SlicePropertyChangeIndicatorType?"MobileFormatting_ChangeIndicator_SliceTooltip":"MobileFormatting_ChangeIndicator_CardTooltip"))}}function Ei(i,r){if(1&i&&(e.\u0275\u0275element(0,"tri-svg-icon",4),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275pipe(3,"localize")),2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,3,t.type===t.SlicePropertyChangeIndicatorType?"MobileFormatting_ChangeIndicator_SliceTooltip":"MobileFormatting_ChangeIndicator_CardTooltip"))("aria-label",e.\u0275\u0275pipeBind1(2,5,"Mobile_Authoring_Formatting_Change_Indicator")),e.\u0275\u0275attribute("aria-description",e.\u0275\u0275pipeBind1(3,7,t.type===t.SlicePropertyChangeIndicatorType?"MobileFormatting_ChangeIndicator_SliceTooltip":"MobileFormatting_ChangeIndicator_CardTooltip"))}}function Di(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Fi,4,9,"span",1),e.\u0275\u0275template(2,Ei,4,9,"tri-svg-icon",2),e.\u0275\u0275elementContainerEnd()),2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isTridentEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isTridentEnabled)}}var Bi=window,dt=function(){function i(){this.SlicePropertyChangeIndicatorType="slice",this.isTridentEnabled=Bi.isTrident}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["property-change-indicator"]],inputs:{type:"type",showChangeIndicator:"showChangeIndicator"},decls:1,vars:1,consts:[[4,"ngIf"],["class","change-indicator-icon glyphicon glyph-mini pbi-glyph-phone-optimized-report","role","img","tabindex","0",3,"pbiTooltip","aria-label",4,"ngIf"],["sprite","authoring-icons","name","data_bar_vertical_phone_16_regular","class","change-indicator-icon themeableElement","role","img","tabindex","0",3,"pbiTooltip","aria-label",4,"ngIf"],["role","img","tabindex","0",1,"change-indicator-icon","glyphicon","glyph-mini","pbi-glyph-phone-optimized-report",3,"pbiTooltip","aria-label"],["sprite","authoring-icons","name","data_bar_vertical_phone_16_regular","role","img","tabindex","0",1,"change-indicator-icon","themeableElement",3,"pbiTooltip","aria-label"]],template:function(t,n){1&t&&e.\u0275\u0275template(0,Di,3,2,"ng-container",0),2&t&&e.\u0275\u0275property("ngIf",n.showChangeIndicator)},dependencies:[x.NgIf,xe.V,Ti.M,st.F],styles:['.change-indicator-icon[_ngcontent-%COMP%]{margin:0 8px;font-weight:400;fill:var(--gray-160, #323130)}html[data-focus-source="key"][_nghost-%COMP%]   .change-indicator-icon[_ngcontent-%COMP%]:focus, html[data-focus-source="key"]   [_nghost-%COMP%]   .change-indicator-icon[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}'],changeDetection:0}),i}(),fn=function(){function i(){}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["read-only-text"]],inputs:{text:"text",ariaLabelledby:"ariaLabelledby",ariaDescribedby:"ariaDescribedby"},decls:2,vars:3,consts:[["role","textbox","aria-readonly","true","tabindex","0",1,"readOnlyText"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275attribute("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.text))},styles:[".readOnlyText[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.noTrim[_nghost-%COMP%]   .readOnlyText[_ngcontent-%COMP%]{white-space:normal;word-break:break-word}"],changeDetection:0}),i}(),ki=d(66609),Vi=d(93573),Ai=d(26112),$i=d(70574),vn=d(20792),Me=d(52967),Li=d(48145),Ni=d(58938);function Ui(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"pbi-dropdown-item",7)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var t=r.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.name)}}function Ri(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pbi-dropdown",5),e.\u0275\u0275listener("valueChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.dropdownPropertySubject.next(c.property))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"pbi-dropdown-trigger")(3,"p"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(5,Ui,3,2,"pbi-dropdown-item",6),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=r.ngIf,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("aria-labelledby",o.ariaLabelledby+" map-type")("aria-describedby",o.ariaDescribedby)("selectedItem",n)("isDisabled",e.\u0275\u0275pipeBind1(1,6,o.isDisabled$)||null),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(n.name),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(6,8,o.dropdownItems$))}}function zi(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"label",3),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Ri,7,10,"pbi-dropdown",4),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275classProp("disabled",e.\u0275\u0275pipeBind1(2,4,t.isDisabled$)||null),e.\u0275\u0275property("localize","Visual_ShapeMap_MapType"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,6,t.selectedItem$))}}function ji(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",9),e.\u0275\u0275listener("accessible-click",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext().ngIf,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.showDialog(a))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("localize","Visual_ShapeMap_ViewMapKeys"),e.\u0275\u0275attribute("aria-disabled",e.\u0275\u0275pipeBind1(1,2,n.isDisabled$)||null)}}function Gi(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ji,2,4,"a",8),e.\u0275\u0275elementContainerEnd()),2&i){var t=r.ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.content)}}var Pt={type:Me.c1,name:vn.X9,content:void 0,file:void 0},St="@@custom@@",hn=function(i){function r(t,n,o,a){var c=i.call(this)||this;return c.explorationCapabilities=t,c.featureSwitchService=n,c.localizationService=o,c.dialogService=a,c.onSelectedViewModelChange=new e.EventEmitter,c.dropdownPropertySubject=new Ze.xQ,c.newPaneColorsEnabled=c.explorationCapabilities.getCapabilities().showFluentDesign||c.featureSwitchService.featureSwitches&&c.featureSwitchService.featureSwitches.paneColorRefresh,c}return(0,p.ZT)(r,i),r.prototype.ngOnInit=function(){this.fileType=this.enableMultipleDataFormats&&this.isAzMapReferenceSelector?"AzMapsAllowedTypes":"Json",this.fileType=this.enableMultipleDataFormats&&this.isAzMapReferenceSelector?this.keepIconURLs?"AzMapsAllowedTypesWithIconURLs":"AzMapsAllowedTypes":"Json",this.fileUpload=new y.p4,this.initViewModelHandlers(),this.isDisabled$=this.mergePropertyInputsAndFormControl(this.changes$("isDisabled",!0),this.disabled$,"isDisabled",this.onDestroy$),this.initDropdownHandlers(),this.initUploadHandlers()},r.prototype.initViewModelHandlers=function(){var t=this,n=this.mergePropertyInputsAndFormControl(this.changes$("viewModel"),this.value$,"viewModel",this.onDestroy$),a=this.dropdownPropertySubject.pipe((0,ae.R)(this.onDestroy$),(0,b.U)(function(g){return g===St?{type:Me.BD,name:void 0,content:void 0,file:void 0}:{type:Me.c1,name:g,content:void 0,file:void 0}})),s=this.fileUpload.valueChanges.pipe((0,ae.R)(this.onDestroy$),(0,b.U)(function(g){return g&&t.fromFile(g.name,g.content,g.file)})).pipe((0,b.U)(function(g){return g?{type:g.type,name:g.name,content:g.content,file:g.file}:Pt})),u=(0,je.T)(a,s).pipe((0,ce.x)(),(0,k.d)(1));u.subscribe(function(g){return t.onViewModelChanged(g)}),this.viewModel$=(0,je.T)(n,u).pipe((0,ye.O)(Pt),(0,b.U)(function(g){return g||Pt}),(0,ce.x)(),(0,k.d)(1))},r.prototype.initDropdownHandlers=function(){var t=this.getStandardMapItems(),n=this.getCustomMapItem(),o=(0,p.ev)((0,p.ev)([],t,!0),[n],!1);this.dropdownItems$=(0,on.of)(o),this.selectedItem$=(0,S.aj)([this.viewModel$,this.dropdownItems$]).pipe((0,b.U)(function(a){var s,c=a[0],l=a[1];s=c.type===Me.BD?St:c.name;var u=l.find(function(g){return g.property===s});return u||(f.fF.assertFail("Expected to match an item"),u=_.first(l)),u})),this.showDropdown$=this.changes$("type").pipe((0,b.U)(function(a){return a.geoJson.contentType!==Me.Ms}))},r.prototype.initUploadHandlers=function(){var t=this;this.viewModel$.pipe((0,b.U)(function(o){return o.type===Me.c1?void 0:o}),(0,ce.x)()).subscribe(function(o){return t.fileUpload.setValue(o,{emitEvent:!1})}),this.disableUpload$=(0,S.aj)([this.viewModel$,this.isDisabled$,this.changes$("isAzMapReferenceSelector",!0)]).pipe((0,b.U)(function(o){return o[1]||!o[2]&&o[0].type!==Me.BD})),this.disableUpload$.subscribe(function(o){return o?t.fileUpload.disable({emitEvent:!1}):t.fileUpload.enable({emitEvent:!1})})},r.prototype.getStandardMapItems=function(){var t=this;return(0,ki.Iq)(vn.dt.members(),this.localizationService).map(function(o){return{property:"".concat(o.value),name:(0,Vi.Gf)(o.displayName,t.localizationService)}})},r.prototype.getCustomMapItem=function(){return{property:St,name:this.localizationService.get("Visual_ShapeMap_PropertyPaneCustomMapLabel")}},r.prototype.onViewModelChanged=function(t){f.fF.assertValue(t.type,"GeoJson type"),(t.type!==Me.BD||t.content)&&(t.type===Me.c1&&!t.name||null==t.type||null==t.name||(this.onSelectedViewModelChange.emit(t),this.onValueChange(t),this.onTouched()))},r.prototype.showDialog=function(t){if(t&&t.content){var n=(0,Ai.K)(t.content);if(n){var o=(0,$i.J)(n);if(o){var a={columnNames:o.names,tableValues:o.values,titleKey:"Visual_ShapeMap_MapKeysDialog_Title"},c={cancelButtonIsPrimary:!0,cancelButtonText:this.localizationService.get("TableViewDialog_CloseButtonText"),hideOkButton:!0,title:this.localizationService.get("Visual_ShapeMap_MapKeysDialog_Title"),modulePath:"@powerbi/ExploreUIDialogs/table-view-dialog.module#TableViewDialogModule",componentId:"TableViewDialogComponentId",inputArgs:a};this.dialogService.openHostDialog({bindings:c,componentName:"SimpleTemplateDialogComponent",config:{disableClose:!0},dialogName:"SimpleTemplateDialogComponent"})}}}},r.prototype.fromFile=function(t,n,o){if(t&&n)return{type:Me.BD,name:t,content:n,file:o}},r.prototype.getMapTypeAddWording=function(){return this.isAzMapReferenceSelector?this.enableMultipleDataFormats?"Upload_a_file":"Visual_AzureMapsReferenceLayerUploadGeojson":"Visual_ShapeMap_MapTypeAdd"},r.prototype.getMapTypeAddTooltipWording=function(){return this.isAzMapReferenceSelector&&this.enableMultipleDataFormats?this.localizationService.get("Visual_AzureMapsReferenceLayerUploadAFileDescription"):""},r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(Li.U),e.\u0275\u0275directiveInject(Fe.vZ),e.\u0275\u0275directiveInject(ne.o),e.\u0275\u0275directiveInject(Ni.x))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["shape-map-selector"]],inputs:{viewModel:"viewModel",type:"type",ariaLabelledby:"ariaLabelledby",ariaDescribedby:"ariaDescribedby",isDisabled:"isDisabled",isAzMapReferenceSelector:"isAzMapReferenceSelector",enableMultipleDataFormats:"enableMultipleDataFormats",keepIconURLs:"keepIconURLs"},outputs:{onSelectedViewModelChange:"onSelectedViewModelChange"},features:[e.\u0275\u0275ProvidersFeature([{provide:y.JU,useExisting:(0,e.forwardRef)(function(){return r}),multi:!0}]),e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:14,consts:[[4,"ngIf"],["id","map-type-add",1,"displayName",3,"localize","pbiTooltip"],[3,"formControl","fileType"],["id","map-type",1,"displayName",3,"localize"],["class","map-type-dropdown","compact","",3,"aria-labelledby","aria-describedby","selectedItem","isDisabled","valueChange",4,"ngIf"],["compact","",1,"map-type-dropdown",3,"aria-labelledby","aria-describedby","selectedItem","isDisabled","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","viewKeysLink pbi-internal-link",3,"localize","accessible-click",4,"ngIf"],[1,"viewKeysLink","pbi-internal-link",3,"localize","accessible-click"]],template:function(n,o){1&n&&(e.\u0275\u0275template(0,zi,5,8,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,Gi,2,1,"ng-container",0),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275element(4,"label",1),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275element(6,"image-upload",2)),2&n&&(e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,8,o.showDropdown$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!o.isAzMapReferenceSelector&&e.\u0275\u0275pipeBind1(3,10,o.viewModel$)),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("disabled",e.\u0275\u0275pipeBind1(5,12,o.disableUpload$)||null),e.\u0275\u0275property("localize",o.getMapTypeAddWording())("pbiTooltip",o.getMapTypeAddTooltipWording()),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControl",o.fileUpload)("fileType",o.fileType))},dependencies:[x.NgForOf,x.NgIf,y.JJ,pe.X,ze.t,ue.H,Ae.r,Be._,ue.T,xe.V,y.oH,Ct,x.AsyncPipe],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .displayName[_ngcontent-%COMP%]{margin-bottom:4px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400)}[_nghost-%COMP%]   .displayName.disabled[_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D)}[_nghost-%COMP%]   .map-type-dropdown[_ngcontent-%COMP%]{width:100%;padding-bottom:8px}[_nghost-%COMP%]   .viewKeysLink[_ngcontent-%COMP%]{align-self:flex-start;padding-bottom:8px;display:block;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400)}'],changeDetection:0}),r}(A.N),Wi=["formControl"];function Ki(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"p",10),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&i){var t=r.ngIf,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275attribute("id",e.\u0275\u0275pipeBind1(1,2,n.tooltipDescriptionUid$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t)}}function Hi(i,r){if(1&i&&(e.\u0275\u0275element(0,"pbi-highlight",15),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async")),2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("disabled",t.formattingSlice.disabled),e.\u0275\u0275property("text",e.\u0275\u0275pipeBind1(2,8,t.displayName$))("search",t.searchString)("pbiTooltip",e.\u0275\u0275pipeBind1(3,10,t.tooltipDescription$)),e.\u0275\u0275attribute("id",e.\u0275\u0275pipeBind1(1,6,t.accessibleLabelId$))}}function Qi(i,r){if(1&i&&(e.\u0275\u0275element(0,"pbi-icon",16),e.\u0275\u0275pipe(1,"async")),2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(1,1,t.infoIconText$))}}var Ji=function(r){return{"with-toggle":r}};function Zi(i,r){if(1&i&&(e.\u0275\u0275element(0,"property-change-indicator",17),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async")),2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(7,Ji,!e.\u0275\u0275pipeBind1(1,3,t.hasDynamicExpression$)&&"ToggleSwitch"===e.\u0275\u0275pipeBind1(2,5,t.type$)))("type","slice")("showChangeIndicator",t.formattingSlice.showChangeIndicator)}}function Xi(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275template(1,Hi,4,12,"pbi-highlight",12),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Qi,2,3,"pbi-icon",13),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,Zi,3,9,"property-change-indicator",14),e.\u0275\u0275elementEnd()),2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,3,t.showDisplayName$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!!e.\u0275\u0275pipeBind1(4,5,t.infoIconText$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.indicatorEnabled)}}function Yi(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"alignment-group",37),e.\u0275\u0275listener("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(2).ngIf,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onModelChanged.fn({value:c,descriptor:l.descriptor}))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("aria-labelledby",e.\u0275\u0275pipeBind1(1,5,o.ariaLabelledbyId$))("ngModel",n.value)("disabled",o.formattingSlice.disabled)("mode",n.mode)("supportsNoSelection",n.supportsNoSelection)}}function qi(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"theme-color-input",38),e.\u0275\u0275listener("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(2).ngIf,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onModelChanged.fn({value:c,descriptor:l.descriptor}))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("labelId",e.\u0275\u0275pipeBind1(1,7,o.ariaLabelledbyId$))("ariaDescribedby",e.\u0275\u0275pipeBind1(2,9,o.tooltipDescriptionUid$))("ngModel",n.value)("disabled",o.formattingSlice.disabled)("defaultColor",n.defaultColor)("isNoFillItemSupported",n.isNoFillItemSupported)("pbiTooltip",e.\u0275\u0275pipeBind1(3,11,o.tooltipDescription$))}}function er(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"error-range",39),e.\u0275\u0275listener("focusChanged",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.isControlFocused$.next(c))})("onValueChanged",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(2).ngIf,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onModelChanged.fn({value:c,descriptor:l.descriptor}))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ariaLabelledby",e.\u0275\u0275pipeBind1(1,6,o.ariaLabelledbyId$))("ariaDescribedby",e.\u0275\u0275pipeBind1(2,8,o.tooltipDescriptionUid$))("disabled",o.formattingSlice.disabled)("initialExpr",n.value)("targetMeasure",n.targetMeasure)("validators",n.validators)}}function tr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"field-picker-modern-lazy",40),e.\u0275\u0275listener("onExprChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(2).ngIf,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onModelChanged.fn({value:l.unwrapExprOnGet?s.unwrapSQExpr(c.newExpr):c,descriptor:l.descriptor}))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ariaLabelledby",e.\u0275\u0275pipeBind1(1,12,o.ariaLabelledbyId$))("ariaDescribedby",e.\u0275\u0275pipeBind1(2,14,o.tooltipDescriptionUid$))("initialExpr",null==n.value?null:n.value.newExpr)("allowClear",n.allowClear)("validators",n.validators)("withFieldList",!0)("allowMultipleValues",n.allowMultipleValues)("allowReorderItems",n.allowReorderItems)("disallowReplaceItems",n.disallowReplaceItems)("getDropExprStrategy",n.getDropExprStrategy)("disabled",o.formattingSlice.disabled)("disableAutoScroll",!0)}}function nr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"font-control",41),e.\u0275\u0275listener("fontSizeFocusChanged",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(l.isControlFocused$.next(c))})("valueChanged",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(l.onCompositeControlValueChange(c.key,c.value))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var n=r.ngIf,o=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ariaLabelledby",e.\u0275\u0275pipeBind1(2,7,o.ariaLabelledbyId$))("ariaDescribedby",e.\u0275\u0275pipeBind1(3,9,o.tooltipDescriptionUid$))("fontProperties",n.fontProperties)("fontSizeFormatOption",n.fontSizeFormatOption)("fontSizeDescriptor",n.fontSizeDescriptor)("isDisabled",o.formattingSlice.disabled)("warning",e.\u0275\u0275pipeBind1(4,11,o.warningMessage$))}}function or(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,nr,5,13,"ng-container",7),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,t.fontProperties$))}}function ir(i,r){if(1&i&&e.\u0275\u0275element(0,"pbi-icon",46),2&i){var t=e.\u0275\u0275nextContext(3).ngIf;e.\u0275\u0275property("name",null==t.value?null:t.value.icon.glyph)}}function rr(i,r){if(1&i&&e.\u0275\u0275element(0,"pbi-icon",46),2&i){var t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("name",t.icon.glyph)}}function ar(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"pbi-dropdown-item",47)(1,"div",43),e.\u0275\u0275template(2,rr,1,1,"pbi-icon",44),e.\u0275\u0275elementStart(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()()),2&i){var o,t=r.$implicit,n=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("value",t)("ariaLabel",null!==(o=t.label)&&void 0!==o?o:t.displayName),e.\u0275\u0275attribute("data-testid",t.displayName+"-option"),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("rtl",n.rtl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.icon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.displayName)}}var lr=function(){return{showFullContent:!0}};function cr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pbi-dropdown",42),e.\u0275\u0275listener("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(2).ngIf,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onModelChanged.fn({value:c.value,descriptor:l.descriptor}))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementStart(4,"pbi-dropdown-trigger")(5,"div",43),e.\u0275\u0275template(6,ir,1,1,"pbi-icon",44),e.\u0275\u0275elementStart(7,"span"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(9,ar,5,7,"pbi-dropdown-item",45),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("options",e.\u0275\u0275pureFunction0(18,lr))("aria-labelledby",e.\u0275\u0275pipeBind1(1,12,o.ariaLabelledbyId$))("aria-describedby",e.\u0275\u0275pipeBind1(2,14,o.tooltipDescriptionUid$))("ngModel",n.value)("disabled",o.formattingSlice.disabled)("pbiTooltip",e.\u0275\u0275pipeBind1(3,16,o.tooltipDescription$)),e.\u0275\u0275attribute("data-testid",o.displayName+"-dropdown"),e.\u0275\u0275advance(5),e.\u0275\u0275classProp("rtl",o.rtl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==n.value?null:n.value.icon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n.value?null:n.value.displayName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.items)}}function sr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"list-editor",48),e.\u0275\u0275listener("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(2).ngIf,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onModelChanged.fn({value:c,descriptor:l.descriptor}))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("aria-labelledby",e.\u0275\u0275pipeBind1(1,4,o.ariaLabelledbyId$))("aria-describedby",e.\u0275\u0275pipeBind1(2,6,o.tooltipDescriptionUid$))("ngModel",n.value)("isDisabled",o.formattingSlice.disabled)}}function dr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"margin-padding",49),e.\u0275\u0275listener("focusChanged",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(l.isControlFocused$.next(c))})("valueChanged",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(l.onCompositeControlValueChange(c.key,c.value))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var n=r.ngIf,o=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("formatOptions",n.formatOptions)("value",n.value)("isDisabled",o.formattingSlice.disabled)}}function pr(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,dr,2,3,"ng-container",7),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,t.marginPaddingProperties$))}}function ur(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"image-upload",50,51),e.\u0275\u0275listener("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275reference(1),s=e.\u0275\u0275nextContext(2).ngIf,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.onModelChanged.fn({value:c,descriptor:s.descriptor,validationErrors:null==l?null:l.errors}))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ariaLabelledby",e.\u0275\u0275pipeBind1(2,6,o.ariaLabelledbyId$))("ariaLabelledby",e.\u0275\u0275pipeBind1(3,8,o.tooltipDescriptionUid$))("disabled",o.formattingSlice.disabled)("ngModel",n.value)("imageScalingProperties",n.imageScalingProperties)("pbiTooltip",e.\u0275\u0275pipeBind1(4,10,o.tooltipDescription$))}}function gr(i,r){if(1&i&&e.\u0275\u0275element(0,"gradient-bar",52),2&i){var t=e.\u0275\u0275nextContext(2).ngIf;e.\u0275\u0275property("colors",t.value)}}function mr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pbi-date-picker",53,51),e.\u0275\u0275listener("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275reference(1),s=e.\u0275\u0275nextContext(2).ngIf,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.onModelChanged.fn({value:c,descriptor:s.descriptor,validationErrors:null==l?null:l.errors}))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ariaLabelledByForInput",e.\u0275\u0275pipeBind1(2,10,o.ariaLabelledbyId$))("ariaDescribedby",e.\u0275\u0275pipeBind1(3,12,o.tooltipDescriptionUid$))("id",o.formattingSlice.uid+"-date-picker")("disabled",o.formattingSlice.disabled)("ngModel",n.value)("pbiMin",null==n.validators||null==n.validators.min?null:n.validators.min.value)("pbiMax",null==n.validators||null==n.validators.max?null:n.validators.max.value)("resetValidValueOnBlur",!0)("useDateFormatAsPlaceholder",!0)("pbiTooltip",e.\u0275\u0275pipeBind1(4,14,o.tooltipDescription$))}}function fr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"shape-map-selector",54),e.\u0275\u0275listener("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(2).ngIf,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onModelChanged.fn({value:c,descriptor:l.descriptor}))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ariaLabelledby",e.\u0275\u0275pipeBind1(1,9,o.ariaLabelledbyId$))("ariaDescribedby",e.\u0275\u0275pipeBind1(2,11,o.tooltipDescriptionUid$))("disabled",o.formattingSlice.disabled)("type",n.descriptor.type)("ngModel",n.value)("isAzMapReferenceSelector",n.isAzMapReferenceSelector)("enableMultipleDataFormats",n.enableMultipleDataFormats)("keepIconURLs",n.keepIconURLs)("pbiTooltip",e.\u0275\u0275pipeBind1(3,13,o.tooltipDescription$))}}var vr=function(r,t){return{unitSymbolInside:r,warning:t}},_n=function(r,t,n){return{unitSymbol:r,minValue:t,maxValue:n}};function hr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"pbi-spin-button",55,51),e.\u0275\u0275listener("focusChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.isControlFocused$.next(c))})("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275reference(2),s=e.\u0275\u0275nextContext(2).ngIf,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.onModelChanged.fn({value:c,descriptor:s.descriptor,validationErrors:null==l?null:l.errors}))}),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(20,vr,!(null!=n.options&&n.options.unitSymbolAfterInput),!!e.\u0275\u0275pipeBind1(3,12,o.warningMessage$)))("labelId",e.\u0275\u0275pipeBind1(4,14,o.ariaLabelledbyId$))("ariaDescribedby",e.\u0275\u0275pipeBind1(5,16,o.tooltipDescriptionUid$))("ngModel",n.value)("disabled",o.formattingSlice.disabled)("options",e.\u0275\u0275pureFunction3(23,_n,null==n.options?null:n.options.unitSymbol,null==n.options||null==n.options.minValue?null:n.options.minValue.value,null==n.options||null==n.options.maxValue?null:n.options.maxValue.value))("pbiMin",null==n.options||null==n.options.minValue?null:n.options.minValue.value)("pbiMax",null==n.options||null==n.options.maxValue?null:n.options.maxValue.value)("pbiRequired",null==n.options?null:n.options.required)("pbiTooltip",e.\u0275\u0275pipeBind1(6,18,o.tooltipDescription$))("placeholderText",n.placeholderText||o.formattingSlice.placeHolderText||"")("unitSymbolAfterInput",null==n.options?null:n.options.unitSymbolAfterInput)}}function _r(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"duration-picker",56),e.\u0275\u0275listener("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(2).ngIf,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onModelChanged.fn({value:c,descriptor:l.descriptor}))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("labelId",e.\u0275\u0275pipeBind1(1,5,o.ariaLabelledbyId$))("ngModel",n.value)("validators",n.validators)("disabled",o.formattingSlice.disabled)("pbiTooltip",e.\u0275\u0275pipeBind1(2,7,o.tooltipDescription$))}}function br(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"format-pane-flags-control",57),e.\u0275\u0275listener("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(2).ngIf,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onModelChanged.fn({value:c,descriptor:l.descriptor}))}),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngModel",n.value)("disabled",o.formattingSlice.disabled)("options",n.items)("sliceLabel",o.formattingSlice.displayName)}}function Cr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"slider",58,51),e.\u0275\u0275listener("inputFocusChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.isControlFocused$.next(c))})("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275reference(1),s=e.\u0275\u0275nextContext(2).ngIf,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.onModelChanged.fn({value:c,descriptor:s.descriptor,validationErrors:null==l?null:l.errors}))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("labelId",e.\u0275\u0275pipeBind1(2,9,o.ariaLabelledbyId$))("ariaDescribedby",e.\u0275\u0275pipeBind1(3,11,o.tooltipDescriptionUid$))("ngModel",n.value)("disabled",o.formattingSlice.disabled)("options",e.\u0275\u0275pureFunction3(15,_n,null==n.options?null:n.options.unitSymbol,null==n.options||null==n.options.minValue?null:n.options.minValue.value,null==n.options||null==n.options.maxValue?null:n.options.maxValue.value))("pbiMin",null==n.options||null==n.options.minValue?null:n.options.minValue.value)("pbiMax",null==n.options||null==n.options.maxValue?null:n.options.maxValue.value)("pbiRequired",null==n.options?null:n.options.required)("pbiTooltip",e.\u0275\u0275pipeBind1(4,13,o.tooltipDescription$))}}function yr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"toggle-switch-modern",59),e.\u0275\u0275listener("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(2).ngIf;return e.\u0275\u0275resetView(l.value=c)})("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(2).ngIf,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onModelChanged.fn({value:c,descriptor:l.descriptor}))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ariaLabelledby",e.\u0275\u0275pipeBind1(1,5,o.ariaLabelledbyId$))("ariaDescribedby",e.\u0275\u0275pipeBind1(2,7,o.tooltipDescriptionUid$))("ngModel",n.value)("disabled",o.formattingSlice.disabled)("pbiTooltip",e.\u0275\u0275pipeBind1(3,9,o.tooltipDescription$))}}function Mr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"font-picker",60),e.\u0275\u0275listener("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(2).ngIf,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onModelChanged.fn({value:c,descriptor:l.descriptor}))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ariaLabelledby",e.\u0275\u0275pipeBind1(1,5,o.ariaLabelledbyId$))("ariaDescribedby",e.\u0275\u0275pipeBind1(2,7,o.tooltipDescriptionUid$))("ngModel",n.value)("disabled",o.formattingSlice.disabled)("pbiTooltip",e.\u0275\u0275pipeBind1(3,9,o.tooltipDescription$))}}function Pr(i,r){1&i&&e.\u0275\u0275element(0,"pbi-icon",63)}var Sr=function(r){return{disabled:r}};function Or(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Pr,1,0,"pbi-icon",61),e.\u0275\u0275elementStart(2,"a",62),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext(2).ngIf,l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(!l.formattingSlice.disabled&&l.onLinkClicked.fn([c.value,c.descriptor]))}),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.warningIcon),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(8,Sr,o.formattingSlice.disabled))("tabindex",o.formattingSlice.disabled?-1:0)("pbiTooltip",e.\u0275\u0275pipeBind1(3,6,o.tooltipDescription$)),e.\u0275\u0275attribute("aria-label",n.ariaLabel||o.formattingSlice.displayName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",o.formattingSlice.displayName," ")}}function xr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"input",64,51),e.\u0275\u0275listener("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(2).ngIf;return e.\u0275\u0275resetView(l.value=c)})("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275reference(1),s=e.\u0275\u0275nextContext(2).ngIf,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.onModelChanged.fn({value:c,descriptor:s.descriptor,validationErrors:null==l?null:l.errors}))})("focus",function(){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(c.isControlFocused$.next(!0))})("blur",function(){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(c.isControlFocused$.next(!1))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("aria-describedby",e.\u0275\u0275pipeBind1(3,12,o.tooltipDescriptionUid$))("ngModel",n.value)("placeholder",n.placeholder||o.formattingSlice.placeHolderText||"")("pbiRequired",null==n.validators?null:n.validators.required)("pbiDashArray",null==n.validators?null:n.validators.dashArray)("pbiPattern",null==n.validators||null==n.validators.pattern?null:n.validators.pattern.regex)("pbiMaxLength",null==n.validators||null==n.validators.maxLength?null:n.validators.maxLength.value)("pbiTooltip",e.\u0275\u0275pipeBind1(4,14,o.tooltipDescription$)),e.\u0275\u0275attribute("aria-labelledby",e.\u0275\u0275pipeBind1(2,10,o.ariaLabelledbyId$))("disabled",o.formattingSlice.disabled||null)}}function wr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"textarea",65,51),e.\u0275\u0275listener("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(2).ngIf;return e.\u0275\u0275resetView(l.value=c)})("ngModelChange",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275reference(1),s=e.\u0275\u0275nextContext(2).ngIf,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.onModelChanged.fn({value:c,descriptor:s.descriptor,validationErrors:null==l?null:l.errors}))})("focus",function(){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(c.isControlFocused$.next(!0))})("blur",function(){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(c.isControlFocused$.next(!1))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275text(5,"                    "),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("aria-describedby",e.\u0275\u0275pipeBind1(3,10,o.tooltipDescriptionUid$))("ngModel",n.value)("placeholder",n.placeholder||o.formattingSlice.placeHolderText)("pbiRequired",null==n.validators?null:n.validators.required)("pbiPattern",null==n.validators||null==n.validators.pattern?null:n.validators.pattern.regex)("pbiTooltip",e.\u0275\u0275pipeBind1(4,12,o.tooltipDescription$)),e.\u0275\u0275attribute("aria-labelledby",e.\u0275\u0275pipeBind1(2,8,o.ariaLabelledbyId$))("disabled",o.formattingSlice.disabled||null)}}function Ir(i,r){if(1&i&&(e.\u0275\u0275element(0,"read-only-text",66),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async")),2&i){var t=e.\u0275\u0275nextContext(2).ngIf,n=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("noTrim",!0)("disabled",n.formattingSlice.disabled),e.\u0275\u0275property("ariaLabelledby",e.\u0275\u0275pipeBind1(1,8,n.ariaLabelledbyId$))("ariaDescribedby",e.\u0275\u0275pipeBind1(2,10,n.tooltipDescriptionUid$))("text",t.value)("pbiTooltip",e.\u0275\u0275pipeBind1(3,12,n.tooltipDescription$))}}function Tr(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Yi,2,7,"alignment-group",18),e.\u0275\u0275template(2,qi,4,13,"theme-color-input",19),e.\u0275\u0275template(3,er,3,10,"error-range",20),e.\u0275\u0275template(4,tr,3,16,"field-picker-modern-lazy",21),e.\u0275\u0275template(5,or,3,3,"ng-container",22),e.\u0275\u0275template(6,cr,10,19,"pbi-dropdown",23),e.\u0275\u0275template(7,sr,3,8,"list-editor",24),e.\u0275\u0275template(8,pr,3,3,"ng-container",22),e.\u0275\u0275template(9,ur,5,12,"image-upload",25),e.\u0275\u0275template(10,gr,1,1,"gradient-bar",26),e.\u0275\u0275template(11,mr,5,16,"pbi-date-picker",27),e.\u0275\u0275template(12,fr,4,15,"shape-map-selector",28),e.\u0275\u0275template(13,hr,7,27,"ng-container",22),e.\u0275\u0275template(14,_r,3,9,"duration-picker",29),e.\u0275\u0275template(15,br,1,4,"format-pane-flags-control",30),e.\u0275\u0275template(16,Cr,5,19,"slider",31),e.\u0275\u0275template(17,yr,4,11,"toggle-switch-modern",32),e.\u0275\u0275template(18,Mr,4,11,"font-picker",33),e.\u0275\u0275template(19,Or,5,10,"ng-container",22),e.\u0275\u0275template(20,xr,5,16,"input",34),e.\u0275\u0275template(21,wr,6,14,"textarea",35),e.\u0275\u0275template(22,Ir,4,14,"read-only-text",36),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","AlignmentGroup"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","ColorPicker"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","ErrorRangeControl"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","FieldPicker"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","FontControl"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","Dropdown"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","ListEditor"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","MarginPadding"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","ImageUpload"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","GradientBar"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","DatePicker"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","ShapeMapSelector"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","NumUpDown"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","DurationPicker"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","FlagsSelection"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","Slider"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","ToggleSwitch"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","FontPicker"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","Link"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","TextInput"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","TextArea"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","ReadOnlyText"))}function Fr(i,r){}function Er(i,r){1&i&&e.\u0275\u0275template(0,Fr,0,0,"ng-template")}function Dr(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Er,1,0,null,67),e.\u0275\u0275elementContainerEnd()),2&i){e.\u0275\u0275nextContext();var t=e.\u0275\u0275reference(21);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",t)}}function Br(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",68)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var t=r.ngIf;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t)}}function kr(i,r){}function Vr(i,r){1&i&&e.\u0275\u0275template(0,kr,0,0,"ng-template")}function Ar(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Vr,1,0,null,67),e.\u0275\u0275elementContainerEnd()),2&i){e.\u0275\u0275nextContext();var t=e.\u0275\u0275reference(21);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",t)}}function $r(i,r){if(1&i&&e.\u0275\u0275element(0,"div",75)(1,"div",76),2&i){var t=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("textContent",t.conditionalFormattingTooltipTitle),e.\u0275\u0275advance(1),e.\u0275\u0275property("textContent",t.conditionalFormattingTooltipDescription)}}function Lr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",77),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext(3).ngIf,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onModelChanged.fn({value:null,descriptor:a.descriptor}))}),e.\u0275\u0275element(1,"pbi-icon",78),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("pbiTooltip",n.removeConditionalFormattingTooltip)("disabled",n.formattingSlice.disabled)}}var Nr=function(r){return{"button-error":r}};function Ur(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",69)(2,"p",10),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"label",70),e.\u0275\u0275elementStart(6,"button",71),e.\u0275\u0275listener("click",function(){var s=e.\u0275\u0275restoreView(t).ngIf,u=e.\u0275\u0275nextContext(2).ngIf,g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.onConditionalFormattingButtonClicked.fn([s,u.descriptor]))}),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275element(9,"pbi-icon",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,$r,2,2,"ng-template",null,73,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(12,Lr,2,2,"button",74),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var n=r.ngIf,o=e.\u0275\u0275reference(11),a=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275attribute("id",e.\u0275\u0275pipeBind1(3,9,a.cfTooltipDescriptionUid$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(a.conditionalFormattingTooltipDescription),e.\u0275\u0275advance(1),e.\u0275\u0275property("localize","PropertyPane_ConditionalFormatting_CardTitle"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(17,Nr,e.\u0275\u0275pipeBind1(7,11,a.errorMessage$)))("disabled",a.formattingSlice.disabled||n.isDisabled)("pbiTooltip",o)("aria-describedby",e.\u0275\u0275pipeBind1(8,13,a.cfTooltipDescriptionUid$)),e.\u0275\u0275attribute("aria-labelledby",a.formattingSlice.uid+" condition-formatting-id"),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(13,15,a.hasDynamicExpression$))}}function Rr(i,r){if(1&i&&(e.\u0275\u0275template(0,Ur,14,19,"ng-container",7),e.\u0275\u0275pipe(1,"async")),2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,t.conditionalFormattingObjects$))}}function zr(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",1)(1,"div",2),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Ki,3,4,"p",3),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,Xi,6,7,"div",4),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementContainerStart(8,5),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275elementStart(10,"div",6),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275template(12,Tr,23,22,"ng-container",7),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275template(14,Dr,2,1,"ng-container",7),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,Br,3,1,"div",8),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275template(18,Ar,2,1,"ng-container",7),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275template(20,Rr,2,3,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275attribute("data-unique-id",t.formattingSlice.uid),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pipeBind1(2,10,t.type$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,12,t.tooltipDescription$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,14,t.showDisplayName$)||!!e.\u0275\u0275pipeBind1(7,16,t.infoIconText$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngSwitch",e.\u0275\u0275pipeBind1(9,18,t.type$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(11,20,t.disabledReason$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(13,22,t.hasDynamicExpression$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","ToggleSwitch"!==e.\u0275\u0275pipeBind1(15,24,t.type$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(17,26,t.errorMessage$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","ToggleSwitch"===e.\u0275\u0275pipeBind1(19,28,t.type$))}}var bn=0,Ot=function(i){function r(t,n,o,a){var c=i.call(this)||this;return c.featureSwitchService=t,c.localizationService=n,c.rtlService=o,c.screenReaderService=a,c.valueChanged=new e.EventEmitter,c.errorMessage$=new vt.X(void 0),c.rtl=c.rtlService.isRtlLayout,c.onObjectFormatPaneUid=c.featureSwitchService.featureSwitches.onObjectFormatPaneUid,c.onObjectFormatPaneUid&&(++bn,c.accessibleLabelId="".concat("formatting-slice","-").concat(bn)),c.isControlFocused$=new vt.X(!1),c}return(0,p.ZT)(r,i),r.prototype.ngOnInit=function(){var t=this,n=(0,S.aj)([this.changes$("formattingSlice"),this.isControlFocused$]).pipe((0,W.h)(function(l){var u=l[1];switch(l[0].control.type){case"TextArea":case"TextInput":case"NumUpDown":case"Slider":case"FontControl":case"MarginPadding":case"ErrorRangeControl":return!u;default:return!0}}),(0,b.U)(function(l){return l[0]}));this.sliceUid$=n.pipe((0,ye.O)(this.formattingSlice),(0,b.U)(function(l){return(0,se.zU)(l,t.onObjectFormatPaneUid)}));var o=n.pipe((0,te.j)("control"));this.properties$=o.pipe((0,te.j)("properties")),this.type$=o.pipe((0,te.j)("type"),(0,ce.x)()),this.displayName$=n.pipe((0,te.j)("displayName")),this.accessibleLabelId$=n.pipe((0,b.U)(function(l){if(!l.suppressDisplayName&&!_.isEmpty(l.displayName))return t.onObjectFormatPaneUid?t.accessibleLabelId:l.uid}));var a=n.pipe((0,te.j)("suppressDisplayName"),(0,ye.O)(!1));this.ariaLabelledbyId$=(0,S.aj)([this.accessibleLabelId$,this.changes$("ariaLabelledbyPrefix",!0),a]).pipe((0,b.U)(function(l){var s=l[0],u=l[1];return(u=u&&l[2]?u+" ":"")+(s??"")}));var c=n.pipe((0,te.j)("uid"));this.tooltipDescription$=n.pipe((0,b.U)(function(l){return l.description})),this.disabledReason$=n.pipe((0,b.U)(function(l){return l.disabled?l.disabledReason:void 0})),this.tooltipDescriptionUid$=(0,it.s)(function(){return t.onObjectFormatPaneUid},this.accessibleLabelId$,c).pipe((0,b.U)(function(l){return"".concat(l,"-tooltip")})),this.cfTooltipDescriptionUid$=(0,it.s)(function(){return t.onObjectFormatPaneUid},this.accessibleLabelId$,c).pipe((0,b.U)(function(l){return"".concat(l,"-cftooltip")})),this.infoIconText$=n.pipe((0,te.j)("infoIconText")),this.showDisplayName$=(0,S.aj)([n.pipe((0,te.j)("displayName")),n.pipe((0,te.j)("suppressDisplayName"))]).pipe((0,b.U)(function(l){return!l[1]&&!_.isEmpty(l[0])})),this.populateCompositeControls(o),this.setConditionalFormattingObjects(n),this.setLinkObjects(),this.setModelChangedEventAdaptor(),this.conditionalFormattingTooltipTitle=this.localizationService.get("PropertyPane_ConditionalFormatting_CardTitle"),this.conditionalFormattingTooltipDescription=this.localizationService.get("Visual_ConditionalFormatting_PaneButtonDescription"),this.removeConditionalFormattingTooltip=this.localizationService.get("FieldWell_RemoveConditionalFormatting")},r.prototype.ngAfterViewInit=function(){var t=this,n=this.changes$("formattingSlice"),o=n.pipe((0,b.U)(function(l){return(0,Qe.IW)(l)}));this.showWarningMessage$=(0,S.aj)([this.changes$("suppressWarningIcon",!0),o]).pipe((0,b.U)(function(l){return!l[0]&&!l[1]})),this.warningMessage$=n.pipe((0,te.j)("warningMessage"));var a=this.warningMessage$.pipe((0,L.M)(this.showWarningMessage$),(0,W.h)(function(l){return l[1]}),(0,b.U)(function(l){var s=l[0];return s?.title})),c=this.formControl?this.formControl.statusChanges.pipe((0,b.U)(function(l){return"INVALID"===l&&t.formControl.touched?t.getErrorMessage(t.formControl.errors):void 0})):(0,on.of)(void 0);(0,S.aj)([c,a]).pipe((0,ae.R)(this.onDestroy$),(0,b.U)(function(l){return l[0]??l[1]})).subscribe(function(l){return t.errorMessage$.next(l)}),this.errorMessage$.pipe((0,ae.R)(this.onDestroy$),(0,W.h)(function(l){return null!=l})).subscribe(function(l){return t.screenReaderService.alertPolite(l)})},r.prototype.populateCompositeControls=function(t){var n=this;this.fontProperties$=t.pipe((0,b.U)(function(o){var a,c,l,s,u,g;if("FontControl"===o.type){var v=o.properties;return{fontProperties:{fontFamily:v.fontFamily.value,fontSize:null===(a=v.fontSize)||void 0===a?void 0:a.value,bold:null===(c=v.bold)||void 0===c?void 0:c.value,italic:null===(l=v.italic)||void 0===l?void 0:l.value,underline:null===(s=v.underline)||void 0===s?void 0:s.value},fontSizeFormatOption:n.convertValidatorToFormatOption(null===(u=v.fontSize)||void 0===u?void 0:u.options),fontSizeDescriptor:null===(g=v.fontSize)||void 0===g?void 0:g.descriptor}}})),this.marginPaddingProperties$=t.pipe((0,b.U)(function(o){if("MarginPadding"===o.type){var a=o.properties;return{formatOptions:{left:n.convertValidatorToFormatOption(a.left.options),right:n.convertValidatorToFormatOption(a.right.options),top:n.convertValidatorToFormatOption(a.top.options),bottom:n.convertValidatorToFormatOption(a.bottom.options)},value:{left:a.left.value,right:a.right.value,top:a.top.value,bottom:a.bottom.value}}}}))},r.prototype.onCompositeControlValueChange=function(t,n){var o,a=this.formattingSlice.control;switch(a.type){case"FontControl":case"MarginPadding":o=a.properties[t].descriptor;break;default:return void f.fF.assertNever(a)}this.onModelChanged.fn({value:n,descriptor:o})},r.prototype.unwrapSQExpr=function(t){if(t)return _.isArray(t)?_.map(t,function(n){return n.expr}):t.expr},r.prototype.convertValidatorToFormatOption=function(t){var n,o;if(t)return{unitSymbol:t.unitSymbol,maxValue:null===(n=t.maxValue)||void 0===n?void 0:n.value,minValue:null===(o=t.minValue)||void 0===o?void 0:o.value}},r.prototype.setConditionalFormattingObjects=function(t){var n=this;this.conditionalFormattingObjects$=t.pipe((0,b.U)(function(o){return(0,Qe.IW)(o)?void 0:o.conditionalFormattingObjects})),this.hasDynamicExpression$=this.conditionalFormattingObjects$.pipe((0,te.j)("isSet")),this.onConditionalFormattingButtonClicked=this.createEventAdapter(),this.onConditionalFormattingButtonClicked.$.pipe((0,an.z)(function(o){return(0,rn.D)(n.showCondtitionalFormattingDialog(o[1],o[0]))})).subscribe(function(o){var c=o[1];c&&c.shouldSave&&n.onValueChange(c.value,o[0])})},r.prototype.showCondtitionalFormattingDialog=function(t,n){return(0,p.mG)(this,void 0,void 0,function(){var o;return(0,p.Jh)(this,function(a){switch(a.label){case 0:return o=[t],[4,n.showDialog()];case 1:return[2,o.concat([a.sent()])]}})})},r.prototype.setLinkObjects=function(){var t=this;this.onLinkClicked=this.createEventAdapter(),this.onLinkClicked.$.pipe((0,an.z)(function(n){return(0,rn.D)(t.linkCallback(n[1],n[0]))})).subscribe(function(n){var a=n[1];void 0!==a&&t.onValueChange(a,n[0])})},r.prototype.linkCallback=function(t,n){return(0,p.mG)(this,void 0,void 0,function(){var o;return(0,p.Jh)(this,function(a){switch(a.label){case 0:return o=[t],[4,n()];case 1:return[2,o.concat([a.sent()])]}})})},r.prototype.setModelChangedEventAdaptor=function(){var t=this;this.onModelChanged=this.createEventAdapter(),this.onModelChanged.$.pipe((0,L.M)(this.sliceUid$),(0,b.U)(function(o){return o[0]}),(0,W.h)(function(o){return!o.validationErrors})).pipe((0,L.M)(this.type$),(0,Lo.D)(function(o){switch(o[1]){case"TextArea":case"TextInput":case"NumUpDown":case"Slider":case"FontControl":case"MarginPadding":return(0,$o.H)(500);default:return tn.E}})).subscribe(function(o){var a=o[0];return t.onValueChange(a.value,a.descriptor)})},r.prototype.onValueChange=function(t,n){var o=this.getFormattingSliceSaveObject(t,n);this.valueChanged.emit(o)},r.prototype.getFormattingSliceSaveObject=function(t,n){var o,a,c,l,s,v={objectName:n.objectName,uid:this.formattingSlice.uid,hasDynamicExpressionSupport:this.formattingSlice.conditionalFormattingObjects&&this.formattingSlice.conditionalFormattingObjects.isSet,propertySlice:{name:n.propertyName,value:t,type:n.type,selector:n.selector,altConstantValueSelector:n.altConstantValueSelector},formattingSource:this.formattingSlice.originSource,visualUpdateSource:0,conditionalFormatting:!!this.formattingSlice.conditionalFormattingObjects},h=this.formattingSlice.control;if("Dropdown"===h.type)v.controlValueUpdater=function(Ge){var Et=_.find(Ge.properties.items,function(Hl){return Hl.value===v.propertySlice.value});Ge.properties.value=Et};else if("FontControl"===h.type||"MarginPadding"===h.type)v.controlValueUpdater=function(Ge){var Ft=_.find(Object.keys(Ge.properties),function(Et){return _.isEqual(Ge.properties[Et].descriptor,n)});Ge.properties[Ft].value=v.propertySlice.value};else if("FieldPicker"===h.type){var C=t;if(h.properties.splitValuesIntoInstances&&_.isArray(C?.newExpr)){var B=C.fromUpdate;switch(B.type){case"add":var H=B.added.position,N="end"===H?C.newExpr.length-1:_.first(H),R=C.newExpr[N];v.propertySlice=(0,p.pi)((0,p.pi)({},v.propertySlice),{value:R.expr,selector:(0,p.pi)((0,p.pi)({},n.selector),{id:null!==(c=R.metadata)&&void 0!==c?c:"field-"+_t(),order:N})});break;case"replace":var q=(o=B.replaced).position,_e=o.originalMetadata,Se=_.first(q),Ve=C.newExpr[Se],we=null!==(l=Ve.metadata)&&void 0!==l?l:_e;f.fF.assertValue(we,"expected to find metadata if replacing (will be on `newExpr[order]` if updating aggregation type, will be in `originalMetadata` if replacing field"),v.propertySlice=(0,p.pi)((0,p.pi)({},v.propertySlice),{value:Ve.expr,selector:(0,p.pi)((0,p.pi)({},n.selector),{id:we??"field-".concat(_t()),order:Se})});break;case"delete":var qe=(a=B.deleted).position,et=a.metadata,It=_.first(qe);v.propertySlice=(0,p.pi)((0,p.pi)({},v.propertySlice),{value:void 0,selector:(0,p.pi)((0,p.pi)({},n.selector),{id:et,order:It})});break;case"initialize":case"rename":break;case"reorder":var Wl=_.first(B.reordered.fromPosition),pt=_.first(B.reordered.toPosition),Tt=C.newExpr[Wl>pt?pt:pt-1];f.fF.assertValue(Tt,"reordered field expected to be found"),v.propertySlice=(0,p.pi)((0,p.pi)({},v.propertySlice),{value:Tt.expr,selector:(0,p.pi)((0,p.pi)({},n.selector),{id:null!==(s=Tt.metadata)&&void 0!==s?s:"field-"+_t(),order:pt})});break;default:f.fF.assertNever(B)}}}return{changes:[v]}},r.prototype.getErrorMessage=function(t){var n=+Object.keys(t)[0];switch(n){case 0:return this.localizationService.format("DurationPicker_Error_Below_Minimum",t[n].thresholdValue);case 1:return this.localizationService.format("DurationPicker_Error_Above_Maximum",t[n].thresholdValue);case 2:return this.localizationService.get("Value_Required");case 3:case 4:return this.localizationService.get("Value_Invalid");case 5:return this.localizationService.format("InputDialog_StringTooLong",t[n]);default:return""}},r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(Fe.vZ),e.\u0275\u0275directiveInject(ne.o),e.\u0275\u0275directiveInject(zo.q),e.\u0275\u0275directiveInject(cn.g))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["formatting-slice"]],viewQuery:function(n,o){var a;(1&n&&e.\u0275\u0275viewQuery(Wi,5),2&n)&&(e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.formControl=a.first))},inputs:{searchString:"searchString",formattingSlice:"formattingSlice",indicatorEnabled:"indicatorEnabled",suppressWarningIcon:"suppressWarningIcon",ariaLabelledbyPrefix:"ariaLabelledbyPrefix"},outputs:{valueChanged:"valueChanged"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["class","formatting-slice","data-automation-type","formatting-slice",4,"ngIf"],["data-automation-type","formatting-slice",1,"formatting-slice"],[1,"info-and-control",3,"ngClass"],["class","formatting-slice-tooltip-description",4,"ngIf"],["class","nameAndInfoIconContainer",4,"ngIf"],[3,"ngSwitch"],["pbiTooltipShowDelay","500",1,"formatting-slice-content",3,"pbiTooltip"],[4,"ngIf"],["class","error-message",4,"ngIf"],["conditionalFormatting",""],[1,"formatting-slice-tooltip-description"],[1,"nameAndInfoIconContainer"],["class","displayName","pbiTooltipShowDelay","500",3,"text","search","pbiTooltip","disabled",4,"ngIf"],["name","info","size","mini",3,"pbiTooltip",4,"ngIf"],["class","change-indicator",3,"ngClass","type","showChangeIndicator",4,"ngIf"],["pbiTooltipShowDelay","500",1,"displayName",3,"text","search","pbiTooltip"],["name","info","size","mini",3,"pbiTooltip"],[1,"change-indicator",3,"ngClass","type","showChangeIndicator"],[3,"aria-labelledby","ngModel","disabled","mode","supportsNoSelection","ngModelChange",4,"ngSwitchCase"],["data-testid","font-theme-color-input","class","control-width","pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",3,"labelId","ariaDescribedby","ngModel","disabled","defaultColor","isNoFillItemSupported","pbiTooltip","ngModelChange",4,"ngSwitchCase"],["class","control-width",3,"ariaLabelledby","ariaDescribedby","disabled","initialExpr","targetMeasure","validators","focusChanged","onValueChanged",4,"ngSwitchCase"],["class","control-width",3,"ariaLabelledby","ariaDescribedby","initialExpr","allowClear","validators","withFieldList","allowMultipleValues","allowReorderItems","disallowReplaceItems","getDropExprStrategy","disabled","disableAutoScroll","onExprChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","control-width","compact","","pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",3,"options","aria-labelledby","aria-describedby","ngModel","disabled","pbiTooltip","ngModelChange",4,"ngSwitchCase"],["class","control-width",3,"aria-labelledby","aria-describedby","ngModel","isDisabled","ngModelChange",4,"ngSwitchCase"],["class","control-width","fileType","Image",3,"ariaLabelledby","disabled","ngModel","imageScalingProperties","pbiTooltip","ngModelChange",4,"ngSwitchCase"],["class","control-width",3,"colors",4,"ngSwitchCase"],["class","control-width","pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",3,"ariaLabelledByForInput","ariaDescribedby","id","disabled","ngModel","pbiMin","pbiMax","resetValidValueOnBlur","useDateFormatAsPlaceholder","pbiTooltip","ngModelChange",4,"ngSwitchCase"],["class","control-width","pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",3,"ariaLabelledby","ariaDescribedby","disabled","type","ngModel","isAzMapReferenceSelector","enableMultipleDataFormats","keepIconURLs","pbiTooltip","ngModelChange",4,"ngSwitchCase"],["pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",3,"labelId","ngModel","validators","disabled","pbiTooltip","ngModelChange",4,"ngSwitchCase"],[3,"ngModel","disabled","options","sliceLabel","ngModelChange",4,"ngSwitchCase"],["pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true","name","slider",3,"labelId","ariaDescribedby","ngModel","disabled","options","pbiMin","pbiMax","pbiRequired","pbiTooltip","inputFocusChange","ngModelChange",4,"ngSwitchCase"],["pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",3,"ariaLabelledby","ariaDescribedby","ngModel","disabled","pbiTooltip","ngModelChange",4,"ngSwitchCase"],["class","control-width","compact","","pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",3,"ariaLabelledby","ariaDescribedby","ngModel","disabled","pbiTooltip","ngModelChange",4,"ngSwitchCase"],["data-testid","formatting-slice-text-input","type","text","class","control-width pbi-small-text-input","name","textInput","pbiTooltipMouseDisabled","true",3,"aria-describedby","ngModel","placeholder","pbiRequired","pbiDashArray","pbiPattern","pbiMaxLength","pbiTooltip","ngModelChange","focus","blur",4,"ngSwitchCase"],["type","text","class","control-width pbi-text-textarea","name","textArea","pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",3,"aria-describedby","ngModel","placeholder","pbiRequired","pbiPattern","pbiTooltip","ngModelChange","focus","blur",4,"ngSwitchCase"],["pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",3,"ariaLabelledby","ariaDescribedby","text","noTrim","disabled","pbiTooltip",4,"ngSwitchCase"],[3,"aria-labelledby","ngModel","disabled","mode","supportsNoSelection","ngModelChange"],["data-testid","font-theme-color-input","pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",1,"control-width",3,"labelId","ariaDescribedby","ngModel","disabled","defaultColor","isNoFillItemSupported","pbiTooltip","ngModelChange"],[1,"control-width",3,"ariaLabelledby","ariaDescribedby","disabled","initialExpr","targetMeasure","validators","focusChanged","onValueChanged"],[1,"control-width",3,"ariaLabelledby","ariaDescribedby","initialExpr","allowClear","validators","withFieldList","allowMultipleValues","allowReorderItems","disallowReplaceItems","getDropExprStrategy","disabled","disableAutoScroll","onExprChange"],[1,"control-width",3,"ariaLabelledby","ariaDescribedby","fontProperties","fontSizeFormatOption","fontSizeDescriptor","isDisabled","warning","fontSizeFocusChanged","valueChanged"],["compact","","pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",1,"control-width",3,"options","aria-labelledby","aria-describedby","ngModel","disabled","pbiTooltip","ngModelChange"],[1,"dropdown-container"],["size","small",3,"name",4,"ngIf"],[3,"value","ariaLabel",4,"ngFor","ngForOf"],["size","small",3,"name"],[3,"value","ariaLabel"],[1,"control-width",3,"aria-labelledby","aria-describedby","ngModel","isDisabled","ngModelChange"],[3,"formatOptions","value","isDisabled","focusChanged","valueChanged"],["fileType","Image",1,"control-width",3,"ariaLabelledby","disabled","ngModel","imageScalingProperties","pbiTooltip","ngModelChange"],["formControl","ngModel"],[1,"control-width",3,"colors"],["pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",1,"control-width",3,"ariaLabelledByForInput","ariaDescribedby","id","disabled","ngModel","pbiMin","pbiMax","resetValidValueOnBlur","useDateFormatAsPlaceholder","pbiTooltip","ngModelChange"],["pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",1,"control-width",3,"ariaLabelledby","ariaDescribedby","disabled","type","ngModel","isAzMapReferenceSelector","enableMultipleDataFormats","keepIconURLs","pbiTooltip","ngModelChange"],["pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true","name","numUpDown",1,"control-width",3,"ngClass","labelId","ariaDescribedby","ngModel","disabled","options","pbiMin","pbiMax","pbiRequired","pbiTooltip","placeholderText","unitSymbolAfterInput","focusChange","ngModelChange"],["pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",3,"labelId","ngModel","validators","disabled","pbiTooltip","ngModelChange"],[3,"ngModel","disabled","options","sliceLabel","ngModelChange"],["pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true","name","slider",3,"labelId","ariaDescribedby","ngModel","disabled","options","pbiMin","pbiMax","pbiRequired","pbiTooltip","inputFocusChange","ngModelChange"],["pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",3,"ariaLabelledby","ariaDescribedby","ngModel","disabled","pbiTooltip","ngModelChange"],["compact","","pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",1,"control-width",3,"ariaLabelledby","ariaDescribedby","ngModel","disabled","pbiTooltip","ngModelChange"],["class","link-warning","name","warning","size","small",4,"ngIf"],["pbiTooltipMouseDisabled","true",1,"link-button",3,"ngClass","tabindex","pbiTooltip","click"],["name","warning","size","small",1,"link-warning"],["data-testid","formatting-slice-text-input","type","text","name","textInput","pbiTooltipMouseDisabled","true",1,"control-width","pbi-small-text-input",3,"aria-describedby","ngModel","placeholder","pbiRequired","pbiDashArray","pbiPattern","pbiMaxLength","pbiTooltip","ngModelChange","focus","blur"],["type","text","name","textArea","pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",1,"control-width","pbi-text-textarea",3,"aria-describedby","ngModel","placeholder","pbiRequired","pbiPattern","pbiTooltip","ngModelChange","focus","blur"],["pbiTooltipCheckChildren","true","pbiTooltipMouseDisabled","true",3,"ariaLabelledby","ariaDescribedby","text","pbiTooltip"],[4,"ngTemplateOutlet"],[1,"error-message"],[1,"icons-container"],["id","condition-formatting-id",1,"formatting-slice-tooltip-description",3,"localize"],["data-testid","conditional-formatting-indicator","pbiTooltipProgramDisabled","true",1,"conditional-formatting-indicator",3,"ngClass","disabled","pbiTooltip","aria-describedby","click"],["name","variable","size","small"],["tooltipTemplateRef",""],["class","conditional-formatting-revert-indicator",3,"pbiTooltip","disabled","click",4,"ngIf"],[1,"conditional-formatting-tooltip-title",3,"textContent"],[3,"textContent"],[1,"conditional-formatting-revert-indicator",3,"pbiTooltip","disabled","click"],["name","eraser","size","small"]],template:function(n,o){1&n&&(e.\u0275\u0275template(0,zr,22,30,"div",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,o.properties$))},dependencies:[x.NgClass,x.NgForOf,x.NgIf,x.NgTemplateOutlet,x.NgSwitch,x.NgSwitchCase,Go,jo,Wo,Ko,Qo,Ho,Jo.w,Ie.m,Bt.w,y.Fj,y.JJ,y.On,pe.X,ue.H,Ae.r,Be._,ue.T,ft._,T._,be.a,xe.V,Zo.P,Xo.oO,Yo.N,w,Dt,kt,At,bt,Ct,gn,mn,dt,fn,hn,X,x.AsyncPipe],styles:['[_nghost-%COMP%]{display:block}.dropdown-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}[_ngcontent-%COMP%]:not(.rtl)   .dropdown-container[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{margin-right:4px}.rtl[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{margin-left:4px}.dropdown-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.formatting-slice[_ngcontent-%COMP%]{--conditional-formatting-button-background-color: var(--fluent-theme-white-color, #FFF);--conditional-formatting-button-hover-background-color: var(--gray-40, #E1DFDD);--conditional-formatting-button-active-border-color: var(--gray-130, #605E5C);--conditional-formatting-button-border-background-color: var(--gray-110, #8A8886);--conditional-formatting-button-disabled-background-color: var(--gray-20, #F3F2F1);--conditional-formatting-button-border-disabled-color: var(--gray-60, #C8C6C4)}.formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]{display:flex;flex-direction:column}.formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   pbi-highlight[_ngcontent-%COMP%]{margin-bottom:4px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin-right:4px}.formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   pbi-highlight.disabled[_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D)}.formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-grow:1;min-width:0}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{margin:0 0 2px 4px}html[dir="rtl"][_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{margin:0 4px 2px 0}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]{margin-left:auto}html[dir="rtl"][_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]{margin-right:auto}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]{margin-right:48px}html[dir="rtl"][_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]{margin-left:48px}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]   .change-indicator.with-toggle[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]   .change-indicator.with-toggle[_ngcontent-%COMP%]{margin-right:16px}html[dir="rtl"][_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]   .change-indicator.with-toggle[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .nameAndInfoIconContainer[_ngcontent-%COMP%]   .change-indicator.with-toggle[_ngcontent-%COMP%]{margin-left:16px}.formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .fixed-width[_ngcontent-%COMP%], .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .control-width[_ngcontent-%COMP%]{width:100%;flex:1}.formatting-slice[_ngcontent-%COMP%]   .info-and-control.ColorPicker[_ngcontent-%COMP%]   .control-width[_ngcontent-%COMP%]{flex:none;width:52px}.formatting-slice[_ngcontent-%COMP%]   .info-and-control.DatePicker[_ngcontent-%COMP%]   pbi-date-picker[_ngcontent-%COMP%]{background-color:var(--fluent-theme-white-color);border-color:var(--gray-110)}.formatting-slice[_ngcontent-%COMP%]   .info-and-control.FieldPicker[_ngcontent-%COMP%]   .formatting-slice-content[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif)!important;font-size:var(--sm-font-size, 12px)!important;font-weight:var(--font-weight-regular, 400)!important}.formatting-slice[_ngcontent-%COMP%]   .info-and-control.ListEditor[_ngcontent-%COMP%]   .displayName[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-semi-bold, 600)}.formatting-slice[_ngcontent-%COMP%]   .info-and-control.NumUpDown[_ngcontent-%COMP%]   .control-width[_ngcontent-%COMP%]{flex:none}.formatting-slice[_ngcontent-%COMP%]   .info-and-control.NumUpDown[_ngcontent-%COMP%]   .control-width.unitSymbolInside[_ngcontent-%COMP%]{width:70px}.formatting-slice[_ngcontent-%COMP%]   .info-and-control.Slider[_ngcontent-%COMP%]   .formatting-slice-content[_ngcontent-%COMP%]   slider[_ngcontent-%COMP%]{flex-grow:1}.formatting-slice[_ngcontent-%COMP%]   .info-and-control.TextArea[_ngcontent-%COMP%]   .formatting-slice-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);resize:vertical;min-height:80px}.formatting-slice[_ngcontent-%COMP%]   .info-and-control.TextArea[_ngcontent-%COMP%]   .formatting-slice-content[_ngcontent-%COMP%]   textarea.ng-invalid.ng-dirty[_ngcontent-%COMP%]{border-color:var(--fluent-theme-error-dark-color, #A80000)}.formatting-slice[_ngcontent-%COMP%]   .info-and-control.TextInput[_ngcontent-%COMP%]   .formatting-slice-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);height:24px}.formatting-slice[_ngcontent-%COMP%]   .info-and-control.TextInput[_ngcontent-%COMP%]   .formatting-slice-content[_ngcontent-%COMP%]   input.ng-invalid.ng-dirty[_ngcontent-%COMP%]{border-color:var(--fluent-theme-error-dark-color, #A80000)}.formatting-slice[_ngcontent-%COMP%]   .info-and-control.ToggleSwitch[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;width:100%}.formatting-slice[_ngcontent-%COMP%]   .info-and-control.ToggleSwitch[_ngcontent-%COMP%]   .formatting-slice-content[_ngcontent-%COMP%]{flex:none}.formatting-slice[_ngcontent-%COMP%]   .info-and-control.ToggleSwitch[_ngcontent-%COMP%]   .formatting-slice-content[_ngcontent-%COMP%]   toggle-switch-modern[_ngcontent-%COMP%]{width:32px}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control.EmptyControl[_ngcontent-%COMP%]   .conditional-formatting-indicator[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control.EmptyControl[_ngcontent-%COMP%]   .conditional-formatting-indicator[_ngcontent-%COMP%]{margin-left:0}html[dir="rtl"][_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control.EmptyControl[_ngcontent-%COMP%]   .conditional-formatting-indicator[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control.EmptyControl[_ngcontent-%COMP%]   .conditional-formatting-indicator[_ngcontent-%COMP%]{margin-right:0}.formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   gradient-bar[_ngcontent-%COMP%]{height:20px}.formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .formatting-slice-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;flex-grow:1}.formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .break[_ngcontent-%COMP%]{display:none}.formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%]{cursor:pointer;color:var(--fluent-theme-link-color, #0078D4);font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif)}html[data-focus-source="key"][_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%]:focus, html[data-focus-source="key"]   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%]:active{color:var(--fluent-theme-link-darker-alt-color, #106EBE)}.formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%]:hover:not(.disabled){text-decoration:underline}.formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .link-button.disabled[_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D);cursor:default}.formatting-slice[_ngcontent-%COMP%]   .info-and-control[_ngcontent-%COMP%]   .link-warning[_ngcontent-%COMP%]{color:var(--fluent-theme-error-dark-color, #A80000);padding-right:6px}  [data-legacy-theming=false] .formatting-slice{--conditional-formatting-button-background-color: var(--colorNeutralBackground1);--conditional-formatting-button-hover-background-color: var(--colorNeutralBackground1Hover);--conditional-formatting-button-active-border-color: var(--colorNeutralStroke1Hover);--conditional-formatting-button-disabled-background-color: var(--colorNeutralBackgroundDisabled);--conditional-formatting-button-border-background-color: var(--colorNeutralStroke1);--conditional-formatting-button-border-disabled-color: var(--colorNeutralStrokeDisabled)}.formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-indicator[_ngcontent-%COMP%], .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-revert-indicator[_ngcontent-%COMP%]{cursor:pointer;border:1px solid var(--conditional-formatting-button-border-background-color);border-radius:2px;height:24px;width:24px;background:var(--conditional-formatting-button-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-indicator[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-indicator[_ngcontent-%COMP%], html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-revert-indicator[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-revert-indicator[_ngcontent-%COMP%]{margin-left:4px}html[dir="rtl"][_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-indicator[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-indicator[_ngcontent-%COMP%], html[dir="rtl"][_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-revert-indicator[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-revert-indicator[_ngcontent-%COMP%]{margin-right:4px}.formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-indicator.button-error[_ngcontent-%COMP%], .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-revert-indicator.button-error[_ngcontent-%COMP%]{border:1px solid var(--fluent-theme-error-dark-color, #A80000)}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-indicator.control-width[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-indicator.control-width[_ngcontent-%COMP%], html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-revert-indicator.control-width[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-revert-indicator.control-width[_ngcontent-%COMP%]{margin-left:0}html[dir="rtl"][_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-indicator.control-width[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-indicator.control-width[_ngcontent-%COMP%], html[dir="rtl"][_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-revert-indicator.control-width[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-revert-indicator.control-width[_ngcontent-%COMP%]{margin-right:0}.formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-indicator[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%], .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-revert-indicator[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{position:relative;padding:1px;top:1px}html[data-focus-source="key"][_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-indicator[_ngcontent-%COMP%]:focus   pbi-icon[_ngcontent-%COMP%], html[data-focus-source="key"]   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-indicator[_ngcontent-%COMP%]:focus   pbi-icon[_ngcontent-%COMP%], html[data-focus-source="key"][_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-revert-indicator[_ngcontent-%COMP%]:focus   pbi-icon[_ngcontent-%COMP%], html[data-focus-source="key"]   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-revert-indicator[_ngcontent-%COMP%]:focus   pbi-icon[_ngcontent-%COMP%]{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-indicator[disabled][_ngcontent-%COMP%], .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-revert-indicator[disabled][_ngcontent-%COMP%]{background-color:var(--conditional-formatting-button-disabled-background-color);border-color:var(--conditional-formatting-button-border-disabled-color);pointer-events:none;color:var(--gray-80, #B3B0AD)}.formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-indicator.selected[_ngcontent-%COMP%], .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-revert-indicator.selected[_ngcontent-%COMP%]{background:var(--gray-50, #D2D0CE)}.formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-indicator[_ngcontent-%COMP%]:hover:not(.selected):not(disabled), .formatting-slice[_ngcontent-%COMP%]   .conditional-formatting-revert-indicator[_ngcontent-%COMP%]:hover:not(.selected):not(disabled){background:var(--conditional-formatting-button-hover-background-color);border-color:var(--conditional-formatting-button-active-border-color)}.formatting-slice[_ngcontent-%COMP%]   warning[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400)}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   warning[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   warning[_ngcontent-%COMP%]{margin-left:4px}html[dir="rtl"][_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   warning[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-slice[_ngcontent-%COMP%]   warning[_ngcontent-%COMP%]{margin-right:4px}.formatting-slice[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:var(--fluent-theme-error-dark-color, #A80000)}.formatting-slice[_ngcontent-%COMP%]   .formatting-slice-tooltip-description[_ngcontent-%COMP%]{display:none}.conditional-formatting-tooltip-title[_ngcontent-%COMP%]{font-weight:var(--font-weight-bold, 700)}'],changeDetection:0}),r}(Oe.w);function Wr(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"p",4),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&i){var t=r.ngIf,n=e.\u0275\u0275nextContext();e.\u0275\u0275attribute("id",e.\u0275\u0275pipeBind1(1,2,n.tooltipDescriptionUid$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t,"")}}var Kr=function(r){return[r]};function Hr(i,r){if(1&i&&(e.\u0275\u0275element(0,"i",12),e.\u0275\u0275pipe(1,"async")),2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(3,Kr,e.\u0275\u0275pipeBind1(1,1,t.expanded$)?"pbi-glyph-chevrondownmedium":"pbi-glyph-arrowright"))}}var Qr=function(r){return{"with-toggle":r}};function Jr(i,r){if(1&i&&e.\u0275\u0275element(0,"property-change-indicator",13),2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(3,Qr,t.formattingGroup.topLevelToggle))("type","group")("showChangeIndicator",t.formattingGroup.showChangeIndicator)}}function Zr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"formatting-slice",14),e.\u0275\u0275listener("click",function(a){return a.stopPropagation()})("keyup.enter",function(a){return a.stopPropagation()})("keyup.space",function(a){return a.stopPropagation()})("valueChanged",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(c.onTopLevelToggleValueChanged(a))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("formattingSlice",n.formattingGroup.topLevelToggle)("ariaLabelledbyPrefix",e.\u0275\u0275pipeBind1(1,3,n.accessibleLabelId$))("suppressWarningIcon",!0)}}function Xr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275listener("accessible-click",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.formattingGroup.collapsible&&c.toggleButton.fn(a))})("keydown",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.toggleButtonKeyboard.fn(a))}),e.\u0275\u0275elementStart(1,"button",6),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275elementStart(9,"div",7),e.\u0275\u0275template(10,Hr,2,5,"i",8),e.\u0275\u0275element(11,"pbi-highlight",9),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(14,Jr,1,5,"property-change-indicator",10),e.\u0275\u0275template(15,Zr,2,5,"formatting-slice",11),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275classProp("disabled-group",e.\u0275\u0275pipeBind1(2,18,n.disabled$))("not-collapsible",!e.\u0275\u0275pipeBind1(3,20,n.disabled$)&&!n.formattingGroup.collapsible),e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(5,24,n.tooltipDescription$))("aria-describedby",e.\u0275\u0275pipeBind1(7,28,n.tooltipDescriptionUid$))("aria-label",e.\u0275\u0275pipeBind1(8,30,n.displayName$)),e.\u0275\u0275attribute("disabled",n.formattingGroup.disableInteractivity||n.formattingGroup.disabled||!n.formattingGroup.collapsible||null)("aria-disabled",e.\u0275\u0275pipeBind1(4,22,n.disabled$))("role",n.formattingGroup.collapsible?"button":"none")("tabIndex",n.formattingGroup.collapsible?0:-1)("aria-expanded",e.\u0275\u0275pipeBind1(6,26,n.expanded$)),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",n.formattingGroup.collapsible),e.\u0275\u0275advance(1),e.\u0275\u0275property("text",e.\u0275\u0275pipeBind1(12,32,n.displayName$))("search",n.searchString),e.\u0275\u0275attribute("id",e.\u0275\u0275pipeBind1(13,34,n.accessibleLabelId$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.indicatorEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.formattingGroup.topLevelToggle)}}function Yr(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"formatting-slice",20),e.\u0275\u0275listener("valueChanged",function(l){e.\u0275\u0275restoreView(t);var s=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(s.onSliceValueChanged(l))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var a,n=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("indicatorEnabled",o.indicatorEnabled)("searchString",o.searchString)("formattingSlice",n)("ariaLabelledbyPrefix",null!==(a=e.\u0275\u0275pipeBind1(1,4,o.accessibleLabelId$))&&void 0!==a?a:o.formattingCardLabelUid)}}function qr(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Yr,2,6,"formatting-slice",19),e.\u0275\u0275elementContainerEnd()),2&i){var t=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.hidden)}}function ea(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",21),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.applyButtonClicked.fn())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("disabled",!e.\u0275\u0275pipeBind1(1,2,n.applyButtonEnabled$)||null)("localize","Apply")}}function ta(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275listener("keydown.escape",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onEscKey.fn(c))}),e.\u0275\u0275template(1,qr,2,1,"ng-container",17),e.\u0275\u0275template(2,ea,2,4,"button",18),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2).ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n)("ngForTrackBy",o.sliceUid),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,3,o.showApplyButton$))}}function na(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ta,4,5,"div",15),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,t.expanded$)||!t.formattingGroup.collapsible)}}function oa(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,na,3,3,"ng-container",3),e.\u0275\u0275elementContainerEnd()),2&i){var t=r.ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==t.length)}}var ia=function(r){return{"no-display-name":r}},Cn=0,yn=function(i){function r(t,n,o){var a=i.call(this)||this;return a.featureSwitchService=t,a.formattingPaneComponentStore=n,a.highContrastCssGenerationService=o,a.onGroupToggled=new e.EventEmitter,a.valueChanged=new e.EventEmitter,a.bufferedSliceChangesDestroy$=new Ze.xQ,a.featureSwitchService.featureSwitches.onObjectFormatPaneUid&&(++Cn,a.accessibleLabelId="".concat("formatting-group","-").concat(Cn)),a}return(0,p.ZT)(r,i),r.prototype.ngOnInit=function(){var t=this;this.formattingGroupChanges$=this.changes$("formattingGroup"),this.slices$=this.formattingGroupChanges$.pipe((0,ae.R)(this.onDestroy$),(0,ke.w)(function(l){return(0,S.aj)(l.sliceIds.map(function(s){return t.formattingPaneComponentStore.selectSlice(s.uid,s.selector)}))}),(0,b.U)(function(l){return l.filter(function(s){return!!s})}));var n=this.formattingGroupChanges$.pipe((0,te.j)("description")),o=this.formattingGroupChanges$.pipe((0,te.j)("disabledReason"));this.disabled$=this.formattingGroupChanges$.pipe((0,te.j)("disabled")),this.displayName$=this.formattingGroupChanges$.pipe((0,te.j)("displayName")),this.accessibleLabelId$=this.formattingGroupChanges$.pipe((0,b.U)(function(l){if(!l.suppressDisplayName&&!_.isEmpty(l.displayName))return t.featureSwitchService.featureSwitches.onObjectFormatPaneUid?t.accessibleLabelId:l.uid})),this.tooltipDescription$=this.disabled$.pipe((0,ke.w)(function(l){return l?o:n}));var a=this.formattingGroupChanges$.pipe((0,te.j)("uid"));this.tooltipDescriptionUid$=(0,it.s)(function(){return t.featureSwitchService.featureSwitches.onObjectFormatPaneUid},this.accessibleLabelId$,a).pipe((0,b.U)(function(l){return"".concat(l,"-tooltip")}));var c=this.formattingGroupChanges$.pipe((0,te.j)("toggleState"));this.expanded$=c.pipe((0,b.U)(function(l){return ot(l,""!==t.searchString)})),this.toggleButton=this.createEventAdapter(),this.toggleButton.$.pipe((0,L.M)(c,this.disabled$)).subscribe(function(l){var u=l[1];return l[2]?l[0].stopPropagation():t.onGroupToggled.emit({source:0,toggleState:Ut(u,""!==t.searchString)})}),this.toggleButtonKeyboard=this.createEventAdapter(),this.toggleButtonKeyboard.$.subscribe(function(l){Lt(l,t.toggleButton.fn,function(s){return s.classList.contains("focus-formatting-groups")},function(s){return s.hasAttribute("focus-formatting-group-button")})}),this.onEscKey=this.createEventAdapter(),this.onEscKey.$.subscribe(function(l){Nt(l,function(s){return"true"===s.getAttribute("focus-formatting-group")||s.hasAttribute("focus-formatting-card")})}),this.setUpBufferedApply(),this.initializeHighContrastRules()},r.prototype.sliceUid=function(t,n){var o=(0,se.O7)(n);return(0,se.$Q)(n.uid,o)},r.prototype.onTopLevelToggleValueChanged=function(t){var n=t.changes;f.fF.assert(function(){return 1===_.size(n)},"Expect the saveObject coming from a slice contains only 1 change");var o=(0,p.pi)((0,p.pi)({},n[0]),{isTopLevelToggle:!0}),a=(0,p.pi)((0,p.pi)({},t),{changes:[o]});this.valueChanged.emit(a)},r.prototype.onSliceValueChanged=function(t){f.fF.assert(function(){return 1===_.size(t.changes)},"Expect the saveObject coming from a slice contains only 1 change"),this.formattingGroup.delaySaveSlices&&this.bufferedSlicesValueChangeDictionary[t.changes[0].uid].next(t);var o=(0,p.pi)((0,p.pi)({},t),{suppressSave:this.formattingGroup.delaySaveSlices});this.valueChanged.emit(o)},r.prototype.setUpBufferedApply=function(){var t=this;this.onDestroy$.pipe().subscribe(function(o){t.bufferedSliceChangesDestroy$.next(),t.bufferedSliceChangesDestroy$.complete()}),this.showApplyButton$=this.formattingGroupChanges$.pipe((0,te.j)("delaySaveSlices"),(0,ce.x)()),this.applyButtonClicked=this.createEventAdapter();var n=this.applyButtonClicked.$;(0,S.aj)([this.slices$.pipe((0,ce.x)(function(o,a){return _.isEqual(o,a)})),this.showApplyButton$]).pipe().subscribe(function(o){var a=o[0],c=o[1];if(t.bufferedSliceChangesDestroy$.next(),t.bufferedSlicesValueChangeDictionary={},c){_.forEach(a,function(u){var g=new vt.X(void 0);t.bufferedSlicesValueChangeDictionary[u.uid]=g});var l=_.values(t.bufferedSlicesValueChangeDictionary);t.applyButtonEnabled$=je.T.apply(void 0,(0,p.ev)((0,p.ev)([],_.map(l,function(u){return u.pipe((0,W.h)(function(g){return!!g}),(0,Xe.h)(!0))}),!1),[n.pipe((0,Xe.h)(!1))],!1));var s=(0,S.aj)(l).pipe(function(i){return function(t){return t.lift(new Do(i))}}(n),(0,b.U)(function(u){var g=_.last(u);return _.filter(g,function(v){return!!v})}),(0,ae.R)(t.bufferedSliceChangesDestroy$));s.subscribe(function(u){var g={changes:_.map(u,function(v){return{objectName:v.changes[0].objectName,groupDisplayName:t.formattingGroup.displayName,uid:v.changes[0].uid,propertySlice:v.changes[0].propertySlice,hasDynamicExpressionSupport:v.changes[0].hasDynamicExpressionSupport,formattingSource:v.changes[0].formattingSource,visualUpdateSource:v.changes[0].visualUpdateSource}})};t.valueChanged.emit(g)})}})},r.prototype.initializeHighContrastRules=function(){this.highContrastCssGenerationService.addRule("formatting-group .formatting-group","{ border: 1px solid @foregroundColor !important; box-shadow: none !important; }"),this.highContrastCssGenerationService.addRule("formatting-group .formatting-group-header button.not-collapsible .display-name pbi-highlight","{ color: @foregroundColor !important; }")},r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(Fe.vZ),e.\u0275\u0275directiveInject(lt),e.\u0275\u0275directiveInject(oe.g))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["formatting-group"]],inputs:{searchString:"searchString",formattingGroup:"formattingGroup",indicatorEnabled:"indicatorEnabled",emphasize$:"emphasize$",formattingCardLabelUid:"formattingCardLabelUid"},outputs:{onGroupToggled:"onGroupToggled",valueChanged:"valueChanged"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:16,consts:[["data-automation-type","formatting-group",1,"formatting-group",3,"ngClass","pbiEmphasisBackground","pbiEmphasisBackgroundColor","pbiEmphasisBorder","pbiEmphasisBorderColor"],["class","formatting-group-tooltip-description",4,"ngIf"],["class","formatting-group-header","accessible-click-ignore-tabindex","true",3,"accessible-click","keydown",4,"ngIf"],[4,"ngIf"],[1,"formatting-group-tooltip-description"],["accessible-click-ignore-tabindex","true",1,"formatting-group-header",3,"accessible-click","keydown"],["data-testid","formatting-group-button","data-testid","formatting-group-header","focus-nav-mode","Browser","focus-formatting-group-button","","pbiTooltipShowDelay","500",3,"pbiTooltip","aria-describedby","aria-label"],[1,"display-name"],["class","glyphicon glyph-mini",3,"ngClass",4,"ngIf"],[3,"text","search"],["class","change-indicator",3,"ngClass","type","showChangeIndicator",4,"ngIf"],["keyboard-nav-focus-skip","",3,"formattingSlice","ariaLabelledbyPrefix","suppressWarningIcon","click","keyup.enter","keyup.space","valueChanged",4,"ngIf"],[1,"glyphicon","glyph-mini",3,"ngClass"],[1,"change-indicator",3,"ngClass","type","showChangeIndicator"],["keyboard-nav-focus-skip","",3,"formattingSlice","ariaLabelledbyPrefix","suppressWarningIcon","click","keyup.enter","keyup.space","valueChanged"],["focus-nav-mode","Browser","class","formatting-slice-container",3,"keydown.escape",4,"ngIf"],["focus-nav-mode","Browser",1,"formatting-slice-container",3,"keydown.escape"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","apply","data-testid","apply-formatting-btn",3,"disabled","localize","click",4,"ngIf"],["data-testid","formatting-slice",3,"indicatorEnabled","searchString","formattingSlice","ariaLabelledbyPrefix","valueChanged",4,"ngIf"],["data-testid","formatting-slice",3,"indicatorEnabled","searchString","formattingSlice","ariaLabelledbyPrefix","valueChanged"],["data-testid","apply-formatting-btn",1,"apply",3,"disabled","localize","click"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Wr,3,4,"p",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Xr,16,36,"div",2),e.\u0275\u0275template(4,oa,2,1,"ng-container",3),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(14,ia,!o.formattingGroup.displayName))("pbiEmphasisBackground",o.emphasize$)("pbiEmphasisBackgroundColor","var(--globalColorBrand160)")("pbiEmphasisBorder",o.emphasize$)("pbiEmphasisBorderColor","var(--globalColorBrand80)"),e.\u0275\u0275attribute("data-unique-id",o.formattingGroup.uid)("focus-formatting-group",!!o.formattingGroup.displayName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,10,o.tooltipDescription$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.formattingGroup.displayName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,12,o.slices$)))},dependencies:[x.NgClass,x.NgForOf,x.NgIf,pe.X,ze.t,en.O,nn,ft._,xe.V,Ot,dt,x.AsyncPipe],styles:['[_nghost-%COMP%]{display:block}.formatting-group[_ngcontent-%COMP%]{--formatting-group-background-color: var(--gray-20);padding:8px;border-radius:4px;background:var(--formatting-group-background-color);box-shadow:var(--fluent-shadow-depth4, 0px 0px 2px var(--colorNeutralShadowAmbient), 0px 2px 4px var(--colorNeutralShadowKey));display:flex;flex-direction:column}  [data-legacy-theming=false] .formatting-group{--formatting-group-background-color: var(--colorNeutralBackground2)}@media (prefers-reduced-motion){.formatting-group[_ngcontent-%COMP%]{border:1px solid var(--gray-90);box-shadow:none}}.formatting-group[_ngcontent-%COMP%]   .formatting-group-tooltip-description[_ngcontent-%COMP%]{display:none}.formatting-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-semi-bold, 600);align-items:center;display:flex;flex-grow:1;height:24px;justify-content:space-between;text-overflow:ellipsis;overflow:hidden;margin-right:4px}.formatting-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:none}html[data-focus-source="key"][_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, html[data-focus-source="key"]   [_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.formatting-group[_ngcontent-%COMP%]   button.apply[_ngcontent-%COMP%]{margin-top:8px;border:1px solid var(--gray-110, #8A8886);width:fit-content;padding:0 16px}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   button.apply[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   button.apply[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}html[dir="rtl"][_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   button.apply[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   button.apply[_ngcontent-%COMP%]{margin-left:0;margin-right:auto}.formatting-group[_ngcontent-%COMP%]   button.apply[disabled][_ngcontent-%COMP%]{pointer-events:none;color:var(--gray-90, #A19F9D);border-color:var(--gray-60, #C8C6C4)}.formatting-group[_ngcontent-%COMP%]   button.apply[_ngcontent-%COMP%]:hover{background-color:var(--gray-50, #D2D0CE)}.formatting-group[_ngcontent-%COMP%]   button.apply[_ngcontent-%COMP%]:active{background-color:var(--gray-70, #BEBBB8)}.formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-direction:row;align-items:center}.formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:inherit}.formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;overflow:hidden}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:4px}html[dir="rtl"][_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-left:4px}.formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   pbi-highlight[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D)}.formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   button.disabled-group[_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D);cursor:default}.formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   button.not-collapsible[_ngcontent-%COMP%]{cursor:default;color:var(--neutral-primary-color, #333333)}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]{margin-left:auto}html[dir="rtl"][_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]{margin-right:auto}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]{margin-right:48px}html[dir="rtl"][_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]{margin-left:48px}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   .change-indicator.with-toggle[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   .change-indicator.with-toggle[_ngcontent-%COMP%]{margin-right:16px}html[dir="rtl"][_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   .change-indicator.with-toggle[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-group[_ngcontent-%COMP%]   .formatting-group-header[_ngcontent-%COMP%]   .change-indicator.with-toggle[_ngcontent-%COMP%]{margin-left:16px}.formatting-group[_ngcontent-%COMP%]   .formatting-slice-container[_ngcontent-%COMP%]   formatting-slice[_ngcontent-%COMP%]{margin-bottom:8px}.formatting-group[_ngcontent-%COMP%]   .formatting-slice-container[_ngcontent-%COMP%]   formatting-slice[_ngcontent-%COMP%]:first-child{margin-top:8px}.formatting-group[_ngcontent-%COMP%]   .formatting-slice-container[_ngcontent-%COMP%]   formatting-slice[_ngcontent-%COMP%]:last-child{margin-bottom:0}.formatting-group.no-display-name[_ngcontent-%COMP%]   .formatting-slice-container[_ngcontent-%COMP%]   formatting-slice[_ngcontent-%COMP%]:first-child{margin-top:0}'],changeDetection:0}),r}(Oe.w);function da(i,r){if(1&i&&(e.\u0275\u0275element(0,"pbi-icon",3),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async")),2&i){var t=e.\u0275\u0275nextContext(),n=e.\u0275\u0275reference(3);e.\u0275\u0275property("pbiTooltip",n)("aria-label",e.\u0275\u0275pipeBind1(1,3,t.warningTooltipTitle$)),e.\u0275\u0275attribute("aria-description",e.\u0275\u0275pipeBind1(2,5,t.warningTooltipDescription$))}}function pa(i,r){if(1&i&&(e.\u0275\u0275element(0,"div",4),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275element(2,"div",5),e.\u0275\u0275pipe(3,"async")),2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("textContent",e.\u0275\u0275pipeBind1(1,2,t.warningTooltipTitle$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("textContent",e.\u0275\u0275pipeBind1(3,4,t.warningTooltipDescription$))}}var xt=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return(0,p.ZT)(r,i),r.prototype.ngOnInit=function(){var t=this.changes$("warningMessage");this.warningTooltipTitle$=t.pipe((0,b.U)(function(n){if(n)return n.title})),this.warningTooltipDescription$=t.pipe((0,b.U)(function(n){if(n)return n.detail}))},r.\u0275fac=function(){var t;return function(o){return(t||(t=e.\u0275\u0275getInheritedFactory(r)))(o||r)}}(),r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["warning"]],inputs:{warningMessage:"warningMessage"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:1,consts:[[1,"warning-label"],["class","warning","name","warning","size","small","role","img","tabindex","0",3,"pbiTooltip","aria-label",4,"ngIf"],["tooltipTemplateRef",""],["name","warning","size","small","role","img","tabindex","0",1,"warning",3,"pbiTooltip","aria-label"],[1,"warning-tooltip-title",3,"textContent"],[3,"textContent"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"label",0),e.\u0275\u0275template(1,da,3,7,"pbi-icon",1),e.\u0275\u0275template(2,pa,4,6,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.warningMessage))},dependencies:[x.NgIf,T._,xe.V,x.AsyncPipe],styles:['.warning-label[_ngcontent-%COMP%]{display:flex;align-items:center}.cursor-pointer[_nghost-%COMP%]   .warning-label[_ngcontent-%COMP%], .cursor-pointer   [_nghost-%COMP%]   .warning-label[_ngcontent-%COMP%]{cursor:pointer}.warning-label[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:var(--gray-120, #797775)}html[data-focus-source="key"][_nghost-%COMP%]   .warning-label[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]:focus, html[data-focus-source="key"]   [_nghost-%COMP%]   .warning-label[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.warning-tooltip-title[_ngcontent-%COMP%]{font-weight:var(--font-weight-bold, 700)}'],changeDetection:0}),r}(Oe.w);function ua(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"p",10),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&i){var t=r.ngIf,n=e.\u0275\u0275nextContext();e.\u0275\u0275attribute("id",e.\u0275\u0275pipeBind1(1,2,n.tooltipDescriptionUid$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t,"")}}function ga(i,r){if(1&i&&e.\u0275\u0275element(0,"property-change-indicator",14),2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("type","card")("showChangeIndicator",t.formattingCard.showChangeIndicator)}}function ma(i,r){1&i&&e.\u0275\u0275element(0,"warning",15),2&i&&e.\u0275\u0275property("warningMessage",r.ngIf)}function fa(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,ga,1,2,"property-change-indicator",12),e.\u0275\u0275template(3,ma,1,1,"warning",13),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()),2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pipeBind1(1,3,t.iconsContainerClass$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.indicatorEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,5,t.warningMessage$))}}function va(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"formatting-slice",18),e.\u0275\u0275listener("click",function(a){return a.stopPropagation()})("keyup.enter",function(a){return a.stopPropagation()})("keyup.space",function(a){return a.stopPropagation()})("valueChanged",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(c.onTopLevelToggleValueChanged(a))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("formattingSlice",n.formattingCard.topLevelToggle)("ariaLabelledbyPrefix",e.\u0275\u0275pipeBind1(1,3,n.accessibleLabelId$))("suppressWarningIcon",!0)}}function ha(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,va,2,5,"formatting-slice",17),e.\u0275\u0275elementEnd()),2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("push",!e.\u0275\u0275pipeBind1(1,3,t.showIconsContainer$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.formattingCard.topLevelToggle)}}function _a(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"formatting-group",24),e.\u0275\u0275listener("click",function(c){return c.stopPropagation()})("onGroupToggled",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext().$implicit,s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.onToggled.emit({groupId:l.uid,source:c.source,toggleState:c.toggleState}))})("valueChanged",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.valueChanged.emit(c))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("searchString",o.searchString)("formattingGroup",n)("indicatorEnabled",o.indicatorEnabled)("mobileFormatting",o.mobileFormatting)("formattingCardLabelUid",e.\u0275\u0275pipeBind1(1,6,o.accessibleLabelId$))("emphasize$",o.emphasize$)}}function ba(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,_a,2,8,"formatting-group",23),e.\u0275\u0275elementContainerEnd()),2&i){var t=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.hidden)}}function Ca(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",25),e.\u0275\u0275listener("accessible-click",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onRevertToDefaultClicked.emit({cardId:a.formattingCard.uid,cardName:a.formattingCard.displayName,revertToDefaultDescriptors:a.formattingCard.revertToDefaultDescriptors}))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275element(3,"pbi-icon",26)(4,"span",27),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275classProp("disabled",!n.formattingCard.revertToDefaultEnabled),e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(2,9,"Visual_RevertToDesktop_Tooltip"))("pbiTooltipDisabled",!n.mobileFormatting),e.\u0275\u0275attribute("aria-labelledby",e.\u0275\u0275pipeBind1(1,7,n.accessibleLabelId$)+" reset-to-default-id")("aria-disabled",!n.formattingCard.revertToDefaultEnabled),e.\u0275\u0275advance(4),e.\u0275\u0275property("localize",n.mobileFormatting?"Reset_All_Settings_Mobile":"Reset_To_Default")}}function ya(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",19),e.\u0275\u0275listener("keydown.escape",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onEscKey.fn(a))}),e.\u0275\u0275template(1,ba,2,1,"ng-container",20),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275element(3,"label",21),e.\u0275\u0275template(4,Ca,5,11,"button",22),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("pbiEmphasisBackground",n.emphasize$)("pbiEmphasisBackgroundColor","var(--globalColorBrand140)"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(2,6,n.groups$))("ngForTrackBy",n.groupUid),e.\u0275\u0275advance(2),e.\u0275\u0275property("localize",n.mobileFormatting?"Reset_All_Settings_Mobile":"Reset_To_Default"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.formattingCard.revertToDefaultDescriptors)}}var Ma=function(r){return[r]},Mn=0,Pn=function(i){function r(t,n,o,a){var c=i.call(this)||this;return c.featureSwitchService=t,c.highContrastCssGenerationService=n,c.elem=o,c.formattingPaneComponentStore=a,c.onToggled=new e.EventEmitter,c.valueChanged=new e.EventEmitter,c.onRevertToDefaultClicked=new e.EventEmitter,c.featureSwitchService.featureSwitches.onObjectFormatPaneUid&&(++Mn,c.accessibleLabelId="".concat("formatting-card","-").concat(Mn)),c}return(0,p.ZT)(r,i),r.prototype.ngOnInit=function(){var t=this,n=this.changes$("formattingCard"),o=n.pipe((0,te.j)("description")),a=n.pipe((0,te.j)("disabledReason"));this.groups$=n.pipe((0,ke.w)(function(v){return(0,S.aj)(v.groupUids.map(function(h){return t.formattingPaneComponentStore.selectGroup(h)})).pipe((0,b.U)(function(h){return _.filter(h,function(C){return!!C})}))})),this.disabled$=n.pipe((0,te.j)("disabled"),(0,ye.O)(!1)),this.displayName$=n.pipe((0,te.j)("displayName")),this.accessibleLabelId$=n.pipe((0,b.U)(function(v){return t.featureSwitchService.featureSwitches.onObjectFormatPaneUid?t.accessibleLabelId:v.uid})),this.tooltipDescription$=this.disabled$.pipe((0,ke.w)(function(v){return v?a:o}));var c=n.pipe((0,te.j)("uid"));this.tooltipDescriptionUid$=(0,it.s)(function(){return t.featureSwitchService.featureSwitches.onObjectFormatPaneUid},this.accessibleLabelId$,c).pipe((0,b.U)(function(v){return"".concat(v,"-tooltip")}));var l=n.pipe((0,te.j)("toggleState"));this.expanded$=l.pipe((0,b.U)(function(v){return ot(v,""!==t.searchString)})),this.toggleButton=this.createEventAdapter(),this.toggleButton.$.pipe((0,L.M)(l,this.disabled$)).subscribe(function(v){var C=v[1];return v[2]?v[0].stopPropagation():t.onToggled.emit({source:1,toggleState:Ut(C,""!==t.searchString)})}),this.toggleButtonKeyboard=this.createEventAdapter(),this.toggleButtonKeyboard.$.subscribe(function(v){Lt(v,t.toggleButton.fn,function(h){return h.classList.contains("focus-formatting-cards")},function(h){return h.hasAttribute("focus-formatting-card-button")})}),this.onEscKey=this.createEventAdapter(),this.onEscKey.$.subscribe(function(v){Nt(v,function(h){return h.hasAttribute("focus-formatting-card")})}),this.warningMessage$=n.pipe((0,te.j)("warningMessage"));var s=this.warningMessage$.pipe((0,b.U)(function(v){return!!v})),u=n.pipe((0,te.j)("showChangeIndicator")),g=(0,S.aj)([s.pipe((0,ye.O)(!1)),u,this.changes$("indicatorEnabled",!0)]).pipe((0,k.d)(1));this.showIconsContainer$=g.pipe((0,b.U)(function(v){return v[0]||v[1]&&v[2]})),this.iconsContainerClass$=(0,S.aj)([g,n.pipe((0,te.j)("topLevelToggle"))]).pipe((0,b.U)(function(v){var h=v[0],C=h[0],H=v[1],N=[];return h[1]&&h[2]&&N.push("with-indicator"),C&&N.push("with-warning"),H&&N.push("with-toggle"),N})),this.initializeHighContrastRules()},r.prototype.groupUid=function(t,n){return n.uid},r.prototype.onTopLevelToggleValueChanged=function(t){var n=t.changes;f.fF.assert(function(){return 1===_.size(n)},"Expect the saveObject coming from a slice contains only 1 change");var o=(0,p.pi)((0,p.pi)({},n[0]),{isTopLevelToggle:!0}),a=(0,p.pi)((0,p.pi)({},t),{changes:[o]});this.valueChanged.emit(a)},r.prototype.initializeHighContrastRules=function(){this.highContrastCssGenerationService.addRule("formatting-card .formatting-card-header.disabled-card button:hover","{ opacity: 1 !important; }"),this.highContrastCssGenerationService.addRule("formatting-card .formatting-card-header.disabled-card button:focus","{ opacity: 1 !important; }"),this.highContrastCssGenerationService.addRule("formatting-card .formatting-card-header.disabled-card button","{ opacity: .75 !important; }"),this.highContrastCssGenerationService.addRule("formatting-card .reset-button.disabled span","{ color: @disabledTextColor !important; }"),this.highContrastCssGenerationService.addRule("formatting-card .reset-button.disabled .reset-icon .glyphicon","{ color: @disabledTextColor !important; }")},r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(Fe.vZ),e.\u0275\u0275directiveInject(oe.g),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(lt))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["formatting-card"]],inputs:{searchString:"searchString",formattingCard:"formattingCard",indicatorEnabled:"indicatorEnabled",mobileFormatting:"mobileFormatting",emphasize$:"emphasize$"},outputs:{onToggled:"onToggled",valueChanged:"valueChanged",onRevertToDefaultClicked:"onRevertToDefaultClicked"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:23,vars:46,consts:[["data-automation-type","formatting-card","focus-formatting-card","",1,"formatting-card"],["class","formatting-card-tooltip-description",4,"ngIf"],["accessible-click-ignore-tabindex","true",1,"formatting-card-header",3,"accessible-click","keydown"],["focus-nav-mode","Browser","focus-formatting-card-button","","pbiTooltipShowDelay","500","data-testid","formatting-card-button",3,"pbiTooltip","aria-describedby","aria-label"],[1,"display-name"],[1,"glyphicon","glyph-mini",3,"ngClass"],[3,"text","search"],["class","icons-container push",3,"ngClass",4,"ngIf"],["class","toggle-container",3,"push",4,"ngIf"],["class","formatting-groups","focus-formatting-groups","",3,"pbiEmphasisBackground","pbiEmphasisBackgroundColor","keydown.escape",4,"ngIf"],[1,"formatting-card-tooltip-description"],[1,"icons-container","push",3,"ngClass"],["class","change-indicator",3,"type","showChangeIndicator",4,"ngIf"],["class","cursor-pointer",3,"warningMessage",4,"ngIf"],[1,"change-indicator",3,"type","showChangeIndicator"],[1,"cursor-pointer",3,"warningMessage"],[1,"toggle-container"],["keyboard-nav-focus-skip","",3,"formattingSlice","ariaLabelledbyPrefix","suppressWarningIcon","click","keyup.enter","keyup.space","valueChanged",4,"ngIf"],["keyboard-nav-focus-skip","",3,"formattingSlice","ariaLabelledbyPrefix","suppressWarningIcon","click","keyup.enter","keyup.space","valueChanged"],["focus-formatting-groups","",1,"formatting-groups",3,"pbiEmphasisBackground","pbiEmphasisBackgroundColor","keydown.escape"],[4,"ngFor","ngForOf","ngForTrackBy"],["id","reset-to-default-id",1,"formatting-card-tooltip-description",3,"localize"],["class","reset-button","tabindex","0","focus-nav-mode","Browser",3,"disabled","pbiTooltip","pbiTooltipDisabled","accessible-click",4,"ngIf"],[3,"searchString","formattingGroup","indicatorEnabled","mobileFormatting","formattingCardLabelUid","emphasize$","click","onGroupToggled","valueChanged",4,"ngIf"],[3,"searchString","formattingGroup","indicatorEnabled","mobileFormatting","formattingCardLabelUid","emphasize$","click","onGroupToggled","valueChanged"],["tabindex","0","focus-nav-mode","Browser",1,"reset-button",3,"pbiTooltip","pbiTooltipDisabled","accessible-click"],["name","reset","size","mini",1,"reset-icon"],[3,"localize"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,ua,3,4,"p",1),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementStart(4,"div",2),e.\u0275\u0275listener("accessible-click",function(c){return o.toggleButton.fn(c)})("keydown",function(c){return o.toggleButtonKeyboard.fn(c)}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementStart(6,"button",3),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275elementStart(12,"div",4),e.\u0275\u0275element(13,"i",5),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275element(15,"pbi-highlight",6),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(18,fa,5,7,"div",7),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275template(20,ha,3,5,"div",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,ya,5,8,"div",9),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275classProp("expanded",e.\u0275\u0275pipeBind1(1,18,o.expanded$)),e.\u0275\u0275attribute("data-unique-id",o.formattingCard.uid),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,20,o.tooltipDescription$)),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("disabled-card",e.\u0275\u0275pipeBind1(5,22,o.disabled$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(7,24,o.tooltipDescription$))("aria-describedby",e.\u0275\u0275pipeBind1(10,30,o.tooltipDescriptionUid$))("aria-label",e.\u0275\u0275pipeBind1(11,32,o.displayName$)),e.\u0275\u0275attribute("aria-disabled",e.\u0275\u0275pipeBind1(8,26,o.disabled$))("aria-expanded",e.\u0275\u0275pipeBind1(9,28,o.expanded$)),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(44,Ma,e.\u0275\u0275pipeBind1(14,34,o.expanded$)?"pbi-glyph-chevrondownmedium":"pbi-glyph-arrowright")),e.\u0275\u0275advance(2),e.\u0275\u0275property("text",e.\u0275\u0275pipeBind1(16,36,o.displayName$))("search",o.searchString),e.\u0275\u0275attribute("id",e.\u0275\u0275pipeBind1(17,38,o.accessibleLabelId$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(19,40,o.showIconsContainer$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.formattingCard.topLevelToggle),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(22,42,o.expanded$)))},dependencies:[x.NgClass,x.NgForOf,x.NgIf,pe.X,ze.t,en.O,ft._,T._,xe.V,yn,Ot,dt,xt,x.AsyncPipe,st.F],styles:['[_nghost-%COMP%]{display:block}.formatting-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden;--formatting-card-background-color: var(--gray-40);--formatting-card-hover-background-color: var(--gray-40);--reset-button-color: var(--fluent-theme-link-darker-color, #005A9E);--reset-button-hover-color: var(--fluent-theme-link-darker-color, #005A9E)}  [data-legacy-theming=false] .formatting-card{--formatting-card-background-color: var(--colorNeutralBackground1);--formatting-card-hover-background-color: var(--colorNeutralBackground1Hover);--reset-button-color: var(--colorNeutralForeground2);--reset-button-hover-color: var(--colorNeutralForeground2Hover)}.formatting-card[_ngcontent-%COMP%]   .formatting-card-tooltip-description[_ngcontent-%COMP%]{display:none}.formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]{align-items:center;padding:8px;cursor:pointer;display:flex;flex-direction:row;box-shadow:var(--fluent-shadow-depth4)}.formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]:hover{background-color:var(--formatting-card-hover-background-color)}.formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:24px;background-color:transparent;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-semi-bold, 600);display:flex;align-items:center;justify-content:space-between;flex-grow:1;text-overflow:ellipsis;overflow:hidden;margin-right:4px}.formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;overflow:hidden}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:4px}html[dir="rtl"][_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-left:4px}.formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   pbi-highlight[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:none}html[data-focus-source="key"][_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, html[data-focus-source="key"]   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color);outline-offset:-1px}.formatting-card[_ngcontent-%COMP%]   .formatting-card-header.disabled-card[_ngcontent-%COMP%]:hover{background-color:transparent}.formatting-card[_ngcontent-%COMP%]   .formatting-card-header.disabled-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D);cursor:default}.formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container[_ngcontent-%COMP%], .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%]{display:flex;align-items:center}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container[_ngcontent-%COMP%], html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%]{padding-left:8px}html[dir="rtl"][_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container[_ngcontent-%COMP%], html[dir="rtl"][_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%]{padding-right:8px}.formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container[_ngcontent-%COMP%]   warning[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400)}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container.with-indicator[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container.with-indicator[_ngcontent-%COMP%]{margin-right:56px}html[dir="rtl"][_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container.with-indicator[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container.with-indicator[_ngcontent-%COMP%]{margin-left:56px}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container.with-indicator.with-warning[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container.with-indicator.with-warning[_ngcontent-%COMP%]{margin-right:40px}html[dir="rtl"][_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container.with-indicator.with-warning[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container.with-indicator.with-warning[_ngcontent-%COMP%]{margin-left:40px}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container.with-indicator.with-toggle[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container.with-indicator.with-toggle[_ngcontent-%COMP%]{margin-right:16px}html[dir="rtl"][_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container.with-indicator.with-toggle[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container.with-indicator.with-toggle[_ngcontent-%COMP%]{margin-left:16px}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container.with-indicator.with-toggle.with-warning[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container.with-indicator.with-toggle.with-warning[_ngcontent-%COMP%]{margin-right:0}html[dir="rtl"][_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container.with-indicator.with-toggle.with-warning[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .icons-container.with-indicator.with-toggle.with-warning[_ngcontent-%COMP%]{margin-left:0}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .push[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .push[_ngcontent-%COMP%]{margin-left:auto}html[dir="rtl"][_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .push[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .push[_ngcontent-%COMP%]{margin-right:auto}.formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%]{display:flex;align-items:center}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%]{padding-left:8px}html[dir="rtl"][_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%]{padding-right:8px}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%]{margin-left:auto}html[dir="rtl"][_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%]{margin-right:auto}.formatting-card.expanded[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]{box-shadow:var(--fluent-shadow-depth4)}@media (prefers-reduced-motion){.formatting-card.expanded[_ngcontent-%COMP%]   .formatting-card-header[_ngcontent-%COMP%]{box-shadow:none;border-bottom:1px solid var(--gray-90)}}.formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{cursor:pointer;margin-top:8px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400);align-items:center;background:none;display:flex;height:24px}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{padding-right:2px}html[dir="rtl"][_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{padding-left:2px}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{padding-left:2px}html[dir="rtl"][_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{padding-right:2px}.formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{color:var(--reset-button-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir="rtl"][_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{margin-left:6px}.formatting-card[_ngcontent-%COMP%]   .reset-button.disabled[_ngcontent-%COMP%]{pointer-events:none;color:var(--gray-90, #A19F9D)}.formatting-card[_ngcontent-%COMP%]   .reset-button.disabled[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D)}html[data-focus-source="key"][_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:focus, html[data-focus-source="key"]   [_nghost-%COMP%]   .formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}.formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:hover{color:var(--reset-button-hover-color)}.formatting-card[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:active{background-color:var(--fluent-theme-neutral-quarter-alt-color, #E1DFDD)}.formatting-card[_ngcontent-%COMP%]   .formatting-groups[_ngcontent-%COMP%]{padding:8px;background:var(--formatting-card-background-color)}.formatting-card[_ngcontent-%COMP%]   .formatting-groups[_ngcontent-%COMP%]   formatting-group[_ngcontent-%COMP%]{margin-top:8px}.formatting-card[_ngcontent-%COMP%]   .formatting-groups[_ngcontent-%COMP%]   formatting-group[_ngcontent-%COMP%]:first-child{margin-top:0}@media (prefers-reduced-motion){.formatting-card[_ngcontent-%COMP%]   .formatting-groups[_ngcontent-%COMP%]{border-bottom:1px solid var(--gray-90)}}'],changeDetection:0}),r}(Oe.w),wa=d(58315),Ia=d(3307),Ta=d(6663),Fa=d(82345),Pe=d(64560),wt=d(68070),Ea=function(){function i(r,t,n,o){this.target$=r;var a=o&&o.duration||500;this.power=o&&o.power||2,this.onDone=o&&o.onDone,this.ngZone=o&&o.ngZone,this.scroller$=r.closest(".".concat(t)),this.scrollerElem=this.scroller$[0],this.spacer$=this.scroller$.find(".".concat(n)),this.spacer$.outerHeight(this.scroller$.height()),this.lastTime=performance.now(),this.endTime=this.lastTime+a,this.calcEndScroll()}return i.prototype.start=function(){var r=this;this.raf||(this.raf=this.requestAnimationFrame(function n(){r.raf=void 0,r.calcEndScroll(),r.adjustScrollTop()?r.raf=r.requestAnimationFrame(n):r.done()}))},i.prototype.requestAnimationFrame=function(r){return this.ngZone?this.ngZone.runOutsideAngular(function(){return requestAnimationFrame(r)}):requestAnimationFrame(r)},i.prototype.adjustScrollTop=function(){var r=performance.now(),t=this.scrollerElem.scrollTop;if(t===this.endScrollTop)return!1;if(r>=this.endTime)return this.scrollerElem.scrollTop=this.endScrollTop,!1;if(r>this.lastTime){var a=this.endScrollTop+(t-this.endScrollTop)*Math.pow((r-this.endTime)/(this.lastTime-this.endTime),this.power);this.scrollerElem.scrollTop=a,this.lastTime=r}return!0},i.prototype.calcEndScroll=function(){var r=this.target$.offset().top,t=this.scroller$.offset().top;this.endScrollTop=this.scrollerElem.scrollTop+r-t},i.prototype.done=function(){var n=this.spacer$.offset().top-this.target$.offset().top,o=Math.max(0,this.scroller$.height()-n);this.spacer$.outerHeight(o),this.onDone&&(this.onDone(),this.onDone=void 0)},i.prototype.stop=function(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=void 0),this.onDone&&(this.onDone(),this.onDone=void 0)},i}(),Da=d(98665),he=d(40702),Ba="".concat("Visual","-"),ka="".concat("Format_Label_General","-"),Va="".concat("Page","-"),Aa="".concat("Analytics","-"),$a=["properties","title","effects","headerIcons","tooltips","altText","action"],La=["pageInformation","pageSize","background","outspace","pageRefresh","personalizeVisual","outspacePane","filterCard"],Na=["zoom","bars","breakdown","categoryAxis","gridlines","legend","lines","markers","plotBackground","ribbonChart","sentimentColors","smallMultiplesLayout","subheader","valueAxis","y2Axis","axisZoom","axis","calloutValue","card","columnFormatting","columnHeaders","columnSubTotal","datapoint","date","fillColors","rowTotal","columnTotal","grid","hierarchy","icons","imageHeight","mapSettings","percentBarLabel","rotation","rowHeaders","rowSubTotal","slicerHeader","slicerSettings","slices","slider","sparklines","target","targetLabel","trendAxis","urlIcon","values","categoryLabels","colors","conditionalFormatting","labels","seriesLabels","totals","shape","style","rotation"],Ua=["errorBars","anomaly","forecast","plotAreaShading","ratioLine","referenceLine-minLine","referenceLine-maxLine","referenceLine-averageLine","referenceLine-medianLine","referenceLine-percentileLine","trendLine","xAxisReferenceLine","y1AxisReferenceLine"],Sn=function(){for(var i=new Set,r=0,t=Na;r<t.length;r++){var n=t[r];i.add("".concat(Ba).concat(n))}for(var o=0,a=$a;o<a.length;o++)n=a[o],i.add("".concat(ka).concat(n));for(var c=0,l=La;c<l.length;c++)n=l[c],i.add("".concat(Va).concat(n));for(var s=0,u=Ua;s<u.length;s++)n=u[s],i.add("".concat(Aa).concat(n));return i}(),za=["".concat("categoryAxis","-").concat("range"),"".concat("categoryAxis","-").concat("title"),"".concat("categoryAxis","-").concat("type"),"".concat("categoryAxis","-").concat("values"),"".concat("gridlines","-").concat("horizontal"),"".concat("gridlines","-").concat("vertical"),"".concat("legend","-").concat("options"),"".concat("legend","-").concat("text"),"".concat("legend","-").concat("title"),"".concat("smallMultiplesLayout","-").concat("background"),"".concat("smallMultiplesLayout","-").concat("border"),"".concat("smallMultiplesLayout","-").concat("layout"),"".concat("valueAxis","-").concat("range"),"".concat("valueAxis","-").concat("title"),"".concat("valueAxis","-").concat("values"),"".concat("y2Axis","-").concat("title"),"".concat("y2Axis","-").concat("values"),"".concat("errorBars","-").concat("options"),"".concat("errorBars","-").concat("bar"),"".concat("errorBars","-").concat("band"),"".concat("errorBars","-").concat("labels"),"".concat("errorBars","-").concat("tooltip"),"".concat("bars","-").concat("colors"),"".concat("bars","-").concat("spacing"),"".concat("lines","-").concat("applySettingsTo"),"".concat("lines","-").concat("colors"),"".concat("lines","-").concat("shadeArea"),"".concat("lines","-").concat("shape"),"".concat("lines","-").concat("spacing"),"".concat("markers","-").concat("colors"),"".concat("markers","-").concat("markers"),"".concat("markers","-").concat("applySettingsTo"),"".concat("markers","-").concat("spacing"),"".concat("ribbonChart","-").concat("colors"),"".concat("ribbonChart","-").concat("border"),"".concat("ribbonChart","-").concat("spacing"),"".concat("sentimentColors","-").concat("colors"),"".concat("sentimentColors","-").concat("spacing"),"".concat("breakdown","-").concat("breakdown"),"".concat("percentBarLabel","-").concat("values"),"".concat("datapoint","-").concat("datapoint"),"".concat("axis","-").concat("axis"),"".concat("card","-").concat("values"),"".concat("card","-").concat("style"),"".concat("card","-").concat("bar"),"".concat("categoryAxis","-").concat("background"),"".concat("categoryAxis","-").concat("values"),"".concat("calloutValue","-").concat("values"),"".concat("icons","-").concat("icons"),"".concat("trendAxis","-").concat("trendAxis"),"".concat("targetLabel","-").concat("values"),"".concat("targetLabel","-").concat("distance"),"".concat("date","-").concat("date"),"".concat("mapSettings","-").concat("options"),"".concat("mapSettings","-").concat("zoom"),"".concat("fillColors","-").concat("colors"),"".concat("fillColors","-").concat("blankAreas"),"".concat("fillColors","-").concat("border"),"".concat("values","-").concat("background"),"".concat("values","-").concat("border"),"".concat("slider","-").concat("colors"),"".concat("slicerHeader","-").concat("text"),"".concat("slicerHeader","-").concat("border"),"".concat("slicerHeader","-").concat("background"),"".concat("hierarchy","-").concat("levels"),"".concat("hierarchy","-").concat("expandCollapseButtons"),"".concat("rotation","-").concat("default"),"".concat("slices","-").concat("colors"),"".concat("slices","-").concat("border"),"".concat("slices","-").concat("spacing"),"".concat("grid","-").concat("gridHorizontal"),"".concat("grid","-").concat("gridVertical"),"".concat("grid","-").concat("border"),"".concat("grid","-").concat("options"),"".concat("values","-").concat("values"),"".concat("values","-").concat("options"),"".concat("columnHeaders","-").concat("text"),"".concat("columnHeaders","-").concat("options"),"".concat("rowHeaders","-").concat("text"),"".concat("rowHeaders","-").concat("expandCollapseButtons"),"".concat("rowHeaders","-").concat("options"),"".concat("columnTotal","-").concat("values"),"".concat("rowTotal","-").concat("values"),"".concat("rowSubTotal","-").concat("values"),"".concat("rowSubTotal","-").concat("rows"),"".concat("columnSubTotal","-").concat("applySettingsTo"),"".concat("columnSubTotal","-").concat("values"),"".concat("columnSubTotal","-").concat("columns"),"".concat("columnFormatting","-").concat("columns"),"".concat("columnFormatting","-").concat("values"),"".concat("conditionalFormatting","-").concat("options"),"".concat("conditionalFormatting","-").concat("cellElements"),"".concat("urlIcon","-").concat("urlIcon"),"".concat("imageHeight","-").concat("imageHeight"),"".concat("sparklines","-").concat("columns"),"".concat("sparklines","-").concat("sparklines"),"".concat("sparklines","-").concat("markers"),"".concat("colors","-").concat("colors"),"".concat("labels","-").concat("background"),"".concat("labels","-").concat("options"),"".concat("labels","-").concat("values"),"".concat("seriesLabels","-").concat("background"),"".concat("seriesLabels","-").concat("options"),"".concat("seriesLabels","-").concat("values"),"".concat("categoryLabels","-").concat("background"),"".concat("categoryLabels","-").concat("options"),"".concat("categoryLabels","-").concat("values"),"".concat("totals","-").concat("background"),"".concat("totals","-").concat("options"),"".concat("totals","-").concat("values"),"".concat("visualPlaceholderCard","-").concat("visualPlaceholderGroup"),"".concat("rotation","-").concat("default"),"".concat("shape","-").concat("shape"),"".concat("style","-").concat("border"),"".concat("style","-").concat("fill"),"".concat("style","-").concat("glow"),"".concat("style","-").concat("icon"),"".concat("style","-").concat("outline"),"".concat("style","-").concat("shadow"),"".concat("style","-").concat("text"),"".concat("action","-").concat("action"),"".concat("action","-").concat("tooltip"),"".concat("properties","-").concat("size"),"".concat("properties","-").concat("position"),"".concat("properties","-").concat("advancedOptions"),"".concat("title","-").concat("default"),"".concat("effects","-").concat("background"),"".concat("effects","-").concat("visualBorder"),"".concat("effects","-").concat("shadow"),"".concat("headerIcons","-").concat("colors"),"".concat("headerIcons","-").concat("icons"),"".concat("headerIcons","-").concat("helpTooltip"),"".concat("tooltips","-").concat("options"),"".concat("tooltips","-").concat("text"),"".concat("tooltips","-").concat("background"),"".concat("pageInformation","-").concat("pageInformation"),"".concat("pageInformation","-").concat("pageInformationLinkFieldsLinkTypes"),"".concat("pageInformation","-").concat("pageInformationQnaPodEnabled"),"".concat("pageSize","-").concat("pageSize"),"".concat("background","-").concat("background"),"".concat("outspace","-").concat("outspace"),"".concat("pageRefresh","-").concat("pageRefresh"),"".concat("personalizeVisual","-").concat("personalizeVisual"),"".concat("outspacePane","-").concat("text"),"".concat("outspacePane","-").concat("input"),"".concat("outspacePane","-").concat("header"),"".concat("outspacePane","-").concat("searchbox"),"".concat("outspacePane","-").concat("border"),"".concat("outspacePane","-").concat("background"),"".concat("outspacePane","-").concat("options"),"".concat("filterCard","-").concat("text"),"".concat("filterCard","-").concat("input"),"".concat("filterCard","-").concat("border"),"".concat("filterCard","-").concat("background"),"".concat("anomaly","-").concat("options"),"".concat("anomaly","-").concat("anomaly"),"".concat("anomaly","-").concat("expectedrange"),"".concat("forecast","-").concat("options"),"".concat("forecast","-").concat("forecastline"),"".concat("forecast","-").concat("confidenceband"),"".concat("forecast","-").concat("tooltipTitle"),"".concat("referenceLine-minLine","-").concat("measure"),"".concat("referenceLine-minLine","-").concat("line"),"".concat("referenceLine-minLine","-").concat("dataLabel"),"".concat("referenceLine-maxLine","-").concat("measure"),"".concat("referenceLine-maxLine","-").concat("line"),"".concat("referenceLine-maxLine","-").concat("dataLabel"),"".concat("referenceLine-averageLine","-").concat("measure"),"".concat("referenceLine-averageLine","-").concat("line"),"".concat("referenceLine-averageLine","-").concat("dataLabel"),"".concat("referenceLine-medianLine","-").concat("measure"),"".concat("referenceLine-medianLine","-").concat("line"),"".concat("referenceLine-medianLine","-").concat("dataLabel"),"".concat("referenceLine-percentileLine","-").concat("measure"),"".concat("referenceLine-percentileLine","-").concat("line"),"".concat("referenceLine-percentileLine","-").concat("dataLabel"),"".concat("xAxisReferenceLine","-").concat("line"),"".concat("xAxisReferenceLine","-").concat("shadeArea"),"".concat("xAxisReferenceLine","-").concat("dataLabel"),"".concat("y1AxisReferenceLine","-").concat("line"),"".concat("y1AxisReferenceLine","-").concat("dataLabel")],On=new Set(za),ja=d(2863),Ga=d(29748),Wa=d(21024),Ka=d(5467),Ha=d(84281),Qa=d(69071),Ja=d(29866),Za=d(43859),Xa=d(80649),Ya=d(44641);function qa(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"formatting-pane-inner",1),e.\u0275\u0275listener("propertyChanged",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.propertyChanged.emit(a))}),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("formattingService",n.formattingService)("formattingUIManager",n.formattingUIManager)("componentStore",n.componentStore)("formattingSources",n.formattingSources)("indicatorEnabled",n.indicatorEnabled)("mobileFormatting",n.mobileFormatting)("disableScrollbar",n.disableScrollbar)("disabledCards",n.disabledCards)("disabledSlices",n.disabledSlices)}}var el=["searchInput"],tl=["card"];function nl(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);var a=e.\u0275\u0275nextContext().ngIf;return e.\u0275\u0275resetView(a.action.fn())}),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext().ngIf;e.\u0275\u0275property("localize",n.action.key)}}function ol(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",6),e.\u0275\u0275element(2,"message-banner",7),e.\u0275\u0275template(3,nl,1,1,"button",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var t=r.ngIf;e.\u0275\u0275advance(2),e.\u0275\u0275property("viewModel",t.messageBannerModel),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.action)}}function il(i,r){if(1&i&&e.\u0275\u0275element(0,"div",18),2&i){var t=e.\u0275\u0275nextContext().$implicit,n=e.\u0275\u0275nextContext(3).ngIf;e.\u0275\u0275classProp("selected",t.pivotKey===n),e.\u0275\u0275property("localize",t.pivotDisplayName)}}var rl=function(r,t){return{currentSection:r,sections:t,rootAttribute:"focus-pivot-root",pivotAttribute:"focus-pivot"}};function al(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"pbi-button-toggle",16),e.\u0275\u0275listener("valueChanged",function(l){var u=e.\u0275\u0275restoreView(t).$implicit,g=e.\u0275\u0275nextContext(6);return e.\u0275\u0275resetView(g.formattingPivotTypeButtonChange.fn({value:u.pivotKey,checked:l}))})("onActiveSection",function(l){e.\u0275\u0275restoreView(t);var s=e.\u0275\u0275nextContext(6);return e.\u0275\u0275resetView(s.formattingPivotTypeButtonChange.fn({value:l.nextSection.pivotKey,checked:!0}))}),e.\u0275\u0275template(1,il,1,3,"div",17),e.\u0275\u0275elementEnd()}if(2&i){var n=r.$implicit,o=e.\u0275\u0275nextContext(2).ngIf,a=e.\u0275\u0275nextContext().ngIf;e.\u0275\u0275property("role","tab")("checked",n.pivotKey===a)("value",n.pivotKey)("buttonTabIndex",n.pivotKey===a?0:-1)("pivot-tab-key-handler",e.\u0275\u0275pureFunction2(6,rl,n,o)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.pivotDisplayName)}}function ll(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",12)(1,"pbi-button-toggle-group",13),e.\u0275\u0275template(2,al,2,9,"pbi-button-toggle",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"pbi-icon",15),e.\u0275\u0275listener("accessible-click",function(c){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(l.openContextMenu.fn({event:c}))}),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()}if(2&i){var n=e.\u0275\u0275nextContext().ngIf,o=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n)("ngForTrackBy",o.trackByPivotKeyFn),e.\u0275\u0275advance(1),e.\u0275\u0275property("pbiTooltip",e.\u0275\u0275pipeBind1(4,3,o.mobileFormatting?"Format_Settings_Options_Mobile":"Format_Settings_Options"))}}function cl(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ll,5,5,"div",11),e.\u0275\u0275elementContainerEnd()),2&i){var t=e.\u0275\u0275nextContext(3).ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showPivot)}}function sl(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,cl,2,1,"ng-container",0),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,t.currentPivots$))}}function dl(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"formatting-card",24,25),e.\u0275\u0275listener("valueChanged",function(l){var u=e.\u0275\u0275restoreView(t).$implicit,g=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(g.onValueChange.fn([l,u.pivotSource]))})("onRevertToDefaultClicked",function(l){e.\u0275\u0275restoreView(t);var s=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(s.revertToDefault.fn(l))})("contextmenu",function(l){var u=e.\u0275\u0275restoreView(t).$implicit,g=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(g.openContextMenu.fn({event:l,card:u}))})("onToggled",function(l){var u=e.\u0275\u0275restoreView(t).$implicit,g=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(g.toggleOutput.fn({cardId:u.uid,groupId:l.groupId,source:l.source,toggleState:l.toggleState,formattingSource:u.pivotSource}))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"hr",26),e.\u0275\u0275elementContainerEnd()}if(2&i){var n=r.$implicit,o=e.\u0275\u0275nextContext(4).ngIf,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("searchString",o.searchString)("formattingCard",n)("indicatorEnabled",a.indicatorEnabled)("mobileFormatting",a.mobileFormatting)("emphasize$",a.cardEmphasis[n.uid]),e.\u0275\u0275advance(2),e.\u0275\u0275property("pbiEmphasisBorder",a.emphasize$)("pbiEmphasisBorderColor","var(--globalColorBrand140)")}}var pl=function(){return{ignoreOverlay:!1,ignoreMobile:!1}};function ul(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",21),e.\u0275\u0275listener("contextmenu",function(a){e.\u0275\u0275restoreView(t);var c=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(c.openContextMenu.fn({event:a}))}),e.\u0275\u0275template(1,dl,4,7,"ng-container",22),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275element(3,"div",23),e.\u0275\u0275elementEnd()}if(2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("pbiScrollbar",e.\u0275\u0275pureFunction0(6,pl))("pbiScrollbarDisabled",n.disableScrollbar),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(2,4,n.cards$))("ngForTrackBy",n.cardUid)}}function gl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",19),e.\u0275\u0275template(1,ul,4,7,"div",20),e.\u0275\u0275elementEnd()),2&i){var t=e.\u0275\u0275nextContext(2).ngIf,n=e.\u0275\u0275nextContext();e.\u0275\u0275classMap(n.cardClasses),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedPivot.key)}}function ml(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,sl,3,3,"ng-container",0),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,gl,2,3,"div",10),e.\u0275\u0275elementContainerEnd()),2&i){var t=e.\u0275\u0275nextContext().ngIf,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,2,n.selectedFormattingPivotType$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.pivots)}}function fl(i,r){if(1&i&&e.\u0275\u0275element(0,"img",31),2&i){var t=e.\u0275\u0275nextContext(2).ngIf;e.\u0275\u0275attribute("src",t.pivotModelUnavailableImagePath,e.\u0275\u0275sanitizeUrl)}}function vl(i,r){if(1&i&&e.\u0275\u0275element(0,"a",32),2&i){var t=e.\u0275\u0275nextContext(2).ngIf;e.\u0275\u0275propertyInterpolate("href",t.pivotModelUnavailableLearnMoreLink,e.\u0275\u0275sanitizeUrl)}}function hl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",27),e.\u0275\u0275template(1,fl,1,1,"img",28),e.\u0275\u0275element(2,"span",29),e.\u0275\u0275template(3,vl,1,1,"a",30),e.\u0275\u0275elementEnd()),2&i){var t=e.\u0275\u0275nextContext().ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.pivotModelUnavailableImagePath),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("localize",t.pivotModelUnavailableMessageKey),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.pivotModelUnavailableLearnMoreLink)}}function _l(i,r){if(1&i){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ol,4,2,"ng-container",0),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"pbi-search-box",1),e.\u0275\u0275listener("searchCleared",function(){e.\u0275\u0275restoreView(t);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.searchInputFormControl.setValue(""))}),e.\u0275\u0275element(4,"input",2,3),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,ml,4,4,"ng-container",4),e.\u0275\u0275template(9,hl,4,3,"ng-template",null,5,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()}if(2&i){var n=r.ngIf,o=e.\u0275\u0275reference(10),a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,6,a.formattingPaneMessage$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("formControl",a.searchInputFormControl),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(6,8,"SearchBox_Text"))("placeholder",e.\u0275\u0275pipeBind1(7,10,"SearchBox_Text")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!n.pivotModelUnavailableMessageKey)("ngIfElse",o)}}var xn=function(){function i(r,t,n,o){var a=this;this.changeDetector=t,this.componentStore=n,this.featureSwitchService=o,this.mobileFormatting=!1,this.disableScrollbar=!1,this.propertyChanged=new e.EventEmitter,r.get("formattingService").then(function(c){a.formattingService=c,t.detectChanges()}),o.featureSwitches.onObject&&r.get(jt.a).then(function(c){a.formattingUIManager=c,t.detectChanges()})}return i.prototype.ngOnChanges=function(){this.changeDetector.markForCheck()},i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(Xt.H),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(lt),e.\u0275\u0275directiveInject(Fe.vZ))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["formatting-pane"]],inputs:{formattingSources:"formattingSources",indicatorEnabled:"indicatorEnabled",mobileFormatting:"mobileFormatting",disableScrollbar:"disableScrollbar",disabledCards:"disabledCards",disabledSlices:"disabledSlices"},outputs:{propertyChanged:"propertyChanged"},features:[e.\u0275\u0275ProvidersFeature([lt]),e.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[[3,"formattingService","formattingUIManager","componentStore","formattingSources","indicatorEnabled","mobileFormatting","disableScrollbar","disabledCards","disabledSlices","propertyChanged",4,"ngIf"],[3,"formattingService","formattingUIManager","componentStore","formattingSources","indicatorEnabled","mobileFormatting","disableScrollbar","disabledCards","disabledSlices","propertyChanged"]],template:function(t,n){1&t&&e.\u0275\u0275template(0,qa,1,9,"formatting-pane-inner",0),2&t&&e.\u0275\u0275property("ngIf",n.formattingService&&(n.featureSwitchService.featureSwitches.onObject&&n.formattingUIManager||!n.featureSwitchService.featureSwitches.onObject))},dependencies:function(){return[x.NgIf,wn]},styles:["[_nghost-%COMP%] { display: flex; flex-direction: column; flex-grow: 1 }"],changeDetection:0}),i}(),wn=function(i){function r(t,n,o,a,c,l,s,u,g,v,h,C,V,B,H,N){var R=i.call(this)||this;return R.componentFactoryResolver=t,R.contextActivityService=n,R.featureSwitchService=o,R.fileMenuService=a,R.highContrastCssGenerationService=c,R.localizationService=l,R.ngZone=s,R.paneVisibilityService=u,R.pbiMenuService=g,R.reportViewSettingsService=v,R.screenReaderService=h,R.selectionService=C,R.telemetryService=V,R.trustedVisual=B,R.undoRedo=H,R.visualPluginService=N,R.mobileFormatting=!1,R.disableScrollbar=!1,R.propertyChanged=new e.EventEmitter,R}return(0,p.ZT)(r,i),r.prototype.ngOnInit=function(){var t=this;this.featureSwitches$=this.featureSwitchService.featureSwitches$,this.formattingPane$=this.componentStore.getViewModel$(),this.selectedFormattingPivotType$=this.formattingPane$.pipe((0,b.U)(function(l){return l.selectedPivot.key}),(0,ce.x)()),this.componentStore.onAvailablePivotsChanged(this.changes$("formattingSources"));var n=(0,S.aj)([this.changes$("disabledCards"),this.changes$("disabledSlices")]).pipe((0,b.U)(function(l){return{disabledCards:l[0],disabledSlices:l[1]}}));this.componentStore.updateDisabledInformation(n),this.currentPivots$=this.formattingPane$.pipe((0,b.U)(function(l){return Object.entries(l.pivots).map(function(s){var g=s[1];return{pivotKey:s[0],pivotDisplayName:g&&g.pivotDisplayName}})})),this.formattingPaneMessage$=this.formattingPane$.pipe((0,b.U)(function(l){var s,g=null===(s=l.pivots[l.selectedPivot.key])||void 0===s?void 0:s.formattingModelMessage;if(g)return(0,p.pi)((0,p.pi)({},g),{messageBannerModel:{bannerType:3,iconName:"glyphicon glyph-small pbi-glyph-info",message:t.localizationService.get(g.messageKey)}})})),this.formattingPane$.subscribe(function(l){l.itemsMatched&&t.screenReaderService.alert(t.localizationService.format("Matches_Found",l.itemsMatched))}),this.cards$=this.formattingPane$.pipe((0,ke.w)(function(l){var s,g=l.pivots[l.selectedPivot.key],v=null!==(s=g&&g.cards)&&void 0!==s?s:{};return(0,S.aj)(Object.keys(v).map(function(h){return t.componentStore.selectCard(h)})).pipe((0,b.U)(function(h){return _.sortBy(_.compact(h),function(C){return C.index})}))}),(0,ce.x)(function(l,s){return _.isEqual(l,s)}));var o=this.featureSwitchService.featureSwitches$.pipe((0,b.U)(function(l){return l.onObject}),(0,ce.x)());(0,S.aj)([this.selectedFormattingPivotType$,this.cards$,o]).pipe((0,W.h)(function(l){return l[2]}),(0,ae.R)(this.onDestroy$)).subscribe(function(l){var s=l[0],u=l[1];if("Page"===s)t.formattingService.startFormattingTutorial("DrillthroughTutorial");else if("Visual"===s){var g=u.some(function(h){return h.uid==="".concat("Visual","-").concat("referenceLine")});t.formattingService.startFormattingTutorial("AnalyticsPaneMoveTutorial",{selector:g?'[data-unique-id="Visual-referenceLine"] [data-testid="formatting-card-button"]':"formatting-pane formatting-card:nth-last-of-type(1) button"})}}),this.reportViewSettingsService&&this.reportViewSettingsService.getReportViewSettingsChanged().userSettings$.pipe((0,L.M)(this.formattingPane$),(0,ae.R)(this.onDestroy$),(0,W.h)(function(l){return"formatPaneExpandSubcategories"===l[0].propertyName})).subscribe(function(l){var u=l[1],g=l[0].value;Object.keys(u.pivots).map(function(v){var h=Object.keys(u.pivots[v].cards);t.componentStore.setAllExpansionState({expanded:!1,pivotKey:v,source:1}),h.forEach(function(C){t.componentStore.setAllExpansionState({cardId:C,expanded:g,pivotKey:v,source:0})})})}),this.setEventAdapters(),this.initializeHighContrastRules(),this.initEmphasis()},r.prototype.ngAfterViewInit=function(){var t=this;this.setFormatPaneTypeEventAdapter(),(0,S.aj)([this.formattingPane$,this.cards.changes]).pipe((0,ae.R)(this.onDestroy$),(0,W.h)(function(n){return!(!n[1]||!n[0].scrollCardToTop)})).subscribe(function(n){t.scrollCardToTop(n[0].scrollCardToTop.uid)}),this.paneVisibilityService.getFocusedPane$().pipe((0,ae.R)(this.onDestroy$)).subscribe(function(n){"format"===n&&setTimeout(function(){var o,a;null===(a=null===(o=t.searchInput)||void 0===o?void 0:o.nativeElement)||void 0===a||a.focus()})})},Object.defineProperty(r.prototype,"cardClasses",{get:function(){return this.disableScrollbar?"cards disableScrollbar":"cards enableScrollbar"},enumerable:!1,configurable:!0}),r.prototype.scrollCardToTop=function(t){var o,n=this;if(t&&(o=this.cards.find(function(c){return c.formattingCard.uid===t})),this.scrollCardToTopAnimator&&(this.scrollCardToTopAnimator.stop(),this.scrollCardToTopAnimator=void 0),o){var a=this.scrollCardToTopAnimator=new Ea($(o.elem.nativeElement),"scroller","scrollCardToTopSpacer",{duration:500,power:2,ngZone:this.ngZone,onDone:function(){n.scrollCardToTopAnimator===a&&(n.scrollCardToTopAnimator=void 0)}});a.start(),this.componentStore.updateScrollCardToTop(void 0)}},r.prototype.setEventAdapters=function(){this.setSearchStringFormControl(),this.setOnValueChangeEventAdapter(),this.setToggleOutputEventAdapter(),this.setRevertToDefaultEventAdapter(),this.setOpenContextMenuEventAdapter()},r.prototype.setSearchStringFormControl=function(){var t=this;this.searchInputFormControl=new y.p4("");var n=this.searchInputFormControl.valueChanges.pipe((0,ye.O)(""),(0,wa.b)(200),(0,ce.x)(),(0,k.d)(1));this.componentStore.updateSearchString(n),n.pipe((0,Ia.T)(1)).subscribe(function(){t.handleFormatModeInteraction()}),n.pipe((0,b.U)(function(c){return!!c})).pipe((0,ce.x)(),(0,W.h)(function(c){return c})).subscribe(function(){return t.telemetryService.logEvent(he.rU)})},r.prototype.setFormatPaneTypeEventAdapter=function(){var t=this;this.formattingPivotTypeButtonChange=this.createEventAdapter();var n=this.formattingPivotTypeButtonChange.$.pipe((0,W.h)(function(o){return o.checked}),(0,b.U)(function(o){return o.value}));n.subscribe(function(){t.handleFormatModeInteraction()}),this.componentStore.updateSelectedPivot(n),(0,S.aj)([this.changes$("formattingSources"),this.pbiSearchBoxList.changes]).subscribe(function(o){var c=o[1];t.searchInputFormControl.setValue(""),c.length>0&&c.first.clearSearchText()})},r.prototype.setOnValueChangeEventAdapter=function(){var t=this;this.onValueChange=this.createEventAdapter(),this.onValueChange.$.pipe().subscribe(function(n){var o=n[0];return(0,p.mG)(t,void 0,void 0,function(){var c,l,s,u,v=this;return(0,p.Jh)(this,function(h){switch(h.label){case 0:return c=this.getSelectedVisual(),l=He.UP.getSelectedCanvasItems(this.selectionService),s=(0,p.pi)((0,p.pi)({},o),{changes:o.changes.map(function(C){return(0,p.pi)((0,p.pi)({},C),{canvasItems:l})})}),u=this.formattingService.isEditableContainerWithSelectionChangeOnly(s),s.suppressSave?[3,2]:[4,this.componentStore.saveValues(s,{source:"Pane",paneType:"format"})];case 1:h.sent(),s.changes.forEach(function(C){var V,B;v.propertyChanged.emit({cardName:C.objectName,sliceName:null===(V=C.propertySlice)||void 0===V?void 0:V.name,visualType:null===(B=c?.config)||void 0===B?void 0:B.singleVisual.visualType,visualUniqueName:c?.name})}),h.label=2;case 2:return(_.some(s.changes,function(C){return C.objectName===De.nB})||u)&&f.fF.assert(function(){return 1===_.size(s.changes)},"we support only one container object changes at a time"),s.suppressSave&&(this.componentStore.updateSlicesState(s),this.componentStore.updateRevertToDefaultEnabledState(s)),s.changes.some(function(C){return C.isTopLevelToggle})&&this.handleFormatModeInteraction(),[2]}})})})},r.prototype.setToggleOutputEventAdapter=function(){var t=this;this.toggleOutput=this.createEventAdapter(),this.toggleOutput.$.pipe((0,L.M)(this.formattingPane$),(0,Ke.b)(function(n){var o=n[0],c=ot(o.toggleState,""!==n[1].searchString)?"Expand":"Collapse";if(o.groupId&&On.has(o.groupId))t.telemetryService.logEvent(he.lG,{uid:o.groupId,toggleType:c});else if(!o.groupId&&o.cardId&&Sn.has(o.cardId))t.telemetryService.logEvent(he.lG,{uid:o.cardId,toggleType:c});else if(o.groupId){var l=o.groupId.split("-");if(l.length>1){var s="".concat(l[0],"-").concat(l[l.length-1]);On.has(s)&&t.telemetryService.logEvent(he.lG,{uid:s,toggleType:c})}}})).subscribe(function(n){t.componentStore.updateToggleState(n[0]),t.handleFormatModeInteraction()})},r.prototype.setRevertToDefaultEventAdapter=function(){var t=this;this.revertToDefault=this.createEventAdapter(),this.revertToDefault.$.pipe((0,L.M)(this.formattingPane$),(0,Ke.b)(function(n){var o=n[0];Sn.has(o.cardId)&&t.telemetryService.logEvent(he.G5,{uid:o.cardId})})).subscribe(function(n){var o=n[0],a=n[1];t.undoRedo.register("RevertFormattingPane",function(){var c,l,s=He.UP.getSelectedCanvasItems(t.selectionService),u=_.some(s,function(C){return(0,ja.v)(C,t.visualPluginService,t.trustedVisual)}),g=_.map(o.revertToDefaultDescriptors,function(C){return(0,p.pi)((0,p.pi)({},C),{canvasItems:s})});if(u)t.componentStore.revertToDefault(g,o.cardId);else{var v=o?.cardId,h=t.createFormattingTelemetry(null===(l=null===(c=a.canvasItem)||void 0===c?void 0:c.value)||void 0===l?void 0:l.name,v,"Revert To Default");try{t.componentStore.revertToDefault(g,o.cardId),h.resolve()}catch(C){throw h.reject(C),C}}}),t.screenReaderService.alert(t.localizationService.format("RevertToDefaultActivated_Visual_FormatPane_Card",t.localizationService.get(a.formattingSettingsString),o.cardName,t.localizationService.get(a.itemTypeDisplayName)))})},r.prototype.createFormattingTelemetry=function(t,n,o){return this.contextActivityService.createActivity({name:o,data:{objectName:n,source:"Pane",paneType:"format"},visualName:t})},r.prototype.setOpenContextMenuEventAdapter=function(){var t=this;this.openContextMenu=this.createEventAdapter(),this.openContextMenu.$.pipe((0,L.M)(this.formattingPane$)).subscribe(function(n){var o=n[0];return t.openMenu(o.event,n[1],o.card)})},r.prototype.openMenu=function(t,n,o){var a=this,c=this.isMouseEvent(t)?{element:t.target,x:t.x,y:t.y}:t.target,l=[{id:0,type:Pe.iB.Button,text:this.localizationService.get(this.mobileFormatting?"Reset_All_Settings_Mobile":"Reset_All_Settings")},{type:Pe.iB.Divider},{id:1,type:Pe.iB.Button,text:this.localizationService.get("ExpandAllCategories")},{id:2,type:Pe.iB.Button,text:this.localizationService.get("CollapseAllCategories")}];if(o&&ot(o.toggleState,""!==n.searchString)){var u=n.pivots[n.selectedPivot.key].groups,g=_.some(o.groupUids,function(h){return u[h].collapsible});l.push({type:Pe.iB.Divider},{id:3,type:Pe.iB.Button,text:this.localizationService.get("ExpandAllSubcategories"),disabled:!g,data:o.uid},{id:4,type:Pe.iB.Button,text:this.localizationService.get("CollapseAllSubcategories"),disabled:!g,data:o.uid})}this.fileMenuService&&l.push({type:Pe.iB.Divider},{id:5,type:Pe.iB.Button,text:this.localizationService.get("Options_Menu")}),this.pbiMenuService.open({menu:{items:l},origin:c,componentFactoryResolver:this.componentFactoryResolver,closeOnButtonClick:!0,menuMode:Pe.Kb.Compact}).onButtonClick$.pipe((0,rt.q)(1)).subscribe(function(h){a.menuItemClick(h,n),a.handleFormatModeInteraction()}),t.stopPropagation(),t.preventDefault()},r.prototype.isMouseEvent=function(t){return void 0!==t.x},r.prototype.menuItemClick=function(t,n){var o=this,a=t.id;switch(a){case 0:return this.telemetryService.logEvent(he.cF,{buttonName:"Reset_All_Settings"}),this.undoRedo.register("RevertFormattingPane",function(){Object.keys(n.pivots).map(function(c){var l=He.UP.getSelectedCanvasItems(o.selectionService),s=_.map(n.pivots[c].revertToDefaultDescriptors,function(u){return(0,p.pi)((0,p.pi)({},u),{canvasItems:l})});o.componentStore.revertToDefault(s)})}),void this.screenReaderService.alert(this.localizationService.format("RevertToDefaultActivated_Visual_FormatPane",this.localizationService.get(n.formattingSettingsString),this.localizationService.get(n.itemTypeDisplayName)));case 1:return this.telemetryService.logEvent(he.cF,{buttonName:"ExpandAllCategories"}),void this.componentStore.setAllExpansionState({expanded:!0,source:1});case 2:return this.telemetryService.logEvent(he.cF,{buttonName:"CollapseAllCategories"}),void this.componentStore.setAllExpansionState({expanded:!1,source:1});case 3:return this.telemetryService.logEvent(he.cF,{buttonName:"ExpandAllSubcategories"}),void this.componentStore.setAllExpansionState({cardId:t.data,expanded:!0,source:0});case 4:return this.telemetryService.logEvent(he.cF,{buttonName:"CollapseAllSubcategories"}),void this.componentStore.setAllExpansionState({cardId:t.data,expanded:!1,source:0});case 5:return this.telemetryService.logEvent(he.cF,{buttonName:"OpenReportSettings"}),void this.fileMenuService.handleMenuItem("manageSettings","reportSettings");default:return void f.fF.assertNever(a)}},r.prototype.cardUid=function(t,n){return n.uid},r.prototype.getSelectedVisual=function(){return He.UP.getDefaultSelectedVisualInSingleOrMultiCase(this.selectionService)},r.prototype.trackByPivotKeyFn=function(t,n){return n.pivotKey},r.prototype.handleFormatModeInteraction=function(){this.featureSwitchService.featureSwitches.onObject&&this.formattingUIManager.handleFormatPaneInteraction()},r.prototype.initializeHighContrastRules=function(){this.highContrastCssGenerationService.addRule("formatting-pane .top-navigation pbi-button-toggle-group .text.selected::after","{ background-color: @selectedBackgroundColor !important; }")},r.prototype.initEmphasis=function(){var t=this;this.cardEmphasis={},this.cardEmphasisSubjects={},this.cardEmphasisRemovalSubjects={},this.featureSwitchService.featureSwitches.onObject&&(this.emphasize$=this.paneVisibilityService.getPaneEmphasis$("format"),this.cards$.pipe((0,ye.O)(void 0),(0,Ta.G)()).subscribe(function(n){var o,a=n[0],c=n[1],l=new Set(null!==(o=a?.map(function(C){return C.uid}))&&void 0!==o?o:[]),s=[];c?.forEach(function(C){var V=C.uid;l.has(V)?l.delete(V):s.push(V)});var u=Array.from(l),g=t.cardEmphasis,v=t.cardEmphasisSubjects,h=t.cardEmphasisRemovalSubjects;s.forEach(function(C){var V=new Ze.xQ;v[C]=V;var B=new Ze.xQ;h[C]=B,g[C]=(0,je.T)(V,t.emphasize$).pipe((0,ae.R)((0,je.T)(B,t.onDestroy$)))}),u.forEach(function(C){v[C].complete(),v[C]=void 0;var B=h[C];B.next(),B.complete(),h[C]=void 0,g[C]=void 0})}))},r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(e.ComponentFactoryResolver),e.\u0275\u0275directiveInject(Ga.r),e.\u0275\u0275directiveInject(Fe.vZ),e.\u0275\u0275directiveInject(Fa.P,8),e.\u0275\u0275directiveInject(oe.g),e.\u0275\u0275directiveInject(ne.o),e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(Wa.r),e.\u0275\u0275directiveInject(Ka.o),e.\u0275\u0275directiveInject(zt.a,8),e.\u0275\u0275directiveInject(cn.g),e.\u0275\u0275directiveInject(Yt.z),e.\u0275\u0275directiveInject(Da.y0),e.\u0275\u0275directiveInject(Qa.t),e.\u0275\u0275directiveInject(Ha.z),e.\u0275\u0275directiveInject(Ja.D))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["formatting-pane-inner"]],viewQuery:function(n,o){if(1&n&&(e.\u0275\u0275viewQuery(el,5,e.ElementRef),e.\u0275\u0275viewQuery(wt.a,5),e.\u0275\u0275viewQuery(tl,5)),2&n){var a=void 0;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.searchInput=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.pbiSearchBoxList=a),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(o.cards=a)}},inputs:{formattingService:"formattingService",formattingUIManager:"formattingUIManager",componentStore:"componentStore",formattingSources:"formattingSources",indicatorEnabled:"indicatorEnabled",mobileFormatting:"mobileFormatting",disableScrollbar:"disableScrollbar",disabledCards:"disabledCards",disabledSlices:"disabledSlices"},outputs:{propertyChanged:"propertyChanged"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[4,"ngIf"],[3,"searchCleared"],["pbiSearchInput","",1,"pbi-focus-outline",3,"formControl"],["searchInput",""],[4,"ngIf","ngIfElse"],["showUnavaliable",""],[1,"formatting-pane-message"],[3,"viewModel"],["class","pbi-modern-button secondaryBtn compact",3,"localize","click",4,"ngIf"],[1,"pbi-modern-button","secondaryBtn","compact",3,"localize","click"],["focus-formatting-cards","",3,"class",4,"ngIf"],["class","top-navigation themeableElement",4,"ngIf"],[1,"top-navigation","themeableElement"],["role","tablist","tabindex","-1","focus-pivot-root",""],["focus-pivot","","tabindex","-1",3,"role","checked","value","buttonTabIndex","pivot-tab-key-handler","valueChanged","onActiveSection",4,"ngFor","ngForOf","ngForTrackBy"],["name","more","role","button","size","small",3,"pbiTooltip","accessible-click"],["focus-pivot","","tabindex","-1",3,"role","checked","value","buttonTabIndex","pivot-tab-key-handler","valueChanged","onActiveSection"],["class","text",3,"selected","localize",4,"ngIf"],[1,"text",3,"localize"],["focus-formatting-cards",""],["class","scroller",3,"pbiScrollbar","pbiScrollbarDisabled","contextmenu",4,"ngIf"],[1,"scroller",3,"pbiScrollbar","pbiScrollbarDisabled","contextmenu"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"scrollCardToTopSpacer",2,"height","0px"],[3,"searchString","formattingCard","indicatorEnabled","mobileFormatting","emphasize$","valueChanged","onRevertToDefaultClicked","contextmenu","onToggled"],["card",""],[3,"pbiEmphasisBorder","pbiEmphasisBorderColor"],["role","alert",1,"unavailable"],["class","image",4,"ngIf"],[3,"localize"],["class","learnMore","target","_blank","localize","LearnMore",3,"href",4,"ngIf"],[1,"image"],["target","_blank","localize","LearnMore",1,"learnMore",3,"href"]],template:function(n,o){1&n&&(e.\u0275\u0275template(0,_l,11,12,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,o.formattingPane$))},dependencies:[x.NgForOf,x.NgIf,Za.H,y.Fj,y.JJ,pe.X,ze.t,K.I,j.J,nn,T._,Xa.r,wt.a,wt.p,xe.V,y.oH,Ya.A,Pn,x.AsyncPipe,st.F],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1}pbi-search-box[_ngcontent-%COMP%]{flex:none;margin:4px 8px 12px}.formatting-pane-message[_ngcontent-%COMP%]{margin:0 8px 8px 0;display:flex;flex-direction:column}.formatting-pane-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 4px;align-self:flex-end}.unavailable[_ngcontent-%COMP%]{--learn-more-link-color: var(--fluent-theme-link-color, #0078D4);flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600)}  [data-legacy-theming=false] .unavailable{--learn-more-link-color: var(--colorBrandForegroundLink)}html:not([dir="rtl"])[_nghost-%COMP%]   .unavailable[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .unavailable[_ngcontent-%COMP%]{padding:20px 16px 64px}html[dir="rtl"][_nghost-%COMP%]   .unavailable[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .unavailable[_ngcontent-%COMP%]{padding:20px 16px 64px}.unavailable[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{height:40px;margin-bottom:12px}.unavailable[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}.unavailable[_ngcontent-%COMP%]   .learnMore[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400);margin-top:12px;text-decoration:none;color:var(--learn-more-link-color)}.top-navigation[_ngcontent-%COMP%]{--selected-tab-highlight-color: var(--fluent-theme-primary-color, #F2C811);flex:none;padding-left:8px;padding-right:8px;display:flex;justify-content:space-between}  [data-legacy-theming=false] .top-navigation{--selected-tab-highlight-color: var(--colorCompoundBrandBackground)}.top-navigation[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex:1 1 0;margin-bottom:10px}.top-navigation[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;padding:4px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}.top-navigation[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   .text.selected[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600)}.top-navigation[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]:after{content:"";display:block;width:100%;height:2px;margin-top:4px}.top-navigation[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   .text.selected[_ngcontent-%COMP%]:after{background-color:var(--selected-tab-highlight-color)}.top-navigation[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   pbi-button-toggle[_ngcontent-%COMP%]{display:flex;overflow:hidden}.top-navigation[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   pbi-button-toggle.checked[_ngcontent-%COMP%]{flex:none;max-width:calc(100% - 44px)}.top-navigation[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   pbi-button-toggle[_ngcontent-%COMP%]:not(.checked){flex-basis:auto;min-width:44px}.top-navigation[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   pbi-button-toggle[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{background-color:var(--gray-40, #E1DFDD)}html:not([dir="rtl"])[_nghost-%COMP%]   .top-navigation[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   pbi-button-toggle[_ngcontent-%COMP%]:first-child, html:not([dir="rtl"])   [_nghost-%COMP%]   .top-navigation[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   pbi-button-toggle[_ngcontent-%COMP%]:first-child{margin-right:8px}html[dir="rtl"][_nghost-%COMP%]   .top-navigation[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   pbi-button-toggle[_ngcontent-%COMP%]:first-child, html[dir="rtl"]   [_nghost-%COMP%]   .top-navigation[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   pbi-button-toggle[_ngcontent-%COMP%]:first-child{margin-left:8px}html[data-focus-source="key"][_nghost-%COMP%]   .top-navigation[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   pbi-button-toggle[_ngcontent-%COMP%]:focus-within, html[data-focus-source="key"]   [_nghost-%COMP%]   .top-navigation[_ngcontent-%COMP%]   pbi-button-toggle-group[_ngcontent-%COMP%]   pbi-button-toggle[_ngcontent-%COMP%]:focus-within{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color);outline-offset:-1px}.top-navigation[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{padding:6px 8px 10px}.top-navigation[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]:focus{outline:none}html[data-focus-source="key"][_nghost-%COMP%]   .top-navigation[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]:focus, html[data-focus-source="key"]   [_nghost-%COMP%]   .top-navigation[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]:focus{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}hr[_ngcontent-%COMP%]{--hr-color: var(--gray-40, #E1DFDD);border:none;border-top:1px solid var(--hr-color);margin:0}  [data-legacy-theming=false] hr{--hr-color: var(--colorNeutralStroke1)}.cards[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:1;flex-basis:0}.disableScrollbar[_ngcontent-%COMP%]{overflow:unset}.enableScrollbar[_ngcontent-%COMP%]{overflow:hidden}'],changeDetection:0}),r}(Oe.w),yl=d(67659),Ml=d(22824),Pl=d(82156),Sl=d(79061),Ol=d(72359),xl=d(94785),wl=d(45925),Il=d(91382),Tl=d(53935),Fl=d(47913),El=d(6015),Dl=d(76433),Bl=d(47542),kl=d(93367),Vl=d(39433),Al=d(55533),$l=d(79725),Ll=d(63766),Nl=d(16095),Ul=d(6618),Rl=d(27037),zl=d(17177),jl=[{type:xn,componentId:"FormattingPaneComponentId"},{type:bt,componentId:"GradientBarComponentId"},{type:X,componentId:"ToggleSwitchModernComponentId"},{type:xt,componentId:"WarningComponentId"}],Gl=function(){function i(){}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[x.CommonModule,m,Ml.J,wl.e,y.u5,Pl.N.withManifests(jl),Sl.v,Il.d,yl._,Tl.e,Fl.V,El.C,Dl.d,Bl.d,kl.U,Ol.K,Vl.t,Al.q,$l.j,Nl.Z,y.UX,Ll.l,Ul.J,Rl.b,zl.T6,xl.g]}),i}()},43859:function(de,Q,d){d.d(Q,{H:function(){return y}});var e=d(50423),m=d(57470),p=d(62458),y=function(){function U(){this.onActiveSection=new e.EventEmitter,this.observedTargetsMap=new Map}return U.prototype.onKeyDown=function(I){var S,z=this.options,G=this.options.sections,A=G.length;switch(I.keyCode){case 37:case 38:S=G.findIndex(function(oe){return oe===z.currentSection}),this.switchTab(G[(S-1+A)%A],I,!0);break;case 39:case 40:S=G.findIndex(function(oe){return oe===z.currentSection}),this.switchTab(G[(S+1)%A],I)}},U.prototype.switchTab=function(I,z,G){var A=this;void 0===G&&(G=void 0);var S=z.target,b=new MutationObserver(function(L){for(var W=function(P){if("attributes"===P.type&&"tabindex"===P.attributeName&&document.activeElement===S){var F=m.M.getFirstMatchingAncestor(S,function(f){return f.hasAttribute(A.options.rootAttribute)}),w=void 0;w=G?m.M.getPrevTabbableMatchingSibling(S,function(f){return!!m.M.getFirstMatchingAncestor(f,function(E){return E.hasAttribute(A.options.pivotAttribute)},F,!0)},F):m.M.getNextTabbableMatchingSibling(S,function(f){return!!m.M.getFirstMatchingAncestor(f,function(E){return E.hasAttribute(A.options.pivotAttribute)},F,!0)},F),w?.focus()}},oe=0,ne=L;oe<ne.length;oe++)W(ne[oe]);var K=A.observedTargetsMap.has(S);K||p.fF.assertFail("PivotTabKeyHandler does not have the correct observed target on mutation observer callback - possibly detached early"),b.disconnect();var j=A.observedTargetsMap.get(S);j>1?A.observedTargetsMap.set(S,j-1):K&&A.observedTargetsMap.delete(S)});b.observe(S,{attributes:!0,attributeFilter:["tabindex"]});var k=this.observedTargetsMap.get(S);this.observedTargetsMap.set(S,k?k+1:1),this.onActiveSection.emit({nextSection:I}),z.stopPropagation()},U.\u0275fac=function(z){return new(z||U)},U.\u0275dir=e.\u0275\u0275defineDirective({type:U,selectors:[["","pivot-tab-key-handler",""]],hostBindings:function(z,G){1&z&&e.\u0275\u0275listener("keydown",function(S){return G.onKeyDown(S)})},inputs:{options:["pivot-tab-key-handler","options"]},outputs:{onActiveSection:"onActiveSection"}}),U}()},36861:function(de,Q,d){d.d(Q,{w:function(){return F}});var e=d(81337),m=d(50423),p=d(17174),y=d(62458);function U(w){y.fF.assert(function(){return!_.isEmpty(w)},"Font family should exist");var f=w.match(/^(?:\s)*('|")?((?:\w|\s|-|\\.)+)(?:\1(?=,|$))/);return f&&f[2]||w}var I=d(72065),z=d(11547),G=d(59017),A=d(14172),S=d(83317),b=d(77526),k=d(39681),L=function(){function w(){}return w.prototype.getAllFonts=function(){return _.map(w.StandardFonts,function(f){return(0,k.ED)(f)})},w.getFamilyCSS=function(f){return f?f.map(function(E){return E.indexOf(" ")>-1?"'".concat(E,"'"):E}).join(", "):null},w.StandardFonts=_.map([{families:["Arial"],displayName:"Arial"},{families:["Arial Black"],displayName:"Arial Black"},{families:["Arial Unicode MS"],displayName:"Arial Unicode MS"},{families:["Calibri"],displayName:"Calibri"},{families:["Cambria"],displayName:"Cambria"},{families:["Cambria Math"],displayName:"Cambria Math"},{families:["Candara"],displayName:"Candara"},{families:["Comic Sans MS"],displayName:"Comic Sans MS"},{families:["Consolas"],displayName:"Consolas"},{families:["Constantia"],displayName:"Constantia"},{families:["Corbel"],displayName:"Corbel"},{families:["Courier New"],displayName:"Courier New"},{families:["wf_standard-font","helvetica","arial","sans-serif"],displayName:"DIN"},{families:["wf_standard-font_light","helvetica","arial","sans-serif"],displayName:"DIN Light"},{families:["Georgia"],displayName:"Georgia"},{families:["Lucida Sans Unicode"],displayName:"Lucida Sans Unicode"},{families:["Segoe UI","wf_segoe-ui_normal","helvetica","arial","sans-serif"],displayName:"Segoe UI"},{families:["Segoe UI Light","wf_segoe-ui_light","helvetica","arial","sans-serif"],displayName:"Segoe UI Light"},{families:["Segoe UI Semibold","wf_segoe-ui_semibold","helvetica","arial","sans-serif"],displayName:"Segoe UI Semibold"},{families:["Segoe UI Bold","wf_segoe-ui_bold","helvetica","arial","sans-serif"],displayName:"Segoe UI Bold"},{families:["Symbol"],displayName:"Symbol",suppressStyle:!0},{families:["Tahoma"],displayName:"Tahoma"},{families:["Times New Roman"],displayName:"Times New Roman"},{families:["Trebuchet MS"],displayName:"Trebuchet MS"},{families:["Verdana"],displayName:"Verdana"},{families:["Wingdings"],displayName:"Wingdings",suppressStyle:!0}],function(f){return{family:w.getFamilyCSS(f.families),displayName:f.displayName,suppressStyle:f.suppressStyle}}),w.\u0275prov=m.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac=function(E){return new(E||w)},providedIn:"root"}),w}(),W=d(77476),oe=d(76492),ne=d(42189),x=d(9529);function K(w,f){if(1&w&&(m.\u0275\u0275elementStart(0,"pbi-dropdown-item",5)(1,"p",3),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd()()),2&w){var E=f.$implicit;m.\u0275\u0275property("value",E),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngStyle",E.style),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(E.displayName)}}var j=function(f){return{showFullContent:f}};function T(w,f){if(1&w){var E=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"pbi-dropdown",2),m.\u0275\u0275listener("valueChange",function(pe){m.\u0275\u0275restoreView(E);var ue=m.\u0275\u0275nextContext(2);return m.\u0275\u0275resetView(ue.setFontFamily(pe))}),m.\u0275\u0275pipe(1,"async"),m.\u0275\u0275elementStart(2,"pbi-dropdown-trigger")(3,"p",3),m.\u0275\u0275text(4),m.\u0275\u0275elementEnd()(),m.\u0275\u0275template(5,K,3,3,"pbi-dropdown-item",4),m.\u0275\u0275elementEnd()}if(2&w){var D=f.ngIf,Y=m.\u0275\u0275nextContext().ngIf,ee=m.\u0275\u0275nextContext();m.\u0275\u0275property("aria-label",ee.ariaLabel)("aria-labelledby",ee.ariaLabelledby)("aria-describedby",ee.ariaDescribedby)("compact",ee.compact)("size",ee.size)("maxHeight",ee.maxHeight)("options",m.\u0275\u0275pureFunction1(14,j,ee.showFullContent))("value",D)("isDisabled",m.\u0275\u0275pipeBind1(1,12,ee.isDisabled$)),m.\u0275\u0275advance(3),m.\u0275\u0275property("ngStyle",D.style),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(D.displayName),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngForOf",Y)}}function P(w,f){if(1&w&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,T,6,16,"pbi-dropdown",1),m.\u0275\u0275pipe(2,"async"),m.\u0275\u0275elementContainerEnd()),2&w){var E=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",m.\u0275\u0275pipeBind1(2,1,E.selectedItem$))}}var F=function(w){function f(E){var D=w.call(this)||this;return D.fontService=E,D.onFontFamilyChange=new m.EventEmitter,D.maxHeight=324,D}return(0,e.ZT)(f,w),f.prototype.ngOnInit=function(){this.isDisabled$=this.mergePropertyInputsAndFormControl(this.changes$("isDisabled"),this.disabled$,"isDisabled",this.onDestroy$),this.populateFontPickerItems()},f.prototype.populateFontPickerItems=function(){var E=this,D=this.mergePropertyInputsAndFormControl(this.changes$("fontFamily"),this.value$,"fontFamily",this.onDestroy$).pipe((0,A.U)(function(Y){return E.normalizeFontFamily(Y)}),(0,S.R)(this.onDestroy$),(0,b.x)());this.fontPickerItems$=(0,z.of)(this.fontService.getAllFonts()).pipe((0,A.U)(function(Y){return Y.map(function(ee){return E.getFontPickerItem(ee)})})),this.selectedItem$=(0,G.aj)([D,this.fontPickerItems$]).pipe((0,A.U)(function(Y){var ee,Ie=Y[0];return null!==(ee=_.find(Y[1],function(ue){return ue.family===Ie}))&&void 0!==ee?ee:E.getCustomFontPickerInfo(Ie)}))},f.prototype.normalizeFontFamily=function(E){return(E??"").split(", ").map(function(D){return D.indexOf(" ")>0&&!D.startsWith("'")?"'".concat(D,"'"):D}).join(", ")},f.prototype.getFontPickerItem=function(E){return{displayName:E.displayName,family:E.family,style:{fontFamily:E.suppressStyle?void 0:E.family}}},f.prototype.setFontFamily=function(E){var D=E.family;this.onFontFamilyChange.emit(D),this.onValueChange(D),this.onTouched()},f.prototype.getCustomFontPickerInfo=function(E){return{displayName:E?U(E):"",family:E,style:{fontFamily:E}}},f.\u0275fac=function(D){return new(D||f)(m.\u0275\u0275directiveInject(L))},f.\u0275cmp=m.\u0275\u0275defineComponent({type:f,selectors:[["font-picker"]],inputs:{fontFamily:"fontFamily",ariaLabel:"ariaLabel",ariaDescribedby:"ariaDescribedby",ariaLabelledby:"ariaLabelledby",compact:"compact",isDisabled:"isDisabled",showFullContent:"showFullContent",size:"size"},outputs:{onFontFamilyChange:"onFontFamilyChange"},features:[m.\u0275\u0275ProvidersFeature([{provide:p.JU,useExisting:(0,m.forwardRef)(function(){return f}),multi:!0}]),m.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[4,"ngIf"],[3,"aria-label","aria-labelledby","aria-describedby","compact","size","maxHeight","options","value","isDisabled","valueChange",4,"ngIf"],[3,"aria-label","aria-labelledby","aria-describedby","compact","size","maxHeight","options","value","isDisabled","valueChange"],[3,"ngStyle"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(D,Y){1&D&&(m.\u0275\u0275template(0,P,3,3,"ng-container",0),m.\u0275\u0275pipe(1,"async")),2&D&&m.\u0275\u0275property("ngIf",m.\u0275\u0275pipeBind1(1,1,Y.fontPickerItems$))},dependencies:[W.NgForOf,W.NgIf,W.NgStyle,oe.H,ne.r,x._,oe.T,W.AsyncPipe],styles:["pbi-dropdown[_ngcontent-%COMP%]{width:100%}pbi-dropdown-trigger[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}pbi-dropdown-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:auto}"],changeDetection:0}),f}(I.N)},45925:function(de,Q,d){d.d(Q,{e:function(){return U}});var e=d(6015),m=d(77476),p=d(17174),y=d(50423),U=function(){function I(){}return I.\u0275fac=function(G){return new(G||I)},I.\u0275mod=y.\u0275\u0275defineNgModule({type:I}),I.\u0275inj=y.\u0275\u0275defineInjector({imports:[m.CommonModule,p.u5,e.C,p.UX]}),I}()},64713:function(de,Q,d){d.d(Q,{J:function(){return G}});var e=d(81337),m=d(42900),p=d(4437),y=d(73221),U=d(14172),I=d(50423),z=["*"],G=function(A){function S(b){var k=A.call(this)||this;return k.pbiButtonToggleService=b,k}return(0,e.ZT)(S,A),S.prototype.ngOnInit=function(){var b=this;this.changes$("disabled").pipe((0,U.U)(function(k){return(0,p.Ig)(k)})).subscribe(function(k){return b.pbiButtonToggleService.setDisabled(k)}),this.changes$("multiple").pipe((0,U.U)(function(k){return(0,p.Ig)(k)})).subscribe(function(k){return b.pbiButtonToggleService.setMultiple(k)})},S.\u0275fac=function(k){return new(k||S)(I.\u0275\u0275directiveInject(m.r))},S.\u0275cmp=I.\u0275\u0275defineComponent({type:S,selectors:[["pbi-button-toggle-group"]],hostAttrs:["role","group"],hostVars:4,hostBindings:function(k,L){2&k&&I.\u0275\u0275classProp("multiple",L.multiple)("disabled",L.disabled)},inputs:{disabled:"disabled",multiple:"multiple"},features:[I.\u0275\u0275ProvidersFeature([m.r]),I.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:z,decls:1,vars:0,template:function(k,L){1&k&&(I.\u0275\u0275projectionDef(),I.\u0275\u0275projection(0))},encapsulation:2,changeDetection:0}),S}(y.w)},53935:function(de,Q,d){d.d(Q,{e:function(){return p}});var e=d(77476),m=d(50423),p=function(){function y(){}return y.\u0275fac=function(I){return new(I||y)},y.\u0275mod=m.\u0275\u0275defineNgModule({type:y}),y.\u0275inj=m.\u0275\u0275defineInjector({imports:[e.CommonModule]}),y}()},42900:function(de,Q,d){d.d(Q,{r:function(){return p}});var e=d(33554),m=d(50423),p=function(){function y(){this.selected$=new e.t(1),this.disabled$=new e.t(1),this.multiple$=new e.t(1)}return y.prototype.select=function(U){this.selected$.next(U)},y.prototype.setDisabled=function(U){this.disabled$.next(U)},y.prototype.setMultiple=function(U){this.multiple$.next(U)},y.\u0275prov=m.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac=function(I){return new(I||y)}}),y}()},53240:function(de,Q,d){d.d(Q,{I:function(){return x}});var e=d(81337),m=d(4437),p=d(50423),y=d(17174),U=d(72065),I=d(63057),z=d(14172),G=d(22318),A=d(23558),S=d(83317),b=d(59973),k=d(73805),L=d(57243),W=d(42900),oe=d(77476),ne=["*"],x=function(K){function j(T){var P=K.call(this)||this;return P.pbiButtonToggleService=T,P.checked=!1,P.supportsNoSelection=!1,P.role="button",P.ariaControls=null,P.id=null,P.valueChanged=new p.EventEmitter,P.onFocus=new p.EventEmitter,P.onBlur=new p.EventEmitter,P}return(0,e.ZT)(j,K),j.prototype.ngOnInit=function(){this.isDisabled$=(0,I.T)(this.pbiButtonToggleService.disabled$,this.mergePropertyInputsAndFormControl(this.changes$("disabled").pipe((0,z.U)(function(T){return(0,m.Ig)(T)})),this.disabled$,"disabled",this.onDestroy$)).pipe((0,G.O)((0,m.Ig)(this.disabled))),this.setCheckedObservable()},j.prototype.setCheckedObservable=function(){var T=this,P=this.pbiButtonToggleService.multiple$.pipe((0,G.O)(!1)),F=this.mergePropertyInputsAndFormControl(this.changes$("checked"),this.value$,"checked",this.onDestroy$);F.subscribe(function(D){return T.checked=D});var w=this.pbiButtonToggleService.selected$.pipe((0,A.M)(P),(0,S.R)(this.onDestroy$),(0,b.h)(function(D){return!D[1]&&T.value!==D[0]}),(0,k.h)(!1));this.onButtonClicked=this.createEventAdapter();var f=this.onButtonClicked.$.pipe((0,A.M)(P),(0,z.U)(function(D){var ee=D[1];return D[0].stopPropagation(),!ee&&!T.supportsNoSelection||!T.checked})),E=(0,I.T)(w,f).pipe((0,L.d)(1));this.checked$=(0,I.T)(F,E),E.pipe((0,A.M)(this.isDisabled$),(0,b.h)(function(D){return!D[1]})).subscribe(function(D){var Y=D[0];Y&&T.pbiButtonToggleService.select(T.value),T.checked=Y,T.valueChanged.emit(T.checked),T.onValueChange(T.checked),T.onTouched()})},j.\u0275fac=function(P){return new(P||j)(p.\u0275\u0275directiveInject(W.r))},j.\u0275cmp=p.\u0275\u0275defineComponent({type:j,selectors:[["pbi-button-toggle"]],hostVars:2,hostBindings:function(P,F){2&P&&p.\u0275\u0275classProp("checked",F.checked)},inputs:{value:"value",disabled:"disabled",checked:"checked",supportsNoSelection:"supportsNoSelection",role:"role",ariaControls:"ariaControls",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],buttonTabIndex:"buttonTabIndex"},outputs:{valueChanged:"valueChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[p.\u0275\u0275ProvidersFeature([{provide:y.JU,useExisting:(0,p.forwardRef)(function(){return j}),multi:!0}]),p.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:ne,decls:5,vars:17,consts:[["type","button",3,"disabled","tabindex","click","focus","blur"]],template:function(P,F){1&P&&(p.\u0275\u0275projectionDef(),p.\u0275\u0275elementStart(0,"button",0),p.\u0275\u0275listener("click",function(f){return F.onButtonClicked.fn(f)})("focus",function(){return F.onFocus.emit()})("blur",function(){return F.onBlur.emit()}),p.\u0275\u0275pipe(1,"async"),p.\u0275\u0275pipe(2,"async"),p.\u0275\u0275pipe(3,"async"),p.\u0275\u0275projection(4),p.\u0275\u0275elementEnd()),2&P&&(p.\u0275\u0275property("disabled",p.\u0275\u0275pipeBind1(1,11,F.isDisabled$)||null)("tabindex",F.buttonTabIndex),p.\u0275\u0275attribute("value",F.value)("role",F.role)("aria-controls",F.ariaControls)("id",F.id)("aria-pressed","button"===F.role?p.\u0275\u0275pipeBind1(2,13,F.checked$):null)("aria-selected","button"!==F.role?p.\u0275\u0275pipeBind1(3,15,F.checked$):null)("aria-label",F.ariaLabel)("aria-labelledby",F.ariaLabelledby)("aria-describedby",F.ariaDescribedby))},dependencies:[oe.AsyncPipe],styles:["button[_ngcontent-%COMP%]{background:transparent;overflow:hidden;border:none;margin:0;padding:0}button[_ngcontent-%COMP%]:focus{outline:none}"],changeDetection:0}),j}(U.N)},2380:function(de,Q,d){d.d(Q,{O:function(){return A}});var e=d(81337),m=d(11991),p=d(37272),y=d(81905),U=d(23558),I=d(50423),z=d(26124),A=function(S){function b(k,L){return S.call(this,k,L)||this}return(0,e.ZT)(b,S),b.prototype.ngOnInit=function(){var k=this;this.changes$("pbiEmphasisBackground").pipe((0,y.w)(function(W){return W||p.E})).pipe((0,U.M)(this.changes$("pbiEmphasisBackgroundColor",!0))).subscribe(function(W){var x=k.getAnimation("backgroundColor",W[1]??"var(--globalColorBrand160)");k.emphasize(x)})},b.\u0275fac=function(L){return new(L||b)(I.\u0275\u0275directiveInject(z._j,8),I.\u0275\u0275directiveInject(I.ElementRef))},b.\u0275dir=I.\u0275\u0275defineDirective({type:b,selectors:[["","pbiEmphasisBackground",""]],inputs:{pbiEmphasisBackground:"pbiEmphasisBackground",pbiEmphasisBackgroundColor:"pbiEmphasisBackgroundColor"},features:[I.\u0275\u0275InheritDefinitionFeature]}),b}(m.A)},11991:function(de,Q,d){d.d(Q,{A:function(){return y}});var e=d(81337),m=d(26124),y=function(U){function I(z,G){var A=U.call(this)||this;return A.animationBuilder=z,A.element=G,A}return(0,e.ZT)(I,U),I.prototype.emphasize=function(z){var G=this;if(this.animationBuilder){var A=function(){var b=G.animationBuilder.build(z),k=G.currentPlayer=b.create(G.element.nativeElement);k.onDestroy(function(){return G.currentPlayer=void 0}),k.play()};this.currentPlayer?(this.currentPlayer.finish(),this.currentPlayer.destroy(),this.requestedAnimationFrameId&&window.cancelAnimationFrame(this.requestedAnimationFrameId),this.requestedAnimationFrameId=window.requestAnimationFrame(function(){A(),G.requestedAnimationFrameId=void 0})):A()}},I.prototype.getAnimation=function(z,G){var A,S,b;return[(0,m.oB)((A={},A[z]="*",A)),(0,m.jt)("100ms ease-out",(0,m.oB)((S={},S[z]=G,S))),(0,m.jt)("500ms ease-out",(0,m.oB)((b={},b[z]="*",b)))]},I}(d(73221).w)},76433:function(de,Q,d){d.d(Q,{d:function(){return p}});var e=d(77476),m=d(50423),p=function(){function y(){}return y.\u0275fac=function(I){return new(I||y)},y.\u0275mod=m.\u0275\u0275defineNgModule({type:y}),y.\u0275inj=m.\u0275\u0275defineInjector({imports:[e.CommonModule]}),y}()},68070:function(de,Q,d){d.d(Q,{a:function(){return x},p:function(){return ne}});var e=d(81337),m=d(50423),p=d(73221),y=d(35510),U=d(59017),I=d(63057),z=d(59787),G=d(58315),A=d(14172),S=d(77526),b=d(77476),k=function(){return{tooltipLocalizeTitle:"Clear",tooltipShowOnFocus:!0}};function L(K,j){if(1&K){var T=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"button",2),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(T);var F=m.\u0275\u0275nextContext();return m.\u0275\u0275resetView(F.onCancelButtonClick())}),m.\u0275\u0275elementEnd()}2&K&&m.\u0275\u0275property("pbi-tooltip",m.\u0275\u0275pureFunction0(1,k))}var W=[[["input"]]],oe=["input"],ne=function(){function K(){}return K.\u0275fac=function(T){return new(T||K)},K.\u0275dir=m.\u0275\u0275defineDirective({type:K,selectors:[["","pbiSearchInput",""]]}),K}(),x=function(K){function j(T){var P=K.call(this)||this;return P.changeDetectorRef=T,P.searchCleared=new m.EventEmitter,P.onSearchTextChanged=new m.EventEmitter,P.emptyValue$=new y.X(void 0),P.hasInput=!1,P}return(0,e.ZT)(j,K),j.prototype.onCancelButtonClick=function(){this.clearSearchText(),this.input.nativeElement.focus()},j.prototype.clearSearchText=function(){this.input.nativeElement.value="",this.hasInput=!1,this.changeDetectorRef.markForCheck(),this.emptyValue$.next(),this.searchCleared.emit()},j.prototype.ngAfterViewInit=function(){var T=this;this.lifecycleSubscriptions.add((0,U.aj)([(0,I.T)((0,z.R)(this.input.nativeElement,"keyup"),(0,z.R)(this.input.nativeElement,"keydown")).pipe((0,G.b)(250)),this.emptyValue$]).pipe((0,A.U)(function(){return T.input.nativeElement.value}),(0,S.x)()).subscribe(function(P){return T.onSearchTextChanged.emit(P)})),setTimeout(function(){return T.onInputChanged(T.input.nativeElement.value)},0)},j.prototype.onInputChanged=function(T){this.hasInput!==!!T&&(this.hasInput=!!T,this.changeDetectorRef.markForCheck())},j.\u0275fac=function(P){return new(P||j)(m.\u0275\u0275directiveInject(m.ChangeDetectorRef))},j.\u0275cmp=m.\u0275\u0275defineComponent({type:j,selectors:[["pbi-search-box"]],contentQueries:function(P,F,w){var f;(1&P&&m.\u0275\u0275contentQuery(w,ne,5,m.ElementRef),2&P)&&(m.\u0275\u0275queryRefresh(f=m.\u0275\u0275loadQuery())&&(F.input=f.first))},outputs:{searchCleared:"searchCleared",onSearchTextChanged:"onSearchTextChanged"},features:[m.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:oe,decls:3,vars:1,consts:[[1,"pbi-search-box",3,"input"],["class","clearIcon pbi-borderless-button glyphicon pbi-glyph-clear glyph-mini searchbox-clear-icon",3,"pbi-tooltip","click",4,"ngIf"],[1,"clearIcon","pbi-borderless-button","glyphicon","pbi-glyph-clear","glyph-mini","searchbox-clear-icon",3,"pbi-tooltip","click"]],template:function(P,F){1&P&&(m.\u0275\u0275projectionDef(W),m.\u0275\u0275elementStart(0,"div",0),m.\u0275\u0275listener("input",function(f){return F.onInputChanged(f.target.value)}),m.\u0275\u0275projection(1),m.\u0275\u0275template(2,L,1,2,"button",1),m.\u0275\u0275elementEnd()),2&P&&(m.\u0275\u0275advance(2),m.\u0275\u0275property("ngIf",F.hasInput))},dependencies:[b.NgIf],styles:['.pbi-search-box{--searchBox-colorEditLabelBorder: var(--gray-120);--searchBox-colorEditLabelBorderHover: var(--gray-160);--searchBox-colorEditLabelForeground: var(--gray-130);--searchBox-colorEditLabelPlaceholderForeground: var(--gray-140);--searchBox-colorEditLabelBackground: auto;--searchBox-colorEditLabelSelectedForeground: var(--text-primary-content-color);--searchBox-colorEditLabelSelectedBackground: var(--fluent-theme-primary-color)}[data-legacy-theming=false] .pbi-search-box{--searchBox-colorEditLabelBorder: var(--colorNeutralStroke1);--searchBox-colorEditLabelBorderHover: var(--colorNeutralStroke1);--searchBox-colorEditLabelForeground: var(--colorNeutralForeground1);--searchBox-colorEditLabelPlaceholderForeground: auto;--searchBox-colorEditLabelBackground: var(--colorNeutralBackground1);--searchBox-colorEditLabelSelectedForeground: var(--colorNeutralForegroundOnBrand);--searchBox-colorEditLabelSelectedBackground: var(--colorBrandBackground)}.pbi-search-box{display:block;width:100%;position:relative}.pbi-search-box:before{content:"\\e721"}.pbi-search-box:before{color:var(--searchBox-colorEditLabelForeground);display:inline-block;font-family:PowrMDL2;font-size:14px;position:absolute;top:6px;left:8px}.pbi-search-box input{padding:3px 28px;border-radius:2px;border:1px solid var(--searchBox-colorEditLabelBorder);color:var(--searchBox-colorEditLabelForeground);background-color:var(--searchBox-colorEditLabelBackground);outline:none;box-sizing:border-box;font-size:14px;width:100%}.pbi-search-box input:hover,.pbi-search-box input:focus{border-color:var(--searchBox-colorEditLabelBorderHover)}.pbi-search-box input::placeholder{color:var(--searchBox-colorEditLabelPlaceholderForeground)}.pbi-search-box input::selection{background:var(--searchBox-colorEditLabelSelectedBackground);color:var(--searchBox-colorEditLabelSelectedForeground)}.pbi-search-box .pbi-glyph-clear{background-color:transparent}.pbi-search-box .searchbox-clear-icon{color:var(--searchBox-colorEditLabelForeground);position:absolute;right:8px;top:7px;border:0px;padding:0}\n'],encapsulation:2,changeDetection:0}),j}(p.w)},25929:function(de,Q,d){d.d(Q,{P:function(){return ne}});var e=d(81337),m=d(50423),p=d(17174),y=d(72065),U=d(59017),I=d(63057),z=d(59973),G=d(14172),A=d(64647),S=d(65181),b=d(77476),k=d(31496),L=d(78173),W=function(K){return{modernStyles:K}},oe=function(K){return{disabled:K}},ne=function(x){function K(j,T){var P=x.call(this)||this;return P.highContrastCssGenerationService=j,P.localizationService=T,P.inputFocusChange=new m.EventEmitter,P.modelValueChange=new m.EventEmitter,P}return(0,e.ZT)(K,x),K.prototype.ngOnInit=function(){var T,j=this;this.onModelValueChanged=this.createEventAdapter(),this.onModelValueChanged.$.subscribe(function(F){j.modelValueChange.emit(F),j.onValueChange(F),j.onTouched()});var P=this.changes$("options");this.onSliderSliding=this.createEventAdapter(),this.modelValue$=(0,U.aj)([(0,I.T)(this.mergePropertyInputsAndFormControl(this.changes$("modelValue"),this.value$,"modelValue",this.onDestroy$),this.onSliderSliding.$),P]).pipe((0,z.h)(function(F){var w=F[0],f=F[1],E=f.minValue,D=f.maxValue,Y=!0,ee=!0;return _.isFinite(E)&&_.isFinite(w)&&(Y=w>=E),_.isFinite(D)&&_.isFinite(w)&&(ee=w<=D),Y&&ee}),(0,G.U)(function(F){return F[0]})),this.isDisabled$=this.mergePropertyInputsAndFormControl(this.changes$("isDisabled"),this.disabled$,"isDisabled",this.onDestroy$),this.useModernStyles=null===(T=this.useModernStyles)||void 0===T||T,this.sliderUnits$=P.pipe((0,G.U)(function(F){return F?.unitSymbol?j.localizationService.get(F.unitSymbol):""})),this.initializeHighContrastRules()},K.prototype.displayValue=function(){return"".concat(this.modelValue$," ").concat(this.sliderUnits$)},K.prototype.initializeHighContrastRules=function(){this.highContrastCssGenerationService.addRule(".unit-slider .sliderWrapper .mat-slider-horizontal .mat-slider-wrapper .mat-slider-track-wrapper .mat-slider-track-background","{ background-color: @disabledTextColor !important; }"),this.highContrastCssGenerationService.addRule(".unit-slider .sliderWrapper .mat-slider-horizontal .mat-slider-wrapper .mat-slider-track-wrapper .mat-slider-track-fill","{ background-color: @selectedBackgroundColor !important; }"),this.highContrastCssGenerationService.addRule(".unit-slider .sliderWrapper .mat-slider-ticks","{ background-color: transparent !important; }")},K.\u0275fac=function(T){return new(T||K)(m.\u0275\u0275directiveInject(A.g),m.\u0275\u0275directiveInject(S.o))},K.\u0275cmp=m.\u0275\u0275defineComponent({type:K,selectors:[["slider"]],inputs:{modelValue:"modelValue",initialValue:"initialValue",options:"options",inputName:"inputName",isDisabled:"isDisabled",labelId:"labelId",ariaDescribedby:"ariaDescribedby",newPaneColors:"newPaneColors",useModernStyles:"useModernStyles"},outputs:{inputFocusChange:"inputFocusChange",modelValueChange:"modelValueChange"},features:[m.\u0275\u0275ProvidersFeature([{provide:p.JU,useExisting:(0,m.forwardRef)(function(){return K}),multi:!0}]),m.\u0275\u0275InheritDefinitionFeature],decls:11,vars:33,consts:[[1,"unit-slider"],[1,"sliderWrapper",3,"ngClass"],[1,"slider-num-input",3,"ngModel","disabled","hideUpDownButtons","options","labelId","ariaDescribedby","inputName","focusChange","modelValueChange"],[1,"sliderInput",3,"ngModel","disabled","ngClass","min","max","valueText","input","change"]],template:function(T,P){1&T&&(m.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"pbi-spin-button",2),m.\u0275\u0275listener("focusChange",function(w){return P.inputFocusChange.emit(w)})("modelValueChange",function(w){return P.onModelValueChanged.fn(w)}),m.\u0275\u0275pipe(3,"async"),m.\u0275\u0275pipe(4,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(5,"mat-slider",3),m.\u0275\u0275listener("input",function(w){return P.onSliderSliding.fn(w.value)})("change",function(w){return P.onModelValueChanged.fn(w.value)}),m.\u0275\u0275pipe(6,"async"),m.\u0275\u0275pipe(7,"async"),m.\u0275\u0275pipe(8,"async"),m.\u0275\u0275pipe(9,"async"),m.\u0275\u0275pipe(10,"async"),m.\u0275\u0275elementEnd()()()),2&T&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(29,W,P.useModernStyles)),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngModel",m.\u0275\u0275pipeBind1(3,15,P.modelValue$))("disabled",m.\u0275\u0275pipeBind1(4,17,P.isDisabled$))("hideUpDownButtons",!P.useModernStyles)("options",P.options)("labelId",P.labelId)("ariaDescribedby",P.ariaDescribedby)("inputName",P.inputName+"-spinButton"),m.\u0275\u0275advance(3),m.\u0275\u0275propertyInterpolate("min",P.options.minValue),m.\u0275\u0275propertyInterpolate("max",P.options.maxValue),m.\u0275\u0275property("ngModel",m.\u0275\u0275pipeBind1(6,19,P.modelValue$))("disabled",m.\u0275\u0275pipeBind1(7,21,P.isDisabled$))("ngClass",m.\u0275\u0275pureFunction1(31,oe,m.\u0275\u0275pipeBind1(8,23,P.isDisabled$)))("valueText",m.\u0275\u0275pipeBind1(9,25,P.modelValue$)+" "+m.\u0275\u0275pipeBind1(10,27,P.sliderUnits$)),m.\u0275\u0275attribute("aria-labelledby",P.labelId))},dependencies:[b.NgClass,p.JJ,p.On,k.ST,L.a,b.AsyncPipe],styles:[".unit-slider{--sliderNumberInput: var(--fluent-theme-white-color);--sliderHorizontalFocus: var(--fluent-theme-black-color);--sliderTrackBackground: var(--fluent-theme-neutral-tertiary-alt-color);--sliderTrackBackgroundHover: var(--fluent-theme-neutral-tertiary-alt-color);--sliderTrackFill: var(--fluent-theme-neutral-secondary-color);--sliderThumbBorder: var(--fluent-theme-neutral-secondary-color);--sliderThumbBorderHover: var(--fluent-theme-neutral-secondary-color);--sliderThumbBackground: var(--fluent-theme-white-color);--sliderThumbBackgroundHover: var(--fluent-theme-white-color);--sliderFocusRing: transparent;--sliderTrackBackgroundDisabled: var(--fluent-theme-neutral-tertiary-alt-color);--sliderThumbBorderDisabled: var(--fluent-theme-neutral-secondary-color);--sliderThumbBackgroundDisabled: var(--fluent-theme-white-color);--sliderTrackFillDisabled: var(--fluent-theme-neutral-tertiary-alt-color);line-height:32px}[data-legacy-theming=false] .unit-slider{--sliderNumberInput: var(--colorNeutralStrokeDisabled);--sliderHorizontalFocus: var(--colorNeutralStrokeFocus2);--sliderTrackBackground: var(--colorNeutralStrokeAccessible);--sliderTrackBackgroundHover: var(--colorCompoundBrandBackgroundHover);--sliderTrackFill: var(--colorCompoundBrandBackground);--sliderThumbBorder: var(--colorNeutralStroke1);--sliderThumbBackground: var(--colorCompoundBrandBackground);--sliderThumbBorderHover: var(--colorNeutralStroke1);--sliderThumbBackgroundHover: var(--colorCompoundBrandBackgroundHover);--sliderFocusRing: var(--colorNeutralStroke1);--sliderThumbBorderDisabled: var(--colorNeutralStrokeDisabled);--sliderThumbBackgroundDisabled: var(--colorNeutralForegroundDisabled);--sliderTrackBackgroundDisabled: var(--colorNeutralStrokeDisabled);--sliderTrackFillDisabled: var(--colorNeutralForegroundDisabled)}.unit-slider .sliderWrapper{display:flex;flex-direction:row;align-items:center}.unit-slider .sliderWrapper .slider-num-input{margin-right:12px;background-color:var(--sliderNumberInput)}.unit-slider .sliderWrapper.modernStyles .slider-num-input{width:54px;margin-right:4px}.unit-slider .sliderWrapper.modernStyles .mat-slider-horizontal{min-width:92px}.unit-slider .sliderWrapper.modernStyles .mat-slider-horizontal .mat-slider-wrapper .mat-slider-track-wrapper{height:4px}.unit-slider .sliderWrapper .mat-slider-horizontal{padding:0;height:36px}.unit-slider .sliderWrapper .mat-slider-horizontal:focus-within{border:solid 1px var(--sliderHorizontalFocus)}.unit-slider .sliderWrapper .mat-slider-horizontal .mat-slider-wrapper{top:17px}.unit-slider .sliderWrapper .mat-slider-horizontal .mat-slider-wrapper .mat-slider-track-wrapper .mat-slider-track-background{height:4px;border-radius:2px;background-color:var(--sliderTrackBackground)}.unit-slider .sliderWrapper .mat-slider-horizontal .mat-slider-wrapper .mat-slider-track-wrapper .mat-slider-track-background:hover{background-color:var(--sliderTrackBackgroundHover)}.unit-slider .sliderWrapper .mat-slider-horizontal .mat-slider-wrapper .mat-slider-track-wrapper .mat-slider-track-fill{height:4px;border-radius:2px;background-color:var(--sliderTrackFill)}.unit-slider .sliderWrapper .mat-slider-horizontal .mat-slider-wrapper .mat-slider-thumb{bottom:-11px;border-width:2px;border-color:var(--sliderThumbBorder);background-color:var(--sliderThumbBackground)}.unit-slider .sliderWrapper .mat-slider-horizontal .mat-slider-wrapper .mat-slider-thumb:hover{border-color:var(--sliderThumbBorderHover);background-color:var(--sliderThumbBackgroundHover)}.unit-slider .sliderWrapper .mat-slider:not(.mat-slider-sliding):not(.mat-slider-disabled) .mat-slider-thumb{transform:scale(.7)}.unit-slider .sliderWrapper .slider-value{margin-left:6px}.unit-slider .mat-slider-focus-ring{background-color:var(--sliderFocusRing)}.unit-slider .mat-slider-horizontal.mat-slider-disabled .mat-slider-thumb{border-color:var(--sliderThumbBorderDisabled);background-color:var(--sliderThumbBackgroundDisabled)}.unit-slider .mat-slider-horizontal.mat-slider-disabled .mat-slider-wrapper .mat-slider-track-wrapper .mat-slider-track-background,.unit-slider .mat-slider-horizontal.mat-slider-disabled .mat-slider-wrapper .mat-slider-track-wrapper .mat-slider-track-background:hover{background-color:var(--sliderTrackBackgroundDisabled)}.unit-slider .mat-slider-horizontal.mat-slider-disabled .mat-slider-wrapper .mat-slider-track-wrapper .mat-slider-track-fill{background-color:var(--sliderTrackFillDisabled)}\n"],encapsulation:2,changeDetection:0}),K}(y.N)}}]);