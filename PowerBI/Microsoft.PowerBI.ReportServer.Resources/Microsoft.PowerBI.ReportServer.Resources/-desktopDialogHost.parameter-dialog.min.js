"use strict";(self.webpackChunkdesktopDialogHost=self.webpackChunkdesktopDialogHost||[]).push([["parameter-dialog"],{5150:function(ve,G,p){p.r(G),p.d(G,{ParameterDialogModule:function(){return w}});var z=p(8150),o=p(17174);function e(l,u,d){return{name:l,addVisualToCanvas:u,fields:d}}var j=1/0,Q=-1/0,Z=function(u){var d=u.get("start").value,h=u.get("dataType").value.property,b=k(h).test(d),P="WholeNumber"===h?-2147483648:Q,R=u.get("end").value;return null!=d&&b&&d<R&&P<d?null:{startError:!0}},S=function(u){var d=u.get("end").value,h=u.get("dataType").value.property,b=k(h).test(d),P=u.get("start").value;return null!=d&&b&&d<("WholeNumber"===h?2147483647:j)&&P<d?null:{endError:!0}},A=function(u){var d=u.get("step").value,b=k(u.get("dataType").value.property).test(d);return null!=d&&b&&0<d?null:{stepError:!0}};function k(l){return"WholeNumber"===l?/^[-]?\d+$/:/^[-]?\d+(\.\d+)?$/}function K(l){return{name:l.name,start:l.start,step:l.step,end:l.end,addVisualToCanvas:l.addVisualToCanvas,defaultValue:l.defaultValue,dataType:{name:l.selectedDataType.name,property:l.selectedDataType.type}}}var ne=p(32293),n=p(50423),re=p(9380),se=p(65181),pe=p(83309),U=p(77476),de=p(45051),ce=p(44511),oe=p(59968),ae=p(57746),q=p(76492),ie=p(42189),ee=p(9529),J=p(81337),f=p(70863);function T(l){if(!f.wb(l))return O(l)}function O(l){return f.t3(l)||f.I6(l)||function(l){return f.kb(l)&&!f.jz(f.qe(l))}(l)}var I=p(75096),N=p(78963),ge=p(81141),Pe=p(88023),me=p(86612),be=p(93215),ke=p(73221),ue=p(59725),Me=p(83317),Oe=p(59973),Se=p(14172),Ee=p(77526),Ie=p(83008),Le=p(40823),Fe=p(29524),Be=p(72525),De=p(50057),ye=p(56011),Ae=p(4722),Re=p(65005),_e=p(85102),Ve=["fieldList"],Ne=["fieldDragDropPicker"],We=function(u){return{fieldParameters:u}},xe=function(l){function u(d,c,h,b,P,R,W,le,Ye,Xe,qe){var D=l.call(this)||this;return D.dataSourcesService=d,D.featureSwitchService=c,D.fieldListTreeService=h,D.captionSetting=b,D.draggableSetting=P,D.inlineItemsSetting=R,D.checkableSettingStrategy=W,D.enabledSettingStrategy=le,D.modelService=Ye,D.showMenuSetting=Xe,D.dataSourceSerializer=qe,D.fieldListTree$=D.fieldListTreeService.fieldListTree$,D.fieldListTreeOptions={dragDrop:{dragStart:function(Ze){return D.dragStartHandler(Ze.sourceEvent,Ze.flatNode)}},editLabel:null,menu:null},D.pbiTreeNodeSettingOptions={captionSetting:D.captionSetting,draggableSetting:D.draggableSetting,inlineItemsSetting:D.inlineItemsSetting,checkableSetting:D.checkableSettingStrategy,showMenuSetting:D.showMenuSetting,enabledSetting:D.enabledSettingStrategy},D.dataTransferFormat=ue.L$,D.isFieldParameters=!1,D.mutliCheckMode=ue.kH.Multi,D.isFieldParameters=D.featureSwitchService.featureSwitches.fieldParameters,D.pbiTreeMap=new Map,D.fieldListTreeService.modelToPbiTreeConverterOptions=D.pbiTreeNodeSettingOptions,D}return(0,J.__extends)(u,l),u.prototype.ngOnInit=function(){return(0,J.__awaiter)(this,void 0,void 0,function(){var d;return(0,J.__generator)(this,function(c){switch(c.label){case 0:return d=this.dataSourceSerializer.deserializeDataSources(this.dataSources),this.dataSourcesService.set(d),[4,this.buildFieldListTree()];case 1:return c.sent(),[2]}})})},u.prototype.buildFieldListTree=function(){return(0,J.__awaiter)(this,void 0,void 0,function(){var d=this;return(0,J.__generator)(this,function(c){switch(c.label){case 0:return[4,this.modelService.update([])];case 1:return c.sent(),this.modelService.modelChange$.pipe((0,Me.R)(this.onDestroy$),(0,Oe.h)(function(h){return!!h?.model}),(0,Se.U)(function(h){return h.model})).subscribe(function(h){d.fieldListTreeService.setOrUpdateFieldListTreeModel(h)}),this.fieldListTree$.pipe((0,Me.R)(this.onDestroy$),(0,Ee.x)(),(0,Oe.h)(function(h){return!!h})).subscribe(function(h){d.constructPbiTreeMap(h)}),[2]}})})},u.prototype.constructPbiTreeMap=function(d){for(var c=(0,J.__spreadArray)([],d.nodes||[],!0);0!==c.length;){var h=c.pop(),b=h.data;if(b.entity){var P=this.createFieldInfoFormValue(b);if(P){var R=JSON.stringify(P);this.pbiTreeMap.set(R,h)}}c.push.apply(c,h.children||[])}},u.prototype.dragStartHandler=function(d,c){var h=this.createDragDropPickerData(c);d.dataTransfer.setData(ue.L$,JSON.stringify(h))},u.prototype.renderTreeNodeChanges=function(){this.pbiListRef&&this.pbiListRef.pbiTree&&this.pbiListRef.pbiTree.renderNodeChanges()},u.prototype.handleRemoveData=function(d){if(d){var c=this.pbiTreeMap.get(d.id);c&&(c.checked=!1,c.draggable=!0,this.renderTreeNodeChanges())}},u.prototype.handleAddData=function(d){var c=this.pbiTreeMap.get(d.id);c&&(c.checked=!0,c.draggable=!1,this.renderTreeNodeChanges())},u.prototype.handleNodeSelect=function(d){var c;if(d.node.checkable&&d.node.data){var h=this.createDragDropPickerData(d),P=this.parameterFormGroup.value.fields;d.node.checked?(d.node.checked=!1,d.node.draggable=!0,P=P.filter(function(R){return R.id!==h.id})):(d.node.checked=!0,d.node.draggable=!1,P.push(h)),this.parameterFormGroup.get("fields").patchValue(P),null===(c=this.fieldDragDropPickerRef)||void 0===c||c.detectChanges(),this.renderTreeNodeChanges()}},u.prototype.handleNodeCheck=function(d){var c;if(d.node.checkable&&d.node.data){var h=this.createDragDropPickerData(d),P=this.parameterFormGroup.value.fields;P.findIndex(function(W){return W.id===h.id})>-1?(d.node.draggable=!0,P=P.filter(function(W){return W.id!==h.id})):(d.node.draggable=!1,P.push(h)),this.parameterFormGroup.get("fields").patchValue(P),null===(c=this.fieldDragDropPickerRef)||void 0===c||c.detectChanges(),this.renderTreeNodeChanges()}},u.prototype.createDragDropPickerData=function(d){var c=this.createFieldInfoFormValue(d.node.data);return{id:JSON.stringify(c),label:d.node.displayName}},u.prototype.createFieldInfoFormValue=function(d){var c;switch(d.fieldType){case 0:c={entityName:d.entity.name,fieldName:d.name,propertyType:0,kind:d.kind};break;case 2:d.variation&&(c={entityName:d.entity.name,fieldName:d.hierarchy.column.name,propertyType:2,hierarchyLevelName:d.name})}return c},u.\u0275fac=function(c){return new(c||u)(n.\u0275\u0275directiveInject(Ie.D),n.\u0275\u0275directiveInject(re.vZ),n.\u0275\u0275directiveInject(I.p),n.\u0275\u0275directiveInject(Fe.B),n.\u0275\u0275directiveInject(Pe.F),n.\u0275\u0275directiveInject(Be.wt),n.\u0275\u0275directiveInject(ge.x),n.\u0275\u0275directiveInject(me.y),n.\u0275\u0275directiveInject(be.b),n.\u0275\u0275directiveInject(N.W),n.\u0275\u0275directiveInject(Le._))},u.\u0275cmp=n.\u0275\u0275defineComponent({type:u,selectors:[["report-parameter"]],viewQuery:function(c,h){if(1&c&&(n.\u0275\u0275viewQuery(Ve,5),n.\u0275\u0275viewQuery(Ne,5)),2&c){var b=void 0;n.\u0275\u0275queryRefresh(b=n.\u0275\u0275loadQuery())&&(h.pbiListRef=b.first),n.\u0275\u0275queryRefresh(b=n.\u0275\u0275loadQuery())&&(h.fieldDragDropPickerRef=b.first)}},inputs:{dataSources:"dataSources",parameterFormGroup:"parameterFormGroup"},features:[n.\u0275\u0275ProvidersFeature([I.p,be.b,{provide:N.W,useValue:{canShowMenu:function(){return!1}}},{provide:ge.x,useValue:{isCheckable:function(c){return T(c)}}},{provide:Pe.F,useValue:{isDraggable:function(c){return T(c)}}},{provide:me.y,useValue:{isEnabled:function(c){return function(l){return f.wb(l)||f.SC(l)||O(l)}(c)}}}]),n.\u0275\u0275InheritDefinitionFeature],decls:25,vars:27,consts:[[3,"ngClass"],[3,"formGroup"],[1,"sectionSettings"],["localize","Name"],["type","text","localize-tooltip","Name","formControlName","name","role","textbox",1,"pbi-small-text-input"],[1,"sectionSettings","DragDropFieldSection"],["floatLabel","never",1,"fieldWellArea"],["localize","FieldParameter_dragParameter",1,"unselectable"],["formControlName","fields",1,"pbi-drag-drop-picker-scrollbar",3,"dataFormat","placeholder","allowMultipleValues","allowEditingLabelsSetting","draggable","onChangeAdd","onChangeRemove"],["fieldDragDropPicker",""],[1,"dialog-content-separator",3,"vertical"],[1,"pbiTree"],["localize","Role_DisplayName_Fields",1,"unselectable"],[3,"fieldListTree","scrollSelectedItemIntoViewOnInit","options","checkMode","onNodeClick","onNodeCheck"],["fieldList",""],[1,"checkBoxSettings","fields"],["formControlName","addVisualToCanvas",3,"label","ariaLabel"]],template:function(c,h){1&c&&(n.\u0275\u0275elementStart(0,"div",0)(1,"mat-dialog-content")(2,"form",1)(3,"section",2)(4,"fieldset"),n.\u0275\u0275element(5,"legend",3)(6,"input",4),n.\u0275\u0275pipe(7,"localize"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(8,"section",5)(9,"div",6),n.\u0275\u0275element(10,"mat-label",7),n.\u0275\u0275elementStart(11,"pbi-drag-drop-picker",8,9),n.\u0275\u0275listener("onChangeAdd",function(P){return h.handleAddData(P.data)})("onChangeRemove",function(P){return h.handleRemoveData(null==P?null:P.data)}),n.\u0275\u0275pipe(13,"localize"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275element(14,"mat-divider",10),n.\u0275\u0275elementStart(15,"div",11),n.\u0275\u0275element(16,"mat-label",12),n.\u0275\u0275elementStart(17,"pbi-field-list",13,14),n.\u0275\u0275listener("onNodeClick",function(P){return h.handleNodeSelect(P)})("onNodeCheck",function(P){return h.handleNodeCheck(P)}),n.\u0275\u0275pipe(19,"async"),n.\u0275\u0275elementEnd()()(),n.\u0275\u0275elementStart(20,"section",15)(21,"fieldset"),n.\u0275\u0275element(22,"pbi-checkbox",16),n.\u0275\u0275pipe(23,"localize"),n.\u0275\u0275pipe(24,"localize"),n.\u0275\u0275elementEnd()()()()()),2&c&&(n.\u0275\u0275property("ngClass",n.\u0275\u0275pureFunction1(25,We,h.isFieldParameters)),n.\u0275\u0275advance(2),n.\u0275\u0275property("formGroup",h.parameterFormGroup),n.\u0275\u0275advance(4),n.\u0275\u0275attribute("aria-label",n.\u0275\u0275pipeBind1(7,15,"Name")),n.\u0275\u0275advance(5),n.\u0275\u0275property("dataFormat",h.dataTransferFormat)("placeholder",n.\u0275\u0275pipeBind1(13,17,"FieldParameter_FieldsWell"))("allowMultipleValues",!0)("allowEditingLabelsSetting","allAllow")("draggable",!0),n.\u0275\u0275advance(3),n.\u0275\u0275property("vertical",!0),n.\u0275\u0275advance(3),n.\u0275\u0275property("fieldListTree",n.\u0275\u0275pipeBind1(19,19,h.fieldListTree$))("scrollSelectedItemIntoViewOnInit",!0)("options",h.fieldListTreeOptions)("checkMode",h.mutliCheckMode),n.\u0275\u0275advance(5),n.\u0275\u0275property("label",n.\u0275\u0275pipeBind1(23,21,"WhatifParameterDialog_AddVisualToCanvas"))("ariaLabel",n.\u0275\u0275pipeBind1(24,23,"WhatifParameterDialog_AddVisualToCanvas")))},dependencies:[U.NgClass,ne.xY,o._Y,o.Fj,o.JJ,o.JL,oe.X,De.r,ae.d,ye.v,Ae.HV,Re.l,o.sg,o.u,U.AsyncPipe,_e.F],styles:['[_nghost-%COMP%]{--colorPlaceholderLabel: var(--gray-160)}[data-legacy-theming=false]   [_nghost-%COMP%]{--colorPlaceholderLabel: var(--colorNeutralForeground2)}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{overflow:unset}[_nghost-%COMP%]   legend[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-label[_ngcontent-%COMP%]{color:var(--colorNeutralForeground1)}[_nghost-%COMP%]     pbi-tree cdk-tree pbi-tree-node{overflow:hidden}[_nghost-%COMP%]   fieldset[_ngcontent-%COMP%]{border:none;margin-left:0;margin-right:0;padding-left:0;padding-right:0}[_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   num-up-down[_ngcontent-%COMP%], [_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%], [_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]     div.inputRange.unit-numupdown{font-size:var(--md-font-size, 14px);width:170px;height:32px}[_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], [_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   num-up-down.error[_ngcontent-%COMP%]     div.inputRange{border-color:var(--fluent-theme-error-dark-color, #A80000)}[_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px)}[_nghost-%COMP%]   .checkBoxSettings[_ngcontent-%COMP%]{width:max-content;height:35px;padding-left:3px}[_nghost-%COMP%]   .checkBoxSettings[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]   .checkBoxSettings[_ngcontent-%COMP%]   pbi-checkbox[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%], [_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   num-up-down[_ngcontent-%COMP%]     div.inputRange.unit-numupdown{width:307px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%], [_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .checkBoxSettings.fields[_ngcontent-%COMP%]{margin-top:40px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .checkBoxSettings.whatIf[_ngcontent-%COMP%]{margin-top:123px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   mat-dialog-actions.mat-mdc-dialog-actions.actionButtons[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   mat-dialog-actions.mat-mdc-dialog-actions.actionButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]{height:288px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{height:344px;margin-top:20px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]{width:307px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker{height:268px;width:307px;margin-top:4px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker:focus-within{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker span.placeholder{outline:none}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker span.placeholder label{color:var(--colorPlaceholderLabel);padding-bottom:241px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker span.content{height:14px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .pbiTree[_ngcontent-%COMP%]     pbi-field-list{height:338px;margin-top:4px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .pbiTree[_ngcontent-%COMP%]     pbi-field-list pbi-search-box input{width:307px;height:32px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .pbiTree[_ngcontent-%COMP%]     pbi-field-list pbi-search-box:before{padding-top:4px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .pbiTree[_ngcontent-%COMP%]   pbi-tree[_ngcontent-%COMP%]{flex:1}'],changeDetection:0}),u}(ke.w),ze=p(53833),Ue=p(7970);function He(l,u){if(1&l&&(n.\u0275\u0275elementStart(0,"pbi-dropdown-item",18)(1,"span"),n.\u0275\u0275text(2),n.\u0275\u0275elementEnd()()),2&l){var d=u.$implicit;n.\u0275\u0275property("value",d),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(d.name)}}var Ke=function(u){return{fieldParameters:u}},he=function(u){return{error:u}},Te=function(){function l(u){this.featureSwitchService=u,this.isFieldParameters=!1,this.isFieldParameters=this.featureSwitchService.featureSwitches.fieldParameters}return l.prototype.ngOnInit=function(){this.availableDataTypes=this.viewModel.availableDataTypes.map(function(u){return{name:u.name,property:u.type}}),this.selectedDataType={name:this.viewModel.selectedDataType.name,property:this.viewModel.selectedDataType.type}},l.\u0275fac=function(d){return new(d||l)(n.\u0275\u0275directiveInject(re.vZ))},l.\u0275cmp=n.\u0275\u0275defineComponent({type:l,selectors:[["what-if-parameter"]],inputs:{parameterFormGroup:"parameterFormGroup",viewModel:"viewModel"},decls:39,vars:40,consts:[[3,"ngClass"],[3,"formGroup"],[1,"sectionSettings"],["localize","Name"],["type","text","localize-tooltip","Name","formControlName","name","role","textbox",1,"pbi-text-input"],["localize","DataType_Title"],["formControlName","dataType",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["localize","ConditionalFormattingDialog_MinimumHeader"],["formControlName","start",3,"useModernStyles","ngClass"],["localize","ConditionalFormattingDialog_MaximumHeader"],["formControlName","end",3,"useModernStyles","ngClass"],["localize","WhatifParameterDialog_Step"],["formControlName","step",3,"useModernStyles","ngClass"],["localize","Default"],["type","text","formControlName","defaultValue",1,"pbi-small-text-input"],[1,"checkBoxSettings","whatIf"],["formControlName","addVisualToCanvas",3,"label","ariaLabel"],[3,"value"]],template:function(d,c){1&d&&(n.\u0275\u0275elementStart(0,"div",0)(1,"dialog-body")(2,"form",1)(3,"section",2)(4,"fieldset"),n.\u0275\u0275element(5,"legend",3)(6,"input",4),n.\u0275\u0275pipe(7,"localize"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(8,"section",2)(9,"fieldset"),n.\u0275\u0275element(10,"legend",5),n.\u0275\u0275elementStart(11,"pbi-dropdown",6),n.\u0275\u0275listener("ngModelChange",function(b){return c.selectedDataType=b}),n.\u0275\u0275elementStart(12,"pbi-dropdown-trigger")(13,"p"),n.\u0275\u0275text(14),n.\u0275\u0275elementEnd()(),n.\u0275\u0275template(15,He,3,2,"pbi-dropdown-item",7),n.\u0275\u0275elementEnd()()(),n.\u0275\u0275elementStart(16,"section",2)(17,"fieldset"),n.\u0275\u0275element(18,"legend",8)(19,"num-up-down",9),n.\u0275\u0275pipe(20,"localize"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(21,"fieldset"),n.\u0275\u0275element(22,"legend",10)(23,"num-up-down",11),n.\u0275\u0275pipe(24,"localize"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(25,"section",2)(26,"fieldset"),n.\u0275\u0275element(27,"legend",12)(28,"num-up-down",13),n.\u0275\u0275pipe(29,"localize"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(30,"fieldset"),n.\u0275\u0275element(31,"legend",14)(32,"input",15),n.\u0275\u0275pipe(33,"localize"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(34,"section",16)(35,"fieldset"),n.\u0275\u0275element(36,"pbi-checkbox",17),n.\u0275\u0275pipe(37,"localize"),n.\u0275\u0275pipe(38,"localize"),n.\u0275\u0275elementEnd()()()()()),2&d&&(n.\u0275\u0275property("ngClass",n.\u0275\u0275pureFunction1(32,Ke,c.isFieldParameters)),n.\u0275\u0275advance(2),n.\u0275\u0275property("formGroup",c.parameterFormGroup),n.\u0275\u0275advance(4),n.\u0275\u0275attribute("aria-label",n.\u0275\u0275pipeBind1(7,18,"Name")),n.\u0275\u0275advance(5),n.\u0275\u0275property("ngModel",c.selectedDataType),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate(c.selectedDataType.name),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",c.availableDataTypes),n.\u0275\u0275advance(4),n.\u0275\u0275property("useModernStyles",!0)("ngClass",n.\u0275\u0275pureFunction1(34,he,null==c.parameterFormGroup.errors?null:c.parameterFormGroup.errors.startError)),n.\u0275\u0275attribute("aria-label",n.\u0275\u0275pipeBind1(20,20,"ConditionalFormattingDialog_MinimumHeader")),n.\u0275\u0275advance(4),n.\u0275\u0275property("useModernStyles",!0)("ngClass",n.\u0275\u0275pureFunction1(36,he,null==c.parameterFormGroup.errors?null:c.parameterFormGroup.errors.endError)),n.\u0275\u0275attribute("aria-label",n.\u0275\u0275pipeBind1(24,22,"ConditionalFormattingDialog_MaximumHeader")),n.\u0275\u0275advance(5),n.\u0275\u0275property("useModernStyles",!0)("ngClass",n.\u0275\u0275pureFunction1(38,he,null==c.parameterFormGroup.errors?null:c.parameterFormGroup.errors.stepError)),n.\u0275\u0275attribute("aria-label",n.\u0275\u0275pipeBind1(29,24,"WhatifParameterDialog_Step")),n.\u0275\u0275advance(4),n.\u0275\u0275attribute("aria-label",n.\u0275\u0275pipeBind1(33,26,"Default")),n.\u0275\u0275advance(4),n.\u0275\u0275property("label",n.\u0275\u0275pipeBind1(37,28,"WhatifParameterDialog_AddVisualToCanvas"))("ariaLabel",n.\u0275\u0275pipeBind1(38,30,"WhatifParameterDialog_AddVisualToCanvas")))},dependencies:[U.NgClass,U.NgForOf,ze.H,o._Y,o.Fj,o.JJ,o.JL,oe.X,De.r,Ue.x4,ye.v,q.H,ie.r,ee._,q.T,o.sg,o.u,_e.F],styles:['[_nghost-%COMP%]{--colorPlaceholderLabel: var(--gray-160)}[data-legacy-theming=false]   [_nghost-%COMP%]{--colorPlaceholderLabel: var(--colorNeutralForeground2)}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{overflow:unset}[_nghost-%COMP%]   legend[_ngcontent-%COMP%], [_nghost-%COMP%]   mat-label[_ngcontent-%COMP%]{color:var(--colorNeutralForeground1)}[_nghost-%COMP%]     pbi-tree cdk-tree pbi-tree-node{overflow:hidden}[_nghost-%COMP%]   fieldset[_ngcontent-%COMP%]{border:none;margin-left:0;margin-right:0;padding-left:0;padding-right:0}[_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   num-up-down[_ngcontent-%COMP%], [_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%], [_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]     div.inputRange.unit-numupdown{font-size:var(--md-font-size, 14px);width:170px;height:32px}[_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], [_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   num-up-down.error[_ngcontent-%COMP%]     div.inputRange{border-color:var(--fluent-theme-error-dark-color, #A80000)}[_nghost-%COMP%]   .sectionSettings[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-size:var(--md-font-size, 14px)}[_nghost-%COMP%]   .checkBoxSettings[_ngcontent-%COMP%]{width:max-content;height:35px;padding-left:3px}[_nghost-%COMP%]   .checkBoxSettings[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]   .checkBoxSettings[_ngcontent-%COMP%]   pbi-checkbox[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%], [_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   num-up-down[_ngcontent-%COMP%]     div.inputRange.unit-numupdown{width:307px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%], [_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .checkBoxSettings.fields[_ngcontent-%COMP%]{margin-top:40px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .checkBoxSettings.whatIf[_ngcontent-%COMP%]{margin-top:123px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   mat-dialog-actions.mat-mdc-dialog-actions.actionButtons[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   mat-dialog-actions.mat-mdc-dialog-actions.actionButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-semi-bold, 600)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]{height:288px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{height:344px;margin-top:20px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]{width:307px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker{height:268px;width:307px;margin-top:4px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker:focus-within{outline:var(--focus-two-tone-outline-definition, auto 1px);outline-color:var(--focus-two-tone-outline-color, -webkit-focus-ring-color)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker span.placeholder{outline:none}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker span.placeholder label{color:var(--colorPlaceholderLabel);padding-bottom:241px;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .fieldWellArea[_ngcontent-%COMP%]     pbi-drag-drop-picker div.drag-drop-picker span.content{height:14px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .pbiTree[_ngcontent-%COMP%]     pbi-field-list{height:338px;margin-top:4px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .pbiTree[_ngcontent-%COMP%]     pbi-field-list pbi-search-box input{width:307px;height:32px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .pbiTree[_ngcontent-%COMP%]     pbi-field-list pbi-search-box:before{padding-top:4px}[_nghost-%COMP%]   .fieldParameters[_ngcontent-%COMP%]   .DragDropFieldSection[_ngcontent-%COMP%]   .pbiTree[_ngcontent-%COMP%]   pbi-tree[_ngcontent-%COMP%]{flex:1}'],changeDetection:0}),l}();function Ge(l,u){if(1&l&&(n.\u0275\u0275elementStart(0,"pbi-dropdown-item",13)(1,"span"),n.\u0275\u0275text(2),n.\u0275\u0275elementEnd()()),2&l){var d=u.$implicit;n.\u0275\u0275property("value",d),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(d.name)}}function je(l,u){if(1&l){var d=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div")(1,"p",8),n.\u0275\u0275element(2,"a",9),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(3,"mat-label",10),n.\u0275\u0275elementStart(4,"pbi-dropdown",11),n.\u0275\u0275listener("ngModelChange",function(b){n.\u0275\u0275restoreView(d);var P=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(P.selectedParameterType=b)})("valueChange",function(b){n.\u0275\u0275restoreView(d);var P=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(P.onParameterTypeChange(b))}),n.\u0275\u0275elementStart(5,"pbi-dropdown-trigger")(6,"p"),n.\u0275\u0275text(7),n.\u0275\u0275elementEnd()(),n.\u0275\u0275template(8,Ge,3,2,"pbi-dropdown-item",12),n.\u0275\u0275elementEnd()()}if(2&l){var c=n.\u0275\u0275nextContext();n.\u0275\u0275advance(4),n.\u0275\u0275property("ngModel",c.selectedParameterType),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate(c.selectedParameterType.name),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",c.listOfParameterTypes)}}function Qe(l,u){if(1&l&&n.\u0275\u0275element(0,"what-if-parameter",14),2&l){var d=n.\u0275\u0275nextContext();n.\u0275\u0275property("viewModel",d.data.viewModel)("parameterFormGroup",d.parameterFormGroupMap.get("WhatIf"))}}function $e(l,u){if(1&l&&n.\u0275\u0275element(0,"report-parameter",15),2&l){var d=n.\u0275\u0275nextContext();n.\u0275\u0275property("dataSources",d.data.dataSources)("parameterFormGroup",d.parameterFormGroupMap.get("Report"))}}function fe(l,u){1&l&&n.\u0275\u0275element(0,"mat-divider",16)}var we=function(u){return{fieldParameters:u}},te=function(){function l(u,d,c,h,b){this.data=u,this.dialog=d,this.featureSwitchService=c,this.localizationService=h,this.screenReaderService=b,this.isFieldParameters=!1,this.parameterFormGroupMap=new Map,this.listOfParameterTypes=[{name:this.localizationService.get("FieldParameter_NumericRange"),property:"WhatIf"},{name:this.localizationService.get("FieldParameter_Fields"),property:"Report"}],this.selectedParameterType=this.listOfParameterTypes.find(function(le){return le.property===u.parameterType}),this.isFieldParameters=this.featureSwitchService.featureSwitches.fieldParameters;var P=this.data.viewModel,R=K(P),W=e(P.name,P.addVisualToCanvas,[]);this.parameterFormGroupMap.set("WhatIf",function(l){return new o.nJ({name:new o.p4(l.name,o.kI.required),dataType:new o.p4(l.dataType,o.kI.required),start:new o.p4(l.start),end:new o.p4(l.end),step:new o.p4(l.step),addVisualToCanvas:new o.p4(l.addVisualToCanvas),defaultValue:new o.p4(l.defaultValue)},{validators:[S,Z,A]})}(R)),this.parameterFormGroupMap.set("Report",function(l){return new o.nJ({name:new o.p4(l.name,o.kI.required),addVisualToCanvas:new o.p4(l.addVisualToCanvas),fields:new o.p4(l.fields,o.kI.required)})}(W)),this.currentParameterFormGroup=this.parameterFormGroupMap.get(u.parameterType)}return l.prototype.ngOnInit=function(){if(this.isFieldParameters){var u=this.localizationService.get("Generic_LearnMore"),d=this.localizationService.format("FieldParameter_summary",[u]),c=this.screenReaderService.concatMessages([this.localizationService.get("Parameters"),d]);this.screenReaderService.alert(c)}else this.screenReaderService.alert(this.localizationService.get("WhatifParameterDialog_Title"))},l.prototype.apply=function(){var c,u=this.currentParameterFormGroup.value;switch(this.selectedParameterType.property){case"WhatIf":c=function(l){return{name:l.name,start:l.start,step:l.step,end:l.end,addVisualToCanvas:l.addVisualToCanvas,defaultValue:l.defaultValue,dataType:l.dataType.property}}(u);break;case"Report":c=function(l){var u=0,d=0,c=0,h=l.fields.map(function(P,R){var le,W=JSON.parse(P.id);switch(W.propertyType){case 0:switch(W.kind){case 0:u++;break;case 1:d++}break;case 2:le=W.hierarchyLevelName,c++}return{table:W.entityName,field:W.fieldName,ordinal:R,hierarchyLevel:le,caption:P.label}});return{name:l.name,addVisualToCanvas:l.addVisualToCanvas,fields:h,numberOfColumnsUsed:u,numberOfMeasuresUsed:d,numberOfDateHierarchyLevelsUsed:c}}(u)}this.dialog.close(c)},l.prototype.close=function(){this.dialog.close()},l.prototype.onParameterTypeChange=function(u){var d=this.data.viewModel,c=K(d),h=e(d.name,d.addVisualToCanvas,[]);this.parameterFormGroupMap.get("WhatIf").reset(c),this.parameterFormGroupMap.get("Report").reset(h);var b=u.property;this.selectedParameterType=this.listOfParameterTypes.find(function(P){return P.property===b}),this.currentParameterFormGroup=this.parameterFormGroupMap.get(b)},l.\u0275fac=function(d){return new(d||l)(n.\u0275\u0275directiveInject(ne.WI),n.\u0275\u0275directiveInject(ne.so),n.\u0275\u0275directiveInject(re.vZ),n.\u0275\u0275directiveInject(se.o),n.\u0275\u0275directiveInject(pe.g))},l.\u0275cmp=n.\u0275\u0275defineComponent({type:l,selectors:[["ng-component"]],decls:10,vars:14,consts:[[1,"pbi-dialog-frame"],[3,"title","close"],[1,"container","themeableElement",3,"ngClass"],[4,"ngIf"],[3,"viewModel","parameterFormGroup",4,"ngIf"],[3,"dataSources","parameterFormGroup",4,"ngIf"],["class","dialog-actions-separator",4,"ngIf"],[3,"okText","disableOk","okAction","cancelAction"],["localize","FieldParameter_summary","localize-fragments","",1,"unselectable","fluentTheme-md-reg","field-parameter-summary"],["target","_blank","fragment-index","0","href","https://go.microsoft.com/fwlink/?linkid=2170625","localize","Generic_LearnMore",1,"pbi-external-link"],["localize","FieldParameter_whichParameter",1,"unselectable","fluentTheme-md-semiBold"],[3,"ngModel","ngModelChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"viewModel","parameterFormGroup"],[3,"dataSources","parameterFormGroup"],[1,"dialog-actions-separator"]],template:function(d,c){1&d&&(n.\u0275\u0275elementStart(0,"div",0)(1,"dialog-header",1),n.\u0275\u0275listener("close",function(){return c.close()}),n.\u0275\u0275pipe(2,"localize"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(3,"div",2),n.\u0275\u0275template(4,je,9,3,"div",3),n.\u0275\u0275template(5,Qe,1,2,"what-if-parameter",4),n.\u0275\u0275template(6,$e,1,2,"report-parameter",5),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(7,fe,1,0,"mat-divider",6),n.\u0275\u0275elementStart(8,"dialog-footer",7),n.\u0275\u0275listener("okAction",function(){return c.apply()})("cancelAction",function(){return c.close()}),n.\u0275\u0275pipe(9,"localize"),n.\u0275\u0275elementEnd()()),2&d&&(n.\u0275\u0275advance(1),n.\u0275\u0275property("title",n.\u0275\u0275pipeBind1(2,8,c.isFieldParameters?"Parameters":"WhatifParameterDialog_Title")),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngClass",n.\u0275\u0275pureFunction1(12,we,c.isFieldParameters)),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",c.isFieldParameters),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf","WhatIf"===c.selectedParameterType.property),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf","Report"===c.selectedParameterType.property),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",c.isFieldParameters),n.\u0275\u0275advance(1),n.\u0275\u0275property("okText",n.\u0275\u0275pipeBind1(9,10,c.isFieldParameters?"Create_ButtonText":"OK_ButtonText"))("disableOk",!c.currentParameterFormGroup||c.currentParameterFormGroup&&c.currentParameterFormGroup.invalid))},dependencies:[U.NgClass,U.NgForOf,U.NgIf,de.A,ce.g,o.JJ,o.On,oe.X,ae.d,q.H,ie.r,ee._,q.T,xe,Te,_e.F],styles:['[_nghost-%COMP%]   mat-label[_ngcontent-%COMP%]{color:var(--colorNeutralForeground1)}.pbi-dialog-frame[_ngcontent-%COMP%]{display:flex;flex-direction:column}.pbi-dialog-frame[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:100 100 auto;overflow-y:auto}.pbi-dialog-frame[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   p.unselectable[_ngcontent-%COMP%]{margin:0 0 16px}.pbi-dialog-frame[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:4px;width:307px;height:32px}.pbi-dialog-frame[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   pbi-dropdown[_ngcontent-%COMP%]   pbi-dropdown-trigger[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--md-font-size, 14px);font-weight:var(--font-weight-regular, 400)}.pbi-dialog-frame[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   report-parameter[_ngcontent-%COMP%]{overflow:hidden}.pbi-dialog-frame[_ngcontent-%COMP%]   .dialog-actions-separator[_ngcontent-%COMP%]{padding-bottom:18px;color:var(--gray-30, #EDEBE9);margin:0 -50px}.pbi-dialog-frame[_ngcontent-%COMP%]   .field-parameter-summary[_ngcontent-%COMP%]{color:var(--colorNeutralForeground1)}'],changeDetection:0}),l}(),Je=p(79061),a=p(96327),r=p(42729),t=p(91382),i=p(47913),s=p(56598),m=p(6015),g=p(63654),C=p(14525),v=p(16095),w=function(){function l(){}return l.\u0275fac=function(d){return new(d||l)},l.\u0275mod=n.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=n.\u0275\u0275defineInjector({imports:[U.CommonModule,a.F,r.c.withManifest([{componentIdentifier:z.V,componentType:te}]),o.u5,Je.v,ae.t,t.d,i.V,s.K,m.C,g.X,C.g,v.Z,o.UX]}),l}()},93215:function(ve,G,p){p.d(G,{b:function(){return Z}});var z=p(81337),o=p(98209),H=p(8590),e=p(35510),L=p(50423),x=p(11494),F=p(83008),j=p(26898),Q=p(65181),Z=function(){function S(A,k,E,V){var Y=this;this.conceptualSchemaProxy=k,this.dataSourcesService=E,this.localizationService=V,this.modelUpdates=new e.X({schema:void 0,model:void 0,appliedChanges:void 0}),this.subscriptionManager=A.createChannelSubscriptionManager(),this.subscriptionManager.subscribe(H.CCe,function(X,K){return Y.update(K.result.changes)})}return S.prototype.update=function(A,k,E){return void 0===k&&(k=!0),void 0===E&&(E=!1),(0,z.__awaiter)(this,void 0,void 0,function(){var V,Y;return(0,z.__generator)(this,function(K){switch(K.label){case 0:return this.dataSourcesService.get()?(k||this.conceptualSchemaProxy.clearCache(),[4,this.conceptualSchemaProxy.get(this.dataSourcesService.get())]):[3,2];case 1:(V=K.sent())&&(Y=new o.O(this.localizationService).createModel(V,E)),K.label=2;case 2:return this.modelUpdates.next({schema:V,model:Y,appliedChanges:A}),[2]}})})},Object.defineProperty(S.prototype,"modelChange$",{get:function(){return this.modelUpdates.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"model",{get:function(){return this.modelUpdates.value.model},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"schema",{get:function(){return this.modelUpdates.value.schema},enumerable:!1,configurable:!0}),S.\u0275fac=function(k){return new(k||S)(L.\u0275\u0275inject(x.J),L.\u0275\u0275inject(j.i),L.\u0275\u0275inject(F.D),L.\u0275\u0275inject(Q.o))},S.\u0275prov=L.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac}),S}()},4722:function(ve,G,p){p.d(G,{HV:function(){return $e},X:function(){return fe},ri:function(){return te}});var z=p(81337),o=p(64560),H=p(93247),e=p(50423),L=p(17174),x=p(62458),F=p(59694),j=p(14172),Q=p(59973),Z=p(22318),S=p(6663),A=p(35497),k=p(65181),E=p(77476),V=p(23097),Y=p(59968),X=p(44581),K=p(24150),Ce=p(86663),ne=p(80357),n=p(45916),re=p(36858),se=p(85102),pe=["dragDropPicker"],U=["clearButton"],de=["contentLabel"],ce=["listOfData"],oe=function(){return[]},ae=function(r,t){return{nonEmptyDisplayDataList:r,isTopLevel:!0,rootToParentIndices:t}};function q(a,r){if(1&a&&e.\u0275\u0275elementContainer(0,7),2&a){var t=e.\u0275\u0275nextContext(),i=e.\u0275\u0275reference(5);e.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",e.\u0275\u0275pureFunction2(3,ae,t.listOfPbiDisplayData,e.\u0275\u0275pureFunction0(2,oe)))}}function ie(a,r){if(1&a){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275listener("drop",function(s){e.\u0275\u0275restoreView(t);var m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.handleDrop(s))})("dragover",function(s){e.\u0275\u0275restoreView(t);var m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(!m.isItRedundantPositionToDropCurrentData("end")&&m.handleDragover(s))})("dragenter",function(){e.\u0275\u0275restoreView(t);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.handleDragEnterListEndArea())})("dragleave",function(){e.\u0275\u0275restoreView(t);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.handleDragLeaveListEndArea())}),e.\u0275\u0275elementEnd()}}var ee=function(r){return{highlight:r}};function J(a,r){if(1&a){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275listener("dragenter",function(){e.\u0275\u0275restoreView(t);var m=e.\u0275\u0275nextContext().index,g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.handleDragEnterPosition([m]))})("dragleave",function(){e.\u0275\u0275restoreView(t);var m=e.\u0275\u0275nextContext().index,g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.handleDragLeavePosition([m]))})("dragover",function(m){e.\u0275\u0275restoreView(t);var g=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(!g.isItRedundantPositionToDrop()&&g.handleDragover(m))})("drop",function(m){e.\u0275\u0275restoreView(t);var g=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(g.handleDrop(m))}),e.\u0275\u0275elementEnd()}if(2&a){var i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,ee,i.highlight))}}function f(a,r){1&a&&e.\u0275\u0275elementContainer(0)}function T(a,r){1&a&&e.\u0275\u0275elementContainer(0)}function M(a,r){1&a&&e.\u0275\u0275elementContainer(0)}var O=function(r,t){return{nonEmptyDisplayDataList:r,isTopLevel:!1,rootToParentIndices:t}};function B(a,r){if(1&a&&e.\u0275\u0275elementContainer(0,7),2&a){var t=e.\u0275\u0275nextContext(2),i=t.$implicit,s=t.index,m=e.\u0275\u0275nextContext().rootToParentIndices;e.\u0275\u0275nextContext();var g=e.\u0275\u0275reference(5);e.\u0275\u0275property("ngTemplateOutlet",g)("ngTemplateOutletContext",e.\u0275\u0275pureFunction2(2,O,i.children,m.concat(s)))}}var I=function(r,t,i){return{$implicit:r,position:t,field:i}};function N(a,r){if(1&a&&e.\u0275\u0275elementContainer(0,7),2&a){var t=e.\u0275\u0275nextContext(2),i=t.index,s=t.$implicit,m=e.\u0275\u0275nextContext().rootToParentIndices,g=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngTemplateOutlet",g.pbiDragDropPickerActionsTemplate)("ngTemplateOutletContext",e.\u0275\u0275pureFunction3(2,I,g.picker,m.concat(i),s))}}var ge=function(r){return{compact:r}},Pe=function(r,t,i,s){return{isTopLevel:r,displayData:t,allowDrag:i,position:s}},me=function(r){return{position:r}};function be(a,r){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",21)(2,"div",22),e.\u0275\u0275template(3,f,1,0,"ng-container",23),e.\u0275\u0275template(4,T,1,0,"ng-container",23),e.\u0275\u0275template(5,M,1,0,"ng-container",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,B,1,5,"ng-container",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,N,1,6,"ng-container",24),e.\u0275\u0275elementContainerEnd()),2&a){var t=e.\u0275\u0275nextContext(),i=t.$implicit,s=t.index,m=e.\u0275\u0275reference(7),g=e.\u0275\u0275reference(11),C=e.\u0275\u0275nextContext(),v=C.isTopLevel,y=C.rootToParentIndices,w=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(9,ge,w.compact)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",m)("ngTemplateOutletContext",e.\u0275\u0275pureFunction4(11,Pe,v,i,!i.isEditing&&(w.draggable||!w.allowMultipleValues)&&v,y.concat(s))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",w.itemPromotedActionTemplate)("ngTemplateOutletContext",e.\u0275\u0275pureFunction3(16,I,w.picker,y.concat(s),i)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",g)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(20,me,y.concat(s))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==i.children?null:i.children.length)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",v)}}function ke(a,r){1&a&&e.\u0275\u0275elementContainer(0)}function ue(a,r){1&a&&e.\u0275\u0275elementContainer(0)}function Me(a,r){1&a&&e.\u0275\u0275elementContainer(0)}var Oe=function(r,t,i){return{isTopLevel:!0,displayData:r,allowDrag:t,position:i}};function Se(a,r){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ke,1,0,"ng-container",23),e.\u0275\u0275template(2,ue,1,0,"ng-container",23),e.\u0275\u0275template(3,Me,1,0,"ng-container",23),e.\u0275\u0275elementContainerEnd()),2&a){var t=e.\u0275\u0275nextContext(),i=t.$implicit,s=t.index,m=e.\u0275\u0275reference(7),g=e.\u0275\u0275reference(11),C=e.\u0275\u0275nextContext().rootToParentIndices,v=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",m)("ngTemplateOutletContext",e.\u0275\u0275pureFunction3(6,Oe,i,!i.isEditing&&(v.draggable||!v.allowMultipleValues),C.concat(s))),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",v.pbiDragDropPickerActionsTemplate)("ngTemplateOutletContext",e.\u0275\u0275pureFunction3(10,I,v.picker,C.concat(s),i)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",g)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(14,me,C.concat(s)))}}var Ee=function(r){return{width:r}};function Ie(a,r){if(1&a&&e.\u0275\u0275element(0,"div",32),2&a){var t=e.\u0275\u0275nextContext().position;e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(1,Ee,8*(t.length-1)+"px"))}}function Le(a,r){if(1&a&&e.\u0275\u0275element(0,"pbi-icon",33),2&a){var t=e.\u0275\u0275nextContext().displayData,i=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("name",t.icon.glyph)("size",i.smallIconSize)}}function Fe(a,r){if(1&a&&e.\u0275\u0275element(0,"pbi-svg-use-symbol",34),2&a){var t=e.\u0275\u0275nextContext().displayData;e.\u0275\u0275property("ngStyle",t.icon.styles)("sheet",t.icon.sheet)("symbolId",t.icon.symbolId)}}function Be(a,r){if(1&a){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"input",35),e.\u0275\u0275listener("ngModelChange",function(m){e.\u0275\u0275restoreView(t);var g=e.\u0275\u0275nextContext().displayData;return e.\u0275\u0275resetView(g.value=m)})("keydown",function(m){e.\u0275\u0275restoreView(t);var g=e.\u0275\u0275nextContext().position,C=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(C.handleKeyDown(m,g))})("blur",function(){e.\u0275\u0275restoreView(t);var m=e.\u0275\u0275nextContext().position,g=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(g.endEditSection(m))}),e.\u0275\u0275elementEnd()}if(2&a){var i=e.\u0275\u0275nextContext().displayData;e.\u0275\u0275property("ngModel",i.value)}}var De=function(r,t){return{showHover:r,interactable:t}};function ye(a,r){if(1&a){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25,26),e.\u0275\u0275listener("singleClickAction",function(){var y=e.\u0275\u0275restoreView(t).position;e.\u0275\u0275nextContext();var w=e.\u0275\u0275reference(3),l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.v2Design&&!l.disableContentClick&&l.handleContentClick(w,y))})("doubleClickAction",function(){var y=e.\u0275\u0275restoreView(t).position,w=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(w.beginEditSection(y))})("accessible-click",function(){var y=e.\u0275\u0275restoreView(t).position;e.\u0275\u0275nextContext();var w=e.\u0275\u0275reference(3),l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.v2Design&&!l.disableContentClick&&l.handleContentClick(w,y))})("keydown.F2",function(){var v=e.\u0275\u0275restoreView(t),y=v.displayData,w=v.position,l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(y.allowEditing&&!y.isEditing?l.beginEditSection(w):l.return)})("keydown.arrowRight",function(v){e.\u0275\u0275restoreView(t);var y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(y.focusClearButton(v.target))})("contextmenu",function(v){e.\u0275\u0275restoreView(t);var y=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(y.onContextMenu(v))})("dragstart",function(v){var y=e.\u0275\u0275restoreView(t),w=y.allowDrag,l=y.position,u=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(w&&u.handleDragItemStart(v,l))})("dragend",function(){var y=e.\u0275\u0275restoreView(t).allowDrag,w=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(y&&w.handleDragItemEnd())})("dragover",function(v){var w=e.\u0275\u0275restoreView(t).allowDrag,l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(w&&!l.allowMultipleValues?l.handleDragover(v):l.return)})("drop",function(v){var w=e.\u0275\u0275restoreView(t).allowDrag,l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(w&&!l.allowMultipleValues?l.handleDrop(v):l.return)})("pbiMenuButtonClick",function(v){var w=e.\u0275\u0275restoreView(t).position,l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.handleMenuItemClick(v,w))}),e.\u0275\u0275template(2,Ie,1,3,"div",27),e.\u0275\u0275elementStart(3,"div",28),e.\u0275\u0275template(4,Le,1,2,"pbi-icon",29),e.\u0275\u0275template(5,Fe,1,3,"pbi-svg-use-symbol",30),e.\u0275\u0275template(6,Be,1,1,"input",31),e.\u0275\u0275elementEnd()()}if(2&a){var i=r.displayData,s=r.isTopLevel;e.\u0275\u0275nextContext();var m=e.\u0275\u0275reference(9),g=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("id","contentLabelId"+g.uid)("ngClass",e.\u0275\u0275pureFunction2(28,De,i.interactionAvailable&&!i.isEditing&&!g.disableHover,i.interactionAvailable))("ngStyle",i.pbiStyle)("disabled",g.v2Design&&null==i.menu)("pbiMenu",g.v2Design?i.menu:null)("menuMode",null!=g.menuMode?g.menuMode:g.CompactMenuMode)("pbiMenuActivation",g.v2Design&&i.menu?"contextmenu":null)("draggable",!i.isEditing&&g.draggable&&!g.disabled)("singleClickDisabled",i.isEditing)("pbiTooltip",m)("pbiTooltipDisabled",g.disableHover)("pbiTooltipPosition",g.calculatedTooltipPosition)("pbiTooltipWithFlexiblePositions",g.tooltipWithFlexiblePositions)("doubleClickDisabled",!i.allowEditing||i.isEditing)("accessible-click-ignore-mouse",!0)("accessible-click-ignore-tabindex",!g.v2Design&&!i.allowEditing),e.\u0275\u0275attribute("role",g.v2Design?"button":null)("aria-haspopup",!!g.v2Design||null)("aria-labelledby",g.ariaLabelledby+" contentLabelId"+g.uid),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!s),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",null==i.icon?null:i.icon.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",g.PbiIconGlyphKind),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",g.PbiIconSvgKind),e.\u0275\u0275advance(1),e.\u0275\u0275property("pbiEditableLabel",g.editableLabelOptions)("pbiEditableLabelValue",i.value)("pbiEditableLabelMode",i.isEditing)("pbiEditableLabelEditable",i.isEditing)("pbiEditableLabelClasses",g.editableLabelClasses)}}function Ae(a,r){if(1&a&&e.\u0275\u0275element(0,"div",38),2&a){var t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("textContent",t.customTooltipContent.description)}}function Re(a,r){if(1&a&&(e.\u0275\u0275element(0,"div",36),e.\u0275\u0275template(1,Ae,1,1,"div",37)),2&a){var t=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("textContent",i.useCustomTooltip?null==t.customTooltipContent?null:t.customTooltipContent.title:t.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.useCustomTooltip&&(null==t.customTooltipContent?null:t.customTooltipContent.description))}}function _e(a,r){if(1&a){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",40,41),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);var g=e.\u0275\u0275nextContext().position,C=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(C.handleClear(g))})("keydown.arrowLeft",function(g){e.\u0275\u0275restoreView(t);var C=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(C.focusContentLabel(g.target))})("keydown.arrowRight",function(g){e.\u0275\u0275restoreView(t);var C=e.\u0275\u0275nextContext().position,v=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(v.handleClearButtonArrowRight(g.target,C))}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()}if(2&a){var i=e.\u0275\u0275nextContext(2).$implicit,s=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("tabindex",s.disableClearButtonTabNavigation?-1:0)("pbiTooltip",e.\u0275\u0275pipeBind1(2,3,"FieldPicker_RemoveData"))("aria-label",i.removeDataAriaLabel)}}function Ve(a,r){if(1&a&&e.\u0275\u0275template(0,_e,3,5,"button",39),2&a){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngIf",t.allowClear&&!t.disabled)}}function Ne(a,r){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,J,1,3,"div",14),e.\u0275\u0275elementStart(2,"span",15,16),e.\u0275\u0275template(4,be,8,22,"ng-container",13),e.\u0275\u0275template(5,Se,4,16,"ng-container",13),e.\u0275\u0275template(6,ye,7,31,"ng-template",null,17,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(8,Re,2,2,"ng-template",null,18,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(10,Ve,1,1,"ng-template",null,19,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&a){var t=r.$implicit,i=e.\u0275\u0275nextContext().isTopLevel,s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("error",t.invalid),e.\u0275\u0275attribute("role",s.v2Design?"listitem":null)("aria-level",s.v2Design?1:null)("aria-setsize",s.v2Design?1:null)("aria-posinset",s.v2Design?1:null),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.v2Design),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!s.v2Design)}}function We(a,r){if(1&a&&e.\u0275\u0275element(0,"div",42),2&a){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,ee,t.shouldHighlightLastItemBottom))}}var xe=function(r){return{showListEndDropZone:r}};function ze(a,r){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementContainer(1,7),e.\u0275\u0275elementContainerEnd()),2&a){var t=e.\u0275\u0275nextContext().nonEmptyDisplayDataList;e.\u0275\u0275nextContext();var i=e.\u0275\u0275reference(9);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,xe,t.length>0))}}var Ue=function(r){return{childrenContentContainer:r}};function He(a,r){if(1&a&&(e.\u0275\u0275elementStart(0,"div",9,10),e.\u0275\u0275template(2,Ne,12,9,"ng-container",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,We,1,3,"div",12),e.\u0275\u0275template(4,ze,2,4,"ng-container",13)),2&a){var t=r.nonEmptyDisplayDataList,i=r.isTopLevel,s=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(5,Ue,!i)),e.\u0275\u0275attribute("role",s.v2Design?"list":null),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!s.v2Design||!s.allowMultipleValues),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.v2Design&&s.allowMultipleValues&&i)}}function Ke(a,r){if(1&a){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",44),e.\u0275\u0275listener("drop",function(m){e.\u0275\u0275restoreView(t);var g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.handleDrop(m))})("dragover",function(m){e.\u0275\u0275restoreView(t);var g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.handleDragover(m))}),e.\u0275\u0275elementStart(1,"label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()}if(2&a){var i=e.\u0275\u0275nextContext(2);e.\u0275\u0275attribute("aria-label",i.placeholder),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.placeholder)}}function he(a,r){if(1&a&&e.\u0275\u0275template(0,Ke,3,2,"span",43),2&a){var t=e.\u0275\u0275nextContext(),i=e.\u0275\u0275reference(9);e.\u0275\u0275property("ngIf",!t.v2Design)("ngIfElse",i)}}function Te(a,r){if(1&a&&e.\u0275\u0275element(0,"div",50),2&a){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,ee,t.shouldHighlightLastItemBottom))}}function Ge(a,r){if(1&a){var t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",46,47),e.\u0275\u0275listener("accessible-click",function(C){e.\u0275\u0275restoreView(t);var v=e.\u0275\u0275reference(1),y=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(y.handleAddDataClick(C,v))})("drop",function(C){e.\u0275\u0275restoreView(t);var v=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(v.handleDrop(C))})("dragenter",function(){e.\u0275\u0275restoreView(t);var C=e.\u0275\u0275nextContext().showListEndDropZone,v=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(C?v.handleDragEnterListEndArea():v.return)})("dragleave",function(){e.\u0275\u0275restoreView(t);var C=e.\u0275\u0275nextContext().showListEndDropZone,v=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(C?v.handleDragLeaveListEndArea():v.return)})("dragover",function(C){e.\u0275\u0275restoreView(t);var v=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(v.handleDragOverAddDataArea(C))}),e.\u0275\u0275template(2,Te,1,3,"div",48),e.\u0275\u0275element(3,"label",49),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()}if(2&a){var m,i=e.\u0275\u0275nextContext().showListEndDropZone,s=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(8,ge,s.compact)),e.\u0275\u0275attribute("aria-labelledby",s.ariaLabelledby+" addDataLabelId"+s.uid),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("localize",s.addDataLabelKey),e.\u0275\u0275property("id","addDataLabelId"+s.uid),e.\u0275\u0275attribute("aria-label",null!==(m=s.addDataAriaLabelKey)&&void 0!==m?m:e.\u0275\u0275pipeBind1(4,6,"Add_Data"))}}function je(a,r){if(1&a&&e.\u0275\u0275template(0,Ge,5,10,"span",45),2&a){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",t.v2Design)}}var Qe=function(r,t,i,s,m){return{empty:r,disabled:t,v2Design:i,disableDropZoneIndicator:s,compact:m}},$e=function(){function a(r,t){this.changeDetectorRef=r,this.localizationService=t,this.CompactMenuMode=o.Kb.Compact,this.PbiIconGlyphKind=0,this.PbiIconSvgKind=1,this.listOfPbiDisplayData=[],this.smallIconSize="small",this.shouldHighlightLastItemBottom=!1,this.draggingToPosition="end",this.allowClear=!0,this.data=[],this.dataFormat="text",this.allowMultipleValues=!1,this.allowEditingLabelsSetting="allDisallow",this.v2Design=!1,this.onChangeAdd=new e.EventEmitter,this.onChangeRemove=new e.EventEmitter,this.onChangeReorder=new e.EventEmitter,this.onChangeReplace=new e.EventEmitter,this.onChangeLabelUpdate=new e.EventEmitter,this.onCrossPickerDrop=new e.EventEmitter,this.onAddDataClick=new e.EventEmitter,this.onContentClick=new e.EventEmitter,this.onMenuItemClick=new e.EventEmitter,this.onClearButtonArrowRight=new e.EventEmitter,this.editableLabelClasses=["fluentTheme-md-reg","trimmedTextWithEllipsis"],this.uid=A.q.generateShortId(4)}return a.prototype.ngOnInit=function(){var r,t;this.disableHover=!0,this.allowClear=null===(r=this.allowClear)||void 0===r||r,this.addDataLabelKey=null!==(t=this.addDataLabelKey)&&void 0!==t?t:"Plus_Add_Data",this.editableLabelClasses=this.v2Design?["fluentTheme-sm-reg","trimmedTextWithEllipsis"]:["fluentTheme-md-reg","trimmedTextWithEllipsis"],this.editableLabelOptions={customTooltip:!0,disableClick:!0,inputMatchLabelWidth:!1},this.calculatedTooltipPosition=this.tooltipPosition?this.tooltipPosition:this.allowMultipleValues?"before":"above"},a.prototype.ngAfterViewInit=function(){var r=this;this.dragDropPicker.nativeElement.addEventListener("mousemove",function i(){x.fF.assert(function(){return r.disableHover},"Expect hover is disabled"),r.disableHover=!1,r.dragDropPicker.nativeElement.removeEventListener("mousemove",i)}),!this.disableAutoScroll&&(this.scrollToViewSubscription=this.listOfDataAsQueryList.changes.pipe((0,j.U)(function(i){return i.toArray()}),(0,Q.h)(function(){return r.allowMultipleValues}),(0,Z.O)([]),(0,S.G)()).subscribe(function(i){var s=i[0],m=i[1];null!=r.scrollToIndex&&m?.length>0&&s.length<m.length&&m[r.scrollToIndex].nativeElement.scrollIntoView(),r.resetHighlight(),r.resetDraggingIndex(),r.scrollToIndex=null}))},a.prototype.ngOnDestroy=function(){var r;null===(r=this.scrollToViewSubscription)||void 0===r||r.unsubscribe()},a.prototype.endEditSection=function(r){var t=this.getDisplayDataAtPosition(r);if(t.allowEditing){if(!t.isEditing)return void x.fF.assertFail("Pbi-drag-drop-picker: Attempting to end editing when you are NOT in edit mode");t.isEditing=!1;var i=this.getDataAtPosition(r);x.fF.assertValue(i,"Expect data at the given position exists");var m,s=t.value;if("string"==typeof i){if((0,F.g)(t.value))return void(t.value=i);i!==s&&(m=s)}else{if(!this.allowEmptyLabel&&(0,F.g)(t.value))return void(t.value=i.label);i.label!==s&&(m=(0,z.__assign)((0,z.__assign)({},i),{label:s}))}m&&(this.setDataAtPosition(r,m),this.propagateChange&&this.propagateChange(this.data),this.onChangeLabelUpdate.emit({newLabel:s,position:r}))}},a.prototype.handleKeyDown=function(r,t){(r.keyCode===H.hY||r.keyCode===H.K5)&&!(0,H.Vb)(r)&&this.endEditSection(t),r.stopPropagation()},a.prototype.beginEditSection=function(r){var t=this.getDisplayDataAtPosition(r);if(t.allowEditing){if(t.isEditing)return void x.fF.assertFail("Pbi-drag-drop-picker: Attempting to edit when you are already in edit mode");t.isEditing=!0}},a.prototype.detectChanges=function(){this.changeDetectorRef.detectChanges()},a.prototype.writeValue=function(r){this.data=[],this.listOfPbiDisplayData=[];for(var t=0,i=r;t<i.length;t++)this.addData(i[t])},a.prototype.registerOnChange=function(r){this.propagateChange=r},a.prototype.registerOnTouched=function(r){},a.prototype.setDisabledState=function(r){this.disabled=r},a.prototype.handleDragItemStart=function(r,t){var i,s;if(this.draggable){this.disableHover=!0,this.draggingFromPosition=t;var m={fromGroupId:null===(i=this.externalCrossPickerDragDropMonitor)||void 0===i?void 0:i.groupId,fromComponentId:null===(s=this.externalCrossPickerDragDropMonitor)||void 0===s?void 0:s.componentId,fromPosition:t,data:this.getDataAtPosition(t)};r.dataTransfer.setData(this.dataFormat,JSON.stringify(m))}},a.prototype.handleDragItemEnd=function(){this.disableHover=!1,this.resetDraggingIndex()},a.prototype.handleDragover=function(r){r.preventDefault()},a.prototype.handleDragOverAddDataArea=function(r){var t;this.allowMultipleValues&&0!==this.listOfPbiDisplayData.length?(null===(t=this.draggingFromPosition)||void 0===t?void 0:t[0])!==this.listOfPbiDisplayData.length-1&&this.handleDragover(r):this.handleDragover(r)},a.prototype.handleDragLeavePosition=function(r){this.getDisplayDataAtPosition(r).highlight=!1},a.prototype.handleDragEnterPosition=function(r){this.draggable&&(this.draggingToPosition=r,!this.isItRedundantPositionToDrop(this.draggingFromPosition,r))&&(this.getDisplayDataAtPosition(r).highlight=!0)},a.prototype.handleAddDataClick=function(r,t){this.v2Design&&this.onAddDataClick.emit({type:r.type,overlayOrigin:t})},a.prototype.handleContentClick=function(r,t){var i=this;x.fF.assert(function(){return!i.disableContentClick},"Expect this not to be called if disableContentClick is true"),this.v2Design&&this.onContentClick.emit({overlayOrigin:r,position:t})},a.prototype.handleMenuItemClick=function(r,t){this.v2Design&&this.onMenuItemClick.emit({menuButton:r,position:t})},a.prototype.onContextMenu=function(r){r.stopPropagation(),r.preventDefault()},a.prototype.focusClearButton=function(r){if(this.clearButtonQueryList){var t=this.contentLabelQueryList.toArray().findIndex(function(i){return i.nativeElement===r});this.clearButtonQueryList.get(t).nativeElement.focus()}},a.prototype.focusContentLabel=function(r){if(this.contentLabelQueryList){var t=this.clearButtonQueryList.toArray().findIndex(function(i){return i.nativeElement===r});this.contentLabelQueryList.get(t).nativeElement.focus()}},a.prototype.handleClearButtonArrowRight=function(r,t){this.onClearButtonArrowRight.emit({currentFocusedClearButton:r,topLevelIndex:_.first(t)})},a.prototype.doesCurrentDragDropReorderItems=function(){return this.doesMoveLocationReorderItems(this.draggingFromPosition,this.draggingToPosition)},a.prototype.doesMoveLocationReorderItems=function(r,t){if(!r)return!1;x.fF.assert(function(){return 1===_.size(r)},"we ONLY handle drag-drop into first level position as of now. Add your implementation for new scenario."),x.fF.assert(function(){return"end"===t||1===_.size(t)},"we ONLY handle drag-drop into first level position as of now. Add your implementation for new scenario.");var i=r[0],s=_.isArray(t)?t[0]:t;return s!==i&&("end"===s?i!==_.size(this.data)-1:s-1!==i)},a.prototype.isItRedundantPositionToDrop=function(r,t){return!!r&&!this.doesMoveLocationReorderItems(r,t)},a.prototype.isItRedundantPositionToDropCurrentData=function(r){return this.isItRedundantPositionToDrop(this.draggingFromPosition,r)},a.prototype.resetHighlight=function(){if(this.draggingFromPosition){var r=this.getDisplayDataAtPosition(this.draggingFromPosition);r&&(r.highlight=!1)}if("end"!==this.draggingToPosition){var t=this.getDisplayDataAtPosition(this.draggingToPosition);t&&(t.highlight=!1)}this.shouldHighlightLastItemBottom=!1},a.prototype.reorderItemsInternal=function(r,t){var i=this;x.fF.assert(function(){return null!=r&&_.inRange(r,0,_.size(i.data))},"expect 0 <= fromIndex < itemsCount"),x.fF.assert(function(){return null!=t&&_.inRange(t,0,_.size(i.data)+1)},"expect 0 <= toIndex <= itemsCount"),r<t&&t--;var s=this.data.splice(r,1)[0];this.data.splice(t,0,s);var m=this.listOfPbiDisplayData.splice(r,1)[0];this.listOfPbiDisplayData.splice(t,0,m),this.propagateChange&&this.propagateChange(this.data)},a.prototype.resetDraggingIndex=function(){this.draggingFromPosition=void 0,this.draggingToPosition="end"},a.prototype.handleDragEnterListEndArea=function(){this.shouldHighlightLastItemBottom=null==this.draggingFromPosition||_.size(this.draggingFromPosition)>1||this.draggingFromPosition[0]!==this.data.length-1,this.draggingToPosition="end"},a.prototype.handleDragLeaveListEndArea=function(){this.shouldHighlightLastItemBottom=!1},a.prototype.handleDrop=function(r){if(r.preventDefault(),r.stopPropagation(),null==this.draggingFromPosition){var t=r.dataTransfer.types;x.fF.assert(function(){return _.size(t)<=1},"We set one drag data format at most in the dragstart event");var i=_.first(t),s=r.dataTransfer.getData(i);if(s){var m=void 0;try{m=JSON.parse(s)}catch{}var g=void 0;if("object"==typeof m)if(function(a){return!!a&&a.hasOwnProperty("fromGroupId")&&a.hasOwnProperty("fromComponentId")&&a.hasOwnProperty("fromPosition")&&a.hasOwnProperty("data")}(m)){if(g=m.data,this.externalCrossPickerDragDropMonitor&&(this.externalCrossPickerDragDropMonitor.groupId!==m.fromGroupId||this.externalCrossPickerDragDropMonitor.componentId!==m.fromComponentId))return this.onCrossPickerDrop.emit({fromGroupId:m.fromGroupId,fromComponentId:m.fromComponentId,fromPosition:m.fromPosition,toGroupId:this.externalCrossPickerDragDropMonitor.groupId,toComponentId:this.externalCrossPickerDragDropMonitor.componentId,toPosition:this.draggingToPosition}),void this.resetHighlight()}else g=m;else g=s;this.handleAdd(g,this.draggingToPosition)}}else this.handleReorder(this.draggingFromPosition,this.draggingToPosition)},a.prototype.handleClear=function(r,t){void 0===t&&(t=!1);var i=we(this.data,r);we(this.listOfPbiDisplayData,r),i?(this.propagateChange&&this.propagateChange(this.data),t||this.onChangeRemove.emit({data:i,position:r})):x.fF.assertFail("expect position to be valid")},a.prototype.handleAdd=function(r,t){void 0===t&&(t="end"),this.allowMultipleValues||_.isEmpty(this.data)||"end"!==t&&1!==t.length?(this.addReplaceDataInternal(r,t,!1),this.propagateChange&&this.propagateChange(this.data),this.onChangeAdd.emit({data:r,position:t})):this.handleReplace(r,[0])},a.prototype.handleReplace=function(r,t){this.addReplaceDataInternal(r,t,!0),this.propagateChange&&this.propagateChange(this.data),this.onChangeReplace.emit({data:r,position:t})},a.prototype.addData=function(r){this.addReplaceDataInternal(r,"end",!1)},a.prototype.replaceData=function(r,t){this.addReplaceDataInternal(r,t,!0)},a.prototype.setAllData=function(r){var t=[],i=[];if(!_.isEmpty(r)&&_.every(r,function(v){return!!v}))for(var s=0,m=r;s<m.length;s++){var g=m[s],C=this.getPbiDisplayData(g,this.allowEditingLabelsSetting);if(!C)return;t.push(g),i.push(C)}this.data=t,this.listOfPbiDisplayData=i},a.prototype.handleReorder=function(r,t){var i=this;x.fF.assert(function(){return 1===_.size(r)},"We ONLY support reordering in first-level right now. Add your implementation for new scenario."),x.fF.assert(function(){return"end"===t||1===_.size(t)},"We ONLY support reordering in first-level right now. Add your implementation for new scenario.");var s=r[0],m=_.isArray(t)?t[0]:t;if(x.fF.assert(function(){return null!=s&&_.inRange(s,0,_.size(i.data))},"expect fromIndex to be in valid range"),x.fF.assert(function(){return null!=m&&("end"===m||_.inRange(m,0,_.size(i.data)))},"expect toIndex to be in valid range"),this.resetHighlight(),this.doesMoveLocationReorderItems(r,t)){var g="end"!==m?m:_.size(this.data);this.reorderItemsInternal(s,g),this.onChangeReorder.emit({data:this.data[s],fromPosition:r,toPosition:[g]})}},a.prototype.addReplaceDataInternal=function(r,t,i){if(r){x.fF.assert(function(){return"end"===t||1===_.size(t)},"we ONLY handle add/replace first level position data as of now. Add your implementation for new scenario."),x.fF.assert(function(){return!i||"end"!==t[0]},"replacement index must be a valid number"),!this.allowMultipleValues&&!i&&(this.data.pop(),this.listOfPbiDisplayData.pop());var s=this.getPbiDisplayData(r,this.allowEditingLabelsSetting);if(s){this.resetHighlight();var m=i?1:0;if("end"!==t){var g=t[0];this.data.splice(g,m,r),this.listOfPbiDisplayData.splice(g,m,s),this.scrollToIndex=g}else this.data.push(r),this.scrollToIndex=this.data.length-1,this.listOfPbiDisplayData.push(s)}}},a.prototype.getDataAtPosition=function(r){return fe(this.data,r)},a.prototype.setDataAtPosition=function(r,t){te(this.data,r,function(i,s){i[s]=t})},a.prototype.getDisplayDataAtPosition=function(r){return fe(this.listOfPbiDisplayData,r)},a.prototype.getPbiDisplayData=function(r,t){var s,i=this;if("string"==typeof r){if(""===r)return}else if(0===Object.keys(r).length)return;var m=(s="string"==typeof r?"allAllow"===t:"allAllow"===t||"varyByItem"===t&&!!r.allowEditLabel)||this.v2Design&&!this.disableContentClick||this.v2Design&&"string"!=typeof r&&!!r.menu;return"string"==typeof r?{value:r,allowEditing:s,isEditing:!1,highlight:!1,interactionAvailable:m}:{value:r.label,icon:r.icon,allowEditing:s,isEditing:!1,highlight:!1,interactionAvailable:m,menu:r.menu,customTooltipContent:r.customTooltipContent,children:_.isEmpty(r.children)?void 0:_.map(r.children,function(C){return i.getPbiDisplayData(C,t)}),actionTooltip:r.actionTooltip,removeDataAriaLabel:this.localizationService.format("FieldPicker_RemoveField",r.label),pbiStyle:r.pbiStyle,invalid:r.invalid}},a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(k.o))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["pbi-drag-drop-picker"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(pe,5),e.\u0275\u0275viewQuery(U,5),e.\u0275\u0275viewQuery(de,5),e.\u0275\u0275viewQuery(ce,5)),2&t){var s=void 0;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(i.dragDropPicker=s.first),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(i.clearButtonQueryList=s),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(i.contentLabelQueryList=s),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(i.listOfDataAsQueryList=s)}},inputs:{pbiDragDropPickerActionsTemplate:"pbiDragDropPickerActionsTemplate",itemPromotedActionTemplate:"itemPromotedActionTemplate",externalCrossPickerDragDropMonitor:"externalCrossPickerDragDropMonitor",allowClear:"allowClear",data:"data",dataFormat:"dataFormat",disabled:"disabled",draggable:"draggable",placeholder:"placeholder",addDataLabelKey:"addDataLabelKey",addDataAriaLabelKey:"addDataAriaLabelKey",allowMultipleValues:"allowMultipleValues",allowEditingLabelsSetting:"allowEditingLabelsSetting",useCustomTooltip:"useCustomTooltip",tooltipPosition:"tooltipPosition",tooltipWithFlexiblePositions:"tooltipWithFlexiblePositions",disableAutoScroll:"disableAutoScroll",disableClearButtonTabNavigation:"disableClearButtonTabNavigation",allowEmptyLabel:"allowEmptyLabel",compact:"compact",disableDropZoneIndicator:"disableDropZoneIndicator",disableContentClick:"disableContentClick",v2Design:"v2Design",menuMode:"menuMode",ariaLabelledby:"ariaLabelledby"},outputs:{onChangeAdd:"onChangeAdd",onChangeRemove:"onChangeRemove",onChangeReorder:"onChangeReorder",onChangeReplace:"onChangeReplace",onChangeLabelUpdate:"onChangeLabelUpdate",onCrossPickerDrop:"onCrossPickerDrop",onAddDataClick:"onAddDataClick",onContentClick:"onContentClick",onMenuItemClick:"onMenuItemClick",onClearButtonArrowRight:"onClearButtonArrowRight"},features:[e.\u0275\u0275ProvidersFeature([{provide:L.JU,useExisting:(0,e.forwardRef)(function(){return a}),multi:!0}])],decls:10,vars:10,consts:[[1,"drag-drop-picker",3,"ngClass"],["dragDropPicker",""],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf","ngIfElse"],["class","dropArea unselectable",3,"drop","dragover","dragenter","dragleave",4,"ngIf"],["nonEmptyDisplayDataListTemplate",""],["showPlaceholder",""],["addData",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"dropArea","unselectable",3,"drop","dragover","dragenter","dragleave"],[3,"ngClass"],["listOfData",""],[4,"ngFor","ngForOf"],["class","dropBetween unselectable",3,"ngClass",4,"ngIf"],[4,"ngIf"],["class","dropBetween unselectable",3,"ngClass","dragenter","dragleave","dragover","drop",4,"ngIf"],[1,"content"],["contentContainer",""],["contentLabelTemplate",""],["tooltipTemplateRef",""],["clearButtonTemplate",""],[1,"dropBetween","unselectable",3,"ngClass","dragenter","dragleave","dragover","drop"],[1,"selfAndChildrenContent"],[1,"selfLevelContentContainer",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["customClick","","pbiTooltipAlwaysShow","true",1,"contentWithIndentationContainer",3,"id","ngClass","ngStyle","disabled","pbiMenu","menuMode","pbiMenuActivation","draggable","singleClickDisabled","pbiTooltip","pbiTooltipDisabled","pbiTooltipPosition","pbiTooltipWithFlexiblePositions","doubleClickDisabled","accessible-click-ignore-mouse","accessible-click-ignore-tabindex","singleClickAction","doubleClickAction","accessible-click","keydown.F2","keydown.arrowRight","contextmenu","dragstart","dragend","dragover","drop","pbiMenuButtonClick"],["contentLabel",""],["class","indentation",3,"ngStyle",4,"ngIf"],[1,"content-label",3,"ngSwitch"],[3,"name","size",4,"ngSwitchCase"],[3,"ngStyle","sheet","symbolId",4,"ngSwitchCase"],["class","editableLabel","spellcheck","false",3,"ngModel","ngModelChange","keydown","blur",4,"pbiEditableLabel","pbiEditableLabelValue","pbiEditableLabelMode","pbiEditableLabelEditable","pbiEditableLabelClasses"],[1,"indentation",3,"ngStyle"],[3,"name","size"],[3,"ngStyle","sheet","symbolId"],["spellcheck","false",1,"editableLabel",3,"ngModel","ngModelChange","keydown","blur"],[1,"tooltipTitle",3,"textContent"],["class","fieldTooltipDescription",3,"textContent",4,"ngIf"],[1,"fieldTooltipDescription",3,"textContent"],["class","glyphicon pbi-glyph-close glyph-mini content-clear pbi-focus-outline unselectable",3,"tabindex","pbiTooltip","aria-label","click","keydown.arrowLeft","keydown.arrowRight",4,"ngIf"],[1,"glyphicon","pbi-glyph-close","glyph-mini","content-clear","pbi-focus-outline","unselectable",3,"tabindex","pbiTooltip","aria-label","click","keydown.arrowLeft","keydown.arrowRight"],["clearButton",""],[1,"dropBetween","unselectable",3,"ngClass"],["class","placeholder","aria-readonly","true","tabIndex","0",3,"drop","dragover",4,"ngIf","ngIfElse"],["aria-readonly","true","tabIndex","0",1,"placeholder",3,"drop","dragover"],["data-testid","add-data-button","class","placeholder","tabIndex","0","role","button","aria-haspopup","true",3,"ngClass","accessible-click","drop","dragenter","dragleave","dragover",4,"ngIf"],["data-testid","add-data-button","tabIndex","0","role","button","aria-haspopup","true",1,"placeholder",3,"ngClass","accessible-click","drop","dragenter","dragleave","dragover"],["addDataButton",""],["class","dropBetween unselectable insidePlaceholder",3,"ngClass",4,"ngIf"],[1,"fluentTheme-sm-reg",3,"localize","id"],[1,"dropBetween","unselectable","insidePlaceholder",3,"ngClass"]],template:function(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0,1),e.\u0275\u0275template(2,q,1,6,"ng-container",2),e.\u0275\u0275template(3,ie,1,0,"div",3),e.\u0275\u0275template(4,He,5,7,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(6,he,1,2,"ng-template",null,5,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(8,je,1,1,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t){var s=e.\u0275\u0275reference(7);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction5(4,Qe,i.listOfPbiDisplayData.length<1,i.disabled,i.v2Design,i.disableDropZoneIndicator,i.compact)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.listOfPbiDisplayData.length>0)("ngIfElse",s),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.v2Design&&i.allowMultipleValues&&i.listOfPbiDisplayData.length>0)}},dependencies:[E.NgClass,E.NgForOf,E.NgIf,E.NgTemplateOutlet,E.NgStyle,E.NgSwitch,E.NgSwitchCase,V.f,L.Fj,L.JJ,L.On,Y.X,X.t,K.D,Ce._,ne.l8,n.R,re.V,se.F],styles:['[_nghost-%COMP%]{--contentBackgroundColor: var(--gray-30);--contentBorderColor: var(--gray-40);--colorActionButton: var(--gray-190);--colorItemHover: var(--gray-60);--grayBackgroundEmpty: var(--gray-20)}[data-legacy-theming=false]   [_nghost-%COMP%]{--contentBackgroundColor: var(--colorNeutralBackground3);--contentBorderColor: var(--colorNeutralStroke1);--colorActionButton: var(--colorNeutralForeground1);--colorItemHover: var(--colorNeutralBackground3Hover);--grayBackgroundEmpty: var(--colorNeutralBackground3)}.placeholder-gray-background[_nghost-%COMP%]   .drag-drop-picker.empty[_ngcontent-%COMP%]{background-color:var(--grayBackgroundEmpty);border:1px solid var(--grayBackgroundEmpty)}.pbi-drag-drop-picker-scrollbar[_nghost-%COMP%]   .drag-drop-picker[_ngcontent-%COMP%]{overflow-y:auto}.tooltipTitle[_ngcontent-%COMP%]{font-weight:700}.fieldTooltipDescription[_ngcontent-%COMP%]{max-width:240px;display:block;word-break:break-word;white-space:pre-wrap}.drag-drop-picker[_ngcontent-%COMP%]{display:flex;border:1px dashed var(--gray-130, #605E5C);border-radius:2px;flex-direction:column;--field-error-background-color: var(--globalColorCranberryTint60);--field-error-border-color: var(--globalColorCranberryShade10)}  [data-legacy-theming=false] .drag-drop-picker{--field-error-background-color: var(--colorDangerBackground1);--field-error-border-color: var(--colorDangerBorder1)}.drag-drop-picker.disabled[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.drag-drop-picker.v2Design[_ngcontent-%COMP%]{border:1px dashed var(--colorNeutralStrokeAccessible);background-color:var(--colorNeutralBackground1);height:100%;font-family:var(--fluent-font-family, "Segoe UI", "Segoe UI Web (West European)", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif);font-size:var(--sm-font-size, 12px);font-weight:var(--font-weight-regular, 400)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]{background-color:var(--colorNeutralBackground2);border-color:var(--colorNeutralStrokeAccessible);border-radius:3px;color:var(--colorNeutralForeground1);padding:2px;height:fit-content;display:flex;flex-direction:row;align-items:center}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content.error[_ngcontent-%COMP%]{border-color:var(--field-error-border-color);background-color:var(--field-error-background-color);color:var(--colorDangerForeground1)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow-x:hidden}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:row;align-items:center;box-sizing:border-box;height:24px}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]   .contentWithIndentationContainer[_ngcontent-%COMP%]{padding:0 2px}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]   .contentWithIndentationContainer.interactable[_ngcontent-%COMP%]{cursor:pointer}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]   .contentWithIndentationContainer.showHover[_ngcontent-%COMP%]:hover{background-color:var(--colorNeutralBackground3Hover)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]   .content-clear[_ngcontent-%COMP%]{height:24px;width:24px;display:flex;align-items:center;justify-content:center;margin:0}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]   .content-clear[_ngcontent-%COMP%]:hover{background-color:var(--colorNeutralBackground3Hover)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer.compact[_ngcontent-%COMP%]{height:16px}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer.compact[_ngcontent-%COMP%]   .content-clear[_ngcontent-%COMP%]{height:16px;width:16px}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .childrenContentContainer[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .childrenContentContainer[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]{border:none;padding:0;margin:0}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]{background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);display:flex;justify-content:center;cursor:pointer;padding:0;margin:4px;line-height:28px;box-sizing:border-box;position:relative;border:1px solid var(--colorNeutralStrokeAccessible)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.placeholder.compact[_ngcontent-%COMP%]{line-height:20px}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]   .dropBetween.insidePlaceholder[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:0;left:0;width:calc(100% - 8px)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]:hover{background-color:var(--colorNeutralBackground1Hover)}.drag-drop-picker.v2Design[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;cursor:pointer;pointer-events:none;display:flex;align-items:center;justify-content:center}.drag-drop-picker.v2Design.disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.5}.drag-drop-picker[_ngcontent-%COMP%]   div.dropBetween[_ngcontent-%COMP%]{height:4px;margin:0 4px}.drag-drop-picker[_ngcontent-%COMP%]   div.dropBetween.highlight[_ngcontent-%COMP%]{background-color:var(--theme-primary-color, #F2C811)}.drag-drop-picker[_ngcontent-%COMP%]   div.dropArea[_ngcontent-%COMP%]{flex:1;min-height:8px}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex:1;white-space:nowrap;overflow:hidden;padding:6px 8px;height:12px;border-radius:2px}.drag-drop-picker[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]{color:var(--gray-90, #A19F9D)}.drag-drop-picker[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]{margin:0 4px;border:1px solid var(--contentBorderColor);background-color:var(--contentBackgroundColor)}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   pbi-icon[_ngcontent-%COMP%]{margin-right:8px;flex-shrink:0}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   pbi-svg-use-symbol[_ngcontent-%COMP%]{width:var(--lg-font-size, 16px);height:var(--lg-font-size, 16px);margin-right:8px;flex-shrink:0}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer[_ngcontent-%COMP%]{overflow:hidden;flex:1;display:flex;flex-direction:row}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer.showHover[_ngcontent-%COMP%]:hover{background-color:var(--colorItemHover)}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .content-label[_ngcontent-%COMP%]{display:flex;text-overflow:ellipsis;overflow:hidden;align-items:center;padding:0;flex:1;color:var(--colorNeutralForeground1)}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .content-clear[_ngcontent-%COMP%]{cursor:pointer;padding:0;border:0;background:transparent;margin-left:12px;color:var(--colorActionButton)}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer[_ngcontent-%COMP%], .drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .content-clear[_ngcontent-%COMP%], .drag-drop-picker   span   [_nghost-%COMP%]     .pbi-drag-drop-picker-actions button{box-sizing:border-box;border:solid 2px transparent;border-radius:2px;outline:none}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer.pbi-focus-outline[_ngcontent-%COMP%]:focus-visible, .drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .content-clear.pbi-focus-outline[_ngcontent-%COMP%]:focus-visible, .drag-drop-picker   span   [_nghost-%COMP%]     .pbi-drag-drop-picker-actions button.pbi-focus-outline:focus-visible{border-color:var(--gray-140, #484644)}.drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer[_ngcontent-%COMP%]   .content-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .drag-drop-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .contentWithIndentationContainer[_ngcontent-%COMP%]   .content-label[_ngcontent-%COMP%]   pbi-text-label[_ngcontent-%COMP%]{outline:none;border:none}.drag-drop-picker.disableDropZoneIndicator[_ngcontent-%COMP%]{border-style:solid}.drag-drop-picker.disableDropZoneIndicator[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]{border-style:none}.drag-drop-picker.disableDropZoneIndicator[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer[_ngcontent-%COMP%]{height:26px}.drag-drop-picker.disableDropZoneIndicator[_ngcontent-%COMP%]   span.content[_ngcontent-%COMP%]   .selfAndChildrenContent[_ngcontent-%COMP%]   .selfLevelContentContainer.compact[_ngcontent-%COMP%]{height:18px}.drag-drop-picker.disableDropZoneIndicator[_ngcontent-%COMP%]   span.placeholder[_ngcontent-%COMP%]{border-color:var(--colorNeutralStroke1)}[_nghost-%COMP%]     .pbi-drag-drop-picker-actions{align-self:stretch;display:flex;justify-content:space-evenly;align-items:center}[_nghost-%COMP%]     .pbi-drag-drop-picker-actions>*{color:var(--gray-190, #201F1E)}[_nghost-%COMP%]     .pbi-drag-drop-picker-actions button.v2Design{margin:0;border:0;height:24px;width:24px;color:var(--colorNeutralForeground1);fill:var(--colorNeutralForeground1)}[_nghost-%COMP%]     .pbi-drag-drop-picker-actions button.v2Design:hover{background-color:var(--colorNeutralBackground3Hover)}[_nghost-%COMP%]     .pbi-drag-drop-picker-actions .button-divider.v2Design{align-self:stretch;margin-top:4px;margin-bottom:4px;background-color:var(--colorNeutralStrokeAccessible)}[_nghost-%COMP%]     .compact button.v2Design{height:16px;width:16px}[_nghost-%COMP%]     .compact .button-divider.v2Design{margin-top:2px;margin-bottom:2px}[_nghost-%COMP%]     .content-label pbi-text-label{margin:0;padding:0;flex:1;overflow-x:hidden}[_nghost-%COMP%]     .content-label input{margin:0;padding:2px 0;width:100%}'],changeDetection:0}),a}();function fe(a,r){return te(a,r,function(t,i){return t[i]})}function we(a,r){return te(a,r,function(t,i){return t.splice(i,1)[0]})}function te(a,r,t){x.fF.assert(function(){return!_.isEmpty(r)},"the given position should contain at least one element");var i=r[0],s=_.nth(a,i);x.fF.assertAnyValue(s,"it is possible that currentLevelItem is undefined, e.g. when using this function to add an item after the last item in the collection at the lowest level of the position");var m=r.slice(1);return _.isEmpty(m)?t(a,i):s?"string"==typeof s?(x.fF.assertFail("string data should not have any child"),t(a,i)):te(s.children,m,t):void x.fF.assertFail("trying to do something to a child of an item but the item does not exist")}},56598:function(ve,G,p){p.d(G,{K:function(){return A}});var z=p(67659),o=p(5806),H=p(94770),e=p(93367),L=p(94841),x=p(79725),F=p(16095),j=p(77476),Q=p(17174),Z=p(79061),S=p(50423),A=function(){function k(){}return k.\u0275fac=function(V){return new(V||k)},k.\u0275mod=S.\u0275\u0275defineNgModule({type:k}),k.\u0275inj=S.\u0275\u0275defineInjector({imports:[j.CommonModule,o.Y,Q.u5,Z.v,z._,H.f,e.U,L.b,x.j,F.Z,Q.UX]}),k}()},65005:function(ve,G,p){p.d(G,{l:function(){return J}});var z=p(81337),o=p(50423),H=p(48787),e=p(30794),L=p(37196),x=[],F=p(77476),j=p(68070),Q=p(89237);function Z(f,T){1&f&&o.\u0275\u0275element(0,"div",7)}function S(f,T){1&f&&(o.\u0275\u0275elementStart(0,"div",8),o.\u0275\u0275element(1,"div",9)(2,"div",10),o.\u0275\u0275elementEnd())}function A(f,T){1&f&&(o.\u0275\u0275elementStart(0,"div",11),o.\u0275\u0275element(1,"div",12),o.\u0275\u0275elementStart(2,"div",13),o.\u0275\u0275element(3,"div",14)(4,"div",15),o.\u0275\u0275elementEnd()())}function k(f,T){if(1&f&&(o.\u0275\u0275elementContainerStart(0,3),o.\u0275\u0275template(1,Z,1,0,"div",4),o.\u0275\u0275template(2,S,3,0,"div",5),o.\u0275\u0275template(3,A,5,0,"div",6),o.\u0275\u0275elementContainerEnd()),2&f){var M=T.$implicit,O=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngSwitch",M),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",O.largeBarType),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",O.multipleBarType),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngSwitchCase",O.multipleSmallLargeType)}}function E(f,T){if(1&f&&(o.\u0275\u0275elementStart(0,"div",1),o.\u0275\u0275template(1,k,4,4,"ng-container",2),o.\u0275\u0275elementEnd()),2&f){var M=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngStyle",M.barsStyle),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",M.barsProperties.bars)}}var ne=function(){function f(){this.largeBarType=0,this.multipleBarType=1,this.multipleSmallLargeType=2}return f.prototype.ngOnChanges=function(){this.barsProperties&&(this.barsStyle={height:"".concat((this.barsProperties.height+8)*this.barsProperties.bars.length,"px")})},f.\u0275fac=function(M){return new(M||f)},f.\u0275cmp=o.\u0275\u0275defineComponent({type:f,selectors:[["shimmering-bars"]],inputs:{barsProperties:"barsProperties"},features:[o.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[["class","bars",3,"ngStyle",4,"ngIf"],[1,"bars",3,"ngStyle"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","largerLoadingBar animate",4,"ngSwitchCase"],["class","multipleBars",4,"ngSwitchCase"],["class","multipleSmallLarge",4,"ngSwitchCase"],[1,"largerLoadingBar","animate"],[1,"multipleBars"],[1,"miniLoadingBar","animate"],[1,"smallerLoadingBar","animate"],[1,"multipleSmallLarge"],[1,"shimmerBox","animate"],[1,"smallLargeBarContainer"],[1,"upperLoadingBar","animate"],[1,"lowerLoadingBar","animate"]],template:function(M,O){1&M&&o.\u0275\u0275template(0,E,2,2,"div",0),2&M&&o.\u0275\u0275property("ngIf",O.barsProperties)},dependencies:[F.NgForOf,F.NgIf,F.NgStyle,F.NgSwitch,F.NgSwitchCase],styles:['[_nghost-%COMP%]{--shimmer-background-color: var(--gray-20);--shimmer-animate1: var(--gray-30);--shimmer-animate2: var(--gray-50)}[data-legacy-theming=false]   [_nghost-%COMP%]{--shimmer-background-color: var(--colorNeutralBackground3);--shimmer-animate1: var(--colorNeutralBackground3Hover);--shimmer-animate2: var(--colorNeutralBackground3Pressed)}.bars[_ngcontent-%COMP%]{display:flex;flex-direction:column}.largerLoadingBar[_ngcontent-%COMP%]{border-radius:2px;flex-grow:1;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%]{margin:4px 8px}html[dir="rtl"][_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .largerLoadingBar[_ngcontent-%COMP%]{margin:4px 8px}.multipleBars[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}html:not([dir="rtl"])[_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%]{margin:4px 8px}html[dir="rtl"][_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .multipleBars[_ngcontent-%COMP%]{margin:4px 8px}.miniLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:60%;width:10%;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%]{margin-right:4px}html[dir="rtl"][_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .miniLoadingBar[_ngcontent-%COMP%]{margin-left:4px}.smallerLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:80%;width:100%;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%]{margin-left:4px}html[dir="rtl"][_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .smallerLoadingBar[_ngcontent-%COMP%]{margin-right:4px}.multipleSmallLarge[_ngcontent-%COMP%]{display:flex;flex-grow:1;padding:10px 9px}html:not([dir="rtl"])[_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%]{margin:4px 8px}html[dir="rtl"][_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .multipleSmallLarge[_ngcontent-%COMP%]{margin:4px 8px}.upperLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:65%;width:49%;background:var(--shimmer-background-color)}html:not([dir="rtl"])[_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%]{margin:0 4px 11px 0}html[dir="rtl"][_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .upperLoadingBar[_ngcontent-%COMP%]{margin:0 0 11px 4px}.lowerLoadingBar[_ngcontent-%COMP%]{border-radius:2px;height:65%;width:100%;background:var(--shimmer-background-color)}.shimmerBox[_ngcontent-%COMP%]{background:var(--shimmer-background-color);border-radius:2px;height:32px;width:32px}.smallLargeBarContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:167px}html:not([dir="rtl"])[_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%], html:not([dir="rtl"])   [_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%]{margin:4px 0 2.42px 13px}html[dir="rtl"][_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .smallLargeBarContainer[_ngcontent-%COMP%]{margin:4px 13px 2.42px 0}.animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 5s infinite linear;background:linear-gradient(270deg,var(--shimmer-animate1) 0%,var(--shimmer-animate2) 50%,var(--shimmer-animate1) 100%);background-size:250% 100%}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:250% 0}to{background-position:-250% 0}}'],changeDetection:0}),f}(),n=p(85102),re=["pbiTree"];function se(f,T){if(1&f){var M=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"tri-search-box",5),o.\u0275\u0275listener("value",function(I){o.\u0275\u0275restoreView(M);var N=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(N.search$.next(I))}),o.\u0275\u0275pipe(1,"localize"),o.\u0275\u0275pipe(2,"localize"),o.\u0275\u0275elementEnd()}if(2&f){var O=o.\u0275\u0275nextContext();o.\u0275\u0275property("currentInputValue",O.searchText||"")("placeholderText",o.\u0275\u0275pipeBind1(2,8,"SearchBox_Text"))("fluentTheme",!0)("compact",!0)("fullWidth",!0),o.\u0275\u0275attribute("aria-label",o.\u0275\u0275pipeBind1(1,6,"SearchBox_Text"))}}function pe(f,T){if(1&f){var M=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"pbi-search-box")(1,"input",6),o.\u0275\u0275listener("input",function(I){o.\u0275\u0275restoreView(M);var N=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(N.search$.next(I.target.value))}),o.\u0275\u0275pipe(2,"localize"),o.\u0275\u0275pipe(3,"localize"),o.\u0275\u0275elementEnd()()}if(2&f){var O=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("value",O.searchText||"")("placeholder",o.\u0275\u0275pipeBind1(3,5,"SearchBox_Text")),o.\u0275\u0275attribute("aria-label",o.\u0275\u0275pipeBind1(2,3,"SearchBox_Text"))}}function U(f,T){if(1&f&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275element(1,"shimmering-bars",7),o.\u0275\u0275elementContainerEnd()),2&f){var M=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("barsProperties",M.shimmeringBars)}}function de(f,T){if(1&f){var M=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"pbi-tree",12,13),o.\u0275\u0275listener("onNodeClick",function(I){o.\u0275\u0275restoreView(M);var N=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(N.onNodeClick.emit(I))})("onNodeCheck",function(I){o.\u0275\u0275restoreView(M);var N=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(N.onNodeCheck.emit(I))})("onNodeExpansionToggle",function(I){o.\u0275\u0275restoreView(M);var N=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(N.onNodeExpansionToggle.emit(I))})("onFirstRender",function(){o.\u0275\u0275restoreView(M);var I=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(I.onFirstRender())}),o.\u0275\u0275pipe(2,"async"),o.\u0275\u0275elementEnd()}if(2&f){var O=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("tree",O.fieldListTree)("search",o.\u0275\u0275pipeBind1(2,5,O.search$))("hasHighlights",O.hasHighlights)("checkMode",O.checkMode)("options",O._options)}}function ce(f,T){1&f&&o.\u0275\u0275projection(0,2)}function oe(f,T){if(1&f&&(o.\u0275\u0275elementStart(0,"div",8),o.\u0275\u0275element(1,"div",9),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(2,de,3,7,"pbi-tree",10),o.\u0275\u0275template(3,ce,1,0,"ng-template",null,11,o.\u0275\u0275templateRefExtractor)),2&f){var M=o.\u0275\u0275reference(4),O=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",O.fieldListTree)("ngIfElse",M)}}var ae=[[["",8,"pbi-field-list-perspective-header"]],[["",8,"pbi-field-list-header"]],[["",8,"pbi-field-list-watermark"]]],q=[".pbi-field-list-perspective-header",".pbi-field-list-header",".pbi-field-list-watermark"],ee={height:24,bars:[0,1,1,0,0]},J=function(){function f(){this.hasHighlights=!1,this.loading=!1,this.shimmeringBars=ee,this.defaultOptions={},this._options=this.defaultOptions,this.onNodeExpansionToggle=new o.EventEmitter,this.onNodeClick=new o.EventEmitter,this.onNodeCheck=new o.EventEmitter,this.onFirstRenderComplete=new o.EventEmitter,this.handleFieldListTreeHeightDiff=new o.EventEmitter,this.search$=new e.xQ}return Object.defineProperty(f.prototype,"options",{set:function(M){this._options=(0,z.__assign)((0,z.__assign)({},this.defaultOptions),M)},enumerable:!1,configurable:!0}),f.prototype.ngOnInit=function(){var T=this;this.focusSearchBoxOnFirstRenderComplete&&this.onFirstRenderComplete.pipe((0,H.q)(1)).subscribe(function(){return T.focusSearchBox()})},f.prototype.onFirstRender=function(){var T=this.getFieldListTreeHeightDiff();this.handleFieldListTreeHeightDiff.emit(T),this.scrollSelectedItemIntoViewOnInit&&this.pbiTree.scrollToFirstSelectedNode(),this.onFirstRenderComplete.emit()},f.prototype.focusSearchBox=function(){$(".field-list-search-container input").trigger("focus")},f.prototype.getFieldListTreeHeightDiff=function(){return this.pbiTree.getTreeHeight()+2-this.pbiTreeElementRef.nativeElement.getBoundingClientRect().height},f.\u0275fac=function(M){return new(M||f)},f.\u0275cmp=o.\u0275\u0275defineComponent({type:f,selectors:[["pbi-field-list"]],viewQuery:function(M,O){if(1&M&&(o.\u0275\u0275viewQuery(L.u,5),o.\u0275\u0275viewQuery(re,5,o.ElementRef)),2&M){var B=void 0;o.\u0275\u0275queryRefresh(B=o.\u0275\u0275loadQuery())&&(O.pbiTree=B.first),o.\u0275\u0275queryRefresh(B=o.\u0275\u0275loadQuery())&&(O.pbiTreeElementRef=B.first)}},inputs:{fieldListTree:"fieldListTree",scrollSelectedItemIntoViewOnInit:"scrollSelectedItemIntoViewOnInit",checkMode:"checkMode",hasHighlights:"hasHighlights",loading:"loading",searchText:"searchText",focusSearchBoxOnFirstRenderComplete:"focusSearchBoxOnFirstRenderComplete",fluent:"fluent",options:"options"},outputs:{onNodeExpansionToggle:"onNodeExpansionToggle",onNodeClick:"onNodeClick",onNodeCheck:"onNodeCheck",onFirstRenderComplete:"onFirstRenderComplete",handleFieldListTreeHeightDiff:"handleFieldListTreeHeightDiff"},features:[o.\u0275\u0275ProvidersFeature(x)],ngContentSelectors:q,decls:8,vars:4,consts:[["data-tutorial-target","search-box",1,"field-list-search-container"],["data-testid","search-bar-input",3,"currentInputValue","placeholderText","fluentTheme","compact","fullWidth","value",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["loaded",""],["data-testid","search-bar-input",3,"currentInputValue","placeholderText","fluentTheme","compact","fullWidth","value"],["pbiSearchInput","","data-testid","search-bar-input",1,"pbi-focus-outline",3,"value","placeholder","input"],[3,"barsProperties"],[1,"tutorial-target-container"],["data-tutorial-target","data-tree"],["data-testid","data-tree",3,"tree","search","hasHighlights","checkMode","options","onNodeClick","onNodeCheck","onNodeExpansionToggle","onFirstRender",4,"ngIf","ngIfElse"],["watermark",""],["data-testid","data-tree",3,"tree","search","hasHighlights","checkMode","options","onNodeClick","onNodeCheck","onNodeExpansionToggle","onFirstRender"],["pbiTree",""]],template:function(M,O){if(1&M&&(o.\u0275\u0275projectionDef(ae),o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275template(1,se,3,10,"tri-search-box",1),o.\u0275\u0275template(2,pe,4,7,"pbi-search-box",2),o.\u0275\u0275elementEnd(),o.\u0275\u0275projection(3),o.\u0275\u0275projection(4,1),o.\u0275\u0275template(5,U,2,1,"ng-container",3),o.\u0275\u0275template(6,oe,5,2,"ng-template",null,4,o.\u0275\u0275templateRefExtractor)),2&M){var B=o.\u0275\u0275reference(7);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",O.fluent),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!O.fluent),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",O.loading)("ngIfElse",B)}},dependencies:[F.NgIf,j.a,j.p,Q.U,L.u,ne,F.AsyncPipe,n.F],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}pbi-tree[_ngcontent-%COMP%]{margin-top:9px;height:100%;display:block;overflow:hidden}.tutorial-target-container[_ngcontent-%COMP%]{position:relative;visibility:hidden;height:0;width:0}.tutorial-target-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:20px;visibility:hidden;height:0;width:0}"],changeDetection:0}),f}()}}]);