"use strict";(self.webpackChunkdesktopDialogHost=self.webpackChunkdesktopDialogHost||[]).push([["workspace-settings"],{19828:function(qe,xe,m){m.d(xe,{X:function(){return ie}});var g=m(37419),p=m(47875);function ie(S){return void 0===S&&(S=-1),function(N){return N.lift(new f(S,N))}}var f=function(){function S(e,U){this.count=e,this.source=U}return S.prototype.call=function(U,ee){return ee.subscribe(new J(U,this.count,this.source))},S}(),J=function(S){function N(U,ee,x){var oe;return(oe=S.call(this,U)||this).count=ee,oe.source=x,oe}return(0,g.Z)(N,S),N.prototype.error=function(ee){if(!this.isStopped){var x=this.source,oe=this.count;if(0===oe)return S.prototype.error.call(this,ee);oe>-1&&(this.count=oe-1),x.subscribe(this._unsubscribeAndRecycle())}},N}(p.L)},18176:function(qe,xe,m){m.d(xe,{Ug:function(){return Ye},su:function(){return e},ce:function(){return ee},Kl:function(){return x},i:function(){return oe},bE:function(){return V},xU:function(){return we},aw:function(){return h},Zt:function(){return W},P9:function(){return ne},mK:function(){return K},ZH:function(){return te},WV:function(){return H},nD:function(){return _e},Jv:function(){return De},h_:function(){return be}});var g=m(60225),p=m(19828),ie=m(14172),f=m(59822),J=m(68698),S=m(50423),N=function(){function P(E){this.httpService=E}return P.prototype.getData=function(E){var R=this.createNoRetriesRequestOptions();return this.httpService.get(E,R).pipe((0,p.X)(0),(0,ie.U)(function(ae){return ae.data}))},P.prototype.postData=function(E,R){var ae=this.createNoRetriesRequestOptions();return this.httpService.post(E,R,ae).pipe(this.retryWithTransform(),(0,ie.U)(function(de){return de.data}))},P.prototype.deleteData=function(E){var R=this.createNoRetriesRequestOptions();return this.httpService.delete(E,R).pipe((0,p.X)(0),(0,ie.U)(function(ae){return ae.data}))},P.prototype.createNoRetriesRequestOptions=function(){var E=this.httpService.powerbiRequestOptions();return E.disableRetriesOnServerError=!0,E.retryCount=0,E.signInOnConditionalAccessErrors=!1,E},P.prototype.retryWithTransform=function(){return function(E){return E.pipe((0,p.X)(0),(0,f.K)(function(R){return(0,g._)(R)}),(0,ie.U)(function(R){return{data:R.data}}))}},P.\u0275fac=function(R){return new(R||P)(S.\u0275\u0275inject(J.s))},P.\u0275prov=S.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"}),P}(),e=function(){function P(E){this.httpUtils=E}return P.prototype.branchOut=function(E,R){return this.httpUtils.postData("metadata/git/workspaces/".concat(E,"/branchOut"),R)},P.\u0275fac=function(R){return new(R||P)(S.\u0275\u0275inject(N))},P.\u0275prov=S.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P}(),U=m(81337),ee=function(){function P(E){this.httpUtils=E}return P.prototype.commitArtifacts=function(E,R){return this.httpUtils.postData("metadata/git/workspaces/".concat(E,"/commitToGit?skipHeadValidation=true"),R).pipe((0,ie.U)(function(ae){return(0,U.__assign)((0,U.__assign)({},ae),{responseDate:new Date(Date.now())})}))},P.\u0275fac=function(R){return new(R||P)(S.\u0275\u0275inject(N))},P.\u0275prov=S.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P}(),x=function(){function P(E){this.httpUtils=E}return P.prototype.postConfigureCredentials=function(E,R){return this.httpUtils.postData("/metadata/git/workspaces/".concat(E,"/configureCredentials"),R)},P.prototype.deleteConfiguredCredentials=function(E){return this.httpUtils.deleteData("/metadata/git/workspaces/".concat(E,"/configureCredentials"))},P.\u0275fac=function(R){return new(R||P)(S.\u0275\u0275inject(N))},P.\u0275prov=S.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"}),P}(),oe=function(){function P(E){this.httpUtils=E}return P.prototype.getGitConnectionDetails=function(E){return this.httpUtils.getData("/metadata/git/workspaces/".concat(E,"/connection"))},P.prototype.setGitConnectionDetails=function(E,R){return this.httpUtils.postData("/metadata/git/workspaces/".concat(E,"/connection"),R)},P.prototype.checkoutBranch=function(E,R){return this.httpUtils.postData("/metadata/git/workspaces/".concat(E,"/checkoutBranch"),R)},P.prototype.deleteGitConnectionDetails=function(E){return this.httpUtils.deleteData("/metadata/git/workspaces/".concat(E,"/connection"))},P.\u0275fac=function(R){return new(R||P)(S.\u0275\u0275inject(N))},P.\u0275prov=S.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P}(),ue=m(18016),V=function(){function P(E){this.httpUtils=E}return P.prototype.getOrganizations=function(E,R){return this.httpUtils.getData("/metadata/git/organizations?gitProviderType=".concat(ue.IS[E],"&workspaceId=").concat(R))},P.prototype.getProjects=function(E,R,ae){return this.httpUtils.getData("/metadata/git/projects?gitProviderType=".concat(ue.IS[E],"&organizationName=").concat(R,"&workspaceId=").concat(ae))},P.prototype.getRepositories=function(E,R,ae,de){return this.httpUtils.getData("/metadata/git/repositories?gitProviderType=".concat(ue.IS[E],"&organizationName=").concat(R,"&projectName=").concat(ae,"&workspaceId=").concat(de))},P.prototype.getBranches=function(E,R,ae,de,he,X){var z="/metadata/git/branches?workspaceId=".concat(E,"&gitProviderType=").concat(ue.IS[R],"&organizationName=").concat(ae,"&repositoryName=").concat(de);return he&&(z+="&projectName=".concat(he)),X&&(z+="&datasourceOID=".concat(X)),this.httpUtils.getData(z)},P.prototype.createBranch=function(E){return this.httpUtils.postData("/metadata/git/branches",E)},P.prototype.createDirectory=function(E){return this.httpUtils.postData("/metadata/git/directory",E)},P.prototype.getRelatedWorkspaces=function(E){return this.httpUtils.getData("/metadata/git/workspaces/".concat(E,"/relatedWorkspaces"))},P.\u0275fac=function(R){return new(R||P)(S.\u0275\u0275inject(N))},P.\u0275prov=S.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"}),P}(),h=function(){function P(E){this.httpUtils=E}return P.prototype.createDatasource=function(E){return this.httpUtils.postData("/v2.0/myorg/me/gatewayClusterCloudDatasource",E)},P.prototype.discoverDatasources=function(){return this.httpUtils.postData("/v2.0/myorg/me/gatewayClusterDatasources",{datasourceTypes:["Extension"]})},P.prototype.getDatasource=function(E){var R="/v2.0/myorg/me/gatewayClusterDatasources/".concat(E);return this.httpUtils.getData(R)},P.\u0275fac=function(R){return new(R||P)(S.\u0275\u0275inject(N))},P.\u0275prov=S.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"}),P}(),W=function(){function P(E){this.httpUtils=E}return P.prototype.initializeGitConnection=function(E,R){return this.httpUtils.postData("/metadata/git/workspaces/".concat(E,"/connection/initialize"),R)},P.\u0275fac=function(R){return new(R||P)(S.\u0275\u0275inject(N))},P.\u0275prov=S.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P}(),K=function(){function P(E){this.httpUtils=E}return P.prototype.getUncommittedChanges=function(E){return this.getData(E,"uncommittedChanges")},P.prototype.getIncomingChanges=function(E){return this.getData(E,"incomingChanges")},P.prototype.getGitStatus=function(E){return this.getData(E,"gitStatus")},P.prototype.getData=function(E,R){var ae="metadata/git/workspaces/".concat(E,"/").concat(R);return this.httpUtils.getData(ae)},P.\u0275fac=function(R){return new(R||P)(S.\u0275\u0275inject(N))},P.\u0275prov=S.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P}(),H=function(){function P(E){this.httpUtils=E}return P.prototype.getlatestGitOperation=function(E){return this.httpUtils.getData("metadata/git/workspaces/".concat(E,"/latestGitOperationV2"))},P.\u0275fac=function(R){return new(R||P)(S.\u0275\u0275inject(N))},P.\u0275prov=S.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P}(),te=function(){function P(E){this.httpUtils=E}return P.prototype.switchBranch=function(E,R){return this.httpUtils.postData("/metadata/git/workspaces/".concat(E,"/switchBranch"),R)},P.\u0275fac=function(R){return new(R||P)(S.\u0275\u0275inject(N))},P.\u0275prov=S.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P}(),_e=function(){function P(E){this.httpUtils=E}return P.prototype.undoCommitArtifacts=function(E,R){return this.httpUtils.postData("metadata/git/workspaces/".concat(E,"/undo"),R)},P.\u0275fac=function(R){return new(R||P)(S.\u0275\u0275inject(N))},P.\u0275prov=S.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P}(),De=function(){function P(E){this.httpUtils=E}return P.prototype.UpdateArtifactsFromGit=function(E,R){return this.httpUtils.postData("metadata/git/workspaces/".concat(E,"/updateFromGit"),R).pipe((0,ie.U)(function(ae){return(0,U.__assign)((0,U.__assign)({},ae),{responseDate:new Date(Date.now())})}))},P.\u0275fac=function(R){return new(R||P)(S.\u0275\u0275inject(N))},P.\u0275prov=S.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P}(),ne=function(){function P(E){this.httpUtils=E}return P.prototype.gitRepairItems=function(E,R){return this.httpUtils.postData("metadata/git/workspaces/".concat(E,"/repairGitItems"),R).pipe((0,ie.U)(function(ae){return(0,U.__assign)({},ae)}))},P.\u0275fac=function(R){return new(R||P)(S.\u0275\u0275inject(N))},P.\u0275prov=S.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P}();function be(P){return P&&"string"==typeof P.extensionDataSourceKind&&"string"==typeof P.extensionDataSourcePath}var we=function(P){return P[P.Undefined=0]="Undefined",P[P.Completed=1]="Completed",P[P.UpdateFromGitRequired=2]="UpdateFromGitRequired",P[P.CommitToGitRequired=3]="CommitToGitRequired",P[P.Failed=100]="Failed",P}({}),Te=m(77476),Ye=function(){function P(){}return P.forRoot=function(){return{ngModule:P,providers:[]}},P.\u0275fac=function(R){return new(R||P)},P.\u0275mod=S.\u0275\u0275defineNgModule({type:P}),P.\u0275inj=S.\u0275\u0275defineInjector({providers:[e,ee,x,oe,V,h,N,W,K,H,te,_e,De,ne],imports:[Te.CommonModule]}),P}()},70628:function(qe,xe,m){m.d(xe,{CmZ:function(){return _e},DAQ:function(){return Wt},j3q:function(){return et},f$Z:function(){return _i},iAv:function(){return sa},REK:function(){return yr},gCl:function(){return Rn},F8e:function(){return En},pPx:function(){return to},CCT:function(){return Zo},Gui:function(){return H},ND3:function(){return Te},x6e:function(){return S},V_q:function(){return ot}});var g=m(60756),p=m(85732),ie=m(18176),f=m(81337),J=m(8894),S=(0,p.PH)("[GitStatus] Load Uncommitted Changes",(0,p.Ky)()),N=(0,p.PH)("[GitStatus] Load Uncommitted Changes Success",(0,p.Ky)()),e=(0,p.PH)("[GitStatus] Load Uncommitted Changes Failure",(0,p.Ky)()),U=(0,p.PH)("[GitStatus] Load Incoming Changes",(0,p.Ky)()),ee=(0,p.PH)("[GitStatus] Load Incoming Changes Success",(0,p.Ky)()),x=(0,p.PH)("[GitStatus] Load Incoming Changes Failure",(0,p.Ky)()),oe=(0,p.PH)("[GitStatus] set selection of artifact in changes tab",(0,p.Ky)()),ue=(0,p.PH)("[GitStatus] clear selection of artifact in changes tab",(0,p.Ky)()),V=(0,p.PH)("[GitConnection] Invalidate Git status",(0,p.Ky)()),h=(0,p.PH)("[GitStatus] Load Git Status",(0,p.Ky)()),W=(0,p.PH)("[GitStatus] Load Git Status Success",(0,p.Ky)()),K=(0,p.PH)("[GitStatus] Load Git Status Failure",(0,p.Ky)()),H=function(a){return a[a.Initial=0]="Initial",a[a.Loading=1]="Loading",a[a.Loaded=2]="Loaded",a}({}),_e=function(a){return a[a.Initial=0]="Initial",a[a.InProgress=1]="InProgress",a[a.Completed=2]="Completed",a}({}),De=function(a){return a[a.Initial=0]="Initial",a[a.Committing=1]="Committing",a[a.Committed=2]="Committed",a}({}),ne=function(a){return a[a.Initial=0]="Initial",a[a.Undoing=1]="Undoing",a[a.Undone=2]="Undone",a}({}),be=function(a){return a[a.Initial=0]="Initial",a[a.Updating=1]="Updating",a[a.Updated=2]="Updated",a}({}),we=function(a){return a[a.None=0]="None",a[a.CommitFlowInProgress=1]="CommitFlowInProgress",a[a.CommitInitialFlowInProgress=2]="CommitInitialFlowInProgress",a[a.UpdateFlowInProgress=3]="UpdateFlowInProgress",a[a.UpdateInitialFlowInProgress=4]="UpdateInitialFlowInProgress",a[a.UndoFlowInProgress=5]="UndoFlowInProgress",a[a.CheckoutBranchFlowInProgress=6]="CheckoutBranchFlowInProgress",a[a.SwitchBranchFlowInProgress=7]="SwitchBranchFlowInProgress",a}({}),Te=function(a){return a[a.Initial=0]="Initial",a[a.InProgress=1]="InProgress",a[a.Completed=2]="Completed",a}({}),Ye=function(a){return a[a.Initial=0]="Initial",a[a.InProgress=1]="InProgress",a[a.Completed=2]="Completed",a}({}),et=function(a){return a[a.Initial=0]="Initial",a[a.InProgress=1]="InProgress",a[a.Completed=2]="Completed",a}({}),P=function(a){return a[a.Initial=0]="Initial",a[a.InProgress=1]="InProgress",a[a.Completed=2]="Completed",a}({}),R=(0,J.H)({selectId:function(c){return c.workspaceId}}),ae=(0,f.__assign)({},R.getInitialState()),de=(0,p.Lq)(ae,(0,p.on)(h,function(a,c){return R.upsertOne({workspaceId:c.workspaceId,statusCallState:H.Loading},a)}),(0,p.on)(W,function(a,c){return R.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitStatus),{statusCallState:H.Loaded}),a)}),(0,p.on)(K,function(a,c){return R.upsertOne({workspaceId:c.workspaceId,statusCallState:c.error},a)}),(0,p.on)(S,function(a,c){return R.upsertOne({workspaceId:c.workspaceId,uncommittedChangesCallState:H.Loading},a)}),(0,p.on)(N,function(a,c){var d,u,b,M,B,A=c.gitStatus;return R.upsertOne({workspaceId:A.workspaceId,head:A.head,gitChanges:(0,f.__spreadArray)((0,f.__spreadArray)([],null!==(b=null===(u=null===(d=a.entities[A.workspaceId])||void 0===d?void 0:d.gitChanges)||void 0===u?void 0:u.filter(function(D){return D.remoteChange}))&&void 0!==b?b:[],!0),null!==(M=A?.gitChanges)&&void 0!==M?M:[],!0),incomingChangesCommitHash:null===(B=a.entities[A.workspaceId])||void 0===B?void 0:B.incomingChangesCommitHash,uncommittedChangesCallState:H.Loaded},a)}),(0,p.on)(e,function(a,c){return R.upsertOne({workspaceId:c.workspaceId,uncommittedChangesCallState:c.error},a)}),(0,p.on)(U,function(a,c){return R.upsertOne({workspaceId:c.workspaceId,incomingChangesCallState:H.Loading},a)}),(0,p.on)(ee,function(a,c){var d,u,b,M,B=c.gitStatus;return R.upsertOne({workspaceId:B.workspaceId,head:B.head,gitChanges:(0,f.__spreadArray)((0,f.__spreadArray)([],null!==(b=null===(u=null===(d=a.entities[B.workspaceId])||void 0===d?void 0:d.gitChanges)||void 0===u?void 0:u.filter(function(A){return A.workspaceChange}))&&void 0!==b?b:[],!0),null!==(M=B?.gitChanges)&&void 0!==M?M:[],!0),incomingChangesCommitHash:B.incomingChangesCommitHash,incomingChangesCallState:H.Loaded},a)}),(0,p.on)(x,function(a,c){return R.upsertOne({workspaceId:c.workspaceId,incomingChangesCallState:c.error},a)}),(0,p.on)(oe,function(a,c){var d,u,b=c.workspaceId,M=c.artifactId,B=c.logicalId,D=(null===(u=null===(d=a.entities[b])||void 0===d?void 0:d.uncommittedChangesArtifactSelectionState)||void 0===u?void 0:u.selectedArtifacts)||[],L=c.isChecked?D.concat({artifactId:M,logicalId:B}):D.filter(function(Y){return Y.artifactId!==M||Y.logicalId!==B});return R.upsertOne({workspaceId:b,uncommittedChangesArtifactSelectionState:{selectedArtifacts:L}},a)}),(0,p.on)(ue,function(a,c){return R.updateOne({id:c.workspaceId,changes:{uncommittedChangesArtifactSelectionState:{selectedArtifacts:[]}}},a)}),(0,p.on)(V,function(a,c){return R.removeOne(c.workspaceId,a)})),X=m(18016),z=(0,p.PH)("[GitConnection] Initialize Git connection",(0,p.Ky)()),O=(0,p.PH)("[GitConnection] Initialize Git connection success",(0,p.Ky)()),I=(0,p.PH)("[GitConnection] Initialize Git connection failure",(0,p.Ky)()),y=(0,p.PH)("[GitConnection] Invalidate Git connection initialization",(0,p.Ky)()),j=(0,p.PH)("[GitConnection] Load Git Connection",(0,p.Ky)()),Z=(0,p.PH)("[GitConnection] Load Git Connection Success",(0,p.Ky)()),ye=(0,p.PH)("[GitConnection] Load Git Connection Failure",(0,p.Ky)()),Me=(0,p.PH)("[GitConnection] Ensure Git Connection",(0,p.Ky)()),Be=(0,p.PH)("[GitConnection] Save Git Connection",(0,p.Ky)()),Ge=(0,p.PH)("[GitConnection] Save Git Connection Success",(0,p.Ky)()),rt=(0,p.PH)("[GitConnection] Save Git Connection Failure",(0,p.Ky)()),vt=(0,p.PH)("[GitConnection] Delete Git Connection",(0,p.Ky)()),T=(0,p.PH)("[GitConnection] Delete Git Connection Success",(0,p.Ky)()),fe=(0,p.PH)("[GitConnection] Delete Git Connection Failure",(0,p.Ky)()),Ae=(0,p.PH)("[GitConnection] Git Checkout Branch",(0,p.Ky)()),Fe=(0,p.PH)("[GitConnection] Git Checkout Branch Success",(0,p.Ky)()),ht=(0,p.PH)("[GitConnection] Git Checkout Branch Failure",(0,p.Ky)()),ot=(0,p.PH)("[GitConnection] Update datasource in GitConnection",(0,p.Ky)()),ct=(0,p.PH)("[GitSync] Get latest git alm operation",(0,p.Ky)()),tt=(0,p.PH)("[GitSync] Get latest git alm operation Success",(0,p.Ky)()),gt=(0,p.PH)("[GitSync] Get latest git alm operation Failure",(0,p.Ky)()),Ze=(0,p.PH)("[GitConnection] Invalidate Git sync",(0,p.Ky)()),pt=(0,p.PH)("[GitSwitchBranch] Git Switch Branch",(0,p.Ky)()),_t=(0,p.PH)("[GitSwitchBranch] Git Switch Branch Success",(0,p.Ky)()),Oe=(0,p.PH)("[GitSwitchBranch] Git Switch Branch In Progress",(0,p.Ky)()),Ce=(0,p.PH)("[GitSwitchBranch] Git Switch Branch Failure server error",(0,p.Ky)()),Re=(0,p.PH)("[GitSwitchBranch] Git Switch Branch Failure",(0,p.Ky)()),Je=(0,p.PH)("[GitBranchOut] Branch Out",(0,p.Ky)()),kt=(0,p.PH)("[GitBranchOut] Branch Out success",(0,p.Ky)()),ft=(0,p.PH)("[GitBranchOut] Branch Out failure",(0,p.Ky)()),lt=(0,p.PH)("[GitBranchOut] Branch Out requires to sync folder into store",(0,p.Ky)()),bn=(0,p.PH)("[GitBranchOut] Branch Out completed",(0,p.Ky)()),wn=(0,p.PH)("[GitBranchOut] Branch Out requires to sync folder into store without update",(0,p.Ky)()),kn=(0,p.PH)("[GitBranchOut] Branch Out store invalidate",(0,p.Ky)()),at=(0,J.H)({selectId:function(c){return c.workspaceId}}),In=(0,f.__assign)({},at.getInitialState()),Vi=(0,p.Lq)(In,(0,p.on)(j,vt,function(a,c){return at.upsertOne({workspaceId:c.workspaceId,callState:_e.InProgress},a)}),(0,p.on)(Be,function(a,c){return at.upsertOne({workspaceId:c.gitConnection.workspaceId,callState:_e.InProgress},a)}),(0,p.on)(Ae,function(a,c){return at.upsertOne({workspaceId:c.gitCheckoutBranchState.workspaceId,callState:_e.InProgress},a)}),(0,p.on)(Z,Ge,function(a,c){return at.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitConnection),{callState:_e.Completed}),a)}),(0,p.on)(Fe,function(a,c){var d,u=c.gitCheckoutBranchState,b=u.workspaceId,M=null===(d=a.entities[b])||void 0===d?void 0:d.gitConnectionDetails;return at.updateOne({id:b,changes:{gitConnectionDetails:(0,f.__assign)((0,f.__assign)({},M),{branchName:u.request.branchName}),callState:_e.Completed}},a)}),(0,p.on)(Oe,function(a,c){var d,u=c.gitSwitchBranchState,b=u.workspaceId;return void 0!==(null===(d=u?.request)||void 0===d?void 0:d.targetBranchName)?function(a,c,d){var u,b=null===(u=a.entities[c])||void 0===u?void 0:u.gitConnectionDetails;return at.updateOne({id:c,changes:{gitConnectionDetails:(0,f.__assign)((0,f.__assign)({},b),{branchName:d}),callState:_e.Completed}},a)}(a,b,u.request.targetBranchName):a}),(0,p.on)(ot,function(a,c){var d,u=c.workspaceId,b=c.datasourceOID,M=null===(d=a.entities[u])||void 0===d?void 0:d.gitConnectionDetails;return at.updateOne({id:u,changes:{gitConnectionDetails:(0,f.__assign)((0,f.__assign)({},M),{datasourceOID:b}),callState:_e.Completed}},a)}),(0,p.on)(T,function(a,c){return at.removeOne(c.workspaceId,a)}),(0,p.on)(ye,fe,ht,function(a,c){return at.updateOne({id:c.workspaceId,changes:{callState:c.error}},a)}),(0,p.on)(rt,function(a,c){return at.updateOne({id:c.gitConnection.workspaceId,changes:{callState:c.error}},a)}),(0,p.on)(O,function(a,c){var d,u,b=c.gitInitializationStateWithResponse,M=b.workspaceId,B=null===(d=a.entities[M])||void 0===d?void 0:d.gitConnectionDetails;return at.updateOne({id:M,changes:{gitConnectionDetails:(0,f.__assign)((0,f.__assign)({},B),{isInitialized:!0,head:null===(u=b.response)||void 0===u?void 0:u.head})}},a)}),(0,p.on)(kt,function(a,c){var d,u,b,M,B,A,D=c.gitBranchOutState;if(void 0===(null===(d=D.response)||void 0===d?void 0:d.folder))return a;var L=null===(b=null===(u=D.response)||void 0===u?void 0:u.folder)||void 0===b?void 0:b.objectId,Q=null===(M=a.entities[D.workspaceId])||void 0===M?void 0:M.gitConnectionDetails,ce=(0,f.__assign)((0,f.__assign)({},Q),{head:null===(A=null===(B=D.response)||void 0===B?void 0:B.initializeConnectionStatus)||void 0===A?void 0:A.head,branchName:D.request.targetBranchName});return at.upsertOne((0,f.__assign)((0,f.__assign)({},ce),{workspaceId:L,callState:_e.Completed}),a)}),(0,p.on)(N,ee,W,function(a,c){var d,u,b,M=c.gitStatus,B=M.workspaceId,A=null===(d=a.entities[B])||void 0===d?void 0:d.gitConnectionDetails;return M.head&&M.head!==(null===(b=null===(u=a.entities[M.workspaceId])||void 0===u?void 0:u.gitConnectionDetails)||void 0===b?void 0:b.head)?at.updateOne({id:B,changes:{gitConnectionDetails:(0,f.__assign)((0,f.__assign)({},A),{head:M.head})}},a):a}),(0,p.on)(tt,function(a,c){var d,u,b=c.gitSyncState,M=b.workspaceId,B=null===(d=a.entities[M])||void 0===d?void 0:d.gitConnectionDetails;return b.gitOperationStatus!==X.wM.Successful?a:at.updateOne({id:M,changes:{gitConnectionDetails:(0,f.__assign)((0,f.__assign)({},B),{lastSyncTime:null===(u=b.lastUpdatedTime)||void 0===u?void 0:u.toString()})}},a)})),xn=(0,p.PH)("[CommitToGit] Commit Changes To Git",(0,p.Ky)()),ln=(0,p.PH)("[CommitToGit] Commit Changes To Git inProgress",(0,p.Ky)()),Ki=(0,p.PH)("[CommitToGit] Commit Changes To Git success",(0,p.Ky)()),Un=(0,p.PH)("[CommitToGit] Commit Changes To Git failure server error ",(0,p.Ky)()),Vn=(0,p.PH)("[CommitToGit] Commit Changes To Git failure ",(0,p.Ky)()),Lt=(0,J.H)({selectId:function(c){return c.workspaceId}}),dn=(0,f.__assign)({},Lt.getInitialState()),Hi=(0,p.Lq)(dn,(0,p.on)(xn,function(a,c){return Lt.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitCommitState),{callState:De.Committing}),a)}),(0,p.on)(ln,function(a,c){return Lt.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitCommitState),{callState:De.Committing}),a)}),(0,p.on)(Ki,function(a,c){return Lt.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitCommitStateWithResponse),{callState:De.Committed,notificationId:void 0}),a)}),(0,p.on)(Un,function(a,c){return Lt.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitCommitState),{callState:De.Committed,notificationId:void 0}),a)}),(0,p.on)(Vn,function(a,c){var u=c.error;return Lt.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitCommitState),{callState:u,notificationId:void 0}),a)}),(0,p.on)(y,function(a,c){return Lt.removeOne(c.workspaceId,a)})),pn=(0,p.PH)("[UpdateFromGit] Update Changes From Git",(0,p.Ky)()),un=(0,p.PH)("[UpdateFromGit] Update Changes From Git InProgress",(0,p.Ky)()),Nt=(0,p.PH)("[UpdateFromGit] Update Changes From Git success",(0,p.Ky)()),jn=(0,p.PH)("[UpdateFromGit] Update Changes From Git failure ",(0,p.Ky)()),Kn=(0,p.PH)("[UpdateFromGit] Update Changes From Git failure server error",(0,p.Ky)()),At=(0,J.H)({selectId:function(c){return c.workspaceId}}),gn=(0,f.__assign)({},At.getInitialState()),Ue=(0,p.Lq)(gn,(0,p.on)(pn,function(a,c){return At.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitUpdateState),{callState:be.Updating}),a)}),(0,p.on)(un,function(a,c){return At.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitUpdateState),{callState:be.Updating}),a)}),(0,p.on)(Nt,function(a,c){return At.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitUpdateStateWithResponse),{callState:be.Updated,notificationId:void 0}),a)}),(0,p.on)(Kn,function(a,c){var u=c.error;return At.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitUpdateState),{callState:u,notificationId:void 0}),a)}),(0,p.on)(jn,function(a,c){var u=c.error;return At.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitUpdateState),{callState:u,notificationId:void 0}),a)}),(0,p.on)(y,function(a,c){return At.removeOne(c.workspaceId,a)})),Yt=(0,J.H)({selectId:function(c){return c.workspaceId}}),$=(0,f.__assign)({},Yt.getInitialState()),Rr=(0,p.Lq)($,(0,p.on)(z,function(a,c){return Yt.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitInitializationState),{callState:_e.InProgress}),a)}),(0,p.on)(O,function(a,c){return Yt.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitInitializationStateWithResponse),{callState:_e.Completed}),a)}),(0,p.on)(I,function(a,c){var u=c.error;return Yt.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitInitializationState),{callState:u}),a)}),(0,p.on)(y,function(a,c){return Yt.removeOne(c.workspaceId,a)})),ut=(0,J.H)({selectId:function(c){return c.workspaceId}}),F=(0,f.__assign)({},ut.getInitialState()),ke=(0,p.Lq)(F,(0,p.on)(ct,function(a,c){return ut.upsertOne({workspaceId:c.workspaceId,isValid:!0,isInitial:!!c.isInitial,callState:_e.InProgress},a)}),(0,p.on)(tt,function(a,c){return ut.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitSyncState),{callState:_e.Completed}),a)}),(0,p.on)(gt,function(a,c){return ut.updateOne({id:c.workspaceId,changes:{callState:c.error,isValid:!1}},a)}),(0,p.on)(Ze,function(a,c){return ut.removeOne(c.workspaceId,a)})),Mn=(0,p.PH)("[undoFromGit] Undo changes From Git",(0,p.Ky)()),Qt=(0,p.PH)("[undoFromGit] Undo changes From Git inProgress",(0,p.Ky)()),Xn=(0,p.PH)("[undoFromGit] Undo changes From Git success",(0,p.Ky)()),He=(0,p.PH)("[undoFromGit] Undo changes From Git failure server error ",(0,p.Ky)()),qt=(0,p.PH)("[undoFromGit] Undo changes From Git failure ",(0,p.Ky)()),$t=(0,J.H)({selectId:function(c){return c.workspaceId}}),Yn=(0,f.__assign)({},$t.getInitialState()),Wr=(0,p.Lq)(Yn,(0,p.on)(Mn,function(a,c){return $t.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitUndoState),{callState:ne.Undoing}),a)}),(0,p.on)(Qt,function(a,c){return $t.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitUndoState),{callState:ne.Undoing}),a)}),(0,p.on)(Xn,function(a,c){return $t.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitUndoStateWithResponse),{callState:ne.Undone,notificationId:void 0}),a)}),(0,p.on)(He,function(a,c){var u=c.error;return $t.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitUndoState),{callState:u,notificationId:void 0}),a)}),(0,p.on)(qt,function(a,c){var u=c.error;return $t.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitUndoState),{callState:u,notificationId:void 0}),a)}),(0,p.on)(y,function(a,c){return $t.removeOne(c.workspaceId,a)})),Ne=function(a){return a[a.None=0]="None",a[a.GitActionStart=1]="GitActionStart",a[a.GitActionInProgress=2]="GitActionInProgress",a[a.GitActionDone=3]="GitActionDone",a[a.GitSyncStart=4]="GitSyncStart",a[a.GitSyncInProgress=5]="GitSyncInProgress",a[a.GitSyncDone=6]="GitSyncDone",a}({}),Ct=function(a){return a[a.None=0]="None",a[a.Commit=1]="Commit",a[a.Update=2]="Update",a[a.Undo=3]="Undo",a[a.CheckoutBranch=4]="CheckoutBranch",a[a.SwitchBranch=5]="SwitchBranch",a}({}),Ve=(0,J.H)({selectId:function(c){return c.workspaceId}}),Qn=(0,f.__assign)({},Ve.getInitialState()),Nr=(0,p.Lq)(Qn,(0,p.on)(xn,function(a,c){return Ve.upsertOne({workspaceId:c.gitCommitState.workspaceId,activeFlowName:Ct.Commit,progressState:Ne.GitActionStart,activeFlowState:c.isInitialSync?we.CommitInitialFlowInProgress:we.CommitFlowInProgress,isIntermidiateStep:!1},a)}),(0,p.on)(ln,function(a,c){var d=c.gitCommitState,u=a.entities[d.workspaceId];return u&&Pn(Ct.Commit,u)?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},u),{progressState:Ne.GitActionInProgress}),a):Ve.upsertOne({workspaceId:d.workspaceId,activeFlowName:Ct.Commit,progressState:Ne.GitActionInProgress,activeFlowState:we.CommitFlowInProgress,isIntermidiateStep:!1},a)}),(0,p.on)(Ki,function(a,c){var u=a.entities[c.gitCommitStateWithResponse.workspaceId];return u?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},u),{progressState:Ne.GitActionDone}),a):a}),(0,p.on)(Vn,Un,function(a,c){var u=a.entities[c.gitCommitState.workspaceId];return u?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},u),{activeFlowState:we.None,progressState:Ne.None,isIntermidiateStep:!1}),a):a}),(0,p.on)(Mn,function(a,c){return Ve.upsertOne({workspaceId:c.gitUndoState.workspaceId,activeFlowName:Ct.Undo,activeFlowState:we.UndoFlowInProgress,isIntermidiateStep:!1,progressState:Ne.GitActionStart},a)}),(0,p.on)(Qt,function(a,c){var d=c.gitUndoState,u=a.entities[d.workspaceId];return u&&Pn(Ct.Undo,u)?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},u),{progressState:Ne.GitActionInProgress}),a):Ve.upsertOne({workspaceId:d.workspaceId,activeFlowName:Ct.Undo,progressState:Ne.GitActionInProgress,activeFlowState:we.UndoFlowInProgress,isIntermidiateStep:!1},a)}),(0,p.on)(Xn,function(a,c){var u=a.entities[c.gitUndoStateWithResponse.workspaceId];return u?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},u),{progressState:Ne.GitActionDone}),a):a}),(0,p.on)(qt,He,function(a,c){var u=a.entities[c.gitUndoState.workspaceId];return u?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},u),{activeFlowState:we.None,progressState:Ne.None,isIntermidiateStep:!1}),a):a}),(0,p.on)(pt,function(a,c){return Ve.upsertOne({workspaceId:c.gitSwitchBranchState.workspaceId,activeFlowName:Ct.SwitchBranch,activeFlowState:we.SwitchBranchFlowInProgress,isIntermidiateStep:!1,progressState:Ne.GitActionStart},a)}),(0,p.on)(Oe,function(a,c){var d=c.gitSwitchBranchState,u=a.entities[d.workspaceId];return u&&Pn(Ct.SwitchBranch,u)?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},u),{progressState:Ne.GitActionInProgress}),a):Ve.upsertOne({workspaceId:d.workspaceId,activeFlowName:Ct.SwitchBranch,progressState:Ne.GitActionInProgress,activeFlowState:we.SwitchBranchFlowInProgress,isIntermidiateStep:!1},a)}),(0,p.on)(_t,function(a,c){var u=a.entities[c.gitSwitchBranchState.workspaceId];return u?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},u),{progressState:Ne.GitActionDone}),a):a}),(0,p.on)(Re,Ce,function(a,c){var u=a.entities[c.gitSwitchBranchState.workspaceId];return u?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},u),{activeFlowState:we.None,progressState:Ne.None,isIntermidiateStep:!1}),a):a}),(0,p.on)(pn,function(a,c){return Ve.upsertOne({workspaceId:c.gitUpdateState.workspaceId,activeFlowName:Ct.Update,activeFlowState:c.isInitialSync?we.UpdateInitialFlowInProgress:we.UpdateFlowInProgress,isIntermidiateStep:!1,progressState:Ne.GitActionStart},a)}),(0,p.on)(un,function(a,c){var d=c.gitUpdateState,u=a.entities[d.workspaceId];return u&&Pn(Ct.Update,u)?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},u),{progressState:Ne.GitActionInProgress}),a):Ve.upsertOne({workspaceId:d.workspaceId,activeFlowName:Ct.Update,progressState:Ne.GitActionInProgress,activeFlowState:we.UpdateFlowInProgress,isIntermidiateStep:!1},a)}),(0,p.on)(Nt,function(a,c){var u=a.entities[c.gitUpdateStateWithResponse.workspaceId];return u?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},u),{progressState:Ne.GitActionDone}),a):a}),(0,p.on)(jn,Kn,function(a,c){var u=a.entities[c.gitUpdateState.workspaceId];return u?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},u),{activeFlowState:we.None,progressState:Ne.None,isIntermidiateStep:!1}),a):a}),(0,p.on)(U,S,h,function(a,c){var b=a.entities[c.workspaceId];return c.isTriggeredByGitAction&&b?.progressState===Ne.GitActionDone?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},b),{isIntermidiateStep:!0,progressState:Ne.GitSyncStart}),a):a}),(0,p.on)(N,ee,W,function(a,c){var u=a.entities[c.gitStatus.workspaceId];return u?.isIntermidiateStep&&u?.progressState===Ne.GitSyncStart?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},u),{activeFlowState:we.None,progressState:Ne.GitSyncDone,isIntermidiateStep:!1}),a):a}),(0,p.on)(e,x,K,function(a,c){var u=a.entities[c.workspaceId];return u?.isIntermidiateStep?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},u),{progressState:Ne.None,isIntermidiateStep:!1}),a):a}),(0,p.on)(Ae,function(a,c){return Ve.upsertOne({workspaceId:c.gitCheckoutBranchState.workspaceId,activeFlowName:Ct.CheckoutBranch,activeFlowState:we.CheckoutBranchFlowInProgress,isIntermidiateStep:!1,progressState:Ne.GitActionStart},a)}),(0,p.on)(Fe,function(a,c){var u=a.entities[c.gitCheckoutBranchState.workspaceId];return u?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},u),{progressState:Ne.GitActionDone}),a):a}),(0,p.on)(ht,function(a,c){var u=a.entities[c.workspaceId];return u?Ve.upsertOne((0,f.__assign)((0,f.__assign)({},u),{activeFlowState:we.None,progressState:Ne.None,isIntermidiateStep:!1}),a):a}));function Pn(a,c){return c.activeFlowName===a&&(c.progressState===Ne.GitActionStart||c.progressState===Ne.GitActionInProgress)}var Ut=(0,J.H)({selectId:function(c){return c.workspaceId}}),Zn=(0,f.__assign)({},Ut.getInitialState()),Ur=(0,p.Lq)(Zn,(0,p.on)(pt,function(a,c){return Ut.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitSwitchBranchState),{response:void 0,callState:Te.InProgress}),a)}),(0,p.on)(Oe,function(a,c){return Ut.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitSwitchBranchState),{callState:Te.InProgress}),a)}),(0,p.on)(_t,function(a,c){var d=c.gitSwitchBranchState;return Ut.upsertOne((0,f.__assign)((0,f.__assign)({},d),{callState:Te.Completed,response:d.response,notificationId:void 0}),a)}),(0,p.on)(Ce,function(a,c){return Ut.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitSwitchBranchState),{callState:Te.Completed,notificationId:void 0}),a)}),(0,p.on)(Re,function(a,c){var u=c.error;return Ut.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitSwitchBranchState),{callState:u,notificationId:void 0}),a)}),(0,p.on)(y,function(a,c){return Ut.removeOne(c.workspaceId,a)})),Jn=(0,p.PH)("[GitSessionStorage] select Git provider type",(0,p.Ky)()),Ee=(0,p.PH)("[GitSessionStorage] select datasource",(0,p.Ky)()),je=(0,p.PH)("[GitSessionStorage] select temp datasource",(0,p.Ky)()),St=(0,p.PH)("[GitSessionStorage] set datasource url",(0,p.Ky)()),en=(0,p.PH)("[GitSessionStorage] reset datasource url",(0,p.Ky)()),Pt=(0,p.PH)("[GitSessionStorage] select organization",(0,p.Ky)()),Vt=(0,p.PH)("[GitSessionStorage] select repository",(0,p.Ky)()),Ke=(0,p.PH)("[GitSessionStorage] select branch",(0,p.Ky)()),We=(0,p.PH)("[GitSessionStorage] select directory",(0,p.Ky)()),Yi=(0,p.PH)("[GitSessionStorage] select userAccount",(0,p.Ky)()),Tn=(0,p.PH)("[GitSessionStorage] configure credentials",(0,p.Ky)()),tn=(0,p.PH)("[GitSessionStorage] delete credentials",(0,p.Ky)()),nt=(0,p.PH)("[GitSessionStorage] select workspace capacity",(0,p.Ky)()),Xe=(0,J.H)({selectId:function(c){return c.workspaceId}}),qn=(0,f.__assign)({},Xe.getInitialState()),jr=(0,p.Lq)(qn,(0,p.on)(Jn,function(a,c){return Xe.upsertOne({workspaceId:c.workspaceId,selectedGitProviderType:c.gitProviderType},a)}),(0,p.on)(Ee,function(a,c){var d=c.workspaceId,u=c.datasourceOID,b=a.entities[d];return b&&b.selectedDatasourceOID===u?a:Xe.upsertOne({workspaceId:d,selectedDatasourceOID:u},a)}),(0,p.on)(je,function(a,c){return Xe.upsertOne({workspaceId:c.workspaceId,selectedTempDatasourceOID:c.datasourceOID},a)}),(0,p.on)(Pt,function(a,c){var u=c.organization;return Xe.upsertOne({workspaceId:c.workspaceId,selectedOrganization:u?{name:u,setByDatasource:!1}:void 0},a)}),(0,p.on)(Vt,function(a,c){var u=c.repository;return Xe.upsertOne({workspaceId:c.workspaceId,selectedRepository:u?{name:u,setByDatasource:!1}:void 0},a)}),(0,p.on)(Ke,function(a,c){return Xe.upsertOne({workspaceId:c.workspaceId,selectedBranch:c.branch},a)}),(0,p.on)(We,function(a,c){return Xe.upsertOne({workspaceId:c.workspaceId,selectedDirectory:c.directory},a)}),(0,p.on)(St,function(a,c){return Xe.upsertOne({workspaceId:c.workspaceId,selectedOrganization:{name:c.organization,setByDatasource:!0},selectedRepository:{name:c.repository,setByDatasource:!0}},a)}),(0,p.on)(en,function(a,c){return Xe.upsertOne({workspaceId:c.workspaceId,selectedOrganization:void 0,selectedRepository:void 0},a)}),(0,p.on)(Yi,function(a,c){return Xe.upsertOne({workspaceId:c.workspaceId,selectedUserAccount:c.userAccount},a)}),(0,p.on)(Tn,function(a,c){return Xe.upsertOne({workspaceId:c.workspaceId,isConfigured:!0},a)}),(0,p.on)(tn,function(a,c){return Xe.updateOne({id:c.workspaceId,changes:{selectedUserAccount:void 0,isConfigured:!1}},a)}),(0,p.on)(Z,function(a,c){var d,u,b,M=c.gitConnection;return Xe.upsertOne({workspaceId:M.workspaceId,selectedGitProviderType:null===(d=M.gitConnectionDetails)||void 0===d?void 0:d.gitProviderType,selectedDatasourceOID:null===(u=M.gitConnectionDetails)||void 0===u?void 0:u.datasourceOID,isConfigured:void 0!==(null===(b=M.gitConnectionDetails)||void 0===b?void 0:b.datasourceOID)},a)}),(0,p.on)(T,function(a,c){return Xe.updateOne({id:c.workspaceId,changes:{selectedBranch:void 0,selectedDatasourceOID:void 0,selectedTempDatasourceOID:void 0,selectedGitProviderType:void 0,selectedDirectory:void 0,selectedOrganization:void 0,selectedRepository:void 0,selectedUserAccount:void 0,isConfigured:void 0}},a)}),(0,p.on)(nt,function(a,c){return Xe.upsertOne({workspaceId:c.workspaceId,isWorkspaceOnCapaity:c.isWorkspaceOnCapacity},a)})),Rt=(0,J.H)({selectId:function(c){return c.workspaceId}}),ei=(0,f.__assign)({},Rt.getInitialState()),ti=(0,p.Lq)(ei,(0,p.on)(Je,function(a,c){return Rt.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitBranchOutState),{response:void 0,callState:Ye.InProgress}),a)}),(0,p.on)(kt,function(a,c){var d=c.gitBranchOutState;return Rt.upsertOne((0,f.__assign)((0,f.__assign)({},d),{callState:Ye.InProgress,response:d.response}),a)}),(0,p.on)(lt,function(a,c){var d=c.gitBranchOutState;return Rt.upsertOne((0,f.__assign)((0,f.__assign)({},d),{callState:Ye.InProgress,response:d.response}),a)}),(0,p.on)(wn,function(a,c){var d=c.gitBranchOutState;return Rt.upsertOne((0,f.__assign)((0,f.__assign)({},d),{callState:Ye.Completed,response:d.response}),a)}),(0,p.on)(bn,function(a,c){var d=c.gitBranchOutState;return Rt.upsertOne((0,f.__assign)((0,f.__assign)({},d),{callState:Ye.Completed,response:d.response}),a)}),(0,p.on)(ft,function(a,c){var u=c.error;return Rt.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitBranchOutState),{callState:u}),a)}),(0,p.on)(kn,function(a,c){return Rt.removeOne(c.gitBranchOutState.workspaceId,a)})),_n=(0,p.PH)("[GitDatasources] Load Datasources",(0,p.Ky)()),Zi=(0,p.PH)("[GitDatasources] Load Datasources Success",(0,p.Ky)()),ni=(0,p.PH)("[GitDatasources] Load Datasources Failure",(0,p.Ky)()),ii=(0,p.PH)("[GitDatasources] Create Datasource",(0,p.Ky)()),Hr=(0,p.PH)("[GitDatasources] Create Datasource Success",(0,p.Ky)()),ri=(0,p.PH)("[GitDatasources] Create Datasource Failure",(0,p.Ky)()),nn=(0,J.H)({selectId:function(c){return c.workspaceId}}),oi=(0,f.__assign)({},nn.getInitialState()),Xr=(0,p.Lq)(oi,(0,p.on)(_n,function(a,c){return nn.upsertOne({workspaceId:c.gitDatasourceRequest.workspaceId,callState:et.InProgress},a)}),(0,p.on)(Zi,function(a,c){return nn.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitDatasourcesState),{callState:et.Completed}),a)}),(0,p.on)(ni,ri,function(a,c){return nn.updateOne({id:c.workspaceId,changes:{callState:c.error}},a)}),(0,p.on)(ii,function(a,c){return nn.upsertOne({workspaceId:c.request.workspaceId,callState:et.InProgress},a)})),Ji=(0,p.PH)("[GitRepairItems] Repair Items in Git",(0,p.Ky)()),Qr=(0,p.PH)("[GitRepairItems] Repair Items in Git inProgress",(0,p.Ky)()),qi=(0,p.PH)("[GitRepairItems] Repair Items in Git success",(0,p.Ky)()),er=(0,p.PH)("[GitRepairItems] Repair Items in Git failure ",(0,p.Ky)()),mn=(0,J.H)({selectId:function(c){return c.workspaceId}}),ai=(0,f.__assign)({},mn.getInitialState()),Zr=(0,p.Lq)(ai,(0,p.on)(Ji,Qr,function(a,c){return mn.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitRepairState),{callState:P.InProgress}),a)}),(0,p.on)(qi,function(a,c){var d=c.gitRepairStateWithResponse;return mn.upsertOne((0,f.__assign)((0,f.__assign)({},d),{response:d.response,callState:P.Completed}),a)}),(0,p.on)(er,function(a,c){var u=c.error;return mn.upsertOne((0,f.__assign)((0,f.__assign)({},c.gitRepairState),{callState:u,notificationId:void 0}),a)})),qr={gitStatus:function(a,c){return de(a,c)},gitConnection:function(a,c){return Vi(a,c)},gitCommit:function(a,c){return Hi(a,c)},gitUpdate:function(a,c){return Ue(a,c)},gitInitialization:function(a,c){return Rr(a,c)},gitSync:function(a,c){return ke(a,c)},gitUndo:function(a,c){return Wr(a,c)},gitProgressIndicator:function(a,c){return Nr(a,c)},gitSwitchBranch:function(a,c){return Ur(a,c)},gitSessionStorage:function(a,c){return jr(a,c)},gitBranchOut:function(a,c){return ti(a,c)},gitDatasources:function(a,c){return Xr(a,c)},gitRepair:function(a,c){return Zr(a,c)}},yt=(0,p.ZF)("git"),$e=m(11547),Se=m(14172),ze=m(81905),st=m(59822),rn=m(42369),Tt=m(65232),eo=m(12315),to=function(a){return a[a.SingleCall=0]="SingleCall",a[a.SeparateCalls=1]="SeparateCalls",a}({});function no(a){var c=eo.RG,d=c.includes(a);if(d)return a;if(!d){var u=c.findIndex(function(b){return a.toLowerCase()===b.toLowerCase()});if(u>=0)return c[u]}throw Error("Invalid ArtifactType: "+a)}function io(a,c){return{artifact:(0,f.__assign)((0,f.__assign)({},a.artifact),{artifactType:c.getFrontendArtifactType(a.artifact.artifactType)}),remoteChange:{displayName:a.artifact.displayName,changeType:a.gitChangeType},syncStatus:0}}function nr(a,c){var d=c.getFrontendArtifactType(a.artifact.artifactType);return{artifact:(0,f.__assign)((0,f.__assign)({},a.artifact),{artifactType:no(d)}),workspaceChange:{displayName:a.artifact.displayName,changeType:a.gitChangeType},syncStatus:0}}function ci(a,c,d,u){return{workspaceId:a,head:c,gitChanges:d,incomingChangesCommitHash:u||void 0}}var k=m(50423),ao=function(){function a(c,d,u,b){var M=this;this.actions$=c,this.gitStatusClient=d,this.gitErrorService=u,this.extensionManifestService=b,this.loadUncommittedChanges$=(0,g.GW)(function(){return M.actions$.pipe((0,g.l4)(S),(0,Se.U)(function(B){return B.workspaceId}),(0,ze.w)(function(B){return M.gitStatusClient.getUncommittedChanges(B).pipe((0,Se.U)(function(A){return M.updateGitStatusWithUncommittedChanges(B,A)}),(0,Se.U)(function(A){return N({gitStatus:A})}),(0,st.K)(function(A){var D=M.gitErrorService.makeGitErrorFromHttpResponse("Git_Status_Failed",A);return(0,$e.of)(e({workspaceId:B,error:D}))}))}))}),this.loadIncomingChanges$=(0,g.GW)(function(){return M.actions$.pipe((0,g.l4)(U),(0,Se.U)(function(B){return B.workspaceId}),(0,ze.w)(function(B){return M.gitStatusClient.getIncomingChanges(B).pipe((0,Se.U)(function(A){return M.updateGitStatusWithIncomingChanges(B,A)}),(0,Se.U)(function(A){return ee({gitStatus:A})}),(0,st.K)(function(A){var D=M.gitErrorService.makeGitErrorFromHttpResponse("Git_Status_Failed",A);return(0,$e.of)(x({workspaceId:B,error:D}))}))}))}),this.loadGitStatus$=(0,g.GW)(function(){return M.actions$.pipe((0,g.l4)(h),(0,Se.U)(function(B){return B.workspaceId}),(0,ze.w)(function(B){return M.gitStatusClient.getGitStatus(B).pipe((0,Se.U)(function(A){return M.gitStatusContractToModel(B,A)}),(0,Se.U)(function(A){return W({gitStatus:A})}),(0,st.K)(function(A){var D=M.gitErrorService.makeGitErrorFromHttpResponse("Git_Status_Failed",A);return(0,$e.of)(K({workspaceId:B,error:D}))}))}))})}return a.prototype.updateGitStatusWithIncomingChanges=function(c,d){var u=function(a,c){for(var d=[],u=0,b=a.changes;u<b.length;u++)d.push(io(b[u],c));return d}(d,this.extensionManifestService);return ci(c,d.head,u,d.targetCommit.commitId)},a.prototype.updateGitStatusWithUncommittedChanges=function(c,d){var u=function(a,c){for(var d=[],u=0,b=a.changes;u<b.length;u++)d.push(nr(b[u],c));return d}(d,this.extensionManifestService);return ci(c,d.head,u)},a.prototype.gitStatusContractToModel=function(c,d){var u,b=function(a,c){var d=[];if(null==a.changes)return d;for(var u=0,b=a.changes;u<b.length;u++){var M=b[u],B=M;B.artifact.artifactType=c.getFrontendArtifactType(M.artifact.artifactType),d.push(B)}return d}(d,this.extensionManifestService);return ci(c,d.head,b,null===(u=d.targetCommit)||void 0===u?void 0:u.commitId)},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(g.eX),k.\u0275\u0275inject(ie.mK),k.\u0275\u0275inject(Tt.jR),k.\u0275\u0275inject(rn.vC))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),ir=m(37272),Ft=m(12385),vn=m(94771),li=(0,p.P1)(yt,function(a){return a?.gitConnection||In}),Dt=at.getSelectors(),Pe=Dt.selectAll,On=Dt.selectEntities,di=((0,p.P1)(li,function(a){return Pe(a)}),(0,p.P1)(li,function(a){return On(a)})),Bt=function(c){return(0,p.P1)(di,function(d){return d[c]})};function It(a,c,d){return d?[h({workspaceId:a,isTriggeredByGitAction:c})]:[U({workspaceId:a,isTriggeredByGitAction:c}),S({workspaceId:a,isTriggeredByGitAction:c})]}var hn=function(){function a(c,d,u,b,M,B,A){var D=this;this.actions$=c,this.gitConnectionDetailsClient=d,this.gitErrorService=u,this.gitNotificationService=b,this.extensionManifestService=M,this.store=B,this.featureSwitchService=A,this.ensureGitConnection$=(0,g.GW)(function(){return D.actions$.pipe((0,g.l4)(Me),(0,Se.U)(function(L){return L.workspaceId}),(0,g.IC)(function(L){return D.store.select(Bt(L))}),(0,ze.w)(function(L){var Y=L[0],Q=L[1];return Q?.gitConnectionDetails&&Q.callState===_e.Completed||!Q?.gitConnectionDetails&&(0,X.pb)(Q?.callState)?ir.E:(0,$e.of)(j({workspaceId:Y}))}))}),this.loadGitConnection$=(0,g.GW)(function(){return D.actions$.pipe((0,g.l4)(j),(0,Se.U)(function(L){return L.workspaceId}),(0,ze.w)(function(L){return D.gitConnectionDetailsClient.getGitConnectionDetails(L).pipe((0,Se.U)(function(Y){return D.gitConnectionContractToModel(L,Y)}),(0,Se.U)(function(Y){return Z({gitConnection:Y})}),(0,st.K)(function(Y){var Q=D.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",Y);return(0,$e.of)(ye({workspaceId:L,error:Q}))}))}))}),this.saveGitConnection$=(0,g.GW)(function(){return D.actions$.pipe((0,g.l4)(Be),(0,Se.U)(function(L){return L.gitConnection}),(0,ze.w)(function(L){if(!L.gitConnectionDetails){var Y=D.gitErrorService.makeClientSideGitError("Git_Invalid_Connection_Details");return D.gitNotificationService.showErrorNotification(Y,"Trident_Git_Error_Git_Invalid_Connection_Details_Title"),(0,$e.of)(rt({gitConnection:L,error:Y}))}var Q=D.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Connect_Loading");return D.gitConnectionDetailsClient.setGitConnectionDetails(L.workspaceId,L.gitConnectionDetails).pipe((0,Se.U)(function(){return D.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Connect_Success",Q),Ge({gitConnection:L})}),(0,st.K)(function(ce){var Ie=D.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",ce);return(0,X.yG)(Ie)?D.gitNotificationService.hideCurrentNotification():D.gitNotificationService.showErrorNotification(Ie,"Trident_Git_Error_Git_Invalid_Connection_Details_Title",Q),(0,$e.of)(rt({gitConnection:L,error:Ie}))}))}))}),this.gitCheckoutBranch$=(0,g.GW)(function(){return D.actions$.pipe((0,g.l4)(Ae),(0,Se.U)(function(L){return L.gitCheckoutBranchState}),(0,ze.w)(function(L){return D.gitConnectionDetailsClient.checkoutBranch(L.workspaceId,L.request).pipe((0,ze.w)(function(){var Y;return D.gitNotificationService.showSuccessNotification("Trident_Git_Toast_CheckoutBranch_Success"),(0,f.__spreadArray)([Fe({gitCheckoutBranchState:L}),ct({workspaceId:L.workspaceId})],It(L.workspaceId,!0,null!==(Y=D.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==Y&&Y),!0)}),(0,st.K)(function(Y){var Q=D.gitErrorService.makeGitErrorFromHttpResponse("Git_Checkout_Branch_Failed",Y);return(0,X.xT)(Q,"Git_BranchNameAlreadyExists")||D.gitNotificationService.showErrorNotification(Q,"Trident_Git_Error_Git_Checkout_Branch_Failed_Title"),(0,$e.of)(ht({workspaceId:L.workspaceId,error:Q}))}))}))}),this.deleteGitConnection$=(0,g.GW)(function(){return D.actions$.pipe((0,g.l4)(vt),(0,Se.U)(function(L){return L.workspaceId}),(0,ze.w)(function(L){var Y=D.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Disconnect_Loading_Title","Trident_Git_Toast_Disconnect_Loading_Message");return D.gitConnectionDetailsClient.deleteGitConnectionDetails(L).pipe((0,ze.w)(function(){return D.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Disconnect_Success",Y),[T({workspaceId:L}),y({workspaceId:L}),Ze({workspaceId:L}),V({workspaceId:L})]}),(0,st.K)(function(Q){var ce=D.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",Q);return D.gitNotificationService.showErrorNotification(ce,"Trident_Git_Error_Git_Disconnect_Failed_Title",Y),(0,$e.of)(fe({workspaceId:L,error:ce}))}))}))})}return a.prototype.gitConnectionContractToModel=function(c,d){var Ie=d.datasourceOID;return{workspaceId:c,gitConnectionDetails:{gitProviderType:d.gitProviderType,organizationName:d.organizationName,projectName:d.projectName,repositoryName:d.repositoryName,branchName:d.branchName,rootDirectory:d.rootDirectory,head:d.head,isInitialized:!!d.isInitialized,lastSyncTime:d.lastSyncTime,supportedArtifactTypeNames:this.ConvertArtifactNamesBackendToFrontEnd(d.supportedArtifactTypeNames),datasourceOID:Ie}}},a.prototype.ConvertArtifactNamesBackendToFrontEnd=function(c){var d=this;if(c)return c.map(function(u){return d.extensionManifestService.getFrontendArtifactType(u)})},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(g.eX),k.\u0275\u0275inject(ie.i),k.\u0275\u0275inject(Tt.jR),k.\u0275\u0275inject(Ft.mn),k.\u0275\u0275inject(rn.vC),k.\u0275\u0275inject(p.yh),k.\u0275\u0275inject(vn.V$))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),xt=m(59017),Gt=m(59973),wt=m(48787),rr=(0,p.P1)(yt,function(a){return a?.gitStatus||ae}),or=R.getSelectors(),so=or.selectAll,co=or.selectEntities,ar=((0,p.P1)(rr,function(a){return so(a)}),(0,p.P1)(rr,function(a){return co(a)})),on=function(c){return(0,p.P1)(ar,function(d){return d[c]})},En=function(){function a(c){this.store=c}return a.prototype.getGitStatus=function(c){return this.store.select(on(c))},a.prototype.loadGitStatus=function(c){return this.store.dispatch(h({workspaceId:c})),this.getGitStatus(c)},a.prototype.getStatusLoadingState=function(c){return this.store.select(on(c)).pipe((0,Se.U)(function(d){var u;return null!==(u=d?.statusCallState)&&void 0!==u?u:H.Initial}))},a.prototype.getAllChanges=function(c){return this.getGitStatus(c).pipe((0,Se.U)(function(d){var u;return null!==(u=d?.gitChanges)&&void 0!==u?u:[]}))},a.prototype.getUncommittedChanges=function(c){return this.getGitStatus(c).pipe((0,Se.U)(function(d){var u,b;return null!==(b=null===(u=d?.gitChanges)||void 0===u?void 0:u.filter(function(M){return M.workspaceChange}))&&void 0!==b?b:[]}))},a.prototype.loadUncommittedChanges=function(c){return this.store.dispatch(S({workspaceId:c})),this.getUncommittedChanges(c)},a.prototype.getUncommittedChangesLoadingState=function(c){return this.store.select(on(c)).pipe((0,Se.U)(function(d){return d&&d.uncommittedChangesCallState||H.Initial}))},a.prototype.getUncommittedArtifactsSelectionState=function(c){return this.store.select(on(c)).pipe((0,Se.U)(function(d){return d&&d.uncommittedChangesArtifactSelectionState||{selectedArtifacts:[]}}))},a.prototype.setChangesArtifactSelection=function(c,d,u,b){this.store.dispatch(oe({workspaceId:c,artifactId:d,logicalId:u,isChecked:b}))},a.prototype.clearChangesArtifactSelection=function(c){this.store.dispatch(ue({workspaceId:c}))},a.prototype.getIncomingChanges=function(c){return this.getGitStatus(c).pipe((0,Se.U)(function(d){var u,b;return null!==(b=null===(u=d?.gitChanges)||void 0===u?void 0:u.filter(function(M){return M.remoteChange}))&&void 0!==b?b:[]}))},a.prototype.loadIncomingChanges=function(c){return this.store.dispatch(U({workspaceId:c})),this.getIncomingChanges(c)},a.prototype.getIncomingChangesLoadingState=function(c){return this.store.select(on(c)).pipe((0,Se.U)(function(d){return d&&d.incomingChangesCallState||H.Initial}))},a.prototype.getIncomingChangesCommitId=function(c){return this.store.select(on(c)).pipe((0,Se.U)(function(d){return d?.incomingChangesCommitHash}))},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(p.yh))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),sr=(0,p.P1)(yt,function(a){return a?.gitCommit||dn}),cr=Lt.getSelectors(),po=cr.selectAll,uo=cr.selectEntities,go=((0,p.P1)(sr,function(a){return po(a)}),(0,p.P1)(sr,function(a){return uo(a)})),mo=function(){function a(c,d,u,b,M,B,A,D){var L=this;this.actions$=c,this.gitCommitClient=d,this.gitErrorService=u,this.gitNotificationService=b,this.extensionManifestService=M,this.gitStatusFacade=B,this.store=A,this.featureSwitchService=D,this.commitToGit$=(0,g.GW)(function(){return L.actions$.pipe((0,g.l4)(xn),(0,Se.U)(function(Y){var Q=Y.gitCommitState,ce=Y.isInitialSync,Ie=L.gitNotificationService.showLoadingNotification(ce?"Trident_Git_Toast_Initial_Commit_Loading":"Trident_Git_Toast_Commit_Loading_Title",ce?void 0:"Trident_Git_Toast_Commit_Loading_Message");return(0,f.__assign)((0,f.__assign)({},Q),{isInitialSync:ce,notificationId:Ie})}),(0,ze.w)(function(Y){return(0,xt.aj)([L.gitCommitClient.commitArtifacts(Y.workspaceId,L.fromGitCommitContractToGitCommitRequest(Y.request))]).pipe((0,ze.w)(function(Q){var ce=Q[0],Ie=(0,f.__assign)((0,f.__assign)({},Y),{response:{almAction:ce.almOperation,responseDate:ce.responseDate}});return[ln({gitCommitState:Ie})]}),(0,st.K)(function(Q){var ce=L.gitErrorService.makeGitErrorFromHttpResponse(" Git_Commit_Invalid_Request",Q);return Y?.notificationId&&(L.gitNotificationService.showErrorNotification(ce,"Trident_Git_Error_Unable_To_Commit_Title",Y.notificationId),L.gitErrorService.showErrorHandlingDialog(ce)),(0,$e.of)(Vn({gitCommitState:Y,error:ce}))}))}))}),this.getLatestGitAlmOperationSuccess$=(0,g.GW)(function(){return L.actions$.pipe((0,g.l4)(tt),(0,Se.U)(function(Y){return Y.gitSyncState}),(0,Gt.h)(function(Y){return L.isLatestOpValid(Y)}),(0,ze.w)(function(Y){return L.store.select(function(c){return(0,p.P1)(go,function(d){return d[c]})}(Y.workspaceId)).pipe((0,wt.q)(1),(0,ze.w)(function(Q){return L.getActions(Y,Q)}))}))})}return a.prototype.isLatestOpValid=function(c){return!!c?.isValid&&c.gitOperationType===X.u9.Commit},a.prototype.getActions=function(c,d){var u,b=d&&d.workspaceId===c.workspaceId?{workspaceId:d.workspaceId,request:d.request,response:d?.response,isInitialSync:d?.isInitialSync,notificationId:d?.notificationId}:{workspaceId:c.workspaceId,request:void 0};switch(c.gitOperationStatus){case X.wM.Successful:return d?.notificationId&&this.gitNotificationService.showSuccessNotification(d?.isInitialSync?"Trident_Git_Toast_Initial_Action_Success":"Trident_Git_Toast_Commit_Success",d.notificationId),this.gitStatusFacade.clearChangesArtifactSelection(b.workspaceId),(0,f.__spreadArray)((0,f.__spreadArray)([Ki({gitCommitStateWithResponse:b})],It(b.workspaceId,!0,null!==(u=this.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==u&&u),!0),[Ze({workspaceId:b.workspaceId})],!1);case X.wM.InProgress:return[ln({gitCommitState:b})];case X.wM.Failed:var M=this.gitErrorService.handleAlmGitError("AlmOperationFailed_CommitToGit",c);return d?.notificationId&&(this.gitNotificationService.showErrorNotification(M,"Trident_Git_Error_Unable_To_Commit_Title",d.notificationId),this.gitErrorService.showErrorHandlingDialog(M)),[Un({gitCommitState:b}),Ze({workspaceId:b.workspaceId})]}return[ln({gitCommitState:b})]},a.prototype.fromGitCommitContractToGitCommitRequest=function(c){var d=this;return{artifacts:c.artifacts.map(function(b){return d.fromGitArtifactChangeToArtifactSelector(b)}),workspaceHead:c.workspaceHead,comment:c.comment}},a.prototype.fromGitArtifactChangeToArtifactSelector=function(c){var d=c.artifact;return{artifactType:this.extensionManifestService.getBackendArtifactType(d.artifactType),etag:d.etag,objectId:d.objectId,logicalId:d.logicalId,changeType:c.workspaceChange.changeType}},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(g.eX),k.\u0275\u0275inject(ie.ce),k.\u0275\u0275inject(Tt.jR),k.\u0275\u0275inject(Ft.mn),k.\u0275\u0275inject(rn.vC),k.\u0275\u0275inject(En),k.\u0275\u0275inject(p.yh),k.\u0275\u0275inject(vn.V$))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),vo=m(32980),lr=(m(17177),m(94228),m(14977),m(95228),m(32293)),ho=m(41838),an=function(a){return a[a.CommitToGit=100]="CommitToGit",a[a.UpdateFromGit=101]="UpdateFromGit",a[a.InitializeWorkspaceGitConnection=102]="InitializeWorkspaceGitConnection",a[a.Undo=103]="Undo",a[a.CheckoutBranch=104]="CheckoutBranch",a[a.SwitchBranch=105]="SwitchBranch",a}({}),pi=function(a){return a[a.NonFinalBase=0]="NonFinalBase",a[a.FinalBase=1001]="FinalBase",a[a.FinalSuccessBase=1001]="FinalSuccessBase",a[a.FinalErrorBase=2001]="FinalErrorBase",a[a.Created=0]="Created",a[a.Approval_Pending=10]="Approval_Pending",a[a.Execution_Pending=20]="Execution_Pending",a[a.Executing_Running=30]="Executing_Running",a[a.Succeeded=1001]="Succeeded",a[a.SucceededWithWarning_RefreshSkipped=1011]="SucceededWithWarning_RefreshSkipped",a[a.SucceededWithWarning_MissingCredentials=1012]="SucceededWithWarning_MissingCredentials",a[a.Failed_GenericError=2001]="Failed_GenericError",a[a.Failed_GenericDryRunError=2006]="Failed_GenericDryRunError",a[a.Approval_Abandoned=2011]="Approval_Abandoned",a[a.Approval_Rejected=2012]="Approval_Rejected",a[a.Execution_Cancelled=2021]="Execution_Cancelled",a[a.Execution_UnsupportedOperationType=2031]="Execution_UnsupportedOperationType",a[a.Execution_UnsupportedStepType=2032]="Execution_UnsupportedStepType",a[a.Execution_NoSteps=2033]="Execution_NoSteps",a}({}),fo=function(a){return a[a.SingleOption=0]="SingleOption",a[a.None=1]="None",a}({}),Dn=m(77476),Co=m(95825),So=m(74913),yo=m(64266),bo=m(94243),dr=m(10965),pr=m(37350),wo=m(89330),pe=m(55334);function Zt(a,c){1&a&&k.\u0275\u0275element(0,"tri-svg-icon",16)}function fn(a,c){if(1&a&&(k.\u0275\u0275elementStart(0,"tri-pivot-item",11)(1,"span",12),k.\u0275\u0275template(2,Zt,1,0,"tri-svg-icon",13),k.\u0275\u0275elementEnd(),k.\u0275\u0275element(3,"tri-svg-icon",14),k.\u0275\u0275elementStart(4,"span",15),k.\u0275\u0275text(5),k.\u0275\u0275elementEnd()()),2&a){var b,M,d=c.$implicit,u=k.\u0275\u0275nextContext();k.\u0275\u0275property("value",d),k.\u0275\u0275advance(2),k.\u0275\u0275property("ngIf",u.isArtifactOptionSelected(d)),k.\u0275\u0275advance(1),k.\u0275\u0275property("sprite",null==(b=u.localGetArtifactIconFromDict(u.getArtifactType(d)))?null:b.sprite)("name",null==(M=u.localGetArtifactIconFromDict(u.getArtifactType(d)))?null:M.name),k.\u0275\u0275advance(1),k.\u0275\u0275attribute("aria-label",null==d.failedArtifactMetadata?null:d.failedArtifactMetadata.artifactDisplayName),k.\u0275\u0275advance(1),k.\u0275\u0275textInterpolate1(" ",null==d.failedArtifactMetadata?null:d.failedArtifactMetadata.artifactDisplayName," ")}}function ko(a,c){if(1&a){var d=k.\u0275\u0275getCurrentView();k.\u0275\u0275elementContainerStart(0,19),k.\u0275\u0275elementStart(1,"tri-checkbox",20),k.\u0275\u0275listener("onChange",function(){k.\u0275\u0275restoreView(d);var M=k.\u0275\u0275nextContext(2);return k.\u0275\u0275resetView(M.checkBoxSelectionChanged(M.getSingleOption(M.displayError)))}),k.\u0275\u0275text(2),k.\u0275\u0275pipe(3,"localize"),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementContainerEnd()}if(2&a){var u=k.\u0275\u0275nextContext(2);k.\u0275\u0275advance(1),k.\u0275\u0275property("checked",u.isArtifactOptionSelected(u.displayError)),k.\u0275\u0275advance(1),k.\u0275\u0275textInterpolate1(" ",k.\u0275\u0275pipeBind1(3,2,u.getSingleOptionMessageKey(u.displayError))," ")}}function Io(a,c){if(1&a){var d=k.\u0275\u0275getCurrentView();k.\u0275\u0275elementStart(0,"tri-radio-button",22),k.\u0275\u0275listener("change",function(){var A=k.\u0275\u0275restoreView(d).$implicit,D=k.\u0275\u0275nextContext(3);return k.\u0275\u0275resetView(D.radioButtonSelectionChanged(A))}),k.\u0275\u0275text(1),k.\u0275\u0275pipe(2,"localize"),k.\u0275\u0275elementEnd()}if(2&a){var u=c.$implicit,b=k.\u0275\u0275nextContext(3);k.\u0275\u0275property("value",u.OptionKey)("checked",b.isArtifactOptionSelected(b.displayError,u)),k.\u0275\u0275attribute("role","radio"),k.\u0275\u0275advance(1),k.\u0275\u0275textInterpolate1(" ",k.\u0275\u0275pipeBind1(2,4,u.OptionMessageKey)," ")}}function xo(a,c){if(1&a&&(k.\u0275\u0275elementStart(0,"tri-radio-group"),k.\u0275\u0275template(1,Io,3,6,"tri-radio-button",21),k.\u0275\u0275elementEnd()),2&a){var d=k.\u0275\u0275nextContext(2);k.\u0275\u0275advance(1),k.\u0275\u0275property("ngForOf",null==d.displayError.interactiveOperationInfo?null:d.displayError.interactiveOperationInfo.options)}}function Mo(a,c){if(1&a&&(k.\u0275\u0275elementContainerStart(0),k.\u0275\u0275template(1,ko,4,4,"ng-container",17),k.\u0275\u0275template(2,xo,2,1,"ng-template",null,18,k.\u0275\u0275templateRefExtractor),k.\u0275\u0275elementContainerEnd()),2&a){var d=k.\u0275\u0275reference(3),u=k.\u0275\u0275nextContext();k.\u0275\u0275advance(1),k.\u0275\u0275property("ngIf",1===u.displayErrorOptionsListSize)("ngIfElse",d)}}var Po=function(){function a(c,d,u){var b,M;this.extensionManifestService=c,this.dialogRef=d,this.data=u,this.localGetArtifactIconFromDict=ho.zp,this.enabledOptions=new Map,this.displayError=(0,X.lz)(this.data.errors),this.displayErrorOptionsListSize=null!==(M=null===(b=this.displayError.interactiveOperationInfo)||void 0===b?void 0:b.options.length)&&void 0!==M?M:0,this.InteractionType=fo}return a.prototype.buttonClicked=function(c){if(c===this.data.buttons[0].name)return this.dialogRef.close(this.getInteractiveOperationsOptions(this.enabledOptions));this.dialogRef.close()},a.prototype.getInteractiveOperationsOptions=function(c){var d=[];return c.forEach(function(u,b){d.push({artifactLogicalId:b,optionName:u})}),{optionPerArtifactList:d}},a.prototype.convertDialogData=function(c){return{title:c.title,buttons:c.buttons}},a.prototype.onArtifactSelectionChange=function(c){var d,u;this.displayError=c,this.displayErrorOptionsListSize=null!==(u=null===(d=this.displayError.interactiveOperationInfo)||void 0===d?void 0:d.options.length)&&void 0!==u?u:0},a.prototype.radioButtonSelectionChanged=function(c){var d;this.enabledOptions.set(null===(d=this.displayError.failedArtifactMetadata)||void 0===d?void 0:d.artifactLogicalId,c.OptionKey),this.data.buttons[0].disabled=this.enabledOptions.size!==this.data.errors.errorsDetails.length},a.prototype.checkBoxSelectionChanged=function(c){var d,u,b;this.enabledOptions.has(null===(d=this.displayError.failedArtifactMetadata)||void 0===d?void 0:d.artifactLogicalId)?this.enabledOptions.delete(null===(u=this.displayError.failedArtifactMetadata)||void 0===u?void 0:u.artifactLogicalId):this.enabledOptions.set(null===(b=this.displayError.failedArtifactMetadata)||void 0===b?void 0:b.artifactLogicalId,c.OptionKey),this.data.buttons[0].disabled=this.enabledOptions.size!==this.data.errors.errorsDetails.length},a.prototype.getOptionsListSize=function(c){var d,u;return null!==(u=null===(d=c.interactiveOperationInfo)||void 0===d?void 0:d.options.length)&&void 0!==u?u:0},a.prototype.getSingleOption=function(c){var d;return null===(d=c.interactiveOperationInfo)||void 0===d?void 0:d.options[0]},a.prototype.getSingleOptionMessageKey=function(c){var d;return null===(d=c.interactiveOperationInfo)||void 0===d?void 0:d.options[0].OptionMessageKey},a.prototype.isArtifactOptionSelected=function(c,d){var u,b=null===(u=c.failedArtifactMetadata)||void 0===u?void 0:u.artifactLogicalId;return d?this.enabledOptions.has(b)&&this.enabledOptions.get(b)===d.OptionKey:this.enabledOptions.has(b)},a.prototype.getArtifactType=function(c){var d;return this.extensionManifestService.getFrontendArtifactType(null===(d=c.failedArtifactMetadata)||void 0===d?void 0:d.artifactType)},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275directiveInject(rn.vC),k.\u0275\u0275directiveInject(lr.so),k.\u0275\u0275directiveInject(lr.WI))},a.\u0275cmp=k.\u0275\u0275defineComponent({type:a,selectors:[["interactive-operations-dialog"]],decls:14,vars:11,consts:[[3,"dialogData","closeButtonLabel","buttonClickEvent"],[1,"subtitle"],[1,"content"],[1,"artifacts"],["linkFormat","tab","direction","vertical",3,"selectedValue","selectedValueChange"],["class","artifact-details",3,"value",4,"ngFor","ngForOf"],[1,"divider"],[1,"options"],["tabindex","0",1,"message"],[1,"options-list-container",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"artifact-details",3,"value"],[1,"check-mark-icon"],["sprite","fluentui-icons","name","checkmark_12_filled",4,"ngIf"],["tri-svg-icon-22","",1,"artifact-icon",3,"sprite","name"],[1,"trimmedTextWithEllipsis"],["sprite","fluentui-icons","name","checkmark_12_filled"],["class","single-option",4,"ngIf","ngIfElse"],["multiOptions",""],[1,"single-option"],["ng-non-bindable","",3,"checked","onChange"],["ng-non-bindable","",3,"value","checked","change",4,"ngFor","ngForOf"],["ng-non-bindable","",3,"value","checked","change"]],template:function(d,u){1&d&&(k.\u0275\u0275elementStart(0,"trident-dialog",0),k.\u0275\u0275listener("buttonClickEvent",function(M){return u.buttonClicked(M)}),k.\u0275\u0275pipe(1,"localize"),k.\u0275\u0275elementStart(2,"div",1),k.\u0275\u0275text(3),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementStart(4,"div",2)(5,"div",3)(6,"tri-pivot",4),k.\u0275\u0275listener("selectedValueChange",function(M){return u.onArtifactSelectionChange(M)}),k.\u0275\u0275template(7,fn,6,6,"tri-pivot-item",5),k.\u0275\u0275elementEnd()(),k.\u0275\u0275element(8,"hr",6),k.\u0275\u0275elementStart(9,"div",7)(10,"div",8),k.\u0275\u0275text(11),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementStart(12,"div",9),k.\u0275\u0275template(13,Mo,4,2,"ng-container",10),k.\u0275\u0275elementEnd()()()()),2&d&&(k.\u0275\u0275property("dialogData",u.convertDialogData(u.data))("closeButtonLabel",k.\u0275\u0275pipeBind1(1,9,"Cancel_ButtonText")),k.\u0275\u0275advance(3),k.\u0275\u0275textInterpolate1(" ",u.data.subTitle," "),k.\u0275\u0275advance(3),k.\u0275\u0275property("selectedValue",u.displayError),k.\u0275\u0275advance(1),k.\u0275\u0275property("ngForOf",u.data.errors.errorsDetails),k.\u0275\u0275advance(3),k.\u0275\u0275attribute("aria-label",null==u.displayError.interactiveOperationInfo?null:u.displayError.interactiveOperationInfo.dialogMessage),k.\u0275\u0275advance(1),k.\u0275\u0275textInterpolate1(" ",null==u.displayError.interactiveOperationInfo?null:u.displayError.interactiveOperationInfo.dialogMessage," "),k.\u0275\u0275advance(1),k.\u0275\u0275property("ngSwitch",null==u.displayError.interactiveOperationInfo?null:u.displayError.interactiveOperationInfo.interactionType),k.\u0275\u0275advance(1),k.\u0275\u0275property("ngSwitchCase",u.InteractionType.SingleOption))},dependencies:[Dn.NgForOf,Dn.NgIf,Dn.NgSwitch,Dn.NgSwitchCase,Co.v,So.M,yo.E,bo.B,dr.r,pr.Y,wo.Z,pe.Y],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px}.subtitle[_ngcontent-%COMP%]{padding:0 0 16px}.artifacts[_ngcontent-%COMP%]   tri-pivot-item[_ngcontent-%COMP%]{width:220px;padding-bottom:10px;margin-inline-end:10px}.artifacts[_ngcontent-%COMP%]   .tri-pivot-item-tab[_ngcontent-%COMP%]{display:flex;gap:4px}.artifacts[_ngcontent-%COMP%]   .check-mark-icon[_ngcontent-%COMP%]{width:20px}hr.divider[_ngcontent-%COMP%]{border:1px solid var(--colorNeutralStroke1);height:inherit;margin:0}[_nghost-%COMP%]     .tri-pivot-item-tab{display:flex;gap:4px}.message[_ngcontent-%COMP%]{font-size:16px;font-weight:600;padding:0 0 10px}.options-list-container[_ngcontent-%COMP%]{max-height:100px;overflow-y:scroll}"],changeDetection:0}),a}(),ur=m(7452),ui=function(){function a(c,d){this.dialogService=c,this.localizationService=d}return a.prototype.isOptionNotEnabled=function(c){return(0,X.lz)(c).workloadErrorCategory===X.QJ},a.prototype.showInteractiveOperationsDialog=function(c,d,u){var b=function(a,c,d){var u=a.get("Cancel_ButtonText"),b=a.get("ModalDialogButtonText_Continue"),M=a.get("Trident_Git_Interactive_Operations_Dialog_Message"),B={title:a.get(d),buttons:[{name:b,label:b,buttonType:"primary",disabled:!0},{name:u,label:u,buttonType:null}],subTitle:M,errors:c};return{componentRef:Po,config:{width:"864px",panelClass:"dialog-style",data:B}}}(this.localizationService,c,d);this.dialogService.open(b.componentRef,b.config).afterClosed().pipe((0,wt.q)(1),(0,Gt.h)(function(M){return M})).subscribe(function(M){u(c,M)})},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(vo.uQ),k.\u0275\u0275inject(ur.z))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),gr=(0,p.P1)(yt,function(a){return a?.gitUpdate||gn}),_r=At.getSelectors(),Do=_r.selectAll,Bo=_r.selectEntities,Go=((0,p.P1)(gr,function(a){return Do(a)}),(0,p.P1)(gr,function(a){return Bo(a)})),gi=function(c){return(0,p.P1)(Go,function(d){return d[c]})},_i=function(){function a(c){this.store=c}return a.prototype.getGitConnection=function(c){return this.store.select(Bt(c))},a.prototype.ensureGitConnection=function(c){return this.store.dispatch(Me({workspaceId:c})),this.getGitConnection(c)},a.prototype.loadGitConnection=function(c){return this.store.dispatch(j({workspaceId:c})),this.getGitConnection(c)},a.prototype.saveGitConnection=function(c){return this.store.dispatch(Be({gitConnection:c})),(0,$e.of)(void 0)},a.prototype.deleteGitConnection=function(c){return this.store.dispatch(vt({workspaceId:c})),(0,$e.of)(void 0)},a.prototype.checkoutBranch=function(c){return this.store.dispatch(Ae({gitCheckoutBranchState:c})),(0,$e.of)(void 0)},a.prototype.getGitConnectionOperationState=function(c){return this.store.select(Bt(c)).pipe((0,Se.U)(function(d){return d&&d.callState||_e.Initial}))},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(p.yh))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),zo=function(){function a(c){this.store=c}return a.prototype.updateFromGit=function(c){return this.store.dispatch(pn({gitUpdateState:c})),this.store.select(gi(c.workspaceId))},a.prototype.getUpdatingState=function(c){return this.store.select(gi(c)).pipe((0,Se.U)(function(d){return d&&d.callState||be.Initial}))},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(p.yh))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Ao=function(){function a(c,d,u,b,M,B,A,D,L,Y){var Q=this;this.actions$=c,this.gitUpdateClient=d,this.gitErrorService=u,this.gitNotificationService=b,this.interactiveOperationsService=M,this.store=B,this.extensionManifestService=A,this.gitConnectionFacade=D,this.gitUpdateFacade=L,this.featureSwitchService=Y,this.updateFromGit$=(0,g.GW)(function(){return Q.actions$.pipe((0,g.l4)(pn),(0,Se.U)(function(ce){var Ie=ce.gitUpdateState,Le=ce.isInitialSync,Ri=Q.gitNotificationService.showLoadingNotification(Le?"Trident_Git_Toast_Initial_Update_Loading":"Trident_Git_Toast_Update_Loading_Title",Le?void 0:"Trident_Git_Toast_Update_Loading_Message");return(0,f.__assign)((0,f.__assign)({},Ie),{isInitialSync:Le,notificationId:Ri})}),(0,ze.w)(function(ce){return Q.gitUpdateClient.UpdateArtifactsFromGit(ce.workspaceId,Q.updateFromGitModelToContract(ce.request)).pipe((0,ze.w)(function(Ie){var Le=(0,f.__assign)((0,f.__assign)({},ce),{response:{almAction:Ie.almOperation}});return[un({gitUpdateState:Le})]}),(0,st.K)(function(Ie){var Le=Q.gitErrorService.makeGitErrorFromHttpResponse("Git_Update_Invalid_Request",Ie);return ce?.notificationId&&(Q.gitNotificationService.showErrorNotification(Le,"Trident_Git_Error_Unable_To_Update_Title",ce.notificationId),Q.gitErrorService.showErrorHandlingDialog(Le)),(0,$e.of)(jn({gitUpdateState:ce,error:Le}))}))}))}),this.getLatestGitAlmOperationSuccess$=(0,g.GW)(function(){return Q.actions$.pipe((0,g.l4)(tt),(0,Se.U)(function(ce){return ce.gitSyncState}),(0,Gt.h)(function(ce){return Q.isLatestOpValid(ce)}),(0,ze.w)(function(ce){return Q.store.select(gi(ce.workspaceId)).pipe((0,wt.q)(1),(0,ze.w)(function(Ie){return Q.getActions(ce,Ie)}))}))})}return a.prototype.isLatestOpValid=function(c){return!!c?.isValid&&c.gitOperationType===X.u9.Update},a.prototype.getActions=function(c,d){var b,u=this,M=d&&d.workspaceId===c.workspaceId?{workspaceId:d.workspaceId,request:d.request,response:d?.response,isInitialSync:d?.isInitialSync,notificationId:d?.notificationId}:{workspaceId:c.workspaceId,request:void 0};switch(c.gitOperationStatus){case X.wM.Successful:return d?.notificationId&&this.gitNotificationService.showSuccessNotification(d?.notificationId?"Trident_Git_Toast_Initial_Action_Success":"Trident_Git_Toast_Update_Success",d.notificationId),(0,f.__spreadArray)((0,f.__spreadArray)([Nt({gitUpdateStateWithResponse:M})],It(M.workspaceId,!0,null!==(b=this.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==b&&b),!0),[Ze({workspaceId:M.workspaceId})],!1);case X.wM.InProgress:return[un({gitUpdateState:M})];case X.wM.Failed:var B=this.gitErrorService.handleAlmGitError("AlmOperationFailed_UpdateFromGit",c);return d?.notificationId&&(this.featureSwitchService.featureSwitches.interactiveOperationUI&&this.interactiveOperationsService.isOptionNotEnabled(B)?(this.interactiveOperationsService.showInteractiveOperationsDialog(B,"Trident_Git_Updates_Fail_Message_Bar",function(A,D){return u.doUpdateFlowWithInteractiveOptions(A,D,c.workspaceId)}),this.gitNotificationService.hideCurrentNotification()):(this.gitNotificationService.showErrorNotification(B,"Trident_Git_Error_Unable_To_Update_Title",d.notificationId),this.gitErrorService.showErrorHandlingDialog(B))),[Kn({gitUpdateState:M,error:B}),Ze({workspaceId:M.workspaceId})]}return[un({gitUpdateState:M})]},a.prototype.updateFromGitModelToContract=function(c){var d,u=this.ConvertArtifactTypesInTree(c.artifactMergePolicyInfoTreeList,this.extensionManifestService);return{targetCommit:c.targetCommit,workspaceHead:null!==(d=c.workspaceHead)&&void 0!==d?d:null,ArtifactMergePolicyInfoTreeList:u,retryOperationId:c.retryOperationId,interactiveUpdateOptions:c.interactiveUpdateOptions}},a.prototype.ConvertArtifactTypesInTree=function(c,d){return c&&c.map(function(u){var b=(0,f.__assign)({},u);return"artifact"in b.root&&(b.root=(0,f.__assign)((0,f.__assign)({},b.root),{artifact:(0,f.__assign)((0,f.__assign)({},b.root.artifact),{artifactType:d.getBackendArtifactType(b.root.artifact.artifactType)})})),b})},a.prototype.doUpdateFlowWithInteractiveOptions=function(c,d,u){var b=this;this.gitConnectionFacade.getGitConnection(u).pipe((0,wt.q)(1)).subscribe(function(M){var B,A,D=null===(B=M?.gitConnectionDetails)||void 0===B?void 0:B.head;b.gitUpdateFacade.updateFromGit({workspaceId:u,request:{workspaceHead:D,targetCommit:void 0,artifactMergePolicyInfoTreeList:void 0,retryOperationId:null===(A=c.errorInfo)||void 0===A?void 0:A.retryOperationId,interactiveUpdateOptions:d}})})},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(g.eX),k.\u0275\u0275inject(ie.Jv),k.\u0275\u0275inject(Tt.jR),k.\u0275\u0275inject(Ft.mn),k.\u0275\u0275inject(ui),k.\u0275\u0275inject(p.yh),k.\u0275\u0275inject(rn.vC),k.\u0275\u0275inject(_i),k.\u0275\u0275inject(zo),k.\u0275\u0275inject(vn.V$))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}();function Ro(a,c){return"Committing ".concat(a.toString()," ").concat(1===a?"item":"items"," from workspace ").concat(c)}var Fo=m(54323),Wo=function(){function a(c,d,u,b,M,B,A){var D=this;this.actions$=c,this.gitInitializationClient=d,this.gitErrorService=u,this.gitNotificationService=b,this.interactiveOperationsService=M,this.telemetryService=B,this.extensionManifestService=A,this.initializeGitConnection$=(0,g.GW)(function(){return D.actions$.pipe((0,g.l4)(z),(0,Se.U)(function(L){return L.gitInitializationState}),(0,ze.w)(function(L){return D.gitInitializationClient.initializeGitConnection(L.workspaceId,D.gitInitializationRequestFromState(L)).pipe((0,ze.w)(function(Y){var Q=(0,f.__assign)((0,f.__assign)({},L),{response:Y});return D.mapInitializationStateToActions(Q)}),(0,st.K)(function(Y){var Q=D.gitErrorService.makeGitErrorFromHttpResponse("Git_Initialization_Failed",Y);return(0,X.E6)(Q)||D.interactiveOperationsService.isOptionNotEnabled(Q)||D.gitNotificationService.showErrorNotification(Q,"Trident_Git_Toast_Initialize_Fail"),(0,$e.of)(I({gitInitializationState:L,error:Q}))}))}))})}return a.prototype.gitInitializationRequestFromState=function(c){return{mergePolicy:c.request.mergePolicy}},a.prototype.mapInitializationStateToActions=function(c){var d;switch(null===(d=c.response)||void 0===d?void 0:d.result){case ie.xU.Completed:if(c.response.incomingChanges&&c.response.incomingChanges.length>0||c.response.uncommittedChanges&&c.response.uncommittedChanges.length>0||!c.response.head){var u=this.gitErrorService.makeClientSideGitError("Git_Initialization_Invalid_Request");return this.gitNotificationService.showErrorNotification(u,"Trident_Git_Toast_Initialize_Fail"),[I({gitInitializationState:c,error:u})]}return[O({gitInitializationStateWithResponse:c}),ct({workspaceId:c.workspaceId})];case ie.xU.UpdateFromGitRequired:if(!c.response.incomingChanges||!c.response.partialSyncBaseCommit)return u=this.gitErrorService.makeClientSideGitError("Git_Initialization_Invalid_Request"),this.gitNotificationService.showErrorNotification(u,"Trident_Git_Toast_Initialize_Fail"),[I({gitInitializationState:c,error:u})];var b=this.createUpdateRequestFromState(c);return this.telemetryService.logEvent({name:"Automatic update after initialization",properties:{workspaceId:c.workspaceId,targetCommit:b.request.targetCommit}}),[O({gitInitializationStateWithResponse:c}),pn({gitUpdateState:b,isInitialSync:!0})];case ie.xU.CommitToGitRequired:var M=this.createCommitRequestFromState(c);return null!=M?(this.telemetryService.logEvent({name:"Automatic commit after initialization",properties:{workspaceId:c.workspaceId,workspaceHead:M.request.workspaceHead}}),[O({gitInitializationStateWithResponse:c}),xn({gitCommitState:M,isInitialSync:!0})]):(u=this.gitErrorService.makeClientSideGitError("Git_Initialization_Invalid_Request"),this.gitNotificationService.showErrorNotification(u,"Trident_Git_Toast_Initialize_Fail"),[I({gitInitializationState:c,error:u})]);default:return u=this.gitErrorService.makeClientSideGitError("Git_Initialization_Invalid_Request"),this.gitNotificationService.showErrorNotification(u,"Trident_Git_Toast_Initialize_Fail"),[I({gitInitializationState:c,error:u})]}},a.prototype.createUpdateRequestFromState=function(c){var d,u=c.response;return{workspaceId:c.workspaceId,request:{targetCommit:u?.partialSyncBaseCommit,workspaceHead:null!==(d=u?.head)&&void 0!==d?d:null}}},a.prototype.createCommitRequestFromState=function(c){var u,b,d=this,M=null===(u=c?.response)||void 0===u?void 0:u.head,B=null===(b=c?.response)||void 0===b?void 0:b.uncommittedChanges;if(!B||!M)return this.gitErrorService.handleClientSideGitError(" Git_Commit_Invalid_Request"),null;var A=B.map(function(D){return nr(D,d.extensionManifestService)});return{workspaceId:c.workspaceId,request:{workspaceHead:M,artifacts:A,comment:Ro(B.length,c.workspaceId)}}},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(g.eX),k.\u0275\u0275inject(ie.Zt),k.\u0275\u0275inject(Tt.jR),k.\u0275\u0275inject(Ft.mn),k.\u0275\u0275inject(ui),k.\u0275\u0275inject(Fo.t),k.\u0275\u0275inject(rn.vC))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),Lo=function(){function a(c,d,u){var b=this;this.actions$=c,this.gitSyncClient=d,this.gitErrorService=u,this.getLatestGitAlmOperation$=(0,g.GW)(function(){return b.actions$.pipe((0,g.l4)(ct),(0,ze.w)(function(M){var B=M.workspaceId,A=M.isInitial;return b.gitSyncClient.getlatestGitOperation(B).pipe((0,Se.U)(function(D){return b.almOperationToSyncModel(D,B,A)}),(0,Se.U)(function(D){return tt({gitSyncState:D})}),(0,st.K)(function(){var D=b.gitErrorService.makeClientSideGitError("Git_Sync_Failed");return(0,$e.of)(gt({workspaceId:B,error:D}))}))}))})}return a.prototype.almOperationToSyncModel=function(c,d,u){var b=this.getGitOperationType(c.operationType),M="0"!==c.objectId&&void 0!==b,B=this.getGitOperationStatus(c.status);return{isValid:M,isInitial:!!u,workspaceId:d,gitOperationId:c.operationId,gitOperationType:b,gitOperationStatus:B,lastUpdatedTime:new Date(c.lastUpdatedTime),gitNonInteractiveOperationErrorDetails:this.getNonInteractiveErrorDetails(c.gitOperationErrorDetailsList),gitInteractiveOperationErrorDetailsList:this.getInteractiveErrorDetails(c.gitOperationErrorDetailsList)}},a.prototype.getInteractiveErrorDetails=function(c){if(!c||!c.some(function(d){var u;return(null===(u=d.artifactErrorDetails)||void 0===u?void 0:u.ErrorCategory)!==X.QJ}))return c},a.prototype.getNonInteractiveErrorDetails=function(c){if(c)return c.find(function(d){var u;return(null===(u=d.artifactErrorDetails)||void 0===u?void 0:u.ErrorCategory)!==X.QJ})},a.prototype.getGitOperationType=function(c){switch(c){case an.CommitToGit:return X.u9.Commit;case an.UpdateFromGit:return X.u9.Update;case an.InitializeWorkspaceGitConnection:return X.u9.Initialize;case an.Undo:return X.u9.Undo;case an.CheckoutBranch:return X.u9.CheckoutBranch;case an.SwitchBranch:return X.u9.SwitchBranch;default:return}},a.prototype.getGitOperationStatus=function(c){return c<pi.FinalBase?X.wM.InProgress:c>=pi.FinalSuccessBase&&c<pi.FinalErrorBase?X.wM.Successful:X.wM.Failed},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(g.eX),k.\u0275\u0275inject(ie.WV),k.\u0275\u0275inject(Tt.jR))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),mr=(0,p.P1)(yt,function(a){return a?.gitUndo||Yn}),vr=$t.getSelectors(),No=vr.selectAll,$o=vr.selectEntities,Uo=((0,p.P1)(mr,function(a){return No(a)}),(0,p.P1)(mr,function(a){return $o(a)})),mi=function(c){return(0,p.P1)(Uo,function(d){return d[c]})},Vo=function(){function a(c){this.store=c}return a.prototype.UndoFromGit=function(c){return this.store.dispatch(Mn({gitUndoState:c})),this.store.select(mi(c.workspaceId))},a.prototype.getUndoState=function(c){return this.store.select(mi(c)).pipe((0,Se.U)(function(d){return d&&d.callState||ne.Initial}))},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(p.yh))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),jo=function(){function a(c,d,u,b,M,B,A,D,L,Y){var Q=this;this.actions$=c,this.gitUndoClient=d,this.gitErrorService=u,this.gitNotificationService=b,this.interactiveOperationsService=M,this.gitUndoFacade=B,this.gitStatusFacade=A,this.gitConnectionFacade=D,this.store=L,this.featureSwitchService=Y,this.undoFromGit$=(0,g.GW)(function(){return Q.actions$.pipe((0,g.l4)(Mn),(0,Se.U)(function(ce){var Ie=ce.gitUndoState,Le=Q.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Undo_Loading_Title","Trident_Git_Toast_Undo_Loading_Message");return(0,f.__assign)((0,f.__assign)({},Ie),{notificationId:Le})}),(0,ze.w)(function(ce){return Q.gitUndoClient.undoCommitArtifacts(ce.workspaceId,Q.fromGitUndoContractToGitUndoRequest(ce.request)).pipe((0,ze.w)(function(Ie){var Le=(0,f.__assign)((0,f.__assign)({},ce),{response:{almAciton:Ie.almOperation}});return[Qt({gitUndoState:Le})]}),(0,st.K)(function(Ie){var Le=Q.gitErrorService.makeGitErrorFromHttpResponse("Git_InvalidUndoRequest",Ie);return ce?.notificationId&&(Q.gitNotificationService.showErrorNotification(Le,"Trident_Git_Error_Unable_To_Undo_Title",ce.notificationId),Q.gitErrorService.showErrorHandlingDialog(Le)),(0,$e.of)(qt({gitUndoState:ce,error:Le}))}))}))}),this.getLatestGitAlmOperationSuccess$=(0,g.GW)(function(){return Q.actions$.pipe((0,g.l4)(tt),(0,Se.U)(function(ce){return ce.gitSyncState}),(0,Gt.h)(function(ce){return Q.isLatestOpValid(ce)}),(0,ze.w)(function(ce){return Q.store.select(mi(ce.workspaceId)).pipe((0,wt.q)(1),(0,ze.w)(function(Ie){return Q.getUndoActions(ce,Ie)}))}))})}return a.prototype.isLatestOpValid=function(c){return!!c?.isValid&&c.gitOperationType===X.u9.Undo},a.prototype.getUndoActions=function(c,d){var b,u=this,M=d&&d.workspaceId===c.workspaceId?{workspaceId:d.workspaceId,request:d.request,response:d?.response,notificationId:d?.notificationId}:{workspaceId:c.workspaceId,request:void 0};switch(c.gitOperationStatus){case X.wM.Successful:return M?.notificationId&&this.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Undo_Success",M.notificationId),this.gitStatusFacade.clearChangesArtifactSelection(M.workspaceId),(0,f.__spreadArray)((0,f.__spreadArray)([Xn({gitUndoStateWithResponse:M})],It(M.workspaceId,!0,null!==(b=this.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==b&&b),!0),[Ze({workspaceId:M.workspaceId})],!1);case X.wM.InProgress:return[Qt({gitUndoState:M})];case X.wM.Failed:var B=this.gitErrorService.handleAlmGitError("AlmOperationFailed_UndoFromGit",c);return M?.notificationId&&(this.featureSwitchService.featureSwitches.interactiveOperationUI&&this.interactiveOperationsService.isOptionNotEnabled(B)?(this.interactiveOperationsService.showInteractiveOperationsDialog(B,"Trident_Git_Error_Undo_Title",function(A,D){return u.undoWithInteractiveOptions(A,D,c.workspaceId)}),this.gitNotificationService.hideCurrentNotification()):(this.gitNotificationService.showErrorNotification(B,"Trident_Git_Error_Unable_To_Undo_Title",M.notificationId),this.gitErrorService.showErrorHandlingDialog(B))),[He({gitUndoState:M,error:B}),Ze({workspaceId:M.workspaceId})]}return[Qt({gitUndoState:M})]},a.prototype.fromGitArtifactToArtifactSelector=function(c){var d,u,b,M=c.artifact;return{artifactType:M.artifactType,etag:M.etag,objectId:M.objectId,logicalId:M.logicalId,changeType:null!==(u=null===(d=c.remoteChange)||void 0===d?void 0:d.changeType)&&void 0!==u?u:null===(b=c?.workspaceChange)||void 0===b?void 0:b.changeType}},a.prototype.fromGitUndoContractToGitUndoRequest=function(c){var u,d=this;return{artifacts:null===(u=c.artifacts)||void 0===u?void 0:u.map(function(M){return d.fromGitArtifactToArtifactSelector(M)}),workspaceHead:c.workspaceHead,retryOperationId:c.retryOperationId,interactiveUpdateOptions:c.interactiveUpdateOptions}},a.prototype.undoWithInteractiveOptions=function(c,d,u){var b=this;this.gitConnectionFacade.getGitConnection(u).pipe((0,wt.q)(1)).subscribe(function(M){var B,A;b.gitUndoFacade.UndoFromGit({workspaceId:u,request:{workspaceHead:null===(B=M?.gitConnectionDetails)||void 0===B?void 0:B.head,artifacts:void 0,retryOperationId:null===(A=c.errorInfo)||void 0===A?void 0:A.retryOperationId,interactiveUpdateOptions:d}})})},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(g.eX),k.\u0275\u0275inject(ie.nD),k.\u0275\u0275inject(Tt.jR),k.\u0275\u0275inject(Ft.mn),k.\u0275\u0275inject(ui),k.\u0275\u0275inject(Vo),k.\u0275\u0275inject(En),k.\u0275\u0275inject(_i),k.\u0275\u0275inject(p.yh),k.\u0275\u0275inject(vn.V$))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),Bn=(0,p.P1)(yt,function(a){return a?.gitSwitchBranch||Zn}),Gn=Ut.getSelectors(),vi=Gn.selectAll,hi=Gn.selectEntities,Ci=((0,p.P1)(Bn,function(a){return vi(a)}),(0,p.P1)(Bn,function(a){return hi(a)})),Cn=function(c){return(0,p.P1)(Ci,function(d){return d[c]})},Si=function(){function a(c,d,u,b,M,B){var A=this;this.actions$=c,this.gitSwitchBranchClient=d,this.gitErrorService=u,this.gitNotificationService=b,this.store=M,this.featureSwitchService=B,this.gitSwitchBranch$=(0,g.GW)(function(){return A.actions$.pipe((0,g.l4)(pt),(0,Se.U)(function(D){var L=D.gitSwitchBranchState,Y=A.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Switch_Branch_Switching_In_Progress_Message");return(0,f.__assign)((0,f.__assign)({},L),{notificationId:Y})}),(0,ze.w)(function(D){return A.gitSwitchBranchClient.switchBranch(D.workspaceId,D.request).pipe((0,ze.w)(function(L){var Y=(0,f.__assign)((0,f.__assign)({},D),{response:{almOperation:L.almOperation}});return A.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Switch_Branch_Success_Message",D.notificationId),[Oe({gitSwitchBranchState:Y})]}),(0,st.K)(function(L){var Y=A.gitErrorService.makeGitErrorFromHttpResponse("Git_Switch_Branch_Failed",L),Q=A.convertToSwitchBranchSpecficError(Y),ce=A.gitErrorService.handleSyncGitError(Q,L);return D?.notificationId&&A.gitNotificationService.showErrorNotification(ce,"Trident_Git_Error_Unable_To_Switch_Branch_Title",D.notificationId),(0,$e.of)(Re({gitSwitchBranchState:D,error:ce}))}))}))}),this.getLatestGitAlmOperationSuccess$=(0,g.GW)(function(){return A.actions$.pipe((0,g.l4)(tt),(0,Se.U)(function(D){return D.gitSyncState}),(0,Gt.h)(function(D){return A.isLatestOpValid(D)}),(0,ze.w)(function(D){return A.store.select(Cn(D.workspaceId)).pipe((0,wt.q)(1),(0,ze.w)(function(L){return A.getSwitchBranchActions(D,L)}))}))})}return a.prototype.getSwitchBranchActions=function(c,d){var u,b=d&&d.workspaceId===c.workspaceId?(0,f.__assign)({},d):{workspaceId:c.workspaceId,request:void 0};if(c)switch(c.gitOperationStatus){case X.wM.Successful:return b?.notificationId&&this.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Switch_Branch_Syncing_Completed_Message",b.notificationId),(0,f.__spreadArray)((0,f.__spreadArray)([_t({gitSwitchBranchState:b})],It(b.workspaceId,!0,null!==(u=this.featureSwitchService.featureSwitches.tridentGitStatusAPI)&&void 0!==u&&u),!0),[Ze({workspaceId:b.workspaceId})],!1);case X.wM.InProgress:return this.setInProgress(b);default:var M=this.gitErrorService.handleAlmGitError("AlmOperationFailed_SwitchGitBranch",c);return b?.notificationId&&this.gitNotificationService.showErrorNotification(M,"Trident_Git_Error_Unable_To_Switch_Branch_Title",b.notificationId),[Ce({gitSwitchBranchState:b}),Ze({workspaceId:b.workspaceId})]}return[Oe({gitSwitchBranchState:b})]},a.prototype.setInProgress=function(c){var d=this.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Switch_Branch_Syncing_In_Progress_Message");return[Oe({gitSwitchBranchState:(0,f.__assign)((0,f.__assign)({},c),{notificationId:d})})]},a.prototype.isLatestOpValid=function(c){return!!c?.isValid&&c.gitOperationType===X.u9.SwitchBranch},a.prototype.convertToSwitchBranchSpecficError=function(c){if(void 0===c)return"Git_Switch_Branch_Invalid_Request";if((0,X.yG)(c))return"Git_Switch_Branch_Item_Not_Found";switch((0,X.lz)(c).errorType){case"Git_MissingDependencies":return"Git_MissingDependenciesSwitchBranch";case"Git_CyclicDependencyDetected":return"Git_CyclicDependencyDetectedSwitchBranch";default:return"Git_Switch_Branch_Invalid_Request"}},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(g.eX),k.\u0275\u0275inject(ie.ZH),k.\u0275\u0275inject(Tt.jR),k.\u0275\u0275inject(Ft.mn),k.\u0275\u0275inject(p.yh),k.\u0275\u0275inject(vn.V$))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),yi=m(17653),wi=m(9398),ki=function(){function a(c,d,u,b,M){var B=this;this.actions$=c,this.router=d,this.gitBranchOutClient=u,this.gitErrorService=b,this.gitNotificationService=M,this.gitBranchOut$=(0,g.GW)(function(){return B.actions$.pipe((0,g.l4)(Je),(0,Se.U)(function(A){var D=A.gitBranchOutState,L=B.gitNotificationService.showLoadingNotification("Trident_Git_Branch_Out","Trident_Git_Toast_Branch_Out_In_Progress_Message");return(0,f.__assign)((0,f.__assign)({},D),{notificationId:L})}),(0,ze.w)(function(A){return B.gitBranchOutClient.branchOut(A.workspaceId,A.request).pipe((0,ze.w)(function(D){var L=(0,f.__assign)((0,f.__assign)({},A),{response:D});return[kt({gitBranchOutState:L})]}),(0,st.K)(function(D){var L=B.gitErrorService.makeGitErrorFromHttpResponse("Git_Branch_Out_Failed",D),Y="Git_Branch_Out_Failed"!==(0,X.lz)(L).errorType&&function(a,c){var d,u,b,M,B,A=null===(B=null===(M=null===(b=null===(u=null===(d=a.error)||void 0===d?void 0:d["pbi.error"])||void 0===u?void 0:u.details)||void 0===b?void 0:b[0])||void 0===M?void 0:M.detail)||void 0===B?void 0:B.value;if(A)try{var D=JSON.parse(A);if(D?.errorSpecificData){var L=JSON.parse(D.errorSpecificData);if(L)return(0,f.__assign)((0,f.__assign)({},c),{response:{folder:L}})}}catch{return null}return null}(D,A)||A;return A?.notificationId&&B.gitNotificationService.showErrorNotification(L,"Trident_Git_Error_Unable_To_Branch_Out_Git_Branch_Fail_Title",A.notificationId),(0,$e.of)(ft({gitBranchOutState:Y,error:L}))}))}))}),this.gitBranchOutSuccess$=(0,g.GW)(function(){return B.actions$.pipe((0,g.l4)(kt),(0,ze.w)(function(A){var D,L,Y,Q=A.gitBranchOutState;if(null!==(D=Q?.response)&&void 0!==D&&D.initializeConnectionStatus){var Ie=Q.response.initializeConnectionStatus.incomingChanges&&(null===(Y=null===(L=Q.response)||void 0===L?void 0:L.initializeConnectionStatus)||void 0===Y?void 0:Y.incomingChanges.length)>0?B.createUpdateRequestFromState(Q):void 0;return(0,$e.of)(lt({gitBranchOutState:Q,gitUpdateState:Ie}))}var Le=B.gitErrorService.makeClientSideGitError("Git_Invalid_Connection_Details");return B.gitNotificationService.showErrorNotification(Le,"Trident_Git_Error_Git_Invalid_Connection_Details_Title"),(0,$e.of)(ft({gitBranchOutState:Q,error:Le}))}))}),this.gitBranchOutCompleted$=(0,g.GW)(function(){return B.actions$.pipe((0,g.l4)(bn),(0,yi.b)(function(A){var D,L,Y;B.navigateToNewWorkspace(null===(D=A.gitBranchOutState.response)||void 0===D?void 0:D.folder.objectId),null!==(L=A.gitBranchOutState)&&void 0!==L&&L.notificationId&&B.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Branch_Out_Success_Message",null===(Y=A.gitBranchOutState)||void 0===Y?void 0:Y.notificationId)}))},{dispatch:!1})}return a.prototype.createUpdateRequestFromState=function(c){var d,u,b,M=null===(d=c.response)||void 0===d?void 0:d.initializeConnectionStatus,B=null===(u=c.response)||void 0===u?void 0:u.folder.objectId;if(M&&B)return{workspaceId:B,request:{targetCommit:M.partialSyncBaseCommit,workspaceHead:null!==(b=M.head)&&void 0!==b?b:null}}},a.prototype.navigateToNewWorkspace=function(c){this.router.navigate(["/groups/".concat(c,"/")],{queryParamsHandling:"preserve"})},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(g.eX),k.\u0275\u0275inject(wi.F0),k.\u0275\u0275inject(ie.su),k.\u0275\u0275inject(Tt.jR),k.\u0275\u0275inject(Ft.mn))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}();function jt(a){var c=JSON.parse(a.connectionDetails);return(0,ie.h_)(c)&&"GitHubSourceControl"===c.extensionDataSourceKind}function Sn(a){var c=JSON.parse(a.connectionDetails);return{id:a.id,datasourceName:a.datasourceName,url:(0,ie.h_)(c)?c.extensionDataSourcePath:"https://github.com"}}function Pi(a){return(0,f.__assign)((0,f.__assign)({},X.I),{datasourceName:a.displayName,datasourceType:X.LO,connectionDetails:JSON.stringify(a?.repositoryUrl?{url:a?.repositoryUrl}:{}),mashupTestConnectionDetails:{functionName:"GitHubSourceControl.Contents",parameters:[(0,f.__assign)((0,f.__assign)({},X.cW),{value:a?.repositoryUrl})]},credentialDetails:(0,f.__assign)((0,f.__assign)({},X.f7),{credentials:JSON.stringify({credentialData:[{name:"key",value:a.personalAccessToken}]})})})}var Oi=function(){function a(c,d,u,b){var M=this;this.actions$=c,this.gitDatasourceClient=d,this.gitErrorService=u,this.gitNotificationService=b,this.loadDatasources$=(0,g.GW)(function(){return M.actions$.pipe((0,g.l4)(_n),(0,ze.w)(function(B){var A,D,L=B.gitDatasourceRequest,Y=null===(A=M.gitDatasourcesConfigRecord[L.gitProviderType])||void 0===A?void 0:A.convertDatasourceContractToModel,Q=null===(D=M.gitDatasourcesConfigRecord[L.gitProviderType])||void 0===D?void 0:D.filterDatasource;if(!Y||!Q){var ce=M.gitErrorService.makeClientSideGitError("Git_UnsupportedGitProvider");return(0,$e.of)(ni({workspaceId:L.workspaceId,error:ce}))}return M.gitDatasourceClient.discoverDatasources().pipe((0,wt.q)(1),(0,Se.U)(function(Ie){return Ie.value.filter(Q)}),(0,Se.U)(function(Ie){return Ie.map(Y)}),(0,ze.w)(function(Ie){var Le,Ri={workspaceId:L.workspaceId,datasourcesRecord:(Le={},Le[L.gitProviderType]=Ie,Le)};return(0,$e.of)(Zi({gitDatasourcesState:Ri}))}),(0,st.K)(function(Ie){var Le=M.gitErrorService.makeGitErrorFromHttpResponse("Git_Load_Datasources_Failed",Ie);return(0,$e.of)(ni({workspaceId:L.workspaceId,error:Le}))}))}))}),this.createDatasource$=(0,g.GW)(function(){return M.actions$.pipe((0,g.l4)(ii),(0,ze.w)(function(B){var A,D=B.request,L=M.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Add_Account_In_Progress_Title","Trident_Git_Toast_Add_Account_In_Progress_Message"),Y=null===(A=M.gitDatasourcesConfigRecord[D.gitProviderType])||void 0===A?void 0:A.convertCreateDatasourceRequestModelToContract;if(!Y){var Q=M.gitErrorService.makeClientSideGitError("Git_UnsupportedGitProvider");return M.gitNotificationService.showErrorNotification(Q,"Trident_Git_Toast_Add_Account_Fail_Title",L),(0,$e.of)(ri({workspaceId:D.workspaceId,error:Q}))}var ce={workspaceId:D.workspaceId,gitProviderType:D.gitProviderType};return M.gitDatasourceClient.createDatasource(Y(D)).pipe((0,ze.w)(function(Ie){return M.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Add_Account_Success",L),[Hr({workspaceId:D.workspaceId,datasourceResponse:Ie}),_n({gitDatasourceRequest:ce})]}),(0,st.K)(function(Ie){var Le=M.gitErrorService.makeGitErrorFromHttpResponse("Git_Create_Datasource_Failed",Ie);return M.gitNotificationService.showErrorNotification(Le,"Trident_Git_Toast_Add_Account_Fail_Title",L),(0,$e.of)(ri({workspaceId:D.workspaceId,error:Le}))}))}))}),this.gitDatasourcesConfigRecord=function(){var a;return(a={})[X.IS.AzureDevOps]={},a[X.IS.GitHub]={filterDatasource:jt,convertDatasourceContractToModel:Sn,convertCreateDatasourceRequestModelToContract:Pi},a}()}return a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(g.eX),k.\u0275\u0275inject(ie.aw),k.\u0275\u0275inject(Tt.jR),k.\u0275\u0275inject(Ft.mn))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),Ei=function(){function a(c,d,u,b){var M=this;this.actions$=c,this.gitNotificationService=d,this.gitErrorService=u,this.gitRepairClient=b,this.gitRepairItems$=(0,g.GW)(function(){return M.actions$.pipe((0,g.l4)(Ji),(0,Se.U)(function(B){var A=B.gitRepairState,D=M.gitNotificationService.showLoadingNotification("Trident_Git_Toast_Repair_Loading_Message");return(0,f.__assign)((0,f.__assign)({},A),{notificationId:D})}),(0,ze.w)(function(B){return M.gitRepairClient.gitRepairItems(B.workspaceId,B.request).pipe((0,ze.w)(function(A){var D=(0,f.__assign)((0,f.__assign)({},B),{response:A});return(0,$e.of)(qi({gitRepairStateWithResponse:D}))}),(0,st.K)(function(A){var D=M.gitErrorService.makeGitErrorFromHttpResponse("Git_Repair_Items_Failed",A);return B?.notificationId&&(M.gitNotificationService.showErrorNotification(D,"Trident_Git_Error_Unable_To_Repair_Items_Title",B.notificationId),M.gitErrorService.showErrorHandlingDialog(D)),(0,$e.of)(er({gitRepairState:B,error:D}))}))}))})}return a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(g.eX),k.\u0275\u0275inject(Ft.mn),k.\u0275\u0275inject(Tt.jR),k.\u0275\u0275inject(ie.P9))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a}(),Wt=function(){function a(){}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=k.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=k.\u0275\u0275defineInjector({imports:[p.Aw.forFeature("git",qr),g.sQ.forFeature([ao]),g.sQ.forFeature([hn]),g.sQ.forFeature([mo]),g.sQ.forFeature([Ao]),g.sQ.forFeature([Wo]),g.sQ.forFeature([Lo]),g.sQ.forFeature([jo]),g.sQ.forFeature([Si]),g.sQ.forFeature([ki]),g.sQ.forFeature([Oi]),g.sQ.forFeature([Ei]),ie.Ug]}),a}(),Jt=(0,p.P1)(yt,function(a){return a?.gitInitialization||$}),Di=Yt.getSelectors(),hr=Di.selectAll,fr=Di.selectEntities,Cr=((0,p.P1)(Jt,function(a){return hr(a)}),(0,p.P1)(Jt,function(a){return fr(a)})),yr=function(){function a(c){this.store=c}return a.prototype.getGitInitializationState=function(c){return this.store.select(function(c){return(0,p.P1)(Cr,function(d){return d[c]})}(c))},a.prototype.initializeGitConnection=function(c){return this.store.dispatch(z({gitInitializationState:c})),this.getGitInitializationState(c.workspaceId)},a.prototype.invalidateGitConnectionInitialization=function(c){return this.store.dispatch(y({workspaceId:c})),(0,$e.of)(void 0)},a.prototype.getGitInitializationCallState=function(c){return this.getGitInitializationState(c).pipe((0,Se.U)(function(d){return d&&d.callState||_e.Initial}))},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(p.yh))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Bi=(0,p.P1)(yt,function(a){return a?.gitSync||F}),Gi=ut.getSelectors(),br=Gi.selectAll,wr=Gi.selectEntities,zi=((0,p.P1)(Bi,function(a){return br(a)}),(0,p.P1)(Bi,function(a){return wr(a)}),(0,p.P1)(yt,function(a){return a?.gitProgressIndicator||Qn})),Ai=Ve.getSelectors(),Ir=Ai.selectAll,xr=Ai.selectEntities,Zo=((0,p.P1)(zi,function(a){return Ir(a)}),(0,p.P1)(zi,function(a){return xr(a)}),function(){function a(c){this.store=c}return a.prototype.switchBranch=function(c){return this.store.dispatch(pt({gitSwitchBranchState:c})),this.store.select(Cn(c.workspaceId))},a.prototype.getSwitchBranchState=function(c){return this.store.select(Cn(c)).pipe((0,Se.U)(function(d){return d&&d.callState||Te.Initial}))},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(p.yh))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}()),zn=(0,p.P1)(yt,function(a){return a?.gitSessionStorage||qn}),An=Xe.getSelectors(),Jo=An.selectAll,qo=An.selectEntities,Pr=((0,p.P1)(zn,function(a){return Jo(a)}),(0,p.P1)(zn,function(a){return qo(a)})),Rn=function(){function a(c){this.store=c}return a.prototype.selectGitProviderType=function(c,d){this.store.dispatch(Jn({workspaceId:c,gitProviderType:d}))},a.prototype.selectDatasource=function(c,d){this.store.dispatch(Ee({workspaceId:c,datasourceOID:d}))},a.prototype.selectTempDatasource=function(c,d){this.store.dispatch(je({workspaceId:c,datasourceOID:d}))},a.prototype.selectOrganization=function(c,d){this.store.dispatch(Pt({workspaceId:c,organization:d}))},a.prototype.selectRepository=function(c,d){this.store.dispatch(Vt({workspaceId:c,repository:d}))},a.prototype.selectBranch=function(c,d){this.store.dispatch(Ke({workspaceId:c,branch:d}))},a.prototype.selectRootDirectory=function(c,d){this.store.dispatch(We({workspaceId:c,directory:d}))},a.prototype.selectUserAccount=function(c,d){this.store.dispatch(Yi({workspaceId:c,userAccount:d}))},a.prototype.setDatasourceUrl=function(c,d,u){this.store.dispatch(St({workspaceId:c,organization:d,repository:u}))},a.prototype.selectWorkspaceCapacity=function(c,d){this.store.dispatch(nt({workspaceId:c,isWorkspaceOnCapacity:d}))},a.prototype.resetDatasourceUrl=function(c){this.store.dispatch(en({workspaceId:c}))},a.prototype.loadGitSessionStorage=function(c){return this.store.select(function(c){return(0,p.P1)(Pr,function(d){return d[c]})}(c)).pipe((0,Se.U)(function(d){return d??{workspaceId:c}}))},a.prototype.configureCredentials=function(c){this.store.dispatch(Tn({workspaceId:c}))},a.prototype.deleteCredentials=function(c){this.store.dispatch(tn({workspaceId:c}))},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(p.yh))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Mt=(0,p.P1)(yt,function(a){return a?.gitBranchOut||ei}),Tr=Rt.getSelectors(),ta=Tr.selectAll,na=Tr.selectEntities,Or=((0,p.P1)(Mt,function(a){return ta(a)}),(0,p.P1)(Mt,function(a){return na(a)}),(0,p.P1)(yt,function(a){return a?.gitDatasources||oi})),Er=nn.getSelectors(),ra=Er.selectAll,oa=Er.selectEntities,aa=((0,p.P1)(Or,function(a){return ra(a)}),(0,p.P1)(Or,function(a){return oa(a)})),Dr=function(c){return(0,p.P1)(aa,function(d){return d[c]})},sa=function(){function a(c){this.store=c}return a.prototype.getDatasources=function(c){return this.store.select(Dr(c.workspaceId)).pipe((0,Se.U)(function(d){return{workspaceId:c.workspaceId,datasourcesRecord:d?.datasourcesRecord,callState:d?.callState||et.Initial}}))},a.prototype.loadDatasources=function(c){return this.store.dispatch(_n({gitDatasourceRequest:c})),this.getDatasources(c)},a.prototype.createDatasource=function(c){return this.store.dispatch(ii({request:c})),(0,$e.of)(void 0)},a.prototype.getDataSourcesCallState=function(c){return this.store.select(Dr(c)).pipe((0,Se.U)(function(d){return d?.callState||et.Initial}))},a.\u0275fac=function(d){return new(d||a)(k.\u0275\u0275inject(p.yh))},a.\u0275prov=k.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Br=(0,p.P1)(yt,function(a){return a?.gitRepair||ai}),Gr=mn.getSelectors(),ca=Gr.selectAll,la=Gr.selectEntities;(0,p.P1)(Br,function(a){return ca(a)}),(0,p.P1)(Br,function(a){return la(a)})},82042:function(qe,xe,m){m.d(xe,{Z:function(){return N},y:function(){return e}});var g=m(59973),p=m(24851),ie=m(8255),f=m(50423),J=m(77476),S=function(ee,x){return[ee,x]},N=function(){return function(ee){this.domainObjectId=ee}}(),e=function(){function U(ee,x,oe){this.domainsCoreService=ee,this.changeDetectorRef=x,this.domainImageComponentData=oe,this.domainObjectId="",this.domainRoundedImageId=(0,ie.u2)(ie.CG),this.isColorBackground=!1}return U.prototype.ngOnInit=function(){var ee,x;null!==(ee=this.domainImageComponentData)&&void 0!==ee&&ee.domainObjectId&&!this.domainObjectId&&(this.domainObjectId=null===(x=this.domainImageComponentData)||void 0===x?void 0:x.domainObjectId,this.initBrandingData())},U.prototype.ngOnChanges=function(){this.initBrandingData()},U.prototype.ngOnDestroy=function(){var ee;null===(ee=this.getDomainBrandingSubscription)||void 0===ee||ee.unsubscribe()},U.prototype.initBrandingData=function(){var x,ee=this;if(!this.domainObjectId)return this.domainRoundedImageId=(0,ie.u2)(ie.CG),void(this.isColorBackground=!1);this.domainsCoreService.loadDomainBranding(this.domainObjectId),null===(x=this.getDomainBrandingSubscription)||void 0===x||x.unsubscribe(),this.getDomainBrandingSubscription=this.domainsCoreService.getDomain(this.domainObjectId).pipe((0,g.h)(function(oe){return!!oe})).subscribe(function(oe){var ue,V,h=(null===(ue=oe.branding)||void 0===ue?void 0:ue.backgroundId)||ie.CG;ee.isColorBackground=(0,ie.e7)(h),ee.domainRoundedImageId=(0,ie.u2)(h),null===(V=ee.changeDetectorRef)||void 0===V||V.markForCheck()})},U.\u0275fac=function(x){return new(x||U)(f.\u0275\u0275directiveInject(p.wB),f.\u0275\u0275directiveInject(f.ChangeDetectorRef),f.\u0275\u0275directiveInject(N,8))},U.\u0275cmp=f.\u0275\u0275defineComponent({type:U,selectors:[["trident-domain-rounded-image"]],inputs:{domainObjectId:"domainObjectId"},features:[f.\u0275\u0275NgOnChangesFeature],decls:1,vars:4,consts:[[1,"image",3,"ngClass"]],template:function(x,oe){1&x&&f.\u0275\u0275element(0,"div",0),2&x&&f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction2(1,S,oe.domainRoundedImageId,oe.isColorBackground?"color":""))},dependencies:[J.NgClass],styles:[".image-domain-background-1[_ngcontent-%COMP%]{background:url(/minerva/images/background1.png)}.image-domain-background-2[_ngcontent-%COMP%]{background:url(/minerva/images/background2.png)}.image-domain-background-3[_ngcontent-%COMP%]{background:url(/minerva/images/background3.png)}.image-domain-background-4[_ngcontent-%COMP%]{background:url(/minerva/images/background4.png)}.image-domain-background-5[_ngcontent-%COMP%]{background:url(/minerva/images/background5.png)}.image-domain-background-6[_ngcontent-%COMP%]{background:url(/minerva/images/background6.png)}.image-domain-background-7[_ngcontent-%COMP%]{background:url(/minerva/images/background7.png)}.image-domain-background-8[_ngcontent-%COMP%]{background:url(/minerva/images/background8.png)}.image-domain-background-9[_ngcontent-%COMP%]{background:url(/minerva/images/background9.png)}.image-domain-background-10[_ngcontent-%COMP%]{background:url(/minerva/images/background10.png)}.image-domain-background-11[_ngcontent-%COMP%]{background:url(/minerva/images/background11.png)}.image-domain-background-12[_ngcontent-%COMP%]{background:url(/minerva/images/background12.png)}.image-domain-background-13[_ngcontent-%COMP%]{background:url(/minerva/images/background13.png)}.image-domain-background-14[_ngcontent-%COMP%]{background:url(/minerva/images/background14.png)}.image-domain-background-15[_ngcontent-%COMP%]{background:url(/minerva/images/background15.png)}.image-domain-background-16[_ngcontent-%COMP%]{background:#FFDAC6}.image-domain-background-17[_ngcontent-%COMP%]{background:#F0F4DD}.image-domain-background-18[_ngcontent-%COMP%]{background:#E8E8FF}.image-domain-background-19[_ngcontent-%COMP%]{background:#D7ECFF}.image-domain-background-20[_ngcontent-%COMP%]{background:#E3F7EF}.image-domain-background-1-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Background1Thumbnail.png)}.image-domain-background-2-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Background2Thumbnail.png)}.image-domain-background-3-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Background3Thumbnail.png)}.image-domain-background-4-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Background4Thumbnail.png)}.image-domain-background-5-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Background5Thumbnail.png)}.image-domain-background-6-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Background6Thumbnail.png)}.image-domain-background-7-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Background7Thumbnail.png)}.image-domain-background-8-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Background8Thumbnail.png)}.image-domain-background-9-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Background9Thumbnail.png)}.image-domain-background-10-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/Background10Thumbnail.png)}.image-domain-background-11-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/background11Thumbnail.png)}.image-domain-background-12-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/background12Thumbnail.png)}.image-domain-background-13-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/background13Thumbnail.png)}.image-domain-background-14-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/background14Thumbnail.png)}.image-domain-background-15-thumbnail[_ngcontent-%COMP%]{background:url(/minerva/images/background15Thumbnail.png)}.image-domain-background-1-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Background1Rounded.png)}.image-domain-background-2-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Background2Rounded.png)}.image-domain-background-3-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Background3Rounded.png)}.image-domain-background-4-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Background4Rounded.png)}.image-domain-background-5-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Background5Rounded.png)}.image-domain-background-6-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Background6Rounded.png)}.image-domain-background-7-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Background7Rounded.png)}.image-domain-background-8-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Background8Rounded.png)}.image-domain-background-9-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Background9Rounded.png)}.image-domain-background-10-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Background10Rounded.png)}.image-domain-background-11-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Background11Rounded.png)}.image-domain-background-12-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Background12Rounded.png)}.image-domain-background-13-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Background13Rounded.png)}.image-domain-background-14-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Background14Rounded.png)}.image-domain-background-15-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/Background15Rounded.png)}.image-domain-background-default-rounded[_ngcontent-%COMP%]{background:url(/minerva/images/DefaultBackgroundRounded.png)}.image[_ngcontent-%COMP%]{width:24px;height:24px;background-position:left;background-repeat:no-repeat;background-size:contain}.color[_ngcontent-%COMP%]{border-radius:var(--borderRadiusCircular)}"],changeDetection:0}),U}()},66154:function(qe,xe,m){m.d(xe,{N8:function(){return ee},Ts:function(){return x},Q2:function(){return ue}});var g=m(81337),p=m(59623),ie=m(8816),f=m(50423),J=m(77476);function S(h,W){if(1&h&&(f.\u0275\u0275elementStart(0,"div",3),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&h){var K=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(K.domainsTooltipData.data.description)}}var N=function(){function h(W){this.domainsTooltipData=W}return h.\u0275fac=function(K){return new(K||h)(f.\u0275\u0275directiveInject(ie.WF))},h.\u0275cmp=f.\u0275\u0275defineComponent({type:h,selectors:[["trident-domain-info-tooltip"]],decls:4,vars:2,consts:[[1,"tooltip-container"],[1,"tooltip-title"],["class","tooltip-content",4,"ngIf"],[1,"tooltip-content"]],template:function(K,H){1&K&&(f.\u0275\u0275elementStart(0,"div",0)(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(3,S,2,1,"div",2),f.\u0275\u0275elementEnd()),2&K&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(H.domainsTooltipData.data.displayName),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",H.domainsTooltipData.data.description))},dependencies:[J.NgIf],styles:[".tooltip-container[_ngcontent-%COMP%]{display:contents}"],changeDetection:0}),h}(),e=m(82042),U=function(W,K){return W.text.localeCompare(K.text)},ee={border:"none"};function x(h,W,K,H){var te=[],_e=new Map,De=[],ne=[];return h.forEach(function(be){if(be.parentObjectId){var we=oe(be,p.fz.Button,be.parentObjectId,be.objectId===K,void 0,void 0,!1),Te=_e.get(be.parentObjectId)||[];Te.push(we),_e.set(be.parentObjectId,Te),De.push(we)}}),h.forEach(function(be){if(!be.parentObjectId){var we=_e.get(be.objectId),Te=oe(be,p.fz.Button,be.objectId,be.objectId===K,we?"".concat(W.get("All")," ")+be.displayName:void 0,void 0,H&&!we);if(De.push(Te),!we)return void te.push(Te);var Ye=oe(be,p.fz.SubMenu,void 0,we?function(h){return _.some(h,function(W){return W.checked})}(we)||Te.checked:void 0,void 0,{items:(0,g.__spreadArray)([Te,{type:p.fz.Divider}],we.sort(U),!0)},H);ne.push(Ye),te.push(Ye)}}),{menu:{items:te.sort(U)},menuButtons:De,submenus:ne}}function oe(h,W,K,H,te,_e,De){return(0,g.__assign)((0,g.__assign)((0,g.__assign)({type:W,id:h.objectId,text:te||h.displayName,styles:ee,data:{domainDisplayName:h.displayName,parentObjectId:K},checkable:!0,checked:H},De?{imageComponent:{imageComponent:e.y,injector:f.Injector.create({providers:[{provide:e.Z,useValue:new e.Z(h.objectId)}]})}}:{}),W===p.fz.Button?{tooltip:N,tooltipComponentData:{data:{displayName:h.displayName,description:h.description}},ariaLabel:te||h.displayName}:{}),W===p.fz.SubMenu?{menu:_e}:{})}function ue(h,W,K){var H,te=null===(H=W.data)||void 0===H?void 0:H.parentObjectId;if(te){var _e=K.find(function(De){return De.id===te});_e&&(_e.checked=h)}}},10510:function(qe,xe,m){m.d(xe,{Gg:function(){return ee.Gg},eL:function(){return ee.eL},rC:function(){return ee.rC},AC:function(){return ee.AC},a6:function(){return O},FF:function(){return _t},Mv:function(){return ee.Mv},rl:function(){return y.rl},EI:function(){return y.EI}}),m(81544);var p=m(32293),ie=m(35510),f=m(11547),J=m(48787),S=m(17653),N=m(59822),e=m(18016),U=m(65232),ee=m(40773),x=m(50423),oe=m(7452),ue=m(54323),V=m(77476),h=m(17174),W=m(95825),K=m(65e3),H=m(74913),te=m(55490),_e=m(20551),De=m(64716),ne=m(85721),be=m(89237),we=m(55334);function Te(Oe,Ce){if(1&Oe&&(x.\u0275\u0275elementContainerStart(0),x.\u0275\u0275elementStart(1,"div",14),x.\u0275\u0275element(2,"tri-svg-icon",15),x.\u0275\u0275elementStart(3,"span"),x.\u0275\u0275text(4),x.\u0275\u0275elementEnd()(),x.\u0275\u0275elementContainerEnd()),2&Oe){var Re=x.\u0275\u0275nextContext();x.\u0275\u0275advance(1),x.\u0275\u0275attribute("data-testid","tri-git-connection-details-settings-v2-directory-error"),x.\u0275\u0275advance(1),x.\u0275\u0275property("name","error_circle_12_filled"),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate1(" ",Re.branchNameInputError$.value," ")}}function Ye(Oe,Ce){if(1&Oe&&(x.\u0275\u0275elementStart(0,"tri-dropdown-item",16)(1,"p"),x.\u0275\u0275text(2),x.\u0275\u0275elementEnd()()),2&Oe){var Re=Ce.$implicit;x.\u0275\u0275property("value",Re),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate(Re.text)}}var et=function(Ce){return{error:Ce}},P="cancelButton",z="createButton",O=function(){function Oe(Ce,Re,Je,kt,ft,lt,bn){this.data=Ce,this.cdr=Re,this.dr=Je,this.gitConnectionDiscoveryService=kt,this.localizationService=ft,this.telemetryService=lt,this.gitErrorService=bn,this._isCreateButtonEnabled=!1,this._isCreateButtonLoading=!1,this.branchNameInputError$=new ie.X(void 0),this.unfiliteredBranchesList=this.data.branchesList.map(function(wn){return{key:wn,text:wn}}),this.filteredBranchesList=this.unfiliteredBranchesList,this.dialogData={title:this.localizationService.get("Trident_Git_Create_New_Branch"),buttons:[{name:z,label:this.localizationService.get("Create_ButtonText"),buttonType:"primary",disabled:!this.isCreateButtonEnabled,isLoading:this.isCreateButtonLoading},{name:P,label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]}}return Oe.prototype.onBranchNameChange=function(Ce){this.branchName=Ce,this.branchNameInputError$.next(this.validateBranchName(Ce)),this.calculateCreateButtonState()},Oe.prototype.onParentBranchNameChange=function(Ce){this.parentBranch=Ce?.text,this.calculateCreateButtonState()},Oe.prototype.onBranchesSearch=function(Ce){this.filteredBranchesList=this.unfiliteredBranchesList.filter(function(Re){return!Ce||Re.text.toLowerCase().includes(Ce.toLowerCase())})},Oe.prototype.clickButton=function(Ce){Ce===z?this.handleCreateBranchRequest():Ce===P&&this.dr.close()},Oe.prototype.handleCreateBranchRequest=function(){var Re,Ce=this;if(this.isCreateButtonLoading=!0,this.branchNameInputError$.next(void 0),!this.branchName)return this.isCreateButtonLoading=!1,void this.branchNameInputError$.next(this.localizationService.get("Trident_Git_Error_Git_InvalidBranchName_Message"));if(!this.parentBranch)return this.isCreateButtonLoading=!1,void this.branchNameInputError$.next(this.localizationService.get("Trident_Git_Error_Git_Create_Branch_Origin_Branch_Not_Found_Message"));if(void 0===this.data.details.gitProviderType||!this.data.details.organizationName||!this.data.details.repositoryName)return this.isCreateButtonLoading=!1,void this.branchNameInputError$.next(this.localizationService.get("Trident_Git_Error_Git_Create_Branch_Failed_Message"));var Je={branchName:this.branchName,parentBranchName:this.parentBranch,organizationName:this.data.details.organizationName,providerType:this.data.details.gitProviderType,repositoryId:this.data.details.repositoryName,projectName:this.data.details.projectName,datasourceOID:null===(Re=this.data.details)||void 0===Re?void 0:Re.datasourceOID,workspaceId:this.data.workspaceId};this.gitConnectionDiscoveryService.createBranch(Je).pipe((0,J.q)(1),(0,S.b)(function(){Ce.isCreateButtonLoading=!1,Ce.telemetryService.logEvent({name:"Create branch request",properties:{isWorkspaceConnected:Ce.data.isWorkspaceConnected}}),Ce.dr.close(Ce.branchName)}),(0,N.K)(function(kt){var ft,lt=null===(ft=Ce.gitErrorService.makeGitErrorFromHttpResponse("Git_Create_Branch_Failed",kt))||void 0===ft?void 0:ft.errorsDetails[0];return lt&&Ce.gitErrorService.isDedicatedErrorMessageAvailable(lt.errorType)?Ce.branchNameInputError$.next(lt.message):Ce.branchNameInputError$.next(Ce.localizationService.get("Trident_Git_Error_Git_Create_Branch_Failed_Message")),Ce.isCreateButtonLoading=!1,(0,f.of)()})).subscribe()},Oe.prototype.validateBranchName=function(Ce){return(0,e.tI)(Ce,this.localizationService)},Oe.prototype.calculateCreateButtonState=function(){this.isCreateButtonEnabled=void 0!==this.branchName&&""!==this.branchName&&void 0!==this.parentBranch&&void 0===this.branchNameInputError$.value},Oe.prototype.getDropDownOptions=function(){return{showFullContent:!1,dropdownHeight:this.filteredBranchesList.length>1?200:76,dropdownWidth:304}},Oe.prototype.getDropdownOverlayOptions=function(Ce){return{dropdownHeight:30*Math.max(Math.min(Ce,12),1)+34}},Object.defineProperty(Oe.prototype,"isCreateButtonEnabled",{get:function(){return this._isCreateButtonEnabled},set:function(Re){this._isCreateButtonEnabled=Re,this.dialogData.buttons[0].disabled=!Re},enumerable:!1,configurable:!0}),Object.defineProperty(Oe.prototype,"isCreateButtonLoading",{get:function(){return this._isCreateButtonLoading},set:function(Re){this._isCreateButtonLoading=Re,this.dialogData.buttons[0].isLoading=Re,this.dialogData.buttons[0].label=this.localizationService.get(Re?"CapacityProvisioning_SpinnerText":"Create_ButtonText"),this.cdr.detectChanges()},enumerable:!1,configurable:!0}),Oe.\u0275fac=function(Re){return new(Re||Oe)(x.\u0275\u0275directiveInject(p.WI),x.\u0275\u0275directiveInject(x.ChangeDetectorRef),x.\u0275\u0275directiveInject(p.so),x.\u0275\u0275directiveInject(ee.eL),x.\u0275\u0275directiveInject(oe.z),x.\u0275\u0275directiveInject(ue.t),x.\u0275\u0275directiveInject(U.jR))},Oe.\u0275cmp=x.\u0275\u0275defineComponent({type:Oe,selectors:[["tri-git-create-branch"]],decls:33,vars:37,consts:[[3,"dialogData","buttonClickEvent"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2235132","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon"],[1,"accordion-area"],[1,"branch-name-input"],[1,"mandatory"],["type","text",3,"ngClass","ngModel","placeholder","ngModelChange"],[4,"ngIf"],[1,"parent-branch-selection"],[1,"header-and-tooltip"],["id","select-origin-branch-dropdown-label-v2"],["tri-svg-icon-16","",3,"name","triTooltip"],["aria-labelledby","select-origin-branch-dropdown-label-V2",3,"ngModel","isDisabled","options","valueChange"],[1,"dropdown-search",3,"value"],[3,"value",4,"ngFor","ngForOf"],["tri-textfield-error","",1,"error-message"],["tri-svg-icon-12","",3,"name"],[3,"value"]],template:function(Re,Je){var kt;(1&Re&&(x.\u0275\u0275elementStart(0,"trident-dialog",0),x.\u0275\u0275listener("buttonClickEvent",function(lt){return Je.clickButton(lt)}),x.\u0275\u0275elementStart(1,"div"),x.\u0275\u0275text(2),x.\u0275\u0275pipe(3,"localize"),x.\u0275\u0275elementStart(4,"tri-link",1),x.\u0275\u0275text(5),x.\u0275\u0275pipe(6,"localize"),x.\u0275\u0275elementEnd()(),x.\u0275\u0275elementStart(7,"div",2)(8,"div",3)(9,"h4"),x.\u0275\u0275text(10),x.\u0275\u0275pipe(11,"localize"),x.\u0275\u0275elementStart(12,"span",4),x.\u0275\u0275text(13," *"),x.\u0275\u0275elementEnd()(),x.\u0275\u0275elementStart(14,"input",5),x.\u0275\u0275listener("ngModelChange",function(lt){return Je.onBranchNameChange(lt)}),x.\u0275\u0275pipe(15,"localize"),x.\u0275\u0275elementEnd(),x.\u0275\u0275template(16,Te,5,3,"ng-container",6),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(17,"div",7)(18,"div",8)(19,"h4",9),x.\u0275\u0275text(20),x.\u0275\u0275pipe(21,"localize"),x.\u0275\u0275elementStart(22,"span",4),x.\u0275\u0275text(23," *"),x.\u0275\u0275elementEnd()(),x.\u0275\u0275element(24,"tri-svg-icon",10),x.\u0275\u0275pipe(25,"localize"),x.\u0275\u0275pipe(26,"localize"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(27,"tri-dropdown",11),x.\u0275\u0275listener("valueChange",function(lt){return Je.onParentBranchNameChange(lt)}),x.\u0275\u0275elementStart(28,"tri-dropdown-trigger"),x.\u0275\u0275text(29),x.\u0275\u0275pipe(30,"localize"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(31,"tri-search-box",12),x.\u0275\u0275listener("value",function(lt){return Je.onBranchesSearch(lt)}),x.\u0275\u0275elementEnd(),x.\u0275\u0275template(32,Ye,3,2,"tri-dropdown-item",13),x.\u0275\u0275elementEnd()()()()),2&Re)&&(x.\u0275\u0275property("dialogData",Je.dialogData),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate1(" ",x.\u0275\u0275pipeBind1(3,19,"Trident_Git_Create_New_Branch_Info")," "),x.\u0275\u0275advance(3),x.\u0275\u0275textInterpolate1(" ",x.\u0275\u0275pipeBind1(6,21,"LearnMore")," "),x.\u0275\u0275advance(5),x.\u0275\u0275textInterpolate1(" ",x.\u0275\u0275pipeBind1(11,23,"Trident_Git_Branch_Name")," "),x.\u0275\u0275advance(4),x.\u0275\u0275property("ngClass",x.\u0275\u0275pureFunction1(35,et,void 0!==Je.branchNameInputError$.value))("ngModel",Je.branchName)("placeholder",x.\u0275\u0275pipeBind1(15,25,"Trident_Git_Branch_Name")),x.\u0275\u0275attribute("data-testid","branch-name-text-input"),x.\u0275\u0275advance(2),x.\u0275\u0275property("ngIf",void 0!==Je.branchNameInputError$.value),x.\u0275\u0275advance(4),x.\u0275\u0275textInterpolate1(" ",x.\u0275\u0275pipeBind1(21,27,"Trident_Git_Create_New_Branch_Create_From")," "),x.\u0275\u0275advance(4),x.\u0275\u0275property("name","info_16_regular")("triTooltip",x.\u0275\u0275pipeBind1(25,29,"Trident_Git_Create_New_Branch_Tooltip")),x.\u0275\u0275attribute("aria-label",x.\u0275\u0275pipeBind1(26,31,"Trident_Git_Create_New_Branch_Tooltip")),x.\u0275\u0275advance(3),x.\u0275\u0275property("ngModel",Je.parentBranch)("isDisabled",0===Je.data.branchesList.length)("options",Je.getDropDownOptions()),x.\u0275\u0275attribute("data-testid","parent-branch-dropdown"),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate1(" ",null!==(kt=Je.parentBranch)&&void 0!==kt?kt:x.\u0275\u0275pipeBind1(30,33,"Trident_Git_Create_New_Branch_Choose_Parent_Branch")," "),x.\u0275\u0275advance(3),x.\u0275\u0275property("ngForOf",Je.filteredBranchesList))},dependencies:[V.NgClass,V.NgForOf,V.NgIf,h.Fj,h.JJ,h.On,W.v,K.v,H.M,te.Z,_e.M3,De.l,ne.q,_e.ii,be.U,we.Y],styles:["[_nghost-%COMP%]     mat-dialog-content{display:flex;flex-direction:column;font-size:var(--fontSizeBase300)}[_nghost-%COMP%]     .mat-mdc-dialog-content.dialog-body{display:flex;flex-direction:column;gap:16px;max-height:none}.accordion-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;padding:24px;border:1px solid var(--globalColorGrey82);border-radius:8px;gap:24px;height:100%}.accordion-area[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold);margin:0 0 4px}.accordion-area[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span.mandatory[_ngcontent-%COMP%]{color:var(--globalColorRedShade10)}.accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid var(--globalColorGrey38);border:1px solid var(--globalColorGrey82);border-radius:4px;padding:6px 10px 6px 12px;box-sizing:border-box}.accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid var(--globalColorBrand80)}.accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   .input-error[_ngcontent-%COMP%]{border-color:var(--colorPaletteRedForeground1)}.accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]{margin-bottom:12px;display:flex;flex-direction:column;gap:4px}.accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-and-tooltip[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:20px}.accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-and-tooltip[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38)}tri-dropdown[_ngcontent-%COMP%]{width:100%;overflow-x:hidden;text-overflow:ellipsis;color:var(--colorNeutralForeground4);box-sizing:border-box}tri-dropdown.error[_ngcontent-%COMP%]{border:1px solid var(--globalColorCranberryPrimary)}.dropdown-search[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;margin-bottom:2px}.error-message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:4px;color:var(--globalColorCranberryPrimary);fill:var(--globalColorCranberryPrimary)}.error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200)}.error-message[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{min-width:12px;min-height:12px}"],changeDetection:0}),Oe}(),y=(m(81099),m(31572)),j=m(32980),Z=m(6814),ye=m(78035),Me=m(95228),Be=m(16149),Ge=m(17177),rt=m(75476),vt=m(57156),T=m(13281),fe=m(8816),Ae=m(18176),Fe=m(12385),ht=m(44913),ot=m(46303),ct=m(94757),tt=m(84515),gt=m(42178),Ze=m(81339),pt=m(15468),_t=function(){function Oe(){}return Oe.\u0275fac=function(Re){return new(Re||Oe)},Oe.\u0275mod=x.\u0275\u0275defineNgModule({type:Oe}),Oe.\u0275inj=x.\u0275\u0275defineInjector({providers:[ct.G,tt.e,gt.r,pt.A,Z.Ns.withLazyService(Ze.A,gt.r)],imports:[V.CommonModule,h.u5,j.sp,Be.m,ye.Y,Ge.T6,fe.w,T.fe,vt.F,rt.OT,Me.W,Ae.Ug,Fe.K3,ht.lK,ot.b]}),Oe}()},81544:function(qe,xe,m){m.d(xe,{b:function(){return R}});var g=m(32293),p=m(30794),ie=m(35510),f=m(11547),J=m(59017),S=m(48787),N=m(14172),e=m(81905),U=m(83317),ee=m(59973),x=m(70628),oe=m(18016),ue=m(31572),V=m(40773),h=m(50423),W=m(7452),K=m(77476),H=m(17174),te=m(95825),_e=m(74913),De=m(55490),ne=m(55334);function be(ae,de){1&ae&&(h.\u0275\u0275elementContainerStart(0),h.\u0275\u0275elementStart(1,"div",7),h.\u0275\u0275element(2,"tri-svg-icon",8),h.\u0275\u0275elementStart(3,"span"),h.\u0275\u0275text(4),h.\u0275\u0275pipe(5,"localize"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementContainerEnd()),2&ae&&(h.\u0275\u0275advance(1),h.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-name-error"),h.\u0275\u0275advance(1),h.\u0275\u0275property("name","error_circle_12_filled"),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind1(5,3,"Pipelines_CreatePipelineDialog_NameAlreadyExistsError")," "))}function we(ae,de){1&ae&&(h.\u0275\u0275elementContainerStart(0),h.\u0275\u0275elementStart(1,"div",7),h.\u0275\u0275element(2,"tri-svg-icon",8),h.\u0275\u0275elementStart(3,"span"),h.\u0275\u0275text(4),h.\u0275\u0275pipe(5,"localize"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementContainerEnd()),2&ae&&(h.\u0275\u0275advance(1),h.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-pat-error"),h.\u0275\u0275advance(1),h.\u0275\u0275property("name","error_circle_12_filled"),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind1(5,3,"Trident_Git_Auth_Dialog_Param_PAT_Error")," "))}function Te(ae,de){1&ae&&(h.\u0275\u0275elementContainerStart(0),h.\u0275\u0275elementStart(1,"div",7),h.\u0275\u0275element(2,"tri-svg-icon",8),h.\u0275\u0275elementStart(3,"span"),h.\u0275\u0275text(4),h.\u0275\u0275pipe(5,"localize"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementContainerEnd()),2&ae&&(h.\u0275\u0275advance(1),h.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-url-error"),h.\u0275\u0275advance(1),h.\u0275\u0275property("name","error_circle_12_filled"),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind1(5,3,"Trident_Git_Auth_Dialog_Param_RepoUrl_Error")," "))}var Ye=function(de){return{error:de}};function et(ae,de){if(1&ae){var he=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementContainerStart(0),h.\u0275\u0275elementStart(1,"trident-dialog",1),h.\u0275\u0275listener("buttonClickEvent",function(I){h.\u0275\u0275restoreView(he);var y=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(y.clickButton(I))}),h.\u0275\u0275pipe(2,"localize"),h.\u0275\u0275elementStart(3,"div")(4,"h4"),h.\u0275\u0275text(5),h.\u0275\u0275pipe(6,"localize"),h.\u0275\u0275elementStart(7,"span",2),h.\u0275\u0275text(8," *"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(9,"div",3)(10,"input",4),h.\u0275\u0275listener("ngModelChange",function(I){h.\u0275\u0275restoreView(he);var y=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(y.displayName=I)})("ngModelChange",function(I){h.\u0275\u0275restoreView(he);var y=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(y.displayNameChanged(I))}),h.\u0275\u0275pipe(11,"async"),h.\u0275\u0275pipe(12,"localize"),h.\u0275\u0275pipe(13,"localize"),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(14,be,6,5,"ng-container",0),h.\u0275\u0275pipe(15,"async"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(16,"div")(17,"h4"),h.\u0275\u0275text(18),h.\u0275\u0275pipe(19,"localize"),h.\u0275\u0275elementStart(20,"span",2),h.\u0275\u0275text(21," *"),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(22,"tri-svg-icon",5),h.\u0275\u0275pipe(23,"localize"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(24,"div",3)(25,"input",6),h.\u0275\u0275listener("ngModelChange",function(I){h.\u0275\u0275restoreView(he);var y=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(y.personalAccessToken=I)})("ngModelChange",function(I){h.\u0275\u0275restoreView(he);var y=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(y.personalAccessTokenChanged(I))}),h.\u0275\u0275pipe(26,"async"),h.\u0275\u0275pipe(27,"localize"),h.\u0275\u0275pipe(28,"localize"),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(29,we,6,5,"ng-container",0),h.\u0275\u0275pipe(30,"async"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(31,"div")(32,"h4"),h.\u0275\u0275text(33),h.\u0275\u0275pipe(34,"localize"),h.\u0275\u0275element(35,"tri-svg-icon",5),h.\u0275\u0275pipe(36,"localize"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(37,"div",3)(38,"input",4),h.\u0275\u0275listener("ngModelChange",function(I){h.\u0275\u0275restoreView(he);var y=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(y.repositoryUrl=I)})("ngModelChange",function(I){h.\u0275\u0275restoreView(he);var y=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(y.repositoryUrlChanged(I))}),h.\u0275\u0275pipe(39,"async"),h.\u0275\u0275pipe(40,"localize"),h.\u0275\u0275pipe(41,"localize"),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(42,Te,6,5,"ng-container",0),h.\u0275\u0275pipe(43,"async"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementContainerEnd()}if(2&ae){var X=de.ngIf,z=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275property("dialogData",z.dialogData)("closeButtonLabel",h.\u0275\u0275pipeBind1(2,27,"Cancel_ButtonText")),h.\u0275\u0275advance(4),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind1(6,29,"Trident_Git_Auth_Dialog_Param_DisplayName")," "),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(63,Ye,h.\u0275\u0275pipeBind1(11,31,z.isDisplayNameInvalid$)))("ngModel",z.displayName)("placeholder",h.\u0275\u0275pipeBind1(12,33,X.localizationKeysList[1])),h.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-display-name-input")("aria-label",h.\u0275\u0275pipeBind1(13,35,"Trident_Git_Auth_Dialog_Param_DisplayName")),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngIf",h.\u0275\u0275pipeBind1(15,37,z.isDisplayNameInvalid$)),h.\u0275\u0275advance(4),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind1(19,39,"Trident_Git_Auth_Dialog_Param_PAT")," "),h.\u0275\u0275advance(4),h.\u0275\u0275property("name","info_16_regular")("triTooltip",h.\u0275\u0275pipeBind1(23,41,X.localizationKeysList[2])),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(65,Ye,h.\u0275\u0275pipeBind1(26,43,z.isPersonalAccessTokenInvalid$)))("ngModel",z.personalAccessToken)("placeholder",h.\u0275\u0275pipeBind1(27,45,X.localizationKeysList[3])),h.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-pat-input")("aria-label",h.\u0275\u0275pipeBind1(28,47,"Trident_Git_Auth_Dialog_Param_PAT")),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngIf",h.\u0275\u0275pipeBind1(30,49,z.isPersonalAccessTokenInvalid$)),h.\u0275\u0275advance(4),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind1(34,51,"Trident_Git_Auth_Dialog_Param_RepoUrl")," "),h.\u0275\u0275advance(2),h.\u0275\u0275property("name","info_16_regular")("triTooltip",h.\u0275\u0275pipeBind1(36,53,X.localizationKeysList[4])),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction1(67,Ye,h.\u0275\u0275pipeBind1(39,55,z.isRepositoryUrlInvalid$)))("ngModel",z.repositoryUrl)("placeholder",h.\u0275\u0275pipeBind1(40,57,X.localizationKeysList[5])),h.\u0275\u0275attribute("data-testid","tri-git-auth-dialog-url-input")("aria-label",h.\u0275\u0275pipeBind1(41,59,"Trident_Git_Auth_Dialog_Param_RepoUrl")),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngIf",h.\u0275\u0275pipeBind1(43,61,z.isRepositoryUrlInvalid$))}}var E="Cancel",R=function(){function ae(de,he,X,z,O,I){this.cdr=de,this.dr=he,this.gitDatasourceService=X,this.gitSessionStorageService=z,this.localizationService=O,this.data=I,this._isAddButtonEnabled=!1,this._isAddButtonLoading=!1,this.destroy$=new p.xQ,this.isDisplayNameInvalid$=new ie.X(void 0),this.isPersonalAccessTokenInvalid$=new ie.X(void 0),this.validatePersonalAccessToken=function(){return!1},this.isRepositoryUrlInvalid$=new ie.X(!1),this.validateRepositoryUrl=function(){return!0},this.workspaceId=this.data,this.selectedGitProviderType$=(0,f.of)(),this.componentAssets$=(0,f.of)(),this.existingDatasourcesNames=[],this.dialogData={title:"",buttons:[{name:"Add",label:this.localizationService.get("ItemAction_Add"),buttonType:"primary",disabled:!this.isAddButtonEnabled,isLoading:this.isAddButtonLoading},{name:E,label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]},this.displayName="",this.personalAccessToken="",this.repositoryUrl=""}return ae.prototype.ngOnInit=function(){var de=this,he=(0,ue.fA)();this.selectedGitProviderType$=this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId).pipe((0,S.q)(1),(0,N.U)(function(X){return X?.selectedGitProviderType})),this.componentAssets$=this.selectedGitProviderType$.pipe((0,S.q)(1),(0,N.U)(function(X){if(X){var z=he[X];if(z)return de.dialogData.title=de.localizationService.get(z.localizationKeysList[0]),de.validatePersonalAccessToken=z.validationFunctionsList[0],de.validateRepositoryUrl=z.validationFunctionsList[1],z}})),this.selectedGitProviderType$.pipe((0,S.q)(1),(0,e.w)(function(X){return void 0!==X?de.gitDatasourceService.getDatasources({workspaceId:de.workspaceId,gitProviderType:X}).pipe((0,N.U)(function(z){return{gitProviderType:X,datasources:z}})):(0,f.of)({gitProviderType:void 0,datasources:void 0})})).subscribe(function(X){var z,O=X.gitProviderType,I=X.datasources;void 0!==I?.datasourcesRecord&&void 0!==O&&(de.existingDatasourcesNames=null!==(z=I.datasourcesRecord[O].map(function(j){return j.datasourceName.toLowerCase()}))&&void 0!==z?z:[])})},ae.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},ae.prototype.clickButton=function(de){"Add"===de?this.handleCreateDatasourceRequest():de===E&&this.dr.close()},ae.prototype.displayNameChanged=function(de){this.isDisplayNameInvalid$.next(this.existingDatasourcesNames.includes(de.toLowerCase())),this.calculateAddButtonState()},ae.prototype.personalAccessTokenChanged=function(de){this.isPersonalAccessTokenInvalid$.next(!(""===this.personalAccessToken||this.validatePersonalAccessToken(de))),this.calculateAddButtonState()},ae.prototype.repositoryUrlChanged=function(de){this.isRepositoryUrlInvalid$.next(""!==de&&!this.validateRepositoryUrl(de)),this.calculateAddButtonState()},ae.prototype.handleCreateDatasourceRequest=function(){var de=this,he={workspaceId:this.workspaceId,gitProviderType:oe.IS.GitHub,displayName:this.displayName,personalAccessToken:this.personalAccessToken,repositoryUrl:this.repositoryUrl};this.isAddButtonLoading=!0,(0,J.aj)([this.gitDatasourceService.getDatasourceCallState(this.workspaceId),this.gitDatasourceService.createDatasource(he)]).pipe((0,U.R)(this.destroy$),(0,ee.h)(function(X){var z=X[0];return z===x.j3q.Completed||(0,oe.pb)(z)}),(0,S.q)(1)).subscribe(function(X){var z=X[0];z===x.j3q.Completed?de.dr.close():(de.isAddButtonLoading=!1,(!(0,oe.pb)(z)||!de.isRecoverableError(z))&&de.dr.close())})},ae.prototype.calculateAddButtonState=function(){this.isAddButtonEnabled=!(""===this.displayName||this.isDisplayNameInvalid$.value||""===this.personalAccessToken||this.isPersonalAccessTokenInvalid$.value||""!==this.repositoryUrl&&this.isRepositoryUrlInvalid$.value)},ae.prototype.isRecoverableError=function(de){return!1},Object.defineProperty(ae.prototype,"isAddButtonEnabled",{get:function(){return this._isAddButtonEnabled},set:function(he){this._isAddButtonEnabled=he,this.dialogData.buttons[0].disabled=!he},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"isAddButtonLoading",{get:function(){return this._isAddButtonLoading},set:function(he){this._isAddButtonLoading=he,this.dialogData.buttons[0].isLoading=he,this.dialogData.buttons[0].label=this.localizationService.get(he?"Adding":"ItemAction_Add"),this.cdr.detectChanges()},enumerable:!1,configurable:!0}),ae.\u0275fac=function(he){return new(he||ae)(h.\u0275\u0275directiveInject(h.ChangeDetectorRef),h.\u0275\u0275directiveInject(g.so),h.\u0275\u0275directiveInject(V.Ae),h.\u0275\u0275directiveInject(x.gCl),h.\u0275\u0275directiveInject(W.z),h.\u0275\u0275directiveInject(g.WI))},ae.\u0275cmp=h.\u0275\u0275defineComponent({type:ae,selectors:[["tri-git-auth-dialog"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"dialogData","closeButtonLabel","buttonClickEvent"],[1,"mandatory"],["tri-textfield","",1,"input-container"],["type","text",3,"ngClass","ngModel","placeholder","ngModelChange"],["tri-svg-icon-16","",3,"name","triTooltip"],["type","password",3,"ngClass","ngModel","placeholder","ngModelChange"],["tri-textfield-error","",1,"error-message"],["tri-svg-icon-12","",3,"name"]],template:function(he,X){1&he&&(h.\u0275\u0275template(0,et,44,69,"ng-container",0),h.\u0275\u0275pipe(1,"async")),2&he&&h.\u0275\u0275property("ngIf",h.\u0275\u0275pipeBind1(1,1,X.componentAssets$))},dependencies:[K.NgClass,K.NgIf,H.Fj,H.JJ,H.On,te.v,_e.M,De.Z,K.AsyncPipe,ne.Y],styles:["[_nghost-%COMP%]     mat-dialog-content{display:flex;flex-direction:column;gap:8px;font-size:var(--fontSizeBase300)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container){display:flex;flex-direction:column;gap:4px}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) h4{display:flex;flex-direction:row;align-items:center;gap:4px;margin:0;font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) h4 span.mandatory{color:var(--globalColorRedShade10)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) h4 tri-svg-icon{fill:var(--globalColorGrey38)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) input{width:100%;border-bottom:1px solid var(--globalColorGrey38)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) input.error{border:1px solid var(--globalColorCranberryPrimary)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) input:focus{border-bottom:2px solid var(--globalColorBrand80)}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) .error-message{display:flex;flex-direction:row}[_nghost-%COMP%]     mat-dialog-content div:not(.input-container) .error-message span{font-size:var(--fontSizeBase200)}[_nghost-%COMP%]     mat-dialog-actions .button-container{gap:8px;margin:16px 0 0}[_nghost-%COMP%]     .mat-mdc-dialog-content.dialog-body{max-height:none}"],changeDetection:0}),ae}()},81099:function(qe,xe,m){m.d(xe,{A:function(){return K}});var g=m(48787),p=m(81905),ie=m(17653),f=m(59822),J=m(32293),S=m(11547),N=m(65232),e=m(70628),U=m(12385),ee=m(40773),x=m(50423),oe=m(7452),ue=m(95825),V=m(55334),h="cancelButton",W="logoutButton",K=function(){function H(te,_e,De,ne,be,we,Te,Ye){this.data=te,this.dr=_e,this.localizationService=De,this.gitConfigureCredentialsService=ne,this.gitSessionStorageService=be,this.gitNotificationService=we,this.gitConnectionService=Te,this.gitErrorService=Ye,this.dialogData={title:this.localizationService.get("Trident_Git_Log_Out_Dialog_Title"),buttons:[{name:W,label:this.localizationService.get("Trident_Git_Log_Out"),buttonType:"primary"},{name:h,label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]}}return H.prototype.clickButton=function(te){te===W?this.handleLogOutRequest():te===h&&this.dr.close(te)},H.prototype.handleLogOutRequest=function(){var te=this;this.gitConnectionService.getGitConnection(this.data.workspaceId).pipe((0,g.q)(1),(0,p.w)(function(_e){return _e?.gitConnectionDetails?te.gitConfigureCredentialsService.deleteConfiguredCredentials(te.data.workspaceId):(0,S.of)(void 0)}),(0,g.q)(1),(0,ie.b)(function(){te.gitSessionStorageService.deleteCredentials(te.data.workspaceId),te.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Logout_Success"),te.dr.close(W)}),(0,f.K)(function(_e){var De=te.gitErrorService.makeGitErrorFromHttpResponse("Git_Delete_Credentials_Failed",_e);return te.gitNotificationService.showErrorNotification(De,"Trident_Git_Toast_Logout_Fail"),[]})).subscribe()},H.\u0275fac=function(_e){return new(_e||H)(x.\u0275\u0275directiveInject(J.WI),x.\u0275\u0275directiveInject(J.so),x.\u0275\u0275directiveInject(oe.z),x.\u0275\u0275directiveInject(ee.id),x.\u0275\u0275directiveInject(e.gCl),x.\u0275\u0275directiveInject(U.mn),x.\u0275\u0275directiveInject(ee.rC),x.\u0275\u0275directiveInject(N.jR))},H.\u0275cmp=x.\u0275\u0275defineComponent({type:H,selectors:[["tri-git-logout-dialog"]],decls:4,vars:4,consts:[[3,"dialogData","buttonClickEvent"]],template:function(_e,De){1&_e&&(x.\u0275\u0275elementStart(0,"trident-dialog",0),x.\u0275\u0275listener("buttonClickEvent",function(be){return De.clickButton(be)}),x.\u0275\u0275elementStart(1,"p"),x.\u0275\u0275text(2),x.\u0275\u0275pipe(3,"localize"),x.\u0275\u0275elementEnd()()),2&_e&&(x.\u0275\u0275property("dialogData",De.dialogData),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate1(" ",x.\u0275\u0275pipeBind1(3,2,"Trident_Git_Log_Out_Dialog_Message")," "))},dependencies:[ue.v,V.Y],encapsulation:2,changeDetection:0}),H}()},31572:function(qe,xe,m){m.d(xe,{NJ:function(){return R},P0:function(){return ae},rl:function(){return P},fA:function(){return de},ge:function(){return z},_k:function(){return O},Tr:function(){return X},EI:function(){return he},yp:function(){return I}});var g=m(11547),p=m(18016),ie=m(48787),f=m(14172);function J(y){if(!y?.project)throw"Git_AzureDevOpsMissingProjectName";if(y?.datasourceOID)throw"Git_AzureDevOpsInvalidParameters"}function S(y){if(!y?.projectName)throw"Git_AzureDevOpsMissingProjectName"}function N(y){if(!y?.projectName)throw"Git_AzureDevOpsMissingProjectName"}function e(y){return void 0!==y?.selectedUserAccount}function U(y){if(!y?.projectName)throw"Git_AzureDevOpsMissingProjectName"}function ee(y,j){return j.getGitConnection(y).pipe((0,ie.q)(1),(0,f.U)(function(Z){return void 0===Z?.gitConnectionDetails}))}var x=m(59017),oe="https://github.com";function h(y){return{datasourceOID:y.id}}function W(y){var j;return null!==(j=y.isConfigured)&&void 0!==j&&j}function K(y,j,Z){return(0,x.aj)([Z.loadGitSessionStorage(y),j.getGitConnection(y)]).pipe((0,f.U)(function(ye){var Be=ye[1];return void 0!==Be?.gitConnectionDetails}))}function H(y,j,Z){if(j&&j!==oe){if(!ne(j))throw new Error("Git_Invalid_Github_Repository_Url");var ye=j.split("/");y.setDatasourceUrl(Z,ye[3],ye[4])}else y.resetDatasourceUrl(Z)}var te=["Trident_Git_Auth_Dialog_Title_GitHub","Trident_Git_Auth_Dialog_Param_DisplayName_Placeholder","Trident_Git_Auth_Dialog_Param_PAT_Tooltip_GitHub","Trident_Git_Auth_Dialog_Param_PAT_Placeholder_GitHub","Trident_Git_Auth_Dialog_Param_RepoUrl_Tooltip_GitHub","Trident_Git_Auth_Dialog_Param_RepoUrl_Placeholder"],_e=[function(y){return y.toLowerCase().startsWith("ghp_")||y.startsWith("github_pat_")},ne];function ne(y){var j=y.replace(/\/$|\.git$/g,"");return/^https:\/\/github\.com\/[^/]+\/[^/]+$/.test(j)}function be(y){if(!y?.datasourceOID)throw"Git_GitHubMissingDatasourceOID"}function we(y){if(y?.projectName)throw"Git_GitHubInvalidParameters";if(!y?.datasourceOID)throw"Git_GitHubMissingDatasourceOID"}function Te(y){if(y?.projectName)throw"Git_GitHubInvalidParameters";if(!y?.datasourceOID)throw"Git_GitHubMissingDatasourceOID"}function Ye(y){if(y?.projectName)throw"Git_GitHubInvalidParameters";if(!y?.datasourceOID)throw"Git_GitHubMissingDatasourceOID"}function et(y,j){return y?.filter(function(Z){return Z.url===j||Z.url===oe})}function P(y){return"".concat(oe,"/").concat(y.organizationName,"/").concat(y.repositoryName)}var R=function(y){return y[y.ShowADOAccountsList=0]="ShowADOAccountsList",y[y.ShowGitHubDataSourcesList=1]="ShowGitHubDataSourcesList",y}({}),ae=function(y){return y.UserAccountDetails="UserAccountDetails",y.DatasourceDetails="DatasourceDetails",y}({});function de(){var y;return(y={})[p.IS.AzureDevOps]=void 0,y[p.IS.GitHub]={localizationKeysList:te,validationFunctionsList:_e},y}function he(){var y;return(y={})[p.IS.AzureDevOps]={displayMode:R.ShowADOAccountsList,connectedProviderDetailsType:ae.UserAccountDetails,doesGitProviderNeedsDatasource:!1,canTheUserLogOut:ee,shouldShowSwitchAccount:function(){return(0,g.of)(!1)},isWorkspaceConnectedToGitProvider:e},y[p.IS.GitHub]={displayMode:R.ShowGitHubDataSourcesList,connectedProviderDetailsType:ae.DatasourceDetails,doesGitProviderNeedsDatasource:!0,canTheUserLogOut:function(){return(0,g.of)(!0)},shouldShowSwitchAccount:K,isWorkspaceConnectedToGitProvider:W,selectDatasourceSideEffect:H,filterDatasources:et,getFilteringValue:P},y}function X(){var y;return(y={})[p.IS.AzureDevOps]={},y[p.IS.GitHub]={createConfigureCredentialsRequestFromDatasource:h},y}function z(){var y;return(y={})[p.IS.AzureDevOps]={getBranchesValidator:J,createBranchRequestValidator:S,createDirectoryRequestValidator:N},y[p.IS.GitHub]={getBranchesValidator:be,createBranchRequestValidator:we,createDirectoryRequestValidator:Te},y}function O(){var y;return(y={})[p.IS.AzureDevOps]={gitConnectionDetailsContractValidator:U},y[p.IS.GitHub]={gitConnectionDetailsContractValidator:Ye},y}function I(y){var j=new Map;return j.set(p.IS.GitHub,function(y){var j,Z;return null===(Z=null===(j=y.featureSwitches)||void 0===j?void 0:j.gitHubTenantSettingsEnabled)||void 0===Z||Z}(y)),j.set(p.IS.AzureDevOps,!0),j}},94757:function(qe,xe,m){m.d(xe,{G:function(){return N}});var g=m(33554),p=m(58417),ie=m(48787),f=m(14172),J=m(94771),S=m(50423),N=function(){function e(U){this.featureSwitchService=U,this.featureSwitchStatusSubjects={}}return e.prototype.isTenantAdminEnabled=function(U){return this.featureSwitchStatusSubjects[U]||(this.featureSwitchStatusSubjects[U]=new g.t(1),this.fetchFeatureSwitchStatus(U).subscribe(this.featureSwitchStatusSubjects[U])),this.featureSwitchStatusSubjects[U].asObservable()},e.prototype.fetchFeatureSwitchStatus=function(U){var ee=this;return!0!==this.featureSwitchService.featureSwitches.tridentGitSwitchesDelegation?new p.y(function(x){x.next(!!ee.featureSwitchService.featureSwitches.gitIntegrationTenantSwitchEnabled),x.complete()}):this.featureSwitchService.getWorkspaceDelegatedSetting({name:"GitIntegrationTenantSwitchEnabled",workspaceObjectId:U}).pipe((0,ie.q)(1),(0,f.U)(function(x){return x.isEnabled||!1}))},e.\u0275fac=function(ee){return new(ee||e)(S.\u0275\u0275inject(J.V$))},e.\u0275prov=S.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},84515:function(qe,xe,m){m.d(xe,{e:function(){return J}});var g=m(14172),p=m(18176),ie=m(31572),f=m(50423),J=function(){function S(N){this.gitConnectionDiscoveryClient=N,this.serviceConfig=(0,ie.ge)()}return S.prototype.getOrganizations=function(N,e){return this.gitConnectionDiscoveryClient.getOrganizations(N,e)},S.prototype.getProjects=function(N,e,U){return this.gitConnectionDiscoveryClient.getProjects(N,e,U)},S.prototype.getRepositories=function(N,e,U,ee){return this.gitConnectionDiscoveryClient.getRepositories(N,e,U,ee)},S.prototype.getBranches=function(N){var e,U=null===(e=this.serviceConfig[N.gitProviderType])||void 0===e?void 0:e.getBranchesValidator;return U&&U(N),this.gitConnectionDiscoveryClient.getBranches(N.workspaceId,N.gitProviderType,N.organization,N.repository,N?.project,N?.datasourceOID)},S.prototype.createBranch=function(N){var e,U=null===(e=this.serviceConfig[N.providerType])||void 0===e?void 0:e.createBranchRequestValidator;return U&&U(N),this.gitConnectionDiscoveryClient.createBranch(N)},S.prototype.createDirectory=function(N){var e,U=null===(e=this.serviceConfig[N.providerType])||void 0===e?void 0:e.createDirectoryRequestValidator;return U&&U(N),this.gitConnectionDiscoveryClient.createDirectory(N)},S.prototype.getRelatedWorkspaces=function(N){return this.gitConnectionDiscoveryClient.getRelatedWorkspaces(N).pipe((0,g.U)(function(e){return e.relatedWorkspaces}))},S.\u0275fac=function(e){return new(e||S)(f.\u0275\u0275inject(p.bE))},S.\u0275prov=f.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"}),S}()},81339:function(qe,xe,m){m.d(xe,{A:function(){return p}});var p=new(m(50423).InjectionToken)("GitConnectionService")},42178:function(qe,xe,m){m.d(xe,{r:function(){return x}});var g=m(11547),p=m(48787),ie=m(81905),f=m(17653),J=m(59822),S=m(70628),N=m(94757),e=m(31572),U=m(50423),ee=m(85732),x=function(){function oe(ue,V,h){this.gitConnectionFacade=ue,this.gitAdminSwitchesService=V,this.store=h,this.serviceConfig=(0,e._k)()}return oe.prototype.loadGitConnection=function(ue){var V=this;return this.gitAdminSwitchesService.isTenantAdminEnabled(ue).pipe((0,p.q)(1),(0,ie.w)(function(h){return h?V.gitConnectionFacade.loadGitConnection(ue):(0,g.of)(void 0)}),(0,p.q)(1),(0,f.b)(function(h){var W;if(h?.gitConnectionDetails){var K=null===(W=V.serviceConfig[h.gitConnectionDetails.gitProviderType])||void 0===W?void 0:W.gitConnectionDetailsContractValidator;K&&K(h.gitConnectionDetails)}}),(0,J.K)(function(){return(0,g.of)(void 0)}))},oe.prototype.ensureGitConnection=function(ue,V){var h=this;return void 0===V&&(V=!1),V?this.gitConnectionFacade.ensureGitConnection(ue):this.gitAdminSwitchesService.isTenantAdminEnabled(ue).pipe((0,p.q)(1),(0,ie.w)(function(W){return W?h.gitConnectionFacade.ensureGitConnection(ue):(0,g.of)(void 0)}))},oe.prototype.getGitConnection=function(ue){var V=this;return this.gitAdminSwitchesService.isTenantAdminEnabled(ue).pipe((0,p.q)(1),(0,ie.w)(function(h){return h?V.gitConnectionFacade.getGitConnection(ue):(0,g.of)(void 0)}))},oe.prototype.updateDatasourceInGitConnection=function(ue,V){this.store.dispatch((0,S.V_q)({workspaceId:ue,datasourceOID:V}))},oe.prototype.saveGitConnection=function(ue){var V;if(ue?.gitConnectionDetails){var h=null===(V=this.serviceConfig[ue.gitConnectionDetails.gitProviderType])||void 0===V?void 0:V.gitConnectionDetailsContractValidator;h&&h(ue.gitConnectionDetails)}return this.gitConnectionFacade.saveGitConnection(ue)},oe.prototype.deleteGitConnection=function(ue){return this.gitConnectionFacade.deleteGitConnection(ue)},oe.prototype.getGitConnectionOperationState=function(ue){var V=this;return this.gitAdminSwitchesService.isTenantAdminEnabled(ue).pipe((0,p.q)(1),(0,ie.w)(function(h){return h?V.gitConnectionFacade.getGitConnectionOperationState(ue):(0,g.of)(S.Gui.Initial)}))},oe.prototype.checkoutBranch=function(ue){return this.gitConnectionFacade.checkoutBranch(ue)},oe.\u0275fac=function(V){return new(V||oe)(U.\u0275\u0275inject(S.f$Z),U.\u0275\u0275inject(N.G),U.\u0275\u0275inject(ee.yh))},oe.\u0275prov=U.\u0275\u0275defineInjectable({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe}()},15468:function(qe,xe,m){m.d(xe,{A:function(){return ie}});var g=m(70628),p=m(50423),ie=function(){function f(J){this.gitDatasourcesFacade=J}return f.prototype.createDatasource=function(J){return this.gitDatasourcesFacade.createDatasource(J)},f.prototype.discoverDatasources=function(J){return this.gitDatasourcesFacade.loadDatasources(J)},f.prototype.getDatasources=function(J){return this.gitDatasourcesFacade.getDatasources(J)},f.prototype.getDatasourceCallState=function(J){return this.gitDatasourcesFacade.getDataSourcesCallState(J)},f.\u0275fac=function(S){return new(S||f)(p.\u0275\u0275inject(g.iAv))},f.\u0275prov=p.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:"root"}),f}()},40773:function(qe,xe,m){m.d(xe,{Gg:function(){return g.G},id:function(){return oe},eL:function(){return f.e},rC:function(){return S.r},AC:function(){return J.A},Ae:function(){return N.A},Mv:function(){return ue}});var g=m(94757),p=m(70628),f=m(84515),J=m(81339),S=m(42178),N=m(15468),e=m(60225),U=m(18176),ee=m(31572),x=m(50423),oe=function(){function V(h){this.gitDatasourceClient=h,this.datasourceServiceConfigRecord=(0,ee.Tr)()}return V.prototype.configureCredentials=function(h,W,K){var H,te=null===(H=this.datasourceServiceConfigRecord[h])||void 0===H?void 0:H.createConfigureCredentialsRequestFromDatasource;return te?this.gitDatasourceClient.postConfigureCredentials(W,te(K)):(0,e._)("Git_UnsupportedGitProvider")},V.prototype.deleteConfiguredCredentials=function(h){return this.gitDatasourceClient.deleteConfiguredCredentials(h)},Object.defineProperty(V.prototype,"getDatasourceServiceConfig",{get:function(){return this.datasourceServiceConfigRecord},enumerable:!1,configurable:!0}),V.\u0275fac=function(W){return new(W||V)(x.\u0275\u0275inject(U.Kl))},V.\u0275prov=x.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V}(),ue=function(){function V(h){this.gitSwitchBranchFacade=h}return V.prototype.switchBranch=function(h){return this.gitSwitchBranchFacade.switchBranch(h)},V.prototype.getSwitchBranchState=function(h){return this.gitSwitchBranchFacade.getSwitchBranchState(h)},V.\u0275fac=function(W){return new(W||V)(x.\u0275\u0275inject(p.CCT))},V.\u0275prov=x.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V}()},65232:function(qe,xe,m){m.d(xe,{jR:function(){return ae},Nn:function(){return N}});var g=m(77476),p=m(32293),ie=m(78035),f=m(32980),J=m(17177),S=m(50423),N=function(){function z(){}return z.\u0275fac=function(I){return new(I||z)},z.\u0275mod=S.\u0275\u0275defineNgModule({type:z}),z.\u0275inj=S.\u0275\u0275defineInjector({imports:[g.CommonModule,p.Is,ie.Y,f.sp,J.T6]}),z}(),e=m(81337),U=m(18016),ee=m(42369),x=m(41838),oe=m(12315),ue=m(95825),V=m(74913);function h(z,O){if(1&z&&(S.\u0275\u0275elementStart(0,"div",1),S.\u0275\u0275element(1,"tri-svg-icon",2),S.\u0275\u0275elementStart(2,"span",3),S.\u0275\u0275text(3),S.\u0275\u0275elementEnd()()),2&z){var I=O.$implicit;S.\u0275\u0275advance(1),S.\u0275\u0275property("sprite",I.sprite)("name",I.iconName),S.\u0275\u0275advance(1),S.\u0275\u0275attribute("aria-label",I.name),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate(I.name)}}var W=function(){function z(){this.artifactList=[]}return z.\u0275fac=function(I){return new(I||z)},z.\u0275cmp=S.\u0275\u0275defineComponent({type:z,selectors:[["tri-git-items-list"]],inputs:{artifactList:"artifactList"},decls:1,vars:1,consts:[["class","artifacts-list",4,"ngFor","ngForOf"],[1,"artifacts-list"],["tri-svg-icon-22","",1,"artifact-icon",3,"sprite","name"],["tabIndex","0",1,"artifact-name","trimmedTextWithEllipsis"]],template:function(I,y){1&I&&S.\u0275\u0275template(0,h,4,4,"div",0),2&I&&S.\u0275\u0275property("ngForOf",y.artifactList)},dependencies:[g.NgForOf,V.M],styles:[".artifacts-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;min-height:40px;flex-grow:1;gap:8px}.artifacts-list[_ngcontent-%COMP%]   .artifact-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey26)}.artifacts-list[_ngcontent-%COMP%]   .artifact-name[_ngcontent-%COMP%]{font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);color:var(--colorNeutralForeground1)}"]}),z}(),K=m(55334);function H(z,O){if(1&z&&S.\u0275\u0275element(0,"tri-git-items-list",5),2&z){var I=S.\u0275\u0275nextContext();S.\u0275\u0275property("artifactList",I.failedArtifacts)}}function te(z,O){if(1&z&&(S.\u0275\u0275elementStart(0,"div",8)(1,"span"),S.\u0275\u0275element(2,"tri-svg-icon",9),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(3,"span",10),S.\u0275\u0275text(4),S.\u0275\u0275elementEnd()()),2&z){var I=O.$implicit;S.\u0275\u0275advance(2),S.\u0275\u0275property("sprite","git-icons")("name","bullet_dot_8"),S.\u0275\u0275advance(1),S.\u0275\u0275attribute("aria-label",I),S.\u0275\u0275advance(1),S.\u0275\u0275textInterpolate(I)}}function _e(z,O){if(1&z&&(S.\u0275\u0275elementStart(0,"div",6),S.\u0275\u0275template(1,te,5,4,"div",7),S.\u0275\u0275elementEnd()),2&z){var I=S.\u0275\u0275nextContext();S.\u0275\u0275advance(1),S.\u0275\u0275property("ngForOf",I.data.moreInfo)}}function De(z,O){if(1&z){var I=S.\u0275\u0275getCurrentView();S.\u0275\u0275elementStart(0,"div",11),S.\u0275\u0275listener("click",function(){S.\u0275\u0275restoreView(I);var Z=S.\u0275\u0275nextContext();return S.\u0275\u0275resetView(Z.collapseExpand())}),S.\u0275\u0275pipe(1,"localizeFormat"),S.\u0275\u0275elementStart(2,"span"),S.\u0275\u0275text(3),S.\u0275\u0275pipe(4,"localize"),S.\u0275\u0275pipe(5,"localize"),S.\u0275\u0275elementEnd(),S.\u0275\u0275element(6,"tri-svg-icon",12),S.\u0275\u0275elementEnd()}if(2&z){var y=S.\u0275\u0275nextContext();S.\u0275\u0275attribute("aria-expanded",!y.showDetailsToggle)("aria-label",S.\u0275\u0275pipeBind2(1,4,y.showDetailsToggle?"ClickToExpandFormat":"ClickToCollapseFormat","errorDetails")),S.\u0275\u0275advance(3),S.\u0275\u0275textInterpolate(y.showDetailsToggle?S.\u0275\u0275pipeBind1(4,7,"Generic_HideDetails"):S.\u0275\u0275pipeBind1(5,9,"Generic_ShowDetails")),S.\u0275\u0275advance(3),S.\u0275\u0275property("name",y.showDetailsToggle?"chevron_up_16_regular":"chevron_down_16_regular")}}function ne(z,O){if(1&z&&(S.\u0275\u0275elementStart(0,"p")(1,"b"),S.\u0275\u0275text(2),S.\u0275\u0275pipe(3,"localize"),S.\u0275\u0275elementEnd(),S.\u0275\u0275text(4),S.\u0275\u0275elementEnd()),2&z){var I=O.$implicit;S.\u0275\u0275advance(2),S.\u0275\u0275textInterpolate1("",I.shouldLocalize?S.\u0275\u0275pipeBind1(3,2,I.name):I.name," "),S.\u0275\u0275advance(2),S.\u0275\u0275textInterpolate1("",I.content," ")}}function be(z,O){if(1&z&&(S.\u0275\u0275elementContainerStart(0),S.\u0275\u0275elementStart(1,"div",13),S.\u0275\u0275template(2,ne,5,4,"p",14),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementContainerEnd()),2&z){var I=S.\u0275\u0275nextContext();S.\u0275\u0275advance(2),S.\u0275\u0275property("ngForOf",I.details)}}var we=function(){function z(O,I,y){var j,Z,ye,Me;this.dialogRef=O,this.extensionManifestService=I,this.data=y,this.showDetailsToggle=!1,this.errorDetails=this.data.errorDetails,this.requestInfo=this.data.requestInfo,this.details=[],this.artifactType=null===(Z=null===(j=this.errorDetails)||void 0===j?void 0:j.failedArtifactMetadata)||void 0===Z?void 0:Z.artifactType,this.artifactName=null===(Me=null===(ye=this.errorDetails)||void 0===ye?void 0:ye.failedArtifactMetadata)||void 0===Me?void 0:Me.artifactDisplayName,this.failedArtifacts=[],this.failedArtifactsSize=0,this.createGitErrorDetailsFromGitError()}return z.prototype.convertDialogData=function(O){return{title:O.title,buttons:O.buttons}},z.prototype.close=function(){return this.dialogRef.close()},z.prototype.collapseExpand=function(){this.showDetailsToggle=!this.showDetailsToggle},z.prototype.getErrorMoreInfoSize=function(){var O,I;return null!==(I=null===(O=this.data.moreInfo)||void 0===O?void 0:O.length)&&void 0!==I?I:0},z.prototype.createGitErrorDetailsFromGitError=function(){var O,I,y,j,Z,ye;if(null!=this&&this.errorDetails){if(this.requestInfo.clusterUri&&this.details.push(this.createGitErrorDetail("ServerError_ClusterUriText",this.requestInfo.clusterUri)),this.requestInfo.activityId&&this.details.push(this.createGitErrorDetail("ServerError_ActivityIdText",this.requestInfo.activityId)),this.requestInfo.requestId&&this.details.push(this.createGitErrorDetail("AdditionalErrorInfo_RequestIdText",this.requestInfo.requestId)),!(null===(O=this.errorDetails)||void 0===O)&&O.workloadErrorCode&&this.details.push(this.createGitErrorDetail("Workload_Error_Code",this.errorDetails.workloadErrorCode)),this.getFailedArtifactsDetails(),null!==(I=this.errorDetails)&&void 0!==I&&I.workloadErrorMessage){var Me=this.errorDetails.workloadErrorMessage,Be=(Me.match(/{(\d+)}/g)||[]).length;if(null!==(y=this.errorDetails)&&void 0!==y&&y.workloadErrorParameters){var Ge=this.errorDetails.workloadErrorParameters,rt=Ge.length;if(Be===rt){for(var vt=Me,T=0;T<rt;T++)vt=vt.replace("{".concat(T,"}"),Ge[T]);this.details.push(this.createGitErrorDetail("Workload_Error_Message",vt))}}else 0===Be&&this.details.push(this.createGitErrorDetail("Workload_Error_Message",Me))}if(null!==(j=this.errorDetails)&&void 0!==j&&j.errorParameters)for(var fe in this.errorDetails.errorParameters)this.details.push(this.createGitErrorDetail(fe,this.errorDetails.errorParameters[fe],!1));this.details.push(this.createGitErrorDetail("ServerError_TimestampText",null!==(ye=null===(Z=null==this?void 0:this.errorDetails)||void 0===Z?void 0:Z.time)&&void 0!==ye?ye:(new Date).toString()))}},z.prototype.createGitErrorDetail=function(O,I,y){return void 0===y&&(y=!0),{name:O,content:I,shouldLocalize:y}},z.prototype.getFailedArtifactsDetails=function(){var O,I,y;if(this.artifactType&&this.artifactName){var j=this.extensionManifestService.getFrontendArtifactType(this.artifactType),Z=(0,x.zp)(j);this.failedArtifacts.push({name:this.artifactName,iconName:Z?.name,sprite:Z?.sprite})}else if(null!==(O=this.errorDetails)&&void 0!==O&&O.errorParameters)for(var ye=null===(y=null===(I=this.errorDetails)||void 0===I?void 0:I.errorParameters.Artifacts)||void 0===y?void 0:y.slice(1,-1),Me=/Display Name: '([^']+)' Type: '([^']+)'/g,Be=void 0;null!==(Be=Me.exec(ye));)j=this.extensionManifestService.getFrontendArtifactType(Be[2]),oe.RG.includes(j)&&(Z=(0,x.zp)(j),this.failedArtifacts.push({name:Be[1],iconName:Z?.name,sprite:Z?.sprite}));this.failedArtifactsSize=this.failedArtifacts.length},z.\u0275fac=function(I){return new(I||z)(S.\u0275\u0275directiveInject(p.so),S.\u0275\u0275directiveInject(ee.vC),S.\u0275\u0275directiveInject(p.WI))},z.\u0275cmp=S.\u0275\u0275defineComponent({type:z,selectors:[["tri-git-error-dialog"]],decls:7,vars:9,consts:[[3,"dialogData","closeButtonLabel","buttonClickEvent"],["class","git-artifact-list",3,"artifactList",4,"ngIf"],["class","git-info-list",4,"ngIf"],["class","details-selector",3,"click",4,"ngIf"],[4,"ngIf"],[1,"git-artifact-list",3,"artifactList"],[1,"git-info-list"],["class","info-list-item",4,"ngFor","ngForOf"],[1,"info-list-item"],["calss","info-icon","tri-svg-icon-8","",3,"sprite","name"],[1,"list-item"],[1,"details-selector",3,"click"],["tri-svg-icon-16","",3,"name"],[1,"error-details-container"],[4,"ngFor","ngForOf"]],template:function(I,y){1&I&&(S.\u0275\u0275elementStart(0,"trident-dialog",0),S.\u0275\u0275listener("buttonClickEvent",function(){return y.close()}),S.\u0275\u0275pipe(1,"localize"),S.\u0275\u0275text(2),S.\u0275\u0275template(3,H,1,1,"tri-git-items-list",1),S.\u0275\u0275template(4,_e,2,1,"div",2),S.\u0275\u0275template(5,De,7,11,"div",3),S.\u0275\u0275template(6,be,3,1,"ng-container",4),S.\u0275\u0275elementEnd()),2&I&&(S.\u0275\u0275property("dialogData",y.convertDialogData(y.data))("closeButtonLabel",S.\u0275\u0275pipeBind1(1,7,"Close")),S.\u0275\u0275advance(2),S.\u0275\u0275textInterpolate1(" ",y.data.content," "),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngIf",y.failedArtifactsSize>0),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngIf",y.getErrorMoreInfoSize()>0),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngIf",y.details.length>0),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngIf",y.showDetailsToggle))},dependencies:[g.NgForOf,g.NgIf,ue.v,V.M,W,K.Y,K.A],styles:[".mat-mdc-dialog-content{display:flex;flex-direction:column;margin-top:4px;margin-bottom:16px;gap:12px}.details-selector[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:6px;font-weight:600}.error-details-container[_ngcontent-%COMP%]{font-size:12px;display:flex;flex-direction:column;align-items:flex-start;padding:12px;max-height:228px;overflow-y:scroll;background:var(--globalColorGrey96);border-radius:4px}.error-details-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.git-artifact-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:auto;min-height:40px;max-height:200px}.git-info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.info-list-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;gap:8px}"],changeDetection:0}),z}(),Te=m(7452),Ye=m(54323),ae=function(){function z(O,I,y){this.dialogService=O,this.localizationService=I,this.telemetryService=y,this.dialogWidth="564px",this.defaultDialogClass="dialog-style"}return z.prototype.getErrorContent=function(O){var I,y,j=null===(I=U.A6[O])||void 0===I?void 0:I.messageKey,Z=null===(y=U.A6[O])||void 0===y?void 0:y.titleKey;return(!j||!Z)&&(O.startsWith("Git_")||O.startsWith("Alm"))&&this.telemetryService.logEvent({name:"Git error which is not mapped to content occurred",properties:{errorType:O}}),{message:this.localizationService.get(j??"ErrorDialogHelperText_TechnicalDetails"),title:this.localizationService.get(Z??"ErrorMessage_DefaultTitle")}},z.prototype.getErrorMoreInfo=function(O){var I,y;return null!==(y=null===(I=U.jZ[O])||void 0===I?void 0:I.moreInfoKeys)&&void 0!==y?y:[]},z.prototype.handleSyncGitError=function(O,I){var y=this.makeGitErrorFromHttpResponse(O,I);return this.showErrorHandlingDialog(y),y},z.prototype.handleAlmGitError=function(O,I){return this.isGitAlmError(O,I)?this.makeGitErrorFromAlmResponse(O,I):this.makeClientSideGitError(O)},z.prototype.handleClientSideGitError=function(O,I){this.logValidationError(O);var y=this.makeClientSideGitError(O,I);return this.showErrorHandlingDialog(y),y},z.prototype.logValidationError=function(O){this.telemetryService.logEvent({name:"Validation error occurred",properties:{errorType:O}})},z.prototype.showErrorHandlingDialog=function(O){var I=this.createGitErrorDialogModel(O);return this.dialogService.open(I.componentRef,I.config)},z.prototype.createGitErrorDialogModel=function(O){var y,j,Z,I=this,ye=this.localizationService.get("Close"),Me=(0,U.lz)(O),Be=this.getErrorMoreInfo(Me?.errorType).map(function(rt){return I.localizationService.get(rt)}),Ge={title:Me.title,buttons:[{name:ye,label:ye,buttonType:null}],content:Me.message,moreInfo:Be,errorDetails:Me,requestInfo:{clusterUri:null===(y=O.errorInfo)||void 0===y?void 0:y.clusterUri,activityId:null===(j=O.errorInfo)||void 0===j?void 0:j.activityId,requestId:null===(Z=O.errorInfo)||void 0===Z?void 0:Z.requestId}};return{componentRef:we,config:{width:this.dialogWidth,panelClass:this.defaultDialogClass,data:Ge}}},z.prototype.makeClientSideGitError=function(O,I){var y=this.getErrorContent(O);return(0,U.iX)([{errorType:O,title:y.title,message:y.message,errorParameters:I}])},z.prototype.makeGitErrorFromHttpResponse=function(O,I){var Z,y=this.parseHttpWorkloadError(I),j=this.parseHttpError(I);Z=(0,U.KJ)(I)?"Git_AdoConditionalAccessNotSupported":"Git_Switch_Branch_Item_Not_Found"===O?"Git_Switch_Branch_Item_Not_Found":"Git_Branch_Out_Failed"===O?this.getBranchOutError(I):j?.code?j.code:O;var ye=this.getErrorContent(Z),Me=(0,e.__assign)((0,e.__assign)((0,e.__assign)({},y),j),{errorType:Z,time:(new Date).toString(),title:ye.title,message:ye.message}),Be={requestId:I?.requestId,clusterUri:window.clusterUri,activityId:I?.activityId,statusCode:I?.status};return(0,U.iX)([Me],Be)},z.prototype.makeGitErrorFromAlmResponse=function(O,I){var j,Z,ye,Me,Be,y=this,Ge=[];if(I.gitInteractiveOperationErrorDetailsList)null===(j=I.gitInteractiveOperationErrorDetailsList)||void 0===j||j.forEach(function(Fe){var ht,ot,ct,tt,gt,Ze,pt;Be=y.parseAlmWorkloadError(Fe);var _t=y.getErrorContent(Be.workloadErrorCode),Oe={dialogMessage:_t.message,interactionType:null!==(ct=null===(ot=null===(ht=Fe?.artifactErrorDetails)||void 0===ht?void 0:ht.UserInteractionRequest)||void 0===ot?void 0:ot.InteractionType)&&void 0!==ct?ct:U.s_.None,options:null!==(Ze=null===(gt=null===(tt=Fe?.artifactErrorDetails)||void 0===tt?void 0:tt.UserInteractionRequest)||void 0===gt?void 0:gt.Options)&&void 0!==Ze?Ze:[]},Ce=(0,e.__assign)((0,e.__assign)({},Be),{errorType:O,time:null===(pt=I.lastUpdatedTime)||void 0===pt?void 0:pt.toString(),title:_t.title,message:_t.message,interactiveOperationInfo:Oe});Ge.push(Ce)});else if(I.gitNonInteractiveOperationErrorDetails){Be=this.parseAlmWorkloadError(I.gitNonInteractiveOperationErrorDetails);var rt=null!==(Z=Be?.workloadErrorCode)&&void 0!==Z?Z:O,vt=this.getErrorContent(rt),T=(0,e.__assign)((0,e.__assign)({},Be),{errorType:rt,time:null===(ye=I.lastUpdatedTime)||void 0===ye?void 0:ye.toString(),title:vt.title,message:vt.message});if((0,U.VQ)(O,I)){var fe=this.getErrorContent("Git_GitProviderCommitRejectedByPolicy");T.errorType="Git_GitProviderCommitRejectedByPolicy",T.title=fe.title,T.message=fe.message}else(0,U.Ss)(O,I)&&(fe=this.getErrorContent("Git_GitProviderCommitMaxSizeExceeded"),T.errorType="Git_GitProviderCommitMaxSizeExceeded",T.title=fe.title,T.message=fe.message);Ge.push(T)}var Ae={requestId:null===(Me=I.gitNonInteractiveOperationErrorDetails)||void 0===Me?void 0:Me.requestId,clusterUri:window.clusterUri,retryOperationId:I.gitOperationId};return(0,U.iX)(Ge,Ae)},z.prototype.isDedicatedErrorMessageAvailable=function(O){return O in U.A6},z.prototype.parseHttpError=function(O){var I,y,j;return{code:null===(I=O?.error)||void 0===I?void 0:I.code,errorParameters:null===(j=null===(y=O?.error)||void 0===y?void 0:y["pbi.error"])||void 0===j?void 0:j.parameters}},z.prototype.parseHttpWorkloadError=function(O){var I,y,j,Z,ye,Me,Be,Ge,rt=null===(j=null===(y=null===(I=O?.error)||void 0===I?void 0:I["pbi.error"])||void 0===y?void 0:y.parameters)||void 0===j?void 0:j.GitErrorDetails;return rt&&(Ge=JSON.parse(rt)),Ge?{failedArtifactMetadata:Ge?.artifactType&&Ge?.artifactDisplayName?{artifactType:Ge.artifactType,artifactDisplayName:Ge.artifactDisplayName,artifactLogicalId:Ge.artifactLogicalId}:void 0,workloadErrorCode:null!==(ye=null===(Z=Ge?.errorDetails)||void 0===Z?void 0:Z.ErrorCode)&&void 0!==ye?ye:Ge?.errorCode,workloadErrorMessage:null===(Me=Ge?.errorDetails)||void 0===Me?void 0:Me.ErrorMessage,workloadErrorParameters:null===(Be=Ge?.errorDetails)||void 0===Be?void 0:Be.ErrorParameters}:{failedArtifactMetadata:void 0,workloadErrorCode:void 0,workloadErrorMessage:void 0,workloadErrorParameters:void 0}},z.prototype.parseAlmWorkloadError=function(O){var I,y,j,Z,ye;return{failedArtifactMetadata:{artifactDisplayName:O.artifactDisplayName,artifactType:O.artifactType,artifactLogicalId:O.artifactLogicalId},workloadErrorCode:null!==(y=null===(I=O.artifactErrorDetails)||void 0===I?void 0:I.ErrorCode)&&void 0!==y?y:O.errorCode,workloadErrorMessage:null===(j=O.artifactErrorDetails)||void 0===j?void 0:j.ErrorMessage,workloadErrorCategory:null===(Z=O.artifactErrorDetails)||void 0===Z?void 0:Z.ErrorCategory,workloadErrorParameters:null===(ye=O?.artifactErrorDetails)||void 0===ye?void 0:ye.ErrorParameters}},z.prototype.isGitAlmError=function(O,I){return I.gitOperationStatus===U.wM.Failed&&(!!I.gitNonInteractiveOperationErrorDetails||!!I.gitInteractiveOperationErrorDetailsList)&&(0,U.ve)(O)},z.prototype.getBranchOutError=function(O){var I,y,j,Z,ye,Me=null===(I=O.error)||void 0===I?void 0:I.code;if("Alm_InvalidBranchOutRequest_OperationFailureAfterFolderCreation"===Me){var Be=null===(ye=null===(Z=null===(j=null===(y=O.error)||void 0===y?void 0:y["pbi.error"])||void 0===j?void 0:j.details)||void 0===Z?void 0:Z[0])||void 0===ye?void 0:ye.code;if(Be)return Be}else if(Me)return Me;return"Git_Branch_Out_Failed"},z.\u0275fac=function(I){return new(I||z)(S.\u0275\u0275inject(f.uQ),S.\u0275\u0275inject(Te.z),S.\u0275\u0275inject(Ye.t))},z.\u0275prov=S.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"}),z}();(0,e.__assign)({errorType:"Git_MergePolicyNotSpecified"},{title:"MockTitle",message:"MockMessage"})},12385:function(qe,xe,m){m.d(xe,{mn:function(){return ue},K3:function(){return f}});var g=m(77476),p=m(65232),ie=m(50423),f=function(){function V(){}return V.\u0275fac=function(W){return new(W||V)},V.\u0275mod=ie.\u0275\u0275defineNgModule({type:V}),V.\u0275inj=ie.\u0275\u0275defineInjector({imports:[g.CommonModule,p.Nn]}),V}(),J=m(81337),S=m(42888),N=m(73471),e={style:"Trident"},U=(0,J.__assign)((0,J.__assign)({},e),{notificationType:N.k$.Loading}),ee=(0,J.__assign)((0,J.__assign)({},e),{notificationType:N.k$.Success}),x=(0,J.__assign)((0,J.__assign)({},e),{notificationType:N.k$.Error}),oe=m(7452),ue=function(){function V(h,W){this.localizationService=h,this.notificationService=W}return V.prototype.hideNotification=function(h){return this.notificationService.hide(h)},V.prototype.hideCurrentNotification=function(){this.notificationService.hideCurrentNotification()},V.prototype.showLoadingNotification=function(h,W){var K=(0,J.__assign)((0,J.__assign)({},U),{title:this.localizationService.get(h),message:W?this.localizationService.get(W):void 0});return this.notificationService.notify(K)},V.prototype.showSuccessNotification=function(h,W){var K=(0,J.__assign)((0,J.__assign)({},ee),{id:W,title:this.localizationService.get(h)});return this.notificationService.notify(K)},V.prototype.showErrorNotification=function(h,W,K){var H={action:"open.git.error.dialog",data:h},te={displayText:this.localizationService.get("View_Details"),action:H};return this.notificationService.notify((0,J.__assign)((0,J.__assign)({},x),{id:K,duration:S.S.Long,title:this.localizationService.get(W),message:this.localizationService.get("View_Details_Learn_More"),actionButtons:[te]}))},V.\u0275fac=function(W){return new(W||V)(ie.\u0275\u0275inject(oe.z),ie.\u0275\u0275inject(S.g))},V.\u0275prov=ie.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V}()},18016:function(qe,xe,m){m.d(xe,{wM:function(){return Ye},u9:function(){return Te},IS:function(){return ne},s_:function(){return _e},Z_:function(){return et},I:function(){return j},f7:function(){return y},LO:function(){return Z},Rv:function(){return ae},cW:function(){return ye},tI:function(){return vt},lz:function(){return N},n:function(){return Ge},A6:function(){return f},jZ:function(){return J},xT:function(){return e},L4:function(){return rt},KJ:function(){return U},VQ:function(){return ue},Ss:function(){return h},ve:function(){return H},pb:function(){return S},Fc:function(){return ee},yG:function(){return te},E6:function(){return oe},iX:function(){return W},QJ:function(){return we}});var g,p,ie=function(T){return T.AdalMultiFactorAuthEnrollRequiredErrorCode="AdalMultiFactorAuthEnrollRequiredErrorCode",T.AdalMultiFactorAuthRequiredErrorCode="AdalMultiFactorAuthRequiredErrorCode",T.AdalDeviceObjectNotFoundInTenantErrorCode="AdalDeviceObjectNotFoundInTenantErrorCode",T}({}),f=((g={}).Git_MissingRequiredParam={messageKey:"Trident_Git_Error_Git_Provider_API_Message",titleKey:"Trident_Git_Error_Git_Provider_API_Title"},g.Git_DirectoryHasInvalidSystemFiles={messageKey:"Trident_Git_Error_Git_DirectoryHasInvalidSystemFiles_Message",titleKey:"Trident_Git_Error_Git_DirectoryHasInvalidSystemFiles_Title"},g.Git_SelectedArtifactsDoNotBelongToWorkspace={messageKey:"Trident_Git_Error_Git_Undo_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},g.Git_AzureDevOpsMissingProjectName={messageKey:"Trident_Git_Error_Git_Connect_Failed_Message",titleKey:"Trident_Git_Error_Git_Connect_Failed_Title"},g.Git_UndoDuplicateArtifacts={messageKey:"Trident_Git_Error_Git_Undo_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},g.Git_CommitInvalidArtifacts={messageKey:"Trident_Git_Error_Git_InvalidCommitRequest_Message",titleKey:"Trident_Git_Error_Unable_To_Commit_Title"},g.Git_GitProviderApiFailed={messageKey:"Trident_Git_Error_Git_Provider_API_Message",titleKey:"Trident_Git_Error_Git_Provider_API_Title"},g.Git_GitProviderDeserialization={messageKey:"Trident_Git_Error_Git_Provider_API_Message",titleKey:"Trident_Git_Error_Git_Provider_API_Title"},g.Git_GitProviderResourceNotExistOrUnauthorized={messageKey:"Trident_Git_Error_Git_No_Permissions_ADO_Message",titleKey:"Trident_Git_Error_Git_No_Permissions_ADO_Title"},g.Git_WorkspaceAlreadyConnectedToGit={messageKey:"Trident_Git_Error_Git_Workspace_Already_Connected_To_Git_Message",titleKey:"Trident_Git_Error_Git_Workspace_Already_Connected_To_Git_Title"},g.Git_WorkspaceNotConnectedToGit={messageKey:"Trident_Git_Error_Git_Workspace_Not_Connected_To_Git_Message",titleKey:"Trident_Git_Error_Git_Workspace_Not_Connected_To_Git_Title"},g.Git_WorkspaceHasNoCapacity={messageKey:"Trident_Git_Error_Git_Workspace_Has_No_Capacity_Message",titleKey:"Pipelines_Error_FoldersHasNoCapacity_Title"},g.Git_InvalidPath={messageKey:"Trident_Git_Error_Git_Connection_Details_Message",titleKey:"Trident_Git_Error_Git_Connection_Details_Title"},g.Alm_InvalidRequest_PurgeRequired={messageKey:"Trident_Git_Error_Dataset_PurgeData_Message",titleKey:"Trident_Git_Error_AlmOperation_Update_Title"},g.Git_PotentialCrossGeo={messageKey:"Trident_Git_Error_Git_PotentialCrossGeo_Message",titleKey:"Trident_Git_Error_Git_PotentialCrossGeo_Title"},g.Git_DuplicateDisplayNameAndType={messageKey:"Trident_Git_Error_Git_DuplicateDisplayNameAndType_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},g.Git_CommitDuplicateArtifacts={messageKey:"Trident_Git_Error_Git_CommitDuplicateArtifacts_Message",titleKey:"Trident_Git_Error_Git_CommitDuplicateArtifacts_Title"},g.Git_HeadNotSynced={messageKey:"Trident_Git_Error_Git_HeadNotSynced_Message",titleKey:"Trident_Git_Error_Git_HeadNotSynced_Title"},g.Git_IdentifierExceededMaxLength={messageKey:"Trident_Git_Error_Git_IdentifierExceededMaxLength_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},g.Git_InvalidCommitRequest={messageKey:"Trident_Git_Error_Git_InvalidCommitRequest_Message",titleKey:"Trident_Git_Error_Unable_To_Commit_Title"},g.Git_InvalidUndoRequest={messageKey:"Trident_Git_Error_Git_Undo_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},g.Git_InvalidBranchName={messageKey:"Trident_Git_Error_Git_InvalidBranchName_Message",titleKey:"Trident_Git_Error_Git_InvalidBranchName_Title"},g.Git_InvalidDirectoryName={messageKey:"Trident_Git_Error_Git_InvalidDirectoryName_Message",titleKey:"Trident_Git_Error_Git_InvalidDirectoryName_Title"},g.Git_InvalidRequestNoFilesToCommit={messageKey:"Trident_Git_Error_Git_InvalidRequestNoFilesToCommit_Message",titleKey:"Trident_Git_Error_Git_InvalidRequestNoFilesToCommit_Title"},g.Git_PotentialMergeConflict={messageKey:"Trident_Git_Error_Git_PotentialMergeConflict_Message",titleKey:"Trident_Git_Error_Git_PotentialMergeConflict_Title"},g.Git_GitConnectionAlreadyInitialized={messageKey:"Trident_Git_Error_Git_GitConnectionAlreadyInitialized_Message",titleKey:"Trident_Git_Error_Git_GitConnectionAlreadyInitialized_Title"},g.Git_UnexpectedResponseFromGitProvider={messageKey:"Trident_Git_Error_Git_Provider_API_Message",titleKey:"Trident_Git_Error_Git_Provider_API_Title"},g.Git_DependenciesDeletionFailed={messageKey:"Trident_Git_Error_Git_DependenciesDeletionFailed_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},g.Git_MissingDependencies={messageKey:"Trident_Git_Error_Git_MissingDependencies_Message",titleKey:"Trident_Git_Error_Unable_To_Update_Title"},g.Git_MissingDependenciesSwitchBranch={messageKey:"Trident_Git_Error_Git_Switch_Branch_MissingDependencies_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_CyclicDependencyDetectedSwitchBranch={messageKey:"Trident_Git_Error_Git_Switch_Branch_MissingDependencies_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_CyclicDependencyDetected={messageKey:"Trident_Git_Error_Git_MissingDependencies_Message",titleKey:"Trident_Git_Error_Unable_To_Update_Title"},g.Git_ItemNotFound={titleKey:"Trident_Git_Error_Git_ItemNotFound_Title",messageKey:"Trident_Git_Error_Git_ItemNotFound_Message"},g.Git_PathTooLong={titleKey:"Trident_Git_Error_Git_PathTooLong_Title",messageKey:"Trident_Git_Error_Git_PathTooLong_Message"},g.Git_GitOperationWithSensitivityLabelsNotSupported={messageKey:"Trident_Git_Error_Git_GitOperationWithSensitivityLabelsNotSupported_Message",titleKey:"Trident_Git_Error_Git_GitOperationWithSensitivityLabelsNotSupported_Title"},g.Git_BranchDeleted={messageKey:"Trident_Git_Error_Git_BranchDeleted_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},g.Git_GitProviderCommitRejectedByPolicy={messageKey:"Trident_Git_Error_GitProviderCommitRejectedByPolicy_Message",titleKey:"Trident_Git_Error_GitProviderCommitRejectedByPolicy_Title"},g.Git_DirectoryNameDiffersByCase={messageKey:"Trident_Git_Error_Git_ItemNotFound_Message",titleKey:"Trident_Git_Error_Git_ItemNotFound_Title"},g.Git_GitIntegrationTenantAdminSwitchDisabled={messageKey:"Trident_Git_TenantAdminSwitchDisabled_Message",titleKey:"Trident_Git_TenantAdminSwitchDisabled_Title"},g.Git_GitProviderCommitMaxSizeExceeded={messageKey:"Trident_Git_Error_GitProviderCommitMaxSizeExceeded_Message",titleKey:"Trident_Git_Error_GitProviderCommitMaxSizeExceeded_Title"},g.Git_ExportDefinitionFailed={messageKey:"Trident_Git_Error_ExportDefinitionFailed_Message",titleKey:"Trident_Git_Error_ExportDefinitionFailed_Title"},g.Git_DiscoverDependenciesFailed={messageKey:"Trident_Git_Error_DiscoverDependenciesFailed_Message",titleKey:"Trident_Git_Error_DiscoverDependenciesFailed_Title"},g.Git_GitProviderUnauthorizedGuestUser={messageKey:"Trident_Git_Error_GitProviderUnauthorizedGuestUser_Message",titleKey:"Trident_Git_Error_GitProviderUnauthorizedGuestUser_Title"},g.Git_GitProviderCommitObjectRejected={messageKey:"Trident_Git_Error_GitProviderCommitObjectRejected_Message",titleKey:"Trident_Git_Error_GitProviderCommitRejectedByPolicy_Title"},g.Git_BranchNameAlreadyExists={messageKey:"Trident_Git_Error_Git_Branch_Name_Already_Exists_Message",titleKey:"Trident_Git_Error_Git_InvalidBranchName_Title"},g.Git_GitProviderAadUserStateError={messageKey:"Trident_Git_Error_GitProviderAadUserStateError_Message",titleKey:"Trident_Git_Error_Unable_To_Complete_Action_Title"},g.Git_Disconnect_No_Connection={messageKey:"Trident_Git_Error_Git_Disconnect_No_Connection_Message",titleKey:"Trident_Git_Error_Git_Disconnect_Failed_Title"},g.Git_Invalid_Connection_Details={messageKey:"Trident_Git_Error_Git_Invalid_Connection_Details_Message",titleKey:"Trident_Git_Error_Git_Invalid_Connection_Details_Title"},g.Git_ConnectionDetailsNotFound={messageKey:"Trident_Git_Error_Git_Connection_Details_Not_Found_Message",titleKey:"ErrorMessage_DefaultTitle"},g.Git_Workspace_Not_Initialized={messageKey:"Trident_Git_Error_Git_Workspace_Not_Initialized_Message",titleKey:"Trident_Git_Error_Git_Workspace_Not_Initialized_Title"},g.Git_Create_Branch_Origin_Branch_Not_Found={messageKey:"Trident_Git_Error_Git_Create_Branch_Origin_Branch_Not_Found_Message",titleKey:"Trident_Git_Error_Git_Create_Branch_Origin_Branch_Not_Found_Title"},g.Git_GitSwitchBranchWithUncommittedChanges={messageKey:"Trident_Git_Error_Git_Switch_Branch_Uncommited_Changes_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.GitGitInvalidSwitchBranchRequest={messageKey:"Trident_Git_Error_Git_Switch_Branch_Invalid_Request_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.GitSwitchBranchIdenticalBranchName={messageKey:"Trident_Git_Error_Git_Switch_Branch_Identical_Branch_Name_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_Switch_Branch_Item_Not_Found={messageKey:"Trident_Git_Error_Git_Switch_Branch_Item_Not_Found_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_Switch_Branch_Head_Not_Synced={messageKey:"Trident_Git_Error_Git_Switch_Branch_Head_Not_Synced_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_GitProviderCredentialsNotAuthorizedError={messageKey:"Trident_Git_Error_Git_CredentialsNotAuthorized_Message",titleKey:"Trident_Git_Error_Git_CredentialsNotAuthorized_Title"},g.Git_DuplicateArtifactsWithSameLogicalId={messageKey:"Trident_Git_Duplicate_LogicalId_Message",titleKey:"Trident_Git_Duplicate_LogicalId_Title"},g.Git_PotentialDuplicateDisplayNameAndType={messageKey:"Trident_Git_Error_Git_Potential_Duplicate_Diaplay_Name_And_Type_Message",titleKey:"Trident_Git_Error_AlmOperation_Update_Title"},g.Git_DisplayNameIsInvalid={messageKey:"Trident_Git_Error_Git_Display_Name_Is_Invalid_Message",titleKey:"Trident_Git_Error_AlmOperation_Update_Title"},g.Git_GitIntegrationBlockedByDataLossPrevention={messageKey:"Trident_Git_Blocked_DataLoss_Prevention_Message",titleKey:"Trident_Git_Blocked_DataLoss_Prevention_Title"},g.Git_Connect_Invalid_Request={messageKey:"Trident_Git_Error_Git_Connect_Failed_Message",titleKey:"Trident_Git_Error_Git_Connect_Failed_Title"},g.Git_Disconnect_Invalid_Request={messageKey:"Trident_Git_Error_Git_Disconnect_Failed_Message",titleKey:"Trident_Git_Error_Git_Disconnect_Failed_Title"},g.Git_Initialization_Invalid_Request={messageKey:"Trident_Git_Error_Git_Invalid_Initialization_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Initialize_Title"},g.Git_Undo_Invalid_Request={messageKey:"Trident_Git_Error_Undo_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},g[" Git_Commit_Invalid_Request"]={messageKey:"Trident_Git_Error_Git_InvalidCommitRequest_Message",titleKey:"Trident_Git_Error_Unable_To_Commit_Title"},g.Git_Update_Invalid_Request={messageKey:"Trident_Git_Error_Git_Update_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Update_Title"},g.Git_Create_Branch_Invalid_Request={messageKey:"Trident_Git_Error_Git_Create_Branch_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Create_Branch_Title"},g.Git_Create_Directory_Invalid_Request={messageKey:"Trident_Git_Error_Git_Create_Folder_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Create_Folder_Title"},g.Git_Switch_Branch_Invalid_Request={messageKey:"Trident_Git_Error_Git_Switch_Branch_Invalid_Request_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_Connect_Failed={messageKey:"Trident_Git_Error_Git_Connect_Failed_Message",titleKey:"Trident_Git_Error_Git_Connect_Failed_Title"},g.Git_Status_Failed={messageKey:"Trident_Git_Error_Git_Status_Failed_Message",titleKey:"Trident_Git_Error_Git_Status_Failed_Title"},g.Git_Create_Branch_Failed={messageKey:"Trident_Git_Error_Git_Create_Branch_Failed_Message",titleKey:"Trident_Git_Error_Git_Create_Branch_Failed_Title"},g.Git_Sync_Failed={messageKey:"Trident_Git_Error_Git_Sync_Failed_Message",titleKey:"Trident_Git_Error_Git_Sync_Failed_Title"},g.Git_Disconnect_Failed={messageKey:"Trident_Git_Error_Git_Disconnect_Failed_Message",titleKey:"Trident_Git_Error_Git_Disconnect_Failed_Title"},g.Git_Initialization_Failed={messageKey:"Trident_Git_Error_Git_Initialization_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Initialize_Title"},g.Git_Undo_Failed={messageKey:"Trident_Git_Error_Git_Undo_Failed_Message",titleKey:"Trident_Git_Error_Unable_To_Undo_Title"},g.Git_Commit_Failed={messageKey:"Trident_Git_Error_Git_InvalidCommitRequest_Message",titleKey:"Trident_Git_Error_Unable_To_Commit_Title"},g.Git_Update_Failed={messageKey:"Trident_Git_Error_Git_Update_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Update_Title"},g.Git_Create_Folder_Failed={messageKey:"Trident_Git_Error_Git_Create_Folder_Invalid_Request_Message",titleKey:"Trident_Git_Error_Unable_To_Create_Folder_Title"},g.Git_Checkout_Branch_Failed={messageKey:"Trident_Git_Error_Git_Checkout_Branch_Failed_Message",titleKey:"Trident_Git_Error_Git_Checkout_Branch_Failed_Title"},g.Git_Switch_Branch_Failed={messageKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Message",titleKey:"Trident_Git_Error_Git_Switch_Branch_Failed_Title"},g.Git_Get_Branches_Failed={messageKey:"Trident_Git_Error_Git_Get_Branches_Failed_Message",titleKey:"Trident_Git_Error_Git_Connection_Details_Title"},g.Git_Branch_Out_Failed={messageKey:"Trident_Git_Error_Git_Branch_Out_Failed_Message",titleKey:"Trident_Git_Error_Git_Branch_Out_Failed_Title"},g.Git_BranchOutIdenticalBranchNames={messageKey:"Trident_Git_Error_Git_Branch_Name_Already_Exists_Message",titleKey:"Trident_Git_Error_Git_InvalidBranchName_Title"},g.GitProviderRepositoryNotFoundException={messageKey:"Trident_Git_Provider_Repository_Not_Found_Error_Message",titleKey:"Trident_Git_Provider_Repository_Not_Found_Error_Title"},g.GitTreeSizeExceeded={messageKey:"Trident_Git_Tree_Size_Exceeded_Message",titleKey:"Trident_Git_Tree_Size_Exceeded_Title"},g.GitIntegrationGitHubTenantAdminSwitchDisabled={messageKey:"Trident_Git_GitHub_Tenant_Admin_Switch_Disabled_Message",titleKey:"Trident_Git_GitHub_Tenant_Admin_Switch_Disabled_Title"},g.GitTokenExpiredOrDeprecatedException={messageKey:"Trident_Git_Token_Expired_Or_Deprecated_Exception_Message",titleKey:"Trident_Git_Token_Expired_Or_Deprecated_Exception_Title"},g.Git_GitTokenProviderCredentialsKindMismatchError={messageKey:"Trident_Git_Git_Token_Provider_Credentials_Kind_Mismatch_Error_Message",titleKey:"Trident_Git_Git_Token_Provider_Credentials_Kind_Mismatch_Error_Title"},g.Git_GitTokenProviderCredentialsConnectionMismatchError={messageKey:"Trident_Git_Git_Token_Provider_Credentials_Connection_Mismatch_Error_Message",titleKey:"Trident_Git_Git_Token_Provider_Credentials_Connection_Mismatch_Error_Title"},g.Git_GitTokenProviderCredentialsInternalError={messageKey:"Trident_Git_Provider_Bad_Credentials_Message",titleKey:"Trident_Git_Provider_Bad_Credentials_Title"},g.Git_InvalidConfigureCredentialsRequest={messageKey:"Trident_Git_Invalid_Configure_Credentials_Request_Message",titleKey:"Trident_Git_Invalid_Configure_Credentials_Request_Title"},g.GitCommitInvalidOperationResult={messageKey:"Trident_Git_Commit_Invalid_Operation_Result_Message",titleKey:"Trident_Git_Commit_Invalid_Operation_Result_Title"},g.Git_GitProviderRateLimitExceeded={messageKey:"Trident_Git_Git_Provider_Rate_Limit_Exceeded_Message",titleKey:"Trident_Git_Git_Provider_Rate_Limit_Exceeded_Title"},g.Git_GitProviderBadCredentials={messageKey:"Trident_Git_Provider_Bad_Credentials_Message",titleKey:"Trident_Git_Provider_Bad_Credentials_Title"},g.Git_Create_Datasource_Failed={messageKey:"Trident_Git_Create_Datasource_Failed_Message",titleKey:"Trident_Git_Create_Datasource_Failed_Title"},g.Git_Load_Datasources_Failed={messageKey:"Trident_Git_Load_Datasources_Failed_Message",titleKey:"Trident_Git_Load_Datasources_Failed_Title"},g.Git_SQLDatabaseDisplayNameCannotBeChanged={messageKey:"Trident_Git_SQL_Database_Display_Name_Cannot_Be_Changed_Message",titleKey:"Trident_Git_SQL_Database_Display_Name_Cannot_Be_Changed_Title"},g.Git_GitHttpClientTimeout={messageKey:"Trident_Git_Error_Git_GitHttpClientTimeout_Message",titleKey:"MultiSelect_Shortcut_Failed"},g.Alm_InvalidBranchOutRequest_OperationFailureAfterFolderCreation={messageKey:"Trident_Git_Branch_Out_Error_Branch_Error_Message",titleKey:"Trident_Git_Branch_Out_Error_Branch_Error_Title"},g.AlmOperationFailed_CommitToGit={messageKey:"ErrorDialogHelperText_TechnicalDetails",titleKey:"Trident_Git_Error_AlmOperation_Commit_Title"},g.AlmOperationFailed_UndoFromGit={messageKey:"ErrorDialogHelperText_TechnicalDetails",titleKey:"Trident_Git_Error_AlmOperation_Undo_Title"},g.AlmOperationFailed_UpdateFromGit={messageKey:"ErrorDialogHelperText_TechnicalDetails",titleKey:"Trident_Git_Error_AlmOperation_Update_Title"},g.AlmOperationFailed_SwitchGitBranch={messageKey:"ErrorDialogHelperText_TechnicalDetails",titleKey:"Trident_Git_Error_AlmOperation_Switch_Branch_Title"},g.DMTS_DuplicateDataSourceNameError={messageKey:"Trident_Git_Data_Source_Name_Already_Exists_Message",titleKey:"Trident_Git_Data_Source_Name_Already_Exists_Title"},g.DM_GWPipeline_Gateway_MashupDataAccessError={messageKey:"Trident_Git_Provider_Bad_Credentials_Message",titleKey:"Trident_Git_Provider_Bad_Credentials_Title"},g),J=((p={}).Git_PotentialDuplicateDisplayNameAndType={moreInfoKeys:["Trident_Git_Error_Git_Potential_Duplicate_Diaplay_Name_And_Type_MoreInfo1","Trident_Git_Error_Git_Potential_Duplicate_Diaplay_Name_And_Type_MoreInfo2"]},p);function S(T){return T&&"GitError"===T.__tag}function N(T){return T?.errorsDetails[0]}function e(T,fe){return T?.errorsDetails.some(function(Ae){return Ae.errorType===fe})}function U(T){var fe,Ae=ie[null===(fe=T?.error)||void 0===fe?void 0:fe.code];return 400===T?.status&&!!Ae}function ee(T){var fe;return"Git_InvalidDirectoryName"===(null===(fe=T.error["pbi.error"])||void 0===fe?void 0:fe.code)}function oe(T){return e(T,"Git_MergePolicyNotSpecified")}function ue(T,fe){var Ae;return"AlmOperationFailed_CommitToGit"===T&&"Git_GitProviderCommitRejectedByPolicy"===(null===(Ae=fe?.gitNonInteractiveOperationErrorDetails)||void 0===Ae?void 0:Ae.errorCode)}function h(T,fe){var Ae;return"AlmOperationFailed_CommitToGit"===T&&"Git_GitProviderCommitMaxSizeExceeded"===(null===(Ae=fe?.gitNonInteractiveOperationErrorDetails)||void 0===Ae?void 0:Ae.errorCode)}function W(T,fe){return{__tag:"GitError",errorInfo:fe,errorsDetails:T}}function H(T){return!!De.find(function(fe){return fe===T})}function te(T){return e(T,"Git_ItemNotFound")||e(T,"Git_DirectoryNameDiffersByCase")}var E,_e=function(T){return T[T.SingleOption=0]="SingleOption",T[T.None=1]="None",T}({}),De=["AlmOperationFailed_CommitToGit","AlmOperationFailed_UndoFromGit","AlmOperationFailed_UpdateFromGit"],ne=function(T){return T[T.AzureDevOps=0]="AzureDevOps",T[T.GitHub=1]="GitHub",T}({}),we="optionNotEnabled",Te=function(T){return T[T.Commit=0]="Commit",T[T.Update=1]="Update",T[T.Initialize=2]="Initialize",T[T.Undo=3]="Undo",T[T.CheckoutBranch=4]="CheckoutBranch",T[T.SwitchBranch=5]="SwitchBranch",T}({}),Ye=function(T){return T[T.InProgress=0]="InProgress",T[T.Successful=1]="Successful",T[T.Failed=2]="Failed",T}({}),et=function(T){return T[T.None=0]="None",T[T.KeepYours=1]="KeepYours",T[T.TakeTheirs=2]="TakeTheirs",T}({}),R=function(T){return T.AzureDevOps="Azure DevOps",T.GitHub="GitHub",T}({}),ae=((E={})[ne.AzureDevOps]={type:ne.AzureDevOps,name:R.AzureDevOps,iconName:"azuredevops_logo_16_regular"},E[ne.GitHub]={type:ne.GitHub,name:R.GitHub,iconName:"github_logo"},E);function de(T){var fe,Ae=null===(fe=X(T))||void 0===fe?void 0:fe.repositoryLink;if(Ae)return{branchName:T.branchName,branchLink:Ae+"?version=GB".concat(T.branchName)}}function he(T){var fe,Ae=null===(fe=X(T))||void 0===fe?void 0:fe.repositoryLink;if(Ae&&T?.head)return{commitId:T.head,commitLink:Ae+"/commit/".concat(T.head,"/?refName=refs/heads/").concat(T.branchName)}}function X(T){if(T?.projectName)return{repositoryName:T.repositoryName,repositoryLink:"https://".concat(T.organizationName,".visualstudio.com/").concat(T.projectName,"/_git/").concat(T.repositoryName)}}function z(T){return{branchName:T.branchName,branchLink:I(T).repositoryLink+"/tree/".concat(T.branchName)}}function O(T){if(T?.head)return{commitId:T.head,commitLink:I(T).repositoryLink+"/commit/".concat(T.head)}}function I(T){return{repositoryName:T.repositoryName,repositoryLink:"https://github.com/".concat(T.organizationName,"/").concat(T.repositoryName)}}var y={credentialType:"Key",encryptedConnection:"Any",privacyLevel:"Private",skipTestConnection:!1,encryptionAlgorithm:"NONE"},j={singleSignOnType:"None",allowDatasourceThroughGateway:!1},Z="Extension",ye={name:"url",type:"nullable text",isRequired:!1},Me=["\\","?","*",":","|",'"',"<",">"],Be=["."," "];function Ge(T,fe,Ae){if(void 0===Ae&&(Ae="Trident_Git_Last_Synced_At"),fe){var Fe=T.currentLanguageLocale,ht=new Date(fe),ot=T.format("Trident_Git_Last_Synced_At",[ht.toLocaleDateString(Fe,{day:"numeric",month:"numeric",year:"numeric"}),ht.toLocaleTimeString(Fe,{hour:"numeric",minute:"numeric"})]);return"Trident_Git_Last_Synced_At"===Ae?ot:T.get(Ae)+ot}}function rt(){var T;return(T={})[ne.AzureDevOps]={getBranchReference:de,getHeadReference:he,getIconName:function(){return"azuredevops_logo_16_regular"},getRepositoryReference:X},T[ne.GitHub]={getBranchReference:z,getHeadReference:O,getIconName:function(){return"github_logo"},getRepositoryReference:I},T}function vt(T,fe){return Me.some(function(Ae){return T.includes(Ae)})?fe.get("Trident_Git_Error_Git_InvalidBranchName_Message"):Be.some(function(Ae){return T.endsWith(Ae)})?fe.get("Trident_Git_Error_Git_InvalidBranchNameSuffix_Message"):void 0}},57156:function(qe,xe,m){m.d(xe,{F:function(){return S}});var g=m(77476),p=m(78035),ie=m(17177),f=m(16622),J=m(50423),S=function(){function N(){}return N.\u0275fac=function(U){return new(U||N)},N.\u0275mod=J.\u0275\u0275defineNgModule({type:N}),N.\u0275inj=J.\u0275\u0275defineInjector({imports:[g.CommonModule,p.Y,ie.T6,f.u]}),N}()},13414:function(qe,xe,m){m.d(xe,{t:function(){return h}});var g=m(4437),p=m(50423),ie=m(17174),f=m(51193),J=m(77476),S=["switchInput"];function N(W,K){if(1&W&&(p.\u0275\u0275elementStart(0,"span",7),p.\u0275\u0275text(1),p.\u0275\u0275elementEnd()),2&W){var H=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate1(" ",H.label,"\n")}}function e(W,K){1&W&&(p.\u0275\u0275elementStart(0,"span",11),p.\u0275\u0275projection(1,1),p.\u0275\u0275elementEnd())}function U(W,K){if(1&W&&(p.\u0275\u0275elementStart(0,"div",8),p.\u0275\u0275element(1,"span",9),p.\u0275\u0275template(2,e,2,0,"span",10),p.\u0275\u0275elementEnd()),2&W){var H=p.\u0275\u0275nextContext();p.\u0275\u0275advance(2),p.\u0275\u0275property("ngIf",H.compact)}}function ee(W,K){1&W&&(p.\u0275\u0275elementStart(0,"div",12),p.\u0275\u0275element(1,"span",13),p.\u0275\u0275elementEnd())}var x=[[["tri-switch-text"],["","tri-switch-text",""]],[["inline-toggle-content"],["","inline-toggle-content",""]]],oe=["tri-switch-text, [tri-switch-text]","inline-toggle-content, [inline-toggle-content]"],ue=0,V=function(){return function(K,H){this.source=K,this.checked=H}}(),h=function(){function W(K,H,te){this.elementRef=K,this.focusMonitor=H,this.changeDetectorRef=te,this._disabled=!1,this._required=!1,this._compact=!1,this._checked=!1,this._indeterminate=!1,this.name=void 0,this._uniqueId="tri-switch-".concat(++ue),this.id=this._uniqueId,this.ariaLabel=void 0,this.ariaLabelledby=void 0,this.ariaDescribedby="",this.label=void 0,this.listenValueChange=new p.EventEmitter,this.toggleChange=new p.EventEmitter,this.inputElement={},this.onChange=function(){},this.onTouched=function(){}}return Object.defineProperty(W.prototype,"disabled",{get:function(){return this._disabled},set:function(H){this._disabled=(0,g.Ig)(H),this.changeDetectorRef.markForCheck()},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"required",{get:function(){return this._required},set:function(H){this._required=(0,g.Ig)(H)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"checked",{get:function(){return this._checked},set:function(H){this._checked=(0,g.Ig)(H),this.changeDetectorRef.markForCheck()},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"indeterminate",{get:function(){return this._indeterminate},set:function(H){this._indeterminate=(0,g.Ig)(H),this.changeDetectorRef.markForCheck()},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"compact",{get:function(){return this._compact},set:function(H){this._compact=(0,g.Ig)(H),this.changeDetectorRef.markForCheck()},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"inputId",{get:function(){return"".concat(this.id||this._uniqueId,"-input")},enumerable:!1,configurable:!0}),W.prototype.ngAfterContentInit=function(){var K=this;this.focusMonitor.monitor(this.elementRef,!0).subscribe(function(H){"keyboard"===H||"program"===H?K.inputElement.nativeElement.focus():H||Promise.resolve().then(function(){return K.onTouched()})})},W.prototype.ngOnDestroy=function(){this.focusMonitor.stopMonitoring(this.elementRef)},W.prototype.onInputChange=function(K,H){void 0===H&&(H=!1),K.stopPropagation(),this.toggleChange.emit(),this.checked=H?!this.inputElement.nativeElement.checked:this.inputElement.nativeElement.checked,this.indeterminate=!H&&this.indeterminate,this.emitChangeEvent()},W.prototype.onInputClick=function(K){K.stopPropagation()},W.prototype.writeValue=function(K){this.checked=!!K},W.prototype.registerOnChange=function(K){this.onChange=K},W.prototype.registerOnTouched=function(K){this.onTouched=K},W.prototype.setDisabledState=function(K){this.disabled=K,this.changeDetectorRef.markForCheck()},W.prototype.focus=function(K,H){H?this.focusMonitor.focusVia(this.inputElement,H,K):this.inputElement.nativeElement.focus(K)},W.prototype.emitChangeEvent=function(){this.onChange(this.checked),this.listenValueChange.emit(new V(this,this.checked))},W.\u0275fac=function(H){return new(H||W)(p.\u0275\u0275directiveInject(p.ElementRef),p.\u0275\u0275directiveInject(f.tE),p.\u0275\u0275directiveInject(p.ChangeDetectorRef))},W.\u0275cmp=p.\u0275\u0275defineComponent({type:W,selectors:[["tri-switch"]],viewQuery:function(H,te){var _e;(1&H&&p.\u0275\u0275viewQuery(S,5),2&H)&&(p.\u0275\u0275queryRefresh(_e=p.\u0275\u0275loadQuery())&&(te.inputElement=_e.first))},hostAttrs:[1,"tri-switch"],hostVars:10,hostBindings:function(H,te){2&H&&(p.\u0275\u0275hostProperty("id",te.id),p.\u0275\u0275attribute("tabindex",te.disabled?null:-1)("aria-label",null)("aria-labelledby",null),p.\u0275\u0275classProp("compact",te.compact)("checked",te.checked)("disabled",te.disabled))},inputs:{name:"name",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],label:"label",disabled:"disabled",required:"required",checked:"checked",indeterminate:"indeterminate",compact:"compact"},outputs:{listenValueChange:"listenValueChange",toggleChange:"toggleChange"},exportAs:["triSwitch"],features:[p.\u0275\u0275ProvidersFeature([{provide:ie.JU,useExisting:(0,p.forwardRef)(function(){return W}),multi:!0}])],ngContentSelectors:oe,decls:9,vars:17,consts:[["aria-hidden","true","class","tri-switch-label",4,"ngIf"],[1,"tri-switch-internal"],["type","checkbox","role","checkbox",1,"tri-switch-input","cdk-visually-hidden",3,"id","checked","indeterminate","disabled","required","change","click","keydown.enter"],["switchInput",""],["class","tri-switch-circle",4,"ngIf"],["class","tri-switch-rect",4,"ngIf"],["aria-hidden","true",1,"tri-switch-text"],["aria-hidden","true",1,"tri-switch-label"],[1,"tri-switch-circle"],["aria-hidden","true",1,"tri-switch-checkmark"],["class","tri-toggle-inner-text",4,"ngIf"],[1,"tri-toggle-inner-text"],[1,"tri-switch-rect"],["aria-hidden","true",1,"tri-switch-dash"]],template:function(H,te){1&H&&(p.\u0275\u0275projectionDef(x),p.\u0275\u0275template(0,N,2,1,"span",0),p.\u0275\u0275elementStart(1,"label",1)(2,"input",2,3),p.\u0275\u0275listener("change",function(De){return te.onInputChange(De,!1)})("click",function(De){return te.onInputClick(De)})("keydown.enter",function(De){return te.onInputChange(De,!0)}),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(4,"section"),p.\u0275\u0275template(5,U,3,1,"div",4),p.\u0275\u0275template(6,ee,2,0,"div",5),p.\u0275\u0275elementStart(7,"span",6),p.\u0275\u0275projection(8),p.\u0275\u0275elementEnd()()()),2&H&&(p.\u0275\u0275property("ngIf",te.label),p.\u0275\u0275advance(1),p.\u0275\u0275classProp("disabled",te.disabled)("indeterminate",te.indeterminate),p.\u0275\u0275attribute("for",te.inputId),p.\u0275\u0275advance(1),p.\u0275\u0275property("id",te.inputId)("checked",te.checked&&!te.indeterminate)("indeterminate",te.indeterminate)("disabled",te.disabled)("required",te.required),p.\u0275\u0275attribute("name",te.name)("aria-label",te.ariaLabel||te.label)("aria-labelledby",te.ariaLabelledby)("aria-describedby",te.ariaDescribedby),p.\u0275\u0275advance(3),p.\u0275\u0275property("ngIf",!te.indeterminate),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",te.indeterminate))},dependencies:[J.NgIf],styles:['.compact[_nghost-%COMP%]   .tri-switch-circle[_ngcontent-%COMP%], .compact[_nghost-%COMP%]   .tri-switch-rect[_ngcontent-%COMP%]{width:32px;height:16px}.compact[_nghost-%COMP%]   .tri-switch-label[_ngcontent-%COMP%]{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:400;margin-bottom:8px}.compact[_nghost-%COMP%]   .tri-switch-text[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200);line-height:16px}.compact[_nghost-%COMP%]   .tri-switch-checkmark[_ngcontent-%COMP%]{width:8px;height:8px}.compact[_nghost-%COMP%]   .tri-switch-dash[_ngcontent-%COMP%]{width:8px;height:2px}.compact[_nghost-%COMP%]   .tri-toggle-inner-text[_ngcontent-%COMP%]{display:flex;font-family:var(--fontFamilyBase);font-size:9px}.compact[_nghost-%COMP%]   .tri-switch-internal[_ngcontent-%COMP%]:not(.disabled)   .tri-switch-input[_ngcontent-%COMP%] + section[_ngcontent-%COMP%]   .tri-toggle-inner-text[_ngcontent-%COMP%]{color:var(--colorNeutralForeground3)}.compact[_nghost-%COMP%]   .tri-switch-internal[_ngcontent-%COMP%]:not(.disabled)   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-toggle-inner-text[_ngcontent-%COMP%]{color:var(--colorNeutralForegroundOnBrand)}.compact[_nghost-%COMP%]   .tri-switch-internal[_ngcontent-%COMP%]:not(.disabled)   .tri-switch-rect[_ngcontent-%COMP%]{color:var(--colorNeutralForegroundInverted)}.compact[_nghost-%COMP%]   .tri-switch-internal[_ngcontent-%COMP%]:hover   .tri-switch-input[_ngcontent-%COMP%]:not(:checked) + section[_ngcontent-%COMP%]   .tri-toggle-inner-text[_ngcontent-%COMP%]{color:var(--colorNeutralForeground3)}.compact[_nghost-%COMP%]   .tri-switch-internal[_ngcontent-%COMP%]:hover   .tri-switch-rect[_ngcontent-%COMP%]{color:var(--colorNeutralForegroundInverted)}.compact[_nghost-%COMP%]   .tri-switch-internal.disabled[_ngcontent-%COMP%]   .tri-switch-input[_ngcontent-%COMP%]:not(:checked) + section[_ngcontent-%COMP%]   .tri-toggle-inner-text[_ngcontent-%COMP%]{color:var(--colorNeutralForegroundDisabled)}.compact[_nghost-%COMP%]   .tri-switch-internal.disabled[_ngcontent-%COMP%]   .tri-switch-rect[_ngcontent-%COMP%], .compact[_nghost-%COMP%]   .tri-switch-internal.disabled[_ngcontent-%COMP%]   .tri-switch-text[_ngcontent-%COMP%]{color:var(--colorNeutralForegroundDisabled)}  .tri-switch{display:inline-block;border:2px solid transparent}@media (forced-colors: active){  .tri-switch{border-color:transparent;forced-color-adjust:none}}  .tri-switch.cdk-keyboard-focused:focus-within{border:2px solid var(--colorNeutralStrokeFocus2);border-radius:var(--borderRadiusMedium)}.tri-switch-internal[_ngcontent-%COMP%]{cursor:pointer;display:flex;position:relative;padding:8px 0}.tri-switch-internal[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{align-items:center;display:flex}.tri-switch-internal[_ngcontent-%COMP%]   input[type=checkbox].tri-switch-input[_ngcontent-%COMP%]{position:absolute;width:0;height:0;opacity:0}.tri-switch-internal.disabled[_ngcontent-%COMP%]{color:var(--colorNeutralForegroundDisabled);cursor:default}.tri-switch-internal.disabled[_ngcontent-%COMP%]   .tri-switch-label[_ngcontent-%COMP%]{cursor:default}.tri-switch-internal.disabled[_ngcontent-%COMP%]   .tri-switch-checkmark[_ngcontent-%COMP%]{background-color:var(--colorNeutralForegroundDisabled)}.tri-switch-internal.disabled[_ngcontent-%COMP%]   .tri-switch-circle[_ngcontent-%COMP%]{border-color:var(--colorNeutralForegroundDisabled)}.tri-switch-internal.disabled[_ngcontent-%COMP%]   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-checkmark[_ngcontent-%COMP%]{background-color:var(--colorNeutralForegroundDisabled)}.tri-switch-internal.disabled[_ngcontent-%COMP%]   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-circle[_ngcontent-%COMP%]{background-color:var(--colorNeutralBackgroundDisabled);border-color:var(--colorNeutralBackgroundDisabled)}.tri-switch-internal[_ngcontent-%COMP%]:hover:not(.disabled)   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-circle[_ngcontent-%COMP%]{border-color:transparent}.tri-switch-internal[_ngcontent-%COMP%]:hover:not(.disabled)   .tri-switch-checkmark[_ngcontent-%COMP%]{background-color:var(--colorNeutralForeground3Hover)}.tri-switch-internal[_ngcontent-%COMP%]:hover:not(.disabled)   .tri-switch-circle[_ngcontent-%COMP%]{border-color:var(--colorNeutralForeground3Hover)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled)   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-checkmark[_ngcontent-%COMP%]{background-color:var(--colorNeutralForegroundInverted)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled)   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-circle[_ngcontent-%COMP%]{background-color:var(--colorCompoundBrandBackground);border-color:var(--colorCompoundBrandStroke)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled)   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-rect[_ngcontent-%COMP%]{background-color:var(--colorCompoundBrandBackground);border-color:var(--colorCompoundBrandStroke)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled)   .tri-switch-rect[_ngcontent-%COMP%]{background-color:var(--colorCompoundBrandBackground);border-color:var(--colorCompoundBrandStroke)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled):hover   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-circle[_ngcontent-%COMP%]{background-color:var(--colorBrandBackgroundHover);border-color:var(--colorCompoundBrandStroke)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled):hover   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-rect[_ngcontent-%COMP%]{background-color:var(--colorBrandBackgroundHover);border-color:var(--colorCompoundBrandStroke)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled):active   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-circle[_ngcontent-%COMP%]{background-color:var(--colorBrandBackgroundPressed);border-color:var(--colorBrandBackgroundPressed)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled):active   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-rect[_ngcontent-%COMP%]{background-color:var(--colorBrandBackgroundPressed);border-color:var(--colorBrandBackgroundPressed)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled):focus{border:2px solid var(--colorNeutralStrokeFocus2);border-radius:var(--borderRadiusMedium)}.tri-switch-internal[_ngcontent-%COMP%]:not(.disabled):focus:after{border-radius:var(--borderRadiusSmall);border:1px solid var(--colorNeutralStrokeFocus1);content:"";display:block;height:calc(100% - 2px);width:calc(100% - 1px);position:absolute;left:0;bottom:0;top:0;right:0}.tri-switch-internal[_ngcontent-%COMP%]   .tri-switch-input[_ngcontent-%COMP%]:checked + section[_ngcontent-%COMP%]   .tri-switch-circle[_ngcontent-%COMP%]{flex-direction:row-reverse}.tri-switch-internal[_ngcontent-%COMP%]   .tri-switch-input[_ngcontent-%COMP%]{position:absolute}.tri-switch-circle[_ngcontent-%COMP%], .tri-switch-rect[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row;flex-shrink:0;justify-content:space-between;padding:2px 4px;width:40px;height:20px;border:1px solid var(--colorNeutralStrokeAccessible);border-radius:10px;box-sizing:border-box;transition-property:background,border,border-color;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.23,1);overflow:hidden;background:var(--colorNeutralBackground1)}  html[data-focus-source=key] .tri-switch-input:focus+section{outline-offset:2px}.tri-switch-label[_ngcontent-%COMP%]{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:400;display:block;margin-bottom:12px}.tri-switch-text[_ngcontent-%COMP%]{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);color:var(--colorNeutralForeground1);line-height:20px;margin:0 0 0 12px}.tri-switch-checkmark[_ngcontent-%COMP%]{background-color:var(--colorNeutralForeground3);border-radius:50%;margin:2px 0;width:14px;height:14px}.tri-switch-dash[_ngcontent-%COMP%]{background-color:var(--colorNeutralForegroundInverted);border-radius:20%;margin:auto;width:14px;height:4px}'],changeDetection:0}),W}()},30651:function(qe,xe,m){m.d(xe,{Jy:function(){return f}});var g=m(77476),p=m(17177),ie=m(50423),f=function(){function J(){}return J.\u0275fac=function(N){return new(N||J)},J.\u0275mod=ie.\u0275\u0275defineNgModule({type:J}),J.\u0275inj=ie.\u0275\u0275defineInjector({imports:[g.CommonModule,p.T6]}),J}()},70605:function(qe,xe,m){m.r(xe),m.d(xe,{AutoSaveFieldsActivityName:function(){return Tr},AzureConnectionResourceType:function(){return Dt},CacheTypes:function(){return Nn},ConfigurationContentType:function(){return bt},DatasourceBindingSecurityMode:function(){return Rn},EditConfigurationType:function(){return It},LicenseMode:function(){return pe},OperationState:function(){return Td},OperationType:function(){return Od},PrivateEndpointConnectionStateStatus:function(){return Wt},PrivateEndpointProvisioningState:function(){return Ot},PrivateEndpointsColumn:function(){return Jt},StorageFormat:function(){return Zt},WorkspaceIdentityProvisionState:function(){return Qe},WorkspaceIdentityRole:function(){return Ni},WorkspaceIdentityUsersColumn:function(){return $i},WorkspaceSettingsModule:function(){return ea},WorkspaceShellSettingsViewComponent:function(){return vg},datasourceGroup_CognitiveServices:function(){return Di},datasourceGroup_Databricks:function(){return xr},datasourceGroup_DocumentDb:function(){return Cr},datasourceGroup_EventHub:function(){return Mr},datasourceGroup_IOTHub:function(){return Qo},datasourceGroup_Insights:function(){return Sr},datasourceGroup_KeyVault:function(){return yr},datasourceGroup_Kusto:function(){return Bi},datasourceGroup_MachineLearningService:function(){return Gi},datasourceGroup_MariaDB:function(){return hr},datasourceGroup_MySQL:function(){return fr},datasourceGroup_Network_ApplicationGateway:function(){return br},datasourceGroup_Network_PrivateLinkService:function(){return wr},datasourceGroup_PostgreSQL:function(){return Ko},datasourceGroup_Purview:function(){return Ho},datasourceGroup_Search:function(){return kr},datasourceGroup_Sql:function(){return Xo},datasourceGroup_SqlManagedInstance:function(){return Yo},datasourceGroup_Storage:function(){return zi},datasourceGroup_Synapse:function(){return Ai},datasourceGroup_Web:function(){return Ir},getDatasourceConfigs:function(){return za},getErrorCodeLearnMore:function(){return An},isPrivateEndpointsErrorMessage:function(){return Zo},isVNetErrorMessage:function(){return zn},resourceIdRegex:function(){return Aa}});var g=m(77476),p=m(17174),ie=m(87650),f=m(48205),J=m(57746),S=m(78035),N=m(65152),e=m(50423),U=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule]}),i}(),ee=m(5915),x=m(44913),oe=m(47768),ue=m(46303),V=m(17177),h=m(8816),W=m(16149),K=m(95228),H=m(14977),te=m(57156),_e=m(30651),De=m(44408),ne=m(70628),be=m(10510),we=m(65232),Te=m(32980),Ye=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule,H.B,Te.sp,W.m,S.Y,K.W,V.T6]}),i}(),et=function(){function i(r){this.gitInitializeFacade=r}return i.prototype.initializeGitConnection=function(r){return this.gitInitializeFacade.initializeGitConnection(r)},i.prototype.getGitInitializationState=function(r){return this.gitInitializeFacade.getGitInitializationState(r)},i.prototype.getGitInitializationCallState=function(r){return this.gitInitializeFacade.getGitInitializationCallState(r)},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275inject(ne.REK))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i}(),P=function(i){return i[i.None=0]="None",i[i.KeepYours=1]="KeepYours",i[i.TakeTheirs=2]="TakeTheirs",i}({}),E=m(7452),R=m(32293),ae=m(10965),de=m(95825),he=m(65e3),X=m(37350),z=m(89330),O=m(74913),I=m(55334);function y(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"tri-checkbox",10),e.\u0275\u0275listener("onChange",function(o){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onCheckboxClick(o))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,1,"Trident_Git_Override_Checkbox_Information")," "))}var tt,gt,Ze,pt,_t,j="cancelButton",Z="syncButtonName",ye=function(){function i(r,n){this.localizationService=r,this.dialogRef=n,this._isSyncButtonDisabled=!0,this._selectedMergePolicy=null,this._isOverrideCheckboxChecked=!1,this.MergePolicy=P,this.dialogData={title:this.localizationService.get("Trident_Git_Sync_Title"),buttons:[{name:Z,label:this.localizationService.get("Sync"),buttonType:"primary",disabled:this.isSyncButtonDisabled},{name:j,label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]}}return i.prototype.onMergePolicyChange=function(r,n){r&&(this._isOverrideCheckboxChecked=!1,this._selectedMergePolicy=n),this.calculateSyncButtonState()},i.prototype.onCheckboxClick=function(r){this._isOverrideCheckboxChecked=r,this.calculateSyncButtonState()},i.prototype.onButtonClick=function(r){r===j?this.dialogRef.close(null):r===Z&&this.dialogRef.close(this._selectedMergePolicy)},i.prototype.calculateSyncButtonState=function(){this.isSyncButtonDisabled=null===this._selectedMergePolicy||this._selectedMergePolicy===P.TakeTheirs&&!this._isOverrideCheckboxChecked},Object.defineProperty(i.prototype,"isSyncButtonDisabled",{get:function(){return this._isSyncButtonDisabled},set:function(n){this._isSyncButtonDisabled=n,this.dialogData.buttons[0].disabled=n},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selectedMergePolicy",{get:function(){return this._selectedMergePolicy},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isOverrideCheckboxChecked",{get:function(){return this._isOverrideCheckboxChecked},enumerable:!1,configurable:!0}),i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(R.so))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-git-merge-policy-selection"]],decls:24,vars:21,consts:[[3,"dialogData","buttonClickEvent"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2235445&clcid=0x409","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon"],[1,"radio-button-container"],[1,"keep-yours",3,"value","checked","change"],[1,"radio-button-text"],[1,"take-theirs",3,"value","checked","change"],[1,"message-bar"],["tri-svg-icon-20","","name","important_20_filled"],["class","checkbox",4,"ngIf"],[1,"checkbox"],[3,"onChange"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"trident-dialog",0),e.\u0275\u0275listener("buttonClickEvent",function(s){return t.onButtonClick(s)}),e.\u0275\u0275elementStart(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"tri-link",1),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"tri-radio-group")(8,"div",2)(9,"tri-radio-button",3),e.\u0275\u0275listener("change",function(s){return t.onMergePolicyChange(s,t.MergePolicy.KeepYours)}),e.\u0275\u0275elementStart(10,"span",4),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"div",2)(14,"tri-radio-button",5),e.\u0275\u0275listener("change",function(s){return t.onMergePolicyChange(s,t.MergePolicy.TakeTheirs)}),e.\u0275\u0275elementStart(15,"span",4),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",6),e.\u0275\u0275element(19,"tri-svg-icon",7),e.\u0275\u0275elementStart(20,"span"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(23,y,5,3,"div",8),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("dialogData",t.dialogData),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,11,"Trident_Git_Sync_Details")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,13,"LearnMore")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("value",t.MergePolicy.KeepYours)("checked",t.selectedMergePolicy===t.MergePolicy.KeepYours),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,15,"Trident_Git_Sync_From_Workspace_To_Git")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",t.MergePolicy.TakeTheirs)("checked",t.selectedMergePolicy===t.MergePolicy.TakeTheirs),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,17,"Trident_Git_Sync_From_Git_To_Workspace")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(22,19,"Trident_Git_Override_Warning")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.selectedMergePolicy===t.MergePolicy.TakeTheirs))},dependencies:[g.NgIf,ae.r,de.v,he.v,X.Y,z.Z,O.M,I.Y],styles:["[_nghost-%COMP%]     .mat-mdc-dialog-content.dialog-body{display:flex;flex-direction:column;gap:16px;max-height:none}p[_ngcontent-%COMP%]{margin-bottom:0}tri-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}tri-radio-group[_ngcontent-%COMP%]   .radio-button-container[_ngcontent-%COMP%]{border:1px solid var(--globalColorGrey82);border-radius:8px;padding:16px}tri-radio-group[_ngcontent-%COMP%]   .radio-button-container[_ngcontent-%COMP%]   tri-radio-button[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:center;gap:8px}tri-radio-group[_ngcontent-%COMP%]   .radio-button-container[_ngcontent-%COMP%]   tri-radio-button[_ngcontent-%COMP%]   .radio-button-text[_ngcontent-%COMP%]{color:var(--globalColorGrey14);font-size:14px}.message-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px;padding:6px 8px;margin-top:8px;background:var(--globalColorDarkOrangeTint60);border-bottom:1px solid var(--globalColorDarkOrangeTint40)}.message-bar[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorDarkOrangeShade10)}.message-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--globalColorDarkOrangeShade10);font-size:12px}.checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}"],changeDetection:0}),i}(),Me=m(12385),Be=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule,ne.DAQ,p.u5,be.FF,we.Nn,Ye,Me.K3,De.Ps,te.F,Te.sp,x.lK,W.m,S.Y,oe.I,ue.b,ee.d,V.T6,h.w]}),i}(),T=m(90341),fe=m(37419),Ae=m(94130),Fe=m(4437),ht=m(10519),ot=m(48138),ct=m(30794),Oe=["knob"],Ce=["valueIndicatorContainer"];function Re(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",4,5)(2,"div",6)(3,"span",7),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(n.valueIndicatorText)}}var Je=["trackActive"];function kt(i,r){if(1&i&&e.\u0275\u0275element(0,"div"),2&i){var n=r.$implicit,t=r.index,o=e.\u0275\u0275nextContext(3);e.\u0275\u0275classMap(0===n?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),e.\u0275\u0275styleProp("transform",o._calcTickMarkTransform(t))}}function ft(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,kt,1,4,"div",11),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n._tickMarks)}}function lt(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",8,9),e.\u0275\u0275template(2,ft,2,1,"ng-container",10),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n._cachedWidth)}}function bn(i,r){if(1&i&&e.\u0275\u0275element(0,"mat-slider-visual-thumb",7),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("discrete",n.discrete)("thumbPosition",1)("valueIndicatorText",n.startValueIndicatorText)}}var kn=new e.InjectionToken("_MatSlider"),at=new e.InjectionToken("_MatSliderThumb"),In=new e.InjectionToken("_MatSliderRangeThumb"),Vi=new e.InjectionToken("_MatSliderVisualThumb"),ji=function(){function i(n,t,o,s){var l=this;this._cdr=n,this._ngZone=t,this._slider=s,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=function(v){if(!l._sliderInput._isFocused){var C=l._hostElement.getBoundingClientRect(),w=l._slider._isCursorOnSliderThumb(v,C);l._isHovered=w,w?l._showHoverRipple():l._hideRipple(l._hoverRippleRef)}},this._onMouseLeave=function(){l._isHovered=!1,l._hideRipple(l._hoverRippleRef)},this._onFocus=function(){l._hideRipple(l._hoverRippleRef),l._showFocusRipple(),l._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=function(){l._isActive||l._hideRipple(l._focusRippleRef),l._isHovered&&l._showHoverRipple(),l._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=function(v){0===v.button&&(l._isActive=!0,l._showActiveRipple())},this._onDragEnd=function(){l._isActive=!1,l._hideRipple(l._activeRippleRef),l._sliderInput._isFocused||l._hideRipple(l._focusRippleRef)},this._hostElement=o.nativeElement}var r=i.prototype;return r.ngAfterViewInit=function(){var t=this;this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;var o=this._sliderInputEl;this._ngZone.runOutsideAngular(function(){o.addEventListener("pointermove",t._onPointerMove),o.addEventListener("pointerdown",t._onDragStart),o.addEventListener("pointerup",t._onDragEnd),o.addEventListener("pointerleave",t._onMouseLeave),o.addEventListener("focus",t._onFocus),o.addEventListener("blur",t._onBlur)})},r.ngOnDestroy=function(){var t=this._sliderInputEl;t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)},r._showHoverRipple=function(){var t;this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),null==(t=this._hoverRippleRef)||t.element.classList.add("mat-mdc-slider-hover-ripple"))},r._showFocusRipple=function(){var t;this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),null==(t=this._focusRippleRef)||t.element.classList.add("mat-mdc-slider-focus-ripple"))},r._showActiveRipple=function(){var t;this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),null==(t=this._activeRippleRef)||t.element.classList.add("mat-mdc-slider-active-ripple"))},r._isShowingRipple=function(t){return 0===t?.state||1===t?.state},r._showRipple=function(t,o){var s;if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),null==(s=this._slider._globalRippleOptions)||!s.disabled||o))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})},r._hideRipple=function(t){if(t?.fadeOut(),!this._isShowingAnyRipple()){this._slider._isRange||this._hideValueIndicator();var o=this._getSibling();o._isShowingAnyRipple()||(this._hideValueIndicator(),o._hideValueIndicator())}},r._showValueIndicator=function(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")},r._hideValueIndicator=function(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")},r._getSibling=function(){return this._slider._getThumb(1===this.thumbPosition?2:1)},r._getValueIndicatorContainer=function(){var t;return null==(t=this._valueIndicatorContainer)?void 0:t.nativeElement},r._getKnob=function(){return this._knob.nativeElement},r._isShowingAnyRipple=function(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)},i}();(tt=ji).\u0275fac=function(r){return new(r||tt)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(kn))},tt.\u0275cmp=e.\u0275\u0275defineComponent({type:tt,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(r,n){var t;1&r&&(e.\u0275\u0275viewQuery(ot.wG,5),e.\u0275\u0275viewQuery(Oe,5),e.\u0275\u0275viewQuery(Ce,5)),2&r&&(e.\u0275\u0275queryRefresh(t=e.\u0275\u0275loadQuery())&&(n._ripple=t.first),e.\u0275\u0275queryRefresh(t=e.\u0275\u0275loadQuery())&&(n._knob=t.first),e.\u0275\u0275queryRefresh(t=e.\u0275\u0275loadQuery())&&(n._valueIndicatorContainer=t.first))},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[e.\u0275\u0275ProvidersFeature([{provide:Vi,useExisting:tt}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(r,n){1&r&&(e.\u0275\u0275template(0,Re,5,1,"div",0),e.\u0275\u0275element(1,"div",1,2)(3,"div",3)),2&r&&(e.\u0275\u0275property("ngIf",n.discrete),e.\u0275\u0275advance(3),e.\u0275\u0275property("matRippleDisabled",!0))},dependencies:[g.NgIf,ot.wG],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0});var xn=(0,ot.pj)((0,ot.Kr)(function(){return function(r){this._elementRef=r}}()),"primary");(gt=function(i){(0,fe.Z)(n,i);var r=n.prototype;function n(t,o,s,l,v,C){var w;return(w=i.call(this,s)||this)._ngZone=t,w._cdr=o,w._dir=l,w._globalRippleOptions=v,w._disabled=!1,w._discrete=!1,w._showTickMarks=!1,w._min=0,w._max=100,w._step=1,w.displayWith=function(G){return""+G},w._rippleRadius=24,w.startValueIndicatorText="",w.endValueIndicatorText="",w._isRange=!1,w._isRtl=!1,w._hasViewInitialized=!1,w._tickMarkTrackWidth=0,w._hasAnimation=!1,w._resizeTimer=null,w._platform=(0,e.inject)(ht.t4),w._knobRadius=8,w._thumbsOverlap=!1,w._noopAnimations="NoopAnimations"===C,w._dirChangeSubscription=w._dir.change.subscribe(function(){return w._onDirChange()}),w._isRtl="rtl"===w._dir.value,w}return r._updateMin=function(o){var s=this._min;this._min=o,this._isRange?this._updateMinRange({old:s,new:o}):this._updateMinNonRange(o),this._onMinMaxOrStepChange()},r._updateMinRange=function(o){var s=this._getInput(2),l=this._getInput(1),v=s.value,C=l.value;l.min=o.new,s.min=Math.max(o.new,l.value),l.max=Math.min(s.max,s.value),l._updateWidthInactive(),s._updateWidthInactive(),o.new<o.old?this._onTranslateXChangeBySideEffect(s,l):this._onTranslateXChangeBySideEffect(l,s),v!==s.value&&this._onValueChange(s),C!==l.value&&this._onValueChange(l)},r._updateMinNonRange=function(o){var s=this._getInput(2);if(s){var l=s.value;s.min=o,s._updateThumbUIByValue(),this._updateTrackUI(s),l!==s.value&&this._onValueChange(s)}},r._updateMax=function(o){var s=this._max;this._max=o,this._isRange?this._updateMaxRange({old:s,new:o}):this._updateMaxNonRange(o),this._onMinMaxOrStepChange()},r._updateMaxRange=function(o){var s=this._getInput(2),l=this._getInput(1),v=s.value,C=l.value;s.max=o.new,l.max=Math.min(o.new,s.value),s.min=l.value,s._updateWidthInactive(),l._updateWidthInactive(),o.new>o.old?this._onTranslateXChangeBySideEffect(l,s):this._onTranslateXChangeBySideEffect(s,l),v!==s.value&&this._onValueChange(s),C!==l.value&&this._onValueChange(l)},r._updateMaxNonRange=function(o){var s=this._getInput(2);if(s){var l=s.value;s.max=o,s._updateThumbUIByValue(),this._updateTrackUI(s),l!==s.value&&this._onValueChange(s)}},r._updateStep=function(o){this._step=o,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()},r._updateStepRange=function(){var o=this._getInput(2),s=this._getInput(1),l=o.value,v=s.value,C=s.value;o.min=this._min,s.max=this._max,o.step=this._step,s.step=this._step,this._platform.SAFARI&&(o.value=o.value,s.value=s.value),o.min=Math.max(this._min,s.value),s.max=Math.min(this._max,o.value),s._updateWidthInactive(),o._updateWidthInactive(),o.value<C?this._onTranslateXChangeBySideEffect(s,o):this._onTranslateXChangeBySideEffect(o,s),l!==o.value&&this._onValueChange(o),v!==s.value&&this._onValueChange(s)},r._updateStepNonRange=function(){var o=this._getInput(2);if(o){var s=o.value;o.step=this._step,this._platform.SAFARI&&(o.value=o.value),o._updateThumbUIByValue(),s!==o.value&&this._onValueChange(o)}},r.ngAfterViewInit=function(){this._platform.isBrowser&&this._updateDimensions();var o=this._getInput(2),s=this._getInput(1);this._isRange=!!o&&!!s,this._cdr.detectChanges();var l=this._getThumb(2);this._rippleRadius=l._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(o,s):this._initUINonRange(o),this._updateTrackUI(o),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()},r._initUINonRange=function(o){o.initProps(),o.initUI(),this._updateValueIndicatorUI(o),this._hasViewInitialized=!0,o._updateThumbUIByValue()},r._initUIRange=function(o,s){o.initProps(),o.initUI(),s.initProps(),s.initUI(),o._updateMinMax(),s._updateMinMax(),o._updateStaticStyles(),s._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,o._updateThumbUIByValue(),s._updateThumbUIByValue()},r.ngOnDestroy=function(){var o;this._dirChangeSubscription.unsubscribe(),null==(o=this._resizeObserver)||o.disconnect(),this._resizeObserver=null},r._onDirChange=function(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()},r._onDirChangeRange=function(){var o=this._getInput(2),s=this._getInput(1);o._setIsLeftThumb(),s._setIsLeftThumb(),o.translateX=o._calcTranslateXByValue(),s.translateX=s._calcTranslateXByValue(),o._updateStaticStyles(),s._updateStaticStyles(),o._updateWidthInactive(),s._updateWidthInactive(),o._updateThumbUIByValue(),s._updateThumbUIByValue()},r._onDirChangeNonRange=function(){this._getInput(2)._updateThumbUIByValue()},r._observeHostResize=function(){var o=this;typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(function(){o._resizeObserver=new ResizeObserver(function(){o._isActive()||(o._resizeTimer&&clearTimeout(o._resizeTimer),o._onResize())}),o._resizeObserver.observe(o._elementRef.nativeElement)})},r._isActive=function(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive},r._getValue=function(o){void 0===o&&(o=2);var s=this._getInput(o);return s?s.value:this.min},r._skipUpdate=function(){var o,s;return!!(null!=(o=this._getInput(1))&&o._skipUIUpdate||null!=(s=this._getInput(2))&&s._skipUIUpdate)},r._updateDimensions=function(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left},r._setTrackActiveStyles=function(o){var s=this._trackActive.nativeElement.style;s.left=o.left,s.right=o.right,s.transformOrigin=o.transformOrigin,s.transform=o.transform},r._calcTickMarkTransform=function(o){return"translateX("+o*(this._tickMarkTrackWidth/(this._tickMarks.length-1))+"px"},r._onTranslateXChange=function(o){this._hasViewInitialized&&(this._updateThumbUI(o),this._updateTrackUI(o),this._updateOverlappingThumbUI(o))},r._onTranslateXChangeBySideEffect=function(o,s){this._hasViewInitialized&&(o._updateThumbUIByValue(),s._updateThumbUIByValue())},r._onValueChange=function(o){this._hasViewInitialized&&(this._updateValueIndicatorUI(o),this._updateTickMarkUI(),this._cdr.detectChanges())},r._onMinMaxOrStepChange=function(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())},r._onResize=function(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){var o=this._getInput(2),s=this._getInput(1);o._updateThumbUIByValue(),s._updateThumbUIByValue(),o._updateStaticStyles(),s._updateStaticStyles(),o._updateMinMax(),s._updateMinMax(),o._updateWidthInactive(),s._updateWidthInactive()}else{var l=this._getInput(2);l&&l._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}},r._areThumbsOverlapping=function(){var o=this._getInput(1),s=this._getInput(2);return!(!o||!s)&&s.translateX-o.translateX<20},r._updateOverlappingThumbClassNames=function(o){var s=o.getSibling(),l=this._getThumb(o.thumbPosition);this._getThumb(s.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),l._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)},r._updateOverlappingThumbUI=function(o){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(o))},r._updateThumbUI=function(o){this._skipUpdate()||(this._getThumb(2===o.thumbPosition?2:1)._hostElement.style.transform="translateX("+o.translateX+"px)")},r._updateValueIndicatorUI=function(o){if(!this._skipUpdate()){var s=this.displayWith(o.value);if(this._hasViewInitialized?o._valuetext=s:o._hostElement.setAttribute("aria-valuetext",s),this.discrete){1===o.thumbPosition?this.startValueIndicatorText=s:this.endValueIndicatorText=s;var l=this._getThumb(o.thumbPosition);s.length<3?l._hostElement.classList.add("mdc-slider__thumb--short-value"):l._hostElement.classList.remove("mdc-slider__thumb--short-value")}}},r._updateValueIndicatorUIs=function(){var o=this._getInput(2),s=this._getInput(1);o&&this._updateValueIndicatorUI(o),s&&this._updateValueIndicatorUI(s)},r._updateTickMarkTrackUI=function(){if(this.showTickMarks&&!this._skipUpdate()){var o=this._step&&this._step>0?this._step:1,s=Math.floor(this.max/o)*o;this._tickMarkTrackWidth=this._cachedWidth*((s-this.min)/(this.max-this.min))-6}},r._updateTrackUI=function(o){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(o):this._updateTrackUINonRange(o))},r._updateTrackUIRange=function(o){var s=o.getSibling();if(s&&this._cachedWidth){var l=Math.abs(s.translateX-o.translateX)/this._cachedWidth;this._setTrackActiveStyles(o._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-s.translateX+"px",transformOrigin:"right",transform:"scaleX("+l+")"}:{left:s.translateX+"px",right:"auto",transformOrigin:"left",transform:"scaleX("+l+")"})}},r._updateTrackUINonRange=function(o){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:"scaleX("+(1-o.fillPercentage)+")"}:{left:"0px",right:"auto",transformOrigin:"left",transform:"scaleX("+o.fillPercentage+")"})},r._updateTickMarkUI=function(){if(this.showTickMarks&&void 0!==this.step&&void 0!==this.min&&void 0!==this.max){var o=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(o):this._updateTickMarkUINonRange(o),this._isRtl&&this._tickMarks.reverse()}},r._updateTickMarkUINonRange=function(o){var s=this._getValue(),l=Math.max(Math.round((s-this.min)/o),0),v=Math.max(Math.round((this.max-s)/o),0);this._isRtl?l++:v++,this._tickMarks=Array(l).fill(0).concat(Array(v).fill(1))},r._updateTickMarkUIRange=function(o){var s=this._getValue(),l=this._getValue(1),v=Math.max(Math.floor((l-this.min)/o),0),C=Math.max(Math.floor((s-l)/o)+1,0),w=Math.max(Math.floor((this.max-s)/o),0);this._tickMarks=Array(v).fill(1).concat(Array(C).fill(0),Array(w).fill(1))},r._getInput=function(o){var s;return 2===o&&this._input?this._input:null!=(s=this._inputs)&&s.length?1===o?this._inputs.first:this._inputs.last:void 0},r._getThumb=function(o){var s,l;return 2===o?null==(s=this._thumbs)?void 0:s.last:null==(l=this._thumbs)?void 0:l.first},r._setTransition=function(o){this._hasAnimation=!this._platform.IOS&&o&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)},r._isCursorOnSliderThumb=function(o,s){var l=s.width/2,G=o.clientY-(s.y+l);return Math.pow(o.clientX-(s.x+l),2)+Math.pow(G,2)<Math.pow(l,2)},(0,T.Z)(n,[{key:"disabled",get:function(){return this._disabled},set:function(o){this._disabled=(0,Fe.Ig)(o);var s=this._getInput(2),l=this._getInput(1);s&&(s.disabled=this._disabled),l&&(l.disabled=this._disabled)}},{key:"discrete",get:function(){return this._discrete},set:function(o){this._discrete=(0,Fe.Ig)(o),this._updateValueIndicatorUIs()}},{key:"showTickMarks",get:function(){return this._showTickMarks},set:function(o){this._showTickMarks=(0,Fe.Ig)(o)}},{key:"min",get:function(){return this._min},set:function(o){var s=(0,Fe.su)(o,this._min);this._min!==s&&this._updateMin(s)}},{key:"max",get:function(){return this._max},set:function(o){var s=(0,Fe.su)(o,this._max);this._max!==s&&this._updateMax(s)}},{key:"step",get:function(){return this._step},set:function(o){var s=(0,Fe.su)(o,this._step);this._step!==s&&this._updateStep(s)}}]),n}(xn)).\u0275fac=function(r){return new(r||gt)(e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(Ae.Is,8),e.\u0275\u0275directiveInject(ot.Y2,8),e.\u0275\u0275directiveInject(e.ANIMATION_MODULE_TYPE,8))},gt.\u0275cmp=e.\u0275\u0275defineComponent({type:gt,selectors:[["mat-slider"]],contentQueries:function(r,n,t){var o;1&r&&(e.\u0275\u0275contentQuery(t,at,5),e.\u0275\u0275contentQuery(t,In,4)),2&r&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n._input=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n._inputs=o))},viewQuery:function(r,n){var t;1&r&&(e.\u0275\u0275viewQuery(Je,5),e.\u0275\u0275viewQuery(Vi,5)),2&r&&(e.\u0275\u0275queryRefresh(t=e.\u0275\u0275loadQuery())&&(n._trackActive=t.first),e.\u0275\u0275queryRefresh(t=e.\u0275\u0275loadQuery())&&(n._thumbs=t))},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(r,n){2&r&&e.\u0275\u0275classProp("mdc-slider--range",n._isRange)("mdc-slider--disabled",n.disabled)("mdc-slider--discrete",n.discrete)("mdc-slider--tick-marks",n.showTickMarks)("_mat-animation-noopable",n._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[e.\u0275\u0275ProvidersFeature([{provide:kn,useExisting:gt}]),e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:["*"],decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(r,n){1&r&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275projection(0),e.\u0275\u0275elementStart(1,"div",0),e.\u0275\u0275element(2,"div",1),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275element(4,"div",3,4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,lt,3,1,"div",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,bn,1,3,"mat-slider-visual-thumb",6),e.\u0275\u0275element(8,"mat-slider-visual-thumb",7)),2&r&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",n.showTickMarks),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n._isRange),e.\u0275\u0275advance(1),e.\u0275\u0275property("discrete",n.discrete)("thumbPosition",2)("valueIndicatorText",n.endValueIndicatorText))},dependencies:[g.NgForOf,g.NgIf,ji],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__value-indicator{word-break:normal}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});var Vn={provide:p.JU,useExisting:(0,e.forwardRef)(function(){return dn}),multi:!0},Lt={provide:p.JU,useExisting:(0,e.forwardRef)(function(){return Hi}),multi:!0},dn=function(){var i=r.prototype;function r(n,t,o,s){var l=this;this._ngZone=n,this._elementRef=t,this._cdr=o,this._slider=s,this.valueChange=new e.EventEmitter,this.dragStart=new e.EventEmitter,this.dragEnd=new e.EventEmitter,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new ct.xQ,this._skipUIUpdate=!1,this._onTouchedFn=function(){},this._isControlInitialized=!1,this._platform=(0,e.inject)(ht.t4),this._hostElement=t.nativeElement,this._ngZone.runOutsideAngular(function(){l._hostElement.addEventListener("pointerdown",l._onPointerDown.bind(l)),l._hostElement.addEventListener("pointermove",l._onPointerMove.bind(l)),l._hostElement.addEventListener("pointerup",l._onPointerUp.bind(l))})}return i._setIsFocused=function(t){this._isFocused=t},i.ngOnDestroy=function(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()},i.initProps=function(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()},i.initUI=function(){this._updateThumbUIByValue()},i._initValue=function(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())},i._getDefaultValue=function(){return this.min},i._onBlur=function(){this._setIsFocused(!1),this._onTouchedFn()},i._onFocus=function(){this._setIsFocused(!0)},i._onChange=function(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})},i._onInput=function(){var t;null==(t=this._onChangeFn)||t.call(this,this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)},i._onNgControlValueChange=function(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled},i._onPointerDown=function(t){if(!this.disabled&&0===t.button){if(this._platform.IOS){var o=this._slider._isCursorOnSliderThumb(t,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=o,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}},i._handleValueCorrection=function(t){var o=this;this._skipUIUpdate=!0,setTimeout(function(){o._skipUIUpdate=!1,o._fixValue(t)},0)},i._fixValue=function(t){var o,s=t.clientX-this._slider._cachedLeft,l=this._slider._cachedWidth,v=0===this._slider.step?1:this._slider.step,C=Math.floor((this._slider.max-this._slider.min)/v),G=Math.round((this._slider._isRtl?1-s/l:s/l)*C)/C,ge=Math.round((G*(this._slider.max-this._slider.min)+this._slider.min)/v)*v;if(ge===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=ge,this.valueChange.emit(this.value),null==(o=this._onChangeFn)||o.call(this,this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})},i._onPointerMove=function(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)},i._onPointerUp=function(){var t=this;this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(function(){return t._updateWidthInactive()},this._platform.IOS?10:0))},i._clamp=function(t){return Math.max(Math.min(t,this._slider._cachedWidth),0)},i._calcTranslateXByValue=function(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth},i._calcTranslateXByPointerEvent=function(t){return t.clientX-this._slider._cachedLeft},i._updateWidthActive=function(){this._hostElement.style.padding="0 "+this._slider._inputPadding+"px",this._hostElement.style.width="calc(100% + "+this._slider._inputPadding+"px)"},i._updateWidthInactive=function(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"},i._updateThumbUIByValue=function(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)},i._updateThumbUIByPointerEvent=function(t,o){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(o)},i._updateThumbUI=function(t){this._slider._setTransition(!(null==t||!t.withAnimation)),this._slider._onTranslateXChange(this)},i.writeValue=function(t){(this._isControlInitialized||null!==t)&&(this.value=t)},i.registerOnChange=function(t){this._onChangeFn=t,this._isControlInitialized=!0},i.registerOnTouched=function(t){this._onTouchedFn=t},i.setDisabledState=function(t){this.disabled=t},i.focus=function(){this._hostElement.focus()},i.blur=function(){this._hostElement.blur()},(0,T.Z)(r,[{key:"value",get:function(){return(0,Fe.su)(this._hostElement.value)},set:function(t){var o=(0,Fe.su)(t).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=o,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()):this._initialValue=o}},{key:"translateX",get:function(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)},set:function(t){this._translateX=t}},{key:"min",get:function(){return(0,Fe.su)(this._hostElement.min)},set:function(t){this._hostElement.min=(0,Fe.su)(t).toString(),this._cdr.detectChanges()}},{key:"max",get:function(){return(0,Fe.su)(this._hostElement.max)},set:function(t){this._hostElement.max=(0,Fe.su)(t).toString(),this._cdr.detectChanges()}},{key:"step",get:function(){return(0,Fe.su)(this._hostElement.step)},set:function(t){this._hostElement.step=(0,Fe.su)(t).toString(),this._cdr.detectChanges()}},{key:"disabled",get:function(){return(0,Fe.Ig)(this._hostElement.disabled)},set:function(t){this._hostElement.disabled=(0,Fe.Ig)(t),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}},{key:"percentage",get:function(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}},{key:"fillPercentage",get:function(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}}]),r}();(Ze=dn).\u0275fac=function(r){return new(r||Ze)(e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(kn))},Ze.\u0275dir=e.\u0275\u0275defineDirective({type:Ze,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(r,n){1&r&&e.\u0275\u0275listener("change",function(){return n._onChange()})("input",function(){return n._onInput()})("blur",function(){return n._onBlur()})("focus",function(){return n._onFocus()}),2&r&&e.\u0275\u0275attribute("aria-valuetext",n._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[e.\u0275\u0275ProvidersFeature([Vn,{provide:at,useExisting:Ze}])]});var Hi=function(i){(0,fe.Z)(n,i);var r=n.prototype;function n(t,o,s,l){var v;return(v=i.call(this,t,s,l,o)||this)._cdr=l,v._isEndThumb=v._hostElement.hasAttribute("matSliderEndThumb"),v._setIsLeftThumb(),v.thumbPosition=v._isEndThumb?2:1,v}return r.getSibling=function(){return this._sibling||(this._sibling=this._slider._getInput(this._isEndThumb?1:2)),this._sibling},r.getMinPos=function(){var o=this.getSibling();return!this._isLeftThumb&&o?o.translateX:0},r.getMaxPos=function(){var o=this.getSibling();return this._isLeftThumb&&o?o.translateX:this._slider._cachedWidth},r._setIsLeftThumb=function(){this._isLeftThumb=this._isEndThumb&&this._slider._isRtl||!this._isEndThumb&&!this._slider._isRtl},r._getDefaultValue=function(){return this._isEndThumb&&this._slider._isRange?this.max:this.min},r._onInput=function(){i.prototype._onInput.call(this),this._updateSibling(),this._isActive||this._updateWidthInactive()},r._onNgControlValueChange=function(){var o;i.prototype._onNgControlValueChange.call(this),null==(o=this.getSibling())||o._updateMinMax()},r._onPointerDown=function(o){this.disabled||0!==o.button||(this._sibling&&(this._sibling._updateWidthActive(),this._sibling._hostElement.classList.add("mat-mdc-slider-input-no-pointer-events")),i.prototype._onPointerDown.call(this,o))},r._onPointerUp=function(){var o=this;i.prototype._onPointerUp.call(this),this._sibling&&setTimeout(function(){o._sibling._updateWidthInactive(),o._sibling._hostElement.classList.remove("mat-mdc-slider-input-no-pointer-events")})},r._onPointerMove=function(o){i.prototype._onPointerMove.call(this,o),!this._slider.step&&this._isActive&&this._updateSibling()},r._fixValue=function(o){var s;i.prototype._fixValue.call(this,o),null==(s=this._sibling)||s._updateMinMax()},r._clamp=function(o){return Math.max(Math.min(o,this.getMaxPos()),this.getMinPos())},r._updateMinMax=function(){var o=this.getSibling();o&&(this._isEndThumb?(this.min=Math.max(this._slider.min,o.value),this.max=this._slider.max):(this.min=this._slider.min,this.max=Math.min(this._slider.max,o.value)))},r._updateWidthActive=function(){var o=2*this._slider._rippleRadius-2*this._slider._inputPadding;this._hostElement.style.width=(this._slider._cachedWidth+this._slider._inputPadding-o)*(this._slider.min<this._slider.max?(this.max-this.min)/(this._slider.max-this._slider.min):1)+o+"px",this._hostElement.style.padding="0 "+this._slider._inputPadding+"px"},r._updateWidthInactive=function(){var o=this.getSibling();if(o){var l=this._isEndThumb?this.value-(this.value-o.value)/2:this.value+(o.value-this.value)/2,C=this._slider.min<this._slider.max?this._isEndThumb?(this.max-l)/(this._slider.max-this._slider.min):(l-this.min)/(this._slider.max-this._slider.min):1,w=this._slider._rippleRadius;1===C?w=48:0===C&&(w=0),this._hostElement.style.width=this._slider._cachedWidth*C+w+"px",this._hostElement.style.padding="0px",this._isLeftThumb?(this._hostElement.style.left="-24px",this._hostElement.style.right="auto"):(this._hostElement.style.left="auto",this._hostElement.style.right="-24px")}},r._updateStaticStyles=function(){this._hostElement.classList.toggle("mat-slider__right-input",!this._isLeftThumb)},r._updateSibling=function(){var o=this.getSibling();o&&(o._updateMinMax(),this._isActive?o._updateWidthActive():o._updateWidthInactive())},r.writeValue=function(o){(this._isControlInitialized||null!==o)&&(this.value=o,this._updateWidthInactive(),this._updateSibling())},n}(dn);(pt=Hi).\u0275fac=function(r){return new(r||pt)(e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(kn),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},pt.\u0275dir=e.\u0275\u0275defineDirective({type:pt,selectors:[["input","matSliderStartThumb",""],["input","matSliderEndThumb",""]],exportAs:["matSliderRangeThumb"],features:[e.\u0275\u0275ProvidersFeature([Lt,{provide:In,useExisting:pt}]),e.\u0275\u0275InheritDefinitionFeature]});var Xi=function(){};(_t=Xi).\u0275fac=function(r){return new(r||_t)},_t.\u0275mod=e.\u0275\u0275defineNgModule({type:_t}),_t.\u0275inj=e.\u0275\u0275defineInjector({imports:[ot.BQ,g.CommonModule,ot.si]});var pn=m(60733),un=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule,Xi,p.u5,pn.lN]}),i}(),Nt=function(i){return i[i.Information=0]="Information",i[i.Error=1]="Error",i[i.Warning=2]="Warning",i[i.Success=3]="Success",i}({});function jn(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",5),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.message," ")}}var Kn=["*"],At=function(){function i(){}return i.prototype.ngOnInit=function(){this.setStatusIndicatorClass()},i.prototype.ngOnChanges=function(){this.setStatusIndicatorClass()},i.prototype.setStatusIndicatorClass=function(){switch(this.statusIndicatorType){case Nt.Error:this.statusIndicatorClass="status-indicator-error",this.statusIndicatorIconName="error_circle_12_filled";break;case Nt.Warning:this.statusIndicatorClass="status-indicator-warning",this.statusIndicatorIconName="warning_12_filled";break;case Nt.Success:this.statusIndicatorClass="status-indicator-success",this.statusIndicatorIconName="checkmark_circle_12_filled";break;default:this.statusIndicatorClass="status-indicator-info",this.statusIndicatorIconName="info_12_filled"}},i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-status-indicator"]],inputs:{statusIndicatorType:"statusIndicatorType",message:"message"},features:[e.\u0275\u0275NgOnChangesFeature],ngContentSelectors:Kn,decls:6,vars:4,consts:[[1,"status-indicator",3,"ngClass"],[1,"status-indicator-icon"],["tri-svg-icon-12","",3,"name"],[1,"status-indicator-text-container"],["class","status-indicator-text",4,"ngIf"],[1,"status-indicator-text"]],template:function(n,t){1&n&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"tri-svg-icon",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275template(4,jn,2,1,"div",4),e.\u0275\u0275projection(5),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275property("ngClass",t.statusIndicatorClass),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.statusIndicatorIconName),e.\u0275\u0275attribute("aria-hidden",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!!t.message))},dependencies:[g.NgClass,g.NgIf,O.M],styles:[".status-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;box-sizing:border-box}.status-indicator[_ngcontent-%COMP%]   .status-indicator-text-container[_ngcontent-%COMP%]{color:var(--colorNeutralForeground3);font-family:var(--caption-font-family);font-size:var(--caption-font-size);font-weight:var(--caption-font-weight);line-height:var(--caption-font-lineheight);margin-left:4px}.status-indicator.status-indicator-info[_ngcontent-%COMP%]   .status-indicator-icon[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground3)}.status-indicator.status-indicator-error[_ngcontent-%COMP%]   .status-indicator-icon[_ngcontent-%COMP%]{fill:var(--colorPaletteRedForeground1)}.status-indicator.status-indicator-error[_ngcontent-%COMP%]   .status-indicator-text-container[_ngcontent-%COMP%]{color:var(--colorPaletteRedForeground1)}.status-indicator.status-indicator-warning[_ngcontent-%COMP%]   .status-indicator-icon[_ngcontent-%COMP%]{fill:var(--globalColorYellowShade30)}.status-indicator.status-indicator-success[_ngcontent-%COMP%]   .status-indicator-icon[_ngcontent-%COMP%]{fill:var(--globalColorGreenShade10)}.status-indicator-icon[_ngcontent-%COMP%]{display:flex}"],changeDetection:0}),i}(),gn=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule,S.Y,V.T6]}),i}(),Ue=m(98131),Ar=m(75476),Yt=m(45298),$=m(81337),Rr=m(68698),Hn=m(56186),ut=m(94771),F=m(35510),ke=m(48787),Fr=function(){function i(r){this.dialog=r,this.deleteButtonClicked=!1}return i.prototype.onDeleteButtonClicked=function(){this.deleteButtonClicked=!0,this.dialog.close(this.deleteButtonClicked)},i.prototype.onCancelButtonClick=function(){this.dialog.close()},i.prototype.onDismissButtonClick=function(){this.dialog.close()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(R.so))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-platform-monitoring-delete-button"]],decls:18,vars:12,consts:[[1,"dialog"],[1,"dialog-header"],[1,"dialog-title"],["aria-label","close",1,"dismiss-button",3,"click"],["name","dismiss_20_regular"],[1,"dialog-content"],[1,"subtitle"],[1,"dialog-footer"],["tri-button","","appearance","primary",1,"sync-button",3,"click"],["tri-button","","appearance","tri-middle",1,"delete-button",3,"click"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h4",2),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",3),e.\u0275\u0275listener("click",function(){return t.onDismissButtonClick()}),e.\u0275\u0275element(6,"tri-svg-icon",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",5)(8,"div",6),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",7)(12,"button",8),e.\u0275\u0275listener("click",function(){return t.onDeleteButtonClicked()}),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",9),e.\u0275\u0275listener("click",function(){return t.onCancelButtonClick()}),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,4,"Platform_Monitoring_Delete")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,6,"Platform_Monitoring_Delete_Message")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,8,"Delete")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,10,"Cancel_ButtonText")," "))},dependencies:[O.M,I.Y],styles:[".dialog[_ngcontent-%COMP%]{display:flex;width:250px;flex-direction:column;justify-content:left;background:var(--globalColorWhite);padding:15px}.dialog-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-weight:600;font-size:20px;margin:0}.dialog-header[_ngcontent-%COMP%]   .dismiss-button[_ngcontent-%COMP%]{border:none;background:transparent;padding:0;fill:var(--globalColorGrey38)}.dialog-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin-top:18px;font-size:14px;line-height:20px}.dialog-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:right;margin-top:24px;gap:8px}.dialog-footer[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], .dialog-footer[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{width:fit-content}"],changeDetection:0}),i}(),Mn=m(25082),Qt=m(12315),Xn=m(9398),He=m(54729),qt=m(13414);function $t(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275element(1,"tri-svg-icon",23),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Platform_Monitoring_Disabled_By_Admin_Created")))}function Yn(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25),e.\u0275\u0275element(1,"tri-svg-icon",26),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",27),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.dismissModal())}),e.\u0275\u0275element(6,"tri-svg-icon",28),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Platform_Monitoring_CreateDatabase_Success")))}function Wr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25),e.\u0275\u0275element(1,"tri-svg-icon",26),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",27),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.dismissModalOfToggle())}),e.\u0275\u0275element(6,"tri-svg-icon",28),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,t.actionOfTogglingInjestionString))}}function Lr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",29),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.promptDeletePlatformMonitoring())}),e.\u0275\u0275element(1,"tri-svg-icon",30),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Platform_Monitoring_DeleteDatabase")," "))}function Ne(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"tri-spinner",32),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"AnalysisServer_Loading")," "))}var Ct=function(){return{standalone:!0}};function Ve(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section"),e.\u0275\u0275template(1,$t,5,3,"div",3),e.\u0275\u0275template(2,Yn,7,3,"div",4),e.\u0275\u0275template(3,Wr,7,3,"div",4),e.\u0275\u0275elementStart(4,"section",5),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"section",6),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"section",7)(11,"span",8),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementStart(14,"tri-switch",9),e.\u0275\u0275listener("ngModelChange",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.allowPlatformMonitoring=s)})("ngModelChange",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.savePlatformMonitoringStatus())}),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementStart(16,"div",10),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(19,"span",11),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"section",7)(23,"div")(24,"label",12),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(27,"label",6),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"section",13)(31,"tri-link",14),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"section",15)(35,"div",16),e.\u0275\u0275element(36,"mat-divider"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"span",17),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"div",18),e.\u0275\u0275element(41,"mat-divider"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(42,"section",19),e.\u0275\u0275text(43),e.\u0275\u0275pipe(44,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"section",6),e.\u0275\u0275text(46),e.\u0275\u0275pipe(47,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(48,Lr,4,3,"button",20),e.\u0275\u0275pipe(49,"async"),e.\u0275\u0275template(50,Ne,4,3,"div",21),e.\u0275\u0275pipe(51,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.toggleEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.actionOfDatabaseCreation),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.actionOfTogglingInjestion),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,22,"Monitoring")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,24,"Platform_Monitoring_CreateDatabase_Description")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,26,"Platform_Monitoring_Ingestion_Metrics")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.allowPlatformMonitoring)("ngModelOptions",e.\u0275\u0275pureFunction0(50,Ct))("aria-label",e.\u0275\u0275pipeBind1(15,28,t.allowPlatformMonitoringToggleString))("disabled",!t.toggleEnabled),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,30,t.allowPlatformMonitoringToggleString)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(21,32,"Platform_Monitoring_Description")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(26,34,"Platform_Monitoring_ConnectionString")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(29,36,"Platform_Monitoring_ConnectionString_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("external",!0)("href",t.databaseString),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(33,38,"Platform_Monitoring_Database_Link")," "),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(39,40,"Manage_Tooltip")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(44,42,"Platform_Monitoring_DeleteDatabase_Title")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(47,44,"Platform_Monitoring_DeleteDatabase_Description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(49,46,t.databaseDeletedSubjectObservable)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(51,48,t.databaseDeletedSubjectObservable))}}function Qn(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275element(1,"tri-svg-icon",23),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Platform_Monitoring_Disabled_By_Admin")))}function Nr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",36),e.\u0275\u0275element(1,"tri-svg-icon",37),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",38),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.dismissModalOfFailure())}),e.\u0275\u0275element(6,"tri-svg-icon",28),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Platform_Monitoring_CreateDatabase_Failure")))}function $r(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25),e.\u0275\u0275element(1,"tri-svg-icon",26),e.\u0275\u0275elementStart(2,"div",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",27),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.dismissModalOfDeletion())}),e.\u0275\u0275element(6,"tri-svg-icon",28),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Platform_Monitoring_DeleteDatabase_Success")))}function Pn(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",39),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.createDatabase())}),e.\u0275\u0275element(1,"tri-svg-icon",40),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",!t.toggleEnabled||t.buttonDisabledForCreation),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"SettingsDataSource_SettingsAuthenticationMethodDatabase")," ")}}function Ut(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"tri-spinner",32),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"DataLoaderSpinner_LoadingMessage3")," "))}function Zn(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section"),e.\u0275\u0275template(1,Qn,5,3,"div",3),e.\u0275\u0275template(2,Nr,7,3,"div",33),e.\u0275\u0275template(3,$r,7,3,"div",4),e.\u0275\u0275elementStart(4,"section",5),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"section",6),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"section",34),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"section",6),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,Pn,4,4,"button",35),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275template(18,Ut,4,3,"div",21),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.toggleEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.databaseCreationSuccess),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.actionOfDatabaseDeletion),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,9,"Monitoring")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,11,"Platform_Monitoring_CreateDatabase_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(12,13,"Platform_Monitoring_CreateDatabase")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(15,15,"Platform_Monitoring_CreateDatabase_Button_Description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(17,17,n.databaseCreatedSubjectObservable)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(19,19,n.databaseCreatedSubjectObservable))}}function Ur(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Ve,52,51,"section",2),e.\u0275\u0275template(2,Zn,20,21,"section",2),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.databaseCreated),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.databaseCreated)}}function Vr(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}var Jn=function(){function i(r,n,t,o,s,l,v,C,w){this.httpService=r,this.workspaceSettingsService=n,this.errorService=t,this.featureSwitchService=o,this.changeDetectorRef=s,this.localizationService=l,this.dialogService=v,this.activatedRoute=C,this.artifactFacade=w,this.closeSettings=new e.EventEmitter,this.allowPlatformMonitoring=!0,this.platformMonitoringUi="/metadata/platformMonitoring/workspace",this.groupsUi="/groups",this.databases="databases",this.dataLoaded=new F.X(!1),this.dataLoadedObservable=this.dataLoaded.asObservable(),this.databaseCreatedSubject=new F.X(!0),this.databaseCreatedSubjectObservable=this.databaseCreatedSubject.asObservable(),this.databaseDeletedSubject=new F.X(!0),this.databaseDeletedSubjectObservable=this.databaseDeletedSubject.asObservable(),this.delegationSettingEnabled=!1,this.artifactMetadata=null,this.toggleEnabled=!1,this.databaseCreated=!1,this.actionOfDatabaseCreation=!1,this.actionOfDatabaseDeletion=!1,this.databaseCreationSuccess=!0,this.buttonDisabledForCreation=!1,this.actionOfTogglingInjestion=!1,this.actionOfTogglingInjestionString="",this.allowPlatformMonitoringToggleString="",this.databaseString=""}return i.prototype.ngOnInit=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){return(0,$.__generator)(this,function(r){return this.getPlatformMonitoringTenantSwitch(),[2]})})},i.prototype.getPlatformMonitoringTenantSwitch=function(){var r=this;this.featureSwitchService.getWorkspaceDelegatedSetting({name:"platformMonitoringTenantSettingEnabled",workspaceObjectId:this.workspaceSettingsService.workspaceObjectId}).pipe((0,ke.q)(1)).subscribe(function(t){r.delegationSettingEnabled=void 0!==t.isEnabled&&t.isEnabled,r.getPlatformMonitoringStatus()})},i.prototype.getPlatformMonitoringStatus=function(){var r=this,n=this.httpService.powerbiRequestOptions(void 0,"GetPlatformMonitoringValue"),t=this.workspaceSettingsService.workspaceObjectId,o="".concat(this.platformMonitoringUi,"/").concat(t);this.httpService.get(o,n).subscribe(function(s){var l=s.data;if(l){r.artifactMetadata=l.artifact,r.allowPlatformMonitoring="Enabled"===l.ingestionState,r.allowPlatformMonitoringToggleString=r.allowPlatformMonitoring?"ToggleSwitchOn":"ToggleSwitchOff";var v=r.activatedRoute.snapshot.queryParams,C="";l.artifact.artifactType===Qt.RG[33]&&l.artifact.artifactRelations&&l.artifact.artifactRelations[0]?C="".concat(r.groupsUi,"/").concat(t,"/").concat(r.databases,"/").concat(l.artifact.artifactRelations[0].dependentArtifactObjectId):l.artifact.artifactType===Qt.RG[32]&&(C="".concat(r.groupsUi,"/").concat(t,"/").concat(r.databases,"/").concat(l.artifact.objectId)),r.databaseString=r.buildConnectionStringWithQueryParams(C,v),r.databaseCreated=!0}else r.databaseCreated=!1;r.toggleEnabled=r.delegationSettingEnabled,r.dataLoaded.next(!0)},function(s){r.errorService.error(r.localizationService.get("GetPlatformMonitoringValue_Error_FailedToGet"),"GetPlatformMonitoringValue_Error_FailedToGet",{requestId:s.requestId})})},i.prototype.buildConnectionStringWithQueryParams=function(r,n){return 0!==Object.keys(n).length&&(r+=(-1===r.indexOf("?")?"?":"&")+Object.keys(n).reduce(function(t,o){return"searchQuery"===o?t:t.concat(encodeURIComponent(o)+"="+encodeURIComponent(n[o]))},[]).join("&")),r},i.prototype.createDatabase=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){var r,n,t,o,s=this;return(0,$.__generator)(this,function(l){switch(l.label){case 0:return r=this.httpService.powerbiRequestOptions(void 0,"CreatePlatformMonitoringDatabase"),this.databaseCreatedSubject.next(!1),this.changeDetectorRef.markForCheck(),n={artifactType:"KustoDatabase",workloadPayload:"{}"},t=this.workspaceSettingsService.workspaceObjectId,o="".concat(this.platformMonitoringUi,"/").concat(t),[4,this.httpService.post(o,JSON.stringify(n),r).subscribe(function(){s.enablePlatformMonitoringInjestion(!0)},function(v){s.actionOfDatabaseDeletion=!1,s.databaseCreatedSubject.next(!0),s.databaseCreationSuccess=!1,s.buttonDisabledForCreation=!0,s.errorService.error(s.localizationService.get("GetPlatformMonitoringValue_Error_FailedToCreate"),"GetPlatformMonitoringValue_Error_FailedToCreate",{requestId:v.requestId,statusCode:String(v.status)}),s.changeDetectorRef.markForCheck()})];case 1:return l.sent(),[2]}})})},i.prototype.promptDeletePlatformMonitoring=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,$.__generator)(this,function(t){switch(t.label){case 0:return[4,this.dialogService.open(Fr).afterClosed().subscribe(function(o){return(0,$.__awaiter)(n,void 0,void 0,function(){return(0,$.__generator)(this,function(s){switch(s.label){case 0:return o?[4,this.deleteDatabase()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})})];case 1:return t.sent(),[2]}})})},i.prototype.deleteDatabase=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){var r,n,t,o=this;return(0,$.__generator)(this,function(s){return this.databaseDeletedSubject.next(!1),this.changeDetectorRef.markForCheck(),r=this.httpService.powerbiRequestOptions(void 0,"GetPlatformMonitoringValue"),n=this.workspaceSettingsService.workspaceObjectId,t="".concat(this.platformMonitoringUi,"/").concat(n),this.httpService.delete(t,r).subscribe(function(){if(o.actionOfDatabaseDeletion=!0,o.databaseCreated=!1,o.databaseDeletedSubject.next(!0),o.artifactMetadata&&o.artifactMetadata.objectId)if("KustoEventHouse"===o.artifactMetadata.artifactType&&o.artifactMetadata.artifactRelations&&o.artifactMetadata.artifactRelations[0]&&o.artifactMetadata.artifactRelations[0].dependentArtifactObjectId){var l=[];l=(l=l.concat(o.artifactMetadata.artifactRelations[0].dependentArtifactObjectId)).concat(o.artifactMetadata.objectId),o.artifactFacade.deleteArtifactsFromFEStore(l)}else"KustoDatabase"===o.artifactMetadata.artifactType&&o.artifactFacade.deleteArtifactFromFEStore(o.artifactMetadata.objectId);o.changeDetectorRef.markForCheck()},function(l){o.errorService.error(o.localizationService.get("GetPlatformMonitoringValue_Error_FailedToDelete"),"GetPlatformMonitoringValue_Error_FailedToDelete",{requestId:l.requestId})}),[2]})})},i.prototype.savePlatformMonitoringStatus=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){var r,n,t,o,s=this;return(0,$.__generator)(this,function(l){switch(l.label){case 0:return r=this.httpService.powerbiRequestOptions(void 0,"UpdatePlatformMonitoringValue"),n=this.workspaceSettingsService.workspaceObjectId,t="".concat(this.platformMonitoringUi,"/").concat(n),o={ingestionState:this.allowPlatformMonitoring?"Enabled":"Disabled"},this.allowPlatformMonitoring?(this.allowPlatformMonitoringToggleString="ToggleSwitchOn",this.actionOfTogglingInjestion=!1):(this.allowPlatformMonitoringToggleString="ToggleSwitchOff",this.actionOfTogglingInjestion=!0,this.actionOfTogglingInjestionString="Platform_Monitoring_Injestion_Turned_Off"),this.changeDetectorRef.markForCheck(),[4,this.httpService.patch(t,JSON.stringify(o),r).subscribe(function(){},function(v){s.errorService.error(s.localizationService.get("GetPlatformMonitoringValue_Error_FailedToUpdate"),"GetPlatformMonitoringValue_Error_FailedToUpdate",{requestId:v.requestId})})];case 1:return l.sent(),[2]}})})},i.prototype.dismissModal=function(){this.actionOfDatabaseCreation=!1,this.changeDetectorRef.markForCheck()},i.prototype.dismissModalOfFailure=function(){this.databaseCreationSuccess=!0,this.changeDetectorRef.markForCheck()},i.prototype.dismissModalOfDeletion=function(){this.actionOfDatabaseDeletion=!1,this.changeDetectorRef.markForCheck()},i.prototype.dismissModalOfToggle=function(){this.actionOfTogglingInjestion=!1,this.changeDetectorRef.markForCheck()},i.prototype.enablePlatformMonitoringInjestion=function(r){return(0,$.__awaiter)(this,void 0,void 0,function(){var n,t,o,l=this;return(0,$.__generator)(this,function(v){switch(v.label){case 0:return n=this.httpService.powerbiRequestOptions(void 0,"UpdatePlatformMonitoringValue"),t=this.workspaceSettingsService.workspaceObjectId,o="".concat(this.platformMonitoringUi,"/").concat(t),[4,this.httpService.patch(o,JSON.stringify({ingestionState:"Enabled"}),n).subscribe(function(C){r&&(l.actionOfDatabaseCreation=!0,l.databaseCreated=!0,l.databaseCreatedSubject.next(!0));var w=C.data;if(w){l.allowPlatformMonitoring="Enabled"===w.ingestionState,l.allowPlatformMonitoringToggleString=l.allowPlatformMonitoring?"ToggleSwitchOn":"ToggleSwitchOff";var G=l.activatedRoute.snapshot.queryParams,re="".concat(l.groupsUi,"/").concat(t,"/").concat(l.databases,"/").concat(w.artifact.objectId);if(l.databaseString=l.buildConnectionStringWithQueryParams(re,G),r){l.artifactMetadata=w.artifact;var ge=(0,Qt.WN)(w.artifact);l.artifactFacade.addArtifact(ge)}}l.changeDetectorRef.markForCheck()},function(C){l.errorService.error(l.localizationService.get("GetPlatformMonitoringValue_Error_FailedToUpdate"),"GetPlatformMonitoringValue_Error_FailedToUpdate",{requestId:C.requestId})})];case 1:return v.sent(),[2]}})})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Rr.s),e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(Hn.g),e.\u0275\u0275directiveInject(ut.V$),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(Te.uQ),e.\u0275\u0275directiveInject(Xn.gz),e.\u0275\u0275directiveInject(Mn.f5))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-platform-monitoring"]],outputs:{closeSettings:"closeSettings"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"],["class","delete-workspace-message tri-flex",4,"ngIf"],["class","create-database-message tri-flex",4,"ngIf"],[1,"platformMonitoringSettingsTitle"],[1,"platformMonitoringCaption"],[1,"allowConfigurationPadding"],[1,"platformMonitoringSettingsSubTitleWithSmallPadding"],["ngDefaultControl","",1,"toggle",3,"ngModel","ngModelOptions","aria-label","disabled","ngModelChange"],["tri-switch-text","",1,"toggleString"],[1,"checkbox-label"],["id","workspace-connection-setting-label",1,"platformMonitoringSettingsSubTitle"],[1,"link"],["target","_blank",3,"external","href"],[1,"divider"],[1,"divider-left-line"],[1,"divider-text"],[1,"divider-right-line"],[1,"platformMonitoringSettingsSubTitle"],["tri-button","","appearance","tri-middle","class","buttonGeneral",3,"click",4,"ngIf"],["class","spinnerDiv",4,"ngIf"],[1,"delete-workspace-message","tri-flex"],["name","info_20_filled",1,"banner-icon","tri-shrink-0"],[1,"banner-text"],[1,"create-database-message","tri-flex"],["name","checkmark_circle_20_filled",1,"banner-icon","tri-shrink-0"],["aria-label","close",1,"dismissButton",3,"click"],["name","dismiss_20_regular",1,"smallIcon"],["tri-button","","appearance","tri-middle",1,"buttonGeneral",3,"click"],["name","delete_20_regular"],[1,"spinnerDiv"],[1,"spinnerSvg"],["class","schema-failure-message tri-flex",4,"ngIf"],[1,"platformMonitoringSettingsSubTitleWithPadding"],["tri-button","","appearance","primary","class","buttonGeneral",3,"disabled","click",4,"ngIf"],[1,"schema-failure-message","tri-flex"],["name","dismiss_circle_20_filled",1,"banner-icon","tri-shrink-0"],["aria-label","close",1,"dismissButtonFailure",3,"click"],["tri-button","","appearance","primary",1,"buttonGeneral",3,"disabled","click"],["name","add_20_regular"]],template:function(n,t){if(1&n&&(e.\u0275\u0275template(0,Ur,3,2,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,Vr,1,0,"ng-template",null,1,e.\u0275\u0275templateRefExtractor)),2&n){var o=e.\u0275\u0275reference(3);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,2,t.dataLoadedObservable))("ngIfElse",o)}},dependencies:[g.CommonModule,g.NgIf,g.AsyncPipe,V.T6,O.M,J.t,J.d,S.Y,I.Y,ee.d,He.D,_e.Jy,qt.t,p.u5,p.Fj,p.JJ,p.On,W.m,he.v],styles:[".delete-workspace-message[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200);background-color:var(--globalColorGrey94);padding:6px 10px;box-sizing:border-box;margin-bottom:16px;border-radius:4px;border:solid 1px;border-color:var(--globalColorGrey88)}.delete-workspace-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-inline-end:8px;fill:var(--globalColorGrey38)}.delete-workspace-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}.create-database-message[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200);background-color:var(--globalColorGreenTint60);padding:6px 10px;box-sizing:border-box;margin-bottom:16px;border-radius:4px;border:solid 1px;border-color:var(--globalColorGreenTint40)}.create-database-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-inline-end:8px;fill:var(--globalColorGreenShade10)}.create-database-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}.spinnerDiv[_ngcontent-%COMP%]{margin-top:24px;font-size:14px;display:inline-flex}.spinnerDiv[_ngcontent-%COMP%]   .spinnerSvg[_ngcontent-%COMP%]{margin-right:10px}.schema-failure-message[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200);background-color:var(--globalColorCranberryTint60);padding:6px 10px;box-sizing:border-box;margin-bottom:16px;border-radius:4px;margin-top:10px;border:solid 1px;border-color:var(--globalColorCranberryTint40)}.schema-failure-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-inline-end:8px;fill:var(--globalColorCranberryShade10)}.schema-failure-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}.platformMonitoringSettingsTitle[_ngcontent-%COMP%]{font-size:24px;font-weight:var(--subheadline-font-weight);line-height:20px;margin-bottom:10px;color:var(--globalColorGrey14)}.platformMonitoringSettingsSubTitle[_ngcontent-%COMP%]{font-size:16px;font-weight:var(--subheadline-font-weight);line-height:20px;margin-bottom:10px;color:var(--globalColorGrey14)}.platformMonitoringSettingsSubTitleWithPadding[_ngcontent-%COMP%]{font-size:16px;font-weight:var(--subheadline-font-weight);line-height:20px;margin-bottom:8px;color:var(--globalColorGrey14);margin-top:24px}.platformMonitoringSettingsSubTitleWithSmallPadding[_ngcontent-%COMP%]{font-size:16px;font-weight:var(--subheadline-font-weight);line-height:20px;margin-bottom:8px;color:var(--globalColorGrey14);margin-top:16px}.platformMonitoringCaption[_ngcontent-%COMP%]{font-size:14px}.toggle[_ngcontent-%COMP%]{float:right;display:inline-flex;margin-top:-8px}.toggleString[_ngcontent-%COMP%]{font-weight:400;font-size:14px}.checkbox-label[_ngcontent-%COMP%]{font-size:14px}.iconForDb[_ngcontent-%COMP%]{padding-right:6px}.buttonGeneral[_ngcontent-%COMP%]{margin-top:16px}.divider[_ngcontent-%COMP%]{width:100%;height:20px;display:flex;flex-direction:row;justify-content:center;align-items:center;margin-bottom:24px}.divider[_ngcontent-%COMP%]   .divider-left-line[_ngcontent-%COMP%]{width:8px}.divider[_ngcontent-%COMP%]   .divider-right-line[_ngcontent-%COMP%]{flex:1}.divider[_ngcontent-%COMP%]   .divider-text[_ngcontent-%COMP%]{padding:0 var(--spacingVerticalM);font-weight:var(--fontWeightRegular);font-size:var(--fontSizeBase200);line-height:var(--lineHeightBase200)}.allowConfigurationPadding[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]     .link{margin-top:16px;margin-bottom:26px;font-size:14px}[_nghost-%COMP%]     .link tri-link a{display:inline-flex}.dismissButton[_ngcontent-%COMP%]{float:right;display:block;margin-left:auto;margin-right:0;background-color:var(--globalColorGreenTint60);border-color:var(--globalColorGreenTint60);padding-top:0;padding-bottom:0;border-top-width:0px;width:20px;height:20px}.dismissButton[_ngcontent-%COMP%]   .smallIcon[_ngcontent-%COMP%]{height:16px;width:16px}.dismissButtonFailure[_ngcontent-%COMP%]{float:right;display:block;margin-left:auto;margin-right:0;background-color:var(--globalColorCranberryTint60);border-color:var(--globalColorCranberryTint60);padding-top:0;padding-bottom:0;border-top-width:0px;width:20px;height:20px}.dismissButtonFailure[_ngcontent-%COMP%]   .smallIcon[_ngcontent-%COMP%]{height:16px;width:16px}"],changeDetection:0}),i}(),Ee=m(59973),je=m(17653),St=function(i){return i.UpdateOneDrive="Update OneDrive",i.UpdateContracts="Update workspace contacts",i.UpdateImage="Update workspace image",i.UpdateDescription="Update description",i.UpdateName="Workspace rename",i.DetailSettings="Detail settings",i.DeleteWorkspace="delete workspace",i}({}),en=m(63271),Pt=m(54323),Vt=function(){function i(r){this.telemetryService=r}return i.prototype.logEvent=function(r,n,t,o,s){var l={originatingService:"DataCloudUX",activityName:r,featureName:"Fabric Workspace Settings",activityAttributes:n?(0,$.__assign)({},n):void 0,activityStatus:t,operationEndTime:o,correlationId:s};this.telemetryService.logStandardFeatureEvent(l)},i.prototype.logDomainEvent=function(r,n,t,o){var s={originatingService:"DataCloudUX",activityName:"Update domain association",featureName:"".concat("Domains",",").concat("Domains Direct MAU",",").concat("Domains WS Management"),activityAttributes:r?(0,$.__assign)({},r):void 0,activityStatus:n,operationEndTime:t,correlationId:o};this.telemetryService.logStandardFeatureEvent(s)},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275inject(Pt.t))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i}(),Ke=m(59017),We=m(83317),Yi=m(24851),Tn=m(59623),tn=m(66154),nt=m(45769),Xe=m(55490),qn=m(76688),jr=["menuButton"];function Kr(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",11)}function Rt(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",12),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.domainsMessageBarModel)}}var ei=function(r){return{"placeholder-text":r}},ti="noneDomain",_n=function(){function i(r,n){this.triLocalizationService=r,this.domainsCoreService=n,this.selectedDomainObjectId="",this.shouldBeDisabled=!1,this.supportDomainChangeMessage=!0,this.autoSetToPrimaryDefaultDomain=!1,this.showSpinner=!1,this.domainSelected=new e.EventEmitter,this.shouldShowDomainsMessageBar=!1,this.domainsMessageBarModel={bannerType:1},this.selectedDomainText="",this.isPlaceholderText=!0,this.menu={items:[]},this.allDomainMenuButtons=[],this.allDomainMenuSubmenus=[],this.destroy$=new ct.xQ,this.menuStyles={}}return i.prototype.ngOnInit=function(){var r=this;this.domainsMessageBarModel={bannerType:0,iconName:"info_20_filled",message:this.triLocalizationService.get("Domains_Switch_Domain")},this.selectedDomainText=this.triLocalizationService.get("Domain_Combobox_Placeholder"),(0,Ke.aj)([this.domainsCoreService.getDomain(this.selectedDomainObjectId),this.domainsCoreService.getDomainsWithAccessPermission()]).pipe((0,We.R)(this.destroy$)).subscribe(function(n){var t=n[0],o=n[1];t&&(r.selectedDomainText=t.displayName,r.isPlaceholderText=!1),!r.shouldBeDisabled&&r.initDomainsMenu(o)})},i.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},i.prototype.ngAfterViewInit=function(){if(this.menuButton){var r=this.menuButton.nativeElement.clientWidth;this.menuStyles.width="".concat(r,"px"),this.menuStyles["max-width"]="".concat(r,"px")}},i.prototype.onMenuDomainSelected=function(r){var n,t,o,s,l,v,C,w;if(r&&"0"!==r.id){this.selectDomainMenuButton(null===(n=r.id)||void 0===n?void 0:n.toString());var G=(null===(t=this.selectedDomainMenuButton)||void 0===t?void 0:t.id)===ti||null===(s=null===(o=this.selectedDomainMenuButton)||void 0===o?void 0:o.id)||void 0===s?void 0:s.toString();this.shouldShowDomainsMessageBar=this.supportDomainChangeMessage&&!!this.selectedDomainObjectId&&this.selectedDomainObjectId!==G;var re=null===(v=null===(l=this.selectedDomainMenuButton)||void 0===l?void 0:l.data)||void 0===v?void 0:v.parentObjectId;this.setSelectedDomain((null===(w=null===(C=this.selectedDomainMenuButton)||void 0===C?void 0:C.data)||void 0===w?void 0:w.domainDisplayName)||"",G,!(re&&G&&re===G))}},i.prototype.setSelectedDomain=function(r,n,t){this.selectedDomainText=r,this.isPlaceholderText=!1,this.domainSelected.emit({domainObjectId:n,isSubDomain:t})},i.prototype.initDomainsMenu=function(r){var n=(0,tn.Ts)(r,this.triLocalizationService,this.selectedDomainObjectId,!1);if(0===n.menu.items.length&&!this.selectedDomainObjectId)return this.allDomainMenuButtons=[{type:Tn.fz.Button,id:"0",text:this.triLocalizationService.get("Domain_Combobox_No_Domains"),styles:tn.N8}],void(this.menu={items:this.allDomainMenuButtons,styles:this.menuStyles});var t=this.triLocalizationService.get("None"),o={type:Tn.fz.Button,id:ti,text:t,data:{domainDisplayName:t,parentObjectId:void 0},styles:tn.N8,checkable:!0};this.allDomainMenuButtons=(0,$.__spreadArray)([o],n.menuButtons,!0),this.allDomainMenuSubmenus=n.submenus,this.menu={items:(0,$.__spreadArray)([o,{type:Tn.fz.Divider}],n.menu.items,!0),styles:this.menuStyles},this.selectDomainMenuButton(this.selectedDomainObjectId||ti),this.setDefaultDomain(r)},i.prototype.setDefaultDomain=function(r){if(this.autoSetToPrimaryDefaultDomain&&!this.selectedDomainObjectId){var n=r.find(function(o){return o.isPrimaryDefaultDataDomainForUser});if(n){var t=!!this.selectedDomainMenuButton;this.selectDomainMenuButton(n?.objectId),t&&this.setSelectedDomain(n.displayName,n.objectId,!!n.parentObjectId)}}},i.prototype.selectDomainMenuButton=function(r){r&&(this.selectedDomainMenuButton&&(this.selectedDomainMenuButton.checked=!1,(0,tn.Q2)(!1,this.selectedDomainMenuButton,this.allDomainMenuSubmenus)),this.selectedDomainMenuButton=this.allDomainMenuButtons.find(function(n){return n.id===r}),this.selectedDomainMenuButton&&(this.selectedDomainMenuButton.checked=!0,(0,tn.Q2)(!0,this.selectedDomainMenuButton,this.allDomainMenuSubmenus)))},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(Yi.wB))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["trident-domains-dropdown"]],viewQuery:function(n,t){var o;(1&n&&e.\u0275\u0275viewQuery(jr,5),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(t.menuButton=o.first))},inputs:{selectedDomainObjectId:"selectedDomainObjectId",shouldBeDisabled:"shouldBeDisabled",supportDomainChangeMessage:"supportDomainChangeMessage",autoSetToPrimaryDefaultDomain:"autoSetToPrimaryDefaultDomain",showSpinner:"showSpinner"},outputs:{domainSelected:"domainSelected"},decls:15,vars:14,consts:[[1,"about-input-container","tri-flex","tri-flex-col","tri-relative"],[1,"domains-header","tri-flex","tri-flex-row","tri-relative"],["data-testid","domains-dropdown-label","id","domain-label",1,"picker-label"],["tri-svg-icon-12","","name","info_20_regular","tabindex","0",3,"triTooltip"],[1,"menu-with-spinner"],["tri-button","","data-testid","domains-dropdown-button","appearance","default",1,"domain-menu-button",3,"triMenu","triMenuButtonClick"],["menuButton",""],[1,"menu-button-text",3,"ngClass"],["name","chevron_down_20_regular",1,"chevron-down-icon"],["size","extra-small",4,"ngIf"],["data-testid","domains-dropdown-message-banner","class","domains-message-banner",3,"viewModel",4,"ngIf"],["size","extra-small"],["data-testid","domains-dropdown-message-banner",1,"domains-message-banner",3,"viewModel"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"label",2),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"tri-svg-icon",3),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4)(8,"button",5,6),e.\u0275\u0275listener("triMenuButtonClick",function(s){return t.onMenuDomainSelected(s)}),e.\u0275\u0275elementStart(10,"span",7),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"tri-svg-icon",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,Kr,1,0,"tri-spinner",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,Rt,1,1,"tri-message-bar",10),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,8,"Domain")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(6,10,"Domains_Tip")),e.\u0275\u0275advance(3),e.\u0275\u0275property("triMenu",t.menu),e.\u0275\u0275attribute("disabled",!(0!==t.allDomainMenuButtons.length&&!t.shouldBeDisabled)||null),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(12,ei,t.isPlaceholderText)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.selectedDomainText),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.showSpinner),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.shouldShowDomainsMessageBar))},dependencies:[g.NgClass,g.NgIf,O.M,nt.h,Xe.Z,qn.rX,He.D,I.Y],styles:["[_nghost-%COMP%]{display:block;font-size:14px}[_nghost-%COMP%]   .domains-header[_ngcontent-%COMP%]{margin-bottom:4px}[_nghost-%COMP%]   .domains-header[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size)}[_nghost-%COMP%]   .domains-header[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{margin-top:4px;margin-left:4px}[_nghost-%COMP%]   .menu-with-spinner[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .menu-with-spinner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .menu-with-spinner[_ngcontent-%COMP%]   tri-spinner[_ngcontent-%COMP%]{margin-inline-start:8px}[_nghost-%COMP%]   .domains-message-banner[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .domain-menu-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .domain-menu-button[_ngcontent-%COMP%]   .menu-button-text[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .domain-menu-button[_ngcontent-%COMP%]   .placeholder-text[_ngcontent-%COMP%]{color:var(--globalColorGrey44)}[_nghost-%COMP%]   .domain-menu-button[_ngcontent-%COMP%]   .chevron-down-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38)}"],changeDetection:0}),i}(),Zi=["imageFileInput"];function ni(i,r){if(1&i&&(e.\u0275\u0275element(0,"img",26),e.\u0275\u0275pipe(1,"async")),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("src",e.\u0275\u0275pipeBind1(1,2,n.image$),e.\u0275\u0275sanitizeUrl),e.\u0275\u0275attribute("data-testid","workspace-settings-general-logo-img")}}function ii(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",27),2&i&&e.\u0275\u0275attribute("data-testid","workspace-settings-general-logo-default")}function Hr(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner"),e.\u0275\u0275elementStart(2,"span",28),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Uploading")))}function ri(i,r){1&i&&(e.\u0275\u0275element(0,"tri-svg-icon",29),e.\u0275\u0275elementStart(1,"span",28),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"Upload")))}function nn(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner"),e.\u0275\u0275elementStart(2,"span",28),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Deleting")))}function oi(i,r){1&i&&(e.\u0275\u0275element(0,"tri-svg-icon",30),e.\u0275\u0275elementStart(1,"span",28),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"Delete")))}function Xr(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-status-indicator",31),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&i){var t,n=e.\u0275\u0275nextContext();e.\u0275\u0275property("statusIndicatorType",n.StatusIndicatorType.Error),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null!==(t=e.\u0275\u0275pipeBind1(2,2,n.imgError$))&&void 0!==t?t:"","")}}function Yr(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",32)}function Ji(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-status-indicator",33),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("statusIndicatorType",n.StatusIndicatorType.Error),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,"NotAvailable_PleaseEdit_Text"))}}function Qr(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-status-indicator",33),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("statusIndicatorType",n.StatusIndicatorType.Error),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,"Validation_Empty"))}}function qi(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",32)}function er(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"trident-domains-dropdown",34),e.\u0275\u0275listener("domainSelected",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.selectDomain(s))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("selectedDomainObjectId",t.domain)("shouldBeDisabled",e.\u0275\u0275pipeBind1(1,3,t.autoSaveDomainInProgress$)||!t.isWorkspaceAdmin)("showSpinner",!!e.\u0275\u0275pipeBind1(2,5,t.autoSaveDomainInProgress$))}}var mn=function(r){return{"no-image-container":r}},Jr=function(){function i(r,n,t,o){this.localizationService=r,this.telemetryService=n,this.isTrident=t,this.workspaceSettingsService=o,this.imageFileInput=null,this.StatusIndicatorType=Nt,this.image$=new F.X(""),this.name="",this.description="",this.domain="",this.isWorkspaceAdmin=!1,this.imgError$=new F.X(""),this.isDomainsEnabled=!1,this.clickUpload$=new F.X(!1),this.clickDelete$=new F.X(!1),this.image$.next(this.workspaceSettingsService.imageSrc),this.name=this.workspaceSettingsService.workspaceName,this.description=this.workspaceSettingsService.description,this.domain=this.workspaceSettingsService.domainObjectId,this.autoSaveImageInProgress$=this.workspaceSettingsService.autoSaveInProgress.Image,this.autoSaveNameInProgress$=this.workspaceSettingsService.autoSaveInProgress.Name,this.autoSaveDescriptionInProgress$=this.workspaceSettingsService.autoSaveInProgress.Description,this.autoSaveDomainInProgress$=this.workspaceSettingsService.autoSaveInProgress.DomainObjectId,this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.isNameExist$=this.workspaceSettingsService.nameExists$,this.isDomainsEnabled=!!this.isTrident}return i.prototype.uploadImage=function(){var r,n;null===(n=null===(r=this.imageFileInput)||void 0===r?void 0:r.nativeElement)||void 0===n||n.click(),this.clickUpload$.next(!0),this.clickDelete$.next(!1)},i.prototype.deleteImage=function(){var r;!(null===(r=this.imageFileInput)||void 0===r)&&r.nativeElement&&(this.imageFileInput.nativeElement.value=""),this.image$.next(""),this.workspaceSettingsService.imageSrc="",this.clickUpload$.next(!1),this.clickDelete$.next(!0)},i.prototype.imageFileHandler=function(){var n,t,r=this;this.imgError$.next("");var o=null===(t=null===(n=this.imageFileInput)||void 0===n?void 0:n.nativeElement)||void 0===t?void 0:t.files;if(o&&1===o.length){var s=o[0];if(s.size>46080)this.imgError$.next(this.localizationService.format("Publish_ImageSizeValidationError",this.localizationService.get("File_Size_KB_45")));else{var l=s.name.split(".").reverse()[0];if(["jpeg","jpg","png"].some(function(C){return l.toLowerCase()===C}))try{var v=new FileReader;v.addEventListener("load",function(C){var w,G,re=null===(w=C.target)||void 0===w?void 0:w.result;re&&(r.image$.next(re.toString()),r.workspaceSettingsService.imageSrc=re.toString(),!(null===(G=r.imageFileInput)||void 0===G)&&G.nativeElement&&(r.imageFileInput.nativeElement.value=""),r.telemetryService.logEvent(St.UpdateImage))}),v.readAsDataURL(s)}catch(C){this.imgError$.next(this.localizationService.get("Trident_Workspace_Settings_File_Read_Error"))}else this.imgError$.next(this.localizationService.get("Trident_Workspace_Settings_Image_File_Extension_Error"))}}else this.imgError$.next(this.localizationService.get("Trident_Workspace_Settings_One_Image_File_Only"))},i.prototype.updateName=function(r){this.name=r.target.value,this.workspaceSettingsService.workspaceName=this.name,this.telemetryService.logEvent(St.UpdateName)},i.prototype.validateName=function(r){var n=this,t=r.target.value;this.validateNameTimeoutId&&clearTimeout(this.validateNameTimeoutId),this.validateNameTimeoutId=setTimeout(function(){n.workspaceSettingsService.validateFolderName(t)},600)},i.prototype.updateDescription=function(r){this.description=r.target.value,this.workspaceSettingsService.description=this.description,this.telemetryService.logEvent(St.UpdateDescription)},i.prototype.selectDomain=function(r){this.workspaceSettingsService.domainObjectId=r?.domainObjectId,this.telemetryService.logDomainEvent({source:"WS settings",isSubDomain:!!r?.isSubDomain})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(Vt),e.\u0275\u0275directiveInject(en.Y),e.\u0275\u0275directiveInject(Ue.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-general-about"]],viewQuery:function(n,t){var o;(1&n&&e.\u0275\u0275viewQuery(Zi,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(t.imageFileInput=o.first))},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:71,vars:91,consts:[[1,"section-container","tri-flex","tri-flex-col"],[1,"section-title","tri-subtitle2"],[1,"image-container","tri-flex"],[1,"image","tri-flex","tri-justify-center","tri-items-center","tri-relative",3,"ngClass"],["class","valid-image","alt","Workspace image",3,"src",4,"ngIf"],["tri-svg-icon-32","","class","no-image","name","image_32_regular",4,"ngIf"],[1,"image-buttons","tri-flex","tri-flex-col"],["tri-button","","appearance","subtle","size","small",1,"image-button",3,"disabled","click"],[4,"ngIf","ngIfElse"],["uploadImageBtn",""],["deleteImageBtn",""],["role","alert",3,"statusIndicatorType",4,"ngIf"],["id","workspace-settings-general-name-label",1,"section-title","tri-subtitle2"],[1,"required-star"],[1,"tri-flex"],["aria-labelledby","workspace-settings-general-name-label",1,"general-settings-input","tri-flex-grow",3,"disabled","value","blur","keyup"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],[3,"statusIndicatorType",4,"ngIf"],["id","workspace-settings-general-description-label",1,"section-title","tri-subtitle2"],["aria-labelledby","workspace-settings-general-description-label","maxlength","4000","rows","3",1,"general-settings-textarea","tri-flex-grow",3,"value","disabled","placeholder","blur"],[1,"section-title"],[1,"tri-subtitle2"],[1,"tri-body1"],[3,"selectedDomainObjectId","shouldBeDisabled","showSpinner","domainSelected",4,"ngIf"],["type","file","accept",".jpeg,.jpg,.png",1,"tri-hidden",3,"change"],["imageFileInput",""],["alt","Workspace image",1,"valid-image",3,"src"],["tri-svg-icon-32","","name","image_32_regular",1,"no-image"],[1,"tri-body1-strong"],["name","arrow_upload_20_regular"],["name","delete_20_regular"],["role","alert",3,"statusIndicatorType"],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],[3,"statusIndicatorType"],[3,"selectedDomainObjectId","shouldBeDisabled","showSpinner","domainSelected"]],template:function(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div")(2,"div",1),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",2)(6,"div",3),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,ni,2,4,"img",4),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275template(10,ii,1,1,"tri-svg-icon",5),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",6)(13,"button",7),e.\u0275\u0275listener("click",function(){return t.uploadImage()}),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275template(16,Hr,5,3,"ng-container",8),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275template(19,ri,4,3,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"button",7),e.\u0275\u0275listener("click",function(){return t.deleteImage()}),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275pipe(25,"async"),e.\u0275\u0275template(26,nn,5,3,"ng-container",8),e.\u0275\u0275pipe(27,"async"),e.\u0275\u0275pipe(28,"async"),e.\u0275\u0275template(29,oi,4,3,"ng-template",null,10,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(31,Xr,3,4,"tri-status-indicator",11),e.\u0275\u0275pipe(32,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(33,"div")(34,"div",12)(35,"div"),e.\u0275\u0275text(36),e.\u0275\u0275pipe(37,"localize"),e.\u0275\u0275elementStart(38,"span",13),e.\u0275\u0275text(39," *"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(40,"div",14)(41,"input",15),e.\u0275\u0275listener("blur",function(re){return t.updateName(re)})("keyup",function(re){return t.validateName(re)}),e.\u0275\u0275pipe(42,"async"),e.\u0275\u0275pipe(43,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(44,Yr,1,0,"tri-spinner",16),e.\u0275\u0275pipe(45,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(46,Ji,3,4,"tri-status-indicator",17),e.\u0275\u0275pipe(47,"async"),e.\u0275\u0275template(48,Qr,3,4,"tri-status-indicator",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"div")(50,"div",18),e.\u0275\u0275text(51),e.\u0275\u0275pipe(52,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"div",14)(54,"textarea",19),e.\u0275\u0275listener("blur",function(re){return t.updateDescription(re)}),e.\u0275\u0275pipe(55,"async"),e.\u0275\u0275pipe(56,"localize"),e.\u0275\u0275pipe(57,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(58,qi,1,0,"tri-spinner",16),e.\u0275\u0275pipe(59,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(60,"div")(61,"div",20)(62,"div",21),e.\u0275\u0275text(63),e.\u0275\u0275pipe(64,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(65,"div",22),e.\u0275\u0275text(66),e.\u0275\u0275pipe(67,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(68,er,3,7,"trident-domains-dropdown",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(69,"input",24,25),e.\u0275\u0275listener("change",function(){return t.imageFileHandler()}),e.\u0275\u0275elementEnd()),2&n){var l,v,C,w,o=e.\u0275\u0275reference(20),s=e.\u0275\u0275reference(30);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,35,"WorkspaceImage")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(89,mn,!(null!=(l=e.\u0275\u0275pipeBind1(7,37,t.image$))&&l.length))),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(9,39,t.image$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(null!=(v=e.\u0275\u0275pipeBind1(11,41,t.image$))&&v.length)),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("is-disabled",e.\u0275\u0275pipeBind1(14,43,t.autoSaveImageInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(15,45,t.autoSaveImageInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275attribute("data-testid","workspace-settings-general-upload-btn"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(17,47,t.autoSaveImageInProgress$)&&e.\u0275\u0275pipeBind1(18,49,t.clickUpload$))("ngIfElse",o),e.\u0275\u0275advance(5),e.\u0275\u0275classProp("is-disabled",!(null!=(C=e.\u0275\u0275pipeBind1(22,51,t.image$))&&C.length)||e.\u0275\u0275pipeBind1(23,53,t.autoSaveImageInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",!(null!=(w=e.\u0275\u0275pipeBind1(24,55,t.image$))&&w.length)||e.\u0275\u0275pipeBind1(25,57,t.autoSaveImageInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275attribute("data-testid","workspace-settings-general-reset-btn"),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(27,59,t.autoSaveImageInProgress$)&&e.\u0275\u0275pipeBind1(28,61,t.clickDelete$))("ngIfElse",s),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(32,63,t.imgError$)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(37,65,"Name")),e.\u0275\u0275advance(5),e.\u0275\u0275classProp("has-error",e.\u0275\u0275pipeBind1(42,67,t.isNameExist$)||!t.name),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(43,69,t.autoSaveNameInProgress$)||!t.isWorkspaceAdmin)("value",t.name),e.\u0275\u0275attribute("data-testid","workspace-settings-general-name-input"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(45,71,t.autoSaveNameInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(47,73,t.isNameExist$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(52,75,"Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",t.description)("disabled",e.\u0275\u0275pipeBind1(55,77,t.autoSaveDescriptionInProgress$)||!t.isWorkspaceAdmin)("placeholder",e.\u0275\u0275pipeBind1(56,79,"DescribeThisWorkspace")+" "+e.\u0275\u0275pipeBind1(57,81,"Optional_Parenthesis")),e.\u0275\u0275attribute("data-testid","workspace-settings-general-description-input"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(59,83,t.autoSaveDescriptionInProgress$)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(64,85,"Domain")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(67,87,"Domains_Tip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isDomainsEnabled)}},dependencies:[g.NgClass,g.NgIf,g.AsyncPipe,V.T6,O.M,S.Y,I.Y,N.l,ee.d,He.D,gn,At,Yt.AP,_n,h.w],styles:["[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{gap:8px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{height:72px;width:72px;max-width:72px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .valid-image[_ngcontent-%COMP%]{height:72px;width:72px;border-radius:50%}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image.no-image-container[_ngcontent-%COMP%]{background-color:var(--colorNeutralBackground6);color:var(--colorNeutralForeground3);fill:var(--colorNeutralForeground3);border-radius:50%}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground3)}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-buttons[_ngcontent-%COMP%]{gap:4px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-buttons[_ngcontent-%COMP%]   .image-button[_ngcontent-%COMP%]{height:32px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-error-message[_ngcontent-%COMP%]{color:var(--colorPaletteRedForeground1)}[_nghost-%COMP%]   tri-status-indicator[_ngcontent-%COMP%]     .status-indicator{margin-top:4px}[_nghost-%COMP%]   trident-domains-dropdown[_ngcontent-%COMP%]     .domains-header{display:none}[_nghost-%COMP%]   trident-domains-dropdown[_ngcontent-%COMP%]     .domain-menu-button[disabled] .menu-button-text{color:var(--colorNeutralForegroundDisabled)}"],changeDetection:0}),i}();function tr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",7),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.deleteWorkspaceErrorMessage$))&&void 0!==o?o:""))}}function ya(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275element(1,"tri-svg-icon",9),e.\u0275\u0275elementStart(2,"div",10),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Trident_Workspace_Settings_Delete_Workspace_Banner")))}function qr(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.getDeleteWorkspaceRetentionPolicyText()," ")}}function yt(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}var $e=function(){function i(r,n,t){this.workspaceSettingsService=r,this.triLocalizationService=n,this.telemetryService=t,this.closeSettings=new e.EventEmitter,this.showDeleteWorkspaceError$=new F.X(!1)}return i.prototype.ngOnInit=function(){var r=this;this.workspaceRecoveryEnabled=this.workspaceSettingsService.workspaceRecoveryEnabled,this.deleteWorkspaceInProgress$=this.workspaceSettingsService.deleteWorkspaceInProgress$,this.deleteWorkspaceErrorMessage$=this.workspaceSettingsService.deleteWorkspaceErrorMessage$.pipe((0,Ee.h)(function(n){return!!n}),(0,je.b)(function(){return r.showDeleteWorkspaceError$.next(!0)}))},i.prototype.deleteWorkspace=function(){var r=this;this.telemetryService.logEvent(St.DeleteWorkspace),this.workspaceSettingsService.deleteWorkspace().then(function(n){var t;n&&(null===(t=r.closeSettings)||void 0===t||t.emit())})},i.prototype.getDeleteWorkspaceRetentionPolicyText=function(){return this.triLocalizationService.format("Trident_Workspace_Settings_Delete_Workspace_Configurable",this.workspaceSettingsService.retentionPeriodDays)},i.prototype.dismissError=function(){this.showDeleteWorkspaceError$.next(!1)},i.prototype.getErrorMessageBarViewModel=function(r){return{bannerType:1,allowDismiss:!0,isRoundedCorners:!0,message:r}},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(Vt))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-general-manage"]],outputs:{closeSettings:"closeSettings"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:19,vars:23,consts:[[1,"section-title","tri-subtitle2"],[3,"viewModel","hideMessageBar",4,"ngIf"],["class","delete-workspace-message tri-flex",4,"ngIf"],["class","delete-workspace-new-message tri-body1",4,"ngIf"],["tri-button","","appearance","primary","data-testid","delete-workspace-btn",3,"disabled","click"],[4,"ngIf"],["name","delete_20_regular"],[3,"viewModel","hideMessageBar"],[1,"delete-workspace-message","tri-flex"],["name","info_20_regular",1,"banner-icon","tri-shrink-0"],[1,"banner-text"],[1,"delete-workspace-new-message","tri-body1"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275template(5,tr,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,ya,5,3,"div",2),e.\u0275\u0275template(9,qr,2,1,"div",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div")(11,"button",4),e.\u0275\u0275listener("click",function(){return t.deleteWorkspace()}),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275template(14,yt,1,0,"tri-spinner",5),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275element(16,"tri-svg-icon",6),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,9,"GroupEditor_DeleteGroup_Text")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,11,t.deleteWorkspaceErrorMessage$)&&e.\u0275\u0275pipeBind1(7,13,t.showDeleteWorkspaceError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!t.workspaceRecoveryEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.workspaceRecoveryEnabled),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("is-disabled",e.\u0275\u0275pipeBind1(12,15,t.deleteWorkspaceInProgress$)),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(13,17,t.deleteWorkspaceInProgress$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(15,19,t.deleteWorkspaceInProgress$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(18,21,"Trident_Workspace_Settings_Delete_This_Workspace")," "))},dependencies:[g.NgIf,g.AsyncPipe,V.T6,O.M,S.Y,I.Y,N.l,ee.d,He.D,oe.I,nt.h],styles:["[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]{font-size:12px;background-color:var(--colorNeutralBackground4);padding:6px 10px;box-sizing:border-box}[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-inline-end:8px}[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}[_nghost-%COMP%]   .delete-workspace-new-message[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),i}();function Se(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function ze(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",7)}var st=function(){return[]};function rn(i,r){if(1&i&&e.\u0275\u0275element(0,"input",8),2&i){var t,n=r.$implicit;e.\u0275\u0275property("placeholder",null==n?null:n.inputPlaceholder)("value",(null!==(t=null==n?null:n.identities)&&void 0!==t?t:e.\u0275\u0275pureFunction0(2,st)).join(";"))}}var Tt=function(r){return{$implicit:r}},eo=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.triLocalizationService=n,this.telemetryService=t,this.contactListContext=void 0,this.isWorkspaceAdmin=!1,this.onContactListUpdated=function(s){o.contactListContext&&(o.contactListContext=(0,$.__assign)((0,$.__assign)({},o.contactListContext),{identities:(0,$.__spreadArray)([],s,!0)}),o.workspaceSettingsService.contactList=o.contactListContext.identities,o.telemetryService.logEvent(St.UpdateContracts))},this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.contactListContext={identities:this.workspaceSettingsService.contactList,onIdentitiesUpdated:this.onContactListUpdated,allowEmailEnabledSecurityGroups:!0,allowObjectIds:!0,allowDistributionLists:!0,allowUnifiedGroups:!0,checkValidOrgUser:!0,includeGuests:!0,showRelevantUsers:!1,inputPlaceholder:this.workspaceSettingsService.contactList.length>0?"":this.triLocalizationService.get("EmailsList_UsersAndGroupsPlaceholder"),inputAriaLabelledBy:"workspace-settings-general-contact-list-label",disabled:!this.isWorkspaceAdmin},this.autoSaveContactListInProgress$=this.workspaceSettingsService.autoSaveInProgress.ContactList}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(Vt))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-general-notifications"]],inputs:{userPicker:"userPicker"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:13,vars:13,consts:[[1,"section-title"],["id","workspace-settings-general-contact-list-label",1,"tri-subtitle2"],[1,"tri-body1"],[1,"email-list-input-container","tri-flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],["inputUserPicker",""],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],["aria-labelledby","workspace-settings-general-contact-list-label",1,"tri-flex-grow","contact-list",3,"placeholder","value"]],template:function(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",2),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",3),e.\u0275\u0275template(8,Se,1,0,"ng-container",4),e.\u0275\u0275template(9,ze,1,0,"tri-spinner",5),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,rn,1,3,"ng-template",null,6,e.\u0275\u0275templateRefExtractor)),2&n){var o=e.\u0275\u0275reference(12);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,5,"Workspace_Contact")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,7,"Workspace_Contact_List_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",t.userPicker||o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(11,Tt,t.contactListContext)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(10,9,t.autoSaveContactListInProgress$))}},dependencies:[g.NgIf,g.NgTemplateOutlet,g.AsyncPipe,S.Y,I.Y,N.l,ee.d,He.D,p.u5],encapsulation:2,changeDetection:0}),i}();function to(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function ba(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",5)}var no=function(){return[]};function io(i,r){if(1&i&&e.\u0275\u0275element(0,"input",6),2&i){var t,n=r.$implicit;e.\u0275\u0275property("placeholder",null==n?null:n.inputPlaceholder)("value",(null!==(t=null==n?null:n.identities)&&void 0!==t?t:e.\u0275\u0275pureFunction0(2,no)).join(";"))}}var nr=function(r){return{$implicit:r}},ro=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.triLocalizationService=n,this.telemetryService=t,this.oneDriveContext=void 0,this.isWorkspaceAdmin=!1,this.onOneDriveUpdated=function(s){o.oneDriveContext&&(o.oneDriveContext=(0,$.__assign)((0,$.__assign)({},o.oneDriveContext),{identities:(0,$.__spreadArray)([],s,!0)}),o.workspaceSettingsService.workspaceOneDrive=o.oneDriveContext.identities[0],o.telemetryService.logEvent(St.UpdateOneDrive))},this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.oneDriveContext={identities:this.workspaceSettingsService.workspaceOneDrive?[this.workspaceSettingsService.workspaceOneDrive]:[],onIdentitiesUpdated:this.onOneDriveUpdated,allowSecurityGroups:!1,allowObjectIds:!0,allowDistributionLists:!1,allowUnifiedGroups:!0,blockUsers:!0,checkValidOrgUser:!0,maxSelectableUsers:1,showRelevantUsers:!1,inputPlaceholder:this.workspaceSettingsService.workspaceOneDrive?"":this.triLocalizationService.get("EmailsList_GroupsPlaceholder"),inputAriaLabelledBy:"workspace-settings-general-oneDrive-list-label",disabled:!this.isWorkspaceAdmin},this.autoSaveOneDriveInProgress=this.workspaceSettingsService.autoSaveInProgress.OneDrive}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(Vt))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-general-one-drive"]],inputs:{userPicker:"userPicker"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:9,vars:10,consts:[["id","workspace-settings-general-oneDrive-list-label",1,"section-title","tri-subtitle2"],[1,"email-list-input-container","tri-flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],["inputUserPicker",""],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],["aria-labelledby","workspace-settings-general-oneDrive-list-label",1,"tri-flex-grow","contact-list",3,"placeholder","value"]],template:function(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",1),e.\u0275\u0275template(4,to,1,0,"ng-container",2),e.\u0275\u0275template(5,ba,1,0,"tri-spinner",3),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,io,1,3,"ng-template",null,4,e.\u0275\u0275templateRefExtractor)),2&n){var o=e.\u0275\u0275reference(8);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,4,"WorkspaceSharePoint")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",t.userPicker||o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(8,nr,t.oneDriveContext)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,6,t.autoSaveOneDriveInProgress))}},dependencies:[g.NgIf,g.AsyncPipe,g.NgTemplateOutlet,S.Y,I.Y,N.l,ee.d,He.D,p.u5],encapsulation:2,changeDetection:0}),i}(),oo=["*"],si=function(){function i(){}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-section-divider"]],inputs:{sectionNameLocKey:"sectionNameLocKey"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],ngContentSelectors:oo,decls:10,vars:3,consts:[[1,"section"],[1,"divider","tri-flex","tri-flex-row","tri-justify-content","tri-items-center"],[1,"divider-left-line"],[1,"divider-text","tri-caption1"],[1,"tri-flex-auto"]],template:function(n,t){1&n&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),e.\u0275\u0275element(3,"mat-divider"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",3),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4),e.\u0275\u0275element(8,"mat-divider"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275projection(9),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(t.sectionNameLocKey?e.\u0275\u0275pipeBind1(6,1,t.sectionNameLocKey):""))},dependencies:[S.Y,I.Y,J.t,J.d],styles:["[_nghost-%COMP%]   .section[_ngcontent-%COMP%]{margin-bottom:48px}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{width:100%;height:20px;margin-bottom:16px}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]   .divider-left-line[_ngcontent-%COMP%]{width:8px}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]   .divider-text[_ngcontent-%COMP%]{padding:0 var(--spacingVerticalM)}"],changeDetection:0}),i}();function ci(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",2),e.\u0275\u0275elementContainerEnd())}function k(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissWorkspaceInitializationError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.workspaceInitializationError$))&&void 0!==o?o:""))}}function ao(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissNameValidationError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.nameValidationError$))&&void 0!==o?o:""))}}function ir(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissAutoSaveError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.autoSaveError$))&&void 0!==o?o:""))}}function Ft(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-section-divider",10)(1,"tri-workspace-settings-general-manage",11),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()()}}function vn(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",4),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"tri-workspace-settings-section-divider",5),e.\u0275\u0275element(5,"tri-workspace-settings-general-about"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"tri-workspace-settings-section-divider",6),e.\u0275\u0275element(7,"tri-workspace-settings-general-notifications",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"tri-workspace-settings-section-divider",8),e.\u0275\u0275element(9,"tri-workspace-settings-general-one-drive",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,Ft,2,0,"tri-workspace-settings-section-divider",9),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"SettingsGroupsNames_General")),e.\u0275\u0275advance(5),e.\u0275\u0275property("userPicker",n.userPicker),e.\u0275\u0275advance(2),e.\u0275\u0275property("userPicker",n.userPicker),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!n.isWorkspaceAdmin)}}var li=function(){function i(r,n){this.workspaceSettingsService=r,this.telemetryService=n,this.closeSettings=new e.EventEmitter,this.showWorkspaceInitializationError$=new F.X(!1),this.showNameValidationError$=new F.X(!1),this.showAutoSaveError$=new F.X(!1)}return i.prototype.ngOnInit=function(){var r=this;this.initialized$=this.workspaceSettingsService.folderSettingsInitialized$,this.initialized$.subscribe(function(n){n&&(r.isWorkspaceAdmin=r.workspaceSettingsService.isWorkspaceAdmin,r.telemetryService.logEvent(St.DetailSettings,{name:"Load Workspace settings - end"}),r.workspaceInitializationError$=r.workspaceSettingsService.workspaceInitializationErrorMessage$.pipe((0,Ee.h)(function(t){return!!t}),(0,je.b)(function(){return r.showWorkspaceInitializationError$.next(!0)})),r.nameValidationError$=r.workspaceSettingsService.nameValidationErrorMessage$.pipe((0,Ee.h)(function(t){return!!t}),(0,je.b)(function(){return r.showNameValidationError$.next(!0)})),r.autoSaveError$=r.workspaceSettingsService.autoSaveErrorMessage$.pipe((0,Ee.h)(function(t){return!!t}),(0,je.b)(function(){return r.showAutoSaveError$.next(!0)})))})},i.prototype.dismissWorkspaceInitializationError=function(){this.showWorkspaceInitializationError$.next(!1)},i.prototype.dismissNameValidationError=function(){this.showNameValidationError$.next(!1)},i.prototype.dismissAutoSaveError=function(){this.showAutoSaveError$.next(!1)},i.prototype.getErrorMessageBarViewModel=function(r){return{bannerType:1,allowDismiss:!0,isRoundedCorners:!0,message:r}},i.prototype.onCloseSettings=function(){this.closeSettings.emit()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(Vt))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-general"]],inputs:{userPicker:"userPicker"},outputs:{closeSettings:"closeSettings"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:13,vars:21,consts:[[4,"ngIf"],[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar"],[1,"tab-title","tri-title3"],["sectionNameLocKey","About"],["sectionNameLocKey","UsersNotifications_BadgeTooltip"],[3,"userPicker"],["sectionNameLocKey","OneDrive"],["sectionNameLocKey","Manage_Tooltip",4,"ngIf"],["sectionNameLocKey","Manage_Tooltip"],[3,"closeSettings"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,ci,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,k,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,ao,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,ir,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275template(11,vn,11,6,"ng-container",0),e.\u0275\u0275pipe(12,"async")),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,5,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!!e.\u0275\u0275pipeBind1(3,7,t.workspaceInitializationError$)&&e.\u0275\u0275pipeBind1(4,9,t.showWorkspaceInitializationError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!!e.\u0275\u0275pipeBind1(6,11,t.nameValidationError$)&&e.\u0275\u0275pipeBind1(7,13,t.showNameValidationError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!!e.\u0275\u0275pipeBind1(9,15,t.autoSaveError$)&&e.\u0275\u0275pipeBind1(10,17,t.showAutoSaveError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(12,19,t.initialized$)))},dependencies:[Jr,$e,eo,ro,si,g.NgIf,oe.I,nt.h,S.Y,I.Y,N.l,ee.d,He.D,g.AsyncPipe],styles:["[_nghost-%COMP%]     .general-settings-input, [_nghost-%COMP%]     .general-settings-textarea{resize:none;font-size:14px;font-family:var(--fontFamilyBase);line-height:20px;padding:5px 12px;box-sizing:border-box;border-radius:4px;outline:none;border:1px solid var(--colorNeutralStroke1)}[_nghost-%COMP%]     .general-settings-input:not([disabled]), [_nghost-%COMP%]     .general-settings-textarea:not([disabled]){border-bottom:1px solid var(--globalColorGrey38)}[_nghost-%COMP%]     .general-settings-input:not([disabled]):focus-visible, [_nghost-%COMP%]     .general-settings-textarea:not([disabled]):focus-visible{border-bottom:2px solid var(--globalColorBrand80)}[_nghost-%COMP%]     .general-settings-input[disabled], [_nghost-%COMP%]     .general-settings-textarea[disabled]{border:1px solid var(--colorNeutralStroke2);background-color:var(--colorNeutralBackgroundDisabled);color:var(--colorNeutralForegroundDisabled)}[_nghost-%COMP%]     .general-settings-input[disabled]::placeholder, [_nghost-%COMP%]     .general-settings-textarea[disabled]::placeholder{color:var(--colorNeutralForegroundDisabled, #bdbdbd)}[_nghost-%COMP%]     .general-settings-input.has-error, [_nghost-%COMP%]     .general-settings-textarea.has-error{border:1px solid var(--colorPaletteRedForeground1)}[_nghost-%COMP%]     .email-list-input-container emails-list-modern{flex-grow:1}[_nghost-%COMP%]     .email-list-input-container .mat-form-field.emails-list{border-radius:4px;outline:none;border:1px solid var(--colorNeutralStroke1);border-bottom:1px solid var(--globalColorGrey38)}[_nghost-%COMP%]     .email-list-input-container .mat-form-field.emails-list:hover{border:1px solid var(--colorNeutralStroke1);border-bottom:1px solid var(--globalColorGrey38)}[_nghost-%COMP%]     .email-list-input-container .mat-form-field.emails-list:focus-visible, [_nghost-%COMP%]     .email-list-input-container .mat-form-field.emails-list:focus-within, [_nghost-%COMP%]     .email-list-input-container .mat-form-field.emails-list:focus{border:1px solid var(--colorNeutralStroke1);border-bottom:2px solid var(--globalColorBrand80)}[_nghost-%COMP%]     .email-list-input-container emails-list-modern.invalid .emails-list{border:1px solid var(--colorPaletteRedForeground1)}[_nghost-%COMP%]     .email-list-input-container emails-list-modern.disabled .emails-list{border:1px solid var(--colorNeutralStroke2);background-color:var(--colorNeutralBackgroundDisabled)}[_nghost-%COMP%]     .email-list-input-container emails-list-modern.disabled .emails-list:hover{border:1px solid var(--colorNeutralStroke2)}[_nghost-%COMP%]     .email-list-input-container emails-list-modern.disabled .emails-list input::placeholder{color:var(--colorNeutralForegroundDisabled, #bdbdbd)}[_nghost-%COMP%]     .email-list-input-container input, [_nghost-%COMP%]     .email-list-input-container .chip-list{padding:6px 10px}[_nghost-%COMP%]     .email-list-input-container message-banner{margin-bottom:0}[_nghost-%COMP%]     .email-list-input-container message-banner .message-banner.message-banner-error{color:var(--colorPaletteRedForeground1);padding:4px 0 0;background-color:unset;align-items:center}[_nghost-%COMP%]     .email-list-input-container message-banner .message-banner-icon{margin-right:4px!important;background:var(--colorPaletteRedForeground1);color:#fff;display:flex;align-items:center;justify-content:center;height:11px;width:11px;border-radius:100%}"],changeDetection:0}),i}(),Dt=function(i){return i[i.AdlsStorage=0]="AdlsStorage",i[i.LogAnalytics=1]="LogAnalytics",i}({}),Pe=m(11547),On=m(63057),ve=m(14172),di=m(22318),Bt=m(11105),bt=function(i){return i.NotConfigured="not-configured",i.EditConfiguration="edit-configuration",i.ShowConfiguration="show-configuration",i}({}),It=function(i){return i.Default="default",i.Custom="custom",i}({}),hn=m(89237),xt=m(20551),Gt=m(64716),wt=m(85721);function rr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",8),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.dismissServerMessageBar())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getServerMessageBarViewModel(e.\u0275\u0275pipeBind1(1,1,t.serverMessageBarModel$)))}}function or(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"div",10),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",11)(5,"div")(6,"div",12),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",13),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"div",14)(13,"button",15),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.editConfiguration())}),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,t.resourceConnector.collapsibeSectionHeader)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,6,"Status"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,8,"Not_Configured")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(15,10,"Configure")," ")}}function so(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function co(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function wa(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",20),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.connectResource())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,co,1,0,"tri-spinner",21),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("disabled",!((t.selectedSubscription&&t.selectedResourceGroup&&t.selectedResource||e.\u0275\u0275pipeBind1(1,3,t.editConfigurationType$)===t.EditConfigurationType.Default)&&!0!==e.\u0275\u0275pipeBind1(2,5,t.saveInProgress$)&&t.isWorkspaceAdmin)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(4,7,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,9,"PBI_Button_Label_Save")," ")}}function ar(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",22),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.cancelConnect())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("disabled",!0===e.\u0275\u0275pipeBind1(1,2,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Cancel_ButtonText")," ")}}function on(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",9)(1,"div",16),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",11),e.\u0275\u0275template(5,so,1,0,"ng-container",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",14),e.\u0275\u0275template(7,wa,7,11,"button",18),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275template(9,ar,4,6,"button",19),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(),t=e.\u0275\u0275reference(13);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,n.resourceConnector.collapsibeSectionHeader)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",t),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",void 0===e.\u0275\u0275pipeBind1(8,6,n.connectedResource$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",void 0===e.\u0275\u0275pipeBind1(10,8,n.connectedResource$))}}function ka(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function lo(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}var En=function(r){return{$implicit:r}};function sr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"div",10),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",11),e.\u0275\u0275template(5,ka,1,0,"ng-container",23),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",14)(8,"button",20),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.disconnectResource())}),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275template(11,lo,1,0,"tri-spinner",21),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(11);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,8,"Storage_Configuration")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(20,En,e.\u0275\u0275pipeBind1(6,10,t.connectedResource$))),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("is-disabled",!0===e.\u0275\u0275pipeBind1(9,12,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",!0===e.\u0275\u0275pipeBind1(10,14,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(12,16,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,18,"BYOResources_Disconnect_Button_Workspace")," ")}}function cr(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div")(2,"div",12),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",13),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div")(8,"div",12),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",13),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"div")(14,"div",12),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",13),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd()()()),2&i){var n=r.$implicit,t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,6,"Subscription"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",(null==n?null:n.subscriptionId)||"\u2014",""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,8,"BYOResources_Connect_ResourceGroup"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",(null==n?null:n.resourceGroup)||"\u2014",""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(16,10,t.resourceConnector.resourceLabel),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",(null==n?null:n.resourceName)||"\u2014","")}}function po(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-group")(1,"tri-radio-button",26),e.\u0275\u0275listener("change",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.selectEditConfigurationType(s,l.EditConfigurationType.Default))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementStart(4,"label",27),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"tri-radio-button",28),e.\u0275\u0275listener("change",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.selectEditConfigurationType(s,l.EditConfigurationType.Custom))}),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275elementStart(9,"label",29),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!t.canChooseDefault||!0===e.\u0275\u0275pipeBind1(2,7,t.saveInProgress$))("value",t.EditConfigurationType.Default)("checked",e.\u0275\u0275pipeBind1(3,9,t.editConfigurationType$)===t.EditConfigurationType.Default),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,11,"BYOResources_Connect_Default"),""),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",e.\u0275\u0275pipeBind1(8,13,t.editConfigurationType$)===t.EditConfigurationType.Custom)("value",t.EditConfigurationType.Custom),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,15,"BYOResources_Connect_Custom"),"")}}function uo(i,r){if(1&i&&(e.\u0275\u0275element(0,"tri-message-bar",30),e.\u0275\u0275pipe(1,"localize")),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("viewModel",n.getErrorMessageBarViewModel(e.\u0275\u0275pipeBind1(1,1,n.resourceConnector.notAllowedWarningMessage)))}}function Ia(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function go(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Ia,1,0,"ng-container",23),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(3),t=e.\u0275\u0275reference(11);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,En,n.tenantResource))}}function _o(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",8),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(l.dismissFetchError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("viewModel",null!==(o=e.\u0275\u0275pipeBind1(1,1,t.fetchErrorMessageBarModel$))&&void 0!==o?o:void 0)}}function mo(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",43),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("",n.text," (",n.key,") ")}}function vo(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",44)}function xa(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-status-indicator",45)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"tri-link",46),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("statusIndicatorType",n.StatusIndicatorType.Error),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,5,n.resourceConnector.noSubscriptionsMessage)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0)("href",n.resourceConnector.noSubscriptionLearnMoreLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,7,"LearnMore")," ")}}function Ma(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",43),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.text," ")}}function Pa(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",44)}function Ta(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-status-indicator",45)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"tri-link",46),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("statusIndicatorType",n.StatusIndicatorType.Error),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,5,n.resourceConnector.noResourceGroupMessage)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0)("href",n.resourceConnector.noResourceGroupLearnMoreLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,7,"LearnMore")," ")}}function lr(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",43),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.text," ")}}function ho(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",44)}function Oa(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",33),e.\u0275\u0275template(1,_o,2,3,"tri-message-bar",0),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"div")(4,"div",34),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementStart(7,"span",35),e.\u0275\u0275text(8," *"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",36)(10,"tri-dropdown",37),e.\u0275\u0275listener("ngModelChange",function(ge){e.\u0275\u0275restoreView(n);var q=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(q.selectedSubscriptionDropdownOption=ge)})("valueChange",function(ge){e.\u0275\u0275restoreView(n);var q=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(q.onSubscriptionChange(ge))}),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementStart(13,"tri-dropdown-trigger")(14,"div",38),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"tri-search-box",39),e.\u0275\u0275listener("value",function(ge){e.\u0275\u0275restoreView(n);var q=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(q.onSubscriptionsSearched(ge))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,mo,2,3,"tri-dropdown-item",40),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,vo,1,0,"tri-spinner",41),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(22,xa,7,9,"tri-status-indicator",42),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div")(26,"div",34),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"localize"),e.\u0275\u0275elementStart(29,"span",35),e.\u0275\u0275text(30," *"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(31,"div",36)(32,"tri-dropdown",37),e.\u0275\u0275listener("ngModelChange",function(ge){e.\u0275\u0275restoreView(n);var q=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(q.selectedResourceGroupDropdownOption=ge)})("valueChange",function(ge){e.\u0275\u0275restoreView(n);var q=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(q.onResourceGroupChange(ge))}),e.\u0275\u0275pipe(33,"async"),e.\u0275\u0275pipe(34,"async"),e.\u0275\u0275elementStart(35,"tri-dropdown-trigger")(36,"div",38),e.\u0275\u0275pipe(37,"localize"),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(40,"tri-search-box",39),e.\u0275\u0275listener("value",function(ge){e.\u0275\u0275restoreView(n);var q=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(q.onResourceGroupsSearched(ge))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(41,Ma,2,2,"tri-dropdown-item",40),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(42,Pa,1,0,"tri-spinner",41),e.\u0275\u0275pipe(43,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(44,Ta,7,9,"tri-status-indicator",42),e.\u0275\u0275pipe(45,"async"),e.\u0275\u0275pipe(46,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"div")(48,"div",34),e.\u0275\u0275text(49),e.\u0275\u0275pipe(50,"localize"),e.\u0275\u0275elementStart(51,"span",35),e.\u0275\u0275text(52," *"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(53,"div",36)(54,"tri-dropdown",37),e.\u0275\u0275listener("ngModelChange",function(ge){e.\u0275\u0275restoreView(n);var q=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(q.selectedResourceDropdownOption=ge)})("valueChange",function(ge){e.\u0275\u0275restoreView(n);var q=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(q.onResourceChange(ge))}),e.\u0275\u0275pipe(55,"async"),e.\u0275\u0275pipe(56,"async"),e.\u0275\u0275elementStart(57,"tri-dropdown-trigger")(58,"div",38),e.\u0275\u0275pipe(59,"localize"),e.\u0275\u0275text(60),e.\u0275\u0275pipe(61,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(62,"tri-search-box",39),e.\u0275\u0275listener("value",function(ge){e.\u0275\u0275restoreView(n);var q=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(q.onResourcesSearched(ge))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(63,lr,2,2,"tri-dropdown-item",40),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(64,ho,1,0,"tri-spinner",41),e.\u0275\u0275pipe(65,"async"),e.\u0275\u0275elementEnd()()()}if(2&i){var o,s,l,v,C,w,G,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,27,t.fetchErrorMessageBarModel$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,29,"Subscription"),""),e.\u0275\u0275advance(5),e.\u0275\u0275property("options",t.getDropdownOverlayOptions(null!==(o=null==t.allSubscriptionDropdownOptions?null:t.allSubscriptionDropdownOptions.length)&&void 0!==o?o:0))("ngModel",t.selectedSubscriptionDropdownOption)("disabled",!0===e.\u0275\u0275pipeBind1(11,31,t.saveInProgress$)||!0===e.\u0275\u0275pipeBind1(12,33,null==t.fetchResourceStatus||null==t.fetchResourceStatus.subscription?null:t.fetchResourceStatus.subscription.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",t.selectedSubscriptionDropdownOption?t.selectedSubscriptionDropdownOption.text+" ("+(null==t.selectedSubscriptionDropdownOption?null:t.selectedSubscriptionDropdownOption.key)+")":e.\u0275\u0275pipeBind1(15,35,"Trident_Workspace_Settings_Select_Subscription")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.selectedSubscriptionDropdownOption?t.selectedSubscriptionDropdownOption.text+" ("+(null==t.selectedSubscriptionDropdownOption?null:t.selectedSubscriptionDropdownOption.key)+")":e.\u0275\u0275pipeBind1(17,37,"Trident_Workspace_Settings_Select_Subscription")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allSubscriptionDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(21,39,null==t.fetchResourceStatus||null==t.fetchResourceStatus.subscription?null:t.fetchResourceStatus.subscription.inProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",void 0===e.\u0275\u0275pipeBind1(23,41,t.connectedResource$)&&0===t.allSubscriptions.length&&!0!==e.\u0275\u0275pipeBind1(24,43,null==t.fetchResourceStatus||null==t.fetchResourceStatus.subscription?null:t.fetchResourceStatus.subscription.inProgress$)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(28,45,"BYOResources_Connect_ResourceGroup"),""),e.\u0275\u0275advance(5),e.\u0275\u0275property("options",t.getDropdownOverlayOptions(null!==(s=null==t.allResourceGroupsDropdownOptions?null:t.allResourceGroupsDropdownOptions.length)&&void 0!==s?s:0))("ngModel",t.selectedResourceGroupDropdownOption)("disabled",!t.selectedSubscription||!0===e.\u0275\u0275pipeBind1(33,47,t.saveInProgress$)||!0===e.\u0275\u0275pipeBind1(34,49,null==t.fetchResourceStatus||null==t.fetchResourceStatus.resourceGroup?null:t.fetchResourceStatus.resourceGroup.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",null!==(l=null==t.selectedResourceGroupDropdownOption?null:t.selectedResourceGroupDropdownOption.text)&&void 0!==l?l:e.\u0275\u0275pipeBind1(37,51,"Trident_Workspace_Settings_Select_Resource_Group")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(v=null==t.selectedResourceGroupDropdownOption?null:t.selectedResourceGroupDropdownOption.text)&&void 0!==v?v:e.\u0275\u0275pipeBind1(39,53,"Trident_Workspace_Settings_Select_Resource_Group")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allResourceGroupsDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(43,55,null==t.fetchResourceStatus||null==t.fetchResourceStatus.resourceGroup?null:t.fetchResourceStatus.resourceGroup.inProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",void 0===e.\u0275\u0275pipeBind1(45,57,t.connectedResource$)&&t.selectedSubscription&&0===t.allResourceGroups.length&&!0!==e.\u0275\u0275pipeBind1(46,59,null==t.fetchResourceStatus||null==t.fetchResourceStatus.resourceGroup?null:t.fetchResourceStatus.resourceGroup.inProgress$)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(50,61,t.resourceConnector.resourceLabel),""),e.\u0275\u0275advance(5),e.\u0275\u0275property("options",t.getDropdownOverlayOptions(null!==(C=null==t.allResourcesDropdownOptions?null:t.allResourcesDropdownOptions.length)&&void 0!==C?C:0))("ngModel",t.selectedResourceDropdownOption)("disabled",!t.selectedSubscription||!t.selectedResourceGroup||!0===e.\u0275\u0275pipeBind1(55,63,t.saveInProgress$)||!0===e.\u0275\u0275pipeBind1(56,65,null==t.fetchResourceStatus||null==t.fetchResourceStatus.resource?null:t.fetchResourceStatus.resource.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",null!==(w=null==t.selectedResourceDropdownOption?null:t.selectedResourceDropdownOption.text)&&void 0!==w?w:e.\u0275\u0275pipeBind1(59,67,t.resourceConnector.resourcePickerPlaceholder)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(G=null==t.selectedResourceDropdownOption?null:t.selectedResourceDropdownOption.text)&&void 0!==G?G:e.\u0275\u0275pipeBind1(61,69,t.resourceConnector.resourcePickerPlaceholder)," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allResourcesDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(65,71,null==t.fetchResourceStatus||null==t.fetchResourceStatus.resource?null:t.fetchResourceStatus.resource.inProgress$))}}function an(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0,4),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,go,2,4,"div",31),e.\u0275\u0275template(3,Oa,66,73,"div",32),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngSwitch",e.\u0275\u0275pipeBind1(1,3,n.editConfigurationType$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitchCase",n.EditConfigurationType.Default),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",n.EditConfigurationType.Custom)}}function pi(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,po,12,17,"tri-radio-group",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,uo,2,3,"tri-message-bar",24),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,an,4,5,"ng-container",25),e.\u0275\u0275pipe(5,"async")),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isShowRadioGroup),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,3,n.editConfigurationType$)===n.EditConfigurationType.Custom&&!n.canChooseCustom),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.canChooseCustom||e.\u0275\u0275pipeBind1(5,5,n.editConfigurationType$)===n.EditConfigurationType.Default)}}var Co=function(){function i(r,n,t){this.workspaceSettingsService=r,this.telemetryService=n,this.triLocalizationService=t,this.resourceConnector={},this.isWorkspaceAdmin=!1,this.connectedResource$=new F.X(void 0),this.configurationContent$=new F.X(bt.EditConfiguration),this.ConfigurationContentType=bt,this.editConfigurationType$=new F.X(It.Custom),this.EditConfigurationType=It,this.allSubscriptions=[],this.allResourceGroups=[],this.allResources=[],this.allSubscriptionDropdownOptions=[],this.allResourceGroupsDropdownOptions=[],this.allResourcesDropdownOptions=[],this.subscriptionDropdownSearchText="",this.resourceGroupDropdownSearchText="",this.resourceDropdownSearchText="",this.saveInProgress$=(0,Pe.of)(!1),this.updateResMsg$=(0,Pe.of)(""),this.serverMessageBarModel$=new F.X(void 0),this.fetchErrorMessageBarModel$=new F.X(void 0),this.StatusIndicatorType=Nt,this.destroy$=new ct.xQ}return i.prototype.ngOnInit=function(){var n,t,o,r=this;this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.tenantResource=this.workspaceSettingsService.getTenantResource(this.resourceConnector.resourceType),this.saveInProgress$=this.workspaceSettingsService.azureResourceApiInProgress[this.resourceConnector.resourceType],this.fetchResourceStatus=this.workspaceSettingsService.azureResourcesFetchStatus[this.resourceConnector.resourceType],(0,On.T)(null===(n=this.fetchResourceStatus)||void 0===n?void 0:n.subscription.errorMessage$,null===(t=this.fetchResourceStatus)||void 0===t?void 0:t.resourceGroup.errorMessage$,null===(o=this.fetchResourceStatus)||void 0===o?void 0:o.resource.errorMessage$).pipe((0,je.b)(function(s){r.fetchErrorMessageBarModel$.next({bannerType:1,allowDismiss:!0,isRoundedCorners:!0,message:s})})),this.isShowRadioGroup=this.resourceConnector.canSelectTenantResource,this.canChooseDefault=!!this.tenantResource&&this.isWorkspaceAdmin,this.canChooseCustom=!!this.resourceConnector&&this.workspaceSettingsService.getFeatureSwitchState(this.resourceConnector.featureFlagToAllowResource),this.updateResMsg$=(0,On.T)(this.workspaceSettingsService.azureConnectionsServiceErrorMessages[this.resourceConnector.resourceType].pipe((0,Ee.h)(function(s){return!!s})),this.workspaceSettingsService.azureConnectionUpdateSuccess[this.resourceConnector.resourceType].pipe((0,Ee.h)(function(s){return!!s}),(0,ve.U)(function(){return""}))),(0,Ke.aj)([this.updateResMsg$,this.saveInProgress$]).pipe((0,We.R)(this.destroy$),(0,Ee.h)(function(s){return!s[1]}),(0,ve.U)(function(s){var l=s[0];return l?{id:(0,Bt.Z)(),bannerType:1,message:l}:{id:(0,Bt.Z)(),bannerType:3,message:r.triLocalizationService.get("Sharing_EditDashboardUsersSuccess")}})).subscribe(function(s){r.serverMessageBarModel$.next(s)}),(0,Ke.aj)([this.saveInProgress$,this.updateResMsg$.pipe((0,di.O)(""))]).pipe((0,We.R)(this.destroy$)).subscribe(function(s){var l=s[0],v=s[1],C=r.workspaceSettingsService.getLinkedResource(r.resourceConnector.resourceType),w=!!C?.resourceName||!!C?.resourceGroup||!!C?.subscriptionId;r.connectedResource$.next(w?C:void 0),l?w?r.configurationContent$.next(bt.ShowConfiguration):r.editConfiguration(r.workspaceSettingsService.azureConnectionEditConfigurationType[r.resourceConnector.resourceType]):(r.clearCurrentResource(),v?r.editConfiguration():r.configurationContent$.next(w?bt.ShowConfiguration:bt.NotConfigured))})},i.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},i.prototype.connectResource=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){return(0,$.__generator)(this,function(n){switch(n.label){case 0:return[4,this.editConfigurationType$.pipe((0,ke.q)(1)).toPromise()];case 1:return n.sent()===It.Default?this.workspaceSettingsService.connectTenantResource(this.resourceConnector.resourceType):this.workspaceSettingsService.connectAzureResource(this.resourceConnector.resourceType),this.telemetryService.logEvent("Connect ".concat(this.resourceConnector.resourceType)),[2]}})})},i.prototype.cancelConnect=function(){this.clearCurrentResource(),this.configurationContent$.next(bt.NotConfigured)},i.prototype.disconnectResource=function(){this.workspaceSettingsService.disconnectAzureResource(this.resourceConnector.resourceType,this.resourceConnector.disconnectionPromptMessage)},i.prototype.editConfiguration=function(r){this.initializePickerOptions(),this.configurationContent$.next(bt.EditConfiguration),r?this.editConfigurationType$.next(r):this.isShowRadioGroup&&this.canChooseDefault?(this.editConfigurationType$.next(It.Default),this.workspaceSettingsService.updateAzureConnectionEditConfigurationType(this.resourceConnector.resourceType,It.Default)):(this.editConfigurationType$.next(It.Custom),this.workspaceSettingsService.updateAzureConnectionEditConfigurationType(this.resourceConnector.resourceType,It.Custom))},i.prototype.selectEditConfigurationType=function(r,n){r&&(this.workspaceSettingsService.updateAzureConnectionEditConfigurationType(this.resourceConnector.resourceType,n),this.editConfigurationType$.next(n))},i.prototype.getErrorMessageBarViewModel=function(r){return{bannerType:1,allowDismiss:!1,isRoundedCorners:!0,message:r}},i.prototype.getServerMessageBarViewModel=function(r){if(r)return{id:r.id,bannerType:r.bannerType,allowDismiss:!0,isRoundedCorners:!0,message:r.message}},i.prototype.dismissServerMessageBar=function(){this.serverMessageBarModel$.next(void 0)},i.prototype.dismissFetchError=function(){this.fetchErrorMessageBarModel$.next(void 0)},i.prototype.getDropdownOverlayOptions=function(r){return{dropdownHeight:30*Math.max(Math.min(r,12),1)+34}},i.prototype.onSubscriptionChange=function(r){var t,o,s,n=this;this.selectedSubscription=this.allSubscriptions.find(function(l){return l.subscriptionId===r?.key}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.azureTenantObjectId,subscriptionId:null===(o=this.selectedSubscription)||void 0===o?void 0:o.subscriptionId}),this.selectedResourceGroup=void 0,this.selectedResource=void 0,this.selectedResourceGroupDropdownOption=void 0,this.selectedResourceDropdownOption=void 0,this.selectedSubscription&&this.workspaceSettingsService.getResourceGroupsWithResourceTypeForAzureSubscription(this.resourceConnector.resourceType,(null===(s=this.selectedSubscription)||void 0===s?void 0:s.subscriptionId)||"",!0).then(function(l){n.allResourceGroups=l,n.createResourceGroupDropdownOptions()})},i.prototype.onResourceGroupChange=function(r){var t,o,s,l,v,n=this;this.selectedResourceGroup=this.allResourceGroups.find(function(C){return C.name===r?.text}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.azureTenantObjectId,subscriptionId:null===(o=this.selectedSubscription)||void 0===o?void 0:o.subscriptionId,resourceGroup:null===(s=this.selectedResourceGroup)||void 0===s?void 0:s.name}),this.selectedResource=void 0,this.selectedResourceDropdownOption=void 0,this.selectedSubscription&&this.selectedResourceGroup&&this.workspaceSettingsService.getAzureResources(this.resourceConnector.resourceType,(null===(l=this.selectedSubscription)||void 0===l?void 0:l.subscriptionId)||"",(null===(v=this.selectedResourceGroup)||void 0===v?void 0:v.name)||"").then(function(C){n.allResources=C,n.createResourcesDropdownOptions()})},i.prototype.onResourceChange=function(r){var n,t,o,s;this.selectedResource=this.allResources.find(function(l){return l.name===r?.text}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(n=this.selectedSubscription)||void 0===n?void 0:n.azureTenantObjectId,subscriptionId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.subscriptionId,resourceGroup:null===(o=this.selectedResourceGroup)||void 0===o?void 0:o.name,resourceName:null===(s=this.selectedResource)||void 0===s?void 0:s.name})},i.prototype.onSubscriptionsSearched=function(r){this.subscriptionDropdownSearchText=r,this.createSubscriptionDropdownOptions()},i.prototype.onResourceGroupsSearched=function(r){this.resourceGroupDropdownSearchText=r,this.createResourceGroupDropdownOptions()},i.prototype.onResourcesSearched=function(r){this.resourceDropdownSearchText=r,this.createResourcesDropdownOptions()},i.prototype.initializePickerOptions=function(){var r=this,n=this.workspaceSettingsService.getCurrentResource(this.resourceConnector.resourceType);this.workspaceSettingsService.getAzureSubscriptions().then(function(t){if(r.allSubscriptions=(0,$.__spreadArray)([],t,!0),r.createSubscriptionDropdownOptions(),n?.subscriptionId){var o=r.allSubscriptions.findIndex(function(l){return l.subscriptionId===n.subscriptionId});if(o>=0){var s=r.allSubscriptions[o];r.selectedSubscriptionDropdownOption=r.allSubscriptionDropdownOptions[o],r.selectedSubscription=s,n.resourceGroup&&(r.selectedResourceGroup={name:n.resourceGroup,subscriptionId:s.subscriptionId}),n.resourceName&&(r.selectedResource={id:n.resourceName,name:n.resourceName,subscriptionId:s.subscriptionId,resourceGroup:n.resourceGroup})}}}),n?.subscriptionId&&(this.workspaceSettingsService.getResourceGroupsWithResourceTypeForAzureSubscription(this.resourceConnector.resourceType,n.subscriptionId).then(function(t){var o;r.allResourceGroups=(0,$.__spreadArray)([],t,!0),r.createResourceGroupDropdownOptions(),n.resourceGroup&&(r.selectedResourceGroupDropdownOption=null===(o=r.allResourceGroupsDropdownOptions)||void 0===o?void 0:o.find(function(s){return s.text===n.resourceGroup}))}),n.resourceGroup&&this.workspaceSettingsService.getAzureResources(this.resourceConnector.resourceType,n.subscriptionId,n.resourceGroup).then(function(t){var o;r.allResources=(0,$.__spreadArray)([],t,!0),r.createResourcesDropdownOptions(),n.resourceName&&(r.selectedResourceDropdownOption=null===(o=r.allResourcesDropdownOptions)||void 0===o?void 0:o.find(function(s){return s.text===n.resourceName}))}))},i.prototype.createSubscriptionDropdownOptions=function(){var r=this;this.allSubscriptionDropdownOptions=this.allSubscriptions.map(function(n){return{key:n.subscriptionId,text:n.name}}).filter(function(n){var t,o,s,l;return!r.subscriptionDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.subscriptionDropdownSearchText.toLowerCase()))>=0||(null===(l=null===(s=n.key)||void 0===s?void 0:s.toLowerCase())||void 0===l?void 0:l.indexOf(r.subscriptionDropdownSearchText.toLowerCase()))>=0})},i.prototype.createResourceGroupDropdownOptions=function(){var r=this;this.allResourceGroupsDropdownOptions=this.allResourceGroups.map(function(n){return{key:n.name,text:n.name}}).filter(function(n){var t,o;return!r.resourceGroupDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.resourceGroupDropdownSearchText.toLowerCase()))>=0})},i.prototype.createResourcesDropdownOptions=function(){var r=this;this.allResourcesDropdownOptions=this.allResources.map(function(n){return{key:n.name,text:n.name}}).filter(function(n){var t,o;return!r.resourceDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.resourceDropdownSearchText.toLowerCase()))>=0})},i.prototype.clearCurrentResource=function(){this.workspaceSettingsService.clearCurrentResource(this.resourceConnector.resourceType),this.selectedSubscription=void 0,this.selectedSubscriptionDropdownOption=void 0,this.subscriptionDropdownSearchText="",this.selectedResourceGroup=void 0,this.selectedResourceGroupDropdownOption=void 0,this.resourceGroupDropdownSearchText="",this.selectedResource=void 0,this.selectedResourceDropdownOption=void 0,this.resourceDropdownSearchText=""},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(Vt),e.\u0275\u0275directiveInject(E.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-azure-connections-configuration"]],inputs:{resourceConnector:"resourceConnector"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:14,vars:9,consts:[[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"configuration-container","tri-flex","tri-flex-row"],[1,"anchor-icon"],["name","storage_20_regular"],[3,"ngSwitch"],["class","container-right-part tri-flex-auto",4,"ngSwitchCase"],["configurationSummary",""],["editConfigurationContent",""],[3,"viewModel","hideMessageBar"],[1,"container-right-part","tri-flex-auto"],[1,"title","tri-body1"],[1,"content"],[1,"tri-caption2"],[1,"tri-body1-strong"],[1,"footer"],["tri-button","",3,"click"],[1,"title","tri-body1-strong"],[4,"ngTemplateOutlet"],["tri-button","","appearance","primary",3,"disabled","click",4,"ngIf"],["tri-button","",3,"disabled","click",4,"ngIf"],["tri-button","","appearance","primary",3,"disabled","click"],[4,"ngIf"],["tri-button","",3,"disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"viewModel",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],["aria-labelledby","'default-connection-radio-button-' + resourceConnector.resourceType",3,"disabled","value","checked","change"],["id","'default-connection-radio-button-' + resourceConnector.resourceType"],["aria-labelledby","'custom-connection-radio-button-' + resourceConnector.resourceType",3,"checked","value","change"],["id","'custom-connection-radio-button-' + resourceConnector.resourceType"],[3,"viewModel"],[4,"ngSwitchCase"],["class","resource-pickers-container tri-flex tri-flex-col",4,"ngSwitchCase"],[1,"resource-pickers-container","tri-flex","tri-flex-col"],[1,"picker-label","tri-body1-strong"],[1,"required-star"],[1,"tri-flex"],[3,"options","ngModel","disabled","ngModelChange","valueChange"],[1,"tri-body1",3,"triTooltip"],[1,"azure-connection-configuration-dropdown-search-box",3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],[3,"statusIndicatorType",4,"ngIf"],[3,"value"],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],[3,"statusIndicatorType"],["target","_blank","rel","noopener noreferrer",3,"external","href"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,rr,2,3,"tri-message-bar",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"div",1)(3,"div",2),e.\u0275\u0275element(4,"tri-svg-icon",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerStart(5,4),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275template(7,or,16,12,"div",5),e.\u0275\u0275template(8,on,11,10,"div",5),e.\u0275\u0275template(9,sr,15,22,"div",5),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,cr,19,12,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(12,pi,6,7,"ng-template",null,7,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,t.serverMessageBarModel$)),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngSwitch",e.\u0275\u0275pipeBind1(6,7,t.configurationContent$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitchCase",t.ConfigurationContentType.NotConfigured),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ConfigurationContentType.EditConfiguration),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ConfigurationContentType.ShowConfiguration))},dependencies:[g.NgIf,g.NgFor,g.NgTemplateOutlet,g.NgSwitch,g.NgSwitchCase,g.AsyncPipe,p.u5,p.JJ,p.On,S.Y,I.Y,ee.d,He.D,oe.I,nt.h,K.W,X.Y,z.Z,V.T6,O.M,ue.b,hn.U,x.lK,xt.M3,Gt.l,wt.q,xt.ii,h.w,Xe.Z,gn,At,W.m,he.v],styles:["[_nghost-%COMP%]   .configuration-container[_ngcontent-%COMP%]{padding:8px;border-radius:4px;border:1px solid var(--colorNeutralStroke2)}[_nghost-%COMP%]   .configuration-container[_ngcontent-%COMP%]   .anchor-icon[_ngcontent-%COMP%]{display:flex;margin-right:8px;fill:var(--tridentColor80)}[_nghost-%COMP%]   .configuration-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:8px 8px 8px 0;display:flex;flex-direction:column;gap:16px}[_nghost-%COMP%]   .configuration-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding:8px 0;margin-top:10px}[_nghost-%COMP%]   .resource-pickers-container[_ngcontent-%COMP%]{gap:8px}[_nghost-%COMP%]   .resource-pickers-container[_ngcontent-%COMP%]   .picker-label[_ngcontent-%COMP%]{margin-bottom:4px}[_nghost-%COMP%]   .resource-pickers-container[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .resource-pickers-container[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     .popout-button[disabled] .tri-dropdown-trigger-container{color:var(--colorNeutralForegroundDisabled)}[_nghost-%COMP%]     tri-status-indicator .status-indicator{align-items:baseline;margin-top:4px}  .azure-connection-configuration-dropdown-search-box{width:100%}"],changeDetection:0}),i}();function So(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",1),e.\u0275\u0275elementContainerEnd())}function yo(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div")(2,"div",7)(3,"div",8),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementStart(9,"tri-link",9),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(12,"tri-workspace-settings-azure-connections-configuration",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=r.$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,6,n.headerText)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(8,8,n.headerSubText)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("href",n.learnMoreLink)("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,10,n.headerLearnMoreText)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("resourceConnector",n)}}function bo(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",2)(2,"div",3),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",5),e.\u0275\u0275template(9,yo,13,12,"ng-container",6),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,3,"Azure_Connections")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,5,"Azure_Connections_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(10,7,n.resourceConnectorArray$))}}var dr=function(){function i(r){var n,t=this;this.workspaceSettingsService=r,this.resourceConnectors=((n={})[Dt.AdlsStorage]={resourceType:Dt.AdlsStorage,headerSubText:"BYOResources_Workspace_AdlsStorage_Description",headerText:"Trident_Workspace_Settings_ADLS_header",headerLearnMoreText:"Trident_Workspace_Settings_Learn_More_ADLS",resourceLabel:"Trident_Workspace_Settings_Storage_Account",resourcePickerPlaceholder:"Trident_Workspace_Settings_Select_Storage",collapsibeSectionHeader:"AdminPortal_BYOTenantStorage_Description",icon:{name:"plug_connected_20_regular"},forPremiumOnly:!1,canSelectTenantResource:!0,learnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128745",featureFlagToAllowResource:"storageAccountAttachForWorkspaceAdminsEnabled",notAllowedWarningMessage:"Warning_BYOSA_Workspace_Not_Enabled",notAllowedLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128134",noSubscriptionsMessage:"Error_No_Azure_Subscriptions_Access",noSubscriptionLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128263",noResourceGroupMessage:"Error_No_Storage_Account_Access",noResourceGroupLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128132",disconnectionPromptMessage:"AdminPortal_DatapoolSettings_DialogWarningNote1"},n[Dt.LogAnalytics]={resourceType:Dt.LogAnalytics,headerSubText:"BYOResources_Workspace_LogAnalytics_Description",headerText:"Trident_Workspace_Settings_Log_Analytics_Header",headerLearnMoreText:"Trident_Workspace_Settings_Learn_More_Log_Analytics",resourceLabel:"BYOResources_Connect_LogAnalytics",resourcePickerPlaceholder:"Trident_Workspace_Settings_Select_Log_Analytics",collapsibeSectionHeader:"Trident_Workspace_Settings_Configure_Log_Analytics",icon:{name:"plug_connected_20_regular"},learnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128746",forPremiumOnly:!0,canSelectTenantResource:!1,featureFlagToAllowResource:"logAnalyticsAttachForWorkspaceAdminsEnabled",notAllowedWarningMessage:"Warning_BYOLA_Workspace_Not_Enabled",notAllowedLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128744",noSubscriptionsMessage:"Error_No_Azure_Subscriptions_Access",noSubscriptionLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128742",noResourceGroupMessage:"Error_No_Log_Analytics_Workspace_Access",noResourceGroupLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128743",disconnectionPromptMessage:"BYOResources_Workspace_Disconnect_LogAnalytics_Description"},n),this.resourceConnectorArray$=new F.X([]),this.initialized$=this.workspaceSettingsService.azureConnectionsInitialized$,this.initialized$.subscribe(function(o){if(o){var s=t.workspaceSettingsService.isPremium;t.resourceConnectorArray$.next(Object.values(t.resourceConnectors).filter(function(l){return!l.forPremiumOnly||s}))}})}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-azure-connections-v2"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:4,vars:6,consts:[[4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center"],[1,"tab-title"],[1,"tri-title3"],[1,"tri-body1"],[1,"section-container"],[4,"ngFor","ngForOf"],[1,"section-title"],[1,"tri-subtitle2"],["target","_blank","rel","noopener noreferrer",3,"href","external"],[3,"resourceConnector"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,So,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,bo,11,9,"ng-container",0),e.\u0275\u0275pipe(3,"async")),2&n&&(e.\u0275\u0275property("ngIf",!0!==e.\u0275\u0275pipeBind1(1,2,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,4,t.initialized$)))},dependencies:[g.NgIf,g.NgFor,g.AsyncPipe,S.Y,I.Y,ee.d,He.D,W.m,he.v,Co],encapsulation:2,changeDetection:0}),i}(),pr=m(70032),wo=new e.InjectionToken("ClipboardWriteFunc"),pe=function(i){return i.PowerBIPro="PowerBIPro",i.TridentPremiumPerUser="TridentPremiumPerUser",i.TridentPremiumPerCapacity="TridentPremiumPerCapacity",i.Embedded="Embedded",i.DataCapacity="DataCapacity",i.DataCapacityTrial="DataCapacityTrial",i.Unknown="Unknown",i}({}),Zt=function(i){return i.None="None",i.SmallDataset="SmallDataset",i.LargeDataset="LargeDataset",i}({});function fn(i){switch(i){case 1:return pe.TridentPremiumPerCapacity;case 4:return pe.TridentPremiumPerUser;case 3:case 2:return pe.Embedded;case 8:case 9:return pe.DataCapacity;case 7:return pe.DataCapacityTrial;default:return pe.PowerBIPro}}function ko(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function Io(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",17),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,ko,1,0,"ng-container",19),e.\u0275\u0275elementEnd()),2&i){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(17);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"Trident_Workspace_Settings_License_Capacity")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",n)}}function xo(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",17),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",18),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"GroupEditor_StorageFormat"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",n.defaultStorageFormat===n.StorageFormat.SmallDataset?e.\u0275\u0275pipeBind1(6,4,"GroupEditor_StorageFormat_Small"):e.\u0275\u0275pipeBind1(7,6,"GroupEditor_StorageFormat_Large")," ")}}function Mo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",12)(1,"div",13)(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.editConfiguration())}),e.\u0275\u0275element(6,"tri-svg-icon",15),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",16)(10,"div")(11,"div",17),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",18),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(16,Io,5,4,"div",5),e.\u0275\u0275template(17,xo,8,8,"div",5),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,6,"License_Configuration"),""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,8,"Edit")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,10,"Current_License"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.getLicenseModeLocString(t.licenseMode)," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==t.selectedCapacity?null:t.selectedCapacity.name)||(null==t.selectedCapacity?null:t.selectedCapacity.sku)||(null==t.selectedCapacity?null:t.selectedCapacity.region)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isMyWorkspace&&!!t.selectedCapacity)}}function Po(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function To(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function Oo(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Applying")))}function Eo(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Select_License")))}var ur=function(r){return{"is-disabled":r}};function ui(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",12)(1,"div",20),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",16),e.\u0275\u0275template(5,Po,1,0,"ng-container",19),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",21)(7,"button",22),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.clickSelectLicense())}),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275template(12,To,1,0,"tri-spinner",5),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275template(14,Oo,3,3,"ng-container",5),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275template(16,Eo,3,3,"ng-container",5),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"button",23),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.clickCancel())}),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275pipe(20,"async"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(9);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,10,"License_Configuration")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",o),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!0!==e.\u0275\u0275pipeBind1(8,12,t.canSaveCapacity$)||e.\u0275\u0275pipeBind1(9,14,t.saveInProgress$))("ngClass",e.\u0275\u0275pureFunction1(32,ur,!0!==e.\u0275\u0275pipeBind1(10,16,t.canSaveCapacity$)||e.\u0275\u0275pipeBind1(11,18,t.saveInProgress$))),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(13,20,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(15,22,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0!==e.\u0275\u0275pipeBind1(17,24,t.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(19,26,t.saveInProgress$))("ngClass",e.\u0275\u0275pureFunction1(34,ur,e.\u0275\u0275pipeBind1(20,28,t.saveInProgress$))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(22,30,"Cancel_ButtonText"))}}function Da(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",33)(1,"span",34),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"Trident_Workspace_Settings_Copied_Connection")))}function gr(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",24)(2,"div",25)(3,"div",26),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",27),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",28)(10,"div",29),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.copyConnectionLink())})("mouseover",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.mouseOverCopy())})("mouseout",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.mouseOutCopy())}),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275element(14,"tri-svg-icon",31),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(15,Da,4,3,"div",32),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,7,"Connection_Link")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,9,"Connection_Link_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("triTooltip",t.connectionLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.connectionLink),e.\u0275\u0275advance(1),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(13,11,"Copy_Connection_Link_Label")),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.connectLinkCopyIconName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(16,13,t.isShowConnectLinkCopied$))}}function _r(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",47),2&i){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(11);e.\u0275\u0275property("triTooltip",n)}}function Do(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",53),e.\u0275\u0275listener("change",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.selectLicenseMode(s,l.LicenseMode.TridentPremiumPerUser))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"span",54),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",36)(5,"span"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementStart(8,"tri-link",55),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.TridentPremiumPerUser)("value",t.LicenseMode.TridentPremiumPerUser)("disabled",!t.licenseModeEnabled(t.LicenseMode.TridentPremiumPerUser)||e.\u0275\u0275pipeBind1(1,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.TridentPremiumPerUser)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,9,"Workspace_LicenseMode_PPU_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,11,"LearnMore")," ")}}function Bo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",56),e.\u0275\u0275listener("change",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.selectLicenseMode(s,l.LicenseMode.DataCapacity))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"span",57),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",36)(5,"span"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementStart(8,"tri-link",58),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.DataCapacity)("value",t.LicenseMode.DataCapacity)("disabled",!t.licenseModeEnabled(t.LicenseMode.DataCapacity)||e.\u0275\u0275pipeBind1(1,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.DataCapacity)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,9,"CapacityHeader_FabricCapacity_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,11,"LearnMore")," ")}}function Ba(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",59),e.\u0275\u0275listener("change",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.selectLicenseMode(s,l.LicenseMode.DataCapacityTrial))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"span",60),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",36)(5,"span"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementStart(8,"tri-link",61),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.DataCapacityTrial)("value",t.LicenseMode.DataCapacityTrial)("disabled",!t.licenseModeEnabled(t.LicenseMode.DataCapacityTrial)||e.\u0275\u0275pipeBind1(1,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.DataCapacityTrial)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(7,9,"Workspace_LicenseMode_Trial_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,11,"LearnMore")," ")}}function Go(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",67),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.text," ")}}function gi(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",68),e.\u0275\u0275element(1,"tri-svg-icon",69),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Workspace_LicenseMode_Select")," "))}var _i=function(r,n,t){return{data:r,key:n,text:t}};function zo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",62)(1,"div",25)(2,"div",18),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",36),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div")(9,"tri-dropdown",63),e.\u0275\u0275listener("valueChange",function(C){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(w.selectCapacity(C))}),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementStart(11,"tri-dropdown-trigger")(12,"div",64),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(15,Go,2,2,"tri-dropdown-item",65),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,gi,4,3,"div",66),e.\u0275\u0275elementEnd()()}if(2&i){var s,l,t=e.\u0275\u0275nextContext(2),o=e.\u0275\u0275reference(15);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,9,"Trident_Workspace_Settings_License_Capacity")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,11,"Trident_Workspace_Settings_License_Capacity_Description")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",e.\u0275\u0275pureFunction3(19,_i,t.selectedCapacity,null!==(s=null==t.selectedCapacity?null:t.selectedCapacity.id)&&void 0!==s?s:"",(null==t.selectedCapacity?null:t.selectedCapacity.name)+" - "+(null==t.selectedCapacity?null:t.selectedCapacity.region)))("isDisabled",!t.isWorkspaceAdmin||null!==(l=e.\u0275\u0275pipeBind1(10,13,t.saveInProgress$))&&void 0!==l&&l),e.\u0275\u0275advance(3),e.\u0275\u0275property("triTooltip",o)("triTooltipDisabled",!t.selectedCapacity),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedCapacity?t.selectedCapacity.name+" - "+t.selectedCapacity.region:e.\u0275\u0275pipeBind1(14,15,"Workspace_LicenseMode_Select")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(16,17,t.currentCapacitiesDropdownOptions$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.selectedCapacity)}}function Ao(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",70),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("viewModel",n.getNoPermissionsToCapacityMessageBarViewModel())}}function Ro(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",72)(1,"div",25)(2,"div",18),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",36),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementStart(8,"tri-link",73),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(11,"tri-radio-group")(12,"tri-radio-button",74),e.\u0275\u0275listener("change",function(v){e.\u0275\u0275restoreView(n);var C=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(C.selectDefaultStorageFormat(v,C.StorageFormat.SmallDataset))}),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementStart(14,"span",75),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"tri-radio-button",76),e.\u0275\u0275listener("change",function(v){e.\u0275\u0275restoreView(n);var C=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(C.selectDefaultStorageFormat(v,C.StorageFormat.LargeDataset))}),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275elementStart(20,"span",77),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var o,s,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,12,"GroupEditor_StorageFormat")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,14,"Workspace_LicenseMode_Edit_StorageFormat_Prompt")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,16,"LearnMore")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("checked",t.defaultStorageFormat===t.StorageFormat.SmallDataset)("value",t.StorageFormat.SmallDataset)("disabled",!t.isWorkspaceAdmin||null!==(o=e.\u0275\u0275pipeBind1(13,18,t.saveInProgress$))&&void 0!==o&&o),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(16,20,"GroupEditor_StorageFormat_Small")),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.defaultStorageFormat===t.StorageFormat.LargeDataset)("value",t.StorageFormat.LargeDataset)("disabled",!t.isWorkspaceAdmin||!0!==e.\u0275\u0275pipeBind1(18,22,t.allowLargeDataset$)||null!==(s=e.\u0275\u0275pipeBind1(19,24,t.saveInProgress$))&&void 0!==s&&s),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(22,26,"GroupEditor_StorageFormat_Large"))}}function Fo(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Ro,23,28,"div",71),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!n.selectedCapacity&&void 0!==e.\u0275\u0275pipeBind1(2,1,n.allowLargeDataset$))}}function Wo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",35)(1,"div",25)(2,"div",18),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",36),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"tri-radio-group")(9,"tri-radio-button",37),e.\u0275\u0275listener("change",function(C){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(w.selectLicenseMode(C,w.LicenseMode.PowerBIPro))}),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementStart(11,"span",38),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,_r,1,1,"tri-svg-icon",39),e.\u0275\u0275elementStart(14,"div",36)(15,"span"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementStart(18,"tri-link",40),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(21,Do,11,13,"tri-radio-button",41),e.\u0275\u0275elementStart(22,"tri-radio-button",42),e.\u0275\u0275listener("change",function(C){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(w.selectLicenseMode(C,w.LicenseMode.TridentPremiumPerCapacity))}),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275elementStart(24,"span",43),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",36)(27,"span"),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementStart(30,"tri-link",44),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(33,"tri-radio-button",45),e.\u0275\u0275listener("change",function(C){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(w.selectLicenseMode(C,w.LicenseMode.Embedded))}),e.\u0275\u0275pipe(34,"async"),e.\u0275\u0275elementStart(35,"span",46),e.\u0275\u0275text(36),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(37,"tri-svg-icon",47),e.\u0275\u0275elementStart(38,"div",36)(39,"span"),e.\u0275\u0275text(40),e.\u0275\u0275pipe(41,"localize"),e.\u0275\u0275elementStart(42,"tri-link",48),e.\u0275\u0275text(43),e.\u0275\u0275pipe(44,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(45,Bo,11,13,"tri-radio-button",49),e.\u0275\u0275template(46,Ba,11,13,"tri-radio-button",50),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(47,zo,18,23,"div",51),e.\u0275\u0275pipe(48,"async"),e.\u0275\u0275template(49,Ao,1,1,"tri-message-bar",52),e.\u0275\u0275template(50,Fo,3,3,"ng-container",5)}if(2&i){var l,t=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(13),s=e.\u0275\u0275reference(19);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,32,"Workspace_LicenseMode")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,34,"Workspace_LicenseMode_Select_Prompt")),e.\u0275\u0275advance(3),e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.PowerBIPro)("value",t.LicenseMode.PowerBIPro)("disabled",e.\u0275\u0275pipeBind1(10,36,t.saveInProgress$)||!t.isWorkspaceAdmin||t.isMyWorkspace&&t.restrictMyFolderCapacityEnabled),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.PowerBIPro)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isMyWorkspace),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(17,38,"Workspace_LicenseMode_Pro_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(20,40,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(t.flagTridentUIHidePPU||t.isMyWorkspace&&!t.isShowPPUForMyWorkspace)),e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.TridentPremiumPerCapacity)("value",t.LicenseMode.TridentPremiumPerCapacity)("disabled",!t.licenseModeEnabled(t.LicenseMode.TridentPremiumPerCapacity)||e.\u0275\u0275pipeBind1(23,42,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.TridentPremiumPerCapacity)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(29,44,"Workspace_LicenseMode_PPC_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(32,46,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.Embedded)("value",t.LicenseMode.Embedded)("disabled",!t.licenseModeEnabled(t.LicenseMode.Embedded)||e.\u0275\u0275pipeBind1(34,48,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLicenseModeLocString(t.LicenseMode.Embedded)),e.\u0275\u0275advance(1),e.\u0275\u0275property("triTooltip",o),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(41,50,"Workspace_LicenseMode_Embedded_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(44,52,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isShowDataCapacityLicense||t.licenseMode===t.LicenseMode.DataCapacity),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isShowDataCapacityTrialLicense||t.licenseMode===t.LicenseMode.DataCapacityTrial),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.licenseMode!==t.LicenseMode.TridentPremiumPerUser&&t.licenseMode!==t.LicenseMode.DataCapacityTrial&&null!==(l=null==(l=e.\u0275\u0275pipeBind1(48,54,t.currentCapacities$))?null:l.length)&&void 0!==l&&l)("ngIfElse",s),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==t.selectedCapacity?null:t.selectedCapacity.unavailableToUser),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isMyWorkspace)}}function Lo(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",78),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"tri-link",79),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"Workspace_LicenseMode_Pro_Information")," \xa0 "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,5,"Generic_LearnMore")," "))}function mr(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",78),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"tri-link",80),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"Workspace_LicenseMode_Embedded_Information")," \xa0 "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,5,"Generic_LearnMore")," "))}function vr(i,r){if(1&i&&e.\u0275\u0275text(0),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1(" ",(null==n.selectedCapacity?null:n.selectedCapacity.name)+" - "+(null==n.selectedCapacity?null:n.selectedCapacity.region),"\n")}}function No(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",83),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==n.selectedCapacity?null:n.selectedCapacity.name)}}function $o(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",84),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.getCapacityRegionString(),"")}}function Ga(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,No,2,1,"div",81),e.\u0275\u0275template(2,$o,2,1,"div",82),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==n.selectedCapacity?null:n.selectedCapacity.name),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==n.selectedCapacity?null:n.selectedCapacity.sku)||(null==n.selectedCapacity?null:n.selectedCapacity.region))}}function Uo(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function mi(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",86)(1,"div",18),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Uo,1,0,"ng-container",19),e.\u0275\u0275elementEnd()),2&i){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(17);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Workspace_Settings_License_Capacity")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",n)}}function Vo(i,r){if(1&i&&e.\u0275\u0275template(0,mi,5,4,"div",85),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",(null==n.selectedCapacity?null:n.selectedCapacity.name)||(null==n.selectedCapacity?null:n.selectedCapacity.sku)||(null==n.selectedCapacity?null:n.selectedCapacity.region))}}var Bn,Gn,vi,hi,fi,Ci,Cn,Si,yi,bi,wi,ki,Ii,xi,Mi,jt,Sn,Pi,Ti,Oi,Ei,jo=function(){function i(r,n,t,o,s,l){this.workspaceSettingsService=r,this.isTrident=n,this.clipboardWriteFunc=t,this.triLocalizationService=o,this.telemetryService=s,this.changeDetectorRef=l,this.updateResMsg$=(0,Pe.of)(""),this.licenseMode=pe.PowerBIPro,this.previousLicenseMode="",this.currentCapacities$=new F.X([]),this.defaultStorageFormat=Zt.SmallDataset,this.capacitiesMapByLicenseMode={},this.allowLargeDataset$=new F.X(void 0),this.configurationContent$=new F.X(bt.EditConfiguration),this.flagTridentUIHidePPU=!1,this.isShowPPUForMyWorkspace=this.workspaceSettingsService.showPPUForMyWorkspace,this.isShowDataCapacityLicense=this.workspaceSettingsService.showDCCapacityOptions()&&!!this.isTrident,this.isShowDataCapacityTrialLicense=this.workspaceSettingsService.getShowDataCapacityTrialEnabled()&&!!this.isTrident,this.restrictMyFolderCapacityEnabled=!1,this.LicenseMode=pe,this.StorageFormat=Zt,this.ConfigurationContentType=bt,this.connectionLink="",this.isShowConnectLinkCopied$=new F.X(!1),this.connectLinkCopyIconName="copy_20_regular",this.destroy$=new ct.xQ}return Object.defineProperty(i.prototype,"isShowConnectionLink",{get:function(){return!this.isMyWorkspace&&this.licenseMode!==pe.PowerBIPro},enumerable:!1,configurable:!0}),i.prototype.ngOnInit=function(){var r=this;this.capacitiesMapByLicenseMode=this.createCapacitiesMapByLicenseMode(),this.setInitialLicenseMode(),this.currentCapacitiesDropdownOptions$=this.currentCapacities$.pipe((0,ve.U)(function(n){return n.map(function(t){return{data:t,key:t.id,text:t.name+" - "+t.region}})})),this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.isMyWorkspace=this.workspaceSettingsService.isMyWorkspace,this.saveInProgress$=this.workspaceSettingsService.capacitySaveInProgress$,this.canSaveCapacity$=this.workspaceSettingsService.canSaveCapacitySelection$,this.restrictMyFolderCapacityEnabled=this.workspaceSettingsService.getFeatureSwitchState("restrictMyFolderCapacityEnabled"),this.connectionLink=this.workspaceSettingsService.workspaceConnectionString,(0,Ke.aj)([this.updateResMsg$.pipe((0,di.O)("")),this.saveInProgress$]).pipe((0,We.R)(this.destroy$)).subscribe(function(n){n[1]||(n[0]?(r.resetConfiguration(),r.configurationContent$.next(bt.EditConfiguration)):r.configurationContent$.next(bt.ShowConfiguration))}),this.isShowConnectLinkCopied$.pipe((0,Ee.h)(function(n){return!!n}),(0,pr.g)(6e3)).subscribe(function(){return r.isShowConnectLinkCopied$.next(!1)})},i.prototype.ngOnDestroy=function(){var n,r=this;this.workspaceSettingsService.clearAllErrorMessages(),null===(n=this.saveInProgress$)||void 0===n||n.pipe((0,ke.q)(1)).subscribe(function(t){t||r.workspaceSettingsService.resetCapacitySelection()}),this.destroy$.next(),this.destroy$.complete()},i.prototype.editConfiguration=function(){this.configurationContent$.next(bt.EditConfiguration)},i.prototype.selectLicenseMode=function(r,n){r&&(this.previousLicenseMode=this.licenseMode,this.licenseMode=n,this.currentCapacities$.next(this.capacitiesMapByLicenseMode[this.licenseMode]),this.licenseMode===pe.TridentPremiumPerUser||this.licenseMode===pe.DataCapacityTrial?(this.selectedCapacity=this.capacitiesMapByLicenseMode[this.licenseMode][0],this.updateWithPremiumFilesAvailablity()):(this.selectedCapacity=void 0,void 0===this.workspaceSettingsService.selectedCapacity&&this.workspaceSettingsService.disableCanSaveCapacitySelection()),this.workspaceSettingsService.selectedCapacity=this.selectedCapacity,this.licenseMode===pe.PowerBIPro&&(this.defaultStorageFormat=Zt.SmallDataset,this.workspaceSettingsService.defaultStorageFormat=this.defaultStorageFormat))},i.prototype.selectCapacity=function(r){this.selectedCapacity=r.data,this.updateWithPremiumFilesAvailablity(),this.workspaceSettingsService.selectedCapacity=this.selectedCapacity},i.prototype.selectDefaultStorageFormat=function(r,n){r&&(this.defaultStorageFormat=n,this.workspaceSettingsService.defaultStorageFormat=this.defaultStorageFormat)},i.prototype.clickSelectLicense=function(){var r="";(this.previousLicenseMode===pe.PowerBIPro&&(this.licenseMode===pe.TridentPremiumPerUser||this.licenseMode===pe.TridentPremiumPerCapacity)||this.previousLicenseMode===pe.TridentPremiumPerUser&&this.licenseMode===pe.TridentPremiumPerCapacity)&&(r="".concat((0,Bt.Z)(),".").concat((0,Bt.Z)()),this.telemetryService.logEvent("Upgrade license mode from ".concat(this.previousLicenseMode," to ").concat(this.licenseMode),{fromLicenseMode:this.previousLicenseMode,toLicenseMode:this.licenseMode},"Pending",(new Date).toISOString(),r)),this.workspaceSettingsService.saveCapacitySelection(r)},i.prototype.clickCancel=function(){this.resetConfiguration(),this.configurationContent$.next(bt.ShowConfiguration)},i.prototype.licenseModeEnabled=function(r){return r===pe.PowerBIPro||!(r===pe.TridentPremiumPerUser&&!this.workspaceSettingsService.isPPUTierAvialbleToUser())&&this.capacitiesMapByLicenseMode[r].length>0},i.prototype.getLicenseModeLocString=function(r){switch(r){case pe.PowerBIPro:return this.triLocalizationService.get("Trident_Workspace_Settings_License_Pro");case pe.TridentPremiumPerUser:return this.triLocalizationService.get("Workspace_LicenseMode_PPU");case pe.TridentPremiumPerCapacity:return this.triLocalizationService.get("Capacity_PremiumCapacity");case pe.Embedded:return this.triLocalizationService.get("Workspace_LicenseMode_Embedded");case pe.DataCapacity:return this.triLocalizationService.get("CapacityHeader_FabricCapacity");case pe.DataCapacityTrial:return this.triLocalizationService.get("CapacityHeader_TrialCapacity");case pe.Unknown:return this.triLocalizationService.get("Unknown")}},i.prototype.getCapacityRegionString=function(){var r,n,t,o;return null!==(r=this.selectedCapacity)&&void 0!==r&&r.sku&&null!==(n=this.selectedCapacity)&&void 0!==n&&n.region?this.triLocalizationService.format("CapacitySetting_SKU_And_Region",this.selectedCapacity.sku,this.selectedCapacity.region):null!==(t=this.selectedCapacity)&&void 0!==t&&t.sku?this.triLocalizationService.format("CapacitySetting_SKU",this.selectedCapacity.sku):null!==(o=this.selectedCapacity)&&void 0!==o&&o.region?this.triLocalizationService.format("CapacitySetting_Region",this.selectedCapacity.region):""},i.prototype.getNoPermissionsToCapacityMessageBarViewModel=function(){return{bannerType:0,isRoundedCorners:!0,allowDismiss:!1,message:this.triLocalizationService.get("Trident_Workspace_Settings_Capacity_No_Access")}},i.prototype.resetConfiguration=function(){this.workspaceSettingsService.resetCapacitySelection(),this.setInitialLicenseMode()},i.prototype.setInitialLicenseMode=function(){var n,r=this;this.selectedCapacity=this.workspaceSettingsService.selectedCapacity,this.selectedCapacity?this.selectedCapacity.unavailableToUser?this.licenseMode=null!=this.selectedCapacity.capacitySkuTier?fn(this.selectedCapacity.capacitySkuTier):pe.Unknown:(this.licenseMode=fn(this.selectedCapacity.capacitySkuTier),this.selectedCapacity=null===(n=this.capacitiesMapByLicenseMode[this.licenseMode])||void 0===n?void 0:n.find(function(t){var o;return t.id===(null===(o=r.selectedCapacity)||void 0===o?void 0:o.id)})):this.licenseMode=pe.PowerBIPro,this.currentCapacities$.next(this.capacitiesMapByLicenseMode[this.licenseMode]),this.updateWithPremiumFilesAvailablity()},i.prototype.createCapacitiesMapByLicenseMode=function(){var r,n=((r={})[pe.Unknown]=[],r[pe.PowerBIPro]=[],r[pe.TridentPremiumPerUser]=[],r[pe.TridentPremiumPerCapacity]=[],r[pe.Embedded]=[],r[pe.DataCapacity]=[],r[pe.DataCapacityTrial]=[],r);return this.workspaceSettingsService.allCapacities.forEach(function(t){var o=fn(t.capacitySkuTier);o!==pe.PowerBIPro&&n[o].push(t)}),n},i.prototype.updateWithPremiumFilesAvailablity=function(){var r=this;this.selectedCapacity&&!this.selectedCapacity.unavailableToUser?this.workspaceSettingsService.checkPremiumFilesEnabled(this.selectedCapacity.id).then(function(n){r.allowLargeDataset$.next(n),r.defaultStorageFormat=r.workspaceSettingsService.defaultStorageFormat,r.changeDetectorRef.markForCheck()}):(this.defaultStorageFormat=this.workspaceSettingsService.defaultStorageFormat,this.allowLargeDataset$.next(!1),this.changeDetectorRef.markForCheck())},i.prototype.copyConnectionLink=function(){this.clipboardWriteFunc(this.connectionLink),this.isShowConnectLinkCopied$.next(!0)},i.prototype.mouseOverCopy=function(){this.connectLinkCopyIconName="copy_20_filled"},i.prototype.mouseOutCopy=function(){this.connectLinkCopyIconName="copy_20_regular"},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(en.Y),e.\u0275\u0275directiveInject(wo),e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(Vt),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-premium-configuration"]],inputs:{updateResMsg$:"updateResMsg$"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:20,vars:6,consts:[[1,"configuration-container","tri-flex","tri-flex-row"],[1,"anchor-icon"],["name","premium_20_regular"],[3,"ngSwitch"],["class","container-right-part tri-flex-auto",4,"ngSwitchCase"],[4,"ngIf"],["editConfigurationContent",""],["myWorkspaceProInfoTip",""],["embeddedInfoTip",""],["selectedCapacityString",""],["staticLicenseCapacityContent",""],["staticLicenseCapacity",""],[1,"container-right-part","tri-flex-auto"],[1,"summary-title","title","tri-body1"],["tri-button","","appearance","subtle","size","small",3,"click"],["name","edit_20_regular"],[1,"content"],[1,"grey-text","tri-caption2"],[1,"tri-body1-strong"],[4,"ngTemplateOutlet"],[1,"title","tri-body1-strong"],[1,"footer"],["tri-button","","appearance","primary",3,"disabled","ngClass","click"],["tri-button","",3,"disabled","ngClass","click"],[1,"tri-relative","connection-link"],[1,"section-title"],[1,"tri-subtitle2"],[1,"tri-body1"],[1,"connection-container","tri-flex"],["disabled","",1,"connection-string","tri-body1","tri-flex-grow",3,"triTooltip"],["tri-button","","appearance","subtle",1,"copy-connection-button",3,"click","mouseover","mouseout"],[1,"copy-connection-icon",3,"name"],["class","link-copied-tip","role","alert",4,"ngIf"],["role","alert",1,"link-copied-tip"],[1,"connection-copied-message"],[1,"license-radio-group"],[1,"tri-caption1"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-pro",3,"checked","value","disabled","change"],["id","workspace-license-mode-pro",1,"tri-body1-strong"],["name","info_20_regular","class","tooltip-info-button","tabindex","-1",3,"triTooltip",4,"ngIf"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227278","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-premium-per-user",3,"checked","value","disabled","change",4,"ngIf"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-premium-per-capacity",3,"checked","value","disabled","change"],["id","workspace-license-mode-premium-per-capacity",1,"tri-body1-strong"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227277","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-embedded",3,"checked","value","disabled","change"],["id","workspace-license-mode-embedded",1,"tri-body1-strong"],["name","info_20_regular","tabindex","-1",1,"tooltip-info-button",3,"triTooltip"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227525","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity",3,"checked","value","disabled","change",4,"ngIf"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity-trial",3,"checked","value","disabled","change",4,"ngIf"],["class","license-capacity-group",4,"ngIf","ngIfElse"],[3,"viewModel",4,"ngIf"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-premium-per-user",3,"checked","value","disabled","change"],["id","workspace-license-mode-premium-per-user",1,"tri-body1-strong"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227449","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity",3,"checked","value","disabled","change"],["id","workspace-license-mode-data-capacity",1,"tri-body1-strong"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227397","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity-trial",3,"checked","value","disabled","change"],["id","workspace-license-mode-data-capacity-trial",1,"tri-body1-strong"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227617","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],[1,"license-capacity-group"],[3,"value","isDisabled","valueChange"],[1,"tri-body1",3,"triTooltip","triTooltipDisabled"],[3,"value",4,"ngFor","ngForOf"],["class","tri-flex error-message-container",4,"ngIf"],[3,"value"],[1,"tri-flex","error-message-container"],["name","error_circle_12_filled",1,"error-message-icon"],[3,"viewModel"],["class","default-storage-format",4,"ngIf"],[1,"default-storage-format"],["target","_blank","href","https://docs.microsoft.com/en-us/power-bi/enterprise/service-premium-large-models#enable-large-models","localize","LearnMore","localize-tooltip","LearnMore",3,"external"],["name","defaultStorageFormat","type","radio","aria-labelledby","workspace-default-storage-small-dataset",3,"checked","value","disabled","change"],["id","workspace-default-storage-small-dataset",1,"tri-body1"],["name","defaultStorageFormat","type","radio","aria-labelledby","workspace-default-storage-large-dataset",3,"checked","value","disabled","change"],["id","workspace-default-storage-large-dataset",1,"tri-body1"],[1,"info-tip-content"],["href","https://go.microsoft.com/fwlink/?linkid=2218869","target","_blank","rel","noopener noreferrer",3,"external"],["href","https://go.microsoft.com/fwlink/?linkid=2159726","target","_blank","rel","noopener noreferrer",3,"external"],["class","tri-caption1-strong",4,"ngIf"],["class","tri-caption1 grey-text",4,"ngIf"],[1,"tri-caption1-strong"],[1,"tri-caption1","grey-text"],["class","section-title  no-margin-section-title",4,"ngIf"],[1,"section-title","no-margin-section-title"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"tri-svg-icon",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerStart(3,3),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,Mo,18,12,"div",4),e.\u0275\u0275template(6,ui,23,36,"div",4),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,gr,17,15,"ng-container",5),e.\u0275\u0275template(8,Wo,51,56,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(10,Lo,6,7,"ng-template",null,7,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(12,mr,6,7,"ng-template",null,8,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(14,vr,1,1,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(16,Ga,3,2,"ng-template",null,10,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(18,Vo,1,1,"ng-template",null,11,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("ngSwitch",e.\u0275\u0275pipeBind1(4,4,t.configurationContent$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitchCase",t.ConfigurationContentType.ShowConfiguration),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ConfigurationContentType.EditConfiguration),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isShowConnectionLink))},dependencies:[g.NgIf,g.NgFor,g.NgClass,g.NgSwitch,g.NgSwitchCase,g.NgTemplateOutlet,g.AsyncPipe,S.Y,I.Y,ee.d,He.D,oe.I,nt.h,x.lK,xt.M3,Gt.l,wt.q,xt.ii,K.W,X.Y,z.Z,V.T6,O.M,h.w,Xe.Z,W.m,he.v],styles:["[_nghost-%COMP%]   .license-radio-group[_ngcontent-%COMP%]     .tri-radio-button-internal section{align-items:start}[_nghost-%COMP%]   .license-radio-group[_ngcontent-%COMP%]     .tri-radio-button-internal section tri-link>a{display:inline-flex}[_nghost-%COMP%]   .license-radio-group[_ngcontent-%COMP%]     .tri-radio-button-internal section tri-link>a tri-svg-icon{width:16px}[_nghost-%COMP%]   .license-radio-group[_ngcontent-%COMP%]     .tri-radio-button-internal section .tooltip-info-button{height:12px;width:12px;fill:var(--colorNeutralForeground3);margin-left:8px;margin-bottom:4px}[_nghost-%COMP%]   .no-margin-section-title[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   .default-storage-format[_ngcontent-%COMP%]     .tri-radio-button-internal section{padding:6px,8px}[_nghost-%COMP%]   tri-dropdown[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .license-edit-prompt[_ngcontent-%COMP%]{margin-top:4px}[_nghost-%COMP%]   .grey-text[_ngcontent-%COMP%]{color:var(--colorNeutralForeground4)}[_nghost-%COMP%]   .connection-link[_ngcontent-%COMP%]{margin-top:32px}[_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]{border:1px solid var(--colorNeutralStroke1);box-sizing:border-box;border-radius:4px;height:32px;align-items:center;padding:0 12px}[_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]   .connection-string[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:hover   .copy-connection-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:focus   .copy-connection-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:active   .copy-connection-icon[_ngcontent-%COMP%]{fill:var(--colorBrandForeground1)}[_nghost-%COMP%]   .link-copied-tip[_ngcontent-%COMP%]{position:absolute;right:0;box-shadow:0 4px 8px 0 var(--globalColorBlackAlpha10);padding:6px 12px}[_nghost-%COMP%]   .link-copied-tip[_ngcontent-%COMP%]   .connection-copied-message[_ngcontent-%COMP%]{white-space:pre-wrap}"],changeDetection:0}),i}(),Wt=function(i){return i.Pending="Pending",i.Approved="Approved",i.Rejected="Rejected",i.Disconnected="Disconnected",i}({}),Ot=function(i){return i.Provisioning="Provisioning",i.Updating="Updating",i.Succeeded="Succeeded",i.Deleting="Deleting",i.Failed="Failed",i}({}),Jt=function(i){return i.Name="Name",i.ProvisioningState="ProvisioningState",i.ApprovalState="ApprovalState",i}({}),Di=((Bn={}).AzureDatasource_CognitiveServices="account",Bn),hr=((Gn={}).AzureDatasource_AzureDatabaseForMariaDB="mariadbServer",Gn),fr=((vi={}).AzureDatasource_AzureDatabaseForMySQL="mysqlServer",vi),Ko=((hi={}).AzureDatasource_AzureDatabaseForPostgreSQL="postgresqlServer",hi),Cr=((fi={}).AzureDatasource_AzureCosmosDBForMongoDB="MongoDB",fi.AzureDatasource_AzureCosmosDBForNoSQL="Sql",fi),Sr=((Ci={}).AzureDatasource_AzureMonitorPrivateLinkScopes="azuremonitor",Ci),yr=((Cn={}).AzureDatasource_AzureKeyVault="vault",Cn),Bi=((Si={}).AzureDatasource_AzureDataExplorer_Kusto="kusto",Si),Gi=((yi={}).AzureDatasource_AzureMachineLearning="amlworkspace",yi),br=((bi={}).AzureDatasource_ApplicationGateway="appGwPublicFrontendIpIPv4",bi),wr=((wi={}).AzureDatasource_PrivateLinkService="privateLinkServices",wi),Ho=((ki={}).AzureDatasource_MicrosoftPurview="account",ki),kr=((Ii={}).AzureDatasource_AzureSearch="searchService",Ii),Xo=((xi={}).SqlAzureDbContentProvider_Title="sqlServer",xi),Yo=((Mi={}).AzureDatasource_AzureSqlDatabase_ManagedInstance="managedInstance",Mi),zi=((jt={}).SettingsDataSource_SettingsDataSourceType_AzureBlob="blob",jt.SettingsDataSource_SettingsDataSourceType_AzureDataLakeStorage="dfs",jt.AzureDatasource_AzureFileStorage="file",jt.AzureDatasource_AzureQueueStorage="queue",jt.SettingsDataSource_SettingsDataSourceType_AzureTable="table",jt.AzureDatasource_StaticWebsite="web",jt),Ai=((Sn={}).AzureDatasource_AzureSynapseAnalytics_SQL="sql",Sn.AzureDatasource_AzureSynapseAnalytics_Dev="dev",Sn.AzureDatasource_AzureSynapseAnalytics_SqlOnDemand="sqlOnDemand",Sn),Ir=((Pi={}).AzureDatasource_AzureFunction="sites",Pi),xr=((Ti={}).AzureDatasource_AzureDatabricks="databricks_ui_api",Ti),Qo=((Oi={}).TridentStreaming_IoTHub="iotHub",Oi),Mr=((Ei={}).AzureDatasource_EventHub="namespace",Ei);function za(i,r){switch(i.toLowerCase()){case"Microsoft.CognitiveServices".toLowerCase():return Di;case"Microsoft.Databricks".toLowerCase():return xr;case"Microsoft.DBforMariaDB".toLowerCase():return hr;case"Microsoft.DBforMySQL".toLowerCase():return fr;case"Microsoft.DBforPostgreSQL".toLowerCase():return Ko;case"Microsoft.DocumentDB".toLowerCase():return Cr;case"Microsoft.Insights".toLowerCase():return Sr;case"Microsoft.KeyVault".toLowerCase():return yr;case"Microsoft.Kusto".toLowerCase():return Bi;case"Microsoft.MachineLearningServices".toLowerCase():return Gi;case"Microsoft.Network".toLowerCase():if(r.toLowerCase()==="applicationGateways".toLowerCase())return br;if(r.toLowerCase()==="privateLinkServices".toLowerCase())return wr;break;case"Microsoft.Purview".toLowerCase():return Ho;case"Microsoft.Search".toLowerCase():return kr;case"Microsoft.Sql".toLowerCase():if(r.toLowerCase()==="managedInstances".toLowerCase())return Yo;if(r.toLowerCase()==="servers".toLowerCase())return Xo;break;case"Microsoft.Storage".toLowerCase():return zi;case"Microsoft.Synapse".toLowerCase():return Ai;case"Microsoft.Web".toLowerCase():return Ir;case"Microsoft.EventHub".toLowerCase():return Mr;case"Microsoft.Devices".toLowerCase():return Qo;default:return null}return null}var Aa=new RegExp("/subscriptions/(?<subscriptionId>[^/]+)/resourceGroups/(?<resourceGroupName>[^/]+)/providers/(?<provider>[^/]+)/(?<resourceType>[^/]+)/(?<resourceName>[^/]+)","i");function Zo(i){switch(i){case"ManagedVNet_PrivateEndpointNotFound":case"ManagedVNet_InvalidPrivateEndpointName":case"ManagedVNet_InvalidPrivateEndpointResourceID":case"ManagedVNet_DuplicatePrivateEndpointName":case"ManagedVNet_DuplicatePrivateEndpointResourceID":case"ManagedVNet_WorkspaceOperationAlreadyInProgress":case"ManagedVNet_UnsupportedRegion":case"ManagedVNet_UnsupportedSku":case"ManagedVNet_WorkspaceLockInternalError":case"ManagedVNet_InvalidRequestMessage":case"ManagedVNet_NonCompliant":case"ManagedVNet_IncorrectType":return!0;default:return!1}}function zn(i){return"PowerBICapacityFoldersMigrationVNetMigrationNotAllowedException"===i}function An(i){return"PowerBICapacityFoldersMigrationVNetMigrationNotAllowedException"===i?"https://go.microsoft.com/fwlink/?linkid=2257669":""}function Jo(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",2),e.\u0275\u0275elementContainerEnd())}function qo(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.dismissMessageBar())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getMessageBarViewModel(e.\u0275\u0275pipeBind1(1,1,t.messageBarModel$)))}}function Ra(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",4)(2,"div",5),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",6),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div"),e.\u0275\u0275element(9,"tri-workspace-settings-premium-configuration",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,3,"License_Info")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,5,"Premium_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("updateResMsg$",n.updateResMsg$)}}var Mt,Pr=function(){function i(r,n){this.workspaceSettingsService=r,this.triLocalizationService=n,this.updateResMsg$=(0,Pe.of)(""),this.messageBarModel$=new F.X(void 0),this.destroy$=new ct.xQ}return i.prototype.ngOnInit=function(){var r=this;this.initialized$=this.workspaceSettingsService.capacitiesInitialized$,this.updateResMsg$=(0,On.T)(this.workspaceSettingsService.capacityUpdateErrorMessage$.pipe((0,Ee.h)(function(n){return!!n})),this.workspaceSettingsService.capacityUpdateSuccess$.pipe((0,Ee.h)(function(n){return!!n}),(0,ve.U)(function(){return""}))),(0,Ke.aj)([this.updateResMsg$,this.workspaceSettingsService.capacitySaveInProgress$]).pipe((0,We.R)(this.destroy$),(0,Ee.h)(function(n){return!n[1]}),(0,ve.U)(function(n){var t=n[0];return t?{id:(0,Bt.Z)(),bannerType:1,message:t}:{id:(0,Bt.Z)(),bannerType:3,message:r.triLocalizationService.get("Sharing_EditDashboardUsersSuccess")}})).subscribe(function(n){r.messageBarModel$.next(n)})},i.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},i.prototype.dismissMessageBar=function(){this.messageBarModel$.next(void 0)},i.prototype.getMessageBarViewModel=function(r){if(r){var o=r.message,s={id:r.id,bannerType:r.bannerType,allowDismiss:!0,isRoundedCorners:!0,message:o};if(o&&zn(o)){var l=An(o),v=this.triLocalizationService.get("Workspace_PrivateEndpointsErrorMessage_".concat(o));l&&(s.link=l,s.linkDisplayName=this.triLocalizationService.get("LearnMore")),s.message=v}return s}},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(E.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-premium-v2"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:6,vars:9,consts:[[4,"ngIf"],[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar"],[1,"tab-title"],[1,"tri-title3"],[1,"tri-body1"],[3,"updateResMsg$"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,Jo,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,qo,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,Ra,10,7,"ng-container",0),e.\u0275\u0275pipe(5,"async")),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,3,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,5,t.messageBarModel$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,7,t.initialized$)))},dependencies:[jo,S.Y,I.Y,ee.d,He.D,oe.I,nt.h,W.m,g.NgIf,g.AsyncPipe],encapsulation:2,changeDetection:0}),i}(),ea=function(){function i(){}return i.forRoot=function(r){return{ngModule:i,providers:[{provide:Ue.X,useExisting:r.workspaceSettingsService}]}},i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[g.CommonModule,Yt.AP,p.u5.withConfig({callSetDisabledState:"whenDisabledForLegacyCode"}),V.T6,S.Y,N.l,ie.wp,f.uw,ee.d,oe.I,K.W,H.B,_e.Jy,h.w,x.lK,ue.b,te.F,Ar.OT,Be,U,W.m,un,J.t,gn,si,li,dr,Pr,Jn]}),i}(),Rn=function(i){return i.Origin="Origin",i.Strict="Strict",i}({}),Tr=((Mt={}).Image=St.UpdateImage,Mt.Name=St.UpdateName,Mt.Description=St.UpdateDescription,Mt.ContactList=St.UpdateContracts,Mt.OneDrive=St.UpdateOneDrive,Mt.AllowContributorApp="",Mt.AllowWebModeling="",Mt.DomainObjectId="",Mt.DatasourceBindingSecurityMode="",Mt),ta=m(41198),na=["imageFileInput"];function Fa(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",5),e.\u0275\u0275elementContainerEnd())}function ia(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",7),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var C=e.\u0275\u0275nextContext().index,w=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(w.dismissError(C))}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(),o=t.$implicit,s=t.index,l=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",l.getErrorMessageBarViewModel(o,s))}}function Wa(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ia,1,1,"tri-message-bar",6),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var s,n=r.$implicit,t=r.index,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1===(null==(s=e.\u0275\u0275pipeBind1(2,1,o.apiErrorsDismissedIndices$))?null:s[t])&&n)}}function La(i,r){if(1&i&&(e.\u0275\u0275element(0,"img",31),e.\u0275\u0275pipe(1,"async")),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("src",e.\u0275\u0275pipeBind1(1,2,n.workspaceImgSrc$),e.\u0275\u0275sanitizeUrl),e.\u0275\u0275attribute("data-testid","workspace-settings-about-logo-img")}}function Or(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",32),2&i&&e.\u0275\u0275attribute("data-testid","workspace-settings-about-logo-default")}function Er(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",33),e.\u0275\u0275element(2,"tri-spinner"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275attribute("data-testid","workspace-settings-about-logo-img-loading"))}function ra(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",34),e.\u0275\u0275element(1,"tri-svg-icon",35),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,n.imageFileError$)," ")}}function oa(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",36)}function Na(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",37),e.\u0275\u0275element(1,"tri-svg-icon",35),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"NotAvailable_PleaseEdit_Text")," "))}function aa(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",37),e.\u0275\u0275element(1,"tri-svg-icon",35),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Validation_Empty")," "))}function Dr(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",36)}function sa(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"trident-domains-dropdown",38),e.\u0275\u0275listener("domainSelected",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onDomainSelected(s))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("selectedDomainObjectId",t.getSelectedDomain())("shouldBeDisabled",e.\u0275\u0275pipeBind1(1,3,t.autoSaveInProgress.DomainObjectId)||!t.isWorkspaceAdmin)("showSpinner",!!e.\u0275\u0275pipeBind1(2,5,t.autoSaveInProgress.DomainObjectId))}}function Br(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function Gr(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",36)}function ca(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function la(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",36)}var da=function(r){return{"no-image":r}},pa=function(r){return{$implicit:r}};function $a(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"label",8),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",9)(5,"div",10),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275template(7,La,2,4,"img",11),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275template(9,Or,1,1,"tri-svg-icon",12),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275template(11,Er,3,1,"ng-container",0),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",13)(14,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var G=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(G.onUploadClick())}),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275element(17,"tri-svg-icon",15),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var G=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(G.onResetImage())}),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275element(25,"tri-svg-icon",16),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(28,ra,4,3,"div",17),e.\u0275\u0275pipe(29,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"div",18)(31,"label",19),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"div",20)(35,"input",21),e.\u0275\u0275listener("blur",function(G){e.\u0275\u0275restoreView(n);var re=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(re.onNameUpdated(G))})("keyup",function(G){e.\u0275\u0275restoreView(n);var re=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(re.validateName(G))}),e.\u0275\u0275pipe(36,"async"),e.\u0275\u0275pipe(37,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(38,oa,1,0,"tri-spinner",22),e.\u0275\u0275pipe(39,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(40,Na,4,3,"div",23),e.\u0275\u0275pipe(41,"async"),e.\u0275\u0275template(42,aa,4,3,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"div",18)(44,"label",24),e.\u0275\u0275text(45),e.\u0275\u0275pipe(46,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"div",20)(48,"textarea",25),e.\u0275\u0275listener("blur",function(G){e.\u0275\u0275restoreView(n);var re=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(re.onDescriptionUpdated(G))}),e.\u0275\u0275pipe(49,"async"),e.\u0275\u0275pipe(50,"localize"),e.\u0275\u0275pipe(51,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(52,Dr,1,0,"tri-spinner",22),e.\u0275\u0275pipe(53,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(54,sa,3,7,"trident-domains-dropdown",26),e.\u0275\u0275elementStart(55,"div",27)(56,"label",28),e.\u0275\u0275text(57),e.\u0275\u0275pipe(58,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(59,"div",20),e.\u0275\u0275template(60,Br,1,0,"ng-container",29),e.\u0275\u0275template(61,Gr,1,0,"tri-spinner",22),e.\u0275\u0275pipe(62,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(63,"div",27)(64,"label",30),e.\u0275\u0275text(65),e.\u0275\u0275pipe(66,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(67,"div",20),e.\u0275\u0275template(68,ca,1,0,"ng-container",29),e.\u0275\u0275template(69,la,1,0,"tri-spinner",22),e.\u0275\u0275pipe(70,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var s,l,v,C,t=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(9);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,40,"WorkspaceImage")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(96,da,!(null!=(s=e.\u0275\u0275pipeBind1(6,42,t.workspaceImgSrc$))&&s.length))),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(8,44,t.workspaceImgSrc$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(null!=(l=e.\u0275\u0275pipeBind1(10,46,t.workspaceImgSrc$))&&l.length)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(12,48,t.autoSaveInProgress.Image)),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("is-disabled",e.\u0275\u0275pipeBind1(15,50,t.autoSaveInProgress.Image)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(16,52,t.autoSaveInProgress.Image)||!t.isWorkspaceAdmin),e.\u0275\u0275attribute("data-testid","workspace-settings-about-upload-btn"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(19,54,"Upload")," "),e.\u0275\u0275advance(2),e.\u0275\u0275classProp("is-disabled",!(null!=(v=e.\u0275\u0275pipeBind1(21,56,t.workspaceImgSrc$))&&v.length)||e.\u0275\u0275pipeBind1(22,58,t.autoSaveInProgress.Image)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",!(null!=(C=e.\u0275\u0275pipeBind1(23,60,t.workspaceImgSrc$))&&C.length)||e.\u0275\u0275pipeBind1(24,62,t.autoSaveInProgress.Image)||!t.isWorkspaceAdmin),e.\u0275\u0275attribute("data-testid","workspace-settings-about-reset-btn"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(27,64,"Reset")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(29,66,t.imageFileError$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(33,68,"Name")),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("has-error",e.\u0275\u0275pipeBind1(36,70,t.nameExists$)||!t.workspaceName),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(37,72,t.autoSaveInProgress.Name)||!t.isWorkspaceAdmin)("value",t.workspaceName),e.\u0275\u0275attribute("data-testid","workspace-settings-about-name-input"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(39,74,t.autoSaveInProgress.Name)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(41,76,t.nameExists$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.workspaceName),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(46,78,"Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",t.description)("disabled",e.\u0275\u0275pipeBind1(49,80,t.autoSaveInProgress.Description)||!t.isWorkspaceAdmin)("placeholder",e.\u0275\u0275pipeBind1(50,82,"DescribeThisWorkspace")+" "+e.\u0275\u0275pipeBind1(51,84,"Optional_Parenthesis")),e.\u0275\u0275attribute("data-testid","workspace-settings-about-description-input"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(53,86,t.autoSaveInProgress.Description)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isDomainsEnabled),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(58,88,"ContactList")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",t.userPicker||o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(98,pa,t.contactListContext)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(62,90,t.autoSaveInProgress.ContactList)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(66,92,"WorkspaceSharePoint")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",t.userPicker||o)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(100,pa,t.oneDriveContext)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(70,94,t.autoSaveInProgress.OneDrive))}}var Ua=function(){return[]};function a(i,r){if(1&i&&e.\u0275\u0275element(0,"input",39),2&i){var t,n=r.$implicit;e.\u0275\u0275property("placeholder",null==n?null:n.inputPlaceholder)("value",(null!==(t=null==n?null:n.identities)&&void 0!==t?t:e.\u0275\u0275pureFunction0(2,Ua)).join(";"))}}var u=function(){function i(r,n,t,o){var s=this;this.workspaceSettingsService=r,this.triLocalizationService=n,this.telemetryService=t,this.isTrident=o,this.destroy$=new ct.xQ,this.initialized$=this.workspaceSettingsService.folderSettingsInitialized$,this.workspaceImgSrc$=new F.X(""),this.workspaceName="",this.description="",this.contactListContext=void 0,this.oneDriveContext=void 0,this.imageFileError$=new F.X(""),this.autoSaveInProgress=this.workspaceSettingsService.autoSaveInProgress,this.isWorkspaceAdmin=!1,this.isDomainsEnabled=!1,this.nameExists$=this.workspaceSettingsService.nameExists$,this.apiErrors$=(0,Ke.aj)([this.workspaceSettingsService.workspaceInitializationErrorMessage$,this.workspaceSettingsService.nameValidationErrorMessage$,this.workspaceSettingsService.autoSaveErrorMessage$]).pipe((0,ve.U)(function(l){var C=l[1],w=l[2],G=[];return G.push(l[0]||""),G.push(C||""),G.push(w||""),G.length?G:void 0})),this.apiErrorsDismissedIndices$=new F.X([!1,!1,!1]),this.subscriptionsToDispose=[],this.imageFileInput=null,this.onContactListUpdated=function(l){s.contactListContext&&(s.contactListContext=(0,$.__assign)((0,$.__assign)({},s.contactListContext),{identities:(0,$.__spreadArray)([],l,!0)}),s.workspaceSettingsService.contactList=s.contactListContext.identities,s.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Update workspace contacts",featureName:"Fabric Workspace Settings"}),s.logTelemetryEvent("Update workspace contacts"))},this.onOneDriveUpdated=function(l){s.oneDriveContext&&(s.oneDriveContext=(0,$.__assign)((0,$.__assign)({},s.oneDriveContext),{identities:(0,$.__spreadArray)([],l,!0)}),s.workspaceSettingsService.workspaceOneDrive=s.oneDriveContext.identities[0],s.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Update OneDrive",featureName:"Fabric Workspace Settings"}),s.logTelemetryEvent("Update OneDrive"))},this.initialized$.subscribe(function(l){l&&(s.workspaceImgSrc$.next(s.workspaceSettingsService.imageSrc),s.workspaceName=s.workspaceSettingsService.workspaceName,s.description=s.workspaceSettingsService.description,s.isWorkspaceAdmin=s.workspaceSettingsService.isWorkspaceAdmin,s.contactListContext={identities:s.workspaceSettingsService.contactList,onIdentitiesUpdated:s.onContactListUpdated,allowEmailEnabledSecurityGroups:!0,allowObjectIds:!0,allowDistributionLists:!0,allowUnifiedGroups:!0,checkValidOrgUser:!0,includeGuests:!0,showRelevantUsers:!1,inputPlaceholder:s.workspaceSettingsService.contactList.length>0?"":s.triLocalizationService.get("EmailsList_UsersAndGroupsPlaceholder"),inputAriaLabelledBy:"workspace-contact-list-setting-label",disabled:!s.isWorkspaceAdmin},s.oneDriveContext={identities:s.workspaceSettingsService.workspaceOneDrive?[s.workspaceSettingsService.workspaceOneDrive]:[],onIdentitiesUpdated:s.onOneDriveUpdated,allowSecurityGroups:!1,allowObjectIds:!0,allowDistributionLists:!1,allowUnifiedGroups:!0,blockUsers:!0,checkValidOrgUser:!0,maxSelectableUsers:1,showRelevantUsers:!1,inputPlaceholder:s.workspaceSettingsService.workspaceOneDrive?"":s.triLocalizationService.get("Optional_Parenthesis"),inputAriaLabelledBy:"workspace-onedrive-setting-label",disabled:!s.isWorkspaceAdmin},s.subscriptionsToDispose.push(s.autoSaveInProgress.ContactList.subscribe(function(C){s.contactListContext.disabled=!!C||!s.isWorkspaceAdmin})),s.subscriptionsToDispose.push(s.autoSaveInProgress.OneDrive.subscribe(function(C){s.oneDriveContext.disabled=!!C||!s.isWorkspaceAdmin})),s.isDomainsEnabled=!!s.isTrident,s.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Detail settings",featureName:"Fabric Workspace Settings",activityAttributes:{name:"Load Workspace settings - end"}}))})}return i.prototype.onUploadClick=function(){var r,n;null===(n=null===(r=this.imageFileInput)||void 0===r?void 0:r.nativeElement)||void 0===n||n.click()},i.prototype.onResetImage=function(){var r;!(null===(r=this.imageFileInput)||void 0===r)&&r.nativeElement&&(this.imageFileInput.nativeElement.value=""),this.workspaceImgSrc$.next(""),this.workspaceSettingsService.imageSrc=""},i.prototype.onNameUpdated=function(r){this.workspaceName=r.target.value,this.workspaceSettingsService.workspaceName=this.workspaceName,this.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Workspace rename",featureName:"Fabric Workspace Settings"}),this.logTelemetryEvent("Workspace rename")},i.prototype.validateName=function(r){var n=this,t=r.target.value;this.validateNameTimeoutId&&clearTimeout(this.validateNameTimeoutId),this.validateNameTimeoutId=setTimeout(function(){n.workspaceSettingsService.validateFolderName(t)},600)},i.prototype.onDescriptionUpdated=function(r){this.description=r.target.value,this.workspaceSettingsService.description=this.description,this.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Update description",featureName:"Fabric Workspace Settings"}),this.logTelemetryEvent("Update description")},i.prototype.onDomainSelected=function(r){this.workspaceSettingsService.domainObjectId=r?.domainObjectId;var n="".concat("Domains",",").concat("Domains Direct MAU",",").concat("Domains WS Management");this.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Update domain association",featureName:n,activityAttributes:{source:"WS settings",isSubDomain:!!r?.isSubDomain}}),this.logTelemetryEvent("Update domain association")},i.prototype.getSelectedDomain=function(){return this.workspaceSettingsService.domainObjectId},i.prototype.onImageUploaded=function(){var n,t,r=this;this.imageFileError$.next("");var o=null===(t=null===(n=this.imageFileInput)||void 0===n?void 0:n.nativeElement)||void 0===t?void 0:t.files;if(o&&1===o.length){var s=o[0];if(s.size>46080)this.imageFileError$.next(this.triLocalizationService.format("Publish_ImageSizeValidationError",this.triLocalizationService.get("File_Size_KB_45")));else{var l=s.name.split(".").reverse()[0];if(["jpeg","jpg","png"].some(function(C){return l.toLowerCase()===C}))try{var v=new FileReader;v.addEventListener("load",function(C){var w,G,re=null===(w=C.target)||void 0===w?void 0:w.result;re&&(r.workspaceImgSrc$.next(re.toString()),r.workspaceSettingsService.imageSrc=re.toString(),null!==(G=r.imageFileInput)&&void 0!==G&&G.nativeElement&&(r.imageFileInput.nativeElement.value=""),r.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Update workspace image",featureName:"Fabric Workspace Settings"}),r.logTelemetryEvent("Update workspace image"))}),v.readAsDataURL(s)}catch(C){this.imageFileError$.next(this.triLocalizationService.get("Trident_Workspace_Settings_File_Read_Error"))}else this.imageFileError$.next(this.triLocalizationService.get("Trident_Workspace_Settings_Image_File_Extension_Error"))}}else this.imageFileError$.next(this.triLocalizationService.get("Trident_Workspace_Settings_One_Image_File_Only"))},i.prototype.dismissError=function(r){var n=(0,$.__spreadArray)([],this.apiErrorsDismissedIndices$.value,!0);n[r]=!0,this.apiErrorsDismissedIndices$.next(n)},i.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},i.prototype.getErrorMessageBarViewModel=function(r,n){var t=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return t.dismissError(n)},message:r}},i.prototype.logTelemetryEvent=function(r){this.telemetryService.logEvent({name:"Updating workspace settings - auto save",properties:{activityName:r,featureName:"Fabric Workspace Settings",workspaceObjectId:this.workspaceSettingsService.workspaceObjectId}})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(Pt.t),e.\u0275\u0275directiveInject(en.Y))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-about"]],viewQuery:function(n,t){var o;(1&n&&e.\u0275\u0275viewQuery(na,7),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(t.imageFileInput=o.first))},inputs:{userPicker:"userPicker"},decls:10,vars:9,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["hidden","","type","file","accept",".jpeg,.jpg,.png",1,"tri-hidden",3,"change"],["imageFileInput",""],["inputUserPicker",""],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar",4,"ngIf"],[3,"viewModel","hideMessageBar"],["id","workspace-image-label"],[1,"workspace-image-setting-container","tri-flex"],[1,"workspace-image","tri-flex","tri-justify-center","tri-items-center","tri-relative",3,"ngClass"],["class","valid-workspace-image","alt","Workspace image",3,"src",4,"ngIf"],["tri-svg-icon-32","","class","no-workspace-image","name","image_32_regular",4,"ngIf"],[1,"workspace-image-buttons","tri-flex","tri-flex-col"],["tri-button","","appearance","subtle","size","small",3,"disabled","click"],["name","arrow_upload_20_regular"],["name","arrow_undo_20_regular"],["class","image-error-message error-message-container tri-flex","role","alert",4,"ngIf"],[1,"about-input-container","tri-flex","tri-flex-col"],["id","workspace-name-setting-label"],[1,"tri-flex"],["aria-labelledby","workspace-name-setting-label","data-testid","workspace-name-setting-input",1,"about-settings-input","tri-flex-grow",3,"disabled","value","blur","keyup"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],["class","tri-flex error-message-container",4,"ngIf"],["id","workspace-description-setting-label"],["aria-labelledby","workspace-description-setting-label","data-testid","workspace-description-setting-input","maxlength","4000","rows","3",1,"about-settings-textarea","tri-flex-grow",3,"value","disabled","placeholder","blur"],[3,"selectedDomainObjectId","shouldBeDisabled","showSpinner","domainSelected",4,"ngIf"],[1,"about-input-container","tri-flex","tri-flex-col","tri-relative"],["id","workspace-contact-list-setting-label"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","workspace-onedrive-setting-label"],["alt","Workspace image",1,"valid-workspace-image",3,"src"],["tri-svg-icon-32","","name","image_32_regular",1,"no-workspace-image"],[1,"image-autosave-spinner","tri-flex"],["role","alert",1,"image-error-message","error-message-container","tri-flex"],["name","error_circle_12_filled",1,"error-message-icon"],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],[1,"tri-flex","error-message-container"],[3,"selectedDomainObjectId","shouldBeDisabled","showSpinner","domainSelected"],["aria-labelledby","workspace-contact-list-setting-label",1,"tri-flex-grow","contact-list",3,"placeholder","value"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,Fa,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,Wa,3,3,"ng-container",1),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,$a,71,102,"ng-container",0),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementStart(6,"input",2,3),e.\u0275\u0275listener("change",function(){return t.onImageUploaded()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,a,1,3,"ng-template",null,4,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,3,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(3,5,t.apiErrors$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,7,t.initialized$)))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,g.NgTemplateOutlet,_n,O.M,He.D,nt.h,g.AsyncPipe,I.Y],styles:["[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:14px;line-height:20px}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size);line-height:18px;margin-bottom:4px}[_nghost-%COMP%]   label#workspace-image-label[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   .error-message-banner-container[_ngcontent-%COMP%]{margin-bottom:16px}[_nghost-%COMP%]   trident-domains-dropdown[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image[_ngcontent-%COMP%]{height:56px;width:56px;max-width:56px}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image.no-image[_ngcontent-%COMP%]{background-color:var(--colorNeutralBackground6);color:var(--colorNeutralForeground3);fill:var(--colorNeutralForeground3);border-radius:50%}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image[_ngcontent-%COMP%]   .valid-workspace-image[_ngcontent-%COMP%]{height:56px;width:56px;border-radius:50%}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image[_ngcontent-%COMP%]   .no-workspace-image[_ngcontent-%COMP%]{fill:var(--colorNeutralForeground3)}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image-buttons[_ngcontent-%COMP%]{margin-left:8px;justify-content:center;gap:4px}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .workspace-image-buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   .workspace-image-setting-container[_ngcontent-%COMP%]   .image-error-message[_ngcontent-%COMP%]{color:var(--colorPaletteRedForeground1)}[_nghost-%COMP%]   .settings-seperator[_ngcontent-%COMP%]{margin-top:26px;border-top:1px solid var(--colorNeutralStroke1);margin-bottom:10px}[_nghost-%COMP%]   .about-input-container[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .about-input-container[_ngcontent-%COMP%]     .mat-form-field.emails-list{border-radius:4px;outline:none;border:1px solid var(--colorNeutralStroke1)}[_nghost-%COMP%]   .about-input-container[_ngcontent-%COMP%]     emails-list-modern{flex-grow:1}[_nghost-%COMP%]   .about-input-container[_ngcontent-%COMP%]     input, [_nghost-%COMP%]   .about-input-container[_ngcontent-%COMP%]     .chip-list{padding:6px 10px}[_nghost-%COMP%]   .about-settings-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .about-settings-textarea[_ngcontent-%COMP%]{resize:none;font-size:14px;font-family:var(--fontFamilyBase);line-height:20px;padding:5px 12px;box-sizing:border-box;border-radius:4px;outline:none;border:1px solid var(--colorNeutralStroke1)}[_nghost-%COMP%]   .about-settings-input[_ngcontent-%COMP%]:not([disabled]), [_nghost-%COMP%]   .about-settings-textarea[_ngcontent-%COMP%]:not([disabled]){border-bottom:1px solid var(--globalColorGrey38)}[_nghost-%COMP%]   .about-settings-input[_ngcontent-%COMP%]:not([disabled]):focus-visible, [_nghost-%COMP%]   .about-settings-textarea[_ngcontent-%COMP%]:not([disabled]):focus-visible{border-bottom:2px solid var(--globalColorBrand80)}[_nghost-%COMP%]   .about-settings-input[disabled][_ngcontent-%COMP%], [_nghost-%COMP%]   .about-settings-textarea[disabled][_ngcontent-%COMP%]{border:1px solid var(--colorNeutralStroke2)}[_nghost-%COMP%]   .about-settings-input.has-error[_ngcontent-%COMP%], [_nghost-%COMP%]   .about-settings-textarea.has-error[_ngcontent-%COMP%]{border:1px solid var(--colorPaletteRedForeground1)}[_nghost-%COMP%]   .inline-autosave-spinner[_ngcontent-%COMP%]{margin-left:16px}[_nghost-%COMP%]   .image-autosave-spinner[_ngcontent-%COMP%]{background-color:var(--globalColorWhiteAlpha80);height:100%;width:100%;border-radius:50%;position:absolute}[_nghost-%COMP%]   .image-autosave-spinner[_ngcontent-%COMP%]   tri-spinner[_ngcontent-%COMP%]{margin:auto}[_nghost-%COMP%]   .disabled-field-overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}"],changeDetection:0}),i}(),b=m(33846);function M(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275projection(1),e.\u0275\u0275elementContainerEnd())}function B(i,r){1&i&&e.\u0275\u0275projection(0,1)}var A=[[["tri-collapsible-collapsed-content"]],"*"],D=function(r){return{disabled:r}},L=["tri-collapsible-collapsed-content","*"],Y=function(){function i(){this.headerText="",this.collapsed=!1,this.iconName="",this.iconSprite="",this.disabled=!1,this.collapseContainer=new e.EventEmitter}return i.prototype.onCollapseToggle=function(){this.collapsed=!this.collapsed,this.collapseContainer.emit(this.collapsed)},i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-collapsed-container"]],inputs:{headerText:"headerText",collapsed:"collapsed",iconName:"iconName",iconSprite:"iconSprite",disabled:"disabled"},outputs:{collapseContainer:"collapseContainer"},ngContentSelectors:L,decls:11,vars:22,consts:[[1,"collapsible-picker-box",3,"ngClass"],[1,"box-header","tri-flex",3,"click"],[1,"box-icon",3,"ngClass","name","sprite"],[1,"header-text"],["tri-icon-button","","appearance","subtle",1,"expand-collapse-button",3,"disabled"],[3,"name"],[4,"ngIf","ngIfElse"],["notCollapsed",""]],template:function(n,t){if(1&n&&(e.\u0275\u0275projectionDef(A),e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275listener("click",function(){return t.onCollapseToggle()}),e.\u0275\u0275element(2,"tri-svg-icon",2),e.\u0275\u0275elementStart(3,"span",3),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",4),e.\u0275\u0275pipe(6,"localizeFormat"),e.\u0275\u0275element(7,"tri-svg-icon",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(8,M,2,0,"ng-container",6),e.\u0275\u0275template(9,B,1,0,"ng-template",null,7,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&n){var o=e.\u0275\u0275reference(10);e.\u0275\u0275styleProp("pointer-events",t.disabled?"none":"initial"),e.\u0275\u0275classProp("is-collapsed",!!t.collapsed),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(18,D,t.disabled)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(20,D,t.disabled))("name",t.iconName)("sprite",t.iconSprite),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.headerText,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",t.disabled),e.\u0275\u0275attribute("aria-expanded",!t.collapsed)("aria-label",e.\u0275\u0275pipeBind2(6,15,t.collapsed?"ClickToExpandFormat":"ClickToCollapseFormat",t.headerText)),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.collapsed?"chevron_down_20_regular":"chevron_up_20_regular"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.collapsed)("ngIfElse",o)}},dependencies:[g.NgClass,g.NgIf,O.M,I.A],styles:[".collapsible-picker-box[_ngcontent-%COMP%]{padding:12px;border:1px solid var(--globalColorGrey82);border-radius:8px}.collapsible-picker-box.disabled[_ngcontent-%COMP%]{border-color:var(--colorNeutralStrokeDisabled);color:var(--colorNeutralForegroundDisabled);cursor:not-allowed}.collapsible-picker-box.disabled[_ngcontent-%COMP%]:focus, .collapsible-picker-box.disabled[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:active, .collapsible-picker-box.disabled[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:var(--colorNeutralForegroundDisabled)}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]{height:20px;display:flex;justify-content:space-between}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .box-icon.disabled[_ngcontent-%COMP%]{fill:var(--colorNeutralForegroundDisabled)}html:not([dir=rtl])[_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], html:not([dir=rtl])   [_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{margin-left:8px;margin-right:8px}html[dir=rtl][_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{margin-left:8px;margin-right:8px}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{display:flex}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:disabled{background:transparent!important}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:disabled   tri-svg-icon[_ngcontent-%COMP%]{background-color:var(--globalColorWhiteAlpha40)!important;fill:var(--colorNeutralForegroundDisabled)!important}.collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .expand-collapse-button[_ngcontent-%COMP%]{height:20px;width:20px}html:not([dir=rtl])[_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .expand-collapse-button[_ngcontent-%COMP%], html:not([dir=rtl])   [_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .expand-collapse-button[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}html[dir=rtl][_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .expand-collapse-button[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .collapsible-picker-box[_ngcontent-%COMP%]   .box-header[_ngcontent-%COMP%]   .expand-collapse-button[_ngcontent-%COMP%]{margin-left:0;margin-right:auto}"],changeDetection:0}),i}();function Q(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",5),e.\u0275\u0275elementContainerEnd())}function ce(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",6),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.apiError$))&&void 0!==o?o:""))}}function Ie(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",6),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.dismissSuccess())}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getSuccessMessageBarViewModel())}}function Le(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",10),2&i){e.\u0275\u0275nextContext(2);var n=e.\u0275\u0275reference(13);e.\u0275\u0275property("triTooltip",n)}}function Ri(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-radio-button",31),e.\u0275\u0275listener("change",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onLicenseModeSelected(s,l.LicenseMode.TridentPremiumPerUser))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"span",32),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",14)(7,"span"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementStart(10,"tri-link",33),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.TridentPremiumPerUser)("value",t.LicenseMode.TridentPremiumPerUser)("disabled",!t.licenseModeEnabled(t.LicenseMode.TridentPremiumPerUser)||e.\u0275\u0275pipeBind1(2,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,9,"Workspace_LicenseMode_PPU")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(9,11,"Workspace_LicenseMode_PPU_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,13,"LearnMore")," ")}}function as(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",34),e.\u0275\u0275listener("change",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onLicenseModeSelected(s,l.LicenseMode.DataCapacity))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"span",35),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",14)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementStart(9,"tri-link",36),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.DataCapacity)("value",t.LicenseMode.DataCapacity)("disabled",!t.licenseModeEnabled(t.LicenseMode.DataCapacity)||e.\u0275\u0275pipeBind1(1,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,9,"CapacityHeader_FabricCapacity")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(8,11,"CapacityHeader_FabricCapacity_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,13,"LearnMore")," ")}}function ss(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",37),e.\u0275\u0275listener("change",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onLicenseModeSelected(s,l.LicenseMode.DataCapacityTrial))}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"span",38),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",14)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementStart(9,"tri-link",39),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",t.licenseMode===t.LicenseMode.DataCapacityTrial)("value",t.LicenseMode.DataCapacityTrial)("disabled",!t.licenseModeEnabled(t.LicenseMode.DataCapacityTrial)||e.\u0275\u0275pipeBind1(1,7,t.saveInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,9,"CapacityHeader_TrialCapacity")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(8,11,"Workspace_LicenseMode_Trial_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,13,"LearnMore")," ")}}function cs(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"mat-option",45),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" ",n.name," - ",n.region," ")}}function ls(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",46),e.\u0275\u0275element(1,"tri-svg-icon",47),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Workspace_LicenseMode_Select")," "))}function ds(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"label",40),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerStart(4),e.\u0275\u0275elementStart(5,"mat-form-field",41)(6,"mat-select",42),e.\u0275\u0275listener("ngModelChange",function(l){e.\u0275\u0275restoreView(n);var v=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(v.selectedCapacity=l)})("selectionChange",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onSelectedCapacityChange())}),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,cs,2,3,"mat-option",43),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275template(10,ls,4,3,"div",44),e.\u0275\u0275elementContainerEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,7,"Trident_Workspace_Settings_License_Capacity")),e.\u0275\u0275advance(3),e.\u0275\u0275classProp("has-error",!t.selectedCapacity),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",t.selectedCapacity)("disabled",!t.isWorkspaceAdmin||null!==(o=e.\u0275\u0275pipeBind1(7,9,t.saveInProgress$))&&void 0!==o&&o),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(9,11,t.currentCapacities$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.selectedCapacity)}}function ps(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",50),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.selectedCapacity.name)}}function us(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",51),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.capacityRegionString)}}function gs(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"label",40),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,ps,2,1,"div",48),e.\u0275\u0275template(5,us,2,1,"div",49),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"Trident_Workspace_Settings_License_Capacity")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.selectedCapacity.name),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.capacityRegionString)}}function _s(i,r){if(1&i&&(e.\u0275\u0275template(0,gs,6,5,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngIf",n.selectedCapacity&&e.\u0275\u0275pipeBind1(1,1,n.showWorkspaceSettingsV2$))}}function ms(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",52),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("viewModel",n.getNoPermissionsToCapacityMessageBarViewModel())}}function vs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-group")(1,"label",53),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"tri-radio-button",54),e.\u0275\u0275listener("change",function(v){e.\u0275\u0275restoreView(n);var C=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(C.onDefaultStorageFormatSelected(v,C.StorageFormat.SmallDataset))}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementStart(6,"label",55),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"tri-radio-button",56),e.\u0275\u0275listener("change",function(v){e.\u0275\u0275restoreView(n);var C=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(C.onDefaultStorageFormatSelected(v,C.StorageFormat.LargeDataset))}),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275elementStart(12,"label",57),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"tri-link",58),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()()}if(2&i){var o,s,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,11,"GroupEditor_StorageFormat")),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.defaultStorageFormat===t.StorageFormat.SmallDataset)("value",t.StorageFormat.SmallDataset)("disabled",!t.isWorkspaceAdmin||null!==(o=e.\u0275\u0275pipeBind1(5,13,t.saveInProgress$))&&void 0!==o&&o),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,15,"GroupEditor_StorageFormat_Small")),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.defaultStorageFormat===t.StorageFormat.LargeDataset)("value",t.StorageFormat.LargeDataset)("disabled",!t.isWorkspaceAdmin||!0!==e.\u0275\u0275pipeBind1(10,17,t.allowLargeDataset$)||null!==(s=e.\u0275\u0275pipeBind1(11,19,t.saveInProgress$))&&void 0!==s&&s),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,21,"GroupEditor_StorageFormat_Large")),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(17,23,"GroupEditor_StorageFormat_LearnMore")," ")}}function hs(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",8),e.\u0275\u0275template(2,vs,18,25,"tri-radio-group",0),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!!n.selectedCapacity&&void 0!==e.\u0275\u0275pipeBind1(3,1,n.allowLargeDataset$))}}function fs(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function Cs(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Applying")))}function Ss(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Apply")))}function ys(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",65)(2,"span",66),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Trident_Workspace_Settings_Copied_Connection")))}function bs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",59)(2,"label",60),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",61)(6,"div",62),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",63),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.copyConnectionToClipboard())})("mouseover",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.mouseOverCopy())})("mouseout",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.mouseOutCopy())}),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275element(10,"tri-svg-icon",64),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,ys,5,3,"div",0),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,6,"WorkspaceConnection")),e.\u0275\u0275advance(3),e.\u0275\u0275property("triTooltip",t.workspaceConnectionString),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.workspaceConnectionString),e.\u0275\u0275advance(1),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(9,8,"CopyVisualImage_Copy")),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.copyIconName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(12,10,t.showCopied$))}}var Va=function(r){return{"is-disabled":r}};function ws(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-collapsed-container",7),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"div",8)(4,"tri-radio-group")(5,"label",9),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"tri-svg-icon",10),e.\u0275\u0275elementStart(9,"tri-radio-button",11),e.\u0275\u0275listener("change",function(w){e.\u0275\u0275restoreView(n);var G=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(G.onLicenseModeSelected(w,G.LicenseMode.PowerBIPro))}),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementStart(11,"span",12),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,Le,1,1,"tri-svg-icon",13),e.\u0275\u0275elementStart(15,"div",14)(16,"span"),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementStart(19,"tri-link",15),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(22,Ri,13,15,"ng-container",0),e.\u0275\u0275elementStart(23,"tri-radio-button",16),e.\u0275\u0275listener("change",function(w){e.\u0275\u0275restoreView(n);var G=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(G.onLicenseModeSelected(w,G.LicenseMode.TridentPremiumPerCapacity))}),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275elementStart(25,"span",17),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",14)(29,"span"),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"localize"),e.\u0275\u0275elementStart(32,"tri-link",18),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(35,"tri-radio-button",19),e.\u0275\u0275listener("change",function(w){e.\u0275\u0275restoreView(n);var G=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(G.onLicenseModeSelected(w,G.LicenseMode.Embedded))}),e.\u0275\u0275pipe(36,"async"),e.\u0275\u0275elementStart(37,"span",20),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(40,"tri-svg-icon",10),e.\u0275\u0275elementStart(41,"div",14)(42,"span"),e.\u0275\u0275text(43),e.\u0275\u0275pipe(44,"localize"),e.\u0275\u0275elementStart(45,"tri-link",21),e.\u0275\u0275text(46),e.\u0275\u0275pipe(47,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(48,as,12,15,"tri-radio-button",22),e.\u0275\u0275template(49,ss,12,15,"tri-radio-button",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(50,"div",24),e.\u0275\u0275template(51,ds,11,13,"ng-container",25),e.\u0275\u0275pipe(52,"async"),e.\u0275\u0275template(53,_s,2,3,"ng-template",null,26,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(55,ms,1,1,"tri-message-bar",27),e.\u0275\u0275template(56,hs,4,3,"ng-container",0),e.\u0275\u0275elementStart(57,"div",28)(58,"button",29),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(w.applyCapacity())}),e.\u0275\u0275pipe(59,"async"),e.\u0275\u0275pipe(60,"async"),e.\u0275\u0275pipe(61,"async"),e.\u0275\u0275pipe(62,"async"),e.\u0275\u0275template(63,fs,1,0,"tri-spinner",0),e.\u0275\u0275pipe(64,"async"),e.\u0275\u0275template(65,Cs,3,3,"ng-container",0),e.\u0275\u0275pipe(66,"async"),e.\u0275\u0275template(67,Ss,3,3,"ng-container",0),e.\u0275\u0275pipe(68,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(69,"button",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(w.resetCapacity())}),e.\u0275\u0275pipe(70,"async"),e.\u0275\u0275pipe(71,"async"),e.\u0275\u0275pipe(72,"async"),e.\u0275\u0275text(73),e.\u0275\u0275pipe(74,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(75,bs,13,12,"ng-container",0),e.\u0275\u0275elementContainerEnd()}if(2&i){var v,t=e.\u0275\u0275reference(54),o=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(11),l=e.\u0275\u0275reference(15);e.\u0275\u0275advance(1),e.\u0275\u0275property("headerText",e.\u0275\u0275pipeBind1(2,42,"Trident_Workspace_Settings_Choose_License")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,44,"Workspace_LicenseMode")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",s),e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",o.licenseMode===o.LicenseMode.PowerBIPro)("value",o.LicenseMode.PowerBIPro)("disabled",e.\u0275\u0275pipeBind1(10,46,o.saveInProgress$)||!o.isWorkspaceAdmin||o.isMyWorkspace&&o.restrictMyFolderCapacityEnabled),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,48,"Trident_Workspace_Settings_License_Pro")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.isMyWorkspace),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(18,50,"Workspace_LicenseMode_Pro_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(21,52,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(o.flagTridentUIHidePPU||o.isMyWorkspace&&!o.showPPUForMyWorkspace)),e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",o.licenseMode===o.LicenseMode.TridentPremiumPerCapacity)("value",o.LicenseMode.TridentPremiumPerCapacity)("disabled",!o.licenseModeEnabled(o.LicenseMode.TridentPremiumPerCapacity)||e.\u0275\u0275pipeBind1(24,54,o.saveInProgress$)||!o.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(27,56,"Capacity_PremiumCapacity")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(31,58,"Workspace_LicenseMode_PPC_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(34,60,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",o.licenseMode===o.LicenseMode.Embedded)("value",o.LicenseMode.Embedded)("disabled",!o.licenseModeEnabled(o.LicenseMode.Embedded)||e.\u0275\u0275pipeBind1(36,62,o.saveInProgress$)||!o.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(39,64,"Workspace_LicenseMode_Embedded")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",l),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(44,66,"Workspace_LicenseMode_Embedded_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(47,68,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.showDCCapacityOptions()||o.licenseMode===o.LicenseMode.DataCapacity),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.getShowDataCapacityTrialEnabled()||o.licenseMode===o.LicenseMode.DataCapacityTrial),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.licenseMode!==o.LicenseMode.TridentPremiumPerUser&&o.licenseMode!==o.LicenseMode.DataCapacityTrial&&null!==(v=null==(v=e.\u0275\u0275pipeBind1(52,70,o.currentCapacities$))?null:v.length)&&void 0!==v&&v)("ngIfElse",t),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",null==o.selectedCapacity?null:o.selectedCapacity.unavailableToUser),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.isMyWorkspace),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!0!==e.\u0275\u0275pipeBind1(59,72,o.canSaveCapacity$)||e.\u0275\u0275pipeBind1(60,74,o.saveInProgress$))("ngClass",e.\u0275\u0275pureFunction1(94,Va,!0!==e.\u0275\u0275pipeBind1(61,76,o.canSaveCapacity$)||e.\u0275\u0275pipeBind1(62,78,o.saveInProgress$))),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(64,80,o.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(66,82,o.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0!==e.\u0275\u0275pipeBind1(68,84,o.saveInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!0!==e.\u0275\u0275pipeBind1(70,86,o.canSaveCapacity$)||e.\u0275\u0275pipeBind1(71,88,o.saveInProgress$))("ngClass",e.\u0275\u0275pureFunction1(96,Va,!0!==e.\u0275\u0275pipeBind1(72,90,o.canSaveCapacity$))),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(74,92,"Cancel_ButtonText")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!o.isMyWorkspace&&o.licenseMode!==o.LicenseMode.PowerBIPro)}}function ks(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",67),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"tri-link",68),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"Workspace_LicenseMode_Tooltip")," \xa0 "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,5,"Workspace_LicenseMode_Tooltip_Link")," "))}function Is(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",67),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"tri-link",69),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"Workspace_LicenseMode_Pro_Information")," \xa0 "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,5,"Generic_LearnMore")," "))}function xs(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",67),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"tri-link",70),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,3,"Workspace_LicenseMode_Embedded_Information")," \xa0 "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,5,"Generic_LearnMore")," "))}var Ms=function(){function i(r,n,t,o,s){var l=this;this.workspaceSettingsService=r,this.isTrident=n,this.featureSwitchService=t,this.triLocalizationService=o,this.telemetryService=s,this.initialized$=this.workspaceSettingsService.capacitiesInitialized$,this.licenseMode=pe.PowerBIPro,this.defaultStorageFormat=Zt.SmallDataset,this.selectedCapacity=void 0,this.isMyWorkspace=this.workspaceSettingsService.isMyWorkspace,this.showPPUForMyWorkspace=this.workspaceSettingsService.showPPUForMyWorkspace,this.restrictMyFolderCapacityEnabled=!1,this.previousLicenseMode="",this.currentCapacities$=new F.X([]),this.canSaveCapacity$=this.workspaceSettingsService.canSaveCapacitySelection$,this.apiError$=this.workspaceSettingsService.capacityUpdateErrorMessage$.pipe((0,ve.U)(function(v){return l.errorDismissed$.next(!1),v})),this.apiSuccess$=this.workspaceSettingsService.capacityUpdateSuccess$.pipe((0,ve.U)(function(v){return l.successDismissed$.next(!1),v})),this.errorDismissed$=new F.X(!1),this.successDismissed$=new F.X(!1),this.saveInProgress$=this.workspaceSettingsService.capacitySaveInProgress$,this.workspaceConnectionString="",this.showCopied$=new F.X(!1),this.allowLargeDataset$=new F.X(void 0),this.copyIconName="copy_20_regular",this.flagTridentUIHidePPU=!1,this.isWorkspaceAdmin=!1,this.LicenseMode=pe,this.StorageFormat=Zt,this.capacitiesMapByLicenseMode={},this.workspaceSettingsService.clearAllErrorMessages(),this.workspaceSettingsService.capacitiesInitialized$.subscribe(function(v){v&&(l.capacitiesMapByLicenseMode=l.createCapacitiesMapByLicenseMode(),l.setInitialLicenseMode(),l.workspaceConnectionString=l.workspaceSettingsService.workspaceConnectionString,l.isWorkspaceAdmin=l.workspaceSettingsService.isWorkspaceAdmin,l.restrictMyFolderCapacityEnabled=l.workspaceSettingsService.getFeatureSwitchState("restrictMyFolderCapacityEnabled"))}),this.workspaceSettingsService.selectedCapacity&&!this.workspaceSettingsService.selectedCapacity.unavailableToUser&&this.workspaceSettingsService.checkPremiumFilesEnabled(this.workspaceSettingsService.selectedCapacity.id).then(function(v){return l.allowLargeDataset$.next(v)}),this.apiError$.subscribe(function(v){l.errorDismissed$.next(!1),l.resetCapacity()}),this.apiSuccess$.subscribe(function(){l.successDismissed$.next(!1)}),this.showCopied$.pipe((0,Ee.h)(function(v){return!!v}),(0,pr.g)(6e3)).subscribe(function(){return l.showCopied$.next(!1)}),this.showWorkspaceSettingsV2$=this.featureSwitchService.featureSwitches$.pipe((0,Ee.h)(function(v){return!!v}),(0,ke.q)(1),(0,ve.U)(function(v){return l.isTrident&&!!v.showWorkspaceSettingsV2}))}return Object.defineProperty(i.prototype,"capacityRegionString",{get:function(){var n,t,o;return null!==(n=this.selectedCapacity)&&void 0!==n&&n.sku&&this.selectedCapacity.region?this.triLocalizationService.format("CapacitySetting_SKU_And_Region",this.selectedCapacity.sku,this.selectedCapacity.region):null!==(t=this.selectedCapacity)&&void 0!==t&&t.sku?this.triLocalizationService.format("CapacitySetting_SKU",this.selectedCapacity.sku):null!==(o=this.selectedCapacity)&&void 0!==o&&o.region?this.triLocalizationService.format("CapacitySetting_Region",this.selectedCapacity.region):""},enumerable:!1,configurable:!0}),i.prototype.onLicenseModeSelected=function(r,n){r&&(this.previousLicenseMode=this.licenseMode,this.licenseMode=n,this.currentCapacities$.next(this.capacitiesMapByLicenseMode[this.licenseMode]),this.licenseMode===pe.TridentPremiumPerUser||this.licenseMode===pe.DataCapacityTrial?(this.selectedCapacity=this.capacitiesMapByLicenseMode[this.licenseMode][0],this.updateWithPremiumFilesAvailablity()):this.selectedCapacity=void 0,this.workspaceSettingsService.selectedCapacity=this.selectedCapacity,this.licenseMode===pe.PowerBIPro&&(this.defaultStorageFormat=Zt.SmallDataset,this.workspaceSettingsService.defaultStorageFormat=this.defaultStorageFormat))},i.prototype.applyCapacity=function(){var r="";if(this.previousLicenseMode===pe.PowerBIPro&&(this.licenseMode===pe.TridentPremiumPerUser||this.licenseMode===pe.TridentPremiumPerCapacity)||this.previousLicenseMode===pe.TridentPremiumPerUser&&this.licenseMode===pe.TridentPremiumPerCapacity){r="".concat((0,Bt.Z)(),".").concat((0,Bt.Z)());var n={originatingService:"DataCloudUX",activityName:"Upgrade license mode from ".concat(this.previousLicenseMode," to ").concat(this.licenseMode),featureName:"Fabric Workspace Settings",activityStatus:"Pending",activityAttributes:{fromLicenseMode:this.previousLicenseMode,toLicenseMode:this.licenseMode},operationEndTime:(new Date).toISOString(),correlationId:r};this.telemetryService.logStandardFeatureEvent(n)}this.workspaceSettingsService.saveCapacitySelection(r)},i.prototype.resetCapacity=function(){this.workspaceSettingsService.resetCapacitySelection(),this.setInitialLicenseMode()},i.prototype.onDefaultStorageFormatSelected=function(r,n){r&&(this.defaultStorageFormat=n,this.workspaceSettingsService.defaultStorageFormat=this.defaultStorageFormat)},i.prototype.copyConnectionToClipboard=function(){navigator.clipboard.writeText(this.workspaceConnectionString),this.showCopied$.next(!0)},i.prototype.licenseModeEnabled=function(r){return r===pe.PowerBIPro||!(r===pe.TridentPremiumPerUser&&!this.workspaceSettingsService.isPPUTierAvialbleToUser())&&this.capacitiesMapByLicenseMode[r].length>0},i.prototype.onSelectedCapacityChange=function(){this.updateWithPremiumFilesAvailablity(),this.workspaceSettingsService.selectedCapacity=this.selectedCapacity},i.prototype.mouseOverCopy=function(){this.copyIconName="copy_20_filled"},i.prototype.mouseOutCopy=function(){this.copyIconName="copy_20_regular"},i.prototype.dismissError=function(){this.errorDismissed$.next(!0)},i.prototype.dismissSuccess=function(){this.successDismissed$.next(!0)},i.prototype.getErrorMessageBarViewModel=function(r){var n=this,t={bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return n.dismissError()},message:r};if(zn(r)){var o=An(r),s=this.triLocalizationService.get("Workspace_PrivateEndpointsErrorMessage_".concat(r));o&&(t.link=o,t.linkDisplayName=this.triLocalizationService.get("LearnMore")),t.message=s}return t},i.prototype.getNoPermissionsToCapacityMessageBarViewModel=function(){return{bannerType:0,allowDismiss:!1,iconName:"info_20_regular",message:this.triLocalizationService.get("Trident_Workspace_Settings_Capacity_No_Access")}},i.prototype.getSuccessMessageBarViewModel=function(){return{bannerType:3,allowDismiss:!0,iconName:"info_20_regular",message:this.triLocalizationService.get("Sharing_EditDashboardUsersSuccess")}},i.prototype.setInitialLicenseMode=function(){var r=this;this.selectedCapacity=this.workspaceSettingsService.selectedCapacity,this.selectedCapacity?this.selectedCapacity.unavailableToUser?this.licenseMode=null!=this.selectedCapacity.capacitySkuTier?fn(this.selectedCapacity.capacitySkuTier):pe.Unknown:(this.licenseMode=fn(this.selectedCapacity.capacitySkuTier),this.selectedCapacity=this.capacitiesMapByLicenseMode[this.licenseMode].find(function(n){var t;return n.id===(null===(t=r.selectedCapacity)||void 0===t?void 0:t.id)})):this.licenseMode=pe.PowerBIPro,this.currentCapacities$.next(this.capacitiesMapByLicenseMode[this.licenseMode]),this.updateWithPremiumFilesAvailablity()},i.prototype.showDCCapacityOptions=function(){return this.workspaceSettingsService.showDCCapacityOptions()&&!!this.isTrident},i.prototype.getShowDataCapacityTrialEnabled=function(){return this.workspaceSettingsService.getShowDataCapacityTrialEnabled()&&!!this.isTrident},i.prototype.createCapacitiesMapByLicenseMode=function(){var r,n=((r={})[pe.Unknown]=[],r[pe.PowerBIPro]=[],r[pe.TridentPremiumPerUser]=[],r[pe.TridentPremiumPerCapacity]=[],r[pe.Embedded]=[],r[pe.DataCapacity]=[],r[pe.DataCapacityTrial]=[],r);return this.workspaceSettingsService.allCapacities.forEach(function(t){1===t.capacitySkuTier?n[pe.TridentPremiumPerCapacity].push(t):4===t.capacitySkuTier?n[pe.TridentPremiumPerUser].push(t):2===t.capacitySkuTier||3===t.capacitySkuTier?n[pe.Embedded].push(t):8===t.capacitySkuTier||9===t.capacitySkuTier?n[pe.DataCapacity].push(t):7===t.capacitySkuTier&&n[pe.DataCapacityTrial].push(t)}),n},i.prototype.updateWithPremiumFilesAvailablity=function(){var r=this;this.selectedCapacity&&!this.selectedCapacity.unavailableToUser?this.workspaceSettingsService.checkPremiumFilesEnabled(this.selectedCapacity.id).then(function(n){r.allowLargeDataset$.next(n),r.defaultStorageFormat=r.workspaceSettingsService.defaultStorageFormat}):(this.defaultStorageFormat=this.workspaceSettingsService.defaultStorageFormat,this.allowLargeDataset$.next(!1))},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(en.Y),e.\u0275\u0275directiveInject(ut.V$),e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(Pt.t))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-premium"]],decls:16,vars:16,consts:[[4,"ngIf"],[3,"viewModel","hideMessageBar",4,"ngIf"],["licenseModeInfoTip",""],["myWorkspaceProInfoTip",""],["embeddedInfoTip",""],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar"],["iconName","premium_20_regular",3,"headerText"],[1,"premium-input-container"],["id","workspace-license-mode-setting-label"],["name","info_20_regular","tabindex","-1",1,"premium-info-tip-button",3,"triTooltip"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-pro",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-pro",1,"radio-label"],["name","info_20_regular","class","premium-info-tip-button","tabindex","-1",3,"triTooltip",4,"ngIf"],[1,"licensemode-description-info"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227278","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-premium-per-capacity",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-premium-per-capacity",1,"radio-label"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227277","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-embedded",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-embedded",1,"radio-label"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227525","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],["name","licenseMode","type","radio","class","radio-button-input","aria-labelledby","workspace-license-mode-data-capacity",3,"checked","value","disabled","change",4,"ngIf"],["name","licenseMode","type","radio","class","radio-button-input","aria-labelledby","workspace-license-mode-data-capacity-trial",3,"checked","value","disabled","change",4,"ngIf"],[1,"capacity-container"],[4,"ngIf","ngIfElse"],["staticLicenseCapacity",""],[3,"viewModel",4,"ngIf"],[1,"premium-footer-buttons","tri-flex"],["tri-button","","appearance","primary",1,"footer-button",3,"disabled","ngClass","click"],["tri-button","",1,"footer-button",3,"disabled","ngClass","click"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-premium-per-user",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-premium-per-user",1,"radio-label"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227449","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-data-capacity",1,"radio-label"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227397","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],["name","licenseMode","type","radio","aria-labelledby","workspace-license-mode-data-capacity-trial",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-license-mode-data-capacity-trial",1,"radio-label"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2227617","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon",3,"external"],[1,"capacity-label"],[1,"capacity-select-field"],["disableRipple","","disableOptionCentering","",1,"capacity-select",3,"ngModel","disabled","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","tri-flex error-message-container",4,"ngIf"],[3,"value"],[1,"tri-flex","error-message-container"],["name","error_circle_12_filled",1,"error-message-icon"],["class","license-capacity-name tri-caption1Strong",4,"ngIf"],["class","license-capacity-region tri-caption1",4,"ngIf"],[1,"license-capacity-name","tri-caption1Strong"],[1,"license-capacity-region","tri-caption1"],[3,"viewModel"],["id","workspace-default-storage-format-label"],["name","defaultStorageFormat","type","radio","aria-labelledby","workspace-default-storage-small-dataset",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-default-storage-small-dataset",1,"radio-label"],["name","defaultStorageFormat","type","radio","aria-labelledby","workspace-default-storage-large-dataset",1,"radio-button-input",3,"checked","value","disabled","change"],["id","workspace-default-storage-large-dataset",1,"radio-label"],["target","_blank","rel","noopener noreferrer","href","https://docs.microsoft.com/en-us/power-bi/enterprise/service-premium-large-models#enable-large-models",3,"external"],[1,"premium-input-container","tri-flex","tri-flex-col","tri-relative"],["id","workspace-connection-setting-label"],[1,"workspace-connection-container","tri-flex"],["disabled","",1,"tri-flex-grow","connection-string",3,"triTooltip"],["tri-button","","appearance","subtle",1,"copy-connection-button",3,"click","mouseover","mouseout"],[1,"copy-connection-icon",3,"name"],["role","alert",1,"link-copied-tip"],[1,"workspace-connection-copied-message"],[1,"info-tip-content"],["href","https://go.microsoft.com/fwlink/?linkid=2159767","target","_blank","rel","noopener noreferrer",3,"external"],["href","https://go.microsoft.com/fwlink/?linkid=2218869","target","_blank","rel","noopener noreferrer",3,"external"],["href","https://go.microsoft.com/fwlink/?linkid=2159726","target","_blank","rel","noopener noreferrer",3,"external"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,Q,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,ce,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,Ie,1,1,"tri-message-bar",1),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,ws,76,98,"ng-container",0),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275template(10,ks,6,7,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(12,Is,6,7,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(14,xs,6,7,"ng-template",null,4,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,4,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(3,6,t.errorDismissed$)&&e.\u0275\u0275pipeBind1(4,8,t.apiError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(6,10,t.successDismissed$)&&e.\u0275\u0275pipeBind1(7,12,t.apiSuccess$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(9,14,t.initialized$)))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,p.JJ,p.On,O.M,ie.v_,f.x8,b.CK,He.D,nt.h,X.Y,z.Z,Xe.Z,Y,he.v,g.AsyncPipe,I.Y],styles:["[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:14px;line-height:20px}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .radio-button-container[_ngcontent-%COMP%]{height:32px;box-sizing:border-box;padding:6px 0}[_nghost-%COMP%]   .radio-button-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]{height:20px;width:20px;margin-top:0}[_nghost-%COMP%]   .radio-button-container[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]{font-weight:400;margin-bottom:0;margin-left:9px;-webkit-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]     .tri-radio-button-internal section{align-items:start}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]     .tri-radio-button-internal section .tri-radio-button-text .radio-label{font-weight:600}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]     .tri-radio-button-internal section .tri-radio-button-text .licensemode-description-info{font-size:12px}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]     .tri-radio-button-internal section .tri-radio-button-text .licensemode-description-info tri-link>a{display:inline-flex}[_nghost-%COMP%]   .premium-input-container[_ngcontent-%COMP%]   .radio-button-input[_ngcontent-%COMP%]     .tri-radio-button-internal section .tri-radio-button-text .licensemode-description-info tri-link>a tri-svg-icon{width:16px}[_nghost-%COMP%]   .premium-footer-buttons[_ngcontent-%COMP%]{margin-top:28px}[_nghost-%COMP%]   .premium-footer-buttons[_ngcontent-%COMP%]   .footer-button[_ngcontent-%COMP%]{margin-right:8px}[_nghost-%COMP%]   .premium-info-tip-button[_ngcontent-%COMP%]{height:12px;width:12px;fill:var(--colorNeutralForeground3);margin-left:8px;margin-bottom:4px}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]{margin-top:24px}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:var(--fontFamilyBase);width:100%}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]   .capacity-select[_ngcontent-%COMP%]{font-family:var(--fontFamilyBase)}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]  .mat-form-field-underline{display:none}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]  .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]  .mat-form-field-infix{height:32px;border:1px solid var(--colorNeutralStroke1);border-radius:4px;box-sizing:border-box;padding:6px 12px}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field[_ngcontent-%COMP%]  .mat-form-field-infix .mat-form-field-label-wrapper{left:12px;width:calc(100% - 24px)}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .capacity-select-field.has-error[_ngcontent-%COMP%]  .mat-form-field-infix{border:1px solid var(--globalColorBurgundyTint10)}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .license-capacity-name[_ngcontent-%COMP%]{color:var(--colorNeutralForeground1);margin-top:var(--spacingVerticalXS)}[_nghost-%COMP%]   .capacity-container[_ngcontent-%COMP%]   .license-capacity-region[_ngcontent-%COMP%]{color:var(--colorNeutralForeground4)}[_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]{border:1px solid var(--colorNeutralStroke1);box-sizing:border-box;border-radius:4px;height:32px;align-items:center;padding:0 12px;background-color:var(--colorNeutralBackground4);color:var(--colorNeutralForeground1)}[_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{height:16px;width:16px}[_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]{padding:0;height:20px}[_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:hover   .copy-connection-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:focus   .copy-connection-icon[_ngcontent-%COMP%]{fill:var(--colorBrandForeground1)}[_nghost-%COMP%]   .workspace-connection-container[_ngcontent-%COMP%]   .copy-connection-button[_ngcontent-%COMP%]:active   .copy-connection-icon[_ngcontent-%COMP%]{fill:var(--colorBrandForeground1)}[_nghost-%COMP%]   .link-copied-tip[_ngcontent-%COMP%]{position:absolute;right:0;top:65px;box-shadow:0 4px 8px 0 var(--globalColorBlackAlpha10);padding:6px 12px}[_nghost-%COMP%]   .link-copied-tip[_ngcontent-%COMP%]   .workspace-connection-copied-message[_ngcontent-%COMP%]{white-space:pre-wrap}[_nghost-%COMP%]   .connection-string[_ngcontent-%COMP%]{height:24px;background-color:var(--colorNeutralBackground4);line-height:24px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   #workspace-license-mode-setting-label[_ngcontent-%COMP%], [_nghost-%COMP%]   #workspace-default-storage-format-label[_ngcontent-%COMP%], [_nghost-%COMP%]   #workspace-connection-setting-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .capacity-label[_ngcontent-%COMP%]{font-weight:600}"],changeDetection:0}),i}(),Ps=m(23558),Ts=m(24692),Os=["storageTable"];function Es(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",25),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.deleteArtifactErrorMessage$))&&void 0!==o?o:""))}}function Ds(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275element(1,"div",26),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind1(3,2,n.storageSizeUsedByOthersWithUnit$)," ",e.\u0275\u0275pipeBind1(4,4,"Trident_Workspace_Settings_Storage_Owned_By_Others")," ")}}function Bs(i,r){1&i&&e.\u0275\u0275element(0,"th",27)}function Gs(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",36),e.\u0275\u0275elementContainerEnd())}function zs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",37),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var C=e.\u0275\u0275nextContext(2).$implicit,w=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(w.deleteArtifact(C))})("keydown",function(C){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(w.onDeleteButtonKeyDown(C))}),e.\u0275\u0275pipe(1,"localizeFormat"),e.\u0275\u0275element(2,"tri-svg-icon",38),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2),o=t.index,s=t.$implicit,l=e.\u0275\u0275nextContext();e.\u0275\u0275property("tabIndex",l.focussedDeleteButtonIndex===o?0:-1),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(1,2,"Hierarchy_Format_Level_Delete",s.name))}}function As(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"td"),e.\u0275\u0275template(1,Gs,2,0,"ng-container",34),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,zs,3,5,"ng-template",null,35,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){var s,n=e.\u0275\u0275reference(4),t=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==(s=e.\u0275\u0275pipeBind1(2,2,o.artifactDeleteInProgress$))?null:s[t.modelId])("ngIfElse",n)}}function Rs(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tr",28),e.\u0275\u0275listener("keydown",function(v){e.\u0275\u0275restoreView(n);var C=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(C.onRowKeyDown(v))}),e.\u0275\u0275elementStart(2,"td",29),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td",30),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td",31),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"td",32),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,As,5,4,"td",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=r.$implicit,o=r.index,s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("tabindex",s.focussedRowIndex===o?0:-1),e.\u0275\u0275advance(1),e.\u0275\u0275property("triTooltip",t.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.name," "),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("triTooltip","",t.sizeInMBs," MB"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.sizeInMBs," MB"),e.\u0275\u0275advance(1),e.\u0275\u0275property("triTooltip",t.typeText),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.typeText),e.\u0275\u0275advance(1),e.\u0275\u0275property("triTooltip",s.getRelatedObjects(t)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",s.getRelatedObjects(t),""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.isWorkspaceAdmin)}}var ja=function(r){return{width:r}},Fs=function(){function i(r,n,t,o){var s=this;this.workspaceSettingsService=r,this.datasetStore=n,this.localizationService=t,this.telemetryService=o,this.isWorkspaceAdmin=this.workspaceSettingsService.isWorkspaceAdmin,this.focussedRowIndex=0,this.focussedDeleteButtonIndex=-1,this.totalStorageQuotaInMB$=new F.X(0),this.storageUsageArtifacts$=new F.X([]),this.storageUsedByIdentityInMB$=this.storageUsageArtifacts$.pipe((0,ve.U)(function(l){return s.workspaceSettingsService.isPremium?0:l.reduce(function(v,C){return v+C.sizeInMBs},0)})),this.storageUsedByOthersInMB$=new F.X(0),this.totalStorageUsedInMB$=(0,Ke.aj)([this.storageUsedByIdentityInMB$,this.storageUsedByOthersInMB$]).pipe((0,ve.U)(function(l){return s.workspaceSettingsService.isPremium?0:l[0]+l[1]})),this.totalStorageAvailableWithUnit$=(0,Ke.aj)([this.totalStorageQuotaInMB$,this.totalStorageUsedInMB$]).pipe((0,ve.U)(function(l){return zr(l[0]-l[1],s.localizationService)})),this.storageSizeUsedByIdentityWithUnit$=this.storageUsedByIdentityInMB$.pipe((0,ve.U)(function(l){return zr(l,s.localizationService)})),this.storageSizeUsedByOthersWithUnit$=this.storageUsedByOthersInMB$.pipe((0,ve.U)(function(l){return zr(l,s.localizationService)})),this.totalStorageQuoutaWithUnit$=this.totalStorageQuotaInMB$.pipe((0,ve.U)(function(l){return zr(l,s.localizationService)})),this.deleteArtifactErrorMessage$=this.workspaceSettingsService.deleteArtifactErrorMessage$.pipe((0,ve.U)(function(l){return l?.message})),this.artifactDeleteInProgress$=this.workspaceSettingsService.artifactsBeingDeleted$.pipe((0,Ps.M)(this.storageUsageArtifacts$),(0,ve.U)(function(l){var v=l[0],w={};return l[1].forEach(function(G){w[G.modelId]=!1}),v.forEach(function(G){w[G]=!0}),w})),this.errorDismissed$=new F.X(!1),this.zoneClicksRemoved=!1,this.datasetsSubscription=this.datasetStore.datasets.subscribe(function(){s.updateStorageInfo()})}return i.prototype.ngOnInit=function(){this.updateStorageInfo(),this.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Open system storage",featureName:"Fabric Workspace Settings"})},i.prototype.ngAfterViewChecked=function(){!this.zoneClicksRemoved&&this.storageUsageArtifacts$.value.length&&(this.removeZoneClickFromTableCells(),this.zoneClicksRemoved=!0)},i.prototype.ngOnDestroy=function(){var r;null===(r=this.datasetsSubscription)||void 0===r||r.unsubscribe()},i.prototype.getRelatedObjects=function(r){return(0,$.__spreadArray)((0,$.__spreadArray)([],r.reportsFromModel,!0),r.dashboardsFromModel,!0).map(function(n){return n.displayName}).join(", ")},i.prototype.deleteArtifact=function(r){var n=this;this.workspaceSettingsService.deleteArtifact(r.modelId,r.packageId,r.storageType).then(function(t){t&&(n.storageUsageArtifacts$.pipe((0,ke.q)(1)).subscribe(function(s){var l=s.findIndex(function(v){return v.modelId===r.modelId});l>=0&&n.storageUsageArtifacts$.next((0,$.__spreadArray)((0,$.__spreadArray)([],s.slice(0,l),!0),s.slice(l+1),!0))}),n.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"Delete artifact",featureName:"Fabric Workspace Settings"}))})},i.prototype.dismissError=function(){this.errorDismissed$.next(!0)},i.prototype.getErrorMessageBarViewModel=function(r){var n=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return n.dismissError()},message:r}},i.prototype.onRowKeyDown=function(r){var n=-1,t=-1;switch(r.key){case"ArrowUp":-1==(n=this.focussedRowIndex-1)&&(n=this.storageUsageArtifacts$.value.length-1);break;case"ArrowDown":(n=this.focussedRowIndex+1)===this.storageUsageArtifacts$.value.length&&(n=0);break;case"ArrowLeft":case"ArrowRight":if(!this.isWorkspaceAdmin)return;t=this.focussedRowIndex,n=-1;break;default:return}this.focusOnNextItem(n,t)},i.prototype.onDeleteButtonKeyDown=function(r){var n=-1,t=-1;switch(r.key){case"ArrowUp":-1==(t=this.focussedDeleteButtonIndex-1)&&(t=this.storageUsageArtifacts$.value.length-1);break;case"ArrowDown":(t=this.focussedDeleteButtonIndex+1)===this.storageUsageArtifacts$.value.length&&(t=0);break;case"ArrowLeft":case"ArrowRight":n=this.focussedDeleteButtonIndex,t=-1;break;default:return}r.preventDefault(),r.stopImmediatePropagation(),this.focusOnNextItem(n,t)},i.prototype.focusOnNextItem=function(r,n){var t,o,s;if(this.focussedRowIndex=r,this.focussedDeleteButtonIndex=n,null!==(t=this.storageTable)&&void 0!==t&&t.nativeElement)if(-1!==r){var l=null===(o=this.storageTable.nativeElement.getElementsByClassName("storage-systems-artifact-row"))||void 0===o?void 0:o.item(r);l?.focus(),l?.scrollIntoView()}else if(-1!==n){var v=null===(s=this.storageTable.nativeElement.getElementsByClassName("storage-row-delete-button"))||void 0===s?void 0:s.item(n);v?.focus(),v?.scrollIntoView()}},i.prototype.removeZoneClickFromTableCells=function(){var r,n,t;if(null!==(r=this.storageTable)&&void 0!==r&&r.nativeElement)for(var s=0,l=Array.from(this.storageTable.nativeElement.getElementsByTagName("td"));s<l.length;s++)null===(t=(n=l[s]).removeAllListeners)||void 0===t||t.call(n,"click")},i.prototype.updateStorageInfo=function(){this.storageUsageArtifacts$.next(this.workspaceSettingsService.getStorageArtifacts()),this.totalStorageQuotaInMB$.next(this.workspaceSettingsService.getUserUsageQuotaInMB())},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(Ts.h),e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(Pt.t))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-storage-systems"]],viewQuery:function(n,t){var o;(1&n&&e.\u0275\u0275viewQuery(Os,5),2&n)&&(e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(t.storageTable=o.first))},decls:58,vars:64,consts:[[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"storage-usage-container","tri-flex","tri-flex-col"],[1,"storage-usage-full","tri-flex"],[1,"total-storage-percentage"],[1,"total-quota-legend","tri-flex"],[1,"storage-usage-legend","storage-unused"],[1,"storage-usage-bar","tri-flex"],[1,"storage-bar","storage-used-by-me",3,"ngStyle"],[1,"storage-bar","storage-used-by-others",3,"ngStyle"],[1,"storage-bar","storage-unused","tri-flex-grow"],[1,"storage-usage-legends"],[1,"tri-flex"],[1,"storage-usage-legend","storage-used-by-me"],["class","tri-flex",4,"ngIf"],[1,"scroller"],[1,"storage-artifacts-table",2,"width","100%"],["storageTable",""],[1,"storage-artifacts-table-header",2,"width","200px"],[1,"storage-artifacts-table-header",2,"width","60px"],[1,"storage-artifacts-table-header",2,"width","145px"],[1,"storage-artifacts-table-header",2,"width","160px"],["class","storage-artifacts-table-header","style","width:40px",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"fogofscroll"],[1,"fog"],[3,"viewModel","hideMessageBar"],[1,"storage-usage-legend","storage-used-by-others"],[1,"storage-artifacts-table-header",2,"width","40px"],[1,"storage-systems-artifact-row",3,"tabindex","keydown"],[1,"storage-system-cell",2,"max-width","200px",3,"triTooltip"],[1,"storage-system-cell",2,"max-width","60px",3,"triTooltip"],[1,"storage-system-cell",2,"max-width","145px",3,"triTooltip"],[1,"storage-system-cell",2,"max-width","160px",3,"triTooltip"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["deleteButton",""],[1,"delete-artifact-spinner"],["tri-button","","appearance","subtle",1,"storage-row-delete-button",3,"tabIndex","click","keydown"],["name","delete_20_regular"]],template:function(n,t){if(1&n&&(e.\u0275\u0275template(0,Es,2,3,"tri-message-bar",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"div",1)(4,"div",2)(5,"span"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localizeFormat"),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"span",3),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",4),e.\u0275\u0275element(15,"div",5),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localizeFormat"),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"div",6),e.\u0275\u0275element(20,"div",7),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275element(23,"div",8),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275pipe(25,"async"),e.\u0275\u0275element(26,"div",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",10)(28,"div",11),e.\u0275\u0275element(29,"div",12),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"async"),e.\u0275\u0275pipe(32,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(33,Ds,5,6,"div",13),e.\u0275\u0275pipe(34,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(35,"div",14)(36,"table",15,16)(38,"thead")(39,"tr")(40,"th",17),e.\u0275\u0275text(41),e.\u0275\u0275pipe(42,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"th",18),e.\u0275\u0275text(44),e.\u0275\u0275pipe(45,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"th",19),e.\u0275\u0275text(47),e.\u0275\u0275pipe(48,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"th",20),e.\u0275\u0275text(50),e.\u0275\u0275pipe(51,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(52,Bs,1,0,"th",21),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(53,"tbody"),e.\u0275\u0275template(54,Rs,11,10,"ng-container",22),e.\u0275\u0275pipe(55,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(56,"div",23),e.\u0275\u0275element(57,"div",24),e.\u0275\u0275elementEnd()()),2&n){var v,o=void 0,s=void 0,l=void 0;e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,15,t.errorDismissed$)&&e.\u0275\u0275pipeBind1(2,17,t.deleteArtifactErrorMessage$)),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind3(7,19,"Trident_Workspace_Settings_Storage_Used_Of_Format",e.\u0275\u0275pipeBind1(8,23,t.storageSizeUsedByIdentityWithUnit$),e.\u0275\u0275pipeBind1(9,25,t.totalStorageQuoutaWithUnit$)),"\xa0 "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("(",(100*(null!==(o=e.\u0275\u0275pipeBind1(12,27,t.totalStorageUsedInMB$))&&void 0!==o?o:0)/(null!==(o=e.\u0275\u0275pipeBind1(13,29,t.totalStorageQuotaInMB$))&&void 0!==o?o:1)).toFixed(2),"%)"),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(17,31,"Trident_Workspace_Settings_Storage_Available_Format",e.\u0275\u0275pipeBind1(18,34,t.totalStorageAvailableWithUnit$))," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(60,ja,(100*(null!==(s=e.\u0275\u0275pipeBind1(21,36,t.storageUsedByIdentityInMB$))&&void 0!==s?s:0)/(null!==(s=e.\u0275\u0275pipeBind1(22,38,t.totalStorageQuotaInMB$))&&void 0!==s?s:1)).toFixed(2)+"%")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(62,ja,(100*(null!==(l=e.\u0275\u0275pipeBind1(24,40,t.storageUsedByOthersInMB$))&&void 0!==l?l:0)/(null!==(l=e.\u0275\u0275pipeBind1(25,42,t.totalStorageQuotaInMB$))&&void 0!==l?l:1)).toFixed(2)+"%")),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind1(31,44,t.storageSizeUsedByIdentityWithUnit$)," ",e.\u0275\u0275pipeBind1(32,46,"QuotaManagement_OwnedByMe")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",null!==(v=e.\u0275\u0275pipeBind1(34,48,t.storageUsedByOthersInMB$))&&void 0!==v&&v),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(42,50,"Name")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(45,52,"QuotaManagement_ModelSize")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(48,54,"Type")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(51,56,"Trident_Workspace_Settings_Storage_Related_Objects_Header"),""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isWorkspaceAdmin),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(55,58,t.storageUsageArtifacts$))}},dependencies:[g.NgForOf,g.NgIf,g.NgStyle,O.M,He.D,nt.h,Xe.Z,g.AsyncPipe,I.Y,I.A],styles:["[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:14px;line-height:20px}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .total-storage-percentage[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .total-quota-legend[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .storage-used-by-me[_ngcontent-%COMP%]{background-color:#0078d4}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .storage-used-by-others[_ngcontent-%COMP%]{background-color:#917edb}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .storage-unused[_ngcontent-%COMP%]{background-color:#edebe9}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .storage-usage-legend[_ngcontent-%COMP%]{height:10px;width:10px;margin-right:4px;display:flex;align-self:center}[_nghost-%COMP%]   .storage-usage-container[_ngcontent-%COMP%]   .storage-usage-bar[_ngcontent-%COMP%]{height:24px;margin:4px 0}[_nghost-%COMP%]   .storage-artifacts-table[_ngcontent-%COMP%]{width:100%;margin-top:24px}[_nghost-%COMP%]   .storage-artifacts-table[_ngcontent-%COMP%]   .storage-artifacts-table-header[_ngcontent-%COMP%]{height:40px;text-align:left}[_nghost-%COMP%]   .storage-artifacts-table[_ngcontent-%COMP%]   .delete-artifact-spinner[_ngcontent-%COMP%]{padding:0 12px}[_nghost-%COMP%]   .storage-artifacts-table[_ngcontent-%COMP%]   .storage-system-cell[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .scroller[_ngcontent-%COMP%]{width:100%;overflow-x:auto;padding-right:32px}[_nghost-%COMP%]   .fogofscroll[_ngcontent-%COMP%]{position:absolute;width:48px;height:100%;top:0;right:0;pointer-events:none;padding-bottom:24px;z-index:500}[_nghost-%COMP%]   .fogofscroll[_ngcontent-%COMP%]   .fog[_ngcontent-%COMP%]{height:100%;width:100%;background:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgb(255,255,255) 79%,rgb(255,255,255) 100%)}"],changeDetection:0}),i}();function zr(i,r){return i>1024?r.format("QuotaUsage_SizeInGB",Math.floor(i/1024)):r.format("QuotaUsage_SizeInMB",i)}var Fi,Wi,Ws=m(37272),Kt=m(77526),Et=m(59822),mt=m(81905),Ka=m(88255),ua=m(24874),sn=m(8697),Ha=m(35030),me=m(18016),cn=m(12587),ga=m(94416),Xa=function(){function i(r,n,t){this.gitStatusFacade=r,this.gitConnectionService=n,this.featureSwitchService=t,this.gitStatusMode=this.featureSwitchService.featureSwitches.tridentGitStatusAPI?ne.pPx.SingleCall:ne.pPx.SeparateCalls}return i.prototype.getGitStatus=function(r){return this.gitStatusFacade.getGitStatus(r)},i.prototype.loadGitStatus=function(r){return this.gitStatusMode===ne.pPx.SeparateCalls?(this.loadIncomingChanges(r),this.loadUncommittedChanges(r)):this.gitStatusFacade.loadGitStatus(r),this.getGitStatus(r)},i.prototype.isStatusLoaded=function(r){switch(this.gitStatusMode){case ne.pPx.SeparateCalls:return(0,Ke.aj)([this.getIncomingChangesLoadingState(r),this.getUncommittedChangesLoadingState(r)]).pipe((0,ve.U)(function(n){return n[0]===ne.Gui.Loaded&&n[1]===ne.Gui.Loaded}));case ne.pPx.SingleCall:return this.getStatusLoadingState(r).pipe((0,ve.U)(function(n){return n===ne.Gui.Loaded}))}},i.prototype.isStatusError=function(r){switch(this.gitStatusMode){case ne.pPx.SeparateCalls:return(0,Ke.aj)([this.getIncomingChangesLoadingState(r),this.getUncommittedChangesLoadingState(r)]).pipe((0,ve.U)(function(n){var o=n[1];return(0,me.pb)(n[0])||(0,me.pb)(o)}));case ne.pPx.SingleCall:return this.getStatusLoadingState(r).pipe((0,ve.U)(function(n){return(0,me.pb)(n)}))}},i.prototype.getStatusLoadingState=function(r){return this.gitStatusFacade.getStatusLoadingState(r)},i.prototype.getAllChanges=function(r){return this.gitStatusFacade.getAllChanges(r)},i.prototype.getIncomingChanges=function(r){return this.gitStatusFacade.getIncomingChanges(r)},i.prototype.getUncommittedChanges=function(r){return this.gitStatusFacade.getUncommittedChanges(r)},i.prototype.loadUncommittedChanges=function(r){return this.gitStatusFacade.loadUncommittedChanges(r)},i.prototype.getUncommittedChangesCount=function(r){return this.gitStatusFacade.getUncommittedChanges(r).pipe((0,ve.U)(function(n){return n.length}))},i.prototype.getUncommittedChangesLoadingState=function(r){return this.gitStatusFacade.getUncommittedChangesLoadingState(r)},i.prototype.getUncommittedArtifactsSelectionState=function(r){return this.gitStatusFacade.getUncommittedArtifactsSelectionState(r)},i.prototype.setChangesArtifactSelection=function(r,n,t,o){this.gitStatusFacade.setChangesArtifactSelection(r,n,t,o)},i.prototype.clearChangesArtifactSelection=function(r){this.gitStatusFacade.clearChangesArtifactSelection(r)},i.prototype.loadIncomingChanges=function(r){return this.gitStatusFacade.loadIncomingChanges(r)},i.prototype.getIncomingChangesCount=function(r){return this.gitStatusFacade.getIncomingChanges(r).pipe((0,ve.U)(function(n){return n.length}))},i.prototype.getIncomingChangesLoadingState=function(r){return this.gitStatusFacade.getIncomingChangesLoadingState(r)},i.prototype.getIncomingChangesCommitId=function(r){return this.gitStatusFacade.getIncomingChangesCommitId(r)},i.prototype.refreshUncommittedChanges=function(r){return this.gitConnectionService.loadGitConnection(r).pipe((0,ke.q)(1),(0,Ee.h)(function(n){var t;return void 0!==(null===(t=n?.gitConnectionDetails)||void 0===t?void 0:t.isInitialized)}),(0,ve.U)(function(){return(0,ne.x6e)({workspaceId:r})}))},i.prototype.hasConflictChange=function(r){return this.gitStatusFacade.getIncomingChanges(r).pipe((0,ve.U)(function(n){return n.some(function(t){return 1===t.syncStatus})}))},i.prototype.getGitStatusLoadingState=function(r){var n=this;return this.getGitStatus(r).pipe((0,ve.U)(function(t){var o;switch(n.gitStatusMode){case ne.pPx.SeparateCalls:return t?.incomingChangesCallState===ne.Gui.Loaded&&t?.uncommittedChangesCallState===ne.Gui.Loaded?ne.Gui.Loaded:t?.incomingChangesCallState===ne.Gui.Loading||t?.uncommittedChangesCallState===ne.Gui.Loading?ne.Gui.Loading:ne.Gui.Initial;case ne.pPx.SingleCall:return null!==(o=t?.statusCallState)&&void 0!==o?o:ne.Gui.Initial}}))},i.prototype.getGitStatusError=function(r){switch(this.gitStatusMode){case ne.pPx.SeparateCalls:return(0,Ke.aj)([this.getIncomingChangesLoadingState(r),this.getUncommittedChangesLoadingState(r)]).pipe((0,ve.U)(function(n){var t=n[0],o=n[1];return(0,me.pb)(t)?t:(0,me.pb)(o)?o:void 0}));case ne.pPx.SingleCall:return this.getStatusLoadingState(r).pipe((0,ve.U)(function(n){return(0,me.pb)(n)?n:void 0}))}},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275inject(ne.F8e),e.\u0275\u0275inject(be.rC),e.\u0275\u0275inject(ut.V$))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i}(),zt=((Fi={})[0]={icon:"added",stringId:"Added"},Fi[1]={icon:"modified",stringId:"Modified"},Fi[2]={icon:"deleted",stringId:"Deleted"},(Wi={})[1]={icon:"conflict",stringId:"Conflict"},Wi[2]={icon:"same_changes",stringId:"Trident_Git_Same_Changes_Tooltip"},Wi[0]={icon:"",stringId:""},function(i){return i[i.None=0]="None",i[i.GitProviderType=1]="GitProviderType",i[i.Organization=2]="Organization",i[i.Project=3]="Project",i[i.Repository=4]="Repository",i[i.Branch=5]="Branch",i[i.IteratorLast=6]="IteratorLast",i}({}));function Ya(i){return{panelClass:"dialog-style",width:Te.PW.Medium+"px",data:{title:i.get("Trident_Git_Switch_Branch_Confirmation_Title"),buttons:[{name:i.get("Trident_Git_Switch_Branch_Button_Text"),label:i.get("Trident_Git_Switch_Branch_Button_Text"),buttonType:"primary"},{name:i.get("Cancel_ButtonText"),label:i.get("Cancel_ButtonText"),buttonType:null}],content:i.get("Trident_Git_Switch_Branch_Confirmation_Content")}}}function Qa(i){return{bannerType:0,message:i.get("Trident_Git_No_Branches_In_Repo_Message")}}var Za=function(){function i(r,n){this.dialogRef=r,this.data=n}return i.prototype.ChangeToCreateFolderData=function(r){return{title:r.title,buttons:r.buttons}},i.prototype.clickButton=function(r){"Cancel"===r?this.dialogRef.close():this.dialogRef.close(!0)},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(R.so),e.\u0275\u0275directiveInject(R.WI))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-git-connection-create-folder"]],decls:3,vars:6,consts:[[3,"dialogData","closeButtonLabel","buttonClickEvent"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"trident-dialog",0),e.\u0275\u0275listener("buttonClickEvent",function(s){return t.clickButton(s)}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("dialogData",t.ChangeToCreateFolderData(t.data))("closeButtonLabel",e.\u0275\u0275pipeBind1(1,4,"Cancel_ButtonText")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" ",t.data.folderName,"",t.data.content,"\n"))},dependencies:[de.v,I.Y],encapsulation:2,changeDetection:0}),i}(),Ja="disconnectButton",Xs=function(){function i(r,n){this.data=r,this.localizationService=n,this.dialogData={title:this.localizationService.format("Trident_Git_Disconnect_Dialog_Title",[this.data.workspaceName]),buttons:[{name:Ja,label:this.localizationService.get("BYOResources_Disconnect_Button_Workspace"),buttonType:"primary"},{name:"cancelButton",label:this.localizationService.get("Cancel_ButtonText"),closeButton:!0}]}}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(R.WI),e.\u0275\u0275directiveInject(E.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-git-disconnect-dialog"]],decls:4,vars:5,consts:[[3,"dialogData","passthroughButtonClickEvent"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"trident-dialog",0)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275property("dialogData",t.dialogData)("passthroughButtonClickEvent",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,3,"Trident_Git_Disconnect_Dialog_Content")," "))},dependencies:[de.v,I.Y],styles:["[_nghost-%COMP%]     .mat-dialog-content.dialog-body{padding:20px 0}"],changeDetection:0}),i}(),qa=function(){function i(r,n){this.dialogRef=r,this.data=n}return i.prototype.PopulateDialog=function(r){return{title:r.title,buttons:r.buttons}},i.prototype.clickButton=function(r){"Cancel"===r?this.dialogRef.close():this.dialogRef.close(!0)},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(R.so),e.\u0275\u0275directiveInject(R.WI))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-git-switch-branch-dialog"]],decls:6,vars:9,consts:[[3,"dialogData","closeButtonLabel","buttonClickEvent"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2241304","localize","LearnMore","localize-tooltip","LearnMore"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"trident-dialog",0),e.\u0275\u0275listener("buttonClickEvent",function(s){return t.clickButton(s)}),e.\u0275\u0275pipe(1,"localize"),e.\u0275\u0275text(2),e.\u0275\u0275elementStart(3,"tri-link",1),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275property("dialogData",t.PopulateDialog(t.data))("closeButtonLabel",e.\u0275\u0275pipeBind1(1,5,"Cancel_ButtonText")),e.\u0275\u0275attribute("data-testid","switch-branch-dialog"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.data.content," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,7,"LearnMore")," "))},dependencies:[de.v,he.v,I.Y],encapsulation:2,changeDetection:0}),i}(),_a=m(86668),Fn=m(40773),Wn=m(31572),Ys=m(81099),ma=m(4511);function Qs(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",3),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",6),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_AAD")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.userAccount)}}function Zs(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",3),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",6),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&i){var n=r.ngIf;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.datasourceName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n?null:n.url)}}function Js(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Zs,5,2,"div",0),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,n.selectedDatasource$))}}function qs(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div")(2,"div",3),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4),e.\u0275\u0275template(8,Qs,6,4,"div",5),e.\u0275\u0275template(9,Js,3,3,"div",5),e.\u0275\u0275elementEnd()()),2&i){var n=r.ngIf,t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,5,"SettingsDataSource_SettingsLabel_Provider")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,7,t.selectedGitProviderDisplayName$)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitch",n.connectedProviderDetailsType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ConnectedProviderDetailsType.UserAccountDetails),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ConnectedProviderDetailsType.DatasourceDetails)}}function ec(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,qs,10,9,"div",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,n.gitProviderConfig$))}}var tc=function(i){function r(n,t,o){var s=i.call(this)||this;return s.gitSessionStorageService=n,s.gitDatasourceService=t,s.userInfoTridentService=o,s.ConnectedProviderDetailsType=Wn.P0,s.gitProviderInfo=me.Rv,s.workspaceId="",s.componentConfigMap=(0,Wn.EI)(),s.selectedGitProvider$=new F.X(void 0),s.selectedDatasourceOID$=new F.X(void 0),s.selectedDatasource$=new F.X(void 0),s.selectedGitProviderDisplayName$=new F.X(void 0),s.gitProviderConfig$=new F.X(void 0),s.showDetails$=(0,Pe.of)(!1),s.userAccount="",s}return(0,$.__extends)(r,i),r.prototype.ngOnInit=function(){var n=this;this.userAccount=this.userInfoTridentService.name,this.showDetails$=this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId).pipe((0,We.R)(this.onDestroy$),(0,je.b)(function(t){n.updateSessionStorageInfo(t)}),(0,mt.w)(function(){return n.gitDatasourceService.getDatasources({gitProviderType:n.selectedGitProvider$.value,workspaceId:n.workspaceId})}),(0,ve.U)(function(t){if(void 0!==n.selectedGitProvider$.value&&void 0!==n.selectedDatasourceOID$.value){var o=t?.datasourcesRecord?t.datasourcesRecord[n.selectedGitProvider$.value]:[];n.selectedDatasource$.next(o?.find(function(s){return s.id===n.selectedDatasourceOID$.value}))}return!0}))},r.prototype.updateSessionStorageInfo=function(n){void 0!==n.selectedGitProviderType&&(this.gitProviderConfig$.next(this.componentConfigMap[n?.selectedGitProviderType]),this.selectedGitProvider$.next(n?.selectedGitProviderType),this.selectedGitProviderDisplayName$.next(this.gitProviderInfo[n?.selectedGitProviderType].name)),this.selectedDatasourceOID$.next(n?.selectedDatasourceOID)},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(ne.gCl),e.\u0275\u0275directiveInject(Fn.Ae),e.\u0275\u0275directiveInject(ga.NQ))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-connected-provider-details"]],inputs:{workspaceId:"workspaceId"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[4,"ngIf"],["class","connected-provider-info",4,"ngIf"],[1,"connected-provider-info"],[1,"title"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"trimmedTextWithEllipsis"]],template:function(t,o){1&t&&(e.\u0275\u0275template(0,ec,3,3,"div",0),e.\u0275\u0275pipe(1,"async")),2&t&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,o.showDetails$))},dependencies:[g.NgIf,g.NgSwitch,g.NgSwitchCase,g.AsyncPipe,I.Y],styles:[".connected-provider-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:8px;gap:4px}.title[_ngcontent-%COMP%]{font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300);line-height:20px}"]}),r}(cn.w),ic=m(81544),es=m(92710);function oc(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Trident_Git_Accounts")))}function ac(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",11),e.\u0275\u0275listener("change",function(){var v=e.\u0275\u0275restoreView(n).$implicit,C=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(C.selectedUserAccountChanged(v))}),e.\u0275\u0275elementStart(1,"div",12)(2,"span",13),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",14),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()()}if(2&i){var t=r.$implicit,o=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("value",t.id)("checked",o.isDataSourceChecked(t)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.datasourceName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.url)}}function sc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,oc,3,3,"div",4),e.\u0275\u0275elementStart(2,"div")(3,"tri-radio-group",5),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275template(5,ac,6,4,"tri-radio-button",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",7)(7,"button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.authorizeNewAccount())}),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275element(9,"tri-svg-icon",9),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext().ngIf,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.isPartOfCollapsible),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(4,8,o.doesWorkspaceNeedCapacity$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(8,10,o.doesWorkspaceNeedCapacity$)),e.\u0275\u0275attribute("data-testid","authorize-new-user-button"),e.\u0275\u0275advance(2),e.\u0275\u0275property("name","add_16_regular")("sprite","fluentui-icons"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,12,"Trident_Git_Authorize_New_User")," ")}}function cc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,sc,12,14,"div",3),e.\u0275\u0275elementEnd()),2&i){var n=r.ngIf;e.\u0275\u0275nextContext();var t=e.\u0275\u0275reference(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==n.length)("ngIfElse",t)}}function lc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-empty-state",15),e.\u0275\u0275listener("buttonClicked",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.authorizeNewAccount())}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getEmptyStateModel())}}var pc=function(i){function r(n,t,o,s,l){var v=i.call(this)||this;return v.gitDatasourceService=n,v.gitSessionStorageService=t,v.localizationService=o,v.gitConnectionService=s,v.dialogService=l,v.workspaceId="",v.isPartOfCollapsible=!1,v.componentConfigMap=(0,Wn.EI)(),v.selectedDatasourceOID$=new F.X(void 0),v.doesWorkspaceNeedCapacity$=new F.X(!0),v.selectedDatasource$=new F.X(void 0),v.datasourceList$=new F.X(void 0),v}return(0,$.__extends)(r,i),r.prototype.ngOnInit=function(){var n=this;this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId).pipe((0,We.R)(this.onDestroy$),(0,je.b)(function(t){n.selectedDatasourceOID$.next(t.selectedTempDatasourceOID),n.doesWorkspaceNeedCapacity$.next(!t.isWorkspaceOnCapaity)}),(0,ve.U)(function(t){return t.selectedGitProviderType}),(0,mt.w)(function(t){return n.selectedGitProvider=t,(0,Ke.aj)([n.gitConnectionService.getGitConnection(n.workspaceId),n.gitDatasourceService.getDatasources({workspaceId:n.workspaceId,gitProviderType:t})])}),(0,Ee.h)(function(t){var s=t[1];return void 0!==s&&s.callState===ne.j3q.Completed}),(0,je.b)(function(t){var o,s,l,v,C,w,G=t[0],re=t[1],ge=re.datasourcesRecord?re.datasourcesRecord[n.selectedGitProvider]:void 0,q=ge;if(G?.gitConnectionDetails){var le=null===(s=null===(o=n.componentConfigMap[n.selectedGitProvider])||void 0===o?void 0:o.getFilteringValue)||void 0===s?void 0:s.call(o,G.gitConnectionDetails);void 0!==le&&(q=null!==(C=null===(v=(l=n.componentConfigMap[n.selectedGitProvider]).filterDatasources)||void 0===v?void 0:v.call(l,ge,le))&&void 0!==C?C:ge)}var $n=null===(w=G?.gitConnectionDetails)||void 0===w?void 0:w.datasourceOID;q&&$n&&(q=q?.filter(function(Ui){return Ui.id!==$n})),n.datasourceList$.next(q),n.updateSelectedDatasource(q)})).subscribe()},r.prototype.isDataSourceChecked=function(n){var t;return(null===(t=this.selectedDatasource$.value)||void 0===t?void 0:t.id)===n.id},r.prototype.selectedUserAccountChanged=function(n){this.selectedDatasource$.next(n),void 0!==this.selectedDatasource$.value&&this.gitSessionStorageService.selectTempDatasource(this.workspaceId,this.selectedDatasource$.value.id)},r.prototype.authorizeNewAccount=function(){var n=function(i){return{componentRef:ic.b,config:{panelClass:"dialog-style",width:"".concat(Te.PW.Medium,"px"),data:i}}}(this.workspaceId);this.dialogService.open(n.componentRef,n.config).afterClosed().pipe((0,ke.q)(1)).subscribe()},r.prototype.dataSourcesListLength=function(){var n,t;return null!==(t=null===(n=this.datasourceList$.value)||void 0===n?void 0:n.length)&&void 0!==t?t:0},r.prototype.getEmptyStateModel=function(){return function(i,r){return{emptyStateType:9,iconType:3,title:i.get("Trident_Git_Empty_State_No_Authorized_Users_Title"),message:i.get("Trident_Git_Empty_State_No_Authorized_Users_Message"),buttonText:i.get("Trident_Git_Authorize_New_User"),isButtonDiabled:r}}(this.localizationService,this.doesWorkspaceNeedCapacity$)},r.prototype.updateSelectedDatasource=function(n){var o,s,t=this;if(n){if(this.selectedDatasource$.next(n?.find(function(v){return v.id===t.selectedDatasourceOID$.value})),1===n.length&&this.selectedDatasourceOID$.value!==(null===(o=n[0])||void 0===o?void 0:o.id)){var l=null===(s=n[0])||void 0===s?void 0:s.id;this.gitSessionStorageService.selectTempDatasource(this.workspaceId,l),this.selectedDatasourceOID$.next(l),this.selectedDatasource$.next(n[0])}}else this.selectedDatasource$.next(void 0)},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Fn.Ae),e.\u0275\u0275directiveInject(ne.gCl),e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(Fn.rC),e.\u0275\u0275directiveInject(_a.j))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-datasources-list"]],inputs:{workspaceId:"workspaceId",isPartOfCollapsible:"isPartOfCollapsible"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:3,consts:[[1,"data-sources-list"],[4,"ngIf"],["emptyState",""],[4,"ngIf","ngIfElse"],["class","accounts",4,"ngIf"],[3,"disabled"],["data-testid","dataSource.datasourceName","tabindex","0",3,"value","checked","change",4,"ngFor","ngForOf"],[1,"authorize-new-user"],["tri-button","","appearance","subtle",3,"disabled","click"],[3,"name","sprite"],[1,"accounts"],["data-testid","dataSource.datasourceName","tabindex","0",3,"value","checked","change"],[1,"data-source-info"],[1,"data-source-display-name"],[1,"data-source-url"],["data-testid","datasources-list-empty-state",1,"empty-state-container",3,"viewModel","buttonClicked"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,cc,2,2,"div",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,lc,1,1,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,o.datasourceList$)))},dependencies:[g.NgForOf,g.NgIf,O.M,es.v,X.Y,z.Z,g.AsyncPipe,I.Y],styles:[".data-sources-list[_ngcontent-%COMP%]{padding-top:16px;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.accounts[_ngcontent-%COMP%]{font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300)}.data-source-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.title[_ngcontent-%COMP%], .git-provider[_ngcontent-%COMP%], .data-source-display-name[_ngcontent-%COMP%]{font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300);line-height:20px}.data-source-url[_ngcontent-%COMP%]{font-weight:var(--fontWeightMedium);font-size:var(--fontSizeBase200);line-height:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.authorize-new-user[_ngcontent-%COMP%]{border-top:1px solid var(--globalColorGrey82);padding-top:12px;margin-top:16px}"],changeDetection:0}),r}(cn.w),uc=function(r,n){return{"disabled-card":r,"card-selected":n}};function gc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"tri-card",7),e.\u0275\u0275listener("click",function(){var v=e.\u0275\u0275restoreView(n).$implicit,C=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(C.onGitProviderTypeChange(v.value.type))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275element(3,"tri-svg-icon",8),e.\u0275\u0275elementStart(4,"tri-card-header")(5,"div",9),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=r.$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(8,uc,!t.value.isEnabled,e.\u0275\u0275pipeBind1(2,6,o.selectedGitProvider$)===t.key)),e.\u0275\u0275attribute("title",o.getCardTooltip(t.value))("data-testid",t.value.name),e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.value.iconName)("sprite","git-icons"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.value.name," ")}}function _c(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",10)(1,"button",11),e.\u0275\u0275listener("click",function(){var s=e.\u0275\u0275restoreView(n).$implicit,l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onGitProviderTypeChange(s.value.type))}),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275attribute("data-testid","select-git-provider-sr-only"))}function mc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275template(5,gc,7,11,"div",5),e.\u0275\u0275pipe(6,"keyvalue"),e.\u0275\u0275template(7,_c,2,1,"div",6),e.\u0275\u0275pipe(8,"keyvalue"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"Trident_Git_Provider")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(6,5,n.gitProviderInfo)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(8,7,n.gitProviderInfo))}}function vc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",17)(1,"tri-collapsed-container",18),e.\u0275\u0275listener("collapseContainer",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onShowConnentionsChange(s))}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275element(3,"tri-git-datasources-list",19),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("headerText",e.\u0275\u0275pipeBind1(2,6,"Trident_Git_ShowMoreUsers"))("iconName","connected")("collapsed",!0),e.\u0275\u0275attribute("data-testid","datasource-list-switch-account-provider-accounts"),e.\u0275\u0275advance(2),e.\u0275\u0275property("workspaceId",t.workspaceId)("isPartOfCollapsible",!0)}}function hc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(s.SwitchAccount())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("disabled",!0===e.\u0275\u0275pipeBind1(1,3,t.isShowMoreUsersCollapsed$)||!1===e.\u0275\u0275pipeBind1(2,5,t.isDatasourceSelected())||!1===e.\u0275\u0275pipeBind1(3,7,t.isWorkspaceOnCapacity$)),e.\u0275\u0275attribute("data-testid","switch-account-Github-button"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,9,"Storytelling_Switch")," ")}}function fc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",25),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(o.LogOutFromDatasource())}),e.\u0275\u0275element(1,"tri-svg-icon",26),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275attribute("data-testid","logout-Github-button"),e.\u0275\u0275advance(1),e.\u0275\u0275property("name","log_out_16_regular")("sprite","git-icons"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Trident_Git_Log_Out")," "))}function Cc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",20)(1,"div"),e.\u0275\u0275template(2,hc,6,11,"button",21),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,fc,4,6,"button",22),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"tri-link",23),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,6,n.showSwitchAccountButton())),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(5,8,n.isConfiguredCredentials$)),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("href","groups/",n.workspaceId,"/gateways"),e.\u0275\u0275property("block",!0)("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,10,"Trident_Git_Manage_All_Users")," ")}}function Sc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"tri-git-connected-provider-details",14),e.\u0275\u0275template(2,vc,4,8,"div",15),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,Cc,9,12,"div",16),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("workspaceId",n.workspaceId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,3,n.showSwitchAccountButton())),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,5,n.showLogOutButton()))}}function yc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"tri-git-datasources-list",14),e.\u0275\u0275elementStart(2,"div",20)(3,"button",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(s.connectWorkspaceToDatasource())}),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"tri-link",23),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("workspaceId",t.workspaceId),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!1===e.\u0275\u0275pipeBind1(4,8,t.isDatasourceSelected())||!1===e.\u0275\u0275pipeBind1(5,10,t.isWorkspaceOnCapacity$)),e.\u0275\u0275attribute("data-testid","connect-Github-button"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,12,"UploadExcel_Connect")," "),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("href","groups/",t.workspaceId,"/gateways"),e.\u0275\u0275property("block",!0)("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,14,"Trident_Git_Manage_All_Users")," ")}}function bc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275template(1,yc,11,16,"span",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,n.datasourceList$))}}function wc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",29)(1,"div",31),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"tri-radio-group")(5,"tri-radio-button",32),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementStart(7,"div",33)(8,"span",34),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"span",35),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(13,"div",36)(14,"button",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.connectWorkspaceToUserAccount())}),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,8,"Trident_Git_Accounts")),e.\u0275\u0275advance(3),e.\u0275\u0275property("checked",!0)("disabled",!1===e.\u0275\u0275pipeBind1(6,10,t.isWorkspaceOnCapacity$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,12,"Trident_Git_AAD")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.userAccount),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.isUserAccountSelected()||!1===e.\u0275\u0275pipeBind1(15,14,t.isWorkspaceOnCapacity$)),e.\u0275\u0275attribute("data-testid","connect-ADO-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,16,"UploadExcel_Connect")," ")}}function kc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",27),e.\u0275\u0275template(1,bc,3,3,"div",28),e.\u0275\u0275template(2,wc,18,18,"div",28),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext().ngIf,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngSwitch",null==n?null:n.displayMode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.AccountsListDisplayMode.ShowGitHubDataSourcesList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.AccountsListDisplayMode.ShowADOAccountsList)}}function Ic(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Sc,6,7,"div",12),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,kc,3,3,"ng-template",null,13,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275reference(4),t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(2,2,t.isConfiguredCredentials$))("ngIfElse",n)}}var Mc=function(i){function r(n,t,o,s,l,v,C,w,G,re,ge){var q=i.call(this)||this;return q.gitNotificationService=n,q.gitErrorService=t,q.gitDatasourceService=o,q.gitSessionStorageService=s,q.gitConnectionService=l,q.gitConfigureCredentialsService=v,q.tridentDialogService=C,q.localizationService=w,q.dialogService=G,q.userInfoTridentService=re,q.featureSwitchService=ge,q.GitProviderType=me.IS,q.AccountsListDisplayMode=Wn.NJ,q.gitProviderInfo=new Map,q.workspaceId="",q.componentConfigMap=(0,Wn.EI)(),q.isConnected$=new F.X(void 0),q.selectedGitProvider$=new F.X(void 0),q.gitProviderConfig$=new F.X(void 0),q.isConfiguredCredentials$=new F.X(!1),q.isShowMoreUsersCollapsed$=new F.X(!0),q.isWorkspaceOnCapacity$=new F.X(!1),q.datasourceList$=new F.X(void 0),q.selectedDatasource$=new F.X(void 0),q.configureCredentialsInProgress$=new F.X(!1),q.userAccount="",q}return(0,$.__extends)(r,i),r.prototype.ngOnInit=function(){var n=this;this.userAccount=this.userInfoTridentService.name,this.selectedGitProvider$.pipe((0,We.R)(this.onDestroy$),(0,Ee.h)(function(t){return void 0!==t}),(0,Ee.h)(function(t){return!0===n.componentConfigMap[t].doesGitProviderNeedsDatasource}),(0,ke.q)(1)).subscribe(function(t){return n.updateDiscoveredDatasources(t)}),this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId).pipe((0,We.R)(this.onDestroy$),(0,je.b)(function(t){n.updateSelectedGitProviderInfo(t),n.updateSelectedDatasource(t),n.isConfiguredCredentials$.next(void 0!==n.selectedGitProvider$.value&&n.componentConfigMap[n.selectedGitProvider$.value].isWorkspaceConnectedToGitProvider(t)),n.isWorkspaceOnCapacity$.next(!!t.isWorkspaceOnCapaity)})).subscribe(),this.gitConnectionService.getGitConnection(this.workspaceId).pipe((0,We.R)(this.onDestroy$),(0,Kt.x)()).subscribe(function(t){t&&t.gitConnectionDetails?(n.isConnected$.next(!0),void 0!==n.selectedGitProvider$.value&&n.updateDiscoveredDatasources(n.selectedGitProvider$.value)):n.isConnected$.next(!1)}),this.populateGitProviderInfo()},r.prototype.onGitProviderTypeChange=function(n){this.gitSessionStorageService.selectGitProviderType(this.workspaceId,n)},r.prototype.SwitchAccount=function(){!1!==this.isConnected$.value&&this.sendConfigureCredentialsRequest()},r.prototype.connectWorkspaceToDatasource=function(){!1===this.isConnected$.value?(this.gitSessionStorageService.configureCredentials(this.workspaceId),this.updateSelectedFromTemp(!1)):this.sendConfigureCredentialsRequest()},r.prototype.onShowConnentionsChange=function(n){this.isShowMoreUsersCollapsed$.next(n)},r.prototype.connectWorkspaceToUserAccount=function(){this.userAccount&&(this.gitSessionStorageService.selectUserAccount(this.workspaceId,this.userAccount),this.gitSessionStorageService.configureCredentials(this.workspaceId))},r.prototype.isDatasourceSelected=function(){return this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId).pipe((0,ke.q)(1),(0,ve.U)(function(n){return void 0!==n.selectedTempDatasourceOID}))},r.prototype.isUserAccountSelected=function(){return void 0!==this.userAccount},r.prototype.LogOutFromDatasource=function(){var n=this;this.tridentDialogService.open(Ys.A,{panelClass:"dialog-style",width:Te.PW.Medium+"px",data:{workspaceId:this.workspaceId}}).afterClosed().pipe((0,ke.q)(1),(0,je.b)(function(){n.updateDiscoveredDatasources(n.selectedGitProvider$.value),n.isConfiguredCredentials$.next(!1),n.gitSessionStorageService.selectDatasource(n.workspaceId,void 0),n.isConnected$.value&&n.gitConnectionService.updateDatasourceInGitConnection(n.workspaceId,void 0)})).subscribe()},r.prototype.showLogOutButton=function(){return this.componentConfigMap[this.selectedGitProvider$.value].canTheUserLogOut(this.workspaceId,this.gitConnectionService)},r.prototype.getCardTooltip=function(n){return n.isEnabled?n.name:n.disabledTooltip},r.prototype.updateDiscoveredDatasources=function(n){var t=this;this.gitDatasourceService.discoverDatasources({workspaceId:this.workspaceId,gitProviderType:n}).pipe((0,Ee.h)(function(o){return void 0!==o&&o.callState===ne.j3q.Completed}),(0,je.b)(function(o){t.datasourceList$.next(o.datasourcesRecord?o.datasourcesRecord[n]:void 0)})).subscribe()},r.prototype.populateGitProviderInfo=function(){var n=this,t=(0,Wn.yp)(this.featureSwitchService),o=this.localizationService.get("Trident_Git_Git_Provider_Card_Disabled_Tooltip");Object.entries(me.Rv).forEach(function(s){var v=s[1],C=Number(s[0]);n.gitProviderInfo.set(C,(0,$.__assign)((0,$.__assign)({},v),{isEnabled:t.get(C)||!1,disabledTooltip:o}))})},r.prototype.showSwitchAccountButton=function(){return this.componentConfigMap[this.selectedGitProvider$.value].shouldShowSwitchAccount(this.workspaceId,this.gitConnectionService,this.gitSessionStorageService)},r.prototype.sendConfigureCredentialsRequest=function(){var n=this;this.configureCredentialsInProgress$.getValue()||(this.configureCredentialsInProgress$.next(!0),this.gitConfigureCredentialsService.configureCredentials(this.selectedGitProvider$.value,this.workspaceId,this.selectedDatasource$.value).pipe((0,je.b)(function(){n.gitNotificationService.showSuccessNotification("Trident_Git_Toast_Configure_Credentials_Success"),n.gitSessionStorageService.configureCredentials(n.workspaceId),n.updateSelectedFromTemp(),n.configureCredentialsInProgress$.next(!1)}),(0,ke.q)(1),(0,Et.K)(function(t){n.configureCredentialsInProgress$.next(!1);var o=n.gitErrorService.makeGitErrorFromHttpResponse("Git_Configure_Credentials_Failed",t);return n.gitNotificationService.showErrorNotification(o,"Trident_Git_Toast_Configure_Credentials_Fail"),[]})).subscribe())},r.prototype.updateSelectedFromTemp=function(n){var t,o,s;void 0===n&&(n=!0);var l=null===(t=this.selectedDatasource$)||void 0===t?void 0:t.value;this.gitSessionStorageService.selectDatasource(this.workspaceId,l?.id),null===(s=(o=this.componentConfigMap[this.selectedGitProvider$.value]).selectDatasourceSideEffect)||void 0===s||s.call(o,this.gitSessionStorageService,l?.url,this.workspaceId),n&&this.gitConnectionService.updateDatasourceInGitConnection(this.workspaceId,l?.id),this.gitSessionStorageService.selectTempDatasource(this.workspaceId,void 0)},r.prototype.updateSelectedDatasource=function(n){var t=this;this.datasourceList$.pipe((0,We.R)(this.onDestroy$)).subscribe(function(o){if(o){if(void 0!==n.selectedTempDatasourceOID)return void t.selectedDatasource$.next(o.find(function(s){return s.id===n.selectedTempDatasourceOID}));if(1===o.length)return void t.selectedDatasource$.next(o[0])}t.selectedDatasource$.next(void 0)})},r.prototype.updateSelectedGitProviderInfo=function(n){this.selectedGitProvider$.next(n?.selectedGitProviderType),this.gitProviderConfig$.next(void 0!==n?.selectedGitProviderType?this.componentConfigMap[n?.selectedGitProviderType]:void 0)},Object.defineProperty(r.prototype,"getComponentConfigMap",{get:function(){return this.componentConfigMap},enumerable:!1,configurable:!0}),r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Me.mn),e.\u0275\u0275directiveInject(we.jR),e.\u0275\u0275directiveInject(Fn.Ae),e.\u0275\u0275directiveInject(ne.gCl),e.\u0275\u0275directiveInject(Fn.rC),e.\u0275\u0275directiveInject(Fn.id),e.\u0275\u0275directiveInject(Te.uQ),e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(_a.j),e.\u0275\u0275directiveInject(ga.NQ),e.\u0275\u0275directiveInject(ut.V$))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-provider-accounts"]],inputs:{workspaceId:"workspaceId"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:8,consts:[["class","git-provider-selection",4,"ngIf"],[4,"ngIf"],[1,"git-provider-selection"],[1,"git-provider"],[1,"git-providers"],[4,"ngFor","ngForOf"],["class","sr-only",4,"ngFor","ngForOf"],["orientation","horizontal",1,"git-provider-card",3,"ngClass","click"],[3,"name","sprite"],["tri-card-title","","triCardTitle",""],[1,"sr-only"],["tri-button","",3,"click"],[4,"ngIf","ngIfElse"],["workspaceNotConnectedToGitProvider",""],[3,"workspaceId"],["class","divider",4,"ngIf"],["class","github-footer",4,"ngIf"],[1,"divider"],[1,"switch-container",3,"headerText","iconName","collapsed","collapseContainer"],[3,"workspaceId","isPartOfCollapsible"],[1,"github-footer"],["tri-button","","class","switch-account-button","appearance","primary",3,"disabled","click",4,"ngIf"],["tri-button","","class","logout-button",3,"click",4,"ngIf"],["data-testid","manage-all-users-link",3,"block","href","external"],["tri-button","","appearance","primary",1,"switch-account-button",3,"disabled","click"],["tri-button","",1,"logout-button",3,"click"],["tri-svg-icon-16","",3,"name","sprite"],[3,"ngSwitch"],["class","git-provider-accounts",4,"ngSwitchCase"],[1,"git-provider-accounts"],["tri-button","","appearance","primary",1,"connect-button",3,"disabled","click"],[1,"accounts"],["data-testid","userAccount",3,"checked","disabled"],[1,"data-source-info"],[1,"data-source-display-name"],[1,"data-source-url"],[1,"footer"]],template:function(t,o){1&t&&(e.\u0275\u0275template(0,mc,9,9,"div",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Ic,5,4,"div",1),e.\u0275\u0275pipe(4,"async")),2&t&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,2,o.isConfiguredCredentials$)&&!0!==e.\u0275\u0275pipeBind1(2,4,o.isConnected$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,6,o.gitProviderConfig$)))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,g.NgSwitch,g.NgSwitchCase,he.v,O.M,ma.LB,ma.Pw,ma.Ab,Y,X.Y,z.Z,tc,pc,g.AsyncPipe,g.KeyValuePipe,I.Y],styles:[".git-provider-selection[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding-top:16px}.git-provider-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:128px;height:128px}.accounts[_ngcontent-%COMP%]{font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300);padding-top:16px}.logout-button[_ngcontent-%COMP%]{margin:0 8px}.switch-container[_ngcontent-%COMP%]     .collapsible-picker-box{border:none;padding:0}.git-provider[_ngcontent-%COMP%]{font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300);line-height:20px}.git-provider-accounts[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.data-source-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.data-source-url[_ngcontent-%COMP%]{font-weight:var(--fontWeightMedium);font-size:var(--fontSizeBase200);line-height:16px}.git-providers[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px}.footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:16px}.divider[_ngcontent-%COMP%]{margin:24px 0;border-top:1px solid var(--globalColorGrey82);padding-top:24px}.github-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:16px;margin-top:16px;border-top:1px solid var(--globalColorGrey82)}.sr-only[_ngcontent-%COMP%]{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}.disabled-card[_ngcontent-%COMP%]{background:var(--globalColorGrey94);color:var(--globalColorGrey74);fill:var(--globalColorGrey74);box-shadow:None;cursor:not-allowed}.card-selected[_ngcontent-%COMP%]{background-color:var(--globalColorGrey92);border:1px solid var(--globalColorGrey82)}.disabled-card[_ngcontent-%COMP%]:active{pointer-events:none}"],changeDetection:0}),r}(cn.w);function Pc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",24),e.\u0275\u0275element(1,"tri-svg-icon",25),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,n.createBranchFailedMessage$)," ")}}function Tc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",26),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onBranchesSearch(o))}),e.\u0275\u0275elementEnd()}}function Oc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",27)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function Ec(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",28),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Creating_ButtonText")," "))}function Dc(i,r){1&i&&(e.\u0275\u0275text(0),e.\u0275\u0275pipe(1,"localize")),2&i&&e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(1,1,"Create_ButtonText")," ")}var Bc=function(r){return{showFullContent:!1,dropdownHeight:r,dropdownWidth:304}},Ac=function(){function i(r,n,t){var o=this;this.telemetryService=n,this.dialog=t,this.branchesListFromInput=[],this.filteredBranchesList=[],this.firstBranch="",this.createButtonEnabled=!1,this.selectedBranchName="",this.selectedParentBranchName=null,this.loadingRequest$=new F.X(!1),this.createBranchFailedMessage$=new F.X(null),this.isWorkspaceConnected=void 0,this.destroy$=new ct.xQ,this.firstBranch=r.defaultRepoBranch,this.selectedParentBranchName={name:this.firstBranch},this.branchesListFromInput=r.branchesList,this.filteredBranchesList=r.branchesList,this.isWorkspaceConnected=r.isWorkspaceConnected,this.createNewBranchChange=r.createNewBranchChange,r.newBranchState$.pipe((0,Ee.h)(function(s){return!!s}),(0,We.R)(this.destroy$)).subscribe(function(s){if(o.loadingRequest$.next(!1),(0,me.pb)(s)){var l=(0,me.lz)(s);o.createBranchFailedMessage$.next(l.message)}else o.telemetryService.logEvent({name:"Create branch request",properties:{isWorkspaceConnected:o.isWorkspaceConnected}}),o.dialog.close()})}return i.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},i.prototype.onBranchNameChange=function(r){this.selectedBranchName=r,this.toggleCreateBranchButton()},i.prototype.onParentBranchNameChange=function(r){this.selectedParentBranchName={name:r.text},this.toggleCreateBranchButton()},i.prototype.onCreateButtonClick=function(){this.createBranchFailedMessage$.next(null),this.loadingRequest$.next(!0);var r={name:this.selectedBranchName,parentBranch:this.selectedParentBranchName};this.telemetryService.logEvent({name:"Create branch request",properties:{isWorkspaceConnected:this.isWorkspaceConnected}}),this.createNewBranchChange.emit(r)},i.prototype.onCancelButtonClick=function(){this.dialog.close()},i.prototype.onDismissButtonClick=function(){this.dialog.close()},i.prototype.calcDropdownHeight=function(r){return r>1?104:76},i.prototype.toggleCreateBranchButton=function(){this.createButtonEnabled=!!this.selectedBranchName&&!!this.selectedParentBranchName&&!!this.selectedParentBranchName.name},i.prototype.onBranchesSearch=function(r){this.filteredBranchesList=this.branchesListFromInput.filter(function(n){return n.text.toLowerCase().includes(r.toLowerCase())})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(R.WI),e.\u0275\u0275directiveInject(Pt.t),e.\u0275\u0275directiveInject(R.so))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-git-connection-create-branch"]],decls:51,vars:56,consts:[[1,"dialog-header"],[1,"dialog-title"],[1,"dismiss-button",3,"click"],["name","dismiss_16_regular"],[1,"dialog-content"],[1,"info"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2235132","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon"],[1,"accordion-area"],[1,"branch-name-input"],[1,"star"],[3,"ngModel","placeholder","ngModelChange"],["class","tri-flex error-message-container",4,"ngIf"],[1,"parent-branch-selection"],[1,"header-branch-selection"],["id","select-origin-branch-dropdown-label"],["tabindex","0",3,"name","triTooltip","triTooltipMaxWidth"],["aria-labelledby","select-origin-branch-dropdown-label",3,"ngModel","isDisabled","options","valueChange"],["class","dropdown-search",3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"dialog-footer"],["tri-button","","appearance","primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["activeCreate",""],["tri-button","","appearance","tri-middle",3,"click"],[1,"tri-flex","error-message-container"],["name","error_circle_12_filled",1,"error-message-icon"],[1,"dropdown-search",3,"value"],[3,"value"],["size","tiny","labelPosition","after"]],template:function(n,t){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return t.onDismissButtonClick()}),e.\u0275\u0275element(5,"tri-svg-icon",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",4)(7,"div",5),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementStart(10,"tri-link",6),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"div",7)(14,"div",8)(15,"h4"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementStart(18,"span",9),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"input",10),e.\u0275\u0275listener("ngModelChange",function(C){return t.onBranchNameChange(C)}),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(23,Pc,4,3,"div",11),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",12)(26,"div",13)(27,"h4",14),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementStart(30,"span",9),e.\u0275\u0275text(31),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(32,"tri-svg-icon",15),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275pipe(34,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"tri-dropdown",16),e.\u0275\u0275listener("valueChange",function(C){return t.onParentBranchNameChange(C)}),e.\u0275\u0275elementStart(36,"tri-dropdown-trigger"),e.\u0275\u0275text(37),e.\u0275\u0275pipe(38,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(39,Tc,1,0,"tri-search-box",17),e.\u0275\u0275template(40,Oc,3,2,"tri-dropdown-item",18),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(41,"div",19)(42,"button",20),e.\u0275\u0275listener("click",function(){return t.onCreateButtonClick()}),e.\u0275\u0275pipe(43,"async"),e.\u0275\u0275template(44,Ec,4,3,"ng-container",21),e.\u0275\u0275pipe(45,"async"),e.\u0275\u0275template(46,Dc,2,3,"ng-template",null,22,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"button",23),e.\u0275\u0275listener("click",function(){return t.onCancelButtonClick()}),e.\u0275\u0275text(49),e.\u0275\u0275pipe(50,"localize"),e.\u0275\u0275elementEnd()()),2&n){var s,l,o=e.\u0275\u0275reference(47);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,26,"Trident_Git_Create_New_Branch")," "),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,28,"Trident_Git_Create_New_Branch_Info")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,30,"LearnMore")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(17,32,"Trident_Git_Branch_Name")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate("*"),e.\u0275\u0275advance(1),e.\u0275\u0275classMap(null!==e.\u0275\u0275pipeBind1(21,34,t.createBranchFailedMessage$)?"input-error":""),e.\u0275\u0275property("ngModel",t.selectedBranchName)("placeholder",e.\u0275\u0275pipeBind1(22,36,"Trident_Git_Branch_Name")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",null!==e.\u0275\u0275pipeBind1(24,38,t.createBranchFailedMessage$)),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(29,40,"Trident_Git_Create_New_Branch_Create_From")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate("*"),e.\u0275\u0275advance(1),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(33,42,"Trident_Git_Create_New_Branch_Tooltip"))("triTooltipMaxWidth",240),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(34,44,"Trident_Git_Create_New_Branch_Tooltip")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",t.selectedParentBranchName)("isDisabled",0===t.branchesListFromInput.length)("options",e.\u0275\u0275pureFunction1(54,Bc,t.calcDropdownHeight(t.filteredBranchesList.length))),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(s=null==t.selectedParentBranchName?null:t.selectedParentBranchName.name)&&void 0!==s?s:e.\u0275\u0275pipeBind1(38,46,"Trident_Git_Create_New_Branch_Choose_Parent_Branch")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(l=null==t.branchesListFromInput?null:t.branchesListFromInput.length)&&void 0!==l?l:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.filteredBranchesList),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.createButtonEnabled||e.\u0275\u0275pipeBind1(43,48,t.loadingRequest$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(45,50,t.loadingRequest$))("ngIfElse",o),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(50,52,"Cancel_ButtonText")," ")}},dependencies:[g.NgForOf,g.NgIf,p.Fj,p.JJ,p.On,xt.M3,Gt.l,wt.q,xt.ii,he.v,hn.U,He.D,O.M,Xe.Z,g.AsyncPipe,I.Y],styles:[".cdk-overlay-pane.pbi-dialog{border-radius:8px}tri-git-connection-create-branch[_nghost-%COMP%]{display:flex;flex-direction:column;width:352px;font-size:14px}.dialog-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-weight:600;font-size:20px}.dialog-header[_ngcontent-%COMP%]   .dismiss-button[_ngcontent-%COMP%]{padding:0;background-color:var(--globalColorWhite);border:none}.dialog-header[_ngcontent-%COMP%]   .dismiss-button[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38);height:20px;width:20px}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dialog-content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:16px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:304px;padding:24px;border:1px solid var(--globalColorGrey82);border-radius:8px;gap:24px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:0 0 4px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:30px;width:278px;border:1px solid var(--globalColorGrey82);border-radius:4px;padding:0 12px;border-bottom:1px solid var(--globalColorGrey38)}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid var(--globalColorBrand80)}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .branch-name-input[_ngcontent-%COMP%]   .input-error[_ngcontent-%COMP%]{border-color:var(--colorPaletteRedForeground1)}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{color:var(--globalColorRedShade10);font-weight:400;margin-left:2px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]{margin-bottom:12px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-branch-selection[_ngcontent-%COMP%]{display:flex;flex-direction:row}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-branch-selection[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   .header-branch-selection[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38);height:16px;width:16px;margin-bottom:6px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]{width:304px;border-radius:4px}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     button{padding:6px 8px 6px 12px;border-radius:var(--button-base-corner-radius);border-bottom:1px solid var(--globalColorGrey38)}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     .tri-dropdown-trigger-container{margin-left:0;padding-left:0}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     .dropdown-icon{fill:var(--globalColorGrey38)}.dialog-content[_ngcontent-%COMP%]   .accordion-area[_ngcontent-%COMP%]   .parent-branch-selection[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     tri-dropdown-trigger{color:var(--globalColorGrey44)}.dialog-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;gap:8px;margin-top:16px}.dialog-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:96px}.dropdown-search[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),i}(),ts={workspaceId:"workspaceId",selectedGitProviderType:me.IS.GitHub,selectedOrganization:{name:"repoOwner2",setByDatasource:!0},selectedRepository:{name:"repoName2",setByDatasource:!0},selectedDatasourceOID:"dataSourceOID2"},Fc=(0,$.__assign)((0,$.__assign)({},ts),{selectedBranch:"branchName2"});function Uc(i){return{dropdownHeight:30*Math.max(Math.min(i,12),1)+34}}(0,$.__assign)((0,$.__assign)({},ts),{selectedBranch:"branchToSwitchTo"}),(0,$.__assign)((0,$.__assign)({},Fc),{selectedDirectory:"dirName2"});var Vc=m(41756);function jc(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",6),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("name",n.icon)}}function Kc(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",7),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275propertyInterpolate("name",n.icon),e.\u0275\u0275propertyInterpolate("sprite",n.sprite)}}var is=function(i){function r(n){var t=i.call(this)||this;return t.triDropdownService=n,t.text=null,t.icon=null,t.sprite=null,t.actionClicked=new e.EventEmitter,t.triDropdownService.actionItems+=1,t}return(0,$.__extends)(r,i),r.prototype.actionEmit=function(){this.triDropdownService.toggleOpenState(),this.actionClicked.emit()},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Vc._))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-dropdown-action"]],inputs:{text:"text",icon:"icon",sprite:"sprite"},outputs:{actionClicked:"actionClicked"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:3,consts:[[1,"action"],["tri-button","",3,"click"],[3,"ngSwitch"],["class","icon",3,"name",4,"ngSwitchCase"],["class","icon",3,"name","sprite",4,"ngSwitchDefault"],[1,"text"],[1,"icon",3,"name"],[1,"icon",3,"name","sprite"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"button",1),e.\u0275\u0275listener("click",function(){return o.actionEmit()}),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275template(3,jc,1,1,"tri-svg-icon",3),e.\u0275\u0275template(4,Kc,1,2,"tri-svg-icon",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitch",o.sprite),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",null),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",o.text," "))},dependencies:[g.NgSwitch,g.NgSwitchCase,g.NgSwitchDefault,O.M],styles:[".action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;border:none;width:100%}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:var(--global-font-size-300);margin-left:9px;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0}),r}(cn.w);function Hc(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",5),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.getNoBranchesInRepoMessagBarViewModel())}}function Xc(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"tri-spinner",6),e.\u0275\u0275elementEnd())}function Yc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",18),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.onBranchesSearch(o))}),e.\u0275\u0275elementEnd()}}function Qc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",19)(1,"tri-dropdown-action",20),e.\u0275\u0275listener("actionClicked",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.onCreateBranchButtonClick())}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"hr"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("text",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_New_Branch")))}function Zc(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",21)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function Jc(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",22)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Branches_Dropdown")))}function qc(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"h4",10),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"span",11),e.\u0275\u0275text(5," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"tri-svg-icon",12),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"tri-dropdown",13),e.\u0275\u0275listener("ngModelChange",function(v){e.\u0275\u0275restoreView(n);var C=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(C.selectedBranch=v)})("valueChange",function(v){e.\u0275\u0275restoreView(n);var C=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(C.onBranchChange(v))}),e.\u0275\u0275elementStart(9,"tri-dropdown-trigger"),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,Yc,1,0,"tri-search-box",14),e.\u0275\u0275template(13,Qc,4,3,"span",15),e.\u0275\u0275template(14,Zc,3,3,"tri-dropdown-item",16),e.\u0275\u0275template(15,Jc,4,4,"tri-dropdown-item",17),e.\u0275\u0275elementEnd()()}if(2&i){var o,s,t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,15,"Trident_Git_Branch")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(7,17,"Trident_Git_Branch_Tooltip"))("triTooltipMaxWidth",240),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.selectedBranch)("disabled",!t.selectedRepository||!t.branchesList||null!==t.branchesError)("isLoading",!!t.selectedRepository&&!t.branchesList)("options",t.getDropdownOverlayOptions((null==t.filteredBranchesList?null:t.filteredBranchesList.length)||0,5,2)),e.\u0275\u0275attribute("data-testid","switch-branch-dropdown")("data-isLoading",t.selectedRepository&&!t.branchesList?"true":"false"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(o=null==t.selectedBranch?null:t.selectedBranch.name)&&void 0!==o?o:e.\u0275\u0275pipeBind1(11,19,"Trident_Git_Branch")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(s=null==t.branchesList?null:t.branchesList.length)&&void 0!==s?s:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==(null==t.branchesList?null:t.branchesList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.filteredBranchesList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.branchesList?null:t.branchesList.length))}}function el(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"h4"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(3)),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,2,"Trident_Git_Branch")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null==n.selectedBranch?null:n.selectedBranch.name," ")}}function tl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",7),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"h4"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",7),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"h4"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",7),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"h4"),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",7),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,qc,16,21,"div",8),e.\u0275\u0275template(22,el,4,4,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275reference(23),t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,18,"Organization")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",null==t.selectedOrganization?null:t.selectedOrganization.name),e.\u0275\u0275attribute("data-testid",null==t.selectedOrganization?null:t.selectedOrganization.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==t.selectedOrganization?null:t.selectedOrganization.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,20,"Trident_Git_Project")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",null==t.selectedProject?null:t.selectedProject.name),e.\u0275\u0275attribute("data-testid",null==t.selectedProject?null:t.selectedProject.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==t.selectedProject?null:t.selectedProject.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,22,"Trident_Git_Repository")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",null==t.selectedRepository?null:t.selectedRepository.name),e.\u0275\u0275attribute("data-testid",null==t.selectedRepository?null:t.selectedRepository.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==t.selectedRepository?null:t.selectedRepository.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,24,"Trident_Git_Folder")),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",t.selectedFolderName),e.\u0275\u0275attribute("data-testid",t.selectedFolderName),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.selectedFolderName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isSwitchBranchEnabled)("ngIfElse",n)}}function nl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",38),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.onOrganizationsSearch(o))}),e.\u0275\u0275elementEnd()}}function il(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",21)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function rl(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",22)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Organizations_Dropdown")))}function ol(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275element(1,"tri-svg-icon",40),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.organizationsError.message," ")}}function al(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",38),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.onProjectsSearch(o))}),e.\u0275\u0275elementEnd()}}function sl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",21)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function cl(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",22)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Projects_Dropdown")))}function ll(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275element(1,"tri-svg-icon",40),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.projectsError.message," ")}}function dl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",38),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.onReposSearch(o))}),e.\u0275\u0275elementEnd()}}function pl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",21)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function ul(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",22)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Repositories_Dropdown")))}function gl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275element(1,"tri-svg-icon",40),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.repositoriesError.message," ")}}function _l(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",18),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.onBranchesSearch(o))}),e.\u0275\u0275elementEnd()}}function ml(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",19)(1,"tri-dropdown-action",20),e.\u0275\u0275listener("actionClicked",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.onCreateBranchButtonClick())}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"hr"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("text",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_New_Branch")))}function vl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",21)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function hl(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",22)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Branches_Dropdown")))}function fl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275element(1,"tri-svg-icon",40),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.branchesError.message," ")}}var Cl=function(r){return{"connection-loading":r}};function Sl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",23)(1,"h4",24),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"span",11),e.\u0275\u0275text(5," *"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"tri-dropdown",25),e.\u0275\u0275listener("ngModelChange",function(q){e.\u0275\u0275restoreView(n);var le=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(le.selectedOrganization=q)})("valueChange",function(q){e.\u0275\u0275restoreView(n);var le=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(le.onOrganizationChange(q))}),e.\u0275\u0275elementStart(7,"tri-dropdown-trigger"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,nl,1,0,"tri-search-box",26),e.\u0275\u0275template(11,il,3,3,"tri-dropdown-item",16),e.\u0275\u0275template(12,rl,4,4,"tri-dropdown-item",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,ol,3,1,"div",27),e.\u0275\u0275elementStart(14,"h4",28),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementStart(17,"span",11),e.\u0275\u0275text(18," *"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"tri-dropdown",29),e.\u0275\u0275listener("ngModelChange",function(q){e.\u0275\u0275restoreView(n);var le=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(le.selectedProject=q)})("valueChange",function(q){e.\u0275\u0275restoreView(n);var le=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(le.onProjectChange(q))}),e.\u0275\u0275elementStart(20,"tri-dropdown-trigger"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(23,al,1,0,"tri-search-box",26),e.\u0275\u0275template(24,sl,3,3,"tri-dropdown-item",16),e.\u0275\u0275template(25,cl,4,4,"tri-dropdown-item",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(26,ll,3,1,"div",27),e.\u0275\u0275elementStart(27,"h4",30),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementStart(30,"span",11),e.\u0275\u0275text(31," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(32,"tri-svg-icon",12),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"tri-dropdown",31),e.\u0275\u0275listener("ngModelChange",function(q){e.\u0275\u0275restoreView(n);var le=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(le.selectedRepository=q)})("valueChange",function(q){e.\u0275\u0275restoreView(n);var le=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(le.onRepositoryChange(q))}),e.\u0275\u0275elementStart(35,"tri-dropdown-trigger"),e.\u0275\u0275text(36),e.\u0275\u0275pipe(37,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(38,dl,1,0,"tri-search-box",26),e.\u0275\u0275elementStart(39,"div",32),e.\u0275\u0275template(40,pl,3,3,"tri-dropdown-item",16),e.\u0275\u0275template(41,ul,4,4,"tri-dropdown-item",17),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(42,gl,3,1,"div",27),e.\u0275\u0275elementStart(43,"h4",33),e.\u0275\u0275text(44),e.\u0275\u0275pipe(45,"localize"),e.\u0275\u0275elementStart(46,"span",11),e.\u0275\u0275text(47," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(48,"tri-svg-icon",12),e.\u0275\u0275pipe(49,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"tri-dropdown",34),e.\u0275\u0275listener("ngModelChange",function(q){e.\u0275\u0275restoreView(n);var le=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(le.selectedBranch=q)})("valueChange",function(q){e.\u0275\u0275restoreView(n);var le=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(le.onBranchChange(q))}),e.\u0275\u0275elementStart(51,"tri-dropdown-trigger"),e.\u0275\u0275text(52),e.\u0275\u0275pipe(53,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(54,_l,1,0,"tri-search-box",14),e.\u0275\u0275template(55,ml,4,3,"span",15),e.\u0275\u0275elementStart(56,"div",32),e.\u0275\u0275template(57,vl,3,3,"tri-dropdown-item",16),e.\u0275\u0275template(58,hl,4,4,"tri-dropdown-item",17),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(59,fl,3,1,"div",27),e.\u0275\u0275elementStart(60,"h4",35),e.\u0275\u0275text(61),e.\u0275\u0275pipe(62,"localize"),e.\u0275\u0275element(63,"tri-svg-icon",12),e.\u0275\u0275pipe(64,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(65,"div",36)(66,"input",37),e.\u0275\u0275listener("ngModelChange",function(q){e.\u0275\u0275restoreView(n);var le=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(le.onFolderNameChange(q))}),e.\u0275\u0275pipe(67,"async"),e.\u0275\u0275pipe(68,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var o,s,l,v,C,w,G,re,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(91,Cl,t.connectionRequestInProgress)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,63,"Organization")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",t.selectedOrganization)("options",t.getDropdownOverlayOptions((null==t.filteredOrganizationsList?null:t.filteredOrganizationsList.length)||0,5,1))("disabled",!t.organizationsList||null!==t.organizationsError)("isLoading",!t.organizationsList),e.\u0275\u0275attribute("data-testid","organization-dropdown")("data-isLoading",t.organizationsList?"false":"true"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(o=null==t.selectedOrganization?null:t.selectedOrganization.name)&&void 0!==o?o:e.\u0275\u0275pipeBind1(9,65,"Organization")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(s=null==t.organizationsList?null:t.organizationsList.length)&&void 0!==s?s:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.filteredOrganizationsList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.organizationsList?null:t.organizationsList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!==t.organizationsError&&null!==t.organizationsError.message),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(16,67,"Trident_Git_Project")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",t.selectedProject)("disabled",!t.selectedOrganization||!t.projectsList||null!==t.projectsError)("isLoading",!!t.selectedOrganization&&!t.projectsList)("options",t.getDropdownOverlayOptions((null==t.filteredProjectsList?null:t.filteredProjectsList.length)||0,5,1)),e.\u0275\u0275attribute("data-testid","project-dropdown")("data-isLoading",t.selectedOrganization&&!t.projectsList?"true":"false"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(l=null==t.selectedProject?null:t.selectedProject.name)&&void 0!==l?l:e.\u0275\u0275pipeBind1(22,69,"Trident_Git_Project")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(v=null==t.projectsList?null:t.projectsList.length)&&void 0!==v?v:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.filteredProjectsList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.projectsList?null:t.projectsList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!==t.projectsError&&null!==t.projectsError.message),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(29,71,"Trident_Git_Repository")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(33,73,"Trident_Git_Repository_Tooltip"))("triTooltipMaxWidth",240),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.selectedRepository)("disabled",!t.selectedProject||!t.repositoriesList||null!==t.repositoriesError)("isLoading",!!t.selectedProject&&!t.repositoriesList)("options",t.getDropdownOverlayOptions((null==t.filteredRepositoriesList?null:t.filteredRepositoriesList.length)||0,5,1)),e.\u0275\u0275attribute("data-testid","repository-dropdown")("data-isLoading",t.selectedProject&&!t.repositoriesList?"true":"false"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(C=null==t.selectedRepository?null:t.selectedRepository.name)&&void 0!==C?C:e.\u0275\u0275pipeBind1(37,75,"Trident_Git_Repository")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(w=null==t.repositoriesList?null:t.repositoriesList.length)&&void 0!==w?w:0)>0),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.filteredRepositoriesList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.repositoriesList?null:t.repositoriesList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!==t.repositoriesError&&null!==t.repositoriesError.message),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(45,77,"Trident_Git_Branch")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(49,79,"Trident_Git_Branch_Tooltip"))("triTooltipMaxWidth",240),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.selectedBranch)("disabled",!t.selectedRepository||!t.branchesList||null!==t.branchesError)("isLoading",!!t.selectedRepository&&!t.branchesList)("options",t.getDropdownOverlayOptions((null==t.filteredBranchesList?null:t.filteredBranchesList.length)||0,5,2)),e.\u0275\u0275attribute("data-testid","branch-dropdown")("data-isLoading",t.selectedRepository&&!t.branchesList?"true":"false"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",null!==(G=null==t.selectedBranch?null:t.selectedBranch.name)&&void 0!==G?G:e.\u0275\u0275pipeBind1(53,81,"Trident_Git_Branch")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(re=null==t.branchesList?null:t.branchesList.length)&&void 0!==re?re:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==(null==t.filteredBranchesList?null:t.filteredBranchesList.length)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.filteredBranchesList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.branchesList?null:t.branchesList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!==t.branchesError&&null!==t.branchesError.message),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(62,83,"Trident_Git_Folder")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(64,85,"Trident_Git_Folder_Tooltip"))("triTooltipMaxWidth",240),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(67,87,t.folderInputDisabled$))("ngModel",t.selectedFolderName)("placeholder",e.\u0275\u0275pipeBind1(68,89,"Trident_Git_Select_Folder"))}}function yl(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",41),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"Trident_Git_Connect_Permission")))}function bl(i,r){1&i&&(e.\u0275\u0275elementStart(0,"button",48),e.\u0275\u0275element(1,"tri-spinner",49),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Trident_Git_Switch_Branch_Button_In_Progress")," "))}function wl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",50),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.onSwitchBranchButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(1,3,t.switchButtonDisabled$)),e.\u0275\u0275attribute("data-testid","switch-branch-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,5,"Trident_Git_Switch_Branch_Button_Text")," ")}}function kl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",42),e.\u0275\u0275template(1,bl,4,3,"button",45),e.\u0275\u0275template(2,wl,4,7,"ng-template",null,46,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(4,"button",47),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onCancelSwitchButtonClick())}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275reference(3),o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.switchBranchRequestInProgress)("ngIfElse",t),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(5,5,o.cancelSwitchButtonDisabled$)),e.\u0275\u0275attribute("data-testid","cancel-switch-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,7,"Cancel_ButtonText")," ")}}function Il(i,r){1&i&&(e.\u0275\u0275elementStart(0,"button",48),e.\u0275\u0275element(1,"tri-spinner",49),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"UploadExcel_OneDriveProConnecting")," "))}function xl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",50),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.onConnectButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",47),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.onCancelButtonClick())}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(1,6,t.connectButtonDisabled$)),e.\u0275\u0275attribute("data-testid","connect-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,8,"Trident_Git_Connect_And_Sync")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(5,10,t.cancelButtonDisabled$)),e.\u0275\u0275attribute("data-testid","cancel-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,12,"Cancel_ButtonText")," ")}}function Ml(i,r){if(1&i&&(e.\u0275\u0275template(0,Il,4,3,"button",45),e.\u0275\u0275template(1,xl,8,14,"ng-template",null,51,e.\u0275\u0275templateRefExtractor)),2&i){var n=e.\u0275\u0275reference(2),t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngIf",t.connectionRequestInProgress||t.switchBranchRequestInProgress)("ngIfElse",n)}}function Pl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",42),e.\u0275\u0275template(1,kl,8,9,"div",43),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Ml,3,2,"ng-template",null,44,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275reference(4),t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,2,t.showSwitchButton$))("ngIfElse",n)}}var yn=function(i){return i[i.Loading=0]="Loading",i[i.Connected=1]="Connected",i[i.NotConnected=2]="NotConnected",i[i.NotConnectedAdmin=3]="NotConnectedAdmin",i}({}),Tl=function(i){function r(n,t,o,s){var l=i.call(this)||this;return l.telemetryService=n,l.localizationService=t,l.dialogService=o,l.featureSwitchService=s,l.isOnCapacity=!1,l.connectionRequestInProgress=!1,l.switchBranchRequestInProgress=null,l.workspaceMemberRole=null,l.organizationsList=null,l.organizationsError=null,l.selectedOrganization=null,l.organizationChange=new e.EventEmitter,l.projectsList=null,l.projectsError=null,l.selectedProject=null,l.projectChange=new e.EventEmitter,l.repositoriesList=null,l.repositoriesError=null,l.selectedRepository=null,l.repositoryChange=new e.EventEmitter,l.branchesList=null,l.branchesError=null,l.selectedBranch=null,l.branchChange=new e.EventEmitter,l.selectedFolderName=null,l.folderNameChange=new e.EventEmitter,l.newBranchState=null,l.createNewBranchChange=new e.EventEmitter,l.connectButtonClick=new e.EventEmitter,l.switchBranchButtonClick=new e.EventEmitter,l.cancelButtonClick=new e.EventEmitter,l.cancelSwitchButtonClick=new e.EventEmitter,l.workspaceAdminPermissions$=(0,Pe.of)(!1),l.showSwitchButton$=(0,Pe.of)(!1),l.FolderMememberRole=sn.R7,l.DisplayMode=yn,l.displayMode$=(0,Pe.of)(yn.Loading),l.folderInputDisabled$=new F.X(!0),l.isDifferentBranchSelected$=new F.X(!1),l.connectButtonDisabled$=new F.X(!0),l.cancelButtonDisabled$=new F.X(!0),l.switchButtonDisabled$=new F.X(!0),l.cancelSwitchButtonDisabled$=new F.X(!0),l.branchStateNotification$=new F.X(null),l.isSwitchBranchEnabled=!1,l.connectedBranch=null,l.organizationSearchInput="",l.filteredOrganizationsList=null,l.projectSearchInput="",l.filteredProjectsList=null,l.branchSearchInput="",l.filteredBranchesList=null,l.repoSearchInput="",l.filteredRepositoriesList=null,l}return(0,$.__extends)(r,i),Object.defineProperty(r.prototype,"isConnected",{get:function(){return!!this._isConnected},set:function(t){this._isConnected=t},enumerable:!1,configurable:!0}),r.prototype.ngOnInit=function(){var n=this;this.changes$("isConnected").pipe((0,Ee.h)(function(t){return!t}),(0,We.R)(this.onDestroy$)).subscribe(function(){n.setOnDisconnectTriggers()}),this.changes$("newBranchState").pipe((0,Ee.h)(function(t){return!!t}),(0,We.R)(this.onDestroy$)).subscribe(function(t){n.branchStateNotification$.next(t),(0,me.pb)(t)||(n.setConnectButtonAndFolderSelection(!1),n.isSwitchBranchEnabled&&n.setSwitchBranchButtonsState(!1))}),this.changes$("switchBranchRequestInProgress").pipe((0,We.R)(this.onDestroy$)).subscribe(function(t){null!==t&&n.cancelSwitchButtonDisabled$.next(t)}),this.displayMode$=(0,Ke.aj)([this.changes$("isConnected"),this.changes$("workspaceMemberRole")]).pipe((0,je.b)(function(t){n.isSwitchBranchEnabled=(0,sn.GJ)(t[1])&&n.isOnCapacity&&!!n.featureSwitchService.featureSwitches.tridentGitSwitchBranch}),(0,ve.U)(function(t){return n.determineDisplayMode(t[0],t[1])})),this.workspaceAdminPermissions$=this.changes$("workspaceMemberRole").pipe((0,Ee.h)(function(t){return null!=t}),(0,ke.q)(1),(0,ve.U)(function(t){return(0,sn.GJ)(t)})),this.connectedBranch=this.selectedBranch,this.showSwitchButton$=this.displayMode$.pipe((0,ve.U)(function(t){return n.isSwitchBranchEnabled&&t===yn.Connected})),this.changes$("organizationsList").pipe((0,We.R)(this.onDestroy$)).subscribe(function(t){n.organizationsList=t,n.filteredOrganizationsList=t}),this.changes$("projectsList").pipe((0,We.R)(this.onDestroy$)).subscribe(function(t){n.projectsList=t,n.filteredProjectsList=t}),this.changes$("branchesList").pipe((0,We.R)(this.onDestroy$)).subscribe(function(t){n.branchesList=t,n.filteredBranchesList=t}),this.changes$("repositoriesList").pipe((0,We.R)(this.onDestroy$)).subscribe(function(t){n.repositoriesList=t,n.filteredRepositoriesList=t})},r.prototype.onOrganizationChange=function(n){this.selectedOrganization={name:n.text},this.organizationChange.emit(this.selectedOrganization),this.setConnectButtonAndFolderSelection(!0),this.cancelButtonDisabled$.next(!1)},r.prototype.onProjectChange=function(n){this.selectedProject={name:n.text},this.projectChange.emit(this.selectedProject),this.setConnectButtonAndFolderSelection(!0)},r.prototype.onRepositoryChange=function(n){this.selectedRepository={name:n.text},this.repositoryChange.emit(this.selectedRepository),this.setConnectButtonAndFolderSelection(!0)},r.prototype.onBranchChange=function(n){var t,o=null!=this.connectedBranch;if(this.isDifferentBranchSelected$.next(o),this.selectedBranch={name:n.text},o){var s=(null===(t=this.connectedBranch)||void 0===t?void 0:t.name)===this.selectedBranch.name;this.setSwitchBranchButtonsState(s)}this.branchChange.emit(this.selectedBranch),this.setConnectButtonAndFolderSelection(o)},r.prototype.onFolderNameChange=function(n){this.selectedFolderName=n,this.folderNameChange.emit(n)},r.prototype.onConnectButtonClick=function(){this.connectButtonClick.emit()},r.prototype.onSwitchBranchButtonClick=function(){this.switchBranchButtonClick.emit()},r.prototype.onCancelButtonClick=function(){this.setConnectButtonAndFolderSelection(!0),this.cancelButtonDisabled$.next(!0),this.cancelButtonClick.emit()},r.prototype.onCancelSwitchButtonClick=function(){this.selectedBranch=this.connectedBranch,this.isDifferentBranchSelected$.next(!1),this.setSwitchBranchButtonsState(!0),this.cancelSwitchButtonClick.emit()},r.prototype.onCreateBranchButtonClick=function(){this.branchStateNotification$.next(null);var n={data:{branchesList:this.branchesList,newBranchState$:this.branchStateNotification$.asObservable(),isWorkspaceConnected:this.isConnected,createNewBranchChange:this.createNewBranchChange}};this.telemetryService.logEvent({name:"Open create branch dialog",properties:{isWorkspaceConnected:this.isConnected}}),this.dialogService.open(Ac,n).afterClosed().pipe((0,ke.q)(1)).subscribe()},r.prototype.getDropdownOverlayOptions=function(n,t,o){return void 0===t&&(t=5),void 0===o&&(o=0),{dropdownHeight:this.calcDropdownHeight(0===n?0:n+o,t),dropdownMaxWidth:360,showFullContent:!1}},r.prototype.setSwitchBranchButtonsState=function(n){this.switchButtonDisabled$.next(n),this.cancelSwitchButtonDisabled$.next(n)},r.prototype.setConnectButtonAndFolderSelection=function(n){this.folderInputDisabled$.next(n),this.connectButtonDisabled$.next(n)},r.prototype.setSwitchBranchButtonVisibility=function(n){this.isDifferentBranchSelected$.next(n)},r.prototype.calcDropdownHeight=function(n,t){return function(i){return 0===i||1===i?46:i>0?i<=10?36*i+2*(i-1)+10:388:10}(n>t?t:n)},r.prototype.determineDisplayMode=function(n,t){return null===t?yn.Loading:n?yn.Connected:t===sn.R7.Admin?yn.NotConnectedAdmin:yn.NotConnected},r.prototype.setOnDisconnectTriggers=function(){this.setConnectButtonAndFolderSelection(!0),this.setSwitchBranchButtonVisibility(!1),this.connectedBranch=null},r.prototype.onOrganizationsSearch=function(n){var t;this.filteredOrganizationsList=this.filterListAndSearch(null!==(t=this.organizationsList)&&void 0!==t?t:[],n)},r.prototype.onProjectsSearch=function(n){var t;this.filteredProjectsList=this.filterListAndSearch(null!==(t=this.projectsList)&&void 0!==t?t:[],n)},r.prototype.onBranchesSearch=function(n){var t;this.filteredBranchesList=this.filterListAndSearch(null!==(t=this.branchesList)&&void 0!==t?t:[],n)},r.prototype.onReposSearch=function(n){var t;this.filteredRepositoriesList=this.filterListAndSearch(null!==(t=this.repositoriesList)&&void 0!==t?t:[],n)},r.prototype.getNoBranchesInRepoMessagBarViewModel=function(){return Qa(this.localizationService)},r.prototype.filterListAndSearch=function(n,t){return n.filter(function(o){var s,l;return!t||(null===(l=null===(s=o.text)||void 0===s?void 0:s.toLowerCase())||void 0===l?void 0:l.includes(t.toLowerCase()))})},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Pt.t),e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(_a.j),e.\u0275\u0275directiveInject(ut.V$))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-connection-details-settings"]],inputs:{isConnected:"isConnected",isOnCapacity:"isOnCapacity",connectionRequestInProgress:"connectionRequestInProgress",switchBranchRequestInProgress:"switchBranchRequestInProgress",workspaceMemberRole:"workspaceMemberRole",organizationsList:"organizationsList",organizationsError:"organizationsError",selectedOrganization:"selectedOrganization",projectsList:"projectsList",projectsError:"projectsError",selectedProject:"selectedProject",repositoriesList:"repositoriesList",repositoriesError:"repositoriesError",selectedRepository:"selectedRepository",branchesList:"branchesList",branchesError:"branchesError",selectedBranch:"selectedBranch",selectedFolderName:"selectedFolderName",newBranchState:"newBranchState"},outputs:{organizationChange:"organizationChange",projectChange:"projectChange",repositoryChange:"repositoryChange",branchChange:"branchChange",folderNameChange:"folderNameChange",createNewBranchChange:"createNewBranchChange",connectButtonClick:"connectButtonClick",switchBranchButtonClick:"switchBranchButtonClick",cancelButtonClick:"cancelButtonClick",cancelSwitchButtonClick:"cancelSwitchButtonClick"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:9,vars:11,consts:[[1,"container",3,"ngSwitch"],["class","no_branches_in_repo_message_bar",3,"viewModel",4,"ngIf"],[4,"ngSwitchCase"],[3,"ngClass",4,"ngSwitchCase"],["class","footer",4,"ngIf"],[1,"no_branches_in_repo_message_bar",3,"viewModel"],["delay","0"],[1,"field",3,"triTooltip"],[4,"ngIf","ngIfElse"],["switchBranchDisabled",""],["id","switch-branch-dropdown-label",1,"with-tooltip"],[1,"star"],["tabindex","0",3,"name","triTooltip","triTooltipMaxWidth"],["aria-labelledby","switch-branch-dropdown-label",1,"field",3,"ngModel","disabled","isLoading","options","ngModelChange","valueChange"],["class","dropdown-search-with-divider",3,"value",4,"ngIf"],["class","action-and-divider",4,"ngIf"],[3,"title","value",4,"ngFor","ngForOf"],["class","empty-dropdown-message",3,"disabled",4,"ngIf"],[1,"dropdown-search-with-divider",3,"value"],[1,"action-and-divider"],["icon","add_16_regular",3,"text","actionClicked"],[3,"title","value"],[1,"empty-dropdown-message",3,"disabled"],[3,"ngClass"],["id","select-organization-dropdown"],["aria-labelledby","select-organization-dropdown",1,"field",3,"ngModel","options","disabled","isLoading","ngModelChange","valueChange"],["class","dropdown-search",3,"value",4,"ngIf"],["class","tri-flex error-message-container",4,"ngIf"],["id","select-project-dropdown"],["aria-labelledby","select-project-dropdown",1,"field",3,"ngModel","disabled","isLoading","options","ngModelChange","valueChange"],["id","select-repository-dropdown",1,"with-tooltip"],["aria-labelledby","select-repository-dropdown",1,"field",3,"ngModel","disabled","isLoading","options","ngModelChange","valueChange"],["tabindex","0"],["id","select-branch-dropdown",1,"with-tooltip"],["aria-labelledby","select-branch-dropdown",1,"field",3,"ngModel","disabled","isLoading","options","ngModelChange","valueChange"],["id","select-folder-input",1,"with-tooltip"],[1,"field","folder"],["aria-labelledby","select-folder-input",3,"disabled","ngModel","placeholder","ngModelChange"],[1,"dropdown-search",3,"value"],[1,"tri-flex","error-message-container"],["name","error_circle_12_filled",1,"error-message-icon"],[1,"subtitle"],[1,"footer"],["class","footer",4,"ngIf","ngIfElse"],["connectButton",""],["tri-button","","appearance","primary","class","connect-and-sync-button in-progress",4,"ngIf","ngIfElse"],["switchActive",""],["tri-button","",1,"cancel-button",3,"disabled","click"],["tri-button","","appearance","primary",1,"connect-and-sync-button","in-progress"],["size","tiny","labelPosition","after"],["tri-button","","appearance","primary",1,"connect-and-sync-button",3,"disabled","click"],["connectActive",""]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,Hc,1,1,"tri-message-bar",1),e.\u0275\u0275template(3,Xc,2,0,"div",2),e.\u0275\u0275template(4,tl,24,26,"div",2),e.\u0275\u0275template(5,Sl,69,93,"div",3),e.\u0275\u0275template(6,yl,4,3,"div",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,Pl,5,4,"div",4),e.\u0275\u0275pipe(8,"async")),2&t&&(e.\u0275\u0275property("ngSwitch",e.\u0275\u0275pipeBind1(1,7,o.displayMode$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0===(null==o.branchesList?null:o.branchesList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.DisplayMode.Loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.DisplayMode.Connected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.DisplayMode.NotConnectedAdmin),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.DisplayMode.NotConnected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(8,9,o.workspaceAdminPermissions$)))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,g.NgSwitch,g.NgSwitchCase,p.Fj,p.JJ,p.On,xt.M3,Gt.l,is,wt.q,xt.ii,nt.h,hn.U,He.D,O.M,Xe.Z,g.AsyncPipe,I.Y],styles:["tri-collapsed-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:center;margin-bottom:16px}tri-dropdown-item[_ngcontent-%COMP%]{font-size:14px}tri-dropdown-item.empty-dropdown-message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:32px}tri-dropdown-item.empty-dropdown-message[_ngcontent-%COMP%]   .span[_ngcontent-%COMP%]{margin-left:4px}.no_branches_in_repo_message_bar[_ngcontent-%COMP%]{padding-top:12px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;font-size:14px;margin-bottom:16px}.container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-bottom:6px}.container[_ngcontent-%COMP%]   h4.with-tooltip[_ngcontent-%COMP%]{margin-bottom:2px}.container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span.star[_ngcontent-%COMP%]{color:var(--globalColorRedShade10)}.container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38);height:16px;width:16px;margin-left:6px;margin-bottom:6px}.container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%;max-width:360px;overflow-x:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin-top:14px}.container[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]{color:var(--colorNeutralForeground4);box-sizing:border-box}.container[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     button{padding:6px 6px 6px 3px;border-bottom:1px solid var(--globalColorGrey38);border-radius:var(--button-base-corner-radius)}.container[_ngcontent-%COMP%]   .folder[_ngcontent-%COMP%]{margin-bottom:16px}input[_ngcontent-%COMP%]{height:18px;width:inherit;padding:6px 8px;max-width:340px;border-radius:4px;border:1px solid var(--globalColorGrey82)}input[_ngcontent-%COMP%]:not(:disabled){border-bottom:1px solid var(--globalColorGrey38)}input[_ngcontent-%COMP%]:not(:disabled):focus{outline:none;border-bottom:2px solid var(--globalColorBrand80)}input[_ngcontent-%COMP%]:disabled{opacity:.4}.dropdown-search[_ngcontent-%COMP%]{width:100%}.dropdown-search-with-divider[_ngcontent-%COMP%]{width:100%;margin-bottom:2px}.action-and-divider[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-top:1px solid var(--globalColorGrey88);width:100%;margin-top:3px;margin-bottom:4px}.footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:8px}.footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border-radius:4px}.footer[_ngcontent-%COMP%]   .connect-and-sync-button[_ngcontent-%COMP%]{min-width:136px}.footer[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{min-width:66px}div.connection-loading[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}"],changeDetection:0}),r}(cn.w),it=function(i){return i[i.NotConnected=0]="NotConnected",i[i.Connected=1]="Connected",i[i.NonAdmin=2]="NonAdmin",i[i.Admin=4]="Admin",i[i.FixedRepository=8]="FixedRepository",i[i.NotOnCapacity=16]="NotOnCapacity",i[i.NotConfigured=32]="NotConfigured",i}({}),Ln=function(i){return i[i.Hidden=0]="Hidden",i[i.ConnectAndSync=1]="ConnectAndSync",i[i.SwitchBranch=2]="SwitchBranch",i}({}),dt=function(i){return i[i.Hidden=0]="Hidden",i[i.Fixed=1]="Fixed",i[i.Textbox=2]="Textbox",i[i.Dropdown=3]="Dropdown",i}({}),El={repository:dt.Hidden,branch:dt.Hidden,directory:dt.Hidden,button:Ln.Hidden},fa={repository:dt.Fixed,branch:dt.Fixed,directory:dt.Fixed,button:Ln.Hidden},Bl=['"',":","<",">","\\","*","?","|"],Gl=[" ","."],zl=[" "],Al={getComponentConfig:function(i){var n;switch(i&~(it.FixedRepository|it.NotOnCapacity)){case it.NotConnected|it.Admin:n={repository:dt.Textbox,branch:dt.Dropdown,directory:dt.Textbox,button:Ln.ConnectAndSync};break;case it.NotConnected|it.NonAdmin:n={repository:dt.Hidden,branch:dt.Hidden,directory:dt.Hidden,button:Ln.Hidden};break;case it.Connected|it.Admin:n={repository:dt.Fixed,branch:dt.Dropdown,directory:dt.Fixed,button:Ln.SwitchBranch};break;case it.Connected|it.NonAdmin:n=fa;break;default:n=El}return n=(0,$.__assign)((0,$.__assign)({},n),{state:i}),i&it.FixedRepository&&(n.repository=dt.Fixed),i&it.NotConfigured&&(n=(0,$.__assign)((0,$.__assign)({},fa),{state:i})),i&it.NotOnCapacity&&(n=(0,$.__assign)((0,$.__assign)({},fa),{state:i})),n},onRepositoryChangeFunc:function(i,r,n){if(rs(i)){var o=i.replace(/\/$|\.git$/g,""),l=new URL(o).pathname.split("/").filter(function(w){return w});if(2===l.length){var C=l[1];n.selectOrganization(r,l[0]),n.selectRepository(r,C)}}else n.selectOrganization(r,void 0),n.selectRepository(r,i)},getRepositoryFunc:function(i,r){return i?.gitConnectionDetails?(0,be.rl)(i.gitConnectionDetails):r?.selectedOrganization&&r?.selectedRepository?"".concat("https://github.com","/").concat(r.selectedOrganization.name,"/").concat(r.selectedRepository.name):void 0},validateRepositoryUrl:rs,validateDirectoryNameFunc:function(i){return!(i.length>256||Bl.some(function(r){return i.includes(r)})||zl.some(function(r){return i.startsWith(r)})||Gl.some(function(r){return i.endsWith(r)}))}};function rs(i){var r=i.replace(/\/$|\.git$/g,"");return/^https:\/\/github\.com\/[^/]+\/[^/]+$/.test(r)}function $l(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",10),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("viewModel",n.getNoBranchesInRepoMessagBarViewModel())}}function Ul(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",12),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Trident_Git_Auth_Dialog_Param_RepoUrl")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(5,6,n.repository$)),e.\u0275\u0275attribute("data-testid","repository-fixed"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,8,n.repository$)," ")}}function Vl(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",17),e.\u0275\u0275element(2,"tri-svg-icon",18),e.\u0275\u0275elementStart(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275attribute("data-testid","tri-git-connection-details-settings-v2-repository-error"),e.\u0275\u0275advance(1),e.\u0275\u0275property("name","error_circle_12_filled"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,3,"Trident_Git_Auth_Dialog_Param_RepoUrl_Error")," "))}var Ca=function(r){return{error:r}};function jl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",13)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"span",14),e.\u0275\u0275text(5," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"tri-svg-icon",15),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"input",16),e.\u0275\u0275listener("ngModelChange",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onRepositoryChange(s))}),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,Vl,6,5,"ng-container",0),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,8,"Trident_Git_Auth_Dialog_Param_RepoUrl")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(7,10,"Trident_Git_Auth_Dialog_Param_RepoUrl_Tooltip_GitHub")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(20,Ca,e.\u0275\u0275pipeBind1(9,12,t.repositoryInputError$)))("ngModel",e.\u0275\u0275pipeBind1(10,14,t.repositoryTextInput$))("placeholder",e.\u0275\u0275pipeBind1(11,16,"Trident_Git_Auth_Dialog_Param_RepoUrl_Placeholder")),e.\u0275\u0275attribute("data-testid","repository-text-input"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(13,18,t.repositoryInputError$))}}function Kl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",12),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Trident_Git_Folder")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(5,6,n.directory$)),e.\u0275\u0275attribute("data-testid","directory-fixed"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,8,n.directory$)," ")}}function Hl(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",12),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Trident_Git_Branch")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(5,6,n.branch$)),e.\u0275\u0275attribute("data-testid","branch-fixed"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,8,n.branch$)," ")}}function Xl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-search-box",25),e.\u0275\u0275listener("value",function(o){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(s.onBranchesSearch(o))}),e.\u0275\u0275elementEnd()}}function Yl(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",26)(1,"tri-dropdown-action",27),e.\u0275\u0275listener("actionClicked",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(o.onCreateBranchButtonClick())}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"hr"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("text",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_New_Branch")))}function Ql(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",28)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit;e.\u0275\u0275property("title",n.text)("value",n),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.text)}}function Zl(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",29)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Git_Empty_Branches_Dropdown")))}function Jl(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",17),e.\u0275\u0275element(2,"tri-svg-icon",18),e.\u0275\u0275elementStart(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275attribute("data-testid","tri-git-connection-details-settings-v2-branch-error"),e.\u0275\u0275advance(1),e.\u0275\u0275property("name","error_circle_12_filled"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,3,n.branchDropdownError$)," ")}}function ql(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",19)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"span",14),e.\u0275\u0275text(5," *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"tri-svg-icon",15),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"tri-dropdown",20),e.\u0275\u0275listener("ngModelChange",function(C){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(w.branchDropdownSelectedOption=C)})("valueChange",function(C){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(w.onBranchChange(C))}),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementStart(14,"tri-dropdown-trigger"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,Xl,1,0,"tri-search-box",21),e.\u0275\u0275template(18,Yl,4,3,"span",22),e.\u0275\u0275template(19,Ql,3,3,"tri-dropdown-item",23),e.\u0275\u0275template(20,Zl,4,4,"tri-dropdown-item",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,Jl,6,5,"ng-container",0),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,s,l,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,15,"Trident_Git_Branch")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(7,17,"Trident_Git_Branch_Tooltip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.branchDropdownSelectedOption)("ngClass",e.\u0275\u0275pureFunction1(33,Ca,e.\u0275\u0275pipeBind1(9,19,t.branchDropdownError$)))("options",t.getDropdownOverlayOptions(null!==(o=null==t.branchDropdownOptionsList?null:t.branchDropdownOptionsList.length)&&void 0!==o?o:0))("disabled",void 0===e.\u0275\u0275pipeBind1(10,21,t.repository$)||void 0===t.branchDropdownOptionsList||void 0!==e.\u0275\u0275pipeBind1(11,23,t.branchDropdownError$))("isLoading",void 0!==e.\u0275\u0275pipeBind1(12,25,t.repository$)&&void 0===t.branchDropdownOptionsList&&void 0===e.\u0275\u0275pipeBind1(13,27,t.branchDropdownError$)),e.\u0275\u0275attribute("data-testid","branch-dropdown"),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1(" ",null!==(s=null==t.branchDropdownSelectedOption?null:t.branchDropdownSelectedOption.text)&&void 0!==s?s:e.\u0275\u0275pipeBind1(16,29,"Trident_Git_Branch")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null!==(l=null==t.branchDropdownOptionsList?null:t.branchDropdownOptionsList.length)&&void 0!==l?l:0)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0!==(null==t.branchDropdownOptionsList?null:t.branchDropdownOptionsList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.branchDropdownOptionsListFiltered),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.branchDropdownOptionsList?null:t.branchDropdownOptionsList.length)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",void 0!==e.\u0275\u0275pipeBind1(22,31,t.branchDropdownError$))}}function ed(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",17),e.\u0275\u0275element(2,"tri-svg-icon",18),e.\u0275\u0275elementStart(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275attribute("data-testid","tri-git-connection-details-settings-v2-directory-error"),e.\u0275\u0275advance(1),e.\u0275\u0275property("name","error_circle_12_filled"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,3,"Trident_Git_Error_Git_InvalidDirectoryName_Title")," "))}function td(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",13)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275element(4,"tri-svg-icon",15),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"input",30),e.\u0275\u0275listener("ngModelChange",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onDirectoryChange(s))}),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,ed,6,5,"ng-container",0),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,9,"Trident_Git_Folder")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("name","info_16_regular")("triTooltip",e.\u0275\u0275pipeBind1(5,11,"Trident_Git_Folder_Tooltip")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(23,Ca,e.\u0275\u0275pipeBind1(7,13,t.directoryInputError$)))("ngModel",e.\u0275\u0275pipeBind1(8,15,t.directory$))("disabled",void 0===e.\u0275\u0275pipeBind1(9,17,t.branch$))("placeholder",e.\u0275\u0275pipeBind1(10,19,"Trident_Git_Select_Folder")),e.\u0275\u0275attribute("data-testid","directory-text-input"),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(12,21,t.directoryInputError$))}}function nd(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_Connect_And_Sync")," "))}function id(i,r){1&i&&(e.\u0275\u0275element(0,"tri-spinner",34),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize")),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"UploadExcel_OneDriveProConnecting")," "))}function rd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",31),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onConnectButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,nd,3,3,"ng-container",32),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,id,3,3,"ng-template",null,33,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275reference(5),o=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(1,4,o.connectButtonDisabled$)),e.\u0275\u0275attribute("data-testid","connect-button"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(3,6,o.actionButtonInProgress$))("ngIfElse",t)}}function od(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_Switch_Branch_Button_Text")," "))}function ad(i,r){1&i&&(e.\u0275\u0275element(0,"tri-spinner",34),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize")),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Trident_Git_Switch_Branch_Button_In_Progress")," "))}function sd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",31),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onSwitchBranchButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,od,3,3,"ng-container",32),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,ad,3,3,"ng-template",null,33,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275reference(5),o=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(1,4,o.switchBranchButtonDisabled$)),e.\u0275\u0275attribute("data-testid","switch-branch-button"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(3,6,o.actionButtonInProgress$))("ngIfElse",t)}}function cd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",35),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.onCancelButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(1,3,t.cancelButtonDisabled$)),e.\u0275\u0275attribute("data-testid","cancel-button"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,5,"Cancel_ButtonText")," ")}}function ld(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,$l,1,1,"tri-message-bar",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementContainerStart(3,3),e.\u0275\u0275template(4,Ul,8,10,"div",4),e.\u0275\u0275template(5,jl,14,22,"div",5),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(6,3),e.\u0275\u0275template(7,Kl,8,10,"div",4),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(8,3),e.\u0275\u0275template(9,Hl,8,10,"div",4),e.\u0275\u0275template(10,ql,23,35,"div",6),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementContainerStart(11,3),e.\u0275\u0275template(12,td,13,25,"div",5),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",7),e.\u0275\u0275elementContainerStart(14,3),e.\u0275\u0275template(15,rd,6,8,"button",8),e.\u0275\u0275template(16,sd,6,8,"button",8),e.\u0275\u0275template(17,cd,4,7,"button",9),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=r.ngIf,t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0===(null==t.branchDropdownOptionsList?null:t.branchDropdownOptionsList.length)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitch",n.repository),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Fixed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Textbox),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",n.directory),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Fixed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",n.branch),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Fixed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Dropdown),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",n.directory),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.FieldDisplayMode.Textbox),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngSwitch",n.button),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ButtonDisplayMode.ConnectAndSync),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",t.ButtonDisplayMode.SwitchBranch),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.button!==t.ButtonDisplayMode.Hidden)}}function dd(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ld,18,15,"ng-container",0),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,n.componentConfig$))}}var ud=function(i){function r(n,t,o,s,l,v,C,w,G,re,ge,q){var le=i.call(this)||this;return le.gitSessionStorageService=n,le.gitConnectionService=t,le.gitConnectionDiscoveryService=o,le.gitErrorService=s,le.gitInitializationService=l,le.gitStatusService=v,le.gitSwitchBranchService=C,le.dialogService=w,le.localizationService=G,le.cdr=re,le.featureSwitchService=ge,le.workspaceContextService=q,le.closeWorkspaceSettings=new e.EventEmitter,le.loadComponentUtilitiesRecord$=(0,Pe.of)(),le.componentUtilitiesRecord$=new F.X(void 0),le.componentConfig$=(0,Pe.of)(),le.loadGitConnection$=(0,Pe.of)(),le.gitConnection$=new F.X(void 0),le.loadGitSessionStorageState$=(0,Pe.of)(),le.sessionStorageState$=new F.X(void 0),le.getDropdownOverlayOptions=Uc,le.ButtonDisplayMode=Ln,le.FieldDisplayMode=dt,le.organization$=(0,Pe.of)(),le.repository$=(0,Pe.of)(),le.repositoryTextInput$=new F.X(void 0),le.repositoryInputError$=new F.X(!1),le.repositoryDisplayValue$=new F.X(void 0),le.branch$=(0,Pe.of)(),le._branchDropdownOptionsList=void 0,le.branchDropdownOptionsListFiltered=void 0,le.branchDropdownError$=new F.X(void 0),le.directory$=(0,Pe.of)(),le.directoryInputError$=new F.X(!1),le.connectButtonDisabled$=(0,Pe.of)(!0),le.switchBranchButtonDisabled$=(0,Pe.of)(!0),le.actionButtonInProgress$=new F.X(!1),le.cancelButtonDisabled$=new F.X(!0),le.componentUtilities=function(){var i;return(i={})[me.IS.AzureDevOps]=void 0,i[me.IS.GitHub]=Al,i}(),le}return(0,$.__extends)(r,i),r.prototype.ngOnInit=function(){var n=this,t=this.changes$("workspaceId").pipe((0,Kt.x)(),(0,Ee.h)(function(v){return!!v}),(0,ke.q)(1)),o=this.workspaceContextService.selectedWorkspacePermission$.pipe((0,ve.U)(function(v){return(0,sn.GJ)((0,sn.lC)(v))})),s=this.workspaceContextService.selectedWorkspaceCapacitySkuTier$.pipe((0,ve.U)(function(v){return v&&6!==v||n.featureSwitchService.featureSwitches.tridentGitOnShared})),l=(0,Ke.aj)([o.pipe((0,ke.q)(1)),s.pipe((0,ke.q)(1))]).pipe((0,ve.U)(function(v){return{isAdmin:v[0],isWorkspaceOnCapacity:!!v[1]}}));this.loadGitConnection$=t.pipe((0,mt.w)(function(v){return n.gitConnectionService.ensureGitConnection(v)}),(0,Kt.x)(),(0,je.b)(function(v){return n.gitConnection$.next(v)})),this.loadGitSessionStorageState$=t.pipe((0,mt.w)(function(v){return n.gitSessionStorageService.loadGitSessionStorage(v)}),(0,Kt.x)(),(0,je.b)(function(v){return n.sessionStorageState$.next(v)})),this.loadComponentUtilitiesRecord$=this.sessionStorageState$.pipe((0,Ee.h)(function(v){return void 0!==v?.selectedGitProviderType}),(0,ve.U)(function(v){return n.componentUtilities[v?.selectedGitProviderType]}),(0,Kt.x)(),(0,je.b)(function(v){return n.componentUtilitiesRecord$.next(v)})),this.componentConfig$=(0,Ke.aj)([l,this.gitConnection$,this.sessionStorageState$,this.componentUtilitiesRecord$]).pipe((0,Kt.x)(),(0,ve.U)(function(v){var C=v[0],w=v[1],G=v[2],re=v[3];if(C&&w&&G&&re)return n.applyStateToConfigMap(C,w,G,re)}),(0,je.b)(function(v){v?.branch!==dt.Fixed&&n.setBranchDropdownOptionsList()})),this.organization$=this.sessionStorageState$.pipe((0,ve.U)(function(v){var C;return null===(C=v?.selectedOrganization)||void 0===C?void 0:C.name}),(0,Kt.x)()),this.repository$=(0,Ke.aj)([this.componentUtilitiesRecord$,this.gitConnection$,this.sessionStorageState$]).pipe((0,ve.U)(function(v){var C=v[0],w=v[1],G=v[2];if(C?.getRepositoryFunc)return C.getRepositoryFunc(w,G)})),this.branch$=(0,Ke.aj)([this.gitConnection$,this.sessionStorageState$]).pipe((0,ve.U)(function(v){var C=v[0],w=v[1];return w?.selectedBranch?(n.branchDropdownSelectedOption={key:w.selectedBranch,text:w.selectedBranch},w?.selectedBranch):C?.gitConnectionDetails?(n.branchDropdownSelectedOption={key:C.gitConnectionDetails.branchName,text:C.gitConnectionDetails.branchName},C.gitConnectionDetails.branchName):void 0}),(0,Kt.x)()),this.directory$=(0,Ke.aj)([this.gitConnection$,this.sessionStorageState$]).pipe((0,ve.U)(function(v){var C=v[0],w=v[1];return C?.gitConnectionDetails?C.gitConnectionDetails.rootDirectory:w?.selectedDirectory}),(0,Kt.x)()),this.connectButtonDisabled$=(0,Ke.aj)([this.gitConnection$,this.sessionStorageState$,this.directoryInputError$]).pipe((0,ve.U)(function(v){var C=v[0],w=v[1],G=v[2];return!(!C?.gitConnectionDetails&&w?.selectedBranch&&!1===G)})),this.switchBranchButtonDisabled$=(0,Ke.aj)([this.gitConnection$,this.sessionStorageState$,s]).pipe((0,ve.U)(function(v){var C=v[0],w=v[1];return!(v[2]&&C?.gitConnectionDetails&&w?.selectedBranch)||C.gitConnectionDetails.branchName===w.selectedBranch}))},r.prototype.ngOnDestroy=function(){return this.unsetUserSelections(),i.prototype.ngOnDestroy.call(this)},r.prototype.onRepositoryChange=function(n){var t=this;this.repoTimeoutId&&clearTimeout(this.repoTimeoutId),this.repoTimeoutId=setTimeout(function(){var o,s,l;null===(o=t.componentUtilitiesRecord$.value)||void 0===o||o.onRepositoryChangeFunc(n,t.workspaceId,t.gitSessionStorageService),t.repositoryTextInput$.next(n);var v=null===(l=null===(s=t.componentUtilitiesRecord$.value)||void 0===s?void 0:s.validateRepositoryUrl(n))||void 0===l||l;t.repositoryInputError$.next(""!==n&&!v),v&&t.getBranches(),t.cancelButtonDisabled$.next(""===n)},300)},r.prototype.onBranchChange=function(n){this.gitSessionStorageService.selectBranch(this.workspaceId,n?.text),this.cancelButtonDisabled$.next(!1)},r.prototype.onBranchesSearch=function(n){var t;this.branchDropdownOptionsListFiltered=null===(t=this.branchDropdownOptionsList)||void 0===t?void 0:t.filter(function(o){return!n||o.text.toLowerCase().includes(n.toLowerCase())})},r.prototype.onDirectoryChange=function(n){var t,o;this.gitSessionStorageService.selectRootDirectory(this.workspaceId,n),this.directoryInputError$.next(null!==(o=!(null!==(t=this.componentUtilitiesRecord$.value)&&void 0!==t&&t.validateDirectoryNameFunc(n)))&&void 0!==o&&o)},r.prototype.onCreateBranchButtonClick=function(){var t,n=this,o=function(i,r,n){var t,o,s;return{panelClass:"dialog-style",width:(Te.PW.Medium+Te.PW.Small)/2+"px",data:{branchesList:null!==(t=i?.map(function(l){return l.text}))&&void 0!==t?t:[],details:{gitProviderType:r?.selectedGitProviderType,organizationName:n?.gitConnectionDetails?n.gitConnectionDetails.organizationName:null===(o=r?.selectedOrganization)||void 0===o?void 0:o.name,repositoryName:n?.gitConnectionDetails?n.gitConnectionDetails.repositoryName:null===(s=r?.selectedRepository)||void 0===s?void 0:s.name,datasourceOID:r?.selectedDatasourceOID},isWorkspaceConnected:n?.gitConnectionDetails,workspaceId:n?.workspaceId}}}(null!==(t=this.branchDropdownOptionsList)&&void 0!==t?t:[],this.sessionStorageState$.value,this.gitConnection$.value);this.dialogService.open(be.a6,o).afterClosed().pipe((0,ke.q)(1),(0,je.b)(function(s){var l,v;if(s){var C=null!==(v=null===(l=n.branchDropdownOptionsList)||void 0===l?void 0:l.map(function(G){return G.text}))&&void 0!==v?v:[],w=(0,$.__spreadArray)((0,$.__spreadArray)([],C,!0),[s],!1);n.mapBranchesListToDropdown(w),n.gitSessionStorageService.selectBranch(n.workspaceId,s),n.cancelButtonDisabled$.next(!1)}})).subscribe()},r.prototype.onConnectButtonClick=function(){var n=this;if(!this.actionButtonInProgress$.getValue()){this.actionButtonInProgress$.next(!0);var t=this.createSaveConnectionRequest();t&&this.gitConnectionService.saveGitConnection(t).pipe((0,ua.b)(function(){return n.gitConnectionService.getGitConnectionOperationState(n.workspaceId).pipe((0,We.R)(n.onDestroy$),(0,Ee.h)(function(o){return o===ne.CmZ.Completed||(0,me.pb)(o)}),(0,ke.q)(1),(0,mt.w)(function(o){return n.actionButtonInProgress$.next(!1),(0,me.pb)(o)&&(0,me.yG)(o)?n.createNewDirectory():o===ne.CmZ.Completed?n.gitConnectionService.loadGitConnection(n.workspaceId).pipe((0,We.R)(n.onDestroy$),(0,Ee.h)(function(s){return!!s}),(0,je.b)(function(s){n.gitConnection$.next(s),n.cancelButtonDisabled$.next(!0)}),(0,mt.w)(function(s){var l;return null!==(l=s?.gitConnectionDetails)&&void 0!==l&&l.isInitialized?(0,Pe.of)(void 0):n.initializeConnection()})):(n.actionButtonInProgress$.next(!1),(0,Pe.of)(void 0))}))}),(0,Et.K)(function(o){return n.actionButtonInProgress$.next(!1),(0,Pe.of)(void 0)})).subscribe()}},r.prototype.onSwitchBranchButtonClick=function(){var t,n=this;this.actionButtonInProgress$.next(!0);var o=null===(t=this.gitConnection$.value)||void 0===t?void 0:t.gitConnectionDetails;return!1===o?.isInitialized?(this.actionButtonInProgress$.next(!1),void this.gitErrorService.handleClientSideGitError("Git_Workspace_Not_Initialized")):void 0===o?.head?(this.actionButtonInProgress$.next(!1),void this.gitErrorService.handleClientSideGitError("Git_HeadNotSynced")):void this.gitStatusService.getUncommittedChangesCount(this.workspaceId).pipe((0,ke.q)(1),(0,je.b)(function(s){s>0&&(n.actionButtonInProgress$.next(!1),n.gitErrorService.handleClientSideGitError("Git_GitSwitchBranchWithUncommittedChanges"))}),(0,Ee.h)(function(s){return 0===s}),(0,mt.w)(function(){return n.dialogService.open(qa,Ya(n.localizationService)).afterClosed().pipe((0,ke.q)(1),(0,je.b)(function(s){s||n.actionButtonInProgress$.next(!1)}),(0,Ee.h)(function(s){return!!s}),(0,mt.w)(function(){var s=n.createSwitchBranchRequest();return s?n.gitSwitchBranchService.switchBranch(s).pipe((0,Et.K)(function(l){return n.actionButtonInProgress$.next(!1),(0,Pe.of)(void 0)})):(0,Pe.of)(void 0)}),(0,ke.q)(1),(0,mt.w)(function(){return n.gitSwitchBranchService.getSwitchBranchState(n.workspaceId)}),(0,Ee.h)(function(s){return s===ne.ND3.Completed||(0,me.pb)(s)}),(0,mt.w)(function(s){return n.actionButtonInProgress$.next(!1),s===ne.ND3.Completed?(n.closeWorkspaceSettings.emit(),n.gitConnectionService.loadGitConnection(n.workspaceId)):(0,Pe.of)(void 0)}))}),(0,We.R)(this.onDestroy$)).subscribe()},r.prototype.onCancelButtonClick=function(){this.returnToInitialState()},r.prototype.getNoBranchesInRepoMessagBarViewModel=function(){return Qa(this.localizationService)},r.prototype.getBranches=function(){var n=this;this.branchDropdownError$.next(void 0);var t=this.createGetBranchesRequest();t&&this.gitConnectionDiscoveryService.getBranches(t).pipe((0,ke.q)(1),(0,je.b)(function(o){var s=o.map(function(l){return l.name});n.mapBranchesListToDropdown(s)}),(0,Et.K)(function(o){var s=n.getBranchDropdownError(o);return n.branchDropdownError$.next(s),(0,Pe.of)(void 0)})).subscribe()},r.prototype.getBranchDropdownError=function(n){var t,o=null===(t=n?.error)||void 0===t?void 0:t.code;return"Git_ItemNotFound"===o||"Git_GitProviderBadCredentials"===o?this.localizationService.get("Trident_Git_Item_Not_Found_On_Get_branches"):this.gitErrorService.getErrorContent("Git_Get_Branches_Failed").message},r.prototype.mapBranchesListToDropdown=function(n){var t=n.sort(function(o,s){return o.toLocaleLowerCase()>s.toLocaleLowerCase()?1:-1});this.branchDropdownOptionsList=t.map(function(o){return{key:o,text:o}}),this.cdr.detectChanges()},r.prototype.returnToInitialState=function(){this.unsetUIstate(),this.unsetUserSelections(),this.setBranchDropdownOptionsList()},r.prototype.unsetUIstate=function(){this.actionButtonInProgress$.next(!1),this.cancelButtonDisabled$.next(!0),this.repositoryTextInput$.next(void 0),this.repositoryInputError$.next(!1),this.branchDropdownError$.next(void 0),this.directoryInputError$.next(!1)},r.prototype.unsetUserSelections=function(){var n,t,o=this.sessionStorageState$.value;!(null===(n=o?.selectedOrganization)||void 0===n)&&n.setByDatasource||this.gitSessionStorageService.selectOrganization(this.workspaceId,void 0),!(null===(t=o?.selectedRepository)||void 0===t)&&t.setByDatasource||this.gitSessionStorageService.selectRepository(this.workspaceId,void 0),this.gitSessionStorageService.selectBranch(this.workspaceId,void 0),this.gitSessionStorageService.selectRootDirectory(this.workspaceId,void 0)},r.prototype.applyStateToConfigMap=function(n,t,o,s){var l,v,C;return C=n.isAdmin?it.Admin:it.NonAdmin,n.isWorkspaceOnCapacity||(C|=it.NotOnCapacity),C|=t?.gitConnectionDetails?it.Connected:it.NotConnected,!(null===(l=o?.selectedRepository)||void 0===l)&&l.setByDatasource&&!(null===(v=o?.selectedOrganization)||void 0===v)&&v.setByDatasource&&(C|=it.FixedRepository),o?.isConfigured||(C|=it.NotConfigured),s.getComponentConfig(C)},r.prototype.setBranchDropdownOptionsList=function(){var n,t,o,s,l,v,C,w,G,re;(null!==(n=this.gitConnection$.value)&&void 0!==n&&n.gitConnectionDetails&&void 0===this.branchDropdownOptionsList||null!==(o=null===(t=this.sessionStorageState$.value)||void 0===t?void 0:t.selectedOrganization)&&void 0!==o&&o.setByDatasource&&null!==(l=null===(s=this.sessionStorageState$.value)||void 0===s?void 0:s.selectedRepository)&&void 0!==l&&l.setByDatasource&&void 0===this.branchDropdownOptionsList)&&this.getBranches();var ge=null!==(C=null===(v=this.sessionStorageState$.value)||void 0===v?void 0:v.selectedBranch)&&void 0!==C?C:null!==(re=null===(G=null===(w=this.gitConnection$.value)||void 0===w?void 0:w.gitConnectionDetails)||void 0===G?void 0:G.branchName)&&void 0!==re?re:void 0;this.branchDropdownSelectedOption=ge?{key:ge,text:ge}:void 0},r.prototype.createGetBranchesRequest=function(){var n,t,o=this.gitConnection$.value,s=this.sessionStorageState$.value;return this.workspaceId&&o?.gitConnectionDetails?{workspaceId:this.workspaceId,gitProviderType:o.gitConnectionDetails.gitProviderType,organization:o.gitConnectionDetails.organizationName,repository:o.gitConnectionDetails.repositoryName,project:void 0,datasourceOID:null!==(t=null===(n=o.gitConnectionDetails)||void 0===n?void 0:n.datasourceOID)&&void 0!==t?t:s?.selectedDatasourceOID}:this.workspaceId&&s?.selectedGitProviderType&&s?.selectedOrganization&&s?.selectedRepository&&s?.selectedDatasourceOID?{workspaceId:this.workspaceId,gitProviderType:s.selectedGitProviderType,organization:s.selectedOrganization.name,repository:s.selectedRepository.name,project:void 0,datasourceOID:s.selectedDatasourceOID}:void 0},r.prototype.createNewDirectoryRequest=function(){var n,t=this.sessionStorageState$.value;if(this.workspaceId&&t?.selectedGitProviderType&&t?.selectedOrganization&&t?.selectedRepository&&t?.selectedBranch&&t?.selectedDatasourceOID)return{workspaceId:this.workspaceId,providerType:t.selectedGitProviderType,organizationName:t.selectedOrganization.name,repositoryId:t.selectedRepository.name,branchName:t.selectedBranch,datasourceOID:t?.selectedDatasourceOID,newDirectoryName:null!==(n=t?.selectedDirectory)&&void 0!==n?n:""}},r.prototype.createNewDirectory=function(){var t,o,n=this;return this.dialogService.open(Za,function(i,r){return{panelWidth:"400px",panelClass:"dialog-style",data:{title:r.get("Trident_Git_Add_New_Folder_Title"),buttons:[{name:r.get("Trident_Git_Create_And_Sync"),label:r.get("Trident_Git_Create_And_Sync"),buttonType:"primary"},{name:r.get("Cancel_ButtonText"),label:r.get("Cancel_ButtonText"),buttonType:null}],folderName:i,content:r.get("Trident_Git_Create_New_Folder_Content")}}}(null!==(o=null===(t=this.sessionStorageState$.value)||void 0===t?void 0:t.selectedDirectory)&&void 0!==o?o:"",this.localizationService)).afterClosed().pipe((0,ke.q)(1),(0,Ee.h)(function(s){return s}),(0,mt.w)(function(){var s=n.createNewDirectoryRequest();return s?n.gitConnectionDiscoveryService.createDirectory(s).pipe((0,je.b)(function(){return n.onConnectButtonClick()}),(0,Et.K)(function(l){return(0,me.Fc)(l)?n.gitErrorService.handleSyncGitError("Git_InvalidDirectoryName",l):n.gitErrorService.handleSyncGitError("Git_Create_Folder_Failed",l),(0,Pe.of)(void 0)})):(0,Pe.of)(void 0)}),(0,ke.q)(1))},r.prototype.createSaveConnectionRequest=function(){var n,t=this.sessionStorageState$.value;if(this.workspaceId&&t?.selectedGitProviderType&&t?.selectedOrganization&&t?.selectedRepository&&t?.selectedBranch)return{workspaceId:this.workspaceId,gitConnectionDetails:{gitProviderType:t.selectedGitProviderType,organizationName:t.selectedOrganization.name,projectName:void 0,repositoryName:t.selectedRepository.name,branchName:t.selectedBranch,rootDirectory:null!==(n=t?.selectedDirectory)&&void 0!==n?n:"/",datasourceOID:t?.selectedDatasourceOID}}},r.prototype.createSwitchBranchRequest=function(){var n,t,o,s,l;if(null!==(t=null===(n=this.gitConnection$.value)||void 0===n?void 0:n.gitConnectionDetails)&&void 0!==t&&t.head&&null!==(o=this.sessionStorageState$.value)&&void 0!==o&&o.selectedBranch&&this.sessionStorageState$.value.selectedBranch!==(null===(l=null===(s=this.gitConnection$.value)||void 0===s?void 0:s.gitConnectionDetails)||void 0===l?void 0:l.branchName))return{workspaceId:this.workspaceId,request:{workspaceHead:this.gitConnection$.value.gitConnectionDetails.head,targetBranchName:this.sessionStorageState$.value.selectedBranch}}},r.prototype.createInitializeRequest=function(n){return{workspaceId:this.workspaceId,request:{mergePolicy:n}}},r.prototype.initializeConnection=function(){var n=this,t=this.createInitializeRequest(P.None);return this.gitInitializationService.initializeGitConnection(t).pipe((0,ua.b)(function(){return n.gitInitializationService.getGitInitializationCallState(n.workspaceId).pipe((0,We.R)(n.onDestroy$),(0,je.b)(function(o){o===ne.CmZ.Completed&&n.closeWorkspaceSettings.emit()}),(0,Ee.h)(function(o){return(0,me.pb)(o)&&(0,me.E6)(o)}),(0,ke.q)(1),(0,mt.w)(function(){return n.closeWorkspaceSettings.emit(),n.dialogService.open(ye,{panelClass:"dialog-style",width:Te.PW.Medium+"px"}).afterClosed().pipe((0,ke.q)(1),(0,je.b)(function(o){(o===P.KeepYours||o===P.TakeTheirs)&&(t=n.createInitializeRequest(o),n.gitInitializationService.initializeGitConnection(t))}))}))}))},Object.defineProperty(r.prototype,"branchDropdownOptionsList",{get:function(){return this._branchDropdownOptionsList},set:function(t){this._branchDropdownOptionsList=t,this.branchDropdownOptionsListFiltered=t},enumerable:!1,configurable:!0}),r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(ne.gCl),e.\u0275\u0275directiveInject(be.rC),e.\u0275\u0275directiveInject(be.eL),e.\u0275\u0275directiveInject(we.jR),e.\u0275\u0275directiveInject(et),e.\u0275\u0275directiveInject(Xa),e.\u0275\u0275directiveInject(be.Mv),e.\u0275\u0275directiveInject(Te.uQ),e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(ut.V$),e.\u0275\u0275directiveInject(Ha._))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-connection-details-settings-v2"]],inputs:{workspaceId:"workspaceId"},outputs:{closeWorkspaceSettings:"closeWorkspaceSettings"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:7,consts:[[4,"ngIf"],["class","no_branches_in_repo_message_bar",3,"viewModel",4,"ngIf"],[1,"git-connection-details-settings"],[3,"ngSwitch"],["class","fixed-style",4,"ngSwitchCase"],["class","textbox-style",4,"ngSwitchCase"],["class","dropdown-style",4,"ngSwitchCase"],[1,"buttons"],["tri-button","","appearance","primary",3,"disabled","click",4,"ngSwitchCase"],["tri-button","",3,"disabled","click",4,"ngIf"],[1,"no_branches_in_repo_message_bar",3,"viewModel"],[1,"fixed-style"],[3,"triTooltip"],[1,"textbox-style"],[1,"mandatory"],[3,"name","triTooltip"],["type","text",3,"ngClass","ngModel","placeholder","ngModelChange"],["tri-textfield-error","",1,"error-message"],["tri-svg-icon-12","",3,"name"],[1,"dropdown-style"],[3,"ngModel","ngClass","options","disabled","isLoading","ngModelChange","valueChange"],["class","dropdown-search-with-divider",3,"value",4,"ngIf"],["class","action-and-divider",4,"ngIf"],[3,"title","value",4,"ngFor","ngForOf"],["class","empty-dropdown-message",3,"disabled",4,"ngIf"],[1,"dropdown-search-with-divider",3,"value"],[1,"action-and-divider"],["icon","add_16_regular",3,"text","actionClicked"],[3,"title","value"],[1,"empty-dropdown-message",3,"disabled"],["type","text",3,"ngClass","ngModel","disabled","placeholder","ngModelChange"],["tri-button","","appearance","primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["loading",""],["size","tiny","labelPosition","after"],["tri-button","",3,"disabled","click"]],template:function(t,o){1&t&&(e.\u0275\u0275template(0,dd,3,3,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async")),2&t&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,o.loadGitConnection$)&&e.\u0275\u0275pipeBind1(2,3,o.loadGitSessionStorageState$)&&e.\u0275\u0275pipeBind1(3,5,o.loadComponentUtilitiesRecord$))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,g.NgSwitch,g.NgSwitchCase,p.Fj,p.JJ,p.On,xt.M3,Gt.l,is,wt.q,xt.ii,nt.h,hn.U,He.D,O.M,Xe.Z,g.AsyncPipe,I.Y],styles:[".no_branches_in_repo_message_bar[_ngcontent-%COMP%]{padding-top:12px}.git-connection-details-settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:20px;gap:24px}.git-connection-details-settings[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.git-connection-details-settings[_ngcontent-%COMP%]   .fixed-style[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px;margin-top:28px}h4[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:4px;margin:0;font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold)}h4[_ngcontent-%COMP%]   span.mandatory[_ngcontent-%COMP%]{color:var(--globalColorRedShade10)}h4[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{fill:var(--globalColorGrey38)}.textbox-style[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.textbox-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid var(--globalColorGrey82);border-radius:4px;padding:6px 10px 6px 12px;box-sizing:border-box;width:360px}.textbox-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{opacity:.4}.textbox-style[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border:1px solid var(--globalColorCranberryPrimary)}.textbox-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:disabled):not(.error){border-bottom:1px solid var(--globalColorGrey38)}.textbox-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:disabled):focus{outline:none}.textbox-style[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:disabled):focus:not(.error){border-bottom:2px solid var(--globalColorBrand80)}.dropdown-style[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.dropdown-style[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]{width:100%;max-width:360px;overflow-x:hidden;text-overflow:ellipsis;color:var(--colorNeutralForeground4);box-sizing:border-box}.dropdown-style[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     button{border:1px solid var(--globalColorGrey82);border-radius:4px;padding:6px 10px 6px 12px;box-sizing:border-box;width:360px}.dropdown-style[_ngcontent-%COMP%]   tri-dropdown[_ngcontent-%COMP%]     button:disabled{opacity:.4}.dropdown-style[_ngcontent-%COMP%]   .action-and-divider[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-top:1px solid var(--globalColorGrey88);width:100%;margin-top:3px;margin-bottom:4px}.dropdown-style.error[_ngcontent-%COMP%]{border:1px solid var(--globalColorCranberryPrimary)}.dropdown-search-with-divider[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;margin-bottom:2px}.error-message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:4px;color:var(--globalColorCranberryPrimary);fill:var(--globalColorCranberryPrimary)}.error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:var(--fontSizeBase200)}"],changeDetection:0}),r}(cn.w);function gd(i,r){1&i&&(e.\u0275\u0275elementStart(0,"h4",3),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Trident_Git_AAD")))}function _d(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"h4",3),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerStart(6,5),e.\u0275\u0275template(7,gd,3,3,"h4",6),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementStart(8,"div",4),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,5,"Trident_Git_Provider")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.gitProviderTypeDisplayName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",n.selectedGitProviderType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",n.GitProviderTypeSwitch.AzureDevOps),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.userAccount)}}function md(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",4),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"a",7)(4,"button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onClickAdoSignup())}),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"Trident_Git_ADO_Signup")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,4,"Trident_Git_ADO_Signup_Button")," "))}var vd=function(i){function r(n){var t=i.call(this)||this;return t.telemetryService=n,t.selectedGitProviderType=me.IS.AzureDevOps,t.userAccount=null,t.gitProviderTypeChange=new e.EventEmitter,t.GitProviderTypeSwitch=me.IS,t.gitProviderTypesList=[me.IS.AzureDevOps],t.gitProviderTypeDisplayName=t.gitProviderTypeEnumToString(me.IS.AzureDevOps),t}return(0,$.__extends)(r,i),r.prototype.onGitProviderTypeChange=function(n){this.selectedGitProviderType=n,this.gitProviderTypeDisplayName=this.gitProviderTypeEnumToString(n),this.gitProviderTypeChange.emit(n)},r.prototype.onClickAdoSignup=function(){this.telemetryService.logEvent({name:"Navigate to Git provider signup from connection settings",properties:{gitProvider:me.IS.AzureDevOps}})},r.prototype.gitProviderTypeEnumToString=function(n){return me.IS[n]},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Pt.t))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-provider-settings"]],inputs:{selectedGitProviderType:"selectedGitProviderType",userAccount:"userAccount"},outputs:{gitProviderTypeChange:"gitProviderTypeChange"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:2,consts:[[1,"container"],[4,"ngIf","ngIfElse"],["noAccount",""],[1,"title"],[1,"content"],[3,"ngSwitch"],["class","title",4,"ngSwitchCase"],["href","https://azure.microsoft.com/en-us/products/devops/","target","_blank","rel","noopener noreferrer"],["tri-button","",1,"signup-button",3,"click"]],template:function(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,_d,10,7,"ng-container",1),e.\u0275\u0275template(2,md,7,6,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t){var s=e.\u0275\u0275reference(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.userAccount)("ngIfElse",s)}},dependencies:[g.NgIf,g.NgSwitch,g.NgSwitchCase,I.Y],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;margin-top:6px;height:100%;font-size:14px}.title[_ngcontent-%COMP%]{margin-top:8px}h4[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:14px}.content[_ngcontent-%COMP%]{margin-top:4px}.signup-button[_ngcontent-%COMP%]{margin-top:16px}"],changeDetection:0}),r}(cn.w);function hd(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",11),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.getWorkspaceNotOnPremiumWarningContainer())}}function fd(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",11),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.getTenantAdminFSDisabledWarningContainer())}}function Cd(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",11),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.getTemplateAppNotSupportedWarningContainer())}}function Sd(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",11),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.getAdoMFAErrorContainer())}}function yd(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-git-provider-accounts",12),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("workspaceId",n.workspaceId)}}function bd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-git-provider-settings",13),e.\u0275\u0275listener("gitProviderTypeChange",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.onGitProviderTypeChange(s))}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("userAccount",t.userAccount)}}function wd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-git-connection-details-settings-v2",14),e.\u0275\u0275listener("closeWorkspaceSettings",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.closeWorkspaceSettings())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("workspaceId",t.workspaceId)}}function kd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-git-connection-details-settings",16),e.\u0275\u0275listener("organizationChange",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onOrganizationChange(s))})("projectChange",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onProjectChange(s))})("repositoryChange",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onRepositoryChange(s,!1))})("branchChange",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onBranchChange(s))})("folderNameChange",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onFolderNameChange(s))})("createNewBranchChange",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onCreateNewBranch(s))})("connectButtonClick",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.onConnectButtonClick())})("switchBranchButtonClick",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.onSwitchBranchButtonClick())})("cancelButtonClick",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.onCancelButtonClick())})("cancelSwitchButtonClick",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.onSwitchCancelButtonClick())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("isOnCapacity",e.\u0275\u0275pipeBind1(1,19,t.isWorkspaceOnCapacity$))("isConnected",e.\u0275\u0275pipeBind1(2,21,t.isConnected$))("connectionRequestInProgress",e.\u0275\u0275pipeBind1(3,23,t.connectionRequestInProgress$))("switchBranchRequestInProgress",e.\u0275\u0275pipeBind1(4,25,t.switchBranchRequestInProgress$))("workspaceMemberRole",e.\u0275\u0275pipeBind1(5,27,t.workspaceMemberRole$))("organizationsList",e.\u0275\u0275pipeBind1(6,29,t.organizationsList$))("organizationsError",t.organizationsError)("selectedOrganization",e.\u0275\u0275pipeBind1(7,31,t.selectedOrganization$))("projectsList",e.\u0275\u0275pipeBind1(8,33,t.projectsList$))("projectsError",t.projectsError)("selectedProject",e.\u0275\u0275pipeBind1(9,35,t.selectedProject$))("repositoriesList",e.\u0275\u0275pipeBind1(10,37,t.repositoriesList$))("repositoriesError",t.repositoriesError)("selectedRepository",e.\u0275\u0275pipeBind1(11,39,t.selectedRepository$))("branchesList",e.\u0275\u0275pipeBind1(12,41,t.branchesList$))("branchesError",t.branchesError)("selectedBranch",e.\u0275\u0275pipeBind1(13,43,t.selectedBranch$))("newBranchState",e.\u0275\u0275pipeBind1(14,45,t.newBranchState$))("selectedFolderName",e.\u0275\u0275pipeBind1(15,47,t.selectedFolderName$))}}function Id(i,r){if(1&i&&(e.\u0275\u0275template(0,kd,16,49,"tri-git-connection-details-settings",15),e.\u0275\u0275pipe(1,"async")),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,n.showConnectionDetails))}}function xd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",17)(1,"button",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onDisconnectButtonClick())}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Trident_Git_Disconnect_Workspace")," "))}var Md=function(i){function r(n,t,o,s,l,v,C,w,G,re,ge,q,le,$n,Ui){var Xt,se=i.call(this)||this;return se.tridentDialogService=n,se.localizationService=t,se.gitAdminSwitchesService=o,se.gitConnectionService=s,se.gitConnectionDiscoveryService=l,se.gitInitializationService=v,se.gitErrorService=C,se.gitNotificationService=w,se.gitSwitchBranchService=G,se.gitStatusService=re,se.telemetryService=ge,se.gitSessionStorageService=q,se.workspaceContextService=le,se.userInfoTridentService=$n,se.featureSwitchService=Ui,se.workspaceId="",se.workspaceName="",se.closeWorkspaceSettingsFromTab=new e.EventEmitter,se.Title="",se.LoadingState=ne.Gui,se.loadingState$=(0,Pe.of)(ne.Gui.Initial),se.connectionRequestInProgress$=new F.X(!1),se.switchBranchRequestInProgress$=new F.X(null),se.isConnected$=new F.X(!1),se.workspaceMemberRole$=(0,Pe.of)(null),se.isServiceAppWorkspace$=(0,Pe.of)(!1),se.isAdoMFANeeded$=new F.X(!1),se.isWorkspaceOnCapacity$=new F.X(!1),se.showConnectionDetails=new F.X(!1),se.isAdminFeatureSwitchEnabled$=(0,Pe.of)(!1),se.FolderMemberRole=sn.R7,se.currentSelection$=new F.X(zt.None),se.selectedGitProviderType$=new F.X(me.IS.AzureDevOps),se.gitProviderTypesList=[me.IS.AzureDevOps],se.selectedOrganization$=new F.X(null),se.organizationsList$=new F.X(null),se.organizationsError=null,se.selectedProject$=new F.X(null),se.projectsList$=new F.X(null),se.projectsError=null,se.selectedRepository$=new F.X(null),se.repositoriesList$=new F.X(null),se.repositoriesError=null,se.selectedBranch$=new F.X(null),se.newBranchState$=new F.X(null),se.branchesList$=new F.X(null),se.branchesError=null,se.componentConfigMap=(0,be.EI)(),se.showGenericUI=se.featureSwitchService.featureSwitches.tridentGitGitHubApis,se.showConnectionDetailsV2$=(0,Pe.of)(),se.disableAndCollapseConnectionDetails$=(0,Pe.of)(!0),se.selectedFolderName$=new F.X(null),se.isFolderExists$=new F.X(!0),se.selectionMetadata=((Xt={})[zt.Organization]={selected$:se.selectedOrganization$,list$:se.organizationsList$},Xt[zt.Project]={selected$:se.selectedProject$,list$:se.projectsList$},Xt[zt.Repository]={selected$:se.selectedRepository$,list$:se.repositoriesList$},Xt[zt.Branch]={selected$:se.selectedBranch$,list$:se.branchesList$},Xt),se.userAccount=se.userInfoTridentService.name,se}return(0,$.__extends)(r,i),r.prototype.ngOnInit=function(){var n=this;this.isAdminFeatureSwitchEnabled$=this.gitAdminSwitchesService.isTenantAdminEnabled(this.workspaceId),this.workspaceContextService.selectedWorkspaceCapacitySkuTier$.pipe((0,We.R)(this.onDestroy$)).subscribe(function(s){n.isWorkspaceOnCapacity$.next(!!(s&&6!==s||n.featureSwitchService.featureSwitches.tridentGitOnShared)),n.gitSessionStorageService.selectWorkspaceCapacity(n.workspaceId,n.isWorkspaceOnCapacity$.value)}),this.isServiceAppWorkspace$=this.workspaceContextService.selectedWorkspaceIsServiceApp$;var t=this.localizationService.get("Trident_Git_Git_Integration"),o=this.localizationService.get("Preview");this.Title="".concat(t," (").concat(o,")"),(0,Ke.aj)([this.isServiceAppWorkspace$,this.isAdoMFANeeded$,this.isWorkspaceOnCapacity$,this.isConnected$,this.isAdminFeatureSwitchEnabled$]).pipe((0,We.R)(this.onDestroy$)).subscribe(function(s){n.showConnectionDetails.next(null!==n.userAccount&&!s[0]&&!s[1]&&s[4]&&(s[3]||s[2]))}),(0,Ke.aj)([this.gitConnectionService.ensureGitConnection(this.workspaceId,!0).pipe((0,Ee.h)(function(s){return s?.callState!==ne.CmZ.Initial&&s?.callState!==ne.CmZ.InProgress}),(0,ke.q)(1)),this.showConnectionDetails.pipe((0,Kt.x)())]).pipe((0,We.R)(this.onDestroy$)).subscribe(function(s){var l=s[0],v=s[1];l&&l?.gitConnectionDetails&&!(0,me.pb)(l?.callState)?l?.gitConnectionDetails&&(n.setExistingConnection(l.gitConnectionDetails),n.userAccount&&n.gitSessionStorageService.selectUserAccount(n.workspaceId,n.userAccount)):v&&n.returnToDefaultState()}),this.loadingState$=this.gitConnectionService.getGitConnectionOperationState(this.workspaceId),this.workspaceContextService.selectedWorkspacePermission$.pipe((0,ke.q)(1),(0,ve.U)(function(s){return n.workspaceMemberRole$=(0,Pe.of)((0,sn.lC)(s))})).subscribe(),this.initializeUISettings(),this.logOpenGitIntegrationTabEvent()},r.prototype.getWorkspaceNotOnPremiumWarningContainer=function(){return function(i){return{bannerType:2,message:i.get("Trident_Git_Premium_License"),linkDisplayName:i.get("LearnMore"),link:"https://go.microsoft.com/fwlink/?linkid=2235445&clcid=0x409"}}(this.localizationService)},r.prototype.getTemplateAppNotSupportedWarningContainer=function(){return function(i){return{bannerType:2,message:i.get("Trident_Git_ServiceApp_NotSupported_Warning")}}(this.localizationService)},r.prototype.getAdoMFAErrorContainer=function(){return function(i){return{bannerType:1,message:i.get("Trident_Git_ADO_MFANotSupported_Error")}}(this.localizationService)},r.prototype.getTenantAdminFSDisabledWarningContainer=function(){return function(i){return{bannerType:2,message:i.get("Trident_Git_TenantAdminSwitchDisabled_Message")}}(this.localizationService)},r.prototype.getSelectionValue=function(n){var t=this.selectionMetadata[n];return t?t.selected$:void 0},r.prototype.getSelectionList=function(n){var t=this.selectionMetadata[n];return t?t.list$:void 0},r.prototype.resetList=function(n){n?.next(null)},r.prototype.updateState=function(n){this.currentSelection$.next(n),this.resetPriorSelections(n)},r.prototype.resetPriorSelections=function(n){for(var t=++n;t<zt.IteratorLast;t++){var o=this.getSelectionList(t);this.resetList(o);var s=this.getSelectionValue(t);s?.next(null)}this.organizationsError=null,this.projectsError=null,this.repositoriesError=null,this.branchesError=null},r.prototype.onGitProviderTypeChange=function(n){var t=this;this.updateState(zt.GitProviderType),this.selectedGitProviderType$.next(n),this.organizationsError=null,this.gitConnectionDiscoveryService.getOrganizations(n,this.workspaceId).pipe((0,ve.U)(function(o){var s=t.sortArray(o.map(function(l){return{key:l.name,text:l.name}}));t.organizationsList$.next(s)}),(0,Et.K)(function(o){var s=t.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",o);return(0,me.xT)(s,"Git_GitProviderResourceNotExistOrUnauthorized")&&(t.userAccount=null),(0,me.xT)(s,"Git_AdoConditionalAccessNotSupported")&&t.isAdoMFANeeded$.next(!0),t.organizationsList$.next([]),t.organizationsError=(0,me.lz)(s),(0,Pe.of)([])})).subscribe()},r.prototype.onOrganizationChange=function(n){var t=this;this.logGitSelection("Git organization selected",this.organizationsList$),this.updateState(zt.Organization),this.selectedOrganization$.next(n),this.projectsError=null,this.gitConnectionDiscoveryService.getProjects(this.selectedGitProviderType$.value,n.name,this.workspaceId).pipe((0,ve.U)(function(o){var s=t.sortArray(o.map(function(l){return{key:l.name,text:l.name}}));t.projectsList$.next(s)}),(0,Et.K)(function(o){var s=t.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",o);return t.projectsList$.next([]),t.projectsError=(0,me.lz)(s),(0,Pe.of)([])})).subscribe()},r.prototype.onProjectChange=function(n){var o,t=this;this.logGitSelection("Git project selected",this.projectsList$),this.updateState(zt.Project),this.selectedProject$.next(n),this.repositoriesError=null,this.gitConnectionDiscoveryService.getRepositories(this.selectedGitProviderType$.value,null===(o=this.selectedOrganization$.value)||void 0===o?void 0:o.name,n.name,this.workspaceId).pipe((0,ve.U)(function(s){var l=t.sortArray(s.map(function(v){return{key:v.name,text:v.name}}));t.repositoriesList$.next(l)}),(0,Et.K)(function(s){var l=t.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",s);return t.repositoriesList$.next([]),t.repositoriesError=(0,me.lz)(l),(0,Pe.of)([])})).subscribe()},r.prototype.onRepositoryChange=function(n,t){var s,l,o=this;t||this.logGitSelection("Git repository selected",this.repositoriesList$),this.updateState(zt.Repository),this.selectedRepository$.next(n),this.branchesError=null;var v={workspaceId:this.workspaceId,gitProviderType:this.selectedGitProviderType$.value,organization:null===(s=this.selectedOrganization$.value)||void 0===s?void 0:s.name,repository:n.name,project:null===(l=this.selectedProject$.value)||void 0===l?void 0:l.name,datasourceOID:void 0};this.gitConnectionDiscoveryService.getBranches(v).pipe((0,ke.q)(1),(0,Et.K)(function(C){var w=o.gitErrorService.makeGitErrorFromHttpResponse("Git_Connect_Failed",C);return o.branchesList$.next([]),o.branchesError=(0,me.lz)(w),(0,Pe.of)([])})).subscribe(function(C){var w=o.filterBranchsByPrefix(C),G=o.sortArray(w.map(function(re){return{key:re.name,text:re.name}}));o.telemetryService.logEvent({name:"Git branches fetched",properties:{fetchContext:t?"Connection management":"Connection creation"}}),o.branchesList$.next(G)})},r.prototype.onBranchChange=function(n){this.logGitSelection("Git branch selected",this.branchesList$),this.updateState(zt.Branch),this.selectedBranch$.next(n)},r.prototype.onFolderNameChange=function(n){(!n||""!==n)&&this.selectedFolderName$.next(n)},r.prototype.onCreateNewBranch=function(n){var o,s,l,v,t=this;if(null!==(o=n.parentBranch)&&void 0!==o&&o.name&&null!==(s=this.selectedOrganization$.value)&&void 0!==s&&s.name&&null!==(l=this.selectedProject$.value)&&void 0!==l&&l.name&&null!==(v=this.selectedRepository$.value)&&void 0!==v&&v.name)this.gitConnectionDiscoveryService.createBranch({branchName:n.name,parentBranchName:n.parentBranch.name,organizationName:this.selectedOrganization$.value.name,projectName:this.selectedProject$.value.name,providerType:this.selectedGitProviderType$.value,repositoryId:this.selectedRepository$.value.name,workspaceId:this.workspaceId}).pipe((0,je.b)(function(){var G=n.name;if(t.selectedBranch$.next({name:G}),t.newBranchState$.next({name:G}),t.branchesList$.value){t.branchesList$.value.push({key:G,text:G});var re=t.sortArray(t.branchesList$.value.map(function(ge){return{key:ge.key,text:ge.text}}));t.branchesList$.next(re)}}),(0,Et.K)(function(G){var re,ge;switch(null===(re=G.error["pbi.error"])||void 0===re?void 0:re.code){case"Git_InvalidBranchName":ge=t.gitErrorService.makeGitErrorFromHttpResponse("Git_InvalidBranchName",G);break;case"Git_BranchNameAlreadyExists":ge=t.gitErrorService.makeGitErrorFromHttpResponse("Git_BranchNameAlreadyExists",G);break;default:ge=t.gitErrorService.makeGitErrorFromHttpResponse("Git_Create_Branch_Failed",G)}return t.newBranchState$.next(ge),(0,Pe.of)()})).subscribe();else{var C=this.gitErrorService.makeClientSideGitError("Git_Create_Branch_Origin_Branch_Not_Found");this.newBranchState$.next(C)}},r.prototype.createFolderForNewConnection=function(){var n=this,s={title:this.localizationService.get("Trident_Git_Add_New_Folder_Title"),buttons:[{name:this.localizationService.get("Trident_Git_Create_And_Sync"),label:this.localizationService.get("Trident_Git_Create_And_Sync"),buttonType:"primary"},{name:this.localizationService.get("Cancel_ButtonText"),label:this.localizationService.get("Cancel_ButtonText"),buttonType:null}],folderName:this.selectedFolderName$.value,content:this.localizationService.get("Trident_Git_Create_New_Folder_Content")};this.tridentDialogService.open(Za,{width:"400px",panelClass:"dialog-style",data:s}).afterClosed().subscribe(function(l){var v,C,w,G,re,ge,q,le;if(l){if(!(null!==(v=n.selectedOrganization$.value)&&void 0!==v&&v.name&&null!==(C=n.selectedProject$.value)&&void 0!==C&&C.name&&null!==(w=n.selectedRepository$.value)&&void 0!==w&&w.name&&null!==(G=n.selectedBranch$.value)&&void 0!==G&&G.name&&n.selectedFolderName$.value)){var $n=n.gitErrorService.makeClientSideGitError("Git_Create_Directory_Invalid_Request");return void n.gitNotificationService.showErrorNotification($n,"Trident_Git_Toast_Create_Folder_Fail")}var Ui={providerType:n.selectedGitProviderType$.value,organizationName:n.selectedOrganization$.value.name,projectName:null===(re=n.selectedProject$.value)||void 0===re?void 0:re.name,repositoryId:null===(ge=n.selectedRepository$.value)||void 0===ge?void 0:ge.name,branchName:null===(q=n.selectedBranch$.value)||void 0===q?void 0:q.name,newDirectoryName:n.selectedFolderName$.value,workspaceId:n.workspaceId};n.gitConnectionDiscoveryService.createDirectory(Ui).pipe((0,ke.q)(1),(0,je.b)(function(){n.isFolderExists$.next(!0),n.onConnectButtonClick()}),(0,Et.K)(function(Xt){var se;return"Git_InvalidDirectoryName"===(null===(se=Xt.error["pbi.error"])||void 0===se?void 0:se.code)?n.gitErrorService.handleSyncGitError("Git_InvalidDirectoryName",Xt):n.gitErrorService.handleSyncGitError("Git_Create_Folder_Failed",Xt),(0,Pe.of)()})).subscribe()}else n.onBranchChange(null===(le=n.selectedBranch$)||void 0===le?void 0:le.value),n.connectionRequestInProgress$.next(!1)})},r.prototype.onSwitchBranchButtonClick=function(){var n=this;(0,Ke.aj)([this.gitConnectionService.getGitConnection(this.workspaceId),this.gitStatusService.getUncommittedChangesCount(this.workspaceId)]).pipe((0,ke.q)(1)).subscribe(function(t){var o,s,l=t[0],v=t[1];!1===(null===(o=l?.gitConnectionDetails)||void 0===o?void 0:o.isInitialized)?n.gitErrorService.handleClientSideGitError("Git_Workspace_Not_Initialized"):void 0===(null===(s=l?.gitConnectionDetails)||void 0===s?void 0:s.head)?n.gitErrorService.handleClientSideGitError("Git_HeadNotSynced"):0!==v?n.gitErrorService.handleClientSideGitError("Git_GitSwitchBranchWithUncommittedChanges"):(n.openSwitchBranchConfirmationDialog(),n.switchBranchRequestInProgress$.next(!1))})},r.prototype.onConnectButtonClick=function(){var n=this,t=this.getSelectedConnectionDetails();this.gitConnectionService.saveGitConnection({workspaceId:this.workspaceId,gitConnectionDetails:t}),this.gitConnectionService.getGitConnectionOperationState(this.workspaceId).pipe((0,We.R)(this.onDestroy$),(0,Ee.h)(function(l){return(0,me.pb)(l)&&(0,me.yG)(l)}),(0,ke.q)(1)).subscribe(function(){n.connectionRequestInProgress$.next(!1),n.createFolderForNewConnection()});var s=this.gitConnectionService.getGitConnectionOperationState(this.workspaceId).pipe((0,We.R)(this.onDestroy$),(0,ve.U)(function(l){return(0,me.pb)(l)&&(0,me.yG)(l)?(n.isFolderExists$.next(!1),ne.CmZ.Initial):(n.connectionRequestInProgress$.next(l===ne.CmZ.InProgress),l)}));(0,Ke.aj)([s,this.isFolderExists$]).pipe((0,We.R)(this.onDestroy$),(0,Ee.h)(function(l){return l[0]===ne.CmZ.Completed||!l[1]}),(0,ke.q)(1),(0,mt.w)(function(l){return l[1]?n.gitConnectionService.loadGitConnection(n.workspaceId):(0,Pe.of)(void 0)}),(0,ke.q)(1)).subscribe(function(l){var v,C;!1===(null===(v=l?.gitConnectionDetails)||void 0===v?void 0:v.isInitialized)&&((0,me.pb)(l?.callState)?n.onBranchChange(null===(C=n.selectedBranch$)||void 0===C?void 0:C.value):l?.callState===ne.CmZ.Completed&&(n.isConnected$.next(!0),n.initializeGitConnection(),n.closeWorkspaceSettingsFromTab.emit()))})},r.prototype.initializeGitConnection=function(){var n=this;this.isConnected$.value?(this.gitInitializationService.initializeGitConnection({workspaceId:this.workspaceId,request:{mergePolicy:me.Z_.None}}),this.gitInitializationService.getGitInitializationCallState(this.workspaceId).pipe((0,Ee.h)(function(s){return(0,me.pb)(s)&&(0,me.E6)(s)}),(0,ke.q)(1),(0,mt.w)(function(){return n.tridentDialogService.open(ye,{panelClass:"dialog-style",width:Te.PW.Medium+"px"}).afterClosed()})).subscribe(function(s){(s===me.Z_.KeepYours||s===me.Z_.TakeTheirs)&&n.gitInitializationService.initializeGitConnection({workspaceId:n.workspaceId,request:{mergePolicy:s}})})):this.gitErrorService.handleClientSideGitError("Git_WorkspaceNotConnectedToGit")},r.prototype.getSelectedConnectionDetails=function(){var n,t,o,s,l,v=this.selectedGitProviderType$.value,C=null===(n=this.selectedOrganization$.value)||void 0===n?void 0:n.name,w=null===(t=this.selectedProject$.value)||void 0===t?void 0:t.name,G=null===(o=this.selectedRepository$.value)||void 0===o?void 0:o.name,re=null===(s=this.selectedBranch$.value)||void 0===s?void 0:s.name,ge=null!==(l=this.selectedFolderName$.value)&&void 0!==l?l:"/";if(v===me.IS.AzureDevOps&&C&&w&&G&&re)return{gitProviderType:v,organizationName:C,projectName:w,repositoryName:G,branchName:re,rootDirectory:ge,isInitialized:!1};this.gitErrorService.handleClientSideGitError("Git_Invalid_Connection_Details")},r.prototype.onCancelButtonClick=function(){this.returnToDefaultState()},r.prototype.onSwitchCancelButtonClick=function(){var n=this;this.gitConnectionService.getGitConnection(this.workspaceId).pipe((0,We.R)(this.onDestroy$),(0,ke.q)(1),(0,ve.U)(function(t){var o;return null!==(o=t?.gitConnectionDetails)&&void 0!==o&&o.branchName&&n.onBranchChange({name:t.gitConnectionDetails.branchName}),null}))},r.prototype.onDisconnectButtonClick=function(){var n=this;this.tridentDialogService.open(Xs,{panelClass:"dialog-style",width:Te.PW.Medium+"px",data:{workspaceName:this.workspaceName}}).afterClosed().pipe((0,Ka.P)(),(0,Ee.h)(function(t){return t===Ja}),(0,mt.w)(function(){return n.gitConnectionService.deleteGitConnection(n.workspaceId).pipe((0,ke.q)(1),(0,Et.K)(function(t){return n.gitErrorService.handleSyncGitError("Git_Disconnect_Failed",t),(0,Pe.of)()}))})).subscribe(function(){n.connectionRequestInProgress$.next(!1),n.isConnected$.next(!1),n.returnToDefaultState()})},r.prototype.closeWorkspaceSettings=function(){this.closeWorkspaceSettingsFromTab.emit()},r.prototype.returnToDefaultState=function(){this.selectedFolderName$.next(null),this.resetPriorSelections(zt.GitProviderType),this.onGitProviderTypeChange(me.IS.AzureDevOps)},r.prototype.setExistingConnection=function(n){this.isConnected$.value||(this.isConnected$.next(!0),n?.gitProviderType!==me.IS.GitHub&&(this.selectedOrganization$.next({name:n.organizationName}),this.selectedProject$.next({name:n.projectName}),this.selectedRepository$.next({name:n.repositoryName}),this.onRepositoryChange({name:n.repositoryName},!0),this.selectedBranch$.next({name:n.branchName}),this.selectedFolderName$.next(n.rootDirectory)))},r.prototype.sortArray=function(n){return n.sort(function(t,o){return t.text.toLocaleLowerCase()>o.text.toLocaleLowerCase()?1:-1})},r.prototype.filterBranchsByPrefix=function(n){if(0===n.length)return[];var t=["refs/tags/"];return n.filter(function(o){return!t.some(function(s){return o.name.toLowerCase().startsWith(s.toLowerCase())})})},r.prototype.openSwitchBranchConfirmationDialog=function(){var n=this;this.tridentDialogService.open(qa,Ya(this.localizationService)).afterClosed().pipe((0,Ee.h)(function(t){return!!t}),(0,ke.q)(1),(0,mt.w)(function(){return n.switchBranchRequestInProgress$.next(!0),n.doSwitchBranchFlow()})).subscribe(function(){return n.switchBranchRequestInProgress$.next(!1)})},r.prototype.doSwitchBranchFlow=function(){var n=this;return this.switchBranchRequestInProgress$.next(!0),this.gitConnectionService.getGitConnection(this.workspaceId).pipe((0,ke.q)(1),(0,ua.b)(function(t){var o,s;if(null!==(o=t?.gitConnectionDetails)&&void 0!==o&&o.head&&null!==(s=n.selectedBranch$)&&void 0!==s&&s.value)return(0,Ke.aj)([n.gitSwitchBranchService.switchBranch({workspaceId:n.workspaceId,request:{workspaceHead:t.gitConnectionDetails.head,targetBranchName:n.selectedBranch$.value.name}}),n.gitSwitchBranchService.getSwitchBranchState(n.workspaceId)]);throw"Git_Switch_Branch_Invalid_Request"}),(0,Ee.h)(function(t){var o=t[0],s=t[1];return(0,me.pb)(s)||s===ne.ND3.Completed||void 0!==o?.response}),(0,ke.q)(1),(0,ve.U)(function(t){var o;return(0,me.pb)(t[1])?void n.onBranchChange(null===(o=n.selectedBranch$)||void 0===o?void 0:o.value):(n.gitConnectionService.loadGitConnection(n.workspaceId),void n.closeWorkspaceSettings())}),(0,Et.K)(function(t){return n.switchBranchRequestInProgress$.next(!1),n.gitErrorService.handleClientSideGitError(t),Ws.E}))},r.prototype.logOpenGitIntegrationTabEvent=function(){var n=this;this.gitAdminSwitchesService.isTenantAdminEnabled(this.workspaceId).pipe((0,ke.q)(1)).subscribe(function(t){n.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",featureName:"Git Integration",activityName:"Open Git workspace settings tab",activityAttributes:{isConnected:n.isConnected$.value,restrictedByCapacity:!n.isWorkspaceOnCapacity$.value,restrictedByTenantAdminFS:!t}})})},r.prototype.logGitSelection=function(n,t){var o=this;t.pipe((0,ke.q)(1),(0,ve.U)(function(s){return s?.length})).subscribe(function(s){o.telemetryService.logEvent({name:n,properties:{selectionContext:"Git connection settings",selectionCount:s}})})},r.prototype.initializeUISettings=function(){var n=this;this.showConnectionDetailsV2$=(0,Ke.aj)([this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId),this.gitConnectionService.getGitConnection(this.workspaceId)]).pipe((0,ve.U)(function(t){var o=t[0],s=t[1];return n.showGenericUI&&o?.selectedGitProviderType===me.IS.GitHub&&(o?.isConfigured||void 0!==s?.gitConnectionDetails)})),this.disableAndCollapseConnectionDetails$=(0,Ke.aj)([this.gitSessionStorageService.loadGitSessionStorage(this.workspaceId),this.gitConnectionService.getGitConnection(this.workspaceId)]).pipe((0,ve.U)(function(t){var o,s=t[0],l=t[1];return!(!n.showGenericUI||void 0!==l?.gitConnectionDetails||s.isWorkspaceOnCapaity&&void 0!==s.selectedGitProviderType&&null!==(o=n.componentConfigMap[s?.selectedGitProviderType])&&void 0!==o&&o.isWorkspaceConnectedToGitProvider(s))}))},r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(Te.uQ),e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(be.Gg),e.\u0275\u0275directiveInject(be.rC),e.\u0275\u0275directiveInject(be.eL),e.\u0275\u0275directiveInject(et),e.\u0275\u0275directiveInject(we.jR),e.\u0275\u0275directiveInject(Me.mn),e.\u0275\u0275directiveInject(be.Mv),e.\u0275\u0275directiveInject(Xa),e.\u0275\u0275directiveInject(Pt.t),e.\u0275\u0275directiveInject(ne.gCl),e.\u0275\u0275directiveInject(Ha._),e.\u0275\u0275directiveInject(ga.NQ),e.\u0275\u0275directiveInject(ut.V$))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["tri-git-connection-settings"]],inputs:{workspaceId:"workspaceId",workspaceName:"workspaceName"},outputs:{closeWorkspaceSettingsFromTab:"closeWorkspaceSettingsFromTab"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:33,vars:45,consts:[[1,"title"],[1,"subtitle"],["target","_blank","href","https://go.microsoft.com/fwlink/?linkid=2235346&clcid=0x409","localize","LearnMore","localize-tooltip","LearnMore",1,"learn-more-link-icon"],[3,"viewModel",4,"ngIf"],[3,"headerText","iconName"],[4,"ngIf","ngIfElse"],["showAzureDevopsUI",""],[1,"divider"],[3,"headerText","iconName","collapsed","disabled"],["showConnectionDetailsV1",""],["class","footer",4,"ngIf"],[3,"viewModel"],[3,"workspaceId"],[3,"userAccount","gitProviderTypeChange"],[3,"workspaceId","closeWorkspaceSettings"],[3,"isOnCapacity","isConnected","connectionRequestInProgress","switchBranchRequestInProgress","workspaceMemberRole","organizationsList","organizationsError","selectedOrganization","projectsList","projectsError","selectedProject","repositoriesList","repositoriesError","selectedRepository","branchesList","branchesError","selectedBranch","newBranchState","selectedFolderName","organizationChange","projectChange","repositoryChange","branchChange","folderNameChange","createNewBranchChange","connectButtonClick","switchBranchButtonClick","cancelButtonClick","cancelSwitchButtonClick",4,"ngIf"],[3,"isOnCapacity","isConnected","connectionRequestInProgress","switchBranchRequestInProgress","workspaceMemberRole","organizationsList","organizationsError","selectedOrganization","projectsList","projectsError","selectedProject","repositoriesList","repositoriesError","selectedRepository","branchesList","branchesError","selectedBranch","newBranchState","selectedFolderName","organizationChange","projectChange","repositoryChange","branchChange","folderNameChange","createNewBranchChange","connectButtonClick","switchBranchButtonClick","cancelButtonClick","cancelSwitchButtonClick"],[1,"footer"],["tri-button","",1,"disconnect-button",3,"click"]],template:function(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"h4",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"div",1),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementStart(5,"tri-link",2),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(8,hd,1,1,"tri-message-bar",3),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275template(10,fd,1,1,"tri-message-bar",3),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275template(12,Cd,1,1,"tri-message-bar",3),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275template(14,Sd,1,1,"tri-message-bar",3),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275elementStart(16,"tri-collapsed-container",4),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275template(18,yd,2,1,"ng-container",5),e.\u0275\u0275template(19,bd,1,1,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"div",7),e.\u0275\u0275elementStart(22,"tri-collapsed-container",8),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275pipe(24,"async"),e.\u0275\u0275pipe(25,"async"),e.\u0275\u0275template(26,wd,2,1,"ng-container",5),e.\u0275\u0275pipe(27,"async"),e.\u0275\u0275template(28,Id,2,3,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(30,xd,4,3,"div",10),e.\u0275\u0275pipe(31,"async"),e.\u0275\u0275pipe(32,"async")),2&t){var v,C,s=e.\u0275\u0275reference(20),l=e.\u0275\u0275reference(29);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(o.Title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(4,19,"Trident_Git_Git_Integration_Info")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,21,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(9,23,o.isWorkspaceOnCapacity$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(11,25,o.isAdminFeatureSwitchEnabled$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(13,27,o.isServiceAppWorkspace$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(15,29,o.isAdoMFANeeded$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("headerText",e.\u0275\u0275pipeBind1(17,31,"Trident_Git_Provider_Title"))("iconName","plug_connected_20_regular"),e.\u0275\u0275attribute("data-testid","git-provider-accounts-connection-settings"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.showGenericUI)("ngIfElse",s),e.\u0275\u0275advance(4),e.\u0275\u0275property("headerText",e.\u0275\u0275pipeBind1(23,33,"Trident_Git_Repository_And_Branch"))("iconName","archive_20_regular")("collapsed",null===(v=e.\u0275\u0275pipeBind1(24,35,o.disableAndCollapseConnectionDetails$))||void 0===v||v)("disabled",null===(C=e.\u0275\u0275pipeBind1(25,37,o.disableAndCollapseConnectionDetails$))||void 0===C||C),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(27,39,o.showConnectionDetailsV2$))("ngIfElse",l),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(31,41,o.isConnected$)&&e.\u0275\u0275pipeBind1(32,43,o.workspaceMemberRole$)===o.FolderMemberRole.Admin)}},dependencies:[g.NgIf,Mc,Y,he.v,nt.h,Tl,ud,vd,g.AsyncPipe,I.Y],styles:["[_nghost-%COMP%]{font-size:14px}.title[_ngcontent-%COMP%]{margin:0 0 6px;font-weight:600}.subtitle[_ngcontent-%COMP%]{margin-bottom:20px}tri-message-bar[_ngcontent-%COMP%]{margin-bottom:16px}.divider[_ngcontent-%COMP%]{height:16px}.footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;padding:0 0 16px 12px;gap:8px;border-radius:2px;margin-top:16px}.footer[_ngcontent-%COMP%]   .disconnect-button[_ngcontent-%COMP%]{padding:0 12px;gap:4px;min-width:166px;height:32px;background:var(--globalColorWhite);border-radius:4px}"],changeDetection:0}),r}(cn.w),Pd=function(){function i(r){this.workspaceSettingsService=r,this.workspaceObjectId=this.workspaceSettingsService.workspaceObjectId,this.workspaceName=this.workspaceSettingsService.workspaceName,this.closeWorkspaceSettingsFromTab=new e.EventEmitter}return i.prototype.onCloseWorkspaceSettingsFromTab=function(){this.closeWorkspaceSettingsFromTab.emit()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-git-integration"]],outputs:{closeWorkspaceSettingsFromTab:"closeWorkspaceSettingsFromTab"},decls:1,vars:2,consts:[[3,"workspaceId","workspaceName","closeWorkspaceSettingsFromTab"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"tri-git-connection-settings",0),e.\u0275\u0275listener("closeWorkspaceSettingsFromTab",function(){return t.onCloseWorkspaceSettingsFromTab()}),e.\u0275\u0275elementEnd()),2&n&&e.\u0275\u0275property("workspaceId",t.workspaceObjectId)("workspaceName",t.workspaceName)},dependencies:[Md],changeDetection:0}),i}(),Nn=function(i){return i.S3="S3",i.GCP="GCP",i.ExternalADLS="ExternalADLS",i.S3Compatible="S3Compatible",i.OnPrem="OnPrem",i.InternalCrossRegion="InternalCrossRegion",i.OneLakeDatashare="OneLakeDatashare",i}({}),Td=function(i){return i.Started="STARTED",i.InProgress="INPROGRESS",i.Completed="COMPLETED",i}({}),Od=function(i){return i.CacheReset="CACHERESET",i.CacheDisable="CACHEDISABLE",i.RetentionPeriodUpDate="RETENTIONPERIODUPDATE",i}({});function Ed(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",1),e.\u0275\u0275elementContainerEnd())}function Dd(i,r){1&i&&(e.\u0275\u0275elementStart(0,"section",10),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Trident_Unsaved_Changes_OneLake_Settings")," "))}function Bd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-switch",20),e.\u0275\u0275listener("ngModelChange",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.isSwitchToggled=s)})("ngModelChange",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.toggleCacheSettings())}),e.\u0275\u0275elementStart(1,"div",21),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngModel",t.isSwitchToggled)("disabled",!t.isWorkspaceAdmin)("aria-label",t.isSwitchToggled?t.toggleSwitchOn:t.toggleSwitchOff),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.isSwitchToggled?t.toggleSwitchOn:t.toggleSwitchOff)}}function Gd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-workspace-settings-section-divider",11)(2,"h3",8),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",12)(6,"section",13)(7,"h3",8),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",2),e.\u0275\u0275template(11,Bd,3,4,"tri-switch",14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",2)(13,"section",5),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275element(16,"br"),e.\u0275\u0275elementStart(17,"tri-link",15),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div")(21,"section",16),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275elementStart(24,"span"),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(28,"div",17)(29,"button",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.saveCacheSettings())}),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.discardChanges())}),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,13,"Trident_Workspace_Settings_OneLake_S3ShortcutCachePreview")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,15,"Trident_Workspace_Settings_OneLake_S3ShortcutCacheDuration")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!t.isSaveInProgress),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,17,"Trident_Workspace_Settings_OneLake_S3ShortcutCacheDuration_Description")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(19,19,"Trident_Workspace_Settings_OneLake_S3ShortcutCacheDuration_Description_LearnMoreText")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(23,21,"Trident_Workspace_Settings_OneLake_S3ShortcutCacheDuration_RetentionPeriod")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.selectedCacheDuration," "),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(27,23,t.selectedCacheDuration>0?"TimeUnit_Day":"TimeUnit_Days")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!t.isWorkspaceAdmin||t.isButtonDisabled),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(31,25,"PBI_Button_Label_Save")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.isWorkspaceAdmin||t.isButtonDisabled),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(34,27,"Settings_DiscardButtonText")," ")}}function zd(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",2),e.\u0275\u0275template(2,Dd,3,3,"section",3),e.\u0275\u0275elementStart(3,"h2",4),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"section",5),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275element(9,"br"),e.\u0275\u0275elementStart(10,"tri-link",6),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"tri-workspace-settings-section-divider",7)(14,"div",2)(15,"h3",8),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"section",5),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275element(21,"br"),e.\u0275\u0275elementStart(22,"tri-link",9),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(25,Gd,35,29,"ng-container",0),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.isSaveInProgress),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,10,"Trident_Workspace_Settings_OneLake_Settings")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,12,"Trident_Workspace_Settings_OneLake_S3ShortcutManageSetting")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,14,"Trident_Workspace_Settings_OneLake_Settings_Description_LearnMoreText")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,16,"Trident_Workspace_Settings_OneLake_DownloadOneLakeAppLink")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(20,18,"Trident_Workspace_Settings_OneLake_DownloadOneLakeAppLink_Description")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(24,20,"Trident_Workspace_Settings_OneLake_DownloadOneLakeAppLink_Description_DownloadOneLakeText")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.enableOneLakeUXS3Cache)}}var Ad=function(){function i(r,n,t,o){var l,s=this;this.workspaceSettingsService=r,this.featureSwitchService=n,this.localizationService=t,this.changeDetectorRef=o,this.closeSettings=new e.EventEmitter,this.isWorkspaceAdmin=!1,this.initialized$=this.workspaceSettingsService.initialized$,this.enableOneLakeUXS3Cache=!0,this.toggleSwitchOn="",this.toggleSwitchOff="",this.isSaveInProgress=!1,this.initialized$.subscribe(function(v){v&&(s.isWorkspaceAdmin=s.workspaceSettingsService.isWorkspaceAdmin)}),this.selectedCacheDuration=0,this.isSwitchToggled=this.isCacheEnabled=!1,this.enableOneLakeUXS3Cache=!(null===(l=this.featureSwitchService.featureSwitches)||void 0===l||!l.OneLakeUXS3Cache),this.isButtonDisabled=!0,this.fileReadCountForCaching=1,this.maxCacheSizeInGB=1,this.maxCacheStalenessPeriodInHours=1}return i.prototype.ngOnInit=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){var r;return(0,$.__generator)(this,function(n){switch(n.label){case 0:return this.toggleSwitchOn=this.localizationService.get("ToggleSwitchOn"),this.toggleSwitchOff=this.localizationService.get("ToggleSwitchOff"),[4,this.workspaceSettingsService.retrieveCacheSettings(Nn.S3)];case 1:return r=n.sent(),this.selectedCacheDuration=r?.cacheRetentionPeriodInDays,this.isSwitchToggled=this.isCacheEnabled=r?.isCacheEnabled||!1,this.fileReadCountForCaching=r?.fileReadCountForCaching||1,this.maxCacheSizeInGB=r?.maxCacheSizeInGB||1,this.maxCacheStalenessPeriodInHours=r?.maxCacheStalenessPeriodInHours||1,r?.isCacheEnabled||(this.selectedCacheDuration=0),this.changeDetectorRef.detectChanges(),[2]}})})},i.prototype.handleSliderChange=function(r){this.selectedCacheDuration=r},i.prototype.saveCacheSettings=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){var n;return(0,$.__generator)(this,function(t){switch(t.label){case 0:return this.isSwitchToggled?(this.workspaceSettingsService.saveCacheSettings(Nn.S3,{isCacheEnabled:this.isSwitchToggled,cacheRetentionPeriodInDays:1,fileReadCountForCaching:1,maxCacheSizeInGB:1,maxCacheStalenessPeriodInHours:1}),[4,this.workspaceSettingsService.retrieveCacheSettings(Nn.S3)]):[3,2];case 1:return n=t.sent(),this.isCacheEnabled=n?.isCacheEnabled,this.isButtonDisabled=!0,this.selectedCacheDuration=n?.cacheRetentionPeriodInDays||0,this.changeDetectorRef.detectChanges(),[3,4];case 2:return this.workspaceSettingsService.disableCacheSettings(Nn.S3),this.workspaceSettingsService.isCacheDeleted$?(this.isButtonDisabled=!0,[4,this.workspaceSettingsService.retrieveCacheSettings(Nn.S3)]):[3,4];case 3:n=t.sent(),this.isCacheEnabled=n?.isCacheEnabled,this.setRetentionPeriod(),this.changeDetectorRef.detectChanges(),t.label=4;case 4:return[2]}})})},i.prototype.toggleCacheSettings=function(){this.setRetentionPeriod(),this.isButtonDisabled=!(!this.isSwitchToggled&&this.isCacheEnabled||this.isSwitchToggled&&!this.isCacheEnabled)},i.prototype.discardChanges=function(){this.isSwitchToggled=!this.isSwitchToggled,(this.isSwitchToggled&&this.isCacheEnabled||!this.isSwitchToggled&&!this.isCacheEnabled)&&(this.isButtonDisabled=!0),this.setRetentionPeriod()},i.prototype.setRetentionPeriod=function(){(!this.isSwitchToggled&&this.isCacheEnabled||!this.isSwitchToggled&&!this.isCacheEnabled)&&(this.selectedCacheDuration=0),(this.isSwitchToggled&&!this.isCacheEnabled||this.isSwitchToggled&&this.isCacheEnabled)&&(this.selectedCacheDuration=1)},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(ut.V$),e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-onelake"]],outputs:{closeSettings:"closeSettings"},decls:4,vars:6,consts:[[4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[1,"onelake-settings-container","tri-flex","tri-flex-col"],["class","onelake-settings-description-banner",4,"ngIf"],[1,"onelake-settings-header",2,"margin-top","0"],[1,"onelake-settings-description"],["localize","Trident_Workspace_Settings_OneLake_Settings_Description_LearnMoreText","href","https://go.microsoft.com/fwlink/?linkid=2246518&clcid=0x409","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"external"],["sectionNameLocKey","Trident_Workspace_Settings_OneLake_DownloadOneLakeAppLink"],[1,"onelake-settings-subheader"],["localize","Trident_Workspace_Settings_OneLake_DownloadOneLakeAppLink_Description_DownloadOneLakeText","href","https://go.microsoft.com/fwlink/?linkid=2235671","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"external"],[1,"onelake-settings-description-banner"],["sectionNameLocKey","Trident_Workspace_Settings_OneLake_S3ShortcutSettings"],[1,"preview-cache-box"],[2,"display","flex","justify-content","space-between","align-items","center"],["class","switcher",3,"ngModel","disabled","aria-label","ngModelChange",4,"ngIf"],["localize","Trident_Workspace_Settings_OneLake_S3ShortcutCacheDuration_Description_LearnMoreText","href","https://go.microsoft.com/fwlink/?linkid=2234198","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"external"],[1,"onelake-settings-description","retention-period",2,"font-weight","var(--font-weight-semi-bold)"],[1,"premium-footer-buttons","tri-flex"],["tri-button","","appearance","primary",1,"footer-button",2,"margin-right","5px",3,"disabled","click"],["tri-button","",1,"footer-button",3,"disabled","click"],[1,"switcher",3,"ngModel","disabled","aria-label","ngModelChange"],["tri-switch-text",""]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,Ed,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,zd,26,22,"ng-container",0),e.\u0275\u0275pipe(3,"async")),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,2,t.initialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(3,4,t.initialized$)))},dependencies:[g.NgIf,p.JJ,p.On,He.D,qt.t,he.v,si,g.AsyncPipe,I.Y],styles:["[_nghost-%COMP%]   .onelake-settings-header[_ngcontent-%COMP%]{font-size:var(--fontSizeBase600);line-height:var(--lineHeightBase600);font-weight:var(--fontWeightSemibold)}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container[_ngcontent-%COMP%]{align-items:flex-start;height:20px}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container[_ngcontent-%COMP%]   .section-header-line[_ngcontent-%COMP%]{border-bottom:1px solid var(--colorNeutralStroke2);height:50%}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container.prefix-line[_ngcontent-%COMP%]{width:8px}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container.postfix-line[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-text[_ngcontent-%COMP%]{margin:0 12px;font-size:12px;font-weight:400;line-height:20px;color:var(--colorNeutralForeground2)}[_nghost-%COMP%]   .onelake-settings-subheader[_ngcontent-%COMP%]{font-size:var(--fontSizeBase400);line-height:var(--lineHeightBase400);font-weight:var(--fontWeightSemibold);margin-top:0!important}[_nghost-%COMP%]   .onelake-settings-description[_ngcontent-%COMP%]{font-weight:var(--fontWeightRegular);font-size:var(--fontSizeBase300);line-height:var(--lineHeightBase300);color:var(--colorNeutralForeground3);margin-bottom:10px}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;display:block;margin-block-start:1.33em;margin-block-end:1.33em;margin-inline-start:0px;margin-inline-end:0px;font-weight:700;margin:10px 0}[_nghost-%COMP%]   .learn-more-link[_ngcontent-%COMP%]{text-decoration:none;margin-bottom:5px;margin-top:5px}[_nghost-%COMP%]   .preview-cache-box[_ngcontent-%COMP%]{padding:12px;border:1px solid var(--globalColorGrey82);border-radius:8px}[_nghost-%COMP%]     .section{margin-bottom:6px!important}[_nghost-%COMP%]   .switcher[_ngcontent-%COMP%]     .tri-switch-internal{padding:0 0 8px!important}"],changeDetection:0}),i}(),Qe=function(i){return i[i.InProgress=0]="InProgress",i[i.Active=1]="Active",i[i.Inactive=2]="Inactive",i[i.Deleting=3]="Deleting",i[i.Unusable=4]="Unusable",i[i.Failed=5]="Failed",i[i.DeleteFailed=6]="DeleteFailed",i}({}),Ni=function(i){return i[i.Administrator=15]="Administrator",i[i.Member=13]="Member",i[i.Contributor=9]="Contributor",i[i.Viewer=1]="Viewer",i[i.None=0]="None",i}({}),$i=function(i){return i.Name="Name",i.Permissions="Permissions",i}({});function Rd(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",2),e.\u0275\u0275elementContainerEnd())}function Fd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.apiError$))&&void 0!==o?o:""))}}function Wd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.dismissFabricWarning())}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getFabricWarningMessageBarViewModel())}}function Ld(i,r){1&i&&(e.\u0275\u0275elementStart(0,"section",10),e.\u0275\u0275element(1,"tri-spinner")(2,"label",11),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(3,1,"AnalysisServer_Loading")))}function Nd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",16),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.createWorkspaceIdentity())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275element(2,"tri-svg-icon",17),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(1,2,t.disableCreateIdentity$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,4,"Trident_Workspace_Settings_Workspace_Identity")," ")}}function $d(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275element(1,"tri-spinner"),e.\u0275\u0275elementStart(2,"span",11),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(3,2,"CapacityProvisioning_SpinnerText")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,4,"CapacityProvisioning_SpinnerText")))}function Ud(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section",4)(1,"h4",12),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",13),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,Nd,5,6,"button",14),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275template(9,$d,6,6,"div",15),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"Trident_Workspace_Settings_Workspace_Identity_Create")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,6,"Trident_Workspace_Settings_Workspace_Identity_Create_Description")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(8,8,n.isCreating$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(10,10,n.isCreating$))}}function Vd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section",34)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"tri-switch",35),e.\u0275\u0275listener("ngModelChange",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.workspaceIdentity.allowUsersToUseWorkspaceIdentity=s)})("ngModelChange",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onToggleAllowUsersToUseWorkspaceIdentity(s))}),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementStart(7,"div",36),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,5,"Trident_Workspace_Settings_Workspace_Identity_UsersCanUseIdentity")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(5,7,t.disableUseIdentity$))("aria-label",e.\u0275\u0275pipeBind1(6,9,"Trident_Workspace_Settings_Workspace_Identity_UsersCanUseIdentity"))("ngModel",t.workspaceIdentity.allowUsersToUseWorkspaceIdentity),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.workspaceIdentity.allowUsersToUseWorkspaceIdentity?e.\u0275\u0275pipeBind1(9,11,"ToggleSwitchOn"):e.\u0275\u0275pipeBind1(10,13,"ToggleSwitchOff"))}}function jd(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",37)}function Kd(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",38),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.getStateDescription()," ")}}function Hd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",50)(1,"button",51),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(s.addAuthorizedUsers())}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275element(3,"tri-svg-icon",17),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"button",51),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(s.deleteAuthorizedUsers())}),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275element(8,"tri-svg-icon",52),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(2,4,t.disableIdentity$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,6,"Add_User_Or_Group")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(7,8,t.disableIdentity$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,10,"Remove")," ")}}function Xd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"th",53)(1,"tri-checkbox",54),e.\u0275\u0275listener("onChange",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(s.selectAllUsers())}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",t.isAllUsersSelected)("disabled",!!e.\u0275\u0275pipeBind1(2,2,t.disableIdentity$))}}function Yd(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",55)}function Qd(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",56)}function Zd(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",55)}function Jd(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",56)}function qd(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"td",62)(1,"tri-checkbox",63),e.\u0275\u0275listener("onChange",function(C){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext().$implicit,G=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(G.onUserSelected(C,w))})("ngModelChange",function(C){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275resetView(w.selected=C)}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(),o=t.index,s=t.$implicit,l=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("name","workspaceIdentityUser_"+o)("disabled",!!e.\u0275\u0275pipeBind1(2,3,l.disableIdentity$))("ngModel",s.selected)}}function ep(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",64)}function tp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",65)}function np(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275template(1,qd,3,5,"td",57),e.\u0275\u0275elementStart(2,"td",58),e.\u0275\u0275template(3,ep,1,0,"tri-svg-icon",59),e.\u0275\u0275template(4,tp,1,0,"tri-svg-icon",60),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td",61),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()),2&i){var n=r.$implicit,t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showAddRemoveButtons),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.getUserDisplayName(n)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.groupId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.userId),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.getUserDisplayName(n)," "),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.getUserPermissions(n)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.getUserPermissions(n)," ")}}function ip(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section",39)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Hd,11,12,"div",40),e.\u0275\u0275elementStart(5,"div",41)(6,"table")(7,"thead")(8,"tr",42),e.\u0275\u0275template(9,Xd,3,4,"th",43),e.\u0275\u0275elementStart(10,"th",44)(11,"button",45),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.sortWorkspaceIdentityUsers(s.workspaceIdentityUsersColumn.Name))}),e.\u0275\u0275pipe(12,"localizeFormat"),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275template(16,Yd,1,0,"tri-svg-icon",46),e.\u0275\u0275template(17,Qd,1,0,"tri-svg-icon",47),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"th",48)(19,"button",45),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.sortWorkspaceIdentityUsers(s.workspaceIdentityUsersColumn.Permissions))}),e.\u0275\u0275pipe(20,"localizeFormat"),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275template(24,Zd,1,0,"tri-svg-icon",46),e.\u0275\u0275template(25,Jd,1,0,"tri-svg-icon",47),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(26,"tbody"),e.\u0275\u0275template(27,np,8,7,"tr",49),e.\u0275\u0275elementEnd()()()()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,12,"AuthorizedUsers")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.showAddRemoveButtons),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.showAddRemoveButtons),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(12,14,t.sortColumnAscending?"DataGrid_ColumnSortedAscending":"DataGrid_ColumnSortedDescending",e.\u0275\u0275pipeBind1(13,17,"Name"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,19,"Name")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Name"===t.sortColumn&&t.sortColumnAscending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Name"===t.sortColumn&&!t.sortColumnAscending),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(20,21,t.sortColumnAscending?"DataGrid_ColumnSortedAscending":"DataGrid_ColumnSortedDescending",e.\u0275\u0275pipeBind1(21,24,"Permissions"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(23,26,"Permissions")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Permissions"===t.sortColumn&&t.sortColumnAscending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Permissions"===t.sortColumn&&!t.sortColumnAscending),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.workspaceIdentity.users)}}function rp(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}var op=function(r){return{"unusable-state":r}};function ap(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section",4),e.\u0275\u0275template(1,Vd,11,15,"section",19),e.\u0275\u0275elementStart(2,"section",20)(3,"h4"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"table",21)(7,"tbody")(8,"tr")(9,"td",22),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"td",23),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"tr")(15,"td",22),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"td",23),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"tr")(21,"td",22),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"td",23),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(26,"tr")(27,"td",22),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"td",23)(31,"div",24),e.\u0275\u0275template(32,jd,1,0,"tri-svg-icon",25),e.\u0275\u0275elementStart(33,"span",26),e.\u0275\u0275text(34),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(35,Kd,2,1,"div",27),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(36,ip,28,28,"section",28),e.\u0275\u0275elementStart(37,"section",29)(38,"h4"),e.\u0275\u0275text(39),e.\u0275\u0275pipe(40,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"div",30),e.\u0275\u0275text(42),e.\u0275\u0275pipe(43,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"div",31)(45,"button",32),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.onDeleteClick())}),e.\u0275\u0275pipe(46,"async"),e.\u0275\u0275element(47,"tri-svg-icon",33),e.\u0275\u0275text(48),e.\u0275\u0275pipe(49,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(50,rp,1,0,"tri-spinner",0),e.\u0275\u0275pipe(51,"async"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showUseWorkspaceIdentityToggle),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,19,"Trident_Workspace_Settings_Workspace_Identity_Details")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,21,"Name")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.workspaceIdentity.name||"-"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,23,"Id")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.workspaceIdentity.servicePrincipalId||"-"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(23,25,"Role")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.getLocalizedWorkspaceIdentityRole()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(29,27,"State")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.isUnusableState()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(39,op,t.isUnusableState())),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.getLocalizedWorkspaceIdentityState()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.getStateDescription().length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.workspaceIdentity.users&&t.workspaceIdentity.users.length>0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(40,29,"Trident_Workspace_Settings_Workspace_Identity_Delete")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(43,31,"Trident_Workspace_Settings_Workspace_Identity_Delete_Description")),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(46,33,t.disableDeleteIdentity$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(49,35,"Delete")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(51,37,t.isDeleting$))}}function sp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",4)(2,"h2",5),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"section",6)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"tri-link",7),e.\u0275\u0275pipe(10,"localizeFormat"),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(14,Ld,4,3,"section",8),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275template(17,Ud,11,12,"section",9),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275template(20,ap,52,41,"section",9),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,8,"Trident_Workspace_Settings_Workspace_Identities")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,10,"Trident_Workspace_Settings_Workspace_Identity_Description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("aria-label",e.\u0275\u0275pipeBind2(10,12,"LearnMore_About",e.\u0275\u0275pipeBind1(11,15,"Trident_Workspace_Settings_Workspace_Identities")))("external",!0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,17,"LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.workspaceIdentity&&!1===e.\u0275\u0275pipeBind1(15,19,n.isCreating$)&&!0===e.\u0275\u0275pipeBind1(16,21,n.isLoadingIdentity$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!n.workspaceIdentity&&(!0===e.\u0275\u0275pipeBind1(18,23,n.isCreating$)||!1===e.\u0275\u0275pipeBind1(19,25,n.isLoadingIdentity$))),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.workspaceIdentity)}}var cp=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.changeDetectorRef=n,this.localizationService=t,this.closeSettings=new e.EventEmitter,this.isWorkspaceAdmin=!1,this.initialized$=this.workspaceSettingsService.initialized$,this.capacitiesInitialized$=this.workspaceSettingsService.capacitiesInitialized$,this.isAllUsersSelected=!1,this.sortColumn=$i.Name,this.sortColumnAscending=!0,this.isCreating$=new F.X(!1),this.isDeleting$=new F.X(!1),this.isLoadingIdentity$=new F.X(!1),this.disableIdentity$=new F.X(!1),this.disableUseIdentity$=new F.X(!1),this.disableDeleteIdentity$=new F.X(!1),this.disableCreateIdentity$=new F.X(!1),this.showUseWorkspaceIdentityToggle=!1,this.workspaceIdentityUsersColumn=$i,this.errorDismissed$=new F.X(!1),this.fabricWarningDismissed$=new F.X(!0),this.showAddRemoveButtons=!1,this.workspaceIdentityDisableCapacityCheck=!1,this.isFolderInFsku=!1,this.apiError$=this.workspaceSettingsService.workspaceIdentityErrorMessage$.pipe((0,ve.U)(function(s){return o.errorDismissed$.next(!1),s})),this.initialized$.subscribe(function(s){s&&(o.isWorkspaceAdmin=o.workspaceSettingsService.isWorkspaceAdmin,o.showUseWorkspaceIdentityToggle=o.workspaceSettingsService.getFeatureSwitchState("workspaceIdentityToggleUsage"),o.workspaceIdentityDisableCapacityCheck=o.workspaceSettingsService.getFeatureSwitchState("workspaceIdentityDisableCapacityCheck"),o.showAddRemoveButtons=o.workspaceSettingsService.getFeatureSwitchState("FabricIdentitySharing"),o.isWorkspaceAdmin||(o.disableIdentity$.next(!0),o.disableUseIdentity$.next(!0),o.disableDeleteIdentity$.next(!0),o.disableCreateIdentity$.next(!0)),o.changeDetectorRef.markForCheck())}),this.capacitiesInitialized$.subscribe(function(s){var l;s&&(o.capacitySkuTier=null===(l=o.workspaceSettingsService.selectedCapacity)||void 0===l?void 0:l.capacitySkuTier,o.isFolderInFsku=8===o.capacitySkuTier,!o.workspaceIdentityDisableCapacityCheck&&!o.isFolderInFsku&&(o.disableCreateIdentity$.next(!0),o.fabricWarningDismissed$.next(!1)),o.changeDetectorRef.markForCheck())}),this.apiError$.subscribe(function(s){o.errorDismissed$.next(!1)})}return i.prototype.ngOnInit=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){return(0,$.__generator)(this,function(r){switch(r.label){case 0:return[4,this.getWorkspaceIdentity()];case 1:return r.sent(),[2]}})})},i.prototype.createWorkspaceIdentity=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){return(0,$.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,,4,5]),this.isCreating$.next(!0),[4,this.workspaceSettingsService.createWorkspaceIdentity()];case 1:return r.sent(),[4,this.delay(5e3)];case 2:return r.sent(),[4,this.getWorkspaceIdentity()];case 3:return r.sent(),[3,5];case 4:return this.isCreating$.next(!1),[7];case 5:return[2]}})})},i.prototype.getWorkspaceIdentity=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){var r;return(0,$.__generator)(this,function(t){switch(t.label){case 0:this.isLoadingIdentity$.next(!0),t.label=1;case 1:if(this.workspaceIdentity&&this.workspaceIdentity.provisionState!==Qe.InProgress&&this.workspaceIdentity.provisionState!==Qe.Deleting)return[3,8];r=void 0,t.label=2;case 2:return t.trys.push([2,4,5,6]),[4,this.workspaceSettingsService.getWorkspaceIdentity()];case 3:return(r=t.sent())?[3,6]:(this.disableIdentity$.next(!1),this.disableUseIdentity$.next(!1),this.disableCreateIdentity$.next(!this.workspaceIdentityDisableCapacityCheck&&!this.isFolderInFsku),this.isDeleting$.next(!1),this.workspaceIdentity=r,[2,Promise.resolve()]);case 4:return t.sent(),this.disableIdentity$.next(!1),this.disableUseIdentity$.next(!1),this.disableCreateIdentity$.next(!this.workspaceIdentityDisableCapacityCheck&&!this.isFolderInFsku),this.isDeleting$.next(!1),this.workspaceIdentity=void 0,[2,Promise.resolve()];case 5:return this.isLoadingIdentity$.next(!1),[7];case 6:return r.provisionState!==Qe.InProgress&&r.provisionState!==Qe.Deleting?(this.workspaceIdentity=r,this.isCreating$.next(!1),this.workspaceIdentity.provisionState!==Qe.Active&&(this.disableIdentity$.next(!0),this.workspaceIdentity.provisionState===Qe.Unusable&&this.disableUseIdentity$.next(!0)),this.changeDetectorRef.markForCheck(),[3,8]):(r.provisionState===Qe.InProgress?this.isCreating$.next(!0):r.provisionState===Qe.Deleting&&(this.workspaceIdentity=r,this.disableIdentity$.next(!0),this.disableUseIdentity$.next(!0),this.disableDeleteIdentity$.next(!0),this.disableCreateIdentity$.next(!0),this.isDeleting$.next(!0)),[4,this.delay(1e4)]);case 7:return t.sent(),[3,1];case 8:return[2]}})})},i.prototype.onToggleAllowUsersToUseWorkspaceIdentity=function(r){return(0,$.__awaiter)(this,void 0,void 0,function(){return(0,$.__generator)(this,function(n){if(!this.workspaceIdentity)return[2];try{this.workspaceIdentity.provisionState=r?Qe.Active:Qe.Inactive,this.disableIdentity$.next(!r)}catch{this.workspaceIdentity.allowUsersToUseWorkspaceIdentity=!r,this.workspaceIdentity.provisionState=r?Qe.Inactive:Qe.Active,this.disableIdentity$.next(!this.workspaceIdentity.allowUsersToUseWorkspaceIdentity)}return[2]})})},i.prototype.getStateDescription=function(){if(!this.workspaceIdentity)return"";switch(this.workspaceIdentity.provisionState){case Qe.Inactive:return this.localizationService.get("Trident_Workspace_Settings_Workspace_Identity_State_Inactive_Description");case Qe.Unusable:return this.localizationService.get("Trident_Workspace_Settings_Workspace_Identity_State_Unusable_Description");default:return""}},i.prototype.dismissError=function(){this.errorDismissed$.next(!0)},i.prototype.dismissFabricWarning=function(){this.fabricWarningDismissed$.next(!0)},i.prototype.getErrorMessageBarViewModel=function(r){var n=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return n.dismissError()},message:r}},i.prototype.getFabricWarningMessageBarViewModel=function(){var r=this;return{bannerType:2,allowDismiss:!0,closeBarCallback:function(){return r.dismissFabricWarning()},message:this.localizationService.get("Trident_Workspace_Settings_Workspace_Identity_FabricWarning"),link:"https://go.microsoft.com/fwlink/?linkid=2259103",linkDisplayName:this.localizationService.get("LearnMore")}},i.prototype.isUnusableState=function(){return!!this.workspaceIdentity&&this.workspaceIdentity.provisionState===Qe.Unusable},i.prototype.onUserSelected=function(r,n){n.selected=r,this.isAllUsersSelected=this.allSelected()},i.prototype.selectAllUsers=function(){var r,n;this.allSelected()?(_.forEach(null===(r=this.workspaceIdentity)||void 0===r?void 0:r.users,function(t){return t.selected=!1,!0}),this.isAllUsersSelected=!1):(_.forEach(null===(n=this.workspaceIdentity)||void 0===n?void 0:n.users,function(t){return t.selected=!0,!0}),this.isAllUsersSelected=!0)},i.prototype.getUserDisplayName=function(r){return this.localizationService.format("Capacity_User_DisplayName",r.givenName,r.familyName)},i.prototype.getUserPermissions=function(r){return this.localizationService.get(2&~r.permissions?"Trident_Workspace_Settings_Workspace_Identity_CanUseIdentity":"Trident_Workspace_Settings_Workspace_Identity_CanEditMembers")},i.prototype.delay=function(r){return(0,$.__awaiter)(this,void 0,void 0,function(){return(0,$.__generator)(this,function(n){return[2,new Promise(function(t){return setTimeout(t,r)})]})})},i.prototype.allSelected=function(){var r;return _.every(null===(r=this.workspaceIdentity)||void 0===r?void 0:r.users,function(n){return n.selected})},i.prototype.getLocalizedWorkspaceIdentityRole=function(){var r,n=null===(r=this.workspaceIdentity)||void 0===r?void 0:r.role;if(!n)return"-";switch(n){case Ni.Administrator:return this.localizationService.get("WorkspaceAdmin");case Ni.Member:return this.localizationService.get("WorkspaceMember");case Ni.Contributor:return this.localizationService.get("WorkspaceContributor");case Ni.Viewer:return this.localizationService.get("WorkspaceViewer");default:return"-"}},i.prototype.getLocalizedWorkspaceIdentityState=function(){var r,n=null===(r=this.workspaceIdentity)||void 0===r?void 0:r.provisionState;if(null==n)return"-";switch(n){case Qe.InProgress:return this.localizationService.get("InProgress");case Qe.Active:return this.localizationService.get("Active");case Qe.Inactive:return this.localizationService.get("Inactive");case Qe.Deleting:return this.localizationService.get("Deleting");case Qe.Unusable:return this.localizationService.get("Unusable");case Qe.Failed:return this.localizationService.get("Failed");case Qe.DeleteFailed:return this.localizationService.get("Failed_To_Delete");default:return"-"}},i.prototype.sortWorkspaceIdentityUsers=function(r){var n=this;this.workspaceIdentity&&(this.sortColumn===r?this.sortColumnAscending=!this.sortColumnAscending:(this.sortColumn=r,this.sortColumnAscending=!0),this.workspaceIdentity.users=_.sortBy(this.workspaceIdentity.users,function(t){switch(r){case $i.Name:return n.getUserDisplayName(t);case $i.Permissions:return n.getUserPermissions(t)}}),this.sortColumnAscending||(this.workspaceIdentity.users=_.reverse(this.workspaceIdentity.users)))},i.prototype.addAuthorizedUsers=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){var r;return(0,$.__generator)(this,function(n){switch(n.label){case 0:return r=this,[4,this.workspaceSettingsService.addWorkspaceIdentityUsers()];case 1:return r.workspaceIdentity=n.sent(),this.changeDetectorRef.markForCheck(),[2]}})})},i.prototype.deleteAuthorizedUsers=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){var r;return(0,$.__generator)(this,function(n){switch(n.label){case 0:return this.workspaceIdentity?(r=this,[4,this.workspaceSettingsService.removeWorkspaceIdentityUsers(_.filter(this.workspaceIdentity.users,function(t){return t.selected}))]):[2];case 1:return r.workspaceIdentity=n.sent(),this.changeDetectorRef.markForCheck(),[2]}})})},i.prototype.onDeleteClick=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){return(0,$.__generator)(this,function(r){switch(r.label){case 0:return this.workspaceIdentity?(this.workspaceSettingsService.deleteWorkspaceIdentity(),this.disableIdentity$.next(!0),this.disableUseIdentity$.next(!0),this.disableCreateIdentity$.next(!0),this.disableDeleteIdentity$.next(!0),this.isDeleting$.next(!0),this.workspaceIdentity.provisionState=Qe.Deleting,[4,this.delay(5e3)]):[2];case 1:return r.sent(),[4,this.getWorkspaceIdentity()];case 2:return r.sent(),[2]}})})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(E.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-workspace-identity"]],outputs:{closeSettings:"closeSettings"},decls:11,vars:18,consts:[[4,"ngIf"],[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar"],[1,"workspace-identity-settings-container","tri-flex","tri-flex-col"],[1,"workspace-identity-settings-header"],[1,"workspace-identity-settings-description"],["href","https://go.microsoft.com/fwlink/?linkid=2247909","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"aria-label","external"],["class","workspace-identity-loading-container",4,"ngIf"],["class","workspace-identity-settings-container tri-flex tri-flex-col",4,"ngIf"],[1,"workspace-identity-loading-container"],["role","alert"],[1,"create-identity-header"],[1,"create-identity-description"],["class","create-identity-button","tri-button","","appearance","primary",3,"disabled","click",4,"ngIf"],["class","create-workspace-identity-spinner",4,"ngIf"],["tri-button","","appearance","primary",1,"create-identity-button",3,"disabled","click"],["name","add_16_regular"],[1,"create-workspace-identity-spinner"],["class","use-workspace-identity tri-flex",4,"ngIf"],[1,"identity-details"],[1,"identity-details-item"],[1,"identity-details-item-title"],[1,"identity-details-item-value"],[1,"identity-details-item-value-state"],["class","unusable-state","name","error_circle_12_filled",4,"ngIf"],[3,"ngClass"],["class","identity-details-item-value-descrption",4,"ngIf"],["class","authorized-users",4,"ngIf"],[1,"delete-workspace-identity"],[1,"delete-workspace-identity-description"],[1,"delete-workspace-identity-button-container"],["tri-button","","appearance","primary","data-testid","delete-workspace-identity-btn",1,"delete-workspace-identity-button",3,"disabled","click"],["name","delete_20_regular"],[1,"use-workspace-identity","tri-flex"],["id","use-workspace-identity-toggle-switch",3,"disabled","aria-label","ngModel","ngModelChange"],["tri-switch-text",""],["name","error_circle_12_filled",1,"unusable-state"],[1,"identity-details-item-value-descrption"],[1,"authorized-users"],["class","authorized-users-buttons-container",4,"ngIf"],[1,"authorized-users-table"],["role","row"],["class","authorized-users-checkbox-column-header","role","columnheader",4,"ngIf"],["role","columnheader",1,"authorized-users-name-column-header"],[1,"authorized-users-sort-button",3,"click"],["name","arrow_down_20_regular",4,"ngIf"],["name","arrow_up_20_regular",4,"ngIf"],["role","columnheader",1,"authorized-users-permissions-column-header"],[4,"ngFor","ngForOf"],[1,"authorized-users-buttons-container"],["tri-button","","appearance","subtle","data-testid","delete-workspace-identity-btn",1,"delete-workspace-identity-button",3,"disabled","click"],["name","dismiss_16_regular"],["role","columnheader",1,"authorized-users-checkbox-column-header"],[3,"checked","disabled","onChange"],["name","arrow_down_20_regular"],["name","arrow_up_20_regular"],["role","cell",4,"ngIf"],["role","cell",1,"authorized-users-name-cell",3,"title"],["name","people_team_16_regular",4,"ngIf"],["name","person_16_regular",4,"ngIf"],["role","cell",1,"authorized-users-permissions-cell",3,"title"],["role","cell"],[3,"name","disabled","ngModel","onChange","ngModelChange"],["name","people_team_16_regular"],["name","person_16_regular"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,Rd,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Fd,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275template(6,Wd,1,1,"tri-message-bar",1),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,sp,21,27,"ng-container",0),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async")),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,4,t.initialized$)||!t.workspaceIdentityDisableCapacityCheck&&!1===e.\u0275\u0275pipeBind1(2,6,t.capacitiesInitialized$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(4,8,t.errorDismissed$)&&e.\u0275\u0275pipeBind1(5,10,t.apiError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(7,12,t.fabricWarningDismissed$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(9,14,t.initialized$)&&(t.workspaceIdentityDisableCapacityCheck||!0===e.\u0275\u0275pipeBind1(10,16,t.capacitiesInitialized$))))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,p.JJ,p.On,O.M,He.D,nt.h,ae.r,qt.t,he.v,g.AsyncPipe,I.Y,I.A],styles:["[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:14px;line-height:20px}[_nghost-%COMP%]   .workspace-identity-loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:50px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .workspace-identity-settings-header[_ngcontent-%COMP%]{font-size:var(--fontSizeBase600);line-height:var(--lineHeightBase600);font-weight:var(--fontWeightBold);margin-bottom:10px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .create-identity-description[_ngcontent-%COMP%]{margin-bottom:20px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .create-workspace-identity-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .create-workspace-identity-spinner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-start:5px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .create-identity-button[_ngcontent-%COMP%]{width:fit-content}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .identity-details[_ngcontent-%COMP%]   .identity-details-item[_ngcontent-%COMP%]   .identity-details-item-title[_ngcontent-%COMP%]{width:120px;display:flex}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .identity-details[_ngcontent-%COMP%]   .identity-details-item[_ngcontent-%COMP%]   .identity-details-item-value[_ngcontent-%COMP%]{font-weight:600}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .identity-details[_ngcontent-%COMP%]   .identity-details-item[_ngcontent-%COMP%]   .identity-details-item-value[_ngcontent-%COMP%]   .identity-details-item-value-state[_ngcontent-%COMP%]{display:flex;gap:5px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .identity-details[_ngcontent-%COMP%]   .identity-details-item[_ngcontent-%COMP%]   .identity-details-item-value[_ngcontent-%COMP%]   .identity-details-item-value-state[_ngcontent-%COMP%]   .unusable-state[_ngcontent-%COMP%]{color:var(--globalColorRedShade10);fill:var(--globalColorRedShade10)}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .identity-details[_ngcontent-%COMP%]   .identity-details-item[_ngcontent-%COMP%]   .identity-details-item-value[_ngcontent-%COMP%]   .identity-details-item-value-descrption[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]{margin-bottom:20px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-checkbox-column-header[_ngcontent-%COMP%]{width:5%}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-name-column-header[_ngcontent-%COMP%]{width:40%}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-sort-button[_ngcontent-%COMP%]{padding-inline-start:0;border:0;background:transparent;display:flex;gap:10px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-sort-button[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{width:14px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-name-cell[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;max-width:300px;text-overflow:ellipsis}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-permissions-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .authorized-users-permissions-column-header[_ngcontent-%COMP%]{padding-inline-start:25px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .authorized-users[_ngcontent-%COMP%]   .authorized-users-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--colorNeutralStroke2)}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .delete-workspace-identity[_ngcontent-%COMP%]   .delete-workspace-identity-description[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .workspace-identity-settings-container[_ngcontent-%COMP%]   .delete-workspace-identity[_ngcontent-%COMP%]   .delete-workspace-identity-button-container[_ngcontent-%COMP%]{display:flex;gap:10px}"],changeDetection:0}),i}();function lp(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",2),e.\u0275\u0275elementContainerEnd())}function dp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.apiError$))&&void 0!==o?o:""))}}function pp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",3),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.dismissFabricWarning())}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getFabricWarningMessageBarViewModel())}}function up(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",2)}function gp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-empty-state",18),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("viewModel",n.emptyStateModel)}}function _p(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",29)}function mp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",30)}function vp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",29)}function hp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",30)}function fp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",29)}function Cp(i,r){1&i&&e.\u0275\u0275element(0,"tri-svg-icon",30)}function Sp(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",39),2&i){var n=e.\u0275\u0275nextContext().$implicit,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275propertyInterpolate("triTooltip",t.getIconTooltipText(n))}}function yp(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-svg-icon",40),2&i){var n=e.\u0275\u0275nextContext().$implicit,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275propertyInterpolate("name",t.getEndpointIcon(n.groupId)),e.\u0275\u0275propertyInterpolate("triTooltip",t.getIconTooltipText(n)),e.\u0275\u0275property("sprite","artifact-colored-icons")}}function bp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",31)(2,"tri-checkbox",32),e.\u0275\u0275listener("onChange",function(v){var w=e.\u0275\u0275restoreView(n).$implicit,G=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(G.onEndpointSelected(v,w))})("ngModelChange",function(v){var C=e.\u0275\u0275restoreView(n);return e.\u0275\u0275resetView(C.$implicit.selected=v)}),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"td",33),e.\u0275\u0275template(6,Sp,1,1,"tri-svg-icon",34),e.\u0275\u0275template(7,yp,1,3,"tri-svg-icon",35),e.\u0275\u0275elementStart(8,"span",36),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"td",37),e.\u0275\u0275element(11,"tri-svg-icon",38),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"td",37),e.\u0275\u0275element(14,"tri-svg-icon",38),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd()()}if(2&i){var t=r.$implicit,o=r.index,s=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("name","privateEndpoint_"+o)("ariaLabel",e.\u0275\u0275pipeBind1(3,14,"Select"))("disabled",!!e.\u0275\u0275pipeBind1(4,16,s.disablePrivateEndpoints$))("ngModel",t.selected),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.isSystemResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isSystemResource),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",t.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.name),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",s.getLocalizedProvisionState(t.provisioningState)),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("name",s.getProvisioningStateIcon(t.provisioningState)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",s.getLocalizedProvisionState(t.provisioningState)," "),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("title",null==t.connectionState?null:t.connectionState.status),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("name",s.getConnectionStateIcon(null==t.connectionState?null:t.connectionState.status)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",s.getLocalizedConnectionStateStatus(null==t.connectionState?null:t.connectionState.status)," ")}}function wp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",19)(1,"table")(2,"thead")(3,"tr",20)(4,"th",21)(5,"tri-checkbox",22),e.\u0275\u0275listener("onChange",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.selectAllPrivateEndpoints())}),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"th",23)(9,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.sortPrivateEndpoints(s.privateEndpointsColumn.Name))}),e.\u0275\u0275pipe(10,"localizeFormat"),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275template(14,_p,1,0,"tri-svg-icon",25),e.\u0275\u0275template(15,mp,1,0,"tri-svg-icon",26),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"th",27)(17,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.sortPrivateEndpoints(s.privateEndpointsColumn.ProvisioningState))}),e.\u0275\u0275pipe(18,"localizeFormat"),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275template(22,vp,1,0,"tri-svg-icon",25),e.\u0275\u0275template(23,hp,1,0,"tri-svg-icon",26),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"th",27)(25,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.sortPrivateEndpoints(s.privateEndpointsColumn.ApprovalState))}),e.\u0275\u0275pipe(26,"localizeFormat"),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275template(30,fp,1,0,"tri-svg-icon",25),e.\u0275\u0275template(31,Cp,1,0,"tri-svg-icon",26),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(32,"tbody"),e.\u0275\u0275template(33,bp,16,18,"tr",28),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275property("checked",t.isAllPrivateEndpointsSelected)("ariaLabel",e.\u0275\u0275pipeBind1(6,16,"SelectAllRows"))("disabled",!!e.\u0275\u0275pipeBind1(7,18,t.disablePrivateEndpoints$)),e.\u0275\u0275advance(4),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(10,20,t.sortColumnAscending?"DataGrid_ColumnSortedAscending":"DataGrid_ColumnSortedDescending",e.\u0275\u0275pipeBind1(11,23,"Name"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,25,"Name")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","Name"===t.sortColumn&&t.sortColumnAscending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Name"===t.sortColumn&&!t.sortColumnAscending),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(18,27,t.sortColumnAscending?"DataGrid_ColumnSortedAscending":"DataGrid_ColumnSortedDescending",e.\u0275\u0275pipeBind1(19,30,"Activation"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(21,32,"Activation")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","ProvisioningState"===t.sortColumn&&t.sortColumnAscending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ProvisioningState"===t.sortColumn&&!t.sortColumnAscending),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind2(26,34,t.sortColumnAscending?"DataGrid_ColumnSortedAscending":"DataGrid_ColumnSortedDescending",e.\u0275\u0275pipeBind1(27,37,"Approval"))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(29,39,"Approval")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","ApprovalState"===t.sortColumn&&t.sortColumnAscending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ApprovalState"===t.sortColumn&&!t.sortColumnAscending),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.privateEndpoints)}}function kp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",4)(2,"h2",5),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"section",6)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"tri-link",7),e.\u0275\u0275pipe(10,"localizeFormat"),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"section",6)(15,"h4"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"span"),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"tri-link",8),e.\u0275\u0275pipe(22,"localizeFormat"),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(26,"section",4)(27,"section",9)(28,"div",10)(29,"button",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.addPrivateEndpoint())}),e.\u0275\u0275pipe(30,"async"),e.\u0275\u0275element(31,"tri-svg-icon",12),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.getPrivateEndpoints())}),e.\u0275\u0275pipe(35,"async"),e.\u0275\u0275pipe(36,"async"),e.\u0275\u0275element(37,"tri-svg-icon",14),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.deletePrivateEndpoints())}),e.\u0275\u0275pipe(41,"async"),e.\u0275\u0275element(42,"tri-svg-icon",15),e.\u0275\u0275text(43),e.\u0275\u0275pipe(44,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(45,up,1,0,"tri-spinner",16),e.\u0275\u0275pipe(46,"async"),e.\u0275\u0275template(47,gp,2,1,"ng-container",0),e.\u0275\u0275pipe(48,"async"),e.\u0275\u0275template(49,wp,34,41,"div",17),e.\u0275\u0275pipe(50,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,19,"NetworkSecurity")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,21,"Trident_Workspace_Settings_Network_Description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("aria-label",e.\u0275\u0275pipeBind2(10,23,"LearnMore_About",e.\u0275\u0275pipeBind1(11,26,"NetworkSecurity")))("external",!0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,28,"LearnMore")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,30,"PrivateEndpoints")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(20,32,"PrivateEndpoints_Description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("aria-label",e.\u0275\u0275pipeBind2(22,34,"LearnMore_About",e.\u0275\u0275pipeBind1(23,37,"PrivateEndpoints")))("external",!0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(25,39,"LearnMore")," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(30,41,t.disablePrivateEndpoints$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(33,43,"Create_ButtonText")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(35,45,t.disablePrivateEndpoints$)||!0===e.\u0275\u0275pipeBind1(36,47,t.isLoadingEndpoints$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(39,49,"Refresh")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!!e.\u0275\u0275pipeBind1(41,51,t.disablePrivateEndpoints$)||t.isRemoveButtonDisabled()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(44,53,"Delete")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(46,55,t.isLoadingEndpoints$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(48,57,t.isLoadingEndpoints$)&&(!t.privateEndpoints||0===t.privateEndpoints.length)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(50,59,t.isLoadingEndpoints$)&&t.privateEndpoints&&t.privateEndpoints.length>0)}}var Ip=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.changeDetectorRef=n,this.localizationService=t,this.closeSettings=new e.EventEmitter,this.isWorkspaceAdmin=!1,this.initialized$=this.workspaceSettingsService.initialized$,this.capacitiesInitialized$=this.workspaceSettingsService.capacitiesInitialized$,this.privateEndpoints=[],this.isAllPrivateEndpointsSelected=!1,this.sortColumn=Jt.Name,this.sortColumnAscending=!0,this.disablePrivateEndpoints$=new F.X(!0),this.isLoadingEndpoints$=new F.X(!1),this.privateEndpointsColumn=Jt,this.errorDismissed$=new F.X(!1),this.demoMode=!1,this.isFolderInF64orFTsku=!1,this.fabricWarningDismissed$=new F.X(!0),this.RestrictOutBoundPEFromF64=!0,this.apiError$=this.workspaceSettingsService.privateEndpointsErrorMessage$.pipe((0,ve.U)(function(s){return o.errorDismissed$.next(!1),s})),this.initialized$.subscribe(function(s){s&&(o.isWorkspaceAdmin=o.workspaceSettingsService.isWorkspaceAdmin,o.demoMode=o.workspaceSettingsService.getFeatureSwitchState("privateEndpointsDemoMode"),o.isWorkspaceAdmin&&o.disablePrivateEndpoints$.next(!1))}),this.capacitiesInitialized$.subscribe(function(s){var l;s&&(o.capacitySkuTier=null===(l=o.workspaceSettingsService.selectedCapacity)||void 0===l?void 0:l.capacitySkuTier,o.RestrictOutBoundPEFromF64=!!o.workspaceSettingsService.getFeatureSwitchState("RestrictOutBoundPEFromF64"),o.isFolderInF64orFTsku=8===o.capacitySkuTier||7===o.capacitySkuTier,o.RestrictOutBoundPEFromF64||8!==o.capacitySkuTier&&9!==o.capacitySkuTier&&7!==o.capacitySkuTier?(o.disablePrivateEndpoints$.next(!o.isFolderInF64orFTsku),o.fabricWarningDismissed$.next(o.isFolderInF64orFTsku)):(o.disablePrivateEndpoints$.next(!1),o.fabricWarningDismissed$.next(!0)),o.changeDetectorRef.markForCheck())}),this.apiError$.subscribe(),this.emptyStateModel={emptyStateType:1,iconType:1,title:this.isFolderInF64orFTsku?"":this.localizationService.get("PrivateEndpoints_Empty"),message:""}}return i.prototype.ngOnInit=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){return(0,$.__generator)(this,function(r){switch(r.label){case 0:return[4,this.getPrivateEndpoints()];case 1:return r.sent(),[2]}})})},i.prototype.getPrivateEndpoints=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){var r;return(0,$.__generator)(this,function(t){switch(t.label){case 0:return this.isLoadingEndpoints$.next(!0),this.demoMode?[4,this.delay(5e3)]:[3,2];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,4,5,6]),r=this,[4,this.workspaceSettingsService.getPrivateEndpoints()];case 3:return r.privateEndpoints=t.sent(),this.sortPrivateEndpoints(this.sortColumn,!1),[3,6];case 4:return t.sent(),this.privateEndpoints=[],[2,Promise.resolve()];case 5:return this.isLoadingEndpoints$.next(!1),[7];case 6:return[2]}})})},i.prototype.dismissError=function(){this.errorDismissed$.next(!0)},i.prototype.getErrorMessageBarViewModel=function(r){var n=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return n.dismissError()},message:r}},i.prototype.dismissFabricWarning=function(){this.fabricWarningDismissed$.next(!0)},i.prototype.getFabricWarningMessageBarViewModel=function(){var r=this;return{bannerType:1,allowDismiss:!0,closeBarCallback:function(){return r.dismissFabricWarning()},message:this.localizationService.get("PrivateEndpoints_FabricMessage"),link:"https://go.microsoft.com/fwlink/?linkid=2259645",linkDisplayName:this.localizationService.get("LearnMore")}},i.prototype.getIconTooltipText=function(r){return this.localizationService.format("PrivateEndpoints_Tooltip",[r.privateLinkResourceId,r.groupId])},i.prototype.getLocalizedProvisionState=function(r){switch(r){case Ot.Provisioning:return this.localizationService.get("Provisioning");case Ot.Updating:return this.localizationService.get("Updating");case Ot.Failed:return this.localizationService.get("Failed");case Ot.Succeeded:return this.localizationService.get("Succeeded");case Ot.Deleting:return this.localizationService.get("Deleting");default:return"-"}},i.prototype.getLocalizedConnectionStateStatus=function(r){switch(r){case Wt.Approved:return this.localizationService.get("Approved");case Wt.Disconnected:return this.localizationService.get("Disconnected");case Wt.Pending:return this.localizationService.get("Pending");case Wt.Rejected:return this.localizationService.get("Rejected");default:return"-"}},i.prototype.onEndpointSelected=function(r,n){n.selected=r,this.isAllPrivateEndpointsSelected=this.allSelected()},i.prototype.selectAllPrivateEndpoints=function(){this.allSelected()?(this.privateEndpoints.forEach(function(r){return r.selected=!1,!0}),this.isAllPrivateEndpointsSelected=!1):(this.privateEndpoints.forEach(function(r){return r.selected=!0,!0}),this.isAllPrivateEndpointsSelected=!0)},i.prototype.allSelected=function(){return _.every(this.privateEndpoints,function(r){return r.selected})},i.prototype.sortPrivateEndpoints=function(r,n){void 0===n&&(n=!0),this.privateEndpoints&&0!==this.privateEndpoints.length&&(n&&this.sortColumn===r?this.sortColumnAscending=!this.sortColumnAscending:(this.sortColumn=r,this.sortColumnAscending=!0),this.privateEndpoints=_.sortBy(this.privateEndpoints,function(t){var o;switch(r){case Jt.Name:return t.name;case Jt.ProvisioningState:return t.provisioningState;case Jt.ApprovalState:return null===(o=t.connectionState)||void 0===o?void 0:o.status}}),this.sortColumnAscending||(this.privateEndpoints=_.reverse(this.privateEndpoints)))},i.prototype.addPrivateEndpoint=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){var r;return(0,$.__generator)(this,function(n){switch(n.label){case 0:return this.dismissError(),r=this,[4,this.workspaceSettingsService.addPrivateEndpoint()];case 1:return r.privateEndpoints=n.sent(),this.sortPrivateEndpoints(this.sortColumn,!1),this.changeDetectorRef.markForCheck(),[2]}})})},i.prototype.deletePrivateEndpoints=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){var r;return(0,$.__generator)(this,function(n){switch(n.label){case 0:return this.dismissError(),r=this,[4,this.workspaceSettingsService.removePrivateEndpoints(_(this.privateEndpoints).filter(function(t){return t.selected}).map(function(t){return t.name}).value())];case 1:return r.privateEndpoints=n.sent(),this.sortPrivateEndpoints(this.sortColumn,!1),this.changeDetectorRef.markForCheck(),[2]}})})},i.prototype.getProvisioningStateIcon=function(r){switch(r){case Ot.Provisioning:case Ot.Updating:case Ot.Deleting:return"inprogress_20_filled";case Ot.Failed:return"failed_20_filled";case Ot.Succeeded:return"completed_20_filled";default:return"nostatus_20_filled"}},i.prototype.getConnectionStateIcon=function(r){switch(r){case Wt.Approved:return"completed_20_filled";case Wt.Pending:return"inprogress_20_filled";case Wt.Disconnected:case Wt.Rejected:return"failed_20_filled";default:return"nostatus_20_filled"}},i.prototype.isRemoveButtonDisabled=function(){var r=_.filter(this.privateEndpoints,function(n){return n.selected});return!r||0===r.length||!_.every(r,function(n){return!1===n.isSystemResource&&n.provisioningState!==Ot.Provisioning})},i.prototype.getEndpointIcon=function(r){switch(r){case"MongoDB":case"Sql":return"c_azure_cosmos_database_mounted_20";case"postgresql":return"c_azure_postgresql_db_mounted_20";case"mysql":case"sqlServer":case"sqlManagedInstance":case"sql":case"dev":case"sqlOnDemand":return"c_azure_sql_database_mounted_20";case"blob":case"queue":case"table":return"c_data_warehouse_20";case"dfs":return"c_lakehouse_20";case"file":return"c_folder_20";case"kusto":return"c_kql_database_20";default:return"c_generic_database_mounted_20"}},i.prototype.delay=function(r){return(0,$.__awaiter)(this,void 0,void 0,function(){return(0,$.__generator)(this,function(n){return[2,new Promise(function(t){return setTimeout(t,r)})]})})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(E.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-network"]],outputs:{closeSettings:"closeSettings"},decls:11,vars:18,consts:[[4,"ngIf"],[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"tri-flex","tri-items-center","tri-justify-center","tri-h-full"],[3,"viewModel","hideMessageBar"],[1,"network-settings-container","tri-flex","tri-flex-col"],[1,"network-settings-header"],[1,"network-settings-description"],["href","https://go.microsoft.com/fwlink/?linkid=2252791","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"aria-label","external"],["href","https://go.microsoft.com/fwlink/?linkid=2258953","rel","noopener noreferrer","target","_blank",1,"learn-more-link",3,"aria-label","external"],[1,"private-endpoints"],[1,"private-endpoints-buttons-container"],["tri-button","","appearance","subtle","data-testid","delete-network-btn",1,"add-private-endpoint-button",3,"disabled","click"],["name","add_16_regular"],["tri-button","","appearance","subtle","data-testid","delete-network-btn",1,"delete-private-endpoint-button",3,"disabled","click"],["name","arrow_sync_20_regular"],["name","delete_20_regular"],["class","tri-flex tri-items-center tri-justify-center tri-h-full",4,"ngIf"],["class","private-endpoints-table",4,"ngIf"],[1,"private-endpoints-table-empty-state",3,"viewModel"],[1,"private-endpoints-table"],["role","row"],["role","columnheader",1,"private-endpoints-checkbox-column-header"],[3,"checked","ariaLabel","disabled","onChange"],["role","columnheader",1,"private-endpoints-name-column-header"],[1,"private-endpoints-sort-button",3,"click"],["name","arrow_down_20_regular",4,"ngIf"],["name","arrow_up_20_regular",4,"ngIf"],["role","columnheader",1,"private-endpoints-state-column-header"],[4,"ngFor","ngForOf"],["name","arrow_down_20_regular"],["name","arrow_up_20_regular"],["role","cell"],[3,"name","ariaLabel","disabled","ngModel","onChange","ngModelChange"],["role","cell",1,"private-endpoints-name-cell"],["name","lock_closed_20_filled",3,"triTooltip",4,"ngIf"],[3,"sprite","name","triTooltip",4,"ngIf"],[3,"title"],["role","cell",1,"private-endpoints-other-cell",3,"title"],["sprite","status-color-icons",3,"name"],["name","lock_closed_20_filled",3,"triTooltip"],[3,"sprite","name","triTooltip"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,lp,2,0,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,dp,2,3,"tri-message-bar",1),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275template(6,pp,1,1,"tri-message-bar",1),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,kp,51,61,"ng-container",0),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275pipe(10,"async")),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,4,t.initialized$)||!1===e.\u0275\u0275pipeBind1(2,6,t.capacitiesInitialized$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(4,8,t.errorDismissed$)&&e.\u0275\u0275pipeBind1(5,10,t.apiError$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(7,12,t.fabricWarningDismissed$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(9,14,t.initialized$)&&!0===e.\u0275\u0275pipeBind1(10,16,t.capacitiesInitialized$)))},dependencies:[g.NgForOf,g.NgIf,p.JJ,p.On,O.M,He.D,nt.h,ae.r,Xe.Z,es.v,he.v,g.AsyncPipe,I.Y,I.A],styles:["[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:14px;line-height:20px}[_nghost-%COMP%]   .network-loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:50px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .network-settings-header[_ngcontent-%COMP%]{font-size:var(--fontSizeBase600);line-height:var(--lineHeightBase600);font-weight:var(--fontWeightBold);margin-bottom:10px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .network-settings-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-inline-end:5px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:20px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-buttons-container[_ngcontent-%COMP%]{margin-bottom:5px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table-empty-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:30px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-checkbox-column-header[_ngcontent-%COMP%]{width:5%}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-name-column-header[_ngcontent-%COMP%]{width:40%}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-sort-button[_ngcontent-%COMP%]{padding-inline-start:0;border:0;background:transparent;display:flex;gap:10px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-sort-button[_ngcontent-%COMP%]   tri-svg-icon[_ngcontent-%COMP%]{width:14px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-name-cell[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;max-width:300px;text-overflow:ellipsis}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-name-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-start:5px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-other-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   .private-endpoints-state-column-header[_ngcontent-%COMP%]{padding-inline-start:25px}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px;white-space:nowrap}[_nghost-%COMP%]   .network-settings-container[_ngcontent-%COMP%]   .private-endpoints[_ngcontent-%COMP%]   .private-endpoints-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--colorNeutralStroke2)}"],changeDetection:0}),i}();function xp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",6),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissServerError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.serverError$))&&void 0!==o?o:"","server"))}}function Mp(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-spinner",7),e.\u0275\u0275elementContainerEnd())}function Pp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"tri-checkbox",10),e.\u0275\u0275listener("onChange",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.selectTenantResource())}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"label",11),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275classProp("is-disabled",!t.tenantResource||!t.isWorkspaceAdmin),e.\u0275\u0275advance(1),e.\u0275\u0275property("id","default-connection-checkbox-"+t.resourceConnector.resourceType)("disabled",!t.tenantResource||!0===e.\u0275\u0275pipeBind1(2,7,t.serverOperationInProgress$)||!t.isWorkspaceAdmin)("label",e.\u0275\u0275pipeBind1(3,9,"BYOResources_Connect_Default"))("checked",t.tenantResourceSelected),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"BYOResources_Connect_Default"))}}function Tp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",12)(2,"div",13),e.\u0275\u0275element(3,"tri-svg-icon",14),e.\u0275\u0275elementStart(4,"span",15),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",16)(8,"tri-link",17),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,4,n.resourceConnector.notAllowedWarningMessage)),e.\u0275\u0275advance(3),e.\u0275\u0275property("external",!0)("href",n.resourceConnector.notAllowedLearnMoreLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,6,"LearnMore")," ")}}function Op(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",6),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.dismissFetchError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.fetchErrors$))&&void 0!==o?o:"","fetch"))}}function Ep(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("",n.text," (",n.key,") ")}}function Dp(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function Bp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div")(2,"tri-dropdown",26),e.\u0275\u0275listener("ngModelChange",function(l){e.\u0275\u0275restoreView(n);var v=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(v.selectedSubscriptionDropdownOption=l)})("valueChange",function(l){e.\u0275\u0275restoreView(n);var v=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(v.onSubscriptionChange(l))}),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementStart(5,"tri-dropdown-trigger")(6,"div",27),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"tri-search-box",28),e.\u0275\u0275listener("value",function(l){e.\u0275\u0275restoreView(n);var v=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(v.onSubscriptionsSeached(l))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,Ep,2,3,"tri-dropdown-item",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,Dp,1,0,"tri-spinner",5),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("compact",!0)("options",t.getDropdownOverlayOptions(null!==(o=null==t.allSubscriptionDropdownOptions?null:t.allSubscriptionDropdownOptions.length)&&void 0!==o?o:0))("ngModel",t.selectedSubscriptionDropdownOption)("disabled",!0===e.\u0275\u0275pipeBind1(3,8,t.serverOperationInProgress$)||!0===e.\u0275\u0275pipeBind1(4,10,t.fetchResourceStatus.subscription.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",t.selectedSubscriptionDropdownOption?t.selectedSubscriptionDropdownOption.text+" ("+(null==t.selectedSubscriptionDropdownOption?null:t.selectedSubscriptionDropdownOption.key)+")":e.\u0275\u0275pipeBind1(7,12,"Trident_Workspace_Settings_Select_Subscription")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.selectedSubscriptionDropdownOption?t.selectedSubscriptionDropdownOption.text+" ("+(null==t.selectedSubscriptionDropdownOption?null:t.selectedSubscriptionDropdownOption.key)+")":e.\u0275\u0275pipeBind1(9,14,"Trident_Workspace_Settings_Select_Subscription")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allSubscriptionDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(13,16,t.fetchResourceStatus.subscription.inProgress$))}}function Gp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.connectedResource.subscriptionId)}}function zp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n.tenantResource?null:n.tenantResource.subscriptionId)}}function Ap(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"tri-svg-icon",32),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementStart(5,"tri-link",17),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(4,4,n.resourceConnector.noSubscriptionsMessage)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0)("href",n.resourceConnector.noSubscriptionLearnMoreLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,6,"LearnMore")," ")}}function Rp(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.text," ")}}function Fp(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",34)}function Wp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div")(2,"tri-dropdown",26),e.\u0275\u0275listener("ngModelChange",function(C){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(w.selectedResourceGroupDropdownOption=C)})("valueChange",function(C){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(w.onResourceGroupChange(C))}),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementStart(5,"tri-dropdown-trigger")(6,"div",27),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"tri-search-box",28),e.\u0275\u0275listener("value",function(C){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(w.onResourceGroupsSeached(C))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,Rp,2,2,"tri-dropdown-item",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,Fp,1,0,"tri-spinner",33),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var o,s,l,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("compact",!0)("options",t.getDropdownOverlayOptions(null!==(o=null==t.allResourceGroupsDropdownOptions?null:t.allResourceGroupsDropdownOptions.length)&&void 0!==o?o:0))("ngModel",t.selectedResourceGroupDropdownOption)("disabled",!t.selectedSubscription||!0===e.\u0275\u0275pipeBind1(3,8,t.serverOperationInProgress$)||!0===e.\u0275\u0275pipeBind1(4,10,t.fetchResourceStatus.resourceGroup.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(7,12,null!==(s=null==t.selectedResourceGroupDropdownOption?null:t.selectedResourceGroupDropdownOption.text)&&void 0!==s?s:"Trident_Workspace_Settings_Select_Resource_Group")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,14,null!==(l=null==t.selectedResourceGroupDropdownOption?null:t.selectedResourceGroupDropdownOption.text)&&void 0!==l?l:"Trident_Workspace_Settings_Select_Resource_Group")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allResourceGroupsDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(13,16,t.fetchResourceStatus.resourceGroup.inProgress$))}}function Lp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.connectedResource.resourceGroup)}}function Np(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n.tenantResource?null:n.tenantResource.resourceGroup)}}function $p(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"tri-svg-icon",32),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementStart(5,"tri-link",17),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(4,4,n.resourceConnector.noResourceGroupMessage)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0)("href",n.resourceConnector.noResourceGroupLearnMoreLink),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,6,"LearnMore")," ")}}function Up(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tri-dropdown-item",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){var n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",n.text," ")}}function Vp(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function jp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div")(2,"tri-dropdown",26),e.\u0275\u0275listener("ngModelChange",function(C){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(w.selectedResourceDropdownOption=C)})("valueChange",function(C){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(w.onResourceChange(C))}),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementStart(5,"tri-dropdown-trigger")(6,"div",27),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"tri-search-box",28),e.\u0275\u0275listener("value",function(C){e.\u0275\u0275restoreView(n);var w=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(w.onResourcesSeached(C))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,Up,2,2,"tri-dropdown-item",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,Vp,1,0,"tri-spinner",5),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var o,s,l,t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("compact",!0)("options",t.getDropdownOverlayOptions(null!==(o=null==t.allResourcesDropdownOptions?null:t.allResourcesDropdownOptions.length)&&void 0!==o?o:0))("ngModel",t.selectedResourceDropdownOption)("disabled",!t.selectedSubscription||!t.selectedResourceGroup||!0===e.\u0275\u0275pipeBind1(3,8,t.serverOperationInProgress$)||!0===e.\u0275\u0275pipeBind1(4,10,t.fetchResourceStatus.resource.inProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(4),e.\u0275\u0275property("triTooltip",e.\u0275\u0275pipeBind1(7,12,null!==(s=null==t.selectedResourceDropdownOption?null:t.selectedResourceDropdownOption.text)&&void 0!==s?s:t.resourceConnector.resourcePickerPlaceholder)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,14,null!==(l=null==t.selectedResourceDropdownOption?null:t.selectedResourceDropdownOption.text)&&void 0!==l?l:t.resourceConnector.resourcePickerPlaceholder)," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.allResourcesDropdownOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(13,16,t.fetchResourceStatus.resource.inProgress$))}}function Kp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.connectedResource.resourceName)}}function Hp(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==n.tenantResource?null:n.tenantResource.resourceName)}}function Xp(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function Yp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",35),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.connectResource())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Xp,1,0,"tri-spinner",5),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("is-disabled",!((t.selectedSubscription&&t.selectedResourceGroup&&t.selectedResource||t.tenantResourceSelected)&&!0!==e.\u0275\u0275pipeBind1(1,5,t.serverOperationInProgress$)&&t.isWorkspaceAdmin)),e.\u0275\u0275property("disabled",!((t.selectedSubscription&&t.selectedResourceGroup&&t.selectedResource||t.tenantResourceSelected)&&!0!==e.\u0275\u0275pipeBind1(2,7,t.serverOperationInProgress$)&&t.isWorkspaceAdmin)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(4,9,t.serverOperationInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,11,"BYOResources_Connect")," ")}}function Qp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",36),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.cancelConnect())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("is-disabled",!(t.selectedSubscription&&t.selectedResourceGroup&&t.selectedResource&&!0!==e.\u0275\u0275pipeBind1(1,4,t.serverOperationInProgress$)&&t.isWorkspaceAdmin)),e.\u0275\u0275property("disabled",!(t.selectedSubscription&&t.selectedResourceGroup&&t.selectedResource&&!0!==e.\u0275\u0275pipeBind1(2,6,t.serverOperationInProgress$)&&t.isWorkspaceAdmin)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,8,"Cancel_ButtonText")," ")}}function Zp(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}function Jp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",35),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.disconnectResource())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Zp,1,0,"tri-spinner",5),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("is-disabled",!0===e.\u0275\u0275pipeBind1(1,5,t.serverOperationInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275property("disabled",!0===e.\u0275\u0275pipeBind1(2,7,t.serverOperationInProgress$)||!t.isWorkspaceAdmin),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(4,9,t.serverOperationInProgress$)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,11,"BYOResources_Disconnect_Button_Workspace")," ")}}function qp(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-collapsed-container",18),e.\u0275\u0275listener("collapseContainer",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onCollapseToggle())}),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"div",19),e.\u0275\u0275template(4,Op,2,3,"tri-message-bar",2),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementStart(7,"label",20),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,Bp,14,18,"ng-container",5),e.\u0275\u0275template(11,Gp,3,1,"ng-container",5),e.\u0275\u0275template(12,zp,3,1,"ng-container",5),e.\u0275\u0275template(13,Ap,8,8,"div",21),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",22)(16,"label",20),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,Wp,14,18,"ng-container",5),e.\u0275\u0275template(20,Lp,3,1,"ng-container",5),e.\u0275\u0275template(21,Np,3,1,"ng-container",5),e.\u0275\u0275template(22,$p,8,8,"div",21),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",22)(25,"label",20),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(28,jp,14,18,"ng-container",5),e.\u0275\u0275template(29,Kp,3,1,"ng-container",5),e.\u0275\u0275template(30,Hp,3,1,"ng-container",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",23),e.\u0275\u0275template(32,Yp,7,13,"button",24),e.\u0275\u0275template(33,Qp,5,10,"button",25),e.\u0275\u0275template(34,Jp,7,13,"button",24),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("headerText",e.\u0275\u0275pipeBind1(2,22,t.resourceConnector.collapsibeSectionHeader))("iconName",t.resourceConnector.icon.name)("iconSprite",t.resourceConnector.icon.sprite)("collapsed",null!==(o=t.resourceConnector.collapsed)&&void 0!==o?o:!!t.connectedResource),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(5,24,t.fetchErrorDismissed$)&&e.\u0275\u0275pipeBind1(6,26,t.fetchErrors$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,28,"Subscription")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.connectedResource&&!t.tenantResourceSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.connectedResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.tenantResourceSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.connectedResource&&0===t.allSubscriptions.length&&!0!==e.\u0275\u0275pipeBind1(14,30,t.fetchResourceStatus.subscription.inProgress$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,32,"BYOResources_Connect_ResourceGroup")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.connectedResource&&!t.tenantResourceSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.connectedResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.tenantResourceSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.connectedResource&&t.selectedSubscription&&0===t.allResourceGroups.length&&!0!==e.\u0275\u0275pipeBind1(23,34,t.fetchResourceStatus.resourceGroup.inProgress$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(27,36,t.resourceConnector.resourceLabel)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.connectedResource&&!t.tenantResourceSelected),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.connectedResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.tenantResourceSelected),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.connectedResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.connectedResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.connectedResource)}}function eu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Pp,7,13,"div",8),e.\u0275\u0275template(2,Tp,11,8,"ng-container",5),e.\u0275\u0275template(3,qp,35,38,"ng-container",5),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.connectedResource&&n.resourceConnector.canSelectTenantResource),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isWorkspaceLevelConfigurationAllowed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isWorkspaceLevelConfigurationAllowed&&!n.connectedResourceFetchFailed)}}var ru=function(){function i(r,n){this.workspaceSettingsService=r,this.telemetryService=n,this.resourceConnector={},this.allSubscriptions=[],this.allResourceGroups=[],this.allResources=[],this.allSubscriptionDropdownOptions=[],this.allResourceGroupsDropdownOptions=[],this.allResourcesDropdownOptions=[],this.subscriptionDropdownSearchText="",this.resourceGroupDropdownSearchText="",this.resourceDropdownSearchText="",this.selectedSubscription=void 0,this.selectedResourceGroup=void 0,this.selectedResource=void 0,this.selectedSubscriptionDropdownOption=void 0,this.selectedResourceGroupDropdownOption=void 0,this.selectedResourceDropdownOption=void 0,this.connectedResource=void 0,this.tenantResource=void 0,this.connectedResourceFetchFailed=!1,this.isWorkspaceLevelConfigurationAllowed=!1,this.isInitialized$=this.workspaceSettingsService.azureConnectionsInitialized$,this.isWorkspaceAdmin=!1,this.initializationSubscription=void 0,this.serverError$=new F.X(""),this.serverErrorDismissed$=new F.X(!1),this.serverOperationInProgress$=new F.X(!1),this.fetchResourceStatus={},this.fetchErrors$=new F.X(""),this.fetchErrorDismissed$=new F.X(!1),this.tenantResourceSelected=!1}return i.prototype.ngOnInit=function(){var r=this;this.initializationSubscription=this.isInitialized$.subscribe(function(n){r.isWorkspaceAdmin=r.workspaceSettingsService.isWorkspaceAdmin,r.serverError$=r.workspaceSettingsService.azureConnectionsServiceErrorMessages[r.resourceConnector.resourceType],r.serverOperationInProgress$=r.workspaceSettingsService.azureResourceApiInProgress[r.resourceConnector.resourceType],r.fetchResourceStatus=r.workspaceSettingsService.azureResourcesFetchStatus[r.resourceConnector.resourceType],r.fetchErrors$=(0,On.T)(r.fetchResourceStatus.subscription.errorMessage$,r.fetchResourceStatus.resourceGroup.errorMessage$,r.fetchResourceStatus.resource.errorMessage$),r.fetchErrors$.subscribe(function(){return r.fetchErrorDismissed$.next(!1)}),n&&(r.connectedResource=r.workspaceSettingsService.getLinkedResource(r.resourceConnector.resourceType),r.connectedResourceFetchFailed=!!r.connectedResource&&!r.connectedResource.resourceName,r.tenantResource=r.workspaceSettingsService.getTenantResource(r.resourceConnector.resourceType),r.connectedResource||r.initializePickerOptions(),r.resourceConnector.collapsed=!r.connectedResource,r.isWorkspaceLevelConfigurationAllowed=!!r.resourceConnector&&r.workspaceSettingsService.getFeatureSwitchState(r.resourceConnector.featureFlagToAllowResource))})},i.prototype.ngOnDestroy=function(){var r;null===(r=this.initializationSubscription)||void 0===r||r.unsubscribe()},i.prototype.onCollapseToggle=function(){var r;this.resourceConnector&&(this.resourceConnector.collapsed=!(null!==(r=this.resourceConnector)&&void 0!==r&&r.collapsed))},i.prototype.onSubscriptionChange=function(r){var t,o,s,n=this;this.selectedSubscription=this.allSubscriptions.find(function(l){return l.subscriptionId===r?.key}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.azureTenantObjectId,subscriptionId:null===(o=this.selectedSubscription)||void 0===o?void 0:o.subscriptionId}),this.selectedResourceGroup=void 0,this.selectedResource=void 0,this.selectedResourceGroupDropdownOption=void 0,this.selectedResourceDropdownOption=void 0,this.selectedSubscription&&this.workspaceSettingsService.getResourceGroupsWithResourceTypeForAzureSubscription(this.resourceConnector.resourceType,(null===(s=this.selectedSubscription)||void 0===s?void 0:s.subscriptionId)||"",!0).then(function(l){n.allResourceGroups=l,n.createResourceGroupDropdownOptions()})},i.prototype.onResourceGroupChange=function(r){var t,o,s,l,v,n=this;this.selectedResourceGroup=this.allResourceGroups.find(function(C){return C.name===r?.text}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.azureTenantObjectId,subscriptionId:null===(o=this.selectedSubscription)||void 0===o?void 0:o.subscriptionId,resourceGroup:null===(s=this.selectedResourceGroup)||void 0===s?void 0:s.name}),this.selectedResource=void 0,this.selectedResourceDropdownOption=void 0,this.selectedSubscription&&this.selectedResourceGroup&&this.workspaceSettingsService.getAzureResources(this.resourceConnector.resourceType,(null===(l=this.selectedSubscription)||void 0===l?void 0:l.subscriptionId)||"",(null===(v=this.selectedResourceGroup)||void 0===v?void 0:v.name)||"").then(function(C){n.allResources=C,n.createResourcesDropdownOptions()})},i.prototype.onResourceChange=function(r){var n,t,o,s;this.selectedResource=this.allResources.find(function(l){return l.name===r?.text}),this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{azureTenantObjectId:null===(n=this.selectedSubscription)||void 0===n?void 0:n.azureTenantObjectId,subscriptionId:null===(t=this.selectedSubscription)||void 0===t?void 0:t.subscriptionId,resourceGroup:null===(o=this.selectedResourceGroup)||void 0===o?void 0:o.name,resourceName:null===(s=this.selectedResource)||void 0===s?void 0:s.name})},i.prototype.connectResource=function(){var r=this;this.tenantResourceSelected?this.workspaceSettingsService.connectTenantResource(this.resourceConnector.resourceType).then(function(){r.connectedResource=r.workspaceSettingsService.getLinkedResource(r.resourceConnector.resourceType),r.tenantResourceSelected=!1}):this.workspaceSettingsService.connectAzureResource(this.resourceConnector.resourceType).then(function(){r.connectedResource=r.workspaceSettingsService.getLinkedResource(r.resourceConnector.resourceType)});var n={originatingService:"DataCloudUX",activityName:"Connect ".concat(this.resourceConnector.resourceType),featureName:"Fabric Workspace Settings"};this.telemetryService.logStandardFeatureEvent(n)},i.prototype.cancelConnect=function(){this.workspaceSettingsService.updateCurrentResource(this.resourceConnector.resourceType,{}),this.selectedSubscription=void 0,this.selectedSubscriptionDropdownOption=void 0,this.selectedResourceGroup=void 0,this.selectedResourceGroupDropdownOption=void 0,this.selectedResource=void 0,this.selectedResourceDropdownOption=void 0,this.resourceConnector.collapsed=!0},i.prototype.disconnectResource=function(){var r=this;this.workspaceSettingsService.disconnectAzureResource(this.resourceConnector.resourceType,this.resourceConnector.disconnectionPromptMessage).then(function(n){n&&(r.connectedResource=void 0,r.initializePickerOptions())})},i.prototype.selectTenantResource=function(){this.tenantResourceSelected=!this.tenantResourceSelected},i.prototype.dismissServerError=function(){this.serverErrorDismissed$.next(!0)},i.prototype.dismissFetchError=function(){this.fetchErrorDismissed$.next(!0)},i.prototype.onSubscriptionsSeached=function(r){this.subscriptionDropdownSearchText=r,this.createSubscriptionDropdownOptions()},i.prototype.onResourceGroupsSeached=function(r){this.resourceGroupDropdownSearchText=r,this.createResourceGroupDropdownOptions()},i.prototype.onResourcesSeached=function(r){this.resourceDropdownSearchText=r,this.createResourcesDropdownOptions()},i.prototype.getDropdownOverlayOptions=function(r){return{dropdownHeight:30*Math.max(Math.min(r,12),1)+34}},i.prototype.getErrorMessageBarViewModel=function(r,n){var t=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return"server"===n?t.dismissServerError():t.dismissFetchError()},message:r}},i.prototype.initializePickerOptions=function(){var r=this,n=this.workspaceSettingsService.getCurrentResource(this.resourceConnector.resourceType);this.workspaceSettingsService.getAzureSubscriptions().then(function(t){if(r.allSubscriptions=(0,$.__spreadArray)([],t,!0),r.createSubscriptionDropdownOptions(),n?.subscriptionId){var o=r.allSubscriptions.findIndex(function(l){return l.subscriptionId===n.subscriptionId});if(o>=0){var s=r.allSubscriptions[o];r.selectedSubscriptionDropdownOption=r.allSubscriptionDropdownOptions[o],r.selectedSubscription=s,n.resourceGroup&&(r.selectedResourceGroup={name:n.resourceGroup,subscriptionId:s.subscriptionId}),n.resourceName&&(r.selectedResource={id:n.resourceName,name:n.resourceName,subscriptionId:s.subscriptionId,resourceGroup:n.resourceGroup})}}}),n?.subscriptionId&&(this.workspaceSettingsService.getResourceGroupsWithResourceTypeForAzureSubscription(this.resourceConnector.resourceType,n.subscriptionId).then(function(t){var o;r.allResourceGroups=(0,$.__spreadArray)([],t,!0),r.createResourceGroupDropdownOptions(),n.resourceGroup&&(r.selectedResourceGroupDropdownOption=null===(o=r.allResourceGroupsDropdownOptions)||void 0===o?void 0:o.find(function(s){return s.text===n.resourceGroup}))}),n.resourceGroup&&this.workspaceSettingsService.getAzureResources(this.resourceConnector.resourceType,n.subscriptionId,n.resourceGroup).then(function(t){var o;r.allResources=(0,$.__spreadArray)([],t,!0),r.createResourcesDropdownOptions(),n.resourceName&&(r.selectedResourceDropdownOption=null===(o=r.allResourcesDropdownOptions)||void 0===o?void 0:o.find(function(s){return s.text===n.resourceName}))}))},i.prototype.createSubscriptionDropdownOptions=function(){var r=this;this.allSubscriptionDropdownOptions=this.allSubscriptions.map(function(n){return{key:n.subscriptionId,text:n.name}}).filter(function(n){var t,o,s,l;return!r.subscriptionDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.subscriptionDropdownSearchText.toLowerCase()))>=0||(null===(l=null===(s=n.key)||void 0===s?void 0:s.toLowerCase())||void 0===l?void 0:l.indexOf(r.subscriptionDropdownSearchText.toLowerCase()))>=0})},i.prototype.createResourceGroupDropdownOptions=function(){var r=this;this.allResourceGroupsDropdownOptions=this.allResourceGroups.map(function(n){return{key:n.name,text:n.name}}).filter(function(n){var t,o;return!r.resourceGroupDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.resourceGroupDropdownSearchText.toLowerCase()))>=0})},i.prototype.createResourcesDropdownOptions=function(){var r=this;this.allResourcesDropdownOptions=this.allResources.map(function(n){return{key:n.name,text:n.name}}).filter(function(n){var t,o;return!r.resourceDropdownSearchText||(null===(o=null===(t=n.text)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.indexOf(r.resourceDropdownSearchText.toLowerCase()))>=0})},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(Pt.t))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-azure-resource-connector"]],inputs:{resourceConnector:"resourceConnector"},decls:17,vars:22,consts:[[1,"azure-resource-connect-container","tri-flex","tri-flex-col"],[1,"resource-header"],[3,"viewModel","hideMessageBar",4,"ngIf"],[1,"resource-description"],["target","_blank","rel","noopener noreferrer",3,"href","external"],[4,"ngIf"],[3,"viewModel","hideMessageBar"],[1,"tri-flex","tri-items-center","tri-justify-center"],["class","tri-flex tri-flex-row default-connection",3,"is-disabled",4,"ngIf"],[1,"tri-flex","tri-flex-row","default-connection"],[1,"default-connection-checkbox",3,"id","disabled","label","checked","onChange"],["for","'default-connection-checkbox-' + resourceConnector.resourceType"],[1,"config-not-allowed"],[1,"tri-flex"],["name","error_circle_12_filled",1,"config-not-allowed-icon"],[1,"config-not-allowed-message"],[1,"config-not-allowed-link"],["target","_blank","rel","noopener noreferrer",3,"external","href"],[3,"headerText","iconName","iconSprite","collapsed","collapseContainer"],[1,"resource-picker-field","sub-picker","tri-flex","tri-flex-col"],[1,"picker-label"],["class","tri-flex error-message-container",4,"ngIf"],[1,"resource-picker-field","tri-flex","tri-flex-col"],[1,"azure-resource-footer-buttons","tri-flex"],["tri-button","","appearance","primary",3,"is-disabled","disabled","click",4,"ngIf"],["tri-button","",3,"is-disabled","disabled","click",4,"ngIf"],[1,"azure-resource-dropdown",3,"compact","options","ngModel","disabled","ngModelChange","valueChange"],[1,"dropdown-content",3,"triTooltip"],[1,"resource-setting-dropdown-search",3,"value"],["class","resource-setting-dropdown-item",3,"value",4,"ngFor","ngForOf"],[1,"resource-setting-dropdown-item",3,"value"],[1,"tri-flex","error-message-container"],["name","error_circle_12_filled",1,"error-message-icon"],["class","fetch-progress-spinner",4,"ngIf"],[1,"fetch-progress-spinner"],["tri-button","","appearance","primary",3,"disabled","click"],["tri-button","",3,"disabled","click"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h3",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,xp,2,3,"tri-message-bar",2),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementStart(7,"div",3),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementStart(10,"tri-link",4),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(13,Mp,2,0,"ng-container",5),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275template(15,eu,4,3,"ng-container",5),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,8,t.resourceConnector.headerText)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(5,10,t.serverErrorDismissed$)&&e.\u0275\u0275pipeBind1(6,12,t.serverError$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,14,t.resourceConnector.headerSubText)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("href",t.resourceConnector.learnMoreLink)("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,16,t.resourceConnector.headerLearnMoreText)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0!==e.\u0275\u0275pipeBind1(14,18,t.isInitialized$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(16,20,t.isInitialized$)))},dependencies:[g.NgForOf,g.NgIf,p.JJ,p.On,O.M,He.D,nt.h,ae.r,Xe.Z,xt.M3,Gt.l,wt.q,xt.ii,hn.U,Y,he.v,g.AsyncPipe,I.Y],styles:['[_nghost-%COMP%]{font-family:var(--fontFamilyBase);font-size:13px;line-height:18px}[_nghost-%COMP%]   .picker-label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px}[_nghost-%COMP%]   .config-not-allowed[_ngcontent-%COMP%]{margin-top:24px}[_nghost-%COMP%]   .config-not-allowed[_ngcontent-%COMP%]   .config-not-allowed-icon[_ngcontent-%COMP%]{margin-right:10px;fill:var(--globalColorBurgundyTint10)}[_nghost-%COMP%]   .config-not-allowed[_ngcontent-%COMP%]   .config-not-allowed-link[_ngcontent-%COMP%]{margin-top:7px;margin-left:30px}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .resource-header[_ngcontent-%COMP%]{font-size:var(--fontSizeBase300);line-height:var(--lineHeightBase300);font-weight:var(--fontWeightSemibold)}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .resource-description[_ngcontent-%COMP%], [_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .default-connection[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .default-connection.is-disabled[_ngcontent-%COMP%]{color:var(--globalColorBlackAlpha50)}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .default-connection[_ngcontent-%COMP%]   .default-connection-checkbox[_ngcontent-%COMP%]{margin:0 0 0 -3px}[_nghost-%COMP%]   .azure-resource-connect-container[_ngcontent-%COMP%]   .resource-picker-field[_ngcontent-%COMP%]{margin-bottom:24px}[_nghost-%COMP%]   .azure-resource-dropdown[_ngcontent-%COMP%]{min-width:180px;max-width:360px}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:var(--fontFamilyBase)}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-underline{display:none}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-infix{height:32px;width:360px;border:1px solid #d1d1d1;border-radius:4px;box-sizing:border-box;padding:6px 12px}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-infix .mat-form-field-label-wrapper{left:12px;width:calc(100% - 24px)}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-infix .mat-form-field-label-wrapper .mat-form-field-label{color:var(--colorNeutralForeground1)}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-infix .mat-select-arrow{border:none;height:24px;width:8px}[_nghost-%COMP%]   .azure-resource-select-field[_ngcontent-%COMP%]  .mat-form-field-infix .mat-select-arrow:before{font-family:TriFabricMDL2Icons;content:"\\e70d"}[_nghost-%COMP%]   .azure-resource-select-field.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]  .mat-form-field-label{display:none}[_nghost-%COMP%]   .azure-resource-select-field.mat-form-field-disabled[_ngcontent-%COMP%]  .mat-form-field-infix{background-color:var(--colorNeutralBackground4)}[_nghost-%COMP%]   .azure-resource-select-field.mat-form-field-disabled[_ngcontent-%COMP%]  .mat-form-field-infix .mat-form-field-label-wrapper .mat-form-field-label{color:var(--colorNeutralForegroundDisabled)}[_nghost-%COMP%]   .fetch-progress-spinner[_ngcontent-%COMP%]{flex-grow:1;margin-left:16px}[_nghost-%COMP%]   .azure-resource-footer-buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-right:8px}  .resource-setting-dropdown-search,   .resource-setting-dropdown-item{font-family:var(--fontFamilyBase);font-size:13px;line-height:18px;width:100%}  .dropdown-content{text-overflow:ellipsis;overflow:hidden}  .resource-setting-dropdown-search{margin:5px 8px;width:calc(100% - 16px);height:24px}  .resource-setting-dropdown-search   tri-svg-icon{margin:2px 6px!important}  .tri-dropdown-trigger-container>span,   .popout-button{width:100%}  .resource-picker-field   .popout-button{width:100%}  .box-header{height:unset!important;padding-bottom:12px;min-height:20px!important}  .is-collapsed .box-header{padding-bottom:0}'],changeDetection:0}),i}();function ou(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"div",3),e.\u0275\u0275elementContainerEnd())}function au(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ou,2,0,"ng-container",1),e.\u0275\u0275element(2,"tri-workspace-settings-azure-resource-connector",2),e.\u0275\u0275elementContainerEnd()),2&i){var n=r.$implicit,t=r.index;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("resourceConnector",n)}}var su=function(){function i(r){var n,t=this;this.workspaceSettingsService=r,this.resourceConnectors=((n={})[Dt.AdlsStorage]={resourceType:Dt.AdlsStorage,headerSubText:"BYOResources_Workspace_AdlsStorage_Description",headerText:"Trident_Workspace_Settings_ADLS_header",headerLearnMoreText:"Trident_Workspace_Settings_Learn_More_ADLS",resourceLabel:"Trident_Workspace_Settings_Storage_Account",resourcePickerPlaceholder:"Trident_Workspace_Settings_Select_Storage",collapsibeSectionHeader:"AdminPortal_BYOTenantStorage_Description",icon:{name:"plug_connected_20_regular"},forPremiumOnly:!1,canSelectTenantResource:!0,learnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128745",featureFlagToAllowResource:"storageAccountAttachForWorkspaceAdminsEnabled",notAllowedWarningMessage:"Warning_BYOSA_Workspace_Not_Enabled",notAllowedLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128134",noSubscriptionsMessage:"Error_No_Azure_Subscriptions_Access",noSubscriptionLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128263",noResourceGroupMessage:"Error_No_Storage_Account_Access",noResourceGroupLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128132",disconnectionPromptMessage:"AdminPortal_DatapoolSettings_DialogWarningNote1"},n[Dt.LogAnalytics]={resourceType:Dt.LogAnalytics,headerSubText:"BYOResources_Workspace_LogAnalytics_Description",headerText:"Trident_Workspace_Settings_Log_Analytics_Header",headerLearnMoreText:"Trident_Workspace_Settings_Learn_More_Log_Analytics",resourceLabel:"BYOResources_Connect_LogAnalytics",resourcePickerPlaceholder:"Trident_Workspace_Settings_Select_Log_Analytics",collapsibeSectionHeader:"Trident_Workspace_Settings_Configure_Log_Analytics",icon:{name:"plug_connected_20_regular"},learnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128746",forPremiumOnly:!0,canSelectTenantResource:!1,featureFlagToAllowResource:"logAnalyticsAttachForWorkspaceAdminsEnabled",notAllowedWarningMessage:"Warning_BYOLA_Workspace_Not_Enabled",notAllowedLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128744",noSubscriptionsMessage:"Error_No_Azure_Subscriptions_Access",noSubscriptionLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128742",noResourceGroupMessage:"Error_No_Log_Analytics_Workspace_Access",noResourceGroupLearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=2128743",disconnectionPromptMessage:"BYOResources_Workspace_Disconnect_LogAnalytics_Description"},n),this.resourceConnectorArray$=new F.X([]),this.initializedSubscription=void 0,this.initializedSubscription=this.workspaceSettingsService.azureConnectionsInitialized$.subscribe(function(o){if(o){var s=t.workspaceSettingsService.isPremium;t.resourceConnectorArray$.next(Object.values(t.resourceConnectors).filter(function(l){return!l.forPremiumOnly||s}))}})}return i.prototype.ngOnDestroy=function(){var r;null===(r=this.initializedSubscription)||void 0===r||r.unsubscribe()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-azure-connections"]],decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"resourceConnector"],[1,"resource-picker-section-seperator"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,au,3,2,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(1,1,t.resourceConnectorArray$))},dependencies:[g.NgForOf,g.NgIf,ru,g.AsyncPipe],styles:["[_nghost-%COMP%]   .resource-picker-section-seperator[_ngcontent-%COMP%]{margin-top:16px;border-top:1px solid #edebe9}"],changeDetection:0}),i}();function cu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-message-bar",6),e.\u0275\u0275listener("hideMessageBar",function(){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.dismissError())}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&i){var o,t=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",t.getErrorMessageBarViewModel(null!==(o=e.\u0275\u0275pipeBind1(1,1,t.deleteWorkspaceErrorMessage$))&&void 0!==o?o:""))}}function lu(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275element(1,"tri-svg-icon",8),e.\u0275\u0275elementStart(2,"div",9),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"Trident_Workspace_Settings_Delete_Workspace_Banner")))}function du(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",10)(1,"div",11),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",12),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"Trident_Workspace_Settings_Delete_Workspace_Title")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",n.getDeleteWorkspaceRetentionPolicyText()," ")}}function pu(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner")}var uu=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.triLocalizationService=n,this.telemetryService=t,this.disableDelete=!0,this.deleteWorkspaceInProgress$=this.workspaceSettingsService.deleteWorkspaceInProgress$,this.deleteWorkspaceErrorMessage$=this.workspaceSettingsService.deleteWorkspaceErrorMessage$,this.errorDismissed$=new F.X(!1),this.closeSettings=new e.EventEmitter,this.workspaceSettingsService.initialized$.subscribe(function(s){s&&(o.disableDelete=!o.workspaceSettingsService.canDeleteWorkspace)})}return i.prototype.onDeleteClick=function(){var r=this;this.workspaceSettingsService.deleteWorkspace().then(function(o){var s;o&&(null===(s=r.closeSettings)||void 0===s||s.emit())}),this.telemetryService.logStandardFeatureEvent({originatingService:"DataCloudUX",activityName:"delete workspace",featureName:"Fabric Workspace Settings",activityAttributes:{selectedTab:"Other"}}),this.telemetryService.logEvent({name:"Delete workspace",workspaceObjectId:this.workspaceSettingsService.workspaceObjectId,properties:{featureName:"Fabric Workspace Settings"}})},i.prototype.dismissError=function(){this.errorDismissed$.next(!0)},Object.defineProperty(i.prototype,"workspaceRecoveryEnabled",{get:function(){return this.workspaceSettingsService.workspaceRecoveryEnabled},enumerable:!1,configurable:!0}),i.prototype.getDeleteWorkspaceRetentionPolicyText=function(){return this.triLocalizationService.format("Trident_Workspace_Settings_Delete_Workspace_Configurable",this.workspaceSettingsService.retentionPeriodDays)},i.prototype.getErrorMessageBarViewModel=function(r){var n=this;return{bannerType:1,allowDismiss:!0,iconName:"dismiss_circle_16_regular",closeBarCallback:function(){return n.dismissError()},message:r}},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(E.z),e.\u0275\u0275directiveInject(Pt.t))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-settings-other"]],outputs:{closeSettings:"closeSettings"},decls:13,vars:20,consts:[[3,"viewModel","hideMessageBar",4,"ngIf"],["class","delete-workspace-message tri-flex",4,"ngIf"],["class","delete-workspace-message-new",4,"ngIf"],["tri-button","","appearance","primary","data-testid","delete-workspace-btn",1,"delete-workspace-button",3,"disabled","click"],[4,"ngIf"],["name","delete_20_regular"],[3,"viewModel","hideMessageBar"],[1,"delete-workspace-message","tri-flex"],["name","info_20_regular",1,"banner-icon","tri-shrink-0"],[1,"banner-text"],[1,"delete-workspace-message-new"],[1,"delete-workspace-new-header"],[1,"delete-workspace-new-body"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,cu,2,3,"tri-message-bar",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,lu,5,3,"div",1),e.\u0275\u0275template(4,du,6,4,"div",2),e.\u0275\u0275elementStart(5,"button",3),e.\u0275\u0275listener("click",function(){return t.onDeleteClick()}),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,pu,1,0,"tri-spinner",4),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275element(10,"tri-svg-icon",5),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(1,8,t.errorDismissed$)&&e.\u0275\u0275pipeBind1(2,10,t.deleteWorkspaceErrorMessage$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!t.workspaceRecoveryEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.workspaceRecoveryEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("is-disabled",e.\u0275\u0275pipeBind1(6,12,t.deleteWorkspaceInProgress$)),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(7,14,t.deleteWorkspaceInProgress$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(9,16,t.deleteWorkspaceInProgress$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,18,"Trident_Workspace_Settings_Delete_This_Workspace"),"\n"))},dependencies:[g.NgIf,O.M,He.D,nt.h,g.AsyncPipe,I.Y],styles:["[_nghost-%COMP%]   .delete-workspace-button[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]{font-size:12px;background-color:var(--colorNeutralBackground4);padding:6px 10px;box-sizing:border-box}[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-inline-end:8px}[_nghost-%COMP%]   .delete-workspace-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}[_nghost-%COMP%]   .delete-workspace-message-new[_ngcontent-%COMP%]   .delete-workspace-new-header[_ngcontent-%COMP%]{font-weight:600;margin-bottom:10px;font-size:16px}[_nghost-%COMP%]   .delete-workspace-message-new[_ngcontent-%COMP%]   .delete-workspace-new-body[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),i}();function gu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-general",7),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onCloseSettings())}),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("userPicker",t.userPicker),e.\u0275\u0275attribute("data-testid","workspace-settings-general")}}function _u(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-about",8),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("userPicker",n.userPicker),e.\u0275\u0275attribute("data-testid","workspace-settings-about")}}function mu(i,r){1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-premium-v2",10)}function vu(i,r){1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-premium",10)}function hu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,mu,1,0,"tri-workspace-settings-premium-v2",9),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,vu,1,0,"tri-workspace-settings-premium",9),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,2,n.workspaceSettingsV3$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(4,4,n.workspaceSettingsV3$))}}function fu(i,r){1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-azure-connections-v2",10)}function Cu(i,r){1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-azure-connections",10)}function Su(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,fu,1,0,"tri-workspace-settings-azure-connections-v2",11),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,Cu,1,0,"ng-template",null,12,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275reference(4),t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,2,t.workspaceSettingsV3$))("ngIfElse",n)}}function yu(i,r){1&i&&e.\u0275\u0275element(0,"tri-workspace-settings-storage-systems",10)}function bu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-git-integration",13),e.\u0275\u0275listener("closeWorkspaceSettingsFromTab",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}function wu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-onelake",14),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}function ku(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-workspace-identity",14),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}function Iu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-network",14),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}function xu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-platform-monitoring",14),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}function Mu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-workspace-settings-other",14),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCloseSettings())}),e.\u0275\u0275elementEnd()}}var Pu=function(){function i(r,n){var t=this;this.isTrident=r,this.featureSwitchService=n,this.selectedGroup="about",this.closeSettings=new e.EventEmitter,this.workspaceSettingsV3$=this.featureSwitchService.featureSwitches$.pipe((0,ta.n)(function(o){return!o}),(0,ke.q)(1),(0,ve.U)(function(o){return t.isTrident&&!!o.workspaceSettingsV3}))}return i.prototype.onCloseSettings=function(){this.closeSettings.emit()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(en.Y),e.\u0275\u0275directiveInject(ut.V$))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-universal-workspace-settings"]],inputs:{userPicker:"userPicker",selectedGroup:"selectedGroup"},outputs:{closeSettings:"closeSettings"},decls:12,vars:12,consts:[[3,"ngSwitch"],[3,"userPicker","closeSettings",4,"ngSwitchCase"],["class","full-setting universal-settings-page",3,"userPicker",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","full-setting universal-settings-page",4,"ngSwitchCase"],["class","full-setting universal-settings-page",3,"closeWorkspaceSettingsFromTab",4,"ngSwitchCase"],["class","full-setting universal-settings-page",3,"closeSettings",4,"ngSwitchCase"],[3,"userPicker","closeSettings"],[1,"full-setting","universal-settings-page",3,"userPicker"],["class","full-setting universal-settings-page",4,"ngIf"],[1,"full-setting","universal-settings-page"],["class","full-setting universal-settings-page",4,"ngIf","ngIfElse"],["oldAzureConnections",""],[1,"full-setting","universal-settings-page",3,"closeWorkspaceSettingsFromTab"],[1,"full-setting","universal-settings-page",3,"closeSettings"]],template:function(n,t){1&n&&(e.\u0275\u0275elementContainerStart(0,0),e.\u0275\u0275template(1,gu,1,2,"tri-workspace-settings-general",1),e.\u0275\u0275template(2,_u,1,2,"tri-workspace-settings-about",2),e.\u0275\u0275template(3,hu,5,6,"ng-container",3),e.\u0275\u0275template(4,Su,5,4,"ng-container",3),e.\u0275\u0275template(5,yu,1,0,"tri-workspace-settings-storage-systems",4),e.\u0275\u0275template(6,bu,1,0,"tri-workspace-settings-git-integration",5),e.\u0275\u0275template(7,wu,1,0,"tri-workspace-settings-onelake",6),e.\u0275\u0275template(8,ku,1,0,"tri-workspace-settings-workspace-identity",6),e.\u0275\u0275template(9,Iu,1,0,"tri-workspace-settings-network",6),e.\u0275\u0275template(10,xu,1,0,"tri-workspace-settings-platform-monitoring",6),e.\u0275\u0275template(11,Mu,1,0,"tri-workspace-settings-other",6),e.\u0275\u0275elementContainerEnd()),2&n&&(e.\u0275\u0275property("ngSwitch",t.selectedGroup),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","general"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","about"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","premium"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","azureConnections"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","storageSystems"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","gitIntegration"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","oneLake"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","workspaceIdentity"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","network"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","platformMonitoring"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","other"))},dependencies:[g.NgIf,g.NgSwitch,g.NgSwitchCase,li,dr,Pr,Jn,u,Ms,Fs,Pd,Ad,cp,Ip,su,uu,g.AsyncPipe],styles:['[_nghost-%COMP%]{width:100%;max-width:580px}  a{color:var(--colorBrandForegroundLink)}  a:hover,   a:focus{text-decoration:underline}  a:active{color:var(--colorBrandForegroundLinkPressed)}  .workspace-settings-popup-dialog-container{background-color:var(--colorNeutralBackgroundOverlay)}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog{width:560px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogContent{min-height:48px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogCloseIcon{display:none!important}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions{margin-top:21px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button]{background-color:var(--colorNeutralBackground1);border-radius:var(--borderRadiusMedium);border:1px solid var(--colorNeutralStroke1);color:var(--colorNeutralForeground1);fill:var(--colorNeutralForeground1);font-weight:var(--fontWeightSemibold);gap:6px;height:32px;padding:0 12px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button]:active{background-color:var(--colorNeutralBackground1Pressed);border-color:var(--colorNeutralStroke1Pressed)}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button]:hover{background-color:var(--colorNeutralBackground1Hover);border-color:var(--colorNeutralStroke1Hover)}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button].primary{background-color:var(--colorBrandBackground);border:none;color:var(--colorNeutralBackground1);fill:var(--colorNeutralBackground1);position:relative}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button].primary:focus:after{border-radius:var(--borderRadiusSmall);border:1px solid var(--colorNeutralStrokeOnBrand);content:"";display:block;height:calc(100% - 6px);position:absolute;width:calc(100% - 6px)}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button].primary:active{background-color:var(--colorBrandBackgroundSelected)}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button].primary:active:focus:after{border:none}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions input[type=button].primary:hover{background-color:var(--colorBrandBackgroundHover)}@media screen and (max-width: 544px){  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog{width:250px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-dialogActions{margin-top:10px}  .workspace-settings-popup-dialog-container .workspace-settings-popup-dialog .infonav-modalContainer .infonav-dialogTitle{margin-right:0}}  .error-message-container{color:var(--colorPaletteRedForeground1);font-size:12px}  .error-message-container .error-message-icon{fill:var(--colorPaletteRedForeground1);height:12px;width:12px;margin-top:4px;margin-right:5px;flex-shrink:0}  .error-message-banner-container{padding:8px 12px;box-sizing:border-box;font-size:12px;background-color:var(--colorPaletteRedTintBackground1);color:var(--colorPaletteRedForeground1)}  .error-message-banner-container .error-message-banner-icon{margin-right:8px;fill:var(--colorPaletteRedForeground1);height:16px;width:16px}  .error-message-banner-container>div{line-height:16px}  .error-message-banner-container .error-message-banner-dismiss{height:16px;width:16px;display:flex}  .error-message-banner-container .error-message-banner-dismiss tri-svg-icon{height:16px;width:16px}  .universal-settings-page [tri-button]:focus-visible{border:2px solid var(--colorNeutralStrokeFocus2);outline:none;padding:0 11px}  .universal-settings-page [tri-button]:focus-visible[appearance=primary]{padding:0 10px}  .universal-settings-page [tri-button][appearance=subtle].is-disabled :hover{background-color:var(--colorTransparentStrokeDisabled)}  .universal-settings-page [tri-button][appearance=subtle][size=small]:hover{background-color:var(--colorSubtleBackgroundHover)}  .universal-settings-page [tri-button][appearance=subtle][size=small]:active{background-color:var(--colorSubtleBackgroundPressed)}  .universal-settings-page [tri-button].is-disabled{border:none}  .universal-settings-page [tri-button].is-disabled:hover{color:var(--colorNeutralForegroundDisabled)}']}),i}();function Tu(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",18)}function Ou(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",18)}function Eu(i,r){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",22),e.\u0275\u0275element(2,"tri-svg-icon",23),e.\u0275\u0275elementStart(3,"span",24),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementStart(6,"tri-link",19),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(5,3,"Settings_DataModelEditing_InfoMessage")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,5,"LearnMore")," "))}function Du(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",0)(2,"div",1),e.\u0275\u0275element(3,"div",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"h2",3),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4),e.\u0275\u0275element(8,"div",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"h3",5),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",12),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementStart(15,"tri-link",19),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",7)(19,"input",20),e.\u0275\u0275listener("change",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onAllowWebModelingChanged())}),e.\u0275\u0275pipe(20,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"label",21),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(24,Ou,1,0,"tri-spinner",10),e.\u0275\u0275pipe(25,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(26,Eu,9,7,"ng-container",17),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,10,"DataModelSettingsHeader")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,12,"DataModelSettingsHeader")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(14,14,"AllowWebModelingDescription")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,16,"LearnMore")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(20,18,t.autoSaveInProgress.AllowWebModeling)||!t.isWorkspaceAdmin||!t.isPremiumOrSharedOnPremium)("checked",t.allowWebModeling),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(23,20,"AllowWebModelingLabel")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(25,22,t.autoSaveInProgress.AllowWebModeling)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!t.isWebModelingTenantSwitchEnabled)}}var Bu=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.featureSwitchService=n,this.changeDetection=t,this.contributorsAllowed=this.workspaceSettingsService.allowContributorUpdateApp,this.autoSaveInProgress=this.workspaceSettingsService.autoSaveInProgress,this.initializedSubscription=void 0,this.isWorkspaceAdmin=!1,this.isServiceAppsBuilderWorkspace=!1,this.allowWebModeling=this.workspaceSettingsService.allowWebModeling,this.isPremiumOrSharedOnPremium=!1,this.isWebModelingAdminSettingsEnabled=void 0,this.isWebModelingTenantSwitchEnabled=void 0,this.initializedSubscription=this.workspaceSettingsService.initialized$.subscribe(function(s){s&&(o.isWorkspaceAdmin=o.workspaceSettingsService.isWorkspaceAdmin,o.isPremiumOrSharedOnPremium=o.workspaceSettingsService.isPremium||o.workspaceSettingsService.isSharedOnPremium,o.isWebModelingAdminSettingsEnabled=o.featureSwitchService.featureSwitches.WebModelingAdminSettings,o.isWebModelingTenantSwitchEnabled=o.featureSwitchService.featureSwitches.webModelingTenantSwitchEnabled,o.changeDetection.markForCheck())}),this.workspaceSettingsService.isServiceAppsBuilderWorkspace().pipe((0,Ka.P)()).subscribe(function(s){o.isServiceAppsBuilderWorkspace=s})}return i.prototype.ngOnDestroy=function(){var r;null===(r=this.initializedSubscription)||void 0===r||r.unsubscribe()},i.prototype.onContributorsAllowedChanged=function(){this.contributorsAllowed=!this.contributorsAllowed,this.workspaceSettingsService.allowContributorUpdateApp=this.contributorsAllowed},i.prototype.onAllowWebModelingChanged=function(){this.allowWebModeling=!this.allowWebModeling,this.workspaceSettingsService.allowWebModeling=this.allowWebModeling},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(ut.V$),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-powerbi-workspace-settings-general"]],decls:45,vars:38,consts:[[1,"header-with-line-decor","tri-flex"],[1,"section-header-line-container","prefix-line"],[1,"section-header-line"],[1,"section-header-text"],[1,"section-header-line-container","postfix-line"],[1,"organization-apps-sub-header"],[1,"allow-contributor-description"],[1,"tri-flex","allow-contributor"],["type","checkbox","id","allow-contributor-checkbox","data-testid","allow-contributor-checkbox",1,"allow-contributor-checkbox",3,"disabled","checked","change"],["for","allow-contributor-checkbox",1,"allow-contributor-label"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],[1,"header-with-line-decor","tri-flex","service-apps-workspace-header"],[1,"service-apps-workspace-description"],["href","http://aka.ms/powerbiapps","target","_blank","rel","noopener noreferrer",1,"learn-more-link",3,"external"],[1,"tri-flex","service-apps-workspace"],["type","checkbox","id","is-service-apps-workspace-checkbox",1,"is-service-apps-workspace-checkbox",3,"disabled","checked"],["for","is-service-apps-workspace-checkbox",1,"service-apps-workspace-label"],[4,"ngIf"],[1,"inline-autosave-spinner","tri-flex","tri-items-center"],["href","https://go.microsoft.com/fwlink/?linkid=2227332","target","_blank","rel","noopener noreferrer",1,"learn-more-link",3,"external"],["type","checkbox","id","allow-web-modeling",1,"allow-contributor-checkbox",3,"disabled","checked","change"],["for","allow-web-modeling",1,"allow-contributor-label"],[1,"web-modeling-tenant-setting-disabled-message","tri-flex"],["name","info_20_regular",1,"banner-icon","tri-shrink-0"],[1,"banner-text"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"div",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"h2",3),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",4),e.\u0275\u0275element(7,"div",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"h3",5),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",6),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",7)(15,"input",8),e.\u0275\u0275listener("change",function(){return t.onContributorsAllowedChanged()}),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"label",9),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,Tu,1,0,"tri-spinner",10),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",11)(23,"div",1),e.\u0275\u0275element(24,"div",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"h2",3),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",4),e.\u0275\u0275element(29,"div",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"h3",5),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"div",12),e.\u0275\u0275text(34),e.\u0275\u0275pipe(35,"localize"),e.\u0275\u0275elementStart(36,"tri-link",13),e.\u0275\u0275text(37),e.\u0275\u0275pipe(38,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(39,"div",14),e.\u0275\u0275element(40,"input",15),e.\u0275\u0275elementStart(41,"label",16),e.\u0275\u0275text(42),e.\u0275\u0275pipe(43,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(44,Du,27,24,"ng-container",17)),2&n&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,16,"Trident_Workspace_Settings_Organization_Apps_Header")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,18,"Trident_Workspace_Settings_Secure_Update_Header")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,20,"AllowContributorsUpdateAppForWorkspace")),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(16,22,t.autoSaveInProgress.AllowContributorApp)||!t.isWorkspaceAdmin)("checked",t.contributorsAllowed),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(19,24,"Trident_Workspace_Settings_Allow_Contributor_Label")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(21,26,t.autoSaveInProgress.AllowContributorApp)),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(27,28,"TemplateApps")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(32,30,"TemplateApps")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(35,32,"GroupEditor_ServiceAppCreateInfo")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(38,34,"Trident_GroupEditor_TemplateApps")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!0)("checked",t.isServiceAppsBuilderWorkspace),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(43,36,"Trident_GroupEditor_ServiceAppCheckbox")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isWebModelingAdminSettingsEnabled))},dependencies:[g.NgIf,O.M,He.D,he.v,g.AsyncPipe,I.Y],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container[_ngcontent-%COMP%]{align-items:flex-start;height:20px}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container[_ngcontent-%COMP%]   .section-header-line[_ngcontent-%COMP%]{border-bottom:1px solid var(--colorNeutralStroke2);height:50%}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container.prefix-line[_ngcontent-%COMP%]{width:8px}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-line-container.postfix-line[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .header-with-line-decor[_ngcontent-%COMP%]   .section-header-text[_ngcontent-%COMP%]{margin:0 12px;font-size:12px;font-weight:400;line-height:20px;color:var(--colorNeutralForeground2)}[_nghost-%COMP%]   .organization-apps-sub-header[_ngcontent-%COMP%]{margin:10px 0 0;font-size:14px;line-height:20px}[_nghost-%COMP%]   .allow-contributor-description[_ngcontent-%COMP%]{margin-top:8px;font-size:13px;line-height:18px}[_nghost-%COMP%]   .allow-contributor[_ngcontent-%COMP%]{margin:14px 0}[_nghost-%COMP%]   .allow-contributor[_ngcontent-%COMP%]   .allow-contributor-checkbox[_ngcontent-%COMP%]{height:18px;width:18px;margin:0 8px 0 0}[_nghost-%COMP%]   .allow-contributor[_ngcontent-%COMP%]   .allow-contributor-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px}[_nghost-%COMP%]   .service-apps-workspace-description[_ngcontent-%COMP%]{margin-top:8px;font-size:13px;line-height:18px}[_nghost-%COMP%]   .service-apps-workspace[_ngcontent-%COMP%]{margin:14px 0}[_nghost-%COMP%]   .service-apps-workspace[_ngcontent-%COMP%]   .is-service-apps-workspace-checkbox[_ngcontent-%COMP%]{height:18px;width:18px;margin:0 8px 0 0}[_nghost-%COMP%]   .service-apps-workspace[_ngcontent-%COMP%]   .service-apps-workspace-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;color:var(--fluent-theme-neutral-tertia-color)}[_nghost-%COMP%]   .inline-autosave-spinner[_ngcontent-%COMP%]{margin-left:16px}[_nghost-%COMP%]   .web-modeling-tenant-setting-disabled-message[_ngcontent-%COMP%]{font-size:12px;background-color:var(--globalColorYellowTint50);padding:6px 10px;box-sizing:border-box}[_nghost-%COMP%]   .web-modeling-tenant-setting-disabled-message[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{height:16px;width:16px;margin-bottom:2px;margin-right:8px}[_nghost-%COMP%]   .web-modeling-tenant-setting-disabled-message[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{line-height:16px}"],changeDetection:0}),i}();function Gu(i,r){if(1&i&&e.\u0275\u0275element(0,"tri-message-bar",8),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275property("viewModel",n.securityModeOverriddenByHigherLevelMessageBannerModel)}}function zu(i,r){1&i&&e.\u0275\u0275element(0,"tri-spinner",9)}var Au=function(r){return{disabledContainer:r}},Ru=function(){function i(r,n){var t=this;this.workspaceSettingsService=r,this.localizationService=n,this.initialized$=this.workspaceSettingsService.initialized$,this.datasourceBindingSecurityMode=this.workspaceSettingsService.datasourceBindingSecurityMode,this.securityModeOverriddenByHigherLevel=this.workspaceSettingsService.securityModeOverriddenByHigherLevel,this.autoSaveInProgress=this.workspaceSettingsService.autoSaveInProgress,this.initializedSubscription=void 0,this.isWorkspaceAdmin=!1,this.DatasourceBindingSecurityMode=Rn,this.initializedSubscription=this.workspaceSettingsService.initialized$.subscribe(function(o){o&&(t.isWorkspaceAdmin=t.workspaceSettingsService.isWorkspaceAdmin,t.datasourceBindingSecurityMode=t.workspaceSettingsService.datasourceBindingSecurityMode,t.securityModeOverriddenByHigherLevel=t.workspaceSettingsService.securityModeOverriddenByHigherLevel)}),this.securityModeOverriddenByHigherLevelMessageBannerModel={bannerType:2,allowDismiss:!1,iconName:"info_20_regular",message:this.localizationService.get("SettingsDataset_DataConnection_SecurityModeOverriddenByTenantLevel_BannerMessage")}}return i.prototype.ngOnDestroy=function(){var r;null===(r=this.initializedSubscription)||void 0===r||r.unsubscribe()},i.prototype.onSecurityModeChanged=function(r){this.datasourceBindingSecurityMode=r.target.checked?Rn.Strict:Rn.Origin,this.workspaceSettingsService.datasourceBindingSecurityMode=this.datasourceBindingSecurityMode},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(E.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-powerbi-workspace-settings-dataconnection"]],decls:16,vars:21,consts:[[1,"data-connection-sub-header"],[1,"data-connection-sub-context"],[3,"viewModel",4,"ngIf"],[1,"tri-flex","enable-securitymode",3,"ngClass"],["type","checkbox","id","enable-securitymode-checkbox",1,"enable-securitymode-checkbox",3,"disabled","checked","change"],["for","enable-securitymode-checkbox",1,"enable-securitymode-label"],["href","https://go.microsoft.com/fwlink/?linkid=2277635","rel","noopener noreferrer","target","_blank",3,"external"],["class","inline-autosave-spinner tri-flex tri-items-center",4,"ngIf"],[3,"viewModel"],[1,"inline-autosave-spinner","tri-flex","tri-items-center"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"h3",0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",1),e.\u0275\u0275template(4,Gu,1,1,"tri-message-bar",2),e.\u0275\u0275elementStart(5,"div",3)(6,"input",4),e.\u0275\u0275listener("change",function(s){return t.onSecurityModeChanged(s)}),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"label",5),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementStart(11,"tri-link",6),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(14,zu,1,0,"tri-spinner",7),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,9,"Trident_Workspace_Settings_Data_Connection_Security_Mode_Header")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.securityModeOverriddenByHigherLevel),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(19,Au,!t.isWorkspaceAdmin||t.securityModeOverriddenByHigherLevel)),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(7,11,t.autoSaveInProgress.DatasourceBindingSecurityMode)||!t.isWorkspaceAdmin||t.securityModeOverriddenByHigherLevel)("checked",t.datasourceBindingSecurityMode===t.DatasourceBindingSecurityMode.Strict||t.securityModeOverriddenByHigherLevel),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(10,13,"Trident_Workspace_Settings_Data_Connection_Enable_Security_Mode_Label")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("external",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,15,"Generic_LearnMore")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(15,17,t.autoSaveInProgress.DatasourceBindingSecurityMode)))},dependencies:[g.NgClass,g.NgIf,He.D,nt.h,he.v,g.AsyncPipe,I.Y],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .disabledContainer[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}[_nghost-%COMP%]   .enable-securitymode[_ngcontent-%COMP%]{margin:14px 0}[_nghost-%COMP%]   .enable-securitymode[_ngcontent-%COMP%]   .enable-securitymode-checkbox[_ngcontent-%COMP%]{height:18px;width:18px;margin:0 8px 0 0}[_nghost-%COMP%]   .enable-securitymode[_ngcontent-%COMP%]   .enable-securitymode-label[_ngcontent-%COMP%]{width:90%;font-size:14px;line-height:20px}[_nghost-%COMP%]   .inline-autosave-spinner[_ngcontent-%COMP%]{margin-inline-start:16px}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .data-connection-sub-header[_ngcontent-%COMP%]{margin:10px 0 0;font-size:14px;line-height:20px}"],changeDetection:0}),i}();function Fu(i,r){1&i&&e.\u0275\u0275element(0,"tri-powerbi-workspace-settings-general")}function Wu(i,r){1&i&&e.\u0275\u0275element(0,"tri-powerbi-workspace-settings-dataconnection")}function Lu(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function Nu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Lu,1,0,"ng-container",4),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"settingsComponentPipe"),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngComponentOutlet",e.\u0275\u0275pipeBind1(2,1,e.\u0275\u0275pipeBind1(3,3,n.component)))}}function $u(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Nu,4,5,"ng-container",2),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.component)}}function Uu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,$u,2,1,"ng-container",1),e.\u0275\u0275elementContainerEnd()),2&i){var n=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",n.name)}}function Vu(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Uu,2,1,"ng-container",3),e.\u0275\u0275elementContainerEnd()),2&i){var n=r.ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n)}}var ju=function(){function i(){}return i.prototype.transform=function(r){return r()},i.\u0275fac=function(n){return new(n||i)},i.\u0275pipe=e.\u0275\u0275definePipe({name:"settingsComponentPipe",type:i,pure:!0}),i}(),Ku=function(){function i(r){this.workspaceSettingsService=r,this.tabs$=this.workspaceSettingsService.pbiTabs$,this.selectedTab=""}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-powerbi-workspace-settings"]],inputs:{selectedTab:"selectedTab"},decls:5,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngComponentOutlet"]],template:function(n,t){1&n&&(e.\u0275\u0275elementContainerStart(0,0),e.\u0275\u0275template(1,Fu,1,0,"tri-powerbi-workspace-settings-general",1),e.\u0275\u0275template(2,Wu,1,0,"tri-powerbi-workspace-settings-dataconnection",1),e.\u0275\u0275template(3,Vu,2,1,"ng-container",2),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementContainerEnd()),2&n&&(e.\u0275\u0275property("ngSwitch",t.selectedTab),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","pbi-general"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase","pbi-dataconnection"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,4,t.tabs$)))},dependencies:[g.NgComponentOutlet,g.NgForOf,g.NgIf,g.NgSwitch,g.NgSwitchCase,Bu,Ru,g.AsyncPipe,ju],styles:["[_nghost-%COMP%]{width:100%;max-width:580px;position:relative;flex-grow:1}"],changeDetection:0}),i}();function Hu(i,r){1&i&&(e.\u0275\u0275elementStart(0,"label",10),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("> ",e.\u0275\u0275pipeBind1(2,1,"WorkspaceDelegatedSettings_ScopeEnabledForAllUsers")," "))}function Xu(i,r){1&i&&(e.\u0275\u0275elementStart(0,"label",10),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("> ",e.\u0275\u0275pipeBind1(2,1,"WorkspaceDelegatedSettings_ScopeEnabledForSpecificUsers")," "))}function Yu(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section"),e.\u0275\u0275template(1,Hu,3,3,"label",9),e.\u0275\u0275template(2,Xu,3,3,"label",9),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isSettingEnabledForAllUsers()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isSettingEnabledForAllUsers())}}function Qu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section",11)(1,"button",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onEditScope())}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",void 0===(null==t.setting?null:t.setting.enableDelegationControls)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"WorkspaceDelegatedSettings_ScopeEdit")," ")}}function Zu(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.revertToOriginalConfig())}),e.\u0275\u0275element(1,"tri-svg-icon",14),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",void 0===(null==t.setting?null:t.setting.enableDelegationControls)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"ColorPicker_RevertToDefault")," ")}}function Ju(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",15),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);var o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.revertToOriginalConfig())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275property("disabled",!0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"WorkspaceDelegatedSettings_ConfigurationDefault")," "))}var qu=function(){function i(r,n,t){this.workspaceSettingsService=r,this.errorService=n,this.triLocalizationService=t,this.editSettingEmitter=new e.EventEmitter,this.isSettingEnabled=!1,this.isSettingOverridden$=new F.X(!1),this.textPlaceholderRegex=/\{[0-9]\}/}return i.prototype.ngOnInit=function(){void 0!==this.setting&&(this.isSettingEnabled=null!==this.setting.isOverridden&&this.setting.isOverridden?this.setting.isEnabled:this.setting.upperLevelSelection.isEnabled,this.isSettingOverridden$.next(void 0!==this.setting.isOverridden&&this.setting.isOverridden))},i.prototype.onEditScope=function(){this.editSettingEmitter.emit(this.setting)},i.prototype.revertToOriginalConfig=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){return(0,$.__generator)(this,function(n){switch(n.label){case 0:return void 0===this.setting?[3,2]:[4,this.workspaceSettingsService.revertDelegatedSettingToOriginalConfig(this.setting.switchName)];case 1:n.sent()?(this.setting.isOverridden=!1,this.setting.isEnabled=this.setting.upperLevelSelection.isEnabled,this.isSettingEnabled=this.setting.isEnabled,this.isSettingOverridden$.next(this.setting.isOverridden)):this.errorService.error(this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave"),this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave")),n.label=2;case 2:return[2]}})})},i.prototype.onToggle=function(){return(0,$.__awaiter)(this,void 0,void 0,function(){var r;return(0,$.__generator)(this,function(t){switch(t.label){case 0:return void 0===this.setting?[3,3]:this.isSettingEnabled?(this.onEditScope(),[3,3]):[3,1];case 1:return r=this.createUpdateContract(this.setting),[4,this.workspaceSettingsService.updateDelegatedSetting(r)];case 2:t.sent()?(this.setting.isOverridden=!0,this.setting.isEnabled=!1,this.isSettingOverridden$.next(this.setting.isOverridden)):this.errorService.error(this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave"),this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave")),t.label=3;case 3:return[2]}})})},i.prototype.createUpdateContract=function(r){return{featureSwitches:[{switchId:-1,switchName:r.switchName,isEnabled:!1,isGranular:r.isGranular,allowedSecurityGroups:[],deniedSecurityGroups:[]}],properties:[]}},i.prototype.getMultiParagraphDescription=function(r){var n="";if(void 0!==r)for(var t=0;t<r.length;t++){var o=r[t],s=o.content,l=0,v=s.match(this.textPlaceholderRegex);if(null!==v)for(;v.length>0&&null!=o.hyperLinkList[l];)s=s.replace(this.textPlaceholderRegex,'&nbsp;<a href="'+o.hyperLinkList[l].url+'" target="_blank">'+o.hyperLinkList[l].displayText+"</a>"),l++;if(l<o.hyperLinkList.length)for(var re=l;re<o.hyperLinkList.length;re++)s=s.concat('&nbsp;<a href="'+o.hyperLinkList[re].url+'" target="_blank">'+o.hyperLinkList[re].displayText+"</a>");n=0===t?s:n+"<br><br>"+s}return"<span>"+n+"</span>"},i.prototype.hasSettingScope=function(){return void 0!==this.setting&&(void 0!==this.setting.isOverridden&&this.setting.isOverridden?this.setting.isEnabled:this.setting.upperLevelSelection.isEnabled)},i.prototype.isSettingEnabledForAllUsers=function(){return!(void 0===this.setting||(void 0!==this.setting.isOverridden&&this.setting.isOverridden?this.setting.allowedSecurityGroups.length>0||this.setting.deniedSecurityGroups.length>0:this.setting.upperLevelSelection.allowedSecurityGroups.length>0||this.setting.upperLevelSelection.deniedSecurityGroups.length>0))},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(Hn.g),e.\u0275\u0275directiveInject(E.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-delegated-workspace-settings"]],inputs:{setting:"setting"},outputs:{editSettingEmitter:"editSettingEmitter"},decls:19,vars:19,consts:[[1,"settingToggle"],[1,"settingTitle",3,"for"],[3,"disabled","id","ngModel","ngModelChange"],["tri-switch-text",""],[1,"settingDescription",3,"innerHtml"],[4,"ngIf"],["class","editScope",4,"ngIf"],["class","revertSettingConf","tri-button","","appearance","subtle","size","small",3,"disabled","click",4,"ngIf"],["class","defaultSettingConf","tri-button","","appearance","subtle","size","small",3,"disabled","click",4,"ngIf"],["class","settingScope",4,"ngIf"],[1,"settingScope"],[1,"editScope"],["tri-button","","appearance","primary",3,"disabled","click"],["tri-button","","appearance","subtle","size","small",1,"revertSettingConf",3,"disabled","click"],["name","arrow_undo_20_regular"],["tri-button","","appearance","subtle","size","small",1,"defaultSettingConf",3,"disabled","click"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"section")(1,"div",0)(2,"label",1),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"tri-switch",2),e.\u0275\u0275listener("ngModelChange",function(s){return t.isSettingEnabled=s})("ngModelChange",function(){return t.onToggle()}),e.\u0275\u0275elementStart(5,"div",3),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(9,"section")(10,"div"),e.\u0275\u0275element(11,"div",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(12,Yu,3,2,"section",5),e.\u0275\u0275template(13,Qu,4,4,"section",6),e.\u0275\u0275elementStart(14,"section"),e.\u0275\u0275template(15,Zu,4,4,"button",7),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275template(17,Ju,3,4,"button",8),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("for","settingToggle_",null==t.setting?null:t.setting.switchName,""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(null==t.setting?null:t.setting.title),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("id","settingToggle_",null==t.setting?null:t.setting.switchName,""),e.\u0275\u0275property("disabled",void 0===(null==t.setting?null:t.setting.enableDelegationControls))("ngModel",t.isSettingEnabled),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.isSettingEnabled?e.\u0275\u0275pipeBind1(7,11,"ToggleSwitchOn"):e.\u0275\u0275pipeBind1(8,13,"ToggleSwitchOff")),e.\u0275\u0275advance(5),e.\u0275\u0275property("innerHtml",t.getMultiParagraphDescription(null==t.setting?null:t.setting.description),e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasSettingScope()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasSettingScope()&&(null==t.setting?null:t.setting.isGranular)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!0===e.\u0275\u0275pipeBind1(16,15,t.isSettingOverridden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1===e.\u0275\u0275pipeBind1(18,17,t.isSettingOverridden$)))},dependencies:[g.NgIf,p.JJ,p.On,O.M,qt.t,g.AsyncPipe,I.Y],styles:["[_nghost-%COMP%]{width:100%;max-width:580px;position:relative;flex-grow:1}[_nghost-%COMP%]   .settingTitle[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size);line-height:40px}[_nghost-%COMP%]   .settingDescription[_ngcontent-%COMP%]{font-family:var(--fontFamilyBase);font-size:13px;line-height:18px;margin-top:8px;margin-bottom:8px}[_nghost-%COMP%]   .settingScope[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px;font-family:var(--fontFamilyBase);font-size:13px;line-height:18px}[_nghost-%COMP%]   .editScope[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .settingToggle[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .revertSettingConf[_ngcontent-%COMP%]{margin-top:16px;padding:0}[_nghost-%COMP%]   .defaultSettingConf[_ngcontent-%COMP%]{margin-top:16px;padding:0}"],changeDetection:0}),i}();function eg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tri-radio-button",4),e.\u0275\u0275listener("change",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.onApplyToSpecificSG(s))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275property("checked",t.isGranular),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"WorkspaceDelegatedSettings_ApplyToSpecificSecurityGroups")," ")}}function tg(i,r){1&i&&e.\u0275\u0275elementContainer(0)}var os=function(r){return{$implicit:r}};function ng(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section")(1,"div",11)(2,"label",12),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",13),e.\u0275\u0275template(6,tg,1,0,"ng-container",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"label"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(),t=e.\u0275\u0275reference(26);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,7,"VisualContainer_ContextMenu_Include")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",n.userPicker||t)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(11,os,n.allowedSecurityGroupsContext)),e.\u0275\u0275advance(1),e.\u0275\u0275classMap(n.duplicatedGroupInAllowedSG?"emailList-footer-error":"emailList-footer"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,9,n.duplicatedGroupInAllowedSG?"WorkspaceDelegatedSettings_EmailList_DuplicatedSecurityGroups":"WorkspaceDelegatedSettings_EmailList_AllowedSecurityGroups")," ")}}function ig(i,r){1&i&&e.\u0275\u0275elementContainer(0)}function rg(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section")(1,"div",11)(2,"label",15),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",13),e.\u0275\u0275template(6,ig,1,0,"ng-container",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"label"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd()()()),2&i){var n=e.\u0275\u0275nextContext(),t=e.\u0275\u0275reference(26);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,7,"VisualContainer_ContextMenu_Exclude")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",n.userPicker||t)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(11,os,n.deniedSecurityGroupsContext)),e.\u0275\u0275advance(1),e.\u0275\u0275classMap(n.duplicatedGroupInDeniedSG?"emailList-footer-error":"emailList-footer"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,9,n.duplicatedGroupInDeniedSG?"WorkspaceDelegatedSettings_EmailList_DuplicatedSecurityGroups":"WorkspaceDelegatedSettings_EmailList_DeniedSecurityGroups")," ")}}var og=function(){return[]};function ag(i,r){if(1&i&&e.\u0275\u0275element(0,"input",16),2&i){var t,n=r.$implicit;e.\u0275\u0275property("placeholder",null==n?null:n.inputPlaceholder)("value",(null!==(t=null==n?null:n.identities)&&void 0!==t?t:e.\u0275\u0275pureFunction0(2,og)).join(";"))}}var sg=function(){function i(r,n,t){var o=this;this.workspaceSettingsService=r,this.errorService=n,this.triLocalizationService=t,this.closeScopeEditEmitter=new e.EventEmitter,this.isGranular=!1,this.duplicatedGroupInAllowedSG=!1,this.duplicatedGroupInDeniedSG=!1,this.allowedSecurityGroupsContext=void 0,this.deniedSecurityGroupsContext=void 0,this.onAllowedSecurityGroupsUpdated=function(s){var l;o.duplicatedGroupInAllowedSG=o.verifyDuplicatedGroups(s,null===(l=o.deniedSecurityGroupsContext)||void 0===l?void 0:l.identities)},this.onDeniedSecurityGroupsUpdated=function(s){var l;o.duplicatedGroupInDeniedSG=o.verifyDuplicatedGroups(null===(l=o.allowedSecurityGroupsContext)||void 0===l?void 0:l.identities,s)}}return i.prototype.ngOnInit=function(){var r,n,t,o,s,l,v=null!==(null===(r=this.setting)||void 0===r?void 0:r.isOverridden)&&null!==(n=this.setting)&&void 0!==n&&n.isOverridden?this.setting.allowedSecurityGroups:null===(t=this.setting)||void 0===t?void 0:t.upperLevelSelection.allowedSecurityGroups;this.allowedSecurityGroupsContext={identities:this.parseSecurityGroupsToUserMetadata(v),onIdentitiesUpdated:this.onAllowedSecurityGroupsUpdated,allowSecurityGroups:!0,allowObjectIds:!0,blockUsers:!0,allowDistributionLists:!1,inputPlaceholder:void 0!==v&&v.length>0?"":this.triLocalizationService.get("SecurityGroupsListPlaceholder")};var C=null!==(null===(o=this.setting)||void 0===o?void 0:o.isOverridden)&&null!==(s=this.setting)&&void 0!==s&&s.isOverridden?this.setting.deniedSecurityGroups:null===(l=this.setting)||void 0===l?void 0:l.upperLevelSelection.deniedSecurityGroups;this.deniedSecurityGroupsContext={identities:this.parseSecurityGroupsToUserMetadata(C),onIdentitiesUpdated:this.onDeniedSecurityGroupsUpdated,allowSecurityGroups:!0,allowObjectIds:!0,blockUsers:!0,allowDistributionLists:!1,inputPlaceholder:void 0!==C&&C.length>0?"":this.triLocalizationService.get("SecurityGroupsListPlaceholder")},this.setting&&this.setting.isGranular&&(this.isGranular=null!==this.setting.isOverridden&&this.setting.isOverridden?this.hasAllowedSecurityGroups(this.setting.allowedSecurityGroups)||this.hasDeniedSecurityGroups(this.setting.deniedSecurityGroups):this.hasAllowedSecurityGroups(this.setting.upperLevelSelection.allowedSecurityGroups)||this.hasDeniedSecurityGroups(this.setting.upperLevelSelection.deniedSecurityGroups))},i.prototype.confirmScope=function(){var r,n;return(0,$.__awaiter)(this,void 0,void 0,function(){var t;return(0,$.__generator)(this,function(s){switch(s.label){case 0:return void 0===this.setting?[3,2]:(t=this.createUpdateContract(this.setting),[4,this.workspaceSettingsService.updateDelegatedSetting(t)]);case 1:s.sent()?(this.setting.isOverridden=!0,this.setting.isEnabled=!0,this.isGranular?(this.setting.allowedSecurityGroups=this.parseSecurityGroupsToTSSecurityGroup(null===(r=this.allowedSecurityGroupsContext)||void 0===r?void 0:r.identities),this.setting.deniedSecurityGroups=this.parseSecurityGroupsToTSSecurityGroup(null===(n=this.deniedSecurityGroupsContext)||void 0===n?void 0:n.identities)):(this.setting.allowedSecurityGroups=[],this.setting.deniedSecurityGroups=[]),this.closeScopeEditEmitter.emit(!1)):this.errorService.error(this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave"),this.triLocalizationService.get("SettingsGeneral_Error_FailedToSave")),s.label=2;case 2:return[2]}})})},i.prototype.onApplyToAll=function(r){r&&(this.isGranular=!1)},i.prototype.onApplyToSpecificSG=function(r){r&&(this.isGranular=!0)},i.prototype.cancelScope=function(){void 0!==this.setting&&this.closeScopeEditEmitter.emit(!0)},i.prototype.verifyDuplicatedGroups=function(r,n){if(void 0!==r&&void 0!==n&&r.length>0&&n.length>0)for(var t=0,o=r;t<o.length;t++)for(var s=o[t],l=0,v=n;l<v.length;l++){var C=v[l];if(s.displayName===C.displayName&&s.objectId===C.objectId)return!0}return!1},i.prototype.createUpdateContract=function(r){var n,t;return this.isGranular?{featureSwitches:[{switchId:-1,switchName:r.switchName,isEnabled:!0,isGranular:r.isGranular,allowedSecurityGroups:this.parseSecurityGroupsToTSSecurityGroup(null===(n=this.allowedSecurityGroupsContext)||void 0===n?void 0:n.identities),deniedSecurityGroups:this.parseSecurityGroupsToTSSecurityGroup(null===(t=this.deniedSecurityGroupsContext)||void 0===t?void 0:t.identities)}],properties:[]}:{featureSwitches:[{switchId:-1,switchName:r.switchName,isEnabled:!0,isGranular:r.isGranular,allowedSecurityGroups:[],deniedSecurityGroups:[]}],properties:[]}},i.prototype.parseSecurityGroupsToUserMetadata=function(r){var n=[];if(void 0!==r&&r.length>0)for(var t=0,o=r;t<o.length;t++){var s=o[t];n.push({displayName:s.name,objectId:s.id,userPrincipalName:"",isSecurityGroup:!0,objectType:2})}return n},i.prototype.parseSecurityGroupsToTSSecurityGroup=function(r){var n=[];if(void 0!==r&&r.length>0)for(var t=0,o=r;t<o.length;t++){var s=o[t];s.objectId&&n.push(s.emailAddress||s.userPrincipalName?{id:s.objectId,name:s.displayName,emailAddress:s.emailAddress?s.emailAddress:s.userPrincipalName,isEmailEnabled:!0}:{id:s.objectId,name:s.displayName,isEmailEnabled:!1})}return n},i.prototype.hasAllowedSecurityGroups=function(r){return!!r&&r.length>0},i.prototype.hasDeniedSecurityGroups=function(r){return!!r&&r.length>0},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(Hn.g),e.\u0275\u0275directiveInject(E.z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-delegated-workspace-settings-scope"]],inputs:{setting:"setting",userPicker:"userPicker"},outputs:{closeScopeEditEmitter:"closeScopeEditEmitter"},decls:27,vars:23,consts:[[1,"settingTitle"],[1,"scopeDescription"],[1,"applyToScope",3,"for"],[3,"id"],["type","radio",1,"radio-button-input",3,"checked","change"],["type","radio","class","radio-button-input",3,"checked","change",4,"ngIf"],[4,"ngIf"],[1,"footer-button-container"],["tri-button","","appearance","primary",1,"footer-button",3,"disabled","click"],["tri-button","",1,"footer-button",3,"click"],["inputUserPicker",""],[1,"delegated-scope-input-container","tri-flex","tri-flex-col","tri-relative"],["id","allowed-security-group-list-label",1,"emailList"],[1,"tri-flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","denied-security-group-list-setting-label",1,"emailList"],["aria-labelledby","workspace-contact-list-setting-label",1,"tri-flex-grow","contact-list",3,"placeholder","value"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"section")(1,"label",0),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",1),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"section")(7,"label",2),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"tri-radio-group",3)(11,"tri-radio-button",4),e.\u0275\u0275listener("change",function(s){return t.onApplyToAll(s)}),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,eg,3,4,"tri-radio-button",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(15,ng,10,13,"section",6),e.\u0275\u0275template(16,rg,10,13,"section",6),e.\u0275\u0275elementStart(17,"section")(18,"div",7)(19,"button",8),e.\u0275\u0275listener("click",function(){return t.confirmScope()}),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"button",9),e.\u0275\u0275listener("click",function(){return t.cancelScope()}),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(25,ag,1,3,"ng-template",null,10,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t.setting?null:t.setting.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,13,"WorkspaceDelegatedSettings_ScopeDescription")),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate1("for","applyTo_",null==t.setting?null:t.setting.switchName,""),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,15,"ConditionalFormattingDialog_TotalMatching_Label")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("id","applyTo_",null==t.setting?null:t.setting.switchName,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("checked",!t.isGranular),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,17,"WorkspaceDelegatedSettings_ApplyToEntireWorkspace")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==t.setting?null:t.setting.isGranular),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isGranular),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isGranular),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",t.duplicatedGroupInAllowedSG||t.duplicatedGroupInDeniedSG),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(21,19,"Confirm")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(24,21,"Cancel_ButtonText")))},dependencies:[g.NgIf,g.NgTemplateOutlet,X.Y,z.Z,I.Y],styles:["[_nghost-%COMP%]{width:100%;max-width:580px;position:relative;flex-grow:1}[_nghost-%COMP%]   .delegated-scope-input-container[_ngcontent-%COMP%]{margin-top:16px}[_nghost-%COMP%]   .delegated-scope-input-container[_ngcontent-%COMP%]     .mat-form-field.emails-list{border-radius:4px;outline:none;border:1px solid var(--colorNeutralStroke1)}[_nghost-%COMP%]   .delegated-scope-input-container[_ngcontent-%COMP%]     emails-list-modern{flex-grow:1}[_nghost-%COMP%]   .delegated-scope-input-container[_ngcontent-%COMP%]     input, [_nghost-%COMP%]   .delegated-scope-input-container[_ngcontent-%COMP%]     .chip-list{padding:6px 10px}[_nghost-%COMP%]   .settingTitle[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size);line-height:18px}[_nghost-%COMP%]   .scopeDescription[_ngcontent-%COMP%]{font-family:var(--fontFamilyBase);font-size:13px;line-height:18px;margin-top:8px;margin-bottom:8px}[_nghost-%COMP%]   .applyToScope[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size);line-height:26px}[_nghost-%COMP%]   .radio-button-input[_ngcontent-%COMP%]{height:20px;width:20px;margin-top:0}[_nghost-%COMP%]   .radio-label[_ngcontent-%COMP%]{font-weight:400;margin-bottom:0;margin-inline-start:9px;-webkit-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .emailList[_ngcontent-%COMP%]{font-weight:var(--subheadline-font-weight);font-size:var(--body-font-size);line-height:26px}[_nghost-%COMP%]   .emailList-footer[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]   .emailList-footer-error[_ngcontent-%COMP%]{font-size:12px;color:var(--fluent-theme-error-dark-color)}[_nghost-%COMP%]   .footer-button-container[_ngcontent-%COMP%]{float:right;margin-top:30px}[_nghost-%COMP%]   .footer-button[_ngcontent-%COMP%]{margin-inline-end:8px}"],changeDetection:0}),i}();function cg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-delegated-workspace-settings",2),e.\u0275\u0275listener("editSettingEmitter",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(l.onEditSetting(s))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("setting",t)}}function lg(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"section"),e.\u0275\u0275template(1,cg,2,1,"ng-container",1),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.selectedGroup.settings)}}function dg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"section")(1,"tri-delegated-workspace-settings-scope",3),e.\u0275\u0275listener("closeScopeEditEmitter",function(s){e.\u0275\u0275restoreView(n);var l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.onCloseScope(s))}),e.\u0275\u0275elementEnd()()}if(2&i){var t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("userPicker",t.userPicker)("setting",t.selectedSetting)}}function pg(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"h3"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,lg,2,1,"section",0),e.\u0275\u0275template(5,dg,2,2,"section",0),e.\u0275\u0275elementEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.inEditSettingScope?e.\u0275\u0275pipeBind1(3,3,"WorkspaceDelegatedSettings_ScopeConfirm"):n.selectedGroup.title),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.inEditSettingScope),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.inEditSettingScope)}}var ug=function(){function i(r){this.workspaceSettingsService=r,this.delegatedSettingsSubscription=void 0,this.delegatedSettings$=this.workspaceSettingsService.delegatedSettings$,this.selectedGroup=void 0,this.selectedSetting=void 0,this.inEditSettingScope=!1}return i.prototype.ngOnChanges=function(){var r=this;this.delegatedSettingsSubscription=this.delegatedSettings$.subscribe(function(n){var t;null===(t=n?.groups)||void 0===t||t.forEach(function(o){o.name===r.selectedTab&&(r.selectedGroup=o,r.inEditSettingScope=!1,r.selectedSetting=void 0)})})},i.prototype.ngOnDestroy=function(){var r;null===(r=this.delegatedSettingsSubscription)||void 0===r||r.unsubscribe()},i.prototype.onEditSetting=function(r){this.selectedSetting=r,this.inEditSettingScope=!0},i.prototype.onCloseScope=function(r){r&&(this.selectedSetting=void 0),this.inEditSettingScope=!1},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-delegated-workspace-settings-group"]],inputs:{selectedTab:"selectedTab",userPicker:"userPicker"},features:[e.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"setting","editSettingEmitter"],[3,"userPicker","setting","closeScopeEditEmitter"]],template:function(n,t){1&n&&e.\u0275\u0275template(0,pg,6,5,"div",0),2&n&&e.\u0275\u0275property("ngIf",!!t.selectedGroup)},dependencies:[g.NgForOf,g.NgIf,qu,sg,I.Y],styles:["[_nghost-%COMP%]{width:100%;max-width:580px;position:relative;flex-grow:1}"],changeDetection:0}),i}();function gg(i,r){if(1&i){var n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tri-universal-workspace-settings",1),e.\u0275\u0275listener("closeSettings",function(){e.\u0275\u0275restoreView(n);var s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onCloseSettings())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&i){var t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("selectedGroup",t.selectedUniversalSettingKey)("userPicker",t.userPicker)}}function _g(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-powerbi-workspace-settings",2),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("selectedTab",n.selectedPBISettingKey)}}function mg(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"tri-delegated-workspace-settings-group",3),e.\u0275\u0275elementContainerEnd()),2&i){var n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("selectedTab",n.selectedDelegatedSettingKey)("userPicker",n.userPicker)}}var vg=function(){function i(r,n){this.workspaceSettingsService=r,this.changeDetectorRef=n,this.selectedUniversalSettingKey=void 0,this.selectedPBISettingKey=void 0,this.selectedDelegatedSettingKey=void 0,this.workspaceObjectId="",this.closeSettings=new e.EventEmitter}return i.prototype.ngOnChanges=function(r){var n,t;!(null===(n=r?.workspaceObjectId)||void 0===n)&&n.currentValue&&(null===(t=r.workspaceObjectId)||void 0===t?void 0:t.previousValue)!==r.workspaceObjectId.currentValue&&this.workspaceSettingsService.initializeWorkspace(r.workspaceObjectId.currentValue),this.changeDetectorRef.detectChanges()},i.prototype.onCloseSettings=function(){this.closeSettings.emit()},i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(Ue.X),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["tri-workspace-shell-settings-view"]],inputs:{selectedUniversalSettingKey:"selectedUniversalSettingKey",selectedPBISettingKey:"selectedPBISettingKey",selectedDelegatedSettingKey:"selectedDelegatedSettingKey",workspaceObjectId:"workspaceObjectId",userPicker:"userPicker"},outputs:{closeSettings:"closeSettings"},features:[e.\u0275\u0275NgOnChangesFeature],decls:3,vars:3,consts:[[4,"ngIf"],[3,"selectedGroup","userPicker","closeSettings"],[3,"selectedTab"],[3,"selectedTab","userPicker"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,gg,2,2,"ng-container",0),e.\u0275\u0275template(1,_g,2,1,"ng-container",0),e.\u0275\u0275template(2,mg,2,2,"ng-container",0)),2&n&&(e.\u0275\u0275property("ngIf",!!t.selectedUniversalSettingKey),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!t.selectedPBISettingKey),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!!t.selectedDelegatedSettingKey))},dependencies:[g.NgIf,Pu,Ku,ug],styles:["[_nghost-%COMP%]{display:flex;width:100%}  .scroller{width:100%;overflow-x:auto;padding-right:32px}  .manageEmbedTrident{overflow:inherit;min-width:700px!important}@media screen and (max-width: 950px){  .manageEmbedTrident{min-width:calc(100% - 20px)!important}}  .fogofscroll{position:absolute;width:48px;height:100%;top:0;right:0;pointer-events:none;padding-bottom:24px;z-index:500}  .fogofscroll .fog{height:100%;width:100%;background:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgb(255,255,255) 79%,rgb(255,255,255) 100%)}[_nghost-%COMP%]     .tab-title{margin-bottom:24px;display:flex;flex-direction:column;gap:4px}[_nghost-%COMP%]     .section-container{display:flex;flex-direction:column;gap:32px}[_nghost-%COMP%]     .section-title{margin-bottom:16px;display:flex;flex-direction:column;gap:4px}[_nghost-%COMP%]     .required-star{color:var(--globalColorRedShade10)}[_nghost-%COMP%]     .inline-autosave-spinner{margin-left:16px}[_nghost-%COMP%]     .configuration-container{padding:8px;border-radius:4px;border:1px solid var(--colorNeutralStroke2)}[_nghost-%COMP%]     .configuration-container .anchor-icon{display:flex;margin-right:8px;fill:var(--tridentColor80)}[_nghost-%COMP%]     .configuration-container .container-right-part{overflow:hidden}[_nghost-%COMP%]     .configuration-container .title{margin-bottom:3px}[_nghost-%COMP%]     .configuration-container .summary-title{display:flex;justify-content:space-between}[_nghost-%COMP%]     .configuration-container .content{margin:8px 8px 8px 0;display:flex;flex-direction:column;gap:16px}[_nghost-%COMP%]     .configuration-container .footer{padding:8px 0;margin-top:10px;gap:8px;display:flex}"],changeDetection:0}),i}()}}]);