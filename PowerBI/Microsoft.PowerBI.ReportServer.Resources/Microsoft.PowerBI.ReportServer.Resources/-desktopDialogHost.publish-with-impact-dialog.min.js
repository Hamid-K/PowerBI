"use strict";(self.webpackChunkdesktopDialogHost=self.webpackChunkdesktopDialogHost||[]).push([["publish-with-impact-dialog"],{41376:function(_,r,o){o.r(r),o.d(r,{PublishWithImpactDialogModule:function(){return T}});var l=o(32293),s=o(87242),t=o(50423),C=o(65181),m=o(96608),d=o(29748),p=o(77476),h=o(45051),g=o(53833),u=o(44511);function v(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",8),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){var i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",i.dialogSecondaryMessage," ")}}function I(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",9),t.\u0275\u0275element(1,"i",10),t.\u0275\u0275elementStart(2,"div",11),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()),2&e){var i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(i.workspaceMessage)}}function x(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",9),t.\u0275\u0275element(1,"i",12),t.\u0275\u0275elementStart(2,"div",11),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()),2&e){var i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(i.datasetsMessage)}}function S(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",9),t.\u0275\u0275element(1,"i",13),t.\u0275\u0275elementStart(2,"div",11),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()),2&e){var i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(i.reportsMessage)}}function O(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",9),t.\u0275\u0275element(1,"i",14),t.\u0275\u0275elementStart(2,"div",11),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()),2&e){var i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(i.dashboardsMessage)}}var D=function(){function e(n,i,a,c,M){var b,f,y,P;this.dialogRef=n,this.localizationService=i,this.data=a,this.telemetryService=c,this.contextActivityService=M,this.numImpactedWorkspaces=null!==(b=this.data.input.numImpactedWorkspaces)&&void 0!==b?b:0,this.numImpactedReports=null!==(f=this.data.input.numImpactedReports)&&void 0!==f?f:0,this.numImpactedDashboards=null!==(y=this.data.input.numImpactedDashboards)&&void 0!==y?y:0,this.numImpactedDatasets=null!==(P=this.data.input.numImpactedDatasets)&&void 0!==P?P:0,this.dialogTitle=this.localizationService.get("PublishWithImpactDialogTitle"),this.dialogSecondaryMessage=this.localizationService.get("PublishWithImpactDialogSecondaryMessage"),this.dialogFooterMessage=this.localizationService.get("PublishWithImpactDialogFooterMessage"),this.datasetsMessage=this.localizationService.format(this.numImpactedDatasets>1?"Datasets_Label":"Dataset_Label",this.numImpactedDatasets.toString()),this.reportsMessage=this.localizationService.format(this.numImpactedReports>1?"Reports_Label":"Report_Label",this.numImpactedReports.toString()),this.dashboardsMessage=this.localizationService.format(this.numImpactedDashboards>1?"Dashboards_Label":"Dashboard_Label",this.numImpactedDashboards.toString()),this.workspaceMessage=this.numImpactedWorkspaces>1?this.localizationService.format("PublishDialogOverwritePromptWorkspaces",this.numImpactedWorkspaces.toString()):this.localizationService.get("PublishDialogOverwritePromptWorkspace"),this.dialogViewImpact=this.localizationService.get("EimInformationProtection_DownstreamInheritance_ImpactAnalysisLink_Trident_ToastMessage"),this.dialogReplaceFooterButton=this.localizationService.get("UpnMappingPane_Replace"),this.publishImpactActivity=M.createActivity({name:"Publish Impact"})}return e.prototype.ngOnDestroy=function(){this.publishImpactActivity&&(this.publishImpactActivity.reject(new Error("Dialog closed before activity could complete")),this.publishImpactActivity=null)},e.prototype.submit=function(){this.telemetryService.logEvent(s.ke,{actionType:"ClickedSubmit",dialogName:"PublishWithImpactDialogComponent"}),this.publishImpactActivity.resolve(),this.publishImpactActivity=null,this.dialogRef.close({result:1})},e.prototype.close=function(){this.telemetryService.logEvent(s.ke,{actionType:"ClickedCancel",dialogName:"PublishWithImpactDialogComponent"}),this.publishImpactActivity.cancel(),this.publishImpactActivity=null,this.dialogRef.close({result:2})},e.prototype.onEscapeKey=function(){this.close()},e.prototype.onImpactUrlClick=function(){this.telemetryService.logEvent(s.ke,{actionType:"OpenImpactLink",dialogName:"PublishWithImpactDialogComponent"}),this.addLinkToActivity("OpenImpactLink")},e.prototype.addLinkToActivity=function(n){var i;if(this.publishImpactActivity){var a=null!==(i=this.publishImpactActivity.getProperty("linksClicked"))&&void 0!==i?i:[];a.push(n),this.publishImpactActivity.setProperty("linksClicked",a)}},e.\u0275fac=function(i){return new(i||e)(t.\u0275\u0275directiveInject(l.so),t.\u0275\u0275directiveInject(C.o),t.\u0275\u0275directiveInject(l.WI),t.\u0275\u0275directiveInject(m.y0),t.\u0275\u0275directiveInject(d.r))},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["publish-with-impact-dialog"]],hostBindings:function(i,a){1&i&&t.\u0275\u0275listener("keydown.escape",function(){return a.onEscapeKey()},!1,t.\u0275\u0275resolveDocument)},decls:16,vars:11,consts:[[3,"title","close"],[1,"dialog-message"],["class","dialog-secondary-message",4,"ngIf"],["class","impact-item",4,"ngIf"],[1,"dialog-footer-message"],[3,"okText","okAction","cancelAction"],["target","_blank",1,"pbi-external-link","impact-footer",3,"href","click"],[1,"glyphicon","pbi-glyph-arrowupright","glyph-small"],[1,"dialog-secondary-message"],[1,"impact-item"],[1,"glyphicon","pbi-glyph-collections","glyph-small"],[1,"message"],[1,"glyphicon","pbi-glyph-databaseicon","glyph-small"],[1,"glyphicon","pbi-glyph-barchart","glyph-small"],[1,"glyphicon","pbi-glyph-gauge","glyph-small"]],template:function(i,a){1&i&&(t.\u0275\u0275elementStart(0,"dialog-header",0),t.\u0275\u0275listener("close",function(){return a.close()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"dialog-body")(2,"div",1),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,v,2,1,"div",2),t.\u0275\u0275template(5,I,4,1,"div",3),t.\u0275\u0275template(6,x,4,1,"div",3),t.\u0275\u0275template(7,S,4,1,"div",3),t.\u0275\u0275template(8,O,4,1,"div",3),t.\u0275\u0275elementStart(9,"div",4),t.\u0275\u0275text(10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(11,"hr"),t.\u0275\u0275elementStart(12,"dialog-footer",5),t.\u0275\u0275listener("okAction",function(){return a.submit()})("cancelAction",function(){return a.close()}),t.\u0275\u0275elementStart(13,"a",6),t.\u0275\u0275listener("click",function(){return a.onImpactUrlClick()}),t.\u0275\u0275text(14),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(15,"i",7),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275property("title",a.dialogTitle),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(a.data.input.impactMessage),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.numImpactedWorkspaces+a.numImpactedReports+a.numImpactedDashboards>1),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.numImpactedWorkspaces>1),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.numImpactedDatasets>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.numImpactedReports>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.numImpactedDashboards>0),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.dialogFooterMessage),t.\u0275\u0275advance(2),t.\u0275\u0275property("okText",a.dialogReplaceFooterButton),t.\u0275\u0275advance(1),t.\u0275\u0275property("href",a.data.input.impactUrl,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(a.dialogViewImpact))},dependencies:[p.NgIf,h.A,g.H,u.g],styles:["[_nghost-%COMP%]{--glyphColor: #000;display:flex;flex-direction:column;font-size:14px;width:450px;overflow-x:hidden}[data-legacy-theming=false]   [_nghost-%COMP%]{--glyphColor: var(--colorCompoundBrandForeground1)}[_nghost-%COMP%]   dialog-header[_ngcontent-%COMP%]{padding:10px 10px 0;margin-top:8px;margin-left:20px;margin-right:5px}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]{padding:10px;margin-left:20px;margin-right:20px}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   .dialog-message[_ngcontent-%COMP%]{padding-bottom:8px}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   .dialog-secondary-message[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   .impact-item[_ngcontent-%COMP%]{display:flex;padding-top:8px}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   .impact-item[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{font-style:normal;color:var(--glyphColor);padding-right:8px}[_nghost-%COMP%]   dialog-body[_ngcontent-%COMP%]   .dialog-footer-message[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:20px}[_nghost-%COMP%]   hr[_ngcontent-%COMP%]{height:1px;width:100%;color:#edebe9}[_nghost-%COMP%]   dialog-footer[_ngcontent-%COMP%]{padding:0 10px 10px;margin-left:20px;margin-right:20px;margin-bottom:10px}[_nghost-%COMP%]   dialog-footer[_ngcontent-%COMP%]   .pbi-glyph-arrowupright[_ngcontent-%COMP%]:before{font-size:10px;padding-left:5px;padding-top:5px}"],changeDetection:0}),e}(),W=o(42729),k=o(96327),T=function(){function e(){}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=t.\u0275\u0275defineInjector({imports:[W.c.withManifest([{componentIdentifier:"PublishWithImpactDialogComponent",componentType:D}]),l.Is,p.CommonModule,k.F]}),e}()},87242:function(_,r,o){o.d(r,{P4:function(){return v},Rq:function(){return g},ke:function(){return h},ll:function(){return u},y2:function(){return I}});var l=o(41114),s="PBI.Publish.UI.UserAction",t="PBI.Publish.UI.PublishRequest",m="PBI.PublishDialog",d="PBI.PublishToGroupDialog",p="PBI.PublishDialogFailure",h=l.cx[s]=(0,l.b1)(s),g=l.cx[t]=(0,l.b1)(t),u=l.cx[m]=(0,l.b1)(m),v=l.cx[d]=(0,l.b1)(d),I=l.cx[p]=(0,l.b1)(p)}}]);