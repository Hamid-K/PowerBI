"use strict";(self.webpackChunkdesktopTmdlView=self.webpackChunkdesktopTmdlView||[]).push([["extension-host-user"],{1424:function(C,l,r){r.r(l),r.d(l,{ExtensionHostUserModule:function(){return A}});var g=r(77476),m=r(60756),f=r(81337),y=r(59017),u=r(11547),h=r(14172),U=r(59822),p=r(48787),s=r(73471),H=r(60397),j=r(17899),n=r(50423),P=new n.InjectionToken("UserProfileService"),T=new n.InjectionToken("UserDirectorytHttpService"),S=r(79226),E=function(){function e(t,o,I,M,V){var v=this;this.actions$=t,this.messageBroker=o,this.userProfileService=I,this.userDirectoryHttpService=M,this.userInfo=V,this.onGetUserProfileReceived$=(0,j.Av)(this.actions$,this.messageBroker,s.Vm.getUserProfile,function(a){var d=a.shouldRunTenantAdminCheck;return(0,y.aj)([v.userProfileService.acquireUserProfile(),d?v.isTenantAdmin():(0,u.of)(void 0)]).pipe((0,h.U)(function(i){var D=i[1];return s.Vm.getUserProfile.resolve((0,f.__assign)((0,f.__assign)({},i[0]),{isTenantAdmin:D}))}),(0,U.K)(function(i){return(0,u.of)(s.Vm.getUserProfile.reject({error:i}))}))}),this.onFindUsersReceived$=(0,j.Av)(this.actions$,this.messageBroker,s.Vm.findUsers,function(a){return v.userDirectoryHttpService.findUsers(a.prefix,a.objectType,10,!0,!0).pipe((0,p.q)(1),(0,h.U)(function(c){return s.Vm.findUsers.resolve(c.data)}),(0,U.K)(function(c){return(0,u.of)(s.Vm.findUsers.reject({error:(0,f.__assign)((0,f.__assign)({},c),{headers:void 0})}))}))})}return e.prototype.isTenantAdmin=function(){var t=this;return this.userInfo.userMetadataPromise.then(function(){return t.userInfo.isTenantAdmin})},e.\u0275fac=function(o){return new(o||e)(n.\u0275\u0275inject(m.eX),n.\u0275\u0275inject(H.u),n.\u0275\u0275inject(P),n.\u0275\u0275inject(T),n.\u0275\u0275inject(S.M))},e.\u0275prov=n.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),A=function(){function e(){}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=n.\u0275\u0275defineInjector({imports:[g.CommonModule,m.sQ.forFeature([E])]}),e}()}}]);